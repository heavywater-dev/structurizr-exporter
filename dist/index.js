(()=>{var __webpack_modules__={4568:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;var se=Object.getOwnPropertyDescriptor(B,F);if(!se||("get"in se?!B.__esModule:se.writable||se.configurable)){se={enumerable:true,get:function(){return B[F]}}}Object.defineProperty(b,K,se)}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.prototype.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};Object.defineProperty(B,"__esModule",{value:true});B.issue=B.issueCommand=void 0;const Qe=oe(F(857));const Re=F(6924);function issueCommand(b,B,F){const K=new Command(b,B,F);process.stdout.write(K.toString()+Qe.EOL)}B.issueCommand=issueCommand;function issue(b,B=""){issueCommand(b,{},B)}B.issue=issue;const Me="::";class Command{constructor(b,B,F){if(!b){b="missing.command"}this.command=b;this.properties=B;this.message=F}toString(){let b=Me+this.command;if(this.properties&&Object.keys(this.properties).length>0){b+=" ";let B=true;for(const F in this.properties){if(this.properties.hasOwnProperty(F)){const K=this.properties[F];if(K){if(B){B=false}else{b+=","}b+=`${F}=${escapeProperty(K)}`}}}}b+=`${Me}${escapeData(this.message)}`;return b}}function escapeData(b){return(0,Re.toCommandValue)(b).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(b){return(0,Re.toCommandValue)(b).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},6966:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;var se=Object.getOwnPropertyDescriptor(B,F);if(!se||("get"in se?!B.__esModule:se.writable||se.configurable)){se={enumerable:true,get:function(){return B[F]}}}Object.defineProperty(b,K,se)}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.prototype.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};var Qe=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.platform=B.toPlatformPath=B.toWin32Path=B.toPosixPath=B.markdownSummary=B.summary=B.getIDToken=B.getState=B.saveState=B.group=B.endGroup=B.startGroup=B.info=B.notice=B.warning=B.error=B.debug=B.isDebug=B.setFailed=B.setCommandEcho=B.setOutput=B.getBooleanInput=B.getMultilineInput=B.getInput=B.addPath=B.setSecret=B.exportVariable=B.ExitCode=void 0;const Re=F(4568);const Me=F(2751);const Le=F(6924);const We=oe(F(857));const Ge=oe(F(6928));const ze=F(8492);var $e;(function(b){b[b["Success"]=0]="Success";b[b["Failure"]=1]="Failure"})($e||(B.ExitCode=$e={}));function exportVariable(b,B){const F=(0,Le.toCommandValue)(B);process.env[b]=F;const K=process.env["GITHUB_ENV"]||"";if(K){return(0,Me.issueFileCommand)("ENV",(0,Me.prepareKeyValueMessage)(b,B))}(0,Re.issueCommand)("set-env",{name:b},F)}B.exportVariable=exportVariable;function setSecret(b){(0,Re.issueCommand)("add-mask",{},b)}B.setSecret=setSecret;function addPath(b){const B=process.env["GITHUB_PATH"]||"";if(B){(0,Me.issueFileCommand)("PATH",b)}else{(0,Re.issueCommand)("add-path",{},b)}process.env["PATH"]=`${b}${Ge.delimiter}${process.env["PATH"]}`}B.addPath=addPath;function getInput(b,B){const F=process.env[`INPUT_${b.replace(/ /g,"_").toUpperCase()}`]||"";if(B&&B.required&&!F){throw new Error(`Input required and not supplied: ${b}`)}if(B&&B.trimWhitespace===false){return F}return F.trim()}B.getInput=getInput;function getMultilineInput(b,B){const F=getInput(b,B).split("\n").filter((b=>b!==""));if(B&&B.trimWhitespace===false){return F}return F.map((b=>b.trim()))}B.getMultilineInput=getMultilineInput;function getBooleanInput(b,B){const F=["true","True","TRUE"];const K=["false","False","FALSE"];const se=getInput(b,B);if(F.includes(se))return true;if(K.includes(se))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${b}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}B.getBooleanInput=getBooleanInput;function setOutput(b,B){const F=process.env["GITHUB_OUTPUT"]||"";if(F){return(0,Me.issueFileCommand)("OUTPUT",(0,Me.prepareKeyValueMessage)(b,B))}process.stdout.write(We.EOL);(0,Re.issueCommand)("set-output",{name:b},(0,Le.toCommandValue)(B))}B.setOutput=setOutput;function setCommandEcho(b){(0,Re.issue)("echo",b?"on":"off")}B.setCommandEcho=setCommandEcho;function setFailed(b){process.exitCode=$e.Failure;error(b)}B.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}B.isDebug=isDebug;function debug(b){(0,Re.issueCommand)("debug",{},b)}B.debug=debug;function error(b,B={}){(0,Re.issueCommand)("error",(0,Le.toCommandProperties)(B),b instanceof Error?b.toString():b)}B.error=error;function warning(b,B={}){(0,Re.issueCommand)("warning",(0,Le.toCommandProperties)(B),b instanceof Error?b.toString():b)}B.warning=warning;function notice(b,B={}){(0,Re.issueCommand)("notice",(0,Le.toCommandProperties)(B),b instanceof Error?b.toString():b)}B.notice=notice;function info(b){process.stdout.write(b+We.EOL)}B.info=info;function startGroup(b){(0,Re.issue)("group",b)}B.startGroup=startGroup;function endGroup(){(0,Re.issue)("endgroup")}B.endGroup=endGroup;function group(b,B){return Qe(this,void 0,void 0,(function*(){startGroup(b);let F;try{F=yield B()}finally{endGroup()}return F}))}B.group=group;function saveState(b,B){const F=process.env["GITHUB_STATE"]||"";if(F){return(0,Me.issueFileCommand)("STATE",(0,Me.prepareKeyValueMessage)(b,B))}(0,Re.issueCommand)("save-state",{name:b},(0,Le.toCommandValue)(B))}B.saveState=saveState;function getState(b){return process.env[`STATE_${b}`]||""}B.getState=getState;function getIDToken(b){return Qe(this,void 0,void 0,(function*(){return yield ze.OidcClient.getIDToken(b)}))}B.getIDToken=getIDToken;var Ye=F(2905);Object.defineProperty(B,"summary",{enumerable:true,get:function(){return Ye.summary}});var Ke=F(2905);Object.defineProperty(B,"markdownSummary",{enumerable:true,get:function(){return Ke.markdownSummary}});var Xe=F(1746);Object.defineProperty(B,"toPosixPath",{enumerable:true,get:function(){return Xe.toPosixPath}});Object.defineProperty(B,"toWin32Path",{enumerable:true,get:function(){return Xe.toWin32Path}});Object.defineProperty(B,"toPlatformPath",{enumerable:true,get:function(){return Xe.toPlatformPath}});B.platform=oe(F(9866))},2751:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;var se=Object.getOwnPropertyDescriptor(B,F);if(!se||("get"in se?!B.__esModule:se.writable||se.configurable)){se={enumerable:true,get:function(){return B[F]}}}Object.defineProperty(b,K,se)}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.prototype.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};Object.defineProperty(B,"__esModule",{value:true});B.prepareKeyValueMessage=B.issueFileCommand=void 0;const Qe=oe(F(6982));const Re=oe(F(9896));const Me=oe(F(857));const Le=F(6924);function issueFileCommand(b,B){const F=process.env[`GITHUB_${b}`];if(!F){throw new Error(`Unable to find environment variable for file command ${b}`)}if(!Re.existsSync(F)){throw new Error(`Missing file at path: ${F}`)}Re.appendFileSync(F,`${(0,Le.toCommandValue)(B)}${Me.EOL}`,{encoding:"utf8"})}B.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(b,B){const F=`ghadelimiter_${Qe.randomUUID()}`;const K=(0,Le.toCommandValue)(B);if(b.includes(F)){throw new Error(`Unexpected input: name should not contain the delimiter "${F}"`)}if(K.includes(F)){throw new Error(`Unexpected input: value should not contain the delimiter "${F}"`)}return`${b}<<${F}${Me.EOL}${K}${Me.EOL}${F}`}B.prepareKeyValueMessage=prepareKeyValueMessage},8492:function(b,B,F){"use strict";var K=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.OidcClient=void 0;const se=F(1966);const oe=F(9418);const Qe=F(6966);class OidcClient{static createHttpClient(b=true,B=10){const F={allowRetries:b,maxRetries:B};return new se.HttpClient("actions/oidc-client",[new oe.BearerCredentialHandler(OidcClient.getRequestToken())],F)}static getRequestToken(){const b=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!b){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return b}static getIDTokenUrl(){const b=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!b){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return b}static getCall(b){var B;return K(this,void 0,void 0,(function*(){const F=OidcClient.createHttpClient();const K=yield F.getJson(b).catch((b=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${b.statusCode}\n \n        Error Message: ${b.message}`)}));const se=(B=K.result)===null||B===void 0?void 0:B.value;if(!se){throw new Error("Response json body do not have ID Token field")}return se}))}static getIDToken(b){return K(this,void 0,void 0,(function*(){try{let B=OidcClient.getIDTokenUrl();if(b){const F=encodeURIComponent(b);B=`${B}&audience=${F}`}(0,Qe.debug)(`ID token url is ${B}`);const F=yield OidcClient.getCall(B);(0,Qe.setSecret)(F);return F}catch(b){throw new Error(`Error message: ${b.message}`)}}))}}B.OidcClient=OidcClient},1746:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;var se=Object.getOwnPropertyDescriptor(B,F);if(!se||("get"in se?!B.__esModule:se.writable||se.configurable)){se={enumerable:true,get:function(){return B[F]}}}Object.defineProperty(b,K,se)}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.prototype.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};Object.defineProperty(B,"__esModule",{value:true});B.toPlatformPath=B.toWin32Path=B.toPosixPath=void 0;const Qe=oe(F(6928));function toPosixPath(b){return b.replace(/[\\]/g,"/")}B.toPosixPath=toPosixPath;function toWin32Path(b){return b.replace(/[/]/g,"\\")}B.toWin32Path=toWin32Path;function toPlatformPath(b){return b.replace(/[/\\]/g,Qe.sep)}B.toPlatformPath=toPlatformPath},9866:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;var se=Object.getOwnPropertyDescriptor(B,F);if(!se||("get"in se?!B.__esModule:se.writable||se.configurable)){se={enumerable:true,get:function(){return B[F]}}}Object.defineProperty(b,K,se)}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.prototype.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};var Qe=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};var Re=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(B,"__esModule",{value:true});B.getDetails=B.isLinux=B.isMacOS=B.isWindows=B.arch=B.platform=void 0;const Me=Re(F(857));const Le=oe(F(2851));const getWindowsInfo=()=>Qe(void 0,void 0,void 0,(function*(){const{stdout:b}=yield Le.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Version"',undefined,{silent:true});const{stdout:B}=yield Le.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Caption"',undefined,{silent:true});return{name:B.trim(),version:b.trim()}}));const getMacOsInfo=()=>Qe(void 0,void 0,void 0,(function*(){var b,B,F,K;const{stdout:se}=yield Le.getExecOutput("sw_vers",undefined,{silent:true});const oe=(B=(b=se.match(/ProductVersion:\s*(.+)/))===null||b===void 0?void 0:b[1])!==null&&B!==void 0?B:"";const Qe=(K=(F=se.match(/ProductName:\s*(.+)/))===null||F===void 0?void 0:F[1])!==null&&K!==void 0?K:"";return{name:Qe,version:oe}}));const getLinuxInfo=()=>Qe(void 0,void 0,void 0,(function*(){const{stdout:b}=yield Le.getExecOutput("lsb_release",["-i","-r","-s"],{silent:true});const[B,F]=b.trim().split("\n");return{name:B,version:F}}));B.platform=Me.default.platform();B.arch=Me.default.arch();B.isWindows=B.platform==="win32";B.isMacOS=B.platform==="darwin";B.isLinux=B.platform==="linux";function getDetails(){return Qe(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},yield B.isWindows?getWindowsInfo():B.isMacOS?getMacOsInfo():getLinuxInfo()),{platform:B.platform,arch:B.arch,isWindows:B.isWindows,isMacOS:B.isMacOS,isLinux:B.isLinux})}))}B.getDetails=getDetails},2905:function(b,B,F){"use strict";var K=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.summary=B.markdownSummary=B.SUMMARY_DOCS_URL=B.SUMMARY_ENV_VAR=void 0;const se=F(857);const oe=F(9896);const{access:Qe,appendFile:Re,writeFile:Me}=oe.promises;B.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";B.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return K(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const b=process.env[B.SUMMARY_ENV_VAR];if(!b){throw new Error(`Unable to find environment variable for $${B.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield Qe(b,oe.constants.R_OK|oe.constants.W_OK)}catch(B){throw new Error(`Unable to access summary file: '${b}'. Check if the file has correct read/write permissions.`)}this._filePath=b;return this._filePath}))}wrap(b,B,F={}){const K=Object.entries(F).map((([b,B])=>` ${b}="${B}"`)).join("");if(!B){return`<${b}${K}>`}return`<${b}${K}>${B}</${b}>`}write(b){return K(this,void 0,void 0,(function*(){const B=!!(b===null||b===void 0?void 0:b.overwrite);const F=yield this.filePath();const K=B?Me:Re;yield K(F,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return K(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(b,B=false){this._buffer+=b;return B?this.addEOL():this}addEOL(){return this.addRaw(se.EOL)}addCodeBlock(b,B){const F=Object.assign({},B&&{lang:B});const K=this.wrap("pre",this.wrap("code",b),F);return this.addRaw(K).addEOL()}addList(b,B=false){const F=B?"ol":"ul";const K=b.map((b=>this.wrap("li",b))).join("");const se=this.wrap(F,K);return this.addRaw(se).addEOL()}addTable(b){const B=b.map((b=>{const B=b.map((b=>{if(typeof b==="string"){return this.wrap("td",b)}const{header:B,data:F,colspan:K,rowspan:se}=b;const oe=B?"th":"td";const Qe=Object.assign(Object.assign({},K&&{colspan:K}),se&&{rowspan:se});return this.wrap(oe,F,Qe)})).join("");return this.wrap("tr",B)})).join("");const F=this.wrap("table",B);return this.addRaw(F).addEOL()}addDetails(b,B){const F=this.wrap("details",this.wrap("summary",b)+B);return this.addRaw(F).addEOL()}addImage(b,B,F){const{width:K,height:se}=F||{};const oe=Object.assign(Object.assign({},K&&{width:K}),se&&{height:se});const Qe=this.wrap("img",null,Object.assign({src:b,alt:B},oe));return this.addRaw(Qe).addEOL()}addHeading(b,B){const F=`h${B}`;const K=["h1","h2","h3","h4","h5","h6"].includes(F)?F:"h1";const se=this.wrap(K,b);return this.addRaw(se).addEOL()}addSeparator(){const b=this.wrap("hr",null);return this.addRaw(b).addEOL()}addBreak(){const b=this.wrap("br",null);return this.addRaw(b).addEOL()}addQuote(b,B){const F=Object.assign({},B&&{cite:B});const K=this.wrap("blockquote",b,F);return this.addRaw(K).addEOL()}addLink(b,B){const F=this.wrap("a",b,{href:B});return this.addRaw(F).addEOL()}}const Le=new Summary;B.markdownSummary=Le;B.summary=Le},6924:(b,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:true});B.toCommandProperties=B.toCommandValue=void 0;function toCommandValue(b){if(b===null||b===undefined){return""}else if(typeof b==="string"||b instanceof String){return b}return JSON.stringify(b)}B.toCommandValue=toCommandValue;function toCommandProperties(b){if(!Object.keys(b).length){return{}}return{title:b.title,file:b.file,line:b.startLine,endLine:b.endLine,col:b.startColumn,endColumn:b.endColumn}}B.toCommandProperties=toCommandProperties},2851:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;Object.defineProperty(b,K,{enumerable:true,get:function(){return B[F]}})}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};var Qe=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.getExecOutput=B.exec=void 0;const Re=F(3193);const Me=oe(F(9390));function exec(b,B,F){return Qe(this,void 0,void 0,(function*(){const K=Me.argStringToArray(b);if(K.length===0){throw new Error(`Parameter 'commandLine' cannot be null or empty.`)}const se=K[0];B=K.slice(1).concat(B||[]);const oe=new Me.ToolRunner(se,B,F);return oe.exec()}))}B.exec=exec;function getExecOutput(b,B,F){var K,se;return Qe(this,void 0,void 0,(function*(){let oe="";let Qe="";const Me=new Re.StringDecoder("utf8");const Le=new Re.StringDecoder("utf8");const We=(K=F===null||F===void 0?void 0:F.listeners)===null||K===void 0?void 0:K.stdout;const Ge=(se=F===null||F===void 0?void 0:F.listeners)===null||se===void 0?void 0:se.stderr;const stdErrListener=b=>{Qe+=Le.write(b);if(Ge){Ge(b)}};const stdOutListener=b=>{oe+=Me.write(b);if(We){We(b)}};const ze=Object.assign(Object.assign({},F===null||F===void 0?void 0:F.listeners),{stdout:stdOutListener,stderr:stdErrListener});const $e=yield exec(b,B,Object.assign(Object.assign({},F),{listeners:ze}));oe+=Me.end();Qe+=Le.end();return{exitCode:$e,stdout:oe,stderr:Qe}}))}B.getExecOutput=getExecOutput},9390:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;Object.defineProperty(b,K,{enumerable:true,get:function(){return B[F]}})}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};var Qe=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.argStringToArray=B.ToolRunner=void 0;const Re=oe(F(857));const Me=oe(F(4434));const Le=oe(F(7698));const We=oe(F(6928));const Ge=oe(F(378));const ze=oe(F(527));const $e=F(3557);const Ye=process.platform==="win32";class ToolRunner extends Me.EventEmitter{constructor(b,B,F){super();if(!b){throw new Error("Parameter 'toolPath' cannot be null or empty.")}this.toolPath=b;this.args=B||[];this.options=F||{}}_debug(b){if(this.options.listeners&&this.options.listeners.debug){this.options.listeners.debug(b)}}_getCommandString(b,B){const F=this._getSpawnFileName();const K=this._getSpawnArgs(b);let se=B?"":"[command]";if(Ye){if(this._isCmdFile()){se+=F;for(const b of K){se+=` ${b}`}}else if(b.windowsVerbatimArguments){se+=`"${F}"`;for(const b of K){se+=` ${b}`}}else{se+=this._windowsQuoteCmdArg(F);for(const b of K){se+=` ${this._windowsQuoteCmdArg(b)}`}}}else{se+=F;for(const b of K){se+=` ${b}`}}return se}_processLineBuffer(b,B,F){try{let K=B+b.toString();let se=K.indexOf(Re.EOL);while(se>-1){const b=K.substring(0,se);F(b);K=K.substring(se+Re.EOL.length);se=K.indexOf(Re.EOL)}return K}catch(b){this._debug(`error processing line. Failed with error ${b}`);return""}}_getSpawnFileName(){if(Ye){if(this._isCmdFile()){return process.env["COMSPEC"]||"cmd.exe"}}return this.toolPath}_getSpawnArgs(b){if(Ye){if(this._isCmdFile()){let B=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const F of this.args){B+=" ";B+=b.windowsVerbatimArguments?F:this._windowsQuoteCmdArg(F)}B+='"';return[B]}}return this.args}_endsWith(b,B){return b.endsWith(B)}_isCmdFile(){const b=this.toolPath.toUpperCase();return this._endsWith(b,".CMD")||this._endsWith(b,".BAT")}_windowsQuoteCmdArg(b){if(!this._isCmdFile()){return this._uvQuoteCmdArg(b)}if(!b){return'""'}const B=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let F=false;for(const K of b){if(B.some((b=>b===K))){F=true;break}}if(!F){return b}let K='"';let se=true;for(let B=b.length;B>0;B--){K+=b[B-1];if(se&&b[B-1]==="\\"){K+="\\"}else if(b[B-1]==='"'){se=true;K+='"'}else{se=false}}K+='"';return K.split("").reverse().join("")}_uvQuoteCmdArg(b){if(!b){return'""'}if(!b.includes(" ")&&!b.includes("\t")&&!b.includes('"')){return b}if(!b.includes('"')&&!b.includes("\\")){return`"${b}"`}let B='"';let F=true;for(let K=b.length;K>0;K--){B+=b[K-1];if(F&&b[K-1]==="\\"){B+="\\"}else if(b[K-1]==='"'){F=true;B+="\\"}else{F=false}}B+='"';return B.split("").reverse().join("")}_cloneExecOptions(b){b=b||{};const B={cwd:b.cwd||process.cwd(),env:b.env||process.env,silent:b.silent||false,windowsVerbatimArguments:b.windowsVerbatimArguments||false,failOnStdErr:b.failOnStdErr||false,ignoreReturnCode:b.ignoreReturnCode||false,delay:b.delay||1e4};B.outStream=b.outStream||process.stdout;B.errStream=b.errStream||process.stderr;return B}_getSpawnOptions(b,B){b=b||{};const F={};F.cwd=b.cwd;F.env=b.env;F["windowsVerbatimArguments"]=b.windowsVerbatimArguments||this._isCmdFile();if(b.windowsVerbatimArguments){F.argv0=`"${B}"`}return F}exec(){return Qe(this,void 0,void 0,(function*(){if(!ze.isRooted(this.toolPath)&&(this.toolPath.includes("/")||Ye&&this.toolPath.includes("\\"))){this.toolPath=We.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)}this.toolPath=yield Ge.which(this.toolPath,true);return new Promise(((b,B)=>Qe(this,void 0,void 0,(function*(){this._debug(`exec tool: ${this.toolPath}`);this._debug("arguments:");for(const b of this.args){this._debug(`   ${b}`)}const F=this._cloneExecOptions(this.options);if(!F.silent&&F.outStream){F.outStream.write(this._getCommandString(F)+Re.EOL)}const K=new ExecState(F,this.toolPath);K.on("debug",(b=>{this._debug(b)}));if(this.options.cwd&&!(yield ze.exists(this.options.cwd))){return B(new Error(`The cwd: ${this.options.cwd} does not exist!`))}const se=this._getSpawnFileName();const oe=Le.spawn(se,this._getSpawnArgs(F),this._getSpawnOptions(this.options,se));let Qe="";if(oe.stdout){oe.stdout.on("data",(b=>{if(this.options.listeners&&this.options.listeners.stdout){this.options.listeners.stdout(b)}if(!F.silent&&F.outStream){F.outStream.write(b)}Qe=this._processLineBuffer(b,Qe,(b=>{if(this.options.listeners&&this.options.listeners.stdline){this.options.listeners.stdline(b)}}))}))}let Me="";if(oe.stderr){oe.stderr.on("data",(b=>{K.processStderr=true;if(this.options.listeners&&this.options.listeners.stderr){this.options.listeners.stderr(b)}if(!F.silent&&F.errStream&&F.outStream){const B=F.failOnStdErr?F.errStream:F.outStream;B.write(b)}Me=this._processLineBuffer(b,Me,(b=>{if(this.options.listeners&&this.options.listeners.errline){this.options.listeners.errline(b)}}))}))}oe.on("error",(b=>{K.processError=b.message;K.processExited=true;K.processClosed=true;K.CheckComplete()}));oe.on("exit",(b=>{K.processExitCode=b;K.processExited=true;this._debug(`Exit code ${b} received from tool '${this.toolPath}'`);K.CheckComplete()}));oe.on("close",(b=>{K.processExitCode=b;K.processExited=true;K.processClosed=true;this._debug(`STDIO streams have closed for tool '${this.toolPath}'`);K.CheckComplete()}));K.on("done",((F,K)=>{if(Qe.length>0){this.emit("stdline",Qe)}if(Me.length>0){this.emit("errline",Me)}oe.removeAllListeners();if(F){B(F)}else{b(K)}}));if(this.options.input){if(!oe.stdin){throw new Error("child process missing stdin")}oe.stdin.end(this.options.input)}}))))}))}}B.ToolRunner=ToolRunner;function argStringToArray(b){const B=[];let F=false;let K=false;let se="";function append(b){if(K&&b!=='"'){se+="\\"}se+=b;K=false}for(let oe=0;oe<b.length;oe++){const Qe=b.charAt(oe);if(Qe==='"'){if(!K){F=!F}else{append(Qe)}continue}if(Qe==="\\"&&K){append(Qe);continue}if(Qe==="\\"&&F){K=true;continue}if(Qe===" "&&!F){if(se.length>0){B.push(se);se=""}continue}append(Qe)}if(se.length>0){B.push(se.trim())}return B}B.argStringToArray=argStringToArray;class ExecState extends Me.EventEmitter{constructor(b,B){super();this.processClosed=false;this.processError="";this.processExitCode=0;this.processExited=false;this.processStderr=false;this.delay=1e4;this.done=false;this.timeout=null;if(!B){throw new Error("toolPath must not be empty")}this.options=b;this.toolPath=B;if(b.delay){this.delay=b.delay}}CheckComplete(){if(this.done){return}if(this.processClosed){this._setResult()}else if(this.processExited){this.timeout=$e.setTimeout(ExecState.HandleTimeout,this.delay,this)}}_debug(b){this.emit("debug",b)}_setResult(){let b;if(this.processExited){if(this.processError){b=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`)}else if(this.processExitCode!==0&&!this.options.ignoreReturnCode){b=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)}else if(this.processStderr&&this.options.failOnStdErr){b=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)}}if(this.timeout){clearTimeout(this.timeout);this.timeout=null}this.done=true;this.emit("done",b,this.processExitCode)}static HandleTimeout(b){if(b.done){return}if(!b.processClosed&&b.processExited){const B=`The STDIO streams did not close within ${b.delay/1e3} seconds of the exit event from process '${b.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;b._debug(B)}b._setResult()}}},9418:function(b,B){"use strict";var F=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.PersonalAccessTokenCredentialHandler=B.BearerCredentialHandler=B.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(b,B){this.username=b;this.password=B}prepareRequest(b){if(!b.headers){throw Error("The request has no headers")}b.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return F(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}B.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(b){this.token=b}prepareRequest(b){if(!b.headers){throw Error("The request has no headers")}b.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return F(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}B.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(b){this.token=b}prepareRequest(b){if(!b.headers){throw Error("The request has no headers")}b.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return F(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}B.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},1966:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;var se=Object.getOwnPropertyDescriptor(B,F);if(!se||("get"in se?!B.__esModule:se.writable||se.configurable)){se={enumerable:true,get:function(){return B[F]}}}Object.defineProperty(b,K,se)}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.prototype.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};var Qe=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.HttpClient=B.isHttps=B.HttpClientResponse=B.HttpClientError=B.getProxyUrl=B.MediaTypes=B.Headers=B.HttpCodes=void 0;const Re=oe(F(8611));const Me=oe(F(5692));const Le=oe(F(6474));const We=oe(F(329));const Ge=F(6017);var ze;(function(b){b[b["OK"]=200]="OK";b[b["MultipleChoices"]=300]="MultipleChoices";b[b["MovedPermanently"]=301]="MovedPermanently";b[b["ResourceMoved"]=302]="ResourceMoved";b[b["SeeOther"]=303]="SeeOther";b[b["NotModified"]=304]="NotModified";b[b["UseProxy"]=305]="UseProxy";b[b["SwitchProxy"]=306]="SwitchProxy";b[b["TemporaryRedirect"]=307]="TemporaryRedirect";b[b["PermanentRedirect"]=308]="PermanentRedirect";b[b["BadRequest"]=400]="BadRequest";b[b["Unauthorized"]=401]="Unauthorized";b[b["PaymentRequired"]=402]="PaymentRequired";b[b["Forbidden"]=403]="Forbidden";b[b["NotFound"]=404]="NotFound";b[b["MethodNotAllowed"]=405]="MethodNotAllowed";b[b["NotAcceptable"]=406]="NotAcceptable";b[b["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";b[b["RequestTimeout"]=408]="RequestTimeout";b[b["Conflict"]=409]="Conflict";b[b["Gone"]=410]="Gone";b[b["TooManyRequests"]=429]="TooManyRequests";b[b["InternalServerError"]=500]="InternalServerError";b[b["NotImplemented"]=501]="NotImplemented";b[b["BadGateway"]=502]="BadGateway";b[b["ServiceUnavailable"]=503]="ServiceUnavailable";b[b["GatewayTimeout"]=504]="GatewayTimeout"})(ze||(B.HttpCodes=ze={}));var $e;(function(b){b["Accept"]="accept";b["ContentType"]="content-type"})($e||(B.Headers=$e={}));var Ye;(function(b){b["ApplicationJson"]="application/json"})(Ye||(B.MediaTypes=Ye={}));function getProxyUrl(b){const B=Le.getProxyUrl(new URL(b));return B?B.href:""}B.getProxyUrl=getProxyUrl;const Ke=[ze.MovedPermanently,ze.ResourceMoved,ze.SeeOther,ze.TemporaryRedirect,ze.PermanentRedirect];const Xe=[ze.BadGateway,ze.ServiceUnavailable,ze.GatewayTimeout];const et=["OPTIONS","GET","DELETE","HEAD"];const rt=10;const it=5;class HttpClientError extends Error{constructor(b,B){super(b);this.name="HttpClientError";this.statusCode=B;Object.setPrototypeOf(this,HttpClientError.prototype)}}B.HttpClientError=HttpClientError;class HttpClientResponse{constructor(b){this.message=b}readBody(){return Qe(this,void 0,void 0,(function*(){return new Promise((b=>Qe(this,void 0,void 0,(function*(){let B=Buffer.alloc(0);this.message.on("data",(b=>{B=Buffer.concat([B,b])}));this.message.on("end",(()=>{b(B.toString())}))}))))}))}readBodyBuffer(){return Qe(this,void 0,void 0,(function*(){return new Promise((b=>Qe(this,void 0,void 0,(function*(){const B=[];this.message.on("data",(b=>{B.push(b)}));this.message.on("end",(()=>{b(Buffer.concat(B))}))}))))}))}}B.HttpClientResponse=HttpClientResponse;function isHttps(b){const B=new URL(b);return B.protocol==="https:"}B.isHttps=isHttps;class HttpClient{constructor(b,B,F){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=b;this.handlers=B||[];this.requestOptions=F;if(F){if(F.ignoreSslError!=null){this._ignoreSslError=F.ignoreSslError}this._socketTimeout=F.socketTimeout;if(F.allowRedirects!=null){this._allowRedirects=F.allowRedirects}if(F.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=F.allowRedirectDowngrade}if(F.maxRedirects!=null){this._maxRedirects=Math.max(F.maxRedirects,0)}if(F.keepAlive!=null){this._keepAlive=F.keepAlive}if(F.allowRetries!=null){this._allowRetries=F.allowRetries}if(F.maxRetries!=null){this._maxRetries=F.maxRetries}}}options(b,B){return Qe(this,void 0,void 0,(function*(){return this.request("OPTIONS",b,null,B||{})}))}get(b,B){return Qe(this,void 0,void 0,(function*(){return this.request("GET",b,null,B||{})}))}del(b,B){return Qe(this,void 0,void 0,(function*(){return this.request("DELETE",b,null,B||{})}))}post(b,B,F){return Qe(this,void 0,void 0,(function*(){return this.request("POST",b,B,F||{})}))}patch(b,B,F){return Qe(this,void 0,void 0,(function*(){return this.request("PATCH",b,B,F||{})}))}put(b,B,F){return Qe(this,void 0,void 0,(function*(){return this.request("PUT",b,B,F||{})}))}head(b,B){return Qe(this,void 0,void 0,(function*(){return this.request("HEAD",b,null,B||{})}))}sendStream(b,B,F,K){return Qe(this,void 0,void 0,(function*(){return this.request(b,B,F,K)}))}getJson(b,B={}){return Qe(this,void 0,void 0,(function*(){B[$e.Accept]=this._getExistingOrDefaultHeader(B,$e.Accept,Ye.ApplicationJson);const F=yield this.get(b,B);return this._processResponse(F,this.requestOptions)}))}postJson(b,B,F={}){return Qe(this,void 0,void 0,(function*(){const K=JSON.stringify(B,null,2);F[$e.Accept]=this._getExistingOrDefaultHeader(F,$e.Accept,Ye.ApplicationJson);F[$e.ContentType]=this._getExistingOrDefaultHeader(F,$e.ContentType,Ye.ApplicationJson);const se=yield this.post(b,K,F);return this._processResponse(se,this.requestOptions)}))}putJson(b,B,F={}){return Qe(this,void 0,void 0,(function*(){const K=JSON.stringify(B,null,2);F[$e.Accept]=this._getExistingOrDefaultHeader(F,$e.Accept,Ye.ApplicationJson);F[$e.ContentType]=this._getExistingOrDefaultHeader(F,$e.ContentType,Ye.ApplicationJson);const se=yield this.put(b,K,F);return this._processResponse(se,this.requestOptions)}))}patchJson(b,B,F={}){return Qe(this,void 0,void 0,(function*(){const K=JSON.stringify(B,null,2);F[$e.Accept]=this._getExistingOrDefaultHeader(F,$e.Accept,Ye.ApplicationJson);F[$e.ContentType]=this._getExistingOrDefaultHeader(F,$e.ContentType,Ye.ApplicationJson);const se=yield this.patch(b,K,F);return this._processResponse(se,this.requestOptions)}))}request(b,B,F,K){return Qe(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const se=new URL(B);let oe=this._prepareRequest(b,se,K);const Qe=this._allowRetries&&et.includes(b)?this._maxRetries+1:1;let Re=0;let Me;do{Me=yield this.requestRaw(oe,F);if(Me&&Me.message&&Me.message.statusCode===ze.Unauthorized){let b;for(const B of this.handlers){if(B.canHandleAuthentication(Me)){b=B;break}}if(b){return b.handleAuthentication(this,oe,F)}else{return Me}}let B=this._maxRedirects;while(Me.message.statusCode&&Ke.includes(Me.message.statusCode)&&this._allowRedirects&&B>0){const Qe=Me.message.headers["location"];if(!Qe){break}const Re=new URL(Qe);if(se.protocol==="https:"&&se.protocol!==Re.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield Me.readBody();if(Re.hostname!==se.hostname){for(const b in K){if(b.toLowerCase()==="authorization"){delete K[b]}}}oe=this._prepareRequest(b,Re,K);Me=yield this.requestRaw(oe,F);B--}if(!Me.message.statusCode||!Xe.includes(Me.message.statusCode)){return Me}Re+=1;if(Re<Qe){yield Me.readBody();yield this._performExponentialBackoff(Re)}}while(Re<Qe);return Me}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(b,B){return Qe(this,void 0,void 0,(function*(){return new Promise(((F,K)=>{function callbackForResult(b,B){if(b){K(b)}else if(!B){K(new Error("Unknown error"))}else{F(B)}}this.requestRawWithCallback(b,B,callbackForResult)}))}))}requestRawWithCallback(b,B,F){if(typeof B==="string"){if(!b.options.headers){b.options.headers={}}b.options.headers["Content-Length"]=Buffer.byteLength(B,"utf8")}let K=false;function handleResult(b,B){if(!K){K=true;F(b,B)}}const se=b.httpModule.request(b.options,(b=>{const B=new HttpClientResponse(b);handleResult(undefined,B)}));let oe;se.on("socket",(b=>{oe=b}));se.setTimeout(this._socketTimeout||3*6e4,(()=>{if(oe){oe.end()}handleResult(new Error(`Request timeout: ${b.options.path}`))}));se.on("error",(function(b){handleResult(b)}));if(B&&typeof B==="string"){se.write(B,"utf8")}if(B&&typeof B!=="string"){B.on("close",(function(){se.end()}));B.pipe(se)}else{se.end()}}getAgent(b){const B=new URL(b);return this._getAgent(B)}getAgentDispatcher(b){const B=new URL(b);const F=Le.getProxyUrl(B);const K=F&&F.hostname;if(!K){return}return this._getProxyAgentDispatcher(B,F)}_prepareRequest(b,B,F){const K={};K.parsedUrl=B;const se=K.parsedUrl.protocol==="https:";K.httpModule=se?Me:Re;const oe=se?443:80;K.options={};K.options.host=K.parsedUrl.hostname;K.options.port=K.parsedUrl.port?parseInt(K.parsedUrl.port):oe;K.options.path=(K.parsedUrl.pathname||"")+(K.parsedUrl.search||"");K.options.method=b;K.options.headers=this._mergeHeaders(F);if(this.userAgent!=null){K.options.headers["user-agent"]=this.userAgent}K.options.agent=this._getAgent(K.parsedUrl);if(this.handlers){for(const b of this.handlers){b.prepareRequest(K.options)}}return K}_mergeHeaders(b){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(b||{}))}return lowercaseKeys(b||{})}_getExistingOrDefaultHeader(b,B,F){let K;if(this.requestOptions&&this.requestOptions.headers){K=lowercaseKeys(this.requestOptions.headers)[B]}return b[B]||K||F}_getAgent(b){let B;const F=Le.getProxyUrl(b);const K=F&&F.hostname;if(this._keepAlive&&K){B=this._proxyAgent}if(!K){B=this._agent}if(B){return B}const se=b.protocol==="https:";let oe=100;if(this.requestOptions){oe=this.requestOptions.maxSockets||Re.globalAgent.maxSockets}if(F&&F.hostname){const b={maxSockets:oe,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(F.username||F.password)&&{proxyAuth:`${F.username}:${F.password}`}),{host:F.hostname,port:F.port})};let K;const Qe=F.protocol==="https:";if(se){K=Qe?We.httpsOverHttps:We.httpsOverHttp}else{K=Qe?We.httpOverHttps:We.httpOverHttp}B=K(b);this._proxyAgent=B}if(!B){const b={keepAlive:this._keepAlive,maxSockets:oe};B=se?new Me.Agent(b):new Re.Agent(b);this._agent=B}if(se&&this._ignoreSslError){B.options=Object.assign(B.options||{},{rejectUnauthorized:false})}return B}_getProxyAgentDispatcher(b,B){let F;if(this._keepAlive){F=this._proxyAgentDispatcher}if(F){return F}const K=b.protocol==="https:";F=new Ge.ProxyAgent(Object.assign({uri:B.href,pipelining:!this._keepAlive?0:1},(B.username||B.password)&&{token:`Basic ${Buffer.from(`${B.username}:${B.password}`).toString("base64")}`}));this._proxyAgentDispatcher=F;if(K&&this._ignoreSslError){F.options=Object.assign(F.options.requestTls||{},{rejectUnauthorized:false})}return F}_performExponentialBackoff(b){return Qe(this,void 0,void 0,(function*(){b=Math.min(rt,b);const B=it*Math.pow(2,b);return new Promise((b=>setTimeout((()=>b()),B)))}))}_processResponse(b,B){return Qe(this,void 0,void 0,(function*(){return new Promise(((F,K)=>Qe(this,void 0,void 0,(function*(){const se=b.message.statusCode||0;const oe={statusCode:se,result:null,headers:{}};if(se===ze.NotFound){F(oe)}function dateTimeDeserializer(b,B){if(typeof B==="string"){const b=new Date(B);if(!isNaN(b.valueOf())){return b}}return B}let Qe;let Re;try{Re=yield b.readBody();if(Re&&Re.length>0){if(B&&B.deserializeDates){Qe=JSON.parse(Re,dateTimeDeserializer)}else{Qe=JSON.parse(Re)}oe.result=Qe}oe.headers=b.message.headers}catch(b){}if(se>299){let b;if(Qe&&Qe.message){b=Qe.message}else if(Re&&Re.length>0){b=Re}else{b=`Failed request: (${se})`}const B=new HttpClientError(b,se);B.result=oe.result;K(B)}else{F(oe)}}))))}))}}B.HttpClient=HttpClient;const lowercaseKeys=b=>Object.keys(b).reduce(((B,F)=>(B[F.toLowerCase()]=b[F],B)),{})},6474:(b,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:true});B.checkBypass=B.getProxyUrl=void 0;function getProxyUrl(b){const B=b.protocol==="https:";if(checkBypass(b)){return undefined}const F=(()=>{if(B){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(F){try{return new DecodedURL(F)}catch(b){if(!F.startsWith("http://")&&!F.startsWith("https://"))return new DecodedURL(`http://${F}`)}}else{return undefined}}B.getProxyUrl=getProxyUrl;function checkBypass(b){if(!b.hostname){return false}const B=b.hostname;if(isLoopbackAddress(B)){return true}const F=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!F){return false}let K;if(b.port){K=Number(b.port)}else if(b.protocol==="http:"){K=80}else if(b.protocol==="https:"){K=443}const se=[b.hostname.toUpperCase()];if(typeof K==="number"){se.push(`${se[0]}:${K}`)}for(const b of F.split(",").map((b=>b.trim().toUpperCase())).filter((b=>b))){if(b==="*"||se.some((B=>B===b||B.endsWith(`.${b}`)||b.startsWith(".")&&B.endsWith(`${b}`)))){return true}}return false}B.checkBypass=checkBypass;function isLoopbackAddress(b){const B=b.toLowerCase();return B==="localhost"||B.startsWith("127.")||B.startsWith("[::1]")||B.startsWith("[0:0:0:0:0:0:0:1]")}class DecodedURL extends URL{constructor(b,B){super(b,B);this._decodedUsername=decodeURIComponent(super.username);this._decodedPassword=decodeURIComponent(super.password)}get username(){return this._decodedUsername}get password(){return this._decodedPassword}}},527:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;Object.defineProperty(b,K,{enumerable:true,get:function(){return B[F]}})}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};var Qe=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};var Re;Object.defineProperty(B,"__esModule",{value:true});B.getCmdPath=B.tryGetExecutablePath=B.isRooted=B.isDirectory=B.exists=B.READONLY=B.UV_FS_O_EXLOCK=B.IS_WINDOWS=B.unlink=B.symlink=B.stat=B.rmdir=B.rm=B.rename=B.readlink=B.readdir=B.open=B.mkdir=B.lstat=B.copyFile=B.chmod=void 0;const Me=oe(F(9896));const Le=oe(F(6928));Re=Me.promises,B.chmod=Re.chmod,B.copyFile=Re.copyFile,B.lstat=Re.lstat,B.mkdir=Re.mkdir,B.open=Re.open,B.readdir=Re.readdir,B.readlink=Re.readlink,B.rename=Re.rename,B.rm=Re.rm,B.rmdir=Re.rmdir,B.stat=Re.stat,B.symlink=Re.symlink,B.unlink=Re.unlink;B.IS_WINDOWS=process.platform==="win32";B.UV_FS_O_EXLOCK=268435456;B.READONLY=Me.constants.O_RDONLY;function exists(b){return Qe(this,void 0,void 0,(function*(){try{yield B.stat(b)}catch(b){if(b.code==="ENOENT"){return false}throw b}return true}))}B.exists=exists;function isDirectory(b,F=false){return Qe(this,void 0,void 0,(function*(){const K=F?yield B.stat(b):yield B.lstat(b);return K.isDirectory()}))}B.isDirectory=isDirectory;function isRooted(b){b=normalizeSeparators(b);if(!b){throw new Error('isRooted() parameter "p" cannot be empty')}if(B.IS_WINDOWS){return b.startsWith("\\")||/^[A-Z]:/i.test(b)}return b.startsWith("/")}B.isRooted=isRooted;function tryGetExecutablePath(b,F){return Qe(this,void 0,void 0,(function*(){let K=undefined;try{K=yield B.stat(b)}catch(B){if(B.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${b}': ${B}`)}}if(K&&K.isFile()){if(B.IS_WINDOWS){const B=Le.extname(b).toUpperCase();if(F.some((b=>b.toUpperCase()===B))){return b}}else{if(isUnixExecutable(K)){return b}}}const se=b;for(const oe of F){b=se+oe;K=undefined;try{K=yield B.stat(b)}catch(B){if(B.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${b}': ${B}`)}}if(K&&K.isFile()){if(B.IS_WINDOWS){try{const F=Le.dirname(b);const K=Le.basename(b).toUpperCase();for(const se of yield B.readdir(F)){if(K===se.toUpperCase()){b=Le.join(F,se);break}}}catch(B){console.log(`Unexpected error attempting to determine the actual case of the file '${b}': ${B}`)}return b}else{if(isUnixExecutable(K)){return b}}}}return""}))}B.tryGetExecutablePath=tryGetExecutablePath;function normalizeSeparators(b){b=b||"";if(B.IS_WINDOWS){b=b.replace(/\//g,"\\");return b.replace(/\\\\+/g,"\\")}return b.replace(/\/\/+/g,"/")}function isUnixExecutable(b){return(b.mode&1)>0||(b.mode&8)>0&&b.gid===process.getgid()||(b.mode&64)>0&&b.uid===process.getuid()}function getCmdPath(){var b;return(b=process.env["COMSPEC"])!==null&&b!==void 0?b:`cmd.exe`}B.getCmdPath=getCmdPath},378:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;Object.defineProperty(b,K,{enumerable:true,get:function(){return B[F]}})}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F in b)if(F!=="default"&&Object.hasOwnProperty.call(b,F))K(B,b,F);se(B,b);return B};var Qe=this&&this.__awaiter||function(b,B,F,K){function adopt(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function fulfilled(b){try{step(K.next(b))}catch(b){se(b)}}function rejected(b){try{step(K["throw"](b))}catch(b){se(b)}}function step(b){b.done?F(b.value):adopt(b.value).then(fulfilled,rejected)}step((K=K.apply(b,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.findInPath=B.which=B.mkdirP=B.rmRF=B.mv=B.cp=void 0;const Re=F(2613);const Me=oe(F(6928));const Le=oe(F(527));function cp(b,B,F={}){return Qe(this,void 0,void 0,(function*(){const{force:K,recursive:se,copySourceDirectory:oe}=readCopyOptions(F);const Qe=(yield Le.exists(B))?yield Le.stat(B):null;if(Qe&&Qe.isFile()&&!K){return}const Re=Qe&&Qe.isDirectory()&&oe?Me.join(B,Me.basename(b)):B;if(!(yield Le.exists(b))){throw new Error(`no such file or directory: ${b}`)}const We=yield Le.stat(b);if(We.isDirectory()){if(!se){throw new Error(`Failed to copy. ${b} is a directory, but tried to copy without recursive flag.`)}else{yield cpDirRecursive(b,Re,0,K)}}else{if(Me.relative(b,Re)===""){throw new Error(`'${Re}' and '${b}' are the same file`)}yield copyFile(b,Re,K)}}))}B.cp=cp;function mv(b,B,F={}){return Qe(this,void 0,void 0,(function*(){if(yield Le.exists(B)){let K=true;if(yield Le.isDirectory(B)){B=Me.join(B,Me.basename(b));K=yield Le.exists(B)}if(K){if(F.force==null||F.force){yield rmRF(B)}else{throw new Error("Destination already exists")}}}yield mkdirP(Me.dirname(B));yield Le.rename(b,B)}))}B.mv=mv;function rmRF(b){return Qe(this,void 0,void 0,(function*(){if(Le.IS_WINDOWS){if(/[*"<>|]/.test(b)){throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows')}}try{yield Le.rm(b,{force:true,maxRetries:3,recursive:true,retryDelay:300})}catch(b){throw new Error(`File was unable to be removed ${b}`)}}))}B.rmRF=rmRF;function mkdirP(b){return Qe(this,void 0,void 0,(function*(){Re.ok(b,"a path argument must be provided");yield Le.mkdir(b,{recursive:true})}))}B.mkdirP=mkdirP;function which(b,B){return Qe(this,void 0,void 0,(function*(){if(!b){throw new Error("parameter 'tool' is required")}if(B){const B=yield which(b,false);if(!B){if(Le.IS_WINDOWS){throw new Error(`Unable to locate executable file: ${b}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`)}else{throw new Error(`Unable to locate executable file: ${b}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`)}}return B}const F=yield findInPath(b);if(F&&F.length>0){return F[0]}return""}))}B.which=which;function findInPath(b){return Qe(this,void 0,void 0,(function*(){if(!b){throw new Error("parameter 'tool' is required")}const B=[];if(Le.IS_WINDOWS&&process.env["PATHEXT"]){for(const b of process.env["PATHEXT"].split(Me.delimiter)){if(b){B.push(b)}}}if(Le.isRooted(b)){const F=yield Le.tryGetExecutablePath(b,B);if(F){return[F]}return[]}if(b.includes(Me.sep)){return[]}const F=[];if(process.env.PATH){for(const b of process.env.PATH.split(Me.delimiter)){if(b){F.push(b)}}}const K=[];for(const se of F){const F=yield Le.tryGetExecutablePath(Me.join(se,b),B);if(F){K.push(F)}}return K}))}B.findInPath=findInPath;function readCopyOptions(b){const B=b.force==null?true:b.force;const F=Boolean(b.recursive);const K=b.copySourceDirectory==null?true:Boolean(b.copySourceDirectory);return{force:B,recursive:F,copySourceDirectory:K}}function cpDirRecursive(b,B,F,K){return Qe(this,void 0,void 0,(function*(){if(F>=255)return;F++;yield mkdirP(B);const se=yield Le.readdir(b);for(const oe of se){const se=`${b}/${oe}`;const Qe=`${B}/${oe}`;const Re=yield Le.lstat(se);if(Re.isDirectory()){yield cpDirRecursive(se,Qe,F,K)}else{yield copyFile(se,Qe,K)}}yield Le.chmod(B,(yield Le.stat(b)).mode)}))}function copyFile(b,B,F){return Qe(this,void 0,void 0,(function*(){if((yield Le.lstat(b)).isSymbolicLink()){try{yield Le.lstat(B);yield Le.unlink(B)}catch(b){if(b.code==="EPERM"){yield Le.chmod(B,"0666");yield Le.unlink(B)}}const F=yield Le.readlink(b);yield Le.symlink(F,B,Le.IS_WINDOWS?"junction":null)}else if(!(yield Le.exists(B))||F){yield Le.copyFile(b,B)}}))}},8866:(b,B,F)=>{const K=18;const se=process.versions.node;const oe=se.split(".");const[Qe]=[+oe[0]];if(Qe<K){console.error("You are running Node.js "+se+".\n"+`Playwright requires Node.js ${K} or higher. \n`+"Please update your version of Node.js.");process.exit(1)}b.exports=F(1122)},1456:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{AndroidServerLauncherImpl:()=>AndroidServerLauncherImpl});b.exports=__toCommonJS(Re);var Me=F(8525);var Le=F(9245);var We=F(6065);var Ge=F(6327);var ze=F(9757);class AndroidServerLauncherImpl{async launchServer(b={}){const B=(0,Le.createPlaywright)({sdkLanguage:"javascript",isServer:true});const F=new ze.ProgressController;let K=await F.run((F=>B.android.devices(F,{host:b.adbHost,port:b.adbPort,omitDriverInstall:b.omitDriverInstall})));if(K.length===0)throw new Error("No devices found");if(b.deviceSerialNumber){K=K.filter((B=>B.serial===b.deviceSerialNumber));if(K.length===0)throw new Error(`No device with serial number '${b.deviceSerialNumber}' was found`)}if(K.length>1)throw new Error(`More than one device found. Please specify deviceSerialNumber`);const se=K[0];const oe=b.wsPath?b.wsPath.startsWith("/")?b.wsPath:`/${b.wsPath}`:`/${(0,We.createGuid)()}`;const Qe=new Me.PlaywrightServer({mode:"launchServer",path:oe,maxConnections:1,preLaunchedAndroidDevice:se});const Re=await Qe.listen(b.port,b.host);const $e=new Ge.ws.EventEmitter;$e.wsEndpoint=()=>Re;$e.close=()=>se.close();$e.kill=()=>se.close();se.on("close",(()=>{Qe.close();$e.emit("close")}));return $e}}0&&0},8823:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BrowserServerLauncherImpl:()=>BrowserServerLauncherImpl});b.exports=__toCommonJS(Le);var We=F(8525);var Ge=F(4794);var ze=F(9245);var $e=F(6065);var Ye=F(3113);var Ke=F(4395);var Xe=F(4419);var et=F(6327);var rt=__toESM(F(7371));var it=F(9757);class BrowserServerLauncherImpl{constructor(b){this._browserName=b}async launchServer(b={}){const B=(0,ze.createPlaywright)({sdkLanguage:"javascript",isServer:true});const F={id:"",startTime:0,endTime:0,type:"Internal",method:"",params:{},log:[],internal:true};const K={tChannelImpl:(b,B,F)=>{throw new rt.ValidationError(`${F}: channels are not expected in launchServer`)},binary:"buffer",isUnderTest:Ye.isUnderTest};let se={...b,ignoreDefaultArgs:Array.isArray(b.ignoreDefaultArgs)?b.ignoreDefaultArgs:void 0,ignoreAllDefaultArgs:!!b.ignoreDefaultArgs&&!Array.isArray(b.ignoreDefaultArgs),env:b.env?envObjectToArray(b.env):void 0,timeout:b.timeout??Xe.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT};let oe;try{const Qe=new it.ProgressController(F);oe=await Qe.run((async F=>{if(b._userDataDir!==void 0){const oe=rt.scheme["BrowserTypeLaunchPersistentContextParams"];se=oe({...se,userDataDir:b._userDataDir},"",K);const Qe=await B[this._browserName].launchPersistentContext(F,b._userDataDir,se);return Qe._browser}else{const oe=rt.scheme["BrowserTypeLaunchParams"];se=oe(se,"",K);return await B[this._browserName].launch(F,se,toProtocolLogger(b.logger))}}))}catch(b){const B=Ge.helper.formatBrowserLogs(F.log);(0,Ke.rewriteErrorMessage)(b,`${b.message} Failed to launch browser.${B}`);throw b}const Qe=b.wsPath?b.wsPath.startsWith("/")?b.wsPath:`/${b.wsPath}`:`/${(0,$e.createGuid)()}`;const Re=new We.PlaywrightServer({mode:b._sharedBrowser?"launchServerShared":"launchServer",path:Qe,maxConnections:Infinity,preLaunchedBrowser:oe});const Me=await Re.listen(b.port,b.host);const Le=new et.ws.EventEmitter;Le.process=()=>oe.options.browserProcess.process;Le.wsEndpoint=()=>Me;Le.close=()=>oe.options.browserProcess.close();Le[Symbol.asyncDispose]=Le.close;Le.kill=()=>oe.options.browserProcess.kill();Le._disconnectForTest=()=>Re.close();Le._userDataDirForTest=oe._userDataDirForTest;oe.options.browserProcess.onclose=(b,B)=>{Re.close();Le.emit("close",b,B)};return Le}}function toProtocolLogger(b){return b?(B,F)=>{if(b.isEnabled("protocol","verbose"))b.log("protocol","verbose",(B==="send"?"SEND  ":" RECV ")+JSON.stringify(F),[],{})}:void 0}function envObjectToArray(b){const B=[];for(const F in b){if(!Object.is(b[F],void 0))B.push({name:F,value:String(b[F])})}return B}0&&0},5539:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Android:()=>Android,AndroidDevice:()=>AndroidDevice,AndroidInput:()=>AndroidInput,AndroidSocket:()=>AndroidSocket,AndroidWebView:()=>AndroidWebView});b.exports=__toCommonJS(Re);var Me=F(996);var Le=F(3977);var We=F(4736);var Ge=F(7993);var ze=F(7336);var $e=F(3972);var Ye=F(8478);var Ke=F(4955);var Xe=F(4419);var et=F(9965);var rt=F(2871);class Android extends We.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K);this._timeoutSettings=new Ye.TimeoutSettings(this._platform)}setDefaultTimeout(b){this._timeoutSettings.setDefaultTimeout(b)}async devices(b={}){const{devices:B}=await this._channel.devices(b);return B.map((b=>AndroidDevice.from(b)))}async launchServer(b={}){if(!this._serverLauncher)throw new Error("Launching server is not supported");return await this._serverLauncher.launchServer(b)}async connect(b,B={}){return await this._wrapApiCall((async()=>{const F=B.timeout?(0,Xe.monotonicTime)()+B.timeout:0;const K={"x-playwright-browser":"android",...B.headers};const se={wsEndpoint:b,headers:K,slowMo:B.slowMo,timeout:B.timeout||0};const oe=await(0,rt.connectOverWebSocket)(this._connection,se);let Qe;oe.on("close",(()=>{Qe?._didClose()}));const Re=await(0,et.raceAgainstDeadline)((async()=>{const b=await oe.initializePlaywright();if(!b._initializer.preConnectedAndroidDevice){oe.close();throw new Error("Malformed endpoint. Did you use Android.launchServer method?")}Qe=AndroidDevice.from(b._initializer.preConnectedAndroidDevice);Qe._shouldCloseConnectionOnClose=true;Qe.on(ze.Events.AndroidDevice.Close,(()=>oe.close()));return Qe}),F);if(!Re.timedOut){return Re.result}else{oe.close();throw new Error(`Timeout ${B.timeout}ms exceeded`)}}))}}class AndroidDevice extends We.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._webViews=new Map;this._shouldCloseConnectionOnClose=false;this._android=b;this.input=new AndroidInput(this);this._timeoutSettings=new Ye.TimeoutSettings(this._platform,b._timeoutSettings);this._channel.on("webViewAdded",(({webView:b})=>this._onWebViewAdded(b)));this._channel.on("webViewRemoved",(({socketName:b})=>this._onWebViewRemoved(b)));this._channel.on("close",(()=>this._didClose()))}static from(b){return b._object}_onWebViewAdded(b){const B=new AndroidWebView(this,b);this._webViews.set(b.socketName,B);this.emit(ze.Events.AndroidDevice.WebView,B)}_onWebViewRemoved(b){const B=this._webViews.get(b);this._webViews.delete(b);if(B)B.emit(ze.Events.AndroidWebView.Close)}setDefaultTimeout(b){this._timeoutSettings.setDefaultTimeout(b)}serial(){return this._initializer.serial}model(){return this._initializer.model}webViews(){return[...this._webViews.values()]}async webView(b,B){const predicate=B=>{if(b.pkg)return B.pkg()===b.pkg;if(b.socketName)return B._socketName()===b.socketName;return false};const F=[...this._webViews.values()].find(predicate);if(F)return F;return await this.waitForEvent("webview",{...B,predicate:predicate})}async wait(b,B={}){await this._channel.wait({androidSelector:toSelectorChannel(b),...B,timeout:this._timeoutSettings.timeout(B)})}async fill(b,B,F={}){await this._channel.fill({androidSelector:toSelectorChannel(b),text:B,...F,timeout:this._timeoutSettings.timeout(F)})}async press(b,B,F={}){await this.tap(b,F);await this.input.press(B)}async tap(b,B={}){await this._channel.tap({androidSelector:toSelectorChannel(b),...B,timeout:this._timeoutSettings.timeout(B)})}async drag(b,B,F={}){await this._channel.drag({androidSelector:toSelectorChannel(b),dest:B,...F,timeout:this._timeoutSettings.timeout(F)})}async fling(b,B,F={}){await this._channel.fling({androidSelector:toSelectorChannel(b),direction:B,...F,timeout:this._timeoutSettings.timeout(F)})}async longTap(b,B={}){await this._channel.longTap({androidSelector:toSelectorChannel(b),...B,timeout:this._timeoutSettings.timeout(B)})}async pinchClose(b,B,F={}){await this._channel.pinchClose({androidSelector:toSelectorChannel(b),percent:B,...F,timeout:this._timeoutSettings.timeout(F)})}async pinchOpen(b,B,F={}){await this._channel.pinchOpen({androidSelector:toSelectorChannel(b),percent:B,...F,timeout:this._timeoutSettings.timeout(F)})}async scroll(b,B,F,K={}){await this._channel.scroll({androidSelector:toSelectorChannel(b),direction:B,percent:F,...K,timeout:this._timeoutSettings.timeout(K)})}async swipe(b,B,F,K={}){await this._channel.swipe({androidSelector:toSelectorChannel(b),direction:B,percent:F,...K,timeout:this._timeoutSettings.timeout(K)})}async info(b){return(await this._channel.info({androidSelector:toSelectorChannel(b)})).info}async screenshot(b={}){const{binary:B}=await this._channel.screenshot();if(b.path)await this._platform.fs().promises.writeFile(b.path,B);return B}async[Symbol.asyncDispose](){await this.close()}async close(){try{if(this._shouldCloseConnectionOnClose)this._connection.close();else await this._channel.close()}catch(b){if((0,Ge.isTargetClosedError)(b))return;throw b}}_didClose(){this.emit(ze.Events.AndroidDevice.Close,this)}async shell(b){const{result:B}=await this._channel.shell({command:b});return B}async open(b){return AndroidSocket.from((await this._channel.open({command:b})).socket)}async installApk(b,B){await this._channel.installApk({file:await loadFile(this._platform,b),args:B&&B.args})}async push(b,B,F){await this._channel.push({file:await loadFile(this._platform,b),path:B,mode:F?F.mode:void 0})}async launchBrowser(b={}){const B=await(0,Le.prepareBrowserContextParams)(this._platform,b);const F=await this._channel.launchBrowser(B);const K=Le.BrowserContext.from(F.context);const se=this._android._playwright.selectors;se._contextsForSelectors.add(K);K.once(ze.Events.BrowserContext.Close,(()=>se._contextsForSelectors.delete(K)));await K._initializeHarFromOptions(b.recordHar);return K}async waitForEvent(b,B={}){return await this._wrapApiCall((async()=>{const F=this._timeoutSettings.timeout(typeof B==="function"?{}:B);const K=typeof B==="function"?B:B.predicate;const se=$e.Waiter.createForEvent(this,b);se.rejectOnTimeout(F,`Timeout ${F}ms exceeded while waiting for event "${b}"`);if(b!==ze.Events.AndroidDevice.Close)se.rejectOnEvent(this,ze.Events.AndroidDevice.Close,(()=>new Ge.TargetClosedError));const oe=await se.waitForEvent(this,b,K);se.dispose();return oe}))}}class AndroidSocket extends We.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K);this._channel.on("data",(({data:b})=>this.emit(ze.Events.AndroidSocket.Data,b)));this._channel.on("close",(()=>this.emit(ze.Events.AndroidSocket.Close)))}async write(b){await this._channel.write({data:b})}async close(){await this._channel.close()}async[Symbol.asyncDispose](){await this.close()}}async function loadFile(b,B){if((0,Ke.isString)(B))return await b.fs().promises.readFile(B);return B}class AndroidInput{constructor(b){this._device=b}async type(b){await this._device._channel.inputType({text:b})}async press(b){await this._device._channel.inputPress({key:b})}async tap(b){await this._device._channel.inputTap({point:b})}async swipe(b,B,F){await this._device._channel.inputSwipe({segments:B,steps:F})}async drag(b,B,F){await this._device._channel.inputDrag({from:b,to:B,steps:F})}}function toSelectorChannel(b){const{checkable:B,checked:F,clazz:K,clickable:se,depth:oe,desc:Qe,enabled:Re,focusable:Me,focused:Le,hasChild:We,hasDescendant:Ge,longClickable:ze,pkg:$e,res:Ye,scrollable:Xe,selected:et,text:rt}=b;const toRegex=b=>{if(b===void 0)return void 0;if((0,Ke.isRegExp)(b))return b.source;return"^"+b.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")+"$"};return{checkable:B,checked:F,clazz:toRegex(K),pkg:toRegex($e),desc:toRegex(Qe),res:toRegex(Ye),text:toRegex(rt),clickable:se,depth:oe,enabled:Re,focusable:Me,focused:Le,hasChild:We?{androidSelector:toSelectorChannel(We.selector)}:void 0,hasDescendant:Ge?{androidSelector:toSelectorChannel(Ge.selector),maxDepth:Ge.maxDepth}:void 0,longClickable:ze,scrollable:Xe,selected:et}}class AndroidWebView extends Me.EventEmitter{constructor(b,B){super(b._platform);this._device=b;this._data=B}pid(){return this._data.pid}pkg(){return this._data.pkg}_socketName(){return this._data.socketName}async page(){if(!this._pagePromise)this._pagePromise=this._fetchPage();return await this._pagePromise}async _fetchPage(){const{context:b}=await this._device._channel.connectToWebView({socketName:this._data.socketName});return Le.BrowserContext.from(b).pages()[0]}}0&&0},3544:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Artifact:()=>Artifact});b.exports=__toCommonJS(Re);var Me=F(4736);var Le=F(5590);var We=F(4275);class Artifact extends Me.ChannelOwner{static from(b){return b._object}async pathAfterFinished(){if(this._connection.isRemote())throw new Error(`Path is not available when connecting remotely. Use saveAs() to save a local copy.`);return(await this._channel.pathAfterFinished()).value}async saveAs(b){if(!this._connection.isRemote()){await this._channel.saveAs({path:b});return}const B=await this._channel.saveAsStream();const F=Le.Stream.from(B.stream);await(0,We.mkdirIfNeeded)(this._platform,b);await new Promise(((B,K)=>{F.stream().pipe(this._platform.fs().createWriteStream(b)).on("finish",B).on("error",K)}))}async failure(){return(await this._channel.failure()).error||null}async createReadStream(){const b=await this._channel.stream();const B=Le.Stream.from(b.stream);return B.stream()}async readIntoBuffer(){const b=await this.createReadStream();return await new Promise(((B,F)=>{const K=[];b.on("data",(b=>{K.push(b)}));b.on("end",(()=>{B(Buffer.concat(K))}));b.on("error",F)}))}async cancel(){return await this._channel.cancel()}async delete(){return await this._channel.delete()}}0&&0},8356:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Browser:()=>Browser});b.exports=__toCommonJS(Re);var Me=F(3544);var Le=F(3977);var We=F(5397);var Ge=F(4736);var ze=F(7993);var $e=F(7336);var Ye=F(4275);class Browser extends Ge.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._contexts=new Set;this._isConnected=true;this._shouldCloseConnectionOnClose=false;this._options={};this._name=K.name;this._channel.on("context",(({context:b})=>this._didCreateContext(Le.BrowserContext.from(b))));this._channel.on("close",(()=>this._didClose()));this._closedPromise=new Promise((b=>this.once($e.Events.Browser.Disconnected,b)))}static from(b){return b._object}browserType(){return this._browserType}async newContext(b={}){return await this._innerNewContext(b,false)}async _newContextForReuse(b={}){return await this._innerNewContext(b,true)}async _disconnectFromReusedContext(b){const B=[...this._contexts].find((b=>b._forReuse));if(!B)return;await this._instrumentation.runBeforeCloseBrowserContext(B);for(const b of B.pages())b._onClose();B._onClose();await this._channel.disconnectFromReusedContext({reason:b})}async _innerNewContext(b={},B){b=this._browserType._playwright.selectors._withSelectorOptions({...this._browserType._playwright._defaultContextOptions,...b});const F=await(0,Le.prepareBrowserContextParams)(this._platform,b);const K=B?await this._channel.newContextForReuse(F):await this._channel.newContext(F);const se=Le.BrowserContext.from(K.context);if(B)se._forReuse=true;if(b.logger)se._logger=b.logger;await se._initializeHarFromOptions(b.recordHar);await this._instrumentation.runAfterCreateBrowserContext(se);return se}_connectToBrowserType(b,B,F){this._browserType=b;this._options=B;this._logger=F;for(const b of this._contexts)this._setupBrowserContext(b)}_didCreateContext(b){b._browser=this;this._contexts.add(b);if(this._browserType)this._setupBrowserContext(b)}_setupBrowserContext(b){b._logger=this._logger;b.tracing._tracesDir=this._options.tracesDir;this._browserType._contexts.add(b);this._browserType._playwright.selectors._contextsForSelectors.add(b);b.setDefaultTimeout(this._browserType._playwright._defaultContextTimeout);b.setDefaultNavigationTimeout(this._browserType._playwright._defaultContextNavigationTimeout)}contexts(){return[...this._contexts]}version(){return this._initializer.version}async newPage(b={}){return await this._wrapApiCall((async()=>{const B=await this.newContext(b);const F=await B.newPage();F._ownedContext=B;B._ownerPage=F;return F}),{title:"Create page"})}isConnected(){return this._isConnected}async newBrowserCDPSession(){return We.CDPSession.from((await this._channel.newBrowserCDPSession()).session)}async startTracing(b,B={}){this._path=B.path;await this._channel.startTracing({...B,page:b?b._channel:void 0})}async stopTracing(){const b=Me.Artifact.from((await this._channel.stopTracing()).artifact);const B=await b.readIntoBuffer();await b.delete();if(this._path){await(0,Ye.mkdirIfNeeded)(this._platform,this._path);await this._platform.fs().promises.writeFile(this._path,B);this._path=void 0}return B}async[Symbol.asyncDispose](){await this.close()}async close(b={}){this._closeReason=b.reason;try{if(this._shouldCloseConnectionOnClose)this._connection.close();else await this._channel.close(b);await this._closedPromise}catch(b){if((0,ze.isTargetClosedError)(b))return;throw b}}_didClose(){this._isConnected=false;this.emit($e.Events.Browser.Disconnected,this)}}0&&0},3977:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BrowserContext:()=>BrowserContext,prepareBrowserContextParams:()=>prepareBrowserContextParams,toClientCertificatesProtocol:()=>toClientCertificatesProtocol});b.exports=__toCommonJS(Le);var We=F(3544);var Ge=F(5397);var ze=F(4736);var $e=F(2426);var Ye=F(7006);var Ke=F(3389);var Xe=F(2378);var et=F(7993);var rt=F(7336);var it=F(1872);var ot=F(1273);var at=F(8638);var lt=__toESM(F(4494));var ut=F(6729);var dt=F(2794);var ht=F(3972);var pt=F(6590);var ft=F(8516);var mt=F(8478);var vt=F(4275);var yt=F(9746);var wt=F(2164);var _t=F(4955);var It=F(4395);class BrowserContext extends ze.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._pages=new Set;this._routes=[];this._webSocketRoutes=[];this._browser=null;this._bindings=new Map;this._forReuse=false;this._serviceWorkers=new Set;this._harRecorders=new Map;this._closingStatus="none";this._harRouters=[];this._options=K.options;this._timeoutSettings=new mt.TimeoutSettings(this._platform);this.tracing=dt.Tracing.from(K.tracing);this.request=it.APIRequestContext.from(K.requestContext);this.request._timeoutSettings=this._timeoutSettings;this.clock=new Ye.Clock(this);this._channel.on("bindingCall",(({binding:b})=>this._onBinding(ut.BindingCall.from(b))));this._channel.on("close",(()=>this._onClose()));this._channel.on("page",(({page:b})=>this._onPage(ut.Page.from(b))));this._channel.on("route",(({route:b})=>this._onRoute(lt.Route.from(b))));this._channel.on("webSocketRoute",(({webSocketRoute:b})=>this._onWebSocketRoute(lt.WebSocketRoute.from(b))));this._channel.on("serviceWorker",(({worker:b})=>{const B=ft.Worker.from(b);B._context=this;this._serviceWorkers.add(B);this.emit(rt.Events.BrowserContext.ServiceWorker,B)}));this._channel.on("console",(b=>{const B=ft.Worker.fromNullable(b.worker);const F=ut.Page.fromNullable(b.page);const K=new Ke.ConsoleMessage(this._platform,b,F,B);B?.emit(rt.Events.Worker.Console,K);F?.emit(rt.Events.Page.Console,K);if(B&&this._serviceWorkers.has(B)){const b=this._serviceWorkerScope(B);for(const B of this._pages){if(b&&B.url().startsWith(b))B.emit(rt.Events.Page.Console,K)}}this.emit(rt.Events.BrowserContext.Console,K)}));this._channel.on("pageError",(({error:b,page:B})=>{const F=ut.Page.from(B);const K=(0,et.parseError)(b);this.emit(rt.Events.BrowserContext.WebError,new pt.WebError(F,K));if(F)F.emit(rt.Events.Page.PageError,K)}));this._channel.on("dialog",(({dialog:b})=>{const B=Xe.Dialog.from(b);let F=this.emit(rt.Events.BrowserContext.Dialog,B);const K=B.page();if(K)F=K.emit(rt.Events.Page.Dialog,B)||F;if(!F){if(B.type()==="beforeunload")b.accept({}).catch((()=>{}));else b.dismiss().catch((()=>{}))}}));this._channel.on("request",(({request:b,page:B})=>this._onRequest(lt.Request.from(b),ut.Page.fromNullable(B))));this._channel.on("requestFailed",(({request:b,failureText:B,responseEndTiming:F,page:K})=>this._onRequestFailed(lt.Request.from(b),F,B,ut.Page.fromNullable(K))));this._channel.on("requestFinished",(b=>this._onRequestFinished(b)));this._channel.on("response",(({response:b,page:B})=>this._onResponse(lt.Response.from(b),ut.Page.fromNullable(B))));this._channel.on("recorderEvent",(({event:b,data:B,page:F,code:K})=>{if(b==="actionAdded")this._onRecorderEventSink?.actionAdded?.(ut.Page.from(F),B,K);else if(b==="actionUpdated")this._onRecorderEventSink?.actionUpdated?.(ut.Page.from(F),B,K);else if(b==="signalAdded")this._onRecorderEventSink?.signalAdded?.(ut.Page.from(F),B)}));this._closedPromise=new Promise((b=>this.once(rt.Events.BrowserContext.Close,b)));this._setEventToSubscriptionMapping(new Map([[rt.Events.BrowserContext.Console,"console"],[rt.Events.BrowserContext.Dialog,"dialog"],[rt.Events.BrowserContext.Request,"request"],[rt.Events.BrowserContext.Response,"response"],[rt.Events.BrowserContext.RequestFinished,"requestFinished"],[rt.Events.BrowserContext.RequestFailed,"requestFailed"]]))}static from(b){return b._object}static fromNullable(b){return b?BrowserContext.from(b):null}async _initializeHarFromOptions(b){if(!b)return;const B=b.path.endsWith(".zip")?"attach":"embed";await this._recordIntoHAR(b.path,null,{url:b.urlFilter,updateContent:b.content??(b.omitContent?"omit":B),updateMode:b.mode??"full"})}_onPage(b){this._pages.add(b);this.emit(rt.Events.BrowserContext.Page,b);if(b._opener&&!b._opener.isClosed())b._opener.emit(rt.Events.Page.Popup,b)}_onRequest(b,B){this.emit(rt.Events.BrowserContext.Request,b);if(B)B.emit(rt.Events.Page.Request,b)}_onResponse(b,B){this.emit(rt.Events.BrowserContext.Response,b);if(B)B.emit(rt.Events.Page.Response,b)}_onRequestFailed(b,B,F,K){b._failureText=F||null;b._setResponseEndTiming(B);this.emit(rt.Events.BrowserContext.RequestFailed,b);if(K)K.emit(rt.Events.Page.RequestFailed,b)}_onRequestFinished(b){const{responseEndTiming:B}=b;const F=lt.Request.from(b.request);const K=lt.Response.fromNullable(b.response);const se=ut.Page.fromNullable(b.page);F._setResponseEndTiming(B);this.emit(rt.Events.BrowserContext.RequestFinished,F);if(se)se.emit(rt.Events.Page.RequestFinished,F);if(K)K._finishedPromise.resolve(null)}async _onRoute(b){b._context=this;const B=b.request()._safePage();const F=this._routes.slice();for(const K of F){if(B?._closeWasCalled||this._closingStatus!=="none")return;if(!K.matches(b.request().url()))continue;const F=this._routes.indexOf(K);if(F===-1)continue;if(K.willExpire())this._routes.splice(F,1);const se=await K.handle(b);if(!this._routes.length)this._updateInterceptionPatterns({internal:true}).catch((()=>{}));if(se)return}await b._innerContinue(true).catch((()=>{}))}async _onWebSocketRoute(b){const B=this._webSocketRoutes.find((B=>B.matches(b.url())));if(B)await B.handle(b);else b.connectToServer()}async _onBinding(b){const B=this._bindings.get(b._initializer.name);if(!B)return;await b.call(B)}_serviceWorkerScope(b){try{let B=new URL(".",b.url()).href;if(!B.endsWith("/"))B+="/";return B}catch{return null}}setDefaultNavigationTimeout(b){this._timeoutSettings.setDefaultNavigationTimeout(b)}setDefaultTimeout(b){this._timeoutSettings.setDefaultTimeout(b)}browser(){return this._browser}pages(){return[...this._pages]}async newPage(){if(this._ownerPage)throw new Error("Please use browser.newContext()");return ut.Page.from((await this._channel.newPage()).page)}async cookies(b){if(!b)b=[];if(b&&typeof b==="string")b=[b];return(await this._channel.cookies({urls:b})).cookies}async addCookies(b){await this._channel.addCookies({cookies:b})}async clearCookies(b={}){await this._channel.clearCookies({name:(0,_t.isString)(b.name)?b.name:void 0,nameRegexSource:(0,_t.isRegExp)(b.name)?b.name.source:void 0,nameRegexFlags:(0,_t.isRegExp)(b.name)?b.name.flags:void 0,domain:(0,_t.isString)(b.domain)?b.domain:void 0,domainRegexSource:(0,_t.isRegExp)(b.domain)?b.domain.source:void 0,domainRegexFlags:(0,_t.isRegExp)(b.domain)?b.domain.flags:void 0,path:(0,_t.isString)(b.path)?b.path:void 0,pathRegexSource:(0,_t.isRegExp)(b.path)?b.path.source:void 0,pathRegexFlags:(0,_t.isRegExp)(b.path)?b.path.flags:void 0})}async grantPermissions(b,B){await this._channel.grantPermissions({permissions:b,...B})}async clearPermissions(){await this._channel.clearPermissions()}async setGeolocation(b){await this._channel.setGeolocation({geolocation:b||void 0})}async setExtraHTTPHeaders(b){lt.validateHeaders(b);await this._channel.setExtraHTTPHeaders({headers:(0,yt.headersObjectToArray)(b)})}async setOffline(b){await this._channel.setOffline({offline:b})}async setHTTPCredentials(b){await this._channel.setHTTPCredentials({httpCredentials:b||void 0})}async addInitScript(b,B){const F=await(0,$e.evaluationScript)(this._platform,b,B);await this._channel.addInitScript({source:F})}async exposeBinding(b,B,F={}){await this._channel.exposeBinding({name:b,needsHandle:F.handle});this._bindings.set(b,B)}async exposeFunction(b,B){await this._channel.exposeBinding({name:b});const binding=(b,...F)=>B(...F);this._bindings.set(b,binding)}async route(b,B,F={}){this._routes.unshift(new lt.RouteHandler(this._platform,this._options.baseURL,b,B,F.times));await this._updateInterceptionPatterns({title:"Route requests"})}async routeWebSocket(b,B){this._webSocketRoutes.unshift(new lt.WebSocketRouteHandler(this._options.baseURL,b,B));await this._updateWebSocketInterceptionPatterns({title:"Route WebSockets"})}async _recordIntoHAR(b,B,F={}){const{harId:K}=await this._channel.harStart({page:B?._channel,options:{zip:b.endsWith(".zip"),content:F.updateContent??"attach",urlGlob:(0,_t.isString)(F.url)?F.url:void 0,urlRegexSource:(0,_t.isRegExp)(F.url)?F.url.source:void 0,urlRegexFlags:(0,_t.isRegExp)(F.url)?F.url.flags:void 0,mode:F.updateMode??"minimal"}});this._harRecorders.set(K,{path:b,content:F.updateContent??"attach"})}async routeFromHAR(b,B={}){const F=this._connection.localUtils();if(!F)throw new Error("Route from har is not supported in thin clients");if(B.update){await this._recordIntoHAR(b,null,B);return}const K=await at.HarRouter.create(F,b,B.notFound||"abort",{urlMatch:B.url});this._harRouters.push(K);await K.addContextRoute(this)}_disposeHarRouters(){this._harRouters.forEach((b=>b.dispose()));this._harRouters=[]}async unrouteAll(b){await this._unrouteInternal(this._routes,[],b?.behavior);this._disposeHarRouters()}async unroute(b,B){const F=[];const K=[];for(const se of this._routes){if((0,wt.urlMatchesEqual)(se.url,b)&&(!B||se.handler===B))F.push(se);else K.push(se)}await this._unrouteInternal(F,K,"default")}async _unrouteInternal(b,B,F){this._routes=B;if(F&&F!=="default"){const B=b.map((b=>b.stop(F)));await Promise.all(B)}await this._updateInterceptionPatterns({title:"Unroute requests"})}async _updateInterceptionPatterns(b){const B=lt.RouteHandler.prepareInterceptionPatterns(this._routes);await this._wrapApiCall((()=>this._channel.setNetworkInterceptionPatterns({patterns:B})),b)}async _updateWebSocketInterceptionPatterns(b){const B=lt.WebSocketRouteHandler.prepareInterceptionPatterns(this._webSocketRoutes);await this._wrapApiCall((()=>this._channel.setWebSocketInterceptionPatterns({patterns:B})),b)}_effectiveCloseReason(){return this._closeReason||this._browser?._closeReason}async waitForEvent(b,B={}){return await this._wrapApiCall((async()=>{const F=this._timeoutSettings.timeout(typeof B==="function"?{}:B);const K=typeof B==="function"?B:B.predicate;const se=ht.Waiter.createForEvent(this,b);se.rejectOnTimeout(F,`Timeout ${F}ms exceeded while waiting for event "${b}"`);if(b!==rt.Events.BrowserContext.Close)se.rejectOnEvent(this,rt.Events.BrowserContext.Close,(()=>new et.TargetClosedError(this._effectiveCloseReason())));const oe=await se.waitForEvent(this,b,K);se.dispose();return oe}))}async storageState(b={}){const B=await this._channel.storageState({indexedDB:b.indexedDB});if(b.path){await(0,vt.mkdirIfNeeded)(this._platform,b.path);await this._platform.fs().promises.writeFile(b.path,JSON.stringify(B,void 0,2),"utf8")}return B}backgroundPages(){return[]}serviceWorkers(){return[...this._serviceWorkers]}async newCDPSession(b){if(!(b instanceof ut.Page)&&!(b instanceof ot.Frame))throw new Error("page: expected Page or Frame");const B=await this._channel.newCDPSession(b instanceof ut.Page?{page:b._channel}:{frame:b._channel});return Ge.CDPSession.from(B.session)}_onClose(){this._closingStatus="closed";this._browser?._contexts.delete(this);this._browser?._browserType._contexts.delete(this);this._browser?._browserType._playwright.selectors._contextsForSelectors.delete(this);this._disposeHarRouters();this.tracing._resetStackCounter();this.emit(rt.Events.BrowserContext.Close,this)}async[Symbol.asyncDispose](){await this.close()}async close(b={}){if(this._closingStatus!=="none")return;this._closeReason=b.reason;this._closingStatus="closing";await this.request.dispose(b);await this._instrumentation.runBeforeCloseBrowserContext(this);await this._wrapApiCall((async()=>{for(const[b,B]of this._harRecorders){const F=await this._channel.harExport({harId:b});const K=We.Artifact.from(F.artifact);const se=B.content==="attach"||B.path.endsWith(".zip");const oe=B.path.endsWith(".zip");if(se&&!oe){const b=this._connection.localUtils();if(!b)throw new Error("Uncompressed har is not supported in thin clients");await K.saveAs(B.path+".tmp");await b.harUnzip({zipFile:B.path+".tmp",harFile:B.path})}else{await K.saveAs(B.path)}await K.delete()}}),{internal:true});await this._channel.close(b);await this._closedPromise}async _enableRecorder(b,B){if(B)this._onRecorderEventSink=B;await this._channel.enableRecorder(b)}async _disableRecorder(){this._onRecorderEventSink=void 0;await this._channel.disableRecorder()}}async function prepareStorageState(b,B){if(typeof B!=="string")return B;try{return JSON.parse(await b.fs().promises.readFile(B,"utf8"))}catch(b){(0,It.rewriteErrorMessage)(b,`Error reading storage state from ${B}:\n`+b.message);throw b}}async function prepareBrowserContextParams(b,B){if(B.videoSize&&!B.videosPath)throw new Error(`"videoSize" option requires "videosPath" to be specified`);if(B.extraHTTPHeaders)lt.validateHeaders(B.extraHTTPHeaders);const F={...B,viewport:B.viewport===null?void 0:B.viewport,noDefaultViewport:B.viewport===null,extraHTTPHeaders:B.extraHTTPHeaders?(0,yt.headersObjectToArray)(B.extraHTTPHeaders):void 0,storageState:B.storageState?await prepareStorageState(b,B.storageState):void 0,serviceWorkers:B.serviceWorkers,colorScheme:B.colorScheme===null?"no-override":B.colorScheme,reducedMotion:B.reducedMotion===null?"no-override":B.reducedMotion,forcedColors:B.forcedColors===null?"no-override":B.forcedColors,contrast:B.contrast===null?"no-override":B.contrast,acceptDownloads:toAcceptDownloadsProtocol(B.acceptDownloads),clientCertificates:await toClientCertificatesProtocol(b,B.clientCertificates)};if(!F.recordVideo&&B.videosPath){F.recordVideo={dir:B.videosPath,size:B.videoSize}}if(F.recordVideo&&F.recordVideo.dir)F.recordVideo.dir=b.path().resolve(F.recordVideo.dir);return F}function toAcceptDownloadsProtocol(b){if(b===void 0)return void 0;if(b)return"accept";return"deny"}async function toClientCertificatesProtocol(b,B){if(!B)return void 0;const bufferizeContent=async(B,F)=>{if(B)return B;if(F)return await b.fs().promises.readFile(F)};return await Promise.all(B.map((async b=>({origin:b.origin,cert:await bufferizeContent(b.cert,b.certPath),key:await bufferizeContent(b.key,b.keyPath),pfx:await bufferizeContent(b.pfx,b.pfxPath),passphrase:b.passphrase}))))}0&&0},2876:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{BrowserType:()=>BrowserType});b.exports=__toCommonJS(Re);var Me=F(8356);var Le=F(3977);var We=F(4736);var Ge=F(2426);var ze=F(7336);var $e=F(6224);var Ye=F(9746);var Ke=F(4419);var Xe=F(9965);var et=F(2871);var rt=F(8478);class BrowserType extends We.ChannelOwner{constructor(){super(...arguments);this._contexts=new Set}static from(b){return b._object}executablePath(){if(!this._initializer.executablePath)throw new Error("Browser is not supported on current platform");return this._initializer.executablePath}name(){return this._initializer.name}async launch(b={}){(0,$e.assert)(!b.userDataDir,"userDataDir option is not supported in `browserType.launch`. Use `browserType.launchPersistentContext` instead");(0,$e.assert)(!b.port,"Cannot specify a port without launching as a server.");const B=b.logger||this._playwright._defaultLaunchOptions?.logger;b={...this._playwright._defaultLaunchOptions,...b};const F={...b,ignoreDefaultArgs:Array.isArray(b.ignoreDefaultArgs)?b.ignoreDefaultArgs:void 0,ignoreAllDefaultArgs:!!b.ignoreDefaultArgs&&!Array.isArray(b.ignoreDefaultArgs),env:b.env?(0,Ge.envObjectToArray)(b.env):void 0,timeout:new rt.TimeoutSettings(this._platform).launchTimeout(b)};return await this._wrapApiCall((async()=>{const K=Me.Browser.from((await this._channel.launch(F)).browser);K._connectToBrowserType(this,b,B);return K}))}async launchServer(b={}){if(!this._serverLauncher)throw new Error("Launching server is not supported");b={...this._playwright._defaultLaunchOptions,...b};return await this._serverLauncher.launchServer(b)}async launchPersistentContext(b,B={}){const F=B.logger||this._playwright._defaultLaunchOptions?.logger;(0,$e.assert)(!B.port,"Cannot specify a port without launching as a server.");B=this._playwright.selectors._withSelectorOptions({...this._playwright._defaultLaunchOptions,...this._playwright._defaultContextOptions,...B});const K=await(0,Le.prepareBrowserContextParams)(this._platform,B);const se={...K,ignoreDefaultArgs:Array.isArray(B.ignoreDefaultArgs)?B.ignoreDefaultArgs:void 0,ignoreAllDefaultArgs:!!B.ignoreDefaultArgs&&!Array.isArray(B.ignoreDefaultArgs),env:B.env?(0,Ge.envObjectToArray)(B.env):void 0,channel:B.channel,userDataDir:this._platform.path().isAbsolute(b)||!b?b:this._platform.path().resolve(b),timeout:new rt.TimeoutSettings(this._platform).launchTimeout(B)};const oe=await this._wrapApiCall((async()=>{const b=await this._channel.launchPersistentContext(se);const K=Me.Browser.from(b.browser);K._connectToBrowserType(this,B,F);const oe=Le.BrowserContext.from(b.context);await oe._initializeHarFromOptions(B.recordHar);return oe}));await this._instrumentation.runAfterCreateBrowserContext(oe);return oe}async connect(b,B){if(typeof b==="string")return await this._connect({...B,wsEndpoint:b});(0,$e.assert)(b.wsEndpoint,"options.wsEndpoint is required");return await this._connect(b)}async _connect(b){const B=b.logger;return await this._wrapApiCall((async()=>{const F=b.timeout?(0,Ke.monotonicTime)()+b.timeout:0;const K={"x-playwright-browser":this.name(),...b.headers};const se={wsEndpoint:b.wsEndpoint,headers:K,exposeNetwork:b.exposeNetwork??b._exposeNetwork,slowMo:b.slowMo,timeout:b.timeout||0};if(b.__testHookRedirectPortForwarding)se.socksProxyRedirectPortForTest=b.__testHookRedirectPortForwarding;const oe=await(0,et.connectOverWebSocket)(this._connection,se);let Qe;oe.on("close",(()=>{for(const b of Qe?.contexts()||[]){for(const B of b.pages())B._onClose();b._onClose()}setTimeout((()=>Qe?._didClose()),0)}));const Re=await(0,Xe.raceAgainstDeadline)((async()=>{if(b.__testHookBeforeCreateBrowser)await b.__testHookBeforeCreateBrowser();const F=await oe.initializePlaywright();if(!F._initializer.preLaunchedBrowser){oe.close();throw new Error("Malformed endpoint. Did you use BrowserType.launchServer method?")}F.selectors=this._playwright.selectors;Qe=Me.Browser.from(F._initializer.preLaunchedBrowser);Qe._connectToBrowserType(this,{},B);Qe._shouldCloseConnectionOnClose=true;Qe.on(ze.Events.Browser.Disconnected,(()=>oe.close()));return Qe}),F);if(!Re.timedOut){return Re.result}else{oe.close();throw new Error(`Timeout ${b.timeout}ms exceeded`)}}))}async connectOverCDP(b,B){if(typeof b==="string")return await this._connectOverCDP(b,B);const F="endpointURL"in b?b.endpointURL:b.wsEndpoint;(0,$e.assert)(F,"Cannot connect over CDP without wsEndpoint.");return await this.connectOverCDP(F,b)}async _connectOverCDP(b,B={}){if(this.name()!=="chromium")throw new Error("Connecting over CDP is only supported in Chromium.");const F=B.headers?(0,Ye.headersObjectToArray)(B.headers):void 0;const K=await this._channel.connectOverCDP({endpointURL:b,headers:F,slowMo:B.slowMo,timeout:new rt.TimeoutSettings(this._platform).timeout(B)});const se=Me.Browser.from(K.browser);se._connectToBrowserType(this,{},B.logger);if(K.defaultContext)await this._instrumentation.runAfterCreateBrowserContext(Le.BrowserContext.from(K.defaultContext));return se}}0&&0},5397:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{CDPSession:()=>CDPSession});b.exports=__toCommonJS(Re);var Me=F(4736);class CDPSession extends Me.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K);this._channel.on("event",(({method:b,params:B})=>{this.emit(b,B)}));this.on=super.on;this.addListener=super.addListener;this.off=super.removeListener;this.removeListener=super.removeListener;this.once=super.once}async send(b,B){const F=await this._channel.send({method:b,params:B});return F.result}async detach(){return await this._channel.detach()}}0&&0},4736:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ChannelOwner:()=>ChannelOwner});b.exports=__toCommonJS(Re);var Me=F(996);var Le=F(8789);var We=F(1603);var Ge=F(2248);var ze=F(4395);class ChannelOwner extends Me.EventEmitter{constructor(b,B,F,K){const se=b instanceof ChannelOwner?b._connection:b;super(se._platform);this._objects=new Map;this._eventToSubscriptionMapping=new Map;this._wasCollected=false;this.setMaxListeners(0);this._connection=se;this._type=B;this._guid=F;this._parent=b instanceof ChannelOwner?b:void 0;this._instrumentation=this._connection._instrumentation;this._connection._objects.set(F,this);if(this._parent){this._parent._objects.set(F,this);this._logger=this._parent._logger}this._channel=this._createChannel(new Me.EventEmitter(se._platform));this._initializer=K}_setEventToSubscriptionMapping(b){this._eventToSubscriptionMapping=b}_updateSubscription(b,B){const F=this._eventToSubscriptionMapping.get(String(b));if(F)this._channel.updateSubscription({event:F,enabled:B}).catch((()=>{}))}on(b,B){if(!this.listenerCount(b))this._updateSubscription(b,true);super.on(b,B);return this}addListener(b,B){if(!this.listenerCount(b))this._updateSubscription(b,true);super.addListener(b,B);return this}prependListener(b,B){if(!this.listenerCount(b))this._updateSubscription(b,true);super.prependListener(b,B);return this}off(b,B){super.off(b,B);if(!this.listenerCount(b))this._updateSubscription(b,false);return this}removeListener(b,B){super.removeListener(b,B);if(!this.listenerCount(b))this._updateSubscription(b,false);return this}_adopt(b){b._parent._objects.delete(b._guid);this._objects.set(b._guid,b);b._parent=this}_dispose(b){if(this._parent)this._parent._objects.delete(this._guid);this._connection._objects.delete(this._guid);this._wasCollected=b==="gc";for(const B of[...this._objects.values()])B._dispose(b);this._objects.clear()}_debugScopeState(){return{_guid:this._guid,objects:Array.from(this._objects.values()).map((b=>b._debugScopeState()))}}_validatorToWireContext(){return{tChannelImpl:tChannelImplToWire,binary:this._connection.rawBuffers()?"buffer":"toBase64",isUnderTest:()=>this._platform.isUnderTest()}}_createChannel(b){const B=new Proxy(b,{get:(b,B)=>{if(typeof B==="string"){const b=(0,Le.maybeFindValidator)(this._type,B,"Params");const{internal:F}=We.methodMetainfo.get(this._type+"."+B)||{};if(b){return async K=>await this._wrapApiCall((async F=>{const se=b(K,"",this._validatorToWireContext());if(!F.internal&&!F.reported){F.reported=true;this._instrumentation.onApiCallBegin(F,{type:this._type,method:B,params:K});logApiCall(this._platform,this._logger,`=> ${F.apiName} started`);return await this._connection.sendMessageToServer(this,B,se,F)}return await this._connection.sendMessageToServer(this,B,se,{internal:true})}),{internal:F})}}return b[B]}});B._object=this;return B}async _wrapApiCall(b,B){const F=this._logger;const K=this._platform.zones.current().data();if(K)return await b(K);const se=(0,Ge.captureLibraryStackTrace)(this._platform);const oe={title:B?.title,apiName:se.apiName,frames:se.frames,internal:B?.internal??false,reported:false,userData:void 0,stepId:void 0};try{const K=await this._platform.zones.current().push(oe).run((async()=>await b(oe)));if(!B?.internal){logApiCall(this._platform,F,`<= ${oe.apiName} succeeded`);this._instrumentation.onApiCallEnd(oe)}return K}catch(b){const K=(this._platform.showInternalStackFrames()||this._platform.isUnderTest())&&b.stack?"\n<inner error>\n"+b.stack:"";if(oe.apiName&&!oe.apiName.includes("<anonymous>"))b.message=oe.apiName+": "+b.message;const Qe="\n"+(0,ze.stringifyStackFrames)(se.frames).join("\n")+K;if(Qe.trim())b.stack=b.message+Qe;else b.stack="";if(!B?.internal){oe.error=b;logApiCall(this._platform,F,`<= ${oe.apiName} failed`);this._instrumentation.onApiCallEnd(oe)}throw b}}toJSON(){return{_type:this._type,_guid:this._guid}}}function logApiCall(b,B,F){if(B&&B.isEnabled("api","info"))B.log("api","info",F,[],{color:"cyan"});b.log("api",F)}function tChannelImplToWire(b,B,F,K){if(B._object instanceof ChannelOwner&&(b==="*"||b.includes(B._object._type)))return{guid:B._object._guid};throw new Le.ValidationError(`${F}: expected channel ${b.toString()}`)}0&&0},2426:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{addSourceUrlToScript:()=>addSourceUrlToScript,envObjectToArray:()=>envObjectToArray,evaluationScript:()=>evaluationScript});b.exports=__toCommonJS(Re);var Me=F(4955);function envObjectToArray(b){const B=[];for(const F in b){if(!Object.is(b[F],void 0))B.push({name:F,value:String(b[F])})}return B}async function evaluationScript(b,B,F,K=true){if(typeof B==="function"){const b=B.toString();const K=Object.is(F,void 0)?"undefined":JSON.stringify(F);return`(${b})(${K})`}if(F!==void 0)throw new Error("Cannot evaluate a string with arguments");if((0,Me.isString)(B))return B;if(B.content!==void 0)return B.content;if(B.path!==void 0){let F=await b.fs().promises.readFile(B.path,"utf8");if(K)F=addSourceUrlToScript(F,B.path);return F}throw new Error("Either path or content property must be present")}function addSourceUrlToScript(b,B){return`${b}\n//# sourceURL=${B.replace(/\n/g,"")}`}0&&0},5803:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{createInstrumentation:()=>createInstrumentation});b.exports=__toCommonJS(oe);function createInstrumentation(){const b=[];return new Proxy({},{get:(B,F)=>{if(typeof F!=="string")return B[F];if(F==="addListener")return B=>b.push(B);if(F==="removeListener")return B=>b.splice(b.indexOf(B),1);if(F==="removeAllListeners")return()=>b.splice(0,b.length);if(F.startsWith("run")){return async(...B)=>{for(const K of b)await(K[F]?.(...B))}}if(F.startsWith("on")){return(...B)=>{for(const K of b)K[F]?.(...B)}}return B[F]}})}0&&0},2248:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{captureLibraryStackTrace:()=>captureLibraryStackTrace});b.exports=__toCommonJS(Re);var Me=F(4395);function captureLibraryStackTrace(b){const B=(0,Me.captureRawStack)();let F=B.map((B=>{const F=(0,Me.parseStackFrame)(B,b.pathSeparator,b.showInternalStackFrames());if(!F||!F.file)return null;const K=!!b.coreDir&&F.file.startsWith(b.coreDir);const se={frame:F,frameText:B,isPlaywrightLibrary:K};return se})).filter(Boolean);let K="";for(let b=0;b<F.length-1;b++){const B=F[b];if(B.isPlaywrightLibrary&&!F[b+1].isPlaywrightLibrary){K=K||normalizeAPIName(B.frame.function);break}}function normalizeAPIName(b){if(!b)return"";const B=b.match(/(API|JS|CDP|[A-Z])(.*)/);if(!B)return b;return B[1].toLowerCase()+B[2]}const se=b.boxedStackPrefixes();F=F.filter((b=>{if(se.some((B=>b.frame.file.startsWith(B))))return false;return true}));return{frames:F.map((b=>b.frame)),apiName:K}}0&&0},7006:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{Clock:()=>Clock});b.exports=__toCommonJS(oe);class Clock{constructor(b){this._browserContext=b}async install(b={}){await this._browserContext._channel.clockInstall(b.time!==void 0?parseTime(b.time):{})}async fastForward(b){await this._browserContext._channel.clockFastForward(parseTicks(b))}async pauseAt(b){await this._browserContext._channel.clockPauseAt(parseTime(b))}async resume(){await this._browserContext._channel.clockResume({})}async runFor(b){await this._browserContext._channel.clockRunFor(parseTicks(b))}async setFixedTime(b){await this._browserContext._channel.clockSetFixedTime(parseTime(b))}async setSystemTime(b){await this._browserContext._channel.clockSetSystemTime(parseTime(b))}}function parseTime(b){if(typeof b==="number")return{timeNumber:b};if(typeof b==="string")return{timeString:b};if(!isFinite(b.getTime()))throw new Error(`Invalid date: ${b}`);return{timeNumber:b.getTime()}}function parseTicks(b){return{ticksNumber:typeof b==="number"?b:void 0,ticksString:typeof b==="string"?b:void 0}}0&&0},6738:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Connection:()=>Connection});b.exports=__toCommonJS(Re);var Me=F(996);var Le=F(5539);var We=F(3544);var Ge=F(8356);var ze=F(3977);var $e=F(2876);var Ye=F(5397);var Ke=F(4736);var Xe=F(5803);var et=F(2378);var rt=F(8595);var it=F(4122);var ot=F(7993);var at=F(1872);var lt=F(1273);var ut=F(7347);var dt=F(6652);var ht=F(3886);var pt=F(4494);var ft=F(6729);var mt=F(665);var vt=F(5590);var yt=F(2794);var wt=F(8516);var _t=F(5314);var It=F(8789);var xt=F(4395);class Root extends Ke.ChannelOwner{constructor(b){super(b,"Root","",{})}async initialize(){return mt.Playwright.from((await this._channel.initialize({sdkLanguage:"javascript"})).playwright)}}class DummyChannelOwner extends Ke.ChannelOwner{}class Connection extends Me.EventEmitter{constructor(b,B,F,K=[]){super(b);this._objects=new Map;this.onmessage=b=>{};this._lastId=0;this._callbacks=new Map;this._isRemote=false;this._rawBuffers=false;this._tracingCount=0;this._instrumentation=F||(0,Xe.createInstrumentation)();this._localUtils=B;this._rootObject=new Root(this);this.headers=K}markAsRemote(){this._isRemote=true}isRemote(){return this._isRemote}useRawBuffers(){this._rawBuffers=true}rawBuffers(){return this._rawBuffers}localUtils(){return this._localUtils}async initializePlaywright(){return await this._rootObject.initialize()}getObjectWithKnownName(b){return this._objects.get(b)}setIsTracing(b){if(b)this._tracingCount++;else this._tracingCount--}async sendMessageToServer(b,B,F,K){if(this._closedError)throw this._closedError;if(b._wasCollected)throw new Error("The object has been collected to prevent unbounded heap growth.");const se=b._guid;const oe=b._type;const Qe=++this._lastId;const Re={id:Qe,guid:se,method:B,params:F};if(this._platform.isLogEnabled("channel")){this._platform.log("channel","SEND> "+JSON.stringify(Re))}const Me=K.frames?.[0]?{file:K.frames[0].file,line:K.frames[0].line,column:K.frames[0].column}:void 0;const Le={title:K.title,location:Me,internal:K.internal,stepId:K.stepId};if(this._tracingCount&&K.frames&&oe!=="LocalUtils")this._localUtils?.addStackToTracingNoReply({callData:{stack:K.frames??[],id:Qe}}).catch((()=>{}));this._platform.zones.empty.run((()=>this.onmessage({...Re,metadata:Le})));return await new Promise(((b,F)=>this._callbacks.set(Qe,{resolve:b,reject:F,title:K.title,type:oe,method:B})))}_validatorFromWireContext(){return{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._rawBuffers?"buffer":"fromBase64",isUnderTest:()=>this._platform.isUnderTest()}}dispatch(b){if(this._closedError)return;const{id:B,guid:F,method:K,params:se,result:oe,error:Qe,log:Re}=b;if(B){if(this._platform.isLogEnabled("channel"))this._platform.log("channel","<RECV "+JSON.stringify(b));const F=this._callbacks.get(B);if(!F)throw new Error(`Cannot find command to respond: ${B}`);this._callbacks.delete(B);if(Qe&&!oe){const b=(0,ot.parseError)(Qe);(0,xt.rewriteErrorMessage)(b,b.message+formatCallLog(this._platform,Re));F.reject(b)}else{const b=(0,It.findValidator)(F.type,F.method,"Result");F.resolve(b(oe,"",this._validatorFromWireContext()))}return}if(this._platform.isLogEnabled("channel"))this._platform.log("channel","<EVENT "+JSON.stringify(b));if(K==="__create__"){this._createRemoteObject(F,se.type,se.guid,se.initializer);return}const Me=this._objects.get(F);if(!Me)throw new Error(`Cannot find object to "${K}": ${F}`);if(K==="__adopt__"){const b=this._objects.get(se.guid);if(!b)throw new Error(`Unknown new child: ${se.guid}`);Me._adopt(b);return}if(K==="__dispose__"){Me._dispose(se.reason);return}const Le=(0,It.findValidator)(Me._type,K,"Event");Me._channel.emit(K,Le(se,"",this._validatorFromWireContext()))}close(b){if(this._closedError)return;this._closedError=new ot.TargetClosedError(b);for(const b of this._callbacks.values())b.reject(this._closedError);this._callbacks.clear();this.emit("close")}_tChannelImplFromWire(b,B,F,K){if(B&&typeof B==="object"&&typeof B.guid==="string"){const K=this._objects.get(B.guid);if(!K)throw new Error(`Object with guid ${B.guid} was not bound in the connection`);if(b!=="*"&&!b.includes(K._type))throw new It.ValidationError(`${F}: expected channel ${b.toString()}`);return K._channel}throw new It.ValidationError(`${F}: expected channel ${b.toString()}`)}_createRemoteObject(b,B,F,K){const se=this._objects.get(b);if(!se)throw new Error(`Cannot find parent object ${b} to create ${F}`);let oe;const Qe=(0,It.findValidator)(B,"","Initializer");K=Qe(K,"",this._validatorFromWireContext());switch(B){case"Android":oe=new Le.Android(se,B,F,K);break;case"AndroidSocket":oe=new Le.AndroidSocket(se,B,F,K);break;case"AndroidDevice":oe=new Le.AndroidDevice(se,B,F,K);break;case"APIRequestContext":oe=new at.APIRequestContext(se,B,F,K);break;case"Artifact":oe=new We.Artifact(se,B,F,K);break;case"BindingCall":oe=new ft.BindingCall(se,B,F,K);break;case"Browser":oe=new Ge.Browser(se,B,F,K);break;case"BrowserContext":oe=new ze.BrowserContext(se,B,F,K);break;case"BrowserType":oe=new $e.BrowserType(se,B,F,K);break;case"CDPSession":oe=new Ye.CDPSession(se,B,F,K);break;case"Dialog":oe=new et.Dialog(se,B,F,K);break;case"Electron":oe=new rt.Electron(se,B,F,K);break;case"ElectronApplication":oe=new rt.ElectronApplication(se,B,F,K);break;case"ElementHandle":oe=new it.ElementHandle(se,B,F,K);break;case"Frame":oe=new lt.Frame(se,B,F,K);break;case"JSHandle":oe=new ut.JSHandle(se,B,F,K);break;case"JsonPipe":oe=new dt.JsonPipe(se,B,F,K);break;case"LocalUtils":oe=new ht.LocalUtils(se,B,F,K);if(!this._localUtils)this._localUtils=oe;break;case"Page":oe=new ft.Page(se,B,F,K);break;case"Playwright":oe=new mt.Playwright(se,B,F,K);break;case"Request":oe=new pt.Request(se,B,F,K);break;case"Response":oe=new pt.Response(se,B,F,K);break;case"Route":oe=new pt.Route(se,B,F,K);break;case"Stream":oe=new vt.Stream(se,B,F,K);break;case"SocksSupport":oe=new DummyChannelOwner(se,B,F,K);break;case"Tracing":oe=new yt.Tracing(se,B,F,K);break;case"WebSocket":oe=new pt.WebSocket(se,B,F,K);break;case"WebSocketRoute":oe=new pt.WebSocketRoute(se,B,F,K);break;case"Worker":oe=new wt.Worker(se,B,F,K);break;case"WritableStream":oe=new _t.WritableStream(se,B,F,K);break;default:throw new Error("Missing type "+B)}return oe}}function formatCallLog(b,B){if(!B||!B.some((b=>!!b)))return"";return`\nCall log:\n${b.colors.dim(B.join("\n"))}\n`}0&&0},3389:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ConsoleMessage:()=>ConsoleMessage});b.exports=__toCommonJS(Re);var Me=F(7347);class ConsoleMessage{constructor(b,B,F,K){this._page=F;this._worker=K;this._event=B;if(b.inspectCustom)this[b.inspectCustom]=()=>this._inspect()}worker(){return this._worker}page(){return this._page}type(){return this._event.type}text(){return this._event.text}args(){return this._event.args.map(Me.JSHandle.from)}location(){return this._event.location}_inspect(){return this.text()}}0&&0},1536:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{Coverage:()=>Coverage});b.exports=__toCommonJS(oe);class Coverage{constructor(b){this._channel=b}async startJSCoverage(b={}){await this._channel.startJSCoverage(b)}async stopJSCoverage(){return(await this._channel.stopJSCoverage()).entries}async startCSSCoverage(b={}){await this._channel.startCSSCoverage(b)}async stopCSSCoverage(){return(await this._channel.stopCSSCoverage()).entries}}0&&0},2378:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Dialog:()=>Dialog});b.exports=__toCommonJS(Re);var Me=F(4736);var Le=F(6729);class Dialog extends Me.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K);this._page=Le.Page.fromNullable(K.page)}page(){return this._page}type(){return this._initializer.type}message(){return this._initializer.message}defaultValue(){return this._initializer.defaultValue}async accept(b){await this._channel.accept({promptText:b})}async dismiss(){await this._channel.dismiss()}}0&&0},3730:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{Download:()=>Download});b.exports=__toCommonJS(oe);class Download{constructor(b,B,F,K){this._page=b;this._url=B;this._suggestedFilename=F;this._artifact=K}page(){return this._page}url(){return this._url}suggestedFilename(){return this._suggestedFilename}async path(){return await this._artifact.pathAfterFinished()}async saveAs(b){return await this._artifact.saveAs(b)}async failure(){return await this._artifact.failure()}async createReadStream(){return await this._artifact.createReadStream()}async cancel(){return await this._artifact.cancel()}async delete(){return await this._artifact.delete()}}0&&0},8595:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Electron:()=>Electron,ElectronApplication:()=>ElectronApplication});b.exports=__toCommonJS(Re);var Me=F(3977);var Le=F(4736);var We=F(2426);var Ge=F(3389);var ze=F(7993);var $e=F(7336);var Ye=F(7347);var Ke=F(3972);var Xe=F(8478);class Electron extends Le.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K)}async launch(b={}){b=this._playwright.selectors._withSelectorOptions(b);const B={...await(0,Me.prepareBrowserContextParams)(this._platform,b),env:(0,We.envObjectToArray)(b.env?b.env:this._platform.env),tracesDir:b.tracesDir,timeout:new Xe.TimeoutSettings(this._platform).launchTimeout(b)};const F=ElectronApplication.from((await this._channel.launch(B)).electronApplication);this._playwright.selectors._contextsForSelectors.add(F._context);F.once($e.Events.ElectronApplication.Close,(()=>this._playwright.selectors._contextsForSelectors.delete(F._context)));await F._context._initializeHarFromOptions(b.recordHar);F._context.tracing._tracesDir=b.tracesDir;return F}}class ElectronApplication extends Le.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._windows=new Set;this._timeoutSettings=new Xe.TimeoutSettings(this._platform);this._context=Me.BrowserContext.from(K.context);for(const b of this._context._pages)this._onPage(b);this._context.on($e.Events.BrowserContext.Page,(b=>this._onPage(b)));this._channel.on("close",(()=>{this.emit($e.Events.ElectronApplication.Close)}));this._channel.on("console",(b=>this.emit($e.Events.ElectronApplication.Console,new Ge.ConsoleMessage(this._platform,b,null,null))));this._setEventToSubscriptionMapping(new Map([[$e.Events.ElectronApplication.Console,"console"]]))}static from(b){return b._object}process(){return this._connection.toImpl?.(this)?.process()}_onPage(b){this._windows.add(b);this.emit($e.Events.ElectronApplication.Window,b);b.once($e.Events.Page.Close,(()=>this._windows.delete(b)))}windows(){return[...this._windows]}async firstWindow(b){if(this._windows.size)return this._windows.values().next().value;return await this.waitForEvent("window",b)}context(){return this._context}async[Symbol.asyncDispose](){await this.close()}async close(){try{await this._context.close()}catch(b){if((0,ze.isTargetClosedError)(b))return;throw b}}async waitForEvent(b,B={}){return await this._wrapApiCall((async()=>{const F=this._timeoutSettings.timeout(typeof B==="function"?{}:B);const K=typeof B==="function"?B:B.predicate;const se=Ke.Waiter.createForEvent(this,b);se.rejectOnTimeout(F,`Timeout ${F}ms exceeded while waiting for event "${b}"`);if(b!==$e.Events.ElectronApplication.Close)se.rejectOnEvent(this,$e.Events.ElectronApplication.Close,(()=>new ze.TargetClosedError));const oe=await se.waitForEvent(this,b,K);se.dispose();return oe}))}async browserWindow(b){const B=await this._channel.browserWindow({page:b._channel});return Ye.JSHandle.from(B.handle)}async evaluate(b,B){const F=await this._channel.evaluateExpression({expression:String(b),isFunction:typeof b==="function",arg:(0,Ye.serializeArgument)(B)});return(0,Ye.parseResult)(F.value)}async evaluateHandle(b,B){const F=await this._channel.evaluateExpressionHandle({expression:String(b),isFunction:typeof b==="function",arg:(0,Ye.serializeArgument)(B)});return Ye.JSHandle.from(F.handle)}}0&&0},4122:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ElementHandle:()=>ElementHandle,convertInputFiles:()=>convertInputFiles,convertSelectOptionValues:()=>convertSelectOptionValues,determineScreenshotType:()=>determineScreenshotType});b.exports=__toCommonJS(Re);var Me=F(1273);var Le=F(7347);var We=F(6224);var Ge=F(4275);var ze=F(4955);var $e=F(5314);var Ye=F(5726);class ElementHandle extends Le.JSHandle{static from(b){return b._object}static fromNullable(b){return b?ElementHandle.from(b):null}constructor(b,B,F,K){super(b,B,F,K);this._frame=b;this._elementChannel=this._channel}asElement(){return this}async ownerFrame(){return Me.Frame.fromNullable((await this._elementChannel.ownerFrame()).frame)}async contentFrame(){return Me.Frame.fromNullable((await this._elementChannel.contentFrame()).frame)}async getAttribute(b){const B=(await this._elementChannel.getAttribute({name:b})).value;return B===void 0?null:B}async inputValue(){return(await this._elementChannel.inputValue()).value}async textContent(){const b=(await this._elementChannel.textContent()).value;return b===void 0?null:b}async innerText(){return(await this._elementChannel.innerText()).value}async innerHTML(){return(await this._elementChannel.innerHTML()).value}async isChecked(){return(await this._elementChannel.isChecked()).value}async isDisabled(){return(await this._elementChannel.isDisabled()).value}async isEditable(){return(await this._elementChannel.isEditable()).value}async isEnabled(){return(await this._elementChannel.isEnabled()).value}async isHidden(){return(await this._elementChannel.isHidden()).value}async isVisible(){return(await this._elementChannel.isVisible()).value}async dispatchEvent(b,B={}){await this._elementChannel.dispatchEvent({type:b,eventInit:(0,Le.serializeArgument)(B)})}async scrollIntoViewIfNeeded(b={}){await this._elementChannel.scrollIntoViewIfNeeded({...b,timeout:this._frame._timeout(b)})}async hover(b={}){await this._elementChannel.hover({...b,timeout:this._frame._timeout(b)})}async click(b={}){return await this._elementChannel.click({...b,timeout:this._frame._timeout(b)})}async dblclick(b={}){return await this._elementChannel.dblclick({...b,timeout:this._frame._timeout(b)})}async tap(b={}){return await this._elementChannel.tap({...b,timeout:this._frame._timeout(b)})}async selectOption(b,B={}){const F=await this._elementChannel.selectOption({...convertSelectOptionValues(b),...B,timeout:this._frame._timeout(B)});return F.values}async fill(b,B={}){return await this._elementChannel.fill({value:b,...B,timeout:this._frame._timeout(B)})}async selectText(b={}){await this._elementChannel.selectText({...b,timeout:this._frame._timeout(b)})}async setInputFiles(b,B={}){const F=await this.ownerFrame();if(!F)throw new Error("Cannot set input files to detached element");const K=await convertInputFiles(this._platform,b,F.page().context());await this._elementChannel.setInputFiles({...K,...B,timeout:this._frame._timeout(B)})}async focus(){await this._elementChannel.focus()}async type(b,B={}){await this._elementChannel.type({text:b,...B,timeout:this._frame._timeout(B)})}async press(b,B={}){await this._elementChannel.press({key:b,...B,timeout:this._frame._timeout(B)})}async check(b={}){return await this._elementChannel.check({...b,timeout:this._frame._timeout(b)})}async uncheck(b={}){return await this._elementChannel.uncheck({...b,timeout:this._frame._timeout(b)})}async setChecked(b,B){if(b)await this.check(B);else await this.uncheck(B)}async boundingBox(){const b=(await this._elementChannel.boundingBox()).value;return b===void 0?null:b}async screenshot(b={}){const B=b.mask;const F={...b,mask:void 0,timeout:this._frame._timeout(b)};if(!F.type)F.type=determineScreenshotType(b);if(B){F.mask=B.map((b=>({frame:b._frame._channel,selector:b._selector})))}const K=await this._elementChannel.screenshot(F);if(b.path){await(0,Ge.mkdirIfNeeded)(this._platform,b.path);await this._platform.fs().promises.writeFile(b.path,K.binary)}return K.binary}async $(b){return ElementHandle.fromNullable((await this._elementChannel.querySelector({selector:b})).element)}async $$(b){const B=await this._elementChannel.querySelectorAll({selector:b});return B.elements.map((b=>ElementHandle.from(b)))}async $eval(b,B,F){const K=await this._elementChannel.evalOnSelector({selector:b,expression:String(B),isFunction:typeof B==="function",arg:(0,Le.serializeArgument)(F)});return(0,Le.parseResult)(K.value)}async $$eval(b,B,F){const K=await this._elementChannel.evalOnSelectorAll({selector:b,expression:String(B),isFunction:typeof B==="function",arg:(0,Le.serializeArgument)(F)});return(0,Le.parseResult)(K.value)}async waitForElementState(b,B={}){return await this._elementChannel.waitForElementState({state:b,...B,timeout:this._frame._timeout(B)})}async waitForSelector(b,B={}){const F=await this._elementChannel.waitForSelector({selector:b,...B,timeout:this._frame._timeout(B)});return ElementHandle.fromNullable(F.element)}}function convertSelectOptionValues(b){if(b===null)return{};if(!Array.isArray(b))b=[b];if(!b.length)return{};for(let B=0;B<b.length;B++)(0,We.assert)(b[B]!==null,`options[${B}]: expected object, got null`);if(b[0]instanceof ElementHandle)return{elements:b.map((b=>b._elementChannel))};if((0,ze.isString)(b[0]))return{options:b.map((b=>({valueOrLabel:b})))};return{options:b}}function filePayloadExceedsSizeLimit(b){return b.reduce(((b,B)=>b+(B.buffer?B.buffer.byteLength:0)),0)>=Ge.fileUploadSizeLimit}async function resolvePathsAndDirectoryForInputFiles(b,B){let F;let K;for(const se of B){const B=await b.fs().promises.stat(se);if(B.isDirectory()){if(K)throw new Error("Multiple directories are not supported");K=b.path().resolve(se)}else{F??=[];F.push(b.path().resolve(se))}}if(F?.length&&K)throw new Error("File paths must be all files or a single directory");return[F,K]}async function convertInputFiles(b,B,F){const K=Array.isArray(B)?B.slice():[B];if(K.some((b=>typeof b==="string"))){if(!K.every((b=>typeof b==="string")))throw new Error("File paths cannot be mixed with buffers");const[B,se]=await resolvePathsAndDirectoryForInputFiles(b,K);if(F._connection.isRemote()){const K=se?(await b.fs().promises.readdir(se,{withFileTypes:true,recursive:true})).filter((b=>b.isFile())).map((B=>b.path().join(B.path,B.name))):B;const{writableStreams:oe,rootDir:Qe}=await F._wrapApiCall((async()=>F._channel.createTempFiles({rootDirName:se?b.path().basename(se):void 0,items:await Promise.all(K.map((async B=>{const F=(await b.fs().promises.stat(B)).mtimeMs;return{name:se?b.path().relative(se,B):b.path().basename(B),lastModifiedMs:F}})))})),{internal:true});for(let B=0;B<K.length;B++){const F=$e.WritableStream.from(oe[B]);await b.streamFile(K[B],F.stream())}return{directoryStream:Qe,streams:se?void 0:oe}}return{localPaths:B,localDirectory:se}}const se=K;if(filePayloadExceedsSizeLimit(se))throw new Error("Cannot set buffer larger than 50Mb, please write it to a file and pass its path instead.");return{payloads:se}}function determineScreenshotType(b){if(b.path){const B=(0,Ye.getMimeTypeForPath)(b.path);if(B==="image/png")return"png";else if(B==="image/jpeg")return"jpeg";throw new Error(`path: unsupported mime type "${B}"`)}return b.type}0&&0},7993:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{TargetClosedError:()=>TargetClosedError,TimeoutError:()=>TimeoutError,isTargetClosedError:()=>isTargetClosedError,parseError:()=>parseError,serializeError:()=>serializeError});b.exports=__toCommonJS(Re);var Me=F(5386);var Le=F(4955);class TimeoutError extends Error{constructor(b){super(b);this.name="TimeoutError"}}class TargetClosedError extends Error{constructor(b){super(b||"Target page, context or browser has been closed")}}function isTargetClosedError(b){return b instanceof TargetClosedError}function serializeError(b){if((0,Le.isError)(b))return{error:{message:b.message,stack:b.stack,name:b.name}};return{value:(0,Me.serializeValue)(b,(b=>({fallThrough:b})))}}function parseError(b){if(!b.error){if(b.value===void 0)throw new Error("Serialized error must have either an error or a value");return(0,Me.parseSerializedValue)(b.value,void 0)}if(b.error.name==="TimeoutError"){const B=new TimeoutError(b.error.message);B.stack=b.error.stack||"";return B}if(b.error.name==="TargetClosedError"){const B=new TargetClosedError(b.error.message);B.stack=b.error.stack||"";return B}const B=new Error(b.error.message);B.stack=b.error.stack||"";B.name=b.error.name;return B}0&&0},996:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{EventEmitter:()=>EventEmitter});b.exports=__toCommonJS(oe);class EventEmitter{constructor(b){this._events=void 0;this._eventsCount=0;this._maxListeners=void 0;this._pendingHandlers=new Map;this._platform=b;if(this._events===void 0||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||void 0;this.on=this.addListener;this.off=this.removeListener}setMaxListeners(b){if(typeof b!=="number"||b<0||Number.isNaN(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");this._maxListeners=b;return this}getMaxListeners(){return this._maxListeners===void 0?this._platform.defaultMaxListeners():this._maxListeners}emit(b,...B){const F=this._events;if(F===void 0)return false;const K=F?.[b];if(K===void 0)return false;if(typeof K==="function"){this._callHandler(b,K,B)}else{const F=K.length;const se=K.slice();for(let K=0;K<F;++K)this._callHandler(b,se[K],B)}return true}_callHandler(b,B,F){const K=Reflect.apply(B,this,F);if(!(K instanceof Promise))return;let se=this._pendingHandlers.get(b);if(!se){se=new Set;this._pendingHandlers.set(b,se)}se.add(K);K.catch((b=>{if(this._rejectionHandler)this._rejectionHandler(b);else throw b})).finally((()=>se.delete(K)))}addListener(b,B){return this._addListener(b,B,false)}on(b,B){return this._addListener(b,B,false)}_addListener(b,B,F){checkListener(B);let K=this._events;let se;if(K===void 0){K=this._events=Object.create(null);this._eventsCount=0}else{if(K.newListener!==void 0){this.emit("newListener",b,unwrapListener(B));K=this._events}se=K[b]}if(se===void 0){se=K[b]=B;++this._eventsCount}else{if(typeof se==="function"){se=K[b]=F?[B,se]:[se,B]}else if(F){se.unshift(B)}else{se.push(B)}const oe=this.getMaxListeners();if(oe>0&&se.length>oe&&!se.warned){se.warned=true;const B=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning";B.emitter=this;B.type=b;B.count=se.length;if(!this._platform.isUnderTest()){console.warn(B)}}}return this}prependListener(b,B){return this._addListener(b,B,true)}once(b,B){checkListener(B);this.on(b,new OnceWrapper(this,b,B).wrapperFunction);return this}prependOnceListener(b,B){checkListener(B);this.prependListener(b,new OnceWrapper(this,b,B).wrapperFunction);return this}removeListener(b,B){checkListener(B);const F=this._events;if(F===void 0)return this;const K=F[b];if(K===void 0)return this;if(K===B||K.listener===B){if(--this._eventsCount===0){this._events=Object.create(null)}else{delete F[b];if(F.removeListener)this.emit("removeListener",b,K.listener??B)}}else if(typeof K!=="function"){let se=-1;let oe;for(let b=K.length-1;b>=0;b--){if(K[b]===B||wrappedListener(K[b])===B){oe=wrappedListener(K[b]);se=b;break}}if(se<0)return this;if(se===0)K.shift();else K.splice(se,1);if(K.length===1)F[b]=K[0];if(F.removeListener!==void 0)this.emit("removeListener",b,oe||B)}return this}off(b,B){return this.removeListener(b,B)}removeAllListeners(b,B){this._removeAllListeners(b);if(!B)return this;if(B.behavior==="wait"){const B=[];this._rejectionHandler=b=>B.push(b);return this._waitFor(b).then((()=>{if(B.length)throw B[0]}))}if(B.behavior==="ignoreErrors")this._rejectionHandler=()=>{};return Promise.resolve()}_removeAllListeners(b){const B=this._events;if(!B)return;if(!B.removeListener){if(b===void 0){this._events=Object.create(null);this._eventsCount=0}else if(B[b]!==void 0){if(--this._eventsCount===0)this._events=Object.create(null);else delete B[b]}return}if(b===void 0){const b=Object.keys(B);let F;for(let B=0;B<b.length;++B){F=b[B];if(F==="removeListener")continue;this._removeAllListeners(F)}this._removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return}const F=B[b];if(typeof F==="function"){this.removeListener(b,F)}else if(F!==void 0){for(let B=F.length-1;B>=0;B--)this.removeListener(b,F[B])}}listeners(b){return this._listeners(this,b,true)}rawListeners(b){return this._listeners(this,b,false)}listenerCount(b){const B=this._events;if(B!==void 0){const F=B[b];if(typeof F==="function")return 1;if(F!==void 0)return F.length}return 0}eventNames(){return this._eventsCount>0&&this._events?Reflect.ownKeys(this._events):[]}async _waitFor(b){let B=[];if(b){B=[...this._pendingHandlers.get(b)||[]]}else{B=[];for(const[,b]of this._pendingHandlers)B.push(...b)}await Promise.all(B)}_listeners(b,B,F){const K=b._events;if(K===void 0)return[];const se=K[B];if(se===void 0)return[];if(typeof se==="function")return F?[unwrapListener(se)]:[se];return F?unwrapListeners(se):se.slice()}}function checkListener(b){if(typeof b!=="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}class OnceWrapper{constructor(b,B,F){this._fired=false;this._eventEmitter=b;this._eventType=B;this._listener=F;this.wrapperFunction=this._handle.bind(this);this.wrapperFunction.listener=F}_handle(...b){if(this._fired)return;this._fired=true;this._eventEmitter.removeListener(this._eventType,this.wrapperFunction);return this._listener.apply(this._eventEmitter,b)}}function unwrapListener(b){return wrappedListener(b)??b}function unwrapListeners(b){return b.map((b=>wrappedListener(b)??b))}function wrappedListener(b){return b.listener}0&&0},7336:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{Events:()=>Qe});b.exports=__toCommonJS(oe);const Qe={AndroidDevice:{WebView:"webview",Close:"close"},AndroidSocket:{Data:"data",Close:"close"},AndroidWebView:{Close:"close"},Browser:{Disconnected:"disconnected"},BrowserContext:{Console:"console",Close:"close",Dialog:"dialog",Page:"page",WebError:"weberror",BackgroundPage:"backgroundpage",ServiceWorker:"serviceworker",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished"},BrowserServer:{Close:"close"},Page:{Close:"close",Crash:"crash",Console:"console",Dialog:"dialog",Download:"download",FileChooser:"filechooser",DOMContentLoaded:"domcontentloaded",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",FrameAttached:"frameattached",FrameDetached:"framedetached",FrameNavigated:"framenavigated",Load:"load",Popup:"popup",WebSocket:"websocket",Worker:"worker"},WebSocket:{Close:"close",Error:"socketerror",FrameReceived:"framereceived",FrameSent:"framesent"},Worker:{Close:"close",Console:"console"},ElectronApplication:{Close:"close",Console:"console",Window:"window"}};0&&0},1872:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{APIRequest:()=>APIRequest,APIRequestContext:()=>APIRequestContext,APIResponse:()=>APIResponse});b.exports=__toCommonJS(Re);var Me=F(3977);var Le=F(4736);var We=F(7993);var Ge=F(4494);var ze=F(2794);var $e=F(6224);var Ye=F(4275);var Ke=F(9746);var Xe=F(4955);var et=F(8478);class APIRequest{constructor(b){this._contexts=new Set;this._playwright=b}async newContext(b={}){b={...this._playwright._defaultContextOptions,...b};const B=typeof b.storageState==="string"?JSON.parse(await this._playwright._platform.fs().promises.readFile(b.storageState,"utf8")):b.storageState;const F=APIRequestContext.from((await this._playwright._channel.newRequest({...b,extraHTTPHeaders:b.extraHTTPHeaders?(0,Ke.headersObjectToArray)(b.extraHTTPHeaders):void 0,storageState:B,tracesDir:this._playwright._defaultLaunchOptions?.tracesDir,clientCertificates:await(0,Me.toClientCertificatesProtocol)(this._playwright._platform,b.clientCertificates)})).request);this._contexts.add(F);F._request=this;F._timeoutSettings.setDefaultTimeout(b.timeout??this._playwright._defaultContextTimeout);F._tracing._tracesDir=this._playwright._defaultLaunchOptions?.tracesDir;await F._instrumentation.runAfterCreateRequestContext(F);return F}}class APIRequestContext extends Le.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K);this._tracing=ze.Tracing.from(K.tracing);this._timeoutSettings=new et.TimeoutSettings(this._platform)}async[Symbol.asyncDispose](){await this.dispose()}async dispose(b={}){this._closeReason=b.reason;await this._instrumentation.runBeforeCloseRequestContext(this);try{await this._channel.dispose(b)}catch(b){if((0,We.isTargetClosedError)(b))return;throw b}this._tracing._resetStackCounter();this._request?._contexts.delete(this)}async delete(b,B){return await this.fetch(b,{...B,method:"DELETE"})}async head(b,B){return await this.fetch(b,{...B,method:"HEAD"})}async get(b,B){return await this.fetch(b,{...B,method:"GET"})}async patch(b,B){return await this.fetch(b,{...B,method:"PATCH"})}async post(b,B){return await this.fetch(b,{...B,method:"POST"})}async put(b,B){return await this.fetch(b,{...B,method:"PUT"})}async fetch(b,B={}){const F=(0,Xe.isString)(b)?b:void 0;const K=(0,Xe.isString)(b)?void 0:b;return await this._innerFetch({url:F,request:K,...B})}async _innerFetch(b={}){return await this._wrapApiCall((async()=>{if(this._closeReason)throw new We.TargetClosedError(this._closeReason);(0,$e.assert)(b.request||typeof b.url==="string","First argument must be either URL string or Request");(0,$e.assert)((b.data===void 0?0:1)+(b.form===void 0?0:1)+(b.multipart===void 0?0:1)<=1,`Only one of 'data', 'form' or 'multipart' can be specified`);(0,$e.assert)(b.maxRedirects===void 0||b.maxRedirects>=0,`'maxRedirects' must be greater than or equal to '0'`);(0,$e.assert)(b.maxRetries===void 0||b.maxRetries>=0,`'maxRetries' must be greater than or equal to '0'`);const B=b.url!==void 0?b.url:b.request.url();const F=b.method||b.request?.method();let K=void 0;if(typeof b.params==="string")K=b.params;else if(b.params instanceof URLSearchParams)K=b.params.toString();const se=b.headers||b.request?.headers();const oe=se?(0,Ke.headersObjectToArray)(se):void 0;let Qe;let Re;let Me;let Le;if(b.data!==void 0){if((0,Xe.isString)(b.data)){if(isJsonContentType(oe))Qe=isJsonParsable(b.data)?b.data:JSON.stringify(b.data);else Le=Buffer.from(b.data,"utf8")}else if(Buffer.isBuffer(b.data)){Le=b.data}else if(typeof b.data==="object"||typeof b.data==="number"||typeof b.data==="boolean"){Qe=JSON.stringify(b.data)}else{throw new Error(`Unexpected 'data' type`)}}else if(b.form){if(globalThis.FormData&&b.form instanceof FormData){Re=[];for(const[B,F]of b.form.entries()){if(typeof F!=="string")throw new Error(`Expected string for options.form["${B}"], found File. Please use options.multipart instead.`);Re.push({name:B,value:F})}}else{Re=objectToArray(b.form)}}else if(b.multipart){Me=[];if(globalThis.FormData&&b.multipart instanceof FormData){const B=b.multipart;for(const[b,F]of B.entries()){if((0,Xe.isString)(F)){Me.push({name:b,value:F})}else{const B={name:F.name,mimeType:F.type,buffer:Buffer.from(await F.arrayBuffer())};Me.push({name:b,file:B})}}}else{for(const[B,F]of Object.entries(b.multipart))Me.push(await toFormField(this._platform,B,F))}}if(Le===void 0&&Qe===void 0&&Re===void 0&&Me===void 0)Le=b.request?.postDataBuffer()||void 0;const Ge={__testHookLookup:b.__testHookLookup};const ze=await this._channel.fetch({url:B,params:typeof b.params==="object"?objectToArray(b.params):void 0,encodedParams:K,method:F,headers:oe,postData:Le,jsonData:Qe,formData:Re,multipartData:Me,timeout:this._timeoutSettings.timeout(b),failOnStatusCode:b.failOnStatusCode,ignoreHTTPSErrors:b.ignoreHTTPSErrors,maxRedirects:b.maxRedirects,maxRetries:b.maxRetries,...Ge});return new APIResponse(this,ze.response)}))}async storageState(b={}){const B=await this._channel.storageState({indexedDB:b.indexedDB});if(b.path){await(0,Ye.mkdirIfNeeded)(this._platform,b.path);await this._platform.fs().promises.writeFile(b.path,JSON.stringify(B,void 0,2),"utf8")}return B}}async function toFormField(b,B,F){const K=typeof F;if(isFilePayload(F)){const b=F;if(!Buffer.isBuffer(b.buffer))throw new Error(`Unexpected buffer type of 'data.${B}'`);return{name:B,file:filePayloadToJson(b)}}else if(K==="string"||K==="number"||K==="boolean"){return{name:B,value:String(F)}}else{return{name:B,file:await readStreamToJson(b,F)}}}function isJsonParsable(b){if(typeof b!=="string")return false;try{JSON.parse(b);return true}catch(b){if(b instanceof SyntaxError)return false;else throw b}}class APIResponse{constructor(b,B){this._request=b;this._initializer=B;this._headers=new Ge.RawHeaders(this._initializer.headers);if(b._platform.inspectCustom)this[b._platform.inspectCustom]=()=>this._inspect()}ok(){return this._initializer.status>=200&&this._initializer.status<=299}url(){return this._initializer.url}status(){return this._initializer.status}statusText(){return this._initializer.statusText}headers(){return this._headers.headers()}headersArray(){return this._headers.headersArray()}async body(){return await this._request._wrapApiCall((async()=>{try{const b=await this._request._channel.fetchResponseBody({fetchUid:this._fetchUid()});if(b.binary===void 0)throw new Error("Response has been disposed");return b.binary}catch(b){if((0,We.isTargetClosedError)(b))throw new Error("Response has been disposed");throw b}}),{internal:true})}async text(){const b=await this.body();return b.toString("utf8")}async json(){const b=await this.text();return JSON.parse(b)}async[Symbol.asyncDispose](){await this.dispose()}async dispose(){await this._request._channel.disposeAPIResponse({fetchUid:this._fetchUid()})}_inspect(){const b=this.headersArray().map((({name:b,value:B})=>`  ${b}: ${B}`));return`APIResponse: ${this.status()} ${this.statusText()}\n${b.join("\n")}`}_fetchUid(){return this._initializer.fetchUid}async _fetchLog(){const{log:b}=await this._request._channel.fetchLog({fetchUid:this._fetchUid()});return b}}function filePayloadToJson(b){return{name:b.name,mimeType:b.mimeType,buffer:b.buffer}}async function readStreamToJson(b,B){const F=await new Promise(((b,F)=>{const K=[];B.on("data",(b=>K.push(b)));B.on("end",(()=>b(Buffer.concat(K))));B.on("error",(b=>F(b)))}));const K=Buffer.isBuffer(B.path)?B.path.toString("utf8"):B.path;return{name:b.path().basename(K),buffer:F}}function isJsonContentType(b){if(!b)return false;for(const{name:B,value:F}of b){if(B.toLocaleLowerCase()==="content-type")return F==="application/json"}return false}function objectToArray(b){if(!b)return void 0;const B=[];for(const[F,K]of Object.entries(b)){if(K!==void 0)B.push({name:F,value:String(K)})}return B}function isFilePayload(b){return typeof b==="object"&&b["name"]&&b["mimeType"]&&b["buffer"]}0&&0},1171:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{FileChooser:()=>FileChooser});b.exports=__toCommonJS(oe);class FileChooser{constructor(b,B,F){this._page=b;this._elementHandle=B;this._isMultiple=F}element(){return this._elementHandle}isMultiple(){return this._isMultiple}page(){return this._page}async setFiles(b,B){return await this._elementHandle.setInputFiles(b,B)}}0&&0},4275:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{fileUploadSizeLimit:()=>Qe,mkdirIfNeeded:()=>mkdirIfNeeded});b.exports=__toCommonJS(oe);const Qe=50*1024*1024;async function mkdirIfNeeded(b,B){await b.fs().promises.mkdir(b.path().dirname(B),{recursive:true}).catch((()=>{}))}0&&0},1273:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Frame:()=>Frame,verifyLoadState:()=>verifyLoadState});b.exports=__toCommonJS(Le);var We=F(996);var Ge=F(4736);var ze=F(2426);var $e=F(4122);var Ye=F(7336);var Ke=F(7347);var Xe=F(8046);var et=__toESM(F(4494));var rt=F(9853);var it=F(3972);var ot=F(6224);var at=F(3401);var lt=F(2164);var ut=F(8478);class Frame extends Ge.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._parentFrame=null;this._url="";this._name="";this._detached=false;this._childFrames=new Set;this._eventEmitter=new We.EventEmitter(b._platform);this._eventEmitter.setMaxListeners(0);this._parentFrame=Frame.fromNullable(K.parentFrame);if(this._parentFrame)this._parentFrame._childFrames.add(this);this._name=K.name;this._url=K.url;this._loadStates=new Set(K.loadStates);this._channel.on("loadstate",(b=>{if(b.add){this._loadStates.add(b.add);this._eventEmitter.emit("loadstate",b.add)}if(b.remove)this._loadStates.delete(b.remove);if(!this._parentFrame&&b.add==="load"&&this._page)this._page.emit(Ye.Events.Page.Load,this._page);if(!this._parentFrame&&b.add==="domcontentloaded"&&this._page)this._page.emit(Ye.Events.Page.DOMContentLoaded,this._page)}));this._channel.on("navigated",(b=>{this._url=b.url;this._name=b.name;this._eventEmitter.emit("navigated",b);if(!b.error&&this._page)this._page.emit(Ye.Events.Page.FrameNavigated,this)}))}static from(b){return b._object}static fromNullable(b){return b?Frame.from(b):null}page(){return this._page}_timeout(b){const B=this._page?._timeoutSettings||new ut.TimeoutSettings(this._platform);return B.timeout(b||{})}_navigationTimeout(b){const B=this._page?._timeoutSettings||new ut.TimeoutSettings(this._platform);return B.navigationTimeout(b||{})}async goto(b,B={}){const F=verifyLoadState("waitUntil",B.waitUntil===void 0?"load":B.waitUntil);return et.Response.fromNullable((await this._channel.goto({url:b,...B,waitUntil:F,timeout:this._navigationTimeout(B)})).response)}_setupNavigationWaiter(b){const B=new it.Waiter(this._page,"");if(this._page.isClosed())B.rejectImmediately(this._page._closeErrorWithReason());B.rejectOnEvent(this._page,Ye.Events.Page.Close,(()=>this._page._closeErrorWithReason()));B.rejectOnEvent(this._page,Ye.Events.Page.Crash,new Error("Navigation failed because page crashed!"));B.rejectOnEvent(this._page,Ye.Events.Page.FrameDetached,new Error("Navigating frame was detached!"),(b=>b===this));const F=this._page._timeoutSettings.navigationTimeout(b);B.rejectOnTimeout(F,`Timeout ${F}ms exceeded.`);return B}async waitForNavigation(b={}){return await this._page._wrapApiCall((async()=>{const B=verifyLoadState("waitUntil",b.waitUntil===void 0?"load":b.waitUntil);const F=this._setupNavigationWaiter(b);const K=typeof b.url==="string"?` to "${b.url}"`:"";F.log(`waiting for navigation${K} until "${B}"`);const se=await F.waitForEvent(this._eventEmitter,"navigated",(B=>{if(B.error)return true;F.log(`  navigated to "${B.url}"`);return(0,lt.urlMatches)(this._page?.context()._options.baseURL,B.url,b.url)}));if(se.error){const b=new Error(se.error);b.stack="";await F.waitForPromise(Promise.reject(b))}if(!this._loadStates.has(B)){await F.waitForEvent(this._eventEmitter,"loadstate",(b=>{F.log(`  "${b}" event fired`);return b===B}))}const oe=se.newDocument?et.Request.fromNullable(se.newDocument.request):null;const Qe=oe?await F.waitForPromise(oe._finalRequest()._internalResponse()):null;F.dispose();return Qe}),{title:"Wait for navigation"})}async waitForLoadState(b="load",B={}){b=verifyLoadState("state",b);return await this._page._wrapApiCall((async()=>{const F=this._setupNavigationWaiter(B);if(this._loadStates.has(b)){F.log(`  not waiting, "${b}" event already fired`)}else{await F.waitForEvent(this._eventEmitter,"loadstate",(B=>{F.log(`  "${B}" event fired`);return B===b}))}F.dispose()}),{title:`Wait for load state "${b}"`})}async waitForURL(b,B={}){if((0,lt.urlMatches)(this._page?.context()._options.baseURL,this.url(),b))return await this.waitForLoadState(B.waitUntil,B);await this.waitForNavigation({url:b,...B})}async frameElement(){return $e.ElementHandle.from((await this._channel.frameElement()).element)}async evaluateHandle(b,B){(0,Ke.assertMaxArguments)(arguments.length,2);const F=await this._channel.evaluateExpressionHandle({expression:String(b),isFunction:typeof b==="function",arg:(0,Ke.serializeArgument)(B)});return Ke.JSHandle.from(F.handle)}async evaluate(b,B){(0,Ke.assertMaxArguments)(arguments.length,2);const F=await this._channel.evaluateExpression({expression:String(b),isFunction:typeof b==="function",arg:(0,Ke.serializeArgument)(B)});return(0,Ke.parseResult)(F.value)}async _evaluateFunction(b){const B=await this._channel.evaluateExpression({expression:b,isFunction:true,arg:(0,Ke.serializeArgument)(void 0)});return(0,Ke.parseResult)(B.value)}async _evaluateExposeUtilityScript(b,B){(0,Ke.assertMaxArguments)(arguments.length,2);const F=await this._channel.evaluateExpression({expression:String(b),isFunction:typeof b==="function",arg:(0,Ke.serializeArgument)(B)});return(0,Ke.parseResult)(F.value)}async $(b,B){const F=await this._channel.querySelector({selector:b,...B});return $e.ElementHandle.fromNullable(F.element)}async waitForSelector(b,B={}){if(B.visibility)throw new Error("options.visibility is not supported, did you mean options.state?");if(B.waitFor&&B.waitFor!=="visible")throw new Error("options.waitFor is not supported, did you mean options.state?");const F=await this._channel.waitForSelector({selector:b,...B,timeout:this._timeout(B)});return $e.ElementHandle.fromNullable(F.element)}async dispatchEvent(b,B,F,K={}){await this._channel.dispatchEvent({selector:b,type:B,eventInit:(0,Ke.serializeArgument)(F),...K,timeout:this._timeout(K)})}async $eval(b,B,F){(0,Ke.assertMaxArguments)(arguments.length,3);const K=await this._channel.evalOnSelector({selector:b,expression:String(B),isFunction:typeof B==="function",arg:(0,Ke.serializeArgument)(F)});return(0,Ke.parseResult)(K.value)}async $$eval(b,B,F){(0,Ke.assertMaxArguments)(arguments.length,3);const K=await this._channel.evalOnSelectorAll({selector:b,expression:String(B),isFunction:typeof B==="function",arg:(0,Ke.serializeArgument)(F)});return(0,Ke.parseResult)(K.value)}async $$(b){const B=await this._channel.querySelectorAll({selector:b});return B.elements.map((b=>$e.ElementHandle.from(b)))}async _queryCount(b,B){return(await this._channel.queryCount({selector:b,...B})).value}async content(){return(await this._channel.content()).value}async setContent(b,B={}){const F=verifyLoadState("waitUntil",B.waitUntil===void 0?"load":B.waitUntil);await this._channel.setContent({html:b,...B,waitUntil:F,timeout:this._navigationTimeout(B)})}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(b={}){const B={...b};if(B.path){B.content=(await this._platform.fs().promises.readFile(B.path)).toString();B.content=(0,ze.addSourceUrlToScript)(B.content,B.path)}return $e.ElementHandle.from((await this._channel.addScriptTag({...B})).element)}async addStyleTag(b={}){const B={...b};if(B.path){B.content=(await this._platform.fs().promises.readFile(B.path)).toString();B.content+="/*# sourceURL="+B.path.replace(/\n/g,"")+"*/"}return $e.ElementHandle.from((await this._channel.addStyleTag({...B})).element)}async click(b,B={}){return await this._channel.click({selector:b,...B,timeout:this._timeout(B)})}async dblclick(b,B={}){return await this._channel.dblclick({selector:b,...B,timeout:this._timeout(B)})}async dragAndDrop(b,B,F={}){return await this._channel.dragAndDrop({source:b,target:B,...F,timeout:this._timeout(F)})}async tap(b,B={}){return await this._channel.tap({selector:b,...B,timeout:this._timeout(B)})}async fill(b,B,F={}){return await this._channel.fill({selector:b,value:B,...F,timeout:this._timeout(F)})}async _highlight(b){return await this._channel.highlight({selector:b})}locator(b,B){return new Xe.Locator(this,b,B)}getByTestId(b){return this.locator((0,at.getByTestIdSelector)((0,Xe.testIdAttributeName)(),b))}getByAltText(b,B){return this.locator((0,at.getByAltTextSelector)(b,B))}getByLabel(b,B){return this.locator((0,at.getByLabelSelector)(b,B))}getByPlaceholder(b,B){return this.locator((0,at.getByPlaceholderSelector)(b,B))}getByText(b,B){return this.locator((0,at.getByTextSelector)(b,B))}getByTitle(b,B){return this.locator((0,at.getByTitleSelector)(b,B))}getByRole(b,B={}){return this.locator((0,at.getByRoleSelector)(b,B))}frameLocator(b){return new Xe.FrameLocator(this,b)}async focus(b,B={}){await this._channel.focus({selector:b,...B,timeout:this._timeout(B)})}async textContent(b,B={}){const F=(await this._channel.textContent({selector:b,...B,timeout:this._timeout(B)})).value;return F===void 0?null:F}async innerText(b,B={}){return(await this._channel.innerText({selector:b,...B,timeout:this._timeout(B)})).value}async innerHTML(b,B={}){return(await this._channel.innerHTML({selector:b,...B,timeout:this._timeout(B)})).value}async getAttribute(b,B,F={}){const K=(await this._channel.getAttribute({selector:b,name:B,...F,timeout:this._timeout(F)})).value;return K===void 0?null:K}async inputValue(b,B={}){return(await this._channel.inputValue({selector:b,...B,timeout:this._timeout(B)})).value}async isChecked(b,B={}){return(await this._channel.isChecked({selector:b,...B,timeout:this._timeout(B)})).value}async isDisabled(b,B={}){return(await this._channel.isDisabled({selector:b,...B,timeout:this._timeout(B)})).value}async isEditable(b,B={}){return(await this._channel.isEditable({selector:b,...B,timeout:this._timeout(B)})).value}async isEnabled(b,B={}){return(await this._channel.isEnabled({selector:b,...B,timeout:this._timeout(B)})).value}async isHidden(b,B={}){return(await this._channel.isHidden({selector:b,...B})).value}async isVisible(b,B={}){return(await this._channel.isVisible({selector:b,...B})).value}async hover(b,B={}){await this._channel.hover({selector:b,...B,timeout:this._timeout(B)})}async selectOption(b,B,F={}){return(await this._channel.selectOption({selector:b,...(0,$e.convertSelectOptionValues)(B),...F,timeout:this._timeout(F)})).values}async setInputFiles(b,B,F={}){const K=await(0,$e.convertInputFiles)(this._platform,B,this.page().context());await this._channel.setInputFiles({selector:b,...K,...F,timeout:this._timeout(F)})}async type(b,B,F={}){await this._channel.type({selector:b,text:B,...F,timeout:this._timeout(F)})}async press(b,B,F={}){await this._channel.press({selector:b,key:B,...F,timeout:this._timeout(F)})}async check(b,B={}){await this._channel.check({selector:b,...B,timeout:this._timeout(B)})}async uncheck(b,B={}){await this._channel.uncheck({selector:b,...B,timeout:this._timeout(B)})}async setChecked(b,B,F){if(B)await this.check(b,F);else await this.uncheck(b,F)}async waitForTimeout(b){await this._channel.waitForTimeout({waitTimeout:b})}async waitForFunction(b,B,F={}){if(typeof F.polling==="string")(0,ot.assert)(F.polling==="raf","Unknown polling option: "+F.polling);const K=await this._channel.waitForFunction({...F,pollingInterval:F.polling==="raf"?void 0:F.polling,expression:String(b),isFunction:typeof b==="function",arg:(0,Ke.serializeArgument)(B),timeout:this._timeout(F)});return Ke.JSHandle.from(K.handle)}async title(){return(await this._channel.title()).value}async _expect(b,B){const F={expression:b,...B,isNot:!!B.isNot};F.expectedValue=(0,Ke.serializeArgument)(B.expectedValue);const K=await this._channel.expect(F);if(K.received!==void 0)K.received=(0,Ke.parseResult)(K.received);return K}}function verifyLoadState(b,B){if(B==="networkidle0")B="networkidle";if(!rt.kLifecycleEvents.has(B))throw new Error(`${b}: expected one of (load|domcontentloaded|networkidle|commit)`);return B}0&&0},8638:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{HarRouter:()=>HarRouter});b.exports=__toCommonJS(oe);class HarRouter{static async create(b,B,F,K){const{harId:se,error:oe}=await b.harOpen({file:B});if(oe)throw new Error(oe);return new HarRouter(b,se,F,K)}constructor(b,B,F,K){this._localUtils=b;this._harId=B;this._options=K;this._notFoundAction=F}async _handle(b){const B=b.request();const F=await this._localUtils.harLookup({harId:this._harId,url:B.url(),method:B.method(),headers:await B.headersArray(),postData:B.postDataBuffer()||void 0,isNavigationRequest:B.isNavigationRequest()});if(F.action==="redirect"){b._platform.log("api",`HAR: ${b.request().url()} redirected to ${F.redirectURL}`);await b._redirectNavigationRequest(F.redirectURL);return}if(F.action==="fulfill"){if(F.status===-1)return;await b.fulfill({status:F.status,headers:Object.fromEntries(F.headers.map((b=>[b.name,b.value]))),body:F.body});return}if(F.action==="error")b._platform.log("api","HAR: "+F.message);if(this._notFoundAction==="abort"){await b.abort();return}await b.fallback()}async addContextRoute(b){await b.route(this._options.urlMatch||"**/*",(b=>this._handle(b)))}async addPageRoute(b){await b.route(this._options.urlMatch||"**/*",(b=>this._handle(b)))}async[Symbol.asyncDispose](){await this.dispose()}dispose(){this._localUtils.harClose({harId:this._harId}).catch((()=>{}))}}0&&0},2728:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{Keyboard:()=>Keyboard,Mouse:()=>Mouse,Touchscreen:()=>Touchscreen});b.exports=__toCommonJS(oe);class Keyboard{constructor(b){this._page=b}async down(b){await this._page._channel.keyboardDown({key:b})}async up(b){await this._page._channel.keyboardUp({key:b})}async insertText(b){await this._page._channel.keyboardInsertText({text:b})}async type(b,B={}){await this._page._channel.keyboardType({text:b,...B})}async press(b,B={}){await this._page._channel.keyboardPress({key:b,...B})}}class Mouse{constructor(b){this._page=b}async move(b,B,F={}){await this._page._channel.mouseMove({x:b,y:B,...F})}async down(b={}){await this._page._channel.mouseDown({...b})}async up(b={}){await this._page._channel.mouseUp(b)}async click(b,B,F={}){await this._page._channel.mouseClick({x:b,y:B,...F})}async dblclick(b,B,F={}){await this._page._wrapApiCall((async()=>{await this.click(b,B,{...F,clickCount:2})}),{title:"Double click"})}async wheel(b,B){await this._page._channel.mouseWheel({deltaX:b,deltaY:B})}}class Touchscreen{constructor(b){this._page=b}async tap(b,B){await this._page._channel.touchscreenTap({x:b,y:B})}}0&&0},7347:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{JSHandle:()=>JSHandle,assertMaxArguments:()=>assertMaxArguments,parseResult:()=>parseResult,serializeArgument:()=>serializeArgument});b.exports=__toCommonJS(Re);var Me=F(4736);var Le=F(7993);var We=F(5386);class JSHandle extends Me.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K);this._preview=this._initializer.preview;this._channel.on("previewUpdated",(({preview:b})=>this._preview=b))}async evaluate(b,B){const F=await this._channel.evaluateExpression({expression:String(b),isFunction:typeof b==="function",arg:serializeArgument(B)});return parseResult(F.value)}async _evaluateFunction(b){const B=await this._channel.evaluateExpression({expression:b,isFunction:true,arg:serializeArgument(void 0)});return parseResult(B.value)}async evaluateHandle(b,B){const F=await this._channel.evaluateExpressionHandle({expression:String(b),isFunction:typeof b==="function",arg:serializeArgument(B)});return JSHandle.from(F.handle)}async getProperty(b){const B=await this._channel.getProperty({name:b});return JSHandle.from(B.handle)}async getProperties(){const b=new Map;for(const{name:B,value:F}of(await this._channel.getPropertyList()).properties)b.set(B,JSHandle.from(F));return b}async jsonValue(){return parseResult((await this._channel.jsonValue()).value)}asElement(){return null}async[Symbol.asyncDispose](){await this.dispose()}async dispose(){try{await this._channel.dispose()}catch(b){if((0,Le.isTargetClosedError)(b))return;throw b}}toString(){return this._preview}}function serializeArgument(b){const B=[];const pushHandle=b=>{B.push(b);return B.length-1};const F=(0,We.serializeValue)(b,(b=>{if(b instanceof JSHandle)return{h:pushHandle(b._channel)};return{fallThrough:b}}));return{value:F,handles:B}}function parseResult(b){return(0,We.parseSerializedValue)(b,void 0)}function assertMaxArguments(b,B){if(b>B)throw new Error("Too many arguments. If you need to pass more than 1 argument to the function wrap them in an object.")}0&&0},6652:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{JsonPipe:()=>JsonPipe});b.exports=__toCommonJS(Re);var Me=F(4736);class JsonPipe extends Me.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K)}channel(){return this._channel}}0&&0},3886:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{LocalUtils:()=>LocalUtils});b.exports=__toCommonJS(Re);var Me=F(4736);class LocalUtils extends Me.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this.devices={};for(const{name:b,descriptor:B}of K.deviceDescriptors)this.devices[b]=B}async zip(b){return await this._channel.zip(b)}async harOpen(b){return await this._channel.harOpen(b)}async harLookup(b){return await this._channel.harLookup(b)}async harClose(b){return await this._channel.harClose(b)}async harUnzip(b){return await this._channel.harUnzip(b)}async tracingStarted(b){return await this._channel.tracingStarted(b)}async traceDiscarded(b){return await this._channel.traceDiscarded(b)}async addStackToTracingNoReply(b){return await this._channel.addStackToTracingNoReply(b)}}0&&0},8046:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{FrameLocator:()=>FrameLocator,Locator:()=>Locator,setTestIdAttribute:()=>setTestIdAttribute,testIdAttributeName:()=>testIdAttributeName});b.exports=__toCommonJS(Re);var Me=F(4122);var Le=F(3512);var We=F(3401);var Ge=F(302);var ze=F(4955);var $e=F(4419);class Locator{constructor(b,B,F){this._frame=b;this._selector=B;if(F?.hasText)this._selector+=` >> internal:has-text=${(0,Ge.escapeForTextSelector)(F.hasText,false)}`;if(F?.hasNotText)this._selector+=` >> internal:has-not-text=${(0,Ge.escapeForTextSelector)(F.hasNotText,false)}`;if(F?.has){const B=F.has;if(B._frame!==b)throw new Error(`Inner "has" locator must belong to the same frame.`);this._selector+=` >> internal:has=`+JSON.stringify(B._selector)}if(F?.hasNot){const B=F.hasNot;if(B._frame!==b)throw new Error(`Inner "hasNot" locator must belong to the same frame.`);this._selector+=` >> internal:has-not=`+JSON.stringify(B._selector)}if(F?.visible!==void 0)this._selector+=` >> visible=${F.visible?"true":"false"}`;if(this._frame._platform.inspectCustom)this[this._frame._platform.inspectCustom]=()=>this._inspect()}async _withElement(b,B){const F=this._frame._timeout({timeout:B.timeout});const K=F?(0,$e.monotonicTime)()+F:0;return await this._frame._wrapApiCall((async()=>{const B=await this._frame._channel.waitForSelector({selector:this._selector,strict:true,state:"attached",timeout:F});const se=Me.ElementHandle.fromNullable(B.element);if(!se)throw new Error(`Could not resolve ${this._selector} to DOM Element`);try{return await b(se,K?K-(0,$e.monotonicTime)():0)}finally{await se.dispose()}}),{title:B.title,internal:B.internal})}_equals(b){return this._frame===b._frame&&this._selector===b._selector}page(){return this._frame.page()}async boundingBox(b){return await this._withElement((b=>b.boundingBox()),{title:"Bounding box",timeout:b?.timeout})}async check(b={}){return await this._frame.check(this._selector,{strict:true,...b})}async click(b={}){return await this._frame.click(this._selector,{strict:true,...b})}async dblclick(b={}){await this._frame.dblclick(this._selector,{strict:true,...b})}async dispatchEvent(b,B={},F){return await this._frame.dispatchEvent(this._selector,b,B,{strict:true,...F})}async dragTo(b,B={}){return await this._frame.dragAndDrop(this._selector,b._selector,{strict:true,...B})}async evaluate(b,B,F){return await this._withElement((F=>F.evaluate(b,B)),{title:"Evaluate",timeout:F?.timeout})}async _evaluateFunction(b,B){return await this._withElement((B=>B._evaluateFunction(b)),{title:"Evaluate",timeout:B?.timeout})}async evaluateAll(b,B){return await this._frame.$$eval(this._selector,b,B)}async evaluateHandle(b,B,F){return await this._withElement((F=>F.evaluateHandle(b,B)),{title:"Evaluate",timeout:F?.timeout})}async fill(b,B={}){return await this._frame.fill(this._selector,b,{strict:true,...B})}async clear(b={}){await this._frame._wrapApiCall((()=>this.fill("",b)),{title:"Clear"})}async _highlight(){return await this._frame._highlight(this._selector)}async highlight(){return await this._frame._highlight(this._selector)}locator(b,B){if((0,ze.isString)(b))return new Locator(this._frame,this._selector+" >> "+b,B);if(b._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._selector+" >> internal:chain="+JSON.stringify(b._selector),B)}getByTestId(b){return this.locator((0,We.getByTestIdSelector)(testIdAttributeName(),b))}getByAltText(b,B){return this.locator((0,We.getByAltTextSelector)(b,B))}getByLabel(b,B){return this.locator((0,We.getByLabelSelector)(b,B))}getByPlaceholder(b,B){return this.locator((0,We.getByPlaceholderSelector)(b,B))}getByText(b,B){return this.locator((0,We.getByTextSelector)(b,B))}getByTitle(b,B){return this.locator((0,We.getByTitleSelector)(b,B))}getByRole(b,B={}){return this.locator((0,We.getByRoleSelector)(b,B))}frameLocator(b){return new FrameLocator(this._frame,this._selector+" >> "+b)}filter(b){return new Locator(this._frame,this._selector,b)}async elementHandle(b){return await this._frame.waitForSelector(this._selector,{strict:true,state:"attached",...b})}async elementHandles(){return await this._frame.$$(this._selector)}contentFrame(){return new FrameLocator(this._frame,this._selector)}describe(b){return new Locator(this._frame,this._selector+" >> internal:describe="+JSON.stringify(b))}description(){return(0,Le.locatorCustomDescription)(this._selector)||null}first(){return new Locator(this._frame,this._selector+" >> nth=0")}last(){return new Locator(this._frame,this._selector+` >> nth=-1`)}nth(b){return new Locator(this._frame,this._selector+` >> nth=${b}`)}and(b){if(b._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._selector+` >> internal:and=`+JSON.stringify(b._selector))}or(b){if(b._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._selector+` >> internal:or=`+JSON.stringify(b._selector))}async focus(b){return await this._frame.focus(this._selector,{strict:true,...b})}async blur(b){await this._frame._channel.blur({selector:this._selector,strict:true,...b,timeout:this._frame._timeout(b)})}async count(b){return await this._frame._queryCount(this._selector,b)}async _resolveSelector(){return await this._frame._channel.resolveSelector({selector:this._selector})}async getAttribute(b,B){return await this._frame.getAttribute(this._selector,b,{strict:true,...B})}async hover(b={}){return await this._frame.hover(this._selector,{strict:true,...b})}async innerHTML(b){return await this._frame.innerHTML(this._selector,{strict:true,...b})}async innerText(b){return await this._frame.innerText(this._selector,{strict:true,...b})}async inputValue(b){return await this._frame.inputValue(this._selector,{strict:true,...b})}async isChecked(b){return await this._frame.isChecked(this._selector,{strict:true,...b})}async isDisabled(b){return await this._frame.isDisabled(this._selector,{strict:true,...b})}async isEditable(b){return await this._frame.isEditable(this._selector,{strict:true,...b})}async isEnabled(b){return await this._frame.isEnabled(this._selector,{strict:true,...b})}async isHidden(b){return await this._frame.isHidden(this._selector,{strict:true,...b})}async isVisible(b){return await this._frame.isVisible(this._selector,{strict:true,...b})}async press(b,B={}){return await this._frame.press(this._selector,b,{strict:true,...B})}async screenshot(b={}){const B=b.mask;return await this._withElement(((F,K)=>F.screenshot({...b,mask:B,timeout:K})),{title:"Screenshot",timeout:b.timeout})}async ariaSnapshot(b){const B=await this._frame._channel.ariaSnapshot({...b,selector:this._selector,timeout:this._frame._timeout(b)});return B.snapshot}async scrollIntoViewIfNeeded(b={}){return await this._withElement(((B,F)=>B.scrollIntoViewIfNeeded({...b,timeout:F})),{title:"Scroll into view",timeout:b.timeout})}async selectOption(b,B={}){return await this._frame.selectOption(this._selector,b,{strict:true,...B})}async selectText(b={}){return await this._withElement(((B,F)=>B.selectText({...b,timeout:F})),{title:"Select text",timeout:b.timeout})}async setChecked(b,B){if(b)await this.check(B);else await this.uncheck(B)}async setInputFiles(b,B={}){return await this._frame.setInputFiles(this._selector,b,{strict:true,...B})}async tap(b={}){return await this._frame.tap(this._selector,{strict:true,...b})}async textContent(b){return await this._frame.textContent(this._selector,{strict:true,...b})}async type(b,B={}){return await this._frame.type(this._selector,b,{strict:true,...B})}async pressSequentially(b,B={}){return await this.type(b,B)}async uncheck(b={}){return await this._frame.uncheck(this._selector,{strict:true,...b})}async all(){return new Array(await this.count()).fill(0).map(((b,B)=>this.nth(B)))}async allInnerTexts(){return await this._frame.$$eval(this._selector,(b=>b.map((b=>b.innerText))))}async allTextContents(){return await this._frame.$$eval(this._selector,(b=>b.map((b=>b.textContent||""))))}async waitFor(b){await this._frame._channel.waitForSelector({selector:this._selector,strict:true,omitReturnValue:true,...b,timeout:this._frame._timeout(b)})}async _expect(b,B){return this._frame._expect(b,{...B,selector:this._selector})}_inspect(){return this.toString()}toString(){return(0,Le.asLocatorDescription)("javascript",this._selector)}}class FrameLocator{constructor(b,B){this._frame=b;this._frameSelector=B}locator(b,B){if((0,ze.isString)(b))return new Locator(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+b,B);if(b._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+b._selector,B)}getByTestId(b){return this.locator((0,We.getByTestIdSelector)(testIdAttributeName(),b))}getByAltText(b,B){return this.locator((0,We.getByAltTextSelector)(b,B))}getByLabel(b,B){return this.locator((0,We.getByLabelSelector)(b,B))}getByPlaceholder(b,B){return this.locator((0,We.getByPlaceholderSelector)(b,B))}getByText(b,B){return this.locator((0,We.getByTextSelector)(b,B))}getByTitle(b,B){return this.locator((0,We.getByTitleSelector)(b,B))}getByRole(b,B={}){return this.locator((0,We.getByRoleSelector)(b,B))}owner(){return new Locator(this._frame,this._frameSelector)}frameLocator(b){return new FrameLocator(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+b)}first(){return new FrameLocator(this._frame,this._frameSelector+" >> nth=0")}last(){return new FrameLocator(this._frame,this._frameSelector+` >> nth=-1`)}nth(b){return new FrameLocator(this._frame,this._frameSelector+` >> nth=${b}`)}}let Ye="data-testid";function testIdAttributeName(){return Ye}function setTestIdAttribute(b){Ye=b}0&&0},4494:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{RawHeaders:()=>RawHeaders,Request:()=>Request,Response:()=>Response,Route:()=>Route,RouteHandler:()=>RouteHandler,WebSocket:()=>WebSocket,WebSocketRoute:()=>WebSocketRoute,WebSocketRouteHandler:()=>WebSocketRouteHandler,validateHeaders:()=>validateHeaders});b.exports=__toCommonJS(Re);var Me=F(4736);var Le=F(7993);var We=F(7336);var Ge=F(1872);var ze=F(1273);var $e=F(3972);var Ye=F(8516);var Ke=F(6224);var Xe=F(9746);var et=F(2164);var rt=F(1871);var it=F(9915);var ot=F(4955);var at=F(4395);var lt=F(5726);class Request extends Me.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._redirectedFrom=null;this._redirectedTo=null;this._failureText=null;this._fallbackOverrides={};this._hasResponse=false;this._redirectedFrom=Request.fromNullable(K.redirectedFrom);if(this._redirectedFrom)this._redirectedFrom._redirectedTo=this;this._provisionalHeaders=new RawHeaders(K.headers);this._timing={startTime:0,domainLookupStart:-1,domainLookupEnd:-1,connectStart:-1,secureConnectionStart:-1,connectEnd:-1,requestStart:-1,responseStart:-1,responseEnd:-1};this._hasResponse=this._initializer.hasResponse;this._channel.on("response",(()=>this._hasResponse=true))}static from(b){return b._object}static fromNullable(b){return b?Request.from(b):null}url(){return this._fallbackOverrides.url||this._initializer.url}resourceType(){return this._initializer.resourceType}method(){return this._fallbackOverrides.method||this._initializer.method}postData(){return(this._fallbackOverrides.postDataBuffer||this._initializer.postData)?.toString("utf-8")||null}postDataBuffer(){return this._fallbackOverrides.postDataBuffer||this._initializer.postData||null}postDataJSON(){const b=this.postData();if(!b)return null;const B=this.headers()["content-type"];if(B?.includes("application/x-www-form-urlencoded")){const B={};const F=new URLSearchParams(b);for(const[b,K]of F.entries())B[b]=K;return B}try{return JSON.parse(b)}catch(B){throw new Error("POST data is not a valid JSON object: "+b)}}headers(){if(this._fallbackOverrides.headers)return RawHeaders._fromHeadersObjectLossy(this._fallbackOverrides.headers).headers();return this._provisionalHeaders.headers()}async _actualHeaders(){if(this._fallbackOverrides.headers)return RawHeaders._fromHeadersObjectLossy(this._fallbackOverrides.headers);if(!this._actualHeadersPromise){this._actualHeadersPromise=this._wrapApiCall((async()=>new RawHeaders((await this._channel.rawRequestHeaders()).headers)),{internal:true})}return await this._actualHeadersPromise}async allHeaders(){return(await this._actualHeaders()).headers()}async headersArray(){return(await this._actualHeaders()).headersArray()}async headerValue(b){return(await this._actualHeaders()).get(b)}async response(){return Response.fromNullable((await this._channel.response()).response)}async _internalResponse(){return Response.fromNullable((await this._channel.response()).response)}frame(){if(!this._initializer.frame){(0,Ke.assert)(this.serviceWorker());throw new Error("Service Worker requests do not have an associated frame.")}const b=ze.Frame.from(this._initializer.frame);if(!b._page){throw new Error(["Frame for this navigation request is not available, because the request","was issued before the frame is created. You can check whether the request","is a navigation request by calling isNavigationRequest() method."].join("\n"))}return b}_safePage(){return ze.Frame.fromNullable(this._initializer.frame)?._page||null}serviceWorker(){return this._initializer.serviceWorker?Ye.Worker.from(this._initializer.serviceWorker):null}isNavigationRequest(){return this._initializer.isNavigationRequest}redirectedFrom(){return this._redirectedFrom}redirectedTo(){return this._redirectedTo}failure(){if(this._failureText===null)return null;return{errorText:this._failureText}}timing(){return this._timing}async sizes(){const b=await this.response();if(!b)throw new Error("Unable to fetch sizes for failed request");return(await b._channel.sizes()).sizes}_setResponseEndTiming(b){this._timing.responseEnd=b;if(this._timing.responseStart===-1)this._timing.responseStart=b}_finalRequest(){return this._redirectedTo?this._redirectedTo._finalRequest():this}_applyFallbackOverrides(b){if(b.url)this._fallbackOverrides.url=b.url;if(b.method)this._fallbackOverrides.method=b.method;if(b.headers)this._fallbackOverrides.headers=b.headers;if((0,ot.isString)(b.postData))this._fallbackOverrides.postDataBuffer=Buffer.from(b.postData,"utf-8");else if(b.postData instanceof Buffer)this._fallbackOverrides.postDataBuffer=b.postData;else if(b.postData)this._fallbackOverrides.postDataBuffer=Buffer.from(JSON.stringify(b.postData),"utf-8")}_fallbackOverridesForContinue(){return this._fallbackOverrides}_targetClosedScope(){return this.serviceWorker()?._closedScope||this._safePage()?._closedOrCrashedScope||new rt.LongStandingScope}}class Route extends Me.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._handlingPromise=null;this._didThrow=false}static from(b){return b._object}request(){return Request.from(this._initializer.request)}async _raceWithTargetClose(b){return await this.request()._targetClosedScope().safeRace(b)}async _startHandling(){this._handlingPromise=new rt.ManualPromise;return await this._handlingPromise}async fallback(b={}){this._checkNotHandled();this.request()._applyFallbackOverrides(b);this._reportHandled(false)}async abort(b){await this._handleRoute((async()=>{await this._raceWithTargetClose(this._channel.abort({errorCode:b}))}))}async _redirectNavigationRequest(b){await this._handleRoute((async()=>{await this._raceWithTargetClose(this._channel.redirectNavigationRequest({url:b}))}))}async fetch(b={}){return await this._wrapApiCall((async()=>await this._context.request._innerFetch({request:this.request(),data:b.postData,...b})))}async fulfill(b={}){await this._handleRoute((async()=>{await this._innerFulfill(b)}))}async _handleRoute(b){this._checkNotHandled();try{await b();this._reportHandled(true)}catch(b){this._didThrow=true;throw b}}async _innerFulfill(b={}){let B;let{status:F,headers:K,body:se}=b;if(b.json!==void 0){(0,Ke.assert)(b.body===void 0,"Can specify either body or json parameters");se=JSON.stringify(b.json)}if(b.response instanceof Ge.APIResponse){F??=b.response.status();K??=b.response.headers();if(se===void 0&&b.path===void 0){if(b.response._request._connection===this._connection)B=b.response._fetchUid();else se=await b.response.body()}}let oe=false;let Qe=0;if(b.path){const B=await this._platform.fs().promises.readFile(b.path);se=B.toString("base64");oe=true;Qe=B.length}else if((0,ot.isString)(se)){oe=false;Qe=Buffer.byteLength(se)}else if(se){Qe=se.length;se=se.toString("base64");oe=true}const Re={};for(const b of Object.keys(K||{}))Re[b.toLowerCase()]=String(K[b]);if(b.contentType)Re["content-type"]=String(b.contentType);else if(b.json)Re["content-type"]="application/json";else if(b.path)Re["content-type"]=(0,lt.getMimeTypeForPath)(b.path)||"application/octet-stream";if(Qe&&!("content-length"in Re))Re["content-length"]=String(Qe);await this._raceWithTargetClose(this._channel.fulfill({status:F||200,headers:(0,Xe.headersObjectToArray)(Re),body:se,isBase64:oe,fetchResponseUid:B}))}async continue(b={}){await this._handleRoute((async()=>{this.request()._applyFallbackOverrides(b);await this._innerContinue(false)}))}_checkNotHandled(){if(!this._handlingPromise)throw new Error("Route is already handled!")}_reportHandled(b){const B=this._handlingPromise;this._handlingPromise=null;B.resolve(b)}async _innerContinue(b){const B=this.request()._fallbackOverridesForContinue();return await this._raceWithTargetClose(this._channel.continue({url:B.url,method:B.method,headers:B.headers?(0,Xe.headersObjectToArray)(B.headers):void 0,postData:B.postDataBuffer,isFallback:b}))}}class WebSocketRoute extends Me.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._connected=false;this._server={onMessage:b=>{this._onServerMessage=b},onClose:b=>{this._onServerClose=b},connectToServer:()=>{throw new Error(`connectToServer must be called on the page-side WebSocketRoute`)},url:()=>this._initializer.url,close:async(b={})=>{await this._channel.closeServer({...b,wasClean:true}).catch((()=>{}))},send:b=>{if((0,ot.isString)(b))this._channel.sendToServer({message:b,isBase64:false}).catch((()=>{}));else this._channel.sendToServer({message:b.toString("base64"),isBase64:true}).catch((()=>{}))},async[Symbol.asyncDispose](){await this.close()}};this._channel.on("messageFromPage",(({message:b,isBase64:B})=>{if(this._onPageMessage)this._onPageMessage(B?Buffer.from(b,"base64"):b);else if(this._connected)this._channel.sendToServer({message:b,isBase64:B}).catch((()=>{}))}));this._channel.on("messageFromServer",(({message:b,isBase64:B})=>{if(this._onServerMessage)this._onServerMessage(B?Buffer.from(b,"base64"):b);else this._channel.sendToPage({message:b,isBase64:B}).catch((()=>{}))}));this._channel.on("closePage",(({code:b,reason:B,wasClean:F})=>{if(this._onPageClose)this._onPageClose(b,B);else this._channel.closeServer({code:b,reason:B,wasClean:F}).catch((()=>{}))}));this._channel.on("closeServer",(({code:b,reason:B,wasClean:F})=>{if(this._onServerClose)this._onServerClose(b,B);else this._channel.closePage({code:b,reason:B,wasClean:F}).catch((()=>{}))}))}static from(b){return b._object}url(){return this._initializer.url}async close(b={}){await this._channel.closePage({...b,wasClean:true}).catch((()=>{}))}connectToServer(){if(this._connected)throw new Error("Already connected to the server");this._connected=true;this._channel.connect().catch((()=>{}));return this._server}send(b){if((0,ot.isString)(b))this._channel.sendToPage({message:b,isBase64:false}).catch((()=>{}));else this._channel.sendToPage({message:b.toString("base64"),isBase64:true}).catch((()=>{}))}onMessage(b){this._onPageMessage=b}onClose(b){this._onPageClose=b}async[Symbol.asyncDispose](){await this.close()}async _afterHandle(){if(this._connected)return;await this._channel.ensureOpened().catch((()=>{}))}}class WebSocketRouteHandler{constructor(b,B,F){this._baseURL=b;this.url=B;this.handler=F}static prepareInterceptionPatterns(b){const B=[];let F=false;for(const K of b){if((0,ot.isString)(K.url))B.push({glob:K.url});else if((0,ot.isRegExp)(K.url))B.push({regexSource:K.url.source,regexFlags:K.url.flags});else F=true}if(F)return[{glob:"**/*"}];return B}matches(b){return(0,et.urlMatches)(this._baseURL,b,this.url,true)}async handle(b){const B=this.handler;await B(b);await b._afterHandle()}}class Response extends Me.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._finishedPromise=new rt.ManualPromise;this._provisionalHeaders=new RawHeaders(K.headers);this._request=Request.from(this._initializer.request);Object.assign(this._request._timing,this._initializer.timing)}static from(b){return b._object}static fromNullable(b){return b?Response.from(b):null}url(){return this._initializer.url}ok(){return this._initializer.status===0||this._initializer.status>=200&&this._initializer.status<=299}status(){return this._initializer.status}statusText(){return this._initializer.statusText}fromServiceWorker(){return this._initializer.fromServiceWorker}headers(){return this._provisionalHeaders.headers()}async _actualHeaders(){if(!this._actualHeadersPromise){this._actualHeadersPromise=(async()=>new RawHeaders((await this._channel.rawResponseHeaders()).headers))()}return await this._actualHeadersPromise}async allHeaders(){return(await this._actualHeaders()).headers()}async headersArray(){return(await this._actualHeaders()).headersArray().slice()}async headerValue(b){return(await this._actualHeaders()).get(b)}async headerValues(b){return(await this._actualHeaders()).getAll(b)}async finished(){return await this.request()._targetClosedScope().race(this._finishedPromise)}async body(){return(await this._channel.body()).binary}async text(){const b=await this.body();return b.toString("utf8")}async json(){const b=await this.text();return JSON.parse(b)}request(){return this._request}frame(){return this._request.frame()}async serverAddr(){return(await this._channel.serverAddr()).value||null}async securityDetails(){return(await this._channel.securityDetails()).value||null}}class WebSocket extends Me.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K);this._isClosed=false;this._page=b;this._channel.on("frameSent",(b=>{if(b.opcode===1)this.emit(We.Events.WebSocket.FrameSent,{payload:b.data});else if(b.opcode===2)this.emit(We.Events.WebSocket.FrameSent,{payload:Buffer.from(b.data,"base64")})}));this._channel.on("frameReceived",(b=>{if(b.opcode===1)this.emit(We.Events.WebSocket.FrameReceived,{payload:b.data});else if(b.opcode===2)this.emit(We.Events.WebSocket.FrameReceived,{payload:Buffer.from(b.data,"base64")})}));this._channel.on("socketError",(({error:b})=>this.emit(We.Events.WebSocket.Error,b)));this._channel.on("close",(()=>{this._isClosed=true;this.emit(We.Events.WebSocket.Close,this)}))}url(){return this._initializer.url}isClosed(){return this._isClosed}async waitForEvent(b,B={}){return await this._wrapApiCall((async()=>{const F=this._page._timeoutSettings.timeout(typeof B==="function"?{}:B);const K=typeof B==="function"?B:B.predicate;const se=$e.Waiter.createForEvent(this,b);se.rejectOnTimeout(F,`Timeout ${F}ms exceeded while waiting for event "${b}"`);if(b!==We.Events.WebSocket.Error)se.rejectOnEvent(this,We.Events.WebSocket.Error,new Error("Socket error"));if(b!==We.Events.WebSocket.Close)se.rejectOnEvent(this,We.Events.WebSocket.Close,new Error("Socket closed"));se.rejectOnEvent(this._page,We.Events.Page.Close,(()=>this._page._closeErrorWithReason()));const oe=await se.waitForEvent(this,b,K);se.dispose();return oe}))}}function validateHeaders(b){for(const B of Object.keys(b)){const F=b[B];if(!Object.is(F,void 0)&&!(0,ot.isString)(F))throw new Error(`Expected value of header "${B}" to be String, but "${typeof F}" is found.`)}}class RouteHandler{constructor(b,B,F,K,se=Number.MAX_SAFE_INTEGER){this.handledCount=0;this._ignoreException=false;this._activeInvocations=new Set;this._baseURL=B;this._times=se;this.url=F;this.handler=K;this._savedZone=b.zones.current().pop()}static prepareInterceptionPatterns(b){const B=[];let F=false;for(const K of b){if((0,ot.isString)(K.url))B.push({glob:K.url});else if((0,ot.isRegExp)(K.url))B.push({regexSource:K.url.source,regexFlags:K.url.flags});else F=true}if(F)return[{glob:"**/*"}];return B}matches(b){return(0,et.urlMatches)(this._baseURL,b,this.url)}async handle(b){return await this._savedZone.run((async()=>this._handleImpl(b)))}async _handleImpl(b){const B={complete:new rt.ManualPromise,route:b};this._activeInvocations.add(B);try{return await this._handleInternal(b)}catch(b){if(this._ignoreException)return false;if((0,Le.isTargetClosedError)(b)){(0,at.rewriteErrorMessage)(b,`"${b.message}" while running route callback.\nConsider awaiting \`await page.unrouteAll({ behavior: 'ignoreErrors' })\`\nbefore the end of the test to ignore remaining routes in flight.`)}throw b}finally{B.complete.resolve();this._activeInvocations.delete(B)}}async stop(b){if(b==="ignoreErrors"){this._ignoreException=true}else{const b=[];for(const B of this._activeInvocations){if(!B.route._didThrow)b.push(B.complete)}await Promise.all(b)}}async _handleInternal(b){++this.handledCount;const B=b._startHandling();const F=this.handler;const[K]=await Promise.all([B,F(b,b.request())]);return K}willExpire(){return this.handledCount+1>=this._times}}class RawHeaders{constructor(b){this._headersMap=new it.MultiMap;this._headersArray=b;for(const B of b)this._headersMap.set(B.name.toLowerCase(),B.value)}static _fromHeadersObjectLossy(b){const B=Object.entries(b).map((([b,B])=>({name:b,value:B}))).filter((b=>b.value!==void 0));return new RawHeaders(B)}get(b){const B=this.getAll(b);if(!B||!B.length)return null;return B.join(b.toLowerCase()==="set-cookie"?"\n":", ")}getAll(b){return[...this._headersMap.get(b.toLowerCase())]}headers(){const b={};for(const B of this._headersMap.keys())b[B]=this.get(B);return b}headersArray(){return this._headersArray}}0&&0},6729:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{BindingCall:()=>BindingCall,Page:()=>Page});b.exports=__toCommonJS(Re);var Me=F(3544);var Le=F(4736);var We=F(2426);var Ge=F(1536);var ze=F(3730);var $e=F(4122);var Ye=F(7993);var Ke=F(7336);var Xe=F(1171);var et=F(1273);var rt=F(8638);var it=F(2728);var ot=F(7347);var at=F(4494);var lt=F(9283);var ut=F(3972);var dt=F(8516);var ht=F(8478);var pt=F(6224);var ft=F(4275);var mt=F(9746);var vt=F(302);var yt=F(2164);var wt=F(1871);var _t=F(4955);var It=F(3389);class Page extends Le.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._frames=new Set;this._workers=new Set;this._closed=false;this._closedOrCrashedScope=new wt.LongStandingScope;this._routes=[];this._webSocketRoutes=[];this._bindings=new Map;this._video=null;this._closeWasCalled=false;this._harRouters=[];this._locatorHandlers=new Map;this._browserContext=b;this._timeoutSettings=new ht.TimeoutSettings(this._platform,this._browserContext._timeoutSettings);this.keyboard=new it.Keyboard(this);this.mouse=new it.Mouse(this);this.request=this._browserContext.request;this.touchscreen=new it.Touchscreen(this);this.clock=this._browserContext.clock;this._mainFrame=et.Frame.from(K.mainFrame);this._mainFrame._page=this;this._frames.add(this._mainFrame);this._viewportSize=K.viewportSize;this._closed=K.isClosed;this._opener=Page.fromNullable(K.opener);this._channel.on("bindingCall",(({binding:b})=>this._onBinding(BindingCall.from(b))));this._channel.on("close",(()=>this._onClose()));this._channel.on("crash",(()=>this._onCrash()));this._channel.on("download",(({url:b,suggestedFilename:B,artifact:F})=>{const K=Me.Artifact.from(F);this.emit(Ke.Events.Page.Download,new ze.Download(this,b,B,K))}));this._channel.on("fileChooser",(({element:b,isMultiple:B})=>this.emit(Ke.Events.Page.FileChooser,new Xe.FileChooser(this,$e.ElementHandle.from(b),B))));this._channel.on("frameAttached",(({frame:b})=>this._onFrameAttached(et.Frame.from(b))));this._channel.on("frameDetached",(({frame:b})=>this._onFrameDetached(et.Frame.from(b))));this._channel.on("locatorHandlerTriggered",(({uid:b})=>this._onLocatorHandlerTriggered(b)));this._channel.on("route",(({route:b})=>this._onRoute(at.Route.from(b))));this._channel.on("webSocketRoute",(({webSocketRoute:b})=>this._onWebSocketRoute(at.WebSocketRoute.from(b))));this._channel.on("video",(({artifact:b})=>{const B=Me.Artifact.from(b);this._forceVideo()._artifactReady(B)}));this._channel.on("viewportSizeChanged",(({viewportSize:b})=>this._viewportSize=b));this._channel.on("webSocket",(({webSocket:b})=>this.emit(Ke.Events.Page.WebSocket,at.WebSocket.from(b))));this._channel.on("worker",(({worker:b})=>this._onWorker(dt.Worker.from(b))));this.coverage=new Ge.Coverage(this._channel);this.once(Ke.Events.Page.Close,(()=>this._closedOrCrashedScope.close(this._closeErrorWithReason())));this.once(Ke.Events.Page.Crash,(()=>this._closedOrCrashedScope.close(new Ye.TargetClosedError)));this._setEventToSubscriptionMapping(new Map([[Ke.Events.Page.Console,"console"],[Ke.Events.Page.Dialog,"dialog"],[Ke.Events.Page.Request,"request"],[Ke.Events.Page.Response,"response"],[Ke.Events.Page.RequestFinished,"requestFinished"],[Ke.Events.Page.RequestFailed,"requestFailed"],[Ke.Events.Page.FileChooser,"fileChooser"]]))}static from(b){return b._object}static fromNullable(b){return b?Page.from(b):null}_onFrameAttached(b){b._page=this;this._frames.add(b);if(b._parentFrame)b._parentFrame._childFrames.add(b);this.emit(Ke.Events.Page.FrameAttached,b)}_onFrameDetached(b){this._frames.delete(b);b._detached=true;if(b._parentFrame)b._parentFrame._childFrames.delete(b);this.emit(Ke.Events.Page.FrameDetached,b)}async _onRoute(b){b._context=this.context();const B=this._routes.slice();for(const F of B){if(this._closeWasCalled||this._browserContext._closingStatus!=="none")return;if(!F.matches(b.request().url()))continue;const B=this._routes.indexOf(F);if(B===-1)continue;if(F.willExpire())this._routes.splice(B,1);const K=await F.handle(b);if(!this._routes.length)this._updateInterceptionPatterns({internal:true}).catch((()=>{}));if(K)return}await this._browserContext._onRoute(b)}async _onWebSocketRoute(b){const B=this._webSocketRoutes.find((B=>B.matches(b.url())));if(B)await B.handle(b);else await this._browserContext._onWebSocketRoute(b)}async _onBinding(b){const B=this._bindings.get(b._initializer.name);if(B){await b.call(B);return}await this._browserContext._onBinding(b)}_onWorker(b){this._workers.add(b);b._page=this;this.emit(Ke.Events.Page.Worker,b)}_onClose(){this._closed=true;this._browserContext._pages.delete(this);this._disposeHarRouters();this.emit(Ke.Events.Page.Close,this)}_onCrash(){this.emit(Ke.Events.Page.Crash,this)}context(){return this._browserContext}async opener(){if(!this._opener||this._opener.isClosed())return null;return this._opener}mainFrame(){return this._mainFrame}frame(b){const B=(0,_t.isString)(b)?b:b.name;const F=(0,_t.isObject)(b)?b.url:void 0;(0,pt.assert)(B||F,"Either name or url matcher should be specified");return this.frames().find((b=>{if(B)return b.name()===B;return(0,yt.urlMatches)(this._browserContext._options.baseURL,b.url(),F)}))||null}frames(){return[...this._frames]}setDefaultNavigationTimeout(b){this._timeoutSettings.setDefaultNavigationTimeout(b)}setDefaultTimeout(b){this._timeoutSettings.setDefaultTimeout(b)}_forceVideo(){if(!this._video)this._video=new lt.Video(this,this._connection);return this._video}video(){if(!this._browserContext._options.recordVideo)return null;return this._forceVideo()}async $(b,B){return await this._mainFrame.$(b,B)}async waitForSelector(b,B){return await this._mainFrame.waitForSelector(b,B)}async dispatchEvent(b,B,F,K){return await this._mainFrame.dispatchEvent(b,B,F,K)}async evaluateHandle(b,B){(0,ot.assertMaxArguments)(arguments.length,2);return await this._mainFrame.evaluateHandle(b,B)}async $eval(b,B,F){(0,ot.assertMaxArguments)(arguments.length,3);return await this._mainFrame.$eval(b,B,F)}async $$eval(b,B,F){(0,ot.assertMaxArguments)(arguments.length,3);return await this._mainFrame.$$eval(b,B,F)}async $$(b){return await this._mainFrame.$$(b)}async addScriptTag(b={}){return await this._mainFrame.addScriptTag(b)}async addStyleTag(b={}){return await this._mainFrame.addStyleTag(b)}async exposeFunction(b,B){await this._channel.exposeBinding({name:b});const binding=(b,...F)=>B(...F);this._bindings.set(b,binding)}async exposeBinding(b,B,F={}){await this._channel.exposeBinding({name:b,needsHandle:F.handle});this._bindings.set(b,B)}async setExtraHTTPHeaders(b){(0,at.validateHeaders)(b);await this._channel.setExtraHTTPHeaders({headers:(0,mt.headersObjectToArray)(b)})}url(){return this._mainFrame.url()}async content(){return await this._mainFrame.content()}async setContent(b,B){return await this._mainFrame.setContent(b,B)}async goto(b,B){return await this._mainFrame.goto(b,B)}async reload(b={}){const B=(0,et.verifyLoadState)("waitUntil",b.waitUntil===void 0?"load":b.waitUntil);return at.Response.fromNullable((await this._channel.reload({...b,waitUntil:B,timeout:this._timeoutSettings.navigationTimeout(b)})).response)}async addLocatorHandler(b,B,F={}){if(b._frame!==this._mainFrame)throw new Error(`Locator must belong to the main frame of this page`);if(F.times===0)return;const{uid:K}=await this._channel.registerLocatorHandler({selector:b._selector,noWaitAfter:F.noWaitAfter});this._locatorHandlers.set(K,{locator:b,handler:B,times:F.times})}async _onLocatorHandlerTriggered(b){let B=false;try{const F=this._locatorHandlers.get(b);if(F&&F.times!==0){if(F.times!==void 0)F.times--;await F.handler(F.locator)}B=F?.times===0}finally{if(B)this._locatorHandlers.delete(b);this._channel.resolveLocatorHandlerNoReply({uid:b,remove:B}).catch((()=>{}))}}async removeLocatorHandler(b){for(const[B,F]of this._locatorHandlers){if(F.locator._equals(b)){this._locatorHandlers.delete(B);await this._channel.unregisterLocatorHandler({uid:B}).catch((()=>{}))}}}async waitForLoadState(b,B){return await this._mainFrame.waitForLoadState(b,B)}async waitForNavigation(b){return await this._mainFrame.waitForNavigation(b)}async waitForURL(b,B){return await this._mainFrame.waitForURL(b,B)}async waitForRequest(b,B={}){const predicate=async B=>{if((0,_t.isString)(b)||(0,_t.isRegExp)(b))return(0,yt.urlMatches)(this._browserContext._options.baseURL,B.url(),b);return await b(B)};const F=trimUrl(b);const K=F?`waiting for request ${F}`:void 0;return await this._waitForEvent(Ke.Events.Page.Request,{predicate:predicate,timeout:B.timeout},K)}async waitForResponse(b,B={}){const predicate=async B=>{if((0,_t.isString)(b)||(0,_t.isRegExp)(b))return(0,yt.urlMatches)(this._browserContext._options.baseURL,B.url(),b);return await b(B)};const F=trimUrl(b);const K=F?`waiting for response ${F}`:void 0;return await this._waitForEvent(Ke.Events.Page.Response,{predicate:predicate,timeout:B.timeout},K)}async waitForEvent(b,B={}){return await this._waitForEvent(b,B,`waiting for event "${b}"`)}_closeErrorWithReason(){return new Ye.TargetClosedError(this._closeReason||this._browserContext._effectiveCloseReason())}async _waitForEvent(b,B,F){return await this._wrapApiCall((async()=>{const K=this._timeoutSettings.timeout(typeof B==="function"?{}:B);const se=typeof B==="function"?B:B.predicate;const oe=ut.Waiter.createForEvent(this,b);if(F)oe.log(F);oe.rejectOnTimeout(K,`Timeout ${K}ms exceeded while waiting for event "${b}"`);if(b!==Ke.Events.Page.Crash)oe.rejectOnEvent(this,Ke.Events.Page.Crash,new Error("Page crashed"));if(b!==Ke.Events.Page.Close)oe.rejectOnEvent(this,Ke.Events.Page.Close,(()=>this._closeErrorWithReason()));const Qe=await oe.waitForEvent(this,b,se);oe.dispose();return Qe}))}async goBack(b={}){const B=(0,et.verifyLoadState)("waitUntil",b.waitUntil===void 0?"load":b.waitUntil);return at.Response.fromNullable((await this._channel.goBack({...b,waitUntil:B,timeout:this._timeoutSettings.navigationTimeout(b)})).response)}async goForward(b={}){const B=(0,et.verifyLoadState)("waitUntil",b.waitUntil===void 0?"load":b.waitUntil);return at.Response.fromNullable((await this._channel.goForward({...b,waitUntil:B,timeout:this._timeoutSettings.navigationTimeout(b)})).response)}async requestGC(){await this._channel.requestGC()}async emulateMedia(b={}){await this._channel.emulateMedia({media:b.media===null?"no-override":b.media,colorScheme:b.colorScheme===null?"no-override":b.colorScheme,reducedMotion:b.reducedMotion===null?"no-override":b.reducedMotion,forcedColors:b.forcedColors===null?"no-override":b.forcedColors,contrast:b.contrast===null?"no-override":b.contrast})}async setViewportSize(b){this._viewportSize=b;await this._channel.setViewportSize({viewportSize:b})}viewportSize(){return this._viewportSize||null}async evaluate(b,B){(0,ot.assertMaxArguments)(arguments.length,2);return await this._mainFrame.evaluate(b,B)}async _evaluateFunction(b){return this._mainFrame._evaluateFunction(b)}async addInitScript(b,B){const F=await(0,We.evaluationScript)(this._platform,b,B);await this._channel.addInitScript({source:F})}async route(b,B,F={}){this._routes.unshift(new at.RouteHandler(this._platform,this._browserContext._options.baseURL,b,B,F.times));await this._updateInterceptionPatterns({title:"Route requests"})}async routeFromHAR(b,B={}){const F=this._connection.localUtils();if(!F)throw new Error("Route from har is not supported in thin clients");if(B.update){await this._browserContext._recordIntoHAR(b,this,B);return}const K=await rt.HarRouter.create(F,b,B.notFound||"abort",{urlMatch:B.url});this._harRouters.push(K);await K.addPageRoute(this)}async routeWebSocket(b,B){this._webSocketRoutes.unshift(new at.WebSocketRouteHandler(this._browserContext._options.baseURL,b,B));await this._updateWebSocketInterceptionPatterns({title:"Route WebSockets"})}_disposeHarRouters(){this._harRouters.forEach((b=>b.dispose()));this._harRouters=[]}async unrouteAll(b){await this._unrouteInternal(this._routes,[],b?.behavior);this._disposeHarRouters()}async unroute(b,B){const F=[];const K=[];for(const se of this._routes){if((0,yt.urlMatchesEqual)(se.url,b)&&(!B||se.handler===B))F.push(se);else K.push(se)}await this._unrouteInternal(F,K,"default")}async _unrouteInternal(b,B,F){this._routes=B;if(F&&F!=="default"){const B=b.map((b=>b.stop(F)));await Promise.all(B)}await this._updateInterceptionPatterns({title:"Unroute requests"})}async _updateInterceptionPatterns(b){const B=at.RouteHandler.prepareInterceptionPatterns(this._routes);await this._wrapApiCall((()=>this._channel.setNetworkInterceptionPatterns({patterns:B})),b)}async _updateWebSocketInterceptionPatterns(b){const B=at.WebSocketRouteHandler.prepareInterceptionPatterns(this._webSocketRoutes);await this._wrapApiCall((()=>this._channel.setWebSocketInterceptionPatterns({patterns:B})),b)}async screenshot(b={}){const B=b.mask;const F={...b,mask:void 0,timeout:this._timeoutSettings.timeout(b)};if(!F.type)F.type=(0,$e.determineScreenshotType)(b);if(B){F.mask=B.map((b=>({frame:b._frame._channel,selector:b._selector})))}const K=await this._channel.screenshot(F);if(b.path){await(0,ft.mkdirIfNeeded)(this._platform,b.path);await this._platform.fs().promises.writeFile(b.path,K.binary)}return K.binary}async _expectScreenshot(b){const B=b?.mask?b?.mask.map((b=>({frame:b._frame._channel,selector:b._selector}))):void 0;const F=b.locator?{frame:b.locator._frame._channel,selector:b.locator._selector}:void 0;return await this._channel.expectScreenshot({...b,isNot:!!b.isNot,locator:F,mask:B})}async title(){return await this._mainFrame.title()}async bringToFront(){await this._channel.bringToFront()}async[Symbol.asyncDispose](){await this.close()}async close(b={}){this._closeReason=b.reason;this._closeWasCalled=true;try{if(this._ownedContext)await this._ownedContext.close();else await this._channel.close(b)}catch(B){if((0,Ye.isTargetClosedError)(B)&&!b.runBeforeUnload)return;throw B}}isClosed(){return this._closed}async click(b,B){return await this._mainFrame.click(b,B)}async dragAndDrop(b,B,F){return await this._mainFrame.dragAndDrop(b,B,F)}async dblclick(b,B){await this._mainFrame.dblclick(b,B)}async tap(b,B){return await this._mainFrame.tap(b,B)}async fill(b,B,F){return await this._mainFrame.fill(b,B,F)}async consoleMessages(){const{messages:b}=await this._channel.consoleMessages();return b.map((b=>new It.ConsoleMessage(this._platform,b,this,null)))}async pageErrors(){const{errors:b}=await this._channel.pageErrors();return b.map((b=>(0,Ye.parseError)(b)))}locator(b,B){return this.mainFrame().locator(b,B)}getByTestId(b){return this.mainFrame().getByTestId(b)}getByAltText(b,B){return this.mainFrame().getByAltText(b,B)}getByLabel(b,B){return this.mainFrame().getByLabel(b,B)}getByPlaceholder(b,B){return this.mainFrame().getByPlaceholder(b,B)}getByText(b,B){return this.mainFrame().getByText(b,B)}getByTitle(b,B){return this.mainFrame().getByTitle(b,B)}getByRole(b,B={}){return this.mainFrame().getByRole(b,B)}frameLocator(b){return this.mainFrame().frameLocator(b)}async focus(b,B){return await this._mainFrame.focus(b,B)}async textContent(b,B){return await this._mainFrame.textContent(b,B)}async innerText(b,B){return await this._mainFrame.innerText(b,B)}async innerHTML(b,B){return await this._mainFrame.innerHTML(b,B)}async getAttribute(b,B,F){return await this._mainFrame.getAttribute(b,B,F)}async inputValue(b,B){return await this._mainFrame.inputValue(b,B)}async isChecked(b,B){return await this._mainFrame.isChecked(b,B)}async isDisabled(b,B){return await this._mainFrame.isDisabled(b,B)}async isEditable(b,B){return await this._mainFrame.isEditable(b,B)}async isEnabled(b,B){return await this._mainFrame.isEnabled(b,B)}async isHidden(b,B){return await this._mainFrame.isHidden(b,B)}async isVisible(b,B){return await this._mainFrame.isVisible(b,B)}async hover(b,B){return await this._mainFrame.hover(b,B)}async selectOption(b,B,F){return await this._mainFrame.selectOption(b,B,F)}async setInputFiles(b,B,F){return await this._mainFrame.setInputFiles(b,B,F)}async type(b,B,F){return await this._mainFrame.type(b,B,F)}async press(b,B,F){return await this._mainFrame.press(b,B,F)}async check(b,B){return await this._mainFrame.check(b,B)}async uncheck(b,B){return await this._mainFrame.uncheck(b,B)}async setChecked(b,B,F){return await this._mainFrame.setChecked(b,B,F)}async waitForTimeout(b){return await this._mainFrame.waitForTimeout(b)}async waitForFunction(b,B,F){return await this._mainFrame.waitForFunction(b,B,F)}async requests(){const{requests:b}=await this._channel.requests();return b.map((b=>at.Request.from(b)))}workers(){return[...this._workers]}async pause(b){if(this._platform.isJSDebuggerAttached())return;const B=this._browserContext._timeoutSettings.defaultNavigationTimeout();const F=this._browserContext._timeoutSettings.defaultTimeout();this._browserContext.setDefaultNavigationTimeout(0);this._browserContext.setDefaultTimeout(0);this._instrumentation?.onWillPause({keepTestTimeout:!!b?.__testHookKeepTestTimeout});await this._closedOrCrashedScope.safeRace(this.context()._channel.pause());this._browserContext.setDefaultNavigationTimeout(B);this._browserContext.setDefaultTimeout(F)}async pdf(b={}){const B={...b};if(B.margin)B.margin={...B.margin};if(typeof b.width==="number")B.width=b.width+"px";if(typeof b.height==="number")B.height=b.height+"px";for(const F of["top","right","bottom","left"]){const K=F;if(b.margin&&typeof b.margin[K]==="number")B.margin[K]=B.margin[K]+"px"}const F=await this._channel.pdf(B);if(b.path){const B=this._platform;await B.fs().promises.mkdir(B.path().dirname(b.path),{recursive:true});await B.fs().promises.writeFile(b.path,F.pdf)}return F.pdf}async _snapshotForAI(b={}){return await this._channel.snapshotForAI({timeout:this._timeoutSettings.timeout(b),track:b.track})}}class BindingCall extends Le.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K)}async call(b){try{const B=et.Frame.from(this._initializer.frame);const F={context:B._page.context(),page:B._page,frame:B};let K;if(this._initializer.handle)K=await b(F,ot.JSHandle.from(this._initializer.handle));else K=await b(F,...this._initializer.args.map(ot.parseResult));this._channel.resolve({result:(0,ot.serializeArgument)(K)}).catch((()=>{}))}catch(b){this._channel.reject({error:(0,Ye.serializeError)(b)}).catch((()=>{}))}}}function trimUrl(b){if((0,_t.isRegExp)(b))return`/${(0,vt.trimStringWithEllipsis)(b.source,50)}/${b.flags}`;if((0,_t.isString)(b))return`"${(0,vt.trimStringWithEllipsis)(b,50)}"`}0&&0},665:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Playwright:()=>Playwright});b.exports=__toCommonJS(Re);var Me=F(5539);var Le=F(8356);var We=F(2876);var Ge=F(4736);var ze=F(8595);var $e=F(7993);var Ye=F(1872);var Ke=F(9942);class Playwright extends Ge.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this.request=new Ye.APIRequest(this);this.chromium=We.BrowserType.from(K.chromium);this.chromium._playwright=this;this.firefox=We.BrowserType.from(K.firefox);this.firefox._playwright=this;this.webkit=We.BrowserType.from(K.webkit);this.webkit._playwright=this;this._android=Me.Android.from(K.android);this._android._playwright=this;this._electron=ze.Electron.from(K.electron);this._electron._playwright=this;this.devices=this._connection.localUtils()?.devices??{};this.selectors=new Ke.Selectors(this._connection._platform);this.errors={TimeoutError:$e.TimeoutError}}static from(b){return b._object}_browserTypes(){return[this.chromium,this.firefox,this.webkit]}_preLaunchedBrowser(){const b=Le.Browser.from(this._initializer.preLaunchedBrowser);b._connectToBrowserType(this[b._name],{},void 0);return b}_allContexts(){return this._browserTypes().flatMap((b=>[...b._contexts]))}_allPages(){return this._allContexts().flatMap((b=>b.pages()))}}0&&0},9942:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Selectors:()=>Selectors});b.exports=__toCommonJS(Re);var Me=F(2426);var Le=F(8046);class Selectors{constructor(b){this._selectorEngines=[];this._contextsForSelectors=new Set;this._platform=b}async register(b,B,F={}){if(this._selectorEngines.some((B=>B.name===b)))throw new Error(`selectors.register: "${b}" selector engine has been already registered`);const K=await(0,Me.evaluationScript)(this._platform,B,void 0,false);const se={...F,name:b,source:K};for(const b of this._contextsForSelectors)await b._channel.registerSelectorEngine({selectorEngine:se});this._selectorEngines.push(se)}setTestIdAttribute(b){this._testIdAttributeName=b;(0,Le.setTestIdAttribute)(b);for(const B of this._contextsForSelectors)B._channel.setTestIdAttributeName({testIdAttributeName:b}).catch((()=>{}))}_withSelectorOptions(b){return{...b,selectorEngines:this._selectorEngines,testIdAttributeName:this._testIdAttributeName}}}0&&0},5590:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Stream:()=>Stream});b.exports=__toCommonJS(Re);var Me=F(4736);class Stream extends Me.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K)}stream(){return this._platform.streamReadable(this._channel)}}0&&0},8478:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{TimeoutSettings:()=>TimeoutSettings});b.exports=__toCommonJS(Re);var Me=F(4419);class TimeoutSettings{constructor(b,B){this._parent=B;this._platform=b}setDefaultTimeout(b){this._defaultTimeout=b}setDefaultNavigationTimeout(b){this._defaultNavigationTimeout=b}defaultNavigationTimeout(){return this._defaultNavigationTimeout}defaultTimeout(){return this._defaultTimeout}navigationTimeout(b){if(typeof b.timeout==="number")return b.timeout;if(this._defaultNavigationTimeout!==void 0)return this._defaultNavigationTimeout;if(this._platform.isDebugMode())return 0;if(this._defaultTimeout!==void 0)return this._defaultTimeout;if(this._parent)return this._parent.navigationTimeout(b);return Me.DEFAULT_PLAYWRIGHT_TIMEOUT}timeout(b){if(typeof b.timeout==="number")return b.timeout;if(this._platform.isDebugMode())return 0;if(this._defaultTimeout!==void 0)return this._defaultTimeout;if(this._parent)return this._parent.timeout(b);return Me.DEFAULT_PLAYWRIGHT_TIMEOUT}launchTimeout(b){if(typeof b.timeout==="number")return b.timeout;if(this._platform.isDebugMode())return 0;if(this._parent)return this._parent.launchTimeout(b);return Me.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT}}0&&0},2794:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Tracing:()=>Tracing});b.exports=__toCommonJS(Re);var Me=F(3544);var Le=F(4736);class Tracing extends Le.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._includeSources=false;this._isLive=false;this._isTracing=false}static from(b){return b._object}async start(b={}){await this._wrapApiCall((async()=>{this._includeSources=!!b.sources;this._isLive=!!b._live;await this._channel.tracingStart({name:b.name,snapshots:b.snapshots,screenshots:b.screenshots,live:b._live});const{traceName:B}=await this._channel.tracingStartChunk({name:b.name,title:b.title});await this._startCollectingStacks(B,this._isLive)}))}async startChunk(b={}){await this._wrapApiCall((async()=>{const{traceName:B}=await this._channel.tracingStartChunk(b);await this._startCollectingStacks(B,this._isLive)}))}async group(b,B={}){await this._channel.tracingGroup({name:b,location:B.location})}async groupEnd(){await this._channel.tracingGroupEnd()}async _startCollectingStacks(b,B){if(!this._isTracing){this._isTracing=true;this._connection.setIsTracing(true)}const F=await(this._connection.localUtils()?.tracingStarted({tracesDir:this._tracesDir,traceName:b,live:B}));this._stacksId=F?.stacksId}async stopChunk(b={}){await this._wrapApiCall((async()=>{await this._doStopChunk(b.path)}))}async stop(b={}){await this._wrapApiCall((async()=>{await this._doStopChunk(b.path);await this._channel.tracingStop()}))}async _doStopChunk(b){this._resetStackCounter();if(!b){await this._channel.tracingStopChunk({mode:"discard"});if(this._stacksId)await this._connection.localUtils().traceDiscarded({stacksId:this._stacksId});return}const B=this._connection.localUtils();if(!B)throw new Error("Cannot save trace in thin clients");const F=!this._connection.isRemote();if(F){const F=await this._channel.tracingStopChunk({mode:"entries"});await B.zip({zipFile:b,entries:F.entries,mode:"write",stacksId:this._stacksId,includeSources:this._includeSources});return}const K=await this._channel.tracingStopChunk({mode:"archive"});if(!K.artifact){if(this._stacksId)await B.traceDiscarded({stacksId:this._stacksId});return}const se=Me.Artifact.from(K.artifact);await se.saveAs(b);await se.delete();await B.zip({zipFile:b,entries:[],mode:"append",stacksId:this._stacksId,includeSources:this._includeSources})}_resetStackCounter(){if(this._isTracing){this._isTracing=false;this._connection.setIsTracing(false)}}}0&&0},9853:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{kLifecycleEvents:()=>Qe});b.exports=__toCommonJS(oe);const Qe=new Set(["load","domcontentloaded","networkidle","commit"]);0&&0},9283:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Video:()=>Video});b.exports=__toCommonJS(Re);var Me=F(1871);class Video{constructor(b,B){this._artifact=null;this._artifactReadyPromise=new Me.ManualPromise;this._isRemote=false;this._isRemote=B.isRemote();this._artifact=b._closedOrCrashedScope.safeRace(this._artifactReadyPromise)}_artifactReady(b){this._artifactReadyPromise.resolve(b)}async path(){if(this._isRemote)throw new Error(`Path is not available when connecting remotely. Use saveAs() to save a local copy.`);const b=await this._artifact;if(!b)throw new Error("Page did not produce any video frames");return b._initializer.absolutePath}async saveAs(b){const B=await this._artifact;if(!B)throw new Error("Page did not produce any video frames");return await B.saveAs(b)}async delete(){const b=await this._artifact;if(b)await b.delete()}}0&&0},3972:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Waiter:()=>Waiter});b.exports=__toCommonJS(Re);var Me=F(7993);var Le=F(4395);class Waiter{constructor(b,B){this._failures=[];this._logs=[];this._waitId=b._platform.createGuid();this._channelOwner=b;this._savedZone=b._platform.zones.current().pop();this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"before",event:B}}).catch((()=>{}));this._dispose=[()=>this._channelOwner._wrapApiCall((async()=>{await this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"after",error:this._error}})}),{internal:true}).catch((()=>{}))]}static createForEvent(b,B){return new Waiter(b,B)}async waitForEvent(b,B,F){const{promise:K,dispose:se}=waitForEvent(b,B,this._savedZone,F);return await this.waitForPromise(K,se)}rejectOnEvent(b,B,F,K){const{promise:se,dispose:oe}=waitForEvent(b,B,this._savedZone,K);this._rejectOn(se.then((()=>{throw typeof F==="function"?F():F})),oe)}rejectOnTimeout(b,B){if(!b)return;const{promise:F,dispose:K}=waitForTimeout(b);this._rejectOn(F.then((()=>{throw new Me.TimeoutError(B)})),K)}rejectImmediately(b){this._immediateError=b}dispose(){for(const b of this._dispose)b()}async waitForPromise(b,B){try{if(this._immediateError)throw this._immediateError;const F=await Promise.race([b,...this._failures]);if(B)B();return F}catch(b){if(B)B();this._error=b.message;this.dispose();(0,Le.rewriteErrorMessage)(b,b.message+formatLogRecording(this._logs));throw b}}log(b){this._logs.push(b);this._channelOwner._wrapApiCall((async()=>{await this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"log",message:b}})}),{internal:true}).catch((()=>{}))}_rejectOn(b,B){this._failures.push(b);if(B)this._dispose.push(B)}}function waitForEvent(b,B,F,K){let se;const oe=new Promise(((oe,Qe)=>{se=async Re=>{await F.run((async()=>{try{if(K&&!await K(Re))return;b.removeListener(B,se);oe(Re)}catch(F){b.removeListener(B,se);Qe(F)}}))};b.addListener(B,se)}));const dispose=()=>b.removeListener(B,se);return{promise:oe,dispose:dispose}}function waitForTimeout(b){let B;const F=new Promise((F=>B=setTimeout(F,b)));const dispose=()=>clearTimeout(B);return{promise:F,dispose:dispose}}function formatLogRecording(b){if(!b.length)return"";const B=` logs `;const F=60;const K=(F-B.length)/2;const se=F-B.length-K;return`\n${"=".repeat(K)}${B}${"=".repeat(se)}\n${b.join("\n")}\n${"=".repeat(F)}`}0&&0},6590:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{WebError:()=>WebError});b.exports=__toCommonJS(oe);class WebError{constructor(b,B){this._page=b;this._error=B}page(){return this._page}error(){return this._error}}0&&0},2871:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{connectOverWebSocket:()=>connectOverWebSocket});b.exports=__toCommonJS(Re);var Me=F(6738);async function connectOverWebSocket(b,B){const F=b.localUtils();const K=F?new JsonPipeTransport(F):new WebSocketTransport;const se=await K.connect(B);const oe=new Me.Connection(b._platform,F,b._instrumentation,se);oe.markAsRemote();oe.on("close",(()=>K.close()));let Qe;const onTransportClosed=b=>{oe.close(b||Qe)};K.onClose((b=>onTransportClosed(b)));oe.onmessage=b=>K.send(b).catch((()=>onTransportClosed()));K.onMessage((b=>{try{oe.dispatch(b)}catch(b){Qe=String(b);K.close().catch((()=>{}))}}));return oe}class JsonPipeTransport{constructor(b){this._owner=b}async connect(b){const{pipe:B,headers:F}=await this._owner._channel.connect(b);this._pipe=B;return F}async send(b){await this._pipe.send({message:b})}onMessage(b){this._pipe.on("message",(({message:B})=>b(B)))}onClose(b){this._pipe.on("closed",(({reason:B})=>b(B)))}async close(){await this._pipe.close().catch((()=>{}))}}class WebSocketTransport{async connect(b){this._ws=new window.WebSocket(b.wsEndpoint);return[]}async send(b){this._ws.send(JSON.stringify(b))}onMessage(b){this._ws.addEventListener("message",(B=>b(JSON.parse(B.data))))}onClose(b){this._ws.addEventListener("close",(()=>b()))}async close(){this._ws.close()}}0&&0},8516:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Worker:()=>Worker});b.exports=__toCommonJS(Re);var Me=F(4736);var Le=F(7993);var We=F(7336);var Ge=F(7347);var ze=F(1871);var $e=F(8478);var Ye=F(3972);class Worker extends Me.ChannelOwner{constructor(b,B,F,K){super(b,B,F,K);this._closedScope=new ze.LongStandingScope;this._setEventToSubscriptionMapping(new Map([[We.Events.Worker.Console,"console"]]));this._channel.on("close",(()=>{if(this._page)this._page._workers.delete(this);if(this._context)this._context._serviceWorkers.delete(this);this.emit(We.Events.Worker.Close,this)}));this.once(We.Events.Worker.Close,(()=>this._closedScope.close(this._page?._closeErrorWithReason()||new Le.TargetClosedError)))}static fromNullable(b){return b?Worker.from(b):null}static from(b){return b._object}url(){return this._initializer.url}async evaluate(b,B){(0,Ge.assertMaxArguments)(arguments.length,2);const F=await this._channel.evaluateExpression({expression:String(b),isFunction:typeof b==="function",arg:(0,Ge.serializeArgument)(B)});return(0,Ge.parseResult)(F.value)}async evaluateHandle(b,B){(0,Ge.assertMaxArguments)(arguments.length,2);const F=await this._channel.evaluateExpressionHandle({expression:String(b),isFunction:typeof b==="function",arg:(0,Ge.serializeArgument)(B)});return Ge.JSHandle.from(F.handle)}async waitForEvent(b,B={}){return await this._wrapApiCall((async()=>{const F=this._page?._timeoutSettings??this._context?._timeoutSettings??new $e.TimeoutSettings(this._platform);const K=F.timeout(typeof B==="function"?{}:B);const se=typeof B==="function"?B:B.predicate;const oe=Ye.Waiter.createForEvent(this,b);oe.rejectOnTimeout(K,`Timeout ${K}ms exceeded while waiting for event "${b}"`);if(b!==We.Events.Worker.Close)oe.rejectOnEvent(this,We.Events.Worker.Close,(()=>new Le.TargetClosedError));const Qe=await oe.waitForEvent(this,b,se);oe.dispose();return Qe}))}}0&&0},5314:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{WritableStream:()=>WritableStream});b.exports=__toCommonJS(Re);var Me=F(4736);class WritableStream extends Me.ChannelOwner{static from(b){return b._object}constructor(b,B,F,K){super(b,B,F,K)}stream(){return this._platform.streamWritable(this._channel)}}0&&0},8113:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{source:()=>Qe});b.exports=__toCommonJS(oe);const Qe='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/bindingsController.ts\nvar bindingsController_exports = {};\n__export(bindingsController_exports, {\n  BindingsController: () => BindingsController\n});\nmodule.exports = __toCommonJS(bindingsController_exports);\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/bindingsController.ts\nvar BindingsController = class {\n  constructor(global, globalBindingName) {\n    this._bindings = /* @__PURE__ */ new Map();\n    this._global = global;\n    this._globalBindingName = globalBindingName;\n  }\n  addBinding(bindingName, needsHandle) {\n    const data = {\n      callbacks: /* @__PURE__ */ new Map(),\n      lastSeq: 0,\n      handles: /* @__PURE__ */ new Map(),\n      removed: false\n    };\n    this._bindings.set(bindingName, data);\n    this._global[bindingName] = (...args) => {\n      if (data.removed)\n        throw new Error(`binding "${bindingName}" has been removed`);\n      if (needsHandle && args.slice(1).some((arg) => arg !== void 0))\n        throw new Error(`exposeBindingHandle supports a single argument, ${args.length} received`);\n      const seq = ++data.lastSeq;\n      const promise = new Promise((resolve, reject) => data.callbacks.set(seq, { resolve, reject }));\n      let payload;\n      if (needsHandle) {\n        data.handles.set(seq, args[0]);\n        payload = { name: bindingName, seq };\n      } else {\n        const serializedArgs = [];\n        for (let i = 0; i < args.length; i++) {\n          serializedArgs[i] = serializeAsCallArgument(args[i], (v) => {\n            return { fallThrough: v };\n          });\n        }\n        payload = { name: bindingName, seq, serializedArgs };\n      }\n      this._global[this._globalBindingName](JSON.stringify(payload));\n      return promise;\n    };\n  }\n  removeBinding(bindingName) {\n    const data = this._bindings.get(bindingName);\n    if (data)\n      data.removed = true;\n    this._bindings.delete(bindingName);\n    delete this._global[bindingName];\n  }\n  takeBindingHandle(arg) {\n    const handles = this._bindings.get(arg.name).handles;\n    const handle = handles.get(arg.seq);\n    handles.delete(arg.seq);\n    return handle;\n  }\n  deliverBindingResult(arg) {\n    const callbacks = this._bindings.get(arg.name).callbacks;\n    if ("error" in arg)\n      callbacks.get(arg.seq).reject(arg.error);\n    else\n      callbacks.get(arg.seq).resolve(arg.result);\n    callbacks.delete(arg.seq);\n  }\n};\n';0&&0},3219:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{source:()=>Qe});b.exports=__toCommonJS(oe);const Qe='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/clock.ts\nvar clock_exports = {};\n__export(clock_exports, {\n  ClockController: () => ClockController,\n  createClock: () => createClock,\n  inject: () => inject,\n  install: () => install\n});\nmodule.exports = __toCommonJS(clock_exports);\nvar ClockController = class {\n  constructor(embedder) {\n    this._duringTick = false;\n    this._uniqueTimerId = idCounterStart;\n    this.disposables = [];\n    this._log = [];\n    this._timers = /* @__PURE__ */ new Map();\n    this._now = { time: asWallTime(0), isFixedTime: false, ticks: 0, origin: asWallTime(-1) };\n    this._embedder = embedder;\n  }\n  uninstall() {\n    this.disposables.forEach((dispose) => dispose());\n    this.disposables.length = 0;\n  }\n  now() {\n    this._replayLogOnce();\n    this._syncRealTime();\n    return this._now.time;\n  }\n  install(time) {\n    this._replayLogOnce();\n    this._innerSetTime(asWallTime(time));\n  }\n  setSystemTime(time) {\n    this._replayLogOnce();\n    this._innerSetTime(asWallTime(time));\n  }\n  setFixedTime(time) {\n    this._replayLogOnce();\n    this._innerSetFixedTime(asWallTime(time));\n  }\n  performanceNow() {\n    this._replayLogOnce();\n    this._syncRealTime();\n    return this._now.ticks;\n  }\n  _syncRealTime() {\n    if (!this._realTime)\n      return;\n    const now = this._embedder.performanceNow();\n    const sinceLastSync = now - this._realTime.lastSyncTicks;\n    if (sinceLastSync > 0) {\n      this._advanceNow(shiftTicks(this._now.ticks, sinceLastSync));\n      this._realTime.lastSyncTicks = now;\n    }\n  }\n  _innerSetTime(time) {\n    this._now.time = time;\n    this._now.isFixedTime = false;\n    if (this._now.origin < 0)\n      this._now.origin = this._now.time;\n  }\n  _innerSetFixedTime(time) {\n    this._innerSetTime(time);\n    this._now.isFixedTime = true;\n  }\n  _advanceNow(to) {\n    if (this._now.ticks > to) {\n      return;\n    }\n    if (!this._now.isFixedTime)\n      this._now.time = asWallTime(this._now.time + to - this._now.ticks);\n    this._now.ticks = to;\n  }\n  async log(type, time, param) {\n    this._log.push({ type, time, param });\n  }\n  async runFor(ticks) {\n    this._replayLogOnce();\n    if (ticks < 0)\n      throw new TypeError("Negative ticks are not supported");\n    await this._runWithDisabledRealTimeSync(async () => {\n      await this._runTo(shiftTicks(this._now.ticks, ticks));\n    });\n  }\n  async _runTo(to) {\n    to = Math.ceil(to);\n    if (this._now.ticks > to)\n      return;\n    let firstException;\n    while (true) {\n      const result = await this._callFirstTimer(to);\n      if (!result.timerFound)\n        break;\n      firstException = firstException || result.error;\n    }\n    this._advanceNow(to);\n    if (firstException)\n      throw firstException;\n  }\n  async pauseAt(time) {\n    this._replayLogOnce();\n    await this._innerPause();\n    const toConsume = time - this._now.time;\n    await this._innerFastForwardTo(shiftTicks(this._now.ticks, toConsume));\n    return toConsume;\n  }\n  async _innerPause() {\n    var _a;\n    this._realTime = void 0;\n    await ((_a = this._currentRealTimeTimer) == null ? void 0 : _a.dispose());\n    this._currentRealTimeTimer = void 0;\n  }\n  resume() {\n    this._replayLogOnce();\n    this._innerResume();\n  }\n  _innerResume() {\n    const now = this._embedder.performanceNow();\n    this._realTime = { startTicks: now, lastSyncTicks: now };\n    this._updateRealTimeTimer();\n  }\n  _updateRealTimeTimer() {\n    var _a;\n    if ((_a = this._currentRealTimeTimer) == null ? void 0 : _a.promise) {\n      return;\n    }\n    const firstTimer = this._firstTimer();\n    const nextTick = Math.min(firstTimer ? firstTimer.callAt : this._now.ticks + maxTimeout, this._now.ticks + 100);\n    const callAt = this._currentRealTimeTimer ? Math.min(this._currentRealTimeTimer.callAt, nextTick) : nextTick;\n    if (this._currentRealTimeTimer) {\n      this._currentRealTimeTimer.cancel();\n      this._currentRealTimeTimer = void 0;\n    }\n    const realTimeTimer = {\n      callAt,\n      promise: void 0,\n      cancel: this._embedder.setTimeout(() => {\n        this._syncRealTime();\n        realTimeTimer.promise = this._runTo(this._now.ticks).catch((e) => console.error(e));\n        void realTimeTimer.promise.then(() => {\n          this._currentRealTimeTimer = void 0;\n          if (this._realTime)\n            this._updateRealTimeTimer();\n        });\n      }, callAt - this._now.ticks),\n      dispose: async () => {\n        realTimeTimer.cancel();\n        await realTimeTimer.promise;\n      }\n    };\n    this._currentRealTimeTimer = realTimeTimer;\n  }\n  async _runWithDisabledRealTimeSync(fn) {\n    if (!this._realTime) {\n      await fn();\n      return;\n    }\n    await this._innerPause();\n    try {\n      await fn();\n    } finally {\n      this._innerResume();\n    }\n  }\n  async fastForward(ticks) {\n    this._replayLogOnce();\n    await this._runWithDisabledRealTimeSync(async () => {\n      await this._innerFastForwardTo(shiftTicks(this._now.ticks, ticks | 0));\n    });\n  }\n  async _innerFastForwardTo(to) {\n    if (to < this._now.ticks)\n      throw new Error("Cannot fast-forward to the past");\n    for (const timer of this._timers.values()) {\n      if (to > timer.callAt)\n        timer.callAt = to;\n    }\n    await this._runTo(to);\n  }\n  addTimer(options) {\n    this._replayLogOnce();\n    if (options.type === "AnimationFrame" /* AnimationFrame */ && !options.func)\n      throw new Error("Callback must be provided to requestAnimationFrame calls");\n    if (options.type === "IdleCallback" /* IdleCallback */ && !options.func)\n      throw new Error("Callback must be provided to requestIdleCallback calls");\n    if (["Timeout" /* Timeout */, "Interval" /* Interval */].includes(options.type) && !options.func && options.delay === void 0)\n      throw new Error("Callback must be provided to timer calls");\n    let delay = options.delay ? +options.delay : 0;\n    if (!Number.isFinite(delay))\n      delay = 0;\n    delay = delay > maxTimeout ? 1 : delay;\n    delay = Math.max(0, delay);\n    const timer = {\n      type: options.type,\n      func: options.func,\n      args: options.args || [],\n      delay,\n      callAt: shiftTicks(this._now.ticks, delay || (this._duringTick ? 1 : 0)),\n      createdAt: this._now.ticks,\n      id: this._uniqueTimerId++,\n      error: new Error()\n    };\n    this._timers.set(timer.id, timer);\n    if (this._realTime)\n      this._updateRealTimeTimer();\n    return timer.id;\n  }\n  countTimers() {\n    return this._timers.size;\n  }\n  _firstTimer(beforeTick) {\n    let firstTimer = null;\n    for (const timer of this._timers.values()) {\n      const isInRange = beforeTick === void 0 || timer.callAt <= beforeTick;\n      if (isInRange && (!firstTimer || compareTimers(firstTimer, timer) === 1))\n        firstTimer = timer;\n    }\n    return firstTimer;\n  }\n  _takeFirstTimer(beforeTick) {\n    const timer = this._firstTimer(beforeTick);\n    if (!timer)\n      return null;\n    this._advanceNow(timer.callAt);\n    if (timer.type === "Interval" /* Interval */)\n      timer.callAt = shiftTicks(timer.callAt, timer.delay);\n    else\n      this._timers.delete(timer.id);\n    return timer;\n  }\n  async _callFirstTimer(beforeTick) {\n    const timer = this._takeFirstTimer(beforeTick);\n    if (!timer)\n      return { timerFound: false };\n    this._duringTick = true;\n    try {\n      if (typeof timer.func !== "function") {\n        let error2;\n        try {\n          (() => {\n            globalThis.eval(timer.func);\n          })();\n        } catch (e) {\n          error2 = e;\n        }\n        await new Promise((f) => this._embedder.setTimeout(f));\n        return { timerFound: true, error: error2 };\n      }\n      let args = timer.args;\n      if (timer.type === "AnimationFrame" /* AnimationFrame */)\n        args = [this._now.ticks];\n      else if (timer.type === "IdleCallback" /* IdleCallback */)\n        args = [{ didTimeout: false, timeRemaining: () => 0 }];\n      let error;\n      try {\n        timer.func.apply(null, args);\n      } catch (e) {\n        error = e;\n      }\n      await new Promise((f) => this._embedder.setTimeout(f));\n      return { timerFound: true, error };\n    } finally {\n      this._duringTick = false;\n    }\n  }\n  getTimeToNextFrame() {\n    this._replayLogOnce();\n    return 16 - this._now.ticks % 16;\n  }\n  clearTimer(timerId, type) {\n    this._replayLogOnce();\n    if (!timerId) {\n      return;\n    }\n    const id = Number(timerId);\n    if (Number.isNaN(id) || id < idCounterStart) {\n      const handlerName = getClearHandler(type);\n      new Error(`Clock: ${handlerName} was invoked to clear a native timer instead of one created by the clock library.`);\n    }\n    const timer = this._timers.get(id);\n    if (timer) {\n      if (timer.type === type || timer.type === "Timeout" && type === "Interval" || timer.type === "Interval" && type === "Timeout") {\n        this._timers.delete(id);\n      } else {\n        const clear = getClearHandler(type);\n        const schedule = getScheduleHandler(timer.type);\n        throw new Error(\n          `Cannot clear timer: timer created with ${schedule}() but cleared with ${clear}()`\n        );\n      }\n    }\n  }\n  _replayLogOnce() {\n    if (!this._log.length)\n      return;\n    let lastLogTime = -1;\n    let isPaused = false;\n    for (const { type, time, param } of this._log) {\n      if (!isPaused && lastLogTime !== -1)\n        this._advanceNow(shiftTicks(this._now.ticks, time - lastLogTime));\n      lastLogTime = time;\n      if (type === "install") {\n        this._innerSetTime(asWallTime(param));\n      } else if (type === "fastForward" || type === "runFor") {\n        this._advanceNow(shiftTicks(this._now.ticks, param));\n      } else if (type === "pauseAt") {\n        isPaused = true;\n        this._innerSetTime(asWallTime(param));\n      } else if (type === "resume") {\n        isPaused = false;\n      } else if (type === "setFixedTime") {\n        this._innerSetFixedTime(asWallTime(param));\n      } else if (type === "setSystemTime") {\n        this._innerSetTime(asWallTime(param));\n      }\n    }\n    if (!isPaused) {\n      if (lastLogTime > 0)\n        this._advanceNow(shiftTicks(this._now.ticks, this._embedder.dateNow() - lastLogTime));\n      this._innerResume();\n    } else {\n      this._realTime = void 0;\n    }\n    this._log.length = 0;\n  }\n};\nfunction mirrorDateProperties(target, source) {\n  for (const prop in source) {\n    if (source.hasOwnProperty(prop))\n      target[prop] = source[prop];\n  }\n  target.toString = () => source.toString();\n  target.prototype = source.prototype;\n  target.parse = source.parse;\n  target.UTC = source.UTC;\n  target.prototype.toUTCString = source.prototype.toUTCString;\n  target.isFake = true;\n  return target;\n}\nfunction createDate(clock, NativeDate) {\n  function ClockDate(year, month, date, hour, minute, second, ms) {\n    if (!(this instanceof ClockDate))\n      return new NativeDate(clock.now()).toString();\n    switch (arguments.length) {\n      case 0:\n        return new NativeDate(clock.now());\n      case 1:\n        return new NativeDate(year);\n      case 2:\n        return new NativeDate(year, month);\n      case 3:\n        return new NativeDate(year, month, date);\n      case 4:\n        return new NativeDate(year, month, date, hour);\n      case 5:\n        return new NativeDate(year, month, date, hour, minute);\n      case 6:\n        return new NativeDate(\n          year,\n          month,\n          date,\n          hour,\n          minute,\n          second\n        );\n      default:\n        return new NativeDate(\n          year,\n          month,\n          date,\n          hour,\n          minute,\n          second,\n          ms\n        );\n    }\n  }\n  ClockDate.now = () => clock.now();\n  return mirrorDateProperties(ClockDate, NativeDate);\n}\nfunction createIntl(clock, NativeIntl) {\n  const ClockIntl = {};\n  for (const key of Object.getOwnPropertyNames(NativeIntl))\n    ClockIntl[key] = NativeIntl[key];\n  ClockIntl.DateTimeFormat = function(...args) {\n    const realFormatter = new NativeIntl.DateTimeFormat(...args);\n    const formatter = {\n      formatRange: realFormatter.formatRange.bind(realFormatter),\n      formatRangeToParts: realFormatter.formatRangeToParts.bind(realFormatter),\n      resolvedOptions: realFormatter.resolvedOptions.bind(realFormatter),\n      format: (date) => realFormatter.format(date || clock.now()),\n      formatToParts: (date) => realFormatter.formatToParts(date || clock.now())\n    };\n    return formatter;\n  };\n  ClockIntl.DateTimeFormat.prototype = Object.create(\n    NativeIntl.DateTimeFormat.prototype\n  );\n  ClockIntl.DateTimeFormat.supportedLocalesOf = NativeIntl.DateTimeFormat.supportedLocalesOf;\n  return ClockIntl;\n}\nfunction compareTimers(a, b) {\n  if (a.callAt < b.callAt)\n    return -1;\n  if (a.callAt > b.callAt)\n    return 1;\n  if (a.type === "Immediate" /* Immediate */ && b.type !== "Immediate" /* Immediate */)\n    return -1;\n  if (a.type !== "Immediate" /* Immediate */ && b.type === "Immediate" /* Immediate */)\n    return 1;\n  if (a.createdAt < b.createdAt)\n    return -1;\n  if (a.createdAt > b.createdAt)\n    return 1;\n  if (a.id < b.id)\n    return -1;\n  if (a.id > b.id)\n    return 1;\n}\nvar maxTimeout = Math.pow(2, 31) - 1;\nvar idCounterStart = 1e12;\nfunction platformOriginals(globalObject) {\n  const raw = {\n    setTimeout: globalObject.setTimeout,\n    clearTimeout: globalObject.clearTimeout,\n    setInterval: globalObject.setInterval,\n    clearInterval: globalObject.clearInterval,\n    requestAnimationFrame: globalObject.requestAnimationFrame ? globalObject.requestAnimationFrame : void 0,\n    cancelAnimationFrame: globalObject.cancelAnimationFrame ? globalObject.cancelAnimationFrame : void 0,\n    requestIdleCallback: globalObject.requestIdleCallback ? globalObject.requestIdleCallback : void 0,\n    cancelIdleCallback: globalObject.cancelIdleCallback ? globalObject.cancelIdleCallback : void 0,\n    Date: globalObject.Date,\n    performance: globalObject.performance,\n    Intl: globalObject.Intl\n  };\n  const bound = { ...raw };\n  for (const key of Object.keys(bound)) {\n    if (key !== "Date" && typeof bound[key] === "function")\n      bound[key] = bound[key].bind(globalObject);\n  }\n  return { raw, bound };\n}\nfunction getScheduleHandler(type) {\n  if (type === "IdleCallback" || type === "AnimationFrame")\n    return `request${type}`;\n  return `set${type}`;\n}\nfunction createApi(clock, originals) {\n  return {\n    setTimeout: (func, timeout, ...args) => {\n      const delay = timeout ? +timeout : timeout;\n      return clock.addTimer({\n        type: "Timeout" /* Timeout */,\n        func,\n        args,\n        delay\n      });\n    },\n    clearTimeout: (timerId) => {\n      if (timerId)\n        clock.clearTimer(timerId, "Timeout" /* Timeout */);\n    },\n    setInterval: (func, timeout, ...args) => {\n      const delay = timeout ? +timeout : timeout;\n      return clock.addTimer({\n        type: "Interval" /* Interval */,\n        func,\n        args,\n        delay\n      });\n    },\n    clearInterval: (timerId) => {\n      if (timerId)\n        return clock.clearTimer(timerId, "Interval" /* Interval */);\n    },\n    requestAnimationFrame: (callback) => {\n      return clock.addTimer({\n        type: "AnimationFrame" /* AnimationFrame */,\n        func: callback,\n        delay: clock.getTimeToNextFrame()\n      });\n    },\n    cancelAnimationFrame: (timerId) => {\n      if (timerId)\n        return clock.clearTimer(timerId, "AnimationFrame" /* AnimationFrame */);\n    },\n    requestIdleCallback: (callback, options) => {\n      let timeToNextIdlePeriod = 0;\n      if (clock.countTimers() > 0)\n        timeToNextIdlePeriod = 50;\n      return clock.addTimer({\n        type: "IdleCallback" /* IdleCallback */,\n        func: callback,\n        delay: (options == null ? void 0 : options.timeout) ? Math.min(options == null ? void 0 : options.timeout, timeToNextIdlePeriod) : timeToNextIdlePeriod\n      });\n    },\n    cancelIdleCallback: (timerId) => {\n      if (timerId)\n        return clock.clearTimer(timerId, "IdleCallback" /* IdleCallback */);\n    },\n    Intl: originals.Intl ? createIntl(clock, originals.Intl) : void 0,\n    Date: createDate(clock, originals.Date),\n    performance: originals.performance ? fakePerformance(clock, originals.performance) : void 0\n  };\n}\nfunction getClearHandler(type) {\n  if (type === "IdleCallback" || type === "AnimationFrame")\n    return `cancel${type}`;\n  return `clear${type}`;\n}\nfunction fakePerformance(clock, performance) {\n  const result = {\n    now: () => clock.performanceNow()\n  };\n  result.__defineGetter__("timeOrigin", () => clock._now.origin || 0);\n  for (const key of Object.keys(performance.__proto__)) {\n    if (key === "now" || key === "timeOrigin")\n      continue;\n    if (key === "getEntries" || key === "getEntriesByName" || key === "getEntriesByType")\n      result[key] = () => [];\n    else\n      result[key] = () => {\n      };\n  }\n  return result;\n}\nfunction createClock(globalObject) {\n  const originals = platformOriginals(globalObject);\n  const embedder = {\n    dateNow: () => originals.raw.Date.now(),\n    performanceNow: () => Math.ceil(originals.raw.performance.now()),\n    setTimeout: (task, timeout) => {\n      const timerId = originals.bound.setTimeout(task, timeout);\n      return () => originals.bound.clearTimeout(timerId);\n    },\n    setInterval: (task, delay) => {\n      const intervalId = originals.bound.setInterval(task, delay);\n      return () => originals.bound.clearInterval(intervalId);\n    }\n  };\n  const clock = new ClockController(embedder);\n  const api = createApi(clock, originals.bound);\n  return { clock, api, originals: originals.raw };\n}\nfunction install(globalObject, config = {}) {\n  var _a, _b;\n  if ((_a = globalObject.Date) == null ? void 0 : _a.isFake) {\n    throw new TypeError(`Can\'t install fake timers twice on the same global object.`);\n  }\n  const { clock, api, originals } = createClock(globalObject);\n  const toFake = ((_b = config.toFake) == null ? void 0 : _b.length) ? config.toFake : Object.keys(originals);\n  for (const method of toFake) {\n    if (method === "Date") {\n      globalObject.Date = mirrorDateProperties(api.Date, globalObject.Date);\n    } else if (method === "Intl") {\n      globalObject.Intl = api[method];\n    } else if (method === "performance") {\n      globalObject.performance = api[method];\n      const kEventTimeStamp = Symbol("playwrightEventTimeStamp");\n      Object.defineProperty(Event.prototype, "timeStamp", {\n        get() {\n          var _a2;\n          if (!this[kEventTimeStamp])\n            this[kEventTimeStamp] = (_a2 = api.performance) == null ? void 0 : _a2.now();\n          return this[kEventTimeStamp];\n        }\n      });\n    } else {\n      globalObject[method] = (...args) => {\n        return api[method].apply(api, args);\n      };\n    }\n    clock.disposables.push(() => {\n      globalObject[method] = originals[method];\n    });\n  }\n  return { clock, api, originals };\n}\nfunction inject(globalObject) {\n  const builtins = platformOriginals(globalObject).bound;\n  const { clock: controller } = install(globalObject);\n  controller.resume();\n  return {\n    controller,\n    builtins\n  };\n}\nfunction asWallTime(n) {\n  return n;\n}\nfunction shiftTicks(ticks, ms) {\n  return ticks + ms;\n}\n';0&&0},3768:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{source:()=>Qe});b.exports=__toCommonJS(oe);const Qe='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/injectedScript.ts\nvar injectedScript_exports = {};\n__export(injectedScript_exports, {\n  InjectedScript: () => InjectedScript\n});\nmodule.exports = __toCommonJS(injectedScript_exports);\n\n// packages/playwright-core/src/utils/isomorphic/ariaSnapshot.ts\nfunction ariaPropsEqual(a, b) {\n  return a.active === b.active && a.checked === b.checked && a.disabled === b.disabled && a.expanded === b.expanded && a.selected === b.selected && a.level === b.level && a.pressed === b.pressed;\n}\nfunction parseAriaSnapshot(yaml, text, options = {}) {\n  var _a;\n  const lineCounter = new yaml.LineCounter();\n  const parseOptions = {\n    keepSourceTokens: true,\n    lineCounter,\n    ...options\n  };\n  const yamlDoc = yaml.parseDocument(text, parseOptions);\n  const errors = [];\n  const convertRange = (range) => {\n    return [lineCounter.linePos(range[0]), lineCounter.linePos(range[1])];\n  };\n  const addError = (error) => {\n    errors.push({\n      message: error.message,\n      range: [lineCounter.linePos(error.pos[0]), lineCounter.linePos(error.pos[1])]\n    });\n  };\n  const convertSeq = (container, seq) => {\n    for (const item of seq.items) {\n      const itemIsString = item instanceof yaml.Scalar && typeof item.value === "string";\n      if (itemIsString) {\n        const childNode = KeyParser.parse(item, parseOptions, errors);\n        if (childNode) {\n          container.children = container.children || [];\n          container.children.push(childNode);\n        }\n        continue;\n      }\n      const itemIsMap = item instanceof yaml.YAMLMap;\n      if (itemIsMap) {\n        convertMap(container, item);\n        continue;\n      }\n      errors.push({\n        message: "Sequence items should be strings or maps",\n        range: convertRange(item.range || seq.range)\n      });\n    }\n  };\n  const convertMap = (container, map) => {\n    var _a2;\n    for (const entry of map.items) {\n      container.children = container.children || [];\n      const keyIsString = entry.key instanceof yaml.Scalar && typeof entry.key.value === "string";\n      if (!keyIsString) {\n        errors.push({\n          message: "Only string keys are supported",\n          range: convertRange(entry.key.range || map.range)\n        });\n        continue;\n      }\n      const key = entry.key;\n      const value = entry.value;\n      if (key.value === "text") {\n        const valueIsString = value instanceof yaml.Scalar && typeof value.value === "string";\n        if (!valueIsString) {\n          errors.push({\n            message: "Text value should be a string",\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.children.push({\n          kind: "text",\n          text: textValue(value.value)\n        });\n        continue;\n      }\n      if (key.value === "/children") {\n        const valueIsString = value instanceof yaml.Scalar && typeof value.value === "string";\n        if (!valueIsString || value.value !== "contain" && value.value !== "equal" && value.value !== "deep-equal") {\n          errors.push({\n            message: \'Strict value should be "contain", "equal" or "deep-equal"\',\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.containerMode = value.value;\n        continue;\n      }\n      if (key.value.startsWith("/")) {\n        const valueIsString = value instanceof yaml.Scalar && typeof value.value === "string";\n        if (!valueIsString) {\n          errors.push({\n            message: "Property value should be a string",\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.props = (_a2 = container.props) != null ? _a2 : {};\n        container.props[key.value.slice(1)] = textValue(value.value);\n        continue;\n      }\n      const childNode = KeyParser.parse(key, parseOptions, errors);\n      if (!childNode)\n        continue;\n      const valueIsScalar = value instanceof yaml.Scalar;\n      if (valueIsScalar) {\n        const type = typeof value.value;\n        if (type !== "string" && type !== "number" && type !== "boolean") {\n          errors.push({\n            message: "Node value should be a string or a sequence",\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.children.push({\n          ...childNode,\n          children: [{\n            kind: "text",\n            text: textValue(String(value.value))\n          }]\n        });\n        continue;\n      }\n      const valueIsSequence = value instanceof yaml.YAMLSeq;\n      if (valueIsSequence) {\n        container.children.push(childNode);\n        convertSeq(childNode, value);\n        continue;\n      }\n      errors.push({\n        message: "Map values should be strings or sequences",\n        range: convertRange(entry.value.range || map.range)\n      });\n    }\n  };\n  const fragment = { kind: "role", role: "fragment" };\n  yamlDoc.errors.forEach(addError);\n  if (errors.length)\n    return { errors, fragment };\n  if (!(yamlDoc.contents instanceof yaml.YAMLSeq)) {\n    errors.push({\n      message: \'Aria snapshot must be a YAML sequence, elements starting with " -"\',\n      range: yamlDoc.contents ? convertRange(yamlDoc.contents.range) : [{ line: 0, col: 0 }, { line: 0, col: 0 }]\n    });\n  }\n  if (errors.length)\n    return { errors, fragment };\n  convertSeq(fragment, yamlDoc.contents);\n  if (errors.length)\n    return { errors, fragment: emptyFragment };\n  if (((_a = fragment.children) == null ? void 0 : _a.length) === 1 && (!fragment.containerMode || fragment.containerMode === "contain"))\n    return { fragment: fragment.children[0], errors: [] };\n  return { fragment, errors: [] };\n}\nvar emptyFragment = { kind: "role", role: "fragment" };\nfunction normalizeWhitespace(text) {\n  return text.replace(/[\\u200b\\u00ad]/g, "").replace(/[\\r\\n\\s\\t]+/g, " ").trim();\n}\nfunction textValue(value) {\n  return {\n    raw: value,\n    normalized: normalizeWhitespace(value)\n  };\n}\nvar KeyParser = class _KeyParser {\n  static parse(text, options, errors) {\n    try {\n      return new _KeyParser(text.value)._parse();\n    } catch (e) {\n      if (e instanceof ParserError) {\n        const message = options.prettyErrors === false ? e.message : e.message + ":\\n\\n" + text.value + "\\n" + " ".repeat(e.pos) + "^\\n";\n        errors.push({\n          message,\n          range: [options.lineCounter.linePos(text.range[0]), options.lineCounter.linePos(text.range[0] + e.pos)]\n        });\n        return null;\n      }\n      throw e;\n    }\n  }\n  constructor(input) {\n    this._input = input;\n    this._pos = 0;\n    this._length = input.length;\n  }\n  _peek() {\n    return this._input[this._pos] || "";\n  }\n  _next() {\n    if (this._pos < this._length)\n      return this._input[this._pos++];\n    return null;\n  }\n  _eof() {\n    return this._pos >= this._length;\n  }\n  _isWhitespace() {\n    return !this._eof() && /\\s/.test(this._peek());\n  }\n  _skipWhitespace() {\n    while (this._isWhitespace())\n      this._pos++;\n  }\n  _readIdentifier(type) {\n    if (this._eof())\n      this._throwError(`Unexpected end of input when expecting ${type}`);\n    const start = this._pos;\n    while (!this._eof() && /[a-zA-Z]/.test(this._peek()))\n      this._pos++;\n    return this._input.slice(start, this._pos);\n  }\n  _readString() {\n    let result = "";\n    let escaped = false;\n    while (!this._eof()) {\n      const ch = this._next();\n      if (escaped) {\n        result += ch;\n        escaped = false;\n      } else if (ch === "\\\\") {\n        escaped = true;\n      } else if (ch === \'"\') {\n        return result;\n      } else {\n        result += ch;\n      }\n    }\n    this._throwError("Unterminated string");\n  }\n  _throwError(message, offset = 0) {\n    throw new ParserError(message, offset || this._pos);\n  }\n  _readRegex() {\n    let result = "";\n    let escaped = false;\n    let insideClass = false;\n    while (!this._eof()) {\n      const ch = this._next();\n      if (escaped) {\n        result += ch;\n        escaped = false;\n      } else if (ch === "\\\\") {\n        escaped = true;\n        result += ch;\n      } else if (ch === "/" && !insideClass) {\n        return { pattern: result };\n      } else if (ch === "[") {\n        insideClass = true;\n        result += ch;\n      } else if (ch === "]" && insideClass) {\n        result += ch;\n        insideClass = false;\n      } else {\n        result += ch;\n      }\n    }\n    this._throwError("Unterminated regex");\n  }\n  _readStringOrRegex() {\n    const ch = this._peek();\n    if (ch === \'"\') {\n      this._next();\n      return normalizeWhitespace(this._readString());\n    }\n    if (ch === "/") {\n      this._next();\n      return this._readRegex();\n    }\n    return null;\n  }\n  _readAttributes(result) {\n    let errorPos = this._pos;\n    while (true) {\n      this._skipWhitespace();\n      if (this._peek() === "[") {\n        this._next();\n        this._skipWhitespace();\n        errorPos = this._pos;\n        const flagName = this._readIdentifier("attribute");\n        this._skipWhitespace();\n        let flagValue = "";\n        if (this._peek() === "=") {\n          this._next();\n          this._skipWhitespace();\n          errorPos = this._pos;\n          while (this._peek() !== "]" && !this._isWhitespace() && !this._eof())\n            flagValue += this._next();\n        }\n        this._skipWhitespace();\n        if (this._peek() !== "]")\n          this._throwError("Expected ]");\n        this._next();\n        this._applyAttribute(result, flagName, flagValue || "true", errorPos);\n      } else {\n        break;\n      }\n    }\n  }\n  _parse() {\n    this._skipWhitespace();\n    const role = this._readIdentifier("role");\n    this._skipWhitespace();\n    const name = this._readStringOrRegex() || "";\n    const result = { kind: "role", role, name };\n    this._readAttributes(result);\n    this._skipWhitespace();\n    if (!this._eof())\n      this._throwError("Unexpected input");\n    return result;\n  }\n  _applyAttribute(node, key, value, errorPos) {\n    if (key === "checked") {\n      this._assert(value === "true" || value === "false" || value === "mixed", \'Value of "checked" attribute must be a boolean or "mixed"\', errorPos);\n      node.checked = value === "true" ? true : value === "false" ? false : "mixed";\n      return;\n    }\n    if (key === "disabled") {\n      this._assert(value === "true" || value === "false", \'Value of "disabled" attribute must be a boolean\', errorPos);\n      node.disabled = value === "true";\n      return;\n    }\n    if (key === "expanded") {\n      this._assert(value === "true" || value === "false", \'Value of "expanded" attribute must be a boolean\', errorPos);\n      node.expanded = value === "true";\n      return;\n    }\n    if (key === "active") {\n      this._assert(value === "true" || value === "false", \'Value of "active" attribute must be a boolean\', errorPos);\n      node.active = value === "true";\n      return;\n    }\n    if (key === "level") {\n      this._assert(!isNaN(Number(value)), \'Value of "level" attribute must be a number\', errorPos);\n      node.level = Number(value);\n      return;\n    }\n    if (key === "pressed") {\n      this._assert(value === "true" || value === "false" || value === "mixed", \'Value of "pressed" attribute must be a boolean or "mixed"\', errorPos);\n      node.pressed = value === "true" ? true : value === "false" ? false : "mixed";\n      return;\n    }\n    if (key === "selected") {\n      this._assert(value === "true" || value === "false", \'Value of "selected" attribute must be a boolean\', errorPos);\n      node.selected = value === "true";\n      return;\n    }\n    this._assert(false, `Unsupported attribute [${key}]`, errorPos);\n  }\n  _assert(value, message, valuePos) {\n    if (!value)\n      this._throwError(message || "Assertion error", valuePos);\n  }\n};\nvar ParserError = class extends Error {\n  constructor(message, pos) {\n    super(message);\n    this.pos = pos;\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/cssTokenizer.ts\nvar between = function(num, first, last) {\n  return num >= first && num <= last;\n};\nfunction digit(code) {\n  return between(code, 48, 57);\n}\nfunction hexdigit(code) {\n  return digit(code) || between(code, 65, 70) || between(code, 97, 102);\n}\nfunction uppercaseletter(code) {\n  return between(code, 65, 90);\n}\nfunction lowercaseletter(code) {\n  return between(code, 97, 122);\n}\nfunction letter(code) {\n  return uppercaseletter(code) || lowercaseletter(code);\n}\nfunction nonascii(code) {\n  return code >= 128;\n}\nfunction namestartchar(code) {\n  return letter(code) || nonascii(code) || code === 95;\n}\nfunction namechar(code) {\n  return namestartchar(code) || digit(code) || code === 45;\n}\nfunction nonprintable(code) {\n  return between(code, 0, 8) || code === 11 || between(code, 14, 31) || code === 127;\n}\nfunction newline(code) {\n  return code === 10;\n}\nfunction whitespace(code) {\n  return newline(code) || code === 9 || code === 32;\n}\nvar maximumallowedcodepoint = 1114111;\nvar InvalidCharacterError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = "InvalidCharacterError";\n  }\n};\nfunction preprocess(str) {\n  const codepoints = [];\n  for (let i = 0; i < str.length; i++) {\n    let code = str.charCodeAt(i);\n    if (code === 13 && str.charCodeAt(i + 1) === 10) {\n      code = 10;\n      i++;\n    }\n    if (code === 13 || code === 12)\n      code = 10;\n    if (code === 0)\n      code = 65533;\n    if (between(code, 55296, 56319) && between(str.charCodeAt(i + 1), 56320, 57343)) {\n      const lead = code - 55296;\n      const trail = str.charCodeAt(i + 1) - 56320;\n      code = Math.pow(2, 16) + lead * Math.pow(2, 10) + trail;\n      i++;\n    }\n    codepoints.push(code);\n  }\n  return codepoints;\n}\nfunction stringFromCode(code) {\n  if (code <= 65535)\n    return String.fromCharCode(code);\n  code -= Math.pow(2, 16);\n  const lead = Math.floor(code / Math.pow(2, 10)) + 55296;\n  const trail = code % Math.pow(2, 10) + 56320;\n  return String.fromCharCode(lead) + String.fromCharCode(trail);\n}\nfunction tokenize(str1) {\n  const str = preprocess(str1);\n  let i = -1;\n  const tokens = [];\n  let code;\n  let line = 0;\n  let column = 0;\n  let lastLineLength = 0;\n  const incrLineno = function() {\n    line += 1;\n    lastLineLength = column;\n    column = 0;\n  };\n  const locStart = { line, column };\n  const codepoint = function(i2) {\n    if (i2 >= str.length)\n      return -1;\n    return str[i2];\n  };\n  const next = function(num) {\n    if (num === void 0)\n      num = 1;\n    if (num > 3)\n      throw "Spec Error: no more than three codepoints of lookahead.";\n    return codepoint(i + num);\n  };\n  const consume = function(num) {\n    if (num === void 0)\n      num = 1;\n    i += num;\n    code = codepoint(i);\n    if (newline(code))\n      incrLineno();\n    else\n      column += num;\n    return true;\n  };\n  const reconsume = function() {\n    i -= 1;\n    if (newline(code)) {\n      line -= 1;\n      column = lastLineLength;\n    } else {\n      column -= 1;\n    }\n    locStart.line = line;\n    locStart.column = column;\n    return true;\n  };\n  const eof = function(codepoint2) {\n    if (codepoint2 === void 0)\n      codepoint2 = code;\n    return codepoint2 === -1;\n  };\n  const donothing = function() {\n  };\n  const parseerror = function() {\n  };\n  const consumeAToken = function() {\n    consumeComments();\n    consume();\n    if (whitespace(code)) {\n      while (whitespace(next()))\n        consume();\n      return new WhitespaceToken();\n    } else if (code === 34) {\n      return consumeAStringToken();\n    } else if (code === 35) {\n      if (namechar(next()) || areAValidEscape(next(1), next(2))) {\n        const token = new HashToken("");\n        if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n          token.type = "id";\n        token.value = consumeAName();\n        return token;\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 36) {\n      if (next() === 61) {\n        consume();\n        return new SuffixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 39) {\n      return consumeAStringToken();\n    } else if (code === 40) {\n      return new OpenParenToken();\n    } else if (code === 41) {\n      return new CloseParenToken();\n    } else if (code === 42) {\n      if (next() === 61) {\n        consume();\n        return new SubstringMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 43) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 44) {\n      return new CommaToken();\n    } else if (code === 45) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else if (next(1) === 45 && next(2) === 62) {\n        consume(2);\n        return new CDCToken();\n      } else if (startsWithAnIdentifier()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 46) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 58) {\n      return new ColonToken();\n    } else if (code === 59) {\n      return new SemicolonToken();\n    } else if (code === 60) {\n      if (next(1) === 33 && next(2) === 45 && next(3) === 45) {\n        consume(3);\n        return new CDOToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 64) {\n      if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n        return new AtKeywordToken(consumeAName());\n      else\n        return new DelimToken(code);\n    } else if (code === 91) {\n      return new OpenSquareToken();\n    } else if (code === 92) {\n      if (startsWithAValidEscape()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        parseerror();\n        return new DelimToken(code);\n      }\n    } else if (code === 93) {\n      return new CloseSquareToken();\n    } else if (code === 94) {\n      if (next() === 61) {\n        consume();\n        return new PrefixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 123) {\n      return new OpenCurlyToken();\n    } else if (code === 124) {\n      if (next() === 61) {\n        consume();\n        return new DashMatchToken();\n      } else if (next() === 124) {\n        consume();\n        return new ColumnToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 125) {\n      return new CloseCurlyToken();\n    } else if (code === 126) {\n      if (next() === 61) {\n        consume();\n        return new IncludeMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (digit(code)) {\n      reconsume();\n      return consumeANumericToken();\n    } else if (namestartchar(code)) {\n      reconsume();\n      return consumeAnIdentlikeToken();\n    } else if (eof()) {\n      return new EOFToken();\n    } else {\n      return new DelimToken(code);\n    }\n  };\n  const consumeComments = function() {\n    while (next(1) === 47 && next(2) === 42) {\n      consume(2);\n      while (true) {\n        consume();\n        if (code === 42 && next() === 47) {\n          consume();\n          break;\n        } else if (eof()) {\n          parseerror();\n          return;\n        }\n      }\n    }\n  };\n  const consumeANumericToken = function() {\n    const num = consumeANumber();\n    if (wouldStartAnIdentifier(next(1), next(2), next(3))) {\n      const token = new DimensionToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      token.unit = consumeAName();\n      return token;\n    } else if (next() === 37) {\n      consume();\n      const token = new PercentageToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      return token;\n    } else {\n      const token = new NumberToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      return token;\n    }\n  };\n  const consumeAnIdentlikeToken = function() {\n    const str2 = consumeAName();\n    if (str2.toLowerCase() === "url" && next() === 40) {\n      consume();\n      while (whitespace(next(1)) && whitespace(next(2)))\n        consume();\n      if (next() === 34 || next() === 39)\n        return new FunctionToken(str2);\n      else if (whitespace(next()) && (next(2) === 34 || next(2) === 39))\n        return new FunctionToken(str2);\n      else\n        return consumeAURLToken();\n    } else if (next() === 40) {\n      consume();\n      return new FunctionToken(str2);\n    } else {\n      return new IdentToken(str2);\n    }\n  };\n  const consumeAStringToken = function(endingCodePoint) {\n    if (endingCodePoint === void 0)\n      endingCodePoint = code;\n    let string = "";\n    while (consume()) {\n      if (code === endingCodePoint || eof()) {\n        return new StringToken(string);\n      } else if (newline(code)) {\n        parseerror();\n        reconsume();\n        return new BadStringToken();\n      } else if (code === 92) {\n        if (eof(next()))\n          donothing();\n        else if (newline(next()))\n          consume();\n        else\n          string += stringFromCode(consumeEscape());\n      } else {\n        string += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeAURLToken = function() {\n    const token = new URLToken("");\n    while (whitespace(next()))\n      consume();\n    if (eof(next()))\n      return token;\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return token;\n      } else if (whitespace(code)) {\n        while (whitespace(next()))\n          consume();\n        if (next() === 41 || eof(next())) {\n          consume();\n          return token;\n        } else {\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else if (code === 34 || code === 39 || code === 40 || nonprintable(code)) {\n        parseerror();\n        consumeTheRemnantsOfABadURL();\n        return new BadURLToken();\n      } else if (code === 92) {\n        if (startsWithAValidEscape()) {\n          token.value += stringFromCode(consumeEscape());\n        } else {\n          parseerror();\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else {\n        token.value += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeEscape = function() {\n    consume();\n    if (hexdigit(code)) {\n      const digits = [code];\n      for (let total = 0; total < 5; total++) {\n        if (hexdigit(next())) {\n          consume();\n          digits.push(code);\n        } else {\n          break;\n        }\n      }\n      if (whitespace(next()))\n        consume();\n      let value = parseInt(digits.map(function(x) {\n        return String.fromCharCode(x);\n      }).join(""), 16);\n      if (value > maximumallowedcodepoint)\n        value = 65533;\n      return value;\n    } else if (eof()) {\n      return 65533;\n    } else {\n      return code;\n    }\n  };\n  const areAValidEscape = function(c1, c2) {\n    if (c1 !== 92)\n      return false;\n    if (newline(c2))\n      return false;\n    return true;\n  };\n  const startsWithAValidEscape = function() {\n    return areAValidEscape(code, next());\n  };\n  const wouldStartAnIdentifier = function(c1, c2, c3) {\n    if (c1 === 45)\n      return namestartchar(c2) || c2 === 45 || areAValidEscape(c2, c3);\n    else if (namestartchar(c1))\n      return true;\n    else if (c1 === 92)\n      return areAValidEscape(c1, c2);\n    else\n      return false;\n  };\n  const startsWithAnIdentifier = function() {\n    return wouldStartAnIdentifier(code, next(1), next(2));\n  };\n  const wouldStartANumber = function(c1, c2, c3) {\n    if (c1 === 43 || c1 === 45) {\n      if (digit(c2))\n        return true;\n      if (c2 === 46 && digit(c3))\n        return true;\n      return false;\n    } else if (c1 === 46) {\n      if (digit(c2))\n        return true;\n      return false;\n    } else if (digit(c1)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const startsWithANumber = function() {\n    return wouldStartANumber(code, next(1), next(2));\n  };\n  const consumeAName = function() {\n    let result = "";\n    while (consume()) {\n      if (namechar(code)) {\n        result += stringFromCode(code);\n      } else if (startsWithAValidEscape()) {\n        result += stringFromCode(consumeEscape());\n      } else {\n        reconsume();\n        return result;\n      }\n    }\n    throw new Error("Internal parse error");\n  };\n  const consumeANumber = function() {\n    let repr = "";\n    let type = "integer";\n    if (next() === 43 || next() === 45) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    while (digit(next())) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    if (next(1) === 46 && digit(next(2))) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const c1 = next(1), c2 = next(2), c3 = next(3);\n    if ((c1 === 69 || c1 === 101) && digit(c2)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    } else if ((c1 === 69 || c1 === 101) && (c2 === 43 || c2 === 45) && digit(c3)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const value = convertAStringToANumber(repr);\n    return { type, value, repr };\n  };\n  const convertAStringToANumber = function(string) {\n    return +string;\n  };\n  const consumeTheRemnantsOfABadURL = function() {\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return;\n      } else if (startsWithAValidEscape()) {\n        consumeEscape();\n        donothing();\n      } else {\n        donothing();\n      }\n    }\n  };\n  let iterationCount = 0;\n  while (!eof(next())) {\n    tokens.push(consumeAToken());\n    iterationCount++;\n    if (iterationCount > str.length * 2)\n      throw new Error("I\'m infinite-looping!");\n  }\n  return tokens;\n}\nvar CSSParserToken = class {\n  constructor() {\n    this.tokenType = "";\n  }\n  toJSON() {\n    return { token: this.tokenType };\n  }\n  toString() {\n    return this.tokenType;\n  }\n  toSource() {\n    return "" + this;\n  }\n};\nvar BadStringToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADSTRING";\n  }\n};\nvar BadURLToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADURL";\n  }\n};\nvar WhitespaceToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "WHITESPACE";\n  }\n  toString() {\n    return "WS";\n  }\n  toSource() {\n    return " ";\n  }\n};\nvar CDOToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDO";\n  }\n  toSource() {\n    return "\x3c!--";\n  }\n};\nvar CDCToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDC";\n  }\n  toSource() {\n    return "--\x3e";\n  }\n};\nvar ColonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ":";\n  }\n};\nvar SemicolonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ";";\n  }\n};\nvar CommaToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ",";\n  }\n};\nvar GroupingToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n    this.mirror = "";\n  }\n};\nvar OpenCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "{";\n    this.value = "{";\n    this.mirror = "}";\n  }\n};\nvar CloseCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "}";\n    this.value = "}";\n    this.mirror = "{";\n  }\n};\nvar OpenSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "[";\n    this.value = "[";\n    this.mirror = "]";\n  }\n};\nvar CloseSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "]";\n    this.value = "]";\n    this.mirror = "[";\n  }\n};\nvar OpenParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "(";\n    this.value = "(";\n    this.mirror = ")";\n  }\n};\nvar CloseParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = ")";\n    this.value = ")";\n    this.mirror = "(";\n  }\n};\nvar IncludeMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "~=";\n  }\n};\nvar DashMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "|=";\n  }\n};\nvar PrefixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "^=";\n  }\n};\nvar SuffixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "$=";\n  }\n};\nvar SubstringMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "*=";\n  }\n};\nvar ColumnToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "||";\n  }\n};\nvar EOFToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "EOF";\n  }\n  toSource() {\n    return "";\n  }\n};\nvar DelimToken = class extends CSSParserToken {\n  constructor(code) {\n    super();\n    this.tokenType = "DELIM";\n    this.value = "";\n    this.value = stringFromCode(code);\n  }\n  toString() {\n    return "DELIM(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n  toSource() {\n    if (this.value === "\\\\")\n      return "\\\\\\n";\n    else\n      return this.value;\n  }\n};\nvar StringValuedToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n  }\n  ASCIIMatch(str) {\n    return this.value.toLowerCase() === str.toLowerCase();\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n};\nvar IdentToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "IDENT";\n    this.value = val;\n  }\n  toString() {\n    return "IDENT(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value);\n  }\n};\nvar FunctionToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "FUNCTION";\n    this.value = val;\n    this.mirror = ")";\n  }\n  toString() {\n    return "FUNCTION(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value) + "(";\n  }\n};\nvar AtKeywordToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "AT-KEYWORD";\n    this.value = val;\n  }\n  toString() {\n    return "AT(" + this.value + ")";\n  }\n  toSource() {\n    return "@" + escapeIdent(this.value);\n  }\n};\nvar HashToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "HASH";\n    this.value = val;\n    this.type = "unrestricted";\n  }\n  toString() {\n    return "HASH(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    return json;\n  }\n  toSource() {\n    if (this.type === "id")\n      return "#" + escapeIdent(this.value);\n    else\n      return "#" + escapeHash(this.value);\n  }\n};\nvar StringToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "STRING";\n    this.value = val;\n  }\n  toString() {\n    return \'"\' + escapeString(this.value) + \'"\';\n  }\n};\nvar URLToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "URL";\n    this.value = val;\n  }\n  toString() {\n    return "URL(" + this.value + ")";\n  }\n  toSource() {\n    return \'url("\' + escapeString(this.value) + \'")\';\n  }\n};\nvar NumberToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "NUMBER";\n    this.type = "integer";\n    this.repr = "";\n  }\n  toString() {\n    if (this.type === "integer")\n      return "INT(" + this.value + ")";\n    return "NUMBER(" + this.value + ")";\n  }\n  toJSON() {\n    const json = super.toJSON();\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr;\n  }\n};\nvar PercentageToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "PERCENTAGE";\n    this.repr = "";\n  }\n  toString() {\n    return "PERCENTAGE(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr + "%";\n  }\n};\nvar DimensionToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "DIMENSION";\n    this.type = "integer";\n    this.repr = "";\n    this.unit = "";\n  }\n  toString() {\n    return "DIM(" + this.value + "," + this.unit + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    json.unit = this.unit;\n    return json;\n  }\n  toSource() {\n    const source = this.repr;\n    let unit = escapeIdent(this.unit);\n    if (unit[0].toLowerCase() === "e" && (unit[1] === "-" || between(unit.charCodeAt(1), 48, 57))) {\n      unit = "\\\\65 " + unit.slice(1, unit.length);\n    }\n    return source + unit;\n  }\n};\nfunction escapeIdent(string) {\n  string = "" + string;\n  let result = "";\n  const firstcode = string.charCodeAt(0);\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127 || i === 0 && between(code, 48, 57) || i === 1 && between(code, 48, 57) && firstcode === 45)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + string[i];\n  }\n  return result;\n}\nfunction escapeHash(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + code.toString(16) + " ";\n  }\n  return result;\n}\nfunction escapeString(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code === 34 || code === 92)\n      result += "\\\\" + string[i];\n    else\n      result += string[i];\n  }\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/cssParser.ts\nvar InvalidSelectorError = class extends Error {\n};\nfunction parseCSS(selector, customNames) {\n  let tokens;\n  try {\n    tokens = tokenize(selector);\n    if (!(tokens[tokens.length - 1] instanceof EOFToken))\n      tokens.push(new EOFToken());\n  } catch (e) {\n    const newMessage = e.message + ` while parsing css selector "${selector}". Did you mean to CSS.escape it?`;\n    const index = (e.stack || "").indexOf(e.message);\n    if (index !== -1)\n      e.stack = e.stack.substring(0, index) + newMessage + e.stack.substring(index + e.message.length);\n    e.message = newMessage;\n    throw e;\n  }\n  const unsupportedToken = tokens.find((token) => {\n    return token instanceof AtKeywordToken || token instanceof BadStringToken || token instanceof BadURLToken || token instanceof ColumnToken || token instanceof CDOToken || token instanceof CDCToken || token instanceof SemicolonToken || // TODO: Consider using these for something, e.g. to escape complex strings.\n    // For example :xpath{ (//div/bar[@attr="foo"])[2]/baz }\n    // Or this way :xpath( {complex-xpath-goes-here("hello")} )\n    token instanceof OpenCurlyToken || token instanceof CloseCurlyToken || // TODO: Consider treating these as strings?\n    token instanceof URLToken || token instanceof PercentageToken;\n  });\n  if (unsupportedToken)\n    throw new InvalidSelectorError(`Unsupported token "${unsupportedToken.toSource()}" while parsing css selector "${selector}". Did you mean to CSS.escape it?`);\n  let pos = 0;\n  const names = /* @__PURE__ */ new Set();\n  function unexpected() {\n    return new InvalidSelectorError(`Unexpected token "${tokens[pos].toSource()}" while parsing css selector "${selector}". Did you mean to CSS.escape it?`);\n  }\n  function skipWhitespace() {\n    while (tokens[pos] instanceof WhitespaceToken)\n      pos++;\n  }\n  function isIdent(p = pos) {\n    return tokens[p] instanceof IdentToken;\n  }\n  function isString(p = pos) {\n    return tokens[p] instanceof StringToken;\n  }\n  function isNumber(p = pos) {\n    return tokens[p] instanceof NumberToken;\n  }\n  function isComma(p = pos) {\n    return tokens[p] instanceof CommaToken;\n  }\n  function isOpenParen(p = pos) {\n    return tokens[p] instanceof OpenParenToken;\n  }\n  function isCloseParen(p = pos) {\n    return tokens[p] instanceof CloseParenToken;\n  }\n  function isFunction(p = pos) {\n    return tokens[p] instanceof FunctionToken;\n  }\n  function isStar(p = pos) {\n    return tokens[p] instanceof DelimToken && tokens[p].value === "*";\n  }\n  function isEOF(p = pos) {\n    return tokens[p] instanceof EOFToken;\n  }\n  function isClauseCombinator(p = pos) {\n    return tokens[p] instanceof DelimToken && [">", "+", "~"].includes(tokens[p].value);\n  }\n  function isSelectorClauseEnd(p = pos) {\n    return isComma(p) || isCloseParen(p) || isEOF(p) || isClauseCombinator(p) || tokens[p] instanceof WhitespaceToken;\n  }\n  function consumeFunctionArguments() {\n    const result2 = [consumeArgument()];\n    while (true) {\n      skipWhitespace();\n      if (!isComma())\n        break;\n      pos++;\n      result2.push(consumeArgument());\n    }\n    return result2;\n  }\n  function consumeArgument() {\n    skipWhitespace();\n    if (isNumber())\n      return tokens[pos++].value;\n    if (isString())\n      return tokens[pos++].value;\n    return consumeComplexSelector();\n  }\n  function consumeComplexSelector() {\n    const result2 = { simples: [] };\n    skipWhitespace();\n    if (isClauseCombinator()) {\n      result2.simples.push({ selector: { functions: [{ name: "scope", args: [] }] }, combinator: "" });\n    } else {\n      result2.simples.push({ selector: consumeSimpleSelector(), combinator: "" });\n    }\n    while (true) {\n      skipWhitespace();\n      if (isClauseCombinator()) {\n        result2.simples[result2.simples.length - 1].combinator = tokens[pos++].value;\n        skipWhitespace();\n      } else if (isSelectorClauseEnd()) {\n        break;\n      }\n      result2.simples.push({ combinator: "", selector: consumeSimpleSelector() });\n    }\n    return result2;\n  }\n  function consumeSimpleSelector() {\n    let rawCSSString = "";\n    const functions = [];\n    while (!isSelectorClauseEnd()) {\n      if (isIdent() || isStar()) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof HashToken) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof DelimToken && tokens[pos].value === ".") {\n        pos++;\n        if (isIdent())\n          rawCSSString += "." + tokens[pos++].toSource();\n        else\n          throw unexpected();\n      } else if (tokens[pos] instanceof ColonToken) {\n        pos++;\n        if (isIdent()) {\n          if (!customNames.has(tokens[pos].value.toLowerCase())) {\n            rawCSSString += ":" + tokens[pos++].toSource();\n          } else {\n            const name = tokens[pos++].value.toLowerCase();\n            functions.push({ name, args: [] });\n            names.add(name);\n          }\n        } else if (isFunction()) {\n          const name = tokens[pos++].value.toLowerCase();\n          if (!customNames.has(name)) {\n            rawCSSString += `:${name}(${consumeBuiltinFunctionArguments()})`;\n          } else {\n            functions.push({ name, args: consumeFunctionArguments() });\n            names.add(name);\n          }\n          skipWhitespace();\n          if (!isCloseParen())\n            throw unexpected();\n          pos++;\n        } else {\n          throw unexpected();\n        }\n      } else if (tokens[pos] instanceof OpenSquareToken) {\n        rawCSSString += "[";\n        pos++;\n        while (!(tokens[pos] instanceof CloseSquareToken) && !isEOF())\n          rawCSSString += tokens[pos++].toSource();\n        if (!(tokens[pos] instanceof CloseSquareToken))\n          throw unexpected();\n        rawCSSString += "]";\n        pos++;\n      } else {\n        throw unexpected();\n      }\n    }\n    if (!rawCSSString && !functions.length)\n      throw unexpected();\n    return { css: rawCSSString || void 0, functions };\n  }\n  function consumeBuiltinFunctionArguments() {\n    let s = "";\n    let balance = 1;\n    while (!isEOF()) {\n      if (isOpenParen() || isFunction())\n        balance++;\n      if (isCloseParen())\n        balance--;\n      if (!balance)\n        break;\n      s += tokens[pos++].toSource();\n    }\n    return s;\n  }\n  const result = consumeFunctionArguments();\n  if (!isEOF())\n    throw unexpected();\n  if (result.some((arg) => typeof arg !== "object" || !("simples" in arg)))\n    throw new InvalidSelectorError(`Error while parsing css selector "${selector}". Did you mean to CSS.escape it?`);\n  return { selector: result, names: Array.from(names) };\n}\n\n// packages/playwright-core/src/utils/isomorphic/selectorParser.ts\nvar kNestedSelectorNames = /* @__PURE__ */ new Set(["internal:has", "internal:has-not", "internal:and", "internal:or", "internal:chain", "left-of", "right-of", "above", "below", "near"]);\nvar kNestedSelectorNamesWithDistance = /* @__PURE__ */ new Set(["left-of", "right-of", "above", "below", "near"]);\nvar customCSSNames = /* @__PURE__ */ new Set(["not", "is", "where", "has", "scope", "light", "visible", "text", "text-matches", "text-is", "has-text", "above", "below", "right-of", "left-of", "near", "nth-match"]);\nfunction parseSelector(selector) {\n  const parsedStrings = parseSelectorString(selector);\n  const parts = [];\n  for (const part of parsedStrings.parts) {\n    if (part.name === "css" || part.name === "css:light") {\n      if (part.name === "css:light")\n        part.body = ":light(" + part.body + ")";\n      const parsedCSS = parseCSS(part.body, customCSSNames);\n      parts.push({\n        name: "css",\n        body: parsedCSS.selector,\n        source: part.body\n      });\n      continue;\n    }\n    if (kNestedSelectorNames.has(part.name)) {\n      let innerSelector;\n      let distance;\n      try {\n        const unescaped = JSON.parse("[" + part.body + "]");\n        if (!Array.isArray(unescaped) || unescaped.length < 1 || unescaped.length > 2 || typeof unescaped[0] !== "string")\n          throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n        innerSelector = unescaped[0];\n        if (unescaped.length === 2) {\n          if (typeof unescaped[1] !== "number" || !kNestedSelectorNamesWithDistance.has(part.name))\n            throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n          distance = unescaped[1];\n        }\n      } catch (e) {\n        throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n      }\n      const nested = { name: part.name, source: part.body, body: { parsed: parseSelector(innerSelector), distance } };\n      const lastFrame = [...nested.body.parsed.parts].reverse().find((part2) => part2.name === "internal:control" && part2.body === "enter-frame");\n      const lastFrameIndex = lastFrame ? nested.body.parsed.parts.indexOf(lastFrame) : -1;\n      if (lastFrameIndex !== -1 && selectorPartsEqual(nested.body.parsed.parts.slice(0, lastFrameIndex + 1), parts.slice(0, lastFrameIndex + 1)))\n        nested.body.parsed.parts.splice(0, lastFrameIndex + 1);\n      parts.push(nested);\n      continue;\n    }\n    parts.push({ ...part, source: part.body });\n  }\n  if (kNestedSelectorNames.has(parts[0].name))\n    throw new InvalidSelectorError(`"${parts[0].name}" selector cannot be first`);\n  return {\n    capture: parsedStrings.capture,\n    parts\n  };\n}\nfunction selectorPartsEqual(list1, list2) {\n  return stringifySelector({ parts: list1 }) === stringifySelector({ parts: list2 });\n}\nfunction stringifySelector(selector, forceEngineName) {\n  if (typeof selector === "string")\n    return selector;\n  return selector.parts.map((p, i) => {\n    let includeEngine = true;\n    if (!forceEngineName && i !== selector.capture) {\n      if (p.name === "css")\n        includeEngine = false;\n      else if (p.name === "xpath" && p.source.startsWith("//") || p.source.startsWith(".."))\n        includeEngine = false;\n    }\n    const prefix = includeEngine ? p.name + "=" : "";\n    return `${i === selector.capture ? "*" : ""}${prefix}${p.source}`;\n  }).join(" >> ");\n}\nfunction visitAllSelectorParts(selector, visitor) {\n  const visit = (selector2, nested) => {\n    for (const part of selector2.parts) {\n      visitor(part, nested);\n      if (kNestedSelectorNames.has(part.name))\n        visit(part.body.parsed, true);\n    }\n  };\n  visit(selector, false);\n}\nfunction parseSelectorString(selector) {\n  let index = 0;\n  let quote;\n  let start = 0;\n  const result = { parts: [] };\n  const append = () => {\n    const part = selector.substring(start, index).trim();\n    const eqIndex = part.indexOf("=");\n    let name;\n    let body;\n    if (eqIndex !== -1 && part.substring(0, eqIndex).trim().match(/^[a-zA-Z_0-9-+:*]+$/)) {\n      name = part.substring(0, eqIndex).trim();\n      body = part.substring(eqIndex + 1);\n    } else if (part.length > 1 && part[0] === \'"\' && part[part.length - 1] === \'"\') {\n      name = "text";\n      body = part;\n    } else if (part.length > 1 && part[0] === "\'" && part[part.length - 1] === "\'") {\n      name = "text";\n      body = part;\n    } else if (/^\\(*\\/\\//.test(part) || part.startsWith("..")) {\n      name = "xpath";\n      body = part;\n    } else {\n      name = "css";\n      body = part;\n    }\n    let capture = false;\n    if (name[0] === "*") {\n      capture = true;\n      name = name.substring(1);\n    }\n    result.parts.push({ name, body });\n    if (capture) {\n      if (result.capture !== void 0)\n        throw new InvalidSelectorError(`Only one of the selectors can capture using * modifier`);\n      result.capture = result.parts.length - 1;\n    }\n  };\n  if (!selector.includes(">>")) {\n    index = selector.length;\n    append();\n    return result;\n  }\n  const shouldIgnoreTextSelectorQuote = () => {\n    const prefix = selector.substring(start, index);\n    const match = prefix.match(/^\\s*text\\s*=(.*)$/);\n    return !!match && !!match[1];\n  };\n  while (index < selector.length) {\n    const c = selector[index];\n    if (c === "\\\\" && index + 1 < selector.length) {\n      index += 2;\n    } else if (c === quote) {\n      quote = void 0;\n      index++;\n    } else if (!quote && (c === \'"\' || c === "\'" || c === "`") && !shouldIgnoreTextSelectorQuote()) {\n      quote = c;\n      index++;\n    } else if (!quote && c === ">" && selector[index + 1] === ">") {\n      append();\n      index += 2;\n      start = index;\n    } else {\n      index++;\n    }\n  }\n  append();\n  return result;\n}\nfunction parseAttributeSelector(selector, allowUnquotedStrings) {\n  let wp = 0;\n  let EOL = selector.length === 0;\n  const next = () => selector[wp] || "";\n  const eat1 = () => {\n    const result2 = next();\n    ++wp;\n    EOL = wp >= selector.length;\n    return result2;\n  };\n  const syntaxError = (stage) => {\n    if (EOL)\n      throw new InvalidSelectorError(`Unexpected end of selector while parsing selector \\`${selector}\\``);\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - unexpected symbol "${next()}" at position ${wp}` + (stage ? " during " + stage : ""));\n  };\n  function skipSpaces() {\n    while (!EOL && /\\s/.test(next()))\n      eat1();\n  }\n  function isCSSNameChar(char) {\n    return char >= "\\x80" || char >= "0" && char <= "9" || char >= "A" && char <= "Z" || char >= "a" && char <= "z" || char >= "0" && char <= "9" || char === "_" || char === "-";\n  }\n  function readIdentifier() {\n    let result2 = "";\n    skipSpaces();\n    while (!EOL && isCSSNameChar(next()))\n      result2 += eat1();\n    return result2;\n  }\n  function readQuotedString(quote) {\n    let result2 = eat1();\n    if (result2 !== quote)\n      syntaxError("parsing quoted string");\n    while (!EOL && next() !== quote) {\n      if (next() === "\\\\")\n        eat1();\n      result2 += eat1();\n    }\n    if (next() !== quote)\n      syntaxError("parsing quoted string");\n    result2 += eat1();\n    return result2;\n  }\n  function readRegularExpression() {\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let source = "";\n    let inClass = false;\n    while (!EOL) {\n      if (next() === "\\\\") {\n        source += eat1();\n        if (EOL)\n          syntaxError("parsing regular expression");\n      } else if (inClass && next() === "]") {\n        inClass = false;\n      } else if (!inClass && next() === "[") {\n        inClass = true;\n      } else if (!inClass && next() === "/") {\n        break;\n      }\n      source += eat1();\n    }\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let flags = "";\n    while (!EOL && next().match(/[dgimsuy]/))\n      flags += eat1();\n    try {\n      return new RegExp(source, flags);\n    } catch (e) {\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\`: ${e.message}`);\n    }\n  }\n  function readAttributeToken() {\n    let token = "";\n    skipSpaces();\n    if (next() === `\'` || next() === `"`)\n      token = readQuotedString(next()).slice(1, -1);\n    else\n      token = readIdentifier();\n    if (!token)\n      syntaxError("parsing property path");\n    return token;\n  }\n  function readOperator() {\n    skipSpaces();\n    let op = "";\n    if (!EOL)\n      op += eat1();\n    if (!EOL && op !== "=")\n      op += eat1();\n    if (!["=", "*=", "^=", "$=", "|=", "~="].includes(op))\n      syntaxError("parsing operator");\n    return op;\n  }\n  function readAttribute() {\n    eat1();\n    const jsonPath = [];\n    jsonPath.push(readAttributeToken());\n    skipSpaces();\n    while (next() === ".") {\n      eat1();\n      jsonPath.push(readAttributeToken());\n      skipSpaces();\n    }\n    if (next() === "]") {\n      eat1();\n      return { name: jsonPath.join("."), jsonPath, op: "<truthy>", value: null, caseSensitive: false };\n    }\n    const operator = readOperator();\n    let value = void 0;\n    let caseSensitive = true;\n    skipSpaces();\n    if (next() === "/") {\n      if (operator !== "=")\n        throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with regular expression`);\n      value = readRegularExpression();\n    } else if (next() === `\'` || next() === `"`) {\n      value = readQuotedString(next()).slice(1, -1);\n      skipSpaces();\n      if (next() === "i" || next() === "I") {\n        caseSensitive = false;\n        eat1();\n      } else if (next() === "s" || next() === "S") {\n        caseSensitive = true;\n        eat1();\n      }\n    } else {\n      value = "";\n      while (!EOL && (isCSSNameChar(next()) || next() === "+" || next() === "."))\n        value += eat1();\n      if (value === "true") {\n        value = true;\n      } else if (value === "false") {\n        value = false;\n      } else {\n        if (!allowUnquotedStrings) {\n          value = +value;\n          if (Number.isNaN(value))\n            syntaxError("parsing attribute value");\n        }\n      }\n    }\n    skipSpaces();\n    if (next() !== "]")\n      syntaxError("parsing attribute value");\n    eat1();\n    if (operator !== "=" && typeof value !== "string")\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with non-string matching value - ${value}`);\n    return { name: jsonPath.join("."), jsonPath, op: operator, value, caseSensitive };\n  }\n  const result = {\n    name: "",\n    attributes: []\n  };\n  result.name = readIdentifier();\n  skipSpaces();\n  while (next() === "[") {\n    result.attributes.push(readAttribute());\n    skipSpaces();\n  }\n  if (!EOL)\n    syntaxError(void 0);\n  if (!result.name && !result.attributes.length)\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - selector cannot be empty`);\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/stringUtils.ts\nfunction escapeWithQuotes(text, char = "\'") {\n  const stringified = JSON.stringify(text);\n  const escapedText = stringified.substring(1, stringified.length - 1).replace(/\\\\"/g, \'"\');\n  if (char === "\'")\n    return char + escapedText.replace(/[\']/g, "\\\\\'") + char;\n  if (char === \'"\')\n    return char + escapedText.replace(/["]/g, \'\\\\"\') + char;\n  if (char === "`")\n    return char + escapedText.replace(/[`]/g, "\\\\`") + char;\n  throw new Error("Invalid escape char");\n}\nfunction toTitleCase(name) {\n  return name.charAt(0).toUpperCase() + name.substring(1);\n}\nfunction toSnakeCase(name) {\n  return name.replace(/([a-z0-9])([A-Z])/g, "$1_$2").replace(/([A-Z])([A-Z][a-z])/g, "$1_$2").toLowerCase();\n}\nfunction quoteCSSAttributeValue(text) {\n  return `"${text.replace(/["\\\\]/g, (char) => "\\\\" + char)}"`;\n}\nvar normalizedWhitespaceCache;\nfunction cacheNormalizedWhitespaces() {\n  normalizedWhitespaceCache = /* @__PURE__ */ new Map();\n}\nfunction normalizeWhiteSpace(text) {\n  let result = normalizedWhitespaceCache == null ? void 0 : normalizedWhitespaceCache.get(text);\n  if (result === void 0) {\n    result = text.replace(/[\\u200b\\u00ad]/g, "").trim().replace(/\\s+/g, " ");\n    normalizedWhitespaceCache == null ? void 0 : normalizedWhitespaceCache.set(text, result);\n  }\n  return result;\n}\nfunction normalizeEscapedRegexQuotes(source) {\n  return source.replace(/(^|[^\\\\])(\\\\\\\\)*\\\\([\'"`])/g, "$1$2$3");\n}\nfunction escapeRegexForSelector(re) {\n  if (re.unicode || re.unicodeSets)\n    return String(re);\n  return String(re).replace(/(^|[^\\\\])(\\\\\\\\)*(["\'`])/g, "$1$2\\\\$3").replace(/>>/g, "\\\\>\\\\>");\n}\nfunction escapeForTextSelector(text, exact) {\n  if (typeof text !== "string")\n    return escapeRegexForSelector(text);\n  return `${JSON.stringify(text)}${exact ? "s" : "i"}`;\n}\nfunction escapeForAttributeSelector(value, exact) {\n  if (typeof value !== "string")\n    return escapeRegexForSelector(value);\n  return `"${value.replace(/\\\\/g, "\\\\\\\\").replace(/["]/g, \'\\\\"\')}"${exact ? "s" : "i"}`;\n}\nfunction trimString(input, cap, suffix = "") {\n  if (input.length <= cap)\n    return input;\n  const chars = [...input];\n  if (chars.length > cap)\n    return chars.slice(0, cap - suffix.length).join("") + suffix;\n  return chars.join("");\n}\nfunction trimStringWithEllipsis(input, cap) {\n  return trimString(input, cap, "\\u2026");\n}\nfunction escapeRegExp(s) {\n  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, "\\\\$&");\n}\nfunction longestCommonSubstring(s1, s2) {\n  const n = s1.length;\n  const m = s2.length;\n  let maxLen = 0;\n  let endingIndex = 0;\n  const dp = Array(n + 1).fill(null).map(() => Array(m + 1).fill(0));\n  for (let i = 1; i <= n; i++) {\n    for (let j = 1; j <= m; j++) {\n      if (s1[i - 1] === s2[j - 1]) {\n        dp[i][j] = dp[i - 1][j - 1] + 1;\n        if (dp[i][j] > maxLen) {\n          maxLen = dp[i][j];\n          endingIndex = i;\n        }\n      }\n    }\n  }\n  return s1.slice(endingIndex - maxLen, endingIndex);\n}\n\n// packages/playwright-core/src/utils/isomorphic/locatorGenerators.ts\nfunction asLocator(lang, selector, isFrameLocator = false) {\n  return asLocators(lang, selector, isFrameLocator, 1)[0];\n}\nfunction asLocators(lang, selector, isFrameLocator = false, maxOutputSize = 20, preferredQuote) {\n  try {\n    return innerAsLocators(new generators[lang](preferredQuote), parseSelector(selector), isFrameLocator, maxOutputSize);\n  } catch (e) {\n    return [selector];\n  }\n}\nfunction innerAsLocators(factory, parsed, isFrameLocator = false, maxOutputSize = 20) {\n  const parts = [...parsed.parts];\n  const tokens = [];\n  let nextBase = isFrameLocator ? "frame-locator" : "page";\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const base = nextBase;\n    nextBase = "locator";\n    if (part.name === "internal:describe")\n      continue;\n    if (part.name === "nth") {\n      if (part.body === "0")\n        tokens.push([factory.generateLocator(base, "first", ""), factory.generateLocator(base, "nth", "0")]);\n      else if (part.body === "-1")\n        tokens.push([factory.generateLocator(base, "last", ""), factory.generateLocator(base, "nth", "-1")]);\n      else\n        tokens.push([factory.generateLocator(base, "nth", part.body)]);\n      continue;\n    }\n    if (part.name === "visible") {\n      tokens.push([factory.generateLocator(base, "visible", part.body), factory.generateLocator(base, "default", `visible=${part.body}`)]);\n      continue;\n    }\n    if (part.name === "internal:text") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "text", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:has-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has-not-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-not-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "has", inner)));\n      continue;\n    }\n    if (part.name === "internal:has-not") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "hasNot", inner)));\n      continue;\n    }\n    if (part.name === "internal:and") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "and", inner)));\n      continue;\n    }\n    if (part.name === "internal:or") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "or", inner)));\n      continue;\n    }\n    if (part.name === "internal:chain") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "chain", inner)));\n      continue;\n    }\n    if (part.name === "internal:label") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "label", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:role") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const options = { attrs: [] };\n      for (const attr of attrSelector.attributes) {\n        if (attr.name === "name") {\n          options.exact = attr.caseSensitive;\n          options.name = attr.value;\n        } else {\n          if (attr.name === "level" && typeof attr.value === "string")\n            attr.value = +attr.value;\n          options.attrs.push({ name: attr.name === "include-hidden" ? "includeHidden" : attr.name, value: attr.value });\n        }\n      }\n      tokens.push([factory.generateLocator(base, "role", attrSelector.name, options)]);\n      continue;\n    }\n    if (part.name === "internal:testid") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { value } = attrSelector.attributes[0];\n      tokens.push([factory.generateLocator(base, "test-id", value)]);\n      continue;\n    }\n    if (part.name === "internal:attr") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { name, value, caseSensitive } = attrSelector.attributes[0];\n      const text = value;\n      const exact = !!caseSensitive;\n      if (name === "placeholder") {\n        tokens.push([factory.generateLocator(base, "placeholder", text, { exact })]);\n        continue;\n      }\n      if (name === "alt") {\n        tokens.push([factory.generateLocator(base, "alt", text, { exact })]);\n        continue;\n      }\n      if (name === "title") {\n        tokens.push([factory.generateLocator(base, "title", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:control" && part.body === "enter-frame") {\n      const lastTokens = tokens[tokens.length - 1];\n      const lastPart = parts[index - 1];\n      const transformed = lastTokens.map((token) => factory.chainLocators([token, factory.generateLocator(base, "frame", "")]));\n      if (["xpath", "css"].includes(lastPart.name)) {\n        transformed.push(\n          factory.generateLocator(base, "frame-locator", stringifySelector({ parts: [lastPart] })),\n          factory.generateLocator(base, "frame-locator", stringifySelector({ parts: [lastPart] }, true))\n        );\n      }\n      lastTokens.splice(0, lastTokens.length, ...transformed);\n      nextBase = "frame-locator";\n      continue;\n    }\n    const nextPart = parts[index + 1];\n    const selectorPart = stringifySelector({ parts: [part] });\n    const locatorPart = factory.generateLocator(base, "default", selectorPart);\n    if (nextPart && ["internal:has-text", "internal:has-not-text"].includes(nextPart.name)) {\n      const { exact, text } = detectExact(nextPart.body);\n      if (!exact) {\n        const nextLocatorPart = factory.generateLocator("locator", nextPart.name === "internal:has-text" ? "has-text" : "has-not-text", text, { exact });\n        const options = {};\n        if (nextPart.name === "internal:has-text")\n          options.hasText = text;\n        else\n          options.hasNotText = text;\n        const combinedPart = factory.generateLocator(base, "default", selectorPart, options);\n        tokens.push([factory.chainLocators([locatorPart, nextLocatorPart]), combinedPart]);\n        index++;\n        continue;\n      }\n    }\n    let locatorPartWithEngine;\n    if (["xpath", "css"].includes(part.name)) {\n      const selectorPart2 = stringifySelector(\n        { parts: [part] },\n        /* forceEngineName */\n        true\n      );\n      locatorPartWithEngine = factory.generateLocator(base, "default", selectorPart2);\n    }\n    tokens.push([locatorPart, locatorPartWithEngine].filter(Boolean));\n  }\n  return combineTokens(factory, tokens, maxOutputSize);\n}\nfunction combineTokens(factory, tokens, maxOutputSize) {\n  const currentTokens = tokens.map(() => "");\n  const result = [];\n  const visit = (index) => {\n    if (index === tokens.length) {\n      result.push(factory.chainLocators(currentTokens));\n      return result.length < maxOutputSize;\n    }\n    for (const taken of tokens[index]) {\n      currentTokens[index] = taken;\n      if (!visit(index + 1))\n        return false;\n    }\n    return true;\n  };\n  visit(0);\n  return result;\n}\nfunction detectExact(text) {\n  let exact = false;\n  const match = text.match(/^\\/(.*)\\/([igm]*)$/);\n  if (match)\n    return { text: new RegExp(match[1], match[2]) };\n  if (text.endsWith(\'"\')) {\n    text = JSON.parse(text);\n    exact = true;\n  } else if (text.endsWith(\'"s\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = true;\n  } else if (text.endsWith(\'"i\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = false;\n  }\n  return { exact, text };\n}\nvar JavaScriptLocatorFactory = class {\n  constructor(preferredQuote) {\n    this.preferredQuote = preferredQuote;\n  }\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, { hasText: ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, { hasNotText: ${this.toHasText(options.hasNotText)} })`;\n        return `locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `frameLocator(${this.quote(body)})`;\n      case "frame":\n        return `contentFrame()`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "visible":\n        return `filter({ visible: ${body === "true" ? "true" : "false"} })`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name: ${this.regexToSourceString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name: ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact: true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${name}: ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, { ${attrs.join(", ")} }` : "";\n        return `getByRole(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter({ hasText: ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `filter({ hasNotText: ${this.toHasText(body)} })`;\n      case "has":\n        return `filter({ has: ${body} })`;\n      case "hasNot":\n        return `filter({ hasNot: ${body} })`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToSourceString(re) {\n    return normalizeEscapedRegexQuotes(String(re));\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToSourceString(body)})`;\n    return exact ? `${method}(${this.quote(body)}, { exact: true })` : `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToSourceString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToSourceString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    var _a;\n    return escapeWithQuotes(text, (_a = this.preferredQuote) != null ? _a : "\'");\n  }\n};\nvar PythonLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, has_text=${this.toHasText(options.hasText)})`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, has_not_text=${this.toHasText(options.hasNotText)})`;\n        return `locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `frame_locator(${this.quote(body)})`;\n      case "frame":\n        return `content_frame`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first`;\n      case "last":\n        return `last`;\n      case "visible":\n        return `filter(visible=${body === "true" ? "True" : "False"})`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name=${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name=${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact=True`);\n        }\n        for (const { name, value } of options.attrs) {\n          let valueString = typeof value === "string" ? this.quote(value) : value;\n          if (typeof value === "boolean")\n            valueString = value ? "True" : "False";\n          attrs.push(`${toSnakeCase(name)}=${valueString}`);\n        }\n        const attrString = attrs.length ? `, ${attrs.join(", ")}` : "";\n        return `get_by_role(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter(has_text=${this.toHasText(body)})`;\n      case "has-not-text":\n        return `filter(has_not_text=${this.toHasText(body)})`;\n      case "has":\n        return `filter(has=${body})`;\n      case "hasNot":\n        return `filter(has_not=${body})`;\n      case "and":\n        return `and_(${body})`;\n      case "or":\n        return `or_(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `get_by_test_id(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("get_by_text", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("get_by_alt_text", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("get_by_placeholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("get_by_label", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("get_by_title", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", re.IGNORECASE" : "";\n    return `re.compile(r"${normalizeEscapedRegexQuotes(body.source).replace(/\\\\\\//, "/").replace(/"/g, \'\\\\"\')}"${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, exact=True)`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return `${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JavaLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    let clazz;\n    switch (base) {\n      case "page":\n        clazz = "Page";\n        break;\n      case "frame-locator":\n        clazz = "FrameLocator";\n        break;\n      case "locator":\n        clazz = "Locator";\n        break;\n    }\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasText(${this.toHasText(options.hasText)}))`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasNotText(${this.toHasText(options.hasNotText)}))`;\n        return `locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `frameLocator(${this.quote(body)})`;\n      case "frame":\n        return `contentFrame()`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "visible":\n        return `filter(new ${clazz}.FilterOptions().setVisible(${body === "true" ? "true" : "false"}))`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`.setName(${this.regexToString(options.name)})`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`.setName(${this.quote(options.name)})`);\n          if (options.exact)\n            attrs.push(`.setExact(true)`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`.set${toTitleCase(name)}(${typeof value === "string" ? this.quote(value) : value})`);\n        const attrString = attrs.length ? `, new ${clazz}.GetByRoleOptions()${attrs.join("")}` : "";\n        return `getByRole(AriaRole.${toSnakeCase(body).toUpperCase()}${attrString})`;\n      case "has-text":\n        return `filter(new ${clazz}.FilterOptions().setHasText(${this.toHasText(body)}))`;\n      case "has-not-text":\n        return `filter(new ${clazz}.FilterOptions().setHasNotText(${this.toHasText(body)}))`;\n      case "has":\n        return `filter(new ${clazz}.FilterOptions().setHas(${body}))`;\n      case "hasNot":\n        return `filter(new ${clazz}.FilterOptions().setHasNot(${body}))`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact(clazz, "getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact(clazz, "getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact(clazz, "getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact(clazz, "getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact(clazz, "getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", Pattern.CASE_INSENSITIVE" : "";\n    return `Pattern.compile(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(clazz, method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new ${clazz}.${toTitleCase(method)}Options().setExact(true))`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar CSharpLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasNotText(options.hasNotText)} })`;\n        return `Locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `FrameLocator(${this.quote(body)})`;\n      case "frame":\n        return `ContentFrame`;\n      case "nth":\n        return `Nth(${body})`;\n      case "first":\n        return `First`;\n      case "last":\n        return `Last`;\n      case "visible":\n        return `Filter(new() { Visible = ${body === "true" ? "true" : "false"} })`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`NameRegex = ${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`Name = ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`Exact = true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${toTitleCase(name)} = ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, new() { ${attrs.join(", ")} }` : "";\n        return `GetByRole(AriaRole.${toTitleCase(body)}${attrString})`;\n      case "has-text":\n        return `Filter(new() { ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `Filter(new() { ${this.toHasNotText(body)} })`;\n      case "has":\n        return `Filter(new() { Has = ${body} })`;\n      case "hasNot":\n        return `Filter(new() { HasNot = ${body} })`;\n      case "and":\n        return `And(${body})`;\n      case "or":\n        return `Or(${body})`;\n      case "chain":\n        return `Locator(${body})`;\n      case "test-id":\n        return `GetByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("GetByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("GetByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("GetByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("GetByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("GetByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", RegexOptions.IgnoreCase" : "";\n    return `new Regex(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new() { Exact = true })`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return `HasTextRegex = ${this.regexToString(body)}`;\n    return `HasText = ${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  toHasNotText(body) {\n    if (isRegExp(body))\n      return `HasNotTextRegex = ${this.regexToString(body)}`;\n    return `HasNotText = ${this.quote(body)}`;\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JsonlLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    return JSON.stringify({\n      kind,\n      body,\n      options\n    });\n  }\n  chainLocators(locators) {\n    const objects = locators.map((l) => JSON.parse(l));\n    for (let i = 0; i < objects.length - 1; ++i)\n      objects[i].next = objects[i + 1];\n    return JSON.stringify(objects[0]);\n  }\n};\nvar generators = {\n  javascript: JavaScriptLocatorFactory,\n  python: PythonLocatorFactory,\n  java: JavaLocatorFactory,\n  csharp: CSharpLocatorFactory,\n  jsonl: JsonlLocatorFactory\n};\nfunction isRegExp(obj) {\n  return obj instanceof RegExp;\n}\n\n// packages/injected/src/domUtils.ts\nvar globalOptions = {};\nfunction setGlobalOptions(options) {\n  globalOptions = options;\n}\nfunction isInsideScope(scope, element) {\n  while (element) {\n    if (scope.contains(element))\n      return true;\n    element = enclosingShadowHost(element);\n  }\n  return false;\n}\nfunction parentElementOrShadowHost(element) {\n  if (element.parentElement)\n    return element.parentElement;\n  if (!element.parentNode)\n    return;\n  if (element.parentNode.nodeType === 11 && element.parentNode.host)\n    return element.parentNode.host;\n}\nfunction enclosingShadowRootOrDocument(element) {\n  let node = element;\n  while (node.parentNode)\n    node = node.parentNode;\n  if (node.nodeType === 11 || node.nodeType === 9)\n    return node;\n}\nfunction enclosingShadowHost(element) {\n  while (element.parentElement)\n    element = element.parentElement;\n  return parentElementOrShadowHost(element);\n}\nfunction closestCrossShadow(element, css, scope) {\n  while (element) {\n    const closest = element.closest(css);\n    if (scope && closest !== scope && (closest == null ? void 0 : closest.contains(scope)))\n      return;\n    if (closest)\n      return closest;\n    element = enclosingShadowHost(element);\n  }\n}\nfunction getElementComputedStyle(element, pseudo) {\n  const cache = pseudo === "::before" ? cacheStyleBefore : pseudo === "::after" ? cacheStyleAfter : cacheStyle;\n  if (cache && cache.has(element))\n    return cache.get(element);\n  const style = element.ownerDocument && element.ownerDocument.defaultView ? element.ownerDocument.defaultView.getComputedStyle(element, pseudo) : void 0;\n  cache == null ? void 0 : cache.set(element, style);\n  return style;\n}\nfunction isElementStyleVisibilityVisible(element, style) {\n  style = style != null ? style : getElementComputedStyle(element);\n  if (!style)\n    return true;\n  if (Element.prototype.checkVisibility && globalOptions.browserNameForWorkarounds !== "webkit") {\n    if (!element.checkVisibility())\n      return false;\n  } else {\n    const detailsOrSummary = element.closest("details,summary");\n    if (detailsOrSummary !== element && (detailsOrSummary == null ? void 0 : detailsOrSummary.nodeName) === "DETAILS" && !detailsOrSummary.open)\n      return false;\n  }\n  if (style.visibility !== "visible")\n    return false;\n  return true;\n}\nfunction computeBox(element) {\n  const style = getElementComputedStyle(element);\n  if (!style)\n    return { visible: true, inline: false };\n  const cursor = style.cursor;\n  if (style.display === "contents") {\n    for (let child = element.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 1 && isElementVisible(child))\n        return { visible: true, inline: false, cursor };\n      if (child.nodeType === 3 && isVisibleTextNode(child))\n        return { visible: true, inline: true, cursor };\n    }\n    return { visible: false, inline: false, cursor };\n  }\n  if (!isElementStyleVisibilityVisible(element, style))\n    return { cursor, visible: false, inline: false };\n  const rect = element.getBoundingClientRect();\n  return { rect, cursor, visible: rect.width > 0 && rect.height > 0, inline: style.display === "inline" };\n}\nfunction isElementVisible(element) {\n  return computeBox(element).visible;\n}\nfunction isVisibleTextNode(node) {\n  const range = node.ownerDocument.createRange();\n  range.selectNode(node);\n  const rect = range.getBoundingClientRect();\n  return rect.width > 0 && rect.height > 0;\n}\nfunction elementSafeTagName(element) {\n  const tagName = element.tagName;\n  if (typeof tagName === "string")\n    return tagName.toUpperCase();\n  if (element instanceof HTMLFormElement)\n    return "FORM";\n  return element.tagName.toUpperCase();\n}\nvar cacheStyle;\nvar cacheStyleBefore;\nvar cacheStyleAfter;\nvar cachesCounter = 0;\nfunction beginDOMCaches() {\n  ++cachesCounter;\n  cacheStyle != null ? cacheStyle : cacheStyle = /* @__PURE__ */ new Map();\n  cacheStyleBefore != null ? cacheStyleBefore : cacheStyleBefore = /* @__PURE__ */ new Map();\n  cacheStyleAfter != null ? cacheStyleAfter : cacheStyleAfter = /* @__PURE__ */ new Map();\n}\nfunction endDOMCaches() {\n  if (!--cachesCounter) {\n    cacheStyle = void 0;\n    cacheStyleBefore = void 0;\n    cacheStyleAfter = void 0;\n  }\n}\n\n// packages/injected/src/roleUtils.ts\nfunction hasExplicitAccessibleName(e) {\n  return e.hasAttribute("aria-label") || e.hasAttribute("aria-labelledby");\n}\nvar kAncestorPreventingLandmark = "article:not([role]), aside:not([role]), main:not([role]), nav:not([role]), section:not([role]), [role=article], [role=complementary], [role=main], [role=navigation], [role=region]";\nvar kGlobalAriaAttributes = [\n  ["aria-atomic", void 0],\n  ["aria-busy", void 0],\n  ["aria-controls", void 0],\n  ["aria-current", void 0],\n  ["aria-describedby", void 0],\n  ["aria-details", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-disabled\', undefined],\n  ["aria-dropeffect", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-errormessage\', undefined],\n  ["aria-flowto", void 0],\n  ["aria-grabbed", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-haspopup\', undefined],\n  ["aria-hidden", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-invalid\', undefined],\n  ["aria-keyshortcuts", void 0],\n  ["aria-label", ["caption", "code", "deletion", "emphasis", "generic", "insertion", "paragraph", "presentation", "strong", "subscript", "superscript"]],\n  ["aria-labelledby", ["caption", "code", "deletion", "emphasis", "generic", "insertion", "paragraph", "presentation", "strong", "subscript", "superscript"]],\n  ["aria-live", void 0],\n  ["aria-owns", void 0],\n  ["aria-relevant", void 0],\n  ["aria-roledescription", ["generic"]]\n];\nfunction hasGlobalAriaAttribute(element, forRole) {\n  return kGlobalAriaAttributes.some(([attr, prohibited]) => {\n    return !(prohibited == null ? void 0 : prohibited.includes(forRole || "")) && element.hasAttribute(attr);\n  });\n}\nfunction hasTabIndex(element) {\n  return !Number.isNaN(Number(String(element.getAttribute("tabindex"))));\n}\nfunction isFocusable(element) {\n  return !isNativelyDisabled(element) && (isNativelyFocusable(element) || hasTabIndex(element));\n}\nfunction isNativelyFocusable(element) {\n  const tagName = elementSafeTagName(element);\n  if (["BUTTON", "DETAILS", "SELECT", "TEXTAREA"].includes(tagName))\n    return true;\n  if (tagName === "A" || tagName === "AREA")\n    return element.hasAttribute("href");\n  if (tagName === "INPUT")\n    return !element.hidden;\n  return false;\n}\nvar kImplicitRoleByTagName = {\n  "A": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "AREA": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "ARTICLE": () => "article",\n  "ASIDE": () => "complementary",\n  "BLOCKQUOTE": () => "blockquote",\n  "BUTTON": () => "button",\n  "CAPTION": () => "caption",\n  "CODE": () => "code",\n  "DATALIST": () => "listbox",\n  "DD": () => "definition",\n  "DEL": () => "deletion",\n  "DETAILS": () => "group",\n  "DFN": () => "term",\n  "DIALOG": () => "dialog",\n  "DT": () => "term",\n  "EM": () => "emphasis",\n  "FIELDSET": () => "group",\n  "FIGURE": () => "figure",\n  "FOOTER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "contentinfo",\n  "FORM": (e) => hasExplicitAccessibleName(e) ? "form" : null,\n  "H1": () => "heading",\n  "H2": () => "heading",\n  "H3": () => "heading",\n  "H4": () => "heading",\n  "H5": () => "heading",\n  "H6": () => "heading",\n  "HEADER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "banner",\n  "HR": () => "separator",\n  "HTML": () => "document",\n  "IMG": (e) => e.getAttribute("alt") === "" && !e.getAttribute("title") && !hasGlobalAriaAttribute(e) && !hasTabIndex(e) ? "presentation" : "img",\n  "INPUT": (e) => {\n    const type = e.type.toLowerCase();\n    if (type === "search")\n      return e.hasAttribute("list") ? "combobox" : "searchbox";\n    if (["email", "tel", "text", "url", ""].includes(type)) {\n      const list = getIdRefs(e, e.getAttribute("list"))[0];\n      return list && elementSafeTagName(list) === "DATALIST" ? "combobox" : "textbox";\n    }\n    if (type === "hidden")\n      return null;\n    if (type === "file")\n      return "button";\n    return inputTypeToRole[type] || "textbox";\n  },\n  "INS": () => "insertion",\n  "LI": () => "listitem",\n  "MAIN": () => "main",\n  "MARK": () => "mark",\n  "MATH": () => "math",\n  "MENU": () => "list",\n  "METER": () => "meter",\n  "NAV": () => "navigation",\n  "OL": () => "list",\n  "OPTGROUP": () => "group",\n  "OPTION": () => "option",\n  "OUTPUT": () => "status",\n  "P": () => "paragraph",\n  "PROGRESS": () => "progressbar",\n  "SEARCH": () => "search",\n  "SECTION": (e) => hasExplicitAccessibleName(e) ? "region" : null,\n  "SELECT": (e) => e.hasAttribute("multiple") || e.size > 1 ? "listbox" : "combobox",\n  "STRONG": () => "strong",\n  "SUB": () => "subscript",\n  "SUP": () => "superscript",\n  // For <svg> we default to Chrome behavior:\n  // - Chrome reports \'img\'.\n  // - Firefox reports \'diagram\' that is not in official ARIA spec yet.\n  // - Safari reports \'no role\', but still computes accessible name.\n  "SVG": () => "img",\n  "TABLE": () => "table",\n  "TBODY": () => "rowgroup",\n  "TD": (e) => {\n    const table = closestCrossShadow(e, "table");\n    const role = table ? getExplicitAriaRole(table) : "";\n    return role === "grid" || role === "treegrid" ? "gridcell" : "cell";\n  },\n  "TEXTAREA": () => "textbox",\n  "TFOOT": () => "rowgroup",\n  "TH": (e) => {\n    const scope = e.getAttribute("scope");\n    if (scope === "col" || scope === "colgroup")\n      return "columnheader";\n    if (scope === "row" || scope === "rowgroup")\n      return "rowheader";\n    const nextSibling = e.nextElementSibling;\n    const prevSibling = e.previousElementSibling;\n    const row = !!e.parentElement && elementSafeTagName(e.parentElement) === "TR" ? e.parentElement : void 0;\n    if (!nextSibling && !prevSibling) {\n      if (row) {\n        const table = closestCrossShadow(row, "table");\n        if (table && table.rows.length <= 1)\n          return null;\n      }\n      return "columnheader";\n    }\n    if (isHeaderCell(nextSibling) && isHeaderCell(prevSibling))\n      return "columnheader";\n    if (isNonEmptyDataCell(nextSibling) || isNonEmptyDataCell(prevSibling))\n      return "rowheader";\n    return "columnheader";\n  },\n  "THEAD": () => "rowgroup",\n  "TIME": () => "time",\n  "TR": () => "row",\n  "UL": () => "list"\n};\nfunction isHeaderCell(element) {\n  return !!element && elementSafeTagName(element) === "TH";\n}\nfunction isNonEmptyDataCell(element) {\n  var _a;\n  if (!element || elementSafeTagName(element) !== "TD")\n    return false;\n  return !!(((_a = element.textContent) == null ? void 0 : _a.trim()) || element.children.length > 0);\n}\nvar kPresentationInheritanceParents = {\n  "DD": ["DL", "DIV"],\n  "DIV": ["DL"],\n  "DT": ["DL", "DIV"],\n  "LI": ["OL", "UL"],\n  "TBODY": ["TABLE"],\n  "TD": ["TR"],\n  "TFOOT": ["TABLE"],\n  "TH": ["TR"],\n  "THEAD": ["TABLE"],\n  "TR": ["THEAD", "TBODY", "TFOOT", "TABLE"]\n};\nfunction getImplicitAriaRole(element) {\n  var _a;\n  const implicitRole = ((_a = kImplicitRoleByTagName[elementSafeTagName(element)]) == null ? void 0 : _a.call(kImplicitRoleByTagName, element)) || "";\n  if (!implicitRole)\n    return null;\n  let ancestor = element;\n  while (ancestor) {\n    const parent = parentElementOrShadowHost(ancestor);\n    const parents = kPresentationInheritanceParents[elementSafeTagName(ancestor)];\n    if (!parents || !parent || !parents.includes(elementSafeTagName(parent)))\n      break;\n    const parentExplicitRole = getExplicitAriaRole(parent);\n    if ((parentExplicitRole === "none" || parentExplicitRole === "presentation") && !hasPresentationConflictResolution(parent, parentExplicitRole))\n      return parentExplicitRole;\n    ancestor = parent;\n  }\n  return implicitRole;\n}\nvar validRoles = [\n  "alert",\n  "alertdialog",\n  "application",\n  "article",\n  "banner",\n  "blockquote",\n  "button",\n  "caption",\n  "cell",\n  "checkbox",\n  "code",\n  "columnheader",\n  "combobox",\n  "complementary",\n  "contentinfo",\n  "definition",\n  "deletion",\n  "dialog",\n  "directory",\n  "document",\n  "emphasis",\n  "feed",\n  "figure",\n  "form",\n  "generic",\n  "grid",\n  "gridcell",\n  "group",\n  "heading",\n  "img",\n  "insertion",\n  "link",\n  "list",\n  "listbox",\n  "listitem",\n  "log",\n  "main",\n  "mark",\n  "marquee",\n  "math",\n  "meter",\n  "menu",\n  "menubar",\n  "menuitem",\n  "menuitemcheckbox",\n  "menuitemradio",\n  "navigation",\n  "none",\n  "note",\n  "option",\n  "paragraph",\n  "presentation",\n  "progressbar",\n  "radio",\n  "radiogroup",\n  "region",\n  "row",\n  "rowgroup",\n  "rowheader",\n  "scrollbar",\n  "search",\n  "searchbox",\n  "separator",\n  "slider",\n  "spinbutton",\n  "status",\n  "strong",\n  "subscript",\n  "superscript",\n  "switch",\n  "tab",\n  "table",\n  "tablist",\n  "tabpanel",\n  "term",\n  "textbox",\n  "time",\n  "timer",\n  "toolbar",\n  "tooltip",\n  "tree",\n  "treegrid",\n  "treeitem"\n];\nfunction getExplicitAriaRole(element) {\n  const roles = (element.getAttribute("role") || "").split(" ").map((role) => role.trim());\n  return roles.find((role) => validRoles.includes(role)) || null;\n}\nfunction hasPresentationConflictResolution(element, role) {\n  return hasGlobalAriaAttribute(element, role) || isFocusable(element);\n}\nfunction getAriaRole(element) {\n  const explicitRole = getExplicitAriaRole(element);\n  if (!explicitRole)\n    return getImplicitAriaRole(element);\n  if (explicitRole === "none" || explicitRole === "presentation") {\n    const implicitRole = getImplicitAriaRole(element);\n    if (hasPresentationConflictResolution(element, implicitRole))\n      return implicitRole;\n  }\n  return explicitRole;\n}\nfunction getAriaBoolean(attr) {\n  return attr === null ? void 0 : attr.toLowerCase() === "true";\n}\nfunction isElementIgnoredForAria(element) {\n  return ["STYLE", "SCRIPT", "NOSCRIPT", "TEMPLATE"].includes(elementSafeTagName(element));\n}\nfunction isElementHiddenForAria(element) {\n  if (isElementIgnoredForAria(element))\n    return true;\n  const style = getElementComputedStyle(element);\n  const isSlot = element.nodeName === "SLOT";\n  if ((style == null ? void 0 : style.display) === "contents" && !isSlot) {\n    for (let child = element.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 1 && !isElementHiddenForAria(child))\n        return false;\n      if (child.nodeType === 3 && isVisibleTextNode(child))\n        return false;\n    }\n    return true;\n  }\n  const isOptionInsideSelect = element.nodeName === "OPTION" && !!element.closest("select");\n  if (!isOptionInsideSelect && !isSlot && !isElementStyleVisibilityVisible(element, style))\n    return true;\n  return belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element);\n}\nfunction belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element) {\n  let hidden = cacheIsHidden == null ? void 0 : cacheIsHidden.get(element);\n  if (hidden === void 0) {\n    hidden = false;\n    if (element.parentElement && element.parentElement.shadowRoot && !element.assignedSlot)\n      hidden = true;\n    if (!hidden) {\n      const style = getElementComputedStyle(element);\n      hidden = !style || style.display === "none" || getAriaBoolean(element.getAttribute("aria-hidden")) === true;\n    }\n    if (!hidden) {\n      const parent = parentElementOrShadowHost(element);\n      if (parent)\n        hidden = belongsToDisplayNoneOrAriaHiddenOrNonSlotted(parent);\n    }\n    cacheIsHidden == null ? void 0 : cacheIsHidden.set(element, hidden);\n  }\n  return hidden;\n}\nfunction getIdRefs(element, ref) {\n  if (!ref)\n    return [];\n  const root = enclosingShadowRootOrDocument(element);\n  if (!root)\n    return [];\n  try {\n    const ids = ref.split(" ").filter((id) => !!id);\n    const result = [];\n    for (const id of ids) {\n      const firstElement = root.querySelector("#" + CSS.escape(id));\n      if (firstElement && !result.includes(firstElement))\n        result.push(firstElement);\n    }\n    return result;\n  } catch (e) {\n    return [];\n  }\n}\nfunction trimFlatString(s) {\n  return s.trim();\n}\nfunction asFlatString(s) {\n  return s.split("\\xA0").map((chunk) => chunk.replace(/\\r\\n/g, "\\n").replace(/[\\u200b\\u00ad]/g, "").replace(/\\s\\s*/g, " ")).join("\\xA0").trim();\n}\nfunction queryInAriaOwned(element, selector) {\n  const result = [...element.querySelectorAll(selector)];\n  for (const owned of getIdRefs(element, element.getAttribute("aria-owns"))) {\n    if (owned.matches(selector))\n      result.push(owned);\n    result.push(...owned.querySelectorAll(selector));\n  }\n  return result;\n}\nfunction getCSSContent(element, pseudo) {\n  const cache = pseudo === "::before" ? cachePseudoContentBefore : pseudo === "::after" ? cachePseudoContentAfter : cachePseudoContent;\n  if (cache == null ? void 0 : cache.has(element))\n    return cache == null ? void 0 : cache.get(element);\n  const style = getElementComputedStyle(element, pseudo);\n  let content;\n  if (style) {\n    const contentValue = style.content;\n    if (contentValue && contentValue !== "none" && contentValue !== "normal") {\n      if (style.display !== "none" && style.visibility !== "hidden") {\n        content = parseCSSContentPropertyAsString(element, contentValue, !!pseudo);\n      }\n    }\n  }\n  if (pseudo && content !== void 0) {\n    const display = (style == null ? void 0 : style.display) || "inline";\n    if (display !== "inline")\n      content = " " + content + " ";\n  }\n  if (cache)\n    cache.set(element, content);\n  return content;\n}\nfunction parseCSSContentPropertyAsString(element, content, isPseudo) {\n  if (!content || content === "none" || content === "normal") {\n    return;\n  }\n  try {\n    let tokens = tokenize(content).filter((token) => !(token instanceof WhitespaceToken));\n    const delimIndex = tokens.findIndex((token) => token instanceof DelimToken && token.value === "/");\n    if (delimIndex !== -1) {\n      tokens = tokens.slice(delimIndex + 1);\n    } else if (!isPseudo) {\n      return;\n    }\n    const accumulated = [];\n    let index = 0;\n    while (index < tokens.length) {\n      if (tokens[index] instanceof StringToken) {\n        accumulated.push(tokens[index].value);\n        index++;\n      } else if (index + 2 < tokens.length && tokens[index] instanceof FunctionToken && tokens[index].value === "attr" && tokens[index + 1] instanceof IdentToken && tokens[index + 2] instanceof CloseParenToken) {\n        const attrName = tokens[index + 1].value;\n        accumulated.push(element.getAttribute(attrName) || "");\n        index += 3;\n      } else {\n        return;\n      }\n    }\n    return accumulated.join("");\n  } catch {\n  }\n}\nfunction getAriaLabelledByElements(element) {\n  const ref = element.getAttribute("aria-labelledby");\n  if (ref === null)\n    return null;\n  const refs = getIdRefs(element, ref);\n  return refs.length ? refs : null;\n}\nfunction allowsNameFromContent(role, targetDescendant) {\n  const alwaysAllowsNameFromContent = ["button", "cell", "checkbox", "columnheader", "gridcell", "heading", "link", "menuitem", "menuitemcheckbox", "menuitemradio", "option", "radio", "row", "rowheader", "switch", "tab", "tooltip", "treeitem"].includes(role);\n  const descendantAllowsNameFromContent = targetDescendant && ["", "caption", "code", "contentinfo", "definition", "deletion", "emphasis", "insertion", "list", "listitem", "mark", "none", "paragraph", "presentation", "region", "row", "rowgroup", "section", "strong", "subscript", "superscript", "table", "term", "time"].includes(role);\n  return alwaysAllowsNameFromContent || descendantAllowsNameFromContent;\n}\nfunction getElementAccessibleName(element, includeHidden) {\n  const cache = includeHidden ? cacheAccessibleNameHidden : cacheAccessibleName;\n  let accessibleName = cache == null ? void 0 : cache.get(element);\n  if (accessibleName === void 0) {\n    accessibleName = "";\n    const elementProhibitsNaming = ["caption", "code", "definition", "deletion", "emphasis", "generic", "insertion", "mark", "paragraph", "presentation", "strong", "subscript", "suggestion", "superscript", "term", "time"].includes(getAriaRole(element) || "");\n    if (!elementProhibitsNaming) {\n      accessibleName = asFlatString(getTextAlternativeInternal(element, {\n        includeHidden,\n        visitedElements: /* @__PURE__ */ new Set(),\n        embeddedInTargetElement: "self"\n      }));\n    }\n    cache == null ? void 0 : cache.set(element, accessibleName);\n  }\n  return accessibleName;\n}\nfunction getElementAccessibleDescription(element, includeHidden) {\n  const cache = includeHidden ? cacheAccessibleDescriptionHidden : cacheAccessibleDescription;\n  let accessibleDescription = cache == null ? void 0 : cache.get(element);\n  if (accessibleDescription === void 0) {\n    accessibleDescription = "";\n    if (element.hasAttribute("aria-describedby")) {\n      const describedBy = getIdRefs(element, element.getAttribute("aria-describedby"));\n      accessibleDescription = asFlatString(describedBy.map((ref) => getTextAlternativeInternal(ref, {\n        includeHidden,\n        visitedElements: /* @__PURE__ */ new Set(),\n        embeddedInDescribedBy: { element: ref, hidden: isElementHiddenForAria(ref) }\n      })).join(" "));\n    } else if (element.hasAttribute("aria-description")) {\n      accessibleDescription = asFlatString(element.getAttribute("aria-description") || "");\n    } else {\n      accessibleDescription = asFlatString(element.getAttribute("title") || "");\n    }\n    cache == null ? void 0 : cache.set(element, accessibleDescription);\n  }\n  return accessibleDescription;\n}\nfunction getAriaInvalid(element) {\n  const ariaInvalid = element.getAttribute("aria-invalid");\n  if (!ariaInvalid || ariaInvalid.trim() === "" || ariaInvalid.toLocaleLowerCase() === "false")\n    return "false";\n  if (ariaInvalid === "true" || ariaInvalid === "grammar" || ariaInvalid === "spelling")\n    return ariaInvalid;\n  return "true";\n}\nfunction getValidityInvalid(element) {\n  if ("validity" in element) {\n    const validity = element.validity;\n    return (validity == null ? void 0 : validity.valid) === false;\n  }\n  return false;\n}\nfunction getElementAccessibleErrorMessage(element) {\n  const cache = cacheAccessibleErrorMessage;\n  let accessibleErrorMessage = cacheAccessibleErrorMessage == null ? void 0 : cacheAccessibleErrorMessage.get(element);\n  if (accessibleErrorMessage === void 0) {\n    accessibleErrorMessage = "";\n    const isAriaInvalid = getAriaInvalid(element) !== "false";\n    const isValidityInvalid = getValidityInvalid(element);\n    if (isAriaInvalid || isValidityInvalid) {\n      const errorMessageId = element.getAttribute("aria-errormessage");\n      const errorMessages = getIdRefs(element, errorMessageId);\n      const parts = errorMessages.map((errorMessage) => asFlatString(\n        getTextAlternativeInternal(errorMessage, {\n          visitedElements: /* @__PURE__ */ new Set(),\n          embeddedInDescribedBy: { element: errorMessage, hidden: isElementHiddenForAria(errorMessage) }\n        })\n      ));\n      accessibleErrorMessage = parts.join(" ").trim();\n    }\n    cache == null ? void 0 : cache.set(element, accessibleErrorMessage);\n  }\n  return accessibleErrorMessage;\n}\nfunction getTextAlternativeInternal(element, options) {\n  var _a, _b, _c, _d;\n  if (options.visitedElements.has(element))\n    return "";\n  const childOptions = {\n    ...options,\n    embeddedInTargetElement: options.embeddedInTargetElement === "self" ? "descendant" : options.embeddedInTargetElement\n  };\n  if (!options.includeHidden) {\n    const isEmbeddedInHiddenReferenceTraversal = !!((_a = options.embeddedInLabelledBy) == null ? void 0 : _a.hidden) || !!((_b = options.embeddedInDescribedBy) == null ? void 0 : _b.hidden) || !!((_c = options.embeddedInNativeTextAlternative) == null ? void 0 : _c.hidden) || !!((_d = options.embeddedInLabel) == null ? void 0 : _d.hidden);\n    if (isElementIgnoredForAria(element) || !isEmbeddedInHiddenReferenceTraversal && isElementHiddenForAria(element)) {\n      options.visitedElements.add(element);\n      return "";\n    }\n  }\n  const labelledBy = getAriaLabelledByElements(element);\n  if (!options.embeddedInLabelledBy) {\n    const accessibleName = (labelledBy || []).map((ref) => getTextAlternativeInternal(ref, {\n      ...options,\n      embeddedInLabelledBy: { element: ref, hidden: isElementHiddenForAria(ref) },\n      embeddedInDescribedBy: void 0,\n      embeddedInTargetElement: void 0,\n      embeddedInLabel: void 0,\n      embeddedInNativeTextAlternative: void 0\n    })).join(" ");\n    if (accessibleName)\n      return accessibleName;\n  }\n  const role = getAriaRole(element) || "";\n  const tagName = elementSafeTagName(element);\n  if (!!options.embeddedInLabel || !!options.embeddedInLabelledBy || options.embeddedInTargetElement === "descendant") {\n    const isOwnLabel = [...element.labels || []].includes(element);\n    const isOwnLabelledBy = (labelledBy || []).includes(element);\n    if (!isOwnLabel && !isOwnLabelledBy) {\n      if (role === "textbox") {\n        options.visitedElements.add(element);\n        if (tagName === "INPUT" || tagName === "TEXTAREA")\n          return element.value;\n        return element.textContent || "";\n      }\n      if (["combobox", "listbox"].includes(role)) {\n        options.visitedElements.add(element);\n        let selectedOptions;\n        if (tagName === "SELECT") {\n          selectedOptions = [...element.selectedOptions];\n          if (!selectedOptions.length && element.options.length)\n            selectedOptions.push(element.options[0]);\n        } else {\n          const listbox = role === "combobox" ? queryInAriaOwned(element, "*").find((e) => getAriaRole(e) === "listbox") : element;\n          selectedOptions = listbox ? queryInAriaOwned(listbox, \'[aria-selected="true"]\').filter((e) => getAriaRole(e) === "option") : [];\n        }\n        if (!selectedOptions.length && tagName === "INPUT") {\n          return element.value;\n        }\n        return selectedOptions.map((option) => getTextAlternativeInternal(option, childOptions)).join(" ");\n      }\n      if (["progressbar", "scrollbar", "slider", "spinbutton", "meter"].includes(role)) {\n        options.visitedElements.add(element);\n        if (element.hasAttribute("aria-valuetext"))\n          return element.getAttribute("aria-valuetext") || "";\n        if (element.hasAttribute("aria-valuenow"))\n          return element.getAttribute("aria-valuenow") || "";\n        return element.getAttribute("value") || "";\n      }\n      if (["menu"].includes(role)) {\n        options.visitedElements.add(element);\n        return "";\n      }\n    }\n  }\n  const ariaLabel = element.getAttribute("aria-label") || "";\n  if (trimFlatString(ariaLabel)) {\n    options.visitedElements.add(element);\n    return ariaLabel;\n  }\n  if (!["presentation", "none"].includes(role)) {\n    if (tagName === "INPUT" && ["button", "submit", "reset"].includes(element.type)) {\n      options.visitedElements.add(element);\n      const value = element.value || "";\n      if (trimFlatString(value))\n        return value;\n      if (element.type === "submit")\n        return "Submit";\n      if (element.type === "reset")\n        return "Reset";\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "INPUT" && element.type === "file") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length && !options.embeddedInLabelledBy)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      return "Choose File";\n    }\n    if (tagName === "INPUT" && element.type === "image") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length && !options.embeddedInLabelledBy)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const alt = element.getAttribute("alt") || "";\n      if (trimFlatString(alt))\n        return alt;\n      const title = element.getAttribute("title") || "";\n      if (trimFlatString(title))\n        return title;\n      return "Submit";\n    }\n    if (!labelledBy && tagName === "BUTTON") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n    }\n    if (!labelledBy && tagName === "OUTPUT") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      return element.getAttribute("title") || "";\n    }\n    if (!labelledBy && (tagName === "TEXTAREA" || tagName === "SELECT" || tagName === "INPUT")) {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const usePlaceholder = tagName === "INPUT" && ["text", "password", "search", "tel", "email", "url"].includes(element.type) || tagName === "TEXTAREA";\n      const placeholder = element.getAttribute("placeholder") || "";\n      const title = element.getAttribute("title") || "";\n      if (!usePlaceholder || title)\n        return title;\n      return placeholder;\n    }\n    if (!labelledBy && tagName === "FIELDSET") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "LEGEND") {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInNativeTextAlternative: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (!labelledBy && tagName === "FIGURE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "FIGCAPTION") {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInNativeTextAlternative: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "IMG") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (trimFlatString(alt))\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "TABLE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "CAPTION") {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInNativeTextAlternative: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n      const summary = element.getAttribute("summary") || "";\n      if (summary)\n        return summary;\n    }\n    if (tagName === "AREA") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (trimFlatString(alt))\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "SVG" || element.ownerSVGElement) {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "TITLE" && child.ownerSVGElement) {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInLabelledBy: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n    }\n    if (element.ownerSVGElement && tagName === "A") {\n      const title = element.getAttribute("xlink:title") || "";\n      if (trimFlatString(title)) {\n        options.visitedElements.add(element);\n        return title;\n      }\n    }\n  }\n  const shouldNameFromContentForSummary = tagName === "SUMMARY" && !["presentation", "none"].includes(role);\n  if (allowsNameFromContent(role, options.embeddedInTargetElement === "descendant") || shouldNameFromContentForSummary || !!options.embeddedInLabelledBy || !!options.embeddedInDescribedBy || !!options.embeddedInLabel || !!options.embeddedInNativeTextAlternative) {\n    options.visitedElements.add(element);\n    const accessibleName = innerAccumulatedElementText(element, childOptions);\n    const maybeTrimmedAccessibleName = options.embeddedInTargetElement === "self" ? trimFlatString(accessibleName) : accessibleName;\n    if (maybeTrimmedAccessibleName)\n      return accessibleName;\n  }\n  if (!["presentation", "none"].includes(role) || tagName === "IFRAME") {\n    options.visitedElements.add(element);\n    const title = element.getAttribute("title") || "";\n    if (trimFlatString(title))\n      return title;\n  }\n  options.visitedElements.add(element);\n  return "";\n}\nfunction innerAccumulatedElementText(element, options) {\n  const tokens = [];\n  const visit = (node, skipSlotted) => {\n    var _a;\n    if (skipSlotted && node.assignedSlot)\n      return;\n    if (node.nodeType === 1) {\n      const display = ((_a = getElementComputedStyle(node)) == null ? void 0 : _a.display) || "inline";\n      let token = getTextAlternativeInternal(node, options);\n      if (display !== "inline" || node.nodeName === "BR")\n        token = " " + token + " ";\n      tokens.push(token);\n    } else if (node.nodeType === 3) {\n      tokens.push(node.textContent || "");\n    }\n  };\n  tokens.push(getCSSContent(element, "::before") || "");\n  const content = getCSSContent(element);\n  if (content !== void 0) {\n    tokens.push(content);\n  } else {\n    const assignedNodes = element.nodeName === "SLOT" ? element.assignedNodes() : [];\n    if (assignedNodes.length) {\n      for (const child of assignedNodes)\n        visit(child, false);\n    } else {\n      for (let child = element.firstChild; child; child = child.nextSibling)\n        visit(child, true);\n      if (element.shadowRoot) {\n        for (let child = element.shadowRoot.firstChild; child; child = child.nextSibling)\n          visit(child, true);\n      }\n      for (const owned of getIdRefs(element, element.getAttribute("aria-owns")))\n        visit(owned, true);\n    }\n  }\n  tokens.push(getCSSContent(element, "::after") || "");\n  return tokens.join("");\n}\nvar kAriaSelectedRoles = ["gridcell", "option", "row", "tab", "rowheader", "columnheader", "treeitem"];\nfunction getAriaSelected(element) {\n  if (elementSafeTagName(element) === "OPTION")\n    return element.selected;\n  if (kAriaSelectedRoles.includes(getAriaRole(element) || ""))\n    return getAriaBoolean(element.getAttribute("aria-selected")) === true;\n  return false;\n}\nvar kAriaCheckedRoles = ["checkbox", "menuitemcheckbox", "option", "radio", "switch", "menuitemradio", "treeitem"];\nfunction getAriaChecked(element) {\n  const result = getChecked(element, true);\n  return result === "error" ? false : result;\n}\nfunction getCheckedAllowMixed(element) {\n  return getChecked(element, true);\n}\nfunction getCheckedWithoutMixed(element) {\n  const result = getChecked(element, false);\n  return result;\n}\nfunction getChecked(element, allowMixed) {\n  const tagName = elementSafeTagName(element);\n  if (allowMixed && tagName === "INPUT" && element.indeterminate)\n    return "mixed";\n  if (tagName === "INPUT" && ["checkbox", "radio"].includes(element.type))\n    return element.checked;\n  if (kAriaCheckedRoles.includes(getAriaRole(element) || "")) {\n    const checked = element.getAttribute("aria-checked");\n    if (checked === "true")\n      return true;\n    if (allowMixed && checked === "mixed")\n      return "mixed";\n    return false;\n  }\n  return "error";\n}\nvar kAriaReadonlyRoles = ["checkbox", "combobox", "grid", "gridcell", "listbox", "radiogroup", "slider", "spinbutton", "textbox", "columnheader", "rowheader", "searchbox", "switch", "treegrid"];\nfunction getReadonly(element) {\n  const tagName = elementSafeTagName(element);\n  if (["INPUT", "TEXTAREA", "SELECT"].includes(tagName))\n    return element.hasAttribute("readonly");\n  if (kAriaReadonlyRoles.includes(getAriaRole(element) || ""))\n    return element.getAttribute("aria-readonly") === "true";\n  if (element.isContentEditable)\n    return false;\n  return "error";\n}\nvar kAriaPressedRoles = ["button"];\nfunction getAriaPressed(element) {\n  if (kAriaPressedRoles.includes(getAriaRole(element) || "")) {\n    const pressed = element.getAttribute("aria-pressed");\n    if (pressed === "true")\n      return true;\n    if (pressed === "mixed")\n      return "mixed";\n  }\n  return false;\n}\nvar kAriaExpandedRoles = ["application", "button", "checkbox", "combobox", "gridcell", "link", "listbox", "menuitem", "row", "rowheader", "tab", "treeitem", "columnheader", "menuitemcheckbox", "menuitemradio", "rowheader", "switch"];\nfunction getAriaExpanded(element) {\n  if (elementSafeTagName(element) === "DETAILS")\n    return element.open;\n  if (kAriaExpandedRoles.includes(getAriaRole(element) || "")) {\n    const expanded = element.getAttribute("aria-expanded");\n    if (expanded === null)\n      return void 0;\n    if (expanded === "true")\n      return true;\n    return false;\n  }\n  return void 0;\n}\nvar kAriaLevelRoles = ["heading", "listitem", "row", "treeitem"];\nfunction getAriaLevel(element) {\n  const native = { "H1": 1, "H2": 2, "H3": 3, "H4": 4, "H5": 5, "H6": 6 }[elementSafeTagName(element)];\n  if (native)\n    return native;\n  if (kAriaLevelRoles.includes(getAriaRole(element) || "")) {\n    const attr = element.getAttribute("aria-level");\n    const value = attr === null ? Number.NaN : Number(attr);\n    if (Number.isInteger(value) && value >= 1)\n      return value;\n  }\n  return 0;\n}\nvar kAriaDisabledRoles = ["application", "button", "composite", "gridcell", "group", "input", "link", "menuitem", "scrollbar", "separator", "tab", "checkbox", "columnheader", "combobox", "grid", "listbox", "menu", "menubar", "menuitemcheckbox", "menuitemradio", "option", "radio", "radiogroup", "row", "rowheader", "searchbox", "select", "slider", "spinbutton", "switch", "tablist", "textbox", "toolbar", "tree", "treegrid", "treeitem"];\nfunction getAriaDisabled(element) {\n  return isNativelyDisabled(element) || hasExplicitAriaDisabled(element);\n}\nfunction isNativelyDisabled(element) {\n  const isNativeFormControl = ["BUTTON", "INPUT", "SELECT", "TEXTAREA", "OPTION", "OPTGROUP"].includes(elementSafeTagName(element));\n  return isNativeFormControl && (element.hasAttribute("disabled") || belongsToDisabledOptGroup(element) || belongsToDisabledFieldSet(element));\n}\nfunction belongsToDisabledOptGroup(element) {\n  return elementSafeTagName(element) === "OPTION" && !!element.closest("OPTGROUP[DISABLED]");\n}\nfunction belongsToDisabledFieldSet(element) {\n  const fieldSetElement = element == null ? void 0 : element.closest("FIELDSET[DISABLED]");\n  if (!fieldSetElement)\n    return false;\n  const legendElement = fieldSetElement.querySelector(":scope > LEGEND");\n  return !legendElement || !legendElement.contains(element);\n}\nfunction hasExplicitAriaDisabled(element, isAncestor = false) {\n  if (!element)\n    return false;\n  if (isAncestor || kAriaDisabledRoles.includes(getAriaRole(element) || "")) {\n    const attribute = (element.getAttribute("aria-disabled") || "").toLowerCase();\n    if (attribute === "true")\n      return true;\n    if (attribute === "false")\n      return false;\n    return hasExplicitAriaDisabled(parentElementOrShadowHost(element), true);\n  }\n  return false;\n}\nfunction getAccessibleNameFromAssociatedLabels(labels, options) {\n  return [...labels].map((label) => getTextAlternativeInternal(label, {\n    ...options,\n    embeddedInLabel: { element: label, hidden: isElementHiddenForAria(label) },\n    embeddedInNativeTextAlternative: void 0,\n    embeddedInLabelledBy: void 0,\n    embeddedInDescribedBy: void 0,\n    embeddedInTargetElement: void 0\n  })).filter((accessibleName) => !!accessibleName).join(" ");\n}\nfunction receivesPointerEvents(element) {\n  const cache = cachePointerEvents;\n  let e = element;\n  let result;\n  const parents = [];\n  for (; e; e = parentElementOrShadowHost(e)) {\n    const cached = cache.get(e);\n    if (cached !== void 0) {\n      result = cached;\n      break;\n    }\n    parents.push(e);\n    const style = getElementComputedStyle(e);\n    if (!style) {\n      result = true;\n      break;\n    }\n    const value = style.pointerEvents;\n    if (value) {\n      result = value !== "none";\n      break;\n    }\n  }\n  if (result === void 0)\n    result = true;\n  for (const parent of parents)\n    cache.set(parent, result);\n  return result;\n}\nvar cacheAccessibleName;\nvar cacheAccessibleNameHidden;\nvar cacheAccessibleDescription;\nvar cacheAccessibleDescriptionHidden;\nvar cacheAccessibleErrorMessage;\nvar cacheIsHidden;\nvar cachePseudoContent;\nvar cachePseudoContentBefore;\nvar cachePseudoContentAfter;\nvar cachePointerEvents;\nvar cachesCounter2 = 0;\nfunction beginAriaCaches() {\n  beginDOMCaches();\n  ++cachesCounter2;\n  cacheAccessibleName != null ? cacheAccessibleName : cacheAccessibleName = /* @__PURE__ */ new Map();\n  cacheAccessibleNameHidden != null ? cacheAccessibleNameHidden : cacheAccessibleNameHidden = /* @__PURE__ */ new Map();\n  cacheAccessibleDescription != null ? cacheAccessibleDescription : cacheAccessibleDescription = /* @__PURE__ */ new Map();\n  cacheAccessibleDescriptionHidden != null ? cacheAccessibleDescriptionHidden : cacheAccessibleDescriptionHidden = /* @__PURE__ */ new Map();\n  cacheAccessibleErrorMessage != null ? cacheAccessibleErrorMessage : cacheAccessibleErrorMessage = /* @__PURE__ */ new Map();\n  cacheIsHidden != null ? cacheIsHidden : cacheIsHidden = /* @__PURE__ */ new Map();\n  cachePseudoContent != null ? cachePseudoContent : cachePseudoContent = /* @__PURE__ */ new Map();\n  cachePseudoContentBefore != null ? cachePseudoContentBefore : cachePseudoContentBefore = /* @__PURE__ */ new Map();\n  cachePseudoContentAfter != null ? cachePseudoContentAfter : cachePseudoContentAfter = /* @__PURE__ */ new Map();\n  cachePointerEvents != null ? cachePointerEvents : cachePointerEvents = /* @__PURE__ */ new Map();\n}\nfunction endAriaCaches() {\n  if (!--cachesCounter2) {\n    cacheAccessibleName = void 0;\n    cacheAccessibleNameHidden = void 0;\n    cacheAccessibleDescription = void 0;\n    cacheAccessibleDescriptionHidden = void 0;\n    cacheAccessibleErrorMessage = void 0;\n    cacheIsHidden = void 0;\n    cachePseudoContent = void 0;\n    cachePseudoContentBefore = void 0;\n    cachePseudoContentAfter = void 0;\n    cachePointerEvents = void 0;\n  }\n  endDOMCaches();\n}\nvar inputTypeToRole = {\n  "button": "button",\n  "checkbox": "checkbox",\n  "image": "button",\n  "number": "spinbutton",\n  "radio": "radio",\n  "range": "slider",\n  "reset": "button",\n  "submit": "button"\n};\n\n// packages/injected/src/yaml.ts\nfunction yamlEscapeKeyIfNeeded(str) {\n  if (!yamlStringNeedsQuotes(str))\n    return str;\n  return `\'` + str.replace(/\'/g, `\'\'`) + `\'`;\n}\nfunction yamlEscapeValueIfNeeded(str) {\n  if (!yamlStringNeedsQuotes(str))\n    return str;\n  return \'"\' + str.replace(/[\\\\"\\x00-\\x1f\\x7f-\\x9f]/g, (c) => {\n    switch (c) {\n      case "\\\\":\n        return "\\\\\\\\";\n      case \'"\':\n        return \'\\\\"\';\n      case "\\b":\n        return "\\\\b";\n      case "\\f":\n        return "\\\\f";\n      case "\\n":\n        return "\\\\n";\n      case "\\r":\n        return "\\\\r";\n      case "\t":\n        return "\\\\t";\n      default:\n        const code = c.charCodeAt(0);\n        return "\\\\x" + code.toString(16).padStart(2, "0");\n    }\n  }) + \'"\';\n}\nfunction yamlStringNeedsQuotes(str) {\n  if (str.length === 0)\n    return true;\n  if (/^\\s|\\s$/.test(str))\n    return true;\n  if (/[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f-\\x9f]/.test(str))\n    return true;\n  if (/^-/.test(str))\n    return true;\n  if (/[\\n:](\\s|$)/.test(str))\n    return true;\n  if (/\\s#/.test(str))\n    return true;\n  if (/[\\n\\r]/.test(str))\n    return true;\n  if (/^[&*\\],?!>|@"\'#%]/.test(str))\n    return true;\n  if (/[{}`]/.test(str))\n    return true;\n  if (/^\\[/.test(str))\n    return true;\n  if (!isNaN(Number(str)) || ["y", "n", "yes", "no", "true", "false", "on", "off", "null"].includes(str.toLowerCase()))\n    return true;\n  return false;\n}\n\n// packages/injected/src/ariaSnapshot.ts\nfunction ariaNodesEqual(a, b) {\n  if (a.role !== b.role || a.name !== b.name)\n    return false;\n  if (!ariaPropsEqual(a, b) || hasPointerCursor(a) !== hasPointerCursor(b))\n    return false;\n  const aKeys = Object.keys(a.props);\n  const bKeys = Object.keys(b.props);\n  return aKeys.length === bKeys.length && aKeys.every((k) => a.props[k] === b.props[k]);\n}\nvar lastRef = 0;\nfunction toInternalOptions(options) {\n  if (options.mode === "ai") {\n    return {\n      visibility: "ariaOrVisible",\n      refs: "interactable",\n      refPrefix: options.refPrefix,\n      includeGenericRole: true,\n      renderActive: true,\n      renderCursorPointer: true\n    };\n  }\n  if (options.mode === "autoexpect") {\n    return { visibility: "ariaAndVisible", refs: "none" };\n  }\n  if (options.mode === "codegen") {\n    return { visibility: "aria", refs: "none", renderStringsAsRegex: true };\n  }\n  return { visibility: "aria", refs: "none" };\n}\nfunction generateAriaTree(rootElement, publicOptions) {\n  const options = toInternalOptions(publicOptions);\n  const visited = /* @__PURE__ */ new Set();\n  const snapshot = {\n    root: { role: "fragment", name: "", children: [], element: rootElement, props: {}, box: computeBox(rootElement), receivesPointerEvents: true },\n    elements: /* @__PURE__ */ new Map(),\n    refs: /* @__PURE__ */ new Map(),\n    iframeRefs: []\n  };\n  const visit = (ariaNode, node, parentElementVisible) => {\n    if (visited.has(node))\n      return;\n    visited.add(node);\n    if (node.nodeType === Node.TEXT_NODE && node.nodeValue) {\n      if (!parentElementVisible)\n        return;\n      const text = node.nodeValue;\n      if (ariaNode.role !== "textbox" && text)\n        ariaNode.children.push(node.nodeValue || "");\n      return;\n    }\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return;\n    const element = node;\n    const isElementVisibleForAria = !isElementHiddenForAria(element);\n    let visible = isElementVisibleForAria;\n    if (options.visibility === "ariaOrVisible")\n      visible = isElementVisibleForAria || isElementVisible(element);\n    if (options.visibility === "ariaAndVisible")\n      visible = isElementVisibleForAria && isElementVisible(element);\n    if (options.visibility === "aria" && !visible)\n      return;\n    const ariaChildren = [];\n    if (element.hasAttribute("aria-owns")) {\n      const ids = element.getAttribute("aria-owns").split(/\\s+/);\n      for (const id of ids) {\n        const ownedElement = rootElement.ownerDocument.getElementById(id);\n        if (ownedElement)\n          ariaChildren.push(ownedElement);\n      }\n    }\n    const childAriaNode = visible ? toAriaNode(element, options) : null;\n    if (childAriaNode) {\n      if (childAriaNode.ref) {\n        snapshot.elements.set(childAriaNode.ref, element);\n        snapshot.refs.set(element, childAriaNode.ref);\n        if (childAriaNode.role === "iframe")\n          snapshot.iframeRefs.push(childAriaNode.ref);\n      }\n      ariaNode.children.push(childAriaNode);\n    }\n    processElement(childAriaNode || ariaNode, element, ariaChildren, visible);\n  };\n  function processElement(ariaNode, element, ariaChildren, parentElementVisible) {\n    var _a;\n    const display = ((_a = getElementComputedStyle(element)) == null ? void 0 : _a.display) || "inline";\n    const treatAsBlock = display !== "inline" || element.nodeName === "BR" ? " " : "";\n    if (treatAsBlock)\n      ariaNode.children.push(treatAsBlock);\n    ariaNode.children.push(getCSSContent(element, "::before") || "");\n    const assignedNodes = element.nodeName === "SLOT" ? element.assignedNodes() : [];\n    if (assignedNodes.length) {\n      for (const child of assignedNodes)\n        visit(ariaNode, child, parentElementVisible);\n    } else {\n      for (let child = element.firstChild; child; child = child.nextSibling) {\n        if (!child.assignedSlot)\n          visit(ariaNode, child, parentElementVisible);\n      }\n      if (element.shadowRoot) {\n        for (let child = element.shadowRoot.firstChild; child; child = child.nextSibling)\n          visit(ariaNode, child, parentElementVisible);\n      }\n    }\n    for (const child of ariaChildren)\n      visit(ariaNode, child, parentElementVisible);\n    ariaNode.children.push(getCSSContent(element, "::after") || "");\n    if (treatAsBlock)\n      ariaNode.children.push(treatAsBlock);\n    if (ariaNode.children.length === 1 && ariaNode.name === ariaNode.children[0])\n      ariaNode.children = [];\n    if (ariaNode.role === "link" && element.hasAttribute("href")) {\n      const href = element.getAttribute("href");\n      ariaNode.props["url"] = href;\n    }\n    if (ariaNode.role === "textbox" && element.hasAttribute("placeholder") && element.getAttribute("placeholder") !== ariaNode.name) {\n      const placeholder = element.getAttribute("placeholder");\n      ariaNode.props["placeholder"] = placeholder;\n    }\n  }\n  beginAriaCaches();\n  try {\n    visit(snapshot.root, rootElement, true);\n  } finally {\n    endAriaCaches();\n  }\n  normalizeStringChildren(snapshot.root);\n  normalizeGenericRoles(snapshot.root);\n  return snapshot;\n}\nfunction computeAriaRef(ariaNode, options) {\n  var _a;\n  if (options.refs === "none")\n    return;\n  if (options.refs === "interactable" && (!ariaNode.box.visible || !ariaNode.receivesPointerEvents))\n    return;\n  let ariaRef;\n  ariaRef = ariaNode.element._ariaRef;\n  if (!ariaRef || ariaRef.role !== ariaNode.role || ariaRef.name !== ariaNode.name) {\n    ariaRef = { role: ariaNode.role, name: ariaNode.name, ref: ((_a = options.refPrefix) != null ? _a : "") + "e" + ++lastRef };\n    ariaNode.element._ariaRef = ariaRef;\n  }\n  ariaNode.ref = ariaRef.ref;\n}\nfunction toAriaNode(element, options) {\n  var _a;\n  const active = element.ownerDocument.activeElement === element;\n  if (element.nodeName === "IFRAME") {\n    const ariaNode = {\n      role: "iframe",\n      name: "",\n      children: [],\n      props: {},\n      element,\n      box: computeBox(element),\n      receivesPointerEvents: true,\n      active\n    };\n    computeAriaRef(ariaNode, options);\n    return ariaNode;\n  }\n  const defaultRole = options.includeGenericRole ? "generic" : null;\n  const role = (_a = getAriaRole(element)) != null ? _a : defaultRole;\n  if (!role || role === "presentation" || role === "none")\n    return null;\n  const name = normalizeWhiteSpace(getElementAccessibleName(element, false) || "");\n  const receivesPointerEvents2 = receivesPointerEvents(element);\n  const box = computeBox(element);\n  if (role === "generic" && box.inline && element.childNodes.length === 1 && element.childNodes[0].nodeType === Node.TEXT_NODE)\n    return null;\n  const result = {\n    role,\n    name,\n    children: [],\n    props: {},\n    element,\n    box,\n    receivesPointerEvents: receivesPointerEvents2,\n    active\n  };\n  computeAriaRef(result, options);\n  if (kAriaCheckedRoles.includes(role))\n    result.checked = getAriaChecked(element);\n  if (kAriaDisabledRoles.includes(role))\n    result.disabled = getAriaDisabled(element);\n  if (kAriaExpandedRoles.includes(role))\n    result.expanded = getAriaExpanded(element);\n  if (kAriaLevelRoles.includes(role))\n    result.level = getAriaLevel(element);\n  if (kAriaPressedRoles.includes(role))\n    result.pressed = getAriaPressed(element);\n  if (kAriaSelectedRoles.includes(role))\n    result.selected = getAriaSelected(element);\n  if (element instanceof HTMLInputElement || element instanceof HTMLTextAreaElement) {\n    if (element.type !== "checkbox" && element.type !== "radio" && element.type !== "file")\n      result.children = [element.value];\n  }\n  return result;\n}\nfunction normalizeGenericRoles(node) {\n  const normalizeChildren = (node2) => {\n    const result = [];\n    for (const child of node2.children || []) {\n      if (typeof child === "string") {\n        result.push(child);\n        continue;\n      }\n      const normalized = normalizeChildren(child);\n      result.push(...normalized);\n    }\n    const removeSelf = node2.role === "generic" && !node2.name && result.length <= 1 && result.every((c) => typeof c !== "string" && !!c.ref);\n    if (removeSelf)\n      return result;\n    node2.children = result;\n    return [node2];\n  };\n  normalizeChildren(node);\n}\nfunction normalizeStringChildren(rootA11yNode) {\n  const flushChildren = (buffer, normalizedChildren) => {\n    if (!buffer.length)\n      return;\n    const text = normalizeWhiteSpace(buffer.join(""));\n    if (text)\n      normalizedChildren.push(text);\n    buffer.length = 0;\n  };\n  const visit = (ariaNode) => {\n    const normalizedChildren = [];\n    const buffer = [];\n    for (const child of ariaNode.children || []) {\n      if (typeof child === "string") {\n        buffer.push(child);\n      } else {\n        flushChildren(buffer, normalizedChildren);\n        visit(child);\n        normalizedChildren.push(child);\n      }\n    }\n    flushChildren(buffer, normalizedChildren);\n    ariaNode.children = normalizedChildren.length ? normalizedChildren : [];\n    if (ariaNode.children.length === 1 && ariaNode.children[0] === ariaNode.name)\n      ariaNode.children = [];\n  };\n  visit(rootA11yNode);\n}\nfunction matchesStringOrRegex(text, template) {\n  if (!template)\n    return true;\n  if (!text)\n    return false;\n  if (typeof template === "string")\n    return text === template;\n  return !!text.match(new RegExp(template.pattern));\n}\nfunction matchesTextValue(text, template) {\n  if (!(template == null ? void 0 : template.normalized))\n    return true;\n  if (!text)\n    return false;\n  if (text === template.normalized)\n    return true;\n  if (text === template.raw)\n    return true;\n  const regex = cachedRegex(template);\n  if (regex)\n    return !!text.match(regex);\n  return false;\n}\nvar cachedRegexSymbol = Symbol("cachedRegex");\nfunction cachedRegex(template) {\n  if (template[cachedRegexSymbol] !== void 0)\n    return template[cachedRegexSymbol];\n  const { raw } = template;\n  const canBeRegex = raw.startsWith("/") && raw.endsWith("/") && raw.length > 1;\n  let regex;\n  try {\n    regex = canBeRegex ? new RegExp(raw.slice(1, -1)) : null;\n  } catch (e) {\n    regex = null;\n  }\n  template[cachedRegexSymbol] = regex;\n  return regex;\n}\nfunction matchesExpectAriaTemplate(rootElement, template) {\n  const snapshot = generateAriaTree(rootElement, { mode: "expect" });\n  const matches = matchesNodeDeep(snapshot.root, template, false, false);\n  return {\n    matches,\n    received: {\n      raw: renderAriaTree(snapshot, { mode: "expect" }),\n      regex: renderAriaTree(snapshot, { mode: "codegen" })\n    }\n  };\n}\nfunction getAllElementsMatchingExpectAriaTemplate(rootElement, template) {\n  const root = generateAriaTree(rootElement, { mode: "expect" }).root;\n  const matches = matchesNodeDeep(root, template, true, false);\n  return matches.map((n) => n.element);\n}\nfunction matchesNode(node, template, isDeepEqual) {\n  var _a;\n  if (typeof node === "string" && template.kind === "text")\n    return matchesTextValue(node, template.text);\n  if (node === null || typeof node !== "object" || template.kind !== "role")\n    return false;\n  if (template.role !== "fragment" && template.role !== node.role)\n    return false;\n  if (template.checked !== void 0 && template.checked !== node.checked)\n    return false;\n  if (template.disabled !== void 0 && template.disabled !== node.disabled)\n    return false;\n  if (template.expanded !== void 0 && template.expanded !== node.expanded)\n    return false;\n  if (template.level !== void 0 && template.level !== node.level)\n    return false;\n  if (template.pressed !== void 0 && template.pressed !== node.pressed)\n    return false;\n  if (template.selected !== void 0 && template.selected !== node.selected)\n    return false;\n  if (!matchesStringOrRegex(node.name, template.name))\n    return false;\n  if (!matchesTextValue(node.props.url, (_a = template.props) == null ? void 0 : _a.url))\n    return false;\n  if (template.containerMode === "contain")\n    return containsList(node.children || [], template.children || []);\n  if (template.containerMode === "equal")\n    return listEqual(node.children || [], template.children || [], false);\n  if (template.containerMode === "deep-equal" || isDeepEqual)\n    return listEqual(node.children || [], template.children || [], true);\n  return containsList(node.children || [], template.children || []);\n}\nfunction listEqual(children, template, isDeepEqual) {\n  if (template.length !== children.length)\n    return false;\n  for (let i = 0; i < template.length; ++i) {\n    if (!matchesNode(children[i], template[i], isDeepEqual))\n      return false;\n  }\n  return true;\n}\nfunction containsList(children, template) {\n  if (template.length > children.length)\n    return false;\n  const cc = children.slice();\n  const tt = template.slice();\n  for (const t of tt) {\n    let c = cc.shift();\n    while (c) {\n      if (matchesNode(c, t, false))\n        break;\n      c = cc.shift();\n    }\n    if (!c)\n      return false;\n  }\n  return true;\n}\nfunction matchesNodeDeep(root, template, collectAll, isDeepEqual) {\n  const results = [];\n  const visit = (node, parent) => {\n    if (matchesNode(node, template, isDeepEqual)) {\n      const result = typeof node === "string" ? parent : node;\n      if (result)\n        results.push(result);\n      return !collectAll;\n    }\n    if (typeof node === "string")\n      return false;\n    for (const child of node.children || []) {\n      if (visit(child, node))\n        return true;\n    }\n    return false;\n  };\n  visit(root, null);\n  return results;\n}\nfunction buildByRefMap(root, map = /* @__PURE__ */ new Map()) {\n  if (root == null ? void 0 : root.ref)\n    map.set(root.ref, root);\n  for (const child of (root == null ? void 0 : root.children) || []) {\n    if (typeof child !== "string")\n      buildByRefMap(child, map);\n  }\n  return map;\n}\nfunction compareSnapshots(ariaSnapshot, previousSnapshot) {\n  var _a;\n  const previousByRef = buildByRefMap(previousSnapshot == null ? void 0 : previousSnapshot.root);\n  const result = /* @__PURE__ */ new Map();\n  const visit = (ariaNode, previousNode) => {\n    let same = ariaNode.children.length === (previousNode == null ? void 0 : previousNode.children.length) && ariaNodesEqual(ariaNode, previousNode);\n    let canBeSkipped = same;\n    for (let childIndex = 0; childIndex < ariaNode.children.length; childIndex++) {\n      const child = ariaNode.children[childIndex];\n      const previousChild = previousNode == null ? void 0 : previousNode.children[childIndex];\n      if (typeof child === "string") {\n        same && (same = child === previousChild);\n        canBeSkipped && (canBeSkipped = child === previousChild);\n      } else {\n        let previous = typeof previousChild !== "string" ? previousChild : void 0;\n        if (child.ref)\n          previous = previousByRef.get(child.ref);\n        const sameChild = visit(child, previous);\n        if (!previous || !sameChild && !child.ref || previous !== previousChild)\n          canBeSkipped = false;\n        same && (same = sameChild && previous === previousChild);\n      }\n    }\n    result.set(ariaNode, same ? "same" : canBeSkipped ? "skip" : "changed");\n    return same;\n  };\n  visit(ariaSnapshot.root, previousByRef.get((_a = previousSnapshot == null ? void 0 : previousSnapshot.root) == null ? void 0 : _a.ref));\n  return result;\n}\nfunction filterSnapshotDiff(nodes, statusMap) {\n  const result = [];\n  const visit = (ariaNode) => {\n    const status = statusMap.get(ariaNode);\n    if (status === "same") {\n    } else if (status === "skip") {\n      for (const child of ariaNode.children) {\n        if (typeof child !== "string")\n          visit(child);\n      }\n    } else {\n      result.push(ariaNode);\n    }\n  };\n  for (const node of nodes) {\n    if (typeof node === "string")\n      result.push(node);\n    else\n      visit(node);\n  }\n  return result;\n}\nfunction renderAriaTree(ariaSnapshot, publicOptions, previousSnapshot) {\n  const options = toInternalOptions(publicOptions);\n  const lines = [];\n  const includeText = options.renderStringsAsRegex ? textContributesInfo : () => true;\n  const renderString = options.renderStringsAsRegex ? convertToBestGuessRegex : (str) => str;\n  let nodesToRender = ariaSnapshot.root.role === "fragment" ? ariaSnapshot.root.children : [ariaSnapshot.root];\n  const statusMap = compareSnapshots(ariaSnapshot, previousSnapshot);\n  if (previousSnapshot)\n    nodesToRender = filterSnapshotDiff(nodesToRender, statusMap);\n  const visitText = (text, indent) => {\n    const escaped = yamlEscapeValueIfNeeded(renderString(text));\n    if (escaped)\n      lines.push(indent + "- text: " + escaped);\n  };\n  const createKey = (ariaNode, renderCursorPointer) => {\n    let key = ariaNode.role;\n    if (ariaNode.name && ariaNode.name.length <= 900) {\n      const name = renderString(ariaNode.name);\n      if (name) {\n        const stringifiedName = name.startsWith("/") && name.endsWith("/") ? name : JSON.stringify(name);\n        key += " " + stringifiedName;\n      }\n    }\n    if (ariaNode.checked === "mixed")\n      key += ` [checked=mixed]`;\n    if (ariaNode.checked === true)\n      key += ` [checked]`;\n    if (ariaNode.disabled)\n      key += ` [disabled]`;\n    if (ariaNode.expanded)\n      key += ` [expanded]`;\n    if (ariaNode.active && options.renderActive)\n      key += ` [active]`;\n    if (ariaNode.level)\n      key += ` [level=${ariaNode.level}]`;\n    if (ariaNode.pressed === "mixed")\n      key += ` [pressed=mixed]`;\n    if (ariaNode.pressed === true)\n      key += ` [pressed]`;\n    if (ariaNode.selected === true)\n      key += ` [selected]`;\n    if (ariaNode.ref) {\n      key += ` [ref=${ariaNode.ref}]`;\n      if (renderCursorPointer && hasPointerCursor(ariaNode))\n        key += " [cursor=pointer]";\n    }\n    return key;\n  };\n  const getSingleInlinedTextChild = (ariaNode) => {\n    return (ariaNode == null ? void 0 : ariaNode.children.length) === 1 && typeof ariaNode.children[0] === "string" && !Object.keys(ariaNode.props).length ? ariaNode.children[0] : void 0;\n  };\n  const visit = (ariaNode, indent, renderCursorPointer) => {\n    if (statusMap.get(ariaNode) === "same" && ariaNode.ref) {\n      lines.push(indent + `- ref=${ariaNode.ref} [unchanged]`);\n      return;\n    }\n    const isDiffRoot = !!previousSnapshot && !indent;\n    const escapedKey = indent + "- " + (isDiffRoot ? "<changed> " : "") + yamlEscapeKeyIfNeeded(createKey(ariaNode, renderCursorPointer));\n    const singleInlinedTextChild = getSingleInlinedTextChild(ariaNode);\n    if (!ariaNode.children.length && !Object.keys(ariaNode.props).length) {\n      lines.push(escapedKey);\n    } else if (singleInlinedTextChild !== void 0) {\n      const shouldInclude = includeText(ariaNode, singleInlinedTextChild);\n      if (shouldInclude)\n        lines.push(escapedKey + ": " + yamlEscapeValueIfNeeded(renderString(singleInlinedTextChild)));\n      else\n        lines.push(escapedKey);\n    } else {\n      lines.push(escapedKey + ":");\n      for (const [name, value] of Object.entries(ariaNode.props))\n        lines.push(indent + "  - /" + name + ": " + yamlEscapeValueIfNeeded(value));\n      const childIndent = indent + "  ";\n      const inCursorPointer = !!ariaNode.ref && renderCursorPointer && hasPointerCursor(ariaNode);\n      for (const child of ariaNode.children) {\n        if (typeof child === "string")\n          visitText(includeText(ariaNode, child) ? child : "", childIndent);\n        else\n          visit(child, childIndent, renderCursorPointer && !inCursorPointer);\n      }\n    }\n  };\n  for (const nodeToRender of nodesToRender) {\n    if (typeof nodeToRender === "string")\n      visitText(nodeToRender, "");\n    else\n      visit(nodeToRender, "", !!options.renderCursorPointer);\n  }\n  return lines.join("\\n");\n}\nfunction convertToBestGuessRegex(text) {\n  const dynamicContent = [\n    // 2mb\n    { regex: /\\b[\\d,.]+[bkmBKM]+\\b/, replacement: "[\\\\d,.]+[bkmBKM]+" },\n    // 2ms, 20s\n    { regex: /\\b\\d+[hmsp]+\\b/, replacement: "\\\\d+[hmsp]+" },\n    { regex: /\\b[\\d,.]+[hmsp]+\\b/, replacement: "[\\\\d,.]+[hmsp]+" },\n    // Do not replace single digits with regex by default.\n    // 2+ digits: [Issue 22, 22.3, 2.33, 2,333]\n    { regex: /\\b\\d+,\\d+\\b/, replacement: "\\\\d+,\\\\d+" },\n    { regex: /\\b\\d+\\.\\d{2,}\\b/, replacement: "\\\\d+\\\\.\\\\d+" },\n    { regex: /\\b\\d{2,}\\.\\d+\\b/, replacement: "\\\\d+\\\\.\\\\d+" },\n    { regex: /\\b\\d{2,}\\b/, replacement: "\\\\d+" }\n  ];\n  let pattern = "";\n  let lastIndex = 0;\n  const combinedRegex = new RegExp(dynamicContent.map((r) => "(" + r.regex.source + ")").join("|"), "g");\n  text.replace(combinedRegex, (match, ...args) => {\n    const offset = args[args.length - 2];\n    const groups = args.slice(0, -2);\n    pattern += escapeRegExp(text.slice(lastIndex, offset));\n    for (let i = 0; i < groups.length; i++) {\n      if (groups[i]) {\n        const { replacement } = dynamicContent[i];\n        pattern += replacement;\n        break;\n      }\n    }\n    lastIndex = offset + match.length;\n    return match;\n  });\n  if (!pattern)\n    return text;\n  pattern += escapeRegExp(text.slice(lastIndex));\n  return String(new RegExp(pattern));\n}\nfunction textContributesInfo(node, text) {\n  if (!text.length)\n    return false;\n  if (!node.name)\n    return true;\n  if (node.name.length > text.length)\n    return false;\n  const substr = text.length <= 200 && node.name.length <= 200 ? longestCommonSubstring(text, node.name) : "";\n  let filtered = text;\n  while (substr && filtered.includes(substr))\n    filtered = filtered.replace(substr, "");\n  return filtered.trim().length / text.length > 0.1;\n}\nfunction hasPointerCursor(ariaNode) {\n  return ariaNode.box.cursor === "pointer";\n}\n\n// packages/injected/src/highlight.css?inline\nvar highlight_default = ":host{font-size:13px;font-family:system-ui,Ubuntu,Droid Sans,sans-serif;color:#333}svg{position:absolute;height:0}x-pw-tooltip{backdrop-filter:blur(5px);background-color:#fff;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:none;font-size:12.8px;font-weight:400;left:0;line-height:1.5;max-width:600px;position:absolute;top:0;padding:0;flex-direction:column;overflow:hidden}x-pw-tooltip-line{display:flex;max-width:600px;padding:6px;user-select:none;cursor:pointer}x-pw-tooltip-footer{display:flex;max-width:600px;padding:6px;user-select:none;color:#777}x-pw-dialog{background-color:#fff;pointer-events:auto;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:flex;flex-direction:column;position:absolute;z-index:10;font-size:13px}x-pw-dialog:not(.autosize){width:400px;height:150px}x-pw-dialog-body{display:flex;flex-direction:column;flex:auto}x-pw-dialog-body label{margin:5px 8px;display:flex;flex-direction:row;align-items:center}x-pw-highlight{position:absolute;top:0;left:0;width:0;height:0}x-pw-action-point{position:absolute;width:20px;height:20px;background:red;border-radius:10px;margin:-10px 0 0 -10px;z-index:2}x-pw-separator{height:1px;margin:6px 9px;background:#949494e5}x-pw-tool-gripper{height:28px;width:24px;margin:2px 0;cursor:grab}x-pw-tool-gripper:active{cursor:grabbing}x-pw-tool-gripper>x-div{width:16px;height:16px;margin:6px 4px;clip-path:url(#icon-gripper);background-color:#555}x-pw-tools-list>label{display:flex;align-items:center;margin:0 10px;user-select:none}x-pw-tools-list{display:flex;width:100%;border-bottom:1px solid #dddddd}x-pw-tool-item{pointer-events:auto;height:28px;width:28px;border-radius:3px}x-pw-tool-item:not(.disabled){cursor:pointer}x-pw-tool-item:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.toggled{background-color:#8acae480}x-pw-tool-item.toggled:not(.disabled):hover{background-color:#8acae4c4}x-pw-tool-item>x-div{width:16px;height:16px;margin:6px;background-color:#3a3a3a}x-pw-tool-item.disabled>x-div{background-color:#61616180;cursor:default}x-pw-tool-item.record.toggled{background-color:transparent}x-pw-tool-item.record.toggled:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.record.toggled>x-div{background-color:#a1260d}x-pw-tool-item.record.disabled.toggled>x-div{opacity:.8}x-pw-tool-item.accept>x-div{background-color:#388a34}x-pw-tool-item.record>x-div{clip-path:url(#icon-circle-large-filled)}x-pw-tool-item.record.toggled>x-div{clip-path:url(#icon-stop-circle)}x-pw-tool-item.pick-locator>x-div{clip-path:url(#icon-inspect)}x-pw-tool-item.text>x-div{clip-path:url(#icon-whole-word)}x-pw-tool-item.visibility>x-div{clip-path:url(#icon-eye)}x-pw-tool-item.value>x-div{clip-path:url(#icon-symbol-constant)}x-pw-tool-item.snapshot>x-div{clip-path:url(#icon-gist)}x-pw-tool-item.accept>x-div{clip-path:url(#icon-check)}x-pw-tool-item.cancel>x-div{clip-path:url(#icon-close)}x-pw-tool-item.succeeded>x-div{clip-path:url(#icon-pass);background-color:#388a34!important}x-pw-overlay{position:absolute;top:0;max-width:min-content;z-index:2147483647;background:transparent;pointer-events:auto}x-pw-overlay x-pw-tools-list{background-color:#fffd;box-shadow:#0000001a 0 5px 5px;border-radius:3px;border-bottom:none}x-pw-overlay x-pw-tool-item{margin:2px}textarea.text-editor{font-family:system-ui,Ubuntu,Droid Sans,sans-serif;flex:auto;border:none;margin:6px 10px;color:#333;outline:1px solid transparent!important;resize:none;padding:0;font-size:13px}textarea.text-editor.does-not-match{outline:1px solid red!important}x-div{display:block}x-spacer{flex:auto}*{box-sizing:border-box}*[hidden]{display:none!important}x-locator-editor{flex:none;width:100%;height:60px;padding:4px;border-bottom:1px solid #dddddd;outline:1px solid transparent}x-locator-editor.does-not-match{outline:1px solid red}.CodeMirror{width:100%!important;height:100%!important}x-pw-action-list{flex:auto;display:flex;flex-direction:column;user-select:none}x-pw-action-item{padding:6px 10px;cursor:pointer;overflow:hidden}x-pw-action-item:hover{background-color:#f2f2f2}x-pw-action-item:last-child{border-bottom-left-radius:6px;border-bottom-right-radius:6px}\\n";\n\n// packages/injected/src/highlight.ts\nvar Highlight = class {\n  constructor(injectedScript) {\n    this._renderedEntries = [];\n    this._language = "javascript";\n    this._injectedScript = injectedScript;\n    const document = injectedScript.document;\n    this._isUnderTest = injectedScript.isUnderTest;\n    this._glassPaneElement = document.createElement("x-pw-glass");\n    this._glassPaneElement.style.position = "fixed";\n    this._glassPaneElement.style.top = "0";\n    this._glassPaneElement.style.right = "0";\n    this._glassPaneElement.style.bottom = "0";\n    this._glassPaneElement.style.left = "0";\n    this._glassPaneElement.style.zIndex = "2147483647";\n    this._glassPaneElement.style.pointerEvents = "none";\n    this._glassPaneElement.style.display = "flex";\n    this._glassPaneElement.style.backgroundColor = "transparent";\n    this._actionPointElement = document.createElement("x-pw-action-point");\n    this._actionPointElement.setAttribute("hidden", "true");\n    this._glassPaneShadow = this._glassPaneElement.attachShadow({ mode: this._isUnderTest ? "open" : "closed" });\n    if (typeof this._glassPaneShadow.adoptedStyleSheets.push === "function") {\n      const sheet = new this._injectedScript.window.CSSStyleSheet();\n      sheet.replaceSync(highlight_default);\n      this._glassPaneShadow.adoptedStyleSheets.push(sheet);\n    } else {\n      const styleElement = this._injectedScript.document.createElement("style");\n      styleElement.textContent = highlight_default;\n      this._glassPaneShadow.appendChild(styleElement);\n    }\n    this._glassPaneShadow.appendChild(this._actionPointElement);\n  }\n  install() {\n    if (!this._injectedScript.document.documentElement)\n      return;\n    if (!this._injectedScript.document.documentElement.contains(this._glassPaneElement) || this._glassPaneElement.nextElementSibling)\n      this._injectedScript.document.documentElement.appendChild(this._glassPaneElement);\n  }\n  setLanguage(language) {\n    this._language = language;\n  }\n  runHighlightOnRaf(selector) {\n    if (this._rafRequest)\n      this._injectedScript.utils.builtins.cancelAnimationFrame(this._rafRequest);\n    const elements = this._injectedScript.querySelectorAll(selector, this._injectedScript.document.documentElement);\n    const locator = asLocator(this._language, stringifySelector(selector));\n    const color = elements.length > 1 ? "#f6b26b7f" : "#6fa8dc7f";\n    this.updateHighlight(elements.map((element, index) => {\n      const suffix = elements.length > 1 ? ` [${index + 1} of ${elements.length}]` : "";\n      return { element, color, tooltipText: locator + suffix };\n    }));\n    this._rafRequest = this._injectedScript.utils.builtins.requestAnimationFrame(() => this.runHighlightOnRaf(selector));\n  }\n  uninstall() {\n    if (this._rafRequest)\n      this._injectedScript.utils.builtins.cancelAnimationFrame(this._rafRequest);\n    this._glassPaneElement.remove();\n  }\n  showActionPoint(x, y) {\n    this._actionPointElement.style.top = y + "px";\n    this._actionPointElement.style.left = x + "px";\n    this._actionPointElement.hidden = false;\n  }\n  hideActionPoint() {\n    this._actionPointElement.hidden = true;\n  }\n  clearHighlight() {\n    var _a, _b;\n    for (const entry of this._renderedEntries) {\n      (_a = entry.highlightElement) == null ? void 0 : _a.remove();\n      (_b = entry.tooltipElement) == null ? void 0 : _b.remove();\n    }\n    this._renderedEntries = [];\n  }\n  maskElements(elements, color) {\n    this.updateHighlight(elements.map((element) => ({ element, color })));\n  }\n  updateHighlight(entries) {\n    if (this._highlightIsUpToDate(entries))\n      return;\n    this.clearHighlight();\n    for (const entry of entries) {\n      const highlightElement = this._createHighlightElement();\n      this._glassPaneShadow.appendChild(highlightElement);\n      let tooltipElement;\n      if (entry.tooltipText) {\n        tooltipElement = this._injectedScript.document.createElement("x-pw-tooltip");\n        this._glassPaneShadow.appendChild(tooltipElement);\n        tooltipElement.style.top = "0";\n        tooltipElement.style.left = "0";\n        tooltipElement.style.display = "flex";\n        const lineElement = this._injectedScript.document.createElement("x-pw-tooltip-line");\n        lineElement.textContent = entry.tooltipText;\n        tooltipElement.appendChild(lineElement);\n      }\n      this._renderedEntries.push({ targetElement: entry.element, color: entry.color, tooltipElement, highlightElement });\n    }\n    for (const entry of this._renderedEntries) {\n      entry.box = entry.targetElement.getBoundingClientRect();\n      if (!entry.tooltipElement)\n        continue;\n      const { anchorLeft, anchorTop } = this.tooltipPosition(entry.box, entry.tooltipElement);\n      entry.tooltipTop = anchorTop;\n      entry.tooltipLeft = anchorLeft;\n    }\n    for (const entry of this._renderedEntries) {\n      if (entry.tooltipElement) {\n        entry.tooltipElement.style.top = entry.tooltipTop + "px";\n        entry.tooltipElement.style.left = entry.tooltipLeft + "px";\n      }\n      const box = entry.box;\n      entry.highlightElement.style.backgroundColor = entry.color;\n      entry.highlightElement.style.left = box.x + "px";\n      entry.highlightElement.style.top = box.y + "px";\n      entry.highlightElement.style.width = box.width + "px";\n      entry.highlightElement.style.height = box.height + "px";\n      entry.highlightElement.style.display = "block";\n      if (this._isUnderTest)\n        console.error("Highlight box for test: " + JSON.stringify({ x: box.x, y: box.y, width: box.width, height: box.height }));\n    }\n  }\n  firstBox() {\n    var _a;\n    return (_a = this._renderedEntries[0]) == null ? void 0 : _a.box;\n  }\n  firstTooltipBox() {\n    const entry = this._renderedEntries[0];\n    if (!entry || !entry.tooltipElement || entry.tooltipLeft === void 0 || entry.tooltipTop === void 0)\n      return;\n    return {\n      x: entry.tooltipLeft,\n      y: entry.tooltipTop,\n      left: entry.tooltipLeft,\n      top: entry.tooltipTop,\n      width: entry.tooltipElement.offsetWidth,\n      height: entry.tooltipElement.offsetHeight,\n      bottom: entry.tooltipTop + entry.tooltipElement.offsetHeight,\n      right: entry.tooltipLeft + entry.tooltipElement.offsetWidth,\n      toJSON: () => {\n      }\n    };\n  }\n  // Note: there is a copy of this method in dialog.tsx. Please fix bugs in both places.\n  tooltipPosition(box, tooltipElement) {\n    const tooltipWidth = tooltipElement.offsetWidth;\n    const tooltipHeight = tooltipElement.offsetHeight;\n    const totalWidth = this._glassPaneElement.offsetWidth;\n    const totalHeight = this._glassPaneElement.offsetHeight;\n    let anchorLeft = Math.max(5, box.left);\n    if (anchorLeft + tooltipWidth > totalWidth - 5)\n      anchorLeft = totalWidth - tooltipWidth - 5;\n    let anchorTop = Math.max(0, box.bottom) + 5;\n    if (anchorTop + tooltipHeight > totalHeight - 5) {\n      if (Math.max(0, box.top) > tooltipHeight + 5) {\n        anchorTop = Math.max(0, box.top) - tooltipHeight - 5;\n      } else {\n        anchorTop = totalHeight - 5 - tooltipHeight;\n      }\n    }\n    return { anchorLeft, anchorTop };\n  }\n  _highlightIsUpToDate(entries) {\n    if (entries.length !== this._renderedEntries.length)\n      return false;\n    for (let i = 0; i < this._renderedEntries.length; ++i) {\n      if (entries[i].element !== this._renderedEntries[i].targetElement)\n        return false;\n      if (entries[i].color !== this._renderedEntries[i].color)\n        return false;\n      const oldBox = this._renderedEntries[i].box;\n      if (!oldBox)\n        return false;\n      const box = entries[i].element.getBoundingClientRect();\n      if (box.top !== oldBox.top || box.right !== oldBox.right || box.bottom !== oldBox.bottom || box.left !== oldBox.left)\n        return false;\n    }\n    return true;\n  }\n  _createHighlightElement() {\n    return this._injectedScript.document.createElement("x-pw-highlight");\n  }\n  appendChild(element) {\n    this._glassPaneShadow.appendChild(element);\n  }\n  onGlassPaneClick(handler) {\n    this._glassPaneElement.style.pointerEvents = "auto";\n    this._glassPaneElement.style.backgroundColor = "rgba(0, 0, 0, 0.3)";\n    this._glassPaneElement.addEventListener("click", handler);\n  }\n  offGlassPaneClick(handler) {\n    this._glassPaneElement.style.pointerEvents = "none";\n    this._glassPaneElement.style.backgroundColor = "transparent";\n    this._glassPaneElement.removeEventListener("click", handler);\n  }\n};\n\n// packages/injected/src/layoutSelectorUtils.ts\nfunction boxRightOf(box1, box2, maxDistance) {\n  const distance = box1.left - box2.right;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box2.bottom - box1.bottom, 0) + Math.max(box1.top - box2.top, 0);\n}\nfunction boxLeftOf(box1, box2, maxDistance) {\n  const distance = box2.left - box1.right;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box2.bottom - box1.bottom, 0) + Math.max(box1.top - box2.top, 0);\n}\nfunction boxAbove(box1, box2, maxDistance) {\n  const distance = box2.top - box1.bottom;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box1.left - box2.left, 0) + Math.max(box2.right - box1.right, 0);\n}\nfunction boxBelow(box1, box2, maxDistance) {\n  const distance = box1.top - box2.bottom;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box1.left - box2.left, 0) + Math.max(box2.right - box1.right, 0);\n}\nfunction boxNear(box1, box2, maxDistance) {\n  const kThreshold = maxDistance === void 0 ? 50 : maxDistance;\n  let score = 0;\n  if (box1.left - box2.right >= 0)\n    score += box1.left - box2.right;\n  if (box2.left - box1.right >= 0)\n    score += box2.left - box1.right;\n  if (box2.top - box1.bottom >= 0)\n    score += box2.top - box1.bottom;\n  if (box1.top - box2.bottom >= 0)\n    score += box1.top - box2.bottom;\n  return score > kThreshold ? void 0 : score;\n}\nvar kLayoutSelectorNames = ["left-of", "right-of", "above", "below", "near"];\nfunction layoutSelectorScore(name, element, inner, maxDistance) {\n  const box = element.getBoundingClientRect();\n  const scorer = { "left-of": boxLeftOf, "right-of": boxRightOf, "above": boxAbove, "below": boxBelow, "near": boxNear }[name];\n  let bestScore;\n  for (const e of inner) {\n    if (e === element)\n      continue;\n    const score = scorer(box, e.getBoundingClientRect(), maxDistance);\n    if (score === void 0)\n      continue;\n    if (bestScore === void 0 || score < bestScore)\n      bestScore = score;\n  }\n  return bestScore;\n}\n\n// packages/injected/src/selectorUtils.ts\nfunction matchesComponentAttribute(obj, attr) {\n  for (const token of attr.jsonPath) {\n    if (obj !== void 0 && obj !== null)\n      obj = obj[token];\n  }\n  return matchesAttributePart(obj, attr);\n}\nfunction matchesAttributePart(value, attr) {\n  const objValue = typeof value === "string" && !attr.caseSensitive ? value.toUpperCase() : value;\n  const attrValue = typeof attr.value === "string" && !attr.caseSensitive ? attr.value.toUpperCase() : attr.value;\n  if (attr.op === "<truthy>")\n    return !!objValue;\n  if (attr.op === "=") {\n    if (attrValue instanceof RegExp)\n      return typeof objValue === "string" && !!objValue.match(attrValue);\n    return objValue === attrValue;\n  }\n  if (typeof objValue !== "string" || typeof attrValue !== "string")\n    return false;\n  if (attr.op === "*=")\n    return objValue.includes(attrValue);\n  if (attr.op === "^=")\n    return objValue.startsWith(attrValue);\n  if (attr.op === "$=")\n    return objValue.endsWith(attrValue);\n  if (attr.op === "|=")\n    return objValue === attrValue || objValue.startsWith(attrValue + "-");\n  if (attr.op === "~=")\n    return objValue.split(" ").includes(attrValue);\n  return false;\n}\nfunction shouldSkipForTextMatching(element) {\n  const document = element.ownerDocument;\n  return element.nodeName === "SCRIPT" || element.nodeName === "NOSCRIPT" || element.nodeName === "STYLE" || document.head && document.head.contains(element);\n}\nfunction elementText(cache, root) {\n  let value = cache.get(root);\n  if (value === void 0) {\n    value = { full: "", normalized: "", immediate: [] };\n    if (!shouldSkipForTextMatching(root)) {\n      let currentImmediate = "";\n      if (root instanceof HTMLInputElement && (root.type === "submit" || root.type === "button")) {\n        value = { full: root.value, normalized: normalizeWhiteSpace(root.value), immediate: [root.value] };\n      } else {\n        for (let child = root.firstChild; child; child = child.nextSibling) {\n          if (child.nodeType === Node.TEXT_NODE) {\n            value.full += child.nodeValue || "";\n            currentImmediate += child.nodeValue || "";\n          } else if (child.nodeType === Node.COMMENT_NODE) {\n            continue;\n          } else {\n            if (currentImmediate)\n              value.immediate.push(currentImmediate);\n            currentImmediate = "";\n            if (child.nodeType === Node.ELEMENT_NODE)\n              value.full += elementText(cache, child).full;\n          }\n        }\n        if (currentImmediate)\n          value.immediate.push(currentImmediate);\n        if (root.shadowRoot)\n          value.full += elementText(cache, root.shadowRoot).full;\n        if (value.full)\n          value.normalized = normalizeWhiteSpace(value.full);\n      }\n    }\n    cache.set(root, value);\n  }\n  return value;\n}\nfunction elementMatchesText(cache, element, matcher) {\n  if (shouldSkipForTextMatching(element))\n    return "none";\n  if (!matcher(elementText(cache, element)))\n    return "none";\n  for (let child = element.firstChild; child; child = child.nextSibling) {\n    if (child.nodeType === Node.ELEMENT_NODE && matcher(elementText(cache, child)))\n      return "selfAndChildren";\n  }\n  if (element.shadowRoot && matcher(elementText(cache, element.shadowRoot)))\n    return "selfAndChildren";\n  return "self";\n}\nfunction getElementLabels(textCache, element) {\n  const labels = getAriaLabelledByElements(element);\n  if (labels)\n    return labels.map((label) => elementText(textCache, label));\n  const ariaLabel = element.getAttribute("aria-label");\n  if (ariaLabel !== null && !!ariaLabel.trim())\n    return [{ full: ariaLabel, normalized: normalizeWhiteSpace(ariaLabel), immediate: [ariaLabel] }];\n  const isNonHiddenInput = element.nodeName === "INPUT" && element.type !== "hidden";\n  if (["BUTTON", "METER", "OUTPUT", "PROGRESS", "SELECT", "TEXTAREA"].includes(element.nodeName) || isNonHiddenInput) {\n    const labels2 = element.labels;\n    if (labels2)\n      return [...labels2].map((label) => elementText(textCache, label));\n  }\n  return [];\n}\n\n// packages/injected/src/reactSelectorEngine.ts\nfunction getFunctionComponentName(component) {\n  return component.displayName || component.name || "Anonymous";\n}\nfunction getComponentName(reactElement) {\n  if (reactElement.type) {\n    switch (typeof reactElement.type) {\n      case "function":\n        return getFunctionComponentName(reactElement.type);\n      case "string":\n        return reactElement.type;\n      case "object":\n        return reactElement.type.displayName || (reactElement.type.render ? getFunctionComponentName(reactElement.type.render) : "");\n    }\n  }\n  if (reactElement._currentElement) {\n    const elementType = reactElement._currentElement.type;\n    if (typeof elementType === "string")\n      return elementType;\n    if (typeof elementType === "function")\n      return elementType.displayName || elementType.name || "Anonymous";\n  }\n  return "";\n}\nfunction getComponentKey(reactElement) {\n  var _a, _b;\n  return (_b = reactElement.key) != null ? _b : (_a = reactElement._currentElement) == null ? void 0 : _a.key;\n}\nfunction getChildren(reactElement) {\n  if (reactElement.child) {\n    const children = [];\n    for (let child = reactElement.child; child; child = child.sibling)\n      children.push(child);\n    return children;\n  }\n  if (!reactElement._currentElement)\n    return [];\n  const isKnownElement = (reactElement2) => {\n    var _a;\n    const elementType = (_a = reactElement2._currentElement) == null ? void 0 : _a.type;\n    return typeof elementType === "function" || typeof elementType === "string";\n  };\n  if (reactElement._renderedComponent) {\n    const child = reactElement._renderedComponent;\n    return isKnownElement(child) ? [child] : [];\n  }\n  if (reactElement._renderedChildren)\n    return [...Object.values(reactElement._renderedChildren)].filter(isKnownElement);\n  return [];\n}\nfunction getProps(reactElement) {\n  var _a;\n  const props = (\n    /* React 16+ */\n    reactElement.memoizedProps || /* React 15 */\n    ((_a = reactElement._currentElement) == null ? void 0 : _a.props)\n  );\n  if (!props || typeof props === "string")\n    return props;\n  const result = { ...props };\n  delete result.children;\n  return result;\n}\nfunction buildComponentsTree(reactElement) {\n  var _a;\n  const treeNode = {\n    key: getComponentKey(reactElement),\n    name: getComponentName(reactElement),\n    children: getChildren(reactElement).map(buildComponentsTree),\n    rootElements: [],\n    props: getProps(reactElement)\n  };\n  const rootElement = (\n    /* React 16+ */\n    reactElement.stateNode || /* React 15 */\n    reactElement._hostNode || /* React 15 */\n    ((_a = reactElement._renderedComponent) == null ? void 0 : _a._hostNode)\n  );\n  if (rootElement instanceof Element) {\n    treeNode.rootElements.push(rootElement);\n  } else {\n    for (const child of treeNode.children)\n      treeNode.rootElements.push(...child.rootElements);\n  }\n  return treeNode;\n}\nfunction filterComponentsTree(treeNode, searchFn, result = []) {\n  if (searchFn(treeNode))\n    result.push(treeNode);\n  for (const child of treeNode.children)\n    filterComponentsTree(child, searchFn, result);\n  return result;\n}\nfunction findReactRoots(root, roots = []) {\n  const document = root.ownerDocument || root;\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);\n  do {\n    const node = walker.currentNode;\n    const reactNode = node;\n    const rootKey = Object.keys(reactNode).find((key) => key.startsWith("__reactContainer") && reactNode[key] !== null);\n    if (rootKey) {\n      roots.push(reactNode[rootKey].stateNode.current);\n    } else {\n      const legacyRootKey = "_reactRootContainer";\n      if (reactNode.hasOwnProperty(legacyRootKey) && reactNode[legacyRootKey] !== null) {\n        roots.push(reactNode[legacyRootKey]._internalRoot.current);\n      }\n    }\n    if (node instanceof Element && node.hasAttribute("data-reactroot")) {\n      for (const key of Object.keys(node)) {\n        if (key.startsWith("__reactInternalInstance") || key.startsWith("__reactFiber"))\n          roots.push(node[key]);\n      }\n    }\n    const shadowRoot = node instanceof Element ? node.shadowRoot : null;\n    if (shadowRoot)\n      findReactRoots(shadowRoot, roots);\n  } while (walker.nextNode());\n  return roots;\n}\nvar createReactEngine = () => ({\n  queryAll(scope, selector) {\n    const { name, attributes } = parseAttributeSelector(selector, false);\n    const reactRoots = findReactRoots(scope.ownerDocument || scope);\n    const trees = reactRoots.map((reactRoot) => buildComponentsTree(reactRoot));\n    const treeNodes = trees.map((tree) => filterComponentsTree(tree, (treeNode) => {\n      var _a;\n      const props = (_a = treeNode.props) != null ? _a : {};\n      if (treeNode.key !== void 0)\n        props.key = treeNode.key;\n      if (name && treeNode.name !== name)\n        return false;\n      if (treeNode.rootElements.some((domNode) => !isInsideScope(scope, domNode)))\n        return false;\n      for (const attr of attributes) {\n        if (!matchesComponentAttribute(props, attr))\n          return false;\n      }\n      return true;\n    })).flat();\n    const allRootElements = /* @__PURE__ */ new Set();\n    for (const treeNode of treeNodes) {\n      for (const domNode of treeNode.rootElements)\n        allRootElements.add(domNode);\n    }\n    return [...allRootElements];\n  }\n});\n\n// packages/injected/src/roleSelectorEngine.ts\nvar kSupportedAttributes = ["selected", "checked", "pressed", "expanded", "level", "disabled", "name", "include-hidden"];\nkSupportedAttributes.sort();\nfunction validateSupportedRole(attr, roles, role) {\n  if (!roles.includes(role))\n    throw new Error(`"${attr}" attribute is only supported for roles: ${roles.slice().sort().map((role2) => `"${role2}"`).join(", ")}`);\n}\nfunction validateSupportedValues(attr, values) {\n  if (attr.op !== "<truthy>" && !values.includes(attr.value))\n    throw new Error(`"${attr.name}" must be one of ${values.map((v) => JSON.stringify(v)).join(", ")}`);\n}\nfunction validateSupportedOp(attr, ops) {\n  if (!ops.includes(attr.op))\n    throw new Error(`"${attr.name}" does not support "${attr.op}" matcher`);\n}\nfunction validateAttributes(attrs, role) {\n  const options = { role };\n  for (const attr of attrs) {\n    switch (attr.name) {\n      case "checked": {\n        validateSupportedRole(attr.name, kAriaCheckedRoles, role);\n        validateSupportedValues(attr, [true, false, "mixed"]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.checked = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "pressed": {\n        validateSupportedRole(attr.name, kAriaPressedRoles, role);\n        validateSupportedValues(attr, [true, false, "mixed"]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.pressed = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "selected": {\n        validateSupportedRole(attr.name, kAriaSelectedRoles, role);\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.selected = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "expanded": {\n        validateSupportedRole(attr.name, kAriaExpandedRoles, role);\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.expanded = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "level": {\n        validateSupportedRole(attr.name, kAriaLevelRoles, role);\n        if (typeof attr.value === "string")\n          attr.value = +attr.value;\n        if (attr.op !== "=" || typeof attr.value !== "number" || Number.isNaN(attr.value))\n          throw new Error(`"level" attribute must be compared to a number`);\n        options.level = attr.value;\n        break;\n      }\n      case "disabled": {\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.disabled = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "name": {\n        if (attr.op === "<truthy>")\n          throw new Error(`"name" attribute must have a value`);\n        if (typeof attr.value !== "string" && !(attr.value instanceof RegExp))\n          throw new Error(`"name" attribute must be a string or a regular expression`);\n        options.name = attr.value;\n        options.nameOp = attr.op;\n        options.exact = attr.caseSensitive;\n        break;\n      }\n      case "include-hidden": {\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.includeHidden = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      default: {\n        throw new Error(`Unknown attribute "${attr.name}", must be one of ${kSupportedAttributes.map((a) => `"${a}"`).join(", ")}.`);\n      }\n    }\n  }\n  return options;\n}\nfunction queryRole(scope, options, internal) {\n  const result = [];\n  const match = (element) => {\n    if (getAriaRole(element) !== options.role)\n      return;\n    if (options.selected !== void 0 && getAriaSelected(element) !== options.selected)\n      return;\n    if (options.checked !== void 0 && getAriaChecked(element) !== options.checked)\n      return;\n    if (options.pressed !== void 0 && getAriaPressed(element) !== options.pressed)\n      return;\n    if (options.expanded !== void 0 && getAriaExpanded(element) !== options.expanded)\n      return;\n    if (options.level !== void 0 && getAriaLevel(element) !== options.level)\n      return;\n    if (options.disabled !== void 0 && getAriaDisabled(element) !== options.disabled)\n      return;\n    if (!options.includeHidden) {\n      const isHidden = isElementHiddenForAria(element);\n      if (isHidden)\n        return;\n    }\n    if (options.name !== void 0) {\n      const accessibleName = normalizeWhiteSpace(getElementAccessibleName(element, !!options.includeHidden));\n      if (typeof options.name === "string")\n        options.name = normalizeWhiteSpace(options.name);\n      if (internal && !options.exact && options.nameOp === "=")\n        options.nameOp = "*=";\n      if (!matchesAttributePart(accessibleName, { name: "", jsonPath: [], op: options.nameOp || "=", value: options.name, caseSensitive: !!options.exact }))\n        return;\n    }\n    result.push(element);\n  };\n  const query = (root) => {\n    const shadows = [];\n    if (root.shadowRoot)\n      shadows.push(root.shadowRoot);\n    for (const element of root.querySelectorAll("*")) {\n      match(element);\n      if (element.shadowRoot)\n        shadows.push(element.shadowRoot);\n    }\n    shadows.forEach(query);\n  };\n  query(scope);\n  return result;\n}\nfunction createRoleEngine(internal) {\n  return {\n    queryAll: (scope, selector) => {\n      const parsed = parseAttributeSelector(selector, true);\n      const role = parsed.name.toLowerCase();\n      if (!role)\n        throw new Error(`Role must not be empty`);\n      const options = validateAttributes(parsed.attributes, role);\n      beginAriaCaches();\n      try {\n        return queryRole(scope, options, internal);\n      } finally {\n        endAriaCaches();\n      }\n    }\n  };\n}\n\n// packages/injected/src/selectorEvaluator.ts\nvar SelectorEvaluatorImpl = class {\n  constructor() {\n    this._retainCacheCounter = 0;\n    this._cacheText = /* @__PURE__ */ new Map();\n    this._cacheQueryCSS = /* @__PURE__ */ new Map();\n    this._cacheMatches = /* @__PURE__ */ new Map();\n    this._cacheQuery = /* @__PURE__ */ new Map();\n    this._cacheMatchesSimple = /* @__PURE__ */ new Map();\n    this._cacheMatchesParents = /* @__PURE__ */ new Map();\n    this._cacheCallMatches = /* @__PURE__ */ new Map();\n    this._cacheCallQuery = /* @__PURE__ */ new Map();\n    this._cacheQuerySimple = /* @__PURE__ */ new Map();\n    this._engines = /* @__PURE__ */ new Map();\n    this._engines.set("not", notEngine);\n    this._engines.set("is", isEngine);\n    this._engines.set("where", isEngine);\n    this._engines.set("has", hasEngine);\n    this._engines.set("scope", scopeEngine);\n    this._engines.set("light", lightEngine);\n    this._engines.set("visible", visibleEngine);\n    this._engines.set("text", textEngine);\n    this._engines.set("text-is", textIsEngine);\n    this._engines.set("text-matches", textMatchesEngine);\n    this._engines.set("has-text", hasTextEngine);\n    this._engines.set("right-of", createLayoutEngine("right-of"));\n    this._engines.set("left-of", createLayoutEngine("left-of"));\n    this._engines.set("above", createLayoutEngine("above"));\n    this._engines.set("below", createLayoutEngine("below"));\n    this._engines.set("near", createLayoutEngine("near"));\n    this._engines.set("nth-match", nthMatchEngine);\n    const allNames = [...this._engines.keys()];\n    allNames.sort();\n    const parserNames = [...customCSSNames];\n    parserNames.sort();\n    if (allNames.join("|") !== parserNames.join("|"))\n      throw new Error(`Please keep customCSSNames in sync with evaluator engines: ${allNames.join("|")} vs ${parserNames.join("|")}`);\n  }\n  begin() {\n    ++this._retainCacheCounter;\n  }\n  end() {\n    --this._retainCacheCounter;\n    if (!this._retainCacheCounter) {\n      this._cacheQueryCSS.clear();\n      this._cacheMatches.clear();\n      this._cacheQuery.clear();\n      this._cacheMatchesSimple.clear();\n      this._cacheMatchesParents.clear();\n      this._cacheCallMatches.clear();\n      this._cacheCallQuery.clear();\n      this._cacheQuerySimple.clear();\n      this._cacheText.clear();\n    }\n  }\n  _cached(cache, main, rest, cb) {\n    if (!cache.has(main))\n      cache.set(main, []);\n    const entries = cache.get(main);\n    const entry = entries.find((e) => rest.every((value, index) => e.rest[index] === value));\n    if (entry)\n      return entry.result;\n    const result = cb();\n    entries.push({ rest, result });\n    return result;\n  }\n  _checkSelector(s) {\n    const wellFormed = typeof s === "object" && s && (Array.isArray(s) || "simples" in s && s.simples.length);\n    if (!wellFormed)\n      throw new Error(`Malformed selector "${s}"`);\n    return s;\n  }\n  matches(element, s, context) {\n    const selector = this._checkSelector(s);\n    this.begin();\n    try {\n      return this._cached(this._cacheMatches, element, [selector, context.scope, context.pierceShadow, context.originalScope], () => {\n        if (Array.isArray(selector))\n          return this._matchesEngine(isEngine, element, selector, context);\n        if (this._hasScopeClause(selector))\n          context = this._expandContextForScopeMatching(context);\n        if (!this._matchesSimple(element, selector.simples[selector.simples.length - 1].selector, context))\n          return false;\n        return this._matchesParents(element, selector, selector.simples.length - 2, context);\n      });\n    } finally {\n      this.end();\n    }\n  }\n  query(context, s) {\n    const selector = this._checkSelector(s);\n    this.begin();\n    try {\n      return this._cached(this._cacheQuery, selector, [context.scope, context.pierceShadow, context.originalScope], () => {\n        if (Array.isArray(selector))\n          return this._queryEngine(isEngine, context, selector);\n        if (this._hasScopeClause(selector))\n          context = this._expandContextForScopeMatching(context);\n        const previousScoreMap = this._scoreMap;\n        this._scoreMap = /* @__PURE__ */ new Map();\n        let elements = this._querySimple(context, selector.simples[selector.simples.length - 1].selector);\n        elements = elements.filter((element) => this._matchesParents(element, selector, selector.simples.length - 2, context));\n        if (this._scoreMap.size) {\n          elements.sort((a, b) => {\n            const aScore = this._scoreMap.get(a);\n            const bScore = this._scoreMap.get(b);\n            if (aScore === bScore)\n              return 0;\n            if (aScore === void 0)\n              return 1;\n            if (bScore === void 0)\n              return -1;\n            return aScore - bScore;\n          });\n        }\n        this._scoreMap = previousScoreMap;\n        return elements;\n      });\n    } finally {\n      this.end();\n    }\n  }\n  _markScore(element, score) {\n    if (this._scoreMap)\n      this._scoreMap.set(element, score);\n  }\n  _hasScopeClause(selector) {\n    return selector.simples.some((simple) => simple.selector.functions.some((f) => f.name === "scope"));\n  }\n  _expandContextForScopeMatching(context) {\n    if (context.scope.nodeType !== 1)\n      return context;\n    const scope = parentElementOrShadowHost(context.scope);\n    if (!scope)\n      return context;\n    return { ...context, scope, originalScope: context.originalScope || context.scope };\n  }\n  _matchesSimple(element, simple, context) {\n    return this._cached(this._cacheMatchesSimple, element, [simple, context.scope, context.pierceShadow, context.originalScope], () => {\n      if (element === context.scope)\n        return false;\n      if (simple.css && !this._matchesCSS(element, simple.css))\n        return false;\n      for (const func of simple.functions) {\n        if (!this._matchesEngine(this._getEngine(func.name), element, func.args, context))\n          return false;\n      }\n      return true;\n    });\n  }\n  _querySimple(context, simple) {\n    if (!simple.functions.length)\n      return this._queryCSS(context, simple.css || "*");\n    return this._cached(this._cacheQuerySimple, simple, [context.scope, context.pierceShadow, context.originalScope], () => {\n      let css = simple.css;\n      const funcs = simple.functions;\n      if (css === "*" && funcs.length)\n        css = void 0;\n      let elements;\n      let firstIndex = -1;\n      if (css !== void 0) {\n        elements = this._queryCSS(context, css);\n      } else {\n        firstIndex = funcs.findIndex((func) => this._getEngine(func.name).query !== void 0);\n        if (firstIndex === -1)\n          firstIndex = 0;\n        elements = this._queryEngine(this._getEngine(funcs[firstIndex].name), context, funcs[firstIndex].args);\n      }\n      for (let i = 0; i < funcs.length; i++) {\n        if (i === firstIndex)\n          continue;\n        const engine = this._getEngine(funcs[i].name);\n        if (engine.matches !== void 0)\n          elements = elements.filter((e) => this._matchesEngine(engine, e, funcs[i].args, context));\n      }\n      for (let i = 0; i < funcs.length; i++) {\n        if (i === firstIndex)\n          continue;\n        const engine = this._getEngine(funcs[i].name);\n        if (engine.matches === void 0)\n          elements = elements.filter((e) => this._matchesEngine(engine, e, funcs[i].args, context));\n      }\n      return elements;\n    });\n  }\n  _matchesParents(element, complex, index, context) {\n    if (index < 0)\n      return true;\n    return this._cached(this._cacheMatchesParents, element, [complex, index, context.scope, context.pierceShadow, context.originalScope], () => {\n      const { selector: simple, combinator } = complex.simples[index];\n      if (combinator === ">") {\n        const parent = parentElementOrShadowHostInContext(element, context);\n        if (!parent || !this._matchesSimple(parent, simple, context))\n          return false;\n        return this._matchesParents(parent, complex, index - 1, context);\n      }\n      if (combinator === "+") {\n        const previousSibling = previousSiblingInContext(element, context);\n        if (!previousSibling || !this._matchesSimple(previousSibling, simple, context))\n          return false;\n        return this._matchesParents(previousSibling, complex, index - 1, context);\n      }\n      if (combinator === "") {\n        let parent = parentElementOrShadowHostInContext(element, context);\n        while (parent) {\n          if (this._matchesSimple(parent, simple, context)) {\n            if (this._matchesParents(parent, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "")\n              break;\n          }\n          parent = parentElementOrShadowHostInContext(parent, context);\n        }\n        return false;\n      }\n      if (combinator === "~") {\n        let previousSibling = previousSiblingInContext(element, context);\n        while (previousSibling) {\n          if (this._matchesSimple(previousSibling, simple, context)) {\n            if (this._matchesParents(previousSibling, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "~")\n              break;\n          }\n          previousSibling = previousSiblingInContext(previousSibling, context);\n        }\n        return false;\n      }\n      if (combinator === ">=") {\n        let parent = element;\n        while (parent) {\n          if (this._matchesSimple(parent, simple, context)) {\n            if (this._matchesParents(parent, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "")\n              break;\n          }\n          parent = parentElementOrShadowHostInContext(parent, context);\n        }\n        return false;\n      }\n      throw new Error(`Unsupported combinator "${combinator}"`);\n    });\n  }\n  _matchesEngine(engine, element, args, context) {\n    if (engine.matches)\n      return this._callMatches(engine, element, args, context);\n    if (engine.query)\n      return this._callQuery(engine, args, context).includes(element);\n    throw new Error(`Selector engine should implement "matches" or "query"`);\n  }\n  _queryEngine(engine, context, args) {\n    if (engine.query)\n      return this._callQuery(engine, args, context);\n    if (engine.matches)\n      return this._queryCSS(context, "*").filter((element) => this._callMatches(engine, element, args, context));\n    throw new Error(`Selector engine should implement "matches" or "query"`);\n  }\n  _callMatches(engine, element, args, context) {\n    return this._cached(this._cacheCallMatches, element, [engine, context.scope, context.pierceShadow, context.originalScope, ...args], () => {\n      return engine.matches(element, args, context, this);\n    });\n  }\n  _callQuery(engine, args, context) {\n    return this._cached(this._cacheCallQuery, engine, [context.scope, context.pierceShadow, context.originalScope, ...args], () => {\n      return engine.query(context, args, this);\n    });\n  }\n  _matchesCSS(element, css) {\n    return element.matches(css);\n  }\n  _queryCSS(context, css) {\n    return this._cached(this._cacheQueryCSS, css, [context.scope, context.pierceShadow, context.originalScope], () => {\n      let result = [];\n      function query(root) {\n        result = result.concat([...root.querySelectorAll(css)]);\n        if (!context.pierceShadow)\n          return;\n        if (root.shadowRoot)\n          query(root.shadowRoot);\n        for (const element of root.querySelectorAll("*")) {\n          if (element.shadowRoot)\n            query(element.shadowRoot);\n        }\n      }\n      query(context.scope);\n      return result;\n    });\n  }\n  _getEngine(name) {\n    const engine = this._engines.get(name);\n    if (!engine)\n      throw new Error(`Unknown selector engine "${name}"`);\n    return engine;\n  }\n};\nvar isEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"is" engine expects non-empty selector list`);\n    return args.some((selector) => evaluator.matches(element, selector, context));\n  },\n  query(context, args, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"is" engine expects non-empty selector list`);\n    let elements = [];\n    for (const arg of args)\n      elements = elements.concat(evaluator.query(context, arg));\n    return args.length === 1 ? elements : sortInDOMOrder(elements);\n  }\n};\nvar hasEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"has" engine expects non-empty selector list`);\n    return evaluator.query({ ...context, scope: element }, args).length > 0;\n  }\n  // TODO: we can implement efficient "query" by matching "args" and returning\n  // all parents/descendants, just have to be careful with the ":scope" matching.\n};\nvar scopeEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 0)\n      throw new Error(`"scope" engine expects no arguments`);\n    const actualScope = context.originalScope || context.scope;\n    if (actualScope.nodeType === 9)\n      return element === actualScope.documentElement;\n    return element === actualScope;\n  },\n  query(context, args, evaluator) {\n    if (args.length !== 0)\n      throw new Error(`"scope" engine expects no arguments`);\n    const actualScope = context.originalScope || context.scope;\n    if (actualScope.nodeType === 9) {\n      const root = actualScope.documentElement;\n      return root ? [root] : [];\n    }\n    if (actualScope.nodeType === 1)\n      return [actualScope];\n    return [];\n  }\n};\nvar notEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"not" engine expects non-empty selector list`);\n    return !evaluator.matches(element, args, context);\n  }\n};\nvar lightEngine = {\n  query(context, args, evaluator) {\n    return evaluator.query({ ...context, pierceShadow: false }, args);\n  },\n  matches(element, args, context, evaluator) {\n    return evaluator.matches(element, args, { ...context, pierceShadow: false });\n  }\n};\nvar visibleEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length)\n      throw new Error(`"visible" engine expects no arguments`);\n    return isElementVisible(element);\n  }\n};\nvar textEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"text" engine expects a single string`);\n    const text = normalizeWhiteSpace(args[0]).toLowerCase();\n    const matcher = (elementText2) => elementText2.normalized.toLowerCase().includes(text);\n    return elementMatchesText(evaluator._cacheText, element, matcher) === "self";\n  }\n};\nvar textIsEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"text-is" engine expects a single string`);\n    const text = normalizeWhiteSpace(args[0]);\n    const matcher = (elementText2) => {\n      if (!text && !elementText2.immediate.length)\n        return true;\n      return elementText2.immediate.some((s) => normalizeWhiteSpace(s) === text);\n    };\n    return elementMatchesText(evaluator._cacheText, element, matcher) !== "none";\n  }\n};\nvar textMatchesEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0 || typeof args[0] !== "string" || args.length > 2 || args.length === 2 && typeof args[1] !== "string")\n      throw new Error(`"text-matches" engine expects a regexp body and optional regexp flags`);\n    const re = new RegExp(args[0], args.length === 2 ? args[1] : void 0);\n    const matcher = (elementText2) => re.test(elementText2.full);\n    return elementMatchesText(evaluator._cacheText, element, matcher) === "self";\n  }\n};\nvar hasTextEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"has-text" engine expects a single string`);\n    if (shouldSkipForTextMatching(element))\n      return false;\n    const text = normalizeWhiteSpace(args[0]).toLowerCase();\n    const matcher = (elementText2) => elementText2.normalized.toLowerCase().includes(text);\n    return matcher(elementText(evaluator._cacheText, element));\n  }\n};\nfunction createLayoutEngine(name) {\n  return {\n    matches(element, args, context, evaluator) {\n      const maxDistance = args.length && typeof args[args.length - 1] === "number" ? args[args.length - 1] : void 0;\n      const queryArgs = maxDistance === void 0 ? args : args.slice(0, args.length - 1);\n      if (args.length < 1 + (maxDistance === void 0 ? 0 : 1))\n        throw new Error(`"${name}" engine expects a selector list and optional maximum distance in pixels`);\n      const inner = evaluator.query(context, queryArgs);\n      const score = layoutSelectorScore(name, element, inner, maxDistance);\n      if (score === void 0)\n        return false;\n      evaluator._markScore(element, score);\n      return true;\n    }\n  };\n}\nvar nthMatchEngine = {\n  query(context, args, evaluator) {\n    let index = args[args.length - 1];\n    if (args.length < 2)\n      throw new Error(`"nth-match" engine expects non-empty selector list and an index argument`);\n    if (typeof index !== "number" || index < 1)\n      throw new Error(`"nth-match" engine expects a one-based index as the last argument`);\n    const elements = isEngine.query(context, args.slice(0, args.length - 1), evaluator);\n    index--;\n    return index < elements.length ? [elements[index]] : [];\n  }\n};\nfunction parentElementOrShadowHostInContext(element, context) {\n  if (element === context.scope)\n    return;\n  if (!context.pierceShadow)\n    return element.parentElement || void 0;\n  return parentElementOrShadowHost(element);\n}\nfunction previousSiblingInContext(element, context) {\n  if (element === context.scope)\n    return;\n  return element.previousElementSibling || void 0;\n}\nfunction sortInDOMOrder(elements) {\n  const elementToEntry = /* @__PURE__ */ new Map();\n  const roots = [];\n  const result = [];\n  function append(element) {\n    let entry = elementToEntry.get(element);\n    if (entry)\n      return entry;\n    const parent = parentElementOrShadowHost(element);\n    if (parent) {\n      const parentEntry = append(parent);\n      parentEntry.children.push(element);\n    } else {\n      roots.push(element);\n    }\n    entry = { children: [], taken: false };\n    elementToEntry.set(element, entry);\n    return entry;\n  }\n  for (const e of elements)\n    append(e).taken = true;\n  function visit(element) {\n    const entry = elementToEntry.get(element);\n    if (entry.taken)\n      result.push(element);\n    if (entry.children.length > 1) {\n      const set = new Set(entry.children);\n      entry.children = [];\n      let child = element.firstElementChild;\n      while (child && entry.children.length < set.size) {\n        if (set.has(child))\n          entry.children.push(child);\n        child = child.nextElementSibling;\n      }\n      child = element.shadowRoot ? element.shadowRoot.firstElementChild : null;\n      while (child && entry.children.length < set.size) {\n        if (set.has(child))\n          entry.children.push(child);\n        child = child.nextElementSibling;\n      }\n    }\n    entry.children.forEach(visit);\n  }\n  roots.forEach(visit);\n  return result;\n}\n\n// packages/injected/src/selectorGenerator.ts\nvar kTextScoreRange = 10;\nvar kExactPenalty = kTextScoreRange / 2;\nvar kTestIdScore = 1;\nvar kOtherTestIdScore = 2;\nvar kIframeByAttributeScore = 10;\nvar kBeginPenalizedScore = 50;\nvar kRoleWithNameScore = 100;\nvar kPlaceholderScore = 120;\nvar kLabelScore = 140;\nvar kAltTextScore = 160;\nvar kTextScore = 180;\nvar kTitleScore = 200;\nvar kTextScoreRegex = 250;\nvar kPlaceholderScoreExact = kPlaceholderScore + kExactPenalty;\nvar kLabelScoreExact = kLabelScore + kExactPenalty;\nvar kRoleWithNameScoreExact = kRoleWithNameScore + kExactPenalty;\nvar kAltTextScoreExact = kAltTextScore + kExactPenalty;\nvar kTextScoreExact = kTextScore + kExactPenalty;\nvar kTitleScoreExact = kTitleScore + kExactPenalty;\nvar kEndPenalizedScore = 300;\nvar kCSSIdScore = 500;\nvar kRoleWithoutNameScore = 510;\nvar kCSSInputTypeNameScore = 520;\nvar kCSSTagNameScore = 530;\nvar kNthScore = 1e4;\nvar kCSSFallbackScore = 1e7;\nvar kScoreThresholdForTextExpect = 1e3;\nfunction generateSelector(injectedScript, targetElement, options) {\n  var _a;\n  injectedScript._evaluator.begin();\n  const cache = { allowText: /* @__PURE__ */ new Map(), disallowText: /* @__PURE__ */ new Map() };\n  beginAriaCaches();\n  beginDOMCaches();\n  try {\n    let selectors = [];\n    if (options.forTextExpect) {\n      let targetTokens = cssFallback(injectedScript, targetElement.ownerDocument.documentElement, options);\n      for (let element = targetElement; element; element = parentElementOrShadowHost(element)) {\n        const tokens = generateSelectorFor(cache, injectedScript, element, { ...options, noText: true });\n        if (!tokens)\n          continue;\n        const score = combineScores(tokens);\n        if (score <= kScoreThresholdForTextExpect) {\n          targetTokens = tokens;\n          break;\n        }\n      }\n      selectors = [joinTokens(targetTokens)];\n    } else {\n      if (!targetElement.matches("input,textarea,select") && !targetElement.isContentEditable) {\n        const interactiveParent = closestCrossShadow(targetElement, "button,select,input,[role=button],[role=checkbox],[role=radio],a,[role=link]", options.root);\n        if (interactiveParent && isElementVisible(interactiveParent))\n          targetElement = interactiveParent;\n      }\n      if (options.multiple) {\n        const withText = generateSelectorFor(cache, injectedScript, targetElement, options);\n        const withoutText = generateSelectorFor(cache, injectedScript, targetElement, { ...options, noText: true });\n        let tokens = [withText, withoutText];\n        cache.allowText.clear();\n        cache.disallowText.clear();\n        if (withText && hasCSSIdToken(withText))\n          tokens.push(generateSelectorFor(cache, injectedScript, targetElement, { ...options, noCSSId: true }));\n        if (withoutText && hasCSSIdToken(withoutText))\n          tokens.push(generateSelectorFor(cache, injectedScript, targetElement, { ...options, noText: true, noCSSId: true }));\n        tokens = tokens.filter(Boolean);\n        if (!tokens.length) {\n          const css = cssFallback(injectedScript, targetElement, options);\n          tokens.push(css);\n          if (hasCSSIdToken(css))\n            tokens.push(cssFallback(injectedScript, targetElement, { ...options, noCSSId: true }));\n        }\n        selectors = [...new Set(tokens.map((t) => joinTokens(t)))];\n      } else {\n        const targetTokens = generateSelectorFor(cache, injectedScript, targetElement, options) || cssFallback(injectedScript, targetElement, options);\n        selectors = [joinTokens(targetTokens)];\n      }\n    }\n    const selector = selectors[0];\n    const parsedSelector = injectedScript.parseSelector(selector);\n    return {\n      selector,\n      selectors,\n      elements: injectedScript.querySelectorAll(parsedSelector, (_a = options.root) != null ? _a : targetElement.ownerDocument)\n    };\n  } finally {\n    endDOMCaches();\n    endAriaCaches();\n    injectedScript._evaluator.end();\n  }\n}\nfunction generateSelectorFor(cache, injectedScript, targetElement, options) {\n  var _a;\n  if (options.root && !isInsideScope(options.root, targetElement))\n    throw new Error(`Target element must belong to the root\'s subtree`);\n  if (targetElement === options.root)\n    return [{ engine: "css", selector: ":scope", score: 1 }];\n  if (targetElement.ownerDocument.documentElement === targetElement)\n    return [{ engine: "css", selector: "html", score: 1 }];\n  let result = null;\n  const updateResult = (candidate) => {\n    if (!result || combineScores(candidate) < combineScores(result))\n      result = candidate;\n  };\n  const candidates = [];\n  if (!options.noText) {\n    for (const candidate of buildTextCandidates(injectedScript, targetElement, !options.isRecursive))\n      candidates.push({ candidate, isTextCandidate: true });\n  }\n  for (const token of buildNoTextCandidates(injectedScript, targetElement, options)) {\n    if (options.omitInternalEngines && token.engine.startsWith("internal:"))\n      continue;\n    candidates.push({ candidate: [token], isTextCandidate: false });\n  }\n  candidates.sort((a, b) => combineScores(a.candidate) - combineScores(b.candidate));\n  for (const { candidate, isTextCandidate } of candidates) {\n    const elements = injectedScript.querySelectorAll(injectedScript.parseSelector(joinTokens(candidate)), (_a = options.root) != null ? _a : targetElement.ownerDocument);\n    if (!elements.includes(targetElement)) {\n      continue;\n    }\n    if (elements.length === 1) {\n      updateResult(candidate);\n      break;\n    }\n    const index = elements.indexOf(targetElement);\n    if (index > 5) {\n      continue;\n    }\n    updateResult([...candidate, { engine: "nth", selector: String(index), score: kNthScore }]);\n    if (options.isRecursive) {\n      continue;\n    }\n    for (let parent = parentElementOrShadowHost(targetElement); parent && parent !== options.root; parent = parentElementOrShadowHost(parent)) {\n      const filtered = elements.filter((e) => isInsideScope(parent, e) && e !== parent);\n      const newIndex = filtered.indexOf(targetElement);\n      if (filtered.length > 5 || newIndex === -1 || newIndex === index && filtered.length > 1) {\n        continue;\n      }\n      const inParent = filtered.length === 1 ? candidate : [...candidate, { engine: "nth", selector: String(newIndex), score: kNthScore }];\n      const idealSelectorForParent = { engine: "", selector: "", score: 1 };\n      if (result && combineScores([idealSelectorForParent, ...inParent]) >= combineScores(result)) {\n        continue;\n      }\n      const noText = !!options.noText || isTextCandidate;\n      const cacheMap = noText ? cache.disallowText : cache.allowText;\n      let parentTokens = cacheMap.get(parent);\n      if (parentTokens === void 0) {\n        parentTokens = generateSelectorFor(cache, injectedScript, parent, { ...options, isRecursive: true, noText }) || cssFallback(injectedScript, parent, options);\n        cacheMap.set(parent, parentTokens);\n      }\n      if (!parentTokens)\n        continue;\n      updateResult([...parentTokens, ...inParent]);\n    }\n  }\n  return result;\n}\nfunction buildNoTextCandidates(injectedScript, element, options) {\n  const candidates = [];\n  {\n    for (const attr of ["data-testid", "data-test-id", "data-test"]) {\n      if (attr !== options.testIdAttributeName && element.getAttribute(attr))\n        candidates.push({ engine: "css", selector: `[${attr}=${quoteCSSAttributeValue(element.getAttribute(attr))}]`, score: kOtherTestIdScore });\n    }\n    if (!options.noCSSId) {\n      const idAttr = element.getAttribute("id");\n      if (idAttr && !isGuidLike(idAttr))\n        candidates.push({ engine: "css", selector: makeSelectorForId(idAttr), score: kCSSIdScore });\n    }\n    candidates.push({ engine: "css", selector: escapeNodeName(element), score: kCSSTagNameScore });\n  }\n  if (element.nodeName === "IFRAME") {\n    for (const attribute of ["name", "title"]) {\n      if (element.getAttribute(attribute))\n        candidates.push({ engine: "css", selector: `${escapeNodeName(element)}[${attribute}=${quoteCSSAttributeValue(element.getAttribute(attribute))}]`, score: kIframeByAttributeScore });\n    }\n    if (element.getAttribute(options.testIdAttributeName))\n      candidates.push({ engine: "css", selector: `[${options.testIdAttributeName}=${quoteCSSAttributeValue(element.getAttribute(options.testIdAttributeName))}]`, score: kTestIdScore });\n    penalizeScoreForLength([candidates]);\n    return candidates;\n  }\n  if (element.getAttribute(options.testIdAttributeName))\n    candidates.push({ engine: "internal:testid", selector: `[${options.testIdAttributeName}=${escapeForAttributeSelector(element.getAttribute(options.testIdAttributeName), true)}]`, score: kTestIdScore });\n  if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {\n    const input = element;\n    if (input.placeholder) {\n      candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(input.placeholder, true)}]`, score: kPlaceholderScoreExact });\n      for (const alternative of suitableTextAlternatives(input.placeholder))\n        candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(alternative.text, false)}]`, score: kPlaceholderScore - alternative.scoreBonus });\n    }\n  }\n  const labels = getElementLabels(injectedScript._evaluator._cacheText, element);\n  for (const label of labels) {\n    const labelText = label.normalized;\n    candidates.push({ engine: "internal:label", selector: escapeForTextSelector(labelText, true), score: kLabelScoreExact });\n    for (const alternative of suitableTextAlternatives(labelText))\n      candidates.push({ engine: "internal:label", selector: escapeForTextSelector(alternative.text, false), score: kLabelScore - alternative.scoreBonus });\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole))\n    candidates.push({ engine: "internal:role", selector: ariaRole, score: kRoleWithoutNameScore });\n  if (element.getAttribute("name") && ["BUTTON", "FORM", "FIELDSET", "FRAME", "IFRAME", "INPUT", "KEYGEN", "OBJECT", "OUTPUT", "SELECT", "TEXTAREA", "MAP", "META", "PARAM"].includes(element.nodeName))\n    candidates.push({ engine: "css", selector: `${escapeNodeName(element)}[name=${quoteCSSAttributeValue(element.getAttribute("name"))}]`, score: kCSSInputTypeNameScore });\n  if (["INPUT", "TEXTAREA"].includes(element.nodeName) && element.getAttribute("type") !== "hidden") {\n    if (element.getAttribute("type"))\n      candidates.push({ engine: "css", selector: `${escapeNodeName(element)}[type=${quoteCSSAttributeValue(element.getAttribute("type"))}]`, score: kCSSInputTypeNameScore });\n  }\n  if (["INPUT", "TEXTAREA", "SELECT"].includes(element.nodeName) && element.getAttribute("type") !== "hidden")\n    candidates.push({ engine: "css", selector: escapeNodeName(element), score: kCSSInputTypeNameScore + 1 });\n  penalizeScoreForLength([candidates]);\n  return candidates;\n}\nfunction buildTextCandidates(injectedScript, element, isTargetNode) {\n  if (element.nodeName === "SELECT")\n    return [];\n  const candidates = [];\n  const title = element.getAttribute("title");\n  if (title) {\n    candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(title, true)}]`, score: kTitleScoreExact }]);\n    for (const alternative of suitableTextAlternatives(title))\n      candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(alternative.text, false)}]`, score: kTitleScore - alternative.scoreBonus }]);\n  }\n  const alt = element.getAttribute("alt");\n  if (alt && ["APPLET", "AREA", "IMG", "INPUT"].includes(element.nodeName)) {\n    candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alt, true)}]`, score: kAltTextScoreExact }]);\n    for (const alternative of suitableTextAlternatives(alt))\n      candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alternative.text, false)}]`, score: kAltTextScore - alternative.scoreBonus }]);\n  }\n  const text = elementText(injectedScript._evaluator._cacheText, element).normalized;\n  const textAlternatives = text ? suitableTextAlternatives(text) : [];\n  if (text) {\n    if (isTargetNode) {\n      if (text.length <= 80)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(text, true), score: kTextScoreExact }]);\n      for (const alternative of textAlternatives)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBonus }]);\n    }\n    const cssToken = { engine: "css", selector: escapeNodeName(element), score: kCSSTagNameScore };\n    for (const alternative of textAlternatives)\n      candidates.push([cssToken, { engine: "internal:has-text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBonus }]);\n    if (isTargetNode && text.length <= 80) {\n      const re = new RegExp("^" + escapeRegExp(text) + "$");\n      candidates.push([cssToken, { engine: "internal:has-text", selector: escapeForTextSelector(re, false), score: kTextScoreRegex }]);\n    }\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole)) {\n    const ariaName = getElementAccessibleName(element, false);\n    if (ariaName && !ariaName.match(/^\\p{Co}+$/u)) {\n      const roleToken = { engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(ariaName, true)}]`, score: kRoleWithNameScoreExact };\n      candidates.push([roleToken]);\n      for (const alternative of suitableTextAlternatives(ariaName))\n        candidates.push([{ engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(alternative.text, false)}]`, score: kRoleWithNameScore - alternative.scoreBonus }]);\n    } else {\n      const roleToken = { engine: "internal:role", selector: `${ariaRole}`, score: kRoleWithoutNameScore };\n      for (const alternative of textAlternatives)\n        candidates.push([roleToken, { engine: "internal:has-text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBonus }]);\n      if (isTargetNode && text.length <= 80) {\n        const re = new RegExp("^" + escapeRegExp(text) + "$");\n        candidates.push([roleToken, { engine: "internal:has-text", selector: escapeForTextSelector(re, false), score: kTextScoreRegex }]);\n      }\n    }\n  }\n  penalizeScoreForLength(candidates);\n  return candidates;\n}\nfunction makeSelectorForId(id) {\n  return /^[a-zA-Z][a-zA-Z0-9\\-\\_]+$/.test(id) ? "#" + id : `[id=${quoteCSSAttributeValue(id)}]`;\n}\nfunction hasCSSIdToken(tokens) {\n  return tokens.some((token) => token.engine === "css" && (token.selector.startsWith("#") || token.selector.startsWith(\'[id="\')));\n}\nfunction cssFallback(injectedScript, targetElement, options) {\n  var _a;\n  const root = (_a = options.root) != null ? _a : targetElement.ownerDocument;\n  const tokens = [];\n  function uniqueCSSSelector(prefix) {\n    const path = tokens.slice();\n    if (prefix)\n      path.unshift(prefix);\n    const selector = path.join(" > ");\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const node = injectedScript.querySelector(parsedSelector, root, false);\n    return node === targetElement ? selector : void 0;\n  }\n  function makeStrict(selector) {\n    const token = { engine: "css", selector, score: kCSSFallbackScore };\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const elements = injectedScript.querySelectorAll(parsedSelector, root);\n    if (elements.length === 1)\n      return [token];\n    const nth = { engine: "nth", selector: String(elements.indexOf(targetElement)), score: kNthScore };\n    return [token, nth];\n  }\n  for (let element = targetElement; element && element !== root; element = parentElementOrShadowHost(element)) {\n    let bestTokenForLevel = "";\n    if (element.id && !options.noCSSId) {\n      const token = makeSelectorForId(element.id);\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      bestTokenForLevel = token;\n    }\n    const parent = element.parentNode;\n    const classes = [...element.classList].map(escapeClassName);\n    for (let i = 0; i < classes.length; ++i) {\n      const token = "." + classes.slice(0, i + 1).join(".");\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel && parent) {\n        const sameClassSiblings = parent.querySelectorAll(token);\n        if (sameClassSiblings.length === 1)\n          bestTokenForLevel = token;\n      }\n    }\n    if (parent) {\n      const siblings = [...parent.children];\n      const nodeName = element.nodeName;\n      const sameTagSiblings = siblings.filter((sibling) => sibling.nodeName === nodeName);\n      const token = sameTagSiblings.indexOf(element) === 0 ? escapeNodeName(element) : `${escapeNodeName(element)}:nth-child(${1 + siblings.indexOf(element)})`;\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel)\n        bestTokenForLevel = token;\n    } else if (!bestTokenForLevel) {\n      bestTokenForLevel = escapeNodeName(element);\n    }\n    tokens.unshift(bestTokenForLevel);\n  }\n  return makeStrict(uniqueCSSSelector());\n}\nfunction penalizeScoreForLength(groups) {\n  for (const group of groups) {\n    for (const token of group) {\n      if (token.score > kBeginPenalizedScore && token.score < kEndPenalizedScore)\n        token.score += Math.min(kTextScoreRange, token.selector.length / 10 | 0);\n    }\n  }\n}\nfunction joinTokens(tokens) {\n  const parts = [];\n  let lastEngine = "";\n  for (const { engine, selector } of tokens) {\n    if (parts.length && (lastEngine !== "css" || engine !== "css" || selector.startsWith(":nth-match(")))\n      parts.push(">>");\n    lastEngine = engine;\n    if (engine === "css")\n      parts.push(selector);\n    else\n      parts.push(`${engine}=${selector}`);\n  }\n  return parts.join(" ");\n}\nfunction combineScores(tokens) {\n  let score = 0;\n  for (let i = 0; i < tokens.length; i++)\n    score += tokens[i].score * (tokens.length - i);\n  return score;\n}\nfunction isGuidLike(id) {\n  let lastCharacterType;\n  let transitionCount = 0;\n  for (let i = 0; i < id.length; ++i) {\n    const c = id[i];\n    let characterType;\n    if (c === "-" || c === "_")\n      continue;\n    if (c >= "a" && c <= "z")\n      characterType = "lower";\n    else if (c >= "A" && c <= "Z")\n      characterType = "upper";\n    else if (c >= "0" && c <= "9")\n      characterType = "digit";\n    else\n      characterType = "other";\n    if (characterType === "lower" && lastCharacterType === "upper") {\n      lastCharacterType = characterType;\n      continue;\n    }\n    if (lastCharacterType && lastCharacterType !== characterType)\n      ++transitionCount;\n    lastCharacterType = characterType;\n  }\n  return transitionCount >= id.length / 4;\n}\nfunction trimWordBoundary(text, maxLength) {\n  if (text.length <= maxLength)\n    return text;\n  text = text.substring(0, maxLength);\n  const match = text.match(/^(.*)\\b(.+?)$/);\n  if (!match)\n    return "";\n  return match[1].trimEnd();\n}\nfunction suitableTextAlternatives(text) {\n  let result = [];\n  {\n    const match = text.match(/^([\\d.,]+)[^.,\\w]/);\n    const leadingNumberLength = match ? match[1].length : 0;\n    if (leadingNumberLength) {\n      const alt = trimWordBoundary(text.substring(leadingNumberLength).trimStart(), 80);\n      result.push({ text: alt, scoreBonus: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  {\n    const match = text.match(/[^.,\\w]([\\d.,]+)$/);\n    const trailingNumberLength = match ? match[1].length : 0;\n    if (trailingNumberLength) {\n      const alt = trimWordBoundary(text.substring(0, text.length - trailingNumberLength).trimEnd(), 80);\n      result.push({ text: alt, scoreBonus: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  if (text.length <= 30) {\n    result.push({ text, scoreBonus: 0 });\n  } else {\n    result.push({ text: trimWordBoundary(text, 80), scoreBonus: 0 });\n    result.push({ text: trimWordBoundary(text, 30), scoreBonus: 1 });\n  }\n  result = result.filter((r) => r.text);\n  if (!result.length)\n    result.push({ text: text.substring(0, 80), scoreBonus: 0 });\n  return result;\n}\nfunction escapeNodeName(node) {\n  return node.nodeName.toLocaleLowerCase().replace(/[:\\.]/g, (char) => "\\\\" + char);\n}\nfunction escapeClassName(className) {\n  let result = "";\n  for (let i = 0; i < className.length; i++)\n    result += cssEscapeCharacter(className, i);\n  return result;\n}\nfunction cssEscapeCharacter(s, i) {\n  const c = s.charCodeAt(i);\n  if (c === 0)\n    return "\\uFFFD";\n  if (c >= 1 && c <= 31 || c >= 48 && c <= 57 && (i === 0 || i === 1 && s.charCodeAt(0) === 45))\n    return "\\\\" + c.toString(16) + " ";\n  if (i === 0 && c === 45 && s.length === 1)\n    return "\\\\" + s.charAt(i);\n  if (c >= 128 || c === 45 || c === 95 || c >= 48 && c <= 57 || c >= 65 && c <= 90 || c >= 97 && c <= 122)\n    return s.charAt(i);\n  return "\\\\" + s.charAt(i);\n}\n\n// packages/injected/src/vueSelectorEngine.ts\nfunction basename(filename, ext) {\n  const normalized = filename.replace(/^[a-zA-Z]:/, "").replace(/\\\\/g, "/");\n  let result = normalized.substring(normalized.lastIndexOf("/") + 1);\n  if (ext && result.endsWith(ext))\n    result = result.substring(0, result.length - ext.length);\n  return result;\n}\nfunction toUpper(_, c) {\n  return c ? c.toUpperCase() : "";\n}\nvar classifyRE = /(?:^|[-_/])(\\w)/g;\nvar classify = (str) => {\n  return str && str.replace(classifyRE, toUpper);\n};\nfunction buildComponentsTreeVue3(instance) {\n  function getComponentTypeName(options) {\n    const name = options.name || options._componentTag || options.__playwright_guessedName;\n    if (name)\n      return name;\n    const file = options.__file;\n    if (file)\n      return classify(basename(file, ".vue"));\n  }\n  function saveComponentName(instance2, key) {\n    instance2.type.__playwright_guessedName = key;\n    return key;\n  }\n  function getInstanceName(instance2) {\n    var _a, _b, _c, _d;\n    const name = getComponentTypeName(instance2.type || {});\n    if (name)\n      return name;\n    if (instance2.root === instance2)\n      return "Root";\n    for (const key in (_b = (_a = instance2.parent) == null ? void 0 : _a.type) == null ? void 0 : _b.components) {\n      if (((_c = instance2.parent) == null ? void 0 : _c.type.components[key]) === instance2.type)\n        return saveComponentName(instance2, key);\n    }\n    for (const key in (_d = instance2.appContext) == null ? void 0 : _d.components) {\n      if (instance2.appContext.components[key] === instance2.type)\n        return saveComponentName(instance2, key);\n    }\n    return "Anonymous Component";\n  }\n  function isBeingDestroyed(instance2) {\n    return instance2._isBeingDestroyed || instance2.isUnmounted;\n  }\n  function isFragment(instance2) {\n    return instance2.subTree.type.toString() === "Symbol(Fragment)";\n  }\n  function getInternalInstanceChildren(subTree) {\n    const list = [];\n    if (subTree.component)\n      list.push(subTree.component);\n    if (subTree.suspense)\n      list.push(...getInternalInstanceChildren(subTree.suspense.activeBranch));\n    if (Array.isArray(subTree.children)) {\n      subTree.children.forEach((childSubTree) => {\n        if (childSubTree.component)\n          list.push(childSubTree.component);\n        else\n          list.push(...getInternalInstanceChildren(childSubTree));\n      });\n    }\n    return list.filter((child) => {\n      var _a;\n      return !isBeingDestroyed(child) && !((_a = child.type.devtools) == null ? void 0 : _a.hide);\n    });\n  }\n  function getRootElementsFromComponentInstance(instance2) {\n    if (isFragment(instance2))\n      return getFragmentRootElements(instance2.subTree);\n    return [instance2.subTree.el];\n  }\n  function getFragmentRootElements(vnode) {\n    if (!vnode.children)\n      return [];\n    const list = [];\n    for (let i = 0, l = vnode.children.length; i < l; i++) {\n      const childVnode = vnode.children[i];\n      if (childVnode.component)\n        list.push(...getRootElementsFromComponentInstance(childVnode.component));\n      else if (childVnode.el)\n        list.push(childVnode.el);\n    }\n    return list;\n  }\n  function buildComponentsTree2(instance2) {\n    return {\n      name: getInstanceName(instance2),\n      children: getInternalInstanceChildren(instance2.subTree).map(buildComponentsTree2),\n      rootElements: getRootElementsFromComponentInstance(instance2),\n      props: instance2.props\n    };\n  }\n  return buildComponentsTree2(instance);\n}\nfunction buildComponentsTreeVue2(instance) {\n  function getComponentName2(options) {\n    const name = options.displayName || options.name || options._componentTag;\n    if (name)\n      return name;\n    const file = options.__file;\n    if (file)\n      return classify(basename(file, ".vue"));\n  }\n  function getInstanceName(instance2) {\n    const name = getComponentName2(instance2.$options || instance2.fnOptions || {});\n    if (name)\n      return name;\n    return instance2.$root === instance2 ? "Root" : "Anonymous Component";\n  }\n  function getInternalInstanceChildren(instance2) {\n    if (instance2.$children)\n      return instance2.$children;\n    if (Array.isArray(instance2.subTree.children))\n      return instance2.subTree.children.filter((vnode) => !!vnode.component).map((vnode) => vnode.component);\n    return [];\n  }\n  function buildComponentsTree2(instance2) {\n    return {\n      name: getInstanceName(instance2),\n      children: getInternalInstanceChildren(instance2).map(buildComponentsTree2),\n      rootElements: [instance2.$el],\n      props: instance2._props\n    };\n  }\n  return buildComponentsTree2(instance);\n}\nfunction filterComponentsTree2(treeNode, searchFn, result = []) {\n  if (searchFn(treeNode))\n    result.push(treeNode);\n  for (const child of treeNode.children)\n    filterComponentsTree2(child, searchFn, result);\n  return result;\n}\nfunction findVueRoots(root, roots = []) {\n  const document = root.ownerDocument || root;\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);\n  const vue2Roots = /* @__PURE__ */ new Set();\n  do {\n    const node = walker.currentNode;\n    if (node.__vue__)\n      vue2Roots.add(node.__vue__.$root);\n    if (node.__vue_app__ && node._vnode && node._vnode.component)\n      roots.push({ root: node._vnode.component, version: 3 });\n    const shadowRoot = node instanceof Element ? node.shadowRoot : null;\n    if (shadowRoot)\n      findVueRoots(shadowRoot, roots);\n  } while (walker.nextNode());\n  for (const vue2root of vue2Roots) {\n    roots.push({\n      version: 2,\n      root: vue2root\n    });\n  }\n  return roots;\n}\nvar createVueEngine = () => ({\n  queryAll(scope, selector) {\n    const document = scope.ownerDocument || scope;\n    const { name, attributes } = parseAttributeSelector(selector, false);\n    const vueRoots = findVueRoots(document);\n    const trees = vueRoots.map((vueRoot) => vueRoot.version === 3 ? buildComponentsTreeVue3(vueRoot.root) : buildComponentsTreeVue2(vueRoot.root));\n    const treeNodes = trees.map((tree) => filterComponentsTree2(tree, (treeNode) => {\n      if (name && treeNode.name !== name)\n        return false;\n      if (treeNode.rootElements.some((rootElement) => !isInsideScope(scope, rootElement)))\n        return false;\n      for (const attr of attributes) {\n        if (!matchesComponentAttribute(treeNode.props, attr))\n          return false;\n      }\n      return true;\n    })).flat();\n    const allRootElements = /* @__PURE__ */ new Set();\n    for (const treeNode of treeNodes) {\n      for (const rootElement of treeNode.rootElements)\n        allRootElements.add(rootElement);\n    }\n    return [...allRootElements];\n  }\n});\n\n// packages/injected/src/xpathSelectorEngine.ts\nvar XPathEngine = {\n  queryAll(root, selector) {\n    if (selector.startsWith("/") && root.nodeType !== Node.DOCUMENT_NODE)\n      selector = "." + selector;\n    const result = [];\n    const document = root.ownerDocument || root;\n    if (!document)\n      return result;\n    const it = document.evaluate(selector, root, null, XPathResult.ORDERED_NODE_ITERATOR_TYPE);\n    for (let node = it.iterateNext(); node; node = it.iterateNext()) {\n      if (node.nodeType === Node.ELEMENT_NODE)\n        result.push(node);\n    }\n    return result;\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/locatorUtils.ts\nfunction getByAttributeTextSelector(attrName, text, options) {\n  return `internal:attr=[${attrName}=${escapeForAttributeSelector(text, (options == null ? void 0 : options.exact) || false)}]`;\n}\nfunction getByTestIdSelector(testIdAttributeName, testId) {\n  return `internal:testid=[${testIdAttributeName}=${escapeForAttributeSelector(testId, true)}]`;\n}\nfunction getByLabelSelector(text, options) {\n  return "internal:label=" + escapeForTextSelector(text, !!(options == null ? void 0 : options.exact));\n}\nfunction getByAltTextSelector(text, options) {\n  return getByAttributeTextSelector("alt", text, options);\n}\nfunction getByTitleSelector(text, options) {\n  return getByAttributeTextSelector("title", text, options);\n}\nfunction getByPlaceholderSelector(text, options) {\n  return getByAttributeTextSelector("placeholder", text, options);\n}\nfunction getByTextSelector(text, options) {\n  return "internal:text=" + escapeForTextSelector(text, !!(options == null ? void 0 : options.exact));\n}\nfunction getByRoleSelector(role, options = {}) {\n  const props = [];\n  if (options.checked !== void 0)\n    props.push(["checked", String(options.checked)]);\n  if (options.disabled !== void 0)\n    props.push(["disabled", String(options.disabled)]);\n  if (options.selected !== void 0)\n    props.push(["selected", String(options.selected)]);\n  if (options.expanded !== void 0)\n    props.push(["expanded", String(options.expanded)]);\n  if (options.includeHidden !== void 0)\n    props.push(["include-hidden", String(options.includeHidden)]);\n  if (options.level !== void 0)\n    props.push(["level", String(options.level)]);\n  if (options.name !== void 0)\n    props.push(["name", escapeForAttributeSelector(options.name, !!options.exact)]);\n  if (options.pressed !== void 0)\n    props.push(["pressed", String(options.pressed)]);\n  return `internal:role=${role}${props.map(([n, v]) => `[${n}=${v}]`).join("")}`;\n}\n\n// packages/injected/src/consoleApi.ts\nvar selectorSymbol = Symbol("selector");\nselectorSymbol;\nvar _Locator = class _Locator {\n  constructor(injectedScript, selector, options) {\n    if (options == null ? void 0 : options.hasText)\n      selector += ` >> internal:has-text=${escapeForTextSelector(options.hasText, false)}`;\n    if (options == null ? void 0 : options.hasNotText)\n      selector += ` >> internal:has-not-text=${escapeForTextSelector(options.hasNotText, false)}`;\n    if (options == null ? void 0 : options.has)\n      selector += ` >> internal:has=` + JSON.stringify(options.has[selectorSymbol]);\n    if (options == null ? void 0 : options.hasNot)\n      selector += ` >> internal:has-not=` + JSON.stringify(options.hasNot[selectorSymbol]);\n    if ((options == null ? void 0 : options.visible) !== void 0)\n      selector += ` >> visible=${options.visible ? "true" : "false"}`;\n    this[selectorSymbol] = selector;\n    if (selector) {\n      const parsed = injectedScript.parseSelector(selector);\n      this.element = injectedScript.querySelector(parsed, injectedScript.document, false);\n      this.elements = injectedScript.querySelectorAll(parsed, injectedScript.document);\n    }\n    const selectorBase = selector;\n    const self = this;\n    self.locator = (selector2, options2) => {\n      return new _Locator(injectedScript, selectorBase ? selectorBase + " >> " + selector2 : selector2, options2);\n    };\n    self.getByTestId = (testId) => self.locator(getByTestIdSelector(injectedScript.testIdAttributeNameForStrictErrorAndConsoleCodegen(), testId));\n    self.getByAltText = (text, options2) => self.locator(getByAltTextSelector(text, options2));\n    self.getByLabel = (text, options2) => self.locator(getByLabelSelector(text, options2));\n    self.getByPlaceholder = (text, options2) => self.locator(getByPlaceholderSelector(text, options2));\n    self.getByText = (text, options2) => self.locator(getByTextSelector(text, options2));\n    self.getByTitle = (text, options2) => self.locator(getByTitleSelector(text, options2));\n    self.getByRole = (role, options2 = {}) => self.locator(getByRoleSelector(role, options2));\n    self.filter = (options2) => new _Locator(injectedScript, selector, options2);\n    self.first = () => self.locator("nth=0");\n    self.last = () => self.locator("nth=-1");\n    self.nth = (index) => self.locator(`nth=${index}`);\n    self.and = (locator) => new _Locator(injectedScript, selectorBase + ` >> internal:and=` + JSON.stringify(locator[selectorSymbol]));\n    self.or = (locator) => new _Locator(injectedScript, selectorBase + ` >> internal:or=` + JSON.stringify(locator[selectorSymbol]));\n  }\n};\nvar Locator = _Locator;\nvar ConsoleAPI = class {\n  constructor(injectedScript) {\n    this._injectedScript = injectedScript;\n  }\n  install() {\n    if (this._injectedScript.window.playwright)\n      return;\n    this._injectedScript.window.playwright = {\n      $: (selector, strict) => this._querySelector(selector, !!strict),\n      $$: (selector) => this._querySelectorAll(selector),\n      inspect: (selector) => this._inspect(selector),\n      selector: (element) => this._selector(element),\n      generateLocator: (element, language) => this._generateLocator(element, language),\n      ariaSnapshot: (element, options) => {\n        return this._injectedScript.ariaSnapshot(element || this._injectedScript.document.body, options || { mode: "expect" });\n      },\n      resume: () => this._resume(),\n      ...new Locator(this._injectedScript, "")\n    };\n    delete this._injectedScript.window.playwright.filter;\n    delete this._injectedScript.window.playwright.first;\n    delete this._injectedScript.window.playwright.last;\n    delete this._injectedScript.window.playwright.nth;\n    delete this._injectedScript.window.playwright.and;\n    delete this._injectedScript.window.playwright.or;\n  }\n  _querySelector(selector, strict) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.query(\'Playwright >> selector\').`);\n    const parsed = this._injectedScript.parseSelector(selector);\n    return this._injectedScript.querySelector(parsed, this._injectedScript.document, strict);\n  }\n  _querySelectorAll(selector) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.$$(\'Playwright >> selector\').`);\n    const parsed = this._injectedScript.parseSelector(selector);\n    return this._injectedScript.querySelectorAll(parsed, this._injectedScript.document);\n  }\n  _inspect(selector) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.inspect(\'Playwright >> selector\').`);\n    this._injectedScript.window.inspect(this._querySelector(selector, false));\n  }\n  _selector(element) {\n    if (!(element instanceof Element))\n      throw new Error(`Usage: playwright.selector(element).`);\n    return this._injectedScript.generateSelectorSimple(element);\n  }\n  _generateLocator(element, language) {\n    if (!(element instanceof Element))\n      throw new Error(`Usage: playwright.locator(element).`);\n    const selector = this._injectedScript.generateSelectorSimple(element);\n    return asLocator(language || "javascript", selector);\n  }\n  _resume() {\n    if (!this._injectedScript.window.__pw_resume)\n      return false;\n    this._injectedScript.window.__pw_resume().catch(() => {\n    });\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp2(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction base64ToTypedArray(base64, TypedArrayConstructor) {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++)\n    bytes[i] = binary.charCodeAt(i);\n  return new TypedArrayConstructor(bytes.buffer);\n}\nfunction parseEvaluationResultValue(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n  if (Object.is(value, void 0))\n    return void 0;\n  if (typeof value === "object" && value) {\n    if ("ref" in value)\n      return refs.get(value.ref);\n    if ("v" in value) {\n      if (value.v === "undefined")\n        return void 0;\n      if (value.v === "null")\n        return null;\n      if (value.v === "NaN")\n        return NaN;\n      if (value.v === "Infinity")\n        return Infinity;\n      if (value.v === "-Infinity")\n        return -Infinity;\n      if (value.v === "-0")\n        return -0;\n      return void 0;\n    }\n    if ("d" in value) {\n      return new Date(value.d);\n    }\n    if ("u" in value)\n      return new URL(value.u);\n    if ("bi" in value)\n      return BigInt(value.bi);\n    if ("e" in value) {\n      const error = new Error(value.e.m);\n      error.name = value.e.n;\n      error.stack = value.e.s;\n      return error;\n    }\n    if ("r" in value)\n      return new RegExp(value.r.p, value.r.f);\n    if ("a" in value) {\n      const result = [];\n      refs.set(value.id, result);\n      for (const a of value.a)\n        result.push(parseEvaluationResultValue(a, handles, refs));\n      return result;\n    }\n    if ("o" in value) {\n      const result = {};\n      refs.set(value.id, result);\n      for (const { k, v } of value.o) {\n        if (k === "__proto__")\n          continue;\n        result[k] = parseEvaluationResultValue(v, handles, refs);\n      }\n      return result;\n    }\n    if ("h" in value)\n      return handles[value.h];\n    if ("ta" in value)\n      return base64ToTypedArray(value.ta.b, typedArrayConstructors[value.ta.k]);\n  }\n  return value;\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp2(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/utilityScript.ts\nvar UtilityScript = class {\n  constructor(global, isUnderTest) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    this.global = global;\n    this.isUnderTest = isUnderTest;\n    if (global.__pwClock) {\n      this.builtins = global.__pwClock.builtins;\n    } else {\n      this.builtins = {\n        setTimeout: (_a = global.setTimeout) == null ? void 0 : _a.bind(global),\n        clearTimeout: (_b = global.clearTimeout) == null ? void 0 : _b.bind(global),\n        setInterval: (_c = global.setInterval) == null ? void 0 : _c.bind(global),\n        clearInterval: (_d = global.clearInterval) == null ? void 0 : _d.bind(global),\n        requestAnimationFrame: (_e = global.requestAnimationFrame) == null ? void 0 : _e.bind(global),\n        cancelAnimationFrame: (_f = global.cancelAnimationFrame) == null ? void 0 : _f.bind(global),\n        requestIdleCallback: (_g = global.requestIdleCallback) == null ? void 0 : _g.bind(global),\n        cancelIdleCallback: (_h = global.cancelIdleCallback) == null ? void 0 : _h.bind(global),\n        performance: global.performance,\n        Intl: global.Intl,\n        Date: global.Date\n      };\n    }\n    if (this.isUnderTest)\n      global.builtins = this.builtins;\n  }\n  evaluate(isFunction, returnByValue, expression, argCount, ...argsAndHandles) {\n    const args = argsAndHandles.slice(0, argCount);\n    const handles = argsAndHandles.slice(argCount);\n    const parameters = [];\n    for (let i = 0; i < args.length; i++)\n      parameters[i] = parseEvaluationResultValue(args[i], handles);\n    let result = this.global.eval(expression);\n    if (isFunction === true) {\n      result = result(...parameters);\n    } else if (isFunction === false) {\n      result = result;\n    } else {\n      if (typeof result === "function")\n        result = result(...parameters);\n    }\n    return returnByValue ? this._promiseAwareJsonValueNoThrow(result) : result;\n  }\n  jsonValue(returnByValue, value) {\n    if (value === void 0)\n      return void 0;\n    return serializeAsCallArgument(value, (value2) => ({ fallThrough: value2 }));\n  }\n  _promiseAwareJsonValueNoThrow(value) {\n    const safeJson = (value2) => {\n      try {\n        return this.jsonValue(true, value2);\n      } catch (e) {\n        return void 0;\n      }\n    };\n    if (value && typeof value === "object" && typeof value.then === "function") {\n      return (async () => {\n        const promiseValue = await value;\n        return safeJson(promiseValue);\n      })();\n    }\n    return safeJson(value);\n  }\n};\n\n// packages/injected/src/injectedScript.ts\nvar InjectedScript = class {\n  constructor(window, options) {\n    this._testIdAttributeNameForStrictErrorAndConsoleCodegen = "data-testid";\n    this._lastAriaSnapshotForTrack = /* @__PURE__ */ new Map();\n    // Recorder must use any external dependencies through InjectedScript.\n    // Otherwise it will end up with a copy of all modules it uses, and any\n    // module-level globals will be duplicated, which leads to subtle bugs.\n    this.utils = {\n      asLocator,\n      cacheNormalizedWhitespaces,\n      elementText,\n      getAriaRole,\n      getElementAccessibleDescription,\n      getElementAccessibleName,\n      isElementVisible,\n      isInsideScope,\n      normalizeWhiteSpace,\n      parseAriaSnapshot,\n      generateAriaTree,\n      // Builtins protect injected code from clock emulation.\n      builtins: null\n    };\n    this.window = window;\n    this.document = window.document;\n    this.isUnderTest = options.isUnderTest;\n    this.utils.builtins = new UtilityScript(window, options.isUnderTest).builtins;\n    this._sdkLanguage = options.sdkLanguage;\n    this._testIdAttributeNameForStrictErrorAndConsoleCodegen = options.testIdAttributeName;\n    this._evaluator = new SelectorEvaluatorImpl();\n    this.consoleApi = new ConsoleAPI(this);\n    this.onGlobalListenersRemoved = /* @__PURE__ */ new Set();\n    this._autoClosingTags = /* @__PURE__ */ new Set(["AREA", "BASE", "BR", "COL", "COMMAND", "EMBED", "HR", "IMG", "INPUT", "KEYGEN", "LINK", "MENUITEM", "META", "PARAM", "SOURCE", "TRACK", "WBR"]);\n    this._booleanAttributes = /* @__PURE__ */ new Set(["checked", "selected", "disabled", "readonly", "multiple"]);\n    this._eventTypes = /* @__PURE__ */ new Map([\n      ["auxclick", "mouse"],\n      ["click", "mouse"],\n      ["dblclick", "mouse"],\n      ["mousedown", "mouse"],\n      ["mouseeenter", "mouse"],\n      ["mouseleave", "mouse"],\n      ["mousemove", "mouse"],\n      ["mouseout", "mouse"],\n      ["mouseover", "mouse"],\n      ["mouseup", "mouse"],\n      ["mouseleave", "mouse"],\n      ["mousewheel", "mouse"],\n      ["keydown", "keyboard"],\n      ["keyup", "keyboard"],\n      ["keypress", "keyboard"],\n      ["textInput", "keyboard"],\n      ["touchstart", "touch"],\n      ["touchmove", "touch"],\n      ["touchend", "touch"],\n      ["touchcancel", "touch"],\n      ["pointerover", "pointer"],\n      ["pointerout", "pointer"],\n      ["pointerenter", "pointer"],\n      ["pointerleave", "pointer"],\n      ["pointerdown", "pointer"],\n      ["pointerup", "pointer"],\n      ["pointermove", "pointer"],\n      ["pointercancel", "pointer"],\n      ["gotpointercapture", "pointer"],\n      ["lostpointercapture", "pointer"],\n      ["focus", "focus"],\n      ["blur", "focus"],\n      ["drag", "drag"],\n      ["dragstart", "drag"],\n      ["dragend", "drag"],\n      ["dragover", "drag"],\n      ["dragenter", "drag"],\n      ["dragleave", "drag"],\n      ["dragexit", "drag"],\n      ["drop", "drag"],\n      ["wheel", "wheel"],\n      ["deviceorientation", "deviceorientation"],\n      ["deviceorientationabsolute", "deviceorientation"],\n      ["devicemotion", "devicemotion"]\n    ]);\n    this._hoverHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["mousemove"]);\n    this._tapHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["pointerdown", "pointerup", "touchstart", "touchend", "touchcancel"]);\n    this._mouseHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["mousedown", "mouseup", "pointerdown", "pointerup", "click", "auxclick", "dblclick", "contextmenu"]);\n    this._allHitTargetInterceptorEvents = /* @__PURE__ */ new Set([...this._hoverHitTargetInterceptorEvents, ...this._tapHitTargetInterceptorEvents, ...this._mouseHitTargetInterceptorEvents]);\n    this._engines = /* @__PURE__ */ new Map();\n    this._engines.set("xpath", XPathEngine);\n    this._engines.set("xpath:light", XPathEngine);\n    this._engines.set("_react", createReactEngine());\n    this._engines.set("_vue", createVueEngine());\n    this._engines.set("role", createRoleEngine(false));\n    this._engines.set("text", this._createTextEngine(true, false));\n    this._engines.set("text:light", this._createTextEngine(false, false));\n    this._engines.set("id", this._createAttributeEngine("id", true));\n    this._engines.set("id:light", this._createAttributeEngine("id", false));\n    this._engines.set("data-testid", this._createAttributeEngine("data-testid", true));\n    this._engines.set("data-testid:light", this._createAttributeEngine("data-testid", false));\n    this._engines.set("data-test-id", this._createAttributeEngine("data-test-id", true));\n    this._engines.set("data-test-id:light", this._createAttributeEngine("data-test-id", false));\n    this._engines.set("data-test", this._createAttributeEngine("data-test", true));\n    this._engines.set("data-test:light", this._createAttributeEngine("data-test", false));\n    this._engines.set("css", this._createCSSEngine());\n    this._engines.set("nth", { queryAll: () => [] });\n    this._engines.set("visible", this._createVisibleEngine());\n    this._engines.set("internal:control", this._createControlEngine());\n    this._engines.set("internal:has", this._createHasEngine());\n    this._engines.set("internal:has-not", this._createHasNotEngine());\n    this._engines.set("internal:and", { queryAll: () => [] });\n    this._engines.set("internal:or", { queryAll: () => [] });\n    this._engines.set("internal:chain", this._createInternalChainEngine());\n    this._engines.set("internal:label", this._createInternalLabelEngine());\n    this._engines.set("internal:text", this._createTextEngine(true, true));\n    this._engines.set("internal:has-text", this._createInternalHasTextEngine());\n    this._engines.set("internal:has-not-text", this._createInternalHasNotTextEngine());\n    this._engines.set("internal:attr", this._createNamedAttributeEngine());\n    this._engines.set("internal:testid", this._createNamedAttributeEngine());\n    this._engines.set("internal:role", createRoleEngine(true));\n    this._engines.set("internal:describe", this._createDescribeEngine());\n    this._engines.set("aria-ref", this._createAriaRefEngine());\n    for (const { name, source } of options.customEngines)\n      this._engines.set(name, this.eval(source));\n    this._stableRafCount = options.stableRafCount;\n    this._browserName = options.browserName;\n    this._isUtilityWorld = !!options.isUtilityWorld;\n    setGlobalOptions({ browserNameForWorkarounds: options.browserName });\n    this._setupGlobalListenersRemovalDetection();\n    this._setupHitTargetInterceptors();\n    if (this.isUnderTest)\n      this.window.__injectedScript = this;\n  }\n  eval(expression) {\n    return this.window.eval(expression);\n  }\n  testIdAttributeNameForStrictErrorAndConsoleCodegen() {\n    return this._testIdAttributeNameForStrictErrorAndConsoleCodegen;\n  }\n  parseSelector(selector) {\n    const result = parseSelector(selector);\n    visitAllSelectorParts(result, (part) => {\n      if (!this._engines.has(part.name))\n        throw this.createStacklessError(`Unknown engine "${part.name}" while parsing selector ${selector}`);\n    });\n    return result;\n  }\n  generateSelector(targetElement, options) {\n    return generateSelector(this, targetElement, options);\n  }\n  generateSelectorSimple(targetElement, options) {\n    return generateSelector(this, targetElement, { ...options, testIdAttributeName: this._testIdAttributeNameForStrictErrorAndConsoleCodegen }).selector;\n  }\n  querySelector(selector, root, strict) {\n    const result = this.querySelectorAll(selector, root);\n    if (strict && result.length > 1)\n      throw this.strictModeViolationError(selector, result);\n    return result[0];\n  }\n  _queryNth(elements, part) {\n    const list = [...elements];\n    let nth = +part.body;\n    if (nth === -1)\n      nth = list.length - 1;\n    return new Set(list.slice(nth, nth + 1));\n  }\n  _queryLayoutSelector(elements, part, originalRoot) {\n    const name = part.name;\n    const body = part.body;\n    const result = [];\n    const inner = this.querySelectorAll(body.parsed, originalRoot);\n    for (const element of elements) {\n      const score = layoutSelectorScore(name, element, inner, body.distance);\n      if (score !== void 0)\n        result.push({ element, score });\n    }\n    result.sort((a, b) => a.score - b.score);\n    return new Set(result.map((r) => r.element));\n  }\n  ariaSnapshot(node, options) {\n    return this.incrementalAriaSnapshot(node, options).full;\n  }\n  incrementalAriaSnapshot(node, options) {\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Can only capture aria snapshot of Element nodes.");\n    const ariaSnapshot = generateAriaTree(node, options);\n    const full = renderAriaTree(ariaSnapshot, options);\n    let incremental;\n    if (options.track) {\n      const previousSnapshot = this._lastAriaSnapshotForTrack.get(options.track);\n      if (previousSnapshot)\n        incremental = renderAriaTree(ariaSnapshot, options, previousSnapshot);\n      this._lastAriaSnapshotForTrack.set(options.track, ariaSnapshot);\n    }\n    this._lastAriaSnapshotForQuery = ariaSnapshot;\n    return { full, incremental, iframeRefs: ariaSnapshot.iframeRefs };\n  }\n  ariaSnapshotForRecorder() {\n    const tree = generateAriaTree(this.document.body, { mode: "ai" });\n    const ariaSnapshot = renderAriaTree(tree, { mode: "ai" });\n    return { ariaSnapshot, refs: tree.refs };\n  }\n  getAllElementsMatchingExpectAriaTemplate(document, template) {\n    return getAllElementsMatchingExpectAriaTemplate(document.documentElement, template);\n  }\n  querySelectorAll(selector, root) {\n    if (selector.capture !== void 0) {\n      if (selector.parts.some((part) => part.name === "nth"))\n        throw this.createStacklessError(`Can\'t query n-th element in a request with the capture.`);\n      const withHas = { parts: selector.parts.slice(0, selector.capture + 1) };\n      if (selector.capture < selector.parts.length - 1) {\n        const parsed = { parts: selector.parts.slice(selector.capture + 1) };\n        const has = { name: "internal:has", body: { parsed }, source: stringifySelector(parsed) };\n        withHas.parts.push(has);\n      }\n      return this.querySelectorAll(withHas, root);\n    }\n    if (!root["querySelectorAll"])\n      throw this.createStacklessError("Node is not queryable.");\n    if (selector.capture !== void 0) {\n      throw this.createStacklessError("Internal error: there should not be a capture in the selector.");\n    }\n    if (root.nodeType === 11 && selector.parts.length === 1 && selector.parts[0].name === "css" && selector.parts[0].source === ":scope")\n      return [root];\n    this._evaluator.begin();\n    try {\n      let roots = /* @__PURE__ */ new Set([root]);\n      for (const part of selector.parts) {\n        if (part.name === "nth") {\n          roots = this._queryNth(roots, part);\n        } else if (part.name === "internal:and") {\n          const andElements = this.querySelectorAll(part.body.parsed, root);\n          roots = new Set(andElements.filter((e) => roots.has(e)));\n        } else if (part.name === "internal:or") {\n          const orElements = this.querySelectorAll(part.body.parsed, root);\n          roots = new Set(sortInDOMOrder(/* @__PURE__ */ new Set([...roots, ...orElements])));\n        } else if (kLayoutSelectorNames.includes(part.name)) {\n          roots = this._queryLayoutSelector(roots, part, root);\n        } else {\n          const next = /* @__PURE__ */ new Set();\n          for (const root2 of roots) {\n            const all = this._queryEngineAll(part, root2);\n            for (const one of all)\n              next.add(one);\n          }\n          roots = next;\n        }\n      }\n      return [...roots];\n    } finally {\n      this._evaluator.end();\n    }\n  }\n  _queryEngineAll(part, root) {\n    const result = this._engines.get(part.name).queryAll(root, part.body);\n    for (const element of result) {\n      if (!("nodeName" in element))\n        throw this.createStacklessError(`Expected a Node but got ${Object.prototype.toString.call(element)}`);\n    }\n    return result;\n  }\n  _createAttributeEngine(attribute, shadow) {\n    const toCSS = (selector) => {\n      const css = `[${attribute}=${JSON.stringify(selector)}]`;\n      return [{ simples: [{ selector: { css, functions: [] }, combinator: "" }] }];\n    };\n    return {\n      queryAll: (root, selector) => {\n        return this._evaluator.query({ scope: root, pierceShadow: shadow }, toCSS(selector));\n      }\n    };\n  }\n  _createCSSEngine() {\n    return {\n      queryAll: (root, body) => {\n        return this._evaluator.query({ scope: root, pierceShadow: true }, body);\n      }\n    };\n  }\n  _createTextEngine(shadow, internal) {\n    const queryAll = (root, selector) => {\n      const { matcher, kind } = createTextMatcher(selector, internal);\n      const result = [];\n      let lastDidNotMatchSelf = null;\n      const appendElement = (element) => {\n        if (kind === "lax" && lastDidNotMatchSelf && lastDidNotMatchSelf.contains(element))\n          return false;\n        const matches = elementMatchesText(this._evaluator._cacheText, element, matcher);\n        if (matches === "none")\n          lastDidNotMatchSelf = element;\n        if (matches === "self" || matches === "selfAndChildren" && kind === "strict" && !internal)\n          result.push(element);\n      };\n      if (root.nodeType === Node.ELEMENT_NODE)\n        appendElement(root);\n      const elements = this._evaluator._queryCSS({ scope: root, pierceShadow: shadow }, "*");\n      for (const element of elements)\n        appendElement(element);\n      return result;\n    };\n    return { queryAll };\n  }\n  _createInternalHasTextEngine() {\n    return {\n      queryAll: (root, selector) => {\n        if (root.nodeType !== 1)\n          return [];\n        const element = root;\n        const text = elementText(this._evaluator._cacheText, element);\n        const { matcher } = createTextMatcher(selector, true);\n        return matcher(text) ? [element] : [];\n      }\n    };\n  }\n  _createInternalHasNotTextEngine() {\n    return {\n      queryAll: (root, selector) => {\n        if (root.nodeType !== 1)\n          return [];\n        const element = root;\n        const text = elementText(this._evaluator._cacheText, element);\n        const { matcher } = createTextMatcher(selector, true);\n        return matcher(text) ? [] : [element];\n      }\n    };\n  }\n  _createInternalLabelEngine() {\n    return {\n      queryAll: (root, selector) => {\n        const { matcher } = createTextMatcher(selector, true);\n        const allElements = this._evaluator._queryCSS({ scope: root, pierceShadow: true }, "*");\n        return allElements.filter((element) => {\n          return getElementLabels(this._evaluator._cacheText, element).some((label) => matcher(label));\n        });\n      }\n    };\n  }\n  _createNamedAttributeEngine() {\n    const queryAll = (root, selector) => {\n      const parsed = parseAttributeSelector(selector, true);\n      if (parsed.name || parsed.attributes.length !== 1)\n        throw new Error("Malformed attribute selector: " + selector);\n      const { name, value, caseSensitive } = parsed.attributes[0];\n      const lowerCaseValue = caseSensitive ? null : value.toLowerCase();\n      let matcher;\n      if (value instanceof RegExp)\n        matcher = (s) => !!s.match(value);\n      else if (caseSensitive)\n        matcher = (s) => s === value;\n      else\n        matcher = (s) => s.toLowerCase().includes(lowerCaseValue);\n      const elements = this._evaluator._queryCSS({ scope: root, pierceShadow: true }, `[${name}]`);\n      return elements.filter((e) => matcher(e.getAttribute(name)));\n    };\n    return { queryAll };\n  }\n  _createDescribeEngine() {\n    const queryAll = (root) => {\n      if (root.nodeType !== 1)\n        return [];\n      return [root];\n    };\n    return { queryAll };\n  }\n  _createControlEngine() {\n    return {\n      queryAll(root, body) {\n        if (body === "enter-frame")\n          return [];\n        if (body === "return-empty")\n          return [];\n        if (body === "component") {\n          if (root.nodeType !== 1)\n            return [];\n          return [root.childElementCount === 1 ? root.firstElementChild : root];\n        }\n        throw new Error(`Internal error, unknown internal:control selector ${body}`);\n      }\n    };\n  }\n  _createHasEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const has = !!this.querySelector(body.parsed, root, false);\n      return has ? [root] : [];\n    };\n    return { queryAll };\n  }\n  _createHasNotEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const has = !!this.querySelector(body.parsed, root, false);\n      return has ? [] : [root];\n    };\n    return { queryAll };\n  }\n  _createVisibleEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const visible = body === "true";\n      return isElementVisible(root) === visible ? [root] : [];\n    };\n    return { queryAll };\n  }\n  _createInternalChainEngine() {\n    const queryAll = (root, body) => {\n      return this.querySelectorAll(body.parsed, root);\n    };\n    return { queryAll };\n  }\n  extend(source, params) {\n    const constrFunction = this.window.eval(`\n    (() => {\n      const module = {};\n      ${source}\n      return module.exports.default();\n    })()`);\n    return new constrFunction(this, params);\n  }\n  async viewportRatio(element) {\n    return await new Promise((resolve) => {\n      const observer = new IntersectionObserver((entries) => {\n        resolve(entries[0].intersectionRatio);\n        observer.disconnect();\n      });\n      observer.observe(element);\n      this.utils.builtins.requestAnimationFrame(() => {\n      });\n    });\n  }\n  getElementBorderWidth(node) {\n    if (node.nodeType !== Node.ELEMENT_NODE || !node.ownerDocument || !node.ownerDocument.defaultView)\n      return { left: 0, top: 0 };\n    const style = node.ownerDocument.defaultView.getComputedStyle(node);\n    return { left: parseInt(style.borderLeftWidth || "", 10), top: parseInt(style.borderTopWidth || "", 10) };\n  }\n  describeIFrameStyle(iframe) {\n    if (!iframe.ownerDocument || !iframe.ownerDocument.defaultView)\n      return "error:notconnected";\n    const defaultView = iframe.ownerDocument.defaultView;\n    for (let e = iframe; e; e = parentElementOrShadowHost(e)) {\n      if (defaultView.getComputedStyle(e).transform !== "none")\n        return "transformed";\n    }\n    const iframeStyle = defaultView.getComputedStyle(iframe);\n    return {\n      left: parseInt(iframeStyle.borderLeftWidth || "", 10) + parseInt(iframeStyle.paddingLeft || "", 10),\n      top: parseInt(iframeStyle.borderTopWidth || "", 10) + parseInt(iframeStyle.paddingTop || "", 10)\n    };\n  }\n  retarget(node, behavior) {\n    let element = node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;\n    if (!element)\n      return null;\n    if (behavior === "none")\n      return element;\n    if (!element.matches("input, textarea, select") && !element.isContentEditable) {\n      if (behavior === "button-link")\n        element = element.closest("button, [role=button], a, [role=link]") || element;\n      else\n        element = element.closest("button, [role=button], [role=checkbox], [role=radio]") || element;\n    }\n    if (behavior === "follow-label") {\n      if (!element.matches("a, input, textarea, button, select, [role=link], [role=button], [role=checkbox], [role=radio]") && !element.isContentEditable) {\n        const enclosingLabel = element.closest("label");\n        if (enclosingLabel && enclosingLabel.control)\n          element = enclosingLabel.control;\n      }\n    }\n    return element;\n  }\n  async checkElementStates(node, states) {\n    if (states.includes("stable")) {\n      const stableResult = await this._checkElementIsStable(node);\n      if (stableResult === false)\n        return { missingState: "stable" };\n      if (stableResult === "error:notconnected")\n        return "error:notconnected";\n    }\n    for (const state of states) {\n      if (state !== "stable") {\n        const result = this.elementState(node, state);\n        if (result.received === "error:notconnected")\n          return "error:notconnected";\n        if (!result.matches)\n          return { missingState: state };\n      }\n    }\n  }\n  async _checkElementIsStable(node) {\n    const continuePolling = Symbol("continuePolling");\n    let lastRect;\n    let stableRafCounter = 0;\n    let lastTime = 0;\n    const check = () => {\n      const element = this.retarget(node, "no-follow-label");\n      if (!element)\n        return "error:notconnected";\n      const time = this.utils.builtins.performance.now();\n      if (this._stableRafCount > 1 && time - lastTime < 15)\n        return continuePolling;\n      lastTime = time;\n      const clientRect = element.getBoundingClientRect();\n      const rect = { x: clientRect.top, y: clientRect.left, width: clientRect.width, height: clientRect.height };\n      if (lastRect) {\n        const samePosition = rect.x === lastRect.x && rect.y === lastRect.y && rect.width === lastRect.width && rect.height === lastRect.height;\n        if (!samePosition)\n          return false;\n        if (++stableRafCounter >= this._stableRafCount)\n          return true;\n      }\n      lastRect = rect;\n      return continuePolling;\n    };\n    let fulfill;\n    let reject;\n    const result = new Promise((f, r) => {\n      fulfill = f;\n      reject = r;\n    });\n    const raf = () => {\n      try {\n        const success = check();\n        if (success !== continuePolling)\n          fulfill(success);\n        else\n          this.utils.builtins.requestAnimationFrame(raf);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    this.utils.builtins.requestAnimationFrame(raf);\n    return result;\n  }\n  _createAriaRefEngine() {\n    const queryAll = (root, selector) => {\n      var _a, _b;\n      const result = (_b = (_a = this._lastAriaSnapshotForQuery) == null ? void 0 : _a.elements) == null ? void 0 : _b.get(selector);\n      return result && result.isConnected ? [result] : [];\n    };\n    return { queryAll };\n  }\n  elementState(node, state) {\n    const element = this.retarget(node, ["visible", "hidden"].includes(state) ? "none" : "follow-label");\n    if (!element || !element.isConnected) {\n      if (state === "hidden")\n        return { matches: true, received: "hidden" };\n      return { matches: false, received: "error:notconnected" };\n    }\n    if (state === "visible" || state === "hidden") {\n      const visible = isElementVisible(element);\n      return {\n        matches: state === "visible" ? visible : !visible,\n        received: visible ? "visible" : "hidden"\n      };\n    }\n    if (state === "disabled" || state === "enabled") {\n      const disabled = getAriaDisabled(element);\n      return {\n        matches: state === "disabled" ? disabled : !disabled,\n        received: disabled ? "disabled" : "enabled"\n      };\n    }\n    if (state === "editable") {\n      const disabled = getAriaDisabled(element);\n      const readonly = getReadonly(element);\n      if (readonly === "error")\n        throw this.createStacklessError("Element is not an <input>, <textarea>, <select> or [contenteditable] and does not have a role allowing [aria-readonly]");\n      return {\n        matches: !disabled && !readonly,\n        received: disabled ? "disabled" : readonly ? "readOnly" : "editable"\n      };\n    }\n    if (state === "checked" || state === "unchecked") {\n      const need = state === "checked";\n      const checked = getCheckedWithoutMixed(element);\n      if (checked === "error")\n        throw this.createStacklessError("Not a checkbox or radio button");\n      const isRadio = element.nodeName === "INPUT" && element.type === "radio";\n      return {\n        matches: need === checked,\n        received: checked ? "checked" : "unchecked",\n        isRadio\n      };\n    }\n    if (state === "indeterminate") {\n      const checked = getCheckedAllowMixed(element);\n      if (checked === "error")\n        throw this.createStacklessError("Not a checkbox or radio button");\n      return {\n        matches: checked === "mixed",\n        received: checked === true ? "checked" : checked === false ? "unchecked" : "mixed"\n      };\n    }\n    throw this.createStacklessError(`Unexpected element state "${state}"`);\n  }\n  selectOptions(node, optionsToSelect) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() !== "select")\n      throw this.createStacklessError("Element is not a <select> element");\n    const select = element;\n    const options = [...select.options];\n    const selectedOptions = [];\n    let remainingOptionsToSelect = optionsToSelect.slice();\n    for (let index = 0; index < options.length; index++) {\n      const option = options[index];\n      const filter = (optionToSelect) => {\n        if (optionToSelect instanceof Node)\n          return option === optionToSelect;\n        let matches = true;\n        if (optionToSelect.valueOrLabel !== void 0)\n          matches = matches && (optionToSelect.valueOrLabel === option.value || optionToSelect.valueOrLabel === option.label);\n        if (optionToSelect.value !== void 0)\n          matches = matches && optionToSelect.value === option.value;\n        if (optionToSelect.label !== void 0)\n          matches = matches && optionToSelect.label === option.label;\n        if (optionToSelect.index !== void 0)\n          matches = matches && optionToSelect.index === index;\n        return matches;\n      };\n      if (!remainingOptionsToSelect.some(filter))\n        continue;\n      if (!this.elementState(option, "enabled").matches)\n        return "error:optionnotenabled";\n      selectedOptions.push(option);\n      if (select.multiple) {\n        remainingOptionsToSelect = remainingOptionsToSelect.filter((o) => !filter(o));\n      } else {\n        remainingOptionsToSelect = [];\n        break;\n      }\n    }\n    if (remainingOptionsToSelect.length)\n      return "error:optionsnotfound";\n    select.value = void 0;\n    selectedOptions.forEach((option) => option.selected = true);\n    select.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n    select.dispatchEvent(new Event("change", { bubbles: true }));\n    return selectedOptions.map((option) => option.value);\n  }\n  fill(node, value) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() === "input") {\n      const input = element;\n      const type = input.type.toLowerCase();\n      const kInputTypesToSetValue = /* @__PURE__ */ new Set(["color", "date", "time", "datetime-local", "month", "range", "week"]);\n      const kInputTypesToTypeInto = /* @__PURE__ */ new Set(["", "email", "number", "password", "search", "tel", "text", "url"]);\n      if (!kInputTypesToTypeInto.has(type) && !kInputTypesToSetValue.has(type))\n        throw this.createStacklessError(`Input of type "${type}" cannot be filled`);\n      if (type === "number") {\n        value = value.trim();\n        if (isNaN(Number(value)))\n          throw this.createStacklessError("Cannot type text into input[type=number]");\n      }\n      if (kInputTypesToSetValue.has(type)) {\n        value = value.trim();\n        input.focus();\n        input.value = value;\n        if (input.value !== value)\n          throw this.createStacklessError("Malformed value");\n        element.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n        element.dispatchEvent(new Event("change", { bubbles: true }));\n        return "done";\n      }\n    } else if (element.nodeName.toLowerCase() === "textarea") {\n    } else if (!element.isContentEditable) {\n      throw this.createStacklessError("Element is not an <input>, <textarea> or [contenteditable] element");\n    }\n    this.selectText(element);\n    return "needsinput";\n  }\n  selectText(node) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() === "input") {\n      const input = element;\n      input.select();\n      input.focus();\n      return "done";\n    }\n    if (element.nodeName.toLowerCase() === "textarea") {\n      const textarea = element;\n      textarea.selectionStart = 0;\n      textarea.selectionEnd = textarea.value.length;\n      textarea.focus();\n      return "done";\n    }\n    const range = element.ownerDocument.createRange();\n    range.selectNodeContents(element);\n    const selection = element.ownerDocument.defaultView.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n    element.focus();\n    return "done";\n  }\n  _activelyFocused(node) {\n    const activeElement = node.getRootNode().activeElement;\n    const isFocused = activeElement === node && !!node.ownerDocument && node.ownerDocument.hasFocus();\n    return { activeElement, isFocused };\n  }\n  focusNode(node, resetSelectionIfNotFocused) {\n    if (!node.isConnected)\n      return "error:notconnected";\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Node is not an element");\n    const { activeElement, isFocused: wasFocused } = this._activelyFocused(node);\n    if (node.isContentEditable && !wasFocused && activeElement && activeElement.blur) {\n      activeElement.blur();\n    }\n    node.focus();\n    node.focus();\n    if (resetSelectionIfNotFocused && !wasFocused && node.nodeName.toLowerCase() === "input") {\n      try {\n        const input = node;\n        input.setSelectionRange(0, 0);\n      } catch (e) {\n      }\n    }\n    return "done";\n  }\n  blurNode(node) {\n    if (!node.isConnected)\n      return "error:notconnected";\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Node is not an element");\n    node.blur();\n    return "done";\n  }\n  setInputFiles(node, payloads) {\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return "Node is not of type HTMLElement";\n    const element = node;\n    if (element.nodeName !== "INPUT")\n      return "Not an <input> element";\n    const input = element;\n    const type = (input.getAttribute("type") || "").toLowerCase();\n    if (type !== "file")\n      return "Not an input[type=file] element";\n    const files = payloads.map((file) => {\n      const bytes = Uint8Array.from(atob(file.buffer), (c) => c.charCodeAt(0));\n      return new File([bytes], file.name, { type: file.mimeType, lastModified: file.lastModifiedMs });\n    });\n    const dt = new DataTransfer();\n    for (const file of files)\n      dt.items.add(file);\n    input.files = dt.files;\n    input.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n    input.dispatchEvent(new Event("change", { bubbles: true }));\n  }\n  expectHitTarget(hitPoint, targetElement) {\n    var _a;\n    const roots = [];\n    let parentElement = targetElement;\n    while (parentElement) {\n      const root = enclosingShadowRootOrDocument(parentElement);\n      if (!root)\n        break;\n      roots.push(root);\n      if (root.nodeType === 9)\n        break;\n      parentElement = root.host;\n    }\n    let hitElement;\n    for (let index = roots.length - 1; index >= 0; index--) {\n      const root = roots[index];\n      const elements = root.elementsFromPoint(hitPoint.x, hitPoint.y);\n      const singleElement = root.elementFromPoint(hitPoint.x, hitPoint.y);\n      if (singleElement && elements[0] && parentElementOrShadowHost(singleElement) === elements[0]) {\n        const style = this.window.getComputedStyle(singleElement);\n        if ((style == null ? void 0 : style.display) === "contents") {\n          elements.unshift(singleElement);\n        }\n      }\n      if (elements[0] && elements[0].shadowRoot === root && elements[1] === singleElement) {\n        elements.shift();\n      }\n      const innerElement = elements[0];\n      if (!innerElement)\n        break;\n      hitElement = innerElement;\n      if (index && innerElement !== roots[index - 1].host)\n        break;\n    }\n    const hitParents = [];\n    while (hitElement && hitElement !== targetElement) {\n      hitParents.push(hitElement);\n      hitElement = (_a = hitElement.assignedSlot) != null ? _a : parentElementOrShadowHost(hitElement);\n    }\n    if (hitElement === targetElement)\n      return "done";\n    const hitTargetDescription = this.previewNode(hitParents[0] || this.document.documentElement);\n    let rootHitTargetDescription;\n    let element = targetElement;\n    while (element) {\n      const index = hitParents.indexOf(element);\n      if (index !== -1) {\n        if (index > 1)\n          rootHitTargetDescription = this.previewNode(hitParents[index - 1]);\n        break;\n      }\n      element = parentElementOrShadowHost(element);\n    }\n    if (rootHitTargetDescription)\n      return { hitTargetDescription: `${hitTargetDescription} from ${rootHitTargetDescription} subtree` };\n    return { hitTargetDescription };\n  }\n  // Life of a pointer action, for example click.\n  //\n  // 0. Retry items 1 and 2 while action fails due to navigation or element being detached.\n  //   1. Resolve selector to an element.\n  //   2. Retry the following steps until the element is detached or frame navigates away.\n  //     2a. Wait for the element to be stable (not moving), visible and enabled.\n  //     2b. Scroll element into view. Scrolling alternates between:\n  //         - Built-in protocol scrolling.\n  //         - Anchoring to the top/left, bottom/right and center/center.\n  //         This is to scroll elements from under sticky headers/footers.\n  //     2c. Click point is calculated, either based on explicitly specified position,\n  //         or some visible point of the element based on protocol content quads.\n  //     2d. Click point relative to page viewport is converted relative to the target iframe\n  //         for the next hit-point check.\n  //     2e. (injected) Hit target at the click point must be a descendant of the target element.\n  //         This prevents mis-clicking in edge cases like <iframe> overlaying the target.\n  //     2f. (injected) Events specific for click (or some other action type) are intercepted on\n  //         the Window with capture:true. See 2i for details.\n  //         Note: this step is skipped for drag&drop (see inline comments for the reason).\n  //     2g. Necessary keyboard modifiers are pressed.\n  //     2h. Click event is issued (mousemove + mousedown + mouseup).\n  //     2i. (injected) For each event, we check that hit target at the event point\n  //         is a descendant of the target element.\n  //         This guarantees no race between issuing the event and handling it in the page,\n  //         for example due to layout shift.\n  //         When hit target check fails, we block all future events in the page.\n  //     2j. Keyboard modifiers are restored.\n  //     2k. (injected) Event interceptor is removed.\n  //     2l. All navigations triggered between 2g-2k are awaited to be either committed or canceled.\n  //     2m. If failed, wait for increasing amount of time before the next retry.\n  setupHitTargetInterceptor(node, action, hitPoint, blockAllEvents) {\n    const element = this.retarget(node, "button-link");\n    if (!element || !element.isConnected)\n      return "error:notconnected";\n    if (hitPoint) {\n      const preliminaryResult = this.expectHitTarget(hitPoint, element);\n      if (preliminaryResult !== "done")\n        return preliminaryResult.hitTargetDescription;\n    }\n    if (action === "drag")\n      return { stop: () => "done" };\n    const events = {\n      "hover": this._hoverHitTargetInterceptorEvents,\n      "tap": this._tapHitTargetInterceptorEvents,\n      "mouse": this._mouseHitTargetInterceptorEvents\n    }[action];\n    let result;\n    const listener = (event) => {\n      if (!events.has(event.type))\n        return;\n      if (!event.isTrusted)\n        return;\n      const point = !!this.window.TouchEvent && event instanceof this.window.TouchEvent ? event.touches[0] : event;\n      if (result === void 0 && point)\n        result = this.expectHitTarget({ x: point.clientX, y: point.clientY }, element);\n      if (blockAllEvents || result !== "done" && result !== void 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        event.stopImmediatePropagation();\n      }\n    };\n    const stop = () => {\n      if (this._hitTargetInterceptor === listener)\n        this._hitTargetInterceptor = void 0;\n      return result || "done";\n    };\n    this._hitTargetInterceptor = listener;\n    return { stop };\n  }\n  dispatchEvent(node, type, eventInitObj) {\n    var _a, _b, _c, _d, _e;\n    let event;\n    const eventInit = { bubbles: true, cancelable: true, composed: true, ...eventInitObj };\n    switch (this._eventTypes.get(type)) {\n      case "mouse":\n        event = new MouseEvent(type, eventInit);\n        break;\n      case "keyboard":\n        event = new KeyboardEvent(type, eventInit);\n        break;\n      case "touch": {\n        if (this._browserName === "webkit") {\n          const createTouch = (t) => {\n            var _a2, _b2, _c2;\n            if (t instanceof Touch)\n              return t;\n            let pageX = t.pageX;\n            if (pageX === void 0 && t.clientX !== void 0)\n              pageX = t.clientX + (((_a2 = this.document.scrollingElement) == null ? void 0 : _a2.scrollLeft) || 0);\n            let pageY = t.pageY;\n            if (pageY === void 0 && t.clientY !== void 0)\n              pageY = t.clientY + (((_b2 = this.document.scrollingElement) == null ? void 0 : _b2.scrollTop) || 0);\n            return this.document.createTouch(this.window, (_c2 = t.target) != null ? _c2 : node, t.identifier, pageX, pageY, t.screenX, t.screenY, t.radiusX, t.radiusY, t.rotationAngle, t.force);\n          };\n          const createTouchList = (touches) => {\n            if (touches instanceof TouchList || !touches)\n              return touches;\n            return this.document.createTouchList(...touches.map(createTouch));\n          };\n          (_a = eventInit.target) != null ? _a : eventInit.target = node;\n          eventInit.touches = createTouchList(eventInit.touches);\n          eventInit.targetTouches = createTouchList(eventInit.targetTouches);\n          eventInit.changedTouches = createTouchList(eventInit.changedTouches);\n          event = new TouchEvent(type, eventInit);\n        } else {\n          (_b = eventInit.target) != null ? _b : eventInit.target = node;\n          eventInit.touches = (_c = eventInit.touches) == null ? void 0 : _c.map((t) => {\n            var _a2;\n            return t instanceof Touch ? t : new Touch({ ...t, target: (_a2 = t.target) != null ? _a2 : node });\n          });\n          eventInit.targetTouches = (_d = eventInit.targetTouches) == null ? void 0 : _d.map((t) => {\n            var _a2;\n            return t instanceof Touch ? t : new Touch({ ...t, target: (_a2 = t.target) != null ? _a2 : node });\n          });\n          eventInit.changedTouches = (_e = eventInit.changedTouches) == null ? void 0 : _e.map((t) => {\n            var _a2;\n            return t instanceof Touch ? t : new Touch({ ...t, target: (_a2 = t.target) != null ? _a2 : node });\n          });\n          event = new TouchEvent(type, eventInit);\n        }\n        break;\n      }\n      case "pointer":\n        event = new PointerEvent(type, eventInit);\n        break;\n      case "focus":\n        event = new FocusEvent(type, eventInit);\n        break;\n      case "drag":\n        event = new DragEvent(type, eventInit);\n        break;\n      case "wheel":\n        event = new WheelEvent(type, eventInit);\n        break;\n      case "deviceorientation":\n        try {\n          event = new DeviceOrientationEvent(type, eventInit);\n        } catch {\n          const { bubbles, cancelable, alpha, beta, gamma, absolute } = eventInit;\n          event = this.document.createEvent("DeviceOrientationEvent");\n          event.initDeviceOrientationEvent(type, bubbles, cancelable, alpha, beta, gamma, absolute);\n        }\n        break;\n      case "devicemotion":\n        try {\n          event = new DeviceMotionEvent(type, eventInit);\n        } catch {\n          const { bubbles, cancelable, acceleration, accelerationIncludingGravity, rotationRate, interval } = eventInit;\n          event = this.document.createEvent("DeviceMotionEvent");\n          event.initDeviceMotionEvent(type, bubbles, cancelable, acceleration, accelerationIncludingGravity, rotationRate, interval);\n        }\n        break;\n      default:\n        event = new Event(type, eventInit);\n        break;\n    }\n    node.dispatchEvent(event);\n  }\n  previewNode(node) {\n    if (node.nodeType === Node.TEXT_NODE)\n      return oneLine(`#text=${node.nodeValue || ""}`);\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return oneLine(`<${node.nodeName.toLowerCase()} />`);\n    const element = node;\n    const attrs = [];\n    for (let i = 0; i < element.attributes.length; i++) {\n      const { name, value } = element.attributes[i];\n      if (name === "style")\n        continue;\n      if (!value && this._booleanAttributes.has(name))\n        attrs.push(` ${name}`);\n      else\n        attrs.push(` ${name}="${value}"`);\n    }\n    attrs.sort((a, b) => a.length - b.length);\n    const attrText = trimStringWithEllipsis(attrs.join(""), 500);\n    if (this._autoClosingTags.has(element.nodeName))\n      return oneLine(`<${element.nodeName.toLowerCase()}${attrText}/>`);\n    const children = element.childNodes;\n    let onlyText = false;\n    if (children.length <= 5) {\n      onlyText = true;\n      for (let i = 0; i < children.length; i++)\n        onlyText = onlyText && children[i].nodeType === Node.TEXT_NODE;\n    }\n    const text = onlyText ? element.textContent || "" : children.length ? "\\u2026" : "";\n    return oneLine(`<${element.nodeName.toLowerCase()}${attrText}>${trimStringWithEllipsis(text, 50)}</${element.nodeName.toLowerCase()}>`);\n  }\n  strictModeViolationError(selector, matches) {\n    this._evaluator.begin();\n    beginAriaCaches();\n    beginDOMCaches();\n    try {\n      const maxElements = this._isUtilityWorld && this._browserName === "firefox" ? 2 : 10;\n      const infos = matches.slice(0, maxElements).map((m) => ({\n        preview: this.previewNode(m),\n        selector: this.generateSelectorSimple(m)\n      }));\n      const lines = infos.map((info, i) => `\n    ${i + 1}) ${info.preview} aka ${asLocator(this._sdkLanguage, info.selector)}`);\n      if (infos.length < matches.length)\n        lines.push("\\n    ...");\n      return this.createStacklessError(`strict mode violation: ${asLocator(this._sdkLanguage, stringifySelector(selector))} resolved to ${matches.length} elements:${lines.join("")}\n`);\n    } finally {\n      endDOMCaches();\n      endAriaCaches();\n      this._evaluator.end();\n    }\n  }\n  createStacklessError(message) {\n    if (this._browserName === "firefox") {\n      const error2 = new Error("Error: " + message);\n      error2.stack = "";\n      return error2;\n    }\n    const error = new Error(message);\n    delete error.stack;\n    return error;\n  }\n  createHighlight() {\n    return new Highlight(this);\n  }\n  maskSelectors(selectors, color) {\n    if (this._highlight)\n      this.hideHighlight();\n    this._highlight = new Highlight(this);\n    this._highlight.install();\n    const elements = [];\n    for (const selector of selectors)\n      elements.push(this.querySelectorAll(selector, this.document.documentElement));\n    this._highlight.maskElements(elements.flat(), color);\n  }\n  highlight(selector) {\n    if (!this._highlight) {\n      this._highlight = new Highlight(this);\n      this._highlight.install();\n    }\n    this._highlight.runHighlightOnRaf(selector);\n  }\n  hideHighlight() {\n    if (this._highlight) {\n      this._highlight.uninstall();\n      delete this._highlight;\n    }\n  }\n  markTargetElements(markedElements, callId) {\n    var _a, _b;\n    if (((_a = this._markedElements) == null ? void 0 : _a.callId) !== callId)\n      this._markedElements = void 0;\n    const previous = ((_b = this._markedElements) == null ? void 0 : _b.elements) || /* @__PURE__ */ new Set();\n    const unmarkEvent = new CustomEvent("__playwright_unmark_target__", {\n      bubbles: true,\n      cancelable: true,\n      detail: callId,\n      composed: true\n    });\n    for (const element of previous) {\n      if (!markedElements.has(element))\n        element.dispatchEvent(unmarkEvent);\n    }\n    const markEvent = new CustomEvent("__playwright_mark_target__", {\n      bubbles: true,\n      cancelable: true,\n      detail: callId,\n      composed: true\n    });\n    for (const element of markedElements) {\n      if (!previous.has(element))\n        element.dispatchEvent(markEvent);\n    }\n    this._markedElements = { callId, elements: markedElements };\n  }\n  _setupGlobalListenersRemovalDetection() {\n    const customEventName = "__playwright_global_listeners_check__";\n    let seenEvent = false;\n    const handleCustomEvent = () => seenEvent = true;\n    this.window.addEventListener(customEventName, handleCustomEvent);\n    new MutationObserver((entries) => {\n      const newDocumentElement = entries.some((entry) => Array.from(entry.addedNodes).includes(this.document.documentElement));\n      if (!newDocumentElement)\n        return;\n      seenEvent = false;\n      this.window.dispatchEvent(new CustomEvent(customEventName));\n      if (seenEvent)\n        return;\n      this.window.addEventListener(customEventName, handleCustomEvent);\n      for (const callback of this.onGlobalListenersRemoved)\n        callback();\n    }).observe(this.document, { childList: true });\n  }\n  _setupHitTargetInterceptors() {\n    const listener = (event) => {\n      var _a;\n      return (_a = this._hitTargetInterceptor) == null ? void 0 : _a.call(this, event);\n    };\n    const addHitTargetInterceptorListeners = () => {\n      for (const event of this._allHitTargetInterceptorEvents)\n        this.window.addEventListener(event, listener, { capture: true, passive: false });\n    };\n    addHitTargetInterceptorListeners();\n    this.onGlobalListenersRemoved.add(addHitTargetInterceptorListeners);\n  }\n  async expect(element, options, elements) {\n    var _a, _b;\n    const isArray = options.expression === "to.have.count" || options.expression.endsWith(".array");\n    if (isArray)\n      return this.expectArray(elements, options);\n    if (!element) {\n      if (!options.isNot && options.expression === "to.be.hidden")\n        return { matches: true };\n      if (options.isNot && options.expression === "to.be.visible")\n        return { matches: false };\n      if (!options.isNot && options.expression === "to.be.detached")\n        return { matches: true };\n      if (options.isNot && options.expression === "to.be.attached")\n        return { matches: false };\n      if (options.isNot && options.expression === "to.be.in.viewport")\n        return { matches: false };\n      if (options.expression === "to.have.title" && ((_a = options == null ? void 0 : options.expectedText) == null ? void 0 : _a[0])) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        const received = this.document.title;\n        return { received, matches: matcher.matches(received) };\n      }\n      if (options.expression === "to.have.url" && ((_b = options == null ? void 0 : options.expectedText) == null ? void 0 : _b[0])) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        const received = this.document.location.href;\n        return { received, matches: matcher.matches(received) };\n      }\n      return { matches: options.isNot, missingReceived: true };\n    }\n    return await this.expectSingleElement(element, options);\n  }\n  async expectSingleElement(element, options) {\n    var _a, _b;\n    const expression = options.expression;\n    {\n      let result;\n      if (expression === "to.have.attribute") {\n        const hasAttribute = element.hasAttribute(options.expressionArg);\n        result = {\n          matches: hasAttribute,\n          received: hasAttribute ? "attribute present" : "attribute not present"\n        };\n      } else if (expression === "to.be.checked") {\n        const { checked, indeterminate } = options.expectedValue;\n        if (indeterminate) {\n          if (checked !== void 0)\n            throw this.createStacklessError("Can\'t assert indeterminate and checked at the same time");\n          result = this.elementState(element, "indeterminate");\n        } else {\n          result = this.elementState(element, checked === false ? "unchecked" : "checked");\n        }\n      } else if (expression === "to.be.disabled") {\n        result = this.elementState(element, "disabled");\n      } else if (expression === "to.be.editable") {\n        result = this.elementState(element, "editable");\n      } else if (expression === "to.be.readonly") {\n        result = this.elementState(element, "editable");\n        result.matches = !result.matches;\n      } else if (expression === "to.be.empty") {\n        if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {\n          const value = element.value;\n          result = { matches: !value, received: value ? "notEmpty" : "empty" };\n        } else {\n          const text = (_a = element.textContent) == null ? void 0 : _a.trim();\n          result = { matches: !text, received: text ? "notEmpty" : "empty" };\n        }\n      } else if (expression === "to.be.enabled") {\n        result = this.elementState(element, "enabled");\n      } else if (expression === "to.be.focused") {\n        const focused = this._activelyFocused(element).isFocused;\n        result = {\n          matches: focused,\n          received: focused ? "focused" : "inactive"\n        };\n      } else if (expression === "to.be.hidden") {\n        result = this.elementState(element, "hidden");\n      } else if (expression === "to.be.visible") {\n        result = this.elementState(element, "visible");\n      } else if (expression === "to.be.attached") {\n        result = {\n          matches: true,\n          received: "attached"\n        };\n      } else if (expression === "to.be.detached") {\n        result = {\n          matches: false,\n          received: "attached"\n        };\n      }\n      if (result) {\n        if (result.received === "error:notconnected")\n          throw this.createStacklessError("Element is not connected");\n        return result;\n      }\n    }\n    {\n      if (expression === "to.have.property") {\n        let target = element;\n        const properties = options.expressionArg.split(".");\n        for (let i = 0; i < properties.length - 1; i++) {\n          if (typeof target !== "object" || !(properties[i] in target))\n            return { received: void 0, matches: false };\n          target = target[properties[i]];\n        }\n        const received = target[properties[properties.length - 1]];\n        const matches = deepEquals(received, options.expectedValue);\n        return { received, matches };\n      }\n    }\n    {\n      if (expression === "to.be.in.viewport") {\n        const ratio = await this.viewportRatio(element);\n        return { received: `viewport ratio ${ratio}`, matches: ratio > 0 && ratio > ((_b = options.expectedNumber) != null ? _b : 0) - 1e-9 };\n      }\n    }\n    {\n      if (expression === "to.have.values") {\n        element = this.retarget(element, "follow-label");\n        if (element.nodeName !== "SELECT" || !element.multiple)\n          throw this.createStacklessError("Not a select element with a multiple attribute");\n        const received = [...element.selectedOptions].map((o) => o.value);\n        if (received.length !== options.expectedText.length)\n          return { received, matches: false };\n        return { received, matches: received.map((r, i) => new ExpectedTextMatcher(options.expectedText[i]).matches(r)).every(Boolean) };\n      }\n    }\n    {\n      if (expression === "to.match.aria") {\n        const result = matchesExpectAriaTemplate(element, options.expectedValue);\n        return {\n          received: result.received,\n          matches: !!result.matches.length\n        };\n      }\n    }\n    {\n      let received;\n      if (expression === "to.have.attribute.value") {\n        const value = element.getAttribute(options.expressionArg);\n        if (value === null)\n          return { received: null, matches: false };\n        received = value;\n      } else if (["to.have.class", "to.contain.class"].includes(expression)) {\n        if (!options.expectedText)\n          throw this.createStacklessError("Expected text is not provided for " + expression);\n        return {\n          received: element.classList.toString(),\n          matches: new ExpectedTextMatcher(options.expectedText[0]).matchesClassList(\n            this,\n            element.classList,\n            /* partial */\n            expression === "to.contain.class"\n          )\n        };\n      } else if (expression === "to.have.css") {\n        received = this.window.getComputedStyle(element).getPropertyValue(options.expressionArg);\n      } else if (expression === "to.have.id") {\n        received = element.id;\n      } else if (expression === "to.have.text") {\n        received = options.useInnerText ? element.innerText : elementText(/* @__PURE__ */ new Map(), element).full;\n      } else if (expression === "to.have.accessible.name") {\n        received = getElementAccessibleName(\n          element,\n          false\n          /* includeHidden */\n        );\n      } else if (expression === "to.have.accessible.description") {\n        received = getElementAccessibleDescription(\n          element,\n          false\n          /* includeHidden */\n        );\n      } else if (expression === "to.have.accessible.error.message") {\n        received = getElementAccessibleErrorMessage(element);\n      } else if (expression === "to.have.role") {\n        received = getAriaRole(element) || "";\n      } else if (expression === "to.have.value") {\n        element = this.retarget(element, "follow-label");\n        if (element.nodeName !== "INPUT" && element.nodeName !== "TEXTAREA" && element.nodeName !== "SELECT")\n          throw this.createStacklessError("Not an input element");\n        received = element.value;\n      }\n      if (received !== void 0 && options.expectedText) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        return { received, matches: matcher.matches(received) };\n      }\n    }\n    throw this.createStacklessError("Unknown expect matcher: " + expression);\n  }\n  expectArray(elements, options) {\n    const expression = options.expression;\n    if (expression === "to.have.count") {\n      const received2 = elements.length;\n      const matches2 = received2 === options.expectedNumber;\n      return { received: received2, matches: matches2 };\n    }\n    if (!options.expectedText)\n      throw this.createStacklessError("Expected text is not provided for " + expression);\n    if (["to.have.class.array", "to.contain.class.array"].includes(expression)) {\n      const receivedClassLists = elements.map((e) => e.classList);\n      const received2 = receivedClassLists.map(String);\n      if (receivedClassLists.length !== options.expectedText.length)\n        return { received: received2, matches: false };\n      const matches2 = this._matchSequentially(\n        options.expectedText,\n        receivedClassLists,\n        (matcher, r) => matcher.matchesClassList(\n          this,\n          r,\n          /* partial */\n          expression === "to.contain.class.array"\n        )\n      );\n      return {\n        received: received2,\n        matches: matches2\n      };\n    }\n    if (!["to.contain.text.array", "to.have.text.array"].includes(expression))\n      throw this.createStacklessError("Unknown expect matcher: " + expression);\n    const received = elements.map((e) => options.useInnerText ? e.innerText : elementText(/* @__PURE__ */ new Map(), e).full);\n    const lengthShouldMatch = expression !== "to.contain.text.array";\n    const matchesLength = received.length === options.expectedText.length || !lengthShouldMatch;\n    if (!matchesLength)\n      return { received, matches: false };\n    const matches = this._matchSequentially(options.expectedText, received, (matcher, r) => matcher.matches(r));\n    return { received, matches };\n  }\n  _matchSequentially(expectedText, received, matchFn) {\n    const matchers = expectedText.map((e) => new ExpectedTextMatcher(e));\n    let mIndex = 0;\n    let rIndex = 0;\n    while (mIndex < matchers.length && rIndex < received.length) {\n      if (matchFn(matchers[mIndex], received[rIndex]))\n        ++mIndex;\n      ++rIndex;\n    }\n    return mIndex === matchers.length;\n  }\n};\nfunction oneLine(s) {\n  return s.replace(/\\n/g, "\\u21B5").replace(/\\t/g, "\\u21C6");\n}\nfunction cssUnquote(s) {\n  s = s.substring(1, s.length - 1);\n  if (!s.includes("\\\\"))\n    return s;\n  const r = [];\n  let i = 0;\n  while (i < s.length) {\n    if (s[i] === "\\\\" && i + 1 < s.length)\n      i++;\n    r.push(s[i++]);\n  }\n  return r.join("");\n}\nfunction createTextMatcher(selector, internal) {\n  if (selector[0] === "/" && selector.lastIndexOf("/") > 0) {\n    const lastSlash = selector.lastIndexOf("/");\n    const re = new RegExp(selector.substring(1, lastSlash), selector.substring(lastSlash + 1));\n    return { matcher: (elementText2) => re.test(elementText2.full), kind: "regex" };\n  }\n  const unquote = internal ? JSON.parse.bind(JSON) : cssUnquote;\n  let strict = false;\n  if (selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 1] === \'"\') {\n    selector = unquote(selector);\n    strict = true;\n  } else if (internal && selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 2] === \'"\' && selector[selector.length - 1] === "i") {\n    selector = unquote(selector.substring(0, selector.length - 1));\n    strict = false;\n  } else if (internal && selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 2] === \'"\' && selector[selector.length - 1] === "s") {\n    selector = unquote(selector.substring(0, selector.length - 1));\n    strict = true;\n  } else if (selector.length > 1 && selector[0] === "\'" && selector[selector.length - 1] === "\'") {\n    selector = unquote(selector);\n    strict = true;\n  }\n  selector = normalizeWhiteSpace(selector);\n  if (strict) {\n    if (internal)\n      return { kind: "strict", matcher: (elementText2) => elementText2.normalized === selector };\n    const strictTextNodeMatcher = (elementText2) => {\n      if (!selector && !elementText2.immediate.length)\n        return true;\n      return elementText2.immediate.some((s) => normalizeWhiteSpace(s) === selector);\n    };\n    return { matcher: strictTextNodeMatcher, kind: "strict" };\n  }\n  selector = selector.toLowerCase();\n  return { kind: "lax", matcher: (elementText2) => elementText2.normalized.toLowerCase().includes(selector) };\n}\nvar ExpectedTextMatcher = class {\n  constructor(expected) {\n    this._normalizeWhiteSpace = expected.normalizeWhiteSpace;\n    this._ignoreCase = expected.ignoreCase;\n    this._string = expected.matchSubstring ? void 0 : this.normalize(expected.string);\n    this._substring = expected.matchSubstring ? this.normalize(expected.string) : void 0;\n    if (expected.regexSource) {\n      const flags = new Set((expected.regexFlags || "").split(""));\n      if (expected.ignoreCase === false)\n        flags.delete("i");\n      if (expected.ignoreCase === true)\n        flags.add("i");\n      this._regex = new RegExp(expected.regexSource, [...flags].join(""));\n    }\n  }\n  matches(text) {\n    if (!this._regex)\n      text = this.normalize(text);\n    if (this._string !== void 0)\n      return text === this._string;\n    if (this._substring !== void 0)\n      return text.includes(this._substring);\n    if (this._regex)\n      return !!this._regex.test(text);\n    return false;\n  }\n  matchesClassList(injectedScript, classList, partial) {\n    if (partial) {\n      if (this._regex)\n        throw injectedScript.createStacklessError("Partial matching does not support regular expressions. Please provide a string value.");\n      return this._string.split(/\\s+/g).filter(Boolean).every((className) => classList.contains(className));\n    }\n    return this.matches(classList.toString());\n  }\n  normalize(s) {\n    if (!s)\n      return s;\n    if (this._normalizeWhiteSpace)\n      s = normalizeWhiteSpace(s);\n    if (this._ignoreCase)\n      s = s.toLocaleLowerCase();\n    return s;\n  }\n};\nfunction deepEquals(a, b) {\n  if (a === b)\n    return true;\n  if (a && b && typeof a === "object" && typeof b === "object") {\n    if (a.constructor !== b.constructor)\n      return false;\n    if (Array.isArray(a)) {\n      if (a.length !== b.length)\n        return false;\n      for (let i = 0; i < a.length; ++i) {\n        if (!deepEquals(a[i], b[i]))\n          return false;\n      }\n      return true;\n    }\n    if (a instanceof RegExp)\n      return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf)\n      return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString)\n      return a.toString() === b.toString();\n    const keys = Object.keys(a);\n    if (keys.length !== Object.keys(b).length)\n      return false;\n    for (let i = 0; i < keys.length; ++i) {\n      if (!b.hasOwnProperty(keys[i]))\n        return false;\n    }\n    for (const key of keys) {\n      if (!deepEquals(a[key], b[key]))\n        return false;\n    }\n    return true;\n  }\n  if (typeof a === "number" && typeof b === "number")\n    return isNaN(a) && isNaN(b);\n  return false;\n}\n';0&&0},2708:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{source:()=>Qe});b.exports=__toCommonJS(oe);const Qe='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/recorder/pollingRecorder.ts\nvar pollingRecorder_exports = {};\n__export(pollingRecorder_exports, {\n  PollingRecorder: () => PollingRecorder,\n  default: () => pollingRecorder_default\n});\nmodule.exports = __toCommonJS(pollingRecorder_exports);\n\n// packages/injected/src/recorder/clipPaths.ts\nvar svgJson = { "tagName": "svg", "children": [{ "tagName": "defs", "children": [{ "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-gripper" }, "children": [{ "tagName": "path", "attrs": { "d": "M5 3h2v2H5zm0 4h2v2H5zm0 4h2v2H5zm4-8h2v2H9zm0 4h2v2H9zm0 4h2v2H9z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-circle-large-filled" }, "children": [{ "tagName": "path", "attrs": { "d": "M8 1a6.8 6.8 0 0 1 1.86.253 6.899 6.899 0 0 1 3.083 1.805 6.903 6.903 0 0 1 1.804 3.083C14.916 6.738 15 7.357 15 8s-.084 1.262-.253 1.86a6.9 6.9 0 0 1-.704 1.674 7.157 7.157 0 0 1-2.516 2.509 6.966 6.966 0 0 1-1.668.71A6.984 6.984 0 0 1 8 15a6.984 6.984 0 0 1-1.86-.246 7.098 7.098 0 0 1-1.674-.711 7.3 7.3 0 0 1-1.415-1.094 7.295 7.295 0 0 1-1.094-1.415 7.098 7.098 0 0 1-.71-1.675A6.985 6.985 0 0 1 1 8c0-.643.082-1.262.246-1.86a6.968 6.968 0 0 1 .711-1.667 7.156 7.156 0 0 1 2.509-2.516 6.895 6.895 0 0 1 1.675-.704A6.808 6.808 0 0 1 8 1z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-stop-circle" }, "children": [{ "tagName": "path", "attrs": { "d": "M6 6h4v4H6z" } }, { "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-inspect" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M1 3l1-1h12l1 1v6h-1V3H2v8h5v1H2l-1-1V3zm14.707 9.707L9 6v9.414l2.707-2.707h4zM10 13V8.414l3.293 3.293h-2L10 13z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-whole-word" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M0 11H1V13H15V11H16V14H15H1H0V11Z" } }, { "tagName": "path", "attrs": { "d": "M6.84048 11H5.95963V10.1406H5.93814C5.555 10.7995 4.99104 11.1289 4.24625 11.1289C3.69839 11.1289 3.26871 10.9839 2.95718 10.6938C2.64924 10.4038 2.49527 10.0189 2.49527 9.53906C2.49527 8.51139 3.10041 7.91341 4.3107 7.74512L5.95963 7.51416C5.95963 6.57959 5.58186 6.1123 4.82632 6.1123C4.16389 6.1123 3.56591 6.33789 3.03238 6.78906V5.88672C3.57307 5.54297 4.19612 5.37109 4.90152 5.37109C6.19416 5.37109 6.84048 6.05501 6.84048 7.42285V11ZM5.95963 8.21777L4.63297 8.40039C4.22476 8.45768 3.91682 8.55973 3.70914 8.70654C3.50145 8.84977 3.39761 9.10579 3.39761 9.47461C3.39761 9.74316 3.4925 9.96338 3.68228 10.1353C3.87564 10.3035 4.13166 10.3877 4.45035 10.3877C4.8872 10.3877 5.24706 10.2355 5.52994 9.93115C5.8164 9.62321 5.95963 9.2347 5.95963 8.76562V8.21777Z" } }, { "tagName": "path", "attrs": { "d": "M9.3475 10.2051H9.32601V11H8.44515V2.85742H9.32601V6.4668H9.3475C9.78076 5.73633 10.4146 5.37109 11.2489 5.37109C11.9543 5.37109 12.5057 5.61816 12.9032 6.1123C13.3042 6.60286 13.5047 7.26172 13.5047 8.08887C13.5047 9.00911 13.2809 9.74674 12.8333 10.3018C12.3857 10.8532 11.7734 11.1289 10.9964 11.1289C10.2695 11.1289 9.71989 10.821 9.3475 10.2051ZM9.32601 7.98682V8.75488C9.32601 9.20964 9.47282 9.59635 9.76644 9.91504C10.0636 10.2301 10.4396 10.3877 10.8944 10.3877C11.4279 10.3877 11.8451 10.1836 12.1458 9.77539C12.4502 9.36719 12.6024 8.79964 12.6024 8.07275C12.6024 7.46045 12.4609 6.98063 12.1781 6.6333C11.8952 6.28597 11.512 6.1123 11.0286 6.1123C10.5166 6.1123 10.1048 6.29134 9.7933 6.64941C9.48177 7.00391 9.32601 7.44971 9.32601 7.98682Z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-eye" }, "children": [{ "tagName": "path", "attrs": { "d": "M7.99993 6.00316C9.47266 6.00316 10.6666 7.19708 10.6666 8.66981C10.6666 10.1426 9.47266 11.3365 7.99993 11.3365C6.52715 11.3365 5.33324 10.1426 5.33324 8.66981C5.33324 7.19708 6.52715 6.00316 7.99993 6.00316ZM7.99993 7.00315C7.07946 7.00315 6.33324 7.74935 6.33324 8.66981C6.33324 9.59028 7.07946 10.3365 7.99993 10.3365C8.9204 10.3365 9.6666 9.59028 9.6666 8.66981C9.6666 7.74935 8.9204 7.00315 7.99993 7.00315ZM7.99993 3.66675C11.0756 3.66675 13.7307 5.76675 14.4673 8.70968C14.5344 8.97755 14.3716 9.24908 14.1037 9.31615C13.8358 9.38315 13.5643 9.22041 13.4973 8.95248C12.8713 6.45205 10.6141 4.66675 7.99993 4.66675C5.38454 4.66675 3.12664 6.45359 2.50182 8.95555C2.43491 9.22341 2.16348 9.38635 1.89557 9.31948C1.62766 9.25255 1.46471 8.98115 1.53162 8.71321C2.26701 5.76856 4.9229 3.66675 7.99993 3.66675Z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-symbol-constant" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M4 6h8v1H4V6zm8 3H4v1h8V9z" } }, { "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M1 4l1-1h12l1 1v8l-1 1H2l-1-1V4zm1 0v8h12V4H2z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-check" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-close" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-pass" }, "children": [{ "tagName": "path", "attrs": { "d": "M6.27 10.87h.71l4.56-4.56-.71-.71-4.2 4.21-1.92-1.92L4 8.6l2.27 2.27z" } }, { "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-gist" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M10.57 1.14l3.28 3.3.15.36v9.7l-.5.5h-11l-.5-.5v-13l.5-.5h7.72l.35.14zM10 5h3l-3-3v3zM3 2v12h10V6H9.5L9 5.5V2H3zm2.062 7.533l1.817-1.828L6.17 7 4 9.179v.707l2.171 2.174.707-.707-1.816-1.82zM8.8 7.714l.7-.709 2.189 2.175v.709L9.5 12.062l-.705-.709 1.831-1.82L8.8 7.714z" } }] }] }] };\nvar clipPaths_default = svgJson;\n\n// packages/injected/src/recorder/recorder.ts\nvar HighlightColors = {\n  multiple: "#f6b26b7f",\n  single: "#6fa8dc7f",\n  assert: "#8acae480",\n  action: "#dc6f6f7f"\n};\nvar NoneTool = class {\n};\nvar InspectTool = class {\n  constructor(recorder, assertVisibility) {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._recorder = recorder;\n    this._assertVisibility = assertVisibility;\n  }\n  cursor() {\n    return "pointer";\n  }\n  uninstall() {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n  }\n  onClick(event) {\n    var _a;\n    consumeEvent(event);\n    if (event.button !== 0)\n      return;\n    if ((_a = this._hoveredModel) == null ? void 0 : _a.selector)\n      this._commit(this._hoveredModel.selector, this._hoveredModel);\n  }\n  onPointerDown(event) {\n    consumeEvent(event);\n  }\n  onPointerUp(event) {\n    consumeEvent(event);\n  }\n  onMouseDown(event) {\n    consumeEvent(event);\n  }\n  onMouseUp(event) {\n    consumeEvent(event);\n  }\n  onMouseMove(event) {\n    var _a;\n    consumeEvent(event);\n    let target = this._recorder.deepEventTarget(event);\n    if (!target.isConnected)\n      target = null;\n    if (this._hoveredElement === target)\n      return;\n    this._hoveredElement = target;\n    let model = null;\n    if (this._hoveredElement) {\n      const generated = this._recorder.injectedScript.generateSelector(this._hoveredElement, { testIdAttributeName: this._recorder.state.testIdAttributeName, multiple: false });\n      model = {\n        selector: generated.selector,\n        elements: generated.elements,\n        tooltipText: this._recorder.injectedScript.utils.asLocator(this._recorder.state.language, generated.selector),\n        color: this._assertVisibility ? HighlightColors.assert : HighlightColors.single\n      };\n    }\n    if (((_a = this._hoveredModel) == null ? void 0 : _a.selector) === (model == null ? void 0 : model.selector))\n      return;\n    this._hoveredModel = model;\n    this._recorder.updateHighlight(model, true);\n  }\n  onMouseEnter(event) {\n    consumeEvent(event);\n  }\n  onMouseLeave(event) {\n    consumeEvent(event);\n    const window = this._recorder.injectedScript.window;\n    if (window.top !== window && this._recorder.deepEventTarget(event).nodeType === Node.DOCUMENT_NODE)\n      this._reset(true);\n  }\n  onKeyDown(event) {\n    consumeEvent(event);\n    if (event.key === "Escape") {\n      if (this._assertVisibility)\n        this._recorder.setMode("recording");\n    }\n  }\n  onKeyUp(event) {\n    consumeEvent(event);\n  }\n  onScroll(event) {\n    this._reset(false);\n  }\n  _commit(selector, model) {\n    var _a;\n    if (this._assertVisibility) {\n      this._recorder.recordAction({\n        name: "assertVisible",\n        selector,\n        signals: []\n      });\n      this._recorder.setMode("recording");\n      (_a = this._recorder.overlay) == null ? void 0 : _a.flashToolSucceeded("assertingVisibility");\n    } else {\n      this._recorder.elementPicked(selector, model);\n    }\n  }\n  _reset(userGesture) {\n    this._hoveredElement = null;\n    this._hoveredModel = null;\n    this._recorder.updateHighlight(null, userGesture);\n  }\n};\nvar RecordActionTool = class {\n  constructor(recorder) {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._activeModel = null;\n    this._expectProgrammaticKeyUp = false;\n    this._observer = null;\n    this._recorder = recorder;\n    this._performingActions = /* @__PURE__ */ new Set();\n    this._dialog = new Dialog(recorder);\n  }\n  cursor() {\n    return "pointer";\n  }\n  _installObserverIfNeeded() {\n    var _a;\n    if (this._observer)\n      return;\n    if (!((_a = this._recorder.injectedScript.document) == null ? void 0 : _a.body))\n      return;\n    this._observer = new MutationObserver((mutations) => {\n      if (!this._hoveredElement)\n        return;\n      for (const mutation of mutations) {\n        for (const node of mutation.removedNodes) {\n          if (node === this._hoveredElement || node.contains(this._hoveredElement))\n            this._resetHoveredModel();\n        }\n      }\n    });\n    this._observer.observe(this._recorder.injectedScript.document.body, { childList: true, subtree: true });\n  }\n  uninstall() {\n    var _a;\n    (_a = this._observer) == null ? void 0 : _a.disconnect();\n    this._observer = null;\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._activeModel = null;\n    this._expectProgrammaticKeyUp = false;\n    this._dialog.close();\n  }\n  onClick(event) {\n    if (this._dialog.isShowing()) {\n      if (event.button === 2 && event.type === "auxclick") {\n        consumeEvent(event);\n      }\n      return;\n    }\n    if (isRangeInput(this._hoveredElement))\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    if (event.button === 2 && event.type === "auxclick") {\n      this._showActionListDialog(this._hoveredModel, event);\n      return;\n    }\n    const checkbox = asCheckbox(this._recorder.deepEventTarget(event));\n    if (checkbox && event.detail === 1) {\n      this._performAction({\n        name: checkbox.checked ? "check" : "uncheck",\n        selector: this._hoveredModel.selector,\n        signals: []\n      });\n      return;\n    }\n    this._cancelPendingClickAction();\n    if (event.detail === 1) {\n      this._pendingClickAction = {\n        action: {\n          name: "click",\n          selector: this._hoveredModel.selector,\n          position: positionForEvent(event),\n          signals: [],\n          button: buttonForEvent(event),\n          modifiers: modifiersForEvent(event),\n          clickCount: event.detail\n        },\n        timeout: this._recorder.injectedScript.utils.builtins.setTimeout(() => this._commitPendingClickAction(), 200)\n      };\n    }\n  }\n  onDblClick(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (isRangeInput(this._hoveredElement))\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    this._cancelPendingClickAction();\n    this._performAction({\n      name: "click",\n      selector: this._hoveredModel.selector,\n      position: positionForEvent(event),\n      signals: [],\n      button: buttonForEvent(event),\n      modifiers: modifiersForEvent(event),\n      clickCount: event.detail\n    });\n  }\n  _commitPendingClickAction() {\n    if (this._pendingClickAction)\n      this._performAction(this._pendingClickAction.action);\n    this._cancelPendingClickAction();\n  }\n  _cancelPendingClickAction() {\n    if (this._pendingClickAction)\n      this._recorder.injectedScript.utils.builtins.clearTimeout(this._pendingClickAction.timeout);\n    this._pendingClickAction = void 0;\n  }\n  onContextMenu(event) {\n    if (this._dialog.isShowing()) {\n      consumeEvent(event);\n      return;\n    }\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    this._showActionListDialog(this._hoveredModel, event);\n  }\n  onPointerDown(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n  }\n  onPointerUp(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n  }\n  onMouseDown(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n    this._activeModel = this._hoveredModel;\n  }\n  onMouseUp(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n  }\n  onMouseMove(event) {\n    if (this._dialog.isShowing())\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (this._hoveredElement === target)\n      return;\n    this._hoveredElement = target;\n    this._updateModelForHoveredElement();\n  }\n  onMouseLeave(event) {\n    if (this._dialog.isShowing())\n      return;\n    const window = this._recorder.injectedScript.window;\n    if (window.top !== window && this._recorder.deepEventTarget(event).nodeType === Node.DOCUMENT_NODE) {\n      this._hoveredElement = null;\n      this._updateModelForHoveredElement();\n    }\n  }\n  onFocus(event) {\n    if (this._dialog.isShowing())\n      return;\n    this._onFocus(true);\n  }\n  onInput(event) {\n    if (this._dialog.isShowing())\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (target.nodeName === "INPUT" && target.type.toLowerCase() === "file") {\n      this._recordAction({\n        name: "setInputFiles",\n        selector: this._activeModel.selector,\n        signals: [],\n        files: [...target.files || []].map((file) => file.name)\n      });\n      return;\n    }\n    if (isRangeInput(target)) {\n      this._recordAction({\n        name: "fill",\n        // must use hoveredModel instead of activeModel for it to work in webkit\n        selector: this._hoveredModel.selector,\n        signals: [],\n        text: target.value\n      });\n      return;\n    }\n    if (["INPUT", "TEXTAREA"].includes(target.nodeName) || target.isContentEditable) {\n      if (target.nodeName === "INPUT" && ["checkbox", "radio"].includes(target.type.toLowerCase())) {\n        return;\n      }\n      if (this._consumedDueWrongTarget(event))\n        return;\n      this._recordAction({\n        name: "fill",\n        selector: this._activeModel.selector,\n        signals: [],\n        text: target.isContentEditable ? target.innerText : target.value\n      });\n    }\n    if (target.nodeName === "SELECT") {\n      const selectElement = target;\n      this._recordAction({\n        name: "select",\n        selector: this._activeModel.selector,\n        options: [...selectElement.selectedOptions].map((option) => option.value),\n        signals: []\n      });\n    }\n  }\n  onKeyDown(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    if (this._actionInProgress(event)) {\n      this._expectProgrammaticKeyUp = true;\n      return;\n    }\n    if (this._consumedDueWrongTarget(event))\n      return;\n    if (event.key === " ") {\n      const checkbox = asCheckbox(this._recorder.deepEventTarget(event));\n      if (checkbox && event.detail === 0) {\n        this._performAction({\n          name: checkbox.checked ? "uncheck" : "check",\n          selector: this._activeModel.selector,\n          signals: []\n        });\n        return;\n      }\n    }\n    this._performAction({\n      name: "press",\n      selector: this._activeModel.selector,\n      signals: [],\n      key: event.key,\n      modifiers: modifiersForEvent(event)\n    });\n  }\n  onKeyUp(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    if (!this._expectProgrammaticKeyUp) {\n      consumeEvent(event);\n      return;\n    }\n    this._expectProgrammaticKeyUp = false;\n  }\n  onScroll(event) {\n    if (this._dialog.isShowing())\n      return;\n    this._resetHoveredModel();\n  }\n  _showActionListDialog(model, event) {\n    consumeEvent(event);\n    const actionPosition = positionForEvent(event);\n    const actions = [\n      {\n        title: "Click",\n        cb: () => this._performAction({\n          name: "click",\n          selector: model.selector,\n          position: actionPosition,\n          signals: [],\n          button: "left",\n          modifiers: 0,\n          clickCount: 0\n        })\n      },\n      {\n        title: "Right click",\n        cb: () => this._performAction({\n          name: "click",\n          selector: model.selector,\n          position: actionPosition,\n          signals: [],\n          button: "right",\n          modifiers: 0,\n          clickCount: 0\n        })\n      },\n      {\n        title: "Double click",\n        cb: () => this._performAction({\n          name: "click",\n          selector: model.selector,\n          position: actionPosition,\n          signals: [],\n          button: "left",\n          modifiers: 0,\n          clickCount: 2\n        })\n      },\n      {\n        title: "Hover",\n        cb: () => this._performAction({\n          name: "hover",\n          selector: model.selector,\n          position: actionPosition,\n          signals: []\n        })\n      },\n      {\n        title: "Pick locator",\n        cb: () => this._recorder.elementPicked(model.selector, model)\n      }\n    ];\n    const listElement = this._recorder.document.createElement("x-pw-action-list");\n    listElement.setAttribute("role", "list");\n    listElement.setAttribute("aria-label", "Choose action");\n    for (const action of actions) {\n      const actionElement = this._recorder.document.createElement("x-pw-action-item");\n      actionElement.setAttribute("role", "listitem");\n      actionElement.textContent = action.title;\n      actionElement.setAttribute("aria-label", action.title);\n      actionElement.addEventListener("click", () => {\n        this._dialog.close();\n        action.cb();\n      });\n      listElement.appendChild(actionElement);\n    }\n    const dialogElement = this._dialog.show({\n      label: "Choose action",\n      body: listElement,\n      autosize: true\n    });\n    const anchorBox = this._recorder.highlight.firstTooltipBox() || model.elements[0].getBoundingClientRect();\n    const dialogPosition = this._recorder.highlight.tooltipPosition(anchorBox, dialogElement);\n    this._dialog.moveTo(dialogPosition.anchorTop, dialogPosition.anchorLeft);\n  }\n  _resetHoveredModel() {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._updateHighlight(false);\n  }\n  _onFocus(userGesture) {\n    const activeElement = deepActiveElement(this._recorder.document);\n    if (userGesture && activeElement === this._recorder.document.body)\n      return;\n    const result = activeElement ? this._recorder.injectedScript.generateSelector(activeElement, { testIdAttributeName: this._recorder.state.testIdAttributeName }) : null;\n    this._activeModel = result && result.selector ? { ...result, color: HighlightColors.action } : null;\n    if (userGesture) {\n      this._hoveredElement = activeElement;\n      this._updateModelForHoveredElement();\n    }\n  }\n  _shouldIgnoreMouseEvent(event) {\n    const target = this._recorder.deepEventTarget(event);\n    const nodeName = target.nodeName;\n    if (nodeName === "SELECT" || nodeName === "OPTION")\n      return true;\n    if (nodeName === "INPUT" && ["date", "range"].includes(target.type))\n      return true;\n    return false;\n  }\n  _actionInProgress(event) {\n    const isKeyEvent = event instanceof KeyboardEvent;\n    const isMouseOrPointerEvent = event instanceof MouseEvent || event instanceof PointerEvent;\n    for (const action of this._performingActions) {\n      if (isKeyEvent && action.name === "press" && event.key === action.key)\n        return true;\n      if (isMouseOrPointerEvent && (action.name === "click" || action.name === "hover" || action.name === "check" || action.name === "uncheck"))\n        return true;\n    }\n    consumeEvent(event);\n    return false;\n  }\n  _consumedDueToNoModel(event, model) {\n    if (model)\n      return false;\n    consumeEvent(event);\n    return true;\n  }\n  _consumedDueWrongTarget(event) {\n    if (this._activeModel && this._activeModel.elements[0] === this._recorder.deepEventTarget(event))\n      return false;\n    consumeEvent(event);\n    return true;\n  }\n  _consumeWhenAboutToPerform(event) {\n    if (!this._performingActions.size)\n      consumeEvent(event);\n  }\n  _recordAction(action) {\n    this._recorder.recordAction(action);\n  }\n  _performAction(action) {\n    this._recorder.updateHighlight(null, false);\n    this._performingActions.add(action);\n    const promise = this._recorder.performAction(action).then(() => {\n      this._performingActions.delete(action);\n      this._onFocus(false);\n    });\n    if (!this._recorder.injectedScript.isUnderTest)\n      return;\n    void promise.then(() => {\n      console.error("Action performed for test: " + JSON.stringify({\n        // eslint-disable-line no-console\n        hovered: this._hoveredModel ? this._hoveredModel.selector : null,\n        active: this._activeModel ? this._activeModel.selector : null\n      }));\n    });\n  }\n  _shouldGenerateKeyPressFor(event) {\n    if (typeof event.key !== "string")\n      return false;\n    if (event.key === "Enter" && (this._recorder.deepEventTarget(event).nodeName === "TEXTAREA" || this._recorder.deepEventTarget(event).isContentEditable))\n      return false;\n    if (["Backspace", "Delete", "AltGraph"].includes(event.key))\n      return false;\n    if (event.key === "@" && event.code === "KeyL")\n      return false;\n    if (navigator.platform.includes("Mac")) {\n      if (event.key === "v" && event.metaKey)\n        return false;\n    } else {\n      if (event.key === "v" && event.ctrlKey)\n        return false;\n      if (event.key === "Insert" && event.shiftKey)\n        return false;\n    }\n    if (["Shift", "Control", "Meta", "Alt", "Process"].includes(event.key))\n      return false;\n    const hasModifier = event.ctrlKey || event.altKey || event.metaKey;\n    if (event.key.length === 1 && !hasModifier)\n      return !!asCheckbox(this._recorder.deepEventTarget(event));\n    return true;\n  }\n  _updateModelForHoveredElement() {\n    this._installObserverIfNeeded();\n    if (this._performingActions.size)\n      return;\n    if (!this._hoveredElement || !this._hoveredElement.isConnected) {\n      this._hoveredModel = null;\n      this._hoveredElement = null;\n      this._updateHighlight(true);\n      return;\n    }\n    const { selector, elements } = this._recorder.injectedScript.generateSelector(this._hoveredElement, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n    if (this._hoveredModel && this._hoveredModel.selector === selector)\n      return;\n    this._hoveredModel = selector ? { selector, elements, color: HighlightColors.action } : null;\n    this._updateHighlight(true);\n  }\n  _updateHighlight(userGesture) {\n    this._recorder.updateHighlight(this._hoveredModel, userGesture);\n  }\n};\nvar JsonRecordActionTool = class {\n  constructor(recorder) {\n    this._recorder = recorder;\n  }\n  install() {\n    this._recorder.highlight.uninstall();\n  }\n  uninstall() {\n    this._recorder.highlight.install();\n  }\n  onClick(event) {\n    const element = this._recorder.deepEventTarget(event);\n    if (isRangeInput(element))\n      return;\n    if (event.button === 2 && event.type === "auxclick")\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    const checkbox = asCheckbox(element);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    if (checkbox && event.detail === 1) {\n      this._recorder.recordAction({\n        name: checkbox.checked ? "check" : "uncheck",\n        selector,\n        ref,\n        signals: [],\n        ariaSnapshot\n      });\n      return;\n    }\n    this._recorder.recordAction({\n      name: "click",\n      selector,\n      ref,\n      ariaSnapshot,\n      position: positionForEvent(event),\n      signals: [],\n      button: buttonForEvent(event),\n      modifiers: modifiersForEvent(event),\n      clickCount: event.detail\n    });\n  }\n  onContextMenu(event) {\n    const element = this._recorder.deepEventTarget(event);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    this._recorder.recordAction({\n      name: "click",\n      selector,\n      ref,\n      ariaSnapshot,\n      position: positionForEvent(event),\n      signals: [],\n      button: "right",\n      modifiers: modifiersForEvent(event),\n      clickCount: 1\n    });\n  }\n  onInput(event) {\n    const element = this._recorder.deepEventTarget(event);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    if (isRangeInput(element)) {\n      this._recorder.recordAction({\n        name: "fill",\n        selector,\n        ref,\n        ariaSnapshot,\n        signals: [],\n        text: element.value\n      });\n      return;\n    }\n    if (["INPUT", "TEXTAREA"].includes(element.nodeName) || element.isContentEditable) {\n      if (element.nodeName === "INPUT" && ["checkbox", "radio"].includes(element.type.toLowerCase())) {\n        return;\n      }\n      this._recorder.recordAction({\n        name: "fill",\n        ref,\n        selector,\n        ariaSnapshot,\n        signals: [],\n        text: element.isContentEditable ? element.innerText : element.value\n      });\n      return;\n    }\n    if (element.nodeName === "SELECT") {\n      const selectElement = element;\n      this._recorder.recordAction({\n        name: "select",\n        selector,\n        ref,\n        ariaSnapshot,\n        options: [...selectElement.selectedOptions].map((option) => option.value),\n        signals: []\n      });\n      return;\n    }\n  }\n  onKeyDown(event) {\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    const element = this._recorder.deepEventTarget(event);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    if (event.key === " ") {\n      const checkbox = asCheckbox(element);\n      if (checkbox && event.detail === 0) {\n        this._recorder.recordAction({\n          name: checkbox.checked ? "uncheck" : "check",\n          selector,\n          ref,\n          ariaSnapshot,\n          signals: []\n        });\n        return;\n      }\n    }\n    this._recorder.recordAction({\n      name: "press",\n      selector,\n      ref,\n      ariaSnapshot,\n      signals: [],\n      key: event.key,\n      modifiers: modifiersForEvent(event)\n    });\n  }\n  _shouldIgnoreMouseEvent(event) {\n    const target = this._recorder.deepEventTarget(event);\n    const nodeName = target.nodeName;\n    if (nodeName === "SELECT" || nodeName === "OPTION")\n      return true;\n    if (nodeName === "INPUT" && ["date", "range"].includes(target.type))\n      return true;\n    return false;\n  }\n  _shouldGenerateKeyPressFor(event) {\n    if (typeof event.key !== "string")\n      return false;\n    if (event.key === "Enter" && (this._recorder.deepEventTarget(event).nodeName === "TEXTAREA" || this._recorder.deepEventTarget(event).isContentEditable))\n      return false;\n    if (["Backspace", "Delete", "AltGraph"].includes(event.key))\n      return false;\n    if (event.key === "@" && event.code === "KeyL")\n      return false;\n    if (navigator.platform.includes("Mac")) {\n      if (event.key === "v" && event.metaKey)\n        return false;\n    } else {\n      if (event.key === "v" && event.ctrlKey)\n        return false;\n      if (event.key === "Insert" && event.shiftKey)\n        return false;\n    }\n    if (["Shift", "Control", "Meta", "Alt", "Process"].includes(event.key))\n      return false;\n    const hasModifier = event.ctrlKey || event.altKey || event.metaKey;\n    if (event.key.length === 1 && !hasModifier)\n      return !this._isEditable(this._recorder.deepEventTarget(event));\n    return true;\n  }\n  _isEditable(element) {\n    if (element.nodeName === "TEXTAREA" || element.nodeName === "INPUT")\n      return true;\n    if (element.isContentEditable)\n      return true;\n    return false;\n  }\n  _ariaSnapshot(element) {\n    const { ariaSnapshot, refs } = this._recorder.injectedScript.ariaSnapshotForRecorder();\n    const ref = element ? refs.get(element) : void 0;\n    const elementInfo = element ? this._recorder.injectedScript.generateSelector(element, { testIdAttributeName: this._recorder.state.testIdAttributeName }) : void 0;\n    return { ariaSnapshot, selector: elementInfo == null ? void 0 : elementInfo.selector, ref };\n  }\n};\nvar TextAssertionTool = class {\n  constructor(recorder, kind) {\n    this._hoverHighlight = null;\n    this._action = null;\n    this._recorder = recorder;\n    this._textCache = /* @__PURE__ */ new Map();\n    this._kind = kind;\n    this._dialog = new Dialog(recorder);\n  }\n  cursor() {\n    return "pointer";\n  }\n  uninstall() {\n    this._dialog.close();\n    this._hoverHighlight = null;\n  }\n  onClick(event) {\n    consumeEvent(event);\n    if (this._kind === "value") {\n      this._commitAssertValue();\n    } else {\n      if (!this._dialog.isShowing())\n        this._showDialog();\n    }\n  }\n  onMouseDown(event) {\n    const target = this._recorder.deepEventTarget(event);\n    if (this._elementHasValue(target))\n      event.preventDefault();\n  }\n  onPointerUp(event) {\n    var _a;\n    const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n    if (this._kind === "value" && target && (target.nodeName === "INPUT" || target.nodeName === "SELECT") && target.disabled) {\n      this._commitAssertValue();\n    }\n  }\n  onMouseMove(event) {\n    var _a;\n    if (this._dialog.isShowing())\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (((_a = this._hoverHighlight) == null ? void 0 : _a.elements[0]) === target)\n      return;\n    if (this._kind === "text" || this._kind === "snapshot") {\n      this._hoverHighlight = this._recorder.injectedScript.utils.elementText(this._textCache, target).full ? { elements: [target], selector: "", color: HighlightColors.assert } : null;\n    } else if (this._elementHasValue(target)) {\n      const generated = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n      this._hoverHighlight = { selector: generated.selector, elements: generated.elements, color: HighlightColors.assert };\n    } else {\n      this._hoverHighlight = null;\n    }\n    this._recorder.updateHighlight(this._hoverHighlight, true);\n  }\n  onKeyDown(event) {\n    if (event.key === "Escape")\n      this._recorder.setMode("recording");\n    consumeEvent(event);\n  }\n  onScroll(event) {\n    this._recorder.updateHighlight(this._hoverHighlight, false);\n  }\n  _elementHasValue(element) {\n    return element.nodeName === "TEXTAREA" || element.nodeName === "SELECT" || element.nodeName === "INPUT" && !["button", "image", "reset", "submit"].includes(element.type);\n  }\n  _generateAction() {\n    var _a;\n    this._textCache.clear();\n    const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n    if (!target)\n      return null;\n    if (this._kind === "value") {\n      if (!this._elementHasValue(target))\n        return null;\n      const { selector } = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n      if (target.nodeName === "INPUT" && ["checkbox", "radio"].includes(target.type.toLowerCase())) {\n        return {\n          name: "assertChecked",\n          selector,\n          signals: [],\n          // Interestingly, inputElement.checked is reversed inside this event handler.\n          checked: !target.checked\n        };\n      } else {\n        return {\n          name: "assertValue",\n          selector,\n          signals: [],\n          value: target.value\n        };\n      }\n    } else if (this._kind === "snapshot") {\n      const generated = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName, forTextExpect: true });\n      this._hoverHighlight = { selector: generated.selector, elements: generated.elements, color: HighlightColors.assert };\n      this._recorder.updateHighlight(this._hoverHighlight, true);\n      return {\n        name: "assertSnapshot",\n        selector: this._hoverHighlight.selector,\n        signals: [],\n        ariaSnapshot: this._recorder.injectedScript.ariaSnapshot(target, { mode: "codegen" })\n      };\n    } else {\n      const generated = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName, forTextExpect: true });\n      this._hoverHighlight = { selector: generated.selector, elements: generated.elements, color: HighlightColors.assert };\n      this._recorder.updateHighlight(this._hoverHighlight, true);\n      return {\n        name: "assertText",\n        selector: this._hoverHighlight.selector,\n        signals: [],\n        text: this._recorder.injectedScript.utils.elementText(this._textCache, target).normalized,\n        substring: true\n      };\n    }\n  }\n  _renderValue(action) {\n    if ((action == null ? void 0 : action.name) === "assertText")\n      return this._recorder.injectedScript.utils.normalizeWhiteSpace(action.text);\n    if ((action == null ? void 0 : action.name) === "assertChecked")\n      return String(action.checked);\n    if ((action == null ? void 0 : action.name) === "assertValue")\n      return action.value;\n    if ((action == null ? void 0 : action.name) === "assertSnapshot")\n      return action.ariaSnapshot;\n    return "";\n  }\n  _commit() {\n    if (!this._action || !this._dialog.isShowing())\n      return;\n    this._dialog.close();\n    this._recorder.recordAction(this._action);\n    this._recorder.setMode("recording");\n  }\n  _showDialog() {\n    var _a, _b, _c, _d;\n    if (!((_a = this._hoverHighlight) == null ? void 0 : _a.elements[0]))\n      return;\n    this._action = this._generateAction();\n    if (((_b = this._action) == null ? void 0 : _b.name) === "assertText") {\n      this._showTextDialog(this._action);\n    } else if (((_c = this._action) == null ? void 0 : _c.name) === "assertSnapshot") {\n      this._recorder.recordAction(this._action);\n      this._recorder.setMode("recording");\n      (_d = this._recorder.overlay) == null ? void 0 : _d.flashToolSucceeded("assertingSnapshot");\n    }\n  }\n  _showTextDialog(action) {\n    const textElement = this._recorder.document.createElement("textarea");\n    textElement.setAttribute("spellcheck", "false");\n    textElement.value = this._renderValue(action);\n    textElement.classList.add("text-editor");\n    const updateAndValidate = () => {\n      var _a;\n      const newValue = this._recorder.injectedScript.utils.normalizeWhiteSpace(textElement.value);\n      const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n      if (!target)\n        return;\n      action.text = newValue;\n      const targetText = this._recorder.injectedScript.utils.elementText(this._textCache, target).normalized;\n      const matches = newValue && targetText.includes(newValue);\n      textElement.classList.toggle("does-not-match", !matches);\n    };\n    textElement.addEventListener("input", updateAndValidate);\n    const label = "Assert that element contains text";\n    const dialogElement = this._dialog.show({\n      label,\n      body: textElement,\n      onCommit: () => this._commit()\n    });\n    const position = this._recorder.highlight.tooltipPosition(this._recorder.highlight.firstBox(), dialogElement);\n    this._dialog.moveTo(position.anchorTop, position.anchorLeft);\n    textElement.focus();\n  }\n  _commitAssertValue() {\n    var _a;\n    if (this._kind !== "value")\n      return;\n    const action = this._generateAction();\n    if (!action)\n      return;\n    this._recorder.recordAction(action);\n    this._recorder.setMode("recording");\n    (_a = this._recorder.overlay) == null ? void 0 : _a.flashToolSucceeded("assertingValue");\n  }\n};\nvar Overlay = class {\n  constructor(recorder) {\n    this._listeners = [];\n    this._offsetX = 0;\n    this._measure = { width: 0, height: 0 };\n    this._recorder = recorder;\n    const document = this._recorder.document;\n    this._overlayElement = document.createElement("x-pw-overlay");\n    const toolsListElement = document.createElement("x-pw-tools-list");\n    this._overlayElement.appendChild(toolsListElement);\n    this._dragHandle = document.createElement("x-pw-tool-gripper");\n    this._dragHandle.appendChild(document.createElement("x-div"));\n    toolsListElement.appendChild(this._dragHandle);\n    this._recordToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._recordToggle.title = "Record";\n    this._recordToggle.classList.add("record");\n    this._recordToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._recordToggle);\n    this._pickLocatorToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._pickLocatorToggle.title = "Pick locator";\n    this._pickLocatorToggle.classList.add("pick-locator");\n    this._pickLocatorToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._pickLocatorToggle);\n    this._assertVisibilityToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertVisibilityToggle.title = "Assert visibility";\n    this._assertVisibilityToggle.classList.add("visibility");\n    this._assertVisibilityToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertVisibilityToggle);\n    this._assertTextToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertTextToggle.title = "Assert text";\n    this._assertTextToggle.classList.add("text");\n    this._assertTextToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertTextToggle);\n    this._assertValuesToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertValuesToggle.title = "Assert value";\n    this._assertValuesToggle.classList.add("value");\n    this._assertValuesToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertValuesToggle);\n    this._assertSnapshotToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertSnapshotToggle.title = "Assert snapshot";\n    this._assertSnapshotToggle.classList.add("snapshot");\n    this._assertSnapshotToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertSnapshotToggle);\n    this._updateVisualPosition();\n    this._refreshListeners();\n  }\n  _refreshListeners() {\n    removeEventListeners(this._listeners);\n    this._listeners = [\n      addEventListener(this._dragHandle, "mousedown", (event) => {\n        this._dragState = { offsetX: this._offsetX, dragStart: { x: event.clientX, y: 0 } };\n      }),\n      addEventListener(this._recordToggle, "click", () => {\n        if (this._recordToggle.classList.contains("disabled"))\n          return;\n        this._recorder.setMode(this._recorder.state.mode === "none" || this._recorder.state.mode === "standby" || this._recorder.state.mode === "inspecting" ? "recording" : "standby");\n      }),\n      addEventListener(this._pickLocatorToggle, "click", () => {\n        if (this._pickLocatorToggle.classList.contains("disabled"))\n          return;\n        const newMode = {\n          "inspecting": "standby",\n          "none": "inspecting",\n          "standby": "inspecting",\n          "recording": "recording-inspecting",\n          "recording-inspecting": "recording",\n          "assertingText": "recording-inspecting",\n          "assertingVisibility": "recording-inspecting",\n          "assertingValue": "recording-inspecting",\n          "assertingSnapshot": "recording-inspecting"\n        };\n        this._recorder.setMode(newMode[this._recorder.state.mode]);\n      }),\n      addEventListener(this._assertVisibilityToggle, "click", () => {\n        if (!this._assertVisibilityToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingVisibility" ? "recording" : "assertingVisibility");\n      }),\n      addEventListener(this._assertTextToggle, "click", () => {\n        if (!this._assertTextToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingText" ? "recording" : "assertingText");\n      }),\n      addEventListener(this._assertValuesToggle, "click", () => {\n        if (!this._assertValuesToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingValue" ? "recording" : "assertingValue");\n      }),\n      addEventListener(this._assertSnapshotToggle, "click", () => {\n        if (!this._assertSnapshotToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingSnapshot" ? "recording" : "assertingSnapshot");\n      })\n    ];\n  }\n  install() {\n    this._recorder.highlight.appendChild(this._overlayElement);\n    this._refreshListeners();\n    this._updateVisualPosition();\n  }\n  contains(element) {\n    return this._recorder.injectedScript.utils.isInsideScope(this._overlayElement, element);\n  }\n  setUIState(state) {\n    const isRecording = state.mode === "recording" || state.mode === "assertingText" || state.mode === "assertingVisibility" || state.mode === "assertingValue" || state.mode === "assertingSnapshot" || state.mode === "recording-inspecting";\n    this._recordToggle.classList.toggle("toggled", isRecording);\n    this._recordToggle.title = isRecording ? "Stop Recording" : "Start Recording";\n    this._pickLocatorToggle.classList.toggle("toggled", state.mode === "inspecting" || state.mode === "recording-inspecting");\n    this._assertVisibilityToggle.classList.toggle("toggled", state.mode === "assertingVisibility");\n    this._assertVisibilityToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertTextToggle.classList.toggle("toggled", state.mode === "assertingText");\n    this._assertTextToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertValuesToggle.classList.toggle("toggled", state.mode === "assertingValue");\n    this._assertValuesToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertSnapshotToggle.classList.toggle("toggled", state.mode === "assertingSnapshot");\n    this._assertSnapshotToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    if (this._offsetX !== state.overlay.offsetX) {\n      this._offsetX = state.overlay.offsetX;\n      this._updateVisualPosition();\n    }\n    if (state.mode === "none")\n      this._hideOverlay();\n    else\n      this._showOverlay();\n  }\n  flashToolSucceeded(tool) {\n    let element;\n    if (tool === "assertingVisibility")\n      element = this._assertVisibilityToggle;\n    else if (tool === "assertingSnapshot")\n      element = this._assertSnapshotToggle;\n    else\n      element = this._assertValuesToggle;\n    element.classList.add("succeeded");\n    this._recorder.injectedScript.utils.builtins.setTimeout(() => element.classList.remove("succeeded"), 2e3);\n  }\n  _hideOverlay() {\n    this._overlayElement.setAttribute("hidden", "true");\n  }\n  _showOverlay() {\n    if (!this._overlayElement.hasAttribute("hidden"))\n      return;\n    this._overlayElement.removeAttribute("hidden");\n    this._updateVisualPosition();\n  }\n  _updateVisualPosition() {\n    this._measure = this._overlayElement.getBoundingClientRect();\n    this._overlayElement.style.left = (this._recorder.injectedScript.window.innerWidth - this._measure.width) / 2 + this._offsetX + "px";\n  }\n  onMouseMove(event) {\n    if (!event.buttons) {\n      this._dragState = void 0;\n      return false;\n    }\n    if (this._dragState) {\n      this._offsetX = this._dragState.offsetX + event.clientX - this._dragState.dragStart.x;\n      const halfGapSize = (this._recorder.injectedScript.window.innerWidth - this._measure.width) / 2 - 10;\n      this._offsetX = Math.max(-halfGapSize, Math.min(halfGapSize, this._offsetX));\n      this._updateVisualPosition();\n      this._recorder.setOverlayState({ offsetX: this._offsetX });\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onMouseUp(event) {\n    if (this._dragState) {\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onClick(event) {\n    if (this._dragState) {\n      this._dragState = void 0;\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onDblClick(event) {\n    return false;\n  }\n};\nvar Recorder = class {\n  constructor(injectedScript, options) {\n    this._listeners = [];\n    this._lastHighlightedSelector = void 0;\n    this._lastHighlightedAriaTemplateJSON = "undefined";\n    this.state = {\n      mode: "none",\n      testIdAttributeName: "data-testid",\n      language: "javascript",\n      overlay: { offsetX: 0 }\n    };\n    this._delegate = {};\n    var _a, _b;\n    this.document = injectedScript.document;\n    this.injectedScript = injectedScript;\n    this.highlight = injectedScript.createHighlight();\n    this._tools = {\n      "none": new NoneTool(),\n      "standby": new NoneTool(),\n      "inspecting": new InspectTool(this, false),\n      "recording": (options == null ? void 0 : options.recorderMode) === "api" ? new JsonRecordActionTool(this) : new RecordActionTool(this),\n      "recording-inspecting": new InspectTool(this, false),\n      "assertingText": new TextAssertionTool(this, "text"),\n      "assertingVisibility": new InspectTool(this, true),\n      "assertingValue": new TextAssertionTool(this, "value"),\n      "assertingSnapshot": new TextAssertionTool(this, "snapshot")\n    };\n    this._currentTool = this._tools.none;\n    (_b = (_a = this._currentTool).install) == null ? void 0 : _b.call(_a);\n    if (injectedScript.window.top === injectedScript.window) {\n      this.overlay = new Overlay(this);\n      this.overlay.setUIState(this.state);\n    }\n    this._stylesheet = new injectedScript.window.CSSStyleSheet();\n    this._stylesheet.replaceSync(`\n      body[data-pw-cursor=pointer] *, body[data-pw-cursor=pointer] *::after { cursor: pointer !important; }\n      body[data-pw-cursor=text] *, body[data-pw-cursor=text] *::after { cursor: text !important; }\n    `);\n    this.installListeners();\n    injectedScript.utils.cacheNormalizedWhitespaces();\n    if (injectedScript.isUnderTest)\n      console.error("Recorder script ready for test");\n    injectedScript.consoleApi.install();\n  }\n  installListeners() {\n    var _a, _b, _c;\n    removeEventListeners(this._listeners);\n    this._listeners = [\n      addEventListener(this.document, "click", (event) => this._onClick(event), true),\n      addEventListener(this.document, "auxclick", (event) => this._onClick(event), true),\n      addEventListener(this.document, "dblclick", (event) => this._onDblClick(event), true),\n      addEventListener(this.document, "contextmenu", (event) => this._onContextMenu(event), true),\n      addEventListener(this.document, "dragstart", (event) => this._onDragStart(event), true),\n      addEventListener(this.document, "input", (event) => this._onInput(event), true),\n      addEventListener(this.document, "keydown", (event) => this._onKeyDown(event), true),\n      addEventListener(this.document, "keyup", (event) => this._onKeyUp(event), true),\n      addEventListener(this.document, "pointerdown", (event) => this._onPointerDown(event), true),\n      addEventListener(this.document, "pointerup", (event) => this._onPointerUp(event), true),\n      addEventListener(this.document, "mousedown", (event) => this._onMouseDown(event), true),\n      addEventListener(this.document, "mouseup", (event) => this._onMouseUp(event), true),\n      addEventListener(this.document, "mousemove", (event) => this._onMouseMove(event), true),\n      addEventListener(this.document, "mouseleave", (event) => this._onMouseLeave(event), true),\n      addEventListener(this.document, "mouseenter", (event) => this._onMouseEnter(event), true),\n      addEventListener(this.document, "focus", (event) => this._onFocus(event), true),\n      addEventListener(this.document, "scroll", (event) => this._onScroll(event), true)\n    ];\n    this.highlight.install();\n    let recreationInterval;\n    const recreate = () => {\n      this.highlight.install();\n      recreationInterval = this.injectedScript.utils.builtins.setTimeout(recreate, 500);\n    };\n    recreationInterval = this.injectedScript.utils.builtins.setTimeout(recreate, 500);\n    this._listeners.push(() => this.injectedScript.utils.builtins.clearTimeout(recreationInterval));\n    this.highlight.appendChild(createSvgElement(this.document, clipPaths_default));\n    (_a = this.overlay) == null ? void 0 : _a.install();\n    (_c = (_b = this._currentTool) == null ? void 0 : _b.install) == null ? void 0 : _c.call(_b);\n    this.document.adoptedStyleSheets.push(this._stylesheet);\n  }\n  _switchCurrentTool() {\n    var _a, _b, _c, _d, _e, _f;\n    const newTool = this._tools[this.state.mode];\n    if (newTool === this._currentTool)\n      return;\n    (_b = (_a = this._currentTool).uninstall) == null ? void 0 : _b.call(_a);\n    this.clearHighlight();\n    this._currentTool = newTool;\n    (_d = (_c = this._currentTool).install) == null ? void 0 : _d.call(_c);\n    const cursor = (_e = newTool.cursor) == null ? void 0 : _e.call(newTool);\n    if (cursor)\n      (_f = this.injectedScript.document.body) == null ? void 0 : _f.setAttribute("data-pw-cursor", cursor);\n  }\n  setUIState(state, delegate) {\n    var _a;\n    this._delegate = delegate;\n    if (state.actionPoint && this.state.actionPoint && state.actionPoint.x === this.state.actionPoint.x && state.actionPoint.y === this.state.actionPoint.y) {\n    } else if (!state.actionPoint && !this.state.actionPoint) {\n    } else {\n      if (state.actionPoint)\n        this.highlight.showActionPoint(state.actionPoint.x, state.actionPoint.y);\n      else\n        this.highlight.hideActionPoint();\n    }\n    this.state = state;\n    this.highlight.setLanguage(state.language);\n    this._switchCurrentTool();\n    (_a = this.overlay) == null ? void 0 : _a.setUIState(state);\n    let highlight = "noop";\n    if (state.actionSelector !== this._lastHighlightedSelector) {\n      const entries = state.actionSelector ? entriesForSelectorHighlight(this.injectedScript, state.language, state.actionSelector, this.document) : null;\n      highlight = (entries == null ? void 0 : entries.length) ? entries : "clear";\n      this._lastHighlightedSelector = (entries == null ? void 0 : entries.length) ? state.actionSelector : void 0;\n    }\n    const ariaTemplateJSON = JSON.stringify(state.ariaTemplate);\n    if (this._lastHighlightedAriaTemplateJSON !== ariaTemplateJSON) {\n      const elements = state.ariaTemplate ? this.injectedScript.getAllElementsMatchingExpectAriaTemplate(this.document, state.ariaTemplate) : [];\n      if (elements.length) {\n        const color = elements.length > 1 ? HighlightColors.multiple : HighlightColors.single;\n        highlight = elements.map((element) => ({ element, color }));\n        this._lastHighlightedAriaTemplateJSON = ariaTemplateJSON;\n      } else {\n        if (!this._lastHighlightedSelector)\n          highlight = "clear";\n        this._lastHighlightedAriaTemplateJSON = "undefined";\n      }\n    }\n    if (highlight === "clear")\n      this.highlight.clearHighlight();\n    else if (highlight !== "noop")\n      this.highlight.updateHighlight(highlight);\n  }\n  clearHighlight() {\n    this.updateHighlight(null, false);\n  }\n  _onClick(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onClick(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onClick) == null ? void 0 : _c.call(_b, event);\n  }\n  _onDblClick(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onDblClick(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onDblClick) == null ? void 0 : _c.call(_b, event);\n  }\n  _onContextMenu(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    (_b = (_a = this._currentTool).onContextMenu) == null ? void 0 : _b.call(_a, event);\n  }\n  _onDragStart(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onDragStart) == null ? void 0 : _b.call(_a, event);\n  }\n  _onPointerDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onPointerDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onPointerUp(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onPointerUp) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseUp(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onMouseUp(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onMouseUp) == null ? void 0 : _c.call(_b, event);\n  }\n  _onMouseMove(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onMouseMove(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onMouseMove) == null ? void 0 : _c.call(_b, event);\n  }\n  _onMouseEnter(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseEnter) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseLeave(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseLeave) == null ? void 0 : _b.call(_a, event);\n  }\n  _onFocus(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onFocus) == null ? void 0 : _b.call(_a, event);\n  }\n  _onScroll(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    this._lastHighlightedSelector = void 0;\n    this._lastHighlightedAriaTemplateJSON = "undefined";\n    this.highlight.hideActionPoint();\n    (_b = (_a = this._currentTool).onScroll) == null ? void 0 : _b.call(_a, event);\n  }\n  _onInput(event) {\n    var _a, _b;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onInput) == null ? void 0 : _b.call(_a, event);\n  }\n  _onKeyDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onKeyDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onKeyUp(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onKeyUp) == null ? void 0 : _b.call(_a, event);\n  }\n  updateHighlight(model, userGesture) {\n    this._lastHighlightedSelector = void 0;\n    this._lastHighlightedAriaTemplateJSON = "undefined";\n    this._updateHighlight(model, userGesture);\n  }\n  _updateHighlight(model, userGesture) {\n    var _a, _b;\n    let tooltipText = model == null ? void 0 : model.tooltipText;\n    if (tooltipText === void 0 && (model == null ? void 0 : model.selector))\n      tooltipText = this.injectedScript.utils.asLocator(this.state.language, model.selector);\n    if (model)\n      this.highlight.updateHighlight(model.elements.map((element) => ({ element, color: model.color, tooltipText })));\n    else\n      this.highlight.clearHighlight();\n    if (userGesture)\n      (_b = (_a = this._delegate).highlightUpdated) == null ? void 0 : _b.call(_a);\n  }\n  _ignoreOverlayEvent(event) {\n    return event.composedPath().some((e) => {\n      const nodeName = e.nodeName || "";\n      return nodeName.toLowerCase() === "x-pw-glass";\n    });\n  }\n  deepEventTarget(event) {\n    var _a;\n    for (const element of event.composedPath()) {\n      if (!((_a = this.overlay) == null ? void 0 : _a.contains(element)))\n        return element;\n    }\n    return event.composedPath()[0];\n  }\n  setMode(mode) {\n    var _a, _b;\n    void ((_b = (_a = this._delegate).setMode) == null ? void 0 : _b.call(_a, mode));\n  }\n  _captureAutoExpectSnapshot() {\n    const documentElement = this.injectedScript.document.documentElement;\n    return documentElement ? this.injectedScript.utils.generateAriaTree(documentElement, { mode: "autoexpect" }) : void 0;\n  }\n  async performAction(action) {\n    var _a, _b;\n    const previousSnapshot = this._lastActionAutoexpectSnapshot;\n    this._lastActionAutoexpectSnapshot = this._captureAutoExpectSnapshot();\n    if (!isAssertAction(action) && this._lastActionAutoexpectSnapshot) {\n      const element = findNewElement(previousSnapshot, this._lastActionAutoexpectSnapshot);\n      action.preconditionSelector = element ? this.injectedScript.generateSelector(element, { testIdAttributeName: this.state.testIdAttributeName }).selector : void 0;\n      if (action.preconditionSelector === action.selector)\n        action.preconditionSelector = void 0;\n    }\n    await ((_b = (_a = this._delegate).performAction) == null ? void 0 : _b.call(_a, action).catch(() => {\n    }));\n  }\n  recordAction(action) {\n    var _a, _b;\n    this._lastActionAutoexpectSnapshot = this._captureAutoExpectSnapshot();\n    void ((_b = (_a = this._delegate).recordAction) == null ? void 0 : _b.call(_a, action));\n  }\n  setOverlayState(state) {\n    var _a, _b;\n    void ((_b = (_a = this._delegate).setOverlayState) == null ? void 0 : _b.call(_a, state));\n  }\n  elementPicked(selector, model) {\n    var _a, _b;\n    const ariaSnapshot = this.injectedScript.ariaSnapshot(model.elements[0], { mode: "expect" });\n    void ((_b = (_a = this._delegate).elementPicked) == null ? void 0 : _b.call(_a, { selector, ariaSnapshot }));\n  }\n};\nvar Dialog = class {\n  constructor(recorder) {\n    this._dialogElement = null;\n    this._recorder = recorder;\n  }\n  isShowing() {\n    return !!this._dialogElement;\n  }\n  show(options) {\n    const acceptButton = this._recorder.document.createElement("x-pw-tool-item");\n    acceptButton.title = "Accept";\n    acceptButton.classList.add("accept");\n    acceptButton.appendChild(this._recorder.document.createElement("x-div"));\n    acceptButton.addEventListener("click", () => {\n      var _a;\n      return (_a = options.onCommit) == null ? void 0 : _a.call(options);\n    });\n    const cancelButton = this._recorder.document.createElement("x-pw-tool-item");\n    cancelButton.title = "Close";\n    cancelButton.classList.add("cancel");\n    cancelButton.appendChild(this._recorder.document.createElement("x-div"));\n    cancelButton.addEventListener("click", () => {\n      var _a;\n      this.close();\n      (_a = options.onCancel) == null ? void 0 : _a.call(options);\n    });\n    this._dialogElement = this._recorder.document.createElement("x-pw-dialog");\n    if (options.autosize)\n      this._dialogElement.classList.add("autosize");\n    this._keyboardListener = (event) => {\n      var _a;\n      if (event.key === "Escape") {\n        this.close();\n        (_a = options.onCancel) == null ? void 0 : _a.call(options);\n        return;\n      }\n      if (options.onCommit && event.key === "Enter" && (event.ctrlKey || event.metaKey)) {\n        if (this._dialogElement)\n          options.onCommit();\n        return;\n      }\n    };\n    this._onGlassPaneClickHandler = (event) => {\n      var _a;\n      this.close();\n      (_a = options.onCancel) == null ? void 0 : _a.call(options);\n    };\n    this._dialogElement.addEventListener("click", (event) => event.stopPropagation());\n    const toolbarElement = this._recorder.document.createElement("x-pw-tools-list");\n    const labelElement = this._recorder.document.createElement("label");\n    labelElement.textContent = options.label;\n    toolbarElement.appendChild(labelElement);\n    toolbarElement.appendChild(this._recorder.document.createElement("x-spacer"));\n    if (options.onCommit)\n      toolbarElement.appendChild(acceptButton);\n    toolbarElement.appendChild(cancelButton);\n    this._dialogElement.appendChild(toolbarElement);\n    const bodyElement = this._recorder.document.createElement("x-pw-dialog-body");\n    bodyElement.appendChild(options.body);\n    this._dialogElement.appendChild(bodyElement);\n    this._recorder.highlight.appendChild(this._dialogElement);\n    this._recorder.highlight.onGlassPaneClick(this._onGlassPaneClickHandler);\n    this._recorder.document.addEventListener("keydown", this._keyboardListener, true);\n    return this._dialogElement;\n  }\n  moveTo(top, left) {\n    if (!this._dialogElement)\n      return;\n    this._dialogElement.style.top = top + "px";\n    this._dialogElement.style.left = left + "px";\n  }\n  close() {\n    if (!this._dialogElement)\n      return;\n    this._dialogElement.remove();\n    this._recorder.highlight.offGlassPaneClick(this._onGlassPaneClickHandler);\n    this._recorder.document.removeEventListener("keydown", this._keyboardListener);\n    this._dialogElement = null;\n  }\n};\nfunction deepActiveElement(document) {\n  let activeElement = document.activeElement;\n  while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n    activeElement = activeElement.shadowRoot.activeElement;\n  return activeElement;\n}\nfunction modifiersForEvent(event) {\n  return (event.altKey ? 1 : 0) | (event.ctrlKey ? 2 : 0) | (event.metaKey ? 4 : 0) | (event.shiftKey ? 8 : 0);\n}\nfunction buttonForEvent(event) {\n  switch (event.which) {\n    case 1:\n      return "left";\n    case 2:\n      return "middle";\n    case 3:\n      return "right";\n  }\n  return "left";\n}\nfunction positionForEvent(event) {\n  const targetElement = event.target;\n  if (targetElement.nodeName !== "CANVAS")\n    return;\n  return {\n    x: event.offsetX,\n    y: event.offsetY\n  };\n}\nfunction consumeEvent(e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n}\nfunction asCheckbox(node) {\n  if (!node || node.nodeName !== "INPUT")\n    return null;\n  const inputElement = node;\n  return ["checkbox", "radio"].includes(inputElement.type) ? inputElement : null;\n}\nfunction isRangeInput(node) {\n  if (!node || node.nodeName !== "INPUT")\n    return false;\n  const inputElement = node;\n  return inputElement.type.toLowerCase() === "range";\n}\nfunction addEventListener(target, eventName, listener, useCapture) {\n  target.addEventListener(eventName, listener, useCapture);\n  const remove = () => {\n    target.removeEventListener(eventName, listener, useCapture);\n  };\n  return remove;\n}\nfunction removeEventListeners(listeners) {\n  for (const listener of listeners)\n    listener();\n  listeners.splice(0, listeners.length);\n}\nfunction entriesForSelectorHighlight(injectedScript, language, selector, ownerDocument) {\n  try {\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const elements = injectedScript.querySelectorAll(parsedSelector, ownerDocument);\n    const color = elements.length > 1 ? HighlightColors.multiple : HighlightColors.single;\n    const locator = injectedScript.utils.asLocator(language, selector);\n    return elements.map((element, index) => {\n      const suffix = elements.length > 1 ? ` [${index + 1} of ${elements.length}]` : "";\n      return { element, color, tooltipText: locator + suffix };\n    });\n  } catch (e) {\n    return [];\n  }\n}\nfunction createSvgElement(doc, { tagName, attrs, children }) {\n  const elem = doc.createElementNS("http://www.w3.org/2000/svg", tagName);\n  if (attrs) {\n    for (const [k, v] of Object.entries(attrs))\n      elem.setAttribute(k, v);\n  }\n  if (children) {\n    for (const c of children)\n      elem.appendChild(createSvgElement(doc, c));\n  }\n  return elem;\n}\nfunction isAssertAction(action) {\n  return action.name.startsWith("assert");\n}\nfunction findNewElement(from, to) {\n  var _a, _b;\n  function fillMap(root, map, position) {\n    let size = 1;\n    let childPosition = position + size;\n    for (const child of root.children || []) {\n      if (typeof child === "string") {\n        size++;\n        childPosition++;\n      } else {\n        size += fillMap(child, map, childPosition);\n        childPosition += size;\n      }\n    }\n    if (!["none", "presentation", "fragment", "iframe", "generic"].includes(root.role) && root.name) {\n      let byRole = map.get(root.role);\n      if (!byRole) {\n        byRole = /* @__PURE__ */ new Map();\n        map.set(root.role, byRole);\n      }\n      const existing = byRole.get(root.name);\n      const sizeAndPosition = size * 100 - position;\n      if (!existing || existing.sizeAndPosition < sizeAndPosition)\n        byRole.set(root.name, { node: root, sizeAndPosition });\n    }\n    return size;\n  }\n  const fromMap = /* @__PURE__ */ new Map();\n  if (from)\n    fillMap(from.root, fromMap, 0);\n  const toMap = /* @__PURE__ */ new Map();\n  fillMap(to.root, toMap, 0);\n  const result = [];\n  for (const [role, byRole] of toMap) {\n    for (const [name, byName] of byRole) {\n      const inFrom = (_a = fromMap.get(role)) == null ? void 0 : _a.get(name);\n      if (!inFrom)\n        result.push(byName);\n    }\n  }\n  result.sort((a, b) => b.sizeAndPosition - a.sizeAndPosition);\n  return (_b = result[0]) == null ? void 0 : _b.node.element;\n}\n\n// packages/injected/src/recorder/pollingRecorder.ts\nvar PollingRecorder = class {\n  constructor(injectedScript, options) {\n    this._recorder = new Recorder(injectedScript, options);\n    this._embedder = injectedScript.window;\n    injectedScript.onGlobalListenersRemoved.add(() => this._recorder.installListeners());\n    const refreshOverlay = () => {\n      this._lastStateJSON = void 0;\n      this._pollRecorderMode().catch((e) => console.log(e));\n    };\n    this._embedder.__pw_refreshOverlay = refreshOverlay;\n    refreshOverlay();\n  }\n  async _pollRecorderMode() {\n    const pollPeriod = 1e3;\n    if (this._pollRecorderModeTimer)\n      this._recorder.injectedScript.utils.builtins.clearTimeout(this._pollRecorderModeTimer);\n    const state = await this._embedder.__pw_recorderState().catch(() => null);\n    if (!state) {\n      this._pollRecorderModeTimer = this._recorder.injectedScript.utils.builtins.setTimeout(() => this._pollRecorderMode(), pollPeriod);\n      return;\n    }\n    const stringifiedState = JSON.stringify(state);\n    if (this._lastStateJSON !== stringifiedState) {\n      this._lastStateJSON = stringifiedState;\n      const win = this._recorder.document.defaultView;\n      if (win.top !== win) {\n        state.actionPoint = void 0;\n      }\n      this._recorder.setUIState(state, this);\n    }\n    this._pollRecorderModeTimer = this._recorder.injectedScript.utils.builtins.setTimeout(() => this._pollRecorderMode(), pollPeriod);\n  }\n  async performAction(action) {\n    await this._embedder.__pw_recorderPerformAction(action);\n  }\n  async recordAction(action) {\n    await this._embedder.__pw_recorderRecordAction(action);\n  }\n  async elementPicked(elementInfo) {\n    await this._embedder.__pw_recorderElementPicked(elementInfo);\n  }\n  async setMode(mode) {\n    await this._embedder.__pw_recorderSetMode(mode);\n  }\n  async setOverlayState(state) {\n    await this._embedder.__pw_recorderSetOverlayState(state);\n  }\n};\nvar pollingRecorder_default = PollingRecorder;\n';0&&0},9419:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{source:()=>Qe});b.exports=__toCommonJS(oe);const Qe='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/storageScript.ts\nvar storageScript_exports = {};\n__export(storageScript_exports, {\n  StorageScript: () => StorageScript\n});\nmodule.exports = __toCommonJS(storageScript_exports);\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction base64ToTypedArray(base64, TypedArrayConstructor) {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++)\n    bytes[i] = binary.charCodeAt(i);\n  return new TypedArrayConstructor(bytes.buffer);\n}\nfunction parseEvaluationResultValue(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n  if (Object.is(value, void 0))\n    return void 0;\n  if (typeof value === "object" && value) {\n    if ("ref" in value)\n      return refs.get(value.ref);\n    if ("v" in value) {\n      if (value.v === "undefined")\n        return void 0;\n      if (value.v === "null")\n        return null;\n      if (value.v === "NaN")\n        return NaN;\n      if (value.v === "Infinity")\n        return Infinity;\n      if (value.v === "-Infinity")\n        return -Infinity;\n      if (value.v === "-0")\n        return -0;\n      return void 0;\n    }\n    if ("d" in value) {\n      return new Date(value.d);\n    }\n    if ("u" in value)\n      return new URL(value.u);\n    if ("bi" in value)\n      return BigInt(value.bi);\n    if ("e" in value) {\n      const error = new Error(value.e.m);\n      error.name = value.e.n;\n      error.stack = value.e.s;\n      return error;\n    }\n    if ("r" in value)\n      return new RegExp(value.r.p, value.r.f);\n    if ("a" in value) {\n      const result = [];\n      refs.set(value.id, result);\n      for (const a of value.a)\n        result.push(parseEvaluationResultValue(a, handles, refs));\n      return result;\n    }\n    if ("o" in value) {\n      const result = {};\n      refs.set(value.id, result);\n      for (const { k, v } of value.o) {\n        if (k === "__proto__")\n          continue;\n        result[k] = parseEvaluationResultValue(v, handles, refs);\n      }\n      return result;\n    }\n    if ("h" in value)\n      return handles[value.h];\n    if ("ta" in value)\n      return base64ToTypedArray(value.ta.b, typedArrayConstructors[value.ta.k]);\n  }\n  return value;\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/storageScript.ts\nvar StorageScript = class {\n  constructor(isFirefox) {\n    this._isFirefox = isFirefox;\n    this._global = globalThis;\n  }\n  _idbRequestToPromise(request) {\n    return new Promise((resolve, reject) => {\n      request.addEventListener("success", () => resolve(request.result));\n      request.addEventListener("error", () => reject(request.error));\n    });\n  }\n  _isPlainObject(v) {\n    const ctor = v == null ? void 0 : v.constructor;\n    if (this._isFirefox) {\n      const constructorImpl = ctor == null ? void 0 : ctor.toString();\n      if ((constructorImpl == null ? void 0 : constructorImpl.startsWith("function Object() {")) && (constructorImpl == null ? void 0 : constructorImpl.includes("[native code]")))\n        return true;\n    }\n    return ctor === Object;\n  }\n  _trySerialize(value) {\n    let trivial = true;\n    const encoded = serializeAsCallArgument(value, (v) => {\n      const isTrivial = this._isPlainObject(v) || Array.isArray(v) || typeof v === "string" || typeof v === "number" || typeof v === "boolean" || Object.is(v, null);\n      if (!isTrivial)\n        trivial = false;\n      return { fallThrough: v };\n    });\n    if (trivial)\n      return { trivial: value };\n    return { encoded };\n  }\n  async _collectDB(dbInfo) {\n    if (!dbInfo.name)\n      throw new Error("Database name is empty");\n    if (!dbInfo.version)\n      throw new Error("Database version is unset");\n    const db = await this._idbRequestToPromise(indexedDB.open(dbInfo.name));\n    if (db.objectStoreNames.length === 0)\n      return { name: dbInfo.name, version: dbInfo.version, stores: [] };\n    const transaction = db.transaction(db.objectStoreNames, "readonly");\n    const stores = await Promise.all([...db.objectStoreNames].map(async (storeName) => {\n      const objectStore = transaction.objectStore(storeName);\n      const keys = await this._idbRequestToPromise(objectStore.getAllKeys());\n      const records = await Promise.all(keys.map(async (key) => {\n        const record = {};\n        if (objectStore.keyPath === null) {\n          const { encoded: encoded2, trivial: trivial2 } = this._trySerialize(key);\n          if (trivial2)\n            record.key = trivial2;\n          else\n            record.keyEncoded = encoded2;\n        }\n        const value = await this._idbRequestToPromise(objectStore.get(key));\n        const { encoded, trivial } = this._trySerialize(value);\n        if (trivial)\n          record.value = trivial;\n        else\n          record.valueEncoded = encoded;\n        return record;\n      }));\n      const indexes = [...objectStore.indexNames].map((indexName) => {\n        const index = objectStore.index(indexName);\n        return {\n          name: index.name,\n          keyPath: typeof index.keyPath === "string" ? index.keyPath : void 0,\n          keyPathArray: Array.isArray(index.keyPath) ? index.keyPath : void 0,\n          multiEntry: index.multiEntry,\n          unique: index.unique\n        };\n      });\n      return {\n        name: storeName,\n        records,\n        indexes,\n        autoIncrement: objectStore.autoIncrement,\n        keyPath: typeof objectStore.keyPath === "string" ? objectStore.keyPath : void 0,\n        keyPathArray: Array.isArray(objectStore.keyPath) ? objectStore.keyPath : void 0\n      };\n    }));\n    return {\n      name: dbInfo.name,\n      version: dbInfo.version,\n      stores\n    };\n  }\n  async collect(recordIndexedDB) {\n    const localStorage = Object.keys(this._global.localStorage).map((name) => ({ name, value: this._global.localStorage.getItem(name) }));\n    if (!recordIndexedDB)\n      return { localStorage };\n    try {\n      const databases = await this._global.indexedDB.databases();\n      const indexedDB2 = await Promise.all(databases.map((db) => this._collectDB(db)));\n      return { localStorage, indexedDB: indexedDB2 };\n    } catch (e) {\n      throw new Error("Unable to serialize IndexedDB: " + e.message);\n    }\n  }\n  async _restoreDB(dbInfo) {\n    const openRequest = this._global.indexedDB.open(dbInfo.name, dbInfo.version);\n    openRequest.addEventListener("upgradeneeded", () => {\n      var _a, _b;\n      const db2 = openRequest.result;\n      for (const store of dbInfo.stores) {\n        const objectStore = db2.createObjectStore(store.name, { autoIncrement: store.autoIncrement, keyPath: (_a = store.keyPathArray) != null ? _a : store.keyPath });\n        for (const index of store.indexes)\n          objectStore.createIndex(index.name, (_b = index.keyPathArray) != null ? _b : index.keyPath, { unique: index.unique, multiEntry: index.multiEntry });\n      }\n    });\n    const db = await this._idbRequestToPromise(openRequest);\n    if (db.objectStoreNames.length === 0)\n      return;\n    const transaction = db.transaction(db.objectStoreNames, "readwrite");\n    await Promise.all(dbInfo.stores.map(async (store) => {\n      const objectStore = transaction.objectStore(store.name);\n      await Promise.all(store.records.map(async (record) => {\n        var _a, _b;\n        await this._idbRequestToPromise(\n          objectStore.add(\n            (_a = record.value) != null ? _a : parseEvaluationResultValue(record.valueEncoded),\n            (_b = record.key) != null ? _b : parseEvaluationResultValue(record.keyEncoded)\n          )\n        );\n      }));\n    }));\n  }\n  async restore(originState) {\n    var _a, _b, _c;\n    const registrations = this._global.navigator.serviceWorker ? await this._global.navigator.serviceWorker.getRegistrations() : [];\n    await Promise.all(registrations.map(async (r) => {\n      if (!r.installing && !r.waiting && !r.active)\n        r.unregister().catch(() => {\n        });\n      else\n        await r.unregister().catch(() => {\n        });\n    }));\n    try {\n      for (const db of await ((_b = (_a = this._global.indexedDB).databases) == null ? void 0 : _b.call(_a)) || []) {\n        if (db.name)\n          this._global.indexedDB.deleteDatabase(db.name);\n      }\n      await Promise.all(((_c = originState == null ? void 0 : originState.indexedDB) != null ? _c : []).map((dbInfo) => this._restoreDB(dbInfo)));\n    } catch (e) {\n      throw new Error("Unable to restore IndexedDB: " + e.message);\n    }\n    this._global.sessionStorage.clear();\n    this._global.localStorage.clear();\n    for (const { name, value } of (originState == null ? void 0 : originState.localStorage) || [])\n      this._global.localStorage.setItem(name, value);\n  }\n};\n';0&&0},3298:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{source:()=>Qe});b.exports=__toCommonJS(oe);const Qe='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/utilityScript.ts\nvar utilityScript_exports = {};\n__export(utilityScript_exports, {\n  UtilityScript: () => UtilityScript\n});\nmodule.exports = __toCommonJS(utilityScript_exports);\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction base64ToTypedArray(base64, TypedArrayConstructor) {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++)\n    bytes[i] = binary.charCodeAt(i);\n  return new TypedArrayConstructor(bytes.buffer);\n}\nfunction parseEvaluationResultValue(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n  if (Object.is(value, void 0))\n    return void 0;\n  if (typeof value === "object" && value) {\n    if ("ref" in value)\n      return refs.get(value.ref);\n    if ("v" in value) {\n      if (value.v === "undefined")\n        return void 0;\n      if (value.v === "null")\n        return null;\n      if (value.v === "NaN")\n        return NaN;\n      if (value.v === "Infinity")\n        return Infinity;\n      if (value.v === "-Infinity")\n        return -Infinity;\n      if (value.v === "-0")\n        return -0;\n      return void 0;\n    }\n    if ("d" in value) {\n      return new Date(value.d);\n    }\n    if ("u" in value)\n      return new URL(value.u);\n    if ("bi" in value)\n      return BigInt(value.bi);\n    if ("e" in value) {\n      const error = new Error(value.e.m);\n      error.name = value.e.n;\n      error.stack = value.e.s;\n      return error;\n    }\n    if ("r" in value)\n      return new RegExp(value.r.p, value.r.f);\n    if ("a" in value) {\n      const result = [];\n      refs.set(value.id, result);\n      for (const a of value.a)\n        result.push(parseEvaluationResultValue(a, handles, refs));\n      return result;\n    }\n    if ("o" in value) {\n      const result = {};\n      refs.set(value.id, result);\n      for (const { k, v } of value.o) {\n        if (k === "__proto__")\n          continue;\n        result[k] = parseEvaluationResultValue(v, handles, refs);\n      }\n      return result;\n    }\n    if ("h" in value)\n      return handles[value.h];\n    if ("ta" in value)\n      return base64ToTypedArray(value.ta.b, typedArrayConstructors[value.ta.k]);\n  }\n  return value;\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/utilityScript.ts\nvar UtilityScript = class {\n  constructor(global, isUnderTest) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    this.global = global;\n    this.isUnderTest = isUnderTest;\n    if (global.__pwClock) {\n      this.builtins = global.__pwClock.builtins;\n    } else {\n      this.builtins = {\n        setTimeout: (_a = global.setTimeout) == null ? void 0 : _a.bind(global),\n        clearTimeout: (_b = global.clearTimeout) == null ? void 0 : _b.bind(global),\n        setInterval: (_c = global.setInterval) == null ? void 0 : _c.bind(global),\n        clearInterval: (_d = global.clearInterval) == null ? void 0 : _d.bind(global),\n        requestAnimationFrame: (_e = global.requestAnimationFrame) == null ? void 0 : _e.bind(global),\n        cancelAnimationFrame: (_f = global.cancelAnimationFrame) == null ? void 0 : _f.bind(global),\n        requestIdleCallback: (_g = global.requestIdleCallback) == null ? void 0 : _g.bind(global),\n        cancelIdleCallback: (_h = global.cancelIdleCallback) == null ? void 0 : _h.bind(global),\n        performance: global.performance,\n        Intl: global.Intl,\n        Date: global.Date\n      };\n    }\n    if (this.isUnderTest)\n      global.builtins = this.builtins;\n  }\n  evaluate(isFunction, returnByValue, expression, argCount, ...argsAndHandles) {\n    const args = argsAndHandles.slice(0, argCount);\n    const handles = argsAndHandles.slice(argCount);\n    const parameters = [];\n    for (let i = 0; i < args.length; i++)\n      parameters[i] = parseEvaluationResultValue(args[i], handles);\n    let result = this.global.eval(expression);\n    if (isFunction === true) {\n      result = result(...parameters);\n    } else if (isFunction === false) {\n      result = result;\n    } else {\n      if (typeof result === "function")\n        result = result(...parameters);\n    }\n    return returnByValue ? this._promiseAwareJsonValueNoThrow(result) : result;\n  }\n  jsonValue(returnByValue, value) {\n    if (value === void 0)\n      return void 0;\n    return serializeAsCallArgument(value, (value2) => ({ fallThrough: value2 }));\n  }\n  _promiseAwareJsonValueNoThrow(value) {\n    const safeJson = (value2) => {\n      try {\n        return this.jsonValue(true, value2);\n      } catch (e) {\n        return void 0;\n      }\n    };\n    if (value && typeof value === "object" && typeof value.then === "function") {\n      return (async () => {\n        const promiseValue = await value;\n        return safeJson(promiseValue);\n      })();\n    }\n    return safeJson(value);\n  }\n};\n';0&&0},940:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{source:()=>Qe});b.exports=__toCommonJS(oe);const Qe=`\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, 'default': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/webSocketMock.ts\nvar webSocketMock_exports = {};\n__export(webSocketMock_exports, {\n  inject: () => inject\n});\nmodule.exports = __toCommonJS(webSocketMock_exports);\nfunction inject(globalThis) {\n  if (globalThis.__pwWebSocketDispatch)\n    return;\n  function generateId() {\n    const bytes = new Uint8Array(32);\n    globalThis.crypto.getRandomValues(bytes);\n    const hex = "0123456789abcdef";\n    return [...bytes].map((value) => {\n      const high = Math.floor(value / 16);\n      const low = value % 16;\n      return hex[high] + hex[low];\n    }).join("");\n  }\n  function bufferToData(b) {\n    let s = "";\n    for (let i = 0; i < b.length; i++)\n      s += String.fromCharCode(b[i]);\n    return { data: globalThis.btoa(s), isBase64: true };\n  }\n  function stringToBuffer(s) {\n    s = globalThis.atob(s);\n    const b = new Uint8Array(s.length);\n    for (let i = 0; i < s.length; i++)\n      b[i] = s.charCodeAt(i);\n    return b.buffer;\n  }\n  function messageToData(message, cb) {\n    if (message instanceof globalThis.Blob)\n      return message.arrayBuffer().then((buffer) => cb(bufferToData(new Uint8Array(buffer))));\n    if (typeof message === "string")\n      return cb({ data: message, isBase64: false });\n    if (ArrayBuffer.isView(message))\n      return cb(bufferToData(new Uint8Array(message.buffer, message.byteOffset, message.byteLength)));\n    return cb(bufferToData(new Uint8Array(message)));\n  }\n  function dataToMessage(data, binaryType) {\n    if (!data.isBase64)\n      return data.data;\n    const buffer = stringToBuffer(data.data);\n    return binaryType === "arraybuffer" ? buffer : new Blob([buffer]);\n  }\n  const binding = globalThis.__pwWebSocketBinding;\n  const NativeWebSocket = globalThis.WebSocket;\n  const idToWebSocket = /* @__PURE__ */ new Map();\n  globalThis.__pwWebSocketDispatch = (request) => {\n    const ws = idToWebSocket.get(request.id);\n    if (!ws)\n      return;\n    if (request.type === "connect")\n      ws._apiConnect();\n    if (request.type === "passthrough")\n      ws._apiPassThrough();\n    if (request.type === "ensureOpened")\n      ws._apiEnsureOpened();\n    if (request.type === "sendToPage")\n      ws._apiSendToPage(dataToMessage(request.data, ws.binaryType));\n    if (request.type === "closePage")\n      ws._apiClosePage(request.code, request.reason, request.wasClean);\n    if (request.type === "sendToServer")\n      ws._apiSendToServer(dataToMessage(request.data, ws.binaryType));\n    if (request.type === "closeServer")\n      ws._apiCloseServer(request.code, request.reason, request.wasClean);\n  };\n  const _WebSocketMock = class _WebSocketMock extends EventTarget {\n    constructor(url, protocols) {\n      var _a, _b;\n      super();\n      // WebSocket.CLOSED\n      this.CONNECTING = 0;\n      // WebSocket.CONNECTING\n      this.OPEN = 1;\n      // WebSocket.OPEN\n      this.CLOSING = 2;\n      // WebSocket.CLOSING\n      this.CLOSED = 3;\n      // WebSocket.CLOSED\n      this._oncloseListener = null;\n      this._onerrorListener = null;\n      this._onmessageListener = null;\n      this._onopenListener = null;\n      this.bufferedAmount = 0;\n      this.extensions = "";\n      this.protocol = "";\n      this.readyState = 0;\n      this._origin = "";\n      this._passthrough = false;\n      this._wsBufferedMessages = [];\n      this._binaryType = "blob";\n      this.url = new URL(url, globalThis.window.document.baseURI).href.replace(/^http/, "ws");\n      this._origin = (_b = (_a = URL.parse(this.url)) == null ? void 0 : _a.origin) != null ? _b : "";\n      this._protocols = protocols;\n      this._id = generateId();\n      idToWebSocket.set(this._id, this);\n      binding({ type: "onCreate", id: this._id, url: this.url });\n    }\n    // --- native WebSocket implementation ---\n    get binaryType() {\n      return this._binaryType;\n    }\n    set binaryType(type) {\n      this._binaryType = type;\n      if (this._ws)\n        this._ws.binaryType = type;\n    }\n    get onclose() {\n      return this._oncloseListener;\n    }\n    set onclose(listener) {\n      if (this._oncloseListener)\n        this.removeEventListener("close", this._oncloseListener);\n      this._oncloseListener = listener;\n      if (this._oncloseListener)\n        this.addEventListener("close", this._oncloseListener);\n    }\n    get onerror() {\n      return this._onerrorListener;\n    }\n    set onerror(listener) {\n      if (this._onerrorListener)\n        this.removeEventListener("error", this._onerrorListener);\n      this._onerrorListener = listener;\n      if (this._onerrorListener)\n        this.addEventListener("error", this._onerrorListener);\n    }\n    get onopen() {\n      return this._onopenListener;\n    }\n    set onopen(listener) {\n      if (this._onopenListener)\n        this.removeEventListener("open", this._onopenListener);\n      this._onopenListener = listener;\n      if (this._onopenListener)\n        this.addEventListener("open", this._onopenListener);\n    }\n    get onmessage() {\n      return this._onmessageListener;\n    }\n    set onmessage(listener) {\n      if (this._onmessageListener)\n        this.removeEventListener("message", this._onmessageListener);\n      this._onmessageListener = listener;\n      if (this._onmessageListener)\n        this.addEventListener("message", this._onmessageListener);\n    }\n    send(message) {\n      if (this.readyState === _WebSocketMock.CONNECTING)\n        throw new DOMException(\`Failed to execute 'send' on 'WebSocket': Still in CONNECTING state.\`);\n      if (this.readyState !== _WebSocketMock.OPEN)\n        throw new DOMException(\`WebSocket is already in CLOSING or CLOSED state.\`);\n      if (this._passthrough) {\n        if (this._ws)\n          this._apiSendToServer(message);\n      } else {\n        messageToData(message, (data) => binding({ type: "onMessageFromPage", id: this._id, data }));\n      }\n    }\n    close(code, reason) {\n      if (code !== void 0 && code !== 1e3 && (code < 3e3 || code > 4999))\n        throw new DOMException(\`Failed to execute 'close' on 'WebSocket': The close code must be either 1000, or between 3000 and 4999. \${code} is neither.\`);\n      if (this.readyState === _WebSocketMock.OPEN || this.readyState === _WebSocketMock.CONNECTING)\n        this.readyState = _WebSocketMock.CLOSING;\n      if (this._passthrough)\n        this._apiCloseServer(code, reason, true);\n      else\n        binding({ type: "onClosePage", id: this._id, code, reason, wasClean: true });\n    }\n    // --- methods called from the routing API ---\n    _apiEnsureOpened() {\n      if (!this._ws)\n        this._ensureOpened();\n    }\n    _apiSendToPage(message) {\n      this._ensureOpened();\n      if (this.readyState !== _WebSocketMock.OPEN)\n        throw new DOMException(\`WebSocket is already in CLOSING or CLOSED state.\`);\n      this.dispatchEvent(new MessageEvent("message", { data: message, origin: this._origin, cancelable: true }));\n    }\n    _apiSendToServer(message) {\n      if (!this._ws)\n        throw new Error("Cannot send a message before connecting to the server");\n      if (this._ws.readyState === _WebSocketMock.CONNECTING)\n        this._wsBufferedMessages.push(message);\n      else\n        this._ws.send(message);\n    }\n    _apiConnect() {\n      if (this._ws)\n        throw new Error("Can only connect to the server once");\n      this._ws = new NativeWebSocket(this.url, this._protocols);\n      this._ws.binaryType = this._binaryType;\n      this._ws.onopen = () => {\n        for (const message of this._wsBufferedMessages)\n          this._ws.send(message);\n        this._wsBufferedMessages = [];\n        this._ensureOpened();\n      };\n      this._ws.onclose = (event) => {\n        this._onWSClose(event.code, event.reason, event.wasClean);\n      };\n      this._ws.onmessage = (event) => {\n        if (this._passthrough)\n          this._apiSendToPage(event.data);\n        else\n          messageToData(event.data, (data) => binding({ type: "onMessageFromServer", id: this._id, data }));\n      };\n      this._ws.onerror = () => {\n        const event = new Event("error", { cancelable: true });\n        this.dispatchEvent(event);\n      };\n    }\n    // This method connects to the server, and passes all messages through,\n    // as if WebSocketMock was not engaged.\n    _apiPassThrough() {\n      this._passthrough = true;\n      this._apiConnect();\n    }\n    _apiCloseServer(code, reason, wasClean) {\n      if (!this._ws) {\n        this._onWSClose(code, reason, wasClean);\n        return;\n      }\n      if (this._ws.readyState === _WebSocketMock.CONNECTING || this._ws.readyState === _WebSocketMock.OPEN)\n        this._ws.close(code, reason);\n    }\n    _apiClosePage(code, reason, wasClean) {\n      if (this.readyState === _WebSocketMock.CLOSED)\n        return;\n      this.readyState = _WebSocketMock.CLOSED;\n      this.dispatchEvent(new CloseEvent("close", { code, reason, wasClean, cancelable: true }));\n      this._maybeCleanup();\n      if (this._passthrough)\n        this._apiCloseServer(code, reason, wasClean);\n      else\n        binding({ type: "onClosePage", id: this._id, code, reason, wasClean });\n    }\n    // --- internals ---\n    _ensureOpened() {\n      var _a;\n      if (this.readyState !== _WebSocketMock.CONNECTING)\n        return;\n      this.extensions = ((_a = this._ws) == null ? void 0 : _a.extensions) || "";\n      if (this._ws)\n        this.protocol = this._ws.protocol;\n      else if (Array.isArray(this._protocols))\n        this.protocol = this._protocols[0] || "";\n      else\n        this.protocol = this._protocols || "";\n      this.readyState = _WebSocketMock.OPEN;\n      this.dispatchEvent(new Event("open", { cancelable: true }));\n    }\n    _onWSClose(code, reason, wasClean) {\n      if (this._passthrough)\n        this._apiClosePage(code, reason, wasClean);\n      else\n        binding({ type: "onCloseServer", id: this._id, code, reason, wasClean });\n      if (this._ws) {\n        this._ws.onopen = null;\n        this._ws.onclose = null;\n        this._ws.onmessage = null;\n        this._ws.onerror = null;\n        this._ws = void 0;\n        this._wsBufferedMessages = [];\n      }\n      this._maybeCleanup();\n    }\n    _maybeCleanup() {\n      if (this.readyState === _WebSocketMock.CLOSED && !this._ws)\n        idToWebSocket.delete(this._id);\n    }\n  };\n  _WebSocketMock.CONNECTING = 0;\n  // WebSocket.CONNECTING\n  _WebSocketMock.OPEN = 1;\n  // WebSocket.OPEN\n  _WebSocketMock.CLOSING = 2;\n  // WebSocket.CLOSING\n  _WebSocketMock.CLOSED = 3;\n  let WebSocketMock = _WebSocketMock;\n  globalThis.WebSocket = class WebSocket extends WebSocketMock {\n  };\n}\n`;0&&0},4186:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{createInProcessPlaywright:()=>createInProcessPlaywright});b.exports=__toCommonJS(Re);var Me=F(1456);var Le=F(8823);var We=F(1692);var Ge=F(6959);var ze=F(6738);function createInProcessPlaywright(){const b=(0,We.createPlaywright)({sdkLanguage:process.env.PW_LANG_NAME||"javascript"});const B=new ze.Connection(Ge.nodePlatform);B.useRawBuffers();const F=new We.DispatcherConnection(true);F.onmessage=b=>B.dispatch(b);B.onmessage=b=>F.dispatch(b);const K=new We.RootDispatcher(F);new We.PlaywrightDispatcher(K,b);const se=B.getObjectWithKnownName("Playwright");se.chromium._serverLauncher=new Le.BrowserServerLauncherImpl("chromium");se.firefox._serverLauncher=new Le.BrowserServerLauncherImpl("firefox");se.webkit._serverLauncher=new Le.BrowserServerLauncherImpl("webkit");se._android._serverLauncher=new Me.AndroidServerLauncherImpl;F.onmessage=b=>setImmediate((()=>B.dispatch(b)));B.onmessage=b=>setImmediate((()=>F.dispatch(b)));B.toImpl=b=>{if(b instanceof ze.Connection)return b===B?F:void 0;if(!b)return F._dispatcherByGuid.get("");return F._dispatcherByGuid.get(b._guid)._object};return se}0&&0},1122:(b,B,F)=>{"use strict";var K=F(4186);b.exports=(0,K.createInProcessPlaywright)()},5386:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{parseSerializedValue:()=>parseSerializedValue,serializeValue:()=>serializeValue});b.exports=__toCommonJS(oe);function parseSerializedValue(b,B){return innerParseSerializedValue(b,B,new Map,[])}function innerParseSerializedValue(b,B,F,K){if(b.ref!==void 0)return F.get(b.ref);if(b.n!==void 0)return b.n;if(b.s!==void 0)return b.s;if(b.b!==void 0)return b.b;if(b.v!==void 0){if(b.v==="undefined")return void 0;if(b.v==="null")return null;if(b.v==="NaN")return NaN;if(b.v==="Infinity")return Infinity;if(b.v==="-Infinity")return-Infinity;if(b.v==="-0")return-0}if(b.d!==void 0)return new Date(b.d);if(b.u!==void 0)return new URL(b.u);if(b.bi!==void 0)return BigInt(b.bi);if(b.e!==void 0){const B=new Error(b.e.m);B.name=b.e.n;B.stack=b.e.s;return B}if(b.r!==void 0)return new RegExp(b.r.p,b.r.f);if(b.ta!==void 0){const B=Qe[b.ta.k];return new B(b.ta.b.buffer,b.ta.b.byteOffset,b.ta.b.length/B.BYTES_PER_ELEMENT)}if(b.a!==void 0){const se=[];F.set(b.id,se);for(let oe=0;oe<b.a.length;oe++)se.push(innerParseSerializedValue(b.a[oe],B,F,[...K,oe]));return se}if(b.o!==void 0){const se={};F.set(b.id,se);for(const{k:oe,v:Qe}of b.o)se[oe]=innerParseSerializedValue(Qe,B,F,[...K,oe]);return se}if(b.h!==void 0){if(B===void 0)throw new Error("Unexpected handle");return B[b.h]}throw new Error(`Attempting to deserialize unexpected value${accessChainToDisplayString(K)}: ${b}`)}function serializeValue(b,B){return innerSerializeValue(b,B,{lastId:0,visited:new Map},[])}function innerSerializeValue(b,B,F,K){const se=B(b);if("fallThrough"in se)b=se.fallThrough;else return se;if(typeof b==="symbol")return{v:"undefined"};if(Object.is(b,void 0))return{v:"undefined"};if(Object.is(b,null))return{v:"null"};if(Object.is(b,NaN))return{v:"NaN"};if(Object.is(b,Infinity))return{v:"Infinity"};if(Object.is(b,-Infinity))return{v:"-Infinity"};if(Object.is(b,-0))return{v:"-0"};if(typeof b==="boolean")return{b:b};if(typeof b==="number")return{n:b};if(typeof b==="string")return{s:b};if(typeof b==="bigint")return{bi:b.toString()};if(isError(b))return{e:{n:b.name,m:b.message,s:b.stack||""}};if(isDate(b))return{d:b.toJSON()};if(isURL(b))return{u:b.toJSON()};if(isRegExp(b))return{r:{p:b.source,f:b.flags}};const oe=Re.get(b.constructor);if(oe)return{ta:{b:Buffer.from(b.buffer,b.byteOffset,b.byteLength),k:oe}};const Qe=F.visited.get(b);if(Qe)return{ref:Qe};if(Array.isArray(b)){const se=[];const oe=++F.lastId;F.visited.set(b,oe);for(let oe=0;oe<b.length;++oe)se.push(innerSerializeValue(b[oe],B,F,[...K,oe]));return{a:se,id:oe}}if(typeof b==="object"){const se=[];const oe=++F.lastId;F.visited.set(b,oe);for(const oe of Object.keys(b))se.push({k:oe,v:innerSerializeValue(b[oe],B,F,[...K,oe])});return{o:se,id:oe}}throw new Error(`Attempting to serialize unexpected value${accessChainToDisplayString(K)}: ${b}`)}function accessChainToDisplayString(b){const B=b.map(((b,B)=>{if(typeof b==="string")return B?`.${b}`:b;return`[${b}]`})).join("");return B.length>0?` at position "${B}"`:""}function isRegExp(b){return b instanceof RegExp||Object.prototype.toString.call(b)==="[object RegExp]"}function isDate(b){return b instanceof Date||Object.prototype.toString.call(b)==="[object Date]"}function isURL(b){return b instanceof URL||Object.prototype.toString.call(b)==="[object URL]"}function isError(b){const B=b?Object.getPrototypeOf(b):null;return b instanceof Error||B?.name==="Error"||B&&isError(B)}const Qe={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,bi64:BigInt64Array,bui64:BigUint64Array};const Re=new Map(Object.entries(Qe).map((([b,B])=>[B,b])));0&&0},8789:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ValidationError:()=>Le.ValidationError,createMetadataValidator:()=>Le.createMetadataValidator,findValidator:()=>Le.findValidator,maybeFindValidator:()=>Le.maybeFindValidator});b.exports=__toCommonJS(Re);var Me=F(7371);var Le=F(7371);Me.scheme.StackFrame=(0,Me.tObject)({file:Me.tString,line:Me.tInt,column:Me.tInt,function:(0,Me.tOptional)(Me.tString)});Me.scheme.Metadata=(0,Me.tObject)({location:(0,Me.tOptional)((0,Me.tObject)({file:Me.tString,line:(0,Me.tOptional)(Me.tInt),column:(0,Me.tOptional)(Me.tInt)})),title:(0,Me.tOptional)(Me.tString),internal:(0,Me.tOptional)(Me.tBoolean),stepId:(0,Me.tOptional)(Me.tString)});Me.scheme.ClientSideCallMetadata=(0,Me.tObject)({id:Me.tInt,stack:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("StackFrame")))});Me.scheme.Point=(0,Me.tObject)({x:Me.tFloat,y:Me.tFloat});Me.scheme.Rect=(0,Me.tObject)({x:Me.tFloat,y:Me.tFloat,width:Me.tFloat,height:Me.tFloat});Me.scheme.SerializedValue=(0,Me.tObject)({n:(0,Me.tOptional)(Me.tFloat),b:(0,Me.tOptional)(Me.tBoolean),s:(0,Me.tOptional)(Me.tString),v:(0,Me.tOptional)((0,Me.tEnum)(["null","undefined","NaN","Infinity","-Infinity","-0"])),d:(0,Me.tOptional)(Me.tString),u:(0,Me.tOptional)(Me.tString),bi:(0,Me.tOptional)(Me.tString),ta:(0,Me.tOptional)((0,Me.tObject)({b:Me.tBinary,k:(0,Me.tEnum)(["i8","ui8","ui8c","i16","ui16","i32","ui32","f32","f64","bi64","bui64"])})),e:(0,Me.tOptional)((0,Me.tObject)({m:Me.tString,n:Me.tString,s:Me.tString})),r:(0,Me.tOptional)((0,Me.tObject)({p:Me.tString,f:Me.tString})),a:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SerializedValue"))),o:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({k:Me.tString,v:(0,Me.tType)("SerializedValue")}))),h:(0,Me.tOptional)(Me.tInt),id:(0,Me.tOptional)(Me.tInt),ref:(0,Me.tOptional)(Me.tInt)});Me.scheme.SerializedArgument=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue"),handles:(0,Me.tArray)((0,Me.tChannel)("*"))});Me.scheme.ExpectedTextValue=(0,Me.tObject)({string:(0,Me.tOptional)(Me.tString),regexSource:(0,Me.tOptional)(Me.tString),regexFlags:(0,Me.tOptional)(Me.tString),matchSubstring:(0,Me.tOptional)(Me.tBoolean),ignoreCase:(0,Me.tOptional)(Me.tBoolean),normalizeWhiteSpace:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.SelectorEngine=(0,Me.tObject)({name:Me.tString,source:Me.tString,contentScript:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.SetNetworkCookie=(0,Me.tObject)({name:Me.tString,value:Me.tString,url:(0,Me.tOptional)(Me.tString),domain:(0,Me.tOptional)(Me.tString),path:(0,Me.tOptional)(Me.tString),expires:(0,Me.tOptional)(Me.tFloat),httpOnly:(0,Me.tOptional)(Me.tBoolean),secure:(0,Me.tOptional)(Me.tBoolean),sameSite:(0,Me.tOptional)((0,Me.tEnum)(["Strict","Lax","None"])),partitionKey:(0,Me.tOptional)(Me.tString),_crHasCrossSiteAncestor:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.NetworkCookie=(0,Me.tObject)({name:Me.tString,value:Me.tString,domain:Me.tString,path:Me.tString,expires:Me.tFloat,httpOnly:Me.tBoolean,secure:Me.tBoolean,sameSite:(0,Me.tEnum)(["Strict","Lax","None"]),partitionKey:(0,Me.tOptional)(Me.tString),_crHasCrossSiteAncestor:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.NameValue=(0,Me.tObject)({name:Me.tString,value:Me.tString});Me.scheme.IndexedDBDatabase=(0,Me.tObject)({name:Me.tString,version:Me.tInt,stores:(0,Me.tArray)((0,Me.tObject)({name:Me.tString,autoIncrement:Me.tBoolean,keyPath:(0,Me.tOptional)(Me.tString),keyPathArray:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),records:(0,Me.tArray)((0,Me.tObject)({key:(0,Me.tOptional)(Me.tAny),keyEncoded:(0,Me.tOptional)(Me.tAny),value:(0,Me.tOptional)(Me.tAny),valueEncoded:(0,Me.tOptional)(Me.tAny)})),indexes:(0,Me.tArray)((0,Me.tObject)({name:Me.tString,keyPath:(0,Me.tOptional)(Me.tString),keyPathArray:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),multiEntry:Me.tBoolean,unique:Me.tBoolean}))}))});Me.scheme.SetOriginStorage=(0,Me.tObject)({origin:Me.tString,localStorage:(0,Me.tArray)((0,Me.tType)("NameValue")),indexedDB:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("IndexedDBDatabase")))});Me.scheme.OriginStorage=(0,Me.tObject)({origin:Me.tString,localStorage:(0,Me.tArray)((0,Me.tType)("NameValue")),indexedDB:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("IndexedDBDatabase")))});Me.scheme.SerializedError=(0,Me.tObject)({error:(0,Me.tOptional)((0,Me.tObject)({message:Me.tString,name:Me.tString,stack:(0,Me.tOptional)(Me.tString)})),value:(0,Me.tOptional)((0,Me.tType)("SerializedValue"))});Me.scheme.RecordHarOptions=(0,Me.tObject)({zip:(0,Me.tOptional)(Me.tBoolean),content:(0,Me.tOptional)((0,Me.tEnum)(["embed","attach","omit"])),mode:(0,Me.tOptional)((0,Me.tEnum)(["full","minimal"])),urlGlob:(0,Me.tOptional)(Me.tString),urlRegexSource:(0,Me.tOptional)(Me.tString),urlRegexFlags:(0,Me.tOptional)(Me.tString)});Me.scheme.FormField=(0,Me.tObject)({name:Me.tString,value:(0,Me.tOptional)(Me.tString),file:(0,Me.tOptional)((0,Me.tObject)({name:Me.tString,mimeType:(0,Me.tOptional)(Me.tString),buffer:Me.tBinary}))});Me.scheme.SDKLanguage=(0,Me.tEnum)(["javascript","python","java","csharp"]);Me.scheme.APIRequestContextInitializer=(0,Me.tObject)({tracing:(0,Me.tChannel)(["Tracing"])});Me.scheme.APIRequestContextFetchParams=(0,Me.tObject)({url:Me.tString,encodedParams:(0,Me.tOptional)(Me.tString),params:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),method:(0,Me.tOptional)(Me.tString),headers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),postData:(0,Me.tOptional)(Me.tBinary),jsonData:(0,Me.tOptional)(Me.tString),formData:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),multipartData:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("FormField"))),timeout:Me.tFloat,failOnStatusCode:(0,Me.tOptional)(Me.tBoolean),ignoreHTTPSErrors:(0,Me.tOptional)(Me.tBoolean),maxRedirects:(0,Me.tOptional)(Me.tInt),maxRetries:(0,Me.tOptional)(Me.tInt)});Me.scheme.APIRequestContextFetchResult=(0,Me.tObject)({response:(0,Me.tType)("APIResponse")});Me.scheme.APIRequestContextFetchResponseBodyParams=(0,Me.tObject)({fetchUid:Me.tString});Me.scheme.APIRequestContextFetchResponseBodyResult=(0,Me.tObject)({binary:(0,Me.tOptional)(Me.tBinary)});Me.scheme.APIRequestContextFetchLogParams=(0,Me.tObject)({fetchUid:Me.tString});Me.scheme.APIRequestContextFetchLogResult=(0,Me.tObject)({log:(0,Me.tArray)(Me.tString)});Me.scheme.APIRequestContextStorageStateParams=(0,Me.tObject)({indexedDB:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.APIRequestContextStorageStateResult=(0,Me.tObject)({cookies:(0,Me.tArray)((0,Me.tType)("NetworkCookie")),origins:(0,Me.tArray)((0,Me.tType)("OriginStorage"))});Me.scheme.APIRequestContextDisposeAPIResponseParams=(0,Me.tObject)({fetchUid:Me.tString});Me.scheme.APIRequestContextDisposeAPIResponseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.APIRequestContextDisposeParams=(0,Me.tObject)({reason:(0,Me.tOptional)(Me.tString)});Me.scheme.APIRequestContextDisposeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.APIResponse=(0,Me.tObject)({fetchUid:Me.tString,url:Me.tString,status:Me.tInt,statusText:Me.tString,headers:(0,Me.tArray)((0,Me.tType)("NameValue"))});Me.scheme.LifecycleEvent=(0,Me.tEnum)(["load","domcontentloaded","networkidle","commit"]);Me.scheme.LocalUtilsInitializer=(0,Me.tObject)({deviceDescriptors:(0,Me.tArray)((0,Me.tObject)({name:Me.tString,descriptor:(0,Me.tObject)({userAgent:Me.tString,viewport:(0,Me.tObject)({width:Me.tInt,height:Me.tInt}),screen:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),deviceScaleFactor:Me.tFloat,isMobile:Me.tBoolean,hasTouch:Me.tBoolean,defaultBrowserType:(0,Me.tEnum)(["chromium","firefox","webkit"])})}))});Me.scheme.LocalUtilsZipParams=(0,Me.tObject)({zipFile:Me.tString,entries:(0,Me.tArray)((0,Me.tType)("NameValue")),stacksId:(0,Me.tOptional)(Me.tString),mode:(0,Me.tEnum)(["write","append"]),includeSources:Me.tBoolean});Me.scheme.LocalUtilsZipResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.LocalUtilsHarOpenParams=(0,Me.tObject)({file:Me.tString});Me.scheme.LocalUtilsHarOpenResult=(0,Me.tObject)({harId:(0,Me.tOptional)(Me.tString),error:(0,Me.tOptional)(Me.tString)});Me.scheme.LocalUtilsHarLookupParams=(0,Me.tObject)({harId:Me.tString,url:Me.tString,method:Me.tString,headers:(0,Me.tArray)((0,Me.tType)("NameValue")),postData:(0,Me.tOptional)(Me.tBinary),isNavigationRequest:Me.tBoolean});Me.scheme.LocalUtilsHarLookupResult=(0,Me.tObject)({action:(0,Me.tEnum)(["error","redirect","fulfill","noentry"]),message:(0,Me.tOptional)(Me.tString),redirectURL:(0,Me.tOptional)(Me.tString),status:(0,Me.tOptional)(Me.tInt),headers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),body:(0,Me.tOptional)(Me.tBinary)});Me.scheme.LocalUtilsHarCloseParams=(0,Me.tObject)({harId:Me.tString});Me.scheme.LocalUtilsHarCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.LocalUtilsHarUnzipParams=(0,Me.tObject)({zipFile:Me.tString,harFile:Me.tString});Me.scheme.LocalUtilsHarUnzipResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.LocalUtilsConnectParams=(0,Me.tObject)({wsEndpoint:Me.tString,headers:(0,Me.tOptional)(Me.tAny),exposeNetwork:(0,Me.tOptional)(Me.tString),slowMo:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat,socksProxyRedirectPortForTest:(0,Me.tOptional)(Me.tInt)});Me.scheme.LocalUtilsConnectResult=(0,Me.tObject)({pipe:(0,Me.tChannel)(["JsonPipe"]),headers:(0,Me.tArray)((0,Me.tType)("NameValue"))});Me.scheme.LocalUtilsTracingStartedParams=(0,Me.tObject)({tracesDir:(0,Me.tOptional)(Me.tString),traceName:Me.tString,live:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.LocalUtilsTracingStartedResult=(0,Me.tObject)({stacksId:Me.tString});Me.scheme.LocalUtilsAddStackToTracingNoReplyParams=(0,Me.tObject)({callData:(0,Me.tType)("ClientSideCallMetadata")});Me.scheme.LocalUtilsAddStackToTracingNoReplyResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.LocalUtilsTraceDiscardedParams=(0,Me.tObject)({stacksId:Me.tString});Me.scheme.LocalUtilsTraceDiscardedResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.LocalUtilsGlobToRegexParams=(0,Me.tObject)({glob:Me.tString,baseURL:(0,Me.tOptional)(Me.tString),webSocketUrl:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.LocalUtilsGlobToRegexResult=(0,Me.tObject)({regex:Me.tString});Me.scheme.RootInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.RootInitializeParams=(0,Me.tObject)({sdkLanguage:(0,Me.tType)("SDKLanguage")});Me.scheme.RootInitializeResult=(0,Me.tObject)({playwright:(0,Me.tChannel)(["Playwright"])});Me.scheme.PlaywrightInitializer=(0,Me.tObject)({chromium:(0,Me.tChannel)(["BrowserType"]),firefox:(0,Me.tChannel)(["BrowserType"]),webkit:(0,Me.tChannel)(["BrowserType"]),android:(0,Me.tChannel)(["Android"]),electron:(0,Me.tChannel)(["Electron"]),utils:(0,Me.tOptional)((0,Me.tChannel)(["LocalUtils"])),preLaunchedBrowser:(0,Me.tOptional)((0,Me.tChannel)(["Browser"])),preConnectedAndroidDevice:(0,Me.tOptional)((0,Me.tChannel)(["AndroidDevice"])),socksSupport:(0,Me.tOptional)((0,Me.tChannel)(["SocksSupport"]))});Me.scheme.PlaywrightNewRequestParams=(0,Me.tObject)({baseURL:(0,Me.tOptional)(Me.tString),userAgent:(0,Me.tOptional)(Me.tString),ignoreHTTPSErrors:(0,Me.tOptional)(Me.tBoolean),extraHTTPHeaders:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),failOnStatusCode:(0,Me.tOptional)(Me.tBoolean),clientCertificates:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({origin:Me.tString,cert:(0,Me.tOptional)(Me.tBinary),key:(0,Me.tOptional)(Me.tBinary),passphrase:(0,Me.tOptional)(Me.tString),pfx:(0,Me.tOptional)(Me.tBinary)}))),maxRedirects:(0,Me.tOptional)(Me.tInt),httpCredentials:(0,Me.tOptional)((0,Me.tObject)({username:Me.tString,password:Me.tString,origin:(0,Me.tOptional)(Me.tString),send:(0,Me.tOptional)((0,Me.tEnum)(["always","unauthorized"]))})),proxy:(0,Me.tOptional)((0,Me.tObject)({server:Me.tString,bypass:(0,Me.tOptional)(Me.tString),username:(0,Me.tOptional)(Me.tString),password:(0,Me.tOptional)(Me.tString)})),storageState:(0,Me.tOptional)((0,Me.tObject)({cookies:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NetworkCookie"))),origins:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SetOriginStorage")))})),tracesDir:(0,Me.tOptional)(Me.tString)});Me.scheme.PlaywrightNewRequestResult=(0,Me.tObject)({request:(0,Me.tChannel)(["APIRequestContext"])});Me.scheme.RecorderSource=(0,Me.tObject)({isRecorded:Me.tBoolean,id:Me.tString,label:Me.tString,text:Me.tString,language:Me.tString,highlight:(0,Me.tArray)((0,Me.tObject)({line:Me.tInt,type:Me.tString})),revealLine:(0,Me.tOptional)(Me.tInt),group:(0,Me.tOptional)(Me.tString)});Me.scheme.DebugControllerInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerInspectRequestedEvent=(0,Me.tObject)({selector:Me.tString,locator:Me.tString,ariaSnapshot:Me.tString});Me.scheme.DebugControllerSetModeRequestedEvent=(0,Me.tObject)({mode:Me.tString});Me.scheme.DebugControllerStateChangedEvent=(0,Me.tObject)({pageCount:Me.tInt});Me.scheme.DebugControllerSourceChangedEvent=(0,Me.tObject)({text:Me.tString,header:(0,Me.tOptional)(Me.tString),footer:(0,Me.tOptional)(Me.tString),actions:(0,Me.tOptional)((0,Me.tArray)(Me.tString))});Me.scheme.DebugControllerPausedEvent=(0,Me.tObject)({paused:Me.tBoolean});Me.scheme.DebugControllerInitializeParams=(0,Me.tObject)({codegenId:Me.tString,sdkLanguage:(0,Me.tType)("SDKLanguage")});Me.scheme.DebugControllerInitializeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerSetReportStateChangedParams=(0,Me.tObject)({enabled:Me.tBoolean});Me.scheme.DebugControllerSetReportStateChangedResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerSetRecorderModeParams=(0,Me.tObject)({mode:(0,Me.tEnum)(["inspecting","recording","none"]),testIdAttributeName:(0,Me.tOptional)(Me.tString),generateAutoExpect:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.DebugControllerSetRecorderModeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerHighlightParams=(0,Me.tObject)({selector:(0,Me.tOptional)(Me.tString),ariaTemplate:(0,Me.tOptional)(Me.tString)});Me.scheme.DebugControllerHighlightResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerHideHighlightParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerHideHighlightResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerResumeParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerResumeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerKillParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DebugControllerKillResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.SocksSupportInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.SocksSupportSocksRequestedEvent=(0,Me.tObject)({uid:Me.tString,host:Me.tString,port:Me.tInt});Me.scheme.SocksSupportSocksDataEvent=(0,Me.tObject)({uid:Me.tString,data:Me.tBinary});Me.scheme.SocksSupportSocksClosedEvent=(0,Me.tObject)({uid:Me.tString});Me.scheme.SocksSupportSocksConnectedParams=(0,Me.tObject)({uid:Me.tString,host:Me.tString,port:Me.tInt});Me.scheme.SocksSupportSocksConnectedResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.SocksSupportSocksFailedParams=(0,Me.tObject)({uid:Me.tString,errorCode:Me.tString});Me.scheme.SocksSupportSocksFailedResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.SocksSupportSocksDataParams=(0,Me.tObject)({uid:Me.tString,data:Me.tBinary});Me.scheme.SocksSupportSocksDataResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.SocksSupportSocksErrorParams=(0,Me.tObject)({uid:Me.tString,error:Me.tString});Me.scheme.SocksSupportSocksErrorResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.SocksSupportSocksEndParams=(0,Me.tObject)({uid:Me.tString});Me.scheme.SocksSupportSocksEndResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserTypeInitializer=(0,Me.tObject)({executablePath:Me.tString,name:Me.tString});Me.scheme.BrowserTypeLaunchParams=(0,Me.tObject)({channel:(0,Me.tOptional)(Me.tString),executablePath:(0,Me.tOptional)(Me.tString),args:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),ignoreAllDefaultArgs:(0,Me.tOptional)(Me.tBoolean),ignoreDefaultArgs:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),assistantMode:(0,Me.tOptional)(Me.tBoolean),handleSIGINT:(0,Me.tOptional)(Me.tBoolean),handleSIGTERM:(0,Me.tOptional)(Me.tBoolean),handleSIGHUP:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat,env:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),headless:(0,Me.tOptional)(Me.tBoolean),devtools:(0,Me.tOptional)(Me.tBoolean),proxy:(0,Me.tOptional)((0,Me.tObject)({server:Me.tString,bypass:(0,Me.tOptional)(Me.tString),username:(0,Me.tOptional)(Me.tString),password:(0,Me.tOptional)(Me.tString)})),downloadsPath:(0,Me.tOptional)(Me.tString),tracesDir:(0,Me.tOptional)(Me.tString),chromiumSandbox:(0,Me.tOptional)(Me.tBoolean),firefoxUserPrefs:(0,Me.tOptional)(Me.tAny),cdpPort:(0,Me.tOptional)(Me.tInt),slowMo:(0,Me.tOptional)(Me.tFloat)});Me.scheme.BrowserTypeLaunchResult=(0,Me.tObject)({browser:(0,Me.tChannel)(["Browser"])});Me.scheme.BrowserTypeLaunchPersistentContextParams=(0,Me.tObject)({channel:(0,Me.tOptional)(Me.tString),executablePath:(0,Me.tOptional)(Me.tString),args:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),ignoreAllDefaultArgs:(0,Me.tOptional)(Me.tBoolean),ignoreDefaultArgs:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),assistantMode:(0,Me.tOptional)(Me.tBoolean),handleSIGINT:(0,Me.tOptional)(Me.tBoolean),handleSIGTERM:(0,Me.tOptional)(Me.tBoolean),handleSIGHUP:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat,env:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),headless:(0,Me.tOptional)(Me.tBoolean),devtools:(0,Me.tOptional)(Me.tBoolean),proxy:(0,Me.tOptional)((0,Me.tObject)({server:Me.tString,bypass:(0,Me.tOptional)(Me.tString),username:(0,Me.tOptional)(Me.tString),password:(0,Me.tOptional)(Me.tString)})),downloadsPath:(0,Me.tOptional)(Me.tString),tracesDir:(0,Me.tOptional)(Me.tString),chromiumSandbox:(0,Me.tOptional)(Me.tBoolean),firefoxUserPrefs:(0,Me.tOptional)(Me.tAny),cdpPort:(0,Me.tOptional)(Me.tInt),noDefaultViewport:(0,Me.tOptional)(Me.tBoolean),viewport:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),screen:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),ignoreHTTPSErrors:(0,Me.tOptional)(Me.tBoolean),clientCertificates:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({origin:Me.tString,cert:(0,Me.tOptional)(Me.tBinary),key:(0,Me.tOptional)(Me.tBinary),passphrase:(0,Me.tOptional)(Me.tString),pfx:(0,Me.tOptional)(Me.tBinary)}))),javaScriptEnabled:(0,Me.tOptional)(Me.tBoolean),bypassCSP:(0,Me.tOptional)(Me.tBoolean),userAgent:(0,Me.tOptional)(Me.tString),locale:(0,Me.tOptional)(Me.tString),timezoneId:(0,Me.tOptional)(Me.tString),geolocation:(0,Me.tOptional)((0,Me.tObject)({longitude:Me.tFloat,latitude:Me.tFloat,accuracy:(0,Me.tOptional)(Me.tFloat)})),permissions:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),extraHTTPHeaders:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),offline:(0,Me.tOptional)(Me.tBoolean),httpCredentials:(0,Me.tOptional)((0,Me.tObject)({username:Me.tString,password:Me.tString,origin:(0,Me.tOptional)(Me.tString),send:(0,Me.tOptional)((0,Me.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Me.tOptional)(Me.tFloat),isMobile:(0,Me.tOptional)(Me.tBoolean),hasTouch:(0,Me.tOptional)(Me.tBoolean),colorScheme:(0,Me.tOptional)((0,Me.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Me.tOptional)((0,Me.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Me.tOptional)((0,Me.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Me.tOptional)((0,Me.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Me.tOptional)((0,Me.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Me.tOptional)(Me.tString),recordVideo:(0,Me.tOptional)((0,Me.tObject)({dir:Me.tString,size:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt}))})),strictSelectors:(0,Me.tOptional)(Me.tBoolean),serviceWorkers:(0,Me.tOptional)((0,Me.tEnum)(["allow","block"])),selectorEngines:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SelectorEngine"))),testIdAttributeName:(0,Me.tOptional)(Me.tString),userDataDir:Me.tString,slowMo:(0,Me.tOptional)(Me.tFloat)});Me.scheme.BrowserTypeLaunchPersistentContextResult=(0,Me.tObject)({browser:(0,Me.tChannel)(["Browser"]),context:(0,Me.tChannel)(["BrowserContext"])});Me.scheme.BrowserTypeConnectOverCDPParams=(0,Me.tObject)({endpointURL:Me.tString,headers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),slowMo:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.BrowserTypeConnectOverCDPResult=(0,Me.tObject)({browser:(0,Me.tChannel)(["Browser"]),defaultContext:(0,Me.tOptional)((0,Me.tChannel)(["BrowserContext"]))});Me.scheme.BrowserInitializer=(0,Me.tObject)({version:Me.tString,name:Me.tString});Me.scheme.BrowserContextEvent=(0,Me.tObject)({context:(0,Me.tChannel)(["BrowserContext"])});Me.scheme.BrowserCloseEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserCloseParams=(0,Me.tObject)({reason:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserKillForTestsParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserKillForTestsResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserDefaultUserAgentForTestParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserDefaultUserAgentForTestResult=(0,Me.tObject)({userAgent:Me.tString});Me.scheme.BrowserNewContextParams=(0,Me.tObject)({noDefaultViewport:(0,Me.tOptional)(Me.tBoolean),viewport:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),screen:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),ignoreHTTPSErrors:(0,Me.tOptional)(Me.tBoolean),clientCertificates:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({origin:Me.tString,cert:(0,Me.tOptional)(Me.tBinary),key:(0,Me.tOptional)(Me.tBinary),passphrase:(0,Me.tOptional)(Me.tString),pfx:(0,Me.tOptional)(Me.tBinary)}))),javaScriptEnabled:(0,Me.tOptional)(Me.tBoolean),bypassCSP:(0,Me.tOptional)(Me.tBoolean),userAgent:(0,Me.tOptional)(Me.tString),locale:(0,Me.tOptional)(Me.tString),timezoneId:(0,Me.tOptional)(Me.tString),geolocation:(0,Me.tOptional)((0,Me.tObject)({longitude:Me.tFloat,latitude:Me.tFloat,accuracy:(0,Me.tOptional)(Me.tFloat)})),permissions:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),extraHTTPHeaders:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),offline:(0,Me.tOptional)(Me.tBoolean),httpCredentials:(0,Me.tOptional)((0,Me.tObject)({username:Me.tString,password:Me.tString,origin:(0,Me.tOptional)(Me.tString),send:(0,Me.tOptional)((0,Me.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Me.tOptional)(Me.tFloat),isMobile:(0,Me.tOptional)(Me.tBoolean),hasTouch:(0,Me.tOptional)(Me.tBoolean),colorScheme:(0,Me.tOptional)((0,Me.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Me.tOptional)((0,Me.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Me.tOptional)((0,Me.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Me.tOptional)((0,Me.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Me.tOptional)((0,Me.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Me.tOptional)(Me.tString),recordVideo:(0,Me.tOptional)((0,Me.tObject)({dir:Me.tString,size:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt}))})),strictSelectors:(0,Me.tOptional)(Me.tBoolean),serviceWorkers:(0,Me.tOptional)((0,Me.tEnum)(["allow","block"])),selectorEngines:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SelectorEngine"))),testIdAttributeName:(0,Me.tOptional)(Me.tString),proxy:(0,Me.tOptional)((0,Me.tObject)({server:Me.tString,bypass:(0,Me.tOptional)(Me.tString),username:(0,Me.tOptional)(Me.tString),password:(0,Me.tOptional)(Me.tString)})),storageState:(0,Me.tOptional)((0,Me.tObject)({cookies:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SetNetworkCookie"))),origins:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SetOriginStorage")))}))});Me.scheme.BrowserNewContextResult=(0,Me.tObject)({context:(0,Me.tChannel)(["BrowserContext"])});Me.scheme.BrowserNewContextForReuseParams=(0,Me.tObject)({noDefaultViewport:(0,Me.tOptional)(Me.tBoolean),viewport:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),screen:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),ignoreHTTPSErrors:(0,Me.tOptional)(Me.tBoolean),clientCertificates:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({origin:Me.tString,cert:(0,Me.tOptional)(Me.tBinary),key:(0,Me.tOptional)(Me.tBinary),passphrase:(0,Me.tOptional)(Me.tString),pfx:(0,Me.tOptional)(Me.tBinary)}))),javaScriptEnabled:(0,Me.tOptional)(Me.tBoolean),bypassCSP:(0,Me.tOptional)(Me.tBoolean),userAgent:(0,Me.tOptional)(Me.tString),locale:(0,Me.tOptional)(Me.tString),timezoneId:(0,Me.tOptional)(Me.tString),geolocation:(0,Me.tOptional)((0,Me.tObject)({longitude:Me.tFloat,latitude:Me.tFloat,accuracy:(0,Me.tOptional)(Me.tFloat)})),permissions:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),extraHTTPHeaders:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),offline:(0,Me.tOptional)(Me.tBoolean),httpCredentials:(0,Me.tOptional)((0,Me.tObject)({username:Me.tString,password:Me.tString,origin:(0,Me.tOptional)(Me.tString),send:(0,Me.tOptional)((0,Me.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Me.tOptional)(Me.tFloat),isMobile:(0,Me.tOptional)(Me.tBoolean),hasTouch:(0,Me.tOptional)(Me.tBoolean),colorScheme:(0,Me.tOptional)((0,Me.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Me.tOptional)((0,Me.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Me.tOptional)((0,Me.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Me.tOptional)((0,Me.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Me.tOptional)((0,Me.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Me.tOptional)(Me.tString),recordVideo:(0,Me.tOptional)((0,Me.tObject)({dir:Me.tString,size:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt}))})),strictSelectors:(0,Me.tOptional)(Me.tBoolean),serviceWorkers:(0,Me.tOptional)((0,Me.tEnum)(["allow","block"])),selectorEngines:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SelectorEngine"))),testIdAttributeName:(0,Me.tOptional)(Me.tString),proxy:(0,Me.tOptional)((0,Me.tObject)({server:Me.tString,bypass:(0,Me.tOptional)(Me.tString),username:(0,Me.tOptional)(Me.tString),password:(0,Me.tOptional)(Me.tString)})),storageState:(0,Me.tOptional)((0,Me.tObject)({cookies:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SetNetworkCookie"))),origins:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SetOriginStorage")))}))});Me.scheme.BrowserNewContextForReuseResult=(0,Me.tObject)({context:(0,Me.tChannel)(["BrowserContext"])});Me.scheme.BrowserDisconnectFromReusedContextParams=(0,Me.tObject)({reason:Me.tString});Me.scheme.BrowserDisconnectFromReusedContextResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserNewBrowserCDPSessionParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserNewBrowserCDPSessionResult=(0,Me.tObject)({session:(0,Me.tChannel)(["CDPSession"])});Me.scheme.BrowserStartTracingParams=(0,Me.tObject)({page:(0,Me.tOptional)((0,Me.tChannel)(["Page"])),screenshots:(0,Me.tOptional)(Me.tBoolean),categories:(0,Me.tOptional)((0,Me.tArray)(Me.tString))});Me.scheme.BrowserStartTracingResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserStopTracingParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserStopTracingResult=(0,Me.tObject)({artifact:(0,Me.tChannel)(["Artifact"])});Me.scheme.EventTargetInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.EventTargetWaitForEventInfoParams=(0,Me.tObject)({info:(0,Me.tObject)({waitId:Me.tString,phase:(0,Me.tEnum)(["before","after","log"]),event:(0,Me.tOptional)(Me.tString),message:(0,Me.tOptional)(Me.tString),error:(0,Me.tOptional)(Me.tString)})});Me.scheme.BrowserContextWaitForEventInfoParams=(0,Me.tType)("EventTargetWaitForEventInfoParams");Me.scheme.PageWaitForEventInfoParams=(0,Me.tType)("EventTargetWaitForEventInfoParams");Me.scheme.WorkerWaitForEventInfoParams=(0,Me.tType)("EventTargetWaitForEventInfoParams");Me.scheme.WebSocketWaitForEventInfoParams=(0,Me.tType)("EventTargetWaitForEventInfoParams");Me.scheme.ElectronApplicationWaitForEventInfoParams=(0,Me.tType)("EventTargetWaitForEventInfoParams");Me.scheme.AndroidDeviceWaitForEventInfoParams=(0,Me.tType)("EventTargetWaitForEventInfoParams");Me.scheme.EventTargetWaitForEventInfoResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextWaitForEventInfoResult=(0,Me.tType)("EventTargetWaitForEventInfoResult");Me.scheme.PageWaitForEventInfoResult=(0,Me.tType)("EventTargetWaitForEventInfoResult");Me.scheme.WorkerWaitForEventInfoResult=(0,Me.tType)("EventTargetWaitForEventInfoResult");Me.scheme.WebSocketWaitForEventInfoResult=(0,Me.tType)("EventTargetWaitForEventInfoResult");Me.scheme.ElectronApplicationWaitForEventInfoResult=(0,Me.tType)("EventTargetWaitForEventInfoResult");Me.scheme.AndroidDeviceWaitForEventInfoResult=(0,Me.tType)("EventTargetWaitForEventInfoResult");Me.scheme.BrowserContextInitializer=(0,Me.tObject)({isChromium:Me.tBoolean,requestContext:(0,Me.tChannel)(["APIRequestContext"]),tracing:(0,Me.tChannel)(["Tracing"]),options:(0,Me.tObject)({noDefaultViewport:(0,Me.tOptional)(Me.tBoolean),viewport:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),screen:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),ignoreHTTPSErrors:(0,Me.tOptional)(Me.tBoolean),clientCertificates:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({origin:Me.tString,cert:(0,Me.tOptional)(Me.tBinary),key:(0,Me.tOptional)(Me.tBinary),passphrase:(0,Me.tOptional)(Me.tString),pfx:(0,Me.tOptional)(Me.tBinary)}))),javaScriptEnabled:(0,Me.tOptional)(Me.tBoolean),bypassCSP:(0,Me.tOptional)(Me.tBoolean),userAgent:(0,Me.tOptional)(Me.tString),locale:(0,Me.tOptional)(Me.tString),timezoneId:(0,Me.tOptional)(Me.tString),geolocation:(0,Me.tOptional)((0,Me.tObject)({longitude:Me.tFloat,latitude:Me.tFloat,accuracy:(0,Me.tOptional)(Me.tFloat)})),permissions:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),extraHTTPHeaders:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),offline:(0,Me.tOptional)(Me.tBoolean),httpCredentials:(0,Me.tOptional)((0,Me.tObject)({username:Me.tString,password:Me.tString,origin:(0,Me.tOptional)(Me.tString),send:(0,Me.tOptional)((0,Me.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Me.tOptional)(Me.tFloat),isMobile:(0,Me.tOptional)(Me.tBoolean),hasTouch:(0,Me.tOptional)(Me.tBoolean),colorScheme:(0,Me.tOptional)((0,Me.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Me.tOptional)((0,Me.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Me.tOptional)((0,Me.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Me.tOptional)((0,Me.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Me.tOptional)((0,Me.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Me.tOptional)(Me.tString),recordVideo:(0,Me.tOptional)((0,Me.tObject)({dir:Me.tString,size:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt}))})),strictSelectors:(0,Me.tOptional)(Me.tBoolean),serviceWorkers:(0,Me.tOptional)((0,Me.tEnum)(["allow","block"])),selectorEngines:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SelectorEngine"))),testIdAttributeName:(0,Me.tOptional)(Me.tString)})});Me.scheme.BrowserContextBindingCallEvent=(0,Me.tObject)({binding:(0,Me.tChannel)(["BindingCall"])});Me.scheme.BrowserContextConsoleEvent=(0,Me.tObject)({type:Me.tString,text:Me.tString,args:(0,Me.tArray)((0,Me.tChannel)(["ElementHandle","JSHandle"])),location:(0,Me.tObject)({url:Me.tString,lineNumber:Me.tInt,columnNumber:Me.tInt}),page:(0,Me.tOptional)((0,Me.tChannel)(["Page"])),worker:(0,Me.tOptional)((0,Me.tChannel)(["Worker"]))});Me.scheme.BrowserContextCloseEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextDialogEvent=(0,Me.tObject)({dialog:(0,Me.tChannel)(["Dialog"])});Me.scheme.BrowserContextPageEvent=(0,Me.tObject)({page:(0,Me.tChannel)(["Page"])});Me.scheme.BrowserContextPageErrorEvent=(0,Me.tObject)({error:(0,Me.tType)("SerializedError"),page:(0,Me.tChannel)(["Page"])});Me.scheme.BrowserContextRouteEvent=(0,Me.tObject)({route:(0,Me.tChannel)(["Route"])});Me.scheme.BrowserContextWebSocketRouteEvent=(0,Me.tObject)({webSocketRoute:(0,Me.tChannel)(["WebSocketRoute"])});Me.scheme.BrowserContextVideoEvent=(0,Me.tObject)({artifact:(0,Me.tChannel)(["Artifact"])});Me.scheme.BrowserContextServiceWorkerEvent=(0,Me.tObject)({worker:(0,Me.tChannel)(["Worker"])});Me.scheme.BrowserContextRequestEvent=(0,Me.tObject)({request:(0,Me.tChannel)(["Request"]),page:(0,Me.tOptional)((0,Me.tChannel)(["Page"]))});Me.scheme.BrowserContextRequestFailedEvent=(0,Me.tObject)({request:(0,Me.tChannel)(["Request"]),failureText:(0,Me.tOptional)(Me.tString),responseEndTiming:Me.tFloat,page:(0,Me.tOptional)((0,Me.tChannel)(["Page"]))});Me.scheme.BrowserContextRequestFinishedEvent=(0,Me.tObject)({request:(0,Me.tChannel)(["Request"]),response:(0,Me.tOptional)((0,Me.tChannel)(["Response"])),responseEndTiming:Me.tFloat,page:(0,Me.tOptional)((0,Me.tChannel)(["Page"]))});Me.scheme.BrowserContextResponseEvent=(0,Me.tObject)({response:(0,Me.tChannel)(["Response"]),page:(0,Me.tOptional)((0,Me.tChannel)(["Page"]))});Me.scheme.BrowserContextRecorderEventEvent=(0,Me.tObject)({event:(0,Me.tEnum)(["actionAdded","actionUpdated","signalAdded"]),data:Me.tAny,page:(0,Me.tChannel)(["Page"]),code:Me.tString});Me.scheme.BrowserContextAddCookiesParams=(0,Me.tObject)({cookies:(0,Me.tArray)((0,Me.tType)("SetNetworkCookie"))});Me.scheme.BrowserContextAddCookiesResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextAddInitScriptParams=(0,Me.tObject)({source:Me.tString});Me.scheme.BrowserContextAddInitScriptResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClearCookiesParams=(0,Me.tObject)({name:(0,Me.tOptional)(Me.tString),nameRegexSource:(0,Me.tOptional)(Me.tString),nameRegexFlags:(0,Me.tOptional)(Me.tString),domain:(0,Me.tOptional)(Me.tString),domainRegexSource:(0,Me.tOptional)(Me.tString),domainRegexFlags:(0,Me.tOptional)(Me.tString),path:(0,Me.tOptional)(Me.tString),pathRegexSource:(0,Me.tOptional)(Me.tString),pathRegexFlags:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextClearCookiesResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClearPermissionsParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClearPermissionsResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextCloseParams=(0,Me.tObject)({reason:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextCookiesParams=(0,Me.tObject)({urls:(0,Me.tArray)(Me.tString)});Me.scheme.BrowserContextCookiesResult=(0,Me.tObject)({cookies:(0,Me.tArray)((0,Me.tType)("NetworkCookie"))});Me.scheme.BrowserContextExposeBindingParams=(0,Me.tObject)({name:Me.tString,needsHandle:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.BrowserContextExposeBindingResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextGrantPermissionsParams=(0,Me.tObject)({permissions:(0,Me.tArray)(Me.tString),origin:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextGrantPermissionsResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextNewPageParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextNewPageResult=(0,Me.tObject)({page:(0,Me.tChannel)(["Page"])});Me.scheme.BrowserContextRegisterSelectorEngineParams=(0,Me.tObject)({selectorEngine:(0,Me.tType)("SelectorEngine")});Me.scheme.BrowserContextRegisterSelectorEngineResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextSetTestIdAttributeNameParams=(0,Me.tObject)({testIdAttributeName:Me.tString});Me.scheme.BrowserContextSetTestIdAttributeNameResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextSetExtraHTTPHeadersParams=(0,Me.tObject)({headers:(0,Me.tArray)((0,Me.tType)("NameValue"))});Me.scheme.BrowserContextSetExtraHTTPHeadersResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextSetGeolocationParams=(0,Me.tObject)({geolocation:(0,Me.tOptional)((0,Me.tObject)({longitude:Me.tFloat,latitude:Me.tFloat,accuracy:(0,Me.tOptional)(Me.tFloat)}))});Me.scheme.BrowserContextSetGeolocationResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextSetHTTPCredentialsParams=(0,Me.tObject)({httpCredentials:(0,Me.tOptional)((0,Me.tObject)({username:Me.tString,password:Me.tString,origin:(0,Me.tOptional)(Me.tString)}))});Me.scheme.BrowserContextSetHTTPCredentialsResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextSetNetworkInterceptionPatternsParams=(0,Me.tObject)({patterns:(0,Me.tArray)((0,Me.tObject)({glob:(0,Me.tOptional)(Me.tString),regexSource:(0,Me.tOptional)(Me.tString),regexFlags:(0,Me.tOptional)(Me.tString)}))});Me.scheme.BrowserContextSetNetworkInterceptionPatternsResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextSetWebSocketInterceptionPatternsParams=(0,Me.tObject)({patterns:(0,Me.tArray)((0,Me.tObject)({glob:(0,Me.tOptional)(Me.tString),regexSource:(0,Me.tOptional)(Me.tString),regexFlags:(0,Me.tOptional)(Me.tString)}))});Me.scheme.BrowserContextSetWebSocketInterceptionPatternsResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextSetOfflineParams=(0,Me.tObject)({offline:Me.tBoolean});Me.scheme.BrowserContextSetOfflineResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextStorageStateParams=(0,Me.tObject)({indexedDB:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.BrowserContextStorageStateResult=(0,Me.tObject)({cookies:(0,Me.tArray)((0,Me.tType)("NetworkCookie")),origins:(0,Me.tArray)((0,Me.tType)("OriginStorage"))});Me.scheme.BrowserContextPauseParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextPauseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextEnableRecorderParams=(0,Me.tObject)({language:(0,Me.tOptional)(Me.tString),mode:(0,Me.tOptional)((0,Me.tEnum)(["inspecting","recording"])),recorderMode:(0,Me.tOptional)((0,Me.tEnum)(["default","api"])),pauseOnNextStatement:(0,Me.tOptional)(Me.tBoolean),testIdAttributeName:(0,Me.tOptional)(Me.tString),launchOptions:(0,Me.tOptional)(Me.tAny),contextOptions:(0,Me.tOptional)(Me.tAny),device:(0,Me.tOptional)(Me.tString),saveStorage:(0,Me.tOptional)(Me.tString),outputFile:(0,Me.tOptional)(Me.tString),handleSIGINT:(0,Me.tOptional)(Me.tBoolean),omitCallTracking:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.BrowserContextEnableRecorderResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextDisableRecorderParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextDisableRecorderResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextNewCDPSessionParams=(0,Me.tObject)({page:(0,Me.tOptional)((0,Me.tChannel)(["Page"])),frame:(0,Me.tOptional)((0,Me.tChannel)(["Frame"]))});Me.scheme.BrowserContextNewCDPSessionResult=(0,Me.tObject)({session:(0,Me.tChannel)(["CDPSession"])});Me.scheme.BrowserContextHarStartParams=(0,Me.tObject)({page:(0,Me.tOptional)((0,Me.tChannel)(["Page"])),options:(0,Me.tType)("RecordHarOptions")});Me.scheme.BrowserContextHarStartResult=(0,Me.tObject)({harId:Me.tString});Me.scheme.BrowserContextHarExportParams=(0,Me.tObject)({harId:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextHarExportResult=(0,Me.tObject)({artifact:(0,Me.tChannel)(["Artifact"])});Me.scheme.BrowserContextCreateTempFilesParams=(0,Me.tObject)({rootDirName:(0,Me.tOptional)(Me.tString),items:(0,Me.tArray)((0,Me.tObject)({name:Me.tString,lastModifiedMs:(0,Me.tOptional)(Me.tFloat)}))});Me.scheme.BrowserContextCreateTempFilesResult=(0,Me.tObject)({rootDir:(0,Me.tOptional)((0,Me.tChannel)(["WritableStream"])),writableStreams:(0,Me.tArray)((0,Me.tChannel)(["WritableStream"]))});Me.scheme.BrowserContextUpdateSubscriptionParams=(0,Me.tObject)({event:(0,Me.tEnum)(["console","dialog","request","response","requestFinished","requestFailed"]),enabled:Me.tBoolean});Me.scheme.BrowserContextUpdateSubscriptionResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClockFastForwardParams=(0,Me.tObject)({ticksNumber:(0,Me.tOptional)(Me.tFloat),ticksString:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextClockFastForwardResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClockInstallParams=(0,Me.tObject)({timeNumber:(0,Me.tOptional)(Me.tFloat),timeString:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextClockInstallResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClockPauseAtParams=(0,Me.tObject)({timeNumber:(0,Me.tOptional)(Me.tFloat),timeString:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextClockPauseAtResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClockResumeParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClockResumeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClockRunForParams=(0,Me.tObject)({ticksNumber:(0,Me.tOptional)(Me.tFloat),ticksString:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextClockRunForResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClockSetFixedTimeParams=(0,Me.tObject)({timeNumber:(0,Me.tOptional)(Me.tFloat),timeString:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextClockSetFixedTimeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BrowserContextClockSetSystemTimeParams=(0,Me.tObject)({timeNumber:(0,Me.tOptional)(Me.tFloat),timeString:(0,Me.tOptional)(Me.tString)});Me.scheme.BrowserContextClockSetSystemTimeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageInitializer=(0,Me.tObject)({mainFrame:(0,Me.tChannel)(["Frame"]),viewportSize:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),isClosed:Me.tBoolean,opener:(0,Me.tOptional)((0,Me.tChannel)(["Page"]))});Me.scheme.PageBindingCallEvent=(0,Me.tObject)({binding:(0,Me.tChannel)(["BindingCall"])});Me.scheme.PageCloseEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageCrashEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageDownloadEvent=(0,Me.tObject)({url:Me.tString,suggestedFilename:Me.tString,artifact:(0,Me.tChannel)(["Artifact"])});Me.scheme.PageViewportSizeChangedEvent=(0,Me.tObject)({viewportSize:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt}))});Me.scheme.PageFileChooserEvent=(0,Me.tObject)({element:(0,Me.tChannel)(["ElementHandle"]),isMultiple:Me.tBoolean});Me.scheme.PageFrameAttachedEvent=(0,Me.tObject)({frame:(0,Me.tChannel)(["Frame"])});Me.scheme.PageFrameDetachedEvent=(0,Me.tObject)({frame:(0,Me.tChannel)(["Frame"])});Me.scheme.PageLocatorHandlerTriggeredEvent=(0,Me.tObject)({uid:Me.tInt});Me.scheme.PageRouteEvent=(0,Me.tObject)({route:(0,Me.tChannel)(["Route"])});Me.scheme.PageWebSocketRouteEvent=(0,Me.tObject)({webSocketRoute:(0,Me.tChannel)(["WebSocketRoute"])});Me.scheme.PageVideoEvent=(0,Me.tObject)({artifact:(0,Me.tChannel)(["Artifact"])});Me.scheme.PageWebSocketEvent=(0,Me.tObject)({webSocket:(0,Me.tChannel)(["WebSocket"])});Me.scheme.PageWorkerEvent=(0,Me.tObject)({worker:(0,Me.tChannel)(["Worker"])});Me.scheme.PageAddInitScriptParams=(0,Me.tObject)({source:Me.tString});Me.scheme.PageAddInitScriptResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageCloseParams=(0,Me.tObject)({runBeforeUnload:(0,Me.tOptional)(Me.tBoolean),reason:(0,Me.tOptional)(Me.tString)});Me.scheme.PageCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageConsoleMessagesParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageConsoleMessagesResult=(0,Me.tObject)({messages:(0,Me.tArray)((0,Me.tObject)({type:Me.tString,text:Me.tString,args:(0,Me.tArray)((0,Me.tChannel)(["ElementHandle","JSHandle"])),location:(0,Me.tObject)({url:Me.tString,lineNumber:Me.tInt,columnNumber:Me.tInt})}))});Me.scheme.PageEmulateMediaParams=(0,Me.tObject)({media:(0,Me.tOptional)((0,Me.tEnum)(["screen","print","no-override"])),colorScheme:(0,Me.tOptional)((0,Me.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Me.tOptional)((0,Me.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Me.tOptional)((0,Me.tEnum)(["active","none","no-override"])),contrast:(0,Me.tOptional)((0,Me.tEnum)(["no-preference","more","no-override"]))});Me.scheme.PageEmulateMediaResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageExposeBindingParams=(0,Me.tObject)({name:Me.tString,needsHandle:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.PageExposeBindingResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageGoBackParams=(0,Me.tObject)({timeout:Me.tFloat,waitUntil:(0,Me.tOptional)((0,Me.tType)("LifecycleEvent"))});Me.scheme.PageGoBackResult=(0,Me.tObject)({response:(0,Me.tOptional)((0,Me.tChannel)(["Response"]))});Me.scheme.PageGoForwardParams=(0,Me.tObject)({timeout:Me.tFloat,waitUntil:(0,Me.tOptional)((0,Me.tType)("LifecycleEvent"))});Me.scheme.PageGoForwardResult=(0,Me.tObject)({response:(0,Me.tOptional)((0,Me.tChannel)(["Response"]))});Me.scheme.PageRequestGCParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageRequestGCResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageRegisterLocatorHandlerParams=(0,Me.tObject)({selector:Me.tString,noWaitAfter:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.PageRegisterLocatorHandlerResult=(0,Me.tObject)({uid:Me.tInt});Me.scheme.PageResolveLocatorHandlerNoReplyParams=(0,Me.tObject)({uid:Me.tInt,remove:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.PageResolveLocatorHandlerNoReplyResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageUnregisterLocatorHandlerParams=(0,Me.tObject)({uid:Me.tInt});Me.scheme.PageUnregisterLocatorHandlerResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageReloadParams=(0,Me.tObject)({timeout:Me.tFloat,waitUntil:(0,Me.tOptional)((0,Me.tType)("LifecycleEvent"))});Me.scheme.PageReloadResult=(0,Me.tObject)({response:(0,Me.tOptional)((0,Me.tChannel)(["Response"]))});Me.scheme.PageExpectScreenshotParams=(0,Me.tObject)({expected:(0,Me.tOptional)(Me.tBinary),timeout:Me.tFloat,isNot:Me.tBoolean,locator:(0,Me.tOptional)((0,Me.tObject)({frame:(0,Me.tChannel)(["Frame"]),selector:Me.tString})),comparator:(0,Me.tOptional)(Me.tString),maxDiffPixels:(0,Me.tOptional)(Me.tInt),maxDiffPixelRatio:(0,Me.tOptional)(Me.tFloat),threshold:(0,Me.tOptional)(Me.tFloat),fullPage:(0,Me.tOptional)(Me.tBoolean),clip:(0,Me.tOptional)((0,Me.tType)("Rect")),omitBackground:(0,Me.tOptional)(Me.tBoolean),caret:(0,Me.tOptional)((0,Me.tEnum)(["hide","initial"])),animations:(0,Me.tOptional)((0,Me.tEnum)(["disabled","allow"])),scale:(0,Me.tOptional)((0,Me.tEnum)(["css","device"])),mask:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({frame:(0,Me.tChannel)(["Frame"]),selector:Me.tString}))),maskColor:(0,Me.tOptional)(Me.tString),style:(0,Me.tOptional)(Me.tString)});Me.scheme.PageExpectScreenshotResult=(0,Me.tObject)({diff:(0,Me.tOptional)(Me.tBinary),errorMessage:(0,Me.tOptional)(Me.tString),actual:(0,Me.tOptional)(Me.tBinary),previous:(0,Me.tOptional)(Me.tBinary),timedOut:(0,Me.tOptional)(Me.tBoolean),log:(0,Me.tOptional)((0,Me.tArray)(Me.tString))});Me.scheme.PageScreenshotParams=(0,Me.tObject)({timeout:Me.tFloat,type:(0,Me.tOptional)((0,Me.tEnum)(["png","jpeg"])),quality:(0,Me.tOptional)(Me.tInt),fullPage:(0,Me.tOptional)(Me.tBoolean),clip:(0,Me.tOptional)((0,Me.tType)("Rect")),omitBackground:(0,Me.tOptional)(Me.tBoolean),caret:(0,Me.tOptional)((0,Me.tEnum)(["hide","initial"])),animations:(0,Me.tOptional)((0,Me.tEnum)(["disabled","allow"])),scale:(0,Me.tOptional)((0,Me.tEnum)(["css","device"])),mask:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({frame:(0,Me.tChannel)(["Frame"]),selector:Me.tString}))),maskColor:(0,Me.tOptional)(Me.tString),style:(0,Me.tOptional)(Me.tString)});Me.scheme.PageScreenshotResult=(0,Me.tObject)({binary:Me.tBinary});Me.scheme.PageSetExtraHTTPHeadersParams=(0,Me.tObject)({headers:(0,Me.tArray)((0,Me.tType)("NameValue"))});Me.scheme.PageSetExtraHTTPHeadersResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageSetNetworkInterceptionPatternsParams=(0,Me.tObject)({patterns:(0,Me.tArray)((0,Me.tObject)({glob:(0,Me.tOptional)(Me.tString),regexSource:(0,Me.tOptional)(Me.tString),regexFlags:(0,Me.tOptional)(Me.tString)}))});Me.scheme.PageSetNetworkInterceptionPatternsResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageSetWebSocketInterceptionPatternsParams=(0,Me.tObject)({patterns:(0,Me.tArray)((0,Me.tObject)({glob:(0,Me.tOptional)(Me.tString),regexSource:(0,Me.tOptional)(Me.tString),regexFlags:(0,Me.tOptional)(Me.tString)}))});Me.scheme.PageSetWebSocketInterceptionPatternsResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageSetViewportSizeParams=(0,Me.tObject)({viewportSize:(0,Me.tObject)({width:Me.tInt,height:Me.tInt})});Me.scheme.PageSetViewportSizeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageKeyboardDownParams=(0,Me.tObject)({key:Me.tString});Me.scheme.PageKeyboardDownResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageKeyboardUpParams=(0,Me.tObject)({key:Me.tString});Me.scheme.PageKeyboardUpResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageKeyboardInsertTextParams=(0,Me.tObject)({text:Me.tString});Me.scheme.PageKeyboardInsertTextResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageKeyboardTypeParams=(0,Me.tObject)({text:Me.tString,delay:(0,Me.tOptional)(Me.tFloat)});Me.scheme.PageKeyboardTypeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageKeyboardPressParams=(0,Me.tObject)({key:Me.tString,delay:(0,Me.tOptional)(Me.tFloat)});Me.scheme.PageKeyboardPressResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageMouseMoveParams=(0,Me.tObject)({x:Me.tFloat,y:Me.tFloat,steps:(0,Me.tOptional)(Me.tInt)});Me.scheme.PageMouseMoveResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageMouseDownParams=(0,Me.tObject)({button:(0,Me.tOptional)((0,Me.tEnum)(["left","right","middle"])),clickCount:(0,Me.tOptional)(Me.tInt)});Me.scheme.PageMouseDownResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageMouseUpParams=(0,Me.tObject)({button:(0,Me.tOptional)((0,Me.tEnum)(["left","right","middle"])),clickCount:(0,Me.tOptional)(Me.tInt)});Me.scheme.PageMouseUpResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageMouseClickParams=(0,Me.tObject)({x:Me.tFloat,y:Me.tFloat,delay:(0,Me.tOptional)(Me.tFloat),button:(0,Me.tOptional)((0,Me.tEnum)(["left","right","middle"])),clickCount:(0,Me.tOptional)(Me.tInt)});Me.scheme.PageMouseClickResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageMouseWheelParams=(0,Me.tObject)({deltaX:Me.tFloat,deltaY:Me.tFloat});Me.scheme.PageMouseWheelResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageTouchscreenTapParams=(0,Me.tObject)({x:Me.tFloat,y:Me.tFloat});Me.scheme.PageTouchscreenTapResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PagePageErrorsParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PagePageErrorsResult=(0,Me.tObject)({errors:(0,Me.tArray)((0,Me.tType)("SerializedError"))});Me.scheme.PagePdfParams=(0,Me.tObject)({scale:(0,Me.tOptional)(Me.tFloat),displayHeaderFooter:(0,Me.tOptional)(Me.tBoolean),headerTemplate:(0,Me.tOptional)(Me.tString),footerTemplate:(0,Me.tOptional)(Me.tString),printBackground:(0,Me.tOptional)(Me.tBoolean),landscape:(0,Me.tOptional)(Me.tBoolean),pageRanges:(0,Me.tOptional)(Me.tString),format:(0,Me.tOptional)(Me.tString),width:(0,Me.tOptional)(Me.tString),height:(0,Me.tOptional)(Me.tString),preferCSSPageSize:(0,Me.tOptional)(Me.tBoolean),margin:(0,Me.tOptional)((0,Me.tObject)({top:(0,Me.tOptional)(Me.tString),bottom:(0,Me.tOptional)(Me.tString),left:(0,Me.tOptional)(Me.tString),right:(0,Me.tOptional)(Me.tString)})),tagged:(0,Me.tOptional)(Me.tBoolean),outline:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.PagePdfResult=(0,Me.tObject)({pdf:Me.tBinary});Me.scheme.PageRequestsParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageRequestsResult=(0,Me.tObject)({requests:(0,Me.tArray)((0,Me.tChannel)(["Request"]))});Me.scheme.PageSnapshotForAIParams=(0,Me.tObject)({track:(0,Me.tOptional)(Me.tString),timeout:Me.tFloat});Me.scheme.PageSnapshotForAIResult=(0,Me.tObject)({full:Me.tString,incremental:(0,Me.tOptional)(Me.tString)});Me.scheme.PageStartJSCoverageParams=(0,Me.tObject)({resetOnNavigation:(0,Me.tOptional)(Me.tBoolean),reportAnonymousScripts:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.PageStartJSCoverageResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageStopJSCoverageParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageStopJSCoverageResult=(0,Me.tObject)({entries:(0,Me.tArray)((0,Me.tObject)({url:Me.tString,scriptId:Me.tString,source:(0,Me.tOptional)(Me.tString),functions:(0,Me.tArray)((0,Me.tObject)({functionName:Me.tString,isBlockCoverage:Me.tBoolean,ranges:(0,Me.tArray)((0,Me.tObject)({startOffset:Me.tInt,endOffset:Me.tInt,count:Me.tInt}))}))}))});Me.scheme.PageStartCSSCoverageParams=(0,Me.tObject)({resetOnNavigation:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.PageStartCSSCoverageResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageStopCSSCoverageParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageStopCSSCoverageResult=(0,Me.tObject)({entries:(0,Me.tArray)((0,Me.tObject)({url:Me.tString,text:(0,Me.tOptional)(Me.tString),ranges:(0,Me.tArray)((0,Me.tObject)({start:Me.tInt,end:Me.tInt}))}))});Me.scheme.PageBringToFrontParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageBringToFrontResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.PageUpdateSubscriptionParams=(0,Me.tObject)({event:(0,Me.tEnum)(["console","dialog","fileChooser","request","response","requestFinished","requestFailed"]),enabled:Me.tBoolean});Me.scheme.PageUpdateSubscriptionResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameInitializer=(0,Me.tObject)({url:Me.tString,name:Me.tString,parentFrame:(0,Me.tOptional)((0,Me.tChannel)(["Frame"])),loadStates:(0,Me.tArray)((0,Me.tType)("LifecycleEvent"))});Me.scheme.FrameLoadstateEvent=(0,Me.tObject)({add:(0,Me.tOptional)((0,Me.tType)("LifecycleEvent")),remove:(0,Me.tOptional)((0,Me.tType)("LifecycleEvent"))});Me.scheme.FrameNavigatedEvent=(0,Me.tObject)({url:Me.tString,name:Me.tString,newDocument:(0,Me.tOptional)((0,Me.tObject)({request:(0,Me.tOptional)((0,Me.tChannel)(["Request"]))})),error:(0,Me.tOptional)(Me.tString)});Me.scheme.FrameEvalOnSelectorParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.FrameEvalOnSelectorResult=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue")});Me.scheme.FrameEvalOnSelectorAllParams=(0,Me.tObject)({selector:Me.tString,expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.FrameEvalOnSelectorAllResult=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue")});Me.scheme.FrameAddScriptTagParams=(0,Me.tObject)({url:(0,Me.tOptional)(Me.tString),content:(0,Me.tOptional)(Me.tString),type:(0,Me.tOptional)(Me.tString)});Me.scheme.FrameAddScriptTagResult=(0,Me.tObject)({element:(0,Me.tChannel)(["ElementHandle"])});Me.scheme.FrameAddStyleTagParams=(0,Me.tObject)({url:(0,Me.tOptional)(Me.tString),content:(0,Me.tOptional)(Me.tString)});Me.scheme.FrameAddStyleTagResult=(0,Me.tObject)({element:(0,Me.tChannel)(["ElementHandle"])});Me.scheme.FrameAriaSnapshotParams=(0,Me.tObject)({selector:Me.tString,timeout:Me.tFloat});Me.scheme.FrameAriaSnapshotResult=(0,Me.tObject)({snapshot:Me.tString});Me.scheme.FrameBlurParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameBlurResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameCheckParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),force:(0,Me.tOptional)(Me.tBoolean),position:(0,Me.tOptional)((0,Me.tType)("Point")),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.FrameCheckResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameClickParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),force:(0,Me.tOptional)(Me.tBoolean),noWaitAfter:(0,Me.tOptional)(Me.tBoolean),modifiers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Me.tOptional)((0,Me.tType)("Point")),delay:(0,Me.tOptional)(Me.tFloat),button:(0,Me.tOptional)((0,Me.tEnum)(["left","right","middle"])),clickCount:(0,Me.tOptional)(Me.tInt),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean),steps:(0,Me.tOptional)(Me.tInt)});Me.scheme.FrameClickResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameContentParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameContentResult=(0,Me.tObject)({value:Me.tString});Me.scheme.FrameDragAndDropParams=(0,Me.tObject)({source:Me.tString,target:Me.tString,force:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean),sourcePosition:(0,Me.tOptional)((0,Me.tType)("Point")),targetPosition:(0,Me.tOptional)((0,Me.tType)("Point")),strict:(0,Me.tOptional)(Me.tBoolean),steps:(0,Me.tOptional)(Me.tInt)});Me.scheme.FrameDragAndDropResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameDblclickParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),force:(0,Me.tOptional)(Me.tBoolean),modifiers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Me.tOptional)((0,Me.tType)("Point")),delay:(0,Me.tOptional)(Me.tFloat),button:(0,Me.tOptional)((0,Me.tEnum)(["left","right","middle"])),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean),steps:(0,Me.tOptional)(Me.tInt)});Me.scheme.FrameDblclickResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameDispatchEventParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),type:Me.tString,eventInit:(0,Me.tType)("SerializedArgument"),timeout:Me.tFloat});Me.scheme.FrameDispatchEventResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameEvaluateExpressionParams=(0,Me.tObject)({expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.FrameEvaluateExpressionResult=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue")});Me.scheme.FrameEvaluateExpressionHandleParams=(0,Me.tObject)({expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.FrameEvaluateExpressionHandleResult=(0,Me.tObject)({handle:(0,Me.tChannel)(["ElementHandle","JSHandle"])});Me.scheme.FrameFillParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),value:Me.tString,force:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameFillResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameFocusParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameFocusResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameFrameElementParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameFrameElementResult=(0,Me.tObject)({element:(0,Me.tChannel)(["ElementHandle"])});Me.scheme.FrameResolveSelectorParams=(0,Me.tObject)({selector:Me.tString});Me.scheme.FrameResolveSelectorResult=(0,Me.tObject)({resolvedSelector:Me.tString});Me.scheme.FrameHighlightParams=(0,Me.tObject)({selector:Me.tString});Me.scheme.FrameHighlightResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameGetAttributeParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),name:Me.tString,timeout:Me.tFloat});Me.scheme.FrameGetAttributeResult=(0,Me.tObject)({value:(0,Me.tOptional)(Me.tString)});Me.scheme.FrameGotoParams=(0,Me.tObject)({url:Me.tString,timeout:Me.tFloat,waitUntil:(0,Me.tOptional)((0,Me.tType)("LifecycleEvent")),referer:(0,Me.tOptional)(Me.tString)});Me.scheme.FrameGotoResult=(0,Me.tObject)({response:(0,Me.tOptional)((0,Me.tChannel)(["Response"]))});Me.scheme.FrameHoverParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),force:(0,Me.tOptional)(Me.tBoolean),modifiers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Me.tOptional)((0,Me.tType)("Point")),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.FrameHoverResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameInnerHTMLParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameInnerHTMLResult=(0,Me.tObject)({value:Me.tString});Me.scheme.FrameInnerTextParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameInnerTextResult=(0,Me.tObject)({value:Me.tString});Me.scheme.FrameInputValueParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameInputValueResult=(0,Me.tObject)({value:Me.tString});Me.scheme.FrameIsCheckedParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameIsCheckedResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.FrameIsDisabledParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameIsDisabledResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.FrameIsEnabledParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameIsEnabledResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.FrameIsHiddenParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.FrameIsHiddenResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.FrameIsVisibleParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.FrameIsVisibleResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.FrameIsEditableParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameIsEditableResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.FramePressParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),key:Me.tString,delay:(0,Me.tOptional)(Me.tFloat),noWaitAfter:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FramePressResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameQuerySelectorParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.FrameQuerySelectorResult=(0,Me.tObject)({element:(0,Me.tOptional)((0,Me.tChannel)(["ElementHandle"]))});Me.scheme.FrameQuerySelectorAllParams=(0,Me.tObject)({selector:Me.tString});Me.scheme.FrameQuerySelectorAllResult=(0,Me.tObject)({elements:(0,Me.tArray)((0,Me.tChannel)(["ElementHandle"]))});Me.scheme.FrameQueryCountParams=(0,Me.tObject)({selector:Me.tString});Me.scheme.FrameQueryCountResult=(0,Me.tObject)({value:Me.tInt});Me.scheme.FrameSelectOptionParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),elements:(0,Me.tOptional)((0,Me.tArray)((0,Me.tChannel)(["ElementHandle"]))),options:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({valueOrLabel:(0,Me.tOptional)(Me.tString),value:(0,Me.tOptional)(Me.tString),label:(0,Me.tOptional)(Me.tString),index:(0,Me.tOptional)(Me.tInt)}))),force:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameSelectOptionResult=(0,Me.tObject)({values:(0,Me.tArray)(Me.tString)});Me.scheme.FrameSetContentParams=(0,Me.tObject)({html:Me.tString,timeout:Me.tFloat,waitUntil:(0,Me.tOptional)((0,Me.tType)("LifecycleEvent"))});Me.scheme.FrameSetContentResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameSetInputFilesParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),payloads:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({name:Me.tString,mimeType:(0,Me.tOptional)(Me.tString),buffer:Me.tBinary}))),localDirectory:(0,Me.tOptional)(Me.tString),directoryStream:(0,Me.tOptional)((0,Me.tChannel)(["WritableStream"])),localPaths:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),streams:(0,Me.tOptional)((0,Me.tArray)((0,Me.tChannel)(["WritableStream"]))),timeout:Me.tFloat});Me.scheme.FrameSetInputFilesResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameTapParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),force:(0,Me.tOptional)(Me.tBoolean),modifiers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Me.tOptional)((0,Me.tType)("Point")),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.FrameTapResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameTextContentParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.FrameTextContentResult=(0,Me.tObject)({value:(0,Me.tOptional)(Me.tString)});Me.scheme.FrameTitleParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameTitleResult=(0,Me.tObject)({value:Me.tString});Me.scheme.FrameTypeParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),text:Me.tString,delay:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.FrameTypeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameUncheckParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),force:(0,Me.tOptional)(Me.tBoolean),position:(0,Me.tOptional)((0,Me.tType)("Point")),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.FrameUncheckResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameWaitForTimeoutParams=(0,Me.tObject)({waitTimeout:Me.tFloat});Me.scheme.FrameWaitForTimeoutResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.FrameWaitForFunctionParams=(0,Me.tObject)({expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument"),timeout:Me.tFloat,pollingInterval:(0,Me.tOptional)(Me.tFloat)});Me.scheme.FrameWaitForFunctionResult=(0,Me.tObject)({handle:(0,Me.tChannel)(["ElementHandle","JSHandle"])});Me.scheme.FrameWaitForSelectorParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat,state:(0,Me.tOptional)((0,Me.tEnum)(["attached","detached","visible","hidden"])),omitReturnValue:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.FrameWaitForSelectorResult=(0,Me.tObject)({element:(0,Me.tOptional)((0,Me.tChannel)(["ElementHandle"]))});Me.scheme.FrameExpectParams=(0,Me.tObject)({selector:(0,Me.tOptional)(Me.tString),expression:Me.tString,expressionArg:(0,Me.tOptional)(Me.tAny),expectedText:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("ExpectedTextValue"))),expectedNumber:(0,Me.tOptional)(Me.tFloat),expectedValue:(0,Me.tOptional)((0,Me.tType)("SerializedArgument")),useInnerText:(0,Me.tOptional)(Me.tBoolean),isNot:Me.tBoolean,timeout:Me.tFloat});Me.scheme.FrameExpectResult=(0,Me.tObject)({matches:Me.tBoolean,received:(0,Me.tOptional)((0,Me.tType)("SerializedValue")),timedOut:(0,Me.tOptional)(Me.tBoolean),errorMessage:(0,Me.tOptional)(Me.tString),log:(0,Me.tOptional)((0,Me.tArray)(Me.tString))});Me.scheme.WorkerInitializer=(0,Me.tObject)({url:Me.tString});Me.scheme.WorkerCloseEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WorkerEvaluateExpressionParams=(0,Me.tObject)({expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.WorkerEvaluateExpressionResult=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue")});Me.scheme.WorkerEvaluateExpressionHandleParams=(0,Me.tObject)({expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.WorkerEvaluateExpressionHandleResult=(0,Me.tObject)({handle:(0,Me.tChannel)(["ElementHandle","JSHandle"])});Me.scheme.WorkerUpdateSubscriptionParams=(0,Me.tObject)({event:(0,Me.tEnum)(["console"]),enabled:Me.tBoolean});Me.scheme.WorkerUpdateSubscriptionResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.JSHandleInitializer=(0,Me.tObject)({preview:Me.tString});Me.scheme.JSHandlePreviewUpdatedEvent=(0,Me.tObject)({preview:Me.tString});Me.scheme.ElementHandlePreviewUpdatedEvent=(0,Me.tType)("JSHandlePreviewUpdatedEvent");Me.scheme.JSHandleDisposeParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleDisposeParams=(0,Me.tType)("JSHandleDisposeParams");Me.scheme.JSHandleDisposeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleDisposeResult=(0,Me.tType)("JSHandleDisposeResult");Me.scheme.JSHandleEvaluateExpressionParams=(0,Me.tObject)({expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.ElementHandleEvaluateExpressionParams=(0,Me.tType)("JSHandleEvaluateExpressionParams");Me.scheme.JSHandleEvaluateExpressionResult=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue")});Me.scheme.ElementHandleEvaluateExpressionResult=(0,Me.tType)("JSHandleEvaluateExpressionResult");Me.scheme.JSHandleEvaluateExpressionHandleParams=(0,Me.tObject)({expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.ElementHandleEvaluateExpressionHandleParams=(0,Me.tType)("JSHandleEvaluateExpressionHandleParams");Me.scheme.JSHandleEvaluateExpressionHandleResult=(0,Me.tObject)({handle:(0,Me.tChannel)(["ElementHandle","JSHandle"])});Me.scheme.ElementHandleEvaluateExpressionHandleResult=(0,Me.tType)("JSHandleEvaluateExpressionHandleResult");Me.scheme.JSHandleGetPropertyListParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleGetPropertyListParams=(0,Me.tType)("JSHandleGetPropertyListParams");Me.scheme.JSHandleGetPropertyListResult=(0,Me.tObject)({properties:(0,Me.tArray)((0,Me.tObject)({name:Me.tString,value:(0,Me.tChannel)(["ElementHandle","JSHandle"])}))});Me.scheme.ElementHandleGetPropertyListResult=(0,Me.tType)("JSHandleGetPropertyListResult");Me.scheme.JSHandleGetPropertyParams=(0,Me.tObject)({name:Me.tString});Me.scheme.ElementHandleGetPropertyParams=(0,Me.tType)("JSHandleGetPropertyParams");Me.scheme.JSHandleGetPropertyResult=(0,Me.tObject)({handle:(0,Me.tChannel)(["ElementHandle","JSHandle"])});Me.scheme.ElementHandleGetPropertyResult=(0,Me.tType)("JSHandleGetPropertyResult");Me.scheme.JSHandleJsonValueParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleJsonValueParams=(0,Me.tType)("JSHandleJsonValueParams");Me.scheme.JSHandleJsonValueResult=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue")});Me.scheme.ElementHandleJsonValueResult=(0,Me.tType)("JSHandleJsonValueResult");Me.scheme.ElementHandleInitializer=(0,Me.tObject)({preview:Me.tString});Me.scheme.ElementHandleEvalOnSelectorParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.ElementHandleEvalOnSelectorResult=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue")});Me.scheme.ElementHandleEvalOnSelectorAllParams=(0,Me.tObject)({selector:Me.tString,expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.ElementHandleEvalOnSelectorAllResult=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue")});Me.scheme.ElementHandleBoundingBoxParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleBoundingBoxResult=(0,Me.tObject)({value:(0,Me.tOptional)((0,Me.tType)("Rect"))});Me.scheme.ElementHandleCheckParams=(0,Me.tObject)({force:(0,Me.tOptional)(Me.tBoolean),position:(0,Me.tOptional)((0,Me.tType)("Point")),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.ElementHandleCheckResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleClickParams=(0,Me.tObject)({force:(0,Me.tOptional)(Me.tBoolean),noWaitAfter:(0,Me.tOptional)(Me.tBoolean),modifiers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Me.tOptional)((0,Me.tType)("Point")),delay:(0,Me.tOptional)(Me.tFloat),button:(0,Me.tOptional)((0,Me.tEnum)(["left","right","middle"])),clickCount:(0,Me.tOptional)(Me.tInt),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean),steps:(0,Me.tOptional)(Me.tInt)});Me.scheme.ElementHandleClickResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleContentFrameParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleContentFrameResult=(0,Me.tObject)({frame:(0,Me.tOptional)((0,Me.tChannel)(["Frame"]))});Me.scheme.ElementHandleDblclickParams=(0,Me.tObject)({force:(0,Me.tOptional)(Me.tBoolean),modifiers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Me.tOptional)((0,Me.tType)("Point")),delay:(0,Me.tOptional)(Me.tFloat),button:(0,Me.tOptional)((0,Me.tEnum)(["left","right","middle"])),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean),steps:(0,Me.tOptional)(Me.tInt)});Me.scheme.ElementHandleDblclickResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleDispatchEventParams=(0,Me.tObject)({type:Me.tString,eventInit:(0,Me.tType)("SerializedArgument")});Me.scheme.ElementHandleDispatchEventResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleFillParams=(0,Me.tObject)({value:Me.tString,force:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.ElementHandleFillResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleFocusParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleFocusResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleGetAttributeParams=(0,Me.tObject)({name:Me.tString});Me.scheme.ElementHandleGetAttributeResult=(0,Me.tObject)({value:(0,Me.tOptional)(Me.tString)});Me.scheme.ElementHandleHoverParams=(0,Me.tObject)({force:(0,Me.tOptional)(Me.tBoolean),modifiers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Me.tOptional)((0,Me.tType)("Point")),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.ElementHandleHoverResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleInnerHTMLParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleInnerHTMLResult=(0,Me.tObject)({value:Me.tString});Me.scheme.ElementHandleInnerTextParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleInnerTextResult=(0,Me.tObject)({value:Me.tString});Me.scheme.ElementHandleInputValueParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleInputValueResult=(0,Me.tObject)({value:Me.tString});Me.scheme.ElementHandleIsCheckedParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleIsCheckedResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.ElementHandleIsDisabledParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleIsDisabledResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.ElementHandleIsEditableParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleIsEditableResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.ElementHandleIsEnabledParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleIsEnabledResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.ElementHandleIsHiddenParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleIsHiddenResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.ElementHandleIsVisibleParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleIsVisibleResult=(0,Me.tObject)({value:Me.tBoolean});Me.scheme.ElementHandleOwnerFrameParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleOwnerFrameResult=(0,Me.tObject)({frame:(0,Me.tOptional)((0,Me.tChannel)(["Frame"]))});Me.scheme.ElementHandlePressParams=(0,Me.tObject)({key:Me.tString,delay:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat,noWaitAfter:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.ElementHandlePressResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleQuerySelectorParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.ElementHandleQuerySelectorResult=(0,Me.tObject)({element:(0,Me.tOptional)((0,Me.tChannel)(["ElementHandle"]))});Me.scheme.ElementHandleQuerySelectorAllParams=(0,Me.tObject)({selector:Me.tString});Me.scheme.ElementHandleQuerySelectorAllResult=(0,Me.tObject)({elements:(0,Me.tArray)((0,Me.tChannel)(["ElementHandle"]))});Me.scheme.ElementHandleScreenshotParams=(0,Me.tObject)({timeout:Me.tFloat,type:(0,Me.tOptional)((0,Me.tEnum)(["png","jpeg"])),quality:(0,Me.tOptional)(Me.tInt),omitBackground:(0,Me.tOptional)(Me.tBoolean),caret:(0,Me.tOptional)((0,Me.tEnum)(["hide","initial"])),animations:(0,Me.tOptional)((0,Me.tEnum)(["disabled","allow"])),scale:(0,Me.tOptional)((0,Me.tEnum)(["css","device"])),mask:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({frame:(0,Me.tChannel)(["Frame"]),selector:Me.tString}))),maskColor:(0,Me.tOptional)(Me.tString),style:(0,Me.tOptional)(Me.tString)});Me.scheme.ElementHandleScreenshotResult=(0,Me.tObject)({binary:Me.tBinary});Me.scheme.ElementHandleScrollIntoViewIfNeededParams=(0,Me.tObject)({timeout:Me.tFloat});Me.scheme.ElementHandleScrollIntoViewIfNeededResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleSelectOptionParams=(0,Me.tObject)({elements:(0,Me.tOptional)((0,Me.tArray)((0,Me.tChannel)(["ElementHandle"]))),options:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({valueOrLabel:(0,Me.tOptional)(Me.tString),value:(0,Me.tOptional)(Me.tString),label:(0,Me.tOptional)(Me.tString),index:(0,Me.tOptional)(Me.tInt)}))),force:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.ElementHandleSelectOptionResult=(0,Me.tObject)({values:(0,Me.tArray)(Me.tString)});Me.scheme.ElementHandleSelectTextParams=(0,Me.tObject)({force:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat});Me.scheme.ElementHandleSelectTextResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleSetInputFilesParams=(0,Me.tObject)({payloads:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({name:Me.tString,mimeType:(0,Me.tOptional)(Me.tString),buffer:Me.tBinary}))),localDirectory:(0,Me.tOptional)(Me.tString),directoryStream:(0,Me.tOptional)((0,Me.tChannel)(["WritableStream"])),localPaths:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),streams:(0,Me.tOptional)((0,Me.tArray)((0,Me.tChannel)(["WritableStream"]))),timeout:Me.tFloat});Me.scheme.ElementHandleSetInputFilesResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleTapParams=(0,Me.tObject)({force:(0,Me.tOptional)(Me.tBoolean),modifiers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Me.tOptional)((0,Me.tType)("Point")),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.ElementHandleTapResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleTextContentParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleTextContentResult=(0,Me.tObject)({value:(0,Me.tOptional)(Me.tString)});Me.scheme.ElementHandleTypeParams=(0,Me.tObject)({text:Me.tString,delay:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.ElementHandleTypeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleUncheckParams=(0,Me.tObject)({force:(0,Me.tOptional)(Me.tBoolean),position:(0,Me.tOptional)((0,Me.tType)("Point")),timeout:Me.tFloat,trial:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.ElementHandleUncheckResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleWaitForElementStateParams=(0,Me.tObject)({state:(0,Me.tEnum)(["visible","hidden","stable","enabled","disabled","editable"]),timeout:Me.tFloat});Me.scheme.ElementHandleWaitForElementStateResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElementHandleWaitForSelectorParams=(0,Me.tObject)({selector:Me.tString,strict:(0,Me.tOptional)(Me.tBoolean),timeout:Me.tFloat,state:(0,Me.tOptional)((0,Me.tEnum)(["attached","detached","visible","hidden"]))});Me.scheme.ElementHandleWaitForSelectorResult=(0,Me.tObject)({element:(0,Me.tOptional)((0,Me.tChannel)(["ElementHandle"]))});Me.scheme.RequestInitializer=(0,Me.tObject)({frame:(0,Me.tOptional)((0,Me.tChannel)(["Frame"])),serviceWorker:(0,Me.tOptional)((0,Me.tChannel)(["Worker"])),url:Me.tString,resourceType:Me.tString,method:Me.tString,postData:(0,Me.tOptional)(Me.tBinary),headers:(0,Me.tArray)((0,Me.tType)("NameValue")),isNavigationRequest:Me.tBoolean,redirectedFrom:(0,Me.tOptional)((0,Me.tChannel)(["Request"])),hasResponse:Me.tBoolean});Me.scheme.RequestResponseEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.RequestResponseParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.RequestResponseResult=(0,Me.tObject)({response:(0,Me.tOptional)((0,Me.tChannel)(["Response"]))});Me.scheme.RequestRawRequestHeadersParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.RequestRawRequestHeadersResult=(0,Me.tObject)({headers:(0,Me.tArray)((0,Me.tType)("NameValue"))});Me.scheme.RouteInitializer=(0,Me.tObject)({request:(0,Me.tChannel)(["Request"])});Me.scheme.RouteRedirectNavigationRequestParams=(0,Me.tObject)({url:Me.tString});Me.scheme.RouteRedirectNavigationRequestResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.RouteAbortParams=(0,Me.tObject)({errorCode:(0,Me.tOptional)(Me.tString)});Me.scheme.RouteAbortResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.RouteContinueParams=(0,Me.tObject)({url:(0,Me.tOptional)(Me.tString),method:(0,Me.tOptional)(Me.tString),headers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),postData:(0,Me.tOptional)(Me.tBinary),isFallback:Me.tBoolean});Me.scheme.RouteContinueResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.RouteFulfillParams=(0,Me.tObject)({status:(0,Me.tOptional)(Me.tInt),headers:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),body:(0,Me.tOptional)(Me.tString),isBase64:(0,Me.tOptional)(Me.tBoolean),fetchResponseUid:(0,Me.tOptional)(Me.tString)});Me.scheme.RouteFulfillResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WebSocketRouteInitializer=(0,Me.tObject)({url:Me.tString});Me.scheme.WebSocketRouteMessageFromPageEvent=(0,Me.tObject)({message:Me.tString,isBase64:Me.tBoolean});Me.scheme.WebSocketRouteMessageFromServerEvent=(0,Me.tObject)({message:Me.tString,isBase64:Me.tBoolean});Me.scheme.WebSocketRouteClosePageEvent=(0,Me.tObject)({code:(0,Me.tOptional)(Me.tInt),reason:(0,Me.tOptional)(Me.tString),wasClean:Me.tBoolean});Me.scheme.WebSocketRouteCloseServerEvent=(0,Me.tObject)({code:(0,Me.tOptional)(Me.tInt),reason:(0,Me.tOptional)(Me.tString),wasClean:Me.tBoolean});Me.scheme.WebSocketRouteConnectParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WebSocketRouteConnectResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WebSocketRouteEnsureOpenedParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WebSocketRouteEnsureOpenedResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WebSocketRouteSendToPageParams=(0,Me.tObject)({message:Me.tString,isBase64:Me.tBoolean});Me.scheme.WebSocketRouteSendToPageResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WebSocketRouteSendToServerParams=(0,Me.tObject)({message:Me.tString,isBase64:Me.tBoolean});Me.scheme.WebSocketRouteSendToServerResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WebSocketRouteClosePageParams=(0,Me.tObject)({code:(0,Me.tOptional)(Me.tInt),reason:(0,Me.tOptional)(Me.tString),wasClean:Me.tBoolean});Me.scheme.WebSocketRouteClosePageResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WebSocketRouteCloseServerParams=(0,Me.tObject)({code:(0,Me.tOptional)(Me.tInt),reason:(0,Me.tOptional)(Me.tString),wasClean:Me.tBoolean});Me.scheme.WebSocketRouteCloseServerResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ResourceTiming=(0,Me.tObject)({startTime:Me.tFloat,domainLookupStart:Me.tFloat,domainLookupEnd:Me.tFloat,connectStart:Me.tFloat,secureConnectionStart:Me.tFloat,connectEnd:Me.tFloat,requestStart:Me.tFloat,responseStart:Me.tFloat});Me.scheme.ResponseInitializer=(0,Me.tObject)({request:(0,Me.tChannel)(["Request"]),url:Me.tString,status:Me.tInt,statusText:Me.tString,headers:(0,Me.tArray)((0,Me.tType)("NameValue")),timing:(0,Me.tType)("ResourceTiming"),fromServiceWorker:Me.tBoolean});Me.scheme.ResponseBodyParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ResponseBodyResult=(0,Me.tObject)({binary:Me.tBinary});Me.scheme.ResponseSecurityDetailsParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ResponseSecurityDetailsResult=(0,Me.tObject)({value:(0,Me.tOptional)((0,Me.tType)("SecurityDetails"))});Me.scheme.ResponseServerAddrParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ResponseServerAddrResult=(0,Me.tObject)({value:(0,Me.tOptional)((0,Me.tType)("RemoteAddr"))});Me.scheme.ResponseRawResponseHeadersParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ResponseRawResponseHeadersResult=(0,Me.tObject)({headers:(0,Me.tArray)((0,Me.tType)("NameValue"))});Me.scheme.ResponseSizesParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ResponseSizesResult=(0,Me.tObject)({sizes:(0,Me.tType)("RequestSizes")});Me.scheme.SecurityDetails=(0,Me.tObject)({issuer:(0,Me.tOptional)(Me.tString),protocol:(0,Me.tOptional)(Me.tString),subjectName:(0,Me.tOptional)(Me.tString),validFrom:(0,Me.tOptional)(Me.tFloat),validTo:(0,Me.tOptional)(Me.tFloat)});Me.scheme.RequestSizes=(0,Me.tObject)({requestBodySize:Me.tInt,requestHeadersSize:Me.tInt,responseBodySize:Me.tInt,responseHeadersSize:Me.tInt});Me.scheme.RemoteAddr=(0,Me.tObject)({ipAddress:Me.tString,port:Me.tInt});Me.scheme.WebSocketInitializer=(0,Me.tObject)({url:Me.tString});Me.scheme.WebSocketOpenEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WebSocketFrameSentEvent=(0,Me.tObject)({opcode:Me.tInt,data:Me.tString});Me.scheme.WebSocketFrameReceivedEvent=(0,Me.tObject)({opcode:Me.tInt,data:Me.tString});Me.scheme.WebSocketSocketErrorEvent=(0,Me.tObject)({error:Me.tString});Me.scheme.WebSocketCloseEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BindingCallInitializer=(0,Me.tObject)({frame:(0,Me.tChannel)(["Frame"]),name:Me.tString,args:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SerializedValue"))),handle:(0,Me.tOptional)((0,Me.tChannel)(["ElementHandle","JSHandle"]))});Me.scheme.BindingCallRejectParams=(0,Me.tObject)({error:(0,Me.tType)("SerializedError")});Me.scheme.BindingCallRejectResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.BindingCallResolveParams=(0,Me.tObject)({result:(0,Me.tType)("SerializedArgument")});Me.scheme.BindingCallResolveResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DialogInitializer=(0,Me.tObject)({page:(0,Me.tOptional)((0,Me.tChannel)(["Page"])),type:Me.tString,message:Me.tString,defaultValue:Me.tString});Me.scheme.DialogAcceptParams=(0,Me.tObject)({promptText:(0,Me.tOptional)(Me.tString)});Me.scheme.DialogAcceptResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DialogDismissParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.DialogDismissResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.TracingInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.TracingTracingStartParams=(0,Me.tObject)({name:(0,Me.tOptional)(Me.tString),snapshots:(0,Me.tOptional)(Me.tBoolean),screenshots:(0,Me.tOptional)(Me.tBoolean),live:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.TracingTracingStartResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.TracingTracingStartChunkParams=(0,Me.tObject)({name:(0,Me.tOptional)(Me.tString),title:(0,Me.tOptional)(Me.tString)});Me.scheme.TracingTracingStartChunkResult=(0,Me.tObject)({traceName:Me.tString});Me.scheme.TracingTracingGroupParams=(0,Me.tObject)({name:Me.tString,location:(0,Me.tOptional)((0,Me.tObject)({file:Me.tString,line:(0,Me.tOptional)(Me.tInt),column:(0,Me.tOptional)(Me.tInt)}))});Me.scheme.TracingTracingGroupResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.TracingTracingGroupEndParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.TracingTracingGroupEndResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.TracingTracingStopChunkParams=(0,Me.tObject)({mode:(0,Me.tEnum)(["archive","discard","entries"])});Me.scheme.TracingTracingStopChunkResult=(0,Me.tObject)({artifact:(0,Me.tOptional)((0,Me.tChannel)(["Artifact"])),entries:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue")))});Me.scheme.TracingTracingStopParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.TracingTracingStopResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ArtifactInitializer=(0,Me.tObject)({absolutePath:Me.tString});Me.scheme.ArtifactPathAfterFinishedParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ArtifactPathAfterFinishedResult=(0,Me.tObject)({value:Me.tString});Me.scheme.ArtifactSaveAsParams=(0,Me.tObject)({path:Me.tString});Me.scheme.ArtifactSaveAsResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ArtifactSaveAsStreamParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ArtifactSaveAsStreamResult=(0,Me.tObject)({stream:(0,Me.tChannel)(["Stream"])});Me.scheme.ArtifactFailureParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ArtifactFailureResult=(0,Me.tObject)({error:(0,Me.tOptional)(Me.tString)});Me.scheme.ArtifactStreamParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ArtifactStreamResult=(0,Me.tObject)({stream:(0,Me.tChannel)(["Stream"])});Me.scheme.ArtifactCancelParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ArtifactCancelResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ArtifactDeleteParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ArtifactDeleteResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.StreamInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.StreamReadParams=(0,Me.tObject)({size:(0,Me.tOptional)(Me.tInt)});Me.scheme.StreamReadResult=(0,Me.tObject)({binary:Me.tBinary});Me.scheme.StreamCloseParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.StreamCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WritableStreamInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WritableStreamWriteParams=(0,Me.tObject)({binary:Me.tBinary});Me.scheme.WritableStreamWriteResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WritableStreamCloseParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.WritableStreamCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.CDPSessionInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.CDPSessionEventEvent=(0,Me.tObject)({method:Me.tString,params:(0,Me.tOptional)(Me.tAny)});Me.scheme.CDPSessionSendParams=(0,Me.tObject)({method:Me.tString,params:(0,Me.tOptional)(Me.tAny)});Me.scheme.CDPSessionSendResult=(0,Me.tObject)({result:Me.tAny});Me.scheme.CDPSessionDetachParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.CDPSessionDetachResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElectronInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElectronLaunchParams=(0,Me.tObject)({executablePath:(0,Me.tOptional)(Me.tString),args:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),cwd:(0,Me.tOptional)(Me.tString),env:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),timeout:Me.tFloat,acceptDownloads:(0,Me.tOptional)((0,Me.tEnum)(["accept","deny","internal-browser-default"])),bypassCSP:(0,Me.tOptional)(Me.tBoolean),colorScheme:(0,Me.tOptional)((0,Me.tEnum)(["dark","light","no-preference","no-override"])),extraHTTPHeaders:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),geolocation:(0,Me.tOptional)((0,Me.tObject)({longitude:Me.tFloat,latitude:Me.tFloat,accuracy:(0,Me.tOptional)(Me.tFloat)})),httpCredentials:(0,Me.tOptional)((0,Me.tObject)({username:Me.tString,password:Me.tString,origin:(0,Me.tOptional)(Me.tString)})),ignoreHTTPSErrors:(0,Me.tOptional)(Me.tBoolean),locale:(0,Me.tOptional)(Me.tString),offline:(0,Me.tOptional)(Me.tBoolean),recordVideo:(0,Me.tOptional)((0,Me.tObject)({dir:Me.tString,size:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt}))})),strictSelectors:(0,Me.tOptional)(Me.tBoolean),timezoneId:(0,Me.tOptional)(Me.tString),tracesDir:(0,Me.tOptional)(Me.tString),selectorEngines:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SelectorEngine"))),testIdAttributeName:(0,Me.tOptional)(Me.tString)});Me.scheme.ElectronLaunchResult=(0,Me.tObject)({electronApplication:(0,Me.tChannel)(["ElectronApplication"])});Me.scheme.ElectronApplicationInitializer=(0,Me.tObject)({context:(0,Me.tChannel)(["BrowserContext"])});Me.scheme.ElectronApplicationCloseEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.ElectronApplicationConsoleEvent=(0,Me.tObject)({type:Me.tString,text:Me.tString,args:(0,Me.tArray)((0,Me.tChannel)(["ElementHandle","JSHandle"])),location:(0,Me.tObject)({url:Me.tString,lineNumber:Me.tInt,columnNumber:Me.tInt})});Me.scheme.ElectronApplicationBrowserWindowParams=(0,Me.tObject)({page:(0,Me.tChannel)(["Page"])});Me.scheme.ElectronApplicationBrowserWindowResult=(0,Me.tObject)({handle:(0,Me.tChannel)(["ElementHandle","JSHandle"])});Me.scheme.ElectronApplicationEvaluateExpressionParams=(0,Me.tObject)({expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.ElectronApplicationEvaluateExpressionResult=(0,Me.tObject)({value:(0,Me.tType)("SerializedValue")});Me.scheme.ElectronApplicationEvaluateExpressionHandleParams=(0,Me.tObject)({expression:Me.tString,isFunction:(0,Me.tOptional)(Me.tBoolean),arg:(0,Me.tType)("SerializedArgument")});Me.scheme.ElectronApplicationEvaluateExpressionHandleResult=(0,Me.tObject)({handle:(0,Me.tChannel)(["ElementHandle","JSHandle"])});Me.scheme.ElectronApplicationUpdateSubscriptionParams=(0,Me.tObject)({event:(0,Me.tEnum)(["console"]),enabled:Me.tBoolean});Me.scheme.ElectronApplicationUpdateSubscriptionResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDevicesParams=(0,Me.tObject)({host:(0,Me.tOptional)(Me.tString),port:(0,Me.tOptional)(Me.tInt),omitDriverInstall:(0,Me.tOptional)(Me.tBoolean)});Me.scheme.AndroidDevicesResult=(0,Me.tObject)({devices:(0,Me.tArray)((0,Me.tChannel)(["AndroidDevice"]))});Me.scheme.AndroidSocketInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidSocketDataEvent=(0,Me.tObject)({data:Me.tBinary});Me.scheme.AndroidSocketCloseEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidSocketWriteParams=(0,Me.tObject)({data:Me.tBinary});Me.scheme.AndroidSocketWriteResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidSocketCloseParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidSocketCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceInitializer=(0,Me.tObject)({model:Me.tString,serial:Me.tString});Me.scheme.AndroidDeviceCloseEvent=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceWebViewAddedEvent=(0,Me.tObject)({webView:(0,Me.tType)("AndroidWebView")});Me.scheme.AndroidDeviceWebViewRemovedEvent=(0,Me.tObject)({socketName:Me.tString});Me.scheme.AndroidDeviceWaitParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),state:(0,Me.tOptional)((0,Me.tEnum)(["gone"])),timeout:Me.tFloat});Me.scheme.AndroidDeviceWaitResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceFillParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),text:Me.tString,timeout:Me.tFloat});Me.scheme.AndroidDeviceFillResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceTapParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),duration:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.AndroidDeviceTapResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceDragParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),dest:(0,Me.tType)("Point"),speed:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.AndroidDeviceDragResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceFlingParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),direction:(0,Me.tEnum)(["up","down","left","right"]),speed:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.AndroidDeviceFlingResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceLongTapParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),timeout:Me.tFloat});Me.scheme.AndroidDeviceLongTapResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDevicePinchCloseParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),percent:Me.tFloat,speed:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.AndroidDevicePinchCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDevicePinchOpenParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),percent:Me.tFloat,speed:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.AndroidDevicePinchOpenResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceScrollParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),direction:(0,Me.tEnum)(["up","down","left","right"]),percent:Me.tFloat,speed:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.AndroidDeviceScrollResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceSwipeParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),direction:(0,Me.tEnum)(["up","down","left","right"]),percent:Me.tFloat,speed:(0,Me.tOptional)(Me.tFloat),timeout:Me.tFloat});Me.scheme.AndroidDeviceSwipeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceInfoParams=(0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector")});Me.scheme.AndroidDeviceInfoResult=(0,Me.tObject)({info:(0,Me.tType)("AndroidElementInfo")});Me.scheme.AndroidDeviceScreenshotParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceScreenshotResult=(0,Me.tObject)({binary:Me.tBinary});Me.scheme.AndroidDeviceInputTypeParams=(0,Me.tObject)({text:Me.tString});Me.scheme.AndroidDeviceInputTypeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceInputPressParams=(0,Me.tObject)({key:Me.tString});Me.scheme.AndroidDeviceInputPressResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceInputTapParams=(0,Me.tObject)({point:(0,Me.tType)("Point")});Me.scheme.AndroidDeviceInputTapResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceInputSwipeParams=(0,Me.tObject)({segments:(0,Me.tArray)((0,Me.tType)("Point")),steps:Me.tInt});Me.scheme.AndroidDeviceInputSwipeResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceInputDragParams=(0,Me.tObject)({from:(0,Me.tType)("Point"),to:(0,Me.tType)("Point"),steps:Me.tInt});Me.scheme.AndroidDeviceInputDragResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceLaunchBrowserParams=(0,Me.tObject)({noDefaultViewport:(0,Me.tOptional)(Me.tBoolean),viewport:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),screen:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt})),ignoreHTTPSErrors:(0,Me.tOptional)(Me.tBoolean),clientCertificates:(0,Me.tOptional)((0,Me.tArray)((0,Me.tObject)({origin:Me.tString,cert:(0,Me.tOptional)(Me.tBinary),key:(0,Me.tOptional)(Me.tBinary),passphrase:(0,Me.tOptional)(Me.tString),pfx:(0,Me.tOptional)(Me.tBinary)}))),javaScriptEnabled:(0,Me.tOptional)(Me.tBoolean),bypassCSP:(0,Me.tOptional)(Me.tBoolean),userAgent:(0,Me.tOptional)(Me.tString),locale:(0,Me.tOptional)(Me.tString),timezoneId:(0,Me.tOptional)(Me.tString),geolocation:(0,Me.tOptional)((0,Me.tObject)({longitude:Me.tFloat,latitude:Me.tFloat,accuracy:(0,Me.tOptional)(Me.tFloat)})),permissions:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),extraHTTPHeaders:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("NameValue"))),offline:(0,Me.tOptional)(Me.tBoolean),httpCredentials:(0,Me.tOptional)((0,Me.tObject)({username:Me.tString,password:Me.tString,origin:(0,Me.tOptional)(Me.tString),send:(0,Me.tOptional)((0,Me.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Me.tOptional)(Me.tFloat),isMobile:(0,Me.tOptional)(Me.tBoolean),hasTouch:(0,Me.tOptional)(Me.tBoolean),colorScheme:(0,Me.tOptional)((0,Me.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Me.tOptional)((0,Me.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Me.tOptional)((0,Me.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Me.tOptional)((0,Me.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Me.tOptional)((0,Me.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Me.tOptional)(Me.tString),recordVideo:(0,Me.tOptional)((0,Me.tObject)({dir:Me.tString,size:(0,Me.tOptional)((0,Me.tObject)({width:Me.tInt,height:Me.tInt}))})),strictSelectors:(0,Me.tOptional)(Me.tBoolean),serviceWorkers:(0,Me.tOptional)((0,Me.tEnum)(["allow","block"])),selectorEngines:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("SelectorEngine"))),testIdAttributeName:(0,Me.tOptional)(Me.tString),pkg:(0,Me.tOptional)(Me.tString),args:(0,Me.tOptional)((0,Me.tArray)(Me.tString)),proxy:(0,Me.tOptional)((0,Me.tObject)({server:Me.tString,bypass:(0,Me.tOptional)(Me.tString),username:(0,Me.tOptional)(Me.tString),password:(0,Me.tOptional)(Me.tString)}))});Me.scheme.AndroidDeviceLaunchBrowserResult=(0,Me.tObject)({context:(0,Me.tChannel)(["BrowserContext"])});Me.scheme.AndroidDeviceOpenParams=(0,Me.tObject)({command:Me.tString});Me.scheme.AndroidDeviceOpenResult=(0,Me.tObject)({socket:(0,Me.tChannel)(["AndroidSocket"])});Me.scheme.AndroidDeviceShellParams=(0,Me.tObject)({command:Me.tString});Me.scheme.AndroidDeviceShellResult=(0,Me.tObject)({result:Me.tBinary});Me.scheme.AndroidDeviceInstallApkParams=(0,Me.tObject)({file:Me.tBinary,args:(0,Me.tOptional)((0,Me.tArray)(Me.tString))});Me.scheme.AndroidDeviceInstallApkResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDevicePushParams=(0,Me.tObject)({file:Me.tBinary,path:Me.tString,mode:(0,Me.tOptional)(Me.tInt)});Me.scheme.AndroidDevicePushResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceConnectToWebViewParams=(0,Me.tObject)({socketName:Me.tString});Me.scheme.AndroidDeviceConnectToWebViewResult=(0,Me.tObject)({context:(0,Me.tChannel)(["BrowserContext"])});Me.scheme.AndroidDeviceCloseParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidDeviceCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.AndroidWebView=(0,Me.tObject)({pid:Me.tInt,pkg:Me.tString,socketName:Me.tString});Me.scheme.AndroidSelector=(0,Me.tObject)({checkable:(0,Me.tOptional)(Me.tBoolean),checked:(0,Me.tOptional)(Me.tBoolean),clazz:(0,Me.tOptional)(Me.tString),clickable:(0,Me.tOptional)(Me.tBoolean),depth:(0,Me.tOptional)(Me.tInt),desc:(0,Me.tOptional)(Me.tString),enabled:(0,Me.tOptional)(Me.tBoolean),focusable:(0,Me.tOptional)(Me.tBoolean),focused:(0,Me.tOptional)(Me.tBoolean),hasChild:(0,Me.tOptional)((0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector")})),hasDescendant:(0,Me.tOptional)((0,Me.tObject)({androidSelector:(0,Me.tType)("AndroidSelector"),maxDepth:(0,Me.tOptional)(Me.tInt)})),longClickable:(0,Me.tOptional)(Me.tBoolean),pkg:(0,Me.tOptional)(Me.tString),res:(0,Me.tOptional)(Me.tString),scrollable:(0,Me.tOptional)(Me.tBoolean),selected:(0,Me.tOptional)(Me.tBoolean),text:(0,Me.tOptional)(Me.tString)});Me.scheme.AndroidElementInfo=(0,Me.tObject)({children:(0,Me.tOptional)((0,Me.tArray)((0,Me.tType)("AndroidElementInfo"))),clazz:Me.tString,desc:Me.tString,res:Me.tString,pkg:Me.tString,text:Me.tString,bounds:(0,Me.tType)("Rect"),checkable:Me.tBoolean,checked:Me.tBoolean,clickable:Me.tBoolean,enabled:Me.tBoolean,focusable:Me.tBoolean,focused:Me.tBoolean,longClickable:Me.tBoolean,scrollable:Me.tBoolean,selected:Me.tBoolean});Me.scheme.JsonPipeInitializer=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.JsonPipeMessageEvent=(0,Me.tObject)({message:Me.tAny});Me.scheme.JsonPipeClosedEvent=(0,Me.tObject)({reason:(0,Me.tOptional)(Me.tString)});Me.scheme.JsonPipeSendParams=(0,Me.tObject)({message:Me.tAny});Me.scheme.JsonPipeSendResult=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.JsonPipeCloseParams=(0,Me.tOptional)((0,Me.tObject)({}));Me.scheme.JsonPipeCloseResult=(0,Me.tOptional)((0,Me.tObject)({}));0&&0},7371:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{ValidationError:()=>ValidationError,createMetadataValidator:()=>createMetadataValidator,findValidator:()=>findValidator,maybeFindValidator:()=>maybeFindValidator,scheme:()=>Qe,tAny:()=>tAny,tArray:()=>tArray,tBinary:()=>tBinary,tBoolean:()=>tBoolean,tChannel:()=>tChannel,tEnum:()=>tEnum,tFloat:()=>tFloat,tInt:()=>tInt,tObject:()=>tObject,tOptional:()=>tOptional,tString:()=>tString,tType:()=>tType,tUndefined:()=>tUndefined});b.exports=__toCommonJS(oe);class ValidationError extends Error{}const Qe={};function findValidator(b,B,F){const K=maybeFindValidator(b,B,F);if(!K)throw new ValidationError(`Unknown scheme for ${F}: ${b}.${B}`);return K}function maybeFindValidator(b,B,F){const K=b+(F==="Initializer"?"":B[0].toUpperCase()+B.substring(1))+F;return Qe[K]}function createMetadataValidator(){return tOptional(Qe["Metadata"])}const tFloat=(b,B,F)=>{if(b instanceof Number)return b.valueOf();if(typeof b==="number")return b;throw new ValidationError(`${B}: expected float, got ${typeof b}`)};const tInt=(b,B,F)=>{let K;if(b instanceof Number)K=b.valueOf();else if(typeof b==="number")K=b;else throw new ValidationError(`${B}: expected integer, got ${typeof b}`);if(!Number.isInteger(K))throw new ValidationError(`${B}: expected integer, got float ${K}`);return K};const tBoolean=(b,B,F)=>{if(b instanceof Boolean)return b.valueOf();if(typeof b==="boolean")return b;throw new ValidationError(`${B}: expected boolean, got ${typeof b}`)};const tString=(b,B,F)=>{if(b instanceof String)return b.valueOf();if(typeof b==="string")return b;throw new ValidationError(`${B}: expected string, got ${typeof b}`)};const tBinary=(b,B,F)=>{if(F.binary==="fromBase64"){if(b instanceof String)return Buffer.from(b.valueOf(),"base64");if(typeof b==="string")return Buffer.from(b,"base64");throw new ValidationError(`${B}: expected base64-encoded buffer, got ${typeof b}`)}if(F.binary==="toBase64"){if(!(b instanceof Buffer))throw new ValidationError(`${B}: expected Buffer, got ${typeof b}`);return b.toString("base64")}if(F.binary==="buffer"){if(!(b instanceof Buffer))throw new ValidationError(`${B}: expected Buffer, got ${typeof b}`);return b}throw new ValidationError(`Unsupported binary behavior "${F.binary}"`)};const tUndefined=(b,B,F)=>{if(Object.is(b,void 0))return b;throw new ValidationError(`${B}: expected undefined, got ${typeof b}`)};const tAny=(b,B,F)=>b;const tOptional=b=>(B,F,K)=>{if(Object.is(B,void 0))return B;return b(B,F,K)};const tArray=b=>(B,F,K)=>{if(!Array.isArray(B))throw new ValidationError(`${F}: expected array, got ${typeof B}`);return B.map(((B,se)=>b(B,F+"["+se+"]",K)))};const tObject=b=>(B,F,K)=>{if(Object.is(B,null))throw new ValidationError(`${F}: expected object, got null`);if(typeof B!=="object")throw new ValidationError(`${F}: expected object, got ${typeof B}`);const se={};for(const[oe,Qe]of Object.entries(b)){const b=Qe(B[oe],F?F+"."+oe:oe,K);if(!Object.is(b,void 0))se[oe]=b}if(K.isUnderTest()){for(const[b,F]of Object.entries(B)){if(b.startsWith("__testHook"))se[b]=F}}return se};const tEnum=b=>(B,F,K)=>{if(!b.includes(B))throw new ValidationError(`${F}: expected one of (${b.join("|")})`);return B};const tChannel=b=>(B,F,K)=>K.tChannelImpl(b,B,F,K);const tType=b=>(B,F,K)=>{const se=Qe[b];if(!se)throw new ValidationError(F+': unknown type "'+b+'"');return se(B,F,K)};0&&0},1978:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{PlaywrightConnection:()=>PlaywrightConnection});b.exports=__toCommonJS(Re);var Me=F(1692);var Le=F(83);var We=F(4856);var Ge=F(7335);var ze=F(5513);var $e=F(3143);var Ye=F(6877);class PlaywrightConnection{constructor(b,B,F,K,se,oe){this._cleanups=[];this._disconnected=false;this._ws=B;this._semaphore=b;this._id=oe;this._profileName=(new Date).toISOString();const Qe=this._semaphore.acquire();this._dispatcherConnection=new Me.DispatcherConnection;this._dispatcherConnection.onmessage=async b=>{await Qe;if(B.readyState!==B.CLOSING){const F=JSON.stringify(b);if(Ye.debugLogger.isEnabled("server:channel"))Ye.debugLogger.log("server:channel",`[${this._id}] ${(0,$e.monotonicTime)()*1e3} SEND  ${F}`);if(Ye.debugLogger.isEnabled("server:metadata"))this.logServerMetadata(b,F,"SEND");B.send(F)}};B.on("message",(async b=>{await Qe;const B=Buffer.from(b).toString();const F=JSON.parse(B);if(Ye.debugLogger.isEnabled("server:channel"))Ye.debugLogger.log("server:channel",`[${this._id}] ${(0,$e.monotonicTime)()*1e3}  RECV ${B}`);if(Ye.debugLogger.isEnabled("server:metadata"))this.logServerMetadata(F,B,"RECV");this._dispatcherConnection.dispatch(F)}));B.on("close",(()=>this._onDisconnect()));B.on("error",(b=>this._onDisconnect(b)));if(F){Ye.debugLogger.log("server",`[${this._id}] engaged reuse controller mode`);this._root=new Ge.DebugControllerDispatcher(this._dispatcherConnection,K.debugController);return}this._root=new Me.RootDispatcher(this._dispatcherConnection,(async(b,B)=>{await(0,ze.startProfiling)();const F=await se();if(F.preLaunchedBrowser){const b=F.preLaunchedBrowser;b.options.sdkLanguage=B.sdkLanguage;b.on(We.Browser.Events.Disconnected,(()=>{this.close({code:1001,reason:"Browser closed"})}))}if(F.preLaunchedAndroidDevice){const b=F.preLaunchedAndroidDevice;b.on(Le.AndroidDevice.Events.Close,(()=>{this.close({code:1001,reason:"Android device disconnected"})}))}if(F.dispose)this._cleanups.push(F.dispose);const oe=new Me.PlaywrightDispatcher(b,K,F);this._cleanups.push((()=>oe.cleanup()));return oe}))}async _onDisconnect(b){this._disconnected=true;Ye.debugLogger.log("server",`[${this._id}] disconnected. error: ${b}`);await this._root.stopPendingOperations(new Error("Disconnected")).catch((()=>{}));this._root._dispose();Ye.debugLogger.log("server",`[${this._id}] starting cleanup`);for(const b of this._cleanups)await b().catch((()=>{}));await(0,ze.stopProfiling)(this._profileName);this._semaphore.release();Ye.debugLogger.log("server",`[${this._id}] finished cleanup`)}logServerMetadata(b,B,F){const K={wallTime:Date.now(),id:b.id,guid:b.guid,method:b.method,payloadSizeInBytes:Buffer.byteLength(B,"utf-8")};Ye.debugLogger.log("server:metadata",(F==="SEND"?"SEND  ":" RECV ")+JSON.stringify(K))}async close(b){if(this._disconnected)return;Ye.debugLogger.log("server",`[${this._id}] force closing connection: ${b?.reason||""} (${b?.code||0})`);try{this._ws.close(b?.code,b?.reason)}catch(b){}}}0&&0},8525:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{PlaywrightServer:()=>PlaywrightServer});b.exports=__toCommonJS(Re);var Me=F(1978);var Le=F(9245);var We=F(1750);var Ge=F(4419);var ze=F(3241);var $e=F(1769);var Ye=F(6230);var Ke=F(3143);var Xe=F(7611);var et=F(4856);var rt=F(9757);class PlaywrightServer{constructor(b){this._dontReuseBrowsers=new Set;this._options=b;if(b.preLaunchedBrowser){this._playwright=b.preLaunchedBrowser.attribution.playwright;this._dontReuse(b.preLaunchedBrowser)}if(b.preLaunchedAndroidDevice)this._playwright=b.preLaunchedAndroidDevice._android.attribution.playwright;this._playwright??=(0,Le.createPlaywright)({sdkLanguage:"javascript",isServer:true});const B=new We.Semaphore(this._options.maxConnections);const F=new We.Semaphore(1);const K=new We.Semaphore(1);this._wsServer=new ze.WSServer({onRequest:(b,B)=>{if(b.method==="GET"&&b.url==="/json"){B.setHeader("Content-Type","application/json");B.end(JSON.stringify({wsEndpointPath:this._options.path}));return}B.end("Running")},onUpgrade:(b,B)=>{const F=userAgentVersionMatchesErrorMessage(b.headers["user-agent"]||"");if(F)return{error:`HTTP/${b.httpVersion} 428 Precondition Required\r\n\r\n${F}`}},onHeaders:b=>{if(process.env.PWTEST_SERVER_WS_HEADERS)b.push(process.env.PWTEST_SERVER_WS_HEADERS)},onConnection:(b,se,oe,Qe)=>{const Re=b.headers["x-playwright-browser"];const Le=se.searchParams.get("browser")||(Array.isArray(Re)?Re[0]:Re)||null;const We=b.headers["x-playwright-proxy"];const ze=se.searchParams.get("proxy")||(Array.isArray(We)?We[0]:We);const $e=b.headers["x-playwright-launch-options"]||"";const Ye=Array.isArray($e)?$e[0]:$e;const Ke=se.searchParams.get("launch-options");let Xe={timeout:Ge.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT};try{Xe=JSON.parse(Ke||Ye);if(!Xe.timeout)Xe.timeout=Ge.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT}catch(b){}const et=this._options.mode==="extension";const rt=et;Xe=filterLaunchOptions(Xe,rt);if(et){const b=se.searchParams.get("connect");if(b){if(b!=="first")throw new Error(`Unknown connect filter: ${b}`);return new Me.PlaywrightConnection(B,oe,false,this._playwright,(()=>this._initConnectMode(Qe,b,Le,Xe)),Qe)}if(se.searchParams.has("debug-controller")){return new Me.PlaywrightConnection(F,oe,true,this._playwright,(async()=>{throw new Error("shouldnt be used")}),Qe)}return new Me.PlaywrightConnection(K,oe,false,this._playwright,(()=>this._initReuseBrowsersMode(Le,Xe,Qe)),Qe)}if(this._options.mode==="launchServer"||this._options.mode==="launchServerShared"){if(this._options.preLaunchedBrowser){return new Me.PlaywrightConnection(B,oe,false,this._playwright,(()=>this._initPreLaunchedBrowserMode(Qe)),Qe)}return new Me.PlaywrightConnection(B,oe,false,this._playwright,(()=>this._initPreLaunchedAndroidMode(Qe)),Qe)}return new Me.PlaywrightConnection(B,oe,false,this._playwright,(()=>this._initLaunchBrowserMode(Le,ze,Xe,Qe)),Qe)}})}async _initReuseBrowsersMode(b,B,F){Ke.debugLogger.log("server",`[${F}] engaged reuse browsers mode for ${b}`);const K=launchOptionsHash(B);let se=this._playwright.allBrowsers().find((B=>{if(B.options.name!==b)return false;if(this._dontReuseBrowsers.has(B))return false;const F=launchOptionsHash({...B.options.originalLaunchOptions,timeout:Ge.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT});return F===K}));for(const F of this._playwright.allBrowsers()){if(F===se)continue;if(this._dontReuseBrowsers.has(F))continue;if(F.options.name===b&&F.options.channel===B.channel)await F.close({reason:"Connection terminated"})}if(!se){const F=this._playwright[b||"chromium"];const K=new rt.ProgressController;se=await K.run((b=>F.launch(b,{...B,headless:!!process.env.PW_DEBUG_CONTROLLER_HEADLESS})),B.timeout)}return{preLaunchedBrowser:se,denyLaunch:true,dispose:async()=>{for(const b of se.contexts()){if(!b.pages().length)await b.close({reason:"Connection terminated"})}}}}async _initConnectMode(b,B,F,K){F??="chromium";Ke.debugLogger.log("server",`[${b}] engaged connect mode`);let se=this._playwright.allBrowsers().find((b=>b.options.name===F));if(!se){const b=this._playwright[F];const B=new rt.ProgressController;se=await B.run((B=>b.launch(B,K)),K.timeout);this._dontReuse(se)}return{preLaunchedBrowser:se,denyLaunch:true,sharedBrowser:true}}async _initPreLaunchedBrowserMode(b){Ke.debugLogger.log("server",`[${b}] engaged pre-launched (browser) mode`);const B=this._options.preLaunchedBrowser;for(const b of this._playwright.allBrowsers()){if(b!==B)await b.close({reason:"Connection terminated"})}return{preLaunchedBrowser:B,socksProxy:this._options.preLaunchedSocksProxy,sharedBrowser:this._options.mode==="launchServerShared",denyLaunch:true}}async _initPreLaunchedAndroidMode(b){Ke.debugLogger.log("server",`[${b}] engaged pre-launched (Android) mode`);const B=this._options.preLaunchedAndroidDevice;return{preLaunchedAndroidDevice:B,denyLaunch:true}}async _initLaunchBrowserMode(b,B,F,K){Ke.debugLogger.log("server",`[${K}] engaged launch mode for "${b}"`);let se;if(B){se=new Xe.SocksProxy;se.setPattern(B);F.socksProxyPort=await se.listen(0);Ke.debugLogger.log("server",`[${K}] started socks proxy on port ${F.socksProxyPort}`)}else{F.socksProxyPort=void 0}const oe=this._playwright[b];const Qe=new rt.ProgressController;const Re=await Qe.run((b=>oe.launch(b,F)),F.timeout);this._dontReuseBrowsers.add(Re);return{preLaunchedBrowser:Re,socksProxy:se,denyLaunch:true,dispose:async()=>{await Re.close({reason:"Connection terminated"});se?.close()}}}_dontReuse(b){this._dontReuseBrowsers.add(b);b.on(et.Browser.Events.Disconnected,(()=>{this._dontReuseBrowsers.delete(b)}))}async listen(b=0,B){return this._wsServer.listen(b,B,this._options.path)}async close(){await this._wsServer.close()}}function userAgentVersionMatchesErrorMessage(b){const B=b.match(/^Playwright\/(\d+\.\d+\.\d+)/);if(!B){return}const F=B[1].split(".").slice(0,2).join(".");const K=(0,Ye.getPlaywrightVersion)(true);if(F!==K){return(0,$e.wrapInASCIIBox)([`Playwright version mismatch:`,`  - server version: v${K}`,`  - client version: v${F}`,``,`If you are using VSCode extension, restart VSCode.`,``,`If you are connecting to a remote service,`,`keep your local Playwright version in sync`,`with the remote service version.`,``,`<3 Playwright Team`].join("\n"),1)}}function launchOptionsHash(b){const B={...b};for(const b of Object.keys(B)){const F=b;if(B[F]===it[F])delete B[F]}for(const b of ot)delete B[b];return JSON.stringify(B)}function filterLaunchOptions(b,B){return{channel:b.channel,args:b.args,ignoreAllDefaultArgs:b.ignoreAllDefaultArgs,ignoreDefaultArgs:b.ignoreDefaultArgs,timeout:b.timeout,headless:b.headless,proxy:b.proxy,chromiumSandbox:b.chromiumSandbox,firefoxUserPrefs:b.firefoxUserPrefs,slowMo:b.slowMo,executablePath:(0,Ke.isUnderTest)()||B?b.executablePath:void 0,downloadsPath:B?b.downloadsPath:void 0}}const it={ignoreAllDefaultArgs:false,handleSIGINT:false,handleSIGTERM:false,handleSIGHUP:false,headless:true,devtools:false};const ot=["headless","timeout","tracesDir"];0&&0},83:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Android:()=>Android,AndroidDevice:()=>AndroidDevice});b.exports=__toCommonJS(Le);var We=F(4434);var Ge=__toESM(F(9896));var ze=__toESM(F(857));var $e=__toESM(F(6928));var Ye=F(479);var Ke=F(6065);var Xe=F(3113);var et=F(9677);var rt=F(6897);var it=F(6877);var ot=F(6327);var at=F(6327);var lt=F(3021);var ut=F(3249);var dt=F(7094);var ht=F(1245);var pt=F(4794);var ft=F(6938);var mt=F(8307);var vt=F(9757);var yt=F(3230);const wt=$e.default.join(ze.default.tmpdir(),"playwright-artifacts-");class Android extends ft.SdkObject{constructor(b,B){super(b,"android");this._devices=new Map;this._backend=B}async devices(b,B){const F=(await b.race(this._backend.devices(B))).filter((b=>b.status==="device"));const K=new Set;for(const se of F){K.add(se.serial);if(this._devices.has(se.serial))continue;await b.race(AndroidDevice.create(this,se,B).then((b=>this._devices.set(se.serial,b))))}for(const b of this._devices.keys()){if(!K.has(b))this._devices.delete(b)}return[...this._devices.values()]}_deviceClosed(b){this._devices.delete(b.serial)}}class AndroidDevice extends ft.SdkObject{constructor(b,B,F,K){super(b,"android-device");this._lastId=0;this._callbacks=new Map;this._webViews=new Map;this._browserConnections=new Set;this._isClosed=false;this._android=b;this._backend=B;this.model=F;this.serial=B.serial;this._options=K;this.logName="browser"}static{this.Events={WebViewAdded:"webViewAdded",WebViewRemoved:"webViewRemoved",Close:"close"}}static async create(b,B,F){await B.init();const K=await B.runCommand("shell:getprop ro.product.model");const se=new AndroidDevice(b,B,K.toString().trim(),F);await se._init();return se}async _init(){await this._refreshWebViews();const poll=()=>{this._pollingWebViews=setTimeout((()=>this._refreshWebViews().then(poll).catch((()=>{this.close().catch((()=>{}))}))),500)};poll()}async shell(b){const B=await this._backend.runCommand(`shell:${b}`);await this._refreshWebViews();return B}async open(b,B){return await this._open(b,B)}async screenshot(){return await this._backend.runCommand(`shell:screencap -p`)}async _driver(){if(this._isClosed)return;if(!this._driverPromise){const b=new vt.ProgressController;this._driverPromise=b.run((b=>this._installDriver(b)))}return this._driverPromise}async _installDriver(b){(0,ot.debug)("pw:android")("Stopping the old driver");await b.race(this.shell(`am force-stop com.microsoft.playwright.androiddriver`));if(!this._options.omitDriverInstall){(0,ot.debug)("pw:android")("Uninstalling the old driver");await b.race(this.shell(`cmd package uninstall com.microsoft.playwright.androiddriver`));await b.race(this.shell(`cmd package uninstall com.microsoft.playwright.androiddriver.test`));(0,ot.debug)("pw:android")("Installing the new driver");const B=yt.registry.findExecutable("android");const F=(0,et.getPackageManagerExecCommand)();for(const K of["android-driver.apk","android-driver-target.apk"]){const se=$e.default.join(B.directory,K);if(!Ge.default.existsSync(se))throw new Error(`Please install Android driver apk using '${F} playwright install android'`);await this.installApk(b,await b.race(Ge.default.promises.readFile(se)))}}else{(0,ot.debug)("pw:android")("Skipping the driver installation")}(0,ot.debug)("pw:android")("Starting the new driver");this.shell("am instrument -w com.microsoft.playwright.androiddriver.test/androidx.test.runner.AndroidJUnitRunner").catch((b=>(0,ot.debug)("pw:android")(b)));const B=await this._waitForLocalAbstract(b,"playwright_android_driver_socket");const F=new Ye.PipeTransport(B,B,B,"be");F.onmessage=b=>{const B=JSON.parse(b);const{id:F,result:K,error:se}=B;const oe=this._callbacks.get(F);if(!oe)return;if(se)oe.reject(new Error(se));else oe.fulfill(K);this._callbacks.delete(F)};return F}async _waitForLocalAbstract(b,B){let F;(0,ot.debug)("pw:android")(`Polling the socket localabstract:${B}`);while(!F){try{F=await this._open(b,`localabstract:${B}`)}catch(B){if((0,vt.isAbortError)(B))throw B;await b.wait(250)}}(0,ot.debug)("pw:android")(`Connected to localabstract:${B}`);return F}async send(b,B={}){B={...B,timeout:B.timeout||0};if(B.androidSelector){B.selector=B.androidSelector;delete B.androidSelector}const F=await this._driver();if(!F)throw new Error("Device is closed");const K=++this._lastId;const se=new Promise(((b,B)=>this._callbacks.set(K,{fulfill:b,reject:B})));F.send(JSON.stringify({id:K,method:b,params:B}));return se}async close(){if(this._isClosed)return;this._isClosed=true;if(this._pollingWebViews)clearTimeout(this._pollingWebViews);for(const b of this._browserConnections)await b.close();if(this._driverPromise){const b=await this._driver();b?.close()}await this._backend.close();this._android._deviceClosed(this);this.emit(AndroidDevice.Events.Close)}async launchBrowser(b,B="com.android.chrome",F){(0,ot.debug)("pw:android")("Force-stopping",B);await this._backend.runCommand(`shell:am force-stop ${B}`);const K=(0,Xe.isUnderTest)()?"webview_devtools_remote_playwright_test":"playwright_"+(0,Ke.createGuid)()+"_devtools_remote";const se=this._defaultArgs(F,K).join(" ");(0,ot.debug)("pw:android")("Starting",B,se);await b.race(this._backend.runCommand(`shell:echo "${Buffer.from(se).toString("base64")}" | base64 -d > /data/local/tmp/chrome-command-line`));await b.race(this._backend.runCommand(`shell:am start -a android.intent.action.VIEW -d about:blank ${B}`));const oe=await this._connectToBrowser(b,K,F);try{await b.race(this._backend.runCommand(`shell:rm /data/local/tmp/chrome-command-line`));return oe}catch(b){await oe.close({reason:"Failed to launch"}).catch((()=>{}));throw b}}_defaultArgs(b,B){const F=["_","--disable-fre","--no-default-browser-check",`--remote-debugging-socket-name=${B}`,...(0,ut.chromiumSwitches)(void 0,void 0,true),...this._innerDefaultArgs(b)];return F}_innerDefaultArgs(b){const{args:B=[],proxy:F}=b;const K=[];if(F){K.push(`--proxy-server=${F.server}`);const b=[];if(F.bypass)b.push(...F.bypass.split(",").map((b=>b.trim())).map((b=>b.startsWith(".")?"*"+b:b)));if(!process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK&&!b.includes("<-loopback>"))b.push("<-loopback>");if(b.length>0)K.push(`--proxy-bypass-list=${b.join(";")}`)}K.push(...B);return K}async connectToWebView(b,B){const F=this._webViews.get(B);if(!F)throw new Error("WebView has been closed");return await this._connectToBrowser(b,B)}async _connectToBrowser(b,B,F={}){const K=await this._waitForLocalAbstract(b,B);try{const B=new AndroidBrowser(this,K);await b.race(B._init());this._browserConnections.add(B);const se=await b.race(Ge.default.promises.mkdtemp(wt));const cleanupArtifactsDir=async()=>{const b=(await(0,ht.removeFolders)([se])).filter(Boolean);for(let B=0;B<(b||[]).length;++B)(0,ot.debug)("pw:android")(`exception while removing ${se}: ${b[B]}`)};mt.gracefullyCloseSet.add(cleanupArtifactsDir);K.on("close",(async()=>{mt.gracefullyCloseSet.delete(cleanupArtifactsDir);cleanupArtifactsDir().catch((b=>(0,ot.debug)("pw:android")(`could not cleanup artifacts dir: ${b}`)))}));const oe={name:"clank",isChromium:true,slowMo:0,persistent:{...F,noDefaultViewport:true},artifactsDir:se,downloadsPath:se,tracesDir:se,browserProcess:new ClankBrowserProcess(B),proxy:F.proxy,protocolLogger:pt.helper.debugProtocolLogger(),browserLogsCollector:new it.RecentLogsCollector,originalLaunchOptions:{}};(0,lt.validateBrowserContextOptions)(F,oe);const Qe=await b.race(dt.CRBrowser.connect(this.attribution.playwright,B,oe));const Re=Qe._defaultContext;await Re._loadDefaultContextAsIs(b);return Re}catch(b){K.close();throw b}}_open(b,B){return(0,vt.raceUncancellableOperationWithCleanup)(b,(()=>this._backend.open(B)),(b=>b.close()))}webViews(){return[...this._webViews.values()]}async installApk(b,B,F){const K=F&&F.args?F.args:["-r","-t","-S"];(0,ot.debug)("pw:android")("Opening install socket");const se=await this._open(b,`shell:cmd package install ${K.join(" ")} ${B.length}`);(0,ot.debug)("pw:android")("Writing driver bytes: "+B.length);await b.race(se.write(B));const oe=await b.race(new Promise((b=>se.on("data",b))));(0,ot.debug)("pw:android")("Written driver bytes: "+oe);se.close()}async push(b,B,F,K=420){const se=await this._open(b,`sync:`);const sendHeader=async(B,F)=>{const K=Buffer.alloc(B.length+4);K.write(B,0);K.writeUInt32LE(F,B.length);await b.race(se.write(K))};const send=async(B,F)=>{await sendHeader(B,F.length);await b.race(se.write(F))};await send("SEND",Buffer.from(`${F},${K}`));const oe=65535;for(let b=0;b<B.length;b+=oe)await send("DATA",B.slice(b,b+oe));await sendHeader("DONE",Date.now()/1e3|0);const Qe=await b.race(new Promise((b=>se.once("data",b))));const Re=Qe.slice(0,4).toString();if(Re!=="OKAY")throw new Error("Could not push: "+Re);se.close()}async _refreshWebViews(){const b=(await this._backend.runCommand(`shell:cat /proc/net/unix | grep webview_devtools_remote`)).toString().split("\n");if(this._isClosed)return;const B=new Set;for(const F of b){const b=F.match(/[^@]+@(.*?webview_devtools_remote_?.*)/);if(!b)continue;const K=b[1];B.add(K);if(this._webViews.has(K))continue;const se=F.match(/[^@]+@.*?webview_devtools_remote_?(\d*)/);let oe=-1;if(se&&se[1])oe=+se[1];const Qe=await this._extractPkg(oe);if(this._isClosed)return;const Re={pid:oe,pkg:Qe,socketName:K};this._webViews.set(K,Re);this.emit(AndroidDevice.Events.WebViewAdded,Re)}for(const b of this._webViews.keys()){if(!B.has(b)){this._webViews.delete(b);this.emit(AndroidDevice.Events.WebViewRemoved,b)}}}async _extractPkg(b){let B="";if(b===-1)return B;const F=(await this._backend.runCommand(`shell:ps -A | grep ${b}`)).toString().split("\n");for(const b of F){const F=b.match(/[^\s]+\s+(\d+).*$/);if(!F)continue;B=b.substring(b.lastIndexOf(" ")+1)}return B}}class AndroidBrowser extends We.EventEmitter{constructor(b,B){super();this._waitForNextTask=(0,rt.makeWaitForNextTask)();this.setMaxListeners(0);this.device=b;this._socket=B;this._socket.on("close",(()=>{this._waitForNextTask((()=>{if(this.onclose)this.onclose()}))}));this._receiver=new at.wsReceiver;this._receiver.on("message",(b=>{this._waitForNextTask((()=>{if(this.onmessage)this.onmessage(JSON.parse(b))}))}))}async _init(){await this._socket.write(Buffer.from(`GET /devtools/browser HTTP/1.1\r\nUpgrade: WebSocket\r\nConnection: Upgrade\r\nSec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==\r\nSec-WebSocket-Version: 13\r\n\r\n`));await new Promise((b=>this._socket.once("data",b)));this._socket.on("data",(b=>this._receiver._write(b,"binary",(()=>{}))))}async send(b){await this._socket.write(encodeWebFrame(JSON.stringify(b)))}async close(){this._socket.close()}}function encodeWebFrame(b){return at.wsSender.frame(Buffer.from(b),{opcode:1,mask:true,fin:true,readOnly:true})[0]}class ClankBrowserProcess{constructor(b){this._browser=b}async kill(){}async close(){await this._browser.close()}}0&&0},287:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{AdbBackend:()=>AdbBackend});b.exports=__toCommonJS(Le);var We=F(4434);var Ge=__toESM(F(9278));var ze=F(6224);var $e=F(6327);class AdbBackend{async devices(b={}){const B=await runCommand("host:devices",b.host,b.port);const F=B.toString().trim().split("\n");return F.map((B=>{const[F,K]=B.trim().split("\t");return new AdbDevice(F,K,b.host,b.port)}))}}class AdbDevice{constructor(b,B,F,K){this._closed=false;this.serial=b;this.status=B;this.host=F;this.port=K}async init(){}async close(){this._closed=true}runCommand(b){if(this._closed)throw new Error("Device is closed");return runCommand(b,this.host,this.port,this.serial)}async open(b){if(this._closed)throw new Error("Device is closed");const B=await open(b,this.host,this.port,this.serial);B.becomeSocket();return B}}async function runCommand(b,B="127.0.0.1",F=5037,K){(0,$e.debug)("pw:adb:runCommand")(b,K);const se=new BufferedSocketWrapper(b,Ge.default.createConnection({host:B,port:F}));try{if(K){await se.write(encodeMessage(`host:transport:${K}`));const b=await se.read(4);(0,ze.assert)(b.toString()==="OKAY",b.toString())}await se.write(encodeMessage(b));const B=await se.read(4);(0,ze.assert)(B.toString()==="OKAY",B.toString());let F;if(!b.startsWith("shell:")){const b=parseInt((await se.read(4)).toString(),16);F=await se.read(b)}else{F=await se.readAll()}return F}finally{se.close()}}async function open(b,B="127.0.0.1",F=5037,K){const se=new BufferedSocketWrapper(b,Ge.default.createConnection({host:B,port:F}));if(K){await se.write(encodeMessage(`host:transport:${K}`));const b=await se.read(4);(0,ze.assert)(b.toString()==="OKAY",b.toString())}await se.write(encodeMessage(b));const oe=await se.read(4);(0,ze.assert)(oe.toString()==="OKAY",oe.toString());return se}function encodeMessage(b){let B=b.length.toString(16);B="0".repeat(4-B.length)+B;return Buffer.from(B+b)}class BufferedSocketWrapper extends We.EventEmitter{constructor(b,B){super();this._buffer=Buffer.from([]);this._isSocket=false;this._isClosed=false;this._command=b;this._socket=B;this._connectPromise=new Promise((b=>this._socket.on("connect",b)));this._socket.on("data",(b=>{(0,$e.debug)("pw:adb:data")(b.toString());if(this._isSocket){this.emit("data",b);return}this._buffer=Buffer.concat([this._buffer,b]);if(this._notifyReader)this._notifyReader()}));this._socket.on("close",(()=>{this._isClosed=true;if(this._notifyReader)this._notifyReader();this.close();this.emit("close")}));this._socket.on("error",(b=>this.emit("error",b)))}async write(b){(0,$e.debug)("pw:adb:send")(b.toString().substring(0,100)+"...");await this._connectPromise;await new Promise((B=>this._socket.write(b,B)))}close(){if(this._isClosed)return;(0,$e.debug)("pw:adb")("Close "+this._command);this._socket.destroy()}async read(b){await this._connectPromise;(0,ze.assert)(!this._isSocket,"Can not read by length in socket mode");while(this._buffer.length<b)await new Promise((b=>this._notifyReader=b));const B=this._buffer.slice(0,b);this._buffer=this._buffer.slice(b);(0,$e.debug)("pw:adb:recv")(B.toString().substring(0,100)+"...");return B}async readAll(){while(!this._isClosed)await new Promise((b=>this._notifyReader=b));return this._buffer}becomeSocket(){(0,ze.assert)(!this._buffer.length);this._isSocket=true}}0&&0},6564:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Artifact:()=>Artifact});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=F(3143);var ze=F(541);var $e=F(6938);var Ye=F(1871);class Artifact extends $e.SdkObject{constructor(b,B,F,K){super(b,"artifact");this._finishedPromise=new Ye.ManualPromise;this._saveCallbacks=[];this._finished=false;this._deleted=false;this._localPath=B;this._unaccessibleErrorMessage=F;this._cancelCallback=K}finishedPromise(){return this._finishedPromise}localPath(){return this._localPath}async localPathAfterFinished(){if(this._unaccessibleErrorMessage)throw new Error(this._unaccessibleErrorMessage);await this._finishedPromise;if(this._failureError)throw this._failureError;return this._localPath}saveAs(b){if(this._unaccessibleErrorMessage)throw new Error(this._unaccessibleErrorMessage);if(this._deleted)throw new Error(`File already deleted. Save before deleting.`);if(this._failureError)throw this._failureError;if(this._finished){b(this._localPath).catch((()=>{}));return}this._saveCallbacks.push(b)}async failureError(){if(this._unaccessibleErrorMessage)return this._unaccessibleErrorMessage;await this._finishedPromise;return this._failureError?.message||null}async cancel(){(0,Ge.assert)(this._cancelCallback!==void 0);return this._cancelCallback()}async delete(){if(this._unaccessibleErrorMessage)return;const b=await this.localPathAfterFinished();if(this._deleted)return;this._deleted=true;if(b)await We.default.promises.unlink(b).catch((b=>{}))}async deleteOnContextClose(){if(this._deleted)return;this._deleted=true;if(!this._unaccessibleErrorMessage)await We.default.promises.unlink(this._localPath).catch((b=>{}));await this.reportFinished(new ze.TargetClosedError)}async reportFinished(b){if(this._finished)return;this._finished=true;this._failureError=b;if(b){for(const B of this._saveCallbacks)await B("",b)}else{for(const b of this._saveCallbacks)await b(this._localPath)}this._saveCallbacks=[];this._finishedPromise.resolve()}}0&&0},8565:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BidiBrowser:()=>BidiBrowser,BidiBrowserContext:()=>BidiBrowserContext,Network:()=>it,getScreenOrientation:()=>getScreenOrientation});b.exports=__toCommonJS(Le);var We=F(8753);var Ge=F(4856);var ze=F(3021);var $e=__toESM(F(6370));var Ye=F(3765);var Ke=F(8464);var Xe=F(2281);var et=F(45);var rt=__toESM(F(4510));class BidiBrowser extends Ge.Browser{constructor(b,B,F){super(b,F);this._contexts=new Map;this._bidiPages=new Map;this._connection=new Ye.BidiConnection(B,this._onDisconnect.bind(this),F.protocolLogger,F.browserLogsCollector);this._browserSession=this._connection.browserSession;this._eventListeners=[We.eventsHelper.addEventListener(this._browserSession,"browsingContext.contextCreated",this._onBrowsingContextCreated.bind(this)),We.eventsHelper.addEventListener(this._browserSession,"script.realmDestroyed",this._onScriptRealmDestroyed.bind(this))]}static async connect(b,B,F){const K=new BidiBrowser(b,B,F);if(F.__testHookOnConnectToBrowser)await F.__testHookOnConnectToBrowser();K._bidiSessionInfo=await K._browserSession.send("session.new",{capabilities:{alwaysMatch:{acceptInsecureCerts:F.persistent?.internalIgnoreHTTPSErrors||F.persistent?.ignoreHTTPSErrors,proxy:getProxyConfiguration(F.originalLaunchOptions.proxyOverride??F.proxy),unhandledPromptBehavior:{default:rt.Session.UserPromptHandlerType.Ignore},webSocketUrl:true,"goog:prerenderingDisabled":true}}});await K._browserSession.send("session.subscribe",{events:["browsingContext","network","log","script","input"]});await K._browserSession.send("network.addDataCollector",{dataTypes:[rt.Network.DataType.Response],maxEncodedDataSize:2e7});if(F.persistent){const b=new BidiBrowserContext(K,void 0,F.persistent);K._defaultContext=b;await b._initialize();const B=await K._defaultContext.doCreateNewPage();await B.waitForInitializedOrError()}return K}_onDisconnect(){this._didClose()}async doCreateNewContext(b){const B=b.proxyOverride||b.proxy;const{userContext:F}=await this._browserSession.send("browser.createUserContext",{acceptInsecureCerts:b.internalIgnoreHTTPSErrors||b.ignoreHTTPSErrors,proxy:getProxyConfiguration(B)});const K=new BidiBrowserContext(this,F,b);await K._initialize();this._contexts.set(F,K);return K}contexts(){return Array.from(this._contexts.values())}version(){return this._bidiSessionInfo.capabilities.browserVersion}userAgent(){return this._bidiSessionInfo.capabilities.userAgent}isConnected(){return!this._connection.isClosed()}_onBrowsingContextCreated(b){if(b.parent){const B=b.parent;const F=this._findPageForFrame(B);if(F){F._session.addFrameBrowsingContext(b.context);F._page.frameManager.frameAttached(b.context,B);const K=F._page.frameManager.frame(b.context);if(K)K._url=b.url}return}let B=this._contexts.get(b.userContext);if(!B)B=this._defaultContext;if(!B)return;const F=this._connection.createMainFrameBrowsingContextSession(b.context);const K=b.originalOpener&&this._findPageForFrame(b.originalOpener);const se=new Xe.BidiPage(B,F,K||null);se._page.mainFrame()._url=b.url;this._bidiPages.set(b.context,se)}_onBrowsingContextDestroyed(b){if(b.parent){this._browserSession.removeFrameBrowsingContext(b.context);const B=b.parent;for(const F of this._bidiPages.values()){const K=F._page.frameManager.frame(B);if(!K)continue;F._page.frameManager.frameDetached(b.context);return}return}const B=this._bidiPages.get(b.context);if(!B)return;B.didClose();this._bidiPages.delete(b.context)}_onScriptRealmDestroyed(b){for(const B of this._bidiPages.values()){if(B._onRealmDestroyed(b))return}}_findPageForFrame(b){for(const B of this._bidiPages.values()){if(B._page.frameManager.frame(b))return B}}}class BidiBrowserContext extends ze.BrowserContext{constructor(b,B,F){super(b,F,B);this._originToPermissions=new Map;this._initScriptIds=new Map;this._authenticateProxyViaHeader()}_bidiPages(){return[...this._browser._bidiPages.values()].filter((b=>b._browserContext===this))}async _initialize(){const b=[super._initialize()];b.push(this.doUpdateDefaultViewport());if(this._options.geolocation)b.push(this.setGeolocation(this._options.geolocation));if(this._options.locale){b.push(this._browser._browserSession.send("emulation.setLocaleOverride",{locale:this._options.locale,userContexts:[this._userContextId()]}))}if(this._options.timezoneId){b.push(this._browser._browserSession.send("emulation.setTimezoneOverride",{timezone:this._options.timezoneId,userContexts:[this._userContextId()]}))}if(this._options.userAgent){b.push(this._browser._browserSession.send("emulation.setUserAgentOverride",{userAgent:this._options.userAgent,userContexts:[this._userContextId()]}))}if(this._options.extraHTTPHeaders)b.push(this.doUpdateExtraHTTPHeaders());await Promise.all(b)}possiblyUninitializedPages(){return this._bidiPages().map((b=>b._page))}async doCreateNewPage(){const{context:b}=await this._browser._browserSession.send("browsingContext.create",{type:rt.BrowsingContext.CreateType.Window,userContext:this._browserContextId});return this._browser._bidiPages.get(b)._page}async doGetCookies(b){const{cookies:B}=await this._browser._browserSession.send("storage.getCookies",{partition:{type:"storageKey",userContext:this._browserContextId}});return $e.filterCookies(B.map((b=>{const B={name:b.name,value:(0,Ke.bidiBytesValueToString)(b.value),domain:b.domain,path:b.path,httpOnly:b.httpOnly,secure:b.secure,expires:b.expiry??-1,sameSite:b.sameSite?fromBidiSameSite(b.sameSite):"None"};return B})),b)}async addCookies(b){b=$e.rewriteCookies(b);const B=b.map((b=>{const B={name:b.name,value:{type:"string",value:b.value},domain:b.domain,path:b.path,httpOnly:b.httpOnly,secure:b.secure,sameSite:b.sameSite&&toBidiSameSite(b.sameSite),expiry:b.expires===-1||b.expires===void 0?void 0:Math.round(b.expires)};return this._browser._browserSession.send("storage.setCookie",{cookie:B,partition:{type:"storageKey",userContext:this._browserContextId}})}));await Promise.all(B)}async doClearCookies(){await this._browser._browserSession.send("storage.deleteCookies",{partition:{type:"storageKey",userContext:this._browserContextId}})}async doGrantPermissions(b,B){const F=this._originToPermissions.get(b)||[];const K=B.filter((b=>!F.includes(b)));this._originToPermissions.set(b,[...F,...K]);await Promise.all(K.map((B=>this._setPermission(b,B,rt.Permissions.PermissionState.Granted))))}async doClearPermissions(){const b=[...this._originToPermissions.entries()];this._originToPermissions=new Map;await Promise.all(b.map((([b,B])=>B.map((B=>this._setPermission(b,B,rt.Permissions.PermissionState.Prompt))))))}async _setPermission(b,B,F){await this._browser._browserSession.send("permissions.setPermission",{descriptor:{name:B},state:F,origin:b,userContext:this._userContextId()})}async setGeolocation(b){(0,ze.verifyGeolocation)(b);this._options.geolocation=b;await this._browser._browserSession.send("emulation.setGeolocationOverride",{coordinates:b?{latitude:b.latitude,longitude:b.longitude,accuracy:b.accuracy}:null,userContexts:[this._userContextId()]})}async doUpdateExtraHTTPHeaders(){const b=this._options.extraHTTPHeaders||[];await this._browser._browserSession.send("network.setExtraHeaders",{headers:b.map((({name:b,value:B})=>({name:b,value:{type:"string",value:B}}))),userContexts:[this._userContextId()]})}async setUserAgent(b){this._options.userAgent=b;await this._browser._browserSession.send("emulation.setUserAgentOverride",{userAgent:b??null,userContexts:[this._userContextId()]})}async doUpdateOffline(){}async doSetHTTPCredentials(b){this._options.httpCredentials=b;for(const b of this.pages())await b.delegate.updateHttpCredentials()}async doAddInitScript(b){const{script:B}=await this._browser._browserSession.send("script.addPreloadScript",{functionDeclaration:`() => { return ${b.source} }`,userContexts:[this._userContextId()]});this._initScriptIds.set(b,B)}async doRemoveInitScripts(b){const B=[];for(const F of b){const b=this._initScriptIds.get(F);if(b)B.push(b);this._initScriptIds.delete(F)}await Promise.all(B.map((b=>this._browser._browserSession.send("script.removePreloadScript",{script:b}))))}async doUpdateRequestInterception(){}async doUpdateDefaultViewport(){if(!this._options.viewport)return;await Promise.all([this._browser._browserSession.send("browsingContext.setViewport",{viewport:{width:this._options.viewport.width,height:this._options.viewport.height},devicePixelRatio:this._options.deviceScaleFactor||1,userContexts:[this._userContextId()]}),this._browser._browserSession.send("emulation.setScreenOrientationOverride",{screenOrientation:getScreenOrientation(!!this._options.isMobile,this._options.viewport),userContexts:[this._userContextId()]})])}async doUpdateDefaultEmulatedMedia(){}async doExposePlaywrightBinding(){const b=[{type:"channel",value:{channel:Xe.kPlaywrightBindingChannel,ownership:rt.Script.ResultOwnership.Root}}];const B=`function addMainBinding(callback) { globalThis['${et.PageBinding.kBindingName}'] = callback; }`;const F=[];F.push(this._browser._browserSession.send("script.addPreloadScript",{functionDeclaration:B,arguments:b,userContexts:[this._userContextId()]}));F.push(...this._bidiPages().map((F=>{const K=[...F._realmToContext].filter((([b,B])=>B.world==="main")).map((([b,B])=>b));return Promise.all(K.map((K=>F._session.send("script.callFunction",{functionDeclaration:B,arguments:b,target:{realm:K},awaitPromise:false,userActivation:false}))))})));await Promise.all(F)}onClosePersistent(){}async clearCache(){}async doClose(b){if(!this._browserContextId){await this._browser.close({reason:b});return}await this._browser._browserSession.send("browser.removeUserContext",{userContext:this._browserContextId});this._browser._contexts.delete(this._browserContextId)}async cancelDownload(b){}_userContextId(){if(this._browserContextId)return this._browserContextId;return"default"}}function fromBidiSameSite(b){switch(b){case"strict":return"Strict";case"lax":return"Lax";case"none":return"None";case"default":return"Lax"}return"None"}function toBidiSameSite(b){switch(b){case"Strict":return rt.Network.SameSite.Strict;case"Lax":return rt.Network.SameSite.Lax;case"None":return rt.Network.SameSite.None}return rt.Network.SameSite.None}function getProxyConfiguration(b){if(!b)return void 0;const B={proxyType:"manual"};const F=new URL(b.server);switch(F.protocol){case"http:":B.httpProxy=F.host;break;case"https:":B.sslProxy=F.host;break;case"socks4:":B.socksProxy=F.host;B.socksVersion=4;break;case"socks5:":B.socksProxy=F.host;B.socksVersion=5;break;default:throw new Error("Invalid proxy server protocol: "+b.server)}const K=b.bypass??process.env.PLAYWRIGHT_PROXY_BYPASS_FOR_TESTING;if(K)B.noProxy=K.split(",");return B}function getScreenOrientation(b,B){const F={type:"landscape-primary",natural:rt.Emulation.ScreenOrientationNatural.Landscape};if(b){F.natural=rt.Emulation.ScreenOrientationNatural.Portrait;if(B.width<=B.height)F.type="portrait-primary"}return F}var it;(b=>{let B;(b=>{b["Strict"]="strict";b["Lax"]="lax";b["None"]="none"})(B=b.SameSite||(b.SameSite={}))})(it||(it={}));0&&0},7241:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BidiChromium:()=>BidiChromium});b.exports=__toCommonJS(Le);var We=__toESM(F(857));var Ge=F(1769);var ze=F(2880);var $e=F(8565);var Ye=F(3765);var Ke=F(3249);var Xe=F(633);class BidiChromium extends ze.BrowserType{constructor(b){super(b,"chromium")}async connectToTransport(b,B,K){const se=await F(5242).connectBidiOverCdp(b);b[et]=se;try{return $e.BidiBrowser.connect(this.attribution.playwright,se,B)}catch(b){if(K.recentLogs().some((b=>b.includes("Failed to create a ProcessSingleton for your profile directory.")))){throw new Error("Failed to create a ProcessSingleton for your profile directory. This usually means that the profile is already in use by another instance of Chromium.")}throw b}}doRewriteStartupLog(b){if(!b.logs)return b;if(b.logs.includes("Missing X server"))b.logs="\n"+(0,Ge.wrapInASCIIBox)(ze.kNoXServerRunningError,1);if(!b.logs.includes("crbug.com/357670")&&!b.logs.includes("No usable sandbox!")&&!b.logs.includes("crbug.com/638180"))return b;b.logs=[`Chromium sandboxing failed!`,`================================`,`To avoid the sandboxing issue, do either of the following:`,`  - (preferred): Configure your environment to support sandboxing`,`  - (alternative): Launch Chromium without sandbox using 'chromiumSandbox: false' option`,`================================`,``].join("\n");return b}amendEnvironment(b){return b}attemptToGracefullyCloseBrowser(b){const B=b[et];if(B)b=B;b.send({method:"browser.close",params:{},id:Ye.kBrowserCloseMessageId})}supportsPipeTransport(){return false}async defaultArgs(b,B,F){const K=this._innerDefaultArgs(b);K.push(`--user-data-dir=${F}`);K.push("--remote-debugging-port=0");if(B)K.push("about:blank");else K.push("--no-startup-window");return K}async waitForReadyState(b,B){return(0,Xe.waitForReadyState)({...b,cdpPort:0},B)}_innerDefaultArgs(b){const{args:B=[]}=b;const F=B.find((b=>b.startsWith("--user-data-dir")));if(F)throw this._createUserDataDirArgMisuseError("--user-data-dir");if(B.find((b=>b.startsWith("--remote-debugging-pipe"))))throw new Error("Playwright manages remote debugging connection itself.");if(B.find((b=>!b.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const K=[...(0,Ke.chromiumSwitches)(b.assistantMode)];if(We.default.platform()==="darwin"){K.push("--enable-unsafe-swiftshader")}if(b.devtools)K.push("--auto-open-devtools-for-tabs");if(b.headless){K.push("--headless");K.push("--hide-scrollbars","--mute-audio","--blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4")}if(b.chromiumSandbox!==true)K.push("--no-sandbox");const se=b.proxyOverride||b.proxy;if(se){const B=new URL(se.server);const F=B.protocol==="socks5:";if(F&&!b.socksProxyPort){K.push(`--host-resolver-rules="MAP * ~NOTFOUND , EXCLUDE ${B.hostname}"`)}K.push(`--proxy-server=${se.server}`);const oe=[];if(b.socksProxyPort)oe.push("<-loopback>");if(se.bypass)oe.push(...se.bypass.split(",").map((b=>b.trim())).map((b=>b.startsWith(".")?"*"+b:b)));if(!process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK&&!oe.includes("<-loopback>"))oe.push("<-loopback>");if(oe.length>0)K.push(`--proxy-bypass-list=${oe.join(";")}`)}K.push(...B);return K}}const et=Symbol("kBidiConnectionWrapper");0&&0},3765:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{BidiConnection:()=>BidiConnection,BidiSession:()=>BidiSession,kBrowserCloseMessageId:()=>ze,kShutdownSessionNewMessageId:()=>$e});b.exports=__toCommonJS(Re);var Me=F(4434);var Le=F(6877);var We=F(4794);var Ge=F(6390);const ze=Number.MAX_SAFE_INTEGER-1;const $e=ze-1;class BidiConnection{constructor(b,B,F,K){this._lastId=0;this._closed=false;this._browsingContextToSession=new Map;this._realmToBrowsingContext=new Map;this._realmToOwnerRealm=new Map;this._transport=b;this._onDisconnect=B;this._protocolLogger=F;this._browserLogsCollector=K;this.browserSession=new BidiSession(this,"",(b=>{this.rawSend(b)}));this._transport.onmessage=this._dispatchMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}rawSend(b){this._protocolLogger("send",b);this._transport.send(b)}_dispatchMessage(b){this._protocolLogger("receive",b);const B=b;if(B.type==="event"){if(B.method==="script.realmCreated"){if("context"in B.params)this._realmToBrowsingContext.set(B.params.realm,B.params.context);if(B.params.type==="dedicated-worker")this._realmToOwnerRealm.set(B.params.realm,B.params.owners[0])}else if(B.method==="script.realmDestroyed"){this._realmToBrowsingContext.delete(B.params.realm);this._realmToOwnerRealm.delete(B.params.realm)}let F;let K;if("context"in B.params){F=B.params.context}else if(B.method==="log.entryAdded"||B.method==="script.message"){F=B.params.source?.context;K=B.params.source?.realm}else if(B.method==="script.realmCreated"&&B.params.type==="dedicated-worker"){K=B.params.owners[0]}if(!F&&K){while(this._realmToOwnerRealm.get(K))K=this._realmToOwnerRealm.get(K);F=this._realmToBrowsingContext.get(K)}if(F){const B=this._browsingContextToSession.get(F);if(B){B.dispatchMessage(b);return}}}else if(b.id){for(const B of this._browsingContextToSession.values()){if(B.hasCallback(b.id)){B.dispatchMessage(b);return}}}this.browserSession.dispatchMessage(b)}_onClose(b){this._closed=true;this._transport.onmessage=void 0;this._transport.onclose=void 0;this._browserDisconnectedLogs=We.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),b);this.browserSession.dispose();this._onDisconnect()}isClosed(){return this._closed}close(){if(!this._closed)this._transport.close()}createMainFrameBrowsingContextSession(b){const B=new BidiSession(this,b,(b=>this.rawSend(b)));this._browsingContextToSession.set(b,B);return B}}class BidiSession extends Me.EventEmitter{constructor(b,B,F){super();this._disposed=false;this._callbacks=new Map;this._crashed=false;this._browsingContexts=new Set;this.setMaxListeners(0);this.connection=b;this.sessionId=B;this._rawSend=F;this.on=super.on;this.off=super.removeListener;this.addListener=super.addListener;this.removeListener=super.removeListener;this.once=super.once}addFrameBrowsingContext(b){this._browsingContexts.add(b);this.connection._browsingContextToSession.set(b,this)}removeFrameBrowsingContext(b){this._browsingContexts.delete(b);this.connection._browsingContextToSession.delete(b)}async send(b,B){if(this._crashed||this._disposed||this.connection._browserDisconnectedLogs)throw new Ge.ProtocolError(this._crashed?"crashed":"closed",void 0,this.connection._browserDisconnectedLogs);const F=this.connection.nextMessageId();const K={id:F,method:b,params:B};this._rawSend(K);return new Promise(((B,K)=>{this._callbacks.set(F,{resolve:B,reject:K,error:new Ge.ProtocolError("error",b)})}))}sendMayFail(b,B){return this.send(b,B).catch((b=>Le.debugLogger.log("error",b)))}markAsCrashed(){this._crashed=true}isDisposed(){return this._disposed}dispose(){this._disposed=true;this.connection._browsingContextToSession.delete(this.sessionId);for(const b of this._browsingContexts)this.connection._browsingContextToSession.delete(b);this._browsingContexts.clear();for(const b of this._callbacks.values()){b.error.type=this._crashed?"crashed":"closed";b.error.logs=this.connection._browserDisconnectedLogs;b.reject(b.error)}this._callbacks.clear()}hasCallback(b){return this._callbacks.has(b)}dispatchMessage(b){const B=b;if(B.id===ze||B.id===$e)return;if(B.id&&this._callbacks.has(B.id)){const b=this._callbacks.get(B.id);this._callbacks.delete(B.id);if(B.type==="error"){b.error.setMessage(B.error+"\nMessage: "+B.message);b.reject(b.error)}else if(B.type==="success"){b.resolve(B.result)}else{b.error.setMessage("Internal error, unexpected response type: "+JSON.stringify(B));b.reject(b.error)}}else if(B.id){}else{Promise.resolve().then((()=>this.emit(B.method,B.params)))}}}0&&0},2908:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BidiExecutionContext:()=>BidiExecutionContext,createHandle:()=>createHandle});b.exports=__toCommonJS(Le);var We=F(3143);var Ge=F(5334);var ze=__toESM(F(4745));var $e=__toESM(F(1852));var Ye=F(9897);var Ke=__toESM(F(4510));var Xe=F(6186);class BidiExecutionContext{constructor(b,B){this._session=b;if(B.type==="window"){this._target={context:B.context,sandbox:B.sandbox}}else{this._target={realm:B.realm}}}async rawEvaluateJSON(b){const B=await this._session.send("script.evaluate",{expression:b,target:this._target,serializationOptions:{maxObjectDepth:10,maxDomDepth:10},awaitPromise:true,userActivation:true});if(B.type==="success")return Ye.BidiDeserializer.deserialize(B.result);if(B.type==="exception")throw new ze.JavaScriptErrorInEvaluate(B.exceptionDetails.text);throw new ze.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(B))}async rawEvaluateHandle(b,B){const F=await this._session.send("script.evaluate",{expression:B,target:this._target,resultOwnership:Ke.Script.ResultOwnership.Root,serializationOptions:{maxObjectDepth:0,maxDomDepth:0},awaitPromise:true,userActivation:true});if(F.type==="success"){if("handle"in F.result)return createHandle(b,F.result);throw new ze.JavaScriptErrorInEvaluate("Cannot get handle: "+JSON.stringify(F.result))}if(F.type==="exception")throw new ze.JavaScriptErrorInEvaluate(F.exceptionDetails.text);throw new ze.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(F))}async evaluateWithArguments(b,B,F,K,se){const oe=await this._session.send("script.callFunction",{functionDeclaration:b,target:this._target,arguments:[{handle:F._objectId},...K.map(Xe.BidiSerializer.serialize),...se.map((b=>({handle:b._objectId})))],resultOwnership:B?void 0:Ke.Script.ResultOwnership.Root,serializationOptions:B?{}:{maxObjectDepth:0,maxDomDepth:0},awaitPromise:true,userActivation:true});if(oe.type==="exception")throw new ze.JavaScriptErrorInEvaluate(oe.exceptionDetails.text);if(oe.type==="success"){if(B)return(0,Ge.parseEvaluationResultValue)(Ye.BidiDeserializer.deserialize(oe.result));return createHandle(F._context,oe.result)}throw new ze.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(oe))}async getProperties(b){const B=await b.evaluate((b=>{const B=[];const F=Object.getOwnPropertyDescriptors(b);for(const b in F){if(F[b]?.enumerable)B.push(b)}return B}));const F=await Promise.all(B.map((B=>b.evaluateHandle(((b,B)=>b[B]),B))));const K=new Map;for(let b=0;b<B.length;b++)K.set(B[b],F[b]);return K}async releaseHandle(b){if(!b._objectId)return;await this._session.send("script.disown",{target:this._target,handles:[b._objectId]})}async nodeIdForElementHandle(b){const B=await this._remoteValueForReference({handle:b._objectId});if(!("sharedId"in B))throw new Error("Element is not a node");return{sharedId:B.sharedId}}async remoteObjectForNodeId(b,B){const F=await this._remoteValueForReference(B,true);if(!("handle"in F))throw new Error("Can't get remote object for nodeId");return createHandle(b,F)}async contentFrameIdForFrame(b){const B=await this._rawCallFunction("e => e.contentWindow",{handle:b._objectId});if(B?.type==="window")return B.value.context;return null}async frameIdForWindowHandle(b){if(!b._objectId)throw new Error("JSHandle is not a DOM node handle");const B=await this._remoteValueForReference({handle:b._objectId});if(B.type==="window")return B.value.context;return null}async _remoteValueForReference(b,B){return await this._rawCallFunction("e => e",b,B)}async _rawCallFunction(b,B,F){const K=await this._session.send("script.callFunction",{functionDeclaration:b,target:this._target,arguments:[B],resultOwnership:F?Ke.Script.ResultOwnership.Root:Ke.Script.ResultOwnership.None,serializationOptions:{maxObjectDepth:0,maxDomDepth:0},awaitPromise:true,userActivation:true});if(K.type==="exception")throw new ze.JavaScriptErrorInEvaluate(K.exceptionDetails.text);if(K.type==="success")return K.result;throw new ze.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(K))}}function renderPreview(b){if(b.type==="undefined")return"undefined";if(b.type==="null")return"null";if("value"in b)return String(b.value);return`<${b.type}>`}function remoteObjectValue(b){if(b.type==="undefined")return void 0;if(b.type==="null")return null;if(b.type==="number"&&typeof b.value==="string")return ze.parseUnserializableValue(b.value);if("value"in b)return b.value;return void 0}function createHandle(b,B){if(B.type==="node"){(0,We.assert)(b instanceof $e.FrameExecutionContext);return new $e.ElementHandle(b,B.handle)}const F="handle"in B?B.handle:void 0;return new ze.JSHandle(b,B.type,renderPreview(B),F,remoteObjectValue(B))}0&&0},1888:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BidiFirefox:()=>BidiFirefox});b.exports=__toCommonJS(Le);var We=__toESM(F(857));var Ge=__toESM(F(6928));var ze=F(1769);var $e=F(2880);var Ye=F(8565);var Ke=F(3765);var Xe=F(6561);var et=F(1871);class BidiFirefox extends $e.BrowserType{constructor(b){super(b,"firefox")}executablePath(){return""}async connectToTransport(b,B){return Ye.BidiBrowser.connect(this.attribution.playwright,b,B)}doRewriteStartupLog(b){if(!b.logs)return b;if(b.logs.includes(`as root in a regular user's session is not supported.`))b.logs="\n"+(0,ze.wrapInASCIIBox)(`Firefox is unable to launch if the $HOME folder isn't owned by the current user.\nWorkaround: Set the HOME=/root environment variable${process.env.GITHUB_ACTION?" in your GitHub Actions workflow file":""} when running Playwright.`,1);if(b.logs.includes("no DISPLAY environment variable specified"))b.logs="\n"+(0,ze.wrapInASCIIBox)($e.kNoXServerRunningError,1);return b}amendEnvironment(b){if(!Ge.default.isAbsolute(We.default.homedir()))throw new Error(`Cannot launch Firefox with relative home directory. Did you set ${We.default.platform()==="win32"?"USERPROFILE":"HOME"} to a relative path?`);b={...b,MOZ_CRASHREPORTER:"1",MOZ_CRASHREPORTER_NO_REPORT:"1",MOZ_CRASHREPORTER_SHUTDOWN:"1"};if(We.default.platform()==="linux"){return{...b,SNAP_NAME:void 0,SNAP_INSTANCE_NAME:void 0}}return b}attemptToGracefullyCloseBrowser(b){this._attemptToGracefullyCloseBrowser(b).catch((()=>{}))}async _attemptToGracefullyCloseBrowser(b){if(!b.onmessage){b.send({method:"session.new",params:{capabilities:{}},id:Ke.kShutdownSessionNewMessageId});await new Promise((B=>{b.onmessage=b=>{if(b.id===Ke.kShutdownSessionNewMessageId)B(true)}}))}b.send({method:"browser.close",params:{},id:Ke.kBrowserCloseMessageId})}supportsPipeTransport(){return false}async prepareUserDataDir(b,B){await(0,Xe.createProfile)({path:B,preferences:b.firefoxUserPrefs||{}})}async defaultArgs(b,B,F){const{args:K=[],headless:se}=b;const oe=K.find((b=>b.startsWith("-profile")||b.startsWith("--profile")));if(oe)throw this._createUserDataDirArgMisuseError("--profile");if(K.find((b=>!b.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const Qe=["--remote-debugging-port=0"];if(se)Qe.push("--headless");else Qe.push("--foreground");Qe.push(`--profile`,F);Qe.push(...K);return Qe}async waitForReadyState(b,B){const F=new et.ManualPromise;B.onMessage((b=>{const B=b.match(/WebDriver BiDi listening on (ws:\/\/.*)$/);if(B)F.resolve({wsEndpoint:B[1]+"/session"})}));return F}}0&&0},1093:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{RawKeyboardImpl:()=>RawKeyboardImpl,RawMouseImpl:()=>RawMouseImpl,RawTouchscreenImpl:()=>RawTouchscreenImpl});b.exports=__toCommonJS(Le);var We=F(876);var Ge=F(4931);var ze=__toESM(F(4510));class RawKeyboardImpl{constructor(b){this._session=b}setSession(b){this._session=b}async keydown(b,B,F,K,se){F=(0,We.resolveSmartModifierString)(F);const oe=[];oe.push({type:"keyDown",value:(0,Ge.getBidiKeyValue)(F)});await this._performActions(b,oe)}async keyup(b,B,F,K){F=(0,We.resolveSmartModifierString)(F);const se=[];se.push({type:"keyUp",value:(0,Ge.getBidiKeyValue)(F)});await this._performActions(b,se)}async sendText(b,B){const F=[];for(const b of B){const B=(0,Ge.getBidiKeyValue)(b);F.push({type:"keyDown",value:B});F.push({type:"keyUp",value:B})}await this._performActions(b,F)}async _performActions(b,B){await b.race(this._session.send("input.performActions",{context:this._session.sessionId,actions:[{type:"key",id:"pw_keyboard",actions:B}]}))}}class RawMouseImpl{constructor(b){this._session=b}async move(b,B,F,K,se,oe,Qe){await this._performActions(b,[{type:"pointerMove",x:B,y:F}])}async down(b,B,F,K,se,oe,Qe){await this._performActions(b,[{type:"pointerDown",button:toBidiButton(K)}])}async up(b,B,F,K,se,oe,Qe){await this._performActions(b,[{type:"pointerUp",button:toBidiButton(K)}])}async wheel(b,B,F,K,se,oe,Qe){B=Math.floor(B);F=Math.floor(F);await b.race(this._session.send("input.performActions",{context:this._session.sessionId,actions:[{type:"wheel",id:"pw_mouse_wheel",actions:[{type:"scroll",x:B,y:F,deltaX:oe,deltaY:Qe}]}]}))}async _performActions(b,B){await b.race(this._session.send("input.performActions",{context:this._session.sessionId,actions:[{type:"pointer",id:"pw_mouse",parameters:{pointerType:ze.Input.PointerType.Mouse},actions:B}]}))}}class RawTouchscreenImpl{constructor(b){this._session=b}async tap(b,B,F,K){}}function toBidiButton(b){switch(b){case"left":return 0;case"right":return 2;case"middle":return 1}throw new Error("Unknown button: "+b)}0&&0},8464:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BidiNetworkManager:()=>BidiNetworkManager,bidiBytesValueToString:()=>bidiBytesValueToString});b.exports=__toCommonJS(Le);var We=F(8753);var Ge=F(1827);var ze=__toESM(F(6370));var $e=__toESM(F(4510));class BidiNetworkManager{constructor(b,B){this._userRequestInterceptionEnabled=false;this._protocolRequestInterceptionEnabled=false;this._attemptedAuthentications=new Set;this._session=b;this._requests=new Map;this._page=B;this._eventListeners=[We.eventsHelper.addEventListener(b,"network.beforeRequestSent",this._onBeforeRequestSent.bind(this)),We.eventsHelper.addEventListener(b,"network.responseStarted",this._onResponseStarted.bind(this)),We.eventsHelper.addEventListener(b,"network.responseCompleted",this._onResponseCompleted.bind(this)),We.eventsHelper.addEventListener(b,"network.fetchError",this._onFetchError.bind(this)),We.eventsHelper.addEventListener(b,"network.authRequired",this._onAuthRequired.bind(this))]}dispose(){We.eventsHelper.removeEventListeners(this._eventListeners)}_onBeforeRequestSent(b){if(b.request.url.startsWith("data:"))return;const B=b.redirectCount?this._requests.get(b.request.request)||null:null;const F=B?B.request.frame():b.context?this._page.frameManager.frame(b.context):null;if(!F)return;if(B)this._deleteRequest(B._id);let K;if(b.intercepts){if(B){let F={};if(B._originalRequestRoute?._alreadyContinuedHeaders)F=toBidiRequestHeaders(B._originalRequestRoute._alreadyContinuedHeaders??[]);this._session.sendMayFail("network.continueRequest",{request:b.request.request,...F})}else{K=new BidiRouteImpl(this._session,b.request.request)}}const se=new BidiRequest(F,B,b,K);this._requests.set(se._id,se);this._page.frameManager.requestStarted(se.request,K)}_onResponseStarted(b){const B=this._requests.get(b.request.request);if(!B)return;const getResponseBody=async()=>{const{bytes:B}=await this._session.send("network.getData",{request:b.request.request,dataType:$e.Network.DataType.Response});const F=B.type==="base64"?"base64":"utf8";return Buffer.from(B.value,F)};const F=b.request.timings;const K=F.requestTime;function relativeToStart(b){if(!b)return-1;return b-K}const se={startTime:K,requestStart:relativeToStart(F.requestStart),responseStart:relativeToStart(F.responseStart),domainLookupStart:relativeToStart(F.dnsStart),domainLookupEnd:relativeToStart(F.dnsEnd),connectStart:relativeToStart(F.connectStart),secureConnectionStart:relativeToStart(F.tlsStart),connectEnd:relativeToStart(F.connectEnd)};const oe=new ze.Response(B.request,b.response.status,b.response.statusText,fromBidiHeaders(b.response.headers),se,getResponseBody,false);oe._serverAddrFinished();oe._securityDetailsFinished();oe.setRawResponseHeaders(null);oe.setResponseHeadersSize(b.response.headersSize);this._page.frameManager.requestReceivedResponse(oe)}_onResponseCompleted(b){const B=this._requests.get(b.request.request);if(!B)return;const F=B.request._existingResponse();F.setTransferSize(b.response.bodySize);F.setEncodedBodySize(b.response.bodySize);const K=F.status()>=300&&F.status()<=399;const se=b.request.timings.responseEnd-F.timing().startTime;if(K){F._requestFinished(se)}else{this._deleteRequest(B._id);F._requestFinished(se)}F._setHttpVersion(b.response.protocol);this._page.frameManager.reportRequestFinished(B.request,F)}_onFetchError(b){const B=this._requests.get(b.request.request);if(!B)return;this._deleteRequest(B._id);const F=B.request._existingResponse();if(F){F.setTransferSize(null);F.setEncodedBodySize(null);F._requestFinished(-1)}B.request._setFailureText(b.errorText);this._page.frameManager.requestFailed(B.request,b.errorText==="NS_BINDING_ABORTED")}_onAuthRequired(b){const B=b.response.authChallenges?.some((b=>b.scheme.startsWith("Basic")));const F=this._page.browserContext._options.httpCredentials;if(B&&F&&(!F.origin||new URL(b.request.url).origin.toLowerCase()===F.origin.toLowerCase())){if(this._attemptedAuthentications.has(b.request.request)){this._session.sendMayFail("network.continueWithAuth",{request:b.request.request,action:"cancel"})}else{this._attemptedAuthentications.add(b.request.request);this._session.sendMayFail("network.continueWithAuth",{request:b.request.request,action:"provideCredentials",credentials:{type:"password",username:F.username,password:F.password}})}}else{this._session.sendMayFail("network.continueWithAuth",{request:b.request.request,action:"cancel"})}}_deleteRequest(b){this._requests.delete(b);this._attemptedAuthentications.delete(b)}async setRequestInterception(b){this._userRequestInterceptionEnabled=b;await this._updateProtocolRequestInterception()}async setCredentials(b){this._credentials=b;await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(b){const B=this._userRequestInterceptionEnabled||!!this._credentials;if(B===this._protocolRequestInterceptionEnabled)return;this._protocolRequestInterceptionEnabled=B;if(b&&!B)return;const F=this._session.send("network.setCacheBehavior",{cacheBehavior:B?"bypass":"default"});let K=Promise.resolve(void 0);if(B){K=this._session.send("network.addIntercept",{phases:[$e.Network.InterceptPhase.AuthRequired,$e.Network.InterceptPhase.BeforeRequestSent],urlPatterns:[{type:"pattern"}]}).then((b=>{this._intercepId=b.intercept}))}else if(this._intercepId){K=this._session.send("network.removeIntercept",{intercept:this._intercepId});this._intercepId=void 0}await Promise.all([F,K])}}class BidiRequest{constructor(b,B,F,K){this._id=F.request.request;if(B)B._redirectedTo=this;const se=null;this.request=new ze.Request(b._page.browserContext,b,null,B?B.request:null,F.navigation??void 0,F.request.url,resourceTypeFromBidi(F.request.destination,F.request.initiatorType,F.initiator?.type),F.request.method,se,fromBidiHeaders(F.request.headers));this.request.setRawRequestHeaders(null);this.request._setBodySize(F.request.bodySize||0);this._originalRequestRoute=K??B?._originalRequestRoute;K?._setRequest(this.request)}_finalRequest(){let b=this;while(b._redirectedTo)b=b._redirectedTo;return b}}class BidiRouteImpl{constructor(b,B){this._session=b;this._requestId=B}_setRequest(b){this._request=b}async continue(b){let B=b.headers||this._request.headers();if(b.postData&&B){B=B.map((B=>{if(B.name.toLowerCase()==="content-length")return{name:B.name,value:b.postData.byteLength.toString()};return B}))}this._alreadyContinuedHeaders=B;await this._session.sendMayFail("network.continueRequest",{request:this._requestId,url:b.url,method:b.method,...toBidiRequestHeaders(this._alreadyContinuedHeaders),body:b.postData?{type:"base64",value:Buffer.from(b.postData).toString("base64")}:void 0})}async fulfill(b){const B=b.isBase64?b.body:Buffer.from(b.body).toString("base64");await this._session.sendMayFail("network.provideResponse",{request:this._requestId,statusCode:b.status,reasonPhrase:ze.statusText(b.status),...toBidiResponseHeaders(b.headers),body:{type:"base64",value:B}})}async abort(b){await this._session.sendMayFail("network.failRequest",{request:this._requestId})}}function fromBidiHeaders(b){const B=[];for(const{name:F,value:K}of b)B.push({name:F,value:bidiBytesValueToString(K)});return B}function toBidiRequestHeaders(b){const B=toBidiHeaders(b);return{headers:B}}function toBidiResponseHeaders(b){const B=b.filter((b=>b.name.toLowerCase()==="set-cookie"));const F=b.filter((b=>b.name.toLowerCase()!=="set-cookie"));const K=B.map((b=>(0,Ge.parseRawCookie)(b.value)));const se=K.filter(Boolean).map((b=>({...b,value:{type:"string",value:b.value},sameSite:toBidiSameSite(b.sameSite)})));return{cookies:se,headers:toBidiHeaders(F)}}function toBidiHeaders(b){return b.map((({name:b,value:B})=>({name:b,value:{type:"string",value:B}})))}function bidiBytesValueToString(b){if(b.type==="string")return b.value;if(b.type==="base64")return Buffer.from(b.type,"base64").toString("binary");return"unknown value type: "+b.type}function toBidiSameSite(b){if(!b)return void 0;if(b==="Strict")return $e.Network.SameSite.Strict;if(b==="Lax")return $e.Network.SameSite.Lax;return $e.Network.SameSite.None}function resourceTypeFromBidi(b,B,F){switch(b){case"audio":return"media";case"audioworklet":return"script";case"document":return"document";case"font":return"font";case"frame":return"document";case"iframe":return"document";case"image":return"image";case"object":return"object";case"paintworklet":return"script";case"script":return"script";case"serviceworker":return"script";case"sharedworker":return"script";case"style":return"stylesheet";case"track":return"texttrack";case"video":return"media";case"worker":return"script";case"":switch(B){case"fetch":return"fetch";case"font":return"font";case"xmlhttprequest":return"xhr";case null:return F==="script"?"xhr":"document";default:return"other"}default:return"other"}}0&&0},5242:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{connectBidiOverCdp:()=>connectBidiOverCdp});b.exports=__toCommonJS(Le);var We=__toESM(F(1478));var Ge=__toESM(F(434));var ze=F(6877);const bidiServerLogger=(b,...B)=>{ze.debugLogger.log(b,B)};async function connectBidiOverCdp(b){let B=void 0;const F=new BidiTransportImpl;const K=new BidiConnection(F,(()=>B?.close()));const se=new CdpTransportImpl(b);const oe=new Ge.MapperCdpConnection(se,bidiServerLogger);b.onclose=()=>K.onclose?.();B=await We.BidiServer.createAndStart(F,oe,await oe.createBrowserSession(),"",void 0,bidiServerLogger);return K}class BidiTransportImpl{setOnMessage(b){this._handler=b}sendMessage(b){return this._bidiConnection.onmessage?.(b)}close(){this._bidiConnection.onclose?.()}}class BidiConnection{constructor(b,B){this._bidiTransport=b;this._bidiTransport._bidiConnection=this;this._closeCallback=B}send(b){this._bidiTransport._handler?.(b)}close(){this._closeCallback()}}class CdpTransportImpl{constructor(b){this._connection=b;this._connection.onmessage=b=>{this._handler?.(JSON.stringify(b))}}setOnMessage(b){this._handler=b}sendMessage(b){return this._connection.send(JSON.parse(b))}close(){this._connection.close()}}0&&0},2281:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BidiPage:()=>BidiPage,kPlaywrightBindingChannel:()=>lt});b.exports=__toCommonJS(Le);var We=F(8753);var Ge=__toESM(F(9870));var ze=__toESM(F(1852));var $e=F(8565);var Ye=F(45);var Ke=F(2908);var Xe=F(1093);var et=F(8464);var rt=F(3955);var it=__toESM(F(4510));var ot=__toESM(F(6370));const at="__playwright_utility_world__";const lt="playwrightChannel";class BidiPage{constructor(b,B,F){this._realmToWorkerContext=new Map;this._sessionListeners=[];this._initScriptIds=new Map;this._session=B;this._opener=F;this.rawKeyboard=new Xe.RawKeyboardImpl(B);this.rawMouse=new Xe.RawMouseImpl(B);this.rawTouchscreen=new Xe.RawTouchscreenImpl(B);this._realmToContext=new Map;this._page=new Ye.Page(this,b);this._browserContext=b;this._networkManager=new et.BidiNetworkManager(this._session,this._page);this._pdf=new rt.BidiPDF(this._session);this._page.on(Ye.Page.Events.FrameDetached,(b=>this._removeContextsForFrame(b,false)));this._sessionListeners=[We.eventsHelper.addEventListener(B,"script.realmCreated",this._onRealmCreated.bind(this)),We.eventsHelper.addEventListener(B,"script.message",this._onScriptMessage.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.contextDestroyed",this._onBrowsingContextDestroyed.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.navigationStarted",this._onNavigationStarted.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.navigationCommitted",this._onNavigationCommitted.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.navigationAborted",this._onNavigationAborted.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.navigationFailed",this._onNavigationFailed.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.fragmentNavigated",this._onFragmentNavigated.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.historyUpdated",this._onHistoryUpdated.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.domContentLoaded",this._onDomContentLoaded.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.load",this._onLoad.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.downloadWillBegin",this._onDownloadWillBegin.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.downloadEnd",this._onDownloadEnded.bind(this)),We.eventsHelper.addEventListener(B,"browsingContext.userPromptOpened",this._onUserPromptOpened.bind(this)),We.eventsHelper.addEventListener(B,"log.entryAdded",this._onLogEntryAdded.bind(this)),We.eventsHelper.addEventListener(B,"input.fileDialogOpened",this._onFileDialogOpened.bind(this))];this._initialize().then((()=>this._page.reportAsNew(this._opener?._page)),(b=>this._page.reportAsNew(this._opener?._page,b)))}async _initialize(){this._onFrameAttached(this._session.sessionId,null);await Promise.all([this.updateHttpCredentials(),this.updateRequestInterception()])}didClose(){this._session.dispose();We.eventsHelper.removeEventListeners(this._sessionListeners);this._page._didClose()}_onFrameAttached(b,B){return this._page.frameManager.frameAttached(b,B)}_removeContextsForFrame(b,B){for(const[F,K]of this._realmToContext){if(K.frame===b){this._realmToContext.delete(F);if(B)b._contextDestroyed(K)}}}_onRealmCreated(b){if(b.type==="dedicated-worker"){const B=new Ke.BidiExecutionContext(this._session,b);const F=new Ye.Worker(this._page,b.origin);this._realmToWorkerContext.set(b.realm,F.createExecutionContext(B));F.workerScriptLoaded();this._page.addWorker(b.realm,F);return}if(this._realmToContext.has(b.realm))return;if(b.type!=="window")return;const B=this._page.frameManager.frame(b.context);if(!B)return;let F;if(!b.sandbox){F="main";this._touchUtilityWorld(b.context)}else if(b.sandbox===at){F="utility"}else{return}const K=new Ke.BidiExecutionContext(this._session,b);const se=new ze.FrameExecutionContext(K,B,F);B._contextCreated(F,se);this._realmToContext.set(b.realm,se)}async _touchUtilityWorld(b){await this._session.sendMayFail("script.evaluate",{expression:"1 + 1",target:{context:b,sandbox:at},serializationOptions:{maxObjectDepth:10,maxDomDepth:10},awaitPromise:true,userActivation:true})}_onRealmDestroyed(b){const B=this._realmToContext.get(b.realm);if(B){this._realmToContext.delete(b.realm);B.frame._contextDestroyed(B);return true}const F=this._realmToWorkerContext.delete(b.realm);if(F){this._page.removeWorker(b.realm);return true}return false}_onBrowsingContextDestroyed(b){this._browserContext._browser._onBrowsingContextDestroyed(b)}_onNavigationStarted(b){const B=b.context;this._page.frameManager.frameRequestedNavigation(B,b.navigation)}_onNavigationCommitted(b){const B=b.context;this._page.frameManager.frameCommittedNewDocumentNavigation(B,b.url,"",b.navigation,false)}_onDomContentLoaded(b){const B=b.context;this._page.frameManager.frameLifecycleEvent(B,"domcontentloaded")}_onLoad(b){this._page.frameManager.frameLifecycleEvent(b.context,"load")}_onNavigationAborted(b){this._page.frameManager.frameAbortedNavigation(b.context,"Navigation aborted",b.navigation||void 0)}_onNavigationFailed(b){this._page.frameManager.frameAbortedNavigation(b.context,"Navigation failed",b.navigation||void 0)}_onFragmentNavigated(b){this._page.frameManager.frameCommittedSameDocumentNavigation(b.context,b.url)}_onHistoryUpdated(b){this._page.frameManager.frameCommittedSameDocumentNavigation(b.context,b.url)}_onUserPromptOpened(b){this._page.browserContext.dialogManager.dialogDidOpen(new Ge.Dialog(this._page,b.type,b.message,(async(B,F)=>{await this._session.send("browsingContext.handleUserPrompt",{context:b.context,accept:B,userText:F})}),b.defaultValue))}_onDownloadWillBegin(b){if(!b.navigation)return;this._page.frameManager.frameAbortedNavigation(b.context,"Download is starting");let B=this._page.initializedOrUndefined();if(!B&&this._opener)B=this._opener._page.initializedOrUndefined();if(!B)return;this._browserContext._browser._downloadCreated(B,b.navigation,b.url,b.suggestedFilename)}_onDownloadEnded(b){if(!b.navigation)return;this._browserContext._browser._downloadFinished(b.navigation,b.status==="canceled"?"canceled":void 0)}_onLogEntryAdded(b){if(b.type==="javascript"&&b.level==="error"){let B="";let F;if(b.text?.includes(": ")){const K=b.text.indexOf(": ");B=b.text.substring(0,K);F=b.text.substring(K+2)}else{F=b.text??void 0}const K=new Error(F);K.name=B;K.stack=`${b.text}\n${b.stackTrace?.callFrames.map((b=>{const B=`${b.url}:${b.lineNumber+1}:${b.columnNumber+1}`;return b.functionName?`    at ${b.functionName} (${B})`:`    at ${B}`})).join("\n")}`;this._page.addPageError(K);return}if(b.type!=="console")return;const B=b;const F=this._realmToContext.get(b.source.realm)??this._realmToWorkerContext.get(b.source.realm);if(!F)return;const K=b.stackTrace?.callFrames[0];const se=K??{url:"",lineNumber:1,columnNumber:1};this._page.addConsoleMessage(null,B.method,B.args.map((b=>(0,Ke.createHandle)(F,b))),se,b.text||void 0)}async _onFileDialogOpened(b){if(!b.element)return;const B=this._page.frameManager.frame(b.context);if(!B)return;const F=await B._mainContext();const K=await toBidiExecutionContext(F).remoteObjectForNodeId(F,{sharedId:b.element.sharedId});await this._page._onFileChooserOpened(K)}async navigateFrame(b,B,F){const{navigation:K}=await this._session.send("browsingContext.navigate",{context:b._id,url:B});return{newDocumentId:K||void 0}}async updateExtraHTTPHeaders(){const b=ot.mergeHeaders([this._browserContext._options.extraHTTPHeaders,this._page.extraHTTPHeaders()]);await this._session.send("network.setExtraHeaders",{headers:b.map((({name:b,value:B})=>({name:b,value:{type:"string",value:B}}))),contexts:[this._session.sessionId]})}async updateEmulateMedia(){}async updateUserAgent(){}async bringToFront(){await this._session.send("browsingContext.activate",{context:this._session.sessionId})}async updateEmulatedViewportSize(){const b=this._browserContext._options;const B=this._page.emulatedSize();if(!B)return;const F=B.viewport;await Promise.all([this._session.send("browsingContext.setViewport",{context:this._session.sessionId,viewport:{width:F.width,height:F.height},devicePixelRatio:b.deviceScaleFactor||1}),this._session.send("emulation.setScreenOrientationOverride",{contexts:[this._session.sessionId],screenOrientation:(0,$e.getScreenOrientation)(!!b.isMobile,F)})])}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateOffline(){}async updateHttpCredentials(){await this._networkManager.setCredentials(this._browserContext._options.httpCredentials)}async updateFileChooserInterception(){}async reload(){await this._session.send("browsingContext.reload",{context:this._session.sessionId,wait:it.BrowsingContext.ReadinessState.Interactive})}async goBack(){return await this._session.send("browsingContext.traverseHistory",{context:this._session.sessionId,delta:-1}).then((()=>true)).catch((()=>false))}async goForward(){return await this._session.send("browsingContext.traverseHistory",{context:this._session.sessionId,delta:1}).then((()=>true)).catch((()=>false))}async requestGC(){throw new Error("Method not implemented.")}async _onScriptMessage(b){if(b.channel!==lt)return;const B=await this._page.waitForInitializedOrError();if(B instanceof Error)return;const F=this._realmToContext.get(b.source.realm);if(!F)return;if(b.data.type!=="string")return;await this._page.onBindingCalled(b.data.value,F)}async addInitScript(b){const{script:B}=await this._session.send("script.addPreloadScript",{functionDeclaration:`() => { return ${b.source} }`,contexts:[this._session.sessionId]});this._initScriptIds.set(b,B)}async removeInitScripts(b){const B=[];for(const F of b){const b=this._initScriptIds.get(F);if(b)B.push(b);this._initScriptIds.delete(F)}await Promise.all(B.map((b=>this._session.send("script.removePreloadScript",{script:b}))))}async closePage(b){if(b){this._session.sendMayFail("browsingContext.close",{context:this._session.sessionId,promptUnload:b})}else{await this._session.send("browsingContext.close",{context:this._session.sessionId,promptUnload:b})}}async setBackgroundColor(b){if(b)throw new Error("Not implemented")}async takeScreenshot(b,B,F,K,se,oe,Qe){const Re=F||K;const{data:Me}=await b.race(this._session.send("browsingContext.captureScreenshot",{context:this._session.sessionId,format:{type:`image/${B==="png"?"png":"jpeg"}`,quality:se?se/100:.8},origin:F?"document":"viewport",clip:{type:"box",...Re}}));return Buffer.from(Me,"base64")}async getContentFrame(b){const B=toBidiExecutionContext(b._context);const F=await B.contentFrameIdForFrame(b);if(!F)return null;return this._page.frameManager.frame(F)}async getOwnerFrame(b){const B=await b.evaluateHandle((b=>{const B=b.ownerDocument??b;return B.defaultView}));if(!B)return null;const F=toBidiExecutionContext(b._context);return F.frameIdForWindowHandle(B)}async getBoundingBox(b){const B=await b.evaluate((b=>{if(!(b instanceof Element))return null;const B=b.getBoundingClientRect();return{x:B.x,y:B.y,width:B.width,height:B.height}}));if(!B)return null;const F=await this._framePosition(b._frame);if(!F)return null;B.x+=F.x;B.y+=F.y;return B}async _framePosition(b){if(b===this._page.mainFrame())return{x:0,y:0};const B=await b.frameElement();const F=await B.boundingBox();if(!F)return null;const K=await B.evaluateInUtility((([b,B])=>b.describeIFrameStyle(B)),{}).catch((b=>"error:notconnected"));if(K==="error:notconnected"||K==="transformed")return null;F.x+=K.left;F.y+=K.top;return F}async scrollRectIntoViewIfNeeded(b,B){return await b.evaluateInUtility((([b,B])=>{B.scrollIntoView({block:"center",inline:"center",behavior:"instant"})}),null).then((()=>"done")).catch((b=>{if(b instanceof Error&&b.message.includes("Node is detached from document"))return"error:notconnected";if(b instanceof Error&&b.message.includes("Node does not have a layout object"))return"error:notvisible";throw b}))}async setScreencastOptions(b){}rafCountForStablePosition(){return 1}async getContentQuads(b){const B=await b.evaluateInUtility((([b,B])=>{if(!B.isConnected)return"error:notconnected";const F=B.getClientRects();if(!F)return null;return[...F].map((b=>[{x:b.left,y:b.top},{x:b.right,y:b.top},{x:b.right,y:b.bottom},{x:b.left,y:b.bottom}]))}),null);if(!B||B==="error:notconnected")return B;const F=await this._framePosition(b._frame);if(!F)return null;B.forEach((b=>b.forEach((b=>{b.x+=F.x;b.y+=F.y}))));return B}async setInputFilePaths(b,B){const F=toBidiExecutionContext(b._context);await this._session.send("input.setFiles",{context:this._session.sessionId,element:await F.nodeIdForElementHandle(b),files:B})}async adoptElementHandle(b,B){const F=toBidiExecutionContext(b._context);const K=await F.nodeIdForElementHandle(b);const se=toBidiExecutionContext(B);return await se.remoteObjectForNodeId(B,K)}async inputActionEpilogue(){}async resetForReuse(b){}async pdf(b){return this._pdf.generate(b)}async getFrameElement(b){const B=b.parentFrame();if(!B)throw new Error("Frame has been detached.");const F=await B._mainContext();const K=await F.evaluateHandle((()=>[...document.querySelectorAll("iframe,frame")]));const se=await K.evaluate((b=>b.length));let oe=null;for(let B=0;B<se;B++){const F=await K.evaluateHandle(((b,B)=>b[B]),B);const se=await F.contentFrame();if(b===se){oe=F;break}else{F.dispose()}}K.dispose();if(!oe)throw new Error("Frame has been detached.");return oe}shouldToggleStyleSheetToSyncAnimations(){return true}}function toBidiExecutionContext(b){return b.delegate}0&&0},3955:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{BidiPDF:()=>BidiPDF});b.exports=__toCommonJS(Re);var Me=F(3143);const Le={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}};const We={px:1,in:96,cm:37.8,mm:3.78};function convertPrintParameterToInches(b){if(b===void 0)return void 0;let B=b.substring(b.length-2).toLowerCase();let F="";if(We.hasOwnProperty(B)){F=b.substring(0,b.length-2)}else{B="px";F=b}const K=Number(F);(0,Me.assert)(!isNaN(K),"Failed to parse parameter value: "+b);const se=K*We[B];return se/96}class BidiPDF{constructor(b){this._session=b}async generate(b){const{scale:B=1,printBackground:F=false,landscape:K=false,pageRanges:se="",margin:oe={}}=b;let Qe=8.5;let Re=11;if(b.format){const B=Le[b.format.toLowerCase()];(0,Me.assert)(B,"Unknown paper format: "+b.format);Qe=B.width;Re=B.height}else{Qe=convertPrintParameterToInches(b.width)||Qe;Re=convertPrintParameterToInches(b.height)||Re}const{data:We}=await this._session.send("browsingContext.print",{context:this._session.sessionId,background:F,margin:{bottom:convertPrintParameterToInches(oe.bottom)||0,left:convertPrintParameterToInches(oe.left)||0,right:convertPrintParameterToInches(oe.right)||0,top:convertPrintParameterToInches(oe.top)||0},orientation:K?"landscape":"portrait",page:{width:Qe,height:Re},pageRanges:se?se.split(",").map((b=>b.trim())):void 0,scale:B});return Buffer.from(We,"base64")}}0&&0},9897:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{BidiDeserializer:()=>BidiDeserializer});b.exports=__toCommonJS(oe);
/**
 * @license
 * Copyright 2024 Google Inc.
 * Modifications copyright (c) Microsoft Corporation.
 * SPDX-License-Identifier: Apache-2.0
 */class BidiDeserializer{static deserialize(b){if(!b)return void 0;switch(b.type){case"array":return b.value?.map((b=>BidiDeserializer.deserialize(b)));case"set":return b.value?.reduce(((b,B)=>b.add(BidiDeserializer.deserialize(B))),new Set);case"object":return b.value?.reduce(((b,B)=>{const{key:F,value:K}=BidiDeserializer._deserializeTuple(B);b[F]=K;return b}),{});case"map":return b.value?.reduce(((b,B)=>{const{key:F,value:K}=BidiDeserializer._deserializeTuple(B);return b.set(F,K)}),new Map);case"promise":return{};case"regexp":return new RegExp(b.value.pattern,b.value.flags);case"date":return new Date(b.value);case"undefined":return void 0;case"null":return null;case"number":return BidiDeserializer._deserializeNumber(b.value);case"bigint":return BigInt(b.value);case"boolean":return Boolean(b.value);case"string":return b.value}throw new Error(`Deserialization of type ${b.type} not supported.`)}static _deserializeNumber(b){switch(b){case"-0":return-0;case"NaN":return NaN;case"Infinity":return Infinity;case"-Infinity":return-Infinity;default:return b}}static _deserializeTuple([b,B]){const F=typeof b==="string"?b:BidiDeserializer.deserialize(b);const K=BidiDeserializer.deserialize(B);return{key:F,value:K}}}0&&0},4931:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{getBidiKeyValue:()=>getBidiKeyValue});b.exports=__toCommonJS(oe);
/**
 * @license
 * Copyright 2024 Google Inc.
 * Modifications copyright (c) Microsoft Corporation.
 * SPDX-License-Identifier: Apache-2.0
 */const getBidiKeyValue=b=>{switch(b){case"\r":case"\n":b="Enter";break}if([...b].length===1){return b}switch(b){case"Cancel":return"";case"Help":return"";case"Backspace":return"";case"Tab":return"";case"Clear":return"";case"Enter":return"";case"Shift":case"ShiftLeft":return"";case"Control":case"ControlLeft":return"";case"Alt":case"AltLeft":return"";case"Pause":return"";case"Escape":return"";case"PageUp":return"";case"PageDown":return"";case"End":return"";case"Home":return"";case"ArrowLeft":return"";case"ArrowUp":return"";case"ArrowRight":return"";case"ArrowDown":return"";case"Insert":return"";case"Delete":return"";case"NumpadEqual":return"";case"Numpad0":return"";case"Numpad1":return"";case"Numpad2":return"";case"Numpad3":return"";case"Numpad4":return"";case"Numpad5":return"";case"Numpad6":return"";case"Numpad7":return"";case"Numpad8":return"";case"Numpad9":return"";case"NumpadMultiply":return"";case"NumpadAdd":return"";case"NumpadSubtract":return"";case"NumpadDecimal":return"";case"NumpadDivide":return"";case"F1":return"";case"F2":return"";case"F3":return"";case"F4":return"";case"F5":return"";case"F6":return"";case"F7":return"";case"F8":return"";case"F9":return"";case"F10":return"";case"F11":return"";case"F12":return"";case"Meta":case"MetaLeft":return"";case"ShiftRight":return"";case"ControlRight":return"";case"AltRight":return"";case"MetaRight":return"";case"Space":return" ";case"Digit0":return"0";case"Digit1":return"1";case"Digit2":return"2";case"Digit3":return"3";case"Digit4":return"4";case"Digit5":return"5";case"Digit6":return"6";case"Digit7":return"7";case"Digit8":return"8";case"Digit9":return"9";case"KeyA":return"a";case"KeyB":return"b";case"KeyC":return"c";case"KeyD":return"d";case"KeyE":return"e";case"KeyF":return"f";case"KeyG":return"g";case"KeyH":return"h";case"KeyI":return"i";case"KeyJ":return"j";case"KeyK":return"k";case"KeyL":return"l";case"KeyM":return"m";case"KeyN":return"n";case"KeyO":return"o";case"KeyP":return"p";case"KeyQ":return"q";case"KeyR":return"r";case"KeyS":return"s";case"KeyT":return"t";case"KeyU":return"u";case"KeyV":return"v";case"KeyW":return"w";case"KeyX":return"x";case"KeyY":return"y";case"KeyZ":return"z";case"Semicolon":return";";case"Equal":return"=";case"Comma":return",";case"Minus":return"-";case"Period":return".";case"Slash":return"/";case"Backquote":return"`";case"BracketLeft":return"[";case"Backslash":return"\\";case"BracketRight":return"]";case"Quote":return'"';default:throw new Error(`Unknown key: "${b}"`)}};0&&0},4510:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __reExport=(b,B,F)=>(__copyProps(b,B,"default"),F&&__copyProps(F,B,"default"));var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};b.exports=__toCommonJS(Re);__reExport(Re,F(9745),b.exports);__reExport(Re,F(8888),b.exports);0&&0},9745:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{BrowsingContext:()=>Me,Emulation:()=>Le,ErrorCode:()=>Qe,Input:()=>$e,Log:()=>ze,Network:()=>We,Script:()=>Ge,Session:()=>Re});b.exports=__toCommonJS(oe);var Qe=(b=>{b["InvalidArgument"]="invalid argument";b["InvalidSelector"]="invalid selector";b["InvalidSessionId"]="invalid session id";b["InvalidWebExtension"]="invalid web extension";b["MoveTargetOutOfBounds"]="move target out of bounds";b["NoSuchAlert"]="no such alert";b["NoSuchNetworkCollector"]="no such network collector";b["NoSuchElement"]="no such element";b["NoSuchFrame"]="no such frame";b["NoSuchHandle"]="no such handle";b["NoSuchHistoryEntry"]="no such history entry";b["NoSuchIntercept"]="no such intercept";b["NoSuchNetworkData"]="no such network data";b["NoSuchNode"]="no such node";b["NoSuchRequest"]="no such request";b["NoSuchScript"]="no such script";b["NoSuchStoragePartition"]="no such storage partition";b["NoSuchUserContext"]="no such user context";b["NoSuchWebExtension"]="no such web extension";b["SessionNotCreated"]="session not created";b["UnableToCaptureScreen"]="unable to capture screen";b["UnableToCloseBrowser"]="unable to close browser";b["UnableToSetCookie"]="unable to set cookie";b["UnableToSetFileInput"]="unable to set file input";b["UnavailableNetworkData"]="unavailable network data";b["UnderspecifiedStoragePartition"]="underspecified storage partition";b["UnknownCommand"]="unknown command";b["UnknownError"]="unknown error";b["UnsupportedOperation"]="unsupported operation";return b})(Qe||{});var Re;(b=>{let B;(b=>{b["Accept"]="accept";b["Dismiss"]="dismiss";b["Ignore"]="ignore"})(B=b.UserPromptHandlerType||(b.UserPromptHandlerType={}))})(Re||(Re={}));var Me;(b=>{let B;(b=>{b["None"]="none";b["Interactive"]="interactive";b["Complete"]="complete"})(B=b.ReadinessState||(b.ReadinessState={}))})(Me||(Me={}));(b=>{let B;(b=>{b["Alert"]="alert";b["Beforeunload"]="beforeunload";b["Confirm"]="confirm";b["Prompt"]="prompt"})(B=b.UserPromptType||(b.UserPromptType={}))})(Me||(Me={}));(b=>{let B;(b=>{b["Tab"]="tab";b["Window"]="window"})(B=b.CreateType||(b.CreateType={}))})(Me||(Me={}));var Le;(b=>{let B;(b=>{b["Light"]="light";b["Dark"]="dark"})(B=b.ForcedColorsModeTheme||(b.ForcedColorsModeTheme={}))})(Le||(Le={}));(b=>{let B;(b=>{b["Portrait"]="portrait";b["Landscape"]="landscape"})(B=b.ScreenOrientationNatural||(b.ScreenOrientationNatural={}))})(Le||(Le={}));var We;(b=>{let B;(b=>{b["Blob"]="blob"})(B=b.CollectorType||(b.CollectorType={}))})(We||(We={}));(b=>{let B;(b=>{b["Strict"]="strict";b["Lax"]="lax";b["None"]="none";b["Default"]="default"})(B=b.SameSite||(b.SameSite={}))})(We||(We={}));(b=>{let B;(b=>{b["Response"]="response"})(B=b.DataType||(b.DataType={}))})(We||(We={}));(b=>{let B;(b=>{b["BeforeRequestSent"]="beforeRequestSent";b["ResponseStarted"]="responseStarted";b["AuthRequired"]="authRequired"})(B=b.InterceptPhase||(b.InterceptPhase={}))})(We||(We={}));var Ge;(b=>{let B;(b=>{b["Root"]="root";b["None"]="none"})(B=b.ResultOwnership||(b.ResultOwnership={}))})(Ge||(Ge={}));var ze;(b=>{let B;(b=>{b["Debug"]="debug";b["Info"]="info";b["Warn"]="warn";b["Error"]="error"})(B=b.Level||(b.Level={}))})(ze||(ze={}));var $e;(b=>{let B;(b=>{b["Mouse"]="mouse";b["Pen"]="pen";b["Touch"]="touch"})(B=b.PointerType||(b.PointerType={}))})($e||($e={}));0&&0},8888:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{Permissions:()=>Qe});b.exports=__toCommonJS(oe);
/**
 * @license
 * Copyright 2024 Google Inc.
 * Modifications copyright (c) Microsoft Corporation.
 * SPDX-License-Identifier: Apache-2.0
 */var Qe;(b=>{let B;(b=>{b["Granted"]="granted";b["Denied"]="denied";b["Prompt"]="prompt"})(B=b.PermissionState||(b.PermissionState={}))})(Qe||(Qe={}));0&&0},6186:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{BidiSerializer:()=>BidiSerializer,isDate:()=>isDate,isPlainObject:()=>isPlainObject,isRegExp:()=>isRegExp});b.exports=__toCommonJS(oe);
/**
 * @license
 * Copyright 2024 Google Inc.
 * Modifications copyright (c) Microsoft Corporation.
 * SPDX-License-Identifier: Apache-2.0
 */class UnserializableError extends Error{}class BidiSerializer{static serialize(b){switch(typeof b){case"symbol":case"function":throw new UnserializableError(`Unable to serializable ${typeof b}`);case"object":return BidiSerializer._serializeObject(b);case"undefined":return{type:"undefined"};case"number":return BidiSerializer._serializeNumber(b);case"bigint":return{type:"bigint",value:b.toString()};case"string":return{type:"string",value:b};case"boolean":return{type:"boolean",value:b}}}static _serializeNumber(b){let B;if(Object.is(b,-0)){B="-0"}else if(Object.is(b,Infinity)){B="Infinity"}else if(Object.is(b,-Infinity)){B="-Infinity"}else if(Object.is(b,NaN)){B="NaN"}else{B=b}return{type:"number",value:B}}static _serializeObject(b){if(b===null){return{type:"null"}}else if(Array.isArray(b)){const B=b.map((b=>BidiSerializer.serialize(b)));return{type:"array",value:B}}else if(isPlainObject(b)){try{JSON.stringify(b)}catch(b){if(b instanceof TypeError&&b.message.startsWith("Converting circular structure to JSON")){b.message+=" Recursive objects are not allowed."}throw b}const B=[];for(const F in b){B.push([BidiSerializer.serialize(F),BidiSerializer.serialize(b[F])])}return{type:"object",value:B}}else if(isRegExp(b)){return{type:"regexp",value:{pattern:b.source,flags:b.flags}}}else if(isDate(b)){return{type:"date",value:b.toISOString()}}throw new UnserializableError("Custom object serialization not possible. Use plain objects instead.")}}const isPlainObject=b=>typeof b==="object"&&b?.constructor===Object;const isRegExp=b=>typeof b==="object"&&b?.constructor===RegExp;const isDate=b=>typeof b==="object"&&b?.constructor===Date;0&&0},6561:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{createProfile:()=>createProfile});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */async function createProfile(b){if(!We.default.existsSync(b.path)){await We.default.promises.mkdir(b.path,{recursive:true})}await writePreferences({preferences:{...defaultProfilePreferences(b.preferences),...b.preferences},path:b.path})}function defaultProfilePreferences(b){const B="dummy.test";const F={"app.normandy.api_url":"","app.update.checkInstallTime":false,"app.update.disabledForTesting":true,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":true,"browser.newtabpage.activity-stream.discoverystream.region-weather-config":"","browser.newtabpage.activity-stream.newtabWallpapers.enabled":false,"browser.newtabpage.activity-stream.newtabWallpapers.v2.enabled":false,"browser.newtabpage.activity-stream.showSponsoredTopSites":false,"browser.newtabpage.activity-stream.feeds.system.topstories":false,"browser.newtabpage.enabled":false,"browser.pagethumbnails.capturing_disabled":true,"browser.safebrowsing.blockedURIs.enabled":false,"browser.safebrowsing.downloads.enabled":false,"browser.safebrowsing.malware.enabled":false,"browser.safebrowsing.phishing.enabled":false,"browser.search.update":false,"browser.sessionstore.resume_from_crash":false,"browser.shell.checkDefaultBrowser":false,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":false,"browser.tabs.warnOnCloseOtherTabs":false,"browser.tabs.warnOnOpen":false,"browser.translations.automaticallyPopup":false,"browser.uitour.enabled":false,"browser.urlbar.suggest.searches":false,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":false,"datareporting.healthreport.documentServerURI":`http://${B}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":false,"datareporting.healthreport.service.enabled":false,"datareporting.healthreport.service.firstRun":false,"datareporting.healthreport.uploadEnabled":false,"datareporting.policy.dataSubmissionEnabled":false,"datareporting.policy.dataSubmissionPolicyBypassNotification":true,"devtools.jsonview.enabled":false,"dom.disable_open_during_load":false,"dom.file.createInChild":true,"dom.ipc.reportProcessHangs":false,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"dom.min_background_timeout_value":0,"dom.min_background_timeout_value_without_budget_throttling":0,"dom.timeout.enable_budget_timer_throttling":false,"dom.security.https_first":false,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":false,"extensions.installDistroAddons":false,"extensions.screenshots.disabled":true,"extensions.update.enabled":false,"extensions.update.notifyUser":false,"extensions.webservice.discoverURL":`http://${B}/dummy/discoveryURL`,"focusmanager.testmode":true,"general.useragent.updates.enabled":false,"geo.provider.testing":true,"geo.wifi.scan":false,"hangmonitor.timeout":0,"javascript.options.showInConsole":true,"layout.testing.top-level-always-active":true,"media.gmp-manager.updateEnabled":false,"media.sanity-test.disabled":true,"network.connectivity-service.enabled":false,"network.cookie.sameSite.laxByDefault":false,"network.http.prompt-temp-redirect":false,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":false,"network.sntp.pools":B,"plugin.state.flash":0,"privacy.trackingprotection.enabled":false,"remote.enabled":true,"security.certerrors.mitm.priming.enabled":false,"security.fileuri.strict_origin_policy":false,"security.notification_enable_delay":0,"signon.autofillForms":false,"signon.rememberSignons":false,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":false,"toolkit.startup.max_resumed_crashes":-1};return Object.assign(F,b)}async function writePreferences(b){const B=Ge.default.join(b.path,"prefs.js");const F=Object.entries(b.preferences).map((([b,B])=>`user_pref(${JSON.stringify(b)}, ${JSON.stringify(B)});`));const K=await Promise.allSettled([We.default.promises.writeFile(Ge.default.join(b.path,"user.js"),F.join("\n")),We.default.promises.access(B,We.default.constants.F_OK).then((async()=>{await We.default.promises.copyFile(B,Ge.default.join(b.path,"prefs.js.playwright"))}),(()=>{}))]);for(const b of K){if(b.status==="rejected"){throw b.reason}}}0&&0},4856:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Browser:()=>Browser});b.exports=__toCommonJS(Re);var Me=F(6564);var Le=F(3021);var We=F(2542);var Ge=F(6938);var ze=F(45);var $e=F(3695);class Browser extends Ge.SdkObject{constructor(b,B){super(b,"browser");this._downloads=new Map;this._defaultContext=null;this._startedClosing=false;this._idToVideo=new Map;this._isCollocatedWithServer=true;this.attribution.browser=this;this.options=B;this.instrumentation.onBrowserOpen(this)}static{this.Events={Context:"context",Disconnected:"disconnected"}}sdkLanguage(){return this.options.sdkLanguage||this.attribution.playwright.options.sdkLanguage}async newContext(b,B){(0,Le.validateBrowserContextOptions)(B,this.options);let F;let K;try{if(B.clientCertificates?.length){F=await $e.ClientCertificatesProxy.create(b,B);B={...B};B.proxyOverride=F.proxySettings();B.internalIgnoreHTTPSErrors=true}K=await b.race(this.doCreateNewContext(B));K._clientCertificatesProxy=F;if(B.__testHookBeforeSetStorageState)await b.race(B.__testHookBeforeSetStorageState());await K.setStorageState(b,B.storageState,"initial");this.emit(Browser.Events.Context,K);return K}catch(b){await(K?.close({reason:"Failed to create context"}).catch((()=>{})));await(F?.close().catch((()=>{})));throw b}}async newContextForReuse(b,B){const F=Le.BrowserContext.reusableContextHash(B);if(!this._contextForReuse||F!==this._contextForReuse.hash||!this._contextForReuse.context.canResetForReuse()){if(this._contextForReuse)await this._contextForReuse.context.close({reason:"Context reused"});this._contextForReuse={context:await this.newContext(b,B),hash:F};return this._contextForReuse.context}await this._contextForReuse.context.resetForReuse(b,B);return this._contextForReuse.context}contextForReuse(){return this._contextForReuse?.context}_downloadCreated(b,B,F,K){const se=new We.Download(b,this.options.downloadsPath||"",B,F,K);this._downloads.set(B,se)}_downloadFilenameSuggested(b,B){const F=this._downloads.get(b);if(!F)return;F._filenameSuggested(B)}_downloadFinished(b,B){const F=this._downloads.get(b);if(!F)return;F.artifact.reportFinished(B?new Error(B):void 0);this._downloads.delete(b)}_videoStarted(b,B,F,K){const se=new Me.Artifact(b,F);this._idToVideo.set(B,{context:b,artifact:se});K.then((b=>{if(b instanceof ze.Page){b.video=se;b.emitOnContext(Le.BrowserContext.Events.VideoStarted,se);b.emit(ze.Page.Events.Video,se)}}))}_takeVideo(b){const B=this._idToVideo.get(b);this._idToVideo.delete(b);return B?.artifact}_didClose(){for(const b of this.contexts())b._browserClosed();if(this._defaultContext)this._defaultContext._browserClosed();this.emit(Browser.Events.Disconnected);this.instrumentation.onBrowserClose(this)}async close(b){if(!this._startedClosing){if(b.reason)this._closeReason=b.reason;this._startedClosing=true;await this.options.browserProcess.close()}if(this.isConnected())await new Promise((b=>this.once(Browser.Events.Disconnected,b)))}async killForTests(){await this.options.browserProcess.kill()}}0&&0},3021:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BrowserContext:()=>BrowserContext,normalizeProxySettings:()=>normalizeProxySettings,validateBrowserContextOptions:()=>validateBrowserContextOptions,verifyClientCertificates:()=>verifyClientCertificates,verifyGeolocation:()=>verifyGeolocation});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(6065);var $e=F(3113);var Ye=F(154);var Ke=F(2309);var Xe=F(9870);var et=F(1588);var rt=F(1245);var it=F(4395);var ot=F(2597);var at=F(4794);var lt=F(6938);var ut=__toESM(F(6370));var dt=F(45);var ht=F(45);var pt=F(5990);var ft=F(8490);var mt=F(9671);var vt=__toESM(F(9419));class BrowserContext extends lt.SdkObject{constructor(b,B,F){super(b,"browser-context");this._pageBindings=new Map;this.requestInterceptors=[];this._closedStatus="open";this._permissions=new Map;this._downloads=new Set;this._origins=new Set;this._harRecorders=new Map;this._tempDirs=[];this._creatingStorageStatePage=false;this.initScripts=[];this._routesInFlight=new Set;this.attribution.context=this;this._browser=b;this._options=B;this._browserContextId=F;this._isPersistentContext=!F;this._closePromise=new Promise((b=>this._closePromiseFulfill=b));this._selectors=new ft.Selectors(B.selectorEngines||[],B.testIdAttributeName);this.fetchRequest=new et.BrowserContextAPIRequestContext(this);this.tracing=new mt.Tracing(this,b.options.tracesDir);this.clock=new Ye.Clock(this);this.dialogManager=new Xe.DialogManager(this.instrumentation)}static{this.Events={Console:"console",Close:"close",Page:"page",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",RequestAborted:"requestaborted",RequestFulfilled:"requestfulfilled",RequestContinued:"requestcontinued",BeforeClose:"beforeclose",VideoStarted:"videostarted",RecorderEvent:"recorderevent"}}isPersistentContext(){return this._isPersistentContext}selectors(){return this._selectors}async _initialize(){if(this.attribution.playwright.options.isInternalPlaywright)return;this._debugger=new Ke.Debugger(this);if((0,$e.debugMode)()==="inspector")await pt.RecorderApp.show(this,{pauseOnNextStatement:true});if(this._debugger.isPaused())pt.RecorderApp.showInspectorNoReply(this);this._debugger.on(Ke.Debugger.Events.PausedStateChanged,(()=>{if(this._debugger.isPaused())pt.RecorderApp.showInspectorNoReply(this)}));if((0,$e.debugMode)()==="console"){await this.extendInjectedScript(`\n        function installConsoleApi(injectedScript) { injectedScript.consoleApi.install(); }\n        module.exports = { default: () => installConsoleApi };\n      `)}if(this._options.serviceWorkers==="block")await this.addInitScript(void 0,`\nif (navigator.serviceWorker) navigator.serviceWorker.register = async () => { console.warn('Service Worker registration blocked by Playwright'); };\n`);if(this._options.permissions)await this.grantPermissions(this._options.permissions)}debugger(){return this._debugger}async _ensureVideosPath(){if(this._options.recordVideo)await(0,rt.mkdirIfNeeded)(Ge.default.join(this._options.recordVideo.dir,"dummy"))}canResetForReuse(){if(this._closedStatus!=="open")return false;return true}static reusableContextHash(b){const B={...b};if(B.selectorEngines?.length===0)delete B.selectorEngines;for(const b of Object.keys(B)){const F=b;if(B[F]===wt[F])delete B[F]}for(const b of yt)delete B[b];return JSON.stringify(B)}async resetForReuse(b,B){await this.tracing.resetForReuse(b);if(B){for(const b of yt)this._options[b]=B[b];if(B.testIdAttributeName)this.selectors().setTestIdAttributeName(B.testIdAttributeName)}let F=this.pages()[0];const K=this.possiblyUninitializedPages().filter((b=>b!==F));for(const b of K)await b.close();if(F&&F.hasCrashed()){await F.close();F=void 0}await(F?.mainFrame().gotoImpl(b,"about:blank",{}));await this.clock.uninstall(b);await b.race(this.setUserAgent(this._options.userAgent));await b.race(this.doUpdateDefaultEmulatedMedia());await b.race(this.doUpdateDefaultViewport());await this.setStorageState(b,this._options.storageState,"resetForReuse");await(F?.resetForReuse(b))}_browserClosed(){for(const b of this.pages())b._didClose();this._didCloseInternal()}_didCloseInternal(){if(this._closedStatus==="closed"){return}this._clientCertificatesProxy?.close().catch((()=>{}));this.tracing.abort();if(this._isPersistentContext)this.onClosePersistent();this._closePromiseFulfill(new Error("Context closed"));this.emit(BrowserContext.Events.Close)}pages(){return this.possiblyUninitializedPages().filter((b=>b.initializedOrUndefined()))}async cookies(b=[]){if(b&&!Array.isArray(b))b=[b];return await this.doGetCookies(b)}async clearCookies(b){const B=await this.cookies();await this.doClearCookies();const matches=(b,B,F)=>{if(!F)return true;if(F instanceof RegExp){F.lastIndex=0;return F.test(b[B])}return b[B]===F};const F=B.filter((B=>!matches(B,"name",b.name)||!matches(B,"domain",b.domain)||!matches(B,"path",b.path)));await this.addCookies(F)}setHTTPCredentials(b){return this.doSetHTTPCredentials(b)}getBindingClient(b){return this._pageBindings.get(b)?.forClient}async exposePlaywrightBindingIfNeeded(){this._playwrightBindingExposed??=(async()=>{await this.doExposePlaywrightBinding();this.bindingsInitScript=ht.PageBinding.createInitScript();this.initScripts.push(this.bindingsInitScript);await this.doAddInitScript(this.bindingsInitScript);await this.safeNonStallingEvaluateInAllFrames(this.bindingsInitScript.source,"main")})();return await this._playwrightBindingExposed}needsPlaywrightBinding(){return this._playwrightBindingExposed!==void 0}async exposeBinding(b,B,F,K,se){if(this._pageBindings.has(B))throw new Error(`Function "${B}" has been already registered`);for(const b of this.pages()){if(b.getBinding(B))throw new Error(`Function "${B}" has been already registered in one of the pages`)}await b.race(this.exposePlaywrightBindingIfNeeded());const oe=new ht.PageBinding(B,K,F);oe.forClient=se;this._pageBindings.set(B,oe);try{await b.race(this.doAddInitScript(oe.initScript));await b.race(this.safeNonStallingEvaluateInAllFrames(oe.initScript.source,"main"));return oe}catch(b){this._pageBindings.delete(B);throw b}}async removeExposedBindings(b){b=b.filter((b=>this._pageBindings.get(b.name)===b));for(const B of b)this._pageBindings.delete(B.name);await this.doRemoveInitScripts(b.map((b=>b.initScript)));const B=b.map((b=>`{ ${b.cleanupScript} };\n`)).join("");await this.safeNonStallingEvaluateInAllFrames(B,"main")}async grantPermissions(b,B){let F="*";if(B){const b=new URL(B);F=b.origin}const K=new Set(this._permissions.get(F)||[]);b.forEach((b=>K.add(b)));const se=[...K.values()];this._permissions.set(F,se);await this.doGrantPermissions(F,se)}async clearPermissions(){this._permissions.clear();await this.doClearPermissions()}async setExtraHTTPHeaders(b,B){const F=this._options.extraHTTPHeaders;this._options.extraHTTPHeaders=B;try{await b.race(this.doUpdateExtraHTTPHeaders())}catch(b){this._options.extraHTTPHeaders=F;this.doUpdateExtraHTTPHeaders().catch((()=>{}));throw b}}async setOffline(b,B){const F=this._options.offline;this._options.offline=B;try{await b.race(this.doUpdateOffline())}catch(b){this._options.offline=F;this.doUpdateOffline().catch((()=>{}));throw b}}async _loadDefaultContextAsIs(b){if(!this.possiblyUninitializedPages().length){const B=at.helper.waitForEvent(b,this,BrowserContext.Events.Page);await Promise.race([B.promise,this._closePromise])}const B=this.possiblyUninitializedPages()[0];if(!B)return;const F=await b.race(B.waitForInitializedOrError());if(F instanceof Error)throw F;await B.mainFrame()._waitForLoadState(b,"load");return B}async _loadDefaultContext(b){const B=await this._loadDefaultContextAsIs(b);if(!B)return;const F=this._browser.options.name;if(this._options.isMobile&&F==="chromium"||this._options.locale&&F==="webkit"){await this.newPage(b);await B.close()}}_authenticateProxyViaHeader(){const b=this._options.proxy||this._browser.options.proxy||{username:void 0,password:void 0};const{username:B,password:F}=b;if(B){this._options.httpCredentials={username:B,password:F};const b=Buffer.from(`${B}:${F}`).toString("base64");this._options.extraHTTPHeaders=ut.mergeHeaders([this._options.extraHTTPHeaders,ut.singleHeader("Proxy-Authorization",`Basic ${b}`)])}}_authenticateProxyViaCredentials(){const b=this._options.proxy||this._browser.options.proxy;if(!b)return;const{username:B,password:F}=b;if(B)this._options.httpCredentials={username:B,password:F||""}}async addInitScript(b,B){const F=new dt.InitScript(B);this.initScripts.push(F);try{const B=this.doAddInitScript(F);if(b)await b.race(B);else await B;return F}catch(b){this.removeInitScripts([F]).catch((()=>{}));throw b}}async removeInitScripts(b){const B=new Set(b);this.initScripts=this.initScripts.filter((b=>!B.has(b)));await this.doRemoveInitScripts(b)}async addRequestInterceptor(b,B){this.requestInterceptors.push(B);await this.doUpdateRequestInterception()}async removeRequestInterceptor(b){const B=this.requestInterceptors.indexOf(b);if(B===-1)return;this.requestInterceptors.splice(B,1);await this.notifyRoutesInFlightAboutRemovedHandler(b);await this.doUpdateRequestInterception()}isClosingOrClosed(){return this._closedStatus!=="open"}async _deleteAllDownloads(){await Promise.all(Array.from(this._downloads).map((b=>b.artifact.deleteOnContextClose())))}async _deleteAllTempDirs(){await Promise.all(this._tempDirs.map((async b=>await We.default.promises.unlink(b).catch((b=>{})))))}setCustomCloseHandler(b){this._customCloseHandler=b}async close(b){if(this._closedStatus==="open"){if(b.reason)this._closeReason=b.reason;this.emit(BrowserContext.Events.BeforeClose);this._closedStatus="closing";for(const b of this._harRecorders.values())await b.flush();await this.tracing.flush();const B=[];for(const{context:b,artifact:F}of this._browser._idToVideo.values()){if(b===this)B.push(F.finishedPromise())}if(this._customCloseHandler){await this._customCloseHandler()}else{await this.doClose(b.reason)}B.push(this._deleteAllDownloads());B.push(this._deleteAllTempDirs());await Promise.all(B);if(!this._customCloseHandler)this._didCloseInternal()}await this._closePromise}async newPage(b,B){let F;try{this._creatingStorageStatePage=!!B;F=await b.race(this.doCreateNewPage());const K=await b.race(F.waitForInitializedOrError());if(K instanceof ht.Page){if(K.isClosed())throw new Error("Page has been closed.");return K}throw K}catch(b){await(F?.close({reason:"Failed to create page"}).catch((()=>{})));throw b}finally{this._creatingStorageStatePage=false}}addVisitedOrigin(b){this._origins.add(b)}async storageState(b,B=false){const F={cookies:await this.cookies(),origins:[]};const K=new Set(this._origins);const se=`(() => {\n      const module = {};\n      ${vt.source}\n      const script = new (module.exports.StorageScript())(${this._browser.options.name==="firefox"});\n      return script.collect(${B});\n    })()`;for(const b of this.pages()){const B=b.mainFrame().origin();if(!B||!K.has(B))continue;try{const oe=await b.mainFrame().nonStallingEvaluateInExistingContext(se,"utility");if(oe.localStorage.length||oe.indexedDB?.length)F.origins.push({origin:B,localStorage:oe.localStorage,indexedDB:oe.indexedDB});K.delete(B)}catch{}}if(K.size){const B=await this.newPage(b,true);try{await B.addRequestInterceptor(b,(b=>{b.fulfill({body:"<html></html>"}).catch((()=>{}))}),"prepend");for(const oe of K){const K=B.mainFrame();await K.gotoImpl(b,oe,{});const Qe=await b.race(K.evaluateExpression(se,{world:"utility"}));if(Qe.localStorage.length||Qe.indexedDB?.length)F.origins.push({origin:oe,localStorage:Qe.localStorage,indexedDB:Qe.indexedDB})}}finally{await B.close()}}return F}isCreatingStorageStatePage(){return this._creatingStorageStatePage}async setStorageState(b,B,F){let K;let se;try{if(F!=="initial"){await b.race(this.clearCache());await b.race(this.doClearCookies())}if(B?.cookies)await b.race(this.addCookies(B.cookies));const oe=new Map(B?.origins?.map((b=>[b.origin,b]))||[]);const Qe=new Set([...this._origins,...oe.keys()]);if(Qe.size){if(F==="resetForReuse")K=this.pages()[0];if(!K)K=await this.newPage(b,F!=="resetForReuse");se=b=>{b.fulfill({body:"<html></html>"}).catch((()=>{}))};await K.addRequestInterceptor(b,se,"prepend");for(const B of Qe){const F=K.mainFrame();await F.gotoImpl(b,B,{});const se=`(() => {\n            const module = {};\n            ${vt.source}\n            const script = new (module.exports.StorageScript())(${this._browser.options.name==="firefox"});\n            return script.restore(${JSON.stringify(oe.get(B))});\n          })()`;await b.race(F.evaluateExpression(se,{world:"utility"}))}}this._origins=new Set([...oe.keys()])}catch(b){(0,it.rewriteErrorMessage)(b,`Error setting storage state:\n`+b.message);throw b}finally{if(F!=="resetForReuse")await(K?.close());else if(se)await(K?.removeRequestInterceptor(se))}}async extendInjectedScript(b,B){const installInFrame=F=>F.extendInjectedScript(b,B).catch((()=>{}));const installInPage=b=>{b.on(ht.Page.Events.InternalFrameNavigatedToNewDocument,installInFrame);return Promise.all(b.frames().map(installInFrame))};this.on(BrowserContext.Events.Page,installInPage);return Promise.all(this.pages().map(installInPage))}async safeNonStallingEvaluateInAllFrames(b,B,F={}){await Promise.all(this.pages().map((K=>K.safeNonStallingEvaluateInAllFrames(b,B,F))))}harStart(b,B){const F=(0,ze.createGuid)();this._harRecorders.set(F,new ot.HarRecorder(this,b,B));return F}async harExport(b){const B=this._harRecorders.get(b||"");return B.export()}addRouteInFlight(b){this._routesInFlight.add(b)}removeRouteInFlight(b){this._routesInFlight.delete(b)}async notifyRoutesInFlightAboutRemovedHandler(b){await Promise.all([...this._routesInFlight].map((B=>B.removeHandler(b))))}}function validateBrowserContextOptions(b,B){if(b.noDefaultViewport&&b.deviceScaleFactor!==void 0)throw new Error(`"deviceScaleFactor" option is not supported with null "viewport"`);if(b.noDefaultViewport&&!!b.isMobile)throw new Error(`"isMobile" option is not supported with null "viewport"`);if(b.acceptDownloads===void 0&&B.name!=="electron")b.acceptDownloads="accept";else if(b.acceptDownloads===void 0&&B.name==="electron")b.acceptDownloads="internal-browser-default";if(!b.viewport&&!b.noDefaultViewport)b.viewport={width:1280,height:720};if(b.recordVideo){if(!b.recordVideo.size){if(b.noDefaultViewport){b.recordVideo.size={width:800,height:600}}else{const B=b.viewport;const F=Math.min(1,800/Math.max(B.width,B.height));b.recordVideo.size={width:Math.floor(B.width*F),height:Math.floor(B.height*F)}}}b.recordVideo.size.width&=~1;b.recordVideo.size.height&=~1}if(b.proxy)b.proxy=normalizeProxySettings(b.proxy);verifyGeolocation(b.geolocation)}function verifyGeolocation(b){if(!b)return;b.accuracy=b.accuracy||0;const{longitude:B,latitude:F,accuracy:K}=b;if(B<-180||B>180)throw new Error(`geolocation.longitude: precondition -180 <= LONGITUDE <= 180 failed.`);if(F<-90||F>90)throw new Error(`geolocation.latitude: precondition -90 <= LATITUDE <= 90 failed.`);if(K<0)throw new Error(`geolocation.accuracy: precondition 0 <= ACCURACY failed.`)}function verifyClientCertificates(b){if(!b)return;for(const B of b){if(!B.origin)throw new Error(`clientCertificates.origin is required`);if(!B.cert&&!B.key&&!B.passphrase&&!B.pfx)throw new Error("None of cert, key, passphrase or pfx is specified");if(B.cert&&!B.key)throw new Error("cert is specified without key");if(!B.cert&&B.key)throw new Error("key is specified without cert");if(B.pfx&&(B.cert||B.key))throw new Error("pfx is specified together with cert, key or passphrase")}}function normalizeProxySettings(b){let{server:B,bypass:F}=b;let K;try{K=new URL(B);if(!K.host||!K.protocol)K=new URL("http://"+B)}catch(b){K=new URL("http://"+B)}if(K.protocol==="socks4:"&&(b.username||b.password))throw new Error(`Socks4 proxy protocol does not support authentication`);if(K.protocol==="socks5:"&&(b.username||b.password))throw new Error(`Browser does not support socks5 proxy authentication`);B=K.protocol+"//"+K.host;if(F)F=F.split(",").map((b=>b.trim())).join(",");return{...b,server:B,bypass:F}}const yt=["colorScheme","forcedColors","reducedMotion","contrast","screen","userAgent","viewport","testIdAttributeName"];const wt={noDefaultViewport:false,ignoreHTTPSErrors:false,javaScriptEnabled:true,bypassCSP:false,offline:false,isMobile:false,hasTouch:false,acceptDownloads:"accept",strictSelectors:false,serviceWorkers:"allow",locale:"en-US"};0&&0},2880:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BrowserType:()=>BrowserType,kNoXServerRunningError:()=>mt});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(857));var ze=__toESM(F(6928));var $e=F(3021);var Ye=F(3113);var Ke=F(6224);var Xe=F(1871);var et=F(4419);var rt=F(1245);var it=F(4794);var ot=F(6938);var at=F(3954);var lt=F(8307);var ut=F(6390);var dt=F(3230);var ht=F(3695);var pt=F(369);var ft=F(6877);const mt="Looks like you launched a headed browser without having a XServer running.\nSet either 'headless: true' or use 'xvfb-run <your-playwright-app>' before running Playwright.\n\n<3 Playwright Team";class BrowserType extends ot.SdkObject{constructor(b,B){super(b,"browser-type");this.attribution.browserType=this;this._name=B;this.logName="browser"}executablePath(){return dt.registry.findExecutable(this._name).executablePath(this.attribution.playwright.options.sdkLanguage)||""}name(){return this._name}async launch(b,B,F){B=this._validateLaunchOptions(B);const K=B.__testHookSeleniumRemoteURL||process.env.SELENIUM_REMOTE_URL;if(K)return this._launchWithSeleniumHub(b,K,B);return this._innerLaunchWithRetries(b,B,void 0,it.helper.debugProtocolLogger(F)).catch((b=>{throw this._rewriteStartupLog(b)}))}async launchPersistentContext(b,B,F){const K=this._validateLaunchOptions(F);let se;if(F.clientCertificates?.length){se=await ht.ClientCertificatesProxy.create(b,F);K.proxyOverride=se.proxySettings();F={...F};F.internalIgnoreHTTPSErrors=true}try{const oe=await this._innerLaunchWithRetries(b,K,F,it.helper.debugProtocolLogger(),B).catch((b=>{throw this._rewriteStartupLog(b)}));oe._defaultContext._clientCertificatesProxy=se;return oe._defaultContext}catch(b){await(se?.close().catch((()=>{})));throw b}}async _innerLaunchWithRetries(b,B,F,K,se){try{return await this._innerLaunch(b,B,F,K,se)}catch(oe){const Qe=typeof oe==="object"&&typeof oe.message==="string"?oe.message:"";if(Qe.includes("Inconsistency detected by ld.so")){b.log(`<restarting browser due to hitting race condition in glibc>`);return this._innerLaunch(b,B,F,K,se)}throw oe}}async _innerLaunch(b,B,F,K,se){B.proxy=B.proxy?(0,$e.normalizeProxySettings)(B.proxy):void 0;const oe=new ft.RecentLogsCollector;const{browserProcess:Qe,userDataDir:Re,artifactsDir:Me,transport:Le}=await this._launchProcess(b,B,!!F,oe,se);try{if(B.__testHookBeforeCreateBrowser)await b.race(B.__testHookBeforeCreateBrowser());const se={name:this._name,isChromium:this._name==="chromium",channel:B.channel,slowMo:B.slowMo,persistent:F,headful:!B.headless,artifactsDir:Me,downloadsPath:B.downloadsPath||Me,tracesDir:B.tracesDir||Me,browserProcess:Qe,customExecutablePath:B.executablePath,proxy:B.proxy,protocolLogger:K,browserLogsCollector:oe,wsEndpoint:Le instanceof pt.WebSocketTransport?Le.wsEndpoint:void 0,originalLaunchOptions:B};if(F)(0,$e.validateBrowserContextOptions)(F,se);copyTestHooks(B,se);const We=await b.race(this.connectToTransport(Le,se,oe));We._userDataDirForTest=Re;if(F&&!B.ignoreAllDefaultArgs)await We._defaultContext._loadDefaultContext(b);return We}catch(b){await Qe.close().catch((()=>{}));throw b}}async _prepareToLaunch(b,B,F){const{ignoreDefaultArgs:K,ignoreAllDefaultArgs:se,args:oe=[],executablePath:Qe=null}=b;await this._createArtifactDirs(b);const Re=[];const Me=await We.default.promises.mkdtemp(ze.default.join(Ge.default.tmpdir(),"playwright-artifacts-"));Re.push(Me);if(F){(0,Ke.assert)(ze.default.isAbsolute(F),"userDataDir must be an absolute path");if(!await(0,rt.existsAsync)(F))await We.default.promises.mkdir(F,{recursive:true,mode:448})}else{F=await We.default.promises.mkdtemp(ze.default.join(Ge.default.tmpdir(),`playwright_${this._name}dev_profile-`));Re.push(F)}await this.prepareUserDataDir(b,F);const Le=[];if(se)Le.push(...oe);else if(K)Le.push(...(await this.defaultArgs(b,B,F)).filter((b=>K.indexOf(b)===-1)));else Le.push(...await this.defaultArgs(b,B,F));let $e;if(Qe){if(!await(0,rt.existsAsync)(Qe))throw new Error(`Failed to launch ${this._name} because executable doesn't exist at ${Qe}`);$e=Qe}else{const B=dt.registry.findExecutable(this.getExecutableName(b));if(!B||B.browserName!==this._name)throw new Error(`Unsupported ${this._name} channel "${b.channel}"`);$e=B.executablePathOrDie(this.attribution.playwright.options.sdkLanguage);await dt.registry.validateHostRequirementsForExecutablesIfNeeded([B],this.attribution.playwright.options.sdkLanguage)}return{executable:$e,browserArguments:Le,userDataDir:F,artifactsDir:Me,tempDirectories:Re}}async _launchProcess(b,B,F,K,se){const{handleSIGINT:oe=true,handleSIGTERM:Qe=true,handleSIGHUP:Re=true}=B;const Me=B.env?(0,lt.envArrayToObject)(B.env):process.env;const Le=await b.race(this._prepareToLaunch(B,F,se));let We=void 0;let Ge=void 0;const ze=new Xe.ManualPromise;const{launchedProcess:$e,gracefullyClose:Ye,kill:Ke}=await(0,lt.launchProcess)({command:Le.executable,args:Le.browserArguments,env:this.amendEnvironment(Me,Le.userDataDir,F,B),handleSIGINT:oe,handleSIGTERM:Qe,handleSIGHUP:Re,log:B=>{b.log(B);K.log(B)},stdio:"pipe",tempDirectories:Le.tempDirectories,attemptToGracefullyClose:async()=>{if(B.__testHookGracefullyClose)await B.__testHookGracefullyClose();if(We){this.attemptToGracefullyCloseBrowser(We)}else{throw new Error("Force-killing the browser because no transport is available to gracefully close it.")}},onExit:(b,B)=>{ze.resolve();if(Ge&&Ge.onclose)Ge.onclose(b,B)}});async function closeOrKill(b){let B;try{await Promise.race([Ye(),new Promise(((F,K)=>B=setTimeout(K,b)))])}catch(b){await Ke().catch((b=>{}))}finally{clearTimeout(B)}}Ge={onclose:void 0,process:$e,close:()=>closeOrKill(B.__testHookBrowserCloseTimeout||et.DEFAULT_PLAYWRIGHT_TIMEOUT),kill:Ke};try{const{wsEndpoint:F}=await b.race([this.waitForReadyState(B,K),ze.then((()=>({wsEndpoint:void 0})))]);if(B.cdpPort!==void 0||!this.supportsPipeTransport()){We=await pt.WebSocketTransport.connect(b,F)}else{const b=$e.stdio;We=new at.PipeTransport(b[3],b[4])}return{browserProcess:Ge,artifactsDir:Le.artifactsDir,userDataDir:Le.userDataDir,transport:We}}catch(b){await closeOrKill(et.DEFAULT_PLAYWRIGHT_TIMEOUT).catch((()=>{}));throw b}}async _createArtifactDirs(b){if(b.downloadsPath)await We.default.promises.mkdir(b.downloadsPath,{recursive:true});if(b.tracesDir)await We.default.promises.mkdir(b.tracesDir,{recursive:true})}async connectOverCDP(b,B,F){throw new Error("CDP connections are only supported by Chromium")}async _launchWithSeleniumHub(b,B,F){throw new Error("Connecting to SELENIUM_REMOTE_URL is only supported by Chromium")}_validateLaunchOptions(b){const{devtools:B=false}=b;let{headless:F=!B,downloadsPath:K,proxy:se}=b;if((0,Ye.debugMode)()==="inspector")F=false;if(K&&!ze.default.isAbsolute(K))K=ze.default.join(process.cwd(),K);if(b.socksProxyPort)se={server:`socks5://127.0.0.1:${b.socksProxyPort}`};return{...b,devtools:B,headless:F,downloadsPath:K,proxy:se}}_createUserDataDirArgMisuseError(b){switch(this.attribution.playwright.options.sdkLanguage){case"java":return new Error(`Pass userDataDir parameter to 'BrowserType.launchPersistentContext(userDataDir, options)' instead of specifying '${b}' argument`);case"python":return new Error(`Pass user_data_dir parameter to 'browser_type.launch_persistent_context(user_data_dir, **kwargs)' instead of specifying '${b}' argument`);case"csharp":return new Error(`Pass userDataDir parameter to 'BrowserType.LaunchPersistentContextAsync(userDataDir, options)' instead of specifying '${b}' argument`);default:return new Error(`Pass userDataDir parameter to 'browserType.launchPersistentContext(userDataDir, options)' instead of specifying '${b}' argument`)}}_rewriteStartupLog(b){if(!(0,ut.isProtocolError)(b))return b;return this.doRewriteStartupLog(b)}async waitForReadyState(b,B){return{}}async prepareUserDataDir(b,B){}supportsPipeTransport(){return true}getExecutableName(b){return b.channel||this._name}}function copyTestHooks(b,B){for(const[F,K]of Object.entries(b)){if(F.startsWith("__testHook"))B[F]=K}}0&&0},7538:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{compressCallLog:()=>compressCallLog,findRepeatedSubsequencesForTest:()=>Qe});b.exports=__toCommonJS(oe);function compressCallLog(b){const B=[];for(const F of findRepeatedSubsequences(b)){for(let b=0;b<F.sequence.length;b++){const K=F.sequence[b];const se=K.match(/^\s*/);const oe="  "+se?.[0]||0;const Qe=`${F.count}  `;if(F.count>1&&b===0)B.push(oe+Qe+K.trim());else if(F.count>1)B.push(oe+" ".repeat(Qe.length-2)+"- "+K.trim());else B.push(oe+"- "+K.trim())}}return B}function findRepeatedSubsequences(b){const B=b.length;const F=[];let K=0;const arraysEqual=(b,B)=>{if(b.length!==B.length)return false;for(let F=0;F<b.length;F++){if(b[F]!==B[F])return false}return true};while(K<B){let se=1;let oe=[b[K]];let Qe=1;for(let F=1;F<=B-K;F++){const Re=b.slice(K,K+F);let Me=1;while(K+F*Me<=B&&arraysEqual(b.slice(K+F*(Me-1),K+F*Me),Re))Me+=1;Me-=1;if(Me>1&&Me*F>se*Qe){se=Me;oe=Re;Qe=F}}F.push({sequence:oe,count:se});K+=Qe*se}return F}const Qe=findRepeatedSubsequences;0&&0},633:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Chromium:()=>Chromium,waitForReadyState:()=>waitForReadyState});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(857));var ze=__toESM(F(6928));var $e=F(3249);var Ye=F(7094);var Ke=F(508);var Xe=F(3143);var et=F(1769);var rt=F(6877);var it=F(1871);var ot=F(6028);var at=F(6230);var lt=F(3021);var ut=F(2880);var dt=F(4794);var ht=F(3230);var pt=F(369);var ft=F(8466);var mt=F(4856);var vt=F(1245);var yt=F(8307);const wt=ze.default.join(Ge.default.tmpdir(),"playwright-artifacts-");class Chromium extends ut.BrowserType{constructor(b,B){super(b,"chromium");this._bidiChromium=B;if((0,Xe.debugMode)()==="inspector")this._devtools=this._createDevTools()}launch(b,B,F){if(B.channel?.startsWith("bidi-"))return this._bidiChromium.launch(b,B,F);return super.launch(b,B,F)}async launchPersistentContext(b,B,F){if(F.channel?.startsWith("bidi-"))return this._bidiChromium.launchPersistentContext(b,B,F);return super.launchPersistentContext(b,B,F)}async connectOverCDP(b,B,F){return await this._connectOverCDPInternal(b,B,F)}async _connectOverCDPInternal(b,B,F,K){let se;if(F.headers)se=(0,Xe.headersArrayToObject)(F.headers,false);if(!se)se={"User-Agent":(0,at.getUserAgent)()};else if(se&&!Object.keys(se).some((b=>b.toLowerCase()==="user-agent")))se["User-Agent"]=(0,at.getUserAgent)();const oe=await b.race(We.default.promises.mkdtemp(wt));const doCleanup=async()=>{await(0,vt.removeFolders)([oe]);const b=K;K=void 0;await(b?.())};let Qe;const doClose=async()=>{await(Qe?.closeAndWait());await doCleanup()};try{const K=await urlToWSEndpoint(b,B,se);Qe=await pt.WebSocketTransport.connect(b,K,{headers:se});const Re={close:doClose,kill:doClose};const Me={noDefaultViewport:true};const Le={slowMo:F.slowMo,name:"chromium",isChromium:true,persistent:Me,browserProcess:Re,protocolLogger:dt.helper.debugProtocolLogger(),browserLogsCollector:new rt.RecentLogsCollector,artifactsDir:oe,downloadsPath:F.downloadsPath||oe,tracesDir:F.tracesDir||oe,originalLaunchOptions:{}};(0,lt.validateBrowserContextOptions)(Me,Le);const We=await b.race(Ye.CRBrowser.connect(this.attribution.playwright,Qe,Le));We._isCollocatedWithServer=false;We.on(mt.Browser.Events.Disconnected,doCleanup);return We}catch(b){await doClose().catch((()=>{}));throw b}}_createDevTools(){const b=ht.registry.findExecutable("chromium").directory;return b?new ft.CRDevTools(ze.default.join(b,"devtools-preferences.json")):void 0}async connectToTransport(b,B,F){let K=this._devtools;if(B.__testHookForDevTools){K=this._createDevTools();await B.__testHookForDevTools(K)}try{return await Ye.CRBrowser.connect(this.attribution.playwright,b,B,K)}catch(b){if(F.recentLogs().some((b=>b.includes("Failed to create a ProcessSingleton for your profile directory.")))){throw new Error("Failed to create a ProcessSingleton for your profile directory. This usually means that the profile is already in use by another instance of Chromium.")}throw b}}doRewriteStartupLog(b){if(!b.logs)return b;if(b.logs.includes("Missing X server"))b.logs="\n"+(0,et.wrapInASCIIBox)(ut.kNoXServerRunningError,1);if(!b.logs.includes("crbug.com/357670")&&!b.logs.includes("No usable sandbox!")&&!b.logs.includes("crbug.com/638180"))return b;b.logs=[`Chromium sandboxing failed!`,`================================`,`To avoid the sandboxing issue, do either of the following:`,`  - (preferred): Configure your environment to support sandboxing`,`  - (alternative): Launch Chromium without sandbox using 'chromiumSandbox: false' option`,`================================`,``].join("\n");return b}amendEnvironment(b){return b}attemptToGracefullyCloseBrowser(b){const B={method:"Browser.close",id:Ke.kBrowserCloseMessageId,params:{}};b.send(B)}async _launchWithSeleniumHub(b,B,F){await b.race(this._createArtifactDirs(F));if(!B.endsWith("/"))B=B+"/";const K=this._innerDefaultArgs(F);K.push("--remote-debugging-port=0");const se=F.channel&&F.channel.startsWith("msedge");let oe={browserName:se?"MicrosoftEdge":"chrome",[se?"ms:edgeOptions":"goog:chromeOptions"]:{args:K}};if(process.env.SELENIUM_REMOTE_CAPABILITIES){const B=parseSeleniumRemoteParams({name:"capabilities",value:process.env.SELENIUM_REMOTE_CAPABILITIES},b);if(B)oe={...oe,...B}}let Qe={};if(process.env.SELENIUM_REMOTE_HEADERS){const B=parseSeleniumRemoteParams({name:"headers",value:process.env.SELENIUM_REMOTE_HEADERS},b);if(B)Qe=B}b.log(`<selenium> connecting to ${B}`);const Re=await(0,ot.fetchData)(b,{url:B+"session",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",...Qe},data:JSON.stringify({capabilities:{alwaysMatch:oe}})},seleniumErrorHandler);const Me=JSON.parse(Re).value;const Le=Me.sessionId;b.log(`<selenium> connected to sessionId=${Le}`);const disconnectFromSelenium=async()=>{b.log(`<selenium> disconnecting from sessionId=${Le}`);await(0,ot.fetchData)(void 0,{url:B+"session/"+Le,method:"DELETE",headers:Qe}).catch((B=>b.log(`<error disconnecting from selenium>: ${B}`)));b.log(`<selenium> disconnected from sessionId=${Le}`);yt.gracefullyCloseSet.delete(disconnectFromSelenium)};yt.gracefullyCloseSet.add(disconnectFromSelenium);try{const K=Me.capabilities;let se;if(K["se:cdp"]){b.log(`<selenium> using selenium v4`);const F=addProtocol(K["se:cdp"]);se=new URL(F);if(se.hostname==="localhost"||se.hostname==="127.0.0.1")se.hostname=new URL(B).hostname;b.log(`<selenium> retrieved endpoint ${se.toString()} for sessionId=${Le}`)}else{b.log(`<selenium> using selenium v3`);const F=K["goog:chromeOptions"];const oe=F&&typeof F==="object"?F:void 0;const Re=oe&&typeof oe.debuggerAddress==="string"?oe.debuggerAddress:void 0;const Me=typeof F==="string"?F:void 0;const We=addProtocol(Re||Me).replace("localhost","127.0.0.1");b.log(`<selenium> retrieved endpoint ${We} for sessionId=${Le}`);se=new URL(We);if(se.hostname==="localhost"||se.hostname==="127.0.0.1"){const F=new URL(B).origin+"/grid/api/testsession?session="+Le;try{const B=await(0,ot.fetchData)(b,{url:F,method:"GET",headers:Qe},seleniumErrorHandler);const K=JSON.parse(B).proxyId;se.hostname=new URL(K).hostname;b.log(`<selenium> resolved endpoint ip ${se.toString()} for sessionId=${Le}`)}catch(B){b.log(`<selenium> unable to resolve endpoint ip for sessionId=${Le}, running in standalone?`)}}}return await this._connectOverCDPInternal(b,se.toString(),{...F,headers:(0,Xe.headersObjectToArray)(Qe)},disconnectFromSelenium)}catch(b){await disconnectFromSelenium();throw b}}async defaultArgs(b,B,F){const K=this._innerDefaultArgs(b);K.push(`--user-data-dir=${F}`);if(b.cdpPort!==void 0)K.push(`--remote-debugging-port=${b.cdpPort}`);else K.push("--remote-debugging-pipe");if(B)K.push("about:blank");else K.push("--no-startup-window");return K}_innerDefaultArgs(b){const{args:B=[]}=b;const F=B.find((b=>b.startsWith("--user-data-dir")));if(F)throw this._createUserDataDirArgMisuseError("--user-data-dir");if(B.find((b=>b.startsWith("--remote-debugging-pipe"))))throw new Error("Playwright manages remote debugging connection itself.");if(B.find((b=>!b.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const K=[...(0,$e.chromiumSwitches)(b.assistantMode,b.channel)];if(Ge.default.platform()==="darwin"){K.push("--enable-unsafe-swiftshader")}if(b.devtools)K.push("--auto-open-devtools-for-tabs");if(b.headless){K.push("--headless");K.push("--hide-scrollbars","--mute-audio","--blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4")}if(b.chromiumSandbox!==true)K.push("--no-sandbox");const se=b.proxyOverride||b.proxy;if(se){const B=new URL(se.server);const F=B.protocol==="socks5:";if(F&&!b.socksProxyPort){K.push(`--host-resolver-rules="MAP * ~NOTFOUND , EXCLUDE ${B.hostname}"`)}K.push(`--proxy-server=${se.server}`);const oe=[];if(b.socksProxyPort)oe.push("<-loopback>");if(se.bypass)oe.push(...se.bypass.split(",").map((b=>b.trim())).map((b=>b.startsWith(".")?"*"+b:b)));if(!process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK&&!oe.includes("<-loopback>"))oe.push("<-loopback>");if(oe.length>0)K.push(`--proxy-bypass-list=${oe.join(";")}`)}K.push(...B);return K}async waitForReadyState(b,B){return waitForReadyState(b,B)}getExecutableName(b){if(b.channel)return b.channel;return b.headless?"chromium-headless-shell":"chromium"}}async function waitForReadyState(b,B){if(b.cdpPort===void 0&&!b.args?.some((b=>b.startsWith("--remote-debugging-port"))))return{};const F=new it.ManualPromise;B.onMessage((b=>{if(b.includes("Failed to create a ProcessSingleton for your profile directory.")){F.reject(new Error("Failed to create a ProcessSingleton for your profile directory. This usually means that the profile is already in use by another instance of Chromium."))}const B=b.match(/DevTools listening on (.*)/);if(B)F.resolve({wsEndpoint:B[1]})}));return F}async function urlToWSEndpoint(b,B,F){if(B.startsWith("ws"))return B;b.log(`<ws preparing> retrieving websocket url from ${B}`);const K=new URL(B);if(!K.pathname.endsWith("/"))K.pathname+="/";K.pathname+="json/version/";const se=K.toString();const oe=await(0,ot.fetchData)(b,{url:se,headers:F},(async(b,B)=>new Error(`Unexpected status ${B.statusCode} when connecting to ${se}.\nThis does not look like a DevTools server, try connecting via ws://.`)));return JSON.parse(oe).webSocketDebuggerUrl}async function seleniumErrorHandler(b,B){const F=await streamToString(B);let K=F;try{const b=JSON.parse(F);K=b.value.localizedMessage||b.value.message}catch(b){}return new Error(`Error connecting to Selenium at ${b.url}: ${K}`)}function addProtocol(b){if(!["ws://","wss://","http://","https://"].some((B=>b.startsWith(B))))return"http://"+b;return b}function streamToString(b){return new Promise(((B,F)=>{const K=[];b.on("data",(b=>K.push(Buffer.from(b))));b.on("error",F);b.on("end",(()=>B(Buffer.concat(K).toString("utf8"))))}))}function parseSeleniumRemoteParams(b,B){try{const F=JSON.parse(b.value);B.log(`<selenium> using additional ${b.name} "${b.value}"`);return F}catch(F){B.log(`<selenium> ignoring additional ${b.name} "${b.value}": ${F}`)}}0&&0},3249:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{chromiumSwitches:()=>chromiumSwitches});b.exports=__toCommonJS(oe);const disabledFeatures=b=>["AcceptCHFrame","AvoidUnnecessaryBeforeUnloadCheckSync","DestroyProfileOnBrowserClose","DialMediaRouteProvider","GlobalMediaControls","HttpsUpgrades","LensOverlay","MediaRouter","PaintHolding","ThirdPartyStoragePartitioning","Translate","AutoDeElevate","RenderDocument","OptimizationHints",b?"AutomationControlled":""].filter(Boolean);const chromiumSwitches=(b,B,F)=>["--disable-field-trial-config","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-back-forward-cache","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-component-update","--no-default-browser-check","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features="+disabledFeatures(b).join(","),process.env.PLAYWRIGHT_LEGACY_SCREENSHOT?"":"--enable-features=CDPScreenshotNewSurface","--allow-pre-commit-input","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--password-store=basic","--use-mock-keychain","--no-service-autorun","--export-tagged-pdf","--disable-search-engine-choice-screen","--unsafely-disable-devtools-self-xss-warnings","--edge-skip-compat-layer-relaunch",b?"":"--enable-automation","--disable-infobars","--disable-search-engine-choice-screen",F?"":"--disable-sync"].filter(Boolean);0&&0},7094:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{CRBrowser:()=>CRBrowser,CRBrowserContext:()=>CRBrowserContext});b.exports=__toCommonJS(Le);var We=__toESM(F(6928));var Ge=F(6224);var ze=F(6065);var $e=F(6564);var Ye=F(4856);var Ke=F(3021);var Xe=F(7416);var et=__toESM(F(6370));var rt=F(45);var it=F(508);var ot=F(7515);var at=F(9164);var lt=F(4427);class CRBrowser extends Ye.Browser{constructor(b,B,F){super(b,F);this._clientRootSessionPromise=null;this._contexts=new Map;this._crPages=new Map;this._serviceWorkers=new Map;this._version="";this._majorVersion=0;this._tracingRecording=false;this._userAgent="";this._connection=B;this._session=this._connection.rootSession;this._connection.on(it.ConnectionEvents.Disconnected,(()=>this._didDisconnect()));this._session.on("Target.attachedToTarget",this._onAttachedToTarget.bind(this));this._session.on("Target.detachedFromTarget",this._onDetachedFromTarget.bind(this));this._session.on("Browser.downloadWillBegin",this._onDownloadWillBegin.bind(this));this._session.on("Browser.downloadProgress",this._onDownloadProgress.bind(this))}static async connect(b,B,F,K){F={...F};const se=new it.CRConnection(b,B,F.protocolLogger,F.browserLogsCollector);const oe=new CRBrowser(b,se,F);oe._devtools=K;if(oe.isClank())oe._isCollocatedWithServer=false;const Qe=se.rootSession;if(F.__testHookOnConnectToBrowser)await F.__testHookOnConnectToBrowser();const Re=await Qe.send("Browser.getVersion");oe._version=Re.product.substring(Re.product.indexOf("/")+1);try{oe._majorVersion=+oe._version.split(".")[0]}catch{}oe._userAgent=Re.userAgent;oe.options.headful=!Re.userAgent.includes("Headless");if(!F.persistent){await Qe.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true});return oe}oe._defaultContext=new CRBrowserContext(oe,void 0,F.persistent);await Promise.all([Qe.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true}).then((async()=>{await Qe.send("Target.getTargetInfo")})),oe._defaultContext._initialize()]);await oe._waitForAllPagesToBeInitialized();return oe}async doCreateNewContext(b){const B=b.proxyOverride||b.proxy;let F=void 0;if(B){if(process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK)F=B.bypass;else F="<-loopback>"+(B.bypass?`,${B.bypass}`:"")}const{browserContextId:K}=await this._session.send("Target.createBrowserContext",{disposeOnDetach:true,proxyServer:B?B.server:void 0,proxyBypassList:F});const se=new CRBrowserContext(this,K,b);await se._initialize();this._contexts.set(K,se);return se}contexts(){return Array.from(this._contexts.values())}version(){return this._version}majorVersion(){return this._majorVersion}userAgent(){return this._userAgent}_platform(){if(this._userAgent.includes("Windows"))return"win";if(this._userAgent.includes("Macintosh"))return"mac";return"linux"}isClank(){return this.options.name==="clank"}async _waitForAllPagesToBeInitialized(){await Promise.all([...this._crPages.values()].map((b=>b._page.waitForInitializedOrError())))}_onAttachedToTarget({targetInfo:b,sessionId:B,waitingForDebugger:F}){if(b.type==="browser")return;const K=this._session.createChildSession(B);(0,Ge.assert)(b.browserContextId,"targetInfo: "+JSON.stringify(b,null,2));let se=this._contexts.get(b.browserContextId)||null;if(!se){se=this._defaultContext}if(b.type==="other"&&b.url.startsWith("devtools://devtools")&&this._devtools){this._devtools.install(K);return}const oe=b.type==="other"&&process.env.PW_CHROMIUM_ATTACH_TO_OTHER;if(!se||b.type==="other"&&!oe){K.detach().catch((()=>{}));return}(0,Ge.assert)(!this._crPages.has(b.targetId),"Duplicate target "+b.targetId);(0,Ge.assert)(!this._serviceWorkers.has(b.targetId),"Duplicate target "+b.targetId);if(b.type==="page"||oe){const B=b.openerId?this._crPages.get(b.openerId)||null:null;const F=new ot.CRPage(K,b.targetId,se,B,{hasUIWindow:b.type==="page"});this._crPages.set(b.targetId,F);return}if(b.type==="service_worker"){const B=new lt.CRServiceWorker(se,K,b.url);this._serviceWorkers.set(b.targetId,B);se.emit(CRBrowserContext.CREvents.ServiceWorker,B);return}K.detach().catch((()=>{}))}_onDetachedFromTarget(b){const B=b.targetId;const F=this._crPages.get(B);if(F){this._crPages.delete(B);F.didClose();return}const K=this._serviceWorkers.get(B);if(K){this._serviceWorkers.delete(B);K.didClose();return}}_didDisconnect(){for(const b of this._crPages.values())b.didClose();this._crPages.clear();for(const b of this._serviceWorkers.values())b.didClose();this._serviceWorkers.clear();this._didClose()}_findOwningPage(b){for(const B of this._crPages.values()){const F=B._page.frameManager.frame(b);if(F)return B}return null}_onDownloadWillBegin(b){const B=this._findOwningPage(b.frameId);if(!B){return}B.willBeginDownload();let F=B._page.initializedOrUndefined();if(!F&&B._opener)F=B._opener._page.initializedOrUndefined();if(!F)return;this._downloadCreated(F,b.guid,b.url,b.suggestedFilename)}_onDownloadProgress(b){if(b.state==="completed")this._downloadFinished(b.guid,"");if(b.state==="canceled")this._downloadFinished(b.guid,this._closeReason||"canceled")}async _closePage(b){await this._session.send("Target.closeTarget",{targetId:b._targetId})}async newBrowserCDPSession(){return await this._connection.createBrowserSession()}async startTracing(b,B={}){(0,Ge.assert)(!this._tracingRecording,"Cannot start recording trace while already recording trace.");this._tracingClient=b?b.delegate._mainFrameSession._client:this._session;const F=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"];const{screenshots:K=false,categories:se=F}=B;if(K)se.push("disabled-by-default-devtools.screenshot");this._tracingRecording=true;await this._tracingClient.send("Tracing.start",{transferMode:"ReturnAsStream",categories:se.join(",")})}async stopTracing(){(0,Ge.assert)(this._tracingClient,"Tracing was not started.");const[b]=await Promise.all([new Promise((b=>this._tracingClient.once("Tracing.tracingComplete",b))),this._tracingClient.send("Tracing.end")]);const B=We.default.join(this.options.artifactsDir,(0,ze.createGuid)()+".crtrace");await(0,at.saveProtocolStream)(this._tracingClient,b.stream,B);this._tracingRecording=false;const F=new $e.Artifact(this,B);F.reportFinished();return F}isConnected(){return!this._connection._closed}async _clientRootSession(){if(!this._clientRootSessionPromise)this._clientRootSessionPromise=this._connection.createBrowserSession();return this._clientRootSessionPromise}}class CRBrowserContext extends Ke.BrowserContext{static{this.CREvents={ServiceWorker:"serviceworker"}}constructor(b,B,F){super(b,F,B);this._authenticateProxyViaCredentials()}async _initialize(){(0,Ge.assert)(!Array.from(this._browser._crPages.values()).some((b=>b._browserContext===this)));const b=[super._initialize()];if(this._browser.options.name!=="clank"&&this._options.acceptDownloads!=="internal-browser-default"){b.push(this._browser._session.send("Browser.setDownloadBehavior",{behavior:this._options.acceptDownloads==="accept"?"allowAndName":"deny",browserContextId:this._browserContextId,downloadPath:this._browser.options.downloadsPath,eventsEnabled:true}))}await Promise.all(b)}_crPages(){return[...this._browser._crPages.values()].filter((b=>b._browserContext===this))}possiblyUninitializedPages(){return this._crPages().map((b=>b._page))}async doCreateNewPage(){const{targetId:b}=await this._browser._session.send("Target.createTarget",{url:"about:blank",browserContextId:this._browserContextId});return this._browser._crPages.get(b)._page}async doGetCookies(b){const{cookies:B}=await this._browser._session.send("Storage.getCookies",{browserContextId:this._browserContextId});return et.filterCookies(B.map((b=>{const{name:B,value:F,domain:K,path:se,expires:oe,httpOnly:Qe,secure:Re,sameSite:Me}=b;const Le={name:B,value:F,domain:K,path:se,expires:oe,httpOnly:Qe,secure:Re,sameSite:Me??"Lax"};if(b.partitionKey){Le._crHasCrossSiteAncestor=b.partitionKey.hasCrossSiteAncestor;Le.partitionKey=b.partitionKey.topLevelSite}return Le})),b)}async addCookies(b){function toChromiumCookie(b){const{name:B,value:F,url:K,domain:se,path:oe,expires:Qe,httpOnly:Re,secure:Me,sameSite:Le,partitionKey:We,_crHasCrossSiteAncestor:Ge}=b;const ze={name:B,value:F,url:K,domain:se,path:oe,expires:Qe,httpOnly:Re,secure:Me,sameSite:Le};if(We){ze.partitionKey={topLevelSite:We,hasCrossSiteAncestor:Ge??true}}return ze}await this._browser._session.send("Storage.setCookies",{cookies:et.rewriteCookies(b).map(toChromiumCookie),browserContextId:this._browserContextId})}async doClearCookies(){await this._browser._session.send("Storage.clearCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(b,B){const F=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardSanitizedWrite"],["payment-handler","paymentHandler"],["midi-sysex","midiSysex"],["storage-access","storageAccess"],["local-fonts","localFonts"],["local-network-access","localNetworkAccess"]]);const K=B.map((b=>{const B=F.get(b);if(!B)throw new Error("Unknown permission: "+b);return B}));await this._browser._session.send("Browser.grantPermissions",{origin:b==="*"?void 0:b,browserContextId:this._browserContextId,permissions:K})}async doClearPermissions(){await this._browser._session.send("Browser.resetPermissions",{browserContextId:this._browserContextId})}async setGeolocation(b){(0,Ke.verifyGeolocation)(b);this._options.geolocation=b;for(const b of this.pages())await b.delegate.updateGeolocation()}async doUpdateExtraHTTPHeaders(){for(const b of this.pages())await b.delegate.updateExtraHTTPHeaders();for(const b of this.serviceWorkers())await b.updateExtraHTTPHeaders()}async setUserAgent(b){this._options.userAgent=b;for(const b of this.pages())await b.delegate.updateUserAgent()}async doUpdateOffline(){for(const b of this.pages())await b.delegate.updateOffline();for(const b of this.serviceWorkers())await b.updateOffline()}async doSetHTTPCredentials(b){this._options.httpCredentials=b;for(const b of this.pages())await b.delegate.updateHttpCredentials();for(const b of this.serviceWorkers())await b.updateHttpCredentials()}async doAddInitScript(b){for(const B of this.pages())await B.delegate.addInitScript(b)}async doRemoveInitScripts(b){for(const B of this.pages())await B.delegate.removeInitScripts(b)}async doUpdateRequestInterception(){for(const b of this.pages())await b.delegate.updateRequestInterception();for(const b of this.serviceWorkers())await b.updateRequestInterception()}async doUpdateDefaultViewport(){}async doUpdateDefaultEmulatedMedia(){}async doExposePlaywrightBinding(){for(const b of this._crPages())await b.exposePlaywrightBinding()}async doClose(b){await this.dialogManager.closeBeforeUnloadDialogs();if(!this._browserContextId){await this.stopVideoRecording();await this._browser.close({reason:b});return}await this._browser._session.send("Target.disposeBrowserContext",{browserContextId:this._browserContextId});this._browser._contexts.delete(this._browserContextId);for(const[b,B]of this._browser._serviceWorkers){if(B.browserContext!==this)continue;B.didClose();this._browser._serviceWorkers.delete(b)}}async stopVideoRecording(){await Promise.all(this._crPages().map((b=>b._mainFrameSession._stopVideoRecording())))}onClosePersistent(){}async clearCache(){for(const b of this._crPages())await b._networkManager.clearCache()}async cancelDownload(b){await this._browser._session.send("Browser.cancelDownload",{guid:b,browserContextId:this._browserContextId})}serviceWorkers(){return Array.from(this._browser._serviceWorkers.values()).filter((b=>b.browserContext===this))}async newCDPSession(b){let B=null;if(b instanceof rt.Page){B=b.delegate._targetId}else if(b instanceof Xe.Frame){const F=b._page.delegate._sessions.get(b._id);if(!F)throw new Error(`This frame does not have a separate CDP session, it is a part of the parent frame's session`);B=F._targetId}else{throw new Error("page: expected Page or Frame")}const F=await this._browser._clientRootSession();return F.attachToTarget(B)}}0&&0},508:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{CDPSession:()=>CDPSession,CRConnection:()=>CRConnection,CRSession:()=>CRSession,ConnectionEvents:()=>$e,kBrowserCloseMessageId:()=>Ye});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(6877);var We=F(4794);var Ge=F(6390);var ze=F(6938);const $e={Disconnected:Symbol("ConnectionEvents.Disconnected")};const Ye=-9999;class CRConnection extends ze.SdkObject{constructor(b,B,F,K){super(b,"cr-connection");this._lastId=0;this._sessions=new Map;this._closed=false;this.setMaxListeners(0);this._transport=B;this._protocolLogger=F;this._browserLogsCollector=K;this.rootSession=new CRSession(this,null,"");this._sessions.set("",this.rootSession);this._transport.onmessage=this._onMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}_rawSend(b,B,F){const K=++this._lastId;const se={id:K,method:B,params:F};if(b)se.sessionId=b;this._protocolLogger("send",se);this._transport.send(se);return K}async _onMessage(b){this._protocolLogger("receive",b);if(b.id===Ye)return;const B=this._sessions.get(b.sessionId||"");if(B)B._onMessage(b)}_onClose(b){this._closed=true;this._transport.onmessage=void 0;this._transport.onclose=void 0;this._browserDisconnectedLogs=We.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),b);this.rootSession.dispose();Promise.resolve().then((()=>this.emit($e.Disconnected)))}close(){if(!this._closed)this._transport.close()}async createBrowserSession(){const{sessionId:b}=await this.rootSession.send("Target.attachToBrowserTarget");return new CDPSession(this.rootSession,b)}}class CRSession extends ze.SdkObject{constructor(b,B,F,K){super(b,"cr-session");this._callbacks=new Map;this._crashed=false;this._closed=false;this.setMaxListeners(0);this._connection=b;this._parentSession=B;this._sessionId=F;this._eventListener=K;this.on=super.on;this.addListener=super.addListener;this.off=super.removeListener;this.removeListener=super.removeListener;this.once=super.once}_markAsCrashed(){this._crashed=true}createChildSession(b,B){const F=new CRSession(this._connection,this,b,B);this._connection._sessions.set(b,F);return F}async send(b,B){if(this._crashed||this._closed||this._connection._closed||this._connection._browserDisconnectedLogs)throw new Ge.ProtocolError(this._crashed?"crashed":"closed",void 0,this._connection._browserDisconnectedLogs);const F=this._connection._rawSend(this._sessionId,b,B);return new Promise(((B,K)=>{this._callbacks.set(F,{resolve:B,reject:K,error:new Ge.ProtocolError("error",b)})}))}_sendMayFail(b,B){return this.send(b,B).catch((b=>Le.debugLogger.log("error",b)))}_onMessage(b){if(b.id&&this._callbacks.has(b.id)){const B=this._callbacks.get(b.id);this._callbacks.delete(b.id);if(b.error){B.error.setMessage(b.error.message);B.reject(B.error)}else{B.resolve(b.result)}}else if(b.id&&b.error?.code===-32001){}else{(0,Me.assert)(!b.id,b?.error?.message||void 0);Promise.resolve().then((()=>{if(this._eventListener)this._eventListener(b.method,b.params);this.emit(b.method,b.params)}))}}async detach(){if(this._closed)throw new Error(`Session already detached. Most likely the page has been closed.`);if(!this._parentSession)throw new Error("Root session cannot be closed");await this._sendMayFail("Runtime.runIfWaitingForDebugger");await this._parentSession.send("Target.detachFromTarget",{sessionId:this._sessionId});this.dispose()}dispose(){this._closed=true;this._connection._sessions.delete(this._sessionId);for(const b of this._callbacks.values()){b.error.setMessage(`Internal server error, session closed.`);b.error.type=this._crashed?"crashed":"closed";b.error.logs=this._connection._browserDisconnectedLogs;b.reject(b.error)}this._callbacks.clear()}}class CDPSession extends ze.SdkObject{constructor(b,B){super(b,"cdp-session");this._listeners=[];this._session=b.createChildSession(B,((b,B)=>this.emit(CDPSession.Events.Event,{method:b,params:B})));this._listeners=[Me.eventsHelper.addEventListener(b,"Target.detachedFromTarget",(b=>{if(b.sessionId===B)this._onClose()}))]}static{this.Events={Event:"event",Closed:"close"}}async send(b,B){return await this._session.send(b,B)}async detach(){return await this._session.detach()}async attachToTarget(b){const{sessionId:B}=await this.send("Target.attachToTarget",{targetId:b,flatten:true});return new CDPSession(this._session,B)}_onClose(){Me.eventsHelper.removeEventListeners(this._listeners);this._session.dispose();this.emit(CDPSession.Events.Closed)}}0&&0},6522:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{CRCoverage:()=>CRCoverage});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(8753);var We=F(9757);class CRCoverage{constructor(b){this._jsCoverage=new JSCoverage(b);this._cssCoverage=new CSSCoverage(b)}async startJSCoverage(b,B){await(0,We.raceUncancellableOperationWithCleanup)(b,(()=>this._jsCoverage.start(B)),(()=>this._jsCoverage.stop()))}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(b,B){await(0,We.raceUncancellableOperationWithCleanup)(b,(()=>this._cssCoverage.start(B)),(()=>this._cssCoverage.stop()))}async stopCSSCoverage(){return await this._cssCoverage.stop()}}class JSCoverage{constructor(b){this._reportAnonymousScripts=false;this._client=b;this._enabled=false;this._scriptIds=new Set;this._scriptSources=new Map;this._eventListeners=[];this._resetOnNavigation=false}async start(b){(0,Me.assert)(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:B=true,reportAnonymousScripts:F=false}=b;this._resetOnNavigation=B;this._reportAnonymousScripts=F;this._enabled=true;this._scriptIds.clear();this._scriptSources.clear();this._eventListeners=[Le.eventsHelper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),Le.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this)),Le.eventsHelper.addEventListener(this._client,"Debugger.paused",this._onDebuggerPaused.bind(this))];await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:true,detailed:true}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:true})])}_onDebuggerPaused(){this._client.send("Debugger.resume")}_onExecutionContextsCleared(){if(!this._resetOnNavigation)return;this._scriptIds.clear();this._scriptSources.clear()}async _onScriptParsed(b){this._scriptIds.add(b.scriptId);if(!b.url&&!this._reportAnonymousScripts)return;const B=await this._client._sendMayFail("Debugger.getScriptSource",{scriptId:b.scriptId});if(B)this._scriptSources.set(b.scriptId,B.scriptSource)}async stop(){if(!this._enabled)return{entries:[]};const[b]=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);Le.eventsHelper.removeEventListeners(this._eventListeners);this._enabled=false;const B={entries:[]};for(const F of b.result){if(!this._scriptIds.has(F.scriptId))continue;if(!F.url&&!this._reportAnonymousScripts)continue;const b=this._scriptSources.get(F.scriptId);if(b)B.entries.push({...F,source:b});else B.entries.push(F)}return B}}class CSSCoverage{constructor(b){this._client=b;this._enabled=false;this._stylesheetURLs=new Map;this._stylesheetSources=new Map;this._eventListeners=[];this._resetOnNavigation=false}async start(b){(0,Me.assert)(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:B=true}=b;this._resetOnNavigation=B;this._enabled=true;this._stylesheetURLs.clear();this._stylesheetSources.clear();this._eventListeners=[Le.eventsHelper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),Le.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))];await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){if(!this._resetOnNavigation)return;this._stylesheetURLs.clear();this._stylesheetSources.clear()}async _onStyleSheet(b){const B=b.header;if(!B.sourceURL)return;const F=await this._client._sendMayFail("CSS.getStyleSheetText",{styleSheetId:B.styleSheetId});if(F){this._stylesheetURLs.set(B.styleSheetId,B.sourceURL);this._stylesheetSources.set(B.styleSheetId,F.text)}}async stop(){if(!this._enabled)return{entries:[]};const b=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]);Le.eventsHelper.removeEventListeners(this._eventListeners);this._enabled=false;const B=new Map;for(const F of b.ruleUsage){let b=B.get(F.styleSheetId);if(!b){b=[];B.set(F.styleSheetId,b)}b.push({startOffset:F.startOffset,endOffset:F.endOffset,count:F.used?1:0})}const F={entries:[]};for(const b of this._stylesheetURLs.keys()){const K=this._stylesheetURLs.get(b);const se=this._stylesheetSources.get(b);const oe=convertToDisjointRanges(B.get(b)||[]);F.entries.push({url:K,ranges:oe,text:se})}return F}}function convertToDisjointRanges(b){const B=[];for(const F of b){B.push({offset:F.startOffset,type:0,range:F});B.push({offset:F.endOffset,type:1,range:F})}B.sort(((b,B)=>{if(b.offset!==B.offset)return b.offset-B.offset;if(b.type!==B.type)return B.type-b.type;const F=b.range.endOffset-b.range.startOffset;const K=B.range.endOffset-B.range.startOffset;if(b.type===0)return K-F;return F-K}));const F=[];const K=[];let se=0;for(const b of B){if(F.length&&se<b.offset&&F[F.length-1]>0){const B=K.length?K[K.length-1]:null;if(B&&B.end===se)B.end=b.offset;else K.push({start:se,end:b.offset})}se=b.offset;if(b.type===0)F.push(b.range.count);else F.pop()}return K.filter((b=>b.end-b.start>1))}0&&0},8466:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{CRDevTools:()=>CRDevTools});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));const Ge="__pw_devtools__";class CRDevTools{constructor(b){this._preferencesPath=b;this._savePromise=Promise.resolve()}install(b){b.on("Runtime.bindingCalled",(async B=>{if(B.name!==Ge)return;const F=JSON.parse(B.payload);let K=void 0;if(this.__testHookOnBinding)this.__testHookOnBinding(F);if(F.method==="getPreferences"){if(this._prefs===void 0){try{const b=await We.default.promises.readFile(this._preferencesPath,"utf8");this._prefs=JSON.parse(b)}catch(b){this._prefs={}}}K=this._prefs}else if(F.method==="setPreference"){this._prefs[F.params[0]]=F.params[1];this._save()}else if(F.method==="removePreference"){delete this._prefs[F.params[0]];this._save()}else if(F.method==="clearPreferences"){this._prefs={};this._save()}b.send("Runtime.evaluate",{expression:`window.DevToolsAPI.embedderMessageAck(${F.id}, ${JSON.stringify(K)})`,contextId:B.executionContextId}).catch((b=>null))}));Promise.all([b.send("Runtime.enable"),b.send("Runtime.addBinding",{name:Ge}),b.send("Page.enable"),b.send("Page.addScriptToEvaluateOnNewDocument",{source:`\n        (() => {\n          const init = () => {\n            // Lazy init happens when InspectorFrontendHost is initialized.\n            // At this point DevToolsHost is ready to be used.\n            const host = window.DevToolsHost;\n            const old = host.sendMessageToEmbedder.bind(host);\n            host.sendMessageToEmbedder = message => {\n              if (['getPreferences', 'setPreference', 'removePreference', 'clearPreferences'].includes(JSON.parse(message).method))\n                window.${Ge}(message);\n              else\n                old(message);\n            };\n          };\n          let value;\n          Object.defineProperty(window, 'InspectorFrontendHost', {\n            configurable: true,\n            enumerable: true,\n            get() { return value; },\n            set(v) { value = v; init(); },\n          });\n        })()\n      `}),b.send("Runtime.runIfWaitingForDebugger")]).catch((b=>null))}_save(){this._savePromise=this._savePromise.then((async()=>{await We.default.promises.writeFile(this._preferencesPath,JSON.stringify(this._prefs)).catch((b=>null))}))}}0&&0},5723:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{DragManager:()=>DragManager});b.exports=__toCommonJS(Re);var Me=F(9164);var Le=F(3143);class DragManager{constructor(b){this._dragState=null;this._lastPosition={x:0,y:0};this._crPage=b}async cancelDrag(){if(!this._dragState)return false;await this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragCancel",x:this._lastPosition.x,y:this._lastPosition.y,data:{items:[],dragOperationsMask:65535}});this._dragState=null;return true}async interceptDragCausedByMove(b,B,F,K,se,oe,Qe){this._lastPosition={x:B,y:F};if(this._dragState){await b.race(this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragOver",x:B,y:F,data:this._dragState,modifiers:(0,Me.toModifiersMask)(oe)}));return}if(K!=="left")return Qe();const Re=this._crPage._mainFrameSession._client;let Le;const We=new Promise((b=>Le=b));function setupDragListeners(){let b=Promise.resolve(false);let B=null;const dragListener=b=>B=b;const mouseListener=()=>{b=new Promise((b=>{window.addEventListener("dragstart",dragListener,{once:true,capture:true});setTimeout((()=>b(B?!B.defaultPrevented:false)),0)}))};window.addEventListener("mousemove",mouseListener,{once:true,capture:true});window.__cleanupDrag=async()=>{const B=await b;window.removeEventListener("mousemove",mouseListener,{capture:true});window.removeEventListener("dragstart",dragListener,{capture:true});delete window.__cleanupDrag;return B}}try{let B=false;await b.race(this._crPage._page.safeNonStallingEvaluateInAllFrames(`(${setupDragListeners.toString()})()`,"utility"));Re.on("Input.dragIntercepted",Le);await Re.send("Input.setInterceptDrags",{enabled:true});try{await b.race(Qe());B=(await Promise.all(this._crPage._page.frames().map((async b=>b.nonStallingEvaluateInExistingContext("window.__cleanupDrag?.()","utility").catch((()=>false)))))).some((b=>b))}finally{Re.off("Input.dragIntercepted",Le);await Re.send("Input.setInterceptDrags",{enabled:false})}this._dragState=B?(await We).data:null}catch(b){this._crPage._page.safeNonStallingEvaluateInAllFrames("window.__cleanupDrag?.()","utility").catch((()=>{}));throw b}if(this._dragState){await b.race(this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragEnter",x:B,y:F,data:this._dragState,modifiers:(0,Me.toModifiersMask)(oe)}))}}isDragging(){return!!this._dragState}async drop(b,B,F,K){(0,Le.assert)(this._dragState,"missing drag state");await b.race(this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"drop",x:B,y:F,data:this._dragState,modifiers:(0,Me.toModifiersMask)(K)}));this._dragState=null}}0&&0},6385:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{CRExecutionContext:()=>CRExecutionContext,createHandle:()=>createHandle});b.exports=__toCommonJS(Le);var We=F(6224);var Ge=F(9164);var ze=F(4395);var $e=F(5334);var Ye=__toESM(F(4745));var Ke=__toESM(F(1852));var Xe=F(6390);class CRExecutionContext{constructor(b,B){this._client=b;this._contextId=B.id}async rawEvaluateJSON(b){const{exceptionDetails:B,result:F}=await this._client.send("Runtime.evaluate",{expression:b,contextId:this._contextId,returnByValue:true}).catch(rewriteError);if(B)throw new Ye.JavaScriptErrorInEvaluate((0,Ge.getExceptionMessage)(B));return F.value}async rawEvaluateHandle(b,B){const{exceptionDetails:F,result:K}=await this._client.send("Runtime.evaluate",{expression:B,contextId:this._contextId}).catch(rewriteError);if(F)throw new Ye.JavaScriptErrorInEvaluate((0,Ge.getExceptionMessage)(F));return createHandle(b,K)}async evaluateWithArguments(b,B,F,K,se){const{exceptionDetails:oe,result:Qe}=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:b,objectId:F._objectId,arguments:[{objectId:F._objectId},...K.map((b=>({value:b}))),...se.map((b=>({objectId:b._objectId})))],returnByValue:B,awaitPromise:true,userGesture:true}).catch(rewriteError);if(oe)throw new Ye.JavaScriptErrorInEvaluate((0,Ge.getExceptionMessage)(oe));return B?(0,$e.parseEvaluationResultValue)(Qe.value):createHandle(F._context,Qe)}async getProperties(b){const B=await this._client.send("Runtime.getProperties",{objectId:b._objectId,ownProperties:true});const F=new Map;for(const K of B.result){if(!K.enumerable||!K.value)continue;F.set(K.name,createHandle(b._context,K.value))}return F}async releaseHandle(b){if(!b._objectId)return;await(0,Ge.releaseObject)(this._client,b._objectId)}}function rewriteError(b){if(b.message.includes("Object reference chain is too long"))throw new Error("Cannot serialize result: object reference chain is too long.");if(b.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};if(b instanceof TypeError&&b.message.startsWith("Converting circular structure to JSON"))(0,ze.rewriteErrorMessage)(b,b.message+" Are you passing a nested JSHandle?");if(!Ye.isJavaScriptErrorInEvaluate(b)&&!(0,Xe.isSessionClosedError)(b))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw b}function potentiallyUnserializableValue(b){const B=b.value;const F=b.unserializableValue;return F?Ye.parseUnserializableValue(F):B}function renderPreview(b){if(b.type==="undefined")return"undefined";if("value"in b)return String(b.value);if(b.unserializableValue)return String(b.unserializableValue);if(b.description==="Object"&&b.preview){const B=[];for(const{name:F,value:K}of b.preview.properties)B.push(`${F}: ${K}`);return`{${B.join(", ")}}`}if(b.subtype==="array"&&b.preview)return Ye.sparseArrayToString(b.preview.properties);return b.description}function createHandle(b,B){if(B.subtype==="node"){(0,We.assert)(b instanceof Ke.FrameExecutionContext);return new Ke.ElementHandle(b,B.objectId)}return new Ye.JSHandle(b,B.subtype||B.type,renderPreview(B),B.objectId,potentiallyUnserializableValue(B))}0&&0},9502:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{RawKeyboardImpl:()=>RawKeyboardImpl,RawMouseImpl:()=>RawMouseImpl,RawTouchscreenImpl:()=>RawTouchscreenImpl});b.exports=__toCommonJS(Le);var We=F(3143);var Ge=__toESM(F(876));var ze=F(4593);var $e=F(9164);class RawKeyboardImpl{constructor(b,B,F){this._client=b;this._isMac=B;this._dragManger=F}_commandsForCode(b,B){if(!this._isMac)return[];const F=[];for(const b of["Shift","Control","Alt","Meta"]){if(B.has(b))F.push(b)}F.push(b);const K=F.join("+");let se=ze.macEditingCommands[K]||[];if((0,We.isString)(se))se=[se];se=se.filter((b=>!b.startsWith("insert")));return se.map((b=>b.substring(0,b.length-1)))}async keydown(b,B,F,K,se){const{code:oe,key:Qe,location:Re,text:Me}=K;if(oe==="Escape"&&await b.race(this._dragManger.cancelDrag()))return;const Le=this._commandsForCode(oe,B);await b.race(this._client.send("Input.dispatchKeyEvent",{type:Me?"keyDown":"rawKeyDown",modifiers:(0,$e.toModifiersMask)(B),windowsVirtualKeyCode:K.keyCodeWithoutLocation,code:oe,commands:Le,key:Qe,text:Me,unmodifiedText:Me,autoRepeat:se,location:Re,isKeypad:Re===Ge.keypadLocation}))}async keyup(b,B,F,K){const{code:se,key:oe,location:Qe}=K;await b.race(this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:(0,$e.toModifiersMask)(B),key:oe,windowsVirtualKeyCode:K.keyCodeWithoutLocation,code:se,location:Qe}))}async sendText(b,B){await b.race(this._client.send("Input.insertText",{text:B}))}}class RawMouseImpl{constructor(b,B,F){this._page=b;this._client=B;this._dragManager=F}async move(b,B,F,K,se,oe,Qe){const actualMove=async()=>{await b.race(this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:K,buttons:(0,$e.toButtonsMask)(se),x:B,y:F,modifiers:(0,$e.toModifiersMask)(oe),force:se.size>0?.5:0}))};if(Qe){await actualMove();return}await this._dragManager.interceptDragCausedByMove(b,B,F,K,se,oe,actualMove)}async down(b,B,F,K,se,oe,Qe){if(this._dragManager.isDragging())return;await b.race(this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:K,buttons:(0,$e.toButtonsMask)(se),x:B,y:F,modifiers:(0,$e.toModifiersMask)(oe),clickCount:Qe,force:se.size>0?.5:0}))}async up(b,B,F,K,se,oe,Qe){if(this._dragManager.isDragging()){await this._dragManager.drop(b,B,F,oe);return}await b.race(this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:K,buttons:(0,$e.toButtonsMask)(se),x:B,y:F,modifiers:(0,$e.toModifiersMask)(oe),clickCount:Qe}))}async wheel(b,B,F,K,se,oe,Qe){await b.race(this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:B,y:F,modifiers:(0,$e.toModifiersMask)(se),deltaX:oe,deltaY:Qe}))}}class RawTouchscreenImpl{constructor(b){this._client=b}async tap(b,B,F,K){await b.race(Promise.all([this._client.send("Input.dispatchTouchEvent",{type:"touchStart",modifiers:(0,$e.toModifiersMask)(K),touchPoints:[{x:B,y:F}]}),this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",modifiers:(0,$e.toModifiersMask)(K),touchPoints:[]})]))}}0&&0},865:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{CRNetworkManager:()=>CRNetworkManager});b.exports=__toCommonJS(Le);var We=F(3143);var Ge=F(8753);var ze=F(4794);var $e=__toESM(F(6370));var Ye=F(6390);class CRNetworkManager{constructor(b,B){this._requestIdToRequest=new Map;this._requestIdToRequestWillBeSentEvent=new Map;this._credentials=null;this._attemptedAuthentications=new Set;this._userRequestInterceptionEnabled=false;this._protocolRequestInterceptionEnabled=false;this._offline=false;this._extraHTTPHeaders=[];this._requestIdToRequestPausedEvent=new Map;this._responseExtraInfoTracker=new ResponseExtraInfoTracker;this._sessions=new Map;this._page=b;this._serviceWorker=B}async addSession(b,B,F){const K={session:b,isMain:F,workerFrame:B,eventListeners:[]};K.eventListeners=[Ge.eventsHelper.addEventListener(b,"Fetch.requestPaused",this._onRequestPaused.bind(this,K)),Ge.eventsHelper.addEventListener(b,"Fetch.authRequired",this._onAuthRequired.bind(this,K)),Ge.eventsHelper.addEventListener(b,"Network.requestWillBeSent",this._onRequestWillBeSent.bind(this,K)),Ge.eventsHelper.addEventListener(b,"Network.requestWillBeSentExtraInfo",this._onRequestWillBeSentExtraInfo.bind(this)),Ge.eventsHelper.addEventListener(b,"Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),Ge.eventsHelper.addEventListener(b,"Network.responseReceived",this._onResponseReceived.bind(this,K)),Ge.eventsHelper.addEventListener(b,"Network.responseReceivedExtraInfo",this._onResponseReceivedExtraInfo.bind(this)),Ge.eventsHelper.addEventListener(b,"Network.loadingFinished",this._onLoadingFinished.bind(this,K)),Ge.eventsHelper.addEventListener(b,"Network.loadingFailed",this._onLoadingFailed.bind(this,K))];if(this._page){K.eventListeners.push(...[Ge.eventsHelper.addEventListener(b,"Network.webSocketCreated",(b=>this._page.frameManager.onWebSocketCreated(b.requestId,b.url))),Ge.eventsHelper.addEventListener(b,"Network.webSocketWillSendHandshakeRequest",(b=>this._page.frameManager.onWebSocketRequest(b.requestId))),Ge.eventsHelper.addEventListener(b,"Network.webSocketHandshakeResponseReceived",(b=>this._page.frameManager.onWebSocketResponse(b.requestId,b.response.status,b.response.statusText))),Ge.eventsHelper.addEventListener(b,"Network.webSocketFrameSent",(b=>b.response.payloadData&&this._page.frameManager.onWebSocketFrameSent(b.requestId,b.response.opcode,b.response.payloadData))),Ge.eventsHelper.addEventListener(b,"Network.webSocketFrameReceived",(b=>b.response.payloadData&&this._page.frameManager.webSocketFrameReceived(b.requestId,b.response.opcode,b.response.payloadData))),Ge.eventsHelper.addEventListener(b,"Network.webSocketClosed",(b=>this._page.frameManager.webSocketClosed(b.requestId))),Ge.eventsHelper.addEventListener(b,"Network.webSocketFrameError",(b=>this._page.frameManager.webSocketError(b.requestId,b.errorMessage)))])}this._sessions.set(b,K);await Promise.all([b.send("Network.enable"),this._updateProtocolRequestInterceptionForSession(K,true),this._setOfflineForSession(K,true),this._setExtraHTTPHeadersForSession(K,true)])}removeSession(b){const B=this._sessions.get(b);if(B)Ge.eventsHelper.removeEventListeners(B.eventListeners);this._sessions.delete(b)}async _forEachSession(b){await Promise.all([...this._sessions.values()].map((B=>{if(B.isMain)return b(B);return b(B).catch((b=>{if((0,Ye.isSessionClosedError)(b))return;throw b}))})))}async authenticate(b){this._credentials=b;await this._updateProtocolRequestInterception()}async setOffline(b){if(b===this._offline)return;this._offline=b;await this._forEachSession((b=>this._setOfflineForSession(b)))}async _setOfflineForSession(b,B){if(B&&!this._offline)return;if(b.workerFrame)return;await b.session.send("Network.emulateNetworkConditions",{offline:this._offline,latency:0,downloadThroughput:-1,uploadThroughput:-1})}async setRequestInterception(b){this._userRequestInterceptionEnabled=b;await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const b=this._userRequestInterceptionEnabled||!!this._credentials;if(b===this._protocolRequestInterceptionEnabled)return;this._protocolRequestInterceptionEnabled=b;await this._forEachSession((b=>this._updateProtocolRequestInterceptionForSession(b)))}async _updateProtocolRequestInterceptionForSession(b,B){const F=this._protocolRequestInterceptionEnabled;if(B&&!F)return;const K=b.session.send("Network.setCacheDisabled",{cacheDisabled:F});let se=Promise.resolve(void 0);if(!b.workerFrame){if(F)se=b.session.send("Fetch.enable",{handleAuthRequests:true,patterns:[{urlPattern:"*",requestStage:"Request"}]});else se=b.session.send("Fetch.disable")}await Promise.all([K,se])}async setExtraHTTPHeaders(b){if(!this._extraHTTPHeaders.length&&!b.length)return;this._extraHTTPHeaders=b;await this._forEachSession((b=>this._setExtraHTTPHeadersForSession(b)))}async _setExtraHTTPHeadersForSession(b,B){if(B&&!this._extraHTTPHeaders.length)return;await b.session.send("Network.setExtraHTTPHeaders",{headers:(0,We.headersArrayToObject)(this._extraHTTPHeaders,false)})}async clearCache(){await this._forEachSession((async b=>{await b.session.send("Network.setCacheDisabled",{cacheDisabled:true});if(!this._protocolRequestInterceptionEnabled)await b.session.send("Network.setCacheDisabled",{cacheDisabled:false});if(!b.workerFrame)await b.session.send("Network.clearBrowserCache")}))}_onRequestWillBeSent(b,B){if(this._protocolRequestInterceptionEnabled&&!B.request.url.startsWith("data:")){const F=B.requestId;const K=this._requestIdToRequestPausedEvent.get(F);if(K){this._onRequest(b,B,K.sessionInfo,K.event);this._requestIdToRequestPausedEvent.delete(F)}else{this._requestIdToRequestWillBeSentEvent.set(B.requestId,{sessionInfo:b,event:B})}}else{this._onRequest(b,B,void 0,void 0)}}_onRequestServedFromCache(b){this._responseExtraInfoTracker.requestServedFromCache(b)}_onRequestWillBeSentExtraInfo(b){this._responseExtraInfoTracker.requestWillBeSentExtraInfo(b)}_onAuthRequired(b,B){let F="Default";const K=this._shouldProvideCredentials(B.request.url);if(this._attemptedAuthentications.has(B.requestId)){F="CancelAuth"}else if(K){F="ProvideCredentials";this._attemptedAuthentications.add(B.requestId)}const{username:se,password:oe}=K&&this._credentials?this._credentials:{username:void 0,password:void 0};b.session._sendMayFail("Fetch.continueWithAuth",{requestId:B.requestId,authChallengeResponse:{response:F,username:se,password:oe}})}_shouldProvideCredentials(b){if(!this._credentials)return false;return!this._credentials.origin||new URL(b).origin.toLowerCase()===this._credentials.origin.toLowerCase()}_onRequestPaused(b,B){if(!B.networkId){b.session._sendMayFail("Fetch.continueRequest",{requestId:B.requestId});return}if(B.request.url.startsWith("data:"))return;const F=B.networkId;const K=this._requestIdToRequestWillBeSentEvent.get(F);if(K){this._onRequest(K.sessionInfo,K.event,b,B);this._requestIdToRequestWillBeSentEvent.delete(F)}else{const K=this._requestIdToRequest.get(F);const se=K?._route?._alreadyContinuedParams;if(se&&!B.redirectedRequestId){b.session._sendMayFail("Fetch.continueRequest",{...se,requestId:B.requestId});return}this._requestIdToRequestPausedEvent.set(F,{sessionInfo:b,event:B})}}_onRequest(b,B,F,K){if(B.request.url.startsWith("data:"))return;let se=null;if(B.redirectResponse){const b=this._requestIdToRequest.get(B.requestId);if(b){this._handleRequestRedirect(b,B.redirectResponse,B.timestamp,B.redirectHasExtraInfo);se=b}}let oe=B.frameId?this._page?.frameManager.frame(B.frameId):b.workerFrame;if(!oe&&this._page&&K&&K.frameId)oe=this._page.frameManager.frame(K.frameId);if(!oe&&this._page&&B.frameId===(this._page?.delegate)._targetId){oe=this._page.frameManager.frameAttached(B.frameId,null)}const Qe=!!K&&K.request.method==="OPTIONS"&&B.initiator.type==="preflight";if(Qe&&(this._page||this._serviceWorker).needsRequestInterception()){const b=K.request.headers;const B=[{name:"Access-Control-Allow-Origin",value:b["Origin"]||"*"},{name:"Access-Control-Allow-Methods",value:b["Access-Control-Request-Method"]||"GET, POST, OPTIONS, DELETE"},{name:"Access-Control-Allow-Credentials",value:"true"}];if(b["Access-Control-Request-Headers"])B.push({name:"Access-Control-Allow-Headers",value:b["Access-Control-Request-Headers"]});F.session._sendMayFail("Fetch.fulfillRequest",{requestId:K.requestId,responseCode:204,responsePhrase:$e.statusText(204),responseHeaders:B,body:""});return}if(!oe&&!this._serviceWorker){if(K)F.session._sendMayFail("Fetch.continueRequest",{requestId:K.requestId});return}let Re=null;let Me;if(K){if(se||!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled){Me=se?._originalRequestRoute?._alreadyContinuedParams?.headers;F.session._sendMayFail("Fetch.continueRequest",{requestId:K.requestId,headers:Me})}else{Re=new RouteImpl(F.session,K.requestId)}}const Le=B.requestId===B.loaderId&&B.type==="Document";const Ge=Le?B.loaderId:void 0;const ze=new InterceptableRequest({session:b.session,context:(this._page||this._serviceWorker).browserContext,frame:oe||null,serviceWorker:this._serviceWorker||null,documentId:Ge,route:Re,requestWillBeSentEvent:B,requestPausedEvent:K,redirectedFrom:se,headersOverride:Me||null});this._requestIdToRequest.set(B.requestId,ze);if(Re){ze.request.setRawRequestHeaders((0,We.headersObjectToArray)(K.request.headers,"\n"))}(this._page?.frameManager||this._serviceWorker).requestStarted(ze.request,Re||void 0)}_createResponse(b,B,F){const getResponseBody=async()=>{const F=Object.entries(B.headers).find((b=>b[0].toLowerCase()==="content-length"));const K=F?+F[1]:void 0;const se=b.session;const oe=await se.send("Network.getResponseBody",{requestId:b._requestId});if(oe.body||!K)return Buffer.from(oe.body,oe.base64Encoded?"base64":"utf8");if(b._route?._fulfilled)return Buffer.from("");const Qe=await se.send("Network.loadNetworkResource",{url:b.request.url(),frameId:this._serviceWorker?void 0:b.request.frame()._id,options:{disableCache:false,includeCredentials:true}});const Re=[];while(Qe.resource.stream){const b=await se.send("IO.read",{handle:Qe.resource.stream});Re.push(Buffer.from(b.data,b.base64Encoded?"base64":"utf-8"));if(b.eof){await se.send("IO.close",{handle:Qe.resource.stream});break}}return Buffer.concat(Re)};const K=B.timing;let se;if(K&&!this._responseExtraInfoTracker.servedFromCache(b._requestId)){se={startTime:(K.requestTime-b._timestamp+b._wallTime)*1e3,domainLookupStart:K.dnsStart,domainLookupEnd:K.dnsEnd,connectStart:K.connectStart,secureConnectionStart:K.sslStart,connectEnd:K.connectEnd,requestStart:K.sendStart,responseStart:K.receiveHeadersEnd}}else{se={startTime:b._wallTime*1e3,domainLookupStart:-1,domainLookupEnd:-1,connectStart:-1,secureConnectionStart:-1,connectEnd:-1,requestStart:-1,responseStart:-1}}const oe=new $e.Response(b.request,B.status,B.statusText,(0,We.headersObjectToArray)(B.headers),se,getResponseBody,!!B.fromServiceWorker,B.protocol);if(B?.remoteIPAddress&&typeof B?.remotePort==="number"){oe._serverAddrFinished({ipAddress:B.remoteIPAddress,port:B.remotePort})}else{oe._serverAddrFinished()}oe._securityDetailsFinished({protocol:B?.securityDetails?.protocol,subjectName:B?.securityDetails?.subjectName,issuer:B?.securityDetails?.issuer,validFrom:B?.securityDetails?.validFrom,validTo:B?.securityDetails?.validTo});this._responseExtraInfoTracker.processResponse(b._requestId,oe,F);return oe}_deleteRequest(b){this._requestIdToRequest.delete(b._requestId);if(b._interceptionId)this._attemptedAuthentications.delete(b._interceptionId)}_handleRequestRedirect(b,B,F,K){const se=this._createResponse(b,B,K);se.setTransferSize(null);se.setEncodedBodySize(null);se._requestFinished((F-b._timestamp)*1e3);this._deleteRequest(b);(this._page?.frameManager||this._serviceWorker).requestReceivedResponse(se);(this._page?.frameManager||this._serviceWorker).reportRequestFinished(b.request,se)}_onResponseReceivedExtraInfo(b){this._responseExtraInfoTracker.responseReceivedExtraInfo(b)}_onResponseReceived(b,B){let F=this._requestIdToRequest.get(B.requestId);if(!F&&B.response.fromServiceWorker){const K=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(K){this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(b,K.event,void 0,void 0);F=this._requestIdToRequest.get(B.requestId)}}if(!F)return;const K=this._createResponse(F,B.response,B.hasExtraInfo);(this._page?.frameManager||this._serviceWorker).requestReceivedResponse(K)}_onLoadingFinished(b,B){this._responseExtraInfoTracker.loadingFinished(B);const F=this._requestIdToRequest.get(B.requestId);if(!F)return;this._maybeUpdateRequestSession(b,F);const K=F.request._existingResponse();if(K){K.setTransferSize(B.encodedDataLength);K.responseHeadersSize().then((b=>K.setEncodedBodySize(B.encodedDataLength-b)));K._requestFinished(ze.helper.secondsToRoundishMillis(B.timestamp-F._timestamp))}this._deleteRequest(F);(this._page?.frameManager||this._serviceWorker).reportRequestFinished(F.request,K)}_onLoadingFailed(b,B){this._responseExtraInfoTracker.loadingFailed(B);let F=this._requestIdToRequest.get(B.requestId);if(!F){const K=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(K){this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(b,K.event,void 0,void 0);F=this._requestIdToRequest.get(B.requestId)}}if(!F)return;this._maybeUpdateRequestSession(b,F);const K=F.request._existingResponse();if(K){K.setTransferSize(null);K.setEncodedBodySize(null);K._requestFinished(ze.helper.secondsToRoundishMillis(B.timestamp-F._timestamp))}else{F.request.setRawRequestHeaders(null)}this._deleteRequest(F);F.request._setFailureText(B.errorText||B.blockedReason||"");(this._page?.frameManager||this._serviceWorker).requestFailed(F.request,!!B.canceled)}_maybeUpdateRequestSession(b,B){if(B.session!==b.session&&!b.isMain&&(B._documentId===B._requestId||b.workerFrame))B.session=b.session}}class InterceptableRequest{constructor(b){const{session:B,context:F,frame:K,documentId:se,route:oe,requestWillBeSentEvent:Qe,requestPausedEvent:Re,redirectedFrom:Me,serviceWorker:Le,headersOverride:Ge}=b;this.session=B;this._timestamp=Qe.timestamp;this._wallTime=Qe.wallTime;this._requestId=Qe.requestId;this._interceptionId=Re&&Re.requestId;this._documentId=se;this._route=oe;this._originalRequestRoute=oe??Me?._originalRequestRoute;const{headers:ze,method:Ye,url:Ke,postDataEntries:Xe=null}=Re?Re.request:Qe.request;const et=(Qe.type||"").toLowerCase();let rt=null;const it=Xe?.filter((b=>b.bytes));if(it&&it.length)rt=Buffer.concat(it.map((b=>Buffer.from(b.bytes,"base64"))));this.request=new $e.Request(F,K,Le,Me?.request||null,se,Ke,et,Ye,rt,Ge||(0,We.headersObjectToArray)(ze))}}class RouteImpl{constructor(b,B){this._fulfilled=false;this._session=b;this._interceptionId=B}async continue(b){this._alreadyContinuedParams={requestId:this._interceptionId,url:b.url,headers:b.headers,method:b.method,postData:b.postData?b.postData.toString("base64"):void 0};await catchDisallowedErrors((async()=>{await this._session.send("Fetch.continueRequest",this._alreadyContinuedParams)}))}async fulfill(b){this._fulfilled=true;const B=b.isBase64?b.body:Buffer.from(b.body).toString("base64");const F=splitSetCookieHeader(b.headers);await catchDisallowedErrors((async()=>{await this._session.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:b.status,responsePhrase:$e.statusText(b.status),responseHeaders:F,body:B})}))}async abort(b="failed"){const B=Ke[b];(0,We.assert)(B,"Unknown error code: "+b);await catchDisallowedErrors((async()=>{await this._session.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:B})}))}}async function catchDisallowedErrors(b){try{return await b()}catch(b){if((0,Ye.isProtocolError)(b)&&b.message.includes("Invalid http status code or phrase"))throw b;if((0,Ye.isProtocolError)(b)&&b.message.includes("Unsafe header"))throw b}}function splitSetCookieHeader(b){const B=b.findIndex((({name:b})=>b.toLowerCase()==="set-cookie"));if(B===-1)return b;const F=b[B];const K=F.value.split("\n");if(K.length===1)return b;const se=b.slice();se.splice(B,1,...K.map((b=>({name:F.name,value:b}))));return se}const Ke={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};class ResponseExtraInfoTracker{constructor(){this._requests=new Map}requestWillBeSentExtraInfo(b){const B=this._getOrCreateEntry(b.requestId);B.requestWillBeSentExtraInfo.push(b);this._patchHeaders(B,B.requestWillBeSentExtraInfo.length-1);this._checkFinished(B)}requestServedFromCache(b){const B=this._getOrCreateEntry(b.requestId);B.servedFromCache=true}servedFromCache(b){const B=this._requests.get(b);return!!B?.servedFromCache}responseReceivedExtraInfo(b){const B=this._getOrCreateEntry(b.requestId);B.responseReceivedExtraInfo.push(b);this._patchHeaders(B,B.responseReceivedExtraInfo.length-1);this._checkFinished(B)}processResponse(b,B,F){let K=this._requests.get(b);if(!F||K?.servedFromCache){B.request().setRawRequestHeaders(null);B.setResponseHeadersSize(null);B.setRawResponseHeaders(null);return}K=this._getOrCreateEntry(b);K.responses.push(B);this._patchHeaders(K,K.responses.length-1)}loadingFinished(b){const B=this._requests.get(b.requestId);if(!B)return;B.loadingFinished=b;this._checkFinished(B)}loadingFailed(b){const B=this._requests.get(b.requestId);if(!B)return;B.loadingFailed=b;this._checkFinished(B)}_getOrCreateEntry(b){let B=this._requests.get(b);if(!B){B={requestId:b,requestWillBeSentExtraInfo:[],responseReceivedExtraInfo:[],responses:[]};this._requests.set(b,B)}return B}_patchHeaders(b,B){const F=b.responses[B];const K=b.requestWillBeSentExtraInfo[B];if(F&&K){F.request().setRawRequestHeaders((0,We.headersObjectToArray)(K.headers,"\n"));b.requestWillBeSentExtraInfo[B]=void 0}const se=b.responseReceivedExtraInfo[B];if(F&&se){F.setResponseHeadersSize(se.headersText?.length||0);F.setRawResponseHeaders((0,We.headersObjectToArray)(se.headers,"\n"));b.responseReceivedExtraInfo[B]=void 0}}_checkFinished(b){if(!b.loadingFinished&&!b.loadingFailed)return;if(b.responses.length<=b.responseReceivedExtraInfo.length){this._stopTracking(b.requestId);return}}_stopTracking(b){this._requests.delete(b)}}0&&0},7515:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{CRPage:()=>CRPage});b.exports=__toCommonJS(Le);var We=__toESM(F(6928));var Ge=F(6224);var ze=F(6065);var $e=F(8753);var Ye=F(4395);var Ke=__toESM(F(9870));var Xe=__toESM(F(1852));var et=__toESM(F(7416));var rt=F(4794);var it=__toESM(F(6370));var ot=F(45);var at=F(3230);var lt=F(6522);var ut=F(5723);var dt=F(6385);var ht=F(9502);var pt=F(865);var ft=F(9532);var mt=F(9164);var vt=F(9417);var yt=F(8320);var wt=F(541);var _t=F(6390);class CRPage{constructor(b,B,F,K,se){this._sessions=new Map;this._nextWindowOpenPopupFeatures=[];this._targetId=B;this._opener=K;const oe=new ut.DragManager(this);this.rawKeyboard=new ht.RawKeyboardImpl(b,F._browser._platform()==="mac",oe);this.rawMouse=new ht.RawMouseImpl(this,b,oe);this.rawTouchscreen=new ht.RawTouchscreenImpl(b);this._pdf=new ft.CRPDF(b);this._coverage=new lt.CRCoverage(b);this._browserContext=F;this._page=new ot.Page(this,F);this.utilityWorldName=`__playwright_utility_world_${this._page.guid}`;this._networkManager=new pt.CRNetworkManager(this._page,null);this.updateOffline();this.updateExtraHTTPHeaders();this.updateHttpCredentials();this.updateRequestInterception();this._mainFrameSession=new FrameSession(this,b,B,null);this._sessions.set(B,this._mainFrameSession);if(K&&!F._options.noDefaultViewport){const b=K._nextWindowOpenPopupFeatures.shift()||[];const B=rt.helper.getViewportSizeFromWindowFeatures(b);if(B)this._page.setEmulatedSizeFromWindowOpen({viewport:B,screen:B})}this._mainFrameSession._initialize(se.hasUIWindow).then((()=>this._page.reportAsNew(this._opener?._page,void 0)),(b=>this._page.reportAsNew(this._opener?._page,b)))}static mainFrameSession(b){const B=b.delegate;return B._mainFrameSession}async _forAllFrameSessions(b){const B=Array.from(this._sessions.values());await Promise.all(B.map((B=>{if(B._isMainFrame())return b(B);return b(B).catch((b=>{if((0,_t.isSessionClosedError)(b))return;throw b}))})))}_sessionForFrame(b){while(!this._sessions.has(b._id)){const B=b.parentFrame();if(!B)throw new Error(`Frame has been detached.`);b=B}return this._sessions.get(b._id)}_sessionForHandle(b){const B=b._context.frame;return this._sessionForFrame(B)}willBeginDownload(){this._mainFrameSession._willBeginDownload()}didClose(){for(const b of this._sessions.values())b.dispose();this._page._didClose()}async navigateFrame(b,B,F){return this._sessionForFrame(b)._navigate(b,B,F)}async updateExtraHTTPHeaders(){const b=it.mergeHeaders([this._browserContext._options.extraHTTPHeaders,this._page.extraHTTPHeaders()]);await this._networkManager.setExtraHTTPHeaders(b)}async updateGeolocation(){await this._forAllFrameSessions((b=>b._updateGeolocation(false)))}async updateOffline(){await this._networkManager.setOffline(!!this._browserContext._options.offline)}async updateHttpCredentials(){await this._networkManager.authenticate(this._browserContext._options.httpCredentials||null)}async updateEmulatedViewportSize(b){await this._mainFrameSession._updateViewport(b)}async bringToFront(){await this._mainFrameSession._client.send("Page.bringToFront")}async updateEmulateMedia(){await this._forAllFrameSessions((b=>b._updateEmulateMedia()))}async updateUserAgent(){await this._forAllFrameSessions((b=>b._updateUserAgent()))}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateFileChooserInterception(){await this._forAllFrameSessions((b=>b._updateFileChooserInterception(false)))}async reload(){await this._mainFrameSession._client.send("Page.reload")}async _go(b){const B=await this._mainFrameSession._client.send("Page.getNavigationHistory");const F=B.entries[B.currentIndex+b];if(!F)return false;await this._mainFrameSession._client.send("Page.navigateToHistoryEntry",{entryId:F.id});return true}goBack(){return this._go(-1)}goForward(){return this._go(1)}async requestGC(){await this._mainFrameSession._client.send("HeapProfiler.collectGarbage")}async addInitScript(b,B="main"){await this._forAllFrameSessions((F=>F._evaluateOnNewDocument(b,B)))}async exposePlaywrightBinding(){await this._forAllFrameSessions((b=>b.exposePlaywrightBinding()))}async removeInitScripts(b){await this._forAllFrameSessions((B=>B._removeEvaluatesOnNewDocument(b)))}async closePage(b){if(b)await this._mainFrameSession._client.send("Page.close");else await this._browserContext._browser._closePage(this)}async setBackgroundColor(b){await this._mainFrameSession._client.send("Emulation.setDefaultBackgroundColorOverride",{color:b})}async takeScreenshot(b,B,F,K,se,oe,Qe){const{visualViewport:Re}=await b.race(this._mainFrameSession._client.send("Page.getLayoutMetrics"));if(!F){F={x:Re.pageX+K.x,y:Re.pageY+K.y,...rt.helper.enclosingIntSize({width:K.width/Re.scale,height:K.height/Re.scale})}}const Me={...F,scale:K?Re.scale:1};if(Qe==="css"){const b=this._browserContext._options.deviceScaleFactor||1;Me.scale/=b}const Le=await b.race(this._mainFrameSession._client.send("Page.captureScreenshot",{format:B,quality:se,clip:Me,captureBeyondViewport:!oe}));return Buffer.from(Le.data,"base64")}async getContentFrame(b){return this._sessionForHandle(b)._getContentFrame(b)}async getOwnerFrame(b){return this._sessionForHandle(b)._getOwnerFrame(b)}async getBoundingBox(b){return this._sessionForHandle(b)._getBoundingBox(b)}async scrollRectIntoViewIfNeeded(b,B){return this._sessionForHandle(b)._scrollRectIntoViewIfNeeded(b,B)}async setScreencastOptions(b){if(b){await this._mainFrameSession._startScreencast(this,{format:"jpeg",quality:b.quality,maxWidth:b.width,maxHeight:b.height})}else{await this._mainFrameSession._stopScreencast(this)}}rafCountForStablePosition(){return 1}async getContentQuads(b){return this._sessionForHandle(b)._getContentQuads(b)}async setInputFilePaths(b,B){const F=await b.ownerFrame();if(!F)throw new Error("Cannot set input files to detached input element");const K=this._sessionForFrame(F);await K._client.send("DOM.setFileInputFiles",{objectId:b._objectId,files:B})}async adoptElementHandle(b,B){return this._sessionForHandle(b)._adoptElementHandle(b,B)}async inputActionEpilogue(){await this._mainFrameSession._client.send("Page.enable").catch((b=>{}))}async resetForReuse(b){await this.rawMouse.move(b,-1,-1,"none",new Set,new Set,true)}async pdf(b){return this._pdf.generate(b)}coverage(){return this._coverage}async getFrameElement(b){let B=b.parentFrame();if(!B)throw new Error("Frame has been detached.");const F=this._sessionForFrame(B);const{backendNodeId:K}=await F._client.send("DOM.getFrameOwner",{frameId:b._id}).catch((b=>{if(b instanceof Error&&b.message.includes("Frame with the given id was not found."))(0,Ye.rewriteErrorMessage)(b,"Frame has been detached.");throw b}));B=b.parentFrame();if(!B)throw new Error("Frame has been detached.");return F._adoptBackendNodeId(K,await B._mainContext())}shouldToggleStyleSheetToSyncAnimations(){return false}}class FrameSession{constructor(b,B,F,K){this._childSessions=new Set;this._contextIdToContext=new Map;this._eventListeners=[];this._firstNonInitialNavigationCommittedFulfill=()=>{};this._firstNonInitialNavigationCommittedReject=b=>{};this._swappedIn=false;this._videoRecorder=null;this._screencastId=null;this._screencastClients=new Set;this._workerSessions=new Map;this._initScriptIds=new Map;this._client=B;this._crPage=b;this._page=b._page;this._targetId=F;this._parentSession=K;if(K)K._childSessions.add(this);this._firstNonInitialNavigationCommittedPromise=new Promise(((b,B)=>{this._firstNonInitialNavigationCommittedFulfill=b;this._firstNonInitialNavigationCommittedReject=B}));this._firstNonInitialNavigationCommittedPromise.catch((()=>{}))}_isMainFrame(){return this._targetId===this._crPage._targetId}_addRendererListeners(){this._eventListeners.push(...[$e.eventsHelper.addEventListener(this._client,"Log.entryAdded",(b=>this._onLogEntryAdded(b))),$e.eventsHelper.addEventListener(this._client,"Page.fileChooserOpened",(b=>this._onFileChooserOpened(b))),$e.eventsHelper.addEventListener(this._client,"Page.frameAttached",(b=>this._onFrameAttached(b.frameId,b.parentFrameId))),$e.eventsHelper.addEventListener(this._client,"Page.frameDetached",(b=>this._onFrameDetached(b.frameId,b.reason))),$e.eventsHelper.addEventListener(this._client,"Page.frameNavigated",(b=>this._onFrameNavigated(b.frame,false))),$e.eventsHelper.addEventListener(this._client,"Page.frameRequestedNavigation",(b=>this._onFrameRequestedNavigation(b))),$e.eventsHelper.addEventListener(this._client,"Page.javascriptDialogOpening",(b=>this._onDialog(b))),$e.eventsHelper.addEventListener(this._client,"Page.navigatedWithinDocument",(b=>this._onFrameNavigatedWithinDocument(b.frameId,b.url))),$e.eventsHelper.addEventListener(this._client,"Runtime.bindingCalled",(b=>this._onBindingCalled(b))),$e.eventsHelper.addEventListener(this._client,"Runtime.consoleAPICalled",(b=>this._onConsoleAPI(b))),$e.eventsHelper.addEventListener(this._client,"Runtime.exceptionThrown",(b=>this._handleException(b.exceptionDetails))),$e.eventsHelper.addEventListener(this._client,"Runtime.executionContextCreated",(b=>this._onExecutionContextCreated(b.context))),$e.eventsHelper.addEventListener(this._client,"Runtime.executionContextDestroyed",(b=>this._onExecutionContextDestroyed(b.executionContextId))),$e.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",(b=>this._onExecutionContextsCleared()))])}_addBrowserListeners(){this._eventListeners.push(...[$e.eventsHelper.addEventListener(this._client,"Target.attachedToTarget",(b=>this._onAttachedToTarget(b))),$e.eventsHelper.addEventListener(this._client,"Target.detachedFromTarget",(b=>this._onDetachedFromTarget(b))),$e.eventsHelper.addEventListener(this._client,"Inspector.targetCrashed",(b=>this._onTargetCrashed())),$e.eventsHelper.addEventListener(this._client,"Page.screencastFrame",(b=>this._onScreencastFrame(b))),$e.eventsHelper.addEventListener(this._client,"Page.windowOpen",(b=>this._onWindowOpen(b)))])}async _initialize(b){if(!this._page.isStorageStatePage&&b&&!this._crPage._browserContext._browser.isClank()&&!this._crPage._browserContext._options.noDefaultViewport){const{windowId:b}=await this._client.send("Browser.getWindowForTarget");this._windowId=b}let B;if(!this._page.isStorageStatePage&&this._isMainFrame()&&this._crPage._browserContext._options.recordVideo&&b){const b=(0,ze.createGuid)();const F=We.default.join(this._crPage._browserContext._options.recordVideo.dir,b+".webm");B={...this._crPage._browserContext._options.recordVideo.size,outputFile:F};await this._crPage._browserContext._ensureVideosPath();await this._createVideoRecorder(b,B);this._crPage._page.waitForInitializedOrError().then((b=>{if(b instanceof Error)this._stopVideoRecording().catch((()=>{}))}))}let F;if(!this._isMainFrame())this._addRendererListeners();this._addBrowserListeners();this._bufferedAttachedToTargetEvents=[];const K=[this._client.send("Page.enable"),this._client.send("Page.getFrameTree").then((({frameTree:b})=>{if(this._isMainFrame()){this._handleFrameTree(b);this._addRendererListeners()}const B=this._bufferedAttachedToTargetEvents||[];this._bufferedAttachedToTargetEvents=void 0;for(const b of B)this._onAttachedToTarget(b);const K=this._isMainFrame()?this._page.frames():[this._page.frameManager.frame(this._targetId)];for(const b of K){this._client._sendMayFail("Page.createIsolatedWorld",{frameId:b._id,grantUniveralAccess:true,worldName:this._crPage.utilityWorldName})}const se=this._isMainFrame()&&this._page.mainFrame().url()===":";if(se){F.catch((b=>{})).then((()=>{this._eventListeners.push($e.eventsHelper.addEventListener(this._client,"Page.lifecycleEvent",(b=>this._onLifecycleEvent(b))))}))}else{this._firstNonInitialNavigationCommittedFulfill();this._eventListeners.push($e.eventsHelper.addEventListener(this._client,"Page.lifecycleEvent",(b=>this._onLifecycleEvent(b))))}})),this._client.send("Log.enable",{}),F=this._client.send("Page.setLifecycleEventsEnabled",{enabled:true}),this._client.send("Runtime.enable",{}),this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:"",worldName:this._crPage.utilityWorldName}),this._crPage._networkManager.addSession(this._client,void 0,this._isMainFrame()),this._client.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true})];if(!this._page.isStorageStatePage){if(this._crPage._browserContext.needsPlaywrightBinding())K.push(this.exposePlaywrightBinding());if(this._isMainFrame())K.push(this._client.send("Emulation.setFocusEmulationEnabled",{enabled:true}));const b=this._crPage._browserContext._options;if(b.bypassCSP)K.push(this._client.send("Page.setBypassCSP",{enabled:true}));if(b.ignoreHTTPSErrors||b.internalIgnoreHTTPSErrors)K.push(this._client.send("Security.setIgnoreCertificateErrors",{ignore:true}));if(this._isMainFrame())K.push(this._updateViewport());if(b.hasTouch)K.push(this._client.send("Emulation.setTouchEmulationEnabled",{enabled:true}));if(b.javaScriptEnabled===false)K.push(this._client.send("Emulation.setScriptExecutionDisabled",{value:true}));if(b.userAgent||b.locale)K.push(this._updateUserAgent());if(b.locale)K.push(emulateLocale(this._client,b.locale));if(b.timezoneId)K.push(emulateTimezone(this._client,b.timezoneId));if(!this._crPage._browserContext._browser.options.headful)K.push(this._setDefaultFontFamilies(this._client));K.push(this._updateGeolocation(true));K.push(this._updateEmulateMedia());K.push(this._updateFileChooserInterception(true));for(const b of this._crPage._page.allInitScripts())K.push(this._evaluateOnNewDocument(b,"main",true));if(B)K.push(this._startVideoRecording(B))}K.push(this._client.send("Runtime.runIfWaitingForDebugger"));K.push(this._firstNonInitialNavigationCommittedPromise);await Promise.all(K)}dispose(){this._firstNonInitialNavigationCommittedReject(new wt.TargetClosedError);for(const b of this._childSessions)b.dispose();if(this._parentSession)this._parentSession._childSessions.delete(this);$e.eventsHelper.removeEventListeners(this._eventListeners);this._crPage._networkManager.removeSession(this._client);this._crPage._sessions.delete(this._targetId);this._client.dispose()}async _navigate(b,B,F){const K=await this._client.send("Page.navigate",{url:B,referrer:F,frameId:b._id,referrerPolicy:"unsafeUrl"});if(K.isDownload)throw new et.NavigationAbortedError(K.loaderId,"Download is starting");if(K.errorText)throw new et.NavigationAbortedError(K.loaderId,`${K.errorText} at ${B}`);return{newDocumentId:K.loaderId}}_onLifecycleEvent(b){if(this._eventBelongsToStaleFrame(b.frameId))return;if(b.name==="load")this._page.frameManager.frameLifecycleEvent(b.frameId,"load");else if(b.name==="DOMContentLoaded")this._page.frameManager.frameLifecycleEvent(b.frameId,"domcontentloaded")}_handleFrameTree(b){this._onFrameAttached(b.frame.id,b.frame.parentId||null);this._onFrameNavigated(b.frame,true);if(!b.childFrames)return;for(const B of b.childFrames)this._handleFrameTree(B)}_eventBelongsToStaleFrame(b){const B=this._page.frameManager.frame(b);if(!B)return true;const F=this._crPage._sessionForFrame(B);return F&&F!==this&&!F._swappedIn}_onFrameAttached(b,B){const F=this._crPage._sessions.get(b);if(F&&b!==this._targetId){F._swappedIn=true;const B=this._page.frameManager.frame(b);if(B)this._page.frameManager.removeChildFramesRecursively(B);return}if(B&&!this._page.frameManager.frame(B)){return}this._page.frameManager.frameAttached(b,B)}_onFrameNavigated(b,B){if(this._eventBelongsToStaleFrame(b.id))return;this._page.frameManager.frameCommittedNewDocumentNavigation(b.id,b.url+(b.urlFragment||""),b.name||"",b.loaderId,B);if(!B)this._firstNonInitialNavigationCommittedFulfill()}_onFrameRequestedNavigation(b){if(this._eventBelongsToStaleFrame(b.frameId))return;if(b.disposition==="currentTab")this._page.frameManager.frameRequestedNavigation(b.frameId)}_onFrameNavigatedWithinDocument(b,B){if(this._eventBelongsToStaleFrame(b))return;this._page.frameManager.frameCommittedSameDocumentNavigation(b,B)}_onFrameDetached(b,B){if(this._crPage._sessions.has(b)){return}if(B==="swap"){const B=this._page.frameManager.frame(b);if(B)this._page.frameManager.removeChildFramesRecursively(B);return}this._page.frameManager.frameDetached(b)}_onExecutionContextCreated(b){const B=b.auxData?this._page.frameManager.frame(b.auxData.frameId):null;if(!B||this._eventBelongsToStaleFrame(B._id))return;const F=new dt.CRExecutionContext(this._client,b);let K=null;if(b.auxData&&!!b.auxData.isDefault)K="main";else if(b.name===this._crPage.utilityWorldName)K="utility";const se=new Xe.FrameExecutionContext(F,B,K);if(K)B._contextCreated(K,se);this._contextIdToContext.set(b.id,se)}_onExecutionContextDestroyed(b){const B=this._contextIdToContext.get(b);if(!B)return;this._contextIdToContext.delete(b);B.frame._contextDestroyed(B)}_onExecutionContextsCleared(){for(const b of Array.from(this._contextIdToContext.keys()))this._onExecutionContextDestroyed(b)}_onAttachedToTarget(b){if(this._bufferedAttachedToTargetEvents){this._bufferedAttachedToTargetEvents.push(b);return}const B=this._client.createChildSession(b.sessionId);if(b.targetInfo.type==="iframe"){const F=b.targetInfo.targetId;let K=this._page.frameManager.frame(F);if(!K&&b.targetInfo.parentFrameId){K=this._page.frameManager.frameAttached(F,b.targetInfo.parentFrameId)}if(!K)return;this._page.frameManager.removeChildFramesRecursively(K);for(const[b,B]of this._contextIdToContext){if(B.frame===K)this._onExecutionContextDestroyed(b)}const se=new FrameSession(this._crPage,B,F,this);this._crPage._sessions.set(F,se);se._initialize(false).catch((b=>b));return}if(b.targetInfo.type!=="worker"){B.detach().catch((()=>{}));return}const F=b.targetInfo.url;const K=new ot.Worker(this._page,F);this._page.addWorker(b.sessionId,K);this._workerSessions.set(b.sessionId,B);B.once("Runtime.executionContextCreated",(async b=>{K.createExecutionContext(new dt.CRExecutionContext(B,b.context))}));if(this._crPage._browserContext._browser.majorVersion()>=143)B.on("Inspector.workerScriptLoaded",(()=>K.workerScriptLoaded()));else K.workerScriptLoaded();B._sendMayFail("Runtime.enable");this._crPage._networkManager.addSession(B,this._page.frameManager.frame(this._targetId)??void 0).catch((()=>{}));B._sendMayFail("Runtime.runIfWaitingForDebugger");B._sendMayFail("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true});B.on("Target.attachedToTarget",(b=>this._onAttachedToTarget(b)));B.on("Target.detachedFromTarget",(b=>this._onDetachedFromTarget(b)));B.on("Runtime.consoleAPICalled",(b=>{const B=b.args.map((b=>(0,dt.createHandle)(K.existingExecutionContext,b)));this._page.addConsoleMessage(K,b.type,B,(0,mt.toConsoleMessageLocation)(b.stackTrace))}));B.on("Runtime.exceptionThrown",(b=>this._page.addPageError((0,mt.exceptionToError)(b.exceptionDetails))))}_onDetachedFromTarget(b){const B=this._workerSessions.get(b.sessionId);if(B){B.dispose();this._page.removeWorker(b.sessionId);return}const F=this._crPage._sessions.get(b.targetId);if(!F)return;if(F._swappedIn){F.dispose();return}this._client.send("Page.enable").catch((b=>null)).then((()=>{if(!F._swappedIn)this._page.frameManager.frameDetached(b.targetId);F.dispose()}))}_onWindowOpen(b){this._crPage._nextWindowOpenPopupFeatures.push(b.windowFeatures)}async _onConsoleAPI(b){if(b.executionContextId===0){return}const B=this._contextIdToContext.get(b.executionContextId);if(!B)return;const F=b.args.map((b=>(0,dt.createHandle)(B,b)));this._page.addConsoleMessage(null,b.type,F,(0,mt.toConsoleMessageLocation)(b.stackTrace))}async _onBindingCalled(b){const B=await this._crPage._page.waitForInitializedOrError();if(!(B instanceof Error)){const B=this._contextIdToContext.get(b.executionContextId);if(B)await this._page.onBindingCalled(b.payload,B)}}_onDialog(b){if(!this._page.frameManager.frame(this._targetId))return;this._page.browserContext.dialogManager.dialogDidOpen(new Ke.Dialog(this._page,b.type,b.message,(async(B,F)=>{if(this._isMainFrame()&&b.type==="beforeunload"&&!B)this._page.frameManager.frameAbortedNavigation(this._page.mainFrame()._id,"navigation cancelled by beforeunload dialog");await this._client.send("Page.handleJavaScriptDialog",{accept:B,promptText:F})}),b.defaultPrompt))}_handleException(b){this._page.addPageError((0,mt.exceptionToError)(b))}async _onTargetCrashed(){this._client._markAsCrashed();this._page._didCrash()}_onLogEntryAdded(b){const{level:B,text:F,args:K,source:se,url:oe,lineNumber:Qe}=b.entry;if(K)K.map((b=>(0,mt.releaseObject)(this._client,b.objectId)));if(se!=="worker"){const b={url:oe||"",lineNumber:Qe||0,columnNumber:0};this._page.addConsoleMessage(null,B,[],b,F)}}async _onFileChooserOpened(b){if(!b.backendNodeId)return;const B=this._page.frameManager.frame(b.frameId);if(!B)return;let F;try{const K=await B._utilityContext();F=await this._adoptBackendNodeId(b.backendNodeId,K)}catch(b){return}await this._page._onFileChooserOpened(F)}_willBeginDownload(){if(!this._crPage._page.initializedOrUndefined()){this._firstNonInitialNavigationCommittedReject(new Error("Starting new page download"))}}_onScreencastFrame(b){this._page.throttleScreencastFrameAck((()=>{this._client.send("Page.screencastFrameAck",{sessionId:b.sessionId}).catch((()=>{}))}));const B=Buffer.from(b.data,"base64");this._page.emit(ot.Page.Events.ScreencastFrame,{buffer:B,frameSwapWallTime:b.metadata.timestamp?b.metadata.timestamp*1e3:void 0,width:b.metadata.deviceWidth,height:b.metadata.deviceHeight})}async _createVideoRecorder(b,B){(0,Ge.assert)(!this._screencastId);const F=at.registry.findExecutable("ffmpeg").executablePathOrDie(this._page.browserContext._browser.sdkLanguage());this._videoRecorder=await yt.VideoRecorder.launch(this._crPage._page,F,B);this._screencastId=b}async _startVideoRecording(b){const B=this._screencastId;(0,Ge.assert)(B);this._page.once(ot.Page.Events.Close,(()=>this._stopVideoRecording().catch((()=>{}))));const F=new Promise((b=>this._client.once("Page.screencastFrame",b)));await this._startScreencast(this._videoRecorder,{format:"jpeg",quality:90,maxWidth:b.width,maxHeight:b.height});F.then((()=>{this._crPage._browserContext._browser._videoStarted(this._crPage._browserContext,B,b.outputFile,this._crPage._page.waitForInitializedOrError())}))}async _stopVideoRecording(){if(!this._screencastId)return;const b=this._screencastId;this._screencastId=null;const B=this._videoRecorder;this._videoRecorder=null;await this._stopScreencast(B);await B.stop().catch((()=>{}));const F=this._crPage._browserContext._browser._takeVideo(b);F?.reportFinished()}async _startScreencast(b,B={}){this._screencastClients.add(b);if(this._screencastClients.size===1)await this._client.send("Page.startScreencast",B)}async _stopScreencast(b){this._screencastClients.delete(b);if(!this._screencastClients.size)await this._client._sendMayFail("Page.stopScreencast")}async _updateGeolocation(b){const B=this._crPage._browserContext._options.geolocation;if(!b||B)await this._client.send("Emulation.setGeolocationOverride",B||{})}async _updateViewport(b){if(this._crPage._browserContext._browser.isClank())return;(0,Ge.assert)(this._isMainFrame());const B=this._crPage._browserContext._options;const F=this._page.emulatedSize();if(!F)return;const K=F.viewport;const se=F.screen;const oe=se.width>se.height;const Qe={mobile:!!B.isMobile,width:K.width,height:K.height,screenWidth:se.width,screenHeight:se.height,deviceScaleFactor:B.deviceScaleFactor||1,screenOrientation:!!B.isMobile?oe?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"}:{angle:0,type:"landscapePrimary"},dontSetVisibleSize:b};if(JSON.stringify(this._metricsOverride)===JSON.stringify(Qe))return;const Re=[];if(!b&&this._windowId){let b={width:0,height:0};if(this._crPage._browserContext._browser.options.headful){b={width:24,height:88};if(process.platform==="win32")b={width:16,height:88};else if(process.platform==="linux")b={width:8,height:85};else if(process.platform==="darwin")b={width:2,height:80};if(this._crPage._browserContext.isPersistentContext()){b.height+=46}}Re.push(this.setWindowBounds({width:K.width+b.width,height:K.height+b.height}))}Re.push(this._client.send("Emulation.setDeviceMetricsOverride",Qe));await Promise.all(Re);this._metricsOverride=Qe}async windowBounds(){const{bounds:b}=await this._client.send("Browser.getWindowBounds",{windowId:this._windowId});return b}async setWindowBounds(b){return await this._client.send("Browser.setWindowBounds",{windowId:this._windowId,bounds:b})}async _updateEmulateMedia(){const b=this._page.emulatedMedia();const B=b.media==="no-override"?"":b.media;const F=b.colorScheme==="no-override"?"":b.colorScheme;const K=b.reducedMotion==="no-override"?"":b.reducedMotion;const se=b.forcedColors==="no-override"?"":b.forcedColors;const oe=b.contrast==="no-override"?"":b.contrast;const Qe=[{name:"prefers-color-scheme",value:F},{name:"prefers-reduced-motion",value:K},{name:"forced-colors",value:se},{name:"prefers-contrast",value:oe}];await this._client.send("Emulation.setEmulatedMedia",{media:B,features:Qe})}async _updateUserAgent(){const b=this._crPage._browserContext._options;await this._client.send("Emulation.setUserAgentOverride",{userAgent:b.userAgent||"",acceptLanguage:b.locale,userAgentMetadata:calculateUserAgentMetadata(b)})}async _setDefaultFontFamilies(b){const B=vt.platformToFontFamilies[this._crPage._browserContext._browser._platform()];await b.send("Page.setFontFamilies",B)}async _updateFileChooserInterception(b){const B=this._page.fileChooserIntercepted();if(b&&!B)return;await this._client.send("Page.setInterceptFileChooserDialog",{enabled:B}).catch((()=>{}))}async _evaluateOnNewDocument(b,B,F){const K=B==="utility"?this._crPage.utilityWorldName:void 0;const{identifier:se}=await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:b.source,worldName:K,runImmediately:F});this._initScriptIds.set(b,se)}async _removeEvaluatesOnNewDocument(b){const B=[];for(const F of b){const b=this._initScriptIds.get(F);if(b)B.push(b);this._initScriptIds.delete(F)}await Promise.all(B.map((b=>this._client.send("Page.removeScriptToEvaluateOnNewDocument",{identifier:b}).catch((()=>{})))))}async exposePlaywrightBinding(){await this._client.send("Runtime.addBinding",{name:ot.PageBinding.kBindingName})}async _getContentFrame(b){const B=await this._client.send("DOM.describeNode",{objectId:b._objectId});if(!B||typeof B.node.frameId!=="string")return null;return this._page.frameManager.frame(B.node.frameId)}async _getOwnerFrame(b){const B=await b.evaluateHandle((b=>{const B=b;if(B.documentElement&&B.documentElement.ownerDocument===B)return B.documentElement;return b.ownerDocument?b.ownerDocument.documentElement:null}));if(!B)return null;if(!B._objectId)return null;const F=await this._client.send("DOM.describeNode",{objectId:B._objectId});const K=F&&typeof F.node.frameId==="string"?F.node.frameId:null;B.dispose();return K}async _getBoundingBox(b){const B=await this._client._sendMayFail("DOM.getBoxModel",{objectId:b._objectId});if(!B)return null;const F=B.model.border;const K=Math.min(F[0],F[2],F[4],F[6]);const se=Math.min(F[1],F[3],F[5],F[7]);const oe=Math.max(F[0],F[2],F[4],F[6])-K;const Qe=Math.max(F[1],F[3],F[5],F[7])-se;const Re=await this._framePosition();if(!Re)return null;return{x:K+Re.x,y:se+Re.y,width:oe,height:Qe}}async _framePosition(){const b=this._page.frameManager.frame(this._targetId);if(!b)return null;if(b===this._page.mainFrame())return{x:0,y:0};const B=await b.frameElement();const F=await B.boundingBox();return F}async _scrollRectIntoViewIfNeeded(b,B){return await this._client.send("DOM.scrollIntoViewIfNeeded",{objectId:b._objectId,rect:B}).then((()=>"done")).catch((b=>{if(b instanceof Error&&b.message.includes("Node does not have a layout object"))return"error:notvisible";if(b instanceof Error&&b.message.includes("Node is detached from document"))return"error:notconnected";throw b}))}async _getContentQuads(b){const B=await this._client._sendMayFail("DOM.getContentQuads",{objectId:b._objectId});if(!B)return null;const F=await this._framePosition();if(!F)return null;return B.quads.map((b=>[{x:b[0]+F.x,y:b[1]+F.y},{x:b[2]+F.x,y:b[3]+F.y},{x:b[4]+F.x,y:b[5]+F.y},{x:b[6]+F.x,y:b[7]+F.y}]))}async _adoptElementHandle(b,B){const F=await this._client.send("DOM.describeNode",{objectId:b._objectId});return this._adoptBackendNodeId(F.node.backendNodeId,B)}async _adoptBackendNodeId(b,B){const F=await this._client._sendMayFail("DOM.resolveNode",{backendNodeId:b,executionContextId:B.delegate._contextId});if(!F||F.object.subtype==="null")throw new Error(Xe.kUnableToAdoptErrorMessage);return(0,dt.createHandle)(B,F.object).asElement()}}async function emulateLocale(b,B){try{await b.send("Emulation.setLocaleOverride",{locale:B})}catch(b){if(b.message.includes("Another locale override is already in effect"))return;throw b}}async function emulateTimezone(b,B){try{await b.send("Emulation.setTimezoneOverride",{timezoneId:B})}catch(b){if(b.message.includes("Timezone override is already in effect"))return;if(b.message.includes("Invalid timezone"))throw new Error(`Invalid timezone ID: ${B}`);throw b}}function calculateUserAgentMetadata(b){const B=b.userAgent;if(!B)return void 0;const F={mobile:!!b.isMobile,model:"",architecture:"x86",platform:"Windows",platformVersion:""};const K=B.match(/Android (\d+(\.\d+)?(\.\d+)?)/);const se=B.match(/iPhone OS (\d+(_\d+)?)/);const oe=B.match(/iPad; CPU OS (\d+(_\d+)?)/);const Qe=B.match(/Mac OS X (\d+(_\d+)?(_\d+)?)/);const Re=B.match(/Windows\D+(\d+(\.\d+)?(\.\d+)?)/);if(K){F.platform="Android";F.platformVersion=K[1];F.architecture="arm"}else if(se){F.platform="iOS";F.platformVersion=se[1];F.architecture="arm"}else if(oe){F.platform="iOS";F.platformVersion=oe[1];F.architecture="arm"}else if(Qe){F.platform="macOS";F.platformVersion=Qe[1];if(!B.includes("Intel"))F.architecture="arm"}else if(Re){F.platform="Windows";F.platformVersion=Re[1]}else if(B.toLowerCase().includes("linux")){F.platform="Linux"}if(B.includes("ARM"))F.architecture="arm";return F}0&&0},9532:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{CRPDF:()=>CRPDF});b.exports=__toCommonJS(Re);var Me=F(9164);var Le=F(3143);const We={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}};const Ge={px:1,in:96,cm:37.8,mm:3.78};function convertPrintParameterToInches(b){if(b===void 0)return void 0;let B=b.substring(b.length-2).toLowerCase();let F="";if(Ge.hasOwnProperty(B)){F=b.substring(0,b.length-2)}else{B="px";F=b}const K=Number(F);(0,Le.assert)(!isNaN(K),"Failed to parse parameter value: "+b);const se=K*Ge[B];return se/96}class CRPDF{constructor(b){this._client=b}async generate(b){const{scale:B=1,displayHeaderFooter:F=false,headerTemplate:K="",footerTemplate:se="",printBackground:oe=false,landscape:Qe=false,pageRanges:Re="",preferCSSPageSize:Ge=false,margin:ze={},tagged:$e=false,outline:Ye=false}=b;let Ke=8.5;let Xe=11;if(b.format){const B=We[b.format.toLowerCase()];(0,Le.assert)(B,"Unknown paper format: "+b.format);Ke=B.width;Xe=B.height}else{Ke=convertPrintParameterToInches(b.width)||Ke;Xe=convertPrintParameterToInches(b.height)||Xe}const et=convertPrintParameterToInches(ze.top)||0;const rt=convertPrintParameterToInches(ze.left)||0;const it=convertPrintParameterToInches(ze.bottom)||0;const ot=convertPrintParameterToInches(ze.right)||0;const at=Ye;const lt=$e;const ut=await this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:Qe,displayHeaderFooter:F,headerTemplate:K,footerTemplate:se,printBackground:oe,scale:B,paperWidth:Ke,paperHeight:Xe,marginTop:et,marginBottom:it,marginLeft:rt,marginRight:ot,pageRanges:Re,preferCSSPageSize:Ge,generateTaggedPDF:lt,generateDocumentOutline:at});return await(0,Me.readProtocolStream)(this._client,ut.stream)}}0&&0},9164:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{exceptionToError:()=>exceptionToError,getExceptionMessage:()=>getExceptionMessage,readProtocolStream:()=>readProtocolStream,releaseObject:()=>releaseObject,saveProtocolStream:()=>saveProtocolStream,toButtonsMask:()=>toButtonsMask,toConsoleMessageLocation:()=>toConsoleMessageLocation,toModifiersMask:()=>toModifiersMask});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=F(4395);var ze=F(1245);function getExceptionMessage(b){if(b.exception)return b.exception.description||String(b.exception.value);let B=b.text;if(b.stackTrace){for(const F of b.stackTrace.callFrames){const b=F.url+":"+F.lineNumber+":"+F.columnNumber;const K=F.functionName||"<anonymous>";B+=`\n    at ${K} (${b})`}}return B}async function releaseObject(b,B){await b.send("Runtime.releaseObject",{objectId:B}).catch((b=>{}))}async function saveProtocolStream(b,B,F){let K=false;await(0,ze.mkdirIfNeeded)(F);const se=await We.default.promises.open(F,"w");while(!K){const F=await b.send("IO.read",{handle:B});K=F.eof;const oe=Buffer.from(F.data,F.base64Encoded?"base64":void 0);await se.write(oe)}await se.close();await b.send("IO.close",{handle:B})}async function readProtocolStream(b,B){let F=false;const K=[];while(!F){const se=await b.send("IO.read",{handle:B});F=se.eof;const oe=Buffer.from(se.data,se.base64Encoded?"base64":void 0);K.push(oe)}await b.send("IO.close",{handle:B});return Buffer.concat(K)}function toConsoleMessageLocation(b){return b&&b.callFrames.length?{url:b.callFrames[0].url,lineNumber:b.callFrames[0].lineNumber,columnNumber:b.callFrames[0].columnNumber}:{url:"",lineNumber:0,columnNumber:0}}function exceptionToError(b){const B=getExceptionMessage(b);const F=B.split("\n");const K=F.findIndex((b=>b.startsWith("    at")));let se="";let oe="";if(K===-1){se=B}else{se=F.slice(0,K).join("\n");oe=B}const{name:Qe,message:Re}=(0,Ge.splitErrorMessage)(se);const Me=new Error(Re);Me.stack=oe;const Le=b.exception?.preview?.properties.find((b=>b.name==="name"));Me.name=Le?Le.value??"Error":Qe;return Me}function toModifiersMask(b){let B=0;if(b.has("Alt"))B|=1;if(b.has("Control"))B|=2;if(b.has("Meta"))B|=4;if(b.has("Shift"))B|=8;return B}function toButtonsMask(b){let B=0;if(b.has("left"))B|=1;if(b.has("right"))B|=2;if(b.has("middle"))B|=4;return B}0&&0},4427:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{CRServiceWorker:()=>CRServiceWorker});b.exports=__toCommonJS(Le);var We=F(45);var Ge=F(6385);var ze=F(865);var $e=F(3021);var Ye=__toESM(F(6370));var Ke=F(4441);var Xe=F(9164);class CRServiceWorker extends We.Worker{constructor(b,B,F){super(b,F);this._session=B;this.browserContext=b;if(!process.env.PLAYWRIGHT_DISABLE_SERVICE_WORKER_NETWORK)this._networkManager=new ze.CRNetworkManager(null,this);B.once("Runtime.executionContextCreated",(b=>{this.createExecutionContext(new Ge.CRExecutionContext(B,b.context))}));if(this.browserContext._browser.majorVersion()>=143)B.on("Inspector.workerScriptLoaded",(()=>this.workerScriptLoaded()));else this.workerScriptLoaded();if(this._networkManager&&this._isNetworkInspectionEnabled()){this.updateRequestInterception();this.updateExtraHTTPHeaders();this.updateHttpCredentials();this.updateOffline();this._networkManager.addSession(B,void 0,true).catch((()=>{}))}B.on("Runtime.consoleAPICalled",(b=>{if(!this.existingExecutionContext||process.env.PLAYWRIGHT_DISABLE_SERVICE_WORKER_CONSOLE)return;const B=b.args.map((b=>(0,Ge.createHandle)(this.existingExecutionContext,b)));const F=new Ke.ConsoleMessage(null,this,b.type,void 0,B,(0,Xe.toConsoleMessageLocation)(b.stackTrace));this.browserContext.emit($e.BrowserContext.Events.Console,F)}));B.send("Runtime.enable",{}).catch((b=>{}));B.send("Runtime.runIfWaitingForDebugger").catch((b=>{}));B.on("Inspector.targetReloadedAfterCrash",(()=>{B._sendMayFail("Runtime.runIfWaitingForDebugger",{})}))}didClose(){this._networkManager?.removeSession(this._session);this._session.dispose();super.didClose()}async updateOffline(){if(!this._isNetworkInspectionEnabled())return;await(this._networkManager?.setOffline(!!this.browserContext._options.offline).catch((()=>{})))}async updateHttpCredentials(){if(!this._isNetworkInspectionEnabled())return;await(this._networkManager?.authenticate(this.browserContext._options.httpCredentials||null).catch((()=>{})))}async updateExtraHTTPHeaders(){if(!this._isNetworkInspectionEnabled())return;await(this._networkManager?.setExtraHTTPHeaders(this.browserContext._options.extraHTTPHeaders||[]).catch((()=>{})))}async updateRequestInterception(){if(!this._isNetworkInspectionEnabled())return;await(this._networkManager?.setRequestInterception(this.needsRequestInterception()).catch((()=>{})))}needsRequestInterception(){return this._isNetworkInspectionEnabled()&&this.browserContext.requestInterceptors.length>0}reportRequestFinished(b,B){this.browserContext.emit($e.BrowserContext.Events.RequestFinished,{request:b,response:B})}requestFailed(b,B){this.browserContext.emit($e.BrowserContext.Events.RequestFailed,b)}requestReceivedResponse(b){this.browserContext.emit($e.BrowserContext.Events.Response,b)}requestStarted(b,B){this.browserContext.emit($e.BrowserContext.Events.Request,b);if(B)new Ye.Route(b,B).handle(this.browserContext.requestInterceptors)}_isNetworkInspectionEnabled(){return this.browserContext._options.serviceWorkers!=="block"}}0&&0},9417:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{platformToFontFamilies:()=>Qe});b.exports=__toCommonJS(oe);const Qe={linux:{fontFamilies:{standard:"Times New Roman",fixed:"Monospace",serif:"Times New Roman",sansSerif:"Arial",cursive:"Comic Sans MS",fantasy:"Impact"}},mac:{fontFamilies:{standard:"Times",fixed:"Courier",serif:"Times",sansSerif:"Helvetica",cursive:"Apple Chancery",fantasy:"Papyrus"},forScripts:[{script:"jpan",fontFamilies:{standard:"Hiragino Kaku Gothic ProN",fixed:"Osaka-Mono",serif:"Hiragino Mincho ProN",sansSerif:"Hiragino Kaku Gothic ProN"}},{script:"hang",fontFamilies:{standard:"Apple SD Gothic Neo",serif:"AppleMyungjo",sansSerif:"Apple SD Gothic Neo"}},{script:"hans",fontFamilies:{standard:",PingFang SC,STHeiti",serif:"Songti SC",sansSerif:",PingFang SC,STHeiti",cursive:"Kaiti SC"}},{script:"hant",fontFamilies:{standard:",PingFang TC,Heiti TC",serif:"Songti TC",sansSerif:",PingFang TC,Heiti TC",cursive:"Kaiti TC"}}]},win:{fontFamilies:{standard:"Times New Roman",fixed:"Consolas",serif:"Times New Roman",sansSerif:"Arial",cursive:"Comic Sans MS",fantasy:"Impact"},forScripts:[{script:"cyrl",fontFamilies:{standard:"Times New Roman",fixed:"Courier New",serif:"Times New Roman",sansSerif:"Arial"}},{script:"arab",fontFamilies:{fixed:"Courier New",sansSerif:"Segoe UI"}},{script:"grek",fontFamilies:{standard:"Times New Roman",fixed:"Courier New",serif:"Times New Roman",sansSerif:"Arial"}},{script:"jpan",fontFamilies:{standard:",Meiryo,Yu Gothic",fixed:"MS Gothic",serif:",Yu Mincho,MS PMincho",sansSerif:",Meiryo,Yu Gothic"}},{script:"hang",fontFamilies:{standard:"Malgun Gothic",fixed:"Gulimche",serif:"Batang",sansSerif:"Malgun Gothic",cursive:"Gungsuh"}},{script:"hans",fontFamilies:{standard:"Microsoft YaHei",fixed:"NSimsun",serif:"Simsun",sansSerif:"Microsoft YaHei",cursive:"KaiTi"}},{script:"hant",fontFamilies:{standard:"Microsoft JhengHei",fixed:"MingLiU",serif:"PMingLiU",sansSerif:"Microsoft JhengHei",cursive:"DFKai-SB"}}]}};0&&0},8320:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{VideoRecorder:()=>VideoRecorder});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(45);var We=F(8307);const Ge=25;class VideoRecorder{constructor(b,B){this._process=null;this._gracefullyClose=null;this._lastWritePromise=Promise.resolve();this._firstFrameTimestamp=0;this._lastFrame=null;this._lastWriteNodeTime=0;this._frameQueue=[];this._isStopped=false;this._ffmpegPath=B;b.on(Le.Page.Events.ScreencastFrame,(b=>this.writeFrame(b.buffer,b.frameSwapWallTime/1e3)))}static async launch(b,B,F){if(!F.outputFile.endsWith(".webm"))throw new Error("File must have .webm extension");const K=new VideoRecorder(b,B);await K._launch(F);return K}async _launch(b){const B=b.width;const F=b.height;const K=`-loglevel error -f image2pipe -avioflags direct -fpsprobesize 0 -probesize 32 -analyzeduration 0 -c:v mjpeg -i pipe:0 -y -an -r ${Ge} -c:v vp8 -qmin 0 -qmax 50 -crf 8 -deadline realtime -speed 8 -b:v 1M -threads 1 -vf pad=${B}:${F}:0:0:gray,crop=${B}:${F}:0:0`.split(" ");K.push(b.outputFile);const{launchedProcess:se,gracefullyClose:oe}=await(0,We.launchProcess)({command:this._ffmpegPath,args:K,stdio:"stdin",log:b=>Me.debugLogger.log("browser",b),tempDirectories:[],attemptToGracefullyClose:async()=>{Me.debugLogger.log("browser","Closing stdin...");se.stdin.end()},onExit:(b,B)=>{Me.debugLogger.log("browser",`ffmpeg onkill exitCode=${b} signal=${B}`)}});se.stdin.on("finish",(()=>{Me.debugLogger.log("browser","ffmpeg finished input.")}));se.stdin.on("error",(()=>{Me.debugLogger.log("browser","ffmpeg error.")}));this._process=se;this._gracefullyClose=oe}writeFrame(b,B){(0,Me.assert)(this._process);if(this._isStopped)return;if(!this._firstFrameTimestamp)this._firstFrameTimestamp=B;const F=Math.floor((B-this._firstFrameTimestamp)*Ge);if(this._lastFrame){const b=F-this._lastFrame.frameNumber;for(let B=0;B<b;++B)this._frameQueue.push(this._lastFrame.buffer);this._lastWritePromise=this._lastWritePromise.then((()=>this._sendFrames()))}this._lastFrame={buffer:b,timestamp:B,frameNumber:F};this._lastWriteNodeTime=(0,Me.monotonicTime)()}async _sendFrames(){while(this._frameQueue.length)await this._sendFrame(this._frameQueue.shift())}async _sendFrame(b){return new Promise((B=>this._process.stdin.write(b,B))).then((b=>{if(b)Me.debugLogger.log("browser",`ffmpeg failed to write: ${String(b)}`)}))}async stop(){if(this._isStopped||!this._lastFrame)return;const b=Math.max(((0,Me.monotonicTime)()-this._lastWriteNodeTime)/1e3,1);this.writeFrame(Buffer.from([]),this._lastFrame.timestamp+b);this._isStopped=true;await this._lastWritePromise;await this._gracefullyClose()}}0&&0},154:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Clock:()=>Clock});b.exports=__toCommonJS(Le);var We=__toESM(F(3219));class Clock{constructor(b){this._initScripts=[];this._browserContext=b}async uninstall(b){await b.race(this._browserContext.removeInitScripts(this._initScripts));this._initScripts=[]}async fastForward(b,B){await this._installIfNeeded(b);const F=parseTicks(B);this._initScripts.push(await this._browserContext.addInitScript(b,`globalThis.__pwClock.controller.log('fastForward', ${Date.now()}, ${F})`));await b.race(this._evaluateInFrames(`globalThis.__pwClock.controller.fastForward(${F})`))}async install(b,B){await this._installIfNeeded(b);const F=B!==void 0?parseTime(B):Date.now();this._initScripts.push(await this._browserContext.addInitScript(b,`globalThis.__pwClock.controller.log('install', ${Date.now()}, ${F})`));await b.race(this._evaluateInFrames(`globalThis.__pwClock.controller.install(${F})`))}async pauseAt(b,B){await this._installIfNeeded(b);const F=parseTime(B);this._initScripts.push(await this._browserContext.addInitScript(b,`globalThis.__pwClock.controller.log('pauseAt', ${Date.now()}, ${F})`));await b.race(this._evaluateInFrames(`globalThis.__pwClock.controller.pauseAt(${F})`))}resumeNoReply(){if(!this._initScripts.length)return;const doResume=async()=>{this._initScripts.push(await this._browserContext.addInitScript(void 0,`globalThis.__pwClock.controller.log('resume', ${Date.now()})`));await this._evaluateInFrames(`globalThis.__pwClock.controller.resume()`)};doResume().catch((()=>{}))}async resume(b){await this._installIfNeeded(b);this._initScripts.push(await this._browserContext.addInitScript(b,`globalThis.__pwClock.controller.log('resume', ${Date.now()})`));await b.race(this._evaluateInFrames(`globalThis.__pwClock.controller.resume()`))}async setFixedTime(b,B){await this._installIfNeeded(b);const F=parseTime(B);this._initScripts.push(await this._browserContext.addInitScript(b,`globalThis.__pwClock.controller.log('setFixedTime', ${Date.now()}, ${F})`));await b.race(this._evaluateInFrames(`globalThis.__pwClock.controller.setFixedTime(${F})`))}async setSystemTime(b,B){await this._installIfNeeded(b);const F=parseTime(B);this._initScripts.push(await this._browserContext.addInitScript(b,`globalThis.__pwClock.controller.log('setSystemTime', ${Date.now()}, ${F})`));await b.race(this._evaluateInFrames(`globalThis.__pwClock.controller.setSystemTime(${F})`))}async runFor(b,B){await this._installIfNeeded(b);const F=parseTicks(B);this._initScripts.push(await this._browserContext.addInitScript(b,`globalThis.__pwClock.controller.log('runFor', ${Date.now()}, ${F})`));await b.race(this._evaluateInFrames(`globalThis.__pwClock.controller.runFor(${F})`))}async _installIfNeeded(b){if(this._initScripts.length)return;const B=`(() => {\n      const module = {};\n      ${We.source}\n      if (!globalThis.__pwClock)\n        globalThis.__pwClock = (module.exports.inject())(globalThis);\n    })();`;const F=await this._browserContext.addInitScript(b,B);await b.race(this._evaluateInFrames(B));this._initScripts.push(F)}async _evaluateInFrames(b){await this._browserContext.safeNonStallingEvaluateInAllFrames(b,"main",{throwOnJSErrors:true})}}function parseTicks(b){if(typeof b==="number")return b;if(!b)return 0;const B=b;const F=B.split(":");const K=F.length;let se=K;let oe=0;let Qe;if(K>3||!/^(\d\d:){0,2}\d\d?$/.test(B)){throw new Error(`Clock only understands numbers, 'mm:ss' and 'hh:mm:ss'`)}while(se--){Qe=parseInt(F[se],10);if(Qe>=60)throw new Error(`Invalid time ${B}`);oe+=Qe*Math.pow(60,K-se-1)}return oe*1e3}function parseTime(b){if(!b)return 0;if(typeof b==="number")return b;const B=new Date(b);if(!isFinite(B.getTime()))throw new Error(`Invalid date: ${b}`);return B.getTime()}0&&0},5767:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{CSharpLanguageGenerator:()=>CSharpLanguageGenerator});b.exports=__toCommonJS(Re);var Me=F(9282);var Le=F(3143);var We=F(7332);class CSharpLanguageGenerator{constructor(b){this.groupName=".NET C#";this.highlighter="csharp";if(b==="library"){this.name="Library";this.id="csharp"}else if(b==="mstest"){this.name="MSTest";this.id="csharp-mstest"}else if(b==="nunit"){this.name="NUnit";this.id="csharp-nunit"}else{throw new Error(`Unknown C# language mode: ${b}`)}this._mode=b}generateAction(b){const B=this._generateActionInner(b);if(B)return B;return""}_generateActionInner(b){const B=b.action;if(this._mode!=="library"&&(B.name==="openPage"||B.name==="closePage"))return"";const F=this._formatPageAlias(b.frame.pageAlias);const K=new CSharpFormatter(this._mode==="library"?0:8);if(B.name==="openPage"){K.add(`var ${F} = await context.NewPageAsync();`);if(B.url&&B.url!=="about:blank"&&B.url!=="chrome://newtab/")K.add(`await ${F}.GotoAsync(${quote(B.url)});`);return K.format()}const se=b.frame.framePath.map((b=>`.${this._asLocator(b)}.ContentFrame`));const oe=`${F}${se.join("")}`;const Qe=(0,Me.toSignalMap)(B);if(Qe.dialog){K.add(`    void ${F}_Dialog${Qe.dialog.dialogAlias}_EventHandler(object sender, IDialog dialog)\n      {\n          Console.WriteLine($"Dialog message: {dialog.Message}");\n          dialog.DismissAsync();\n          ${F}.Dialog -= ${F}_Dialog${Qe.dialog.dialogAlias}_EventHandler;\n      }\n      ${F}.Dialog += ${F}_Dialog${Qe.dialog.dialogAlias}_EventHandler;`)}const Re=[];Re.push(this._generateActionCall(oe,b));if(Qe.download){Re.unshift(`var download${Qe.download.downloadAlias} = await ${F}.RunAndWaitForDownloadAsync(async () =>\n{`);Re.push(`});`)}if(Qe.popup){Re.unshift(`var ${this._formatPageAlias(Qe.popup.popupAlias)} = await ${F}.RunAndWaitForPopupAsync(async () =>\n{`);Re.push(`});`)}for(const b of Re)K.add(b);return K.format()}_formatPageAlias(b){if(this._mode==="library")return b;if(b==="page")return"Page";return b}_generateActionCall(b,B){const F=B.action;switch(F.name){case"openPage":throw Error("Not reached");case"closePage":return`await ${b}.CloseAsync();`;case"click":{let B="Click";if(F.clickCount===2)B="DblClick";const K=(0,Me.toClickOptionsForSourceCode)(F);if(!Object.entries(K).length)return`await ${b}.${this._asLocator(F.selector)}.${B}Async();`;const se=formatObject(K,"    ");return`await ${b}.${this._asLocator(F.selector)}.${B}Async(${se});`}case"hover":{const B=F.position?formatObject({position:F.position},"    "):"";return`await ${b}.${this._asLocator(F.selector)}.HoverAsync(${B});`}case"check":return`await ${b}.${this._asLocator(F.selector)}.CheckAsync();`;case"uncheck":return`await ${b}.${this._asLocator(F.selector)}.UncheckAsync();`;case"fill":return`await ${b}.${this._asLocator(F.selector)}.FillAsync(${quote(F.text)});`;case"setInputFiles":return`await ${b}.${this._asLocator(F.selector)}.SetInputFilesAsync(${formatObject(F.files)});`;case"press":{const B=(0,Me.toKeyboardModifiers)(F.modifiers);const K=[...B,F.key].join("+");return`await ${b}.${this._asLocator(F.selector)}.PressAsync(${quote(K)});`}case"navigate":return`await ${b}.GotoAsync(${quote(F.url)});`;case"select":return`await ${b}.${this._asLocator(F.selector)}.SelectOptionAsync(${formatObject(F.options)});`;case"assertText":return`await Expect(${b}.${this._asLocator(F.selector)}).${F.substring?"ToContainTextAsync":"ToHaveTextAsync"}(${quote(F.text)});`;case"assertChecked":return`await Expect(${b}.${this._asLocator(F.selector)})${F.checked?"":".Not"}.ToBeCheckedAsync();`;case"assertVisible":return`await Expect(${b}.${this._asLocator(F.selector)}).ToBeVisibleAsync();`;case"assertValue":{const B=F.value?`ToHaveValueAsync(${quote(F.value)})`:`ToBeEmptyAsync()`;return`await Expect(${b}.${this._asLocator(F.selector)}).${B};`}case"assertSnapshot":return`await Expect(${b}.${this._asLocator(F.selector)}).ToMatchAriaSnapshotAsync(${quote(F.ariaSnapshot)});`}}_asLocator(b){return(0,Le.asLocator)("csharp",b)}generateHeader(b){if(this._mode==="library")return this.generateStandaloneHeader(b);return this.generateTestRunnerHeader(b)}generateStandaloneHeader(b){const B=new CSharpFormatter(0);B.add(`\n      using Microsoft.Playwright;\n      using System;\n      using System.Threading.Tasks;\n\n      using var playwright = await Playwright.CreateAsync();\n      await using var browser = await playwright.${toPascal(b.browserName)}.LaunchAsync(${formatObject(b.launchOptions,"    ")});\n      var context = await browser.NewContextAsync(${formatContextOptions(b.contextOptions,b.deviceName)});`);if(b.contextOptions.recordHar){const F=b.contextOptions.recordHar.urlFilter;B.add(`      await context.RouteFromHARAsync(${quote(b.contextOptions.recordHar.path)}${F?`, ${formatObject({url:F},"    ")}`:""});`)}B.newLine();return B.format()}generateTestRunnerHeader(b){const B=new CSharpFormatter(0);B.add(`\n      using Microsoft.Playwright.${this._mode==="nunit"?"NUnit":"MSTest"};\n      using Microsoft.Playwright;\n\n      ${this._mode==="nunit"?`[Parallelizable(ParallelScope.Self)]\n      [TestFixture]`:"[TestClass]"}\n      public class Tests : PageTest\n      {`);const F=formatContextOptions(b.contextOptions,b.deviceName);if(F){B.add(`public override BrowserNewContextOptions ContextOptions()\n      {\n          return ${F};\n      }`);B.newLine()}B.add(`    [${this._mode==="nunit"?"Test":"TestMethod"}]\n    public async Task MyTest()\n    {`);if(b.contextOptions.recordHar){const F=b.contextOptions.recordHar.urlFilter;B.add(`    await Context.RouteFromHARAsync(${quote(b.contextOptions.recordHar.path)}${F?`, ${formatObject({url:F},"    ")}`:""});`)}return B.format()}generateFooter(b){const B=this._mode==="library"?"":"        ";let F=b?`\n${B}await context.StorageStateAsync(new()\n${B}{\n${B}    Path = ${quote(b)}\n${B}});\n`:"";if(this._mode!=="library")F+=`    }\n}\n`;return F}}function formatObject(b,B="    ",F=""){if(typeof b==="string"){if(["colorScheme","modifiers","button","recordHarContent","recordHarMode","serviceWorkers"].includes(F))return`${getEnumName(F)}.${toPascal(b)}`;return quote(b)}if(Array.isArray(b))return`new[] { ${b.map((b=>formatObject(b,B,F))).join(", ")} }`;if(typeof b==="object"){const F=Object.keys(b).filter((B=>b[B]!==void 0)).sort();if(!F.length)return`new()`;const K=[];for(const se of F){const F=getPropertyName(se);K.push(`${F} = ${formatObject(b[se],B,se)},`)}return`new()\n{\n${B}${K.join(`\n${B}`)}\n${B}}`}if(F==="latitude"||F==="longitude")return String(b)+"m";return String(b)}function getEnumName(b){switch(b){case"modifiers":return"KeyboardModifier";case"button":return"MouseButton";case"recordHarMode":return"HarMode";case"recordHarContent":return"HarContentPolicy";case"serviceWorkers":return"ServiceWorkerPolicy";default:return toPascal(b)}}function getPropertyName(b){switch(b){case"storageState":return"StorageStatePath";case"viewport":return"ViewportSize";default:return toPascal(b)}}function toPascal(b){return b[0].toUpperCase()+b.slice(1)}function formatContextOptions(b,B){const F={...b};delete F.recordHar;const K=B&&We.deviceDescriptors[B];if(!K){if(!Object.entries(F).length)return"";return formatObject(F,"    ")}if(!Object.entries((0,Me.sanitizeDeviceOptions)(K,F)).length)return`playwright.Devices[${quote(B)}]`;delete F["defaultBrowserType"];return formatObject(F,"    ")}class CSharpFormatter{constructor(b=0){this._lines=[];this._baseIndent=" ".repeat(4);this._baseOffset=" ".repeat(b)}prepend(b){this._lines=b.trim().split("\n").map((b=>b.trim())).concat(this._lines)}add(b){this._lines.push(...b.trim().split("\n").map((b=>b.trim())))}newLine(){this._lines.push("")}format(){let b="";let B="";return this._lines.map((F=>{if(F==="")return F;if(F.startsWith("}")||F.startsWith("]")||F.includes("});")||F===");")b=b.substring(this._baseIndent.length);const K=/^(for|while|if).*\(.*\)$/.test(B)?this._baseIndent:"";B=F;F=b+K+F;if(F.endsWith("{")||F.endsWith("[")||F.endsWith("("))b+=this._baseIndent;if(F.endsWith("));"))b=b.substring(this._baseIndent.length);return this._baseOffset+F})).join("\n")}}function quote(b){return(0,Le.escapeWithQuotes)(b,'"')}0&&0},5084:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{JavaLanguageGenerator:()=>JavaLanguageGenerator});b.exports=__toCommonJS(Re);var Me=F(9282);var Le=F(7332);var We=F(4511);var Ge=F(3143);class JavaLanguageGenerator{constructor(b){this.groupName="Java";this.highlighter="java";if(b==="library"){this.name="Library";this.id="java"}else if(b==="junit"){this.name="JUnit";this.id="java-junit"}else{throw new Error(`Unknown Java language mode: ${b}`)}this._mode=b}generateAction(b){const B=b.action;const F=b.frame.pageAlias;const K=this._mode==="junit"?4:6;const se=new We.JavaScriptFormatter(K);if(this._mode!=="library"&&(B.name==="openPage"||B.name==="closePage"))return"";if(B.name==="openPage"){se.add(`Page ${F} = context.newPage();`);if(B.url&&B.url!=="about:blank"&&B.url!=="chrome://newtab/")se.add(`${F}.navigate(${quote(B.url)});`);return se.format()}const oe=b.frame.framePath.map((b=>`.${this._asLocator(b,false)}.contentFrame()`));const Qe=`${F}${oe.join("")}`;const Re=(0,Me.toSignalMap)(B);if(Re.dialog){se.add(`  ${F}.onceDialog(dialog -> {\n        System.out.println(String.format("Dialog message: %s", dialog.message()));\n        dialog.dismiss();\n      });`)}let Le=this._generateActionCall(Qe,b,!!b.frame.framePath.length);if(Re.popup){Le=`Page ${Re.popup.popupAlias} = ${F}.waitForPopup(() -> {\n        ${Le}\n      });`}if(Re.download){Le=`Download download${Re.download.downloadAlias} = ${F}.waitForDownload(() -> {\n        ${Le}\n      });`}se.add(Le);return se.format()}_generateActionCall(b,B,F){const K=B.action;switch(K.name){case"openPage":throw Error("Not reached");case"closePage":return`${b}.close();`;case"click":{let B="click";if(K.clickCount===2)B="dblclick";const se=(0,Me.toClickOptionsForSourceCode)(K);const oe=formatClickOptions(se);return`${b}.${this._asLocator(K.selector,F)}.${B}(${oe});`}case"hover":{const B=K.position?`new Locator.HoverOptions().setPosition(${K.position.x}, ${K.position.y})`:"";return`${b}.${this._asLocator(K.selector,F)}.hover(${B});`}case"check":return`${b}.${this._asLocator(K.selector,F)}.check();`;case"uncheck":return`${b}.${this._asLocator(K.selector,F)}.uncheck();`;case"fill":return`${b}.${this._asLocator(K.selector,F)}.fill(${quote(K.text)});`;case"setInputFiles":return`${b}.${this._asLocator(K.selector,F)}.setInputFiles(${formatPath(K.files.length===1?K.files[0]:K.files)});`;case"press":{const B=(0,Me.toKeyboardModifiers)(K.modifiers);const se=[...B,K.key].join("+");return`${b}.${this._asLocator(K.selector,F)}.press(${quote(se)});`}case"navigate":return`${b}.navigate(${quote(K.url)});`;case"select":return`${b}.${this._asLocator(K.selector,F)}.selectOption(${formatSelectOption(K.options.length===1?K.options[0]:K.options)});`;case"assertText":return`assertThat(${b}.${this._asLocator(K.selector,F)}).${K.substring?"containsText":"hasText"}(${quote(K.text)});`;case"assertChecked":return`assertThat(${b}.${this._asLocator(K.selector,F)})${K.checked?"":".not()"}.isChecked();`;case"assertVisible":return`assertThat(${b}.${this._asLocator(K.selector,F)}).isVisible();`;case"assertValue":{const B=K.value?`hasValue(${quote(K.value)})`:`isEmpty()`;return`assertThat(${b}.${this._asLocator(K.selector,F)}).${B};`}case"assertSnapshot":return`assertThat(${b}.${this._asLocator(K.selector,F)}).matchesAriaSnapshot(${quote(K.ariaSnapshot)});`}}_asLocator(b,B){return(0,Ge.asLocator)("java",b,B)}generateHeader(b){const B=new We.JavaScriptFormatter;if(this._mode==="junit"){B.add(`\n      import com.microsoft.playwright.junit.UsePlaywright;\n      import com.microsoft.playwright.Page;\n      import com.microsoft.playwright.options.*;\n\n      ${b.contextOptions.recordHar?`import java.nio.file.Paths;\n`:""}import org.junit.jupiter.api.*;\n      import static com.microsoft.playwright.assertions.PlaywrightAssertions.*;\n\n      @UsePlaywright\n      public class TestExample {\n        @Test\n        void test(Page page) {`);if(b.contextOptions.recordHar){const F=b.contextOptions.recordHar.urlFilter;const K=typeof F==="string"?`, new Page.RouteFromHAROptions()\n            .setUrl(${quote(F)})`:"";B.add(`          page.routeFromHAR(Paths.get(${quote(b.contextOptions.recordHar.path)})${K});`)}return B.format()}B.add(`\n    import com.microsoft.playwright.*;\n    import com.microsoft.playwright.options.*;\n    import static com.microsoft.playwright.assertions.PlaywrightAssertions.assertThat;\n    ${b.contextOptions.recordHar?`import java.nio.file.Paths;\n`:""}import java.util.*;\n\n    public class Example {\n      public static void main(String[] args) {\n        try (Playwright playwright = Playwright.create()) {\n          Browser browser = playwright.${b.browserName}().launch(${formatLaunchOptions(b.launchOptions)});\n          BrowserContext context = browser.newContext(${formatContextOptions(b.contextOptions,b.deviceName)});`);if(b.contextOptions.recordHar){const F=b.contextOptions.recordHar.urlFilter;const K=typeof F==="string"?`, new BrowserContext.RouteFromHAROptions()\n          .setUrl(${quote(F)})`:"";B.add(`          context.routeFromHAR(Paths.get(${quote(b.contextOptions.recordHar.path)})${K});`)}return B.format()}generateFooter(b){const B=b?`\n      context.storageState(new BrowserContext.StorageStateOptions().setPath(${quote(b)}));\n`:"";if(this._mode==="junit"){return`${B}  }\n}`}return`${B}    }\n  }\n}`}}function formatPath(b){if(Array.isArray(b)){if(b.length===0)return"new Path[0]";return`new Path[] {${b.map((b=>"Paths.get("+quote(b)+")")).join(", ")}}`}return`Paths.get(${quote(b)})`}function formatSelectOption(b){if(Array.isArray(b)){if(b.length===0)return"new String[0]";return`new String[] {${b.map((b=>quote(b))).join(", ")}}`}return quote(b)}function formatLaunchOptions(b){const B=[];if(!Object.keys(b).filter((B=>b[B]!==void 0)).length)return"";B.push("new BrowserType.LaunchOptions()");if(b.channel)B.push(`  .setChannel(${quote(b.channel)})`);if(typeof b.headless==="boolean")B.push(`  .setHeadless(false)`);return B.join("\n")}function formatContextOptions(b,B){const F=[];if(!Object.keys(b).length&&!B)return"";const K=B?Le.deviceDescriptors[B]:{};const se={...K,...b};F.push("new Browser.NewContextOptions()");if(se.acceptDownloads)F.push(`  .setAcceptDownloads(true)`);if(se.bypassCSP)F.push(`  .setBypassCSP(true)`);if(se.colorScheme)F.push(`  .setColorScheme(ColorScheme.${se.colorScheme.toUpperCase()})`);if(se.deviceScaleFactor)F.push(`  .setDeviceScaleFactor(${se.deviceScaleFactor})`);if(se.geolocation)F.push(`  .setGeolocation(${se.geolocation.latitude}, ${se.geolocation.longitude})`);if(se.hasTouch)F.push(`  .setHasTouch(${se.hasTouch})`);if(se.isMobile)F.push(`  .setIsMobile(${se.isMobile})`);if(se.locale)F.push(`  .setLocale(${quote(se.locale)})`);if(se.proxy)F.push(`  .setProxy(new Proxy(${quote(se.proxy.server)}))`);if(se.serviceWorkers)F.push(`  .setServiceWorkers(ServiceWorkerPolicy.${se.serviceWorkers.toUpperCase()})`);if(se.storageState)F.push(`  .setStorageStatePath(Paths.get(${quote(se.storageState)}))`);if(se.timezoneId)F.push(`  .setTimezoneId(${quote(se.timezoneId)})`);if(se.userAgent)F.push(`  .setUserAgent(${quote(se.userAgent)})`);if(se.viewport)F.push(`  .setViewportSize(${se.viewport.width}, ${se.viewport.height})`);return F.join("\n")}function formatClickOptions(b){const B=[];if(b.button)B.push(`  .setButton(MouseButton.${b.button.toUpperCase()})`);if(b.modifiers)B.push(`  .setModifiers(Arrays.asList(${b.modifiers.map((b=>`KeyboardModifier.${b.toUpperCase()}`)).join(", ")}))`);if(b.clickCount)B.push(`  .setClickCount(${b.clickCount})`);if(b.position)B.push(`  .setPosition(${b.position.x}, ${b.position.y})`);if(!B.length)return"";B.unshift(`new Locator.ClickOptions()`);return B.join("\n")}function quote(b){return(0,Ge.escapeWithQuotes)(b,'"')}0&&0},4511:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{JavaScriptFormatter:()=>JavaScriptFormatter,JavaScriptLanguageGenerator:()=>JavaScriptLanguageGenerator,quoteMultiline:()=>quoteMultiline});b.exports=__toCommonJS(Re);var Me=F(9282);var Le=F(3143);var We=F(7332);class JavaScriptLanguageGenerator{constructor(b){this.groupName="Node.js";this.highlighter="javascript";this.id=b?"playwright-test":"javascript";this.name=b?"Test Runner":"Library";this._isTest=b}generateAction(b){const B=b.action;if(this._isTest&&(B.name==="openPage"||B.name==="closePage"))return"";const F=b.frame.pageAlias;const K=new JavaScriptFormatter(2);if(B.name==="openPage"){K.add(`const ${F} = await context.newPage();`);if(B.url&&B.url!=="about:blank"&&B.url!=="chrome://newtab/")K.add(`await ${F}.goto(${quote(B.url)});`);return K.format()}const se=b.frame.framePath.map((b=>`.${this._asLocator(b)}.contentFrame()`));const oe=`${F}${se.join("")}`;const Qe=(0,Me.toSignalMap)(B);if(Qe.dialog){K.add(`  ${F}.once('dialog', dialog => {\n    console.log(\`Dialog message: \${dialog.message()}\`);\n    dialog.dismiss().catch(() => {});\n  });`)}if(Qe.popup)K.add(`const ${Qe.popup.popupAlias}Promise = ${F}.waitForEvent('popup');`);if(Qe.download)K.add(`const download${Qe.download.downloadAlias}Promise = ${F}.waitForEvent('download');`);K.add(wrapWithStep(b.description,this._generateActionCall(oe,b)));if(Qe.popup)K.add(`const ${Qe.popup.popupAlias} = await ${Qe.popup.popupAlias}Promise;`);if(Qe.download)K.add(`const download${Qe.download.downloadAlias} = await download${Qe.download.downloadAlias}Promise;`);return K.format()}_generateActionCall(b,B){const F=B.action;switch(F.name){case"openPage":throw Error("Not reached");case"closePage":return`await ${b}.close();`;case"click":{let B="click";if(F.clickCount===2)B="dblclick";const K=(0,Me.toClickOptionsForSourceCode)(F);const se=formatOptions(K,false);return`await ${b}.${this._asLocator(F.selector)}.${B}(${se});`}case"hover":return`await ${b}.${this._asLocator(F.selector)}.hover(${formatOptions({position:F.position},false)});`;case"check":return`await ${b}.${this._asLocator(F.selector)}.check();`;case"uncheck":return`await ${b}.${this._asLocator(F.selector)}.uncheck();`;case"fill":return`await ${b}.${this._asLocator(F.selector)}.fill(${quote(F.text)});`;case"setInputFiles":return`await ${b}.${this._asLocator(F.selector)}.setInputFiles(${formatObject(F.files.length===1?F.files[0]:F.files)});`;case"press":{const B=(0,Me.toKeyboardModifiers)(F.modifiers);const K=[...B,F.key].join("+");return`await ${b}.${this._asLocator(F.selector)}.press(${quote(K)});`}case"navigate":return`await ${b}.goto(${quote(F.url)});`;case"select":return`await ${b}.${this._asLocator(F.selector)}.selectOption(${formatObject(F.options.length===1?F.options[0]:F.options)});`;case"assertText":return`${this._isTest?"":"// "}await expect(${b}.${this._asLocator(F.selector)}).${F.substring?"toContainText":"toHaveText"}(${quote(F.text)});`;case"assertChecked":return`${this._isTest?"":"// "}await expect(${b}.${this._asLocator(F.selector)})${F.checked?"":".not"}.toBeChecked();`;case"assertVisible":return`${this._isTest?"":"// "}await expect(${b}.${this._asLocator(F.selector)}).toBeVisible();`;case"assertValue":{const B=F.value?`toHaveValue(${quote(F.value)})`:`toBeEmpty()`;return`${this._isTest?"":"// "}await expect(${b}.${this._asLocator(F.selector)}).${B};`}case"assertSnapshot":{const B=this._isTest?"":"// ";return`${B}await expect(${b}.${this._asLocator(F.selector)}).toMatchAriaSnapshot(${quoteMultiline(F.ariaSnapshot,`${B}  `)});`}}}_asLocator(b){return(0,Le.asLocator)("javascript",b)}generateHeader(b){if(this._isTest)return this.generateTestHeader(b);return this.generateStandaloneHeader(b)}generateFooter(b){if(this._isTest)return this.generateTestFooter(b);return this.generateStandaloneFooter(b)}generateTestHeader(b){const B=new JavaScriptFormatter;const F=formatContextOptions(b.contextOptions,b.deviceName,this._isTest);B.add(`\n      import { test, expect${b.deviceName?", devices":""} } from '@playwright/test';\n${F?"\ntest.use("+F+");\n":""}\n      test('test', async ({ page }) => {`);if(b.contextOptions.recordHar){const F=b.contextOptions.recordHar.urlFilter;B.add(`  await page.routeFromHAR(${quote(b.contextOptions.recordHar.path)}${F?`, ${formatOptions({url:F},false)}`:""});`)}return B.format()}generateTestFooter(b){return`});`}generateStandaloneHeader(b){const B=new JavaScriptFormatter;B.add(`\n      const { ${b.browserName}${b.deviceName?", devices":""} } = require('playwright');\n\n      (async () => {\n        const browser = await ${b.browserName}.launch(${formatObjectOrVoid(b.launchOptions)});\n        const context = await browser.newContext(${formatContextOptions(b.contextOptions,b.deviceName,false)});`);if(b.contextOptions.recordHar)B.add(`        await context.routeFromHAR(${quote(b.contextOptions.recordHar.path)});`);return B.format()}generateStandaloneFooter(b){const B=b?`\n  await context.storageState({ path: ${quote(b)} });`:"";return`\n  // ---------------------${B}\n  await context.close();\n  await browser.close();\n})();`}}function formatOptions(b,B){const F=Object.keys(b).filter((B=>b[B]!==void 0));if(!F.length)return"";return(B?", ":"")+formatObject(b)}function formatObject(b,B="  "){if(typeof b==="string")return quote(b);if(Array.isArray(b))return`[${b.map((b=>formatObject(b))).join(", ")}]`;if(typeof b==="object"){const F=Object.keys(b).filter((B=>b[B]!==void 0)).sort();if(!F.length)return"{}";const K=[];for(const B of F)K.push(`${B}: ${formatObject(b[B])}`);return`{\n${B}${K.join(`,\n${B}`)}\n}`}return String(b)}function formatObjectOrVoid(b,B="  "){const F=formatObject(b,B);return F==="{}"?"":F}function formatContextOptions(b,B,F){const K=B&&We.deviceDescriptors[B];b={...b,recordHar:void 0};if(!K)return formatObjectOrVoid(b);let se=formatObjectOrVoid((0,Me.sanitizeDeviceOptions)(K,b));if(!se)se="{\n}";const oe=se.split("\n");oe.splice(1,0,`...devices[${quote(B)}],`);return oe.join("\n")}class JavaScriptFormatter{constructor(b=0){this._lines=[];this._baseIndent=" ".repeat(2);this._baseOffset=" ".repeat(b)}prepend(b){const B=isMultilineString(b)?b=>b:b=>b.trim();this._lines=b.trim().split("\n").map(B).concat(this._lines)}add(b){const B=isMultilineString(b)?b=>b:b=>b.trim();this._lines.push(...b.trim().split("\n").map(B))}newLine(){this._lines.push("")}format(){let b="";let B="";return this._lines.map((F=>{if(F==="")return F;if(F.startsWith("}")||F.startsWith("]"))b=b.substring(this._baseIndent.length);const K=/^(for|while|if|try).*\(.*\)$/.test(B)?this._baseIndent:"";B=F;const se=F.startsWith(".set");F=b+K+(se?this._baseIndent:"")+F;if(F.endsWith("{")||F.endsWith("["))b+=this._baseIndent;return this._baseOffset+F})).join("\n")}}function quote(b){return(0,Le.escapeWithQuotes)(b,"'")}function wrapWithStep(b,B){return b?`await test.step(\`${b}\`, async () => {\n${B}\n});`:B}function quoteMultiline(b,B="  "){const escape=b=>b.replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/\$\{/g,"\\${");const F=b.split("\n");if(F.length===1)return"`"+escape(b)+"`";return"`\n"+F.map((b=>B+escape(b).replace(/\${/g,"\\${"))).join("\n")+`\n${B}\``}function isMultilineString(b){return b.match(/`[\S\s]*`/)?.[0].includes("\n")}0&&0},7808:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{JsonlLanguageGenerator:()=>JsonlLanguageGenerator});b.exports=__toCommonJS(Re);var Me=F(3143);class JsonlLanguageGenerator{constructor(){this.id="jsonl";this.groupName="";this.name="JSONL";this.highlighter="javascript"}generateAction(b){const B=b.action.selector?JSON.parse((0,Me.asLocator)("jsonl",b.action.selector)):void 0;const F={...b.action,...b.frame,locator:B,ariaSnapshot:void 0};return JSON.stringify(F)}generateHeader(b){return JSON.stringify(b)}generateFooter(b){return""}}0&&0},9282:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{fromKeyboardModifiers:()=>fromKeyboardModifiers,generateCode:()=>generateCode,sanitizeDeviceOptions:()=>sanitizeDeviceOptions,toClickOptionsForSourceCode:()=>toClickOptionsForSourceCode,toKeyboardModifiers:()=>toKeyboardModifiers,toSignalMap:()=>toSignalMap});b.exports=__toCommonJS(oe);function generateCode(b,B,F){const K=B.generateHeader(F);const se=B.generateFooter(F.saveStorage);const oe=b.map((b=>generateActionText(B,b,!!F.generateAutoExpect))).filter(Boolean);const Qe=[K,...oe,se].join("\n");return{header:K,footer:se,actionTexts:oe,text:Qe}}function generateActionText(b,B,F){let K=b.generateAction(B);if(!K)return;if(F&&B.action.preconditionSelector){const F={frame:B.frame,startTime:B.startTime,endTime:B.startTime,action:{name:"assertVisible",selector:B.action.preconditionSelector,signals:[]}};const se=b.generateAction(F);if(se)K=se+"\n\n"+K}return K}function sanitizeDeviceOptions(b,B){const F={};for(const K in B){if(JSON.stringify(b[K])!==JSON.stringify(B[K]))F[K]=B[K]}return F}function toSignalMap(b){let B;let F;let K;for(const se of b.signals){if(se.name==="popup")B=se;else if(se.name==="download")F=se;else if(se.name==="dialog")K=se}return{popup:B,download:F,dialog:K}}function toKeyboardModifiers(b){const B=[];if(b&1)B.push("Alt");if(b&2)B.push("ControlOrMeta");if(b&4)B.push("ControlOrMeta");if(b&8)B.push("Shift");return B}function fromKeyboardModifiers(b){let B=0;if(!b)return B;if(b.includes("Alt"))B|=1;if(b.includes("Control"))B|=2;if(b.includes("ControlOrMeta"))B|=2;if(b.includes("Meta"))B|=4;if(b.includes("Shift"))B|=8;return B}function toClickOptionsForSourceCode(b){const B=toKeyboardModifiers(b.modifiers);const F={};if(b.button!=="left")F.button=b.button;if(B.length)F.modifiers=B;if(b.clickCount>2)F.clickCount=b.clickCount;if(b.position)F.position=b.position;return F}0&&0},3617:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{languageSet:()=>languageSet});b.exports=__toCommonJS(Re);var Me=F(5767);var Le=F(5084);var We=F(4511);var Ge=F(7808);var ze=F(3394);function languageSet(){return new Set([new We.JavaScriptLanguageGenerator(true),new We.JavaScriptLanguageGenerator(false),new ze.PythonLanguageGenerator(false,true),new ze.PythonLanguageGenerator(false,false),new ze.PythonLanguageGenerator(true,false),new Me.CSharpLanguageGenerator("mstest"),new Me.CSharpLanguageGenerator("nunit"),new Me.CSharpLanguageGenerator("library"),new Le.JavaLanguageGenerator("junit"),new Le.JavaLanguageGenerator("library"),new Ge.JsonlLanguageGenerator])}0&&0},3394:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{PythonLanguageGenerator:()=>PythonLanguageGenerator});b.exports=__toCommonJS(Re);var Me=F(9282);var Le=F(3143);var We=F(7332);class PythonLanguageGenerator{constructor(b,B){this.groupName="Python";this.highlighter="python";this.id=B?"python-pytest":b?"python-async":"python";this.name=B?"Pytest":b?"Library Async":"Library";this._isAsync=b;this._isPyTest=B;this._awaitPrefix=b?"await ":"";this._asyncPrefix=b?"async ":""}generateAction(b){const B=b.action;if(this._isPyTest&&(B.name==="openPage"||B.name==="closePage"))return"";const F=b.frame.pageAlias;const K=new PythonFormatter(4);if(B.name==="openPage"){K.add(`${F} = ${this._awaitPrefix}context.new_page()`);if(B.url&&B.url!=="about:blank"&&B.url!=="chrome://newtab/")K.add(`${this._awaitPrefix}${F}.goto(${quote(B.url)})`);return K.format()}const se=b.frame.framePath.map((b=>`.${this._asLocator(b)}.content_frame`));const oe=`${F}${se.join("")}`;const Qe=(0,Me.toSignalMap)(B);if(Qe.dialog)K.add(`  ${F}.once("dialog", lambda dialog: dialog.dismiss())`);let Re=`${this._awaitPrefix}${this._generateActionCall(oe,b)}`;if(Qe.popup){Re=`${this._asyncPrefix}with ${F}.expect_popup() as ${Qe.popup.popupAlias}_info {\n        ${Re}\n      }\n      ${Qe.popup.popupAlias} = ${this._awaitPrefix}${Qe.popup.popupAlias}_info.value`}if(Qe.download){Re=`${this._asyncPrefix}with ${F}.expect_download() as download${Qe.download.downloadAlias}_info {\n        ${Re}\n      }\n      download${Qe.download.downloadAlias} = ${this._awaitPrefix}download${Qe.download.downloadAlias}_info.value`}K.add(Re);return K.format()}_generateActionCall(b,B){const F=B.action;switch(F.name){case"openPage":throw Error("Not reached");case"closePage":return`${b}.close()`;case"click":{let B="click";if(F.clickCount===2)B="dblclick";const K=(0,Me.toClickOptionsForSourceCode)(F);const se=formatOptions(K,false);return`${b}.${this._asLocator(F.selector)}.${B}(${se})`}case"hover":return`${b}.${this._asLocator(F.selector)}.hover(${formatOptions({position:F.position},false)})`;case"check":return`${b}.${this._asLocator(F.selector)}.check()`;case"uncheck":return`${b}.${this._asLocator(F.selector)}.uncheck()`;case"fill":return`${b}.${this._asLocator(F.selector)}.fill(${quote(F.text)})`;case"setInputFiles":return`${b}.${this._asLocator(F.selector)}.set_input_files(${formatValue(F.files.length===1?F.files[0]:F.files)})`;case"press":{const B=(0,Me.toKeyboardModifiers)(F.modifiers);const K=[...B,F.key].join("+");return`${b}.${this._asLocator(F.selector)}.press(${quote(K)})`}case"navigate":return`${b}.goto(${quote(F.url)})`;case"select":return`${b}.${this._asLocator(F.selector)}.select_option(${formatValue(F.options.length===1?F.options[0]:F.options)})`;case"assertText":return`expect(${b}.${this._asLocator(F.selector)}).${F.substring?"to_contain_text":"to_have_text"}(${quote(F.text)})`;case"assertChecked":return`expect(${b}.${this._asLocator(F.selector)}).${F.checked?"to_be_checked()":"not_to_be_checked()"}`;case"assertVisible":return`expect(${b}.${this._asLocator(F.selector)}).to_be_visible()`;case"assertValue":{const B=F.value?`to_have_value(${quote(F.value)})`:`to_be_empty()`;return`expect(${b}.${this._asLocator(F.selector)}).${B};`}case"assertSnapshot":return`expect(${b}.${this._asLocator(F.selector)}).to_match_aria_snapshot(${quote(F.ariaSnapshot)})`}}_asLocator(b){return(0,Le.asLocator)("python",b)}generateHeader(b){const B=new PythonFormatter;const F=b.contextOptions.recordHar;if(this._isPyTest){const K=formatContextOptions(b.contextOptions,b.deviceName,true);const se=K?`\n\n@pytest.fixture(scope="session")\ndef browser_context_args(browser_context_args, playwright) {\n    return {${K}}\n}\n`:"";B.add(`${b.deviceName||K?"import pytest\n":""}import re\nfrom playwright.sync_api import Page, expect\n${se}\n\ndef test_example(page: Page) -> None {`);if(F)B.add(`    page.route_from_har(${quote(F.path)}${typeof F.urlFilter==="string"?`, url=${quote(F.urlFilter)}`:""})`)}else if(this._isAsync){B.add(`\nimport asyncio\nimport re\nfrom playwright.async_api import Playwright, async_playwright, expect\n\n\nasync def run(playwright: Playwright) -> None {\n    browser = await playwright.${b.browserName}.launch(${formatOptions(b.launchOptions,false)})\n    context = await browser.new_context(${formatContextOptions(b.contextOptions,b.deviceName)})`);if(F)B.add(`    await context.route_from_har(${quote(F.path)}${typeof F.urlFilter==="string"?`, url=${quote(F.urlFilter)}`:""})`)}else{B.add(`\nimport re\nfrom playwright.sync_api import Playwright, sync_playwright, expect\n\n\ndef run(playwright: Playwright) -> None {\n    browser = playwright.${b.browserName}.launch(${formatOptions(b.launchOptions,false)})\n    context = browser.new_context(${formatContextOptions(b.contextOptions,b.deviceName)})`);if(F)B.add(`    context.route_from_har(${quote(F.path)}${typeof F.urlFilter==="string"?`, url=${quote(F.urlFilter)}`:""})`)}return B.format()}generateFooter(b){if(this._isPyTest){return""}else if(this._isAsync){const B=b?`\n    await context.storage_state(path=${quote(b)})`:"";return`\n    # ---------------------${B}\n    await context.close()\n    await browser.close()\n\n\nasync def main() -> None:\n    async with async_playwright() as playwright:\n        await run(playwright)\n\n\nasyncio.run(main())\n`}else{const B=b?`\n    context.storage_state(path=${quote(b)})`:"";return`\n    # ---------------------${B}\n    context.close()\n    browser.close()\n\n\nwith sync_playwright() as playwright:\n    run(playwright)\n`}}}function formatValue(b){if(b===false)return"False";if(b===true)return"True";if(b===void 0)return"None";if(Array.isArray(b))return`[${b.map(formatValue).join(", ")}]`;if(typeof b==="string")return quote(b);if(typeof b==="object")return JSON.stringify(b);return String(b)}function formatOptions(b,B,F){const K=Object.keys(b).filter((B=>b[B]!==void 0)).sort();if(!K.length)return"";return(B?", ":"")+K.map((B=>{if(F)return`"${(0,Le.toSnakeCase)(B)}": ${formatValue(b[B])}`;return`${(0,Le.toSnakeCase)(B)}=${formatValue(b[B])}`})).join(", ")}function formatContextOptions(b,B,F){b={...b,recordHar:void 0};const K=B&&We.deviceDescriptors[B];if(!K)return formatOptions(b,false,F);return`**playwright.devices[${quote(B)}]`+formatOptions((0,Me.sanitizeDeviceOptions)(K,b),true,F)}class PythonFormatter{constructor(b=0){this._lines=[];this._baseIndent=" ".repeat(4);this._baseOffset=" ".repeat(b)}prepend(b){this._lines=b.trim().split("\n").map((b=>b.trim())).concat(this._lines)}add(b){this._lines.push(...b.trim().split("\n").map((b=>b.trim())))}newLine(){this._lines.push("")}format(){let b="";const B=[];this._lines.forEach((F=>{if(F==="")return B.push(F);if(F==="}"){b=b.substring(this._baseIndent.length);return}F=b+F;if(F.endsWith("{")){b+=this._baseIndent;F=F.substring(0,F.length-1).trimEnd()+":"}return B.push(this._baseOffset+F)}));return B.join("\n")}}function quote(b){return(0,Le.escapeWithQuotes)(b,'"')}0&&0},4441:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{ConsoleMessage:()=>ConsoleMessage});b.exports=__toCommonJS(oe);class ConsoleMessage{constructor(b,B,F,K,se,oe){this._page=b;this._worker=B;this._type=F;this._text=K;this._args=se;this._location=oe||{url:"",lineNumber:0,columnNumber:0}}page(){return this._page}worker(){return this._worker}type(){return this._type}text(){if(this._text===void 0)this._text=this._args.map((b=>b.preview())).join(" ");return this._text}args(){return this._args}location(){return this._location}}0&&0},1827:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Cookie:()=>Cookie,CookieStore:()=>CookieStore,domainMatches:()=>domainMatches,parseRawCookie:()=>parseRawCookie});b.exports=__toCommonJS(Re);var Me=F(6370);class Cookie{constructor(b){this._raw=b}name(){return this._raw.name}matches(b){if(this._raw.secure&&(b.protocol!=="https:"&&!(0,Me.isLocalHostname)(b.hostname)))return false;if(!domainMatches(b.hostname,this._raw.domain))return false;if(!pathMatches(b.pathname,this._raw.path))return false;return true}equals(b){return this._raw.name===b._raw.name&&this._raw.domain===b._raw.domain&&this._raw.path===b._raw.path}networkCookie(){return this._raw}updateExpiresFrom(b){this._raw.expires=b._raw.expires}expired(){if(this._raw.expires===-1)return false;return this._raw.expires*1e3<Date.now()}}class CookieStore{constructor(){this._nameToCookies=new Map}addCookies(b){for(const B of b)this._addCookie(new Cookie(B))}cookies(b){const B=[];for(const F of this._cookiesIterator()){if(F.matches(b))B.push(F.networkCookie())}return B}allCookies(){const b=[];for(const B of this._cookiesIterator())b.push(B.networkCookie());return b}_addCookie(b){let B=this._nameToCookies.get(b.name());if(!B){B=new Set;this._nameToCookies.set(b.name(),B)}for(const F of B){if(F.equals(b))B.delete(F)}B.add(b);CookieStore.pruneExpired(B)}*_cookiesIterator(){for(const[b,B]of this._nameToCookies){CookieStore.pruneExpired(B);for(const b of B)yield b;if(B.size===0)this._nameToCookies.delete(b)}}static pruneExpired(b){for(const B of b){if(B.expired())b.delete(B)}}}function parseRawCookie(b){const B=b.split(";").filter((b=>b.trim().length>0)).map((b=>{let B="";let F="";const K=b.indexOf("=");if(K===-1){B=b.trim()}else{B=b.slice(0,K).trim();F=b.slice(K+1).trim()}return[B,F]}));if(!B.length)return null;const[F,K]=B[0];const se={name:F,value:K};for(let b=1;b<B.length;b++){const[F,K]=B[b];switch(F.toLowerCase()){case"expires":const b=+new Date(K);if(isFinite(b)){if(b<=0)se.expires=0;else se.expires=Math.min(b/1e3,Me.kMaxCookieExpiresDateInSeconds)}break;case"max-age":const B=parseInt(K,10);if(isFinite(B)){if(B<=0)se.expires=0;else se.expires=Math.min(Date.now()/1e3+B,Me.kMaxCookieExpiresDateInSeconds)}break;case"domain":se.domain=K.toLocaleLowerCase()||"";if(se.domain&&!se.domain.startsWith(".")&&se.domain.includes("."))se.domain="."+se.domain;break;case"path":se.path=K||"";break;case"secure":se.secure=true;break;case"httponly":se.httpOnly=true;break;case"samesite":switch(K.toLowerCase()){case"none":se.sameSite="None";break;case"lax":se.sameSite="Lax";break;case"strict":se.sameSite="Strict";break}break}}return se}function domainMatches(b,B){if(b===B)return true;if(!B.startsWith("."))return false;b="."+b;return b.endsWith(B)}function pathMatches(b,B){if(b===B)return true;if(!b.endsWith("/"))b=b+"/";if(!B.endsWith("/"))B=B+"/";return b.startsWith(B)}0&&0},9179:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{DebugController:()=>DebugController});b.exports=__toCommonJS(Re);var Me=F(6938);var Le=F(8307);var We=F(1260);var Ge=F(3143);var ze=F(7691);var $e=F(6327);var Ye=F(1285);var Ke=F(9282);var Xe=F(408);var et=F(4511);class DebugController extends Me.SdkObject{constructor(b){super({attribution:{isInternalPlaywright:true},instrumentation:(0,Me.createInstrumentation)()},void 0,"DebugController");this._sdkLanguage="javascript";this._generateAutoExpect=false;this._playwright=b}static{this.Events={StateChanged:"stateChanged",InspectRequested:"inspectRequested",SourceChanged:"sourceChanged",Paused:"paused",SetModeRequested:"setModeRequested"}}initialize(b,B){this._sdkLanguage=B}dispose(){this.setReportStateChanged(false)}setReportStateChanged(b){if(b&&!this._trackHierarchyListener){this._trackHierarchyListener={onPageOpen:()=>this._emitSnapshot(false),onPageClose:()=>this._emitSnapshot(false)};this._playwright.instrumentation.addListener(this._trackHierarchyListener,null);this._emitSnapshot(true)}else if(!b&&this._trackHierarchyListener){this._playwright.instrumentation.removeListener(this._trackHierarchyListener);this._trackHierarchyListener=void 0}}async setRecorderMode(b,B){await b.race(this._closeBrowsersWithoutPages());this._generateAutoExpect=!!B.generateAutoExpect;if(B.mode==="none"){for(const B of await b.race(this._allRecorders())){B.hideHighlightedSelector();B.setMode("none")}return}if(!this._playwright.allBrowsers().length)await this._playwright.chromium.launch(b,{headless:!!process.env.PW_DEBUG_CONTROLLER_HEADLESS});const F=this._playwright.allPages();if(!F.length){const[B]=this._playwright.allBrowsers();const F=await B.newContextForReuse(b,{});await F.newPage(b)}if(B.testIdAttributeName){for(const b of this._playwright.allPages())b.browserContext.selectors().setTestIdAttributeName(B.testIdAttributeName)}for(const F of await b.race(this._allRecorders())){F.hideHighlightedSelector();F.setMode(B.mode)}}async highlight(b,B){if(B.selector)(0,Ye.unsafeLocatorOrSelectorAsSelector)(this._sdkLanguage,B.selector,"data-testid");const F=B.ariaTemplate?(0,ze.parseAriaSnapshotUnsafe)($e.yaml,B.ariaTemplate):void 0;for(const K of await b.race(this._allRecorders())){if(F)K.setHighlightedAriaTemplate(F);else if(B.selector)K.setHighlightedSelector(B.selector)}}async hideHighlight(b){for(const B of await b.race(this._allRecorders()))B.hideHighlightedSelector();await Promise.all(this._playwright.allPages().map((b=>b.hideHighlight().catch((()=>{})))))}async resume(b){for(const B of await b.race(this._allRecorders()))B.resume()}kill(){(0,Le.gracefullyProcessExitDoNotHang)(0)}_emitSnapshot(b){const B=this._playwright.allPages().length;if(b&&!B)return;this.emit(DebugController.Events.StateChanged,{pageCount:B})}async _allRecorders(){const b=new Set;for(const B of this._playwright.allPages())b.add(B.browserContext);const B=await Promise.all([...b].map((b=>We.Recorder.forContext(b,{omitCallTracking:true}))));const F=B.filter(Boolean);for(const b of B)wireListeners(b,this);return F}async _closeBrowsersWithoutPages(){for(const b of this._playwright.allBrowsers()){for(const B of b.contexts()){if(!B.pages().length)await B.close({reason:"Browser collected"})}if(!b.contexts())await b.close({reason:"Browser collected"})}}}const rt=Symbol("wired");function wireListeners(b,B){if(b[rt])return;b[rt]=true;const F=[];const K=new et.JavaScriptLanguageGenerator(true);const actionsChanged=()=>{const b=(0,Xe.collapseActions)(F);const{header:se,footer:oe,text:Qe,actionTexts:Re}=(0,Ke.generateCode)(b,K,{browserName:"chromium",launchOptions:{},contextOptions:{},generateAutoExpect:B._generateAutoExpect});B.emit(DebugController.Events.SourceChanged,{text:Qe,header:se,footer:oe,actions:Re})};b.on(We.RecorderEvent.ElementPicked,(b=>{const F=(0,Ge.asLocator)(B._sdkLanguage,b.selector);B.emit(DebugController.Events.InspectRequested,{selector:b.selector,locator:F,ariaSnapshot:b.ariaSnapshot})}));b.on(We.RecorderEvent.PausedStateChanged,(b=>{B.emit(DebugController.Events.Paused,{paused:b})}));b.on(We.RecorderEvent.ModeChanged,(b=>{B.emit(DebugController.Events.SetModeRequested,{mode:b})}));b.on(We.RecorderEvent.ActionAdded,(b=>{F.push(b);actionsChanged()}));b.on(We.RecorderEvent.SignalAdded,(b=>{const B=F.findLast((B=>B.frame.pageGuid===b.frame.pageGuid));if(B)B.action.signals.push(b.signal);actionsChanged()}))}0&&0},2309:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Debugger:()=>Debugger});b.exports=__toCommonJS(Re);var Me=F(4434);var Le=F(3143);var We=F(3021);var Ge=F(1603);const ze=Symbol("Debugger");class Debugger extends Me.EventEmitter{constructor(b){super();this._pauseOnNextStatement=false;this._pausedCallsMetadata=new Map;this._muted=false;this._context=b;this._context[ze]=this;this._enabled=(0,Le.debugMode)()==="inspector";if(this._enabled)this.pauseOnNextStatement();b.instrumentation.addListener(this,b);this._context.once(We.BrowserContext.Events.Close,(()=>{this._context.instrumentation.removeListener(this)}))}static{this.Events={PausedStateChanged:"pausedstatechanged"}}async setMuted(b){this._muted=b}async onBeforeCall(b,B){if(this._muted)return;if(shouldPauseOnCall(b,B)||this._pauseOnNextStatement&&shouldPauseBeforeStep(B))await this.pause(b,B)}async onBeforeInputAction(b,B){if(this._muted)return;if(this._enabled&&this._pauseOnNextStatement)await this.pause(b,B)}async pause(b,B){if(this._muted)return;this._enabled=true;B.pauseStartTime=(0,Le.monotonicTime)();const F=new Promise((F=>{this._pausedCallsMetadata.set(B,{resolve:F,sdkObject:b})}));this.emit(Debugger.Events.PausedStateChanged);return F}resume(b){if(!this.isPaused())return;this._pauseOnNextStatement=b;const B=(0,Le.monotonicTime)();for(const[b,{resolve:F}]of this._pausedCallsMetadata){b.pauseEndTime=B;F()}this._pausedCallsMetadata.clear();this.emit(Debugger.Events.PausedStateChanged)}pauseOnNextStatement(){this._pauseOnNextStatement=true}isPaused(b){if(b)return this._pausedCallsMetadata.has(b);return!!this._pausedCallsMetadata.size}pausedDetails(){const b=[];for(const[B,{sdkObject:F}]of this._pausedCallsMetadata)b.push({metadata:B,sdkObject:F});return b}}function shouldPauseOnCall(b,B){if(b.attribution.playwright.options.isServer)return false;if(!b.attribution.browser?.options.headful&&!(0,Le.isUnderTest)())return false;return B.method==="pause"}function shouldPauseBeforeStep(b){if(b.internal)return false;const B=Ge.methodMetainfo.get(b.type+"."+b.method);return!!B?.pausesBeforeAction}0&&0},7332:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{deviceDescriptors:()=>Ge});b.exports=__toCommonJS(Le);var We=__toESM(F(756));const Ge=We.default;0&&0},9870:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Dialog:()=>Dialog,DialogManager:()=>DialogManager});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(6938);class Dialog extends Le.SdkObject{constructor(b,B,F,K,se){super(b,"dialog");this._handled=false;this._page=b;this._type=B;this._message=F;this._onHandle=K;this._defaultValue=se||""}page(){return this._page}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(b){(0,Me.assert)(!this._handled,"Cannot accept dialog which is already handled!");this._handled=true;this._page.browserContext.dialogManager.dialogWillClose(this);await this._onHandle(true,b)}async dismiss(){(0,Me.assert)(!this._handled,"Cannot dismiss dialog which is already handled!");this._handled=true;this._page.browserContext.dialogManager.dialogWillClose(this);await this._onHandle(false)}async close(){if(this._type==="beforeunload")await this.accept();else await this.dismiss()}}class DialogManager{constructor(b){this._dialogHandlers=new Set;this._openedDialogs=new Set;this._instrumentation=b}dialogDidOpen(b){for(const B of b.page().frameManager.frames())B._invalidateNonStallingEvaluations("JavaScript dialog interrupted evaluation");this._openedDialogs.add(b);this._instrumentation.onDialog(b);let B=false;for(const F of this._dialogHandlers){if(F(b))B=true}if(!B)b.close().then((()=>{}))}dialogWillClose(b){this._openedDialogs.delete(b)}addDialogHandler(b){this._dialogHandlers.add(b)}removeDialogHandler(b){this._dialogHandlers.delete(b);if(!this._dialogHandlers.size){for(const b of this._openedDialogs)b.close().catch((()=>{}))}}hasOpenDialogsForPage(b){return[...this._openedDialogs].some((B=>B.page()===b))}async closeBeforeUnloadDialogs(){await Promise.all([...this._openedDialogs].map((async b=>{if(b.type()==="beforeunload")await b.dismiss()})))}}0&&0},7407:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{AndroidDeviceDispatcher:()=>AndroidDeviceDispatcher,AndroidDispatcher:()=>AndroidDispatcher,AndroidSocketDispatcher:()=>AndroidSocketDispatcher});b.exports=__toCommonJS(Re);var Me=F(1351);var Le=F(8980);var We=F(83);var Ge=F(8753);var ze=F(6938);class AndroidDispatcher extends Le.Dispatcher{constructor(b,B){super(b,B,"Android",{});this._type_Android=true}async devices(b,B){const F=await this._object.devices(B,b);return{devices:F.map((b=>AndroidDeviceDispatcher.from(this,b)))}}}class AndroidDeviceDispatcher extends Le.Dispatcher{constructor(b,B){super(b,B,"AndroidDevice",{model:B.model,serial:B.serial});this._type_EventTarget=true;this._type_AndroidDevice=true;for(const b of B.webViews())this._dispatchEvent("webViewAdded",{webView:b});this.addObjectListener(We.AndroidDevice.Events.WebViewAdded,(b=>this._dispatchEvent("webViewAdded",{webView:b})));this.addObjectListener(We.AndroidDevice.Events.WebViewRemoved,(b=>this._dispatchEvent("webViewRemoved",{socketName:b})));this.addObjectListener(We.AndroidDevice.Events.Close,(()=>this._dispatchEvent("close")))}static from(b,B){const F=b.connection.existingDispatcher(B);return F||new AndroidDeviceDispatcher(b,B)}async wait(b,B){await B.race(this._object.send("wait",b))}async fill(b,B){await B.race(this._object.send("click",{selector:b.androidSelector}));await B.race(this._object.send("fill",b))}async tap(b,B){await B.race(this._object.send("click",b))}async drag(b,B){await B.race(this._object.send("drag",b))}async fling(b,B){await B.race(this._object.send("fling",b))}async longTap(b,B){await B.race(this._object.send("longClick",b))}async pinchClose(b,B){await B.race(this._object.send("pinchClose",b))}async pinchOpen(b,B){await B.race(this._object.send("pinchOpen",b))}async scroll(b,B){await B.race(this._object.send("scroll",b))}async swipe(b,B){await B.race(this._object.send("swipe",b))}async info(b,B){const F=await B.race(this._object.send("info",b));fixupAndroidElementInfo(F);return{info:F}}async inputType(b,B){const F=b.text;const K=[];for(let b=0;b<F.length;++b){const B=$e.get(F[b].toUpperCase());if(B===void 0)throw new Error("No mapping for "+F[b]+" found");K.push(B)}await B.race(Promise.all(K.map((b=>this._object.send("inputPress",{keyCode:b})))))}async inputPress(b,B){if(!$e.has(b.key))throw new Error("Unknown key: "+b.key);await B.race(this._object.send("inputPress",{keyCode:$e.get(b.key)}))}async inputTap(b,B){await B.race(this._object.send("inputClick",b))}async inputSwipe(b,B){await B.race(this._object.send("inputSwipe",b))}async inputDrag(b,B){await B.race(this._object.send("inputDrag",b))}async screenshot(b,B){return{binary:await B.race(this._object.screenshot())}}async shell(b,B){return{result:await B.race(this._object.shell(b.command))}}async open(b,B){const F=await this._object.open(B,b.command);return{socket:new AndroidSocketDispatcher(this,new SocketSdkObject(this._object,F))}}async installApk(b,B){await this._object.installApk(B,b.file,{args:b.args})}async push(b,B){await B.race(this._object.push(B,b.file,b.path,b.mode))}async launchBrowser(b,B){const F=await this._object.launchBrowser(B,b.pkg,b);return{context:Me.BrowserContextDispatcher.from(this,F)}}async close(b,B){await this._object.close()}async connectToWebView(b,B){return{context:Me.BrowserContextDispatcher.from(this,await this._object.connectToWebView(B,b.socketName))}}}class SocketSdkObject extends ze.SdkObject{constructor(b,B){super(b,"socket");this._socket=B;this._eventListeners=[Ge.eventsHelper.addEventListener(B,"data",(b=>this.emit("data",b))),Ge.eventsHelper.addEventListener(B,"close",(()=>{Ge.eventsHelper.removeEventListeners(this._eventListeners);this.emit("close")}))]}async write(b){await this._socket.write(b)}close(){this._socket.close()}}class AndroidSocketDispatcher extends Le.Dispatcher{constructor(b,B){super(b,B,"AndroidSocket",{});this._type_AndroidSocket=true;this.addObjectListener("data",(b=>this._dispatchEvent("data",{data:b})));this.addObjectListener("close",(()=>{this._dispatchEvent("close");this._dispose()}))}async write(b,B){await B.race(this._object.write(b.data))}async close(b,B){this._object.close()}}const $e=new Map([["Unknown",0],["SoftLeft",1],["SoftRight",2],["Home",3],["Back",4],["Call",5],["EndCall",6],["0",7],["1",8],["2",9],["3",10],["4",11],["5",12],["6",13],["7",14],["8",15],["9",16],["Star",17],["*",17],["Pound",18],["#",18],["DialUp",19],["DialDown",20],["DialLeft",21],["DialRight",22],["DialCenter",23],["VolumeUp",24],["VolumeDown",25],["Power",26],["Camera",27],["Clear",28],["A",29],["B",30],["C",31],["D",32],["E",33],["F",34],["G",35],["H",36],["I",37],["J",38],["K",39],["L",40],["M",41],["N",42],["O",43],["P",44],["Q",45],["R",46],["S",47],["T",48],["U",49],["V",50],["W",51],["X",52],["Y",53],["Z",54],["Comma",55],[",",55],["Period",56],[".",56],["AltLeft",57],["AltRight",58],["ShiftLeft",59],["ShiftRight",60],["Tab",61],["\t",61],["Space",62],[" ",62],["Sym",63],["Explorer",64],["Envelop",65],["Enter",66],["Del",67],["Grave",68],["Minus",69],["-",69],["Equals",70],["=",70],["LeftBracket",71],["(",71],["RightBracket",72],[")",72],["Backslash",73],["\\",73],["Semicolon",74],[";",74],["Apostrophe",75],["`",75],["Slash",76],["/",76],["At",77],["@",77],["Num",78],["HeadsetHook",79],["Focus",80],["Plus",81],["Menu",82],["Notification",83],["Search",84],["MediaPlayPause",85],["MediaStop",86],["MediaNext",87],["MediaPrevious",88],["MediaRewind",89],["MediaFastForward",90],["MediaPlay",126],["MediaPause",127],["MediaClose",128],["MediaEject",129],["MediaRecord",130],["ChannelUp",166],["ChannelDown",167],["AppSwitch",187],["Assist",219],["MediaAudioTrack",222],["MediaTopMenu",226],["MediaSkipForward",272],["MediaSkipBackward",273],["MediaStepForward",274],["MediaStepBackward",275],["Cut",277],["Copy",278],["Paste",279]]);function fixupAndroidElementInfo(b){b.clazz=b.clazz||"";b.pkg=b.pkg||"";b.res=b.res||"";b.desc=b.desc||"";b.text=b.text||"";for(const B of b.children||[])fixupAndroidElementInfo(B)}0&&0},6770:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{ArtifactDispatcher:()=>ArtifactDispatcher});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=F(8980);var ze=F(4060);var $e=F(1245);class ArtifactDispatcher extends Ge.Dispatcher{constructor(b,B){super(b,B,"Artifact",{absolutePath:B.localPath()});this._type_Artifact=true}static from(b,B){return ArtifactDispatcher.fromNullable(b,B)}static fromNullable(b,B){if(!B)return void 0;const F=b.connection.existingDispatcher(B);return F||new ArtifactDispatcher(b,B)}async pathAfterFinished(b,B){const F=await B.race(this._object.localPathAfterFinished());return{value:F}}async saveAs(b,B){return await B.race(new Promise(((B,F)=>{this._object.saveAs((async(K,se)=>{if(se){F(se);return}try{await(0,$e.mkdirIfNeeded)(b.path);await We.default.promises.copyFile(K,b.path);B()}catch(b){F(b)}}))})))}async saveAsStream(b,B){return await B.race(new Promise(((b,B)=>{this._object.saveAs((async(F,K)=>{if(K){B(K);return}try{const B=We.default.createReadStream(F,{highWaterMark:1024*1024});const K=new ze.StreamDispatcher(this,B);b({stream:K});await new Promise((b=>{B.on("close",b);B.on("end",b);B.on("error",b)}))}catch(b){B(b)}}))})))}async stream(b,B){const F=await B.race(this._object.localPathAfterFinished());const K=We.default.createReadStream(F,{highWaterMark:1024*1024});return{stream:new ze.StreamDispatcher(this,K)}}async failure(b,B){const F=await B.race(this._object.failureError());return{error:F||void 0}}async cancel(b,B){await B.race(this._object.cancel())}async delete(b,B){B.metadata.potentiallyClosesScope=true;await B.race(this._object.delete());this._dispose()}}0&&0},1351:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{BrowserContextDispatcher:()=>BrowserContextDispatcher});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(3021);var $e=F(6770);var Ye=F(7423);var Ke=F(564);var Xe=F(8980);var et=F(4137);var rt=F(2217);var it=F(9804);var ot=F(7094);var at=F(541);var lt=F(3874);var ut=F(1104);var dt=F(9648);var ht=F(6065);var pt=F(2164);var ft=F(1260);var mt=F(5990);var vt=F(4100);var yt=F(6117);class BrowserContextDispatcher extends Xe.Dispatcher{constructor(b,B){const F=rt.APIRequestContextDispatcher.from(b,B.fetchRequest);const K=lt.TracingDispatcher.from(b,B.tracing);super(b,B,"BrowserContext",{isChromium:B._browser.options.isChromium,requestContext:F,tracing:K,options:B._options});this._type_EventTarget=true;this._type_BrowserContext=true;this._subscriptions=new Set;this._webSocketInterceptionPatterns=[];this._bindings=[];this._initScripts=[];this._clockPaused=false;this._interceptionUrlMatchers=[];this.adopt(F);this.adopt(K);this._requestInterceptor=(b,B)=>{const F=this._interceptionUrlMatchers.some((b=>(0,pt.urlMatches)(this._context._options.baseURL,B.url(),b)));const K=this.connection.existingDispatcher(b);if(!F||K){b.continue({isFallback:true}).catch((()=>{}));return}this._dispatchEvent("route",{route:new rt.RouteDispatcher(rt.RequestDispatcher.from(this,B),b)})};this._context=B;const onVideo=B=>{const F=$e.ArtifactDispatcher.from(b,B);this._dispatchEvent("video",{artifact:F})};this.addObjectListener(ze.BrowserContext.Events.VideoStarted,onVideo);for(const b of B._browser._idToVideo.values()){if(b.context===B)onVideo(b.artifact)}for(const b of B.pages())this._dispatchEvent("page",{page:it.PageDispatcher.from(this,b)});this.addObjectListener(ze.BrowserContext.Events.Page,(b=>{this._dispatchEvent("page",{page:it.PageDispatcher.from(this,b)})}));this.addObjectListener(ze.BrowserContext.Events.Close,(()=>{this._dispatchEvent("close");this._dispose()}));this.addObjectListener(ze.BrowserContext.Events.PageError,((b,B)=>{this._dispatchEvent("pageError",{error:(0,at.serializeError)(b),page:it.PageDispatcher.from(this,B)})}));this.addObjectListener(ze.BrowserContext.Events.Console,(b=>{const B=it.PageDispatcher.fromNullable(this,b.page());const F=it.WorkerDispatcher.fromNullable(this,b.worker());if(this._shouldDispatchEvent(b.page(),"console")||F?._subscriptions.has("console")){this._dispatchEvent("console",{page:B,worker:F,...this.serializeConsoleMessage(b,F||B)})}}));this._dialogHandler=b=>{if(!this._shouldDispatchEvent(b.page(),"dialog"))return false;this._dispatchEvent("dialog",{dialog:new Ke.DialogDispatcher(this,b)});return true};B.dialogManager.addDialogHandler(this._dialogHandler);if(B._browser.options.name==="chromium"&&this._object._browser instanceof ot.CRBrowser){for(const b of B.serviceWorkers())this._dispatchEvent("serviceWorker",{worker:new it.WorkerDispatcher(this,b)});this.addObjectListener(ot.CRBrowserContext.CREvents.ServiceWorker,(b=>this._dispatchEvent("serviceWorker",{worker:new it.WorkerDispatcher(this,b)})))}this.addObjectListener(ze.BrowserContext.Events.Request,(b=>{const B=b.redirectedFrom()&&this.connection.existingDispatcher(b.redirectedFrom());if(!B&&!this._shouldDispatchNetworkEvent(b,"request")&&!b.isNavigationRequest())return;const F=rt.RequestDispatcher.from(this,b);this._dispatchEvent("request",{request:F,page:it.PageDispatcher.fromNullable(this,b.frame()?._page.initializedOrUndefined())})}));this.addObjectListener(ze.BrowserContext.Events.Response,(b=>{const B=this.connection.existingDispatcher(b.request());if(!B&&!this._shouldDispatchNetworkEvent(b.request(),"response"))return;this._dispatchEvent("response",{response:rt.ResponseDispatcher.from(this,b),page:it.PageDispatcher.fromNullable(this,b.frame()?._page.initializedOrUndefined())})}));this.addObjectListener(ze.BrowserContext.Events.RequestFailed,(b=>{const B=this.connection.existingDispatcher(b);if(!B&&!this._shouldDispatchNetworkEvent(b,"requestFailed"))return;this._dispatchEvent("requestFailed",{request:rt.RequestDispatcher.from(this,b),failureText:b._failureText||void 0,responseEndTiming:b._responseEndTiming,page:it.PageDispatcher.fromNullable(this,b.frame()?._page.initializedOrUndefined())})}));this.addObjectListener(ze.BrowserContext.Events.RequestFinished,(({request:b,response:B})=>{const F=this.connection.existingDispatcher(b);if(!F&&!this._shouldDispatchNetworkEvent(b,"requestFinished"))return;this._dispatchEvent("requestFinished",{request:rt.RequestDispatcher.from(this,b),response:rt.ResponseDispatcher.fromNullable(this,B),responseEndTiming:b._responseEndTiming,page:it.PageDispatcher.fromNullable(this,b.frame()?._page.initializedOrUndefined())})}));this.addObjectListener(ze.BrowserContext.Events.RecorderEvent,(({event:b,data:B,page:F,code:K})=>{this._dispatchEvent("recorderEvent",{event:b,data:B,code:K,page:it.PageDispatcher.from(this,F)})}))}static from(b,B){const F=b.connection.existingDispatcher(B);return F||new BrowserContextDispatcher(b,B)}_shouldDispatchNetworkEvent(b,B){return this._shouldDispatchEvent(b.frame()?._page?.initializedOrUndefined(),B)}_shouldDispatchEvent(b,B){if(this._subscriptions.has(B))return true;const F=b?this.connection.existingDispatcher(b):void 0;if(F?._subscriptions.has(B))return true;return false}serializeConsoleMessage(b,B){return{type:b.type(),text:b.text(),args:b.args().map((b=>{const F=b.asElement();if(F)return vt.ElementHandleDispatcher.from(et.FrameDispatcher.from(this,F._frame),F);return yt.JSHandleDispatcher.fromJSHandle(B,b)})),location:b.location()}}async createTempFiles(b,B){const F=this._context._browser.options.artifactsDir;const K=Ge.default.join(F,"upload-"+(0,ht.createGuid)());const se=b.rootDirName?Ge.default.join(K,Ge.default.basename(b.rootDirName)):K;await B.race(We.default.promises.mkdir(se,{recursive:true}));this._context._tempDirs.push(K);return{rootDir:b.rootDirName?new dt.WritableStreamDispatcher(this,se):void 0,writableStreams:await Promise.all(b.items.map((async b=>{await B.race(We.default.promises.mkdir(Ge.default.dirname(Ge.default.join(se,b.name)),{recursive:true}));const F=We.default.createWriteStream(Ge.default.join(se,b.name));return new dt.WritableStreamDispatcher(this,F,b.lastModifiedMs)})))}}async exposeBinding(b,B){const F=await this._context.exposeBinding(B,b.name,!!b.needsHandle,((B,...F)=>{if(this._disposed)return;const K=it.PageDispatcher.from(this,B.page);const se=new it.BindingCallDispatcher(K,b.name,!!b.needsHandle,B,F);this._dispatchEvent("bindingCall",{binding:se});return se.promise()}));this._bindings.push(F)}async newPage(b,B){return{page:it.PageDispatcher.from(this,await this._context.newPage(B))}}async cookies(b,B){return{cookies:await B.race(this._context.cookies(b.urls))}}async addCookies(b,B){await this._context.addCookies(b.cookies)}async clearCookies(b,B){const F=b.nameRegexSource!==void 0&&b.nameRegexFlags!==void 0?new RegExp(b.nameRegexSource,b.nameRegexFlags):void 0;const K=b.domainRegexSource!==void 0&&b.domainRegexFlags!==void 0?new RegExp(b.domainRegexSource,b.domainRegexFlags):void 0;const se=b.pathRegexSource!==void 0&&b.pathRegexFlags!==void 0?new RegExp(b.pathRegexSource,b.pathRegexFlags):void 0;await this._context.clearCookies({name:F||b.name,domain:K||b.domain,path:se||b.path})}async grantPermissions(b,B){await this._context.grantPermissions(b.permissions,b.origin)}async clearPermissions(b,B){await this._context.clearPermissions()}async setGeolocation(b,B){await this._context.setGeolocation(b.geolocation)}async setExtraHTTPHeaders(b,B){await this._context.setExtraHTTPHeaders(B,b.headers)}async setOffline(b,B){await this._context.setOffline(B,b.offline)}async setHTTPCredentials(b,B){await B.race(this._context.setHTTPCredentials(b.httpCredentials))}async addInitScript(b,B){this._initScripts.push(await this._context.addInitScript(B,b.source))}async setNetworkInterceptionPatterns(b,B){const F=this._interceptionUrlMatchers.length>0;if(!b.patterns.length){if(F)await this._context.removeRequestInterceptor(this._requestInterceptor);this._interceptionUrlMatchers=[]}else{this._interceptionUrlMatchers=b.patterns.map((b=>b.regexSource?new RegExp(b.regexSource,b.regexFlags):b.glob));if(!F)await this._context.addRequestInterceptor(B,this._requestInterceptor)}}async setWebSocketInterceptionPatterns(b,B){this._webSocketInterceptionPatterns=b.patterns;if(b.patterns.length&&!this._routeWebSocketInitScript)this._routeWebSocketInitScript=await ut.WebSocketRouteDispatcher.install(B,this.connection,this._context)}async storageState(b,B){return await B.race(this._context.storageState(B,b.indexedDB))}async close(b,B){B.metadata.potentiallyClosesScope=true;await this._context.close(b)}async enableRecorder(b,B){await mt.RecorderApp.show(this._context,b)}async disableRecorder(b,B){const F=await ft.Recorder.existingForContext(this._context);if(F)F.setMode("none")}async pause(b,B){}async newCDPSession(b,B){if(!this._object._browser.options.isChromium)throw new Error(`CDP session is only available in Chromium`);if(!b.page&&!b.frame||b.page&&b.frame)throw new Error(`CDP session must be initiated with either Page or Frame, not none or both`);const F=this._object;return{session:new Ye.CDPSessionDispatcher(this,await B.race(F.newCDPSession((b.page?b.page:b.frame)._object)))}}async harStart(b,B){const F=this._context.harStart(b.page?b.page._object:null,b.options);return{harId:F}}async harExport(b,B){const F=await B.race(this._context.harExport(b.harId));if(!F)throw new Error("No HAR artifact. Ensure record.harPath is set.");return{artifact:$e.ArtifactDispatcher.from(this,F)}}async clockFastForward(b,B){await this._context.clock.fastForward(B,b.ticksString??b.ticksNumber??0)}async clockInstall(b,B){await this._context.clock.install(B,b.timeString??b.timeNumber??void 0)}async clockPauseAt(b,B){await this._context.clock.pauseAt(B,b.timeString??b.timeNumber??0);this._clockPaused=true}async clockResume(b,B){await this._context.clock.resume(B);this._clockPaused=false}async clockRunFor(b,B){await this._context.clock.runFor(B,b.ticksString??b.ticksNumber??0)}async clockSetFixedTime(b,B){await this._context.clock.setFixedTime(B,b.timeString??b.timeNumber??0)}async clockSetSystemTime(b,B){await this._context.clock.setSystemTime(B,b.timeString??b.timeNumber??0)}async updateSubscription(b,B){if(b.enabled)this._subscriptions.add(b.event);else this._subscriptions.delete(b.event)}async registerSelectorEngine(b,B){this._object.selectors().register(b.selectorEngine)}async setTestIdAttributeName(b,B){this._object.selectors().setTestIdAttributeName(b.testIdAttributeName)}_onDispose(){if(this._context.isClosingOrClosed())return;this._context.dialogManager.removeDialogHandler(this._dialogHandler);this._interceptionUrlMatchers=[];this._context.removeRequestInterceptor(this._requestInterceptor).catch((()=>{}));this._context.removeExposedBindings(this._bindings).catch((()=>{}));this._bindings=[];this._context.removeInitScripts(this._initScripts).catch((()=>{}));this._initScripts=[];if(this._routeWebSocketInitScript)ut.WebSocketRouteDispatcher.uninstall(this.connection,this._context,this._routeWebSocketInitScript).catch((()=>{}));this._routeWebSocketInitScript=void 0;if(this._clockPaused)this._context.clock.resumeNoReply();this._clockPaused=false}}0&&0},9224:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{BrowserDispatcher:()=>BrowserDispatcher});b.exports=__toCommonJS(Re);var Me=F(4856);var Le=F(1351);var We=F(7423);var Ge=F(8980);var ze=F(3021);var $e=F(6770);class BrowserDispatcher extends Ge.Dispatcher{constructor(b,B,F={}){super(b,B,"Browser",{version:B.version(),name:B.options.name});this._type_Browser=true;this._isolatedContexts=new Set;this._options=F;if(!F.isolateContexts){this.addObjectListener(Me.Browser.Events.Context,(b=>this._dispatchEvent("context",{context:Le.BrowserContextDispatcher.from(this,b)})));this.addObjectListener(Me.Browser.Events.Disconnected,(()=>this._didClose()));if(B._defaultContext)this._dispatchEvent("context",{context:Le.BrowserContextDispatcher.from(this,B._defaultContext)});for(const b of B.contexts())this._dispatchEvent("context",{context:Le.BrowserContextDispatcher.from(this,b)})}}_didClose(){this._dispatchEvent("close");this._dispose()}async newContext(b,B){if(b.recordVideo&&this._object.attribution.playwright.options.isServer)b.recordVideo.dir=this._object.options.artifactsDir;if(!this._options.isolateContexts){const F=await this._object.newContext(B,b);const K=Le.BrowserContextDispatcher.from(this,F);return{context:K}}const F=await this._object.newContext(B,b);this._isolatedContexts.add(F);F.on(ze.BrowserContext.Events.Close,(()=>this._isolatedContexts.delete(F)));const K=Le.BrowserContextDispatcher.from(this,F);this._dispatchEvent("context",{context:K});return{context:K}}async newContextForReuse(b,B){const F=await this._object.newContextForReuse(B,b);const K=Le.BrowserContextDispatcher.from(this,F);this._dispatchEvent("context",{context:K});return{context:K}}async disconnectFromReusedContext(b,B){const F=this._object.contextForReuse();const K=F?this.connection.existingDispatcher(F):void 0;if(K){await K.stopPendingOperations(new Error(b.reason));K._dispose()}}async close(b,B){if(this._options.ignoreStopAndKill)return;B.metadata.potentiallyClosesScope=true;await this._object.close(b)}async killForTests(b,B){if(this._options.ignoreStopAndKill)return;B.metadata.potentiallyClosesScope=true;await this._object.killForTests()}async defaultUserAgentForTest(){return{userAgent:this._object.userAgent()}}async newBrowserCDPSession(b,B){if(!this._object.options.isChromium)throw new Error(`CDP session is only available in Chromium`);const F=this._object;return{session:new We.CDPSessionDispatcher(this,await F.newBrowserCDPSession())}}async startTracing(b,B){if(!this._object.options.isChromium)throw new Error(`Tracing is only available in Chromium`);const F=this._object;await F.startTracing(b.page?b.page._object:void 0,b)}async stopTracing(b,B){if(!this._object.options.isChromium)throw new Error(`Tracing is only available in Chromium`);const F=this._object;return{artifact:$e.ArtifactDispatcher.from(this,await F.stopTracing())}}async cleanupContexts(){await Promise.all(Array.from(this._isolatedContexts).map((b=>b.close({reason:"Global context cleanup (connection terminated)"}))))}}0&&0},3656:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{BrowserTypeDispatcher:()=>BrowserTypeDispatcher});b.exports=__toCommonJS(Re);var Me=F(1351);var Le=F(9224);var We=F(8980);class BrowserTypeDispatcher extends We.Dispatcher{constructor(b,B,F){super(b,B,"BrowserType",{executablePath:B.executablePath(),name:B.name()});this._type_BrowserType=true;this._denyLaunch=F}async launch(b,B){if(this._denyLaunch)throw new Error(`Launching more browsers is not allowed.`);const F=await this._object.launch(B,b);return{browser:new Le.BrowserDispatcher(this,F)}}async launchPersistentContext(b,B){if(this._denyLaunch)throw new Error(`Launching more browsers is not allowed.`);const F=await this._object.launchPersistentContext(B,b.userDataDir,b);const K=new Le.BrowserDispatcher(this,F._browser);const se=Me.BrowserContextDispatcher.from(K,F);return{browser:K,context:se}}async connectOverCDP(b,B){if(this._denyLaunch)throw new Error(`Launching more browsers is not allowed.`);const F=await this._object.connectOverCDP(B,b.endpointURL,b);const K=new Le.BrowserDispatcher(this,F);return{browser:K,defaultContext:F._defaultContext?Me.BrowserContextDispatcher.from(K,F._defaultContext):void 0}}}0&&0},7423:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{CDPSessionDispatcher:()=>CDPSessionDispatcher});b.exports=__toCommonJS(Re);var Me=F(8980);var Le=F(508);class CDPSessionDispatcher extends Me.Dispatcher{constructor(b,B){super(b,B,"CDPSession",{});this._type_CDPSession=true;this.addObjectListener(Le.CDPSession.Events.Event,(({method:b,params:B})=>this._dispatchEvent("event",{method:b,params:B})));this.addObjectListener(Le.CDPSession.Events.Closed,(()=>this._dispose()))}async send(b,B){return{result:await B.race(this._object.send(b.method,b.params))}}async detach(b,B){B.metadata.potentiallyClosesScope=true;await this._object.detach()}}0&&0},7335:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{DebugControllerDispatcher:()=>DebugControllerDispatcher});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(9179);var We=F(8980);class DebugControllerDispatcher extends We.Dispatcher{constructor(b,B){super(b,B,"DebugController",{});this._type_DebugController=true;this._listeners=[Me.eventsHelper.addEventListener(this._object,Le.DebugController.Events.StateChanged,(b=>{this._dispatchEvent("stateChanged",b)})),Me.eventsHelper.addEventListener(this._object,Le.DebugController.Events.InspectRequested,(({selector:b,locator:B,ariaSnapshot:F})=>{this._dispatchEvent("inspectRequested",{selector:b,locator:B,ariaSnapshot:F})})),Me.eventsHelper.addEventListener(this._object,Le.DebugController.Events.SourceChanged,(({text:b,header:B,footer:F,actions:K})=>{this._dispatchEvent("sourceChanged",{text:b,header:B,footer:F,actions:K})})),Me.eventsHelper.addEventListener(this._object,Le.DebugController.Events.Paused,(({paused:b})=>{this._dispatchEvent("paused",{paused:b})})),Me.eventsHelper.addEventListener(this._object,Le.DebugController.Events.SetModeRequested,(({mode:b})=>{this._dispatchEvent("setModeRequested",{mode:b})}))]}async initialize(b,B){this._object.initialize(b.codegenId,b.sdkLanguage)}async setReportStateChanged(b,B){this._object.setReportStateChanged(b.enabled)}async setRecorderMode(b,B){await this._object.setRecorderMode(B,b)}async highlight(b,B){await this._object.highlight(B,b)}async hideHighlight(b,B){await this._object.hideHighlight(B)}async resume(b,B){await this._object.resume(B)}async kill(b,B){this._object.kill()}_onDispose(){Me.eventsHelper.removeEventListeners(this._listeners);this._object.dispose()}}0&&0},564:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{DialogDispatcher:()=>DialogDispatcher});b.exports=__toCommonJS(Re);var Me=F(8980);var Le=F(9804);class DialogDispatcher extends Me.Dispatcher{constructor(b,B){const F=Le.PageDispatcher.fromNullable(b,B.page().initializedOrUndefined());super(F||b,B,"Dialog",{page:F,type:B.type(),message:B.message(),defaultValue:B.defaultValue()});this._type_Dialog=true}async accept(b,B){await B.race(this._object.accept(b.promptText))}async dismiss(b,B){await B.race(this._object.dismiss())}}0&&0},8980:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Dispatcher:()=>Dispatcher,DispatcherConnection:()=>DispatcherConnection,RootDispatcher:()=>RootDispatcher,setMaxDispatchersForTest:()=>setMaxDispatchersForTest});b.exports=__toCommonJS(Re);var Me=F(4434);var Le=F(8753);var We=F(8789);var Ge=F(3143);var ze=F(3113);var $e=F(541);var Ye=F(6938);var Ke=F(6390);var Xe=F(7538);var et=F(1603);var rt=F(9757);const it=(0,We.createMetadataValidator)();let ot;function setMaxDispatchersForTest(b){ot=b}function maxDispatchersForBucket(b){return ot??{JSHandle:1e5,ElementHandle:1e5}[b]??1e4}class Dispatcher extends Me.EventEmitter{constructor(b,B,F,K,se){super();this._dispatchers=new Map;this._disposed=false;this._eventListeners=[];this._activeProgressControllers=new Set;this.connection=b instanceof DispatcherConnection?b:b.connection;this._parent=b instanceof DispatcherConnection?void 0:b;const oe=B.guid;this._guid=oe;this._type=F;this._object=B;this._gcBucket=se??F;this.connection.registerDispatcher(this);if(this._parent){(0,Ge.assert)(!this._parent._dispatchers.has(oe));this._parent._dispatchers.set(oe,this)}if(this._parent)this.connection.sendCreate(this._parent,F,oe,K);this.connection.maybeDisposeStaleDispatchers(this._gcBucket)}parentScope(){return this._parent}addObjectListener(b,B){this._eventListeners.push(Le.eventsHelper.addEventListener(this._object,b,B))}adopt(b){if(b._parent===this)return;const B=b._parent;B._dispatchers.delete(b._guid);this._dispatchers.set(b._guid,b);b._parent=this;this.connection.sendAdopt(this,b)}async _runCommand(b,B,F){const K=new rt.ProgressController(b,(B=>{const F=this._object.logName||"api";Ge.debugLogger.log(F,B);this._object.instrumentation.onCallLog(this._object,b,F,B)}));this._activeProgressControllers.add(K);try{return await K.run((b=>this[B](F,b)),F?.timeout)}finally{this._activeProgressControllers.delete(K)}}_dispatchEvent(b,B){if(this._disposed){if((0,ze.isUnderTest)())throw new Error(`${this._guid} is sending "${String(b)}" event after being disposed`);return}this.connection.sendEvent(this,b,B)}_dispose(b){this._disposeRecursively(new $e.TargetClosedError);this.connection.sendDispose(this,b)}_onDispose(){}async stopPendingOperations(b){const B=[];const collect=b=>{B.push(...b._activeProgressControllers);for(const B of[...b._dispatchers.values()])collect(B)};collect(this);await Promise.all(B.map((B=>B.abort(b))))}_disposeRecursively(b){(0,Ge.assert)(!this._disposed,`${this._guid} is disposed more than once`);for(const B of this._activeProgressControllers){if(!B.metadata.potentiallyClosesScope)B.abort(b).catch((()=>{}))}this._onDispose();this._disposed=true;Le.eventsHelper.removeEventListeners(this._eventListeners);this._parent?._dispatchers.delete(this._guid);const B=this.connection._dispatchersByBucket.get(this._gcBucket);B?.delete(this._guid);this.connection._dispatcherByGuid.delete(this._guid);this.connection._dispatcherByObject.delete(this._object);for(const B of[...this._dispatchers.values()])B._disposeRecursively(b);this._dispatchers.clear()}_debugScopeState(){return{_guid:this._guid,objects:Array.from(this._dispatchers.values()).map((b=>b._debugScopeState()))}}async waitForEventInfo(){}}class RootDispatcher extends Dispatcher{constructor(b,B){super(b,(0,Ye.createRootSdkObject)(),"Root",{});this.createPlaywright=B;this._initialized=false}async initialize(b,B){(0,Ge.assert)(this.createPlaywright);(0,Ge.assert)(!this._initialized);this._initialized=true;return{playwright:await this.createPlaywright(this,b)}}}class DispatcherConnection{constructor(b){this._dispatcherByGuid=new Map;this._dispatcherByObject=new Map;this._dispatchersByBucket=new Map;this.onmessage=b=>{};this._waitOperations=new Map;this._isLocal=!!b}sendEvent(b,B,F){const K=(0,We.findValidator)(b._type,B,"Event");F=K(F,"",this._validatorToWireContext());this.onmessage({guid:b._guid,method:B,params:F})}sendCreate(b,B,F,K){const se=(0,We.findValidator)(B,"","Initializer");K=se(K,"",this._validatorToWireContext());this.onmessage({guid:b._guid,method:"__create__",params:{type:B,initializer:K,guid:F}})}sendAdopt(b,B){this.onmessage({guid:b._guid,method:"__adopt__",params:{guid:B._guid}})}sendDispose(b,B){this.onmessage({guid:b._guid,method:"__dispose__",params:{reason:B}})}_validatorToWireContext(){return{tChannelImpl:this._tChannelImplToWire.bind(this),binary:this._isLocal?"buffer":"toBase64",isUnderTest:ze.isUnderTest}}_validatorFromWireContext(){return{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._isLocal?"buffer":"fromBase64",isUnderTest:ze.isUnderTest}}_tChannelImplFromWire(b,B,F,K){if(B&&typeof B==="object"&&typeof B.guid==="string"){const K=B.guid;const se=this._dispatcherByGuid.get(K);if(!se)throw new We.ValidationError(`${F}: no object with guid ${K}`);if(b!=="*"&&!b.includes(se._type))throw new We.ValidationError(`${F}: object with guid ${K} has type ${se._type}, expected ${b.toString()}`);return se}throw new We.ValidationError(`${F}: expected guid for ${b.toString()}`)}_tChannelImplToWire(b,B,F,K){if(B instanceof Dispatcher){if(b!=="*"&&!b.includes(B._type))throw new We.ValidationError(`${F}: dispatcher with guid ${B._guid} has type ${B._type}, expected ${b.toString()}`);return{guid:B._guid}}throw new We.ValidationError(`${F}: expected dispatcher ${b.toString()}`)}existingDispatcher(b){return this._dispatcherByObject.get(b)}registerDispatcher(b){(0,Ge.assert)(!this._dispatcherByGuid.has(b._guid));this._dispatcherByGuid.set(b._guid,b);this._dispatcherByObject.set(b._object,b);let B=this._dispatchersByBucket.get(b._gcBucket);if(!B){B=new Set;this._dispatchersByBucket.set(b._gcBucket,B)}B.add(b._guid)}maybeDisposeStaleDispatchers(b){const B=maxDispatchersForBucket(b);const F=this._dispatchersByBucket.get(b);if(!F||F.size<=B)return;const K=[...F];const se=B/10|0;this._dispatchersByBucket.set(b,new Set(K.slice(se)));for(let b=0;b<se;++b){const B=this._dispatcherByGuid.get(K[b]);if(!B)continue;B._dispose("gc")}}async dispatch(b){const{id:B,guid:F,method:K,params:se,metadata:oe}=b;const Qe=this._dispatcherByGuid.get(F);if(!Qe){this.onmessage({id:B,error:(0,$e.serializeError)(new $e.TargetClosedError)});return}let Re;let Me;try{const b=(0,We.findValidator)(Qe._type,K,"Params");const B=this._validatorFromWireContext();Re=b(se,"",B);Me=it(oe,"",B);if(typeof Qe[K]!=="function")throw new Error(`Mismatching dispatcher: "${Qe._type}" does not implement "${K}"`)}catch(b){this.onmessage({id:B,error:(0,$e.serializeError)(b)});return}const Le=et.methodMetainfo.get(Qe._type+"."+K);if(Le?.internal){Me.internal=true}const ze=Qe._object;const Ye={id:`call@${B}`,location:Me.location,title:Me.title,internal:Me.internal,stepId:Me.stepId,objectId:ze.guid,pageId:ze.attribution?.page?.guid,frameId:ze.attribution?.frame?.guid,startTime:(0,Ge.monotonicTime)(),endTime:0,type:Qe._type,method:K,params:se||{},log:[]};if(se?.info?.waitId){const b=se.info;switch(b.phase){case"before":{this._waitOperations.set(b.waitId,Ye);await ze.instrumentation.onBeforeCall(ze,Ye);this.onmessage({id:B});return}case"log":{const F=this._waitOperations.get(b.waitId);F.log.push(b.message);ze.instrumentation.onCallLog(ze,F,"api",b.message);this.onmessage({id:B});return}case"after":{const F=this._waitOperations.get(b.waitId);F.endTime=(0,Ge.monotonicTime)();F.error=b.error?{error:{name:"Error",message:b.error}}:void 0;this._waitOperations.delete(b.waitId);await ze.instrumentation.onAfterCall(ze,F);this.onmessage({id:B});return}}}await ze.instrumentation.onBeforeCall(ze,Ye);const rt={id:B};try{if(this._dispatcherByGuid.get(F)!==Qe)throw new $e.TargetClosedError(closeReason(ze));const b=await Qe._runCommand(Ye,K,Re);const B=(0,We.findValidator)(Qe._type,K,"Result");rt.result=B(b,"",this._validatorToWireContext());Ye.result=b}catch(b){if((0,$e.isTargetClosedError)(b)){const B=closeReason(ze);if(B)(0,Ge.rewriteErrorMessage)(b,B)}else if((0,Ke.isProtocolError)(b)){if(b.type==="closed")b=new $e.TargetClosedError(closeReason(ze),b.browserLogMessage());else if(b.type==="crashed")(0,Ge.rewriteErrorMessage)(b,"Target crashed "+b.browserLogMessage())}rt.error=(0,$e.serializeError)(b);Ye.error=rt.error}finally{Ye.endTime=(0,Ge.monotonicTime)();await ze.instrumentation.onAfterCall(ze,Ye);if(Le?.slowMo)await this._doSlowMo(ze)}if(rt.error)rt.log=(0,Xe.compressCallLog)(Ye.log);this.onmessage(rt)}async _doSlowMo(b){const B=b.attribution.browser?.options.slowMo;if(B)await new Promise((b=>setTimeout(b,B)))}}function closeReason(b){return b.attribution.page?.closeReason||b.attribution.context?._closeReason||b.attribution.browser?._closeReason}0&&0},4274:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ElectronApplicationDispatcher:()=>ElectronApplicationDispatcher,ElectronDispatcher:()=>ElectronDispatcher});b.exports=__toCommonJS(Re);var Me=F(1351);var Le=F(8980);var We=F(6117);var Ge=F(6974);class ElectronDispatcher extends Le.Dispatcher{constructor(b,B,F){super(b,B,"Electron",{});this._type_Electron=true;this._denyLaunch=F}async launch(b,B){if(this._denyLaunch)throw new Error(`Launching more browsers is not allowed.`);const F=await this._object.launch(B,b);return{electronApplication:new ElectronApplicationDispatcher(this,F)}}}class ElectronApplicationDispatcher extends Le.Dispatcher{constructor(b,B){super(b,B,"ElectronApplication",{context:Me.BrowserContextDispatcher.from(b,B.context())});this._type_EventTarget=true;this._type_ElectronApplication=true;this._subscriptions=new Set;this.addObjectListener(Ge.ElectronApplication.Events.Close,(()=>{this._dispatchEvent("close");this._dispose()}));this.addObjectListener(Ge.ElectronApplication.Events.Console,(b=>{if(!this._subscriptions.has("console"))return;this._dispatchEvent("console",{type:b.type(),text:b.text(),args:b.args().map((b=>We.JSHandleDispatcher.fromJSHandle(this,b))),location:b.location()})}))}async browserWindow(b,B){const F=await B.race(this._object.browserWindow(b.page.page()));return{handle:We.JSHandleDispatcher.fromJSHandle(this,F)}}async evaluateExpression(b,B){const F=await B.race(this._object._nodeElectronHandlePromise);return{value:(0,We.serializeResult)(await B.race(F.evaluateExpression(b.expression,{isFunction:b.isFunction},(0,We.parseArgument)(b.arg))))}}async evaluateExpressionHandle(b,B){const F=await B.race(this._object._nodeElectronHandlePromise);const K=await B.race(F.evaluateExpressionHandle(b.expression,{isFunction:b.isFunction},(0,We.parseArgument)(b.arg)));return{handle:We.JSHandleDispatcher.fromJSHandle(this,K)}}async updateSubscription(b,B){if(b.enabled)this._subscriptions.add(b.event);else this._subscriptions.delete(b.event)}}0&&0},4100:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ElementHandleDispatcher:()=>ElementHandleDispatcher});b.exports=__toCommonJS(Re);var Me=F(1351);var Le=F(4137);var We=F(6117);class ElementHandleDispatcher extends We.JSHandleDispatcher{constructor(b,B){super(b,B);this._type_ElementHandle=true;this._elementHandle=B}static from(b,B){return b.connection.existingDispatcher(B)||new ElementHandleDispatcher(b,B)}static fromNullable(b,B){if(!B)return void 0;return b.connection.existingDispatcher(B)||new ElementHandleDispatcher(b,B)}static fromJSOrElementHandle(b,B){const F=b.connection.existingDispatcher(B);if(F)return F;const K=B.asElement();if(!K)return new We.JSHandleDispatcher(b,B);return new ElementHandleDispatcher(b,K)}async ownerFrame(b,B){const F=await this._elementHandle.ownerFrame();return{frame:F?Le.FrameDispatcher.from(this._browserContextDispatcher(),F):void 0}}async contentFrame(b,B){const F=await B.race(this._elementHandle.contentFrame());return{frame:F?Le.FrameDispatcher.from(this._browserContextDispatcher(),F):void 0}}async getAttribute(b,B){const F=await this._elementHandle.getAttribute(B,b.name);return{value:F===null?void 0:F}}async inputValue(b,B){const F=await this._elementHandle.inputValue(B);return{value:F}}async textContent(b,B){const F=await this._elementHandle.textContent(B);return{value:F===null?void 0:F}}async innerText(b,B){return{value:await this._elementHandle.innerText(B)}}async innerHTML(b,B){return{value:await this._elementHandle.innerHTML(B)}}async isChecked(b,B){return{value:await this._elementHandle.isChecked(B)}}async isDisabled(b,B){return{value:await this._elementHandle.isDisabled(B)}}async isEditable(b,B){return{value:await this._elementHandle.isEditable(B)}}async isEnabled(b,B){return{value:await this._elementHandle.isEnabled(B)}}async isHidden(b,B){return{value:await this._elementHandle.isHidden(B)}}async isVisible(b,B){return{value:await this._elementHandle.isVisible(B)}}async dispatchEvent(b,B){await this._elementHandle.dispatchEvent(B,b.type,(0,We.parseArgument)(b.eventInit))}async scrollIntoViewIfNeeded(b,B){await this._elementHandle.scrollIntoViewIfNeeded(B)}async hover(b,B){return await this._elementHandle.hover(B,b)}async click(b,B){return await this._elementHandle.click(B,b)}async dblclick(b,B){return await this._elementHandle.dblclick(B,b)}async tap(b,B){return await this._elementHandle.tap(B,b)}async selectOption(b,B){const F=(b.elements||[]).map((b=>b._elementHandle));return{values:await this._elementHandle.selectOption(B,F,b.options||[],b)}}async fill(b,B){return await this._elementHandle.fill(B,b.value,b)}async selectText(b,B){await this._elementHandle.selectText(B,b)}async setInputFiles(b,B){return await this._elementHandle.setInputFiles(B,b)}async focus(b,B){await this._elementHandle.focus(B)}async type(b,B){return await this._elementHandle.type(B,b.text,b)}async press(b,B){return await this._elementHandle.press(B,b.key,b)}async check(b,B){return await this._elementHandle.check(B,b)}async uncheck(b,B){return await this._elementHandle.uncheck(B,b)}async boundingBox(b,B){const F=await B.race(this._elementHandle.boundingBox());return{value:F||void 0}}async screenshot(b,B){const F=(b.mask||[]).map((({frame:b,selector:B})=>({frame:b._object,selector:B})));return{binary:await this._elementHandle.screenshot(B,{...b,mask:F})}}async querySelector(b,B){const F=await B.race(this._elementHandle.querySelector(b.selector,b));return{element:ElementHandleDispatcher.fromNullable(this.parentScope(),F)}}async querySelectorAll(b,B){const F=await B.race(this._elementHandle.querySelectorAll(b.selector));return{elements:F.map((b=>ElementHandleDispatcher.from(this.parentScope(),b)))}}async evalOnSelector(b,B){return{value:(0,We.serializeResult)(await B.race(this._elementHandle.evalOnSelector(b.selector,!!b.strict,b.expression,b.isFunction,(0,We.parseArgument)(b.arg))))}}async evalOnSelectorAll(b,B){return{value:(0,We.serializeResult)(await B.race(this._elementHandle.evalOnSelectorAll(b.selector,b.expression,b.isFunction,(0,We.parseArgument)(b.arg))))}}async waitForElementState(b,B){await this._elementHandle.waitForElementState(B,b.state)}async waitForSelector(b,B){return{element:ElementHandleDispatcher.fromNullable(this.parentScope(),await this._elementHandle.waitForSelector(B,b.selector,b))}}_browserContextDispatcher(){const b=this.parentScope().parentScope();if(b instanceof Me.BrowserContextDispatcher)return b;return b.parentScope()}}0&&0},4137:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{FrameDispatcher:()=>FrameDispatcher});b.exports=__toCommonJS(Re);var Me=F(7416);var Le=F(8980);var We=F(4100);var Ge=F(6117);var ze=F(2217);var $e=F(2217);var Ye=F(7691);var Ke=F(6327);class FrameDispatcher extends Le.Dispatcher{constructor(b,B){const F=B._page.mainFrame()===B?"MainFrame":"Frame";const K=b.connection.existingDispatcher(B._page);super(K||b,B,"Frame",{url:B.url(),name:B.name(),parentFrame:FrameDispatcher.fromNullable(b,B.parentFrame()),loadStates:Array.from(B._firedLifecycleEvents)},F);this._type_Frame=true;this._browserContextDispatcher=b;this._frame=B;this.addObjectListener(Me.Frame.Events.AddLifecycle,(b=>{this._dispatchEvent("loadstate",{add:b})}));this.addObjectListener(Me.Frame.Events.RemoveLifecycle,(b=>{this._dispatchEvent("loadstate",{remove:b})}));this.addObjectListener(Me.Frame.Events.InternalNavigation,(b=>{if(!b.isPublic)return;const B={url:b.url,name:b.name,error:b.error?b.error.message:void 0};if(b.newDocument)B.newDocument={request:$e.RequestDispatcher.fromNullable(this._browserContextDispatcher,b.newDocument.request||null)};this._dispatchEvent("navigated",B)}))}static from(b,B){const F=b.connection.existingDispatcher(B);return F||new FrameDispatcher(b,B)}static fromNullable(b,B){if(!B)return;return FrameDispatcher.from(b,B)}async goto(b,B){return{response:ze.ResponseDispatcher.fromNullable(this._browserContextDispatcher,await this._frame.goto(B,b.url,b))}}async frameElement(b,B){return{element:We.ElementHandleDispatcher.from(this,await B.race(this._frame.frameElement()))}}async evaluateExpression(b,B){return{value:(0,Ge.serializeResult)(await B.race(this._frame.evaluateExpression(b.expression,{isFunction:b.isFunction},(0,Ge.parseArgument)(b.arg))))}}async evaluateExpressionHandle(b,B){return{handle:We.ElementHandleDispatcher.fromJSOrElementHandle(this,await B.race(this._frame.evaluateExpressionHandle(b.expression,{isFunction:b.isFunction},(0,Ge.parseArgument)(b.arg))))}}async waitForSelector(b,B){return{element:We.ElementHandleDispatcher.fromNullable(this,await this._frame.waitForSelector(B,b.selector,true,b))}}async dispatchEvent(b,B){return this._frame.dispatchEvent(B,b.selector,b.type,(0,Ge.parseArgument)(b.eventInit),b)}async evalOnSelector(b,B){return{value:(0,Ge.serializeResult)(await B.race(this._frame.evalOnSelector(b.selector,!!b.strict,b.expression,b.isFunction,(0,Ge.parseArgument)(b.arg))))}}async evalOnSelectorAll(b,B){return{value:(0,Ge.serializeResult)(await B.race(this._frame.evalOnSelectorAll(b.selector,b.expression,b.isFunction,(0,Ge.parseArgument)(b.arg))))}}async querySelector(b,B){return{element:We.ElementHandleDispatcher.fromNullable(this,await B.race(this._frame.querySelector(b.selector,b)))}}async querySelectorAll(b,B){const F=await B.race(this._frame.querySelectorAll(b.selector));return{elements:F.map((b=>We.ElementHandleDispatcher.from(this,b)))}}async queryCount(b,B){return{value:await B.race(this._frame.queryCount(b.selector,b))}}async content(b,B){return{value:await B.race(this._frame.content())}}async setContent(b,B){return await this._frame.setContent(B,b.html,b)}async addScriptTag(b,B){return{element:We.ElementHandleDispatcher.from(this,await B.race(this._frame.addScriptTag(b)))}}async addStyleTag(b,B){return{element:We.ElementHandleDispatcher.from(this,await B.race(this._frame.addStyleTag(b)))}}async click(b,B){B.metadata.potentiallyClosesScope=true;return await this._frame.click(B,b.selector,b)}async dblclick(b,B){return await this._frame.dblclick(B,b.selector,b)}async dragAndDrop(b,B){return await this._frame.dragAndDrop(B,b.source,b.target,b)}async tap(b,B){return await this._frame.tap(B,b.selector,b)}async fill(b,B){return await this._frame.fill(B,b.selector,b.value,b)}async focus(b,B){await this._frame.focus(B,b.selector,b)}async blur(b,B){await this._frame.blur(B,b.selector,b)}async textContent(b,B){const F=await this._frame.textContent(B,b.selector,b);return{value:F===null?void 0:F}}async innerText(b,B){return{value:await this._frame.innerText(B,b.selector,b)}}async innerHTML(b,B){return{value:await this._frame.innerHTML(B,b.selector,b)}}async resolveSelector(b,B){return await this._frame.resolveSelector(B,b.selector)}async getAttribute(b,B){const F=await this._frame.getAttribute(B,b.selector,b.name,b);return{value:F===null?void 0:F}}async inputValue(b,B){const F=await this._frame.inputValue(B,b.selector,b);return{value:F}}async isChecked(b,B){return{value:await this._frame.isChecked(B,b.selector,b)}}async isDisabled(b,B){return{value:await this._frame.isDisabled(B,b.selector,b)}}async isEditable(b,B){return{value:await this._frame.isEditable(B,b.selector,b)}}async isEnabled(b,B){return{value:await this._frame.isEnabled(B,b.selector,b)}}async isHidden(b,B){return{value:await this._frame.isHidden(B,b.selector,b)}}async isVisible(b,B){return{value:await this._frame.isVisible(B,b.selector,b)}}async hover(b,B){return await this._frame.hover(B,b.selector,b)}async selectOption(b,B){const F=(b.elements||[]).map((b=>b._elementHandle));return{values:await this._frame.selectOption(B,b.selector,F,b.options||[],b)}}async setInputFiles(b,B){return await this._frame.setInputFiles(B,b.selector,b)}async type(b,B){return await this._frame.type(B,b.selector,b.text,b)}async press(b,B){return await this._frame.press(B,b.selector,b.key,b)}async check(b,B){return await this._frame.check(B,b.selector,b)}async uncheck(b,B){return await this._frame.uncheck(B,b.selector,b)}async waitForTimeout(b,B){return await this._frame.waitForTimeout(B,b.waitTimeout)}async waitForFunction(b,B){return{handle:We.ElementHandleDispatcher.fromJSOrElementHandle(this,await this._frame.waitForFunctionExpression(B,b.expression,b.isFunction,(0,Ge.parseArgument)(b.arg),b))}}async title(b,B){return{value:await B.race(this._frame.title())}}async highlight(b,B){return await this._frame.highlight(B,b.selector)}async expect(b,B){B.metadata.potentiallyClosesScope=true;let F=b.expectedValue?(0,Ge.parseArgument)(b.expectedValue):void 0;if(b.expression==="to.match.aria"&&F)F=(0,Ye.parseAriaSnapshotUnsafe)(Ke.yaml,F);const K=await this._frame.expect(B,b.selector,{...b,expectedValue:F},b.timeout);if(K.received!==void 0)K.received=(0,Ge.serializeResult)(K.received);return K}async ariaSnapshot(b,B){return{snapshot:await this._frame.ariaSnapshot(B,b.selector)}}}0&&0},6117:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{JSHandleDispatcher:()=>JSHandleDispatcher,parseArgument:()=>parseArgument,parseValue:()=>parseValue,serializeResult:()=>serializeResult});b.exports=__toCommonJS(Re);var Me=F(8980);var Le=F(4100);var We=F(5386);class JSHandleDispatcher extends Me.Dispatcher{constructor(b,B){super(b,B,B.asElement()?"ElementHandle":"JSHandle",{preview:B.toString()});this._type_JSHandle=true;B._setPreviewCallback((b=>this._dispatchEvent("previewUpdated",{preview:b})))}static fromJSHandle(b,B){return b.connection.existingDispatcher(B)||new JSHandleDispatcher(b,B)}async evaluateExpression(b,B){const F=await B.race(this._object.evaluateExpression(b.expression,{isFunction:b.isFunction},parseArgument(b.arg)));return{value:serializeResult(F)}}async evaluateExpressionHandle(b,B){const F=await B.race(this._object.evaluateExpressionHandle(b.expression,{isFunction:b.isFunction},parseArgument(b.arg)));return{handle:Le.ElementHandleDispatcher.fromJSOrElementHandle(this.parentScope(),F)}}async getProperty(b,B){const F=await B.race(this._object.getProperty(b.name));return{handle:Le.ElementHandleDispatcher.fromJSOrElementHandle(this.parentScope(),F)}}async getPropertyList(b,B){const F=await B.race(this._object.getProperties());const K=[];for(const[b,B]of F){K.push({name:b,value:Le.ElementHandleDispatcher.fromJSOrElementHandle(this.parentScope(),B)})}return{properties:K}}async jsonValue(b,B){return{value:serializeResult(await B.race(this._object.jsonValue()))}}async dispose(b,B){B.metadata.potentiallyClosesScope=true;this._object.dispose();this._dispose()}}function parseArgument(b){return(0,We.parseSerializedValue)(b.value,b.handles.map((b=>b._object)))}function parseValue(b){return(0,We.parseSerializedValue)(b,[])}function serializeResult(b){return(0,We.serializeValue)(b,(b=>({fallThrough:b})))}0&&0},7290:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{JsonPipeDispatcher:()=>JsonPipeDispatcher});b.exports=__toCommonJS(Re);var Me=F(8980);var Le=F(6938);class JsonPipeDispatcher extends Me.Dispatcher{constructor(b){super(b,new Le.SdkObject(b._object,"jsonPipe"),"JsonPipe",{});this._type_JsonPipe=true}async send(b,B){this.emit("message",b.message)}async close(b,B){this.emit("close");if(!this._disposed){this._dispatchEvent("closed",{});this._dispose()}}dispatch(b){if(!this._disposed)this._dispatchEvent("message",{message:b})}wasClosed(b){if(!this._disposed){this._dispatchEvent("closed",{reason:b});this._dispose()}}dispose(){this._dispose()}}0&&0},6836:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{LocalUtilsDispatcher:()=>LocalUtilsDispatcher});b.exports=__toCommonJS(Le);var We=F(8980);var Ge=F(6938);var ze=__toESM(F(9122));var $e=F(6230);var Ye=F(7332);var Ke=F(7290);var Xe=F(9178);var et=F(369);var rt=F(6028);var it=F(2164);class LocalUtilsDispatcher extends We.Dispatcher{constructor(b,B){const F=new Ge.SdkObject(B,"localUtils","localUtils");F.logName="browser";const K=Object.entries(Ye.deviceDescriptors).map((([b,B])=>({name:b,descriptor:B})));super(b,F,"LocalUtils",{deviceDescriptors:K});this._harBackends=new Map;this._stackSessions=new Map;this._type_LocalUtils=true}async zip(b,B){return await ze.zip(B,this._stackSessions,b)}async harOpen(b,B){return await ze.harOpen(B,this._harBackends,b)}async harLookup(b,B){return await ze.harLookup(B,this._harBackends,b)}async harClose(b,B){ze.harClose(this._harBackends,b)}async harUnzip(b,B){return await ze.harUnzip(B,b)}async tracingStarted(b,B){return await ze.tracingStarted(B,this._stackSessions,b)}async traceDiscarded(b,B){return await ze.traceDiscarded(B,this._stackSessions,b)}async addStackToTracingNoReply(b,B){ze.addStackToTracingNoReply(this._stackSessions,b)}async connect(b,B){const F={"User-Agent":(0,$e.getUserAgent)(),"x-playwright-proxy":b.exposeNetwork??"",...b.headers};const K=await urlToWSEndpoint(B,b.wsEndpoint);const se=await et.WebSocketTransport.connect(B,K,{headers:F,followRedirects:true,debugLogHeader:"x-playwright-debug-log"});const oe=new Xe.SocksInterceptor(se,b.exposeNetwork,b.socksProxyRedirectPortForTest);const Qe=new Ke.JsonPipeDispatcher(this);se.onmessage=B=>{if(oe.interceptMessage(B))return;const cb=()=>{try{Qe.dispatch(B)}catch(b){se.close()}};if(b.slowMo)setTimeout(cb,b.slowMo);else cb()};Qe.on("message",(b=>{se.send(b)}));se.onclose=b=>{oe?.cleanup();Qe.wasClosed(b)};Qe.on("close",(()=>se.close()));return{pipe:Qe,headers:se.headers}}async globToRegex(b,B){const F=(0,it.resolveGlobToRegexPattern)(b.baseURL,b.glob,b.webSocketUrl);return{regex:F}}}async function urlToWSEndpoint(b,B){if(B.startsWith("ws"))return B;b.log(`<ws preparing> retrieving websocket url from ${B}`);const F=new URL(B);if(!F.pathname.endsWith("/"))F.pathname+="/";F.pathname+="json";const K=await(0,rt.fetchData)(b,{url:F.toString(),method:"GET",headers:{"User-Agent":(0,$e.getUserAgent)()}},(async(b,B)=>new Error(`Unexpected status ${B.statusCode} when connecting to ${F.toString()}.\nThis does not look like a Playwright server, try connecting via ws://.`)));const se=new URL(B);let oe=JSON.parse(K).wsEndpointPath;if(oe.startsWith("/"))oe=oe.substring(1);if(!se.pathname.endsWith("/"))se.pathname+="/";se.pathname+=oe;se.protocol=se.protocol==="https:"?"wss:":"ws:";return se.toString()}0&&0},2217:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{APIRequestContextDispatcher:()=>APIRequestContextDispatcher,RequestDispatcher:()=>RequestDispatcher,ResponseDispatcher:()=>ResponseDispatcher,RouteDispatcher:()=>RouteDispatcher,WebSocketDispatcher:()=>WebSocketDispatcher});b.exports=__toCommonJS(Re);var Me=F(6370);var Le=F(8980);var We=F(4137);var Ge=F(9804);var ze=F(3874);var $e=F(6370);class RequestDispatcher extends Le.Dispatcher{static from(b,B){const F=b.connection.existingDispatcher(B);return F||new RequestDispatcher(b,B)}static fromNullable(b,B){return B?RequestDispatcher.from(b,B):void 0}constructor(b,B){const F=B.postDataBuffer();const K=B.frame();const se=B.frame()?._page;const oe=se?b.connection.existingDispatcher(se):null;const Qe=We.FrameDispatcher.fromNullable(b,K);super(oe||Qe||b,B,"Request",{frame:Qe,serviceWorker:Ge.WorkerDispatcher.fromNullable(b,B.serviceWorker()),url:B.url(),resourceType:B.resourceType(),method:B.method(),postData:F===null?void 0:F,headers:B.headers(),isNavigationRequest:B.isNavigationRequest(),redirectedFrom:RequestDispatcher.fromNullable(b,B.redirectedFrom()),hasResponse:!!B._existingResponse()});this._type_Request=true;this._browserContextDispatcher=b;this.addObjectListener($e.Request.Events.Response,(()=>this._dispatchEvent("response",{})))}async rawRequestHeaders(b,B){return{headers:await B.race(this._object.rawRequestHeaders())}}async response(b,B){return{response:ResponseDispatcher.fromNullable(this._browserContextDispatcher,await B.race(this._object.response()))}}}class ResponseDispatcher extends Le.Dispatcher{constructor(b,B){super(b,B,"Response",{request:b,url:B.url(),status:B.status(),statusText:B.statusText(),headers:B.headers(),timing:B.timing(),fromServiceWorker:B.fromServiceWorker()});this._type_Response=true}static from(b,B){const F=b.connection.existingDispatcher(B);const K=RequestDispatcher.from(b,B.request());return F||new ResponseDispatcher(K,B)}static fromNullable(b,B){return B?ResponseDispatcher.from(b,B):void 0}async body(b,B){return{binary:await B.race(this._object.body())}}async securityDetails(b,B){return{value:await B.race(this._object.securityDetails())||void 0}}async serverAddr(b,B){return{value:await B.race(this._object.serverAddr())||void 0}}async rawResponseHeaders(b,B){return{headers:await B.race(this._object.rawResponseHeaders())}}async sizes(b,B){return{sizes:await B.race(this._object.sizes())}}}class RouteDispatcher extends Le.Dispatcher{constructor(b,B){super(b,B,"Route",{request:b});this._type_Route=true;this._handled=false}_checkNotHandled(){if(this._handled)throw new Error("Route is already handled!");this._handled=true}async continue(b,B){this._checkNotHandled();await this._object.continue({url:b.url,method:b.method,headers:b.headers,postData:b.postData,isFallback:b.isFallback})}async fulfill(b,B){this._checkNotHandled();await this._object.fulfill(b)}async abort(b,B){this._checkNotHandled();await this._object.abort(b.errorCode||"failed")}async redirectNavigationRequest(b,B){this._checkNotHandled();this._object.redirectNavigationRequest(b.url)}}class WebSocketDispatcher extends Le.Dispatcher{constructor(b,B){super(b,B,"WebSocket",{url:B.url()});this._type_EventTarget=true;this._type_WebSocket=true;this.addObjectListener(Me.WebSocket.Events.FrameSent,(b=>this._dispatchEvent("frameSent",b)));this.addObjectListener(Me.WebSocket.Events.FrameReceived,(b=>this._dispatchEvent("frameReceived",b)));this.addObjectListener(Me.WebSocket.Events.SocketError,(b=>this._dispatchEvent("socketError",{error:b})));this.addObjectListener(Me.WebSocket.Events.Close,(()=>this._dispatchEvent("close",{})))}}class APIRequestContextDispatcher extends Le.Dispatcher{constructor(b,B){const F=ze.TracingDispatcher.from(b,B.tracing());super(b,B,"APIRequestContext",{tracing:F});this._type_APIRequestContext=true;this.adopt(F)}static from(b,B){const F=b.connection.existingDispatcher(B);return F||new APIRequestContextDispatcher(b,B)}static fromNullable(b,B){return B?APIRequestContextDispatcher.from(b,B):void 0}async storageState(b,B){return await this._object.storageState(B,b.indexedDB)}async dispose(b,B){B.metadata.potentiallyClosesScope=true;await this._object.dispose(b);this._dispose()}async fetch(b,B){const F=await this._object.fetch(B,b);return{response:{url:F.url,status:F.status,statusText:F.statusText,headers:F.headers,fetchUid:F.fetchUid}}}async fetchResponseBody(b,B){return{binary:this._object.fetchResponses.get(b.fetchUid)}}async fetchLog(b,B){const F=this._object.fetchLog.get(b.fetchUid)||[];return{log:F}}async disposeAPIResponse(b,B){this._object.disposeResponse(b.fetchUid)}}0&&0},9804:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{BindingCallDispatcher:()=>BindingCallDispatcher,PageDispatcher:()=>PageDispatcher,WorkerDispatcher:()=>WorkerDispatcher});b.exports=__toCommonJS(Re);var Me=F(45);var Le=F(8980);var We=F(541);var Ge=F(6770);var ze=F(4100);var $e=F(4137);var Ye=F(6117);var Ke=F(2217);var Xe=F(2217);var et=F(2217);var rt=F(1104);var it=F(6938);var ot=F(2164);class PageDispatcher extends Le.Dispatcher{constructor(b,B){const F=$e.FrameDispatcher.from(b,B.mainFrame());super(b,B,"Page",{mainFrame:F,viewportSize:B.emulatedSize()?.viewport,isClosed:B.isClosed(),opener:PageDispatcher.fromNullable(b,B.opener())});this._type_EventTarget=true;this._type_Page=true;this._subscriptions=new Set;this._webSocketInterceptionPatterns=[];this._bindings=[];this._initScripts=[];this._interceptionUrlMatchers=[];this._locatorHandlers=new Set;this._jsCoverageActive=false;this._cssCoverageActive=false;this.adopt(F);this._page=B;this._requestInterceptor=(b,B)=>{const F=this._interceptionUrlMatchers.some((b=>(0,ot.urlMatches)(this._page.browserContext._options.baseURL,B.url(),b)));if(!F){b.continue({isFallback:true}).catch((()=>{}));return}this._dispatchEvent("route",{route:new et.RouteDispatcher(Ke.RequestDispatcher.from(this.parentScope(),B),b)})};this.addObjectListener(Me.Page.Events.Close,(()=>{this._dispatchEvent("close");this._dispose()}));this.addObjectListener(Me.Page.Events.Crash,(()=>this._dispatchEvent("crash")));this.addObjectListener(Me.Page.Events.Download,(B=>{this._dispatchEvent("download",{url:B.url,suggestedFilename:B.suggestedFilename(),artifact:Ge.ArtifactDispatcher.from(b,B.artifact)})}));this.addObjectListener(Me.Page.Events.EmulatedSizeChanged,(()=>this._dispatchEvent("viewportSizeChanged",{viewportSize:B.emulatedSize()?.viewport})));this.addObjectListener(Me.Page.Events.FileChooser,(b=>this._dispatchEvent("fileChooser",{element:ze.ElementHandleDispatcher.from(F,b.element()),isMultiple:b.isMultiple()})));this.addObjectListener(Me.Page.Events.FrameAttached,(b=>this._onFrameAttached(b)));this.addObjectListener(Me.Page.Events.FrameDetached,(b=>this._onFrameDetached(b)));this.addObjectListener(Me.Page.Events.LocatorHandlerTriggered,(b=>this._dispatchEvent("locatorHandlerTriggered",{uid:b})));this.addObjectListener(Me.Page.Events.WebSocket,(b=>this._dispatchEvent("webSocket",{webSocket:new et.WebSocketDispatcher(this,b)})));this.addObjectListener(Me.Page.Events.Worker,(b=>this._dispatchEvent("worker",{worker:new WorkerDispatcher(this,b)})));this.addObjectListener(Me.Page.Events.Video,(B=>this._dispatchEvent("video",{artifact:Ge.ArtifactDispatcher.from(b,B)})));if(B.video)this._dispatchEvent("video",{artifact:Ge.ArtifactDispatcher.from(this.parentScope(),B.video)});const K=B.frameManager.frames();for(let b=1;b<K.length;b++)this._onFrameAttached(K[b])}static from(b,B){return PageDispatcher.fromNullable(b,B)}static fromNullable(b,B){if(!B)return void 0;const F=b.connection.existingDispatcher(B);return F||new PageDispatcher(b,B)}page(){return this._page}async exposeBinding(b,B){const F=await this._page.exposeBinding(B,b.name,!!b.needsHandle,((B,...F)=>{if(this._disposed)return;const K=new BindingCallDispatcher(this,b.name,!!b.needsHandle,B,F);this._dispatchEvent("bindingCall",{binding:K});return K.promise()}));this._bindings.push(F)}async setExtraHTTPHeaders(b,B){await this._page.setExtraHTTPHeaders(B,b.headers)}async reload(b,B){return{response:Xe.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.reload(B,b))}}async goBack(b,B){return{response:Xe.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.goBack(B,b))}}async goForward(b,B){return{response:Xe.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.goForward(B,b))}}async requestGC(b,B){await B.race(this._page.requestGC())}async registerLocatorHandler(b,B){const F=this._page.registerLocatorHandler(b.selector,b.noWaitAfter);this._locatorHandlers.add(F);return{uid:F}}async resolveLocatorHandlerNoReply(b,B){this._page.resolveLocatorHandler(b.uid,b.remove)}async unregisterLocatorHandler(b,B){this._page.unregisterLocatorHandler(b.uid);this._locatorHandlers.delete(b.uid)}async emulateMedia(b,B){await this._page.emulateMedia(B,{media:b.media,colorScheme:b.colorScheme,reducedMotion:b.reducedMotion,forcedColors:b.forcedColors,contrast:b.contrast})}async setViewportSize(b,B){await this._page.setViewportSize(B,b.viewportSize)}async addInitScript(b,B){this._initScripts.push(await this._page.addInitScript(B,b.source))}async setNetworkInterceptionPatterns(b,B){const F=this._interceptionUrlMatchers.length>0;if(!b.patterns.length){if(F)await this._page.removeRequestInterceptor(this._requestInterceptor);this._interceptionUrlMatchers=[]}else{this._interceptionUrlMatchers=b.patterns.map((b=>b.regexSource?new RegExp(b.regexSource,b.regexFlags):b.glob));if(!F)await this._page.addRequestInterceptor(B,this._requestInterceptor)}}async setWebSocketInterceptionPatterns(b,B){this._webSocketInterceptionPatterns=b.patterns;if(b.patterns.length&&!this._routeWebSocketInitScript)this._routeWebSocketInitScript=await rt.WebSocketRouteDispatcher.install(B,this.connection,this._page)}async expectScreenshot(b,B){const F=(b.mask||[]).map((({frame:b,selector:B})=>({frame:b._object,selector:B})));const K=b.locator?{frame:b.locator.frame._object,selector:b.locator.selector}:void 0;return await this._page.expectScreenshot(B,{...b,locator:K,mask:F})}async screenshot(b,B){const F=(b.mask||[]).map((({frame:b,selector:B})=>({frame:b._object,selector:B})));return{binary:await this._page.screenshot(B,{...b,mask:F})}}async close(b,B){if(!b.runBeforeUnload)B.metadata.potentiallyClosesScope=true;await this._page.close(b)}async updateSubscription(b,B){if(b.event==="fileChooser")await this._page.setFileChooserInterceptedBy(b.enabled,this);if(b.enabled)this._subscriptions.add(b.event);else this._subscriptions.delete(b.event)}async keyboardDown(b,B){await this._page.keyboard.down(B,b.key)}async keyboardUp(b,B){await this._page.keyboard.up(B,b.key)}async keyboardInsertText(b,B){await this._page.keyboard.insertText(B,b.text)}async keyboardType(b,B){await this._page.keyboard.type(B,b.text,b)}async keyboardPress(b,B){await this._page.keyboard.press(B,b.key,b)}async consoleMessages(b,B){this._subscriptions.add("console");return{messages:this._page.consoleMessages().map((b=>this.parentScope().serializeConsoleMessage(b,this)))}}async pageErrors(b,B){return{errors:this._page.pageErrors().map((b=>(0,We.serializeError)(b)))}}async mouseMove(b,B){B.metadata.point={x:b.x,y:b.y};await this._page.mouse.move(B,b.x,b.y,b)}async mouseDown(b,B){B.metadata.point=this._page.mouse.currentPoint();await this._page.mouse.down(B,b)}async mouseUp(b,B){B.metadata.point=this._page.mouse.currentPoint();await this._page.mouse.up(B,b)}async mouseClick(b,B){B.metadata.point={x:b.x,y:b.y};await this._page.mouse.click(B,b.x,b.y,b)}async mouseWheel(b,B){await this._page.mouse.wheel(B,b.deltaX,b.deltaY)}async touchscreenTap(b,B){B.metadata.point={x:b.x,y:b.y};await this._page.touchscreen.tap(B,b.x,b.y)}async pdf(b,B){if(!this._page.pdf)throw new Error("PDF generation is only supported for Headless Chromium");const F=await B.race(this._page.pdf(b));return{pdf:F}}async requests(b,B){this._subscriptions.add("request");return{requests:this._page.networkRequests().map((b=>Ke.RequestDispatcher.from(this.parentScope(),b)))}}async snapshotForAI(b,B){return await this._page.snapshotForAI(B,b)}async bringToFront(b,B){await B.race(this._page.bringToFront())}async startJSCoverage(b,B){const F=this._page.coverage;await F.startJSCoverage(B,b);this._jsCoverageActive=true}async stopJSCoverage(b,B){this._jsCoverageActive=false;const F=this._page.coverage;return await F.stopJSCoverage()}async startCSSCoverage(b,B){const F=this._page.coverage;await F.startCSSCoverage(B,b);this._cssCoverageActive=true}async stopCSSCoverage(b,B){this._cssCoverageActive=false;const F=this._page.coverage;return await F.stopCSSCoverage()}_onFrameAttached(b){this._dispatchEvent("frameAttached",{frame:$e.FrameDispatcher.from(this.parentScope(),b)})}_onFrameDetached(b){this._dispatchEvent("frameDetached",{frame:$e.FrameDispatcher.from(this.parentScope(),b)})}_onDispose(){if(this._page.isClosedOrClosingOrCrashed())return;this._interceptionUrlMatchers=[];this._page.removeRequestInterceptor(this._requestInterceptor).catch((()=>{}));this._page.removeExposedBindings(this._bindings).catch((()=>{}));this._bindings=[];this._page.removeInitScripts(this._initScripts).catch((()=>{}));this._initScripts=[];if(this._routeWebSocketInitScript)rt.WebSocketRouteDispatcher.uninstall(this.connection,this._page,this._routeWebSocketInitScript).catch((()=>{}));this._routeWebSocketInitScript=void 0;for(const b of this._locatorHandlers)this._page.unregisterLocatorHandler(b);this._locatorHandlers.clear();this._page.setFileChooserInterceptedBy(false,this).catch((()=>{}));if(this._jsCoverageActive)this._page.coverage.stopJSCoverage().catch((()=>{}));this._jsCoverageActive=false;if(this._cssCoverageActive)this._page.coverage.stopCSSCoverage().catch((()=>{}));this._cssCoverageActive=false}}class WorkerDispatcher extends Le.Dispatcher{constructor(b,B){super(b,B,"Worker",{url:B.url});this._type_Worker=true;this._type_EventTarget=true;this._subscriptions=new Set;this.addObjectListener(Me.Worker.Events.Close,(()=>this._dispatchEvent("close")))}static fromNullable(b,B){if(!B)return void 0;const F=b.connection.existingDispatcher(B);return F||new WorkerDispatcher(b,B)}async evaluateExpression(b,B){return{value:(0,Ye.serializeResult)(await B.race(this._object.evaluateExpression(b.expression,b.isFunction,(0,Ye.parseArgument)(b.arg))))}}async evaluateExpressionHandle(b,B){return{handle:Ye.JSHandleDispatcher.fromJSHandle(this,await B.race(this._object.evaluateExpressionHandle(b.expression,b.isFunction,(0,Ye.parseArgument)(b.arg))))}}async updateSubscription(b,B){if(b.enabled)this._subscriptions.add(b.event);else this._subscriptions.delete(b.event)}}class BindingCallDispatcher extends Le.Dispatcher{constructor(b,B,F,K,se){const oe=$e.FrameDispatcher.from(b.parentScope(),K.frame);super(b,new it.SdkObject(b._object,"bindingCall"),"BindingCall",{frame:oe,name:B,args:F?void 0:se.map(Ye.serializeResult),handle:F?ze.ElementHandleDispatcher.fromJSOrElementHandle(oe,se[0]):void 0});this._type_BindingCall=true;this._promise=new Promise(((b,B)=>{this._resolve=b;this._reject=B}))}promise(){return this._promise}async resolve(b,B){this._resolve((0,Ye.parseArgument)(b.result));this._dispose()}async reject(b,B){this._reject((0,We.parseError)(b.error));this._dispose()}}0&&0},7503:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{PlaywrightDispatcher:()=>PlaywrightDispatcher});b.exports=__toCommonJS(Re);var Me=F(7611);var Le=F(1588);var We=F(7407);var Ge=F(7407);var ze=F(9224);var $e=F(3656);var Ye=F(8980);var Ke=F(4274);var Xe=F(6836);var et=F(2217);var rt=F(6938);var it=F(8753);class PlaywrightDispatcher extends Ye.Dispatcher{constructor(b,B,F={}){const K=F.denyLaunch??false;const se=new $e.BrowserTypeDispatcher(b,B.chromium,K);const oe=new $e.BrowserTypeDispatcher(b,B.firefox,K);const Qe=new $e.BrowserTypeDispatcher(b,B.webkit,K);const Re=new We.AndroidDispatcher(b,B.android);const Me={chromium:se,firefox:oe,webkit:Qe,android:Re,electron:new Ke.ElectronDispatcher(b,B.electron,K),utils:B.options.isServer?void 0:new Xe.LocalUtilsDispatcher(b,B),socksSupport:F.socksProxy?new SocksSupportDispatcher(b,B,F.socksProxy):void 0};let Le;if(F.preLaunchedBrowser){const b=Me[F.preLaunchedBrowser.options.name];Le=new ze.BrowserDispatcher(b,F.preLaunchedBrowser,{ignoreStopAndKill:true,isolateContexts:!F.sharedBrowser});Me.preLaunchedBrowser=Le}if(F.preLaunchedAndroidDevice)Me.preConnectedAndroidDevice=new Ge.AndroidDeviceDispatcher(Re,F.preLaunchedAndroidDevice);super(b,B,"Playwright",Me);this._type_Playwright=true;this._browserDispatcher=Le}async newRequest(b,B){const F=new Le.GlobalAPIRequestContext(this._object,b);return{request:et.APIRequestContextDispatcher.from(this.parentScope(),F)}}async cleanup(){await(this._browserDispatcher?.cleanupContexts())}}class SocksSupportDispatcher extends Ye.Dispatcher{constructor(b,B,F){super(b,new rt.SdkObject(B,"socksSupport"),"SocksSupport",{});this._type_SocksSupport=true;this._socksProxy=F;this._socksListeners=[it.eventsHelper.addEventListener(F,Me.SocksProxy.Events.SocksRequested,(b=>this._dispatchEvent("socksRequested",b))),it.eventsHelper.addEventListener(F,Me.SocksProxy.Events.SocksData,(b=>this._dispatchEvent("socksData",b))),it.eventsHelper.addEventListener(F,Me.SocksProxy.Events.SocksClosed,(b=>this._dispatchEvent("socksClosed",b)))]}async socksConnected(b,B){this._socksProxy?.socketConnected(b)}async socksFailed(b,B){this._socksProxy?.socketFailed(b)}async socksData(b,B){this._socksProxy?.sendSocketData(b)}async socksError(b,B){this._socksProxy?.sendSocketError(b)}async socksEnd(b,B){this._socksProxy?.sendSocketEnd(b)}_onDispose(){it.eventsHelper.removeEventListeners(this._socksListeners)}}0&&0},4060:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{StreamDispatcher:()=>StreamDispatcher});b.exports=__toCommonJS(Re);var Me=F(8980);var Le=F(1871);var We=F(6938);class StreamSdkObject extends We.SdkObject{constructor(b,B){super(b,"stream");this.stream=B}}class StreamDispatcher extends Me.Dispatcher{constructor(b,B){super(b,new StreamSdkObject(b._object,B),"Stream",{});this._type_Stream=true;this._ended=false;B.once("end",(()=>this._ended=true));B.once("error",(()=>this._ended=true))}async read(b,B){const F=this._object.stream;if(this._ended)return{binary:Buffer.from("")};if(!F.readableLength){const b=new Le.ManualPromise;const done=()=>b.resolve();F.on("readable",done);F.on("end",done);F.on("error",done);await B.race(b).finally((()=>{F.off("readable",done);F.off("end",done);F.off("error",done)}))}const K=F.read(Math.min(F.readableLength,b.size||F.readableLength));return{binary:K||Buffer.from("")}}async close(b,B){this._object.stream.destroy()}}0&&0},3874:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{TracingDispatcher:()=>TracingDispatcher});b.exports=__toCommonJS(Re);var Me=F(6770);var Le=F(8980);class TracingDispatcher extends Le.Dispatcher{constructor(b,B){super(b,B,"Tracing",{});this._type_Tracing=true;this._started=false}static from(b,B){const F=b.connection.existingDispatcher(B);return F||new TracingDispatcher(b,B)}async tracingStart(b,B){this._object.start(b);this._started=true}async tracingStartChunk(b,B){return await this._object.startChunk(B,b)}async tracingGroup(b,B){const{name:F,location:K}=b;this._object.group(F,K,B.metadata)}async tracingGroupEnd(b,B){this._object.groupEnd()}async tracingStopChunk(b,B){const{artifact:F,entries:K}=await this._object.stopChunk(B,b);return{artifact:F?Me.ArtifactDispatcher.from(this,F):void 0,entries:K}}async tracingStop(b,B){this._started=false;await this._object.stop(B)}_onDispose(){if(this._started)this._object.stopChunk(void 0,{mode:"discard"}).then((()=>this._object.stop(void 0))).catch((()=>{}));this._started=false}}0&&0},1104:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{WebSocketRouteDispatcher:()=>WebSocketRouteDispatcher});b.exports=__toCommonJS(Le);var We=F(45);var Ge=F(8980);var ze=F(9804);var $e=__toESM(F(940));var Ye=F(6938);var Ke=F(2164);var Xe=F(8753);class WebSocketRouteDispatcher extends Ge.Dispatcher{constructor(b,B,F,K){super(b,new Ye.SdkObject(b._object,"webSocketRoute"),"WebSocketRoute",{url:F});this._type_WebSocketRoute=true;this._id=B;this._frame=K;this._eventListeners.push(Xe.eventsHelper.addEventListener(K._page,We.Page.Events.InternalFrameNavigatedToNewDocument,(b=>{if(b===this._frame)this._executionContextGone()})),Xe.eventsHelper.addEventListener(K._page,We.Page.Events.FrameDetached,(b=>{if(b===this._frame)this._executionContextGone()})),Xe.eventsHelper.addEventListener(K._page,We.Page.Events.Close,(()=>this._executionContextGone())),Xe.eventsHelper.addEventListener(K._page,We.Page.Events.Crash,(()=>this._executionContextGone())));WebSocketRouteDispatcher._idToDispatcher.set(this._id,this);b._dispatchEvent("webSocketRoute",{webSocketRoute:this})}static{this._idToDispatcher=new Map}static async install(b,B,F){const K=F instanceof We.Page?F.browserContext:F;let se=K.getBindingClient(et);if(se&&se.connection!==B)throw new Error("Another client is already routing WebSockets");if(!se){se={counter:0,connection:B,binding:null};se.binding=await K.exposeBinding(b,et,false,((b,F)=>{if(F.type==="onCreate"){const se=B.existingDispatcher(K);const oe=se?ze.PageDispatcher.fromNullable(se,b.page):void 0;let Qe;if(oe&&matchesPattern(oe,K._options.baseURL,F.url))Qe=oe;else if(se&&matchesPattern(se,K._options.baseURL,F.url))Qe=se;if(Qe){new WebSocketRouteDispatcher(Qe,F.id,F.url,b.frame)}else{const B={id:F.id,type:"passthrough"};b.frame.evaluateExpression(`globalThis.__pwWebSocketDispatch(${JSON.stringify(B)})`).catch((()=>{}))}return}const se=WebSocketRouteDispatcher._idToDispatcher.get(F.id);if(F.type==="onMessageFromPage")se?._dispatchEvent("messageFromPage",{message:F.data.data,isBase64:F.data.isBase64});if(F.type==="onMessageFromServer")se?._dispatchEvent("messageFromServer",{message:F.data.data,isBase64:F.data.isBase64});if(F.type==="onClosePage")se?._dispatchEvent("closePage",{code:F.code,reason:F.reason,wasClean:F.wasClean});if(F.type==="onCloseServer")se?._dispatchEvent("closeServer",{code:F.code,reason:F.reason,wasClean:F.wasClean})}),se)}++se.counter;return await F.addInitScript(b,`\n      (() => {\n        const module = {};\n        ${$e.source}\n        (module.exports.inject())(globalThis);\n      })();\n    `)}static async uninstall(b,B,F){const K=B instanceof We.Page?B.browserContext:B;const se=K.getBindingClient(et);if(!se||se.connection!==b)return;if(--se.counter<=0)await K.removeExposedBindings([se.binding]);await B.removeInitScripts([F])}async connect(b,B){await this._evaluateAPIRequest(B,{id:this._id,type:"connect"})}async ensureOpened(b,B){await this._evaluateAPIRequest(B,{id:this._id,type:"ensureOpened"})}async sendToPage(b,B){await this._evaluateAPIRequest(B,{id:this._id,type:"sendToPage",data:{data:b.message,isBase64:b.isBase64}})}async sendToServer(b,B){await this._evaluateAPIRequest(B,{id:this._id,type:"sendToServer",data:{data:b.message,isBase64:b.isBase64}})}async closePage(b,B){await this._evaluateAPIRequest(B,{id:this._id,type:"closePage",code:b.code,reason:b.reason,wasClean:b.wasClean})}async closeServer(b,B){await this._evaluateAPIRequest(B,{id:this._id,type:"closeServer",code:b.code,reason:b.reason,wasClean:b.wasClean})}async _evaluateAPIRequest(b,B){await b.race(this._frame.evaluateExpression(`globalThis.__pwWebSocketDispatch(${JSON.stringify(B)})`).catch((()=>{})))}_onDispose(){WebSocketRouteDispatcher._idToDispatcher.delete(this._id)}_executionContextGone(){if(!this._disposed){this._dispatchEvent("closePage",{wasClean:true});this._dispatchEvent("closeServer",{wasClean:true})}}}function matchesPattern(b,B,F){for(const K of b._webSocketInterceptionPatterns||[]){const b=K.regexSource?new RegExp(K.regexSource,K.regexFlags):K.glob;if((0,Ke.urlMatches)(B,F,b,true))return true}return false}const et="__pwWebSocketBinding";0&&0},9648:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{WritableStreamDispatcher:()=>WritableStreamDispatcher});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=F(8980);var ze=F(6938);class WritableStreamSdkObject extends ze.SdkObject{constructor(b,B,F){super(b,"stream");this.streamOrDirectory=B;this.lastModifiedMs=F}}class WritableStreamDispatcher extends Ge.Dispatcher{constructor(b,B,F){super(b,new WritableStreamSdkObject(b._object,B,F),"WritableStream",{});this._type_WritableStream=true}async write(b,B){if(typeof this._object.streamOrDirectory==="string")throw new Error("Cannot write to a directory");const F=this._object.streamOrDirectory;await B.race(new Promise(((B,K)=>{F.write(b.binary,(b=>{if(b)K(b);else B()}))})))}async close(b,B){if(typeof this._object.streamOrDirectory==="string")throw new Error("Cannot close a directory");const F=this._object.streamOrDirectory;await B.race(new Promise((b=>F.end(b))));if(this._object.lastModifiedMs)await B.race(We.default.promises.utimes(this.path(),new Date(this._object.lastModifiedMs),new Date(this._object.lastModifiedMs)))}path(){if(typeof this._object.streamOrDirectory==="string")return this._object.streamOrDirectory;return this._object.streamOrDirectory.path}}0&&0},1852:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{ElementHandle:()=>ElementHandle,FrameExecutionContext:()=>FrameExecutionContext,NonRecoverableDOMError:()=>NonRecoverableDOMError,assertDone:()=>assertDone,isNonRecoverableDOMError:()=>isNonRecoverableDOMError,kUnableToAdoptErrorMessage:()=>Ke,throwElementIsNotAttached:()=>throwElementIsNotAttached,throwRetargetableDOMError:()=>throwRetargetableDOMError});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(4745));var ze=F(3143);var $e=F(500);var Ye=__toESM(F(3768));class NonRecoverableDOMError extends Error{}function isNonRecoverableDOMError(b){return b instanceof NonRecoverableDOMError}class FrameExecutionContext extends Ge.ExecutionContext{constructor(b,B,F){super(B,b,F||"content-script");this.frame=B;this.world=F}adoptIfNeeded(b){if(b instanceof ElementHandle&&b._context!==this)return this.frame._page.delegate.adoptElementHandle(b,this);return null}async evaluate(b,B){return Ge.evaluate(this,true,b,B)}async evaluateHandle(b,B){return Ge.evaluate(this,false,b,B)}async evaluateExpression(b,B,F){return Ge.evaluateExpression(this,b,{...B,returnByValue:true},F)}async evaluateExpressionHandle(b,B,F){return Ge.evaluateExpression(this,b,{...B,returnByValue:false},F)}injectedScript(){if(!this._injectedScriptPromise){const b=[];const B=this.frame._page.browserContext.selectors();for(const[F,{source:K}]of B._engines)b.push({name:F,source:`(${K})`});const F=this.frame._page.browserContext._browser.sdkLanguage();const K={isUnderTest:(0,ze.isUnderTest)(),sdkLanguage:F,testIdAttributeName:B.testIdAttributeName(),stableRafCount:this.frame._page.delegate.rafCountForStablePosition(),browserName:this.frame._page.browserContext._browser.options.name,isUtilityWorld:this.world==="utility",customEngines:b};const se=`\n        (() => {\n        const module = {};\n        ${Ye.source}\n        return new (module.exports.InjectedScript())(globalThis, ${JSON.stringify(K)});\n        })();\n      `;this._injectedScriptPromise=this.rawEvaluateHandle(se).then((b=>{b._setPreview("InjectedScript");return b}))}return this._injectedScriptPromise}}class ElementHandle extends Ge.JSHandle{constructor(b,B){super(b,"node",void 0,B);this.__elementhandle=true;this._page=b.frame._page;this._frame=b.frame;this._initializePreview().catch((b=>{}))}async _initializePreview(){const b=await this._context.injectedScript();this._setPreview(await b.evaluate(((b,B)=>"JSHandle@"+b.previewNode(B)),this))}asElement(){return this}async evaluateInUtility(b,B){try{const F=await this._frame._utilityContext();return await F.evaluate(b,[await F.injectedScript(),this,B])}catch(b){if(this._frame.isNonRetriableError(b))throw b;return"error:notconnected"}}async evaluateHandleInUtility(b,B){try{const F=await this._frame._utilityContext();return await F.evaluateHandle(b,[await F.injectedScript(),this,B])}catch(b){if(this._frame.isNonRetriableError(b))throw b;return"error:notconnected"}}async ownerFrame(){const b=await this._page.delegate.getOwnerFrame(this);if(!b)return null;const B=this._page.frameManager.frame(b);if(B)return B;for(const B of this._page.browserContext.pages()){const F=B.frameManager.frame(b);if(F)return F}return null}async isIframeElement(){return this.evaluateInUtility((([b,B])=>B&&(B.nodeName==="IFRAME"||B.nodeName==="FRAME")),{})}async contentFrame(){const b=throwRetargetableDOMError(await this.isIframeElement());if(!b)return null;return this._page.delegate.getContentFrame(this)}async getAttribute(b,B){return this._frame.getAttribute(b,":scope",B,{},this)}async inputValue(b){return this._frame.inputValue(b,":scope",{},this)}async textContent(b){return this._frame.textContent(b,":scope",{},this)}async innerText(b){return this._frame.innerText(b,":scope",{},this)}async innerHTML(b){return this._frame.innerHTML(b,":scope",{},this)}async dispatchEvent(b,B,F={}){return this._frame.dispatchEvent(b,":scope",B,F,{},this)}async _scrollRectIntoViewIfNeeded(b,B){return await b.race(this._page.delegate.scrollRectIntoViewIfNeeded(this,B))}async _waitAndScrollIntoViewIfNeeded(b,B){const F=await this._retryAction(b,"scroll into view",(async()=>{b.log(`  waiting for element to be stable`);const F=await b.race(this.evaluateInUtility((async([b,B,{waitForVisible:F}])=>await b.checkElementStates(B,F?["visible","stable"]:["stable"])),{waitForVisible:B}));if(F)return F;return await this._scrollRectIntoViewIfNeeded(b)}),{});assertDone(throwRetargetableDOMError(F))}async scrollIntoViewIfNeeded(b){await this._waitAndScrollIntoViewIfNeeded(b,false)}async _clickablePoint(){const intersectQuadWithViewport=b=>b.map((b=>({x:Math.min(Math.max(b.x,0),B.width),y:Math.min(Math.max(b.y,0),B.height)})));const computeQuadArea=b=>{let B=0;for(let F=0;F<b.length;++F){const K=b[F];const se=b[(F+1)%b.length];B+=(K.x*se.y-se.x*K.y)/2}return Math.abs(B)};const[b,B]=await Promise.all([this._page.delegate.getContentQuads(this),this._page.mainFrame()._utilityContext().then((b=>b.evaluate((()=>({width:innerWidth,height:innerHeight})))))]);if(b==="error:notconnected")return b;if(!b||!b.length)return"error:notvisible";const F=b.map((b=>intersectQuadWithViewport(b))).filter((b=>computeQuadArea(b)>.99));if(!F.length)return"error:notinviewport";if(this._page.browserContext._browser.options.name==="firefox"){for(const b of F){const B=findIntegerPointInsideQuad(b);if(B)return B}}return quadMiddlePoint(F[0])}async _offsetPoint(b){const[B,F]=await Promise.all([this.boundingBox(),this.evaluateInUtility((([b,B])=>b.getElementBorderWidth(B)),{}).catch((b=>{}))]);if(!B||!F)return"error:notvisible";if(F==="error:notconnected")return F;return{x:B.x+F.left+b.x,y:B.y+F.top+b.y}}async _retryAction(b,B,F,K){let se=0;const oe=[0,20,100,100,500];while(true){if(se){b.log(`retrying ${B} action${K.trial?" (trial run)":""}`);const F=oe[Math.min(se-1,oe.length-1)];if(F){b.log(`  waiting ${F}ms`);const B=await b.race(this.evaluateInUtility((([b,B,F])=>new Promise((b=>setTimeout(b,F)))),F));if(B==="error:notconnected")return B}}else{b.log(`attempting ${B} action${K.trial?" (trial run)":""}`)}if(!K.skipActionPreChecks&&!K.force)await this._frame._page.performActionPreChecks(b);const Qe=await F(se);++se;if(Qe==="error:notvisible"){if(K.force)throw new NonRecoverableDOMError("Element is not visible");b.log("  element is not visible");continue}if(Qe==="error:notinviewport"){if(K.force)throw new NonRecoverableDOMError("Element is outside of the viewport");b.log("  element is outside of the viewport");continue}if(Qe==="error:optionsnotfound"){b.log("  did not find some options");continue}if(Qe==="error:optionnotenabled"){b.log("  option being selected is not enabled");continue}if(typeof Qe==="object"&&"hitTargetDescription"in Qe){b.log(`  ${Qe.hitTargetDescription} intercepts pointer events`);continue}if(typeof Qe==="object"&&"missingState"in Qe){b.log(`  element is not ${Qe.missingState}`);continue}return Qe}}async _retryPointerAction(b,B,F,K,se){const oe=B==="move and up";return await this._retryAction(b,B,(async oe=>{const Qe=[void 0,{block:"end",inline:"end"},{block:"center",inline:"center"},{block:"start",inline:"start"}];const Re=Qe[oe%Qe.length];return await this._performPointerAction(b,B,F,K,Re,se)}),{...se,skipActionPreChecks:oe})}async _performPointerAction(b,B,F,K,se,oe){const{force:Qe=false,position:Re}=oe;const doScrollIntoView=async()=>{if(se){return await this.evaluateInUtility((([b,B,F])=>{if(B.nodeType===1)B.scrollIntoView(F);return"done"}),se)}return await this._scrollRectIntoViewIfNeeded(b,Re?{x:Re.x,y:Re.y,width:0,height:0}:void 0)};if(this._frame.parentFrame()){await b.race(doScrollIntoView().catch((()=>{})))}if(oe.__testHookBeforeStable)await b.race(oe.__testHookBeforeStable());if(!Qe){const B=F?["visible","enabled","stable"]:["visible","stable"];b.log(`  waiting for element to be ${F?"visible, enabled and stable":"visible and stable"}`);const K=await b.race(this.evaluateInUtility((async([b,B,{elementStates:F}])=>await b.checkElementStates(B,F)),{elementStates:B}));if(K)return K;b.log(`  element is ${F?"visible, enabled and stable":"visible and stable"}`)}if(oe.__testHookAfterStable)await b.race(oe.__testHookAfterStable());b.log("  scrolling into view if needed");const Me=await b.race(doScrollIntoView());if(Me!=="done")return Me;b.log("  done scrolling");const Le=Re?await b.race(this._offsetPoint(Re)):await b.race(this._clickablePoint());if(typeof Le==="string")return Le;const We=roundPoint(Le);b.metadata.point=We;await b.race(this.instrumentation.onBeforeInputAction(this,b.metadata));let Ge;if(Qe){b.log(`  forcing action`)}else{if(oe.__testHookBeforeHitTarget)await b.race(oe.__testHookBeforeHitTarget());const F=await b.race(this._checkFrameIsHitTarget(We));if(F==="error:notconnected"||"hitTargetDescription"in F)return F;const K=F.framePoint;const se=B==="move and up"?"drag":B==="hover"||B==="tap"?B:"mouse";const Qe=await b.race(this.evaluateHandleInUtility((([b,B,{actionType:F,hitPoint:K,trial:se}])=>b.setupHitTargetInterceptor(B,F,K,se)),{actionType:se,hitPoint:K,trial:!!oe.trial}));if(Qe==="error:notconnected")return Qe;if(!Qe._objectId){const b=Qe.rawValue();if(b==="error:notconnected")return b;return{hitTargetDescription:b}}Ge=Qe}const ze=await this._page.frameManager.waitForSignalsCreatedBy(b,oe.waitAfter===true,(async()=>{if(oe.__testHookBeforePointerAction)await b.race(oe.__testHookBeforePointerAction());let F;if(oe&&oe.modifiers)F=await this._page.keyboard.ensureModifiers(b,oe.modifiers);b.log(`  performing ${B} action`);await K(We);if(F)await this._page.keyboard.ensureModifiers(b,F);if(Ge){const B=this._frame.raceAgainstEvaluationStallingEvents((()=>Ge.evaluate((b=>b.stop())))).catch((b=>"done")).finally((()=>{Ge?.dispose()}));if(oe.waitAfter!==false){const F=await b.race(B);if(F!=="done")return F}}b.log(`  ${oe.trial?"trial ":""}${B} action done`);b.log("  waiting for scheduled navigations to finish");if(oe.__testHookAfterPointerAction)await b.race(oe.__testHookAfterPointerAction());return"done"})).finally((()=>{const b=Ge?.evaluate((b=>b.stop())).catch((()=>{}));b?.then((()=>Ge?.dispose()))}));if(ze!=="done")return ze;b.log("  navigations have finished");return"done"}async _markAsTargetElement(b){if(!b.metadata.id)return;await b.race(this.evaluateInUtility((([b,B,F])=>{if(B.nodeType===1)b.markTargetElements(new Set([B]),F)}),b.metadata.id))}async hover(b,B){await this._markAsTargetElement(b);const F=await this._hover(b,B);return assertDone(throwRetargetableDOMError(F))}_hover(b,B){return this._retryPointerAction(b,"hover",false,(B=>this._page.mouse.move(b,B.x,B.y)),{...B,waitAfter:"disabled"})}async click(b,B){await this._markAsTargetElement(b);const F=await this._click(b,{...B,waitAfter:!B.noWaitAfter});return assertDone(throwRetargetableDOMError(F))}_click(b,B){return this._retryPointerAction(b,"click",true,(F=>this._page.mouse.click(b,F.x,F.y,B)),B)}async dblclick(b,B){await this._markAsTargetElement(b);const F=await this._dblclick(b,B);return assertDone(throwRetargetableDOMError(F))}_dblclick(b,B){return this._retryPointerAction(b,"dblclick",true,(F=>this._page.mouse.click(b,F.x,F.y,{...B,clickCount:2})),{...B,waitAfter:"disabled"})}async tap(b,B){await this._markAsTargetElement(b);const F=await this._tap(b,B);return assertDone(throwRetargetableDOMError(F))}_tap(b,B){return this._retryPointerAction(b,"tap",true,(B=>this._page.touchscreen.tap(b,B.x,B.y)),{...B,waitAfter:"disabled"})}async selectOption(b,B,F,K){await this._markAsTargetElement(b);const se=await this._selectOption(b,B,F,K);return throwRetargetableDOMError(se)}async _selectOption(b,B,F,K){let se=[];const oe=await this._retryAction(b,"select option",(async()=>{await b.race(this.instrumentation.onBeforeInputAction(this,b.metadata));if(!K.force)b.log(`  waiting for element to be visible and enabled`);const oe=[...B,...F];const Qe=await b.race(this.evaluateInUtility((async([b,B,{optionsToSelect:F,force:K}])=>{if(!K){const F=await b.checkElementStates(B,["visible","enabled"]);if(F)return F}return b.selectOptions(B,F)}),{optionsToSelect:oe,force:K.force}));if(Array.isArray(Qe)){b.log("  selected specified option(s)");se=Qe;return"done"}return Qe}),K);if(oe==="error:notconnected")return oe;return se}async fill(b,B,F){await this._markAsTargetElement(b);const K=await this._fill(b,B,F);assertDone(throwRetargetableDOMError(K))}async _fill(b,B,F){b.log(`  fill("${B}")`);return await this._retryAction(b,"fill",(async()=>{await b.race(this.instrumentation.onBeforeInputAction(this,b.metadata));if(!F.force)b.log("  waiting for element to be visible, enabled and editable");const K=await b.race(this.evaluateInUtility((async([b,B,{value:F,force:K}])=>{if(!K){const F=await b.checkElementStates(B,["visible","enabled","editable"]);if(F)return F}return b.fill(B,F)}),{value:B,force:F.force}));if(K==="needsinput"){if(B)await this._page.keyboard.insertText(b,B);else await this._page.keyboard.press(b,"Delete");return"done"}else{return K}}),F)}async selectText(b,B){const F=await this._retryAction(b,"selectText",(async()=>{if(!B.force)b.log("  waiting for element to be visible");return await b.race(this.evaluateInUtility((async([b,B,{force:F}])=>{if(!F){const F=await b.checkElementStates(B,["visible"]);if(F)return F}return b.selectText(B)}),{force:B.force}))}),B);assertDone(throwRetargetableDOMError(F))}async setInputFiles(b,B){const F=await b.race((0,$e.prepareFilesForUpload)(this._frame,B));await this._markAsTargetElement(b);const K=await this._setInputFiles(b,F);return assertDone(throwRetargetableDOMError(K))}async _setInputFiles(b,B){const{filePayloads:F,localPaths:K,localDirectory:se}=B;const oe=F&&F.length>1||K&&K.length>1;const Qe=await b.race(this.evaluateHandleInUtility((([b,B,{multiple:F,directoryUpload:K}])=>{const se=b.retarget(B,"follow-label");if(!se)return;if(se.tagName!=="INPUT")throw b.createStacklessError("Node is not an HTMLInputElement");const oe=se;if(F&&!oe.multiple&&!oe.webkitdirectory)throw b.createStacklessError("Non-multiple file input can only accept single file");if(K&&!oe.webkitdirectory)throw b.createStacklessError("File input does not support directories, pass individual files instead");if(!K&&oe.webkitdirectory)throw b.createStacklessError("[webkitdirectory] input requires passing a path to a directory");return oe}),{multiple:oe,directoryUpload:!!se}));if(Qe==="error:notconnected"||!Qe.asElement())return"error:notconnected";const Re=Qe.asElement();await b.race(this.instrumentation.onBeforeInputAction(this,b.metadata));if(K||se){const B=se?[se]:K;await b.race(Promise.all(B.map((b=>We.default.promises.access(b,We.default.constants.F_OK)))));const F=se?this.evaluate((b=>new Promise((B=>{b.addEventListener("input",B,{once:true})})))).catch((()=>{})):Promise.resolve();await b.race(this._page.delegate.setInputFilePaths(Re,B));await b.race(F)}else{await b.race(Re.evaluateInUtility((([b,B,F])=>b.setInputFiles(B,F)),F))}return"done"}async focus(b){await this._markAsTargetElement(b);const B=await this._focus(b);return assertDone(throwRetargetableDOMError(B))}async _focus(b,B){return await b.race(this.evaluateInUtility((([b,B,F])=>b.focusNode(B,F)),B))}async _blur(b){return await b.race(this.evaluateInUtility((([b,B])=>b.blurNode(B)),{}))}async type(b,B,F){await this._markAsTargetElement(b);const K=await this._type(b,B,F);return assertDone(throwRetargetableDOMError(K))}async _type(b,B,F){b.log(`elementHandle.type("${B}")`);await b.race(this.instrumentation.onBeforeInputAction(this,b.metadata));const K=await this._focus(b,true);if(K!=="done")return K;await this._page.keyboard.type(b,B,F);return"done"}async press(b,B,F){await this._markAsTargetElement(b);const K=await this._press(b,B,F);return assertDone(throwRetargetableDOMError(K))}async _press(b,B,F){b.log(`elementHandle.press("${B}")`);await b.race(this.instrumentation.onBeforeInputAction(this,b.metadata));return this._page.frameManager.waitForSignalsCreatedBy(b,!F.noWaitAfter,(async()=>{const K=await this._focus(b,true);if(K!=="done")return K;await this._page.keyboard.press(b,B,F);return"done"}))}async check(b,B){const F=await this._setChecked(b,true,B);return assertDone(throwRetargetableDOMError(F))}async uncheck(b,B){const F=await this._setChecked(b,false,B);return assertDone(throwRetargetableDOMError(F))}async _setChecked(b,B,F){const isChecked=async()=>{const B=await b.race(this.evaluateInUtility((([b,B])=>b.elementState(B,"checked")),{}));if(B==="error:notconnected"||B.received==="error:notconnected")throwElementIsNotAttached();return{matches:B.matches,isRadio:B.isRadio}};await this._markAsTargetElement(b);const K=await isChecked();if(K.matches===B)return"done";if(!B&&K.isRadio)throw new NonRecoverableDOMError("Cannot uncheck radio button. Radio buttons can only be unchecked by selecting another radio button in the same group.");const se=await this._click(b,{...F,waitAfter:"disabled"});if(se!=="done")return se;if(F.trial)return"done";const oe=await isChecked();if(oe.matches!==B)throw new NonRecoverableDOMError("Clicking the checkbox did not change its state");return"done"}async boundingBox(){return this._page.delegate.getBoundingBox(this)}async ariaSnapshot(){return await this.evaluateInUtility((([b,B])=>b.ariaSnapshot(B,{mode:"expect"})),{})}async screenshot(b,B){return await this._page.screenshotter.screenshotElement(b,this,B)}async querySelector(b,B){return this._frame.selectors.query(b,B,this)}async querySelectorAll(b){return this._frame.selectors.queryAll(b,this)}async evalOnSelector(b,B,F,K,se){return this._frame.evalOnSelector(b,B,F,K,se,this)}async evalOnSelectorAll(b,B,F,K){return this._frame.evalOnSelectorAll(b,B,F,K,this)}async isVisible(b){return this._frame.isVisible(b,":scope",{},this)}async isHidden(b){return this._frame.isHidden(b,":scope",{},this)}async isEnabled(b){return this._frame.isEnabled(b,":scope",{},this)}async isDisabled(b){return this._frame.isDisabled(b,":scope",{},this)}async isEditable(b){return this._frame.isEditable(b,":scope",{},this)}async isChecked(b){return this._frame.isChecked(b,":scope",{},this)}async waitForElementState(b,B){const F=`wait for ${B}`;const K=await this._retryAction(b,F,(async()=>await b.race(this.evaluateInUtility((async([b,B,F])=>await b.checkElementStates(B,[F])||"done"),B))),{});assertDone(throwRetargetableDOMError(K))}async waitForSelector(b,B,F){return await this._frame.waitForSelector(b,B,true,F,this)}async _adoptTo(b){if(this._context!==b){const B=await this._page.delegate.adoptElementHandle(this,b);this.dispose();return B}return this}async _checkFrameIsHitTarget(b){let B=this._frame;const F=[];while(B.parentFrame()){const K=await B.frameElement();const se=await K.boundingBox();const oe=await K.evaluateInUtility((([b,B])=>b.describeIFrameStyle(B)),{}).catch((b=>"error:notconnected"));if(!se||oe==="error:notconnected")return"error:notconnected";if(oe==="transformed"){return{framePoint:void 0}}const Qe={x:b.x-se.x-oe.left,y:b.y-se.y-oe.top};F.push({frame:B,frameElement:K,pointInFrame:Qe});B=B.parentFrame()}F.push({frame:B,frameElement:null,pointInFrame:b});for(let b=F.length-1;b>0;b--){const B=F[b-1].frameElement;const K=F[b].pointInFrame;const se=await B.evaluateInUtility((([b,B,F])=>b.expectHitTarget(F,B)),K);if(se!=="done")return se}return{framePoint:F[0].pointInFrame}}}function throwRetargetableDOMError(b){if(b==="error:notconnected")throwElementIsNotAttached();return b}function throwElementIsNotAttached(){throw new Error("Element is not attached to the DOM")}function assertDone(b){}function roundPoint(b){return{x:(b.x*100|0)/100,y:(b.y*100|0)/100}}function quadMiddlePoint(b){const B={x:0,y:0};for(const F of b){B.x+=F.x/4;B.y+=F.y/4}return B}function triangleArea(b,B,F){return Math.abs(b.x*(B.y-F.y)+B.x*(F.y-b.y)+F.x*(b.y-B.y))/2}function isPointInsideQuad(b,B){const F=triangleArea(b,B[0],B[1])+triangleArea(b,B[1],B[2])+triangleArea(b,B[2],B[3])+triangleArea(b,B[3],B[0]);const K=triangleArea(B[0],B[1],B[2])+triangleArea(B[1],B[2],B[3]);if(Math.abs(F-K)>.1)return false;return b.x<Math.max(B[0].x,B[1].x,B[2].x,B[3].x)&&b.y<Math.max(B[0].y,B[1].y,B[2].y,B[3].y)}function findIntegerPointInsideQuad(b){const B=quadMiddlePoint(b);B.x=Math.floor(B.x);B.y=Math.floor(B.y);if(isPointInsideQuad(B,b))return B;B.x+=1;if(isPointInsideQuad(B,b))return B;B.y+=1;if(isPointInsideQuad(B,b))return B;B.x-=1;if(isPointInsideQuad(B,b))return B}const Ke="Unable to adopt element handle from a different document";0&&0},2542:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Download:()=>Download});b.exports=__toCommonJS(Le);var We=__toESM(F(6928));var Ge=F(45);var ze=F(3143);var $e=F(6564);class Download{constructor(b,B,F,K,se){const oe=b.browserContext._options.acceptDownloads==="deny"?"Pass { acceptDownloads: true } when you are creating your browser context.":void 0;this.artifact=new $e.Artifact(b,We.default.join(B,F),oe,(()=>this._page.browserContext.cancelDownload(F)));this._page=b;this.url=K;this._suggestedFilename=se;b.browserContext._downloads.add(this);if(se!==void 0)this._fireDownloadEvent()}page(){return this._page}_filenameSuggested(b){(0,ze.assert)(this._suggestedFilename===void 0);this._suggestedFilename=b;this._fireDownloadEvent()}suggestedFilename(){return this._suggestedFilename}_fireDownloadEvent(){this._page.instrumentation.onDownload(this._page,this);this._page.emit(Ge.Page.Events.Download,this)}}0&&0},6974:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Electron:()=>Electron,ElectronApplication:()=>ElectronApplication});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(857));var ze=__toESM(F(6928));var $e=__toESM(F(3785));var Ye=F(3143);var Ke=F(1769);var Xe=F(6877);var et=F(8753);var rt=F(3021);var it=F(7094);var ot=F(508);var at=F(6385);var lt=F(9164);var ut=F(4441);var dt=F(4794);var ht=F(6938);var pt=__toESM(F(4745));var ft=F(8307);var mt=F(369);const vt=ze.default.join(Ge.default.tmpdir(),"playwright-artifacts-");class ElectronApplication extends ht.SdkObject{constructor(b,B,F,K){super(b,"electron-app");this._nodeElectronHandlePromise=new Ye.ManualPromise;this._process=K;this._browserContext=B._defaultContext;this._nodeConnection=F;this._nodeSession=F.rootSession;this._nodeSession.on("Runtime.executionContextCreated",(async b=>{if(!b.context.auxData||!b.context.auxData.isDefault)return;const B=new at.CRExecutionContext(this._nodeSession,b.context);this._nodeExecutionContext=new pt.ExecutionContext(this,B,"electron");const{result:F}=await B._client.send("Runtime.evaluate",{expression:`require('electron')`,contextId:b.context.id,includeCommandLineAPI:true});this._nodeElectronHandlePromise.resolve(new pt.JSHandle(this._nodeExecutionContext,"object","ElectronModule",F.objectId))}));this._nodeSession.on("Runtime.consoleAPICalled",(b=>this._onConsoleAPI(b)));const se=new Promise((b=>this.once(ElectronApplication.Events.Close,b)));this._browserContext.setCustomCloseHandler((async()=>{await this._browserContext.stopVideoRecording();const b=await this._nodeElectronHandlePromise;await b.evaluate((({app:b})=>b.quit())).catch((()=>{}));this._nodeConnection.close();await se}))}static{this.Events={Close:"close",Console:"console"}}async _onConsoleAPI(b){if(b.executionContextId===0){return}if(!this._nodeExecutionContext)return;const B=b.args.map((b=>(0,at.createHandle)(this._nodeExecutionContext,b)));const F=new ut.ConsoleMessage(null,null,b.type,void 0,B,(0,lt.toConsoleMessageLocation)(b.stackTrace));this.emit(ElectronApplication.Events.Console,F)}async initialize(){await this._nodeSession.send("Runtime.enable",{});await this._nodeSession.send("Runtime.evaluate",{expression:"__playwright_run()"})}process(){return this._process}context(){return this._browserContext}async close(){await this._browserContext.close({reason:"Application exited"})}async browserWindow(b){const B=b.delegate._targetId;const F=await this._nodeElectronHandlePromise;return await F.evaluateHandle((({BrowserWindow:b,webContents:B},F)=>{const K=B.fromDevToolsTargetId(F);return b.fromWebContents(K)}),B)}}class Electron extends ht.SdkObject{constructor(b){super(b,"electron");this.logName="browser"}async launch(b,B){let K=void 0;let se=["--inspect=0","--remote-debugging-port=0",...B.args||[]];if(Ge.default.platform()==="linux"){const b=process.geteuid&&process.geteuid()===0;if(b&&se.indexOf("--no-sandbox")===-1)se.unshift("--no-sandbox")}const oe=await b.race(We.default.promises.mkdtemp(vt));const Qe=new Xe.RecentLogsCollector;const Re=B.env?(0,ft.envArrayToObject)(B.env):process.env;let Me;if(B.executablePath){Me=B.executablePath}else{try{Me=F(8280)}catch(b){if(b?.code==="MODULE_NOT_FOUND"){throw new Error("\n"+(0,Ke.wrapInASCIIBox)(["Electron executablePath not found!","Please install it using `npm install -D electron` or set the executablePath to your Electron executable."].join("\n"),1))}throw b}se.unshift("-r",7480)}let Le=false;if(process.platform==="win32"){Le=true;Me=`"${Me}"`;se=se.map((b=>`"${b}"`))}delete Re.NODE_OPTIONS;const{launchedProcess:ze,gracefullyClose:$e,kill:Ye}=await(0,ft.launchProcess)({command:Me,args:se,env:Re,log:B=>{b.log(B);Qe.log(B)},shell:Le,stdio:"pipe",cwd:B.cwd,tempDirectories:[oe],attemptToGracefullyClose:()=>K.close(),handleSIGINT:true,handleSIGTERM:true,handleSIGHUP:true,onExit:()=>K?.emit(ElectronApplication.Events.Close)});const et=waitForLine(b,ze,/Unable to open X display/).then((()=>{throw new Error(["Unable to open X display!",`================================`,"Most likely this is because there is no X server available.","Use 'xvfb-run' on Linux to launch your tests with an emulated display server.","For example: 'xvfb-run npm run test:e2e'",`================================`,b.metadata.log].join("\n"))}));const at=waitForLine(b,ze,/^Debugger listening on (ws:\/\/.*)$/);const lt=waitForLine(b,ze,/^DevTools listening on (ws:\/\/.*)$/);const ut=waitForLine(b,ze,/Waiting for the debugger to disconnect\.\.\./);try{const F=await at;const se=await mt.WebSocketTransport.connect(b,F[1]);const Re=new ot.CRConnection(this,se,dt.helper.debugProtocolLogger(),Qe);ut.then((()=>{se.close()})).catch((()=>{}));const Me=await Promise.race([lt,et]);const Le=await mt.WebSocketTransport.connect(b,Me[1]);const We={onclose:void 0,process:ze,close:$e,kill:Ye};const Ge={...B,noDefaultViewport:true};const Ke={name:"electron",isChromium:true,headful:true,persistent:Ge,browserProcess:We,protocolLogger:dt.helper.debugProtocolLogger(),browserLogsCollector:Qe,artifactsDir:oe,downloadsPath:oe,tracesDir:B.tracesDir||oe,originalLaunchOptions:{}};(0,rt.validateBrowserContextOptions)(Ge,Ke);const Xe=await b.race(it.CRBrowser.connect(this.attribution.playwright,Le,Ke));K=new ElectronApplication(this,Xe,Re,ze);await b.race(K.initialize());return K}catch(b){await Ye();throw b}}}async function waitForLine(b,B,F){const K=new Ye.ManualPromise;const se=$e.createInterface({input:B.stderr});const oe=new Error("Process failed to launch!");const Qe=[et.eventsHelper.addEventListener(se,"line",onLine),et.eventsHelper.addEventListener(se,"close",(()=>K.reject(oe))),et.eventsHelper.addEventListener(B,"exit",(()=>K.reject(oe))),et.eventsHelper.addEventListener(B,"error",(()=>K.reject(oe)))];function onLine(b){const B=b.match(F);if(B)K.resolve(B)}try{return await b.race(K)}finally{et.eventsHelper.removeEventListeners(Qe)}}0&&0},7480:(b,B,F)=>{"use strict";const{app:K}=F(8375);const{chromiumSwitches:se}=F(3249);process.argv.splice(1,process.argv.indexOf("--remote-debugging-port=0"));for(const b of se()){const B=b.match(/--([^=]*)=?(.*)/);K.commandLine.appendSwitch(B[1],B[2])}const oe=K.whenReady();const Qe=K.emit.bind(K);let Re;K.emit=(b,...B)=>{if(b==="ready"){Re=B;return K.listenerCount("ready")>0}return Qe(b,...B)};let Me=false;let Le;const We=new Promise((b=>Le=b));K.isReady=()=>Me;K.whenReady=()=>We;globalThis.__playwright_run=async()=>{const b=await oe;Me=true;Le(b);Qe("ready",...Re)}},541:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{TargetClosedError:()=>TargetClosedError,TimeoutError:()=>TimeoutError,isTargetClosedError:()=>isTargetClosedError,parseError:()=>parseError,serializeError:()=>serializeError});b.exports=__toCommonJS(Re);var Me=F(5386);var Le=F(3143);class CustomError extends Error{constructor(b){super(b);this.name=this.constructor.name}}class TimeoutError extends CustomError{}class TargetClosedError extends CustomError{constructor(b,B){super((b||"Target page, context or browser has been closed")+(B||""))}}function isTargetClosedError(b){return b instanceof TargetClosedError||b.name==="TargetClosedError"}function serializeError(b){if((0,Le.isError)(b))return{error:{message:b.message,stack:b.stack,name:b.name}};return{value:(0,Me.serializeValue)(b,(b=>({fallThrough:b})))}}function parseError(b){if(!b.error){if(b.value===void 0)throw new Error("Serialized error must have either an error or a value");return(0,Me.parseSerializedValue)(b.value,void 0)}const B=new Error(b.error.message);B.stack=b.error.stack||"";B.name=b.error.name;return B}0&&0},1588:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{APIRequestContext:()=>APIRequestContext,BrowserContextAPIRequestContext:()=>BrowserContextAPIRequestContext,GlobalAPIRequestContext:()=>GlobalAPIRequestContext});b.exports=__toCommonJS(Le);var We=__toESM(F(8611));var Ge=__toESM(F(5692));var ze=F(2203);var $e=F(4756);var Ye=__toESM(F(3106));var Ke=F(3143);var Xe=F(6065);var et=F(6230);var rt=F(3021);var it=F(1827);var ot=F(3752);var at=F(6938);var lt=F(9757);var ut=F(3695);var dt=F(3989);var ht=F(9671);class APIRequestContext extends at.SdkObject{constructor(b){super(b,"request-context");this.fetchResponses=new Map;this.fetchLog=new Map;APIRequestContext.allInstances.add(this)}static{this.Events={Dispose:"dispose",Request:"request",RequestFinished:"requestfinished"}}static{this.allInstances=new Set}static findResponseBody(b){for(const B of APIRequestContext.allInstances){const F=B.fetchResponses.get(b);if(F)return F}return void 0}_disposeImpl(){APIRequestContext.allInstances.delete(this);this.fetchResponses.clear();this.fetchLog.clear();this.emit(APIRequestContext.Events.Dispose)}disposeResponse(b){this.fetchResponses.delete(b);this.fetchLog.delete(b)}_storeResponseBody(b){const B=(0,Xe.createGuid)();this.fetchResponses.set(B,b);return B}async fetch(b,B){const F=this._defaultOptions();const K={"user-agent":F.userAgent,accept:"*/*","accept-encoding":"gzip,deflate,br"};if(F.extraHTTPHeaders){for(const{name:b,value:B}of F.extraHTTPHeaders)setHeader(K,b,B)}if(B.headers){for(const{name:b,value:F}of B.headers)setHeader(K,b,F)}const se=new URL((0,Ke.constructURLBasedOnBaseURL)(F.baseURL,B.url));if(B.encodedParams){se.search=B.encodedParams}else if(B.params){for(const{name:b,value:F}of B.params)se.searchParams.append(b,F)}const oe=this._getHttpCredentials(se);if(oe?.send==="always")setBasicAuthorizationHeader(K,oe);const Qe=B.method?.toUpperCase()||"GET";const Re=F.proxy;let Me;if(Re?.server!=="per-context")Me=(0,Ke.createProxyAgent)(Re,se);let Le=B.maxRedirects??(F.maxRedirects??20);Le=Le===0?-1:Le;const We={method:Qe,headers:K,agent:Me,maxRedirects:Le,...(0,ut.getMatchingTLSOptionsForOrigin)(this._defaultOptions().clientCertificates,se.origin),__testHookLookup:B.__testHookLookup};if(B.ignoreHTTPSErrors||F.ignoreHTTPSErrors)We.rejectUnauthorized=false;const Ge=serializePostData(B,K);if(Ge)setHeader(K,"content-length",String(Ge.byteLength));const ze=await this._sendRequestWithRetries(b,se,We,Ge,B.maxRetries);const $e=this._storeResponseBody(ze.body);this.fetchLog.set($e,b.metadata.log);const Ye=B.failOnStatusCode!==void 0?B.failOnStatusCode:!!F.failOnStatusCode;if(Ye&&(ze.status<200||ze.status>=400)){let b="";if(ze.body.byteLength){let B=ze.body.toString("utf8");if(B.length>1e3)B=B.substring(0,997)+"...";b=`\nResponse text:\n${B}`}throw new Error(`${ze.status} ${ze.statusText}${b}`)}return{...ze,fetchUid:$e}}_parseSetCookieHeader(b,B){if(!B)return[];const F=new URL(b);const K="/"+F.pathname.substr(1).split("/").slice(0,-1).join("/");const se=[];for(const b of B){const B=parseCookie(b);if(!B)continue;if(!B.domain)B.domain=F.hostname;else(0,Ke.assert)(B.domain.startsWith(".")||!B.domain.includes("."));if(!(0,it.domainMatches)(F.hostname,B.domain))continue;if(!B.path||!B.path.startsWith("/"))B.path=K;se.push(B)}return se}async _updateRequestCookieHeader(b,B,F){if(getHeader(F,"cookie")!==void 0)return;const K=await b.race(this._cookies(B));const se=K.filter((b=>new it.Cookie(b).matches(B)));if(se.length){const b=se.map((b=>`${b.name}=${b.value}`));setHeader(F,"cookie",b.join("; "))}}async _sendRequestWithRetries(b,B,F,K,se){se??=0;let oe=250;for(let Qe=0;Qe<=se;Qe++){try{return await this._sendRequest(b,B,F,K)}catch(B){if((0,lt.isAbortError)(B))throw B;B=(0,ut.rewriteOpenSSLErrorIfNeeded)(B);if(se===0)throw B;if(Qe===se)throw new Error(`Failed after ${Qe+1} attempt(s): ${B}`);if(B.code!=="ECONNRESET")throw B;b.log(`  Received ECONNRESET, will retry after ${oe}ms.`);await b.wait(oe);oe*=2}}throw new Error("Unreachable")}async _sendRequest(b,B,F,K){await this._updateRequestCookieHeader(b,B,F.headers);const se=getHeader(F.headers,"cookie")?.split(";").map((b=>{const[B,F]=b.split("=").map((b=>b.trim()));return{name:B,value:F}}))||[];const oe={url:B,method:F.method,headers:F.headers,cookies:se,postData:K};this.emit(APIRequestContext.Events.Request,oe);let Qe;const Re=new Promise(((se,Re)=>{const Me=(B.protocol==="https:"?Ge.default:We.default).request;const Le=F.agent||(B.protocol==="https:"?dt.httpsHappyEyeballsAgent:dt.httpHappyEyeballsAgent);const Xe={...F,agent:Le};const et=(0,Ke.monotonicTime)();let rt;let it;let ot;let at;let lt;let ht;let ft;let mt;const vt=[];const yt=Me(B,Xe,(async Qe=>{const Me=(0,Ke.monotonicTime)();const notifyRequestFinished=b=>{const B=(0,Ke.monotonicTime)();const F=at??ot;const K={send:lt-et,wait:Me-lt,receive:B-Me,dns:it?it-et:-1,connect:F?F-et:-1,ssl:at?at-ot:-1,blocked:rt?rt-et:-1};const se={requestEvent:oe,httpVersion:Qe.httpVersion,statusCode:Qe.statusCode||0,statusMessage:Qe.statusMessage||"",headers:Qe.headers,rawHeaders:Qe.rawHeaders,cookies:Le,body:b,timings:K,serverIPAddress:ht,serverPort:ft,securityDetails:mt};this.emit(APIRequestContext.Events.RequestFinished,se)};b.log(` ${Qe.statusCode} ${Qe.statusMessage}`);for(const[B,F]of Object.entries(Qe.headers))b.log(`  ${B}: ${F}`);const Le=this._parseSetCookieHeader(Qe.url||B.toString(),Qe.headers["set-cookie"]);if(Le.length){try{await this._addCookies(Le)}catch(b){await Promise.all(Le.map((b=>this._addCookies([b]).catch((()=>{})))))}}if(pt.includes(Qe.statusCode)&&F.maxRedirects>=0){if(F.maxRedirects===0){Re(new Error("Max redirect count exceeded"));yt.destroy();return}const oe={...F.headers};removeHeader(oe,`cookie`);const Me=Qe.statusCode;let Le=F.method;if((Me===301||Me===302)&&Le==="POST"||Me===303&&!["GET","HEAD"].includes(Le)){Le="GET";K=void 0;removeHeader(oe,`content-encoding`);removeHeader(oe,`content-language`);removeHeader(oe,`content-length`);removeHeader(oe,`content-location`);removeHeader(oe,`content-type`)}const We={method:Le,headers:oe,agent:F.agent,maxRedirects:F.maxRedirects-1,...(0,ut.getMatchingTLSOptionsForOrigin)(this._defaultOptions().clientCertificates,B.origin),__testHookLookup:F.__testHookLookup};if(F.rejectUnauthorized===false)We.rejectUnauthorized=false;const Ge=Buffer.from(Qe.headers.location??"","latin1").toString("utf8");if(Ge){let F;try{F=new URL(Ge,B)}catch(b){Re(new Error(`uri requested responds with an invalid redirect URL: ${Ge}`));yt.destroy();return}if(oe["host"])oe["host"]=F.host;notifyRequestFinished();se(this._sendRequest(b,F,We,K));yt.destroy();return}}if(Qe.statusCode===401&&!getHeader(F.headers,"authorization")){const oe=Qe.headers["www-authenticate"];const Re=this._getHttpCredentials(B);if(oe?.trim().startsWith("Basic")&&Re){setBasicAuthorizationHeader(F.headers,Re);notifyRequestFinished();se(this._sendRequest(b,B,F,K));yt.destroy();return}}Qe.on("aborted",(()=>Re(new Error("aborted"))));const We=[];const notifyBodyFinished=()=>{const b=Buffer.concat(We);notifyRequestFinished(b);se({url:Qe.url||B.toString(),status:Qe.statusCode||0,statusText:Qe.statusMessage||"",headers:toHeadersArray(Qe.rawHeaders),body:b})};let Ge=Qe;let $e;const Xe=Qe.headers["content-encoding"];if(Xe==="gzip"||Xe==="x-gzip"){$e=Ye.createGunzip({flush:Ye.constants.Z_SYNC_FLUSH,finishFlush:Ye.constants.Z_SYNC_FLUSH})}else if(Xe==="br"){$e=Ye.createBrotliDecompress({flush:Ye.constants.BROTLI_OPERATION_FLUSH,finishFlush:Ye.constants.BROTLI_OPERATION_FLUSH})}else if(Xe==="deflate"){$e=Ye.createInflate()}if($e){const b=new SafeEmptyStreamTransform(notifyBodyFinished);Ge=(0,ze.pipeline)(Qe,b,$e,(b=>{if(b)Re(new Error(`failed to decompress '${Xe}' encoding: ${b.message}`))}));Ge.on("error",(b=>Re(new Error(`failed to decompress '${Xe}' encoding: ${b}`))))}else{Ge.on("error",Re)}Ge.on("data",(b=>We.push(b)));Ge.on("end",notifyBodyFinished)}));yt.on("error",Re);Qe=()=>yt.destroy();vt.push(Ke.eventsHelper.addEventListener(this,APIRequestContext.Events.Dispose,(()=>{Re(new Error("Request context disposed."));yt.destroy()})));yt.on("close",(()=>Ke.eventsHelper.removeEventListeners(vt)));yt.on("socket",(b=>{if(yt.reusedSocket){rt=(0,Ke.monotonicTime)();return}const B=(0,dt.timingForSocket)(b);it=B.dnsLookupAt;ot=B.tcpConnectionAt;vt.push(Ke.eventsHelper.addEventListener(b,"lookup",(()=>{it=(0,Ke.monotonicTime)()})),Ke.eventsHelper.addEventListener(b,"connect",(()=>{ot=(0,Ke.monotonicTime)()})),Ke.eventsHelper.addEventListener(b,"secureConnect",(()=>{at=(0,Ke.monotonicTime)();if(b instanceof $e.TLSSocket){const B=b.getPeerCertificate();mt={protocol:b.getProtocol()??void 0,subjectName:B.subject.CN,validFrom:new Date(B.valid_from).getTime()/1e3,validTo:new Date(B.valid_to).getTime()/1e3,issuer:B.issuer.CN}}})));ht=b.remoteAddress;ft=b.remotePort}));yt.on("finish",(()=>{lt=(0,Ke.monotonicTime)()}));b.log(` ${F.method} ${B.toString()}`);if(F.headers){for(const[B,K]of Object.entries(F.headers))b.log(`  ${B}: ${K}`)}if(K)yt.write(K);yt.end()}));return b.race(Re).catch((b=>{Qe?.();throw b}))}_getHttpCredentials(b){if(!this._defaultOptions().httpCredentials?.origin||b.origin.toLowerCase()===this._defaultOptions().httpCredentials?.origin?.toLowerCase())return this._defaultOptions().httpCredentials;return void 0}}class SafeEmptyStreamTransform extends ze.Transform{constructor(b){super();this._receivedSomeData=false;this._onEmptyStreamCallback=b}_transform(b,B,F){this._receivedSomeData=true;F(null,b)}_flush(b){if(this._receivedSomeData)b(null);else this._onEmptyStreamCallback()}}class BrowserContextAPIRequestContext extends APIRequestContext{constructor(b){super(b);this._context=b;b.once(rt.BrowserContext.Events.Close,(()=>this._disposeImpl()))}tracing(){return this._context.tracing}async dispose(b){this._closeReason=b.reason;this.fetchResponses.clear()}_defaultOptions(){return{userAgent:this._context._options.userAgent||this._context._browser.userAgent(),extraHTTPHeaders:this._context._options.extraHTTPHeaders,failOnStatusCode:void 0,httpCredentials:this._context._options.httpCredentials,proxy:this._context._options.proxy||this._context._browser.options.proxy,ignoreHTTPSErrors:this._context._options.ignoreHTTPSErrors,baseURL:this._context._options.baseURL,clientCertificates:this._context._options.clientCertificates}}async _addCookies(b){await this._context.addCookies(b)}async _cookies(b){return await this._context.cookies(b.toString())}async storageState(b,B){return this._context.storageState(b,B)}}class GlobalAPIRequestContext extends APIRequestContext{constructor(b,B){super(b);this._cookieStore=new it.CookieStore;this.attribution.context=this;if(B.storageState){this._origins=B.storageState.origins?.map((b=>({indexedDB:[],...b})));this._cookieStore.addCookies(B.storageState.cookies||[])}(0,rt.verifyClientCertificates)(B.clientCertificates);this._options={baseURL:B.baseURL,userAgent:B.userAgent||(0,et.getUserAgent)(),extraHTTPHeaders:B.extraHTTPHeaders,failOnStatusCode:!!B.failOnStatusCode,ignoreHTTPSErrors:!!B.ignoreHTTPSErrors,maxRedirects:B.maxRedirects,httpCredentials:B.httpCredentials,clientCertificates:B.clientCertificates,proxy:B.proxy};this._tracing=new ht.Tracing(this,B.tracesDir)}tracing(){return this._tracing}async dispose(b){this._closeReason=b.reason;await this._tracing.flush();await this._tracing.deleteTmpTracesDir();this._disposeImpl()}_defaultOptions(){return this._options}async _addCookies(b){this._cookieStore.addCookies(b)}async _cookies(b){return this._cookieStore.cookies(b)}async storageState(b,B=false){return{cookies:this._cookieStore.allCookies(),origins:(this._origins||[]).map((b=>({...b,indexedDB:B?b.indexedDB:[]})))}}}function toHeadersArray(b){const B=[];for(let F=0;F<b.length;F+=2)B.push({name:b[F],value:b[F+1]});return B}const pt=[301,302,303,307,308];function parseCookie(b){const B=(0,it.parseRawCookie)(b);if(!B)return null;const F={domain:"",path:"",expires:-1,httpOnly:false,secure:false,sameSite:"Lax",...B};return F}function serializePostData(b,B){(0,Ke.assert)((b.postData?1:0)+(b.jsonData?1:0)+(b.formData?1:0)+(b.multipartData?1:0)<=1,`Only one of 'data', 'form' or 'multipart' can be specified`);if(b.jsonData!==void 0){setHeader(B,"content-type","application/json",true);return Buffer.from(b.jsonData,"utf8")}else if(b.formData){const F=new URLSearchParams;for(const{name:B,value:K}of b.formData)F.append(B,K);setHeader(B,"content-type","application/x-www-form-urlencoded",true);return Buffer.from(F.toString(),"utf8")}else if(b.multipartData){const F=new ot.MultipartFormData;for(const B of b.multipartData){if(B.file)F.addFileField(B.name,B.file);else if(B.value)F.addField(B.name,B.value)}setHeader(B,"content-type",F.contentTypeHeader(),true);return F.finish()}else if(b.postData!==void 0){setHeader(B,"content-type","application/octet-stream",true);return b.postData}return void 0}function setHeader(b,B,F,K=false){const se=Object.entries(b).find((b=>b[0].toLowerCase()===B.toLowerCase()));if(!se)b[B]=F;else if(!K)b[se[0]]=F}function getHeader(b,B){const F=Object.entries(b).find((b=>b[0].toLowerCase()===B.toLowerCase()));return F?F[1]:void 0}function removeHeader(b,B){delete b[B]}function setBasicAuthorizationHeader(b,B){const{username:F,password:K}=B;const se=Buffer.from(`${F||""}:${K||""}`).toString("base64");setHeader(b,"authorization",`Basic ${se}`)}0&&0},7935:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{FileChooser:()=>FileChooser});b.exports=__toCommonJS(oe);class FileChooser{constructor(b,B,F){this._page=b;this._elementHandle=B;this._isMultiple=F}element(){return this._elementHandle}isMultiple(){return this._isMultiple}page(){return this._page}}0&&0},500:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{fileUploadSizeLimit:()=>Ye,prepareFilesForUpload:()=>prepareFilesForUpload});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(6224);var $e=F(6327);const Ye=50*1024*1024;async function filesExceedUploadLimit(b){const B=await Promise.all(b.map((async b=>(await We.default.promises.stat(b)).size)));return B.reduce(((b,B)=>b+B),0)>=Ye}async function prepareFilesForUpload(b,B){const{payloads:F,streams:K,directoryStream:se}=B;let{localPaths:oe,localDirectory:Qe}=B;if([F,oe,Qe,K,se].filter(Boolean).length!==1)throw new Error("Exactly one of payloads, localPaths and streams must be provided");if(K)oe=K.map((b=>b.path()));if(se)Qe=se.path();if(oe){for(const b of oe)(0,ze.assert)(Ge.default.isAbsolute(b)&&Ge.default.resolve(b)===b,"Paths provided to localPaths must be absolute and fully resolved.")}let Re=F;if(!b._page.browserContext._browser._isCollocatedWithServer){if(oe){if(await filesExceedUploadLimit(oe))throw new Error("Cannot transfer files larger than 50Mb to a browser not co-located with the server");Re=await Promise.all(oe.map((async b=>({name:Ge.default.basename(b),buffer:await We.default.promises.readFile(b),lastModifiedMs:(await We.default.promises.stat(b)).mtimeMs}))));oe=void 0}}const Me=Re?.map((b=>({name:b.name,mimeType:b.mimeType||$e.mime.getType(b.name)||"application/octet-stream",buffer:b.buffer.toString("base64"),lastModifiedMs:b.lastModifiedMs})));return{localPaths:oe,localDirectory:Qe,filePayloads:Me}}0&&0},4093:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{FFBrowser:()=>FFBrowser,FFBrowserContext:()=>FFBrowserContext});b.exports=__toCommonJS(Le);var We=F(3143);var Ge=F(4856);var ze=F(3021);var $e=F(541);var Ye=__toESM(F(6370));var Ke=F(5992);var Xe=F(8367);var et=F(45);class FFBrowser extends Ge.Browser{constructor(b,B,F){super(b,F);this._version="";this._userAgent="";this._connection=B;this.session=B.rootSession;this._ffPages=new Map;this._contexts=new Map;this._connection.on(Ke.ConnectionEvents.Disconnected,(()=>this._onDisconnect()));this.session.on("Browser.attachedToTarget",this._onAttachedToTarget.bind(this));this.session.on("Browser.detachedFromTarget",this._onDetachedFromTarget.bind(this));this.session.on("Browser.downloadCreated",this._onDownloadCreated.bind(this));this.session.on("Browser.downloadFinished",this._onDownloadFinished.bind(this));this.session.on("Browser.videoRecordingFinished",this._onVideoRecordingFinished.bind(this))}static async connect(b,B,F){const K=new Ke.FFConnection(B,F.protocolLogger,F.browserLogsCollector);const se=new FFBrowser(b,K,F);if(F.__testHookOnConnectToBrowser)await F.__testHookOnConnectToBrowser();let oe=F.originalLaunchOptions.firefoxUserPrefs??{};if(Object.keys(rt).length)oe={...rt,...oe};const Qe=[se.session.send("Browser.enable",{attachToDefaultContext:!!F.persistent,userPrefs:Object.entries(oe).map((([b,B])=>({name:b,value:B})))}),se._initVersion()];if(F.persistent){se._defaultContext=new FFBrowserContext(se,void 0,F.persistent);Qe.push(se._defaultContext._initialize())}const Re=F.originalLaunchOptions.proxyOverride||F.proxy;if(Re)Qe.push(se.session.send("Browser.setBrowserProxy",toJugglerProxyOptions(Re)));await Promise.all(Qe);return se}async _initVersion(){const b=await this.session.send("Browser.getInfo");this._version=b.version.substring(b.version.indexOf("/")+1);this._userAgent=b.userAgent}isConnected(){return!this._connection._closed}async doCreateNewContext(b){if(b.isMobile)throw new Error("options.isMobile is not supported in Firefox");const{browserContextId:B}=await this.session.send("Browser.createBrowserContext",{removeOnDetach:true});const F=new FFBrowserContext(this,B,b);await F._initialize();this._contexts.set(B,F);return F}contexts(){return Array.from(this._contexts.values())}version(){return this._version}userAgent(){return this._userAgent}_onDetachedFromTarget(b){const B=this._ffPages.get(b.targetId);this._ffPages.delete(b.targetId);B.didClose()}_onAttachedToTarget(b){const{targetId:B,browserContextId:F,openerId:K,type:se}=b.targetInfo;(0,We.assert)(se==="page");const oe=F?this._contexts.get(F):this._defaultContext;(0,We.assert)(oe,`Unknown context id:${F}, _defaultContext: ${this._defaultContext}`);const Qe=this._connection.createSession(b.sessionId);const Re=K?this._ffPages.get(K):null;const Me=new Xe.FFPage(Qe,oe,Re);this._ffPages.set(B,Me)}_onDownloadCreated(b){const B=this._ffPages.get(b.pageTargetId);if(!B)return;B._page.frameManager.frameAbortedNavigation(b.frameId,"Download is starting");let F=B._page.initializedOrUndefined();if(!F){B._markAsError(new Error("Starting new page download"));if(B._opener)F=B._opener._page.initializedOrUndefined()}if(!F)return;this._downloadCreated(F,b.uuid,b.url,b.suggestedFileName)}_onDownloadFinished(b){const B=b.canceled?"canceled":b.error;this._downloadFinished(b.uuid,B)}_onVideoRecordingFinished(b){this._takeVideo(b.screencastId)?.reportFinished()}_onDisconnect(){for(const b of this._idToVideo.values())b.artifact.reportFinished(new $e.TargetClosedError);this._idToVideo.clear();for(const b of this._ffPages.values())b.didClose();this._ffPages.clear();this._didClose()}}class FFBrowserContext extends ze.BrowserContext{constructor(b,B,F){super(b,F,B)}async _initialize(){(0,We.assert)(!this._ffPages().length);const b=this._browserContextId;const B=[super._initialize(),this._updateInitScripts()];if(this._options.acceptDownloads!=="internal-browser-default"){B.push(this._browser.session.send("Browser.setDownloadOptions",{browserContextId:b,downloadOptions:{behavior:this._options.acceptDownloads==="accept"?"saveToDisk":"cancel",downloadsDir:this._browser.options.downloadsPath}}))}B.push(this.doUpdateDefaultViewport());if(this._options.hasTouch)B.push(this._browser.session.send("Browser.setTouchOverride",{browserContextId:b,hasTouch:true}));if(this._options.userAgent)B.push(this._browser.session.send("Browser.setUserAgentOverride",{browserContextId:b,userAgent:this._options.userAgent}));if(this._options.bypassCSP)B.push(this._browser.session.send("Browser.setBypassCSP",{browserContextId:b,bypassCSP:true}));if(this._options.ignoreHTTPSErrors||this._options.internalIgnoreHTTPSErrors)B.push(this._browser.session.send("Browser.setIgnoreHTTPSErrors",{browserContextId:b,ignoreHTTPSErrors:true}));if(this._options.javaScriptEnabled===false)B.push(this._browser.session.send("Browser.setJavaScriptDisabled",{browserContextId:b,javaScriptDisabled:true}));if(this._options.locale)B.push(this._browser.session.send("Browser.setLocaleOverride",{browserContextId:b,locale:this._options.locale}));if(this._options.timezoneId)B.push(this._browser.session.send("Browser.setTimezoneOverride",{browserContextId:b,timezoneId:this._options.timezoneId}));if(this._options.extraHTTPHeaders||this._options.locale)B.push(this.doUpdateExtraHTTPHeaders());if(this._options.httpCredentials)B.push(this.setHTTPCredentials(this._options.httpCredentials));if(this._options.geolocation)B.push(this.setGeolocation(this._options.geolocation));if(this._options.offline)B.push(this.doUpdateOffline());B.push(this.doUpdateDefaultEmulatedMedia());if(this._options.recordVideo){B.push(this._ensureVideosPath().then((()=>this._browser.session.send("Browser.setVideoRecordingOptions",{options:{...this._options.recordVideo.size,dir:this._options.recordVideo.dir},browserContextId:this._browserContextId}))))}const F=this._options.proxyOverride||this._options.proxy;if(F){B.push(this._browser.session.send("Browser.setContextProxy",{browserContextId:this._browserContextId,...toJugglerProxyOptions(F)}))}await Promise.all(B)}_ffPages(){return Array.from(this._browser._ffPages.values()).filter((b=>b._browserContext===this))}possiblyUninitializedPages(){return this._ffPages().map((b=>b._page))}async doCreateNewPage(){const{targetId:b}=await this._browser.session.send("Browser.newPage",{browserContextId:this._browserContextId}).catch((b=>{if(b.message.includes("Failed to override timezone"))throw new Error(`Invalid timezone ID: ${this._options.timezoneId}`);throw b}));return this._browser._ffPages.get(b)._page}async doGetCookies(b){const{cookies:B}=await this._browser.session.send("Browser.getCookies",{browserContextId:this._browserContextId});return Ye.filterCookies(B.map((b=>{const{name:B,value:F,domain:K,path:se,expires:oe,httpOnly:Qe,secure:Re,sameSite:Me}=b;return{name:B,value:F,domain:K,path:se,expires:oe,httpOnly:Qe,secure:Re,sameSite:Me}})),b)}async addCookies(b){const B=Ye.rewriteCookies(b).map((b=>{const{name:B,value:F,url:K,domain:se,path:oe,expires:Qe,httpOnly:Re,secure:Me,sameSite:Le}=b;return{name:B,value:F,url:K,domain:se,path:oe,expires:Qe===-1?void 0:Qe,httpOnly:Re,secure:Me,sameSite:Le}}));await this._browser.session.send("Browser.setCookies",{browserContextId:this._browserContextId,cookies:B})}async doClearCookies(){await this._browser.session.send("Browser.clearCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(b,B){const F=new Map([["geolocation","geo"],["persistent-storage","persistent-storage"],["push","push"],["notifications","desktop-notification"]]);const K=B.map((b=>{const B=F.get(b);if(!B)throw new Error("Unknown permission: "+b);return B}));await this._browser.session.send("Browser.grantPermissions",{origin:b,browserContextId:this._browserContextId,permissions:K})}async doClearPermissions(){await this._browser.session.send("Browser.resetPermissions",{browserContextId:this._browserContextId})}async setGeolocation(b){(0,ze.verifyGeolocation)(b);this._options.geolocation=b;await this._browser.session.send("Browser.setGeolocationOverride",{browserContextId:this._browserContextId,geolocation:b||null})}async doUpdateExtraHTTPHeaders(){let b=this._options.extraHTTPHeaders||[];if(this._options.locale)b=Ye.mergeHeaders([b,Ye.singleHeader("Accept-Language",this._options.locale)]);await this._browser.session.send("Browser.setExtraHTTPHeaders",{browserContextId:this._browserContextId,headers:b})}async setUserAgent(b){await this._browser.session.send("Browser.setUserAgentOverride",{browserContextId:this._browserContextId,userAgent:b||null})}async doUpdateOffline(){await this._browser.session.send("Browser.setOnlineOverride",{browserContextId:this._browserContextId,override:this._options.offline?"offline":"online"})}async doSetHTTPCredentials(b){this._options.httpCredentials=b;let B=null;if(b){const{username:F,password:K,origin:se}=b;B={username:F,password:K,origin:se}}await this._browser.session.send("Browser.setHTTPCredentials",{browserContextId:this._browserContextId,credentials:B})}async doAddInitScript(b){await this._updateInitScripts()}async doRemoveInitScripts(b){await this._updateInitScripts()}async _updateInitScripts(){const b=[...this._pageBindings.values()].map((b=>b.initScript.source));if(this.bindingsInitScript)b.unshift(this.bindingsInitScript.source);const B=this.initScripts.map((b=>b.source));await this._browser.session.send("Browser.setInitScripts",{browserContextId:this._browserContextId,scripts:[...b,...B].map((b=>({script:b})))})}async doUpdateRequestInterception(){await Promise.all([this._browser.session.send("Browser.setRequestInterception",{browserContextId:this._browserContextId,enabled:this.requestInterceptors.length>0}),this._browser.session.send("Browser.setCacheDisabled",{browserContextId:this._browserContextId,cacheDisabled:this.requestInterceptors.length>0})])}async doUpdateDefaultViewport(){if(!this._options.viewport)return;const b={viewportSize:{width:this._options.viewport.width,height:this._options.viewport.height},deviceScaleFactor:this._options.deviceScaleFactor||1};await this._browser.session.send("Browser.setDefaultViewport",{browserContextId:this._browserContextId,viewport:b})}async doUpdateDefaultEmulatedMedia(){if(this._options.colorScheme!=="no-override"){await this._browser.session.send("Browser.setColorScheme",{browserContextId:this._browserContextId,colorScheme:this._options.colorScheme!==void 0?this._options.colorScheme:"light"})}if(this._options.reducedMotion!=="no-override"){await this._browser.session.send("Browser.setReducedMotion",{browserContextId:this._browserContextId,reducedMotion:this._options.reducedMotion!==void 0?this._options.reducedMotion:"no-preference"})}if(this._options.forcedColors!=="no-override"){await this._browser.session.send("Browser.setForcedColors",{browserContextId:this._browserContextId,forcedColors:this._options.forcedColors!==void 0?this._options.forcedColors:"none"})}if(this._options.contrast!=="no-override"){await this._browser.session.send("Browser.setContrast",{browserContextId:this._browserContextId,contrast:this._options.contrast!==void 0?this._options.contrast:"no-preference"})}}async doExposePlaywrightBinding(){this._browser.session.send("Browser.addBinding",{browserContextId:this._browserContextId,name:et.PageBinding.kBindingName,script:""})}onClosePersistent(){}async clearCache(){await this._browser.session.send("Browser.clearCache")}async doClose(b){if(!this._browserContextId){if(this._options.recordVideo){await this._browser.session.send("Browser.setVideoRecordingOptions",{options:void 0,browserContextId:this._browserContextId})}await this._browser.close({reason:b})}else{await this._browser.session.send("Browser.removeBrowserContext",{browserContextId:this._browserContextId});this._browser._contexts.delete(this._browserContextId)}}async cancelDownload(b){await this._browser.session.send("Browser.cancelDownload",{uuid:b})}}function toJugglerProxyOptions(b){const B=new URL(b.server);let F=parseInt(B.port,10);let K="http";if(B.protocol==="socks5:")K="socks";else if(B.protocol==="socks4:")K="socks4";else if(B.protocol==="https:")K="https";if(B.port===""){if(B.protocol==="http:")F=80;else if(B.protocol==="https:")F=443}return{type:K,bypass:b.bypass?b.bypass.split(",").map((b=>b.trim())):[],host:B.hostname,port:F,username:b.username,password:b.password}}const rt={};0&&0},5992:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ConnectionEvents:()=>ze,FFConnection:()=>FFConnection,FFSession:()=>FFSession,kBrowserCloseMessageId:()=>$e});b.exports=__toCommonJS(Re);var Me=F(4434);var Le=F(6877);var We=F(4794);var Ge=F(6390);const ze={Disconnected:Symbol("Disconnected")};const $e=-9999;class FFConnection extends Me.EventEmitter{constructor(b,B,F){super();this.setMaxListeners(0);this._transport=b;this._protocolLogger=B;this._browserLogsCollector=F;this._lastId=0;this._sessions=new Map;this._closed=false;this.rootSession=new FFSession(this,"",(b=>this._rawSend(b)));this._sessions.set("",this.rootSession);this._transport.onmessage=this._onMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}_rawSend(b){this._protocolLogger("send",b);this._transport.send(b)}async _onMessage(b){this._protocolLogger("receive",b);if(b.id===$e)return;const B=this._sessions.get(b.sessionId||"");if(B)B.dispatchMessage(b)}_onClose(b){this._closed=true;this._transport.onmessage=void 0;this._transport.onclose=void 0;this._browserDisconnectedLogs=We.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),b);this.rootSession.dispose();Promise.resolve().then((()=>this.emit(ze.Disconnected)))}close(){if(!this._closed)this._transport.close()}createSession(b){const B=new FFSession(this,b,(B=>this._rawSend({...B,sessionId:b})));this._sessions.set(b,B);return B}}class FFSession extends Me.EventEmitter{constructor(b,B,F){super();this._disposed=false;this._crashed=false;this.setMaxListeners(0);this._callbacks=new Map;this._connection=b;this._sessionId=B;this._rawSend=F;this.on=super.on;this.addListener=super.addListener;this.off=super.removeListener;this.removeListener=super.removeListener;this.once=super.once}markAsCrashed(){this._crashed=true}async send(b,B){if(this._crashed||this._disposed||this._connection._closed||this._connection._browserDisconnectedLogs)throw new Ge.ProtocolError(this._crashed?"crashed":"closed",void 0,this._connection._browserDisconnectedLogs);const F=this._connection.nextMessageId();this._rawSend({method:b,params:B,id:F});return new Promise(((B,K)=>{this._callbacks.set(F,{resolve:B,reject:K,error:new Ge.ProtocolError("error",b)})}))}sendMayFail(b,B){return this.send(b,B).catch((b=>Le.debugLogger.log("error",b)))}dispatchMessage(b){if(b.id){const B=this._callbacks.get(b.id);if(B){this._callbacks.delete(b.id);if(b.error){B.error.setMessage(b.error.message);B.reject(B.error)}else{B.resolve(b.result)}}}else{Promise.resolve().then((()=>this.emit(b.method,b.params)))}}dispose(){this._disposed=true;this._connection._sessions.delete(this._sessionId);for(const b of this._callbacks.values()){b.error.type=this._crashed?"crashed":"closed";b.error.logs=this._connection._browserDisconnectedLogs;b.reject(b.error)}this._callbacks.clear()}}0&&0},5373:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{FFExecutionContext:()=>FFExecutionContext,createHandle:()=>createHandle});b.exports=__toCommonJS(Le);var We=F(6224);var Ge=F(4395);var ze=F(5334);var $e=__toESM(F(4745));var Ye=__toESM(F(1852));var Ke=F(6390);class FFExecutionContext{constructor(b,B){this._session=b;this._executionContextId=B}async rawEvaluateJSON(b){const B=await this._session.send("Runtime.evaluate",{expression:b,returnByValue:true,executionContextId:this._executionContextId}).catch(rewriteError);checkException(B.exceptionDetails);return B.result.value}async rawEvaluateHandle(b,B){const F=await this._session.send("Runtime.evaluate",{expression:B,returnByValue:false,executionContextId:this._executionContextId}).catch(rewriteError);checkException(F.exceptionDetails);return createHandle(b,F.result)}async evaluateWithArguments(b,B,F,K,se){const oe=await this._session.send("Runtime.callFunction",{functionDeclaration:b,args:[{objectId:F._objectId,value:void 0},...K.map((b=>({value:b}))),...se.map((b=>({objectId:b._objectId,value:void 0})))],returnByValue:B,executionContextId:this._executionContextId}).catch(rewriteError);checkException(oe.exceptionDetails);if(B)return(0,ze.parseEvaluationResultValue)(oe.result.value);return createHandle(F._context,oe.result)}async getProperties(b){const B=await this._session.send("Runtime.getObjectProperties",{executionContextId:this._executionContextId,objectId:b._objectId});const F=new Map;for(const K of B.properties)F.set(K.name,createHandle(b._context,K.value));return F}async releaseHandle(b){if(!b._objectId)return;await this._session.send("Runtime.disposeObject",{executionContextId:this._executionContextId,objectId:b._objectId})}}function checkException(b){if(!b)return;if(b.value)throw new $e.JavaScriptErrorInEvaluate(JSON.stringify(b.value));else throw new $e.JavaScriptErrorInEvaluate(b.text+(b.stack?"\n"+b.stack:""))}function rewriteError(b){if(b.message.includes("cyclic object value")||b.message.includes("Object is not serializable"))return{result:{type:"undefined",value:void 0}};if(b instanceof TypeError&&b.message.startsWith("Converting circular structure to JSON"))(0,Ge.rewriteErrorMessage)(b,b.message+" Are you passing a nested JSHandle?");if(!$e.isJavaScriptErrorInEvaluate(b)&&!(0,Ke.isSessionClosedError)(b))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw b}function potentiallyUnserializableValue(b){const B=b.value;const F=b.unserializableValue;return F?$e.parseUnserializableValue(F):B}function renderPreview(b){if(b.type==="undefined")return"undefined";if(b.unserializableValue)return String(b.unserializableValue);if(b.type==="symbol")return"Symbol()";if(b.subtype==="regexp")return"RegExp";if(b.subtype==="weakmap")return"WeakMap";if(b.subtype==="weakset")return"WeakSet";if(b.subtype)return b.subtype[0].toUpperCase()+b.subtype.slice(1);if("value"in b)return String(b.value)}function createHandle(b,B){if(B.subtype==="node"){(0,We.assert)(b instanceof Ye.FrameExecutionContext);return new Ye.ElementHandle(b,B.objectId)}return new $e.JSHandle(b,B.subtype||B.type||"",renderPreview(B),B.objectId,potentiallyUnserializableValue(B))}0&&0},5618:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{RawKeyboardImpl:()=>RawKeyboardImpl,RawMouseImpl:()=>RawMouseImpl,RawTouchscreenImpl:()=>RawTouchscreenImpl});b.exports=__toCommonJS(oe);function toModifiersMask(b){let B=0;if(b.has("Alt"))B|=1;if(b.has("Control"))B|=2;if(b.has("Shift"))B|=4;if(b.has("Meta"))B|=8;return B}function toButtonNumber(b){if(b==="left")return 0;if(b==="middle")return 1;if(b==="right")return 2;return 0}function toButtonsMask(b){let B=0;if(b.has("left"))B|=1;if(b.has("right"))B|=2;if(b.has("middle"))B|=4;return B}class RawKeyboardImpl{constructor(b){this._client=b}async keydown(b,B,F,K,se){let oe=K.text;if(oe==="\r")oe="";const{code:Qe,key:Re,location:Me}=K;await b.race(this._client.send("Page.dispatchKeyEvent",{type:"keydown",keyCode:K.keyCodeWithoutLocation,code:Qe,key:Re,repeat:se,location:Me,text:oe}))}async keyup(b,B,F,K){const{code:se,key:oe,location:Qe}=K;await b.race(this._client.send("Page.dispatchKeyEvent",{type:"keyup",key:oe,keyCode:K.keyCodeWithoutLocation,code:se,location:Qe,repeat:false}))}async sendText(b,B){await b.race(this._client.send("Page.insertText",{text:B}))}}class RawMouseImpl{constructor(b){this._client=b}async move(b,B,F,K,se,oe,Qe){await b.race(this._client.send("Page.dispatchMouseEvent",{type:"mousemove",button:0,buttons:toButtonsMask(se),x:Math.floor(B),y:Math.floor(F),modifiers:toModifiersMask(oe)}))}async down(b,B,F,K,se,oe,Qe){await b.race(this._client.send("Page.dispatchMouseEvent",{type:"mousedown",button:toButtonNumber(K),buttons:toButtonsMask(se),x:Math.floor(B),y:Math.floor(F),modifiers:toModifiersMask(oe),clickCount:Qe}))}async up(b,B,F,K,se,oe,Qe){await b.race(this._client.send("Page.dispatchMouseEvent",{type:"mouseup",button:toButtonNumber(K),buttons:toButtonsMask(se),x:Math.floor(B),y:Math.floor(F),modifiers:toModifiersMask(oe),clickCount:Qe}))}async wheel(b,B,F,K,se,oe,Qe){await this._page.mainFrame().evaluateExpression(`new Promise(requestAnimationFrame)`,{world:"utility"});await b.race(this._client.send("Page.dispatchWheelEvent",{deltaX:oe,deltaY:Qe,x:Math.floor(B),y:Math.floor(F),deltaZ:0,modifiers:toModifiersMask(se)}))}setPage(b){this._page=b}}class RawTouchscreenImpl{constructor(b){this._client=b}async tap(b,B,F,K){await b.race(this._client.send("Page.dispatchTapEvent",{x:B,y:F,modifiers:toModifiersMask(K)}))}}0&&0},4989:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{FFNetworkManager:()=>FFNetworkManager});b.exports=__toCommonJS(Le);var We=F(8753);var Ge=__toESM(F(6370));class FFNetworkManager{constructor(b,B){this._session=b;this._requests=new Map;this._page=B;this._eventListeners=[We.eventsHelper.addEventListener(b,"Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),We.eventsHelper.addEventListener(b,"Network.responseReceived",this._onResponseReceived.bind(this)),We.eventsHelper.addEventListener(b,"Network.requestFinished",this._onRequestFinished.bind(this)),We.eventsHelper.addEventListener(b,"Network.requestFailed",this._onRequestFailed.bind(this))]}dispose(){We.eventsHelper.removeEventListeners(this._eventListeners)}async setRequestInterception(b){await Promise.all([this._session.send("Network.setRequestInterception",{enabled:b}),this._session.send("Page.setCacheDisabled",{cacheDisabled:b})])}_onRequestWillBeSent(b){const B=b.redirectedFrom?this._requests.get(b.redirectedFrom)||null:null;const F=B?B.request.frame():b.frameId?this._page.frameManager.frame(b.frameId):null;if(!F)return;if(b.method==="OPTIONS"&&!b.isIntercepted)return;if(B)this._requests.delete(B._id);const K=new InterceptableRequest(F,B,b);let se;if(b.isIntercepted)se=new FFRouteImpl(this._session,K);this._requests.set(K._id,K);this._page.frameManager.requestStarted(K.request,se)}_onResponseReceived(b){const B=this._requests.get(b.requestId);if(!B)return;const getResponseBody=async()=>{const b=await this._session.send("Network.getResponseBody",{requestId:B._id});if(b.evicted)throw new Error(`Response body for ${B.request.method()} ${B.request.url()} was evicted!`);return Buffer.from(b.base64body,"base64")};const F=b.timing.startTime;function relativeToStart(b){if(!b)return-1;return(b-F)/1e3}const K={startTime:F/1e3,domainLookupStart:relativeToStart(b.timing.domainLookupStart),domainLookupEnd:relativeToStart(b.timing.domainLookupEnd),connectStart:relativeToStart(b.timing.connectStart),secureConnectionStart:relativeToStart(b.timing.secureConnectionStart),connectEnd:relativeToStart(b.timing.connectEnd),requestStart:relativeToStart(b.timing.requestStart),responseStart:relativeToStart(b.timing.responseStart)};const se=new Ge.Response(B.request,b.status,b.statusText,parseMultivalueHeaders(b.headers),K,getResponseBody,b.fromServiceWorker);if(b?.remoteIPAddress&&typeof b?.remotePort==="number"){se._serverAddrFinished({ipAddress:b.remoteIPAddress,port:b.remotePort})}else{se._serverAddrFinished()}se._securityDetailsFinished({protocol:b?.securityDetails?.protocol,subjectName:b?.securityDetails?.subjectName,issuer:b?.securityDetails?.issuer,validFrom:b?.securityDetails?.validFrom,validTo:b?.securityDetails?.validTo});se.setRawResponseHeaders(null);se.setResponseHeadersSize(null);this._page.frameManager.requestReceivedResponse(se)}_onRequestFinished(b){const B=this._requests.get(b.requestId);if(!B)return;const F=B.request._existingResponse();F.setTransferSize(b.transferSize);F.setEncodedBodySize(b.encodedBodySize);const K=F.status()>=300&&F.status()<=399;const se=b.responseEndTime?b.responseEndTime/1e3-F.timing().startTime:-1;if(K){F._requestFinished(se)}else{this._requests.delete(B._id);F._requestFinished(se)}if(b.protocolVersion)F._setHttpVersion(b.protocolVersion);this._page.frameManager.reportRequestFinished(B.request,F)}_onRequestFailed(b){const B=this._requests.get(b.requestId);if(!B)return;this._requests.delete(B._id);const F=B.request._existingResponse();if(F){F.setTransferSize(null);F.setEncodedBodySize(null);F._requestFinished(-1)}B.request._setFailureText(b.errorCode);this._page.frameManager.requestFailed(B.request,b.errorCode==="NS_BINDING_ABORTED")}}const ze={TYPE_INVALID:"other",TYPE_OTHER:"other",TYPE_SCRIPT:"script",TYPE_IMAGE:"image",TYPE_STYLESHEET:"stylesheet",TYPE_OBJECT:"other",TYPE_DOCUMENT:"document",TYPE_SUBDOCUMENT:"document",TYPE_REFRESH:"document",TYPE_XBL:"other",TYPE_PING:"other",TYPE_XMLHTTPREQUEST:"xhr",TYPE_OBJECT_SUBREQUEST:"other",TYPE_DTD:"other",TYPE_FONT:"font",TYPE_MEDIA:"media",TYPE_WEBSOCKET:"websocket",TYPE_CSP_REPORT:"other",TYPE_XSLT:"other",TYPE_BEACON:"other",TYPE_FETCH:"fetch",TYPE_IMAGESET:"image",TYPE_WEB_MANIFEST:"manifest"};const $e={TYPE_INTERNAL_EVENTSOURCE:"eventsource"};class InterceptableRequest{constructor(b,B,F){this._id=F.requestId;if(B)B._redirectedTo=this;let K=null;if(F.postData)K=Buffer.from(F.postData,"base64");this.request=new Ge.Request(b._page.browserContext,b,null,B?B.request:null,F.navigationId,F.url,$e[F.internalCause]||ze[F.cause]||"other",F.method,K,F.headers);this.request.setRawRequestHeaders(null)}_finalRequest(){let b=this;while(b._redirectedTo)b=b._redirectedTo;return b}}class FFRouteImpl{constructor(b,B){this._session=b;this._request=B}async continue(b){await this._session.sendMayFail("Network.resumeInterceptedRequest",{requestId:this._request._id,url:b.url,method:b.method,headers:b.headers,postData:b.postData?Buffer.from(b.postData).toString("base64"):void 0})}async fulfill(b){const B=b.isBase64?b.body:Buffer.from(b.body).toString("base64");await this._session.sendMayFail("Network.fulfillInterceptedRequest",{requestId:this._request._id,status:b.status,statusText:Ge.statusText(b.status),headers:b.headers,base64body:B})}async abort(b){await this._session.sendMayFail("Network.abortInterceptedRequest",{requestId:this._request._id,errorCode:b})}}function parseMultivalueHeaders(b){const B=[];for(const F of b){const b=F.name.toLowerCase()==="set-cookie"?"\n":",";const K=F.value.split(b).map((b=>b.trim()));for(const b of K)B.push({name:F.name,value:b})}return B}0&&0},8367:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{FFPage:()=>FFPage,UTILITY_WORLD_NAME:()=>lt});b.exports=__toCommonJS(Le);var We=F(8753);var Ge=__toESM(F(9870));var ze=__toESM(F(1852));var $e=F(45);var Ye=F(45);var Ke=F(5992);var Xe=F(5373);var et=F(5618);var rt=F(4989);var it=F(6877);var ot=F(4395);var at=F(541);const lt="__playwright_utility_world__";class FFPage{constructor(b,B,F){this.cspErrorsAsynchronousForInlineScripts=true;this._reportedAsNew=false;this._workers=new Map;this._initScripts=[];this._session=b;this._opener=F;this.rawKeyboard=new et.RawKeyboardImpl(b);this.rawMouse=new et.RawMouseImpl(b);this.rawTouchscreen=new et.RawTouchscreenImpl(b);this._contextIdToContext=new Map;this._browserContext=B;this._page=new Ye.Page(this,B);this.rawMouse.setPage(this._page);this._networkManager=new rt.FFNetworkManager(b,this._page);this._page.on(Ye.Page.Events.FrameDetached,(b=>this._removeContextsForFrame(b)));this._eventListeners=[We.eventsHelper.addEventListener(this._session,"Page.eventFired",this._onEventFired.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.frameAttached",this._onFrameAttached.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.frameDetached",this._onFrameDetached.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.navigationAborted",this._onNavigationAborted.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.navigationCommitted",this._onNavigationCommitted.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.navigationStarted",this._onNavigationStarted.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.sameDocumentNavigation",this._onSameDocumentNavigation.bind(this)),We.eventsHelper.addEventListener(this._session,"Runtime.executionContextCreated",this._onExecutionContextCreated.bind(this)),We.eventsHelper.addEventListener(this._session,"Runtime.executionContextDestroyed",this._onExecutionContextDestroyed.bind(this)),We.eventsHelper.addEventListener(this._session,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.linkClicked",(b=>this._onLinkClicked(b.phase))),We.eventsHelper.addEventListener(this._session,"Page.uncaughtError",this._onUncaughtError.bind(this)),We.eventsHelper.addEventListener(this._session,"Runtime.console",this._onConsole.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.dialogOpened",this._onDialogOpened.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.bindingCalled",this._onBindingCalled.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.fileChooserOpened",this._onFileChooserOpened.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.workerCreated",this._onWorkerCreated.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.workerDestroyed",this._onWorkerDestroyed.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.dispatchMessageFromWorker",this._onDispatchMessageFromWorker.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.crashed",this._onCrashed.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.videoRecordingStarted",this._onVideoRecordingStarted.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.webSocketCreated",this._onWebSocketCreated.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.webSocketClosed",this._onWebSocketClosed.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.webSocketFrameReceived",this._onWebSocketFrameReceived.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.webSocketFrameSent",this._onWebSocketFrameSent.bind(this)),We.eventsHelper.addEventListener(this._session,"Page.screencastFrame",this._onScreencastFrame.bind(this))];this._session.once("Page.ready",(()=>{if(this._reportedAsNew)return;this._reportedAsNew=true;this._page.reportAsNew(this._opener?._page)}));this.addInitScript(new $e.InitScript(""),lt).catch((b=>this._markAsError(b)))}async _markAsError(b){if(this._reportedAsNew)return;this._reportedAsNew=true;this._page.reportAsNew(this._opener?._page,b)}_onWebSocketCreated(b){this._page.frameManager.onWebSocketCreated(webSocketId(b.frameId,b.wsid),b.requestURL);this._page.frameManager.onWebSocketRequest(webSocketId(b.frameId,b.wsid))}_onWebSocketClosed(b){if(b.error)this._page.frameManager.webSocketError(webSocketId(b.frameId,b.wsid),b.error);this._page.frameManager.webSocketClosed(webSocketId(b.frameId,b.wsid))}_onWebSocketFrameReceived(b){this._page.frameManager.webSocketFrameReceived(webSocketId(b.frameId,b.wsid),b.opcode,b.data)}_onWebSocketFrameSent(b){this._page.frameManager.onWebSocketFrameSent(webSocketId(b.frameId,b.wsid),b.opcode,b.data)}_onExecutionContextCreated(b){const{executionContextId:B,auxData:F}=b;const K=this._page.frameManager.frame(F.frameId);if(!K)return;const se=new Xe.FFExecutionContext(this._session,B);let oe=null;if(F.name===lt)oe="utility";else if(!F.name)oe="main";const Qe=new ze.FrameExecutionContext(se,K,oe);if(oe)K._contextCreated(oe,Qe);this._contextIdToContext.set(B,Qe)}_onExecutionContextDestroyed(b){const{executionContextId:B}=b;const F=this._contextIdToContext.get(B);if(!F)return;this._contextIdToContext.delete(B);F.frame._contextDestroyed(F)}_onExecutionContextsCleared(){for(const b of Array.from(this._contextIdToContext.keys()))this._onExecutionContextDestroyed({executionContextId:b})}_removeContextsForFrame(b){for(const[B,F]of this._contextIdToContext){if(F.frame===b)this._contextIdToContext.delete(B)}}_onLinkClicked(b){if(b==="before")this._page.frameManager.frameWillPotentiallyRequestNavigation();else this._page.frameManager.frameDidPotentiallyRequestNavigation()}_onNavigationStarted(b){this._page.frameManager.frameRequestedNavigation(b.frameId,b.navigationId)}_onNavigationAborted(b){this._page.frameManager.frameAbortedNavigation(b.frameId,b.errorText,b.navigationId)}_onNavigationCommitted(b){for(const[B,F]of this._workers){if(F.frameId===b.frameId)this._onWorkerDestroyed({workerId:B})}this._page.frameManager.frameCommittedNewDocumentNavigation(b.frameId,b.url,b.name||"",b.navigationId||"",false)}_onSameDocumentNavigation(b){this._page.frameManager.frameCommittedSameDocumentNavigation(b.frameId,b.url)}_onFrameAttached(b){this._page.frameManager.frameAttached(b.frameId,b.parentFrameId)}_onFrameDetached(b){this._page.frameManager.frameDetached(b.frameId)}_onEventFired(b){const{frameId:B,name:F}=b;if(F==="load")this._page.frameManager.frameLifecycleEvent(B,"load");if(F==="DOMContentLoaded")this._page.frameManager.frameLifecycleEvent(B,"domcontentloaded")}_onUncaughtError(b){const{name:B,message:F}=(0,ot.splitErrorMessage)(b.message);const K=new Error(F);K.stack=b.message+"\n"+b.stack.split("\n").filter(Boolean).map((b=>b.replace(/([^@]*)@(.*)/,"    at $1 ($2)"))).join("\n");K.name=B;this._page.addPageError(K)}_onConsole(b){const{type:B,args:F,executionContextId:K,location:se}=b;const oe=this._contextIdToContext.get(K);if(!oe)return;this._page.addConsoleMessage(null,B==="warn"?"warning":B,F.map((b=>(0,Xe.createHandle)(oe,b))),se)}_onDialogOpened(b){this._page.browserContext.dialogManager.dialogDidOpen(new Ge.Dialog(this._page,b.type,b.message,(async(B,F)=>{await this._session.sendMayFail("Page.handleDialog",{dialogId:b.dialogId,accept:B,promptText:F})}),b.defaultValue))}async _onBindingCalled(b){const B=await this._page.waitForInitializedOrError();if(!(B instanceof Error)){const B=this._contextIdToContext.get(b.executionContextId);if(B)await this._page.onBindingCalled(b.payload,B)}}async _onFileChooserOpened(b){const{executionContextId:B,element:F}=b;const K=this._contextIdToContext.get(B);if(!K)return;const se=(0,Xe.createHandle)(K,F).asElement();await this._page._onFileChooserOpened(se)}async _onWorkerCreated(b){const B=b.workerId;const F=new Ye.Worker(this._page,b.url);const K=new Ke.FFSession(this._session._connection,B,(F=>{this._session.send("Page.sendMessageToWorker",{frameId:b.frameId,workerId:B,message:JSON.stringify(F)}).catch((b=>{K.dispatchMessage({id:F.id,method:"",params:{},error:{message:b.message,data:void 0}})}))}));this._workers.set(B,{session:K,frameId:b.frameId});this._page.addWorker(B,F);K.once("Runtime.executionContextCreated",(b=>{F.createExecutionContext(new Xe.FFExecutionContext(K,b.executionContextId));F.workerScriptLoaded()}));K.on("Runtime.console",(b=>{const{type:B,args:K,location:se}=b;const oe=F.existingExecutionContext;this._page.addConsoleMessage(F,B,K.map((b=>(0,Xe.createHandle)(oe,b))),se)}))}_onWorkerDestroyed(b){const B=b.workerId;const F=this._workers.get(B);if(!F)return;F.session.dispose();this._workers.delete(B);this._page.removeWorker(B)}async _onDispatchMessageFromWorker(b){const B=this._workers.get(b.workerId);if(!B)return;B.session.dispatchMessage(JSON.parse(b.message))}async _onCrashed(b){this._session.markAsCrashed();this._page._didCrash()}_onVideoRecordingStarted(b){this._browserContext._browser._videoStarted(this._browserContext,b.screencastId,b.file,this._page.waitForInitializedOrError())}didClose(){this._markAsError(new at.TargetClosedError);this._session.dispose();We.eventsHelper.removeEventListeners(this._eventListeners);this._networkManager.dispose();this._page._didClose()}async navigateFrame(b,B,F){const K=await this._session.send("Page.navigate",{url:B,referer:F,frameId:b._id});return{newDocumentId:K.navigationId||void 0}}async updateExtraHTTPHeaders(){await this._session.send("Network.setExtraHTTPHeaders",{headers:this._page.extraHTTPHeaders()||[]})}async updateEmulatedViewportSize(){const b=this._page.emulatedSize()?.viewport??null;await this._session.send("Page.setViewportSize",{viewportSize:b})}async bringToFront(){await this._session.send("Page.bringToFront",{})}async updateEmulateMedia(){const b=this._page.emulatedMedia();const B=b.colorScheme==="no-override"?void 0:b.colorScheme;const F=b.reducedMotion==="no-override"?void 0:b.reducedMotion;const K=b.forcedColors==="no-override"?void 0:b.forcedColors;const se=b.contrast==="no-override"?void 0:b.contrast;await this._session.send("Page.setEmulatedMedia",{type:b.media==="no-override"?"":b.media,colorScheme:B,reducedMotion:F,forcedColors:K,contrast:se})}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateFileChooserInterception(){const b=this._page.fileChooserIntercepted();await this._session.send("Page.setInterceptFileChooserDialog",{enabled:b}).catch((()=>{}))}async reload(){await this._session.send("Page.reload")}async goBack(){const{success:b}=await this._session.send("Page.goBack",{frameId:this._page.mainFrame()._id});return b}async goForward(){const{success:b}=await this._session.send("Page.goForward",{frameId:this._page.mainFrame()._id});return b}async requestGC(){await this._session.send("Heap.collectGarbage")}async addInitScript(b,B){this._initScripts.push({initScript:b,worldName:B});await this._updateInitScripts()}async removeInitScripts(b){const B=new Set(b);this._initScripts=this._initScripts.filter((b=>!B.has(b.initScript)));await this._updateInitScripts()}async _updateInitScripts(){await this._session.send("Page.setInitScripts",{scripts:this._initScripts.map((b=>({script:b.initScript.source,worldName:b.worldName})))})}async closePage(b){await this._session.send("Page.close",{runBeforeUnload:b})}async setBackgroundColor(b){if(b)throw new Error("Not implemented")}async takeScreenshot(b,B,F,K,se,oe,Qe){if(!F){const B=await this._page.mainFrame().waitForFunctionValueInUtility(b,(()=>({x:window.scrollX,y:window.scrollY})));F={x:K.x+B.x,y:K.y+B.y,width:K.width,height:K.height}}const{data:Re}=await b.race(this._session.send("Page.screenshot",{mimeType:"image/"+B,clip:F,quality:se,omitDeviceScaleFactor:Qe==="css"}));return Buffer.from(Re,"base64")}async getContentFrame(b){const{contentFrameId:B}=await this._session.send("Page.describeNode",{frameId:b._context.frame._id,objectId:b._objectId});if(!B)return null;return this._page.frameManager.frame(B)}async getOwnerFrame(b){const{ownerFrameId:B}=await this._session.send("Page.describeNode",{frameId:b._context.frame._id,objectId:b._objectId});return B||null}async getBoundingBox(b){const B=await this.getContentQuads(b);if(!B||!B.length)return null;let F=Infinity;let K=-Infinity;let se=Infinity;let oe=-Infinity;for(const b of B){for(const B of b){F=Math.min(F,B.x);K=Math.max(K,B.x);se=Math.min(se,B.y);oe=Math.max(oe,B.y)}}return{x:F,y:se,width:K-F,height:oe-se}}async scrollRectIntoViewIfNeeded(b,B){return await this._session.send("Page.scrollIntoViewIfNeeded",{frameId:b._context.frame._id,objectId:b._objectId,rect:B}).then((()=>"done")).catch((b=>{if(b instanceof Error&&b.message.includes("Node is detached from document"))return"error:notconnected";if(b instanceof Error&&b.message.includes("Node does not have a layout object"))return"error:notvisible";throw b}))}async setScreencastOptions(b){if(b){const{screencastId:B}=await this._session.send("Page.startScreencast",b);this._screencastId=B}else{await this._session.send("Page.stopScreencast")}}_onScreencastFrame(b){if(!this._screencastId)return;const B=this._screencastId;this._page.throttleScreencastFrameAck((()=>{this._session.send("Page.screencastFrameAck",{screencastId:B}).catch((b=>it.debugLogger.log("error",b)))}));const F=Buffer.from(b.data,"base64");this._page.emit(Ye.Page.Events.ScreencastFrame,{buffer:F,width:b.deviceWidth,height:b.deviceHeight})}rafCountForStablePosition(){return 1}async getContentQuads(b){const B=await this._session.sendMayFail("Page.getContentQuads",{frameId:b._context.frame._id,objectId:b._objectId});if(!B)return null;return B.quads.map((b=>[b.p1,b.p2,b.p3,b.p4]))}async setInputFilePaths(b,B){await this._session.send("Page.setFileInputFiles",{frameId:b._context.frame._id,objectId:b._objectId,files:B})}async adoptElementHandle(b,B){const F=await this._session.send("Page.adoptNode",{frameId:b._context.frame._id,objectId:b._objectId,executionContextId:B.delegate._executionContextId});if(!F.remoteObject)throw new Error(ze.kUnableToAdoptErrorMessage);return(0,Xe.createHandle)(B,F.remoteObject)}async inputActionEpilogue(){}async resetForReuse(b){await this.rawMouse.move(b,-1,-1,"none",new Set,new Set,false)}async getFrameElement(b){const B=b.parentFrame();if(!B)throw new Error("Frame has been detached.");const F=await B._mainContext();const K=await this._session.send("Page.adoptNode",{frameId:b._id,executionContextId:F.delegate._executionContextId});if(!K.remoteObject)throw new Error("Frame has been detached.");return(0,Xe.createHandle)(F,K.remoteObject)}shouldToggleStyleSheetToSyncAnimations(){return false}}function webSocketId(b,B){return`${b}---${B}`}0&&0},9211:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Firefox:()=>Firefox});b.exports=__toCommonJS(Le);var We=__toESM(F(857));var Ge=__toESM(F(6928));var ze=F(4093);var $e=F(5992);var Ye=F(1769);var Ke=F(2880);var Xe=F(1871);class Firefox extends Ke.BrowserType{constructor(b,B){super(b,"firefox");this._bidiFirefox=B}launch(b,B,F){if(B.channel?.startsWith("moz-"))return this._bidiFirefox.launch(b,B,F);return super.launch(b,B,F)}async launchPersistentContext(b,B,F){if(F.channel?.startsWith("moz-"))return this._bidiFirefox.launchPersistentContext(b,B,F);return super.launchPersistentContext(b,B,F)}connectToTransport(b,B){return ze.FFBrowser.connect(this.attribution.playwright,b,B)}doRewriteStartupLog(b){if(!b.logs)return b;if(b.logs.includes(`as root in a regular user's session is not supported.`))b.logs="\n"+(0,Ye.wrapInASCIIBox)(`Firefox is unable to launch if the $HOME folder isn't owned by the current user.\nWorkaround: Set the HOME=/root environment variable${process.env.GITHUB_ACTION?" in your GitHub Actions workflow file":""} when running Playwright.`,1);if(b.logs.includes("no DISPLAY environment variable specified"))b.logs="\n"+(0,Ye.wrapInASCIIBox)(Ke.kNoXServerRunningError,1);return b}amendEnvironment(b){if(!Ge.default.isAbsolute(We.default.homedir()))throw new Error(`Cannot launch Firefox with relative home directory. Did you set ${We.default.platform()==="win32"?"USERPROFILE":"HOME"} to a relative path?`);if(We.default.platform()==="linux"){return{...b,SNAP_NAME:void 0,SNAP_INSTANCE_NAME:void 0}}return b}attemptToGracefullyCloseBrowser(b){const B={method:"Browser.close",params:{},id:$e.kBrowserCloseMessageId};b.send(B)}async defaultArgs(b,B,F){const{args:K=[],headless:se}=b;const oe=K.find((b=>b.startsWith("-profile")||b.startsWith("--profile")));if(oe)throw this._createUserDataDirArgMisuseError("--profile");if(K.find((b=>b.startsWith("-juggler"))))throw new Error("Use the port parameter instead of -juggler argument");const Qe=["-no-remote"];if(se){Qe.push("-headless")}else{Qe.push("-wait-for-browser");Qe.push("-foreground")}Qe.push(`-profile`,F);Qe.push("-juggler-pipe");Qe.push(...K);if(B)Qe.push("about:blank");else Qe.push("-silent");return Qe}waitForReadyState(b,B){const F=new Xe.ManualPromise;B.onMessage((b=>{if(b.includes("Juggler listening to the pipe"))F.resolve({})}));return F}}0&&0},3752:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{MultipartFormData:()=>MultipartFormData});b.exports=__toCommonJS(Re);var Me=F(6327);class MultipartFormData{constructor(){this._chunks=[];this._boundary=generateUniqueBoundaryString()}contentTypeHeader(){return`multipart/form-data; boundary=${this._boundary}`}addField(b,B){this._beginMultiPartHeader(b);this._finishMultiPartHeader();this._chunks.push(Buffer.from(B));this._finishMultiPartField()}addFileField(b,B){this._beginMultiPartHeader(b);this._chunks.push(Buffer.from(`; filename="${B.name}"`));this._chunks.push(Buffer.from(`\r\ncontent-type: ${B.mimeType||Me.mime.getType(B.name)||"application/octet-stream"}`));this._finishMultiPartHeader();this._chunks.push(B.buffer);this._finishMultiPartField()}finish(){this._addBoundary(true);return Buffer.concat(this._chunks)}_beginMultiPartHeader(b){this._addBoundary();this._chunks.push(Buffer.from(`content-disposition: form-data; name="${b}"`))}_finishMultiPartHeader(){this._chunks.push(Buffer.from(`\r\n\r\n`))}_finishMultiPartField(){this._chunks.push(Buffer.from(`\r\n`))}_addBoundary(b){this._chunks.push(Buffer.from("--"+this._boundary));if(b)this._chunks.push(Buffer.from("--"));this._chunks.push(Buffer.from("\r\n"))}}const Le=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,65,66];function generateUniqueBoundaryString(){const b=[];for(let B=0;B<16;B++)b.push(Le[Math.floor(Math.random()*Le.length)]);return"----WebKitFormBoundary"+String.fromCharCode(...b)}0&&0},4027:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{FrameSelectors:()=>FrameSelectors});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(3168);class FrameSelectors{constructor(b){this.frame=b}_parseSelector(b,B){const F=typeof B?.strict==="boolean"?B.strict:!!this.frame._page.browserContext._options.strictSelectors;return this.frame._page.browserContext.selectors().parseSelector(b,F)}async query(b,B,F){const K=await this.resolveInjectedForSelector(b,B,F);if(!K)return null;const se=await K.injected.evaluateHandle(((b,{info:B,scope:F})=>b.querySelector(B.parsed,F||document,B.strict)),{info:K.info,scope:K.scope});const oe=se.asElement();if(!oe){se.dispose();return null}return adoptIfNeeded(oe,await K.frame._mainContext())}async queryArrayInMainWorld(b,B){const F=await this.resolveInjectedForSelector(b,{mainWorld:true},B);if(!F)throw new Error(`Failed to find frame for selector "${b}"`);return await F.injected.evaluateHandle(((b,{info:B,scope:F})=>b.querySelectorAll(B.parsed,F||document)),{info:F.info,scope:F.scope})}async queryCount(b,B){const F=await this.resolveInjectedForSelector(b);if(!F)throw new Error(`Failed to find frame for selector "${b}"`);await(B.__testHookBeforeQuery?.());return await F.injected.evaluate(((b,{info:B})=>b.querySelectorAll(B.parsed,document).length),{info:F.info})}async queryAll(b,B){const F=await this.resolveInjectedForSelector(b,{},B);if(!F)return[];const K=await F.injected.evaluateHandle(((b,{info:B,scope:F})=>b.querySelectorAll(B.parsed,F||document)),{info:F.info,scope:F.scope});const se=await K.getProperties();K.dispose();const oe=await F.frame._mainContext();const Qe=[];for(const b of se.values()){const B=b.asElement();if(B)Qe.push(adoptIfNeeded(B,oe));else b.dispose()}return Promise.all(Qe)}_jumpToAriaRefFrameIfNeeded(b,B,F){if(B.parsed.parts[0].name!=="aria-ref")return F;const K=B.parsed.parts[0].body;const se=K.match(/^f(\d+)e\d+$/);if(!se)return F;const oe=+se[1];const Qe=this.frame._page.frameManager.frames().find((b=>b.seq===oe));if(!Qe)throw new Le.InvalidSelectorError(`Invalid frame in aria-ref selector "${b}"`);return Qe}async resolveFrameForSelector(b,B={},F){let K=this.frame;const se=(0,Le.splitSelectorByFrame)(b);for(const B of se){(0,Le.visitAllSelectorParts)(B,((B,F)=>{if(F&&B.name==="internal:control"&&B.body==="enter-frame"){const B=(0,Me.asLocator)(this.frame._page.browserContext._browser.sdkLanguage(),b);throw new Le.InvalidSelectorError(`Frame locators are not allowed inside composite locators, while querying "${B}"`)}}))}for(let oe=0;oe<se.length-1;++oe){const Qe=this._parseSelector(se[oe],B);K=this._jumpToAriaRefFrameIfNeeded(b,Qe,K);const Re=await K._context(Qe.world);const Me=await Re.injectedScript();const We=await Me.evaluateHandle(((b,{info:B,scope:F,selectorString:K})=>{const se=b.querySelector(B.parsed,F||document,B.strict);if(se&&se.nodeName!=="IFRAME"&&se.nodeName!=="FRAME")throw b.createStacklessError(`Selector "${K}" resolved to ${b.previewNode(se)}, <iframe> was expected`);return se}),{info:Qe,scope:oe===0?F:void 0,selectorString:(0,Le.stringifySelector)(Qe.parsed)});const Ge=We.asElement();if(!Ge)return null;const ze=await K._page.delegate.getContentFrame(Ge);Ge.dispose();if(!ze)return null;K=ze}if(K!==this.frame)F=void 0;const oe=K.selectors._parseSelector(se[se.length-1],B);K=this._jumpToAriaRefFrameIfNeeded(b,oe,K);return{frame:K,info:oe,scope:F}}async resolveInjectedForSelector(b,B,F){const K=await this.resolveFrameForSelector(b,B,F);if(!K)return;const se=await K.frame._context(B?.mainWorld?"main":K.info.world);const oe=await se.injectedScript();return{injected:oe,info:K.info,frame:K.frame,scope:K.scope}}}async function adoptIfNeeded(b,B){if(b._context===B)return b;const F=await b._page.delegate.adoptElementHandle(b,B);b.dispose();return F}0&&0},7416:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Frame:()=>Frame,FrameManager:()=>FrameManager,NavigationAbortedError:()=>NavigationAbortedError});b.exports=__toCommonJS(Le);var We=F(3021);var Ge=__toESM(F(1852));var ze=F(541);var $e=F(500);var Ye=F(4027);var Ke=F(4794);var Xe=F(6938);var et=__toESM(F(4745));var rt=__toESM(F(6370));var it=F(45);var ot=F(9757);var at=__toESM(F(7193));var lt=F(3143);var ut=F(6390);var dt=F(6877);var ht=F(8753);var pt=F(3168);var ft=F(1871);var mt=F(7538);class NavigationAbortedError extends Error{constructor(b,B){super(B);this.documentId=b}}const vt="<dummy>";class FrameManager{constructor(b){this._frames=new Map;this._consoleMessageTags=new Map;this._signalBarriers=new Set;this._webSockets=new Map;this._nextFrameSeq=0;this._page=b;this._mainFrame=void 0}nextFrameSeq(){return this._nextFrameSeq++}createDummyMainFrameIfNeeded(){if(!this._mainFrame)this.frameAttached(vt,null)}dispose(){for(const b of this._frames.values()){b._stopNetworkIdleTimer();b._invalidateNonStallingEvaluations("Target crashed")}}mainFrame(){return this._mainFrame}frames(){const b=[];collect(this._mainFrame);return b;function collect(B){b.push(B);for(const b of B.childFrames())collect(b)}}frame(b){return this._frames.get(b)||null}frameAttached(b,B){const F=B?this._frames.get(B):null;if(!F){if(this._mainFrame){this._frames.delete(this._mainFrame._id);this._mainFrame._id=b}else{(0,lt.assert)(!this._frames.has(b));this._mainFrame=new Frame(this._page,b,F)}this._frames.set(b,this._mainFrame);return this._mainFrame}else{(0,lt.assert)(!this._frames.has(b));const B=new Frame(this._page,b,F);this._frames.set(b,B);this._page.emit(it.Page.Events.FrameAttached,B);return B}}async waitForSignalsCreatedBy(b,B,F){if(!B)return F();const K=new SignalBarrier(b);this._signalBarriers.add(K);try{const B=await F();await b.race(this._page.delegate.inputActionEpilogue());await K.waitFor();await new Promise((0,lt.makeWaitForNextTask)());return B}finally{this._signalBarriers.delete(K)}}frameWillPotentiallyRequestNavigation(){for(const b of this._signalBarriers)b.retain()}frameDidPotentiallyRequestNavigation(){for(const b of this._signalBarriers)b.release()}frameRequestedNavigation(b,B){const F=this._frames.get(b);if(!F)return;for(const b of this._signalBarriers)b.addFrameNavigation(F);if(F.pendingDocument()&&F.pendingDocument().documentId===B){return}const K=B?Array.from(F._inflightRequests).find((b=>b._documentId===B)):void 0;F.setPendingDocument({documentId:B,request:K})}frameCommittedNewDocumentNavigation(b,B,F,K,se){const oe=this._frames.get(b);this.removeChildFramesRecursively(oe);this.clearWebSockets(oe);oe._url=B;oe._name=F;let Qe;const Re=oe.pendingDocument();if(Re){if(Re.documentId===void 0){Re.documentId=K}if(Re.documentId===K){oe._currentDocument=Re}else{Qe=Re;oe._currentDocument={documentId:K,request:void 0}}oe.setPendingDocument(void 0)}else{oe._currentDocument={documentId:K,request:void 0}}oe._onClearLifecycle();const Me={url:B,name:F,newDocument:oe._currentDocument,isPublic:true};this._fireInternalFrameNavigation(oe,Me);if(!se){dt.debugLogger.log("api",`  navigated to "${B}"`);this._page.frameNavigatedToNewDocument(oe)}oe.setPendingDocument(Qe)}frameCommittedSameDocumentNavigation(b,B){const F=this._frames.get(b);if(!F)return;const K=F.pendingDocument();if(K&&K.documentId===void 0&&K.request===void 0){F.setPendingDocument(void 0)}F._url=B;const se={url:B,name:F._name,isPublic:true};this._fireInternalFrameNavigation(F,se);dt.debugLogger.log("api",`  navigated to "${B}"`)}frameAbortedNavigation(b,B,F){const K=this._frames.get(b);if(!K||!K.pendingDocument())return;if(F!==void 0&&K.pendingDocument().documentId!==F)return;const se={url:K._url,name:K._name,newDocument:K.pendingDocument(),error:new NavigationAbortedError(F,B),isPublic:!(F&&K._redirectedNavigations.has(F))};K.setPendingDocument(void 0);this._fireInternalFrameNavigation(K,se)}frameDetached(b){const B=this._frames.get(b);if(B){this._removeFramesRecursively(B);this._page.mainFrame()._recalculateNetworkIdle()}}frameLifecycleEvent(b,B){const F=this._frames.get(b);if(F)F._onLifecycleEvent(B)}requestStarted(b,B){const F=b.frame();this._inflightRequestStarted(b);if(b._documentId)F.setPendingDocument({documentId:b._documentId,request:b});if(b._isFavicon){B?.abort("aborted").catch((()=>{}));return}this._page.addNetworkRequest(b);this._page.emitOnContext(We.BrowserContext.Events.Request,b);if(B)new rt.Route(b,B).handle([...this._page.requestInterceptors,...this._page.browserContext.requestInterceptors])}requestReceivedResponse(b){if(b.request()._isFavicon)return;this._page.emitOnContext(We.BrowserContext.Events.Response,b)}reportRequestFinished(b,B){this._inflightRequestFinished(b);if(b._isFavicon)return;this._page.emitOnContext(We.BrowserContext.Events.RequestFinished,{request:b,response:B})}requestFailed(b,B){const F=b.frame();this._inflightRequestFinished(b);if(F.pendingDocument()&&F.pendingDocument().request===b){let K=b.failure().errorText;if(B)K+="; maybe frame was detached?";this.frameAbortedNavigation(F._id,K,F.pendingDocument().documentId)}if(b._isFavicon)return;this._page.emitOnContext(We.BrowserContext.Events.RequestFailed,b)}removeChildFramesRecursively(b){for(const B of b.childFrames())this._removeFramesRecursively(B)}_removeFramesRecursively(b){this.removeChildFramesRecursively(b);b._onDetached();this._frames.delete(b._id);if(!this._page.isClosed())this._page.emit(it.Page.Events.FrameDetached,b)}_inflightRequestFinished(b){const B=b.frame();if(b._isFavicon)return;if(!B._inflightRequests.has(b))return;B._inflightRequests.delete(b);if(B._inflightRequests.size===0)B._startNetworkIdleTimer()}_inflightRequestStarted(b){const B=b.frame();if(b._isFavicon)return;B._inflightRequests.add(b);if(B._inflightRequests.size===1)B._stopNetworkIdleTimer()}interceptConsoleMessage(b){if(b.type()!=="debug")return false;const B=b.text();const F=this._consoleMessageTags.get(B);if(!F)return false;this._consoleMessageTags.delete(B);F();return true}clearWebSockets(b){if(b.parentFrame())return;this._webSockets.clear()}onWebSocketCreated(b,B){const F=new rt.WebSocket(this._page,B);this._webSockets.set(b,F)}onWebSocketRequest(b){const B=this._webSockets.get(b);if(B&&B.markAsNotified())this._page.emit(it.Page.Events.WebSocket,B)}onWebSocketResponse(b,B,F){const K=this._webSockets.get(b);if(B<400)return;if(K)K.error(`${F}: ${B}`)}onWebSocketFrameSent(b,B,F){const K=this._webSockets.get(b);if(K)K.frameSent(B,F)}webSocketFrameReceived(b,B,F){const K=this._webSockets.get(b);if(K)K.frameReceived(B,F)}webSocketClosed(b){const B=this._webSockets.get(b);if(B)B.closed();this._webSockets.delete(b)}webSocketError(b,B){const F=this._webSockets.get(b);if(F)F.error(B)}_fireInternalFrameNavigation(b,B){b.emit(Frame.Events.InternalNavigation,B)}}class Frame extends Xe.SdkObject{constructor(b,B,F){super(b,"frame");this._firedLifecycleEvents=new Set;this._firedNetworkIdleSelf=false;this._url="";this._contextData=new Map;this._childFrames=new Set;this._name="";this._inflightRequests=new Set;this._setContentCounter=0;this._detachedScope=new lt.LongStandingScope;this._raceAgainstEvaluationStallingEventsPromises=new Set;this._redirectedNavigations=new Map;this.attribution.frame=this;this.seq=b.frameManager.nextFrameSeq();this._id=B;this._page=b;this._parentFrame=F;this._currentDocument={documentId:void 0,request:void 0};this.selectors=new Ye.FrameSelectors(this);this._contextData.set("main",{contextPromise:new ft.ManualPromise,context:null});this._contextData.set("utility",{contextPromise:new ft.ManualPromise,context:null});this._setContext("main",null);this._setContext("utility",null);if(this._parentFrame)this._parentFrame._childFrames.add(this);this._firedLifecycleEvents.add("commit");if(B!==vt)this._startNetworkIdleTimer()}static{this.Events={InternalNavigation:"internalnavigation",AddLifecycle:"addlifecycle",RemoveLifecycle:"removelifecycle"}}isDetached(){return this._detachedScope.isClosed()}_onLifecycleEvent(b){if(this._firedLifecycleEvents.has(b))return;this._firedLifecycleEvents.add(b);this.emit(Frame.Events.AddLifecycle,b);if(this===this._page.mainFrame()&&this._url!=="about:blank")dt.debugLogger.log("api",`  "${b}" event fired`);this._page.mainFrame()._recalculateNetworkIdle()}_onClearLifecycle(){for(const b of this._firedLifecycleEvents)this.emit(Frame.Events.RemoveLifecycle,b);this._firedLifecycleEvents.clear();this._inflightRequests=new Set(Array.from(this._inflightRequests).filter((b=>b===this._currentDocument.request)));this._stopNetworkIdleTimer();if(this._inflightRequests.size===0)this._startNetworkIdleTimer();this._page.mainFrame()._recalculateNetworkIdle(this);this._onLifecycleEvent("commit")}setPendingDocument(b){this._pendingDocument=b;if(b)this._invalidateNonStallingEvaluations("Navigation interrupted the evaluation")}pendingDocument(){return this._pendingDocument}_invalidateNonStallingEvaluations(b){if(!this._raceAgainstEvaluationStallingEventsPromises.size)return;const B=new Error(b);for(const b of this._raceAgainstEvaluationStallingEventsPromises)b.reject(B)}async raceAgainstEvaluationStallingEvents(b){if(this._pendingDocument)throw new Error("Frame is currently attempting a navigation");if(this._page.browserContext.dialogManager.hasOpenDialogsForPage(this._page))throw new Error("Open JavaScript dialog prevents evaluation");const B=new ft.ManualPromise;this._raceAgainstEvaluationStallingEventsPromises.add(B);try{return await Promise.race([b(),B])}finally{this._raceAgainstEvaluationStallingEventsPromises.delete(B)}}nonStallingRawEvaluateInExistingMainContext(b){return this.raceAgainstEvaluationStallingEvents((()=>{const B=this._existingMainContext();if(!B)throw new Error("Frame does not yet have a main execution context");return B.rawEvaluateJSON(b)}))}nonStallingEvaluateInExistingContext(b,B){return this.raceAgainstEvaluationStallingEvents((()=>{const F=this._contextData.get(B)?.context;if(!F)throw new Error("Frame does not yet have the execution context");return F.evaluateExpression(b,{isFunction:false})}))}_recalculateNetworkIdle(b){let B=this._firedNetworkIdleSelf;for(const F of this._childFrames){F._recalculateNetworkIdle(b);if(!F._firedLifecycleEvents.has("networkidle"))B=false}if(B&&!this._firedLifecycleEvents.has("networkidle")){this._firedLifecycleEvents.add("networkidle");this.emit(Frame.Events.AddLifecycle,"networkidle");if(this===this._page.mainFrame()&&this._url!=="about:blank")dt.debugLogger.log("api",`  "networkidle" event fired`)}if(b!==this&&this._firedLifecycleEvents.has("networkidle")&&!B){this._firedLifecycleEvents.delete("networkidle");this.emit(Frame.Events.RemoveLifecycle,"networkidle")}}async raceNavigationAction(b,B){return lt.LongStandingScope.raceMultiple([this._detachedScope,this._page.openScope],B().catch((B=>{if(B instanceof NavigationAbortedError&&B.documentId){const F=this._redirectedNavigations.get(B.documentId);if(F){b.log(`waiting for redirected navigation to "${F.url}"`);return b.race(F.gotoPromise)}}throw B})))}redirectNavigation(b,B,F){const K=new ot.ProgressController;const se={url:b,gotoPromise:K.run((B=>this.gotoImpl(B,b,{referer:F})),0)};this._redirectedNavigations.set(B,se);se.gotoPromise.finally((()=>this._redirectedNavigations.delete(B)))}async goto(b,B,F={}){const K=(0,lt.constructURLBasedOnBaseURL)(this._page.browserContext._options.baseURL,B);return this.raceNavigationAction(b,(async()=>this.gotoImpl(b,K,F)))}async gotoImpl(b,B,F){const K=verifyLifecycle("waitUntil",F.waitUntil===void 0?"load":F.waitUntil);b.log(`navigating to "${B}", waiting until "${K}"`);const se=this._page.extraHTTPHeaders()||[];const oe=se.find((b=>b.name.toLowerCase()==="referer"));let Qe=oe?oe.value:void 0;if(F.referer!==void 0){if(Qe!==void 0&&Qe!==F.referer)throw new Error('"referer" is already specified as extra HTTP header');Qe=F.referer}B=Ke.helper.completeUserURL(B);const Re=[];const collectNavigations=b=>Re.push(b);this.on(Frame.Events.InternalNavigation,collectNavigations);const Me=await b.race(this._page.delegate.navigateFrame(this,B,Qe)).finally((()=>this.off(Frame.Events.InternalNavigation,collectNavigations)));let Le;if(Me.newDocumentId){const predicate=b=>b.newDocument&&(b.newDocument.documentId===Me.newDocumentId||!b.error);const F=Re.filter(predicate);if(F.length)Le=F[0];else Le=await Ke.helper.waitForEvent(b,this,Frame.Events.InternalNavigation,predicate).promise;if(Le.newDocument.documentId!==Me.newDocumentId){throw new NavigationAbortedError(Me.newDocumentId,`Navigation to "${B}" is interrupted by another navigation to "${Le.url}"`)}if(Le.error)throw Le.error}else{const predicate=b=>!b.newDocument;const B=Re.filter(predicate);if(B.length)Le=B[0];else Le=await Ke.helper.waitForEvent(b,this,Frame.Events.InternalNavigation,predicate).promise}if(!this._firedLifecycleEvents.has(K))await Ke.helper.waitForEvent(b,this,Frame.Events.AddLifecycle,(b=>b===K)).promise;const We=Le.newDocument?Le.newDocument.request:void 0;const Ge=We?b.race(We._finalRequest().response()):null;return Ge}async _waitForNavigation(b,B,F){const K=verifyLifecycle("waitUntil",F.waitUntil===void 0?"load":F.waitUntil);b.log(`waiting for navigation until "${K}"`);const se=await Ke.helper.waitForEvent(b,this,Frame.Events.InternalNavigation,(F=>{if(F.error)return true;if(B&&!F.newDocument)return false;b.log(`  navigated to "${this._url}"`);return true})).promise;if(se.error)throw se.error;if(!this._firedLifecycleEvents.has(K))await Ke.helper.waitForEvent(b,this,Frame.Events.AddLifecycle,(b=>b===K)).promise;const oe=se.newDocument?se.newDocument.request:void 0;return oe?b.race(oe._finalRequest().response()):null}async _waitForLoadState(b,B){const F=verifyLifecycle("state",B);if(!this._firedLifecycleEvents.has(F))await Ke.helper.waitForEvent(b,this,Frame.Events.AddLifecycle,(b=>b===F)).promise}async frameElement(){return this._page.delegate.getFrameElement(this)}_context(b){return this._contextData.get(b).contextPromise.then((b=>{if(b instanceof et.ExecutionContext)return b;throw new Error(b.destroyedReason)}))}_mainContext(){return this._context("main")}_existingMainContext(){return this._contextData.get("main")?.context||null}_utilityContext(){return this._context("utility")}async evaluateExpression(b,B={},F){const K=await this._context(B.world??"main");const se=await K.evaluateExpression(b,B,F);return se}async evaluateExpressionHandle(b,B={},F){const K=await this._context(B.world??"main");const se=await K.evaluateExpressionHandle(b,B,F);return se}async querySelector(b,B){dt.debugLogger.log("api",`    finding element using the selector "${b}"`);return this.selectors.query(b,B)}async waitForSelector(b,B,F,K,se){if(K.visibility)throw new Error("options.visibility is not supported, did you mean options.state?");if(K.waitFor&&K.waitFor!=="visible")throw new Error("options.waitFor is not supported, did you mean options.state?");const{state:oe="visible"}=K;if(!["attached","detached","visible","hidden"].includes(oe))throw new Error(`state: expected one of (attached|detached|visible|hidden)`);if(F)b.log(`waiting for ${this._asLocator(B)}${oe==="attached"?"":" to be "+oe}`);const Qe=this.retryWithProgressAndTimeouts(b,[0,20,50,100,100,500],(async Qe=>{if(F)await this._page.performActionPreChecks(b);const Re=await b.race(this.selectors.resolveInjectedForSelector(B,K,se));if(!Re){if(oe==="hidden"||oe==="detached")return null;return Qe}const Me=await b.race(Re.injected.evaluateHandle(((b,{info:B,root:F})=>{if(F&&!F.isConnected)throw b.createStacklessError("Element is not attached to the DOM");const K=b.querySelectorAll(B.parsed,F||document);const se=K[0];const oe=se?b.utils.isElementVisible(se):false;let Qe="";if(K.length>1){if(B.strict)throw b.strictModeViolationError(B.parsed,K);Qe=`  locator resolved to ${K.length} elements. Proceeding with the first one: ${b.previewNode(K[0])}`}else if(se){Qe=`  locator resolved to ${oe?"visible":"hidden"} ${b.previewNode(se)}`}return{log:Qe,element:se,visible:oe,attached:!!se}}),{info:Re.info,root:Re.frame===this?se:void 0}));const{log:Le,visible:We,attached:Ge}=await b.race(Me.evaluate((b=>({log:b.log,visible:b.visible,attached:b.attached}))));if(Le)b.log(Le);const ze={attached:Ge,detached:!Ge,visible:We,hidden:!We}[oe];if(!ze){Me.dispose();return Qe}if(K.omitReturnValue){Me.dispose();return null}const $e=oe==="attached"||oe==="visible"?await b.race(Me.evaluateHandle((b=>b.element))):null;Me.dispose();if(!$e)return null;if(K.__testHookBeforeAdoptNode)await b.race(K.__testHookBeforeAdoptNode());try{const B=await b.race(Re.frame._mainContext());return await b.race($e._adoptTo(B))}catch(b){return Qe}}));return se?se._context._raceAgainstContextDestroyed(Qe):Qe}async dispatchEvent(b,B,F,K={},se,oe){await this._callOnElementOnceMatches(b,B,((b,B,F)=>{b.dispatchEvent(B,F.type,F.eventInit)}),{type:F,eventInit:K},{mainWorld:true,...se},oe)}async evalOnSelector(b,B,F,K,se,oe){const Qe=await this.selectors.query(b,{strict:B},oe);if(!Qe)throw new Error(`Failed to find element matching selector "${b}"`);const Re=await Qe.evaluateExpression(F,{isFunction:K},se);Qe.dispose();return Re}async evalOnSelectorAll(b,B,F,K,se){const oe=await this.selectors.queryArrayInMainWorld(b,se);const Qe=await oe.evaluateExpression(B,{isFunction:F},K);oe.dispose();return Qe}async maskSelectors(b,B){const F=await this._utilityContext();const K=await F.injectedScript();await K.evaluate(((b,{parsed:B,color:F})=>{b.maskSelectors(B,F)}),{parsed:b,color:B})}async querySelectorAll(b){return this.selectors.queryAll(b)}async queryCount(b,B){try{return await this.selectors.queryCount(b,B)}catch(b){if(this.isNonRetriableError(b))throw b;return 0}}async content(){try{const b=await this._utilityContext();return await b.evaluate((()=>{let b="";if(document.doctype)b=(new XMLSerializer).serializeToString(document.doctype);if(document.documentElement)b+=document.documentElement.outerHTML;return b}))}catch(b){if(this.isNonRetriableError(b))throw b;throw new Error(`Unable to retrieve content because the page is navigating and changing the content.`)}}async setContent(b,B,F){const K=`--playwright--set--content--${this._id}--${++this._setContentCounter}--`;await this.raceNavigationAction(b,(async()=>{const se=F.waitUntil===void 0?"load":F.waitUntil;b.log(`setting frame content, waiting until "${se}"`);const oe=await b.race(this._utilityContext());const Qe=new ft.ManualPromise;this._page.frameManager._consoleMessageTags.set(K,(()=>{this._onClearLifecycle();Qe.resolve()}));const Re=b.race(Qe).then((()=>this._waitForLoadState(b,se)));const Me=b.race(oe.evaluate((({html:b,tag:B})=>{document.open();console.debug(B);document.write(b);document.close()}),{html:B,tag:K}));await Promise.all([Me,Re]);return null})).finally((()=>{this._page.frameManager._consoleMessageTags.delete(K)}))}name(){return this._name||""}url(){return this._url}origin(){if(!this._url.startsWith("http"))return;return rt.parseURL(this._url)?.origin}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}async addScriptTag(b){const{url:B=null,content:F=null,type:K=""}=b;if(!B&&!F)throw new Error("Provide an object with a `url`, `path` or `content` property");const se=await this._mainContext();return this._raceWithCSPError((async()=>{if(B!==null)return(await se.evaluateHandle(addScriptUrl,{url:B,type:K})).asElement();const b=(await se.evaluateHandle(addScriptContent,{content:F,type:K})).asElement();if(this._page.delegate.cspErrorsAsynchronousForInlineScripts)await se.evaluate((()=>true));return b}));async function addScriptUrl(b){const B=document.createElement("script");B.src=b.url;if(b.type)B.type=b.type;const F=new Promise(((b,F)=>{B.onload=b;B.onerror=b=>F(typeof b==="string"?new Error(b):new Error(`Failed to load script at ${B.src}`))}));document.head.appendChild(B);await F;return B}function addScriptContent(b){const B=document.createElement("script");B.type=b.type||"text/javascript";B.text=b.content;let F=null;B.onerror=b=>F=b;document.head.appendChild(B);if(F)throw F;return B}}async addStyleTag(b){const{url:B=null,content:F=null}=b;if(!B&&!F)throw new Error("Provide an object with a `url`, `path` or `content` property");const K=await this._mainContext();return this._raceWithCSPError((async()=>{if(B!==null)return(await K.evaluateHandle(addStyleUrl,B)).asElement();return(await K.evaluateHandle(addStyleContent,F)).asElement()}));async function addStyleUrl(b){const B=document.createElement("link");B.rel="stylesheet";B.href=b;const F=new Promise(((b,F)=>{B.onload=b;B.onerror=F}));document.head.appendChild(B);await F;return B}async function addStyleContent(b){const B=document.createElement("style");B.type="text/css";B.appendChild(document.createTextNode(b));const F=new Promise(((b,F)=>{B.onload=b;B.onerror=F}));document.head.appendChild(B);await F;return B}}async _raceWithCSPError(b){const B=[];let F;let K;let se;const oe=b().then((b=>F=b)).catch((b=>K=b));const Qe=new Promise((b=>{B.push(ht.eventsHelper.addEventListener(this._page.browserContext,We.BrowserContext.Events.Console,(B=>{if(B.page()!==this._page||B.type()!=="error")return;if(B.text().includes("Content-Security-Policy")||B.text().includes("Content Security Policy")){se=B;b()}})))}));await Promise.race([oe,Qe]);ht.eventsHelper.removeEventListeners(B);if(se)throw new Error(se.text());if(K)throw K;return F}async retryWithProgressAndTimeouts(b,B,F){const K=Symbol("continuePolling");B=[0,...B];let se=0;while(true){const oe=B[Math.min(se++,B.length-1)];if(oe){const B=new Promise((b=>setTimeout(b,oe)));await b.race(lt.LongStandingScope.raceMultiple([this._page.openScope,this._detachedScope],B))}try{const b=await F(K);if(b===K)continue;return b}catch(b){if(this.isNonRetriableError(b))throw b;continue}}}isNonRetriableError(b){if((0,ot.isAbortError)(b))return true;if(et.isJavaScriptErrorInEvaluate(b)||(0,ut.isSessionClosedError)(b))return true;if(Ge.isNonRecoverableDOMError(b)||(0,pt.isInvalidSelectorError)(b))return true;if(this.isDetached())return true;return false}async _retryWithProgressIfNotConnected(b,B,F,K,se){b.log(`waiting for ${this._asLocator(B)}`);return this.retryWithProgressAndTimeouts(b,[0,20,50,100,100,500],(async oe=>{if(K)await this._page.performActionPreChecks(b);const Qe=await b.race(this.selectors.resolveInjectedForSelector(B,{strict:F}));if(!Qe)return oe;const Re=await b.race(Qe.injected.evaluateHandle(((b,{info:B,callId:F})=>{const K=b.querySelectorAll(B.parsed,document);if(F)b.markTargetElements(new Set(K),F);const se=K[0];let oe="";if(K.length>1){if(B.strict)throw b.strictModeViolationError(B.parsed,K);oe=`  locator resolved to ${K.length} elements. Proceeding with the first one: ${b.previewNode(K[0])}`}else if(se){oe=`  locator resolved to ${b.previewNode(se)}`}return{log:oe,success:!!se,element:se}}),{info:Qe.info,callId:b.metadata.id}));const{log:Me,success:Le}=await b.race(Re.evaluate((b=>({log:b.log,success:b.success}))));if(Me)b.log(Me);if(!Le){Re.dispose();return oe}const We=await b.race(Re.evaluateHandle((b=>b.element)));Re.dispose();try{const B=await se(We);if(B==="error:notconnected"){b.log("element was detached from the DOM, retrying");return oe}return B}finally{We?.dispose()}}))}async rafrafTimeoutScreenshotElementWithProgress(b,B,F,K){return await this._retryWithProgressIfNotConnected(b,B,true,true,(async B=>{await B._frame.rafrafTimeout(b,F);return await this._page.screenshotter.screenshotElement(b,B,K)}))}async click(b,B,F){return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,F.strict,!F.force,(B=>B._click(b,{...F,waitAfter:!F.noWaitAfter}))))}async dblclick(b,B,F){return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,F.strict,!F.force,(B=>B._dblclick(b,F))))}async dragAndDrop(b,B,F,K){Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,K.strict,!K.force,(async B=>B._retryPointerAction(b,"move and down",false,(async B=>{await this._page.mouse.move(b,B.x,B.y);await this._page.mouse.down(b)}),{...K,waitAfter:"disabled",position:K.sourcePosition}))));Ge.assertDone(await this._retryWithProgressIfNotConnected(b,F,K.strict,false,(async B=>B._retryPointerAction(b,"move and up",false,(async B=>{await this._page.mouse.move(b,B.x,B.y,{steps:K.steps});await this._page.mouse.up(b)}),{...K,waitAfter:"disabled",position:K.targetPosition}))))}async tap(b,B,F){if(!this._page.browserContext._options.hasTouch)throw new Error("The page does not support tap. Use hasTouch context option to enable touch support.");return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,F.strict,!F.force,(B=>B._tap(b,F))))}async fill(b,B,F,K){return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,K.strict,!K.force,(B=>B._fill(b,F,K))))}async focus(b,B,F){Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,F.strict,true,(B=>B._focus(b))))}async blur(b,B,F){Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,F.strict,true,(B=>B._blur(b))))}async resolveSelector(b,B,F={}){const K=await b.race(this.selectors.query(B,F));if(!K)throw new Error(`No element matching ${B}`);const se=await b.race(K.evaluateInUtility((async([b,B])=>b.generateSelectorSimple(B)),{}));if(!se)throw new Error(`Unable to generate locator for ${B}`);let oe=K._frame;const Qe=[se];while(oe?.parentFrame()){const F=await b.race(oe.frameElement());if(F){const K=await b.race(F.evaluateInUtility((async([b,B])=>b.generateSelectorSimple(B)),{}));F.dispose();if(K==="error:notconnected"||!K)throw new Error(`Unable to generate locator for ${B}`);Qe.push(K)}oe=oe.parentFrame()}const Re=Qe.reverse().join(" >> internal:control=enter-frame >> ");return{resolvedSelector:Re}}async textContent(b,B,F,K){return this._callOnElementOnceMatches(b,B,((b,B)=>B.textContent),void 0,F,K)}async innerText(b,B,F,K){return this._callOnElementOnceMatches(b,B,((b,B)=>{if(B.namespaceURI!=="http://www.w3.org/1999/xhtml")throw b.createStacklessError("Node is not an HTMLElement");return B.innerText}),void 0,F,K)}async innerHTML(b,B,F,K){return this._callOnElementOnceMatches(b,B,((b,B)=>B.innerHTML),void 0,F,K)}async getAttribute(b,B,F,K,se){return this._callOnElementOnceMatches(b,B,((b,B,F)=>B.getAttribute(F.name)),{name:F},K,se)}async inputValue(b,B,F,K){return this._callOnElementOnceMatches(b,B,((b,B)=>{const F=b.retarget(B,"follow-label");if(!F||F.nodeName!=="INPUT"&&F.nodeName!=="TEXTAREA"&&F.nodeName!=="SELECT")throw b.createStacklessError("Node is not an <input>, <textarea> or <select> element");return F.value}),void 0,F,K)}async highlight(b,B){const F=await b.race(this.selectors.resolveInjectedForSelector(B));if(!F)return;return await b.race(F.injected.evaluate(((b,{info:B})=>b.highlight(B.parsed)),{info:F.info}))}async hideHighlight(){return this.raceAgainstEvaluationStallingEvents((async()=>{const b=await this._utilityContext();const B=await b.injectedScript();return await B.evaluate((b=>b.hideHighlight()))}))}async _elementState(b,B,F,K,se){const oe=await this._callOnElementOnceMatches(b,B,((b,B,F)=>b.elementState(B,F.state)),{state:F},K,se);if(oe.received==="error:notconnected")Ge.throwElementIsNotAttached();return oe.matches}async isVisible(b,B,F={},K){b.log(`  checking visibility of ${this._asLocator(B)}`);return await this.isVisibleInternal(b,B,F,K)}async isVisibleInternal(b,B,F={},K){try{const se=await b.race(this.selectors.resolveInjectedForSelector(B,F,K));if(!se)return false;return await b.race(se.injected.evaluate(((b,{info:B,root:F})=>{const K=b.querySelector(B.parsed,F||document,B.strict);const se=K?b.elementState(K,"visible"):{matches:false,received:"error:notconnected"};return se.matches}),{info:se.info,root:se.frame===this?K:void 0}))}catch(b){if(this.isNonRetriableError(b))throw b;return false}}async isHidden(b,B,F={},K){return!await this.isVisible(b,B,F,K)}async isDisabled(b,B,F,K){return this._elementState(b,B,"disabled",F,K)}async isEnabled(b,B,F,K){return this._elementState(b,B,"enabled",F,K)}async isEditable(b,B,F,K){return this._elementState(b,B,"editable",F,K)}async isChecked(b,B,F,K){return this._elementState(b,B,"checked",F,K)}async hover(b,B,F){return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,F.strict,!F.force,(B=>B._hover(b,F))))}async selectOption(b,B,F,K,se){return await this._retryWithProgressIfNotConnected(b,B,se.strict,!se.force,(B=>B._selectOption(b,F,K,se)))}async setInputFiles(b,B,F){const K=await(0,$e.prepareFilesForUpload)(this,F);return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,F.strict,true,(B=>B._setInputFiles(b,K))))}async type(b,B,F,K){return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,K.strict,true,(B=>B._type(b,F,K))))}async press(b,B,F,K){return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,K.strict,true,(B=>B._press(b,F,K))))}async check(b,B,F){return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,F.strict,!F.force,(B=>B._setChecked(b,true,F))))}async uncheck(b,B,F){return Ge.assertDone(await this._retryWithProgressIfNotConnected(b,B,F.strict,!F.force,(B=>B._setChecked(b,false,F))))}async waitForTimeout(b,B){return b.wait(B)}async ariaSnapshot(b,B){return await this._retryWithProgressIfNotConnected(b,B,true,true,(B=>b.race(B.ariaSnapshot())))}async expect(b,B,F,K){b.log(`${(0,lt.renderTitleForCall)(b.metadata)}${K?` with timeout ${K}ms`:""}`);const se={isSet:false};const fixupMetadataError=B=>{if(B.matches===F.isNot)b.metadata.error={error:{name:"Expect",message:"Expect failed"}}};try{if(B)b.log(`waiting for ${this._asLocator(B)}`);await this._page.performActionPreChecks(b);try{const K=await this._expectInternal(b,B,F,se,true);if(K.matches!==F.isNot)return K}catch(b){if(this.isNonRetriableError(b))throw b}const K=await this.retryWithProgressAndTimeouts(b,[100,250,500,1e3],(async K=>{await this._page.performActionPreChecks(b);const{matches:oe,received:Qe}=await this._expectInternal(b,B,F,se,false);if(oe===F.isNot){return K}return{matches:oe,received:Qe}}));fixupMetadataError(K);return K}catch(B){const K={matches:F.isNot,log:(0,mt.compressCallLog)(b.metadata.log)};if((0,pt.isInvalidSelectorError)(B)){K.errorMessage="Error: "+B.message}else if(et.isJavaScriptErrorInEvaluate(B)){K.errorMessage=B.message}else if(se.isSet){K.received=se.received;K.errorMessage=se.errorMessage}if(B instanceof ze.TimeoutError)K.timedOut=true;fixupMetadataError(K);return K}}async _expectInternal(b,B,F,K,se){const race=B=>se?B:b.race(B);const oe=B?await race(this.selectors.resolveFrameForSelector(B,{strict:true})):void 0;const{frame:Qe,info:Re}=oe||{frame:this,info:void 0};const Me=F.expression==="to.have.property"?"main":Re?.world??"utility";const Le=await race(Qe._context(Me));const We=await race(Le.injectedScript());const{log:Ge,matches:ze,received:$e,missingReceived:Ye}=await race(We.evaluate((async(b,{info:B,options:F,callId:K})=>{const se=B?b.querySelectorAll(B.parsed,document):[];if(K)b.markTargetElements(new Set(se),K);const oe=F.expression==="to.have.count"||F.expression.endsWith(".array");let Qe="";if(oe)Qe=`  locator resolved to ${se.length} element${se.length===1?"":"s"}`;else if(se.length>1)throw b.strictModeViolationError(B.parsed,se);else if(se.length)Qe=`  locator resolved to ${b.previewNode(se[0])}`;return{log:Qe,...await b.expect(se[0],F,se)}}),{info:Re,options:F,callId:b.metadata.id}));if(Ge)b.log(Ge);if(ze===F.isNot){if(Ye){K.errorMessage="Error: element(s) not found"}else{K.errorMessage=void 0;K.received=$e}K.isSet=true;if(!Ye&&!Array.isArray($e))b.log(`  unexpected value "${renderUnexpectedValue(F.expression,$e)}"`)}return{matches:ze,received:$e}}async waitForFunctionExpression(b,B,F,K,se,oe="main"){if(typeof se.pollingInterval==="number")(0,lt.assert)(se.pollingInterval>0,"Cannot poll with non-positive interval: "+se.pollingInterval);B=et.normalizeEvaluationExpression(B,F);return this.retryWithProgressAndTimeouts(b,[100],(async()=>{const Qe=oe==="main"?await b.race(this._mainContext()):await b.race(this._utilityContext());const Re=await b.race(Qe.injectedScript());const Me=await b.race(Re.evaluateHandle(((b,{expression:B,isFunction:F,polling:K,arg:se})=>{let oe;const predicate=()=>{let b=oe??globalThis.eval(B);if(F===true){oe=b;b=b(se)}else if(F===false){b=b}else{if(typeof b==="function"){oe=b;b=b(se)}}return b};let Qe;let Re;let Me=false;const Le=new Promise(((b,B)=>{Qe=b;Re=B}));const next=()=>{if(Me)return;try{const B=predicate();if(B){Qe(B);return}if(typeof K!=="number")b.utils.builtins.requestAnimationFrame(next);else b.utils.builtins.setTimeout(next,K)}catch(b){Re(b)}};next();return{result:Le,abort:()=>Me=true}}),{expression:B,isFunction:F,polling:se.pollingInterval,arg:K}));try{return await b.race(Me.evaluateHandle((b=>b.result)))}catch(b){await Me.evaluate((b=>b.abort())).catch((()=>{}));throw b}finally{Me.dispose()}}))}async waitForFunctionValueInUtility(b,B){const F=`() => {\n      const result = (${B})();\n      if (!result)\n        return result;\n      return JSON.stringify(result);\n    }`;const K=await this.waitForFunctionExpression(b,F,true,void 0,{},"utility");return JSON.parse(K.rawValue())}async title(){const b=await this._utilityContext();return b.evaluate((()=>document.title))}async rafrafTimeout(b,B){if(B===0)return;const F=await b.race(this._utilityContext());await Promise.all([b.race(F.evaluate((()=>new Promise((b=>{requestAnimationFrame((()=>{requestAnimationFrame(b)}))}))))),b.wait(B)])}_onDetached(){this._stopNetworkIdleTimer();this._detachedScope.close(new Error("Frame was detached"));for(const b of this._contextData.values()){if(b.context)b.context.contextDestroyed("Frame was detached");b.contextPromise.resolve({destroyedReason:"Frame was detached"})}if(this._parentFrame)this._parentFrame._childFrames.delete(this);this._parentFrame=null}async _callOnElementOnceMatches(b,B,F,K,se,oe){const Qe=F.toString();b.log(`waiting for ${this._asLocator(B)}`);const Re=this.retryWithProgressAndTimeouts(b,[0,20,50,100,100,500],(async F=>{const Re=await b.race(this.selectors.resolveInjectedForSelector(B,se,oe));if(!Re)return F;const{log:Me,success:Le,value:We}=await b.race(Re.injected.evaluate(((b,{info:B,callbackText:F,taskData:K,callId:se,root:oe})=>{const Qe=b.eval(F);const Re=b.querySelector(B.parsed,oe||document,B.strict);if(!Re)return{success:false};const Me=`  locator resolved to ${b.previewNode(Re)}`;if(se)b.markTargetElements(new Set([Re]),se);return{log:Me,success:true,value:Qe(b,Re,K)}}),{info:Re.info,callbackText:Qe,taskData:K,callId:b.metadata.id,root:Re.frame===this?oe:void 0}));if(Me)b.log(Me);if(!Le)return F;return We}));return oe?oe._context._raceAgainstContextDestroyed(Re):Re}_setContext(b,B){const F=this._contextData.get(b);F.context=B;if(B)F.contextPromise.resolve(B);else F.contextPromise=new ft.ManualPromise}_contextCreated(b,B){const F=this._contextData.get(b);if(F.context){F.context.contextDestroyed("Execution context was destroyed, most likely because of a navigation");this._setContext(b,null)}this._setContext(b,B)}_contextDestroyed(b){if(this._detachedScope.isClosed())return;b.contextDestroyed("Execution context was destroyed, most likely because of a navigation");for(const[B,F]of this._contextData){if(F.context===b)this._setContext(B,null)}}_startNetworkIdleTimer(){(0,lt.assert)(!this._networkIdleTimer);if(this._firedLifecycleEvents.has("networkidle")||this._detachedScope.isClosed())return;this._networkIdleTimer=setTimeout((()=>{this._firedNetworkIdleSelf=true;this._page.mainFrame()._recalculateNetworkIdle()}),500)}_stopNetworkIdleTimer(){if(this._networkIdleTimer)clearTimeout(this._networkIdleTimer);this._networkIdleTimer=void 0;this._firedNetworkIdleSelf=false}async extendInjectedScript(b,B){const F=await this._context("main");const K=await F.injectedScript();await K.evaluate(((b,{source:B,arg:F})=>{b.extend(B,F)}),{source:b,arg:B})}_asLocator(b){return(0,lt.asLocator)(this._page.browserContext._browser.sdkLanguage(),b)}}class SignalBarrier{constructor(b){this._protectCount=0;this._promise=new ft.ManualPromise;this._progress=b;this.retain()}waitFor(){this.release();return this._progress.race(this._promise)}addFrameNavigation(b){if(b.parentFrame())return;this.retain();const B=Ke.helper.waitForEvent(this._progress,b,Frame.Events.InternalNavigation,(B=>{if(!B.isPublic)return false;if(!B.error&&this._progress)this._progress.log(`  navigated to "${b._url}"`);return true}));lt.LongStandingScope.raceMultiple([b._page.openScope,b._detachedScope],B.promise).catch((()=>{})).finally((()=>{B.dispose();this.release()}))}retain(){++this._protectCount}release(){--this._protectCount;if(!this._protectCount)this._promise.resolve()}}function verifyLifecycle(b,B){if(B==="networkidle0")B="networkidle";if(!at.kLifecycleEvents.has(B))throw new Error(`${b}: expected one of (load|domcontentloaded|networkidle|commit)`);return B}function renderUnexpectedValue(b,B){if(b==="to.match.aria")return B?B.raw:B;return B}0&&0},2597:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{HarRecorder:()=>HarRecorder});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(6564);var $e=F(382);var Ye=F(6065);var Ke=F(1871);var Xe=F(7505);class HarRecorder{constructor(b,B,F){this._isFlushed=false;this._entries=[];this._zipFile=null;this._writtenZipEntries=new Set;this._artifact=new ze.Artifact(b,Ge.default.join(b._browser.options.artifactsDir,`${(0,Ye.createGuid)()}.har`));const K=F.urlRegexSource!==void 0&&F.urlRegexFlags!==void 0?new RegExp(F.urlRegexSource,F.urlRegexFlags):void 0;const se=!!F.zip;const oe=F.content||(se?"attach":"embed");this._tracer=new $e.HarTracer(b,B,this,{content:oe,slimMode:F.mode==="minimal",includeTraceInfo:false,recordRequestOverrides:true,waitForContentOnStop:true,urlFilter:K??F.urlGlob});this._zipFile=oe==="attach"||se?new Xe.yazl.ZipFile:null;this._tracer.start({omitScripts:false})}onEntryStarted(b){this._entries.push(b)}onEntryFinished(b){}onContentBlob(b,B){if(!this._zipFile||this._writtenZipEntries.has(b))return;this._writtenZipEntries.add(b);this._zipFile.addBuffer(B,b)}async flush(){if(this._isFlushed)return;this._isFlushed=true;await this._tracer.flush();const b=this._tracer.stop();b.entries=this._entries;const B=jsonStringify({log:b});if(this._zipFile){const b=new Ke.ManualPromise;this._zipFile.on("error",(B=>b.reject(B)));this._zipFile.addBuffer(Buffer.from(B,"utf-8"),"har.har");this._zipFile.end();this._zipFile.outputStream.pipe(We.default.createWriteStream(this._artifact.localPath())).on("close",(()=>{b.resolve()}));await b}else{await We.default.promises.writeFile(this._artifact.localPath(),B)}}async export(){await this.flush();this._artifact.reportFinished();return this._artifact}}function jsonStringify(b){const B=[];innerJsonStringify(b,B,"",false,void 0);return B.join("")}function innerJsonStringify(b,B,F,K,se){if(typeof b!=="object"||b===null){B.push(JSON.stringify(b));return}const oe=Array.isArray(b);if(!oe&&b.constructor.name!=="Object"){B.push(JSON.stringify(b));return}const Qe=oe?b:Object.entries(b).filter((b=>b[1]!==void 0));if(!Qe.length){B.push(oe?`[]`:`{}`);return}const Re=`${F}  `;let Me;if(oe)Me=K?{open:"[",close:"]"}:{open:`[\n${Re}`,close:`\n${F}]`};else Me=K?{open:"{ ",close:" }"}:{open:`{\n${Re}`,close:`\n${F}}`};B.push(Me.open);for(let b=0;b<Qe.length;++b){const F=Qe[b];if(b)B.push(K?`, `:`,\n${Re}`);if(!oe)B.push(`${JSON.stringify(F[0])}: `);const Me=oe?void 0:F[0];const Le=K||Me==="timings"||se==="headers";innerJsonStringify(oe?F:F[1],B,Re,Le,Me)}B.push(Me.close)}0&&0},382:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{HarTracer:()=>HarTracer});b.exports=__toCommonJS(Le);var We=F(3143);var Ge=F(3143);var ze=F(8753);var $e=F(1871);var Ye=F(6327);var Ke=F(3021);var Xe=F(1588);var et=F(7416);var rt=F(4794);var it=__toESM(F(6370));const ot="HTTP/1.1";class HarTracer{constructor(b,B,F,K){this._barrierPromises=new Set;this._pageEntries=new Map;this._eventListeners=[];this._started=false;this._context=b;this._page=B;this._delegate=F;this._options=K;if(K.slimMode){K.omitSecurityDetails=true;K.omitCookies=true;K.omitTiming=true;K.omitServerIP=true;K.omitSizes=true;K.omitPages=true}this._entrySymbol=Symbol("requestHarEntry");this._baseURL=b instanceof Xe.APIRequestContext?b._defaultOptions().baseURL:b._options.baseURL}start(b){if(this._started)return;this._options.omitScripts=b.omitScripts;this._started=true;const B=this._context instanceof Xe.APIRequestContext?this._context:this._context.fetchRequest;this._eventListeners=[ze.eventsHelper.addEventListener(B,Xe.APIRequestContext.Events.Request,(b=>this._onAPIRequest(b))),ze.eventsHelper.addEventListener(B,Xe.APIRequestContext.Events.RequestFinished,(b=>this._onAPIRequestFinished(b)))];if(this._context instanceof Ke.BrowserContext){this._eventListeners.push(ze.eventsHelper.addEventListener(this._context,Ke.BrowserContext.Events.Page,(b=>this._createPageEntryIfNeeded(b))),ze.eventsHelper.addEventListener(this._context,Ke.BrowserContext.Events.Request,(b=>this._onRequest(b))),ze.eventsHelper.addEventListener(this._context,Ke.BrowserContext.Events.RequestFinished,(({request:b,response:B})=>this._onRequestFinished(b,B).catch((()=>{})))),ze.eventsHelper.addEventListener(this._context,Ke.BrowserContext.Events.RequestFailed,(b=>this._onRequestFailed(b))),ze.eventsHelper.addEventListener(this._context,Ke.BrowserContext.Events.Response,(b=>this._onResponse(b))),ze.eventsHelper.addEventListener(this._context,Ke.BrowserContext.Events.RequestAborted,(b=>this._onRequestAborted(b))),ze.eventsHelper.addEventListener(this._context,Ke.BrowserContext.Events.RequestFulfilled,(b=>this._onRequestFulfilled(b))),ze.eventsHelper.addEventListener(this._context,Ke.BrowserContext.Events.RequestContinued,(b=>this._onRequestContinued(b))));for(const b of this._context.pages())this._createPageEntryIfNeeded(b)}}_shouldIncludeEntryWithUrl(b){return!this._options.urlFilter||(0,Ge.urlMatches)(this._baseURL,b,this._options.urlFilter)}_entryForRequest(b){return b[this._entrySymbol]}_createPageEntryIfNeeded(b){if(!b)return;if(this._options.omitPages)return;if(this._page&&b!==this._page)return;let B=this._pageEntries.get(b);if(!B){const F=new Date;B={startedDateTime:F.toISOString(),id:b.guid,title:"",pageTimings:this._options.omitTiming?{}:{onContentLoad:-1,onLoad:-1}};B[at]=F;b.mainFrame().on(et.Frame.Events.AddLifecycle,(F=>{if(F==="load")this._onLoad(b,B);if(F==="domcontentloaded")this._onDOMContentLoaded(b,B)}));this._pageEntries.set(b,B)}return B}_onDOMContentLoaded(b,B){const F=b.mainFrame().evaluateExpression(String((()=>({title:document.title,domContentLoaded:performance.timing.domContentLoadedEventStart}))),{isFunction:true,world:"utility"}).then((b=>{B.title=b.title;if(!this._options.omitTiming)B.pageTimings.onContentLoad=b.domContentLoaded})).catch((()=>{}));this._addBarrier(b,F)}_onLoad(b,B){const F=b.mainFrame().evaluateExpression(String((()=>({title:document.title,loaded:performance.timing.loadEventStart}))),{isFunction:true,world:"utility"}).then((b=>{B.title=b.title;if(!this._options.omitTiming)B.pageTimings.onLoad=b.loaded})).catch((()=>{}));this._addBarrier(b,F)}_addBarrier(b,B){if(!b)return null;if(!this._options.waitForContentOnStop)return;const F=b.openScope.safeRace(B);this._barrierPromises.add(F);F.then((()=>this._barrierPromises.delete(F)))}_onAPIRequest(b){if(!this._shouldIncludeEntryWithUrl(b.url.toString()))return;const B=createHarEntry(void 0,b.method,b.url,void 0,this._options);B._apiRequest=true;if(!this._options.omitCookies)B.request.cookies=b.cookies;B.request.headers=Object.entries(b.headers).map((([b,B])=>({name:b,value:B})));B.request.postData=this._postDataForBuffer(b.postData||null,b.headers["content-type"],this._options.content);if(!this._options.omitSizes)B.request.bodySize=b.postData?.length||0;b[this._entrySymbol]=B;if(this._started)this._delegate.onEntryStarted(B)}_onAPIRequestFinished(b){const B=this._entryForRequest(b.requestEvent);if(!B)return;B.response.status=b.statusCode;B.response.statusText=b.statusMessage;B.response.httpVersion=b.httpVersion;B.response.redirectURL=b.headers.location||"";if(!this._options.omitServerIP){B.serverIPAddress=b.serverIPAddress;B._serverPort=b.serverPort}if(!this._options.omitTiming){B.timings=b.timings;this._computeHarEntryTotalTime(B)}if(!this._options.omitSecurityDetails)B._securityDetails=b.securityDetails;for(let F=0;F<b.rawHeaders.length;F+=2){B.response.headers.push({name:b.rawHeaders[F],value:b.rawHeaders[F+1]})}B.response.cookies=this._options.omitCookies?[]:b.cookies.map((b=>({...b,expires:b.expires===-1?void 0:safeDateToISOString(b.expires)})));const F=B.response.content;const K=b.headers["content-type"];if(K)F.mimeType=K;this._storeResponseContent(b.body,F,"other");if(!this._options.omitSizes)B.response.bodySize=b.body?.length??0;if(this._started)this._delegate.onEntryFinished(B)}_onRequest(b){if(!this._shouldIncludeEntryWithUrl(b.url()))return;const B=b.frame()?._page;if(this._page&&B!==this._page)return;const F=it.parseURL(b.url());if(!F)return;const K=this._createPageEntryIfNeeded(B);const se=createHarEntry(K?.id,b.method(),F,b.frame()?.guid,this._options);this._recordRequestHeadersAndCookies(se,b.headers());se.request.postData=this._postDataForRequest(b,this._options.content);if(!this._options.omitSizes)se.request.bodySize=b.bodySize();if(b.redirectedFrom()){const B=this._entryForRequest(b.redirectedFrom());if(B)B.response.redirectURL=b.url()}b[this._entrySymbol]=se;(0,We.assert)(this._started);this._delegate.onEntryStarted(se)}_recordRequestHeadersAndCookies(b,B){if(!this._options.omitCookies){b.request.cookies=[];for(const F of B.filter((b=>b.name.toLowerCase()==="cookie")))b.request.cookies.push(...F.value.split(";").map(parseCookie))}b.request.headers=B}_recordRequestOverrides(b,B){if(!B.overrides()||!this._options.recordRequestOverrides)return;b.request.method=B.method();b.request.url=B.url();b.request.postData=this._postDataForRequest(B,this._options.content);this._recordRequestHeadersAndCookies(b,B.headers())}async _onRequestFinished(b,B){if(!B)return;const F=this._entryForRequest(b);if(!F)return;const K=b.frame()?._page;if(!this._options.omitServerIP){this._addBarrier(K||b.serviceWorker(),B.serverAddr().then((b=>{if(b?.ipAddress)F.serverIPAddress=b.ipAddress;if(b?.port)F._serverPort=b.port})))}if(!this._options.omitSecurityDetails){this._addBarrier(K||b.serviceWorker(),B.securityDetails().then((b=>{if(b)F._securityDetails=b})))}const se=B.httpVersion();F.request.httpVersion=se;F.response.httpVersion=se;const oe=this._options.omitSizes?void 0:{_encodedBodySize:-1,_decodedBodySize:-1,barrier:new $e.ManualPromise,_check:function(){if(this._encodedBodySize!==-1&&this._decodedBodySize!==-1){F.response.content.compression=Math.max(0,this._decodedBodySize-this._encodedBodySize);this.barrier.resolve()}},setEncodedBodySize:function(b){this._encodedBodySize=b;this._check()},setDecodedBodySize:function(b){this._decodedBodySize=b;this._check()}};if(oe)this._addBarrier(K||b.serviceWorker(),oe.barrier);const Qe=B.body().then((B=>{if(this._options.omitScripts&&b.resourceType()==="script"){oe?.setDecodedBodySize(0);return}const K=F.response.content;oe?.setDecodedBodySize(B.length);this._storeResponseContent(B,K,b.resourceType())})).catch((()=>{oe?.setDecodedBodySize(0)})).then((()=>{if(this._started)this._delegate.onEntryFinished(F)}));this._addBarrier(K||b.serviceWorker(),Qe);const Re=B.timing();F.timings.receive=B.request()._responseEndTiming!==-1?rt.helper.millisToRoundishMillis(B.request()._responseEndTiming-Re.responseStart):-1;this._computeHarEntryTotalTime(F);if(!this._options.omitSizes){this._addBarrier(K||b.serviceWorker(),B.sizes().then((b=>{F.response.bodySize=b.responseBodySize;F.response.headersSize=b.responseHeadersSize;F.response._transferSize=b.transferSize;F.request.headersSize=b.requestHeadersSize;oe?.setEncodedBodySize(b.responseBodySize)})))}}async _onRequestFailed(b){const B=this._entryForRequest(b);if(!B)return;if(b._failureText!==null)B.response._failureText=b._failureText;this._recordRequestOverrides(B,b);if(this._started)this._delegate.onEntryFinished(B)}_onRequestAborted(b){const B=this._entryForRequest(b);if(B)B._wasAborted=true}_onRequestFulfilled(b){const B=this._entryForRequest(b);if(B)B._wasFulfilled=true}_onRequestContinued(b){const B=this._entryForRequest(b);if(B)B._wasContinued=true}_storeResponseContent(b,B,F){if(!b){B.size=0;return}if(!this._options.omitSizes)B.size=b.length;if(this._options.content==="embed"){if((0,Ge.isTextualMimeType)(B.mimeType)&&F!=="font"){B.text=b.toString()}else{B.text=b.toString("base64");B.encoding="base64"}}else if(this._options.content==="attach"){const F=(0,We.calculateSha1)(b)+"."+(Ye.mime.getExtension(B.mimeType)||"dat");if(this._options.includeTraceInfo)B._sha1=F;else B._file=F;if(this._started)this._delegate.onContentBlob(F,b)}}_onResponse(b){const B=this._entryForRequest(b.request());if(!B)return;const F=b.frame()?._page;const K=this._createPageEntryIfNeeded(F);const se=b.request();B.response={status:b.status(),statusText:b.statusText(),httpVersion:b.httpVersion(),cookies:[],headers:[],content:{size:-1,mimeType:"x-unknown"},headersSize:-1,bodySize:-1,redirectURL:"",_transferSize:this._options.omitSizes?void 0:-1};if(!this._options.omitTiming){const F=K?K[at].valueOf():0;const se=b.timing();if(K&&F>se.startTime)K.startedDateTime=new Date(se.startTime).toISOString();const oe=se.domainLookupEnd!==-1?rt.helper.millisToRoundishMillis(se.domainLookupEnd-se.domainLookupStart):-1;const Qe=se.connectEnd!==-1?rt.helper.millisToRoundishMillis(se.connectEnd-se.connectStart):-1;const Re=se.connectEnd!==-1?rt.helper.millisToRoundishMillis(se.connectEnd-se.secureConnectionStart):-1;const Me=se.responseStart!==-1?rt.helper.millisToRoundishMillis(se.responseStart-se.requestStart):-1;const Le=-1;B.timings={dns:oe,connect:Qe,ssl:Re,send:0,wait:Me,receive:Le};this._computeHarEntryTotalTime(B)}this._recordRequestOverrides(B,se);this._addBarrier(F||se.serviceWorker(),se.rawRequestHeaders().then((b=>{this._recordRequestHeadersAndCookies(B,b)})));this._recordResponseHeaders(B,b.headers());this._addBarrier(F||se.serviceWorker(),b.rawResponseHeaders().then((b=>{this._recordResponseHeaders(B,b)})))}_recordResponseHeaders(b,B){if(!this._options.omitCookies){b.response.cookies=B.filter((b=>b.name.toLowerCase()==="set-cookie")).map((b=>parseCookie(b.value)))}b.response.headers=B;const F=B.find((b=>b.name.toLowerCase()==="content-type"));if(F)b.response.content.mimeType=F.value}_computeHarEntryTotalTime(b){b.time=[b.timings.dns,b.timings.connect,b.timings.ssl,b.timings.wait,b.timings.receive].reduce(((b,B)=>(B||-1)>0?B+b:b),0)}async flush(){await Promise.all(this._barrierPromises)}stop(){this._started=false;ze.eventsHelper.removeEventListeners(this._eventListeners);this._barrierPromises.clear();const b=this._context instanceof Ke.BrowserContext?this._context:void 0;const B={version:"1.2",creator:{name:"Playwright",version:(0,Ge.getPlaywrightVersion)()},browser:{name:b?._browser.options.name||"",version:b?._browser.version()||""},pages:this._pageEntries.size?Array.from(this._pageEntries.values()):void 0,entries:[]};if(!this._options.omitTiming){for(const b of B.pages||[]){const B=b[at].valueOf();if(typeof b.pageTimings.onContentLoad==="number"&&b.pageTimings.onContentLoad>=0)b.pageTimings.onContentLoad-=B;else b.pageTimings.onContentLoad=-1;if(typeof b.pageTimings.onLoad==="number"&&b.pageTimings.onLoad>=0)b.pageTimings.onLoad-=B;else b.pageTimings.onLoad=-1}}this._pageEntries.clear();return B}_postDataForRequest(b,B){const F=b.postDataBuffer();if(!F)return;const K=b.headerValue("content-type");return this._postDataForBuffer(F,K,B)}_postDataForBuffer(b,B,F){if(!b)return;B??="application/octet-stream";const K={mimeType:B,text:"",params:[]};if(F==="embed"&&B!=="application/octet-stream")K.text=b.toString();if(F==="attach"){const F=(0,We.calculateSha1)(b)+"."+(Ye.mime.getExtension(B)||"dat");if(this._options.includeTraceInfo)K._sha1=F;else K._file=F;this._delegate.onContentBlob(F,b)}if(B==="application/x-www-form-urlencoded"){const B=new URLSearchParams(b.toString());for(const[b,F]of B.entries())K.params.push({name:b,value:F})}return K}}function createHarEntry(b,B,F,K,se){const oe={pageref:b,startedDateTime:(new Date).toISOString(),time:-1,request:{method:B,url:F.toString(),httpVersion:ot,cookies:[],headers:[],queryString:[...F.searchParams].map((b=>({name:b[0],value:b[1]}))),headersSize:-1,bodySize:-1},response:{status:-1,statusText:"",httpVersion:ot,cookies:[],headers:[],content:{size:-1,mimeType:"x-unknown"},headersSize:-1,bodySize:-1,redirectURL:"",_transferSize:se.omitSizes?void 0:-1},cache:{},timings:{send:-1,wait:-1,receive:-1},_frameref:se.includeTraceInfo?K:void 0,_monotonicTime:se.includeTraceInfo?(0,We.monotonicTime)():void 0};return oe}function parseCookie(b){const B={name:"",value:""};let F=true;for(const K of b.split(/; */)){const b=K.indexOf("=");const se=b!==-1?K.substr(0,b).trim():K.trim();const oe=b!==-1?K.substr(b+1,K.length).trim():"";if(F){F=false;B.name=se;B.value=oe;continue}if(se==="Domain")B.domain=oe;if(se==="Expires")B.expires=safeDateToISOString(oe);if(se==="HttpOnly")B.httpOnly=true;if(se==="Max-Age")B.expires=safeDateToISOString(Date.now()+ +oe*1e3);if(se==="Path")B.path=oe;if(se==="SameSite")B.sameSite=oe;if(se==="Secure")B.secure=true}return B}function safeDateToISOString(b){try{return new Date(b).toISOString()}catch(b){}}const at=Symbol("startedDate");0&&0},6691:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{HarBackend:()=>HarBackend});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(6065);const $e=[301,302,303,307,308];class HarBackend{constructor(b,B,F){this.id=(0,ze.createGuid)();this._harFile=b;this._baseDir=B;this._zipFile=F}async lookup(b,B,F,K,se){let oe;try{oe=await this._harFindResponse(b,B,F,K)}catch(b){return{action:"error",message:"HAR error: "+b.message}}if(!oe)return{action:"noentry"};if(oe.request.url!==b&&se)return{action:"redirect",redirectURL:oe.request.url};const Qe=oe.response;try{const b=await this._loadContent(Qe.content);return{action:"fulfill",status:Qe.status,headers:Qe.headers,body:b}}catch(b){return{action:"error",message:b.message}}}async _loadContent(b){const B=b._file;let F;if(B){if(this._zipFile)F=await this._zipFile.read(B);else F=await We.default.promises.readFile(Ge.default.resolve(this._baseDir,B))}else{F=Buffer.from(b.text||"",b.encoding==="base64"?"base64":"utf-8")}return F}async _harFindResponse(b,B,F,K){const se=this._harFile.log;const oe=new Set;while(true){const Qe=[];for(const oe of se.entries){if(oe.request.url!==b||oe.request.method!==B)continue;if(B==="POST"&&K&&oe.request.postData){const b=await this._loadContent(oe.request.postData);if(!b.equals(K)){const B=multipartBoundary(F);if(!B)continue;const se=multipartBoundary(oe.request.headers);if(!se)continue;if(K.toString().replaceAll(B,"")!==b.toString().replaceAll(se,""))continue}}Qe.push(oe)}if(!Qe.length)return;let Re=Qe[0];if(Qe.length>1){const b=[];for(const B of Qe){const K=countMatchingHeaders(B.request.headers,F);b.push({candidate:B,matchingHeaders:K})}b.sort(((b,B)=>B.matchingHeaders-b.matchingHeaders));Re=b[0].candidate}if(oe.has(Re))throw new Error(`Found redirect cycle for ${b}`);oe.add(Re);const Me=Re.response.headers.find((b=>b.name.toLowerCase()==="location"));if($e.includes(Re.response.status)&&Me){const F=new URL(Me.value,b);b=F.toString();if((Re.response.status===301||Re.response.status===302)&&B==="POST"||Re.response.status===303&&!["GET","HEAD"].includes(B)){B="GET"}continue}return Re}}dispose(){this._zipFile?.close()}}function countMatchingHeaders(b,B){const F=new Set(B.map((b=>b.name.toLowerCase()+":"+b.value)));let K=0;for(const B of b){if(F.has(B.name.toLowerCase()+":"+B.value))++K}return K}function multipartBoundary(b){const B=b.find((b=>b.name.toLowerCase()==="content-type"));if(!B?.value.includes("multipart/form-data"))return void 0;const F=B.value.match(/boundary=(\S+)/);if(F)return F[1];return void 0}0&&0},4794:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{helper:()=>Ge});b.exports=__toCommonJS(Re);var Me=F(6877);var Le=F(8753);const We=process.env.MAX_LOG_LENGTH?+process.env.MAX_LOG_LENGTH:Infinity;class Helper{static completeUserURL(b){if(b.startsWith("localhost")||b.startsWith("127.0.0.1"))b="http://"+b;return b}static enclosingIntRect(b){const B=Math.floor(b.x+.001);const F=Math.floor(b.y+.001);const K=Math.ceil(b.x+b.width-.001);const se=Math.ceil(b.y+b.height-.001);return{x:B,y:F,width:K-B,height:se-F}}static enclosingIntSize(b){return{width:Math.floor(b.width+.001),height:Math.floor(b.height+.001)}}static getViewportSizeFromWindowFeatures(b){const B=b.find((b=>b.startsWith("width=")));const F=b.find((b=>b.startsWith("height=")));const K=B?parseInt(B.substring(6),10):NaN;const se=F?parseInt(F.substring(7),10):NaN;if(!Number.isNaN(K)&&!Number.isNaN(se))return{width:K,height:se};return null}static waitForEvent(b,B,F,K){const se=[];const dispose=()=>Le.eventsHelper.removeEventListeners(se);const oe=b.race(new Promise(((b,oe)=>{se.push(Le.eventsHelper.addEventListener(B,F,(B=>{try{if(K&&!K(B))return;b(B)}catch(b){oe(b)}})))}))).finally((()=>dispose()));return{promise:oe,dispose:dispose}}static secondsToRoundishMillis(b){return(b*1e6|0)/1e3}static millisToRoundishMillis(b){return(b*1e3|0)/1e3}static debugProtocolLogger(b){return(B,F)=>{if(b)b(B,F);if(Me.debugLogger.isEnabled("protocol")){let b=JSON.stringify(F);if(b.length>We)b=b.substring(0,We/2)+" <<<<<( LOG TRUNCATED )>>>>> "+b.substring(b.length-We/2);Me.debugLogger.log("protocol",(B==="send"?"SEND  ":" RECV ")+b)}}}static formatBrowserLogs(b,B){if(!B&&!b.length)return"";return"\n"+(B?B+"\n":"")+b.join("\n")}}const Ge=Helper;0&&0},1692:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{DispatcherConnection:()=>Le.DispatcherConnection,PlaywrightDispatcher:()=>We.PlaywrightDispatcher,Registry:()=>Me.Registry,RootDispatcher:()=>Le.RootDispatcher,createPlaywright:()=>Ge.createPlaywright,installBrowsersForNpmInstall:()=>Me.installBrowsersForNpmInstall,installRootRedirect:()=>ze.installRootRedirect,openTraceInBrowser:()=>ze.openTraceInBrowser,openTraceViewerApp:()=>ze.openTraceViewerApp,registry:()=>Me.registry,registryDirectory:()=>Me.registryDirectory,runTraceViewerApp:()=>ze.runTraceViewerApp,startTraceViewerServer:()=>ze.startTraceViewerServer,writeDockerVersion:()=>Me.writeDockerVersion});b.exports=__toCommonJS(Re);var Me=F(3230);var Le=F(8980);var We=F(7503);var Ge=F(9245);var ze=F(1314);0&&0},876:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Keyboard:()=>Keyboard,Mouse:()=>Mouse,Touchscreen:()=>Touchscreen,keypadLocation:()=>$e,resolveSmartModifier:()=>resolveSmartModifier,resolveSmartModifierString:()=>resolveSmartModifierString});b.exports=__toCommonJS(Le);var We=F(3143);var Ge=__toESM(F(1789));var ze=F(1852);const $e=Ge.keypadLocation;const Ye=["Alt","Control","Meta","Shift"];class Keyboard{constructor(b,B){this._pressedModifiers=new Set;this._pressedKeys=new Set;this._raw=b;this._page=B}async down(b,B){const F=this._keyDescriptionForString(B);const K=this._pressedKeys.has(F.code);this._pressedKeys.add(F.code);if(Ye.includes(F.key))this._pressedModifiers.add(F.key);await this._raw.keydown(b,this._pressedModifiers,B,F,K)}_keyDescriptionForString(b){const B=resolveSmartModifierString(b);let F=Xe.get(B);if(!F)throw new ze.NonRecoverableDOMError(`Unknown key: "${B}"`);const K=this._pressedModifiers.has("Shift");F=K&&F.shifted?F.shifted:F;if(this._pressedModifiers.size>1||!this._pressedModifiers.has("Shift")&&this._pressedModifiers.size===1)return{...F,text:""};return F}async up(b,B){const F=this._keyDescriptionForString(B);if(Ye.includes(F.key))this._pressedModifiers.delete(F.key);this._pressedKeys.delete(F.code);await this._raw.keyup(b,this._pressedModifiers,B,F)}async insertText(b,B){await this._raw.sendText(b,B)}async type(b,B,F){const K=F&&F.delay||void 0;for(const F of B){if(Xe.has(F)){await this.press(b,F,{delay:K})}else{if(K)await b.wait(K);await this.insertText(b,F)}}}async press(b,B,F={}){function split(b){const B=[];let F="";for(const K of b){if(K==="+"&&F){B.push(F);F=""}else{F+=K}}B.push(F);return B}const K=split(B);B=K[K.length-1];for(let B=0;B<K.length-1;++B)await this.down(b,K[B]);await this.down(b,B);if(F.delay)await b.wait(F.delay);await this.up(b,B);for(let B=K.length-2;B>=0;--B)await this.up(b,K[B])}async ensureModifiers(b,B){const F=B.map(resolveSmartModifier);for(const b of F){if(!Ye.includes(b))throw new Error("Unknown modifier "+b)}const K=Array.from(this._pressedModifiers);for(const B of Ye){const K=F.includes(B);const se=this._pressedModifiers.has(B);if(K&&!se)await this.down(b,B);else if(!K&&se)await this.up(b,B)}return K}_modifiers(){return this._pressedModifiers}}function resolveSmartModifierString(b){if(b==="ControlOrMeta")return process.platform==="darwin"?"Meta":"Control";return b}function resolveSmartModifier(b){return resolveSmartModifierString(b)}class Mouse{constructor(b,B){this._x=0;this._y=0;this._lastButton="none";this._buttons=new Set;this._raw=b;this._page=B;this._keyboard=this._page.keyboard}currentPoint(){return{x:this._x,y:this._y}}async move(b,B,F,K={}){const{steps:se=1}=K;const oe=this._x;const Qe=this._y;this._x=B;this._y=F;for(let Re=1;Re<=se;Re++){const Me=oe+(B-oe)*(Re/se);const Le=Qe+(F-Qe)*(Re/se);await this._raw.move(b,Me,Le,this._lastButton,this._buttons,this._keyboard._modifiers(),!!K.forClick)}}async down(b,B={}){const{button:F="left",clickCount:K=1}=B;this._lastButton=F;this._buttons.add(F);await this._raw.down(b,this._x,this._y,this._lastButton,this._buttons,this._keyboard._modifiers(),K)}async up(b,B={}){const{button:F="left",clickCount:K=1}=B;this._lastButton="none";this._buttons.delete(F);await this._raw.up(b,this._x,this._y,F,this._buttons,this._keyboard._modifiers(),K)}async click(b,B,F,K={}){const{delay:se=null,clickCount:oe=1,steps:Qe}=K;if(se){await this.move(b,B,F,{forClick:true,steps:Qe});for(let B=1;B<=oe;++B){await this.down(b,{...K,clickCount:B});await b.wait(se);await this.up(b,{...K,clickCount:B});if(B<oe)await b.wait(se)}}else{const se=[];const Re=this.move(b,B,F,{forClick:true,steps:Qe});if(Qe!==void 0&&Qe>1)await Re;else se.push(Re);for(let B=1;B<=oe;++B){se.push(this.down(b,{...K,clickCount:B}));se.push(this.up(b,{...K,clickCount:B}))}await Promise.all(se)}}async wheel(b,B,F){await this._raw.wheel(b,this._x,this._y,this._buttons,this._keyboard._modifiers(),B,F)}}const Ke=new Map([["ShiftLeft",["Shift"]],["ControlLeft",["Control"]],["AltLeft",["Alt"]],["MetaLeft",["Meta"]],["Enter",["\n","\r"]]]);const Xe=buildLayoutClosure(Ge.USKeyboardLayout);function buildLayoutClosure(b){const B=new Map;for(const F in b){const K=b[F];const se={key:K.key||"",keyCode:K.keyCode||0,keyCodeWithoutLocation:K.keyCodeWithoutLocation||K.keyCode||0,code:F,text:K.text||"",location:K.location||0};if(K.key.length===1)se.text=se.key;let oe;if(K.shiftKey){(0,We.assert)(K.shiftKey.length===1);oe={...se};oe.key=K.shiftKey;oe.text=K.shiftKey;if(K.shiftKeyCode)oe.keyCode=K.shiftKeyCode}B.set(F,{...se,shifted:oe});if(Ke.has(F)){for(const b of Ke.get(F))B.set(b,se)}if(K.location)continue;if(se.key.length===1)B.set(se.key,se);if(oe)B.set(oe.key,{...oe,shifted:void 0})}return B}class Touchscreen{constructor(b,B){this._raw=b;this._page=B}async tap(b,B,F){if(!this._page.browserContext._options.hasTouch)throw new Error("hasTouch must be enabled on the browser context before using the touchscreen.");await this._raw.tap(b,B,F,this._page.keyboard._modifiers())}}0&&0},6938:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{SdkObject:()=>SdkObject,createInstrumentation:()=>createInstrumentation,createRootSdkObject:()=>createRootSdkObject});b.exports=__toCommonJS(Re);var Me=F(4434);var Le=F(6065);class SdkObject extends Me.EventEmitter{constructor(b,B,F){super();this.guid=F||`${B||""}@${(0,Le.createGuid)()}`;this.setMaxListeners(0);this.attribution={...b.attribution};this.instrumentation=b.instrumentation}}function createRootSdkObject(){const b={attribution:{},instrumentation:createInstrumentation()};const B=new SdkObject(b);B.guid="";return B}function createInstrumentation(){const b=new Map;return new Proxy({},{get:(B,F)=>{if(typeof F!=="string")return B[F];if(F==="addListener")return(B,F)=>b.set(B,F);if(F==="removeListener")return B=>b.delete(B);if(!F.startsWith("on"))return B[F];return async(B,...K)=>{for(const[se,oe]of b){if(!oe||B.attribution.context===oe)await(se[F]?.(B,...K))}}}})}0&&0},4745:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{ExecutionContext:()=>ExecutionContext,JSHandle:()=>JSHandle,JavaScriptErrorInEvaluate:()=>JavaScriptErrorInEvaluate,evaluate:()=>evaluate,evaluateExpression:()=>evaluateExpression,isJavaScriptErrorInEvaluate:()=>isJavaScriptErrorInEvaluate,normalizeEvaluationExpression:()=>normalizeEvaluationExpression,parseUnserializableValue:()=>parseUnserializableValue,sparseArrayToString:()=>sparseArrayToString});b.exports=__toCommonJS(Le);var We=F(6938);var Ge=__toESM(F(3298));var ze=F(3143);var $e=F(5334);var Ye=F(1871);class ExecutionContext extends We.SdkObject{constructor(b,B,F){super(b,"execution-context");this._contextDestroyedScope=new Ye.LongStandingScope;this.worldNameForTest=F;this.delegate=B}contextDestroyed(b){this._contextDestroyedScope.close(new Error(b))}async _raceAgainstContextDestroyed(b){return this._contextDestroyedScope.race(b)}rawEvaluateJSON(b){return this._raceAgainstContextDestroyed(this.delegate.rawEvaluateJSON(b))}rawEvaluateHandle(b){return this._raceAgainstContextDestroyed(this.delegate.rawEvaluateHandle(this,b))}async evaluateWithArguments(b,B,F,K){const se=await this.utilityScript();return this._raceAgainstContextDestroyed(this.delegate.evaluateWithArguments(b,B,se,F,K))}getProperties(b){return this._raceAgainstContextDestroyed(this.delegate.getProperties(b))}releaseHandle(b){return this.delegate.releaseHandle(b)}adoptIfNeeded(b){return null}utilityScript(){if(!this._utilityScriptPromise){const b=`\n      (() => {\n        const module = {};\n        ${Ge.source}\n        return new (module.exports.UtilityScript())(globalThis, ${(0,ze.isUnderTest)()});\n      })();`;this._utilityScriptPromise=this._raceAgainstContextDestroyed(this.delegate.rawEvaluateHandle(this,b)).then((b=>{b._setPreview("UtilityScript");return b}))}return this._utilityScriptPromise}async doSlowMo(){}}class JSHandle extends We.SdkObject{constructor(b,B,F,K,se){super(b,"handle");this.__jshandle=true;this._disposed=false;this._context=b;this._objectId=K;this._value=se;this._objectType=B;this._preview=this._objectId?F||`JSHandle@${this._objectType}`:String(se);if(this._objectId&&globalThis.leakedJSHandles)globalThis.leakedJSHandles.set(this,new Error("Leaked JSHandle"))}async evaluate(b,B){return evaluate(this._context,true,b,this,B)}async evaluateHandle(b,B){return evaluate(this._context,false,b,this,B)}async evaluateExpression(b,B,F){const K=await evaluateExpression(this._context,b,{...B,returnByValue:true},this,F);await this._context.doSlowMo();return K}async evaluateExpressionHandle(b,B,F){const K=await evaluateExpression(this._context,b,{...B,returnByValue:false},this,F);await this._context.doSlowMo();return K}async getProperty(b){const B=await this.evaluateHandle(((b,B)=>{const F={__proto__:null};F[B]=b[B];return F}),b);const F=await B.getProperties();const K=F.get(b);B.dispose();return K}async getProperties(){if(!this._objectId)return new Map;return this._context.getProperties(this)}rawValue(){return this._value}async jsonValue(){if(!this._objectId)return this._value;const b=`(utilityScript, ...args) => utilityScript.jsonValue(...args)`;return this._context.evaluateWithArguments(b,true,[true],[this])}asElement(){return null}dispose(){if(this._disposed)return;this._disposed=true;if(this._objectId){this._context.releaseHandle(this).catch((b=>{}));if(globalThis.leakedJSHandles)globalThis.leakedJSHandles.delete(this)}}toString(){return this._preview}_setPreviewCallback(b){this._previewCallback=b}preview(){return this._preview}worldNameForTest(){return this._context.worldNameForTest}_setPreview(b){this._preview=b;if(this._previewCallback)this._previewCallback(b)}}async function evaluate(b,B,F,...K){return evaluateExpression(b,String(F),{returnByValue:B,isFunction:typeof F==="function"},...K)}async function evaluateExpression(b,B,F,...K){B=normalizeEvaluationExpression(B,F.isFunction);const se=[];const oe=[];const pushHandle=b=>{se.push(b);return se.length-1};K=K.map((B=>(0,$e.serializeAsCallArgument)(B,(B=>{if(B instanceof JSHandle){if(!B._objectId)return{fallThrough:B._value};if(B._disposed)throw new JavaScriptErrorInEvaluate("JSHandle is disposed!");const F=b.adoptIfNeeded(B);if(F===null)return{h:pushHandle(Promise.resolve(B))};oe.push(F);return{h:pushHandle(F)}}return{fallThrough:B}}))));const Qe=[];for(const B of await Promise.all(se)){if(B._context!==b)throw new JavaScriptErrorInEvaluate("JSHandles can be evaluated only in the context they were created!");Qe.push(B)}const Re=[F.isFunction,F.returnByValue,B,K.length,...K];const Me=`(utilityScript, ...args) => utilityScript.evaluate(...args)`;try{return await b.evaluateWithArguments(Me,F.returnByValue||false,Re,Qe)}finally{oe.map((b=>b.then((b=>b.dispose()))))}}function parseUnserializableValue(b){if(b==="NaN")return NaN;if(b==="Infinity")return Infinity;if(b==="-Infinity")return-Infinity;if(b==="-0")return-0}function normalizeEvaluationExpression(b,B){b=b.trim();if(B){try{new Function("("+b+")")}catch(B){if(b.startsWith("async "))b="async function "+b.substring("async ".length);else b="function "+b;try{new Function("("+b+")")}catch(b){throw new Error("Passed function is not well-serializable!")}}}if(/^(async)?\s*function(\s|\()/.test(b))b="("+b+")";return b}class JavaScriptErrorInEvaluate extends Error{}function isJavaScriptErrorInEvaluate(b){return b instanceof JavaScriptErrorInEvaluate}function sparseArrayToString(b){const B=[];for(const{name:F,value:K}of b){const b=+F;if(isNaN(b)||b<0)continue;B.push({index:b,value:K})}B.sort(((b,B)=>b.index-B.index));let F=-1;const K=[];for(const{index:b,value:se}of B){const B=b-F-1;if(B===1)K.push(`empty`);else if(B>1)K.push(`empty x ${B}`);K.push(String(se));F=b}return"["+K.join(", ")+"]"}0&&0},3418:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{launchApp:()=>launchApp,syncLocalStorageWithSettings:()=>syncLocalStorageWithSettings});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(3143);var $e=F(3230);var Ye=F(3230);var Ke=F(9757);async function launchApp(b,B){const F=[...B.persistentContextOptions?.args??[]];let K=B.persistentContextOptions?.channel;if(b.name()==="chromium"){F.push("--app=data:text/html,",`--window-size=${B.windowSize.width},${B.windowSize.height}`,...B.windowPosition?[`--window-position=${B.windowPosition.x},${B.windowPosition.y}`]:[],"--test-type=");if(!K&&!B.persistentContextOptions?.executablePath)K=(0,$e.findChromiumChannelBestEffort)(B.sdkLanguage)}const se=new Ke.ProgressController;let oe;try{oe=await se.run((se=>b.launchPersistentContext(se,"",{ignoreDefaultArgs:["--enable-automation"],...B?.persistentContextOptions,channel:K,noDefaultViewport:B.persistentContextOptions?.noDefaultViewport??true,acceptDownloads:B?.persistentContextOptions?.acceptDownloads??((0,ze.isUnderTest)()?"accept":"internal-browser-default"),colorScheme:B?.persistentContextOptions?.colorScheme??"no-override",args:F})),0)}catch(b){if(K){b=(0,ze.rewriteErrorMessage)(b,[`Failed to launch "${K}" channel.`,"Using custom channels could lead to unexpected behavior due to Enterprise policies (chrome://policy).","Install the default browser instead:",(0,ze.wrapInASCIIBox)(`${(0,$e.buildPlaywrightCLICommand)(B.sdkLanguage,"install")}`,2)].join("\n"))}throw b}const[Qe]=oe.pages();if(b.name()==="chromium"&&process.platform==="darwin"){oe.on("page",(async b=>{if(b.mainFrame().url()==="chrome://new-tab-page/"){await Qe.bringToFront();await b.close()}}))}if(b.name()==="chromium")await installAppIcon(Qe);return{context:oe,page:Qe}}async function installAppIcon(b){const B=await We.default.promises.readFile(F.ab+"appIcon.png");const K=b.delegate;await K._mainFrameSession._client.send("Browser.setDockTile",{image:B.toString("base64")})}async function syncLocalStorageWithSettings(b,B){if((0,ze.isUnderTest)())return;const F=Ge.default.join(Ye.registryDirectory,".settings",`${B}.json`);const K=new Ke.ProgressController;await K.run((async B=>{await b.exposeBinding(B,"_saveSerializedSettings",false,((b,B)=>{We.default.mkdirSync(Ge.default.dirname(F),{recursive:true});We.default.writeFileSync(F,B)}));const K=await We.default.promises.readFile(F,"utf-8").catch((()=>"{}"));await b.addInitScript(B,`(${String((b=>{if(location&&location.protocol==="data:")return;if(window.top!==window)return;Object.entries(b).map((([b,B])=>localStorage[b]=B));window.saveSettings=()=>{window._saveSerializedSettings(JSON.stringify({...localStorage}))}}))})(${K});\n    `)}))}0&&0},9122:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{addStackToTracingNoReply:()=>addStackToTracingNoReply,harClose:()=>harClose,harLookup:()=>harLookup,harOpen:()=>harOpen,harUnzip:()=>harUnzip,traceDiscarded:()=>traceDiscarded,tracingStarted:()=>tracingStarted,zip:()=>zip});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(857));var ze=__toESM(F(6928));var $e=F(6065);var Ye=F(6691);var Ke=F(1871);var Xe=F(9463);var et=F(7505);var rt=F(7768);var it=F(6224);var ot=F(1245);async function zip(b,B,F){const K=new Ke.ManualPromise;const se=new et.yazl.ZipFile;se.on("error",(b=>K.reject(b)));const addFile=(b,B)=>{try{if(We.default.statSync(b).isFile())se.addFile(b,B)}catch(b){}};for(const b of F.entries)addFile(b.value,b.name);const oe=F.stacksId?B.get(F.stacksId):void 0;if(oe?.callStacks.length){await b.race(oe.writer);const B=Buffer.from(JSON.stringify((0,rt.serializeClientSideCallMetadata)(oe.callStacks)));se.addBuffer(B,"trace.stacks")}if(F.includeSources){const b=new Set;for(const{stack:B}of oe?.callStacks||[]){if(!B)continue;for(const{file:F}of B)b.add(F)}for(const B of b)addFile(B,"resources/src@"+await(0,$e.calculateSha1)(B)+".txt")}if(F.mode==="write"){await b.race(We.default.promises.mkdir(ze.default.dirname(F.zipFile),{recursive:true}));se.end(void 0,(()=>{se.outputStream.pipe(We.default.createWriteStream(F.zipFile)).on("close",(()=>K.resolve())).on("error",(b=>K.reject(b)))}));await b.race(K);await deleteStackSession(b,B,F.stacksId);return}const Qe=F.zipFile+".tmp";await b.race(We.default.promises.rename(F.zipFile,Qe));et.yauzl.open(Qe,((b,B)=>{if(b){K.reject(b);return}(0,it.assert)(B);let oe=B.entryCount;B.on("entry",(b=>{B.openReadStream(b,((B,Re)=>{if(B){K.reject(B);return}se.addReadStream(Re,b.fileName);if(--oe===0){se.end(void 0,(()=>{se.outputStream.pipe(We.default.createWriteStream(F.zipFile)).on("close",(()=>{We.default.promises.unlink(Qe).then((()=>{K.resolve()})).catch((b=>K.reject(b)))}))}))}}))}))}));await b.race(K);await deleteStackSession(b,B,F.stacksId)}async function deleteStackSession(b,B,F){const K=F?B.get(F):void 0;if(!K)return;B.delete(F);if(K.tmpDir)await b.race((0,ot.removeFolders)([K.tmpDir]))}async function harOpen(b,B,F){let K;if(F.file.endsWith(".zip")){const B=new Xe.ZipFile(F.file);try{const F=await b.race(B.entries());const se=F.find((b=>b.endsWith(".har")));if(!se)return{error:"Specified archive does not have a .har file"};const oe=await b.race(B.read(se));const Qe=JSON.parse(oe.toString());K=new Ye.HarBackend(Qe,null,B)}catch(b){B.close();throw b}}else{const B=JSON.parse(await b.race(We.default.promises.readFile(F.file,"utf-8")));K=new Ye.HarBackend(B,ze.default.dirname(F.file),null)}B.set(K.id,K);return{harId:K.id}}async function harLookup(b,B,F){const K=B.get(F.harId);if(!K)return{action:"error",message:`Internal error: har was not opened`};return await b.race(K.lookup(F.url,F.method,F.headers,F.postData,F.isNavigationRequest))}function harClose(b,B){const F=b.get(B.harId);if(F){b.delete(F.id);F.dispose()}}async function harUnzip(b,B){const F=ze.default.dirname(B.zipFile);const K=new Xe.ZipFile(B.zipFile);try{for(const se of await b.race(K.entries())){const oe=await b.race(K.read(se));if(se==="har.har")await b.race(We.default.promises.writeFile(B.harFile,oe));else await b.race(We.default.promises.writeFile(ze.default.join(F,se),oe))}await b.race(We.default.promises.unlink(B.zipFile))}finally{K.close()}}async function tracingStarted(b,B,F){let K=void 0;if(!F.tracesDir)K=await b.race(We.default.promises.mkdtemp(ze.default.join(Ge.default.tmpdir(),"playwright-tracing-")));const se=ze.default.join(F.tracesDir||K,F.traceName+".stacks");B.set(se,{callStacks:[],file:se,writer:Promise.resolve(),tmpDir:K,live:F.live});return{stacksId:se}}async function traceDiscarded(b,B,F){await deleteStackSession(b,B,F.stacksId)}function addStackToTracingNoReply(b,B){for(const F of b.values()){F.callStacks.push(B.callData);if(F.live){F.writer=F.writer.then((()=>{const b=Buffer.from(JSON.stringify((0,rt.serializeClientSideCallMetadata)(F.callStacks)));return We.default.promises.writeFile(F.file,b)}))}}}0&&0},4593:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{macEditingCommands:()=>Qe});b.exports=__toCommonJS(oe);const Qe={Backspace:"deleteBackward:",Enter:"insertNewline:",NumpadEnter:"insertNewline:",Escape:"cancelOperation:",ArrowUp:"moveUp:",ArrowDown:"moveDown:",ArrowLeft:"moveLeft:",ArrowRight:"moveRight:",F5:"complete:",Delete:"deleteForward:",Home:"scrollToBeginningOfDocument:",End:"scrollToEndOfDocument:",PageUp:"scrollPageUp:",PageDown:"scrollPageDown:","Shift+Backspace":"deleteBackward:","Shift+Enter":"insertNewline:","Shift+NumpadEnter":"insertNewline:","Shift+Escape":"cancelOperation:","Shift+ArrowUp":"moveUpAndModifySelection:","Shift+ArrowDown":"moveDownAndModifySelection:","Shift+ArrowLeft":"moveLeftAndModifySelection:","Shift+ArrowRight":"moveRightAndModifySelection:","Shift+F5":"complete:","Shift+Delete":"deleteForward:","Shift+Home":"moveToBeginningOfDocumentAndModifySelection:","Shift+End":"moveToEndOfDocumentAndModifySelection:","Shift+PageUp":"pageUpAndModifySelection:","Shift+PageDown":"pageDownAndModifySelection:","Shift+Numpad5":"delete:","Control+Tab":"selectNextKeyView:","Control+Enter":"insertLineBreak:","Control+NumpadEnter":"insertLineBreak:","Control+Quote":"insertSingleQuoteIgnoringSubstitution:","Control+KeyA":"moveToBeginningOfParagraph:","Control+KeyB":"moveBackward:","Control+KeyD":"deleteForward:","Control+KeyE":"moveToEndOfParagraph:","Control+KeyF":"moveForward:","Control+KeyH":"deleteBackward:","Control+KeyK":"deleteToEndOfParagraph:","Control+KeyL":"centerSelectionInVisibleArea:","Control+KeyN":"moveDown:","Control+KeyO":["insertNewlineIgnoringFieldEditor:","moveBackward:"],"Control+KeyP":"moveUp:","Control+KeyT":"transpose:","Control+KeyV":"pageDown:","Control+KeyY":"yank:","Control+Backspace":"deleteBackwardByDecomposingPreviousCharacter:","Control+ArrowUp":"scrollPageUp:","Control+ArrowDown":"scrollPageDown:","Control+ArrowLeft":"moveToLeftEndOfLine:","Control+ArrowRight":"moveToRightEndOfLine:","Shift+Control+Enter":"insertLineBreak:","Shift+Control+NumpadEnter":"insertLineBreak:","Shift+Control+Tab":"selectPreviousKeyView:","Shift+Control+Quote":"insertDoubleQuoteIgnoringSubstitution:","Shift+Control+KeyA":"moveToBeginningOfParagraphAndModifySelection:","Shift+Control+KeyB":"moveBackwardAndModifySelection:","Shift+Control+KeyE":"moveToEndOfParagraphAndModifySelection:","Shift+Control+KeyF":"moveForwardAndModifySelection:","Shift+Control+KeyN":"moveDownAndModifySelection:","Shift+Control+KeyP":"moveUpAndModifySelection:","Shift+Control+KeyV":"pageDownAndModifySelection:","Shift+Control+Backspace":"deleteBackwardByDecomposingPreviousCharacter:","Shift+Control+ArrowUp":"scrollPageUp:","Shift+Control+ArrowDown":"scrollPageDown:","Shift+Control+ArrowLeft":"moveToLeftEndOfLineAndModifySelection:","Shift+Control+ArrowRight":"moveToRightEndOfLineAndModifySelection:","Alt+Backspace":"deleteWordBackward:","Alt+Enter":"insertNewlineIgnoringFieldEditor:","Alt+NumpadEnter":"insertNewlineIgnoringFieldEditor:","Alt+Escape":"complete:","Alt+ArrowUp":["moveBackward:","moveToBeginningOfParagraph:"],"Alt+ArrowDown":["moveForward:","moveToEndOfParagraph:"],"Alt+ArrowLeft":"moveWordLeft:","Alt+ArrowRight":"moveWordRight:","Alt+Delete":"deleteWordForward:","Alt+PageUp":"pageUp:","Alt+PageDown":"pageDown:","Shift+Alt+Backspace":"deleteWordBackward:","Shift+Alt+Enter":"insertNewlineIgnoringFieldEditor:","Shift+Alt+NumpadEnter":"insertNewlineIgnoringFieldEditor:","Shift+Alt+Escape":"complete:","Shift+Alt+ArrowUp":"moveParagraphBackwardAndModifySelection:","Shift+Alt+ArrowDown":"moveParagraphForwardAndModifySelection:","Shift+Alt+ArrowLeft":"moveWordLeftAndModifySelection:","Shift+Alt+ArrowRight":"moveWordRightAndModifySelection:","Shift+Alt+Delete":"deleteWordForward:","Shift+Alt+PageUp":"pageUp:","Shift+Alt+PageDown":"pageDown:","Control+Alt+KeyB":"moveWordBackward:","Control+Alt+KeyF":"moveWordForward:","Control+Alt+Backspace":"deleteWordBackward:","Shift+Control+Alt+KeyB":"moveWordBackwardAndModifySelection:","Shift+Control+Alt+KeyF":"moveWordForwardAndModifySelection:","Shift+Control+Alt+Backspace":"deleteWordBackward:","Meta+NumpadSubtract":"cancel:","Meta+Backspace":"deleteToBeginningOfLine:","Meta+ArrowUp":"moveToBeginningOfDocument:","Meta+ArrowDown":"moveToEndOfDocument:","Meta+ArrowLeft":"moveToLeftEndOfLine:","Meta+ArrowRight":"moveToRightEndOfLine:","Shift+Meta+NumpadSubtract":"cancel:","Shift+Meta+Backspace":"deleteToBeginningOfLine:","Shift+Meta+ArrowUp":"moveToBeginningOfDocumentAndModifySelection:","Shift+Meta+ArrowDown":"moveToEndOfDocumentAndModifySelection:","Shift+Meta+ArrowLeft":"moveToLeftEndOfLineAndModifySelection:","Shift+Meta+ArrowRight":"moveToRightEndOfLineAndModifySelection:","Meta+KeyA":"selectAll:","Meta+KeyC":"copy:","Meta+KeyX":"cut:","Meta+KeyV":"paste:","Meta+KeyZ":"undo:","Shift+Meta+KeyZ":"redo:"};0&&0},6370:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Request:()=>Request,Response:()=>Response,Route:()=>Route,WebSocket:()=>WebSocket,filterCookies:()=>filterCookies,isLocalHostname:()=>isLocalHostname,kMaxCookieExpiresDateInSeconds:()=>$e,mergeHeaders:()=>mergeHeaders,parseURL:()=>parseURL,rewriteCookies:()=>rewriteCookies,singleHeader:()=>singleHeader,statusText:()=>statusText,stripFragmentFromUrl:()=>stripFragmentFromUrl});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(3021);var We=F(1588);var Ge=F(6938);var ze=F(1871);function filterCookies(b,B){const F=B.map((b=>new URL(b)));return b.filter((b=>{if(!F.length)return true;for(const B of F){let F=b.domain;if(!F.startsWith("."))F="."+F;if(!("."+B.hostname).endsWith(F))continue;if(!B.pathname.startsWith(b.path))continue;if(B.protocol!=="https:"&&!isLocalHostname(B.hostname)&&b.secure)continue;return true}return false}))}function isLocalHostname(b){return b==="localhost"||b.endsWith(".localhost")}const $e=253402300799;function rewriteCookies(b){return b.map((b=>{(0,Me.assert)(b.url||b.domain&&b.path,"Cookie should have a url or a domain/path pair");(0,Me.assert)(!(b.url&&b.domain),"Cookie should have either url or domain");(0,Me.assert)(!(b.url&&b.path),"Cookie should have either url or path");(0,Me.assert)(!(b.expires&&b.expires<0&&b.expires!==-1),"Cookie should have a valid expires, only -1 or a positive number for the unix timestamp in seconds is allowed");(0,Me.assert)(!(b.expires&&b.expires>0&&b.expires>$e),"Cookie should have a valid expires, only -1 or a positive number for the unix timestamp in seconds is allowed");const B={...b};if(B.url){(0,Me.assert)(B.url!=="about:blank",`Blank page can not have cookie "${b.name}"`);(0,Me.assert)(!B.url.startsWith("data:"),`Data URL page can not have cookie "${b.name}"`);const F=new URL(B.url);B.domain=F.hostname;B.path=F.pathname.substring(0,F.pathname.lastIndexOf("/")+1);B.secure=F.protocol==="https:"}return B}))}function parseURL(b){try{return new URL(b)}catch(b){return null}}function stripFragmentFromUrl(b){if(!b.includes("#"))return b;return b.substring(0,b.indexOf("#"))}class Request extends Ge.SdkObject{constructor(b,B,F,K,se,oe,Qe,Re,Le,We){super(B||b,"request");this._response=null;this._redirectedTo=null;this._failureText=null;this._headersMap=new Map;this._frame=null;this._serviceWorker=null;this._rawRequestHeadersPromise=new ze.ManualPromise;this._waitForResponsePromise=new ze.ManualPromise;this._responseEndTiming=-1;(0,Me.assert)(!oe.startsWith("data:"),"Data urls should not fire requests");this._context=b;this._frame=B;this._serviceWorker=F;this._redirectedFrom=K;if(K)K._redirectedTo=this;this._documentId=se;this._url=stripFragmentFromUrl(oe);this._resourceType=Qe;this._method=Re;this._postData=Le;this._headers=We;this._updateHeadersMap();this._isFavicon=oe.endsWith("/favicon.ico")||!!K?._isFavicon}static{this.Events={Response:"response"}}_setFailureText(b){this._failureText=b;this._waitForResponsePromise.resolve(null)}_applyOverrides(b){this._overrides={...this._overrides,...b};this._updateHeadersMap();return this._overrides}_updateHeadersMap(){for(const{name:b,value:B}of this.headers())this._headersMap.set(b.toLowerCase(),B)}overrides(){return this._overrides}url(){return this._overrides?.url||this._url}resourceType(){return this._resourceType}method(){return this._overrides?.method||this._method}postDataBuffer(){return this._overrides?.postData||this._postData}headers(){return this._overrides?.headers||this._headers}headerValue(b){return this._headersMap.get(b)}setRawRequestHeaders(b){if(!this._rawRequestHeadersPromise.isDone())this._rawRequestHeadersPromise.resolve(b||this._headers)}async rawRequestHeaders(){return this._overrides?.headers||this._rawRequestHeadersPromise}response(){return this._waitForResponsePromise}_existingResponse(){return this._response}_setResponse(b){this._response=b;this._waitForResponsePromise.resolve(b);this.emit(Request.Events.Response,b)}_finalRequest(){return this._redirectedTo?this._redirectedTo._finalRequest():this}frame(){return this._frame}serviceWorker(){return this._serviceWorker}isNavigationRequest(){return!!this._documentId}redirectedFrom(){return this._redirectedFrom}failure(){if(this._failureText===null)return null;return{errorText:this._failureText}}_setBodySize(b){this._bodySize=b}bodySize(){return this._bodySize||this.postDataBuffer()?.length||0}async requestHeadersSize(){let b=4;b+=this.method().length;b+=new URL(this.url()).pathname.length;b+=8;const B=await this.rawRequestHeaders();for(const F of B)b+=F.name.length+F.value.length+4;return b}}class Route extends Ge.SdkObject{constructor(b,B){super(b._frame||b._context,"route");this._handled=false;this._futureHandlers=[];this._request=b;this._delegate=B;this._request._context.addRouteInFlight(this)}handle(b){this._futureHandlers=[...b];this.continue({isFallback:true}).catch((()=>{}))}async removeHandler(b){this._futureHandlers=this._futureHandlers.filter((B=>B!==b));if(b===this._currentHandler){await this.continue({isFallback:true}).catch((()=>{}));return}}request(){return this._request}async abort(b="failed"){this._startHandling();this._request._context.emit(Le.BrowserContext.Events.RequestAborted,this._request);await this._delegate.abort(b);this._endHandling()}redirectNavigationRequest(b){this._startHandling();(0,Me.assert)(this._request.isNavigationRequest());this._request.frame().redirectNavigation(b,this._request._documentId,this._request.headerValue("referer"));this._endHandling()}async fulfill(b){this._startHandling();let B=b.body;let F=b.isBase64||false;if(B===void 0){if(b.fetchResponseUid){const K=this._request._context.fetchRequest.fetchResponses.get(b.fetchResponseUid)||We.APIRequestContext.findResponseBody(b.fetchResponseUid);(0,Me.assert)(K,"Fetch response has been disposed");B=K.toString("base64");F=true}else{B="";F=false}}else if(!b.status||b.status<200||b.status>=400){this._request._responseBodyOverride={body:B,isBase64:F}}const K=[...b.headers||[]];this._maybeAddCorsHeaders(K);this._request._context.emit(Le.BrowserContext.Events.RequestFulfilled,this._request);await this._delegate.fulfill({status:b.status||200,headers:K,body:B,isBase64:F});this._endHandling()}_maybeAddCorsHeaders(b){const B=this._request.headerValue("origin");if(!B)return;const F=new URL(this._request.url());if(!F.protocol.startsWith("http"))return;if(F.origin===B.trim())return;const K=b.find((({name:b})=>b==="access-control-allow-origin"));if(K)return;b.push({name:"access-control-allow-origin",value:B});b.push({name:"access-control-allow-credentials",value:"true"});b.push({name:"vary",value:"Origin"})}async continue(b){if(b.url){const B=new URL(b.url);const F=new URL(this._request.url());if(F.protocol!==B.protocol)throw new Error("New URL must have same protocol as overridden URL")}if(b.headers){b.headers=b.headers?.filter((b=>{const B=b.name.toLowerCase();return B!=="cookie"&&B!=="host"}))}b=this._request._applyOverrides(b);const B=this._futureHandlers.shift();if(B){this._currentHandler=B;B(this,this._request);return}if(!b.isFallback)this._request._context.emit(Le.BrowserContext.Events.RequestContinued,this._request);this._startHandling();await this._delegate.continue(b);this._endHandling()}_startHandling(){(0,Me.assert)(!this._handled,"Route is already handled!");this._handled=true;this._currentHandler=void 0}_endHandling(){this._futureHandlers=[];this._currentHandler=void 0;this._request._context.removeRouteInFlight(this)}}class Response extends Ge.SdkObject{constructor(b,B,F,K,se,oe,Qe,Re){super(b.frame()||b._context,"response");this._contentPromise=null;this._finishedPromise=new ze.ManualPromise;this._headersMap=new Map;this._serverAddrPromise=new ze.ManualPromise;this._securityDetailsPromise=new ze.ManualPromise;this._rawResponseHeadersPromise=new ze.ManualPromise;this._encodedBodySizePromise=new ze.ManualPromise;this._transferSizePromise=new ze.ManualPromise;this._responseHeadersSizePromise=new ze.ManualPromise;this._request=b;this._timing=se;this._status=B;this._statusText=F;this._url=b.url();this._headers=K;for(const{name:b,value:B}of this._headers)this._headersMap.set(b.toLowerCase(),B);this._getResponseBodyCallback=oe;this._request._setResponse(this);this._httpVersion=Re;this._fromServiceWorker=Qe}_serverAddrFinished(b){this._serverAddrPromise.resolve(b)}_securityDetailsFinished(b){this._securityDetailsPromise.resolve(b)}_requestFinished(b){this._request._responseEndTiming=Math.max(b,this._timing.responseStart);if(this._timing.requestStart===-1)this._timing.requestStart=this._request._responseEndTiming;this._finishedPromise.resolve()}_setHttpVersion(b){this._httpVersion=b}url(){return this._url}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}headerValue(b){return this._headersMap.get(b)}async rawResponseHeaders(){return this._rawResponseHeadersPromise}setRawResponseHeaders(b){if(!this._rawResponseHeadersPromise.isDone())this._rawResponseHeadersPromise.resolve(b||this._headers)}setTransferSize(b){this._transferSizePromise.resolve(b)}setEncodedBodySize(b){this._encodedBodySizePromise.resolve(b)}setResponseHeadersSize(b){this._responseHeadersSizePromise.resolve(b)}timing(){return this._timing}async serverAddr(){return await this._serverAddrPromise||null}async securityDetails(){return await this._securityDetailsPromise||null}body(){if(!this._contentPromise){this._contentPromise=this._finishedPromise.then((async()=>{if(this._status>=300&&this._status<=399)throw new Error("Response body is unavailable for redirect responses");if(this._request._responseBodyOverride){const{body:b,isBase64:B}=this._request._responseBodyOverride;return Buffer.from(b,B?"base64":"utf-8")}return this._getResponseBodyCallback()}))}return this._contentPromise}request(){return this._request}frame(){return this._request.frame()}httpVersion(){if(!this._httpVersion)return"HTTP/1.1";if(this._httpVersion==="http/1.1")return"HTTP/1.1";if(this._httpVersion==="h2")return"HTTP/2.0";return this._httpVersion}fromServiceWorker(){return this._fromServiceWorker}async responseHeadersSize(){const b=await this._responseHeadersSizePromise;if(b!==null)return b;let B=4;B+=8;B+=3;B+=this.statusText().length;const F=await this._rawResponseHeadersPromise;for(const b of F)B+=b.name.length+b.value.length+4;B+=2;return B}async sizes(){const b=await this._request.requestHeadersSize();const B=await this.responseHeadersSize();let F=await this._encodedBodySizePromise;if(F===null){const b=await this._rawResponseHeadersPromise;const B=b.find((b=>b.name.toLowerCase()==="content-length"))?.value;F=B?+B:0}let K=await this._transferSizePromise;if(K===null){K=B+F}return{requestBodySize:this._request.bodySize(),requestHeadersSize:b,responseBodySize:F,responseHeadersSize:B,transferSize:K}}}class WebSocket extends Ge.SdkObject{constructor(b,B){super(b,"ws");this._notified=false;this._url=B}static{this.Events={Close:"close",SocketError:"socketerror",FrameReceived:"framereceived",FrameSent:"framesent"}}markAsNotified(){if(this._notified)return false;this._notified=true;return true}url(){return this._url}frameSent(b,B){this.emit(WebSocket.Events.FrameSent,{opcode:b,data:B})}frameReceived(b,B){this.emit(WebSocket.Events.FrameReceived,{opcode:b,data:B})}error(b){this.emit(WebSocket.Events.SocketError,b)}closed(){this.emit(WebSocket.Events.Close)}}const Ye={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};function statusText(b){return Ye[String(b)]||"Unknown"}function singleHeader(b,B){return[{name:b,value:B}]}function mergeHeaders(b){const B=new Map;const F=new Map;for(const K of b){if(!K)continue;for(const{name:b,value:se}of K){const K=b.toLowerCase();F.set(K,b);B.set(K,se)}}const K=[];for(const[b,se]of B)K.push({name:F.get(b),value:se});return K}0&&0},45:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{InitScript:()=>InitScript,Page:()=>Page,PageBinding:()=>PageBinding,Worker:()=>Worker});b.exports=__toCommonJS(Le);var We=F(3021);var Ge=F(4441);var ze=F(541);var $e=F(7935);var Ye=__toESM(F(7416));var Ke=F(4794);var Xe=__toESM(F(876));var et=F(6938);var rt=__toESM(F(4745));var it=F(4807);var ot=F(3143);var at=F(3143);var lt=F(6707);var ut=F(6877);var dt=F(3168);var ht=F(1871);var pt=F(5334);var ft=F(7538);var mt=__toESM(F(8113));class Page extends et.SdkObject{constructor(b,B){super(B,"page");this._closedState="open";this._closedPromise=new ht.ManualPromise;this._initializedPromise=new ht.ManualPromise;this._consoleMessages=[];this._pageErrors=[];this._crashed=false;this.openScope=new ot.LongStandingScope;this._emulatedMedia={};this._fileChooserInterceptedBy=new Set;this._pageBindings=new Map;this.initScripts=[];this._workers=new Map;this.requestInterceptors=[];this.video=null;this._locatorHandlers=new Map;this._lastLocatorHandlerUid=0;this._locatorHandlerRunningCounter=0;this._networkRequests=[];this._frameThrottler=new FrameThrottler(10,35,200);this.attribution.page=this;this.delegate=b;this.browserContext=B;this.keyboard=new Xe.Keyboard(b.rawKeyboard,this);this.mouse=new Xe.Mouse(b.rawMouse,this);this.touchscreen=new Xe.Touchscreen(b.rawTouchscreen,this);this.screenshotter=new it.Screenshotter(this);this.frameManager=new Ye.FrameManager(this);if(b.pdf)this.pdf=b.pdf.bind(b);this.coverage=b.coverage?b.coverage():null;this.isStorageStatePage=B.isCreatingStorageStatePage()}static{this.Events={Close:"close",Crash:"crash",Download:"download",EmulatedSizeChanged:"emulatedsizechanged",FileChooser:"filechooser",FrameAttached:"frameattached",FrameDetached:"framedetached",InternalFrameNavigatedToNewDocument:"internalframenavigatedtonewdocument",LocatorHandlerTriggered:"locatorhandlertriggered",ScreencastFrame:"screencastframe",Video:"video",WebSocket:"websocket",Worker:"worker"}}async reportAsNew(b,B){if(b){const B=await b.waitForInitializedOrError();if(B instanceof Page&&!B.isClosed())this._opener=B}this._markInitialized(B)}_markInitialized(b=void 0){if(b){if(this.browserContext.isClosingOrClosed())return;this.frameManager.createDummyMainFrameIfNeeded()}this._initialized=b||this;this.emitOnContext(We.BrowserContext.Events.Page,this);for(const b of this._pageErrors)this.emitOnContext(We.BrowserContext.Events.PageError,b,this);for(const b of this._consoleMessages)this.emitOnContext(We.BrowserContext.Events.Console,b);if(this.isClosed())this.emit(Page.Events.Close);else this.instrumentation.onPageOpen(this);this._initializedPromise.resolve(this._initialized)}initializedOrUndefined(){return this._initialized?this:void 0}waitForInitializedOrError(){return this._initializedPromise}emitOnContext(b,...B){if(this.isStorageStatePage)return;this.browserContext.emit(b,...B)}async resetForReuse(b){await this.mainFrame().gotoImpl(b,"about:blank",{});this._emulatedSize=void 0;this._emulatedMedia={};this._extraHTTPHeaders=void 0;await Promise.all([this.delegate.updateEmulatedViewportSize(),this.delegate.updateEmulateMedia(),this.delegate.updateExtraHTTPHeaders()]);await this.delegate.resetForReuse(b)}_didClose(){this.frameManager.dispose();this._frameThrottler.dispose();(0,ot.assert)(this._closedState!=="closed","Page closed twice");this._closedState="closed";this.emit(Page.Events.Close);this._closedPromise.resolve();this.instrumentation.onPageClose(this);this.openScope.close(new ze.TargetClosedError)}_didCrash(){this.frameManager.dispose();this._frameThrottler.dispose();this.emit(Page.Events.Crash);this._crashed=true;this.instrumentation.onPageClose(this);this.openScope.close(new Error("Page crashed"))}async _onFileChooserOpened(b){let B;try{B=await b.evaluate((b=>!!b.multiple))}catch(b){return}if(!this.listenerCount(Page.Events.FileChooser)){b.dispose();return}const F=new $e.FileChooser(this,b,B);this.emit(Page.Events.FileChooser,F)}opener(){return this._opener}mainFrame(){return this.frameManager.mainFrame()}frames(){return this.frameManager.frames()}async exposeBinding(b,B,F,K){if(this._pageBindings.has(B))throw new Error(`Function "${B}" has been already registered`);if(this.browserContext._pageBindings.has(B))throw new Error(`Function "${B}" has been already registered in the browser context`);await b.race(this.browserContext.exposePlaywrightBindingIfNeeded());const se=new PageBinding(B,K,F);this._pageBindings.set(B,se);try{await b.race(this.delegate.addInitScript(se.initScript));await b.race(this.safeNonStallingEvaluateInAllFrames(se.initScript.source,"main"));return se}catch(b){this._pageBindings.delete(B);throw b}}async removeExposedBindings(b){b=b.filter((b=>this._pageBindings.get(b.name)===b));for(const B of b)this._pageBindings.delete(B.name);await this.delegate.removeInitScripts(b.map((b=>b.initScript)));const B=b.map((b=>`{ ${b.cleanupScript} };\n`)).join("");await this.safeNonStallingEvaluateInAllFrames(B,"main")}async setExtraHTTPHeaders(b,B){const F=this._extraHTTPHeaders;try{this._extraHTTPHeaders=B;await b.race(this.delegate.updateExtraHTTPHeaders())}catch(b){this._extraHTTPHeaders=F;this.delegate.updateExtraHTTPHeaders().catch((()=>{}));throw b}}extraHTTPHeaders(){return this._extraHTTPHeaders}addNetworkRequest(b){this._networkRequests.push(b);ensureArrayLimit(this._networkRequests,100)}networkRequests(){return this._networkRequests}async onBindingCalled(b,B){if(this._closedState==="closed")return;await PageBinding.dispatch(this,b,B)}addConsoleMessage(b,B,F,K,se){const oe=new Ge.ConsoleMessage(this,b,B,se,F,K);const Qe=this.frameManager.interceptConsoleMessage(oe);if(Qe){F.forEach((b=>b.dispose()));return}this._consoleMessages.push(oe);ensureArrayLimit(this._consoleMessages,200);if(this._initialized)this.emitOnContext(We.BrowserContext.Events.Console,oe)}consoleMessages(){return this._consoleMessages}addPageError(b){this._pageErrors.push(b);ensureArrayLimit(this._pageErrors,200);if(this._initialized)this.emitOnContext(We.BrowserContext.Events.PageError,b,this)}pageErrors(){return this._pageErrors}async reload(b,B){return this.mainFrame().raceNavigationAction(b,(async()=>{const[F]=await Promise.all([this.mainFrame()._waitForNavigation(b,true,B),b.race(this.delegate.reload())]);return F}))}async goBack(b,B){return this.mainFrame().raceNavigationAction(b,(async()=>{let F;const K=this.mainFrame()._waitForNavigation(b,false,B).catch((b=>{F=b;return null}));const se=await b.race(this.delegate.goBack());if(!se){K.catch((()=>{}));return null}const oe=await K;if(F)throw F;return oe}))}async goForward(b,B){return this.mainFrame().raceNavigationAction(b,(async()=>{let F;const K=this.mainFrame()._waitForNavigation(b,false,B).catch((b=>{F=b;return null}));const se=await b.race(this.delegate.goForward());if(!se){K.catch((()=>{}));return null}const oe=await K;if(F)throw F;return oe}))}requestGC(){return this.delegate.requestGC()}registerLocatorHandler(b,B){const F=++this._lastLocatorHandlerUid;this._locatorHandlers.set(F,{selector:b,noWaitAfter:B});return F}resolveLocatorHandler(b,B){const F=this._locatorHandlers.get(b);if(B)this._locatorHandlers.delete(b);if(F){F.resolved?.resolve();F.resolved=void 0}}unregisterLocatorHandler(b){this._locatorHandlers.delete(b)}async performActionPreChecks(b){await this._performWaitForNavigationCheck(b);await this._performLocatorHandlersCheckpoint(b);await this._performWaitForNavigationCheck(b)}async _performWaitForNavigationCheck(b){if(process.env.PLAYWRIGHT_SKIP_NAVIGATION_CHECK)return;const B=this.frameManager.mainFrame();if(!B||!B.pendingDocument())return;const F=B.pendingDocument()?.request?.url();const K=F?`" ${(0,ot.trimStringWithEllipsis)(F,200)}"`:"";b.log(`  waiting for${K} navigation to finish...`);await Ke.helper.waitForEvent(b,B,Ye.Frame.Events.InternalNavigation,(F=>{if(!F.isPublic)return false;if(!F.error)b.log(`  navigated to "${(0,ot.trimStringWithEllipsis)(B.url(),200)}"`);return true})).promise}async _performLocatorHandlersCheckpoint(b){if(this._locatorHandlerRunningCounter)return;for(const[B,F]of this._locatorHandlers){if(!F.resolved){if(await this.mainFrame().isVisibleInternal(b,F.selector,{strict:true})){F.resolved=new ht.ManualPromise;this.emit(Page.Events.LocatorHandlerTriggered,B)}}if(F.resolved){++this._locatorHandlerRunningCounter;b.log(`  found ${(0,at.asLocator)(this.browserContext._browser.sdkLanguage(),F.selector)}, intercepting action to run the handler`);const B=F.resolved.then((async()=>{if(!F.noWaitAfter){b.log(`  locator handler has finished, waiting for ${(0,at.asLocator)(this.browserContext._browser.sdkLanguage(),F.selector)} to be hidden`);await this.mainFrame().waitForSelector(b,F.selector,false,{state:"hidden"})}else{b.log(`  locator handler has finished`)}}));await b.race(this.openScope.race(B)).finally((()=>--this._locatorHandlerRunningCounter));b.log(`  interception handler has finished, continuing`)}}}async emulateMedia(b,B){const F={...this._emulatedMedia};if(B.media!==void 0)this._emulatedMedia.media=B.media;if(B.colorScheme!==void 0)this._emulatedMedia.colorScheme=B.colorScheme;if(B.reducedMotion!==void 0)this._emulatedMedia.reducedMotion=B.reducedMotion;if(B.forcedColors!==void 0)this._emulatedMedia.forcedColors=B.forcedColors;if(B.contrast!==void 0)this._emulatedMedia.contrast=B.contrast;try{await b.race(this.delegate.updateEmulateMedia())}catch(b){this._emulatedMedia=F;this.delegate.updateEmulateMedia().catch((()=>{}));throw b}}emulatedMedia(){const b=this.browserContext._options;return{media:this._emulatedMedia.media||"no-override",colorScheme:this._emulatedMedia.colorScheme!==void 0?this._emulatedMedia.colorScheme:b.colorScheme??"light",reducedMotion:this._emulatedMedia.reducedMotion!==void 0?this._emulatedMedia.reducedMotion:b.reducedMotion??"no-preference",forcedColors:this._emulatedMedia.forcedColors!==void 0?this._emulatedMedia.forcedColors:b.forcedColors??"none",contrast:this._emulatedMedia.contrast!==void 0?this._emulatedMedia.contrast:b.contrast??"no-preference"}}async setViewportSize(b,B){const F=this._emulatedSize;try{this._setEmulatedSize({viewport:{...B},screen:{...B}});await b.race(this.delegate.updateEmulatedViewportSize())}catch(b){this._emulatedSize=F;this.delegate.updateEmulatedViewportSize().catch((()=>{}));throw b}}setEmulatedSizeFromWindowOpen(b){this._setEmulatedSize(b)}_setEmulatedSize(b){this._emulatedSize=b;this.emit(Page.Events.EmulatedSizeChanged)}emulatedSize(){if(this._emulatedSize)return this._emulatedSize;const b=this.browserContext._options;return b.viewport?{viewport:b.viewport,screen:b.screen||b.viewport}:void 0}async bringToFront(){await this.delegate.bringToFront()}async addInitScript(b,B){const F=new InitScript(B);this.initScripts.push(F);try{await b.race(this.delegate.addInitScript(F))}catch(b){this.removeInitScripts([F]).catch((()=>{}));throw b}return F}async removeInitScripts(b){const B=new Set(b);this.initScripts=this.initScripts.filter((b=>!B.has(b)));await this.delegate.removeInitScripts(b)}needsRequestInterception(){return this.requestInterceptors.length>0||this.browserContext.requestInterceptors.length>0}async addRequestInterceptor(b,B,F){if(F)this.requestInterceptors.unshift(B);else this.requestInterceptors.push(B);await this.delegate.updateRequestInterception()}async removeRequestInterceptor(b){const B=this.requestInterceptors.indexOf(b);if(B===-1)return;this.requestInterceptors.splice(B,1);await this.browserContext.notifyRoutesInFlightAboutRemovedHandler(b);await this.delegate.updateRequestInterception()}async expectScreenshot(b,B){const F=B.locator;const K=F?async K=>await F.frame.rafrafTimeoutScreenshotElementWithProgress(b,F.selector,K,B||{}):async F=>{await this.performActionPreChecks(b);await this.mainFrame().rafrafTimeout(b,F);return await this.screenshotter.screenshotPage(b,B||{})};const se=(0,lt.getComparator)("image/png");if(!B.expected&&B.isNot)return{errorMessage:'"not" matcher requires expected result'};try{const b=(0,it.validateScreenshotOptions)(B||{});if(b!=="png")throw new Error("Only PNG screenshots are supported")}catch(b){return{errorMessage:b.message}}let oe;const areEqualScreenshots=(b,F,K)=>{const Qe=b&&F?se(b,F,B):void 0;if(Qe!==void 0&&!!Qe===!!B.isNot)return true;if(Qe)oe={errorMessage:Qe.errorMessage,diff:Qe.diff,actual:b,previous:K};return false};try{let F;let se;const Qe=[0,100,250,500];b.log(`${(0,ot.renderTitleForCall)(b.metadata)}${B.timeout?` with timeout ${B.timeout}ms`:""}`);if(B.expected)b.log(`  verifying given screenshot expectation`);else b.log(`  generating new stable screenshot expectation`);let Re=true;while(true){if(this.isClosed())throw new Error("The page has closed");const Me=Qe.shift()??1e3;if(Me)b.log(`waiting ${Me}ms before taking screenshot`);se=F;F=await K(Me).catch((B=>{if(this.mainFrame().isNonRetriableError(B))throw B;b.log(`failed to take screenshot - `+B.message);return void 0}));if(!F)continue;const Le=B.expected&&Re?B.expected:se;if(areEqualScreenshots(F,Le,se))break;if(oe)b.log(oe.errorMessage);Re=false}if(!Re)b.log(`captured a stable screenshot`);if(!B.expected)return{actual:F};if(Re){b.log(`screenshot matched expectation`);return{}}if(areEqualScreenshots(F,B.expected,void 0)){b.log(`screenshot matched expectation`);return{}}throw new Error(oe.errorMessage)}catch(B){if(rt.isJavaScriptErrorInEvaluate(B)||(0,dt.isInvalidSelectorError)(B))throw B;let F=B.message;if(B instanceof ze.TimeoutError&&oe?.previous)F=`Failed to take two consecutive stable screenshots.`;return{log:(0,ft.compressCallLog)(B.message?[...b.metadata.log,B.message]:b.metadata.log),...oe,errorMessage:F,timedOut:B instanceof ze.TimeoutError}}}async screenshot(b,B){return await this.screenshotter.screenshotPage(b,B)}async close(b={}){if(this._closedState==="closed")return;if(b.reason)this.closeReason=b.reason;const B=!!b.runBeforeUnload;if(this._closedState!=="closing"){if(!B)this._closedState="closing";await this.delegate.closePage(B).catch((b=>ut.debugLogger.log("error",b)))}if(!B)await this._closedPromise}isClosed(){return this._closedState==="closed"}hasCrashed(){return this._crashed}isClosedOrClosingOrCrashed(){return this._closedState!=="open"||this._crashed}addWorker(b,B){this._workers.set(b,B);this.emit(Page.Events.Worker,B)}removeWorker(b){const B=this._workers.get(b);if(!B)return;B.didClose();this._workers.delete(b)}clearWorkers(){for(const[b,B]of this._workers){B.didClose();this._workers.delete(b)}}async setFileChooserInterceptedBy(b,B){const F=this.fileChooserIntercepted();if(b)this._fileChooserInterceptedBy.add(B);else this._fileChooserInterceptedBy.delete(B);if(F!==this.fileChooserIntercepted())await this.delegate.updateFileChooserInterception()}fileChooserIntercepted(){return this._fileChooserInterceptedBy.size>0}frameNavigatedToNewDocument(b){this.emit(Page.Events.InternalFrameNavigatedToNewDocument,b);const B=b.origin();if(B)this.browserContext.addVisitedOrigin(B)}allInitScripts(){const b=[...this.browserContext._pageBindings.values(),...this._pageBindings.values()].map((b=>b.initScript));if(this.browserContext.bindingsInitScript)b.unshift(this.browserContext.bindingsInitScript);return[...b,...this.browserContext.initScripts,...this.initScripts]}getBinding(b){return this._pageBindings.get(b)||this.browserContext._pageBindings.get(b)}setScreencastOptions(b){this.delegate.setScreencastOptions(b).catch((b=>ut.debugLogger.log("error",b)));this._frameThrottler.setThrottlingEnabled(!!b)}throttleScreencastFrameAck(b){this._frameThrottler.ack(b)}temporarilyDisableTracingScreencastThrottling(){this._frameThrottler.recharge()}async safeNonStallingEvaluateInAllFrames(b,B,F={}){await Promise.all(this.frames().map((async K=>{try{await K.nonStallingEvaluateInExistingContext(b,B)}catch(b){if(F.throwOnJSErrors&&rt.isJavaScriptErrorInEvaluate(b))throw b}})))}async hideHighlight(){await Promise.all(this.frames().map((b=>b.hideHighlight().catch((()=>{})))))}async snapshotForAI(b,B){const F=await snapshotFrameForAI(b,this.mainFrame(),B);return{full:F.full.join("\n"),incremental:F.incremental?.join("\n")}}}class Worker extends et.SdkObject{constructor(b,B){super(b,"worker");this._executionContextPromise=new ht.ManualPromise;this._workerScriptLoaded=false;this.existingExecutionContext=null;this.openScope=new ot.LongStandingScope;this.url=B}static{this.Events={Close:"close"}}createExecutionContext(b){this.existingExecutionContext=new rt.ExecutionContext(this,b,"worker");if(this._workerScriptLoaded)this._executionContextPromise.resolve(this.existingExecutionContext);return this.existingExecutionContext}workerScriptLoaded(){this._workerScriptLoaded=true;if(this.existingExecutionContext)this._executionContextPromise.resolve(this.existingExecutionContext)}didClose(){if(this.existingExecutionContext)this.existingExecutionContext.contextDestroyed("Worker was closed");this.emit(Worker.Events.Close,this);this.openScope.close(new Error("Worker closed"))}async evaluateExpression(b,B,F){return rt.evaluateExpression(await this._executionContextPromise,b,{returnByValue:true,isFunction:B},F)}async evaluateExpressionHandle(b,B,F){return rt.evaluateExpression(await this._executionContextPromise,b,{returnByValue:false,isFunction:B},F)}}class PageBinding{static{this.kController="__playwright__binding__controller__"}static{this.kBindingName="__playwright__binding__"}static createInitScript(){return new InitScript(`\n      (() => {\n        const module = {};\n        ${mt.source}\n        const property = '${PageBinding.kController}';\n        if (!globalThis[property])\n          globalThis[property] = new (module.exports.BindingsController())(globalThis, '${PageBinding.kBindingName}');\n      })();\n    `)}constructor(b,B,F){this.name=b;this.playwrightFunction=B;this.initScript=new InitScript(`globalThis['${PageBinding.kController}'].addBinding(${JSON.stringify(b)}, ${F})`);this.needsHandle=F;this.cleanupScript=`globalThis['${PageBinding.kController}'].removeBinding(${JSON.stringify(b)})`}static async dispatch(b,B,F){const{name:K,seq:se,serializedArgs:oe}=JSON.parse(B);try{(0,ot.assert)(F.world);const B=b.getBinding(K);if(!B)throw new Error(`Function "${K}" is not exposed`);let Qe;if(B.needsHandle){const oe=await F.evaluateExpressionHandle(`arg => globalThis['${PageBinding.kController}'].takeBindingHandle(arg)`,{isFunction:true},{name:K,seq:se}).catch((b=>null));Qe=await B.playwrightFunction({frame:F.frame,page:b,context:b.browserContext},oe)}else{if(!Array.isArray(oe))throw new Error(`serializedArgs is not an array. This can happen when Array.prototype.toJSON is defined incorrectly`);const K=oe.map((b=>(0,pt.parseEvaluationResultValue)(b)));Qe=await B.playwrightFunction({frame:F.frame,page:b,context:b.browserContext},...K)}F.evaluateExpressionHandle(`arg => globalThis['${PageBinding.kController}'].deliverBindingResult(arg)`,{isFunction:true},{name:K,seq:se,result:Qe}).catch((b=>ut.debugLogger.log("error",b)))}catch(b){F.evaluateExpressionHandle(`arg => globalThis['${PageBinding.kController}'].deliverBindingResult(arg)`,{isFunction:true},{name:K,seq:se,error:b}).catch((b=>ut.debugLogger.log("error",b)))}}}class InitScript{constructor(b){this.source=`(() => {\n      ${b}\n    })();`}}class FrameThrottler{constructor(b,B,F){this._acks=[];this._throttlingEnabled=false;this._nonThrottledFrames=b;this._budget=b;this._defaultInterval=B;this._throttlingInterval=F;this._tick()}dispose(){if(this._timeoutId){clearTimeout(this._timeoutId);this._timeoutId=void 0}}setThrottlingEnabled(b){this._throttlingEnabled=b}recharge(){for(const b of this._acks)b();this._acks=[];this._budget=this._nonThrottledFrames;if(this._timeoutId){clearTimeout(this._timeoutId);this._tick()}}ack(b){if(!this._timeoutId){b();return}this._acks.push(b)}_tick(){const b=this._acks.shift();if(b){--this._budget;b()}if(this._throttlingEnabled&&this._budget<=0){this._timeoutId=setTimeout((()=>this._tick()),this._throttlingInterval)}else{this._timeoutId=setTimeout((()=>this._tick()),this._defaultInterval)}}}async function snapshotFrameForAI(b,B,F){const K=await B.retryWithProgressAndTimeouts(b,[1e3,2e3,4e3,8e3],(async K=>{try{const se=await b.race(B._utilityContext());const oe=await b.race(se.injectedScript());const Qe=await b.race(oe.evaluate(((b,B)=>{const F=b.document.body;if(!F)return true;return b.incrementalAriaSnapshot(F,{mode:"ai",...B})}),{refPrefix:B.seq?"f"+B.seq:"",track:F.track}));if(Qe===true)return K;return Qe}catch(b){if(B.isNonRetriableError(b))throw b;return K}}));const se=K.iframeRefs.map((K=>snapshotFrameRefForAI(b,B,K,F)));const oe=await Promise.all(se);const Qe=[];let Re;if(K.incremental!==void 0){Re=K.incremental.split("\n");for(let b=0;b<K.iframeRefs.length;b++){const B=oe[b];if(B.incremental)Re.push(...B.incremental);else if(B.full.length)Re.push("- <changed> iframe [ref="+K.iframeRefs[b]+"]:",...B.full.map((b=>"  "+b)))}}for(const b of K.full.split("\n")){const B=b.match(/^(\s*)- iframe (?:\[active\] )?\[ref=([^\]]*)\]/);if(!B){Qe.push(b);continue}const F=B[1];const se=B[2];const Re=oe[K.iframeRefs.indexOf(se)]??{full:[]};Qe.push(Re.full.length?b+":":b);Qe.push(...Re.full.map((b=>F+"  "+b)))}return{full:Qe,incremental:Re}}async function snapshotFrameRefForAI(b,B,F,K){const se=`aria-ref=${F} >> internal:control=enter-frame`;const oe=`${se} >> body`;const Qe=await b.race(B.selectors.resolveFrameForSelector(oe,{strict:true}));if(!Qe)return{full:[]};try{return await snapshotFrameForAI(b,Qe.frame,K)}catch{return{full:[]}}}function ensureArrayLimit(b,B){if(b.length>B)return b.splice(0,B/10);return[]}0&&0},3954:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{PipeTransport:()=>PipeTransport});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(6877);class PipeTransport{constructor(b,B){this._pendingBuffers=[];this._waitForNextTask=(0,Me.makeWaitForNextTask)();this._closed=false;this._pipeRead=B;this._pipeWrite=b;B.on("data",(b=>this._dispatch(b)));B.on("close",(()=>{this._closed=true;if(this._onclose)this._onclose.call(null)}));B.on("error",(b=>Le.debugLogger.log("error",b)));b.on("error",(b=>Le.debugLogger.log("error",b)));this.onmessage=void 0}get onclose(){return this._onclose}set onclose(b){this._onclose=b;if(b&&!this._pipeRead.readable)b()}send(b){if(this._closed)throw new Error("Pipe has been closed");this._pipeWrite.write(JSON.stringify(b));this._pipeWrite.write("\0")}close(){throw new Error("unimplemented")}_dispatch(b){let B=b.indexOf("\0");if(B===-1){this._pendingBuffers.push(b);return}this._pendingBuffers.push(b.slice(0,B));const F=Buffer.concat(this._pendingBuffers).toString();this._waitForNextTask((()=>{if(this.onmessage)this.onmessage.call(null,JSON.parse(F))}));let K=B+1;B=b.indexOf("\0",K);while(B!==-1){const F=b.toString(void 0,K,B);this._waitForNextTask((()=>{if(this.onmessage)this.onmessage.call(null,JSON.parse(F))}));K=B+1;B=b.indexOf("\0",K)}this._pendingBuffers=[b.slice(K)]}}0&&0},9245:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Playwright:()=>Playwright,createPlaywright:()=>createPlaywright});b.exports=__toCommonJS(Re);var Me=F(83);var Le=F(287);var We=F(7241);var Ge=F(1888);var ze=F(633);var $e=F(9179);var Ye=F(6974);var Ke=F(9211);var Xe=F(6938);var et=F(3853);class Playwright extends Xe.SdkObject{constructor(b){super((0,Xe.createRootSdkObject)(),void 0,"Playwright");this._allPages=new Set;this._allBrowsers=new Set;this.options=b;this.attribution.playwright=this;this.instrumentation.addListener({onBrowserOpen:b=>this._allBrowsers.add(b),onBrowserClose:b=>this._allBrowsers.delete(b),onPageOpen:b=>this._allPages.add(b),onPageClose:b=>this._allPages.delete(b)},null);this.chromium=new ze.Chromium(this,new We.BidiChromium(this));this.firefox=new Ke.Firefox(this,new Ge.BidiFirefox(this));this.webkit=new et.WebKit(this);this.electron=new Ye.Electron(this);this.android=new Me.Android(this,new Le.AdbBackend);this.debugController=new $e.DebugController(this)}allBrowsers(){return[...this._allBrowsers]}allPages(){return[...this._allPages]}}function createPlaywright(b){return new Playwright(b)}0&&0},9757:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ProgressController:()=>ProgressController,isAbortError:()=>isAbortError,raceUncancellableOperationWithCleanup:()=>raceUncancellableOperationWithCleanup});b.exports=__toCommonJS(Re);var Me=F(541);var Le=F(3143);var We=F(1871);class ProgressController{constructor(b,B){this._forceAbortPromise=new We.ManualPromise;this._donePromise=new We.ManualPromise;this._state="before";this.metadata=b||{id:"",startTime:0,endTime:0,type:"Internal",method:"",params:{},log:[],internal:true};this._onCallLog=B;this._forceAbortPromise.catch((b=>null))}async abort(b){if(this._state==="running"){b[Ge]=true;this._state={error:b};this._forceAbortPromise.reject(b)}await this._donePromise}async run(b,B){(0,Le.assert)(this._state==="before");this._state="running";const F={log:b=>{if(this._state==="running")this.metadata.log.push(b);this._onCallLog?.(b)},metadata:this.metadata,race:b=>{const B=Array.isArray(b)?b:[b];return Promise.race([...B,this._forceAbortPromise])},wait:async b=>{let B;const K=new Promise((F=>B=setTimeout(F,b)));return F.race(K).finally((()=>clearTimeout(B)))}};let K;if(B){const b=new Me.TimeoutError(`Timeout ${B}ms exceeded.`);K=setTimeout((()=>{if(this._state==="running"){b[Ge]=true;this._state={error:b};this._forceAbortPromise.reject(b)}}),B)}try{const B=await b(F);this._state="finished";return B}catch(b){this._state={error:b};throw b}finally{clearTimeout(K);this._donePromise.resolve()}}}const Ge=Symbol("kAbortError");function isAbortError(b){return!!b[Ge]}async function raceUncancellableOperationWithCleanup(b,B,F){let K=false;try{return await b.race(B().then((async b=>{if(K)await F(b);return b})))}catch(b){K=true;throw b}}0&&0},6390:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ProtocolError:()=>ProtocolError,isProtocolError:()=>isProtocolError,isSessionClosedError:()=>isSessionClosedError});b.exports=__toCommonJS(Re);var Me=F(4395);class ProtocolError extends Error{constructor(b,B,F){super();this.type=b;this.method=B;this.logs=F}setMessage(b){(0,Me.rewriteErrorMessage)(this,`Protocol error (${this.method}): ${b}`)}browserLogMessage(){return this.logs?"\nBrowser logs:\n"+this.logs:""}}function isProtocolError(b){return b instanceof ProtocolError}function isSessionClosedError(b){return b instanceof ProtocolError&&(b.type==="closed"||b.type==="crashed")}0&&0},1260:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Recorder:()=>Recorder,RecorderEvent:()=>pt});b.exports=__toCommonJS(Le);var We=__toESM(F(4434));var Ge=__toESM(F(9896));var ze=F(3143);var $e=F(3021);var Ye=F(2309);var Ke=F(408);var Xe=F(1285);var et=F(3168);var rt=F(9757);var it=F(253);var ot=__toESM(F(2708));var at=F(3143);var lt=F(7416);var ut=F(45);var dt=F(8399);const ht=Symbol("recorderSymbol");const pt={PausedStateChanged:"pausedStateChanged",ModeChanged:"modeChanged",ElementPicked:"elementPicked",CallLogsUpdated:"callLogsUpdated",UserSourcesChanged:"userSourcesChanged",ActionAdded:"actionAdded",SignalAdded:"signalAdded",PageNavigated:"pageNavigated",ContextClosed:"contextClosed"};class Recorder extends We.default{constructor(b,B){super();this._highlightedElement={};this._overlayState={offsetX:0};this._currentCallsMetadata=new Map;this._userSources=new Map;this._omitCallTracking=false;this._currentLanguage="javascript";this._pageAliases=new Map;this._lastPopupOrdinal=0;this._lastDialogOrdinal=-1;this._lastDownloadOrdinal=-1;this._listeners=[];this._enabled=false;this._callLogs=[];this._context=b;this._params=B;this._mode=B.mode||"none";this._recorderMode=B.recorderMode??"default";this.handleSIGINT=B.handleSIGINT;this._signalProcessor=new it.RecorderSignalProcessor({addAction:b=>{if(this._enabled)this.emit(pt.ActionAdded,b)},addSignal:b=>{if(this._enabled)this.emit(pt.SignalAdded,b)}});b.on($e.BrowserContext.Events.BeforeClose,(()=>{this.emit(pt.ContextClosed)}));this._listeners.push(at.eventsHelper.addEventListener(process,"exit",(()=>{this.emit(pt.ContextClosed)})));this._setEnabled(B.mode==="recording");this._omitCallTracking=!!B.omitCallTracking;this._debugger=b.debugger();b.instrumentation.addListener(this,b);if((0,ze.isUnderTest)()){this._overlayState.offsetX=200}}static forContext(b,B){let F=b[ht];if(!F){F=Recorder._create(b,B);b[ht]=F}return F}static async existingForContext(b){const B=b[ht];return await B}static async _create(b,B={}){const F=new Recorder(b,B);await F._install();return F}async _install(){this.emit(pt.ModeChanged,this._mode);this.emit(pt.PausedStateChanged,this._debugger.isPaused());this._context.once($e.BrowserContext.Events.Close,(()=>{at.eventsHelper.removeEventListeners(this._listeners);this._context.instrumentation.removeListener(this);this.emit(pt.ContextClosed)}));const b=new rt.ProgressController;await b.run((async b=>{await this._context.exposeBinding(b,"__pw_recorderState",false,(async b=>{let B;let F;const K=[...this._currentCallsMetadata.keys()].some(isScreenshotCommand);if(!K){B=await this._scopeHighlightedSelectorToFrame(b.frame);for(const[K,se]of this._currentCallsMetadata){if(b.page===se.attribution.page){F=K.point||F;B=B||K.params.selector}}}const se={mode:this._mode,actionPoint:F,actionSelector:B,ariaTemplate:this._highlightedElement.ariaTemplate,language:this._currentLanguage,testIdAttributeName:this._testIdAttributeName(),overlay:this._overlayState};return se}));await this._context.exposeBinding(b,"__pw_recorderElementPicked",false,(async({frame:b},B)=>{const F=await(0,Ke.generateFrameSelector)(b);this.emit(pt.ElementPicked,{selector:(0,Ke.buildFullSelector)(F,B.selector),ariaSnapshot:B.ariaSnapshot},true)}));await this._context.exposeBinding(b,"__pw_recorderSetMode",false,(async({frame:b},B)=>{if(b.parentFrame())return;this.setMode(B)}));await this._context.exposeBinding(b,"__pw_recorderSetOverlayState",false,(async({frame:b},B)=>{if(b.parentFrame())return;this._overlayState=B}));await this._context.exposeBinding(b,"__pw_resume",false,(()=>{this._debugger.resume(false)}));this._context.on($e.BrowserContext.Events.Page,(b=>this._onPage(b)));for(const b of this._context.pages())this._onPage(b);this._context.dialogManager.addDialogHandler((b=>{this._onDialog(b.page());return false}));await this._context.exposeBinding(b,"__pw_recorderPerformAction",false,((b,B)=>this._performAction(b.frame,B)));await this._context.exposeBinding(b,"__pw_recorderRecordAction",false,((b,B)=>this._recordAction(b.frame,B)));await this._context.extendInjectedScript(ot.source,{recorderMode:this._recorderMode})}));if(this._debugger.isPaused())this._pausedStateChanged();this._debugger.on(Ye.Debugger.Events.PausedStateChanged,(()=>this._pausedStateChanged()))}_pausedStateChanged(){for(const{metadata:b,sdkObject:B}of this._debugger.pausedDetails()){if(!this._currentCallsMetadata.has(b))this.onBeforeCall(B,b)}this.emit(pt.PausedStateChanged,this._debugger.isPaused());this._updateUserSources();this.updateCallLog([...this._currentCallsMetadata.keys()])}mode(){return this._mode}setMode(b){if(this._mode===b)return;this._highlightedElement={};this._mode=b;this.emit(pt.ModeChanged,this._mode);this._setEnabled(this._isRecording());this._debugger.setMuted(this._isRecording());if(this._mode!=="none"&&this._mode!=="standby"&&this._context.pages().length===1)this._context.pages()[0].bringToFront().catch((()=>{}));this._refreshOverlay()}url(){const b=this._context.pages()[0];return b?.mainFrame().url()}setHighlightedSelector(b){this._highlightedElement={selector:(0,Xe.locatorOrSelectorAsSelector)(this._currentLanguage,b,this._context.selectors().testIdAttributeName())};this._refreshOverlay()}setHighlightedAriaTemplate(b){this._highlightedElement={ariaTemplate:b};this._refreshOverlay()}step(){this._debugger.resume(true)}setLanguage(b){this._currentLanguage=b;this._refreshOverlay()}resume(){this._debugger.resume(false)}pause(){this._debugger.pauseOnNextStatement()}paused(){return this._debugger.isPaused()}close(){this._debugger.resume(false)}hideHighlightedSelector(){this._highlightedElement={};this._refreshOverlay()}pausedSourceId(){for(const{metadata:b}of this._debugger.pausedDetails()){if(!b.location)continue;const B=this._userSources.get(b.location.file);if(!B)continue;return B.id}}userSources(){return[...this._userSources.values()]}callLog(){return this._callLogs}async _scopeHighlightedSelectorToFrame(b){if(!this._highlightedElement.selector)return;try{const B=b._page.mainFrame();const F=await B.selectors.resolveFrameForSelector(this._highlightedElement.selector);if(!F)return"";if(F?.frame===B)return(0,et.stringifySelector)(F.info.parsed);if(F?.frame===b)return(0,et.stringifySelector)(F.info.parsed);return""}catch{return""}}_refreshOverlay(){for(const b of this._context.pages()){for(const B of b.frames())B.evaluateExpression("window.__pw_refreshOverlay()").catch((()=>{}))}}async onBeforeCall(b,B){if(this._omitCallTracking||this._isRecording())return;this._currentCallsMetadata.set(B,b);this._updateUserSources();this.updateCallLog([B]);if(isScreenshotCommand(B))this.hideHighlightedSelector();else if(B.params&&B.params.selector)this._highlightedElement={selector:B.params.selector}}async onAfterCall(b,B){if(this._omitCallTracking||this._isRecording())return;if(!B.error)this._currentCallsMetadata.delete(B);this._updateUserSources();this.updateCallLog([B])}_updateUserSources(){for(const b of this._userSources.values()){b.highlight=[];b.revealLine=void 0}for(const b of this._currentCallsMetadata.keys()){if(!b.location)continue;const{file:B,line:F}=b.location;let K=this._userSources.get(B);if(!K){K={isRecorded:false,label:B,id:B,text:this._readSource(B),highlight:[],language:languageForFile(B)};this._userSources.set(B,K)}if(F){const B=this._debugger.isPaused(b);K.highlight.push({line:F,type:b.error?"error":B?"paused":"running"});K.revealLine=F}}this.emit(pt.UserSourcesChanged,this.userSources(),this.pausedSourceId())}async onBeforeInputAction(b,B){}async onCallLog(b,B,F,K){this.updateCallLog([B])}updateCallLog(b){if(this._isRecording())return;const B=[];for(const F of b){if(!F.method||F.internal)continue;let b="done";if(this._currentCallsMetadata.has(F))b="in-progress";if(this._debugger.isPaused(F))b="paused";B.push((0,Ke.metadataToCallLog)(F,b))}this._callLogs=B;this.emit(pt.CallLogsUpdated,B)}_isRecording(){return["recording","assertingText","assertingVisibility","assertingValue","assertingSnapshot"].includes(this._mode)}_readSource(b){try{return Ge.default.readFileSync(b,"utf-8")}catch(b){return"// No source available"}}_setEnabled(b){this._enabled=b}async _onPage(b){const B=b.mainFrame();b.on(ut.Page.Events.Close,(()=>{this._signalProcessor.addAction({frame:this._describeMainFrame(b),action:{name:"closePage",signals:[]},startTime:(0,at.monotonicTime)()});this._pageAliases.delete(b);this._filePrimaryURLChanged()}));B.on(lt.Frame.Events.InternalNavigation,(F=>{if(F.isPublic){this._onFrameNavigated(B,b);this._filePrimaryURLChanged()}}));b.on(ut.Page.Events.Download,(()=>this._onDownload(b)));const F=this._pageAliases.size?String(++this._lastPopupOrdinal):"";const K="page"+F;this._pageAliases.set(b,K);if(b.opener()){this._onPopup(b.opener(),b)}else{this._signalProcessor.addAction({frame:this._describeMainFrame(b),action:{name:"openPage",url:b.mainFrame().url(),signals:[]},startTime:(0,at.monotonicTime)()})}this._filePrimaryURLChanged()}_filePrimaryURLChanged(){const b=this._context.pages()[0];this.emit(pt.PageNavigated,b?.mainFrame().url())}clear(){if(this._params.mode==="recording"){for(const b of this._context.pages())this._onFrameNavigated(b.mainFrame(),b)}}_describeMainFrame(b){return{pageGuid:b.guid,pageAlias:this._pageAliases.get(b),framePath:[]}}async _describeFrame(b){return{pageGuid:b._page.guid,pageAlias:this._pageAliases.get(b._page),framePath:await(0,Ke.generateFrameSelector)(b)}}_testIdAttributeName(){return this._params.testIdAttributeName||this._context.selectors().testIdAttributeName()||"data-testid"}async _createActionInContext(b,B){const F=await this._describeFrame(b);const K={frame:F,action:B,description:void 0,startTime:(0,at.monotonicTime)()};return K}async _performAction(b,B){const F=await this._createActionInContext(b,B);this._signalProcessor.addAction(F);if(F.action.name!=="openPage"&&F.action.name!=="closePage")await(0,dt.performAction)(this._pageAliases,F);F.endTime=(0,at.monotonicTime)()}async _recordAction(b,B){const F=await this._createActionInContext(b,B);this._signalProcessor.addAction(F)}_onFrameNavigated(b,B){const F=this._pageAliases.get(B);this._signalProcessor.signal(F,b,{name:"navigation",url:b.url()})}_onPopup(b,B){const F=this._pageAliases.get(b);const K=this._pageAliases.get(B);this._signalProcessor.signal(F,b.mainFrame(),{name:"popup",popupAlias:K})}_onDownload(b){const B=this._pageAliases.get(b);++this._lastDownloadOrdinal;this._signalProcessor.signal(B,b.mainFrame(),{name:"download",downloadAlias:this._lastDownloadOrdinal?String(this._lastDownloadOrdinal):""})}_onDialog(b){const B=this._pageAliases.get(b);++this._lastDialogOrdinal;this._signalProcessor.signal(B,b.mainFrame(),{name:"dialog",dialogAlias:this._lastDialogOrdinal?String(this._lastDialogOrdinal):""})}}function isScreenshotCommand(b){return b.method.toLowerCase().includes("screenshot")}function languageForFile(b){if(b.endsWith(".py"))return"python";if(b.endsWith(".java"))return"java";if(b.endsWith(".cs"))return"csharp";return"javascript"}0&&0},5990:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{ProgrammaticRecorderApp:()=>ProgrammaticRecorderApp,RecorderApp:()=>RecorderApp});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(3113);var $e=F(6327);var Ye=F(3418);var Ke=F(3418);var Xe=F(9757);var et=F(473);var rt=F(3617);var it=F(408);var ot=F(9282);var at=F(1260);var lt=F(3021);class RecorderApp{constructor(b,B,F,K){this._throttledOutputFile=null;this._actions=[];this._userSources=[];this._recorderSources=[];this._page=F;this._recorder=b;this.wsEndpointForTest=K;this._languageGeneratorOptions={browserName:B.browserName,launchOptions:{headless:false,...B.launchOptions,tracesDir:void 0},contextOptions:{...B.contextOptions},deviceName:B.device,saveStorage:B.saveStorage};this._throttledOutputFile=B.outputFile?new et.ThrottledFile(B.outputFile):null;this._primaryGeneratorId=process.env.TEST_INSPECTOR_LANGUAGE||B.language||determinePrimaryGeneratorId(B.sdkLanguage);this._selectedGeneratorId=this._primaryGeneratorId}async _init(b){await(0,Ye.syncLocalStorageWithSettings)(this._page,"recorder");const B=new Xe.ProgressController;await B.run((async B=>{await this._page.addRequestInterceptor(B,(b=>{if(!b.request().url().startsWith("https://playwright/")){b.continue({isFallback:true}).catch((()=>{}));return}const B=b.request().url().substring("https://playwright/".length);const F=require.resolve("../../vite/recorder/"+B);We.default.promises.readFile(F).then((B=>{b.fulfill({status:200,headers:[{name:"Content-Type",value:$e.mime.getType(Ge.default.extname(F))||"application/octet-stream"}],body:B.toString("base64"),isBase64:true}).catch((()=>{}))}))}));await this._page.exposeBinding(B,"dispatch",false,((b,B)=>this._handleUIEvent(B)));this._page.once("close",(()=>{this._recorder.close();this._page.browserContext.close({reason:"Recorder window closed"}).catch((()=>{}));delete b[ut]}));await this._page.mainFrame().goto(B,"https://playwright/index.html")}));const F=this._recorder.url();if(F)this._onPageNavigated(F);this._onModeChanged(this._recorder.mode());this._onPausedStateChanged(this._recorder.paused());this._updateActions("reveal");this._onUserSourcesChanged(this._recorder.userSources(),this._recorder.pausedSourceId());this._onCallLogsUpdated(this._recorder.callLog());this._wireListeners(this._recorder)}_handleUIEvent(b){if(b.event==="clear"){this._actions=[];this._updateActions("reveal");this._recorder.clear();return}if(b.event==="fileChanged"){const B=[...this._recorderSources,...this._userSources].find((B=>B.id===b.params.fileId));if(B){if(B.isRecorded)this._selectedGeneratorId=B.id;this._recorder.setLanguage(B.language)}return}if(b.event==="setAutoExpect"){this._languageGeneratorOptions.generateAutoExpect=b.params.autoExpect;this._updateActions();return}if(b.event==="setMode"){this._recorder.setMode(b.params.mode);return}if(b.event==="resume"){this._recorder.resume();return}if(b.event==="pause"){this._recorder.pause();return}if(b.event==="step"){this._recorder.step();return}if(b.event==="highlightRequested"){if(b.params.selector)this._recorder.setHighlightedSelector(b.params.selector);if(b.params.ariaTemplate)this._recorder.setHighlightedAriaTemplate(b.params.ariaTemplate);return}throw new Error(`Unknown event: ${b.event}`)}static async show(b,B){if(process.env.PW_CODEGEN_NO_INSPECTOR)return;const F=await at.Recorder.forContext(b,B);if(B.recorderMode==="api"){const K=b._browser.options.name;await ProgrammaticRecorderApp.run(b,F,K,B);return}await RecorderApp._show(F,b,B)}async close(){await this._page.close()}static showInspectorNoReply(b){if(process.env.PW_CODEGEN_NO_INSPECTOR)return;void at.Recorder.forContext(b,{}).then((B=>RecorderApp._show(B,b,{}))).catch((()=>{}))}static async _show(b,B,K){if(B[ut])return;B[ut]=true;const se=B._browser.sdkLanguage();const oe=!!B._browser.options.headful;const Qe=F(9245).createPlaywright({sdkLanguage:"javascript",isInternalPlaywright:true});const{context:Re,page:Me}=await(0,Ke.launchApp)(Qe.chromium,{sdkLanguage:se,windowSize:{width:600,height:600},windowPosition:{x:1020,y:10},persistentContextOptions:{noDefaultViewport:true,headless:!!process.env.PWTEST_CLI_HEADLESS||(0,ze.isUnderTest)()&&!oe,cdpPort:(0,ze.isUnderTest)()?0:void 0,handleSIGINT:K.handleSIGINT,executablePath:B._browser.options.isChromium?B._browser.options.customExecutablePath:void 0,channel:B._browser.options.isChromium?B._browser.options.channel:void 0}});const Le=new Xe.ProgressController;await Le.run((async b=>{await Re._browser._defaultContext._loadDefaultContextAsIs(b)}));const We={browserName:B._browser.options.name,sdkLanguage:B._browser.sdkLanguage(),wsEndpointForTest:B._browser.options.wsEndpoint,headed:!!B._browser.options.headful,executablePath:B._browser.options.isChromium?B._browser.options.customExecutablePath:void 0,channel:B._browser.options.isChromium?B._browser.options.channel:void 0,...K};const Ge=new RecorderApp(b,We,Me,Re._browser.options.wsEndpoint);await Ge._init(B);B.recorderAppForTest=Ge}_wireListeners(b){b.on(at.RecorderEvent.ActionAdded,(b=>{this._onActionAdded(b)}));b.on(at.RecorderEvent.SignalAdded,(b=>{this._onSignalAdded(b)}));b.on(at.RecorderEvent.PageNavigated,(b=>{this._onPageNavigated(b)}));b.on(at.RecorderEvent.ContextClosed,(()=>{this._onContextClosed()}));b.on(at.RecorderEvent.ModeChanged,(b=>{this._onModeChanged(b)}));b.on(at.RecorderEvent.PausedStateChanged,(b=>{this._onPausedStateChanged(b)}));b.on(at.RecorderEvent.UserSourcesChanged,((b,B)=>{this._onUserSourcesChanged(b,B)}));b.on(at.RecorderEvent.ElementPicked,((b,B)=>{this._onElementPicked(b,B)}));b.on(at.RecorderEvent.CallLogsUpdated,(b=>{this._onCallLogsUpdated(b)}))}_onActionAdded(b){this._actions.push(b);this._updateActions("reveal")}_onSignalAdded(b){const B=this._actions.findLast((B=>B.frame.pageGuid===b.frame.pageGuid));if(B)B.action.signals.push(b.signal);this._updateActions()}_onPageNavigated(b){this._page.mainFrame().evaluateExpression((({url:b})=>{window.playwrightSetPageURL(b)}).toString(),{isFunction:true},{url:b}).catch((()=>{}))}_onContextClosed(){this._throttledOutputFile?.flush();this._page.browserContext.close({reason:"Recorder window closed"}).catch((()=>{}))}_onModeChanged(b){this._page.mainFrame().evaluateExpression((b=>{window.playwrightSetMode(b)}).toString(),{isFunction:true},b).catch((()=>{}))}_onPausedStateChanged(b){this._page.mainFrame().evaluateExpression((b=>{window.playwrightSetPaused(b)}).toString(),{isFunction:true},b).catch((()=>{}))}_onUserSourcesChanged(b,B){if(!b.length&&!this._userSources.length)return;this._userSources=b;this._pushAllSources();this._revealSource(B)}_onElementPicked(b,B){if(B)this._page.bringToFront();this._page.mainFrame().evaluateExpression((b=>{window.playwrightElementPicked(b.elementInfo,b.userGesture)}).toString(),{isFunction:true},{elementInfo:b,userGesture:B}).catch((()=>{}))}_onCallLogsUpdated(b){this._page.mainFrame().evaluateExpression((b=>{window.playwrightUpdateLogs(b)}).toString(),{isFunction:true},b).catch((()=>{}))}_pushAllSources(){const b=[...this._userSources,...this._recorderSources];this._page.mainFrame().evaluateExpression((({sources:b})=>{window.playwrightSetSources(b)}).toString(),{isFunction:true},{sources:b}).catch((()=>{}))}_revealSource(b){if(!b)return;this._page.mainFrame().evaluateExpression((({sourceId:b})=>{window.playwrightSelectSource(b)}).toString(),{isFunction:true},{sourceId:b}).catch((()=>{}))}_updateActions(b){const B=[];const F=(0,it.collapseActions)(this._actions);let K;for(const se of(0,rt.languageSet)()){const{header:oe,footer:Qe,actionTexts:Re,text:Me}=(0,ot.generateCode)(F,se,this._languageGeneratorOptions);const Le={isRecorded:true,label:se.name,group:se.groupName,id:se.id,text:Me,header:oe,footer:Qe,actions:Re,language:se.highlighter,highlight:[]};Le.revealLine=Me.split("\n").length-1;B.push(Le);if(se.id===this._primaryGeneratorId)this._throttledOutputFile?.setContent(Le.text);if(b==="reveal"&&Le.id===this._selectedGeneratorId)K=Le.id}this._recorderSources=B;this._pushAllSources();this._revealSource(K)}}function determinePrimaryGeneratorId(b){for(const B of(0,rt.languageSet)()){if(B.highlighter===b)return B.id}return b}class ProgrammaticRecorderApp{static async run(b,B,F,K){let se=null;const oe=[...(0,rt.languageSet)()];const Qe={browserName:F,launchOptions:{headless:false,...K.launchOptions,tracesDir:void 0},contextOptions:{...K.contextOptions},deviceName:K.device,saveStorage:K.saveStorage};const Re=oe.find((b=>b.id===K.language))??oe.find((b=>b.id==="playwright-test"));B.on(at.RecorderEvent.ActionAdded,(B=>{const F=findPageByGuid(b,B.frame.pageGuid);if(!F)return;const{actionTexts:K}=(0,ot.generateCode)([B],Re,Qe);if(!se||!(0,it.shouldMergeAction)(B,se))b.emit(lt.BrowserContext.Events.RecorderEvent,{event:"actionAdded",data:B,page:F,code:K.join("\n")});else b.emit(lt.BrowserContext.Events.RecorderEvent,{event:"actionUpdated",data:B,page:F,code:K.join("\n")});se=B}));B.on(at.RecorderEvent.SignalAdded,(B=>{const F=findPageByGuid(b,B.frame.pageGuid);b.emit(lt.BrowserContext.Events.RecorderEvent,{event:"signalAdded",data:B,page:F,code:""})}))}}function findPageByGuid(b,B){return b.pages().find((b=>b.guid===B))}const ut=Symbol("recorderApp");0&&0},8399:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{performAction:()=>performAction,toClickOptions:()=>toClickOptions});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(9282);var We=F(408);var Ge=F(9757);async function performAction(b,B){const F=(0,We.mainFrameForAction)(b,B);const K=new Ge.ProgressController;const se=5e3;return await K.run((b=>performActionImpl(b,F,B)),se)}async function performActionImpl(b,B,F){const{action:K}=F;if(K.name==="navigate"){await B.goto(b,K.url);return}if(K.name==="openPage")throw Error("Not reached");if(K.name==="closePage"){await B._page.close();return}const se=(0,We.buildFullSelector)(F.frame.framePath,K.selector);if(K.name==="click"){const F=toClickOptions(K);await B.click(b,se,{...F,strict:true});return}if(K.name==="hover"){await B.hover(b,se,{position:K.position,strict:true});return}if(K.name==="press"){const F=(0,Le.toKeyboardModifiers)(K.modifiers);const oe=[...F,K.key].join("+");await B.press(b,se,oe,{strict:true});return}if(K.name==="fill"){await B.fill(b,se,K.text,{strict:true});return}if(K.name==="setInputFiles"){await B.setInputFiles(b,se,{selector:se,payloads:[],strict:true});return}if(K.name==="check"){await B.check(b,se,{strict:true});return}if(K.name==="uncheck"){await B.uncheck(b,se,{strict:true});return}if(K.name==="select"){const F=K.options.map((b=>({value:b})));await B.selectOption(b,se,[],F,{strict:true});return}if(K.name==="assertChecked"){await B.expect(b,se,{selector:se,expression:"to.be.checked",expectedValue:{checked:K.checked},isNot:!K.checked});return}if(K.name==="assertText"){await B.expect(b,se,{selector:se,expression:"to.have.text",expectedText:(0,Me.serializeExpectedTextValues)([K.text],{matchSubstring:true,normalizeWhiteSpace:true}),isNot:false});return}if(K.name==="assertValue"){await B.expect(b,se,{selector:se,expression:"to.have.value",expectedValue:K.value,isNot:false});return}if(K.name==="assertVisible"){await B.expect(b,se,{selector:se,expression:"to.be.visible",isNot:false});return}throw new Error("Internal error: unexpected action "+K.name)}function toClickOptions(b){const B=(0,Le.toKeyboardModifiers)(b.modifiers);const F={};if(b.button!=="left")F.button=b.button;if(B.length)F.modifiers=B;if(b.clickCount>1)F.clickCount=b.clickCount;if(b.position)F.position=b.position;return F}0&&0},253:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{RecorderSignalProcessor:()=>RecorderSignalProcessor});b.exports=__toCommonJS(Re);var Me=F(3113);var Le=F(4419);var We=F(408);class RecorderSignalProcessor{constructor(b){this._lastAction=null;this._delegate=b}addAction(b){this._lastAction=b;this._delegate.addAction(b)}signal(b,B,F){const K=(0,Le.monotonicTime)();if(F.name==="navigation"&&B._page.mainFrame()===B){const F=this._lastAction;const se=(0,Me.isUnderTest)()?500:5e3;let oe=false;if(!F)oe=true;else if(F.action.name!=="click"&&F.action.name!=="press"&&F.action.name!=="fill")oe=true;else if(K-F.startTime>se)oe=true;if(oe){this.addAction({frame:{pageGuid:B._page.guid,pageAlias:b,framePath:[]},action:{name:"navigate",url:B.url(),signals:[]},startTime:K,endTime:K})}return}(0,We.generateFrameSelector)(B).then((se=>{const oe={frame:{pageGuid:B._page.guid,pageAlias:b,framePath:se},signal:F,timestamp:K};this._delegate.addSignal(oe)}))}}0&&0},408:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{buildFullSelector:()=>buildFullSelector,collapseActions:()=>collapseActions,frameForAction:()=>frameForAction,generateFrameSelector:()=>generateFrameSelector,mainFrameForAction:()=>mainFrameForAction,metadataToCallLog:()=>metadataToCallLog,shouldMergeAction:()=>shouldMergeAction});b.exports=__toCommonJS(Re);var Me=F(5254);var Le=F(3143);var We=F(9965);function buildFullSelector(b,B){return[...b,B].join(" >> internal:control=enter-frame >> ")}function metadataToCallLog(b,B){const F=(0,Me.renderTitleForCall)(b);if(b.error)B="error";const K={url:b.params?.url,selector:b.params?.selector};let se=b.endTime?b.endTime-b.startTime:void 0;if(typeof se==="number"&&b.pauseStartTime&&b.pauseEndTime){se-=b.pauseEndTime-b.pauseStartTime;se=Math.max(se,0)}const oe={id:b.id,messages:b.log,title:F??"",status:B,error:b.error?.error?.message,params:K,duration:se};return oe}function mainFrameForAction(b,B){const F=B.frame.pageAlias;const K=[...b.entries()].find((([,b])=>F===b))?.[0];if(!K)throw new Error(`Internal error: page ${F} not found in [${[...b.values()]}]`);return K.mainFrame()}async function frameForAction(b,B,F){const K=B.frame.pageAlias;const se=[...b.entries()].find((([,b])=>K===b))?.[0];if(!se)throw new Error("Internal error: page not found");const oe=buildFullSelector(B.frame.framePath,F.selector);const Qe=await se.mainFrame().selectors.resolveFrameForSelector(oe);if(!Qe)throw new Error("Internal error: frame not found");return Qe.frame}function isSameAction(b,B){return b.action.name===B.action.name&&b.frame.pageAlias===B.frame.pageAlias&&b.frame.framePath.join("|")===B.frame.framePath.join("|")}function isSameSelector(b,B){return"selector"in b.action&&"selector"in B.action&&b.action.selector===B.action.selector}function isShortlyAfter(b,B){return b.startTime-B.startTime<500}function shouldMergeAction(b,B){if(!B)return false;switch(b.action.name){case"fill":return isSameAction(b,B)&&isSameSelector(b,B);case"navigate":return isSameAction(b,B);case"click":return isSameAction(b,B)&&isSameSelector(b,B)&&isShortlyAfter(b,B)&&b.action.clickCount>B.action.clickCount}return false}function collapseActions(b){const B=[];for(const F of b){const b=B[B.length-1];const K=shouldMergeAction(F,b);if(!K){B.push(F);continue}const se=B[B.length-1].startTime;B[B.length-1]=F;B[B.length-1].startTime=se}return B}async function generateFrameSelector(b){const B=[];while(b){const F=b.parentFrame();if(!F)break;B.push(generateFrameSelectorInParent(F,b));b=F}const F=await Promise.all(B);return F.reverse()}async function generateFrameSelectorInParent(b,B){const F=await(0,We.raceAgainstDeadline)((async()=>{try{const F=await B.frameElement();if(!F||!b)return;const K=await b._utilityContext();const se=await K.injectedScript();const oe=await se.evaluate(((b,B)=>b.generateSelectorSimple(B)),F);return oe}catch(b){}}),(0,Le.monotonicTime)()+2e3);if(!F.timedOut&&F.result)return F.result;if(B.name())return`iframe[name=${(0,Le.quoteCSSAttributeValue)(B.name())}]`;return`iframe[src=${(0,Le.quoteCSSAttributeValue)(B.url())}]`}0&&0},473:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{ThrottledFile:()=>ThrottledFile});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));class ThrottledFile{constructor(b){this._file=b}setContent(b){this._text=b;if(!this._timer)this._timer=setTimeout((()=>this.flush()),250)}flush(){if(this._timer){clearTimeout(this._timer);this._timer=void 0}if(this._text)We.default.writeFileSync(this._file,this._text);this._text=void 0}}0&&0},9599:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{downloadBrowserWithProgressBar:()=>downloadBrowserWithProgressBar,logPolitely:()=>logPolitely});b.exports=__toCommonJS(Le);var We=__toESM(F(7698));var Ge=__toESM(F(9896));var ze=__toESM(F(857));var $e=__toESM(F(6928));var Ye=F(6877);var Ke=F(1871);var Xe=F(6230);var et=F(6327);var rt=F(1245);var it=F(3230);async function downloadBrowserWithProgressBar(b,B,F,K,se,oe){if(await(0,rt.existsAsync)((0,it.browserDirectoryToMarkerFilePath)(B))){Ye.debugLogger.log("install",`${b} is already downloaded.`);return false}const Qe=await Ge.default.promises.mkdtemp($e.default.join(ze.default.tmpdir(),"playwright-download-"));const Re=$e.default.join(Qe,se);try{const se=5;for(let Qe=1;Qe<=se;++Qe){Ye.debugLogger.log("install",`downloading ${b} - attempt #${Qe}`);const Me=K[(Qe-1)%K.length];logPolitely(`Downloading ${b}`+et.colors.dim(` from ${Me}`));const{error:Le}=await downloadBrowserWithProgressBarOutOfProcess(b,B,Me,Re,F,oe);if(!Le){Ye.debugLogger.log("install",`SUCCESS installing ${b}`);break}if(await(0,rt.existsAsync)(Re))await Ge.default.promises.unlink(Re);if(await(0,rt.existsAsync)(B))await Ge.default.promises.rmdir(B,{recursive:true});const We=Le?.message||"";Ye.debugLogger.log("install",`attempt #${Qe} - ERROR: ${We}`);if(Qe>=se)throw Le}}catch(B){Ye.debugLogger.log("install",`FAILED installation ${b} with error: ${B}`);process.exitCode=1;throw B}finally{await(0,rt.removeFolders)([Qe])}logPolitely(`${b} downloaded to ${B}`);return true}function downloadBrowserWithProgressBarOutOfProcess(b,B,F,K,se,oe){const Qe=We.fork($e.default.join(__dirname,"oopDownloadBrowserMain.js"));const Re=new Ke.ManualPromise;const Me=getDownloadProgress();Qe.on("message",(b=>{if(b?.method==="log")Ye.debugLogger.log("install",b.params.message);if(b?.method==="progress")Me(b.params.done,b.params.total)}));Qe.on("exit",(b=>{if(b!==0){Re.resolve({error:new Error(`Download failure, code=${b}`)});return}if(!Ge.default.existsSync((0,it.browserDirectoryToMarkerFilePath)(B)))Re.resolve({error:new Error(`Download failure, ${(0,it.browserDirectoryToMarkerFilePath)(B)} does not exist`)});else Re.resolve({error:null})}));Qe.on("error",(b=>{Re.resolve({error:b})}));Ye.debugLogger.log("install",`running download:`);Ye.debugLogger.log("install",`-- from url: ${F}`);Ye.debugLogger.log("install",`-- to location: ${K}`);const Le={title:b,browserDirectory:B,url:F,zipPath:K,executablePath:se,socketTimeout:oe,userAgent:(0,Xe.getUserAgent)()};Qe.send({method:"download",params:Le});return Re}function logPolitely(b){const B=process.env.npm_config_loglevel;const F=["silent","error","warn"].indexOf(B||"")>-1;if(!F)console.log(b)}function getDownloadProgress(){if(process.stdout.isTTY)return getAnimatedDownloadProgress();return getBasicDownloadProgress()}function getAnimatedDownloadProgress(){let b;let B=0;return(F,K)=>{if(!b){b=new et.progress(`${toMegabytes(K)} [:bar] :percent :etas`,{complete:"=",incomplete:" ",width:20,total:K})}const se=F-B;B=F;b.tick(se)}}function getBasicDownloadProgress(){const b=10;const B=8;let F=-1;return(K,se)=>{const oe=K/se;const Qe=Math.floor(b*oe);if(Qe>F){F=Qe;const K=String(oe*100|0).padStart(3);console.log(`|${"".repeat(Qe*B)}${" ".repeat((b-Qe)*B)}| ${K}% of ${toMegabytes(se)}`)}}}function toMegabytes(b){const B=b/1024/1024;return`${Math.round(B*10)/10} MiB`}0&&0},5653:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{dockerVersion:()=>dockerVersion,installDependenciesLinux:()=>installDependenciesLinux,installDependenciesWindows:()=>installDependenciesWindows,readDockerVersionSync:()=>readDockerVersionSync,transformCommandsForRoot:()=>transformCommandsForRoot,validateDependenciesLinux:()=>validateDependenciesLinux,validateDependenciesWindows:()=>validateDependenciesWindows,writeDockerVersion:()=>writeDockerVersion});b.exports=__toCommonJS(Le);var We=__toESM(F(7698));var Ge=__toESM(F(9896));var ze=__toESM(F(857));var $e=__toESM(F(6928));var Ye=F(9085);var Ke=F(1769);var Xe=F(6633);var et=F(4486);var rt=F(6230);var it=F(3230);const ot=$e.default.join(__dirname,"..","..","..","bin");const at=process.env.PW_CLI_DISPLAY_VERSION||F(9975).rE;const lt="/ms-playwright/.docker-info";async function writeDockerVersion(b){await Ge.default.promises.mkdir($e.default.dirname(lt),{recursive:true});await Ge.default.promises.writeFile(lt,JSON.stringify(dockerVersion(b),null,2),"utf8");await Ge.default.promises.chmod(lt,511)}function dockerVersion(b){return{driverVersion:at,dockerImageName:b.replace("%version%",at)}}function readDockerVersionSync(){try{const b=JSON.parse(Ge.default.readFileSync(lt,"utf8"));return{...b,dockerImageNameTemplate:b.dockerImageName.replace(b.driverVersion,"%version%")}}catch(b){return null}}const checkExecutable=b=>{if(process.platform==="win32")return b.endsWith(".exe");return Ge.default.promises.access(b,Ge.default.constants.X_OK).then((()=>true)).catch((()=>false))};function isSupportedWindowsVersion(){if(ze.default.platform()!=="win32"||ze.default.arch()!=="x64")return false;const[b,B]=ze.default.release().split(".").map((b=>parseInt(b,10)));return b>6||b===6&&B>1}async function installDependenciesWindows(b,B){if(b.has("chromium")){const b="powershell.exe";const F=["-ExecutionPolicy","Bypass","-File",$e.default.join(ot,"install_media_pack.ps1")];if(B){console.log(`${b} ${quoteProcessArgs(F).join(" ")}`);return}const{code:K}=await(0,et.spawnAsync)(b,F,{cwd:ot,stdio:"inherit"});if(K!==0)throw new Error("Failed to install windows dependencies!")}}async function installDependenciesLinux(b,B){const F=[];const K=Xe.hostPlatform;if(!Xe.isOfficiallySupportedPlatform)console.warn(`BEWARE: your OS is not officially supported by Playwright; installing dependencies for ${K} as a fallback.`);for(const B of b){const b=Ye.deps[K];if(!b){console.warn(`Cannot install dependencies for ${K} with Playwright ${(0,rt.getPlaywrightVersion)()}!`);return}F.push(...b[B])}const se=Array.from(new Set(F));if(!B)console.log(`Installing dependencies...`);const oe=[];oe.push("apt-get update");oe.push(["apt-get","install","-y","--no-install-recommends",...se].join(" "));const{command:Qe,args:Re,elevatedPermissions:Me}=await transformCommandsForRoot(oe);if(B){console.log(`${Qe} ${quoteProcessArgs(Re).join(" ")}`);return}if(Me)console.log("Switching to root user to install dependencies...");const Le=We.spawn(Qe,Re,{stdio:"inherit"});await new Promise(((b,B)=>{Le.on("exit",(F=>F===0?b():B(new Error(`Installation process exited with code: ${F}`))));Le.on("error",B)}))}async function validateDependenciesWindows(b,B){const F=B;const K=[];for(const b of F)K.push(...await executablesOrSharedLibraries(b));const se=await Promise.all(K.map((B=>missingFileDependenciesWindows(b,B))));const oe=new Set;for(const b of se){for(const B of b)oe.add(B)}if(!oe.size)return;let Qe=false;let Re=false;for(const b of oe){if(b.startsWith("api-ms-win-crt")||b==="vcruntime140.dll"||b==="vcruntime140_1.dll"||b==="msvcp140.dll")Qe=true;else if(b==="mf.dll"||b==="mfplat.dll"||b==="msmpeg2vdec.dll"||b==="evr.dll"||b==="avrt.dll")Re=true}const Me=[];if(Qe){Me.push(`Some of the Universal C Runtime files cannot be found on the system. You can fix`,`that by installing Microsoft Visual C++ Redistributable for Visual Studio from:`,`https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads`,``)}if(Re){Me.push(`Some of the Media Foundation files cannot be found on the system. If you are`,`on Windows Server try fixing this by running the following command in PowerShell`,`as Administrator:`,``,`    Install-WindowsFeature Server-Media-Foundation`,``,`For Windows N editions visit:`,`https://support.microsoft.com/en-us/help/3145500/media-feature-pack-list-for-windows-n-editions`,``)}Me.push(`Full list of missing libraries:`,`    ${[...oe].join("\n    ")}`,``);const Le=`Host system is missing dependencies!\n\n${Me.join("\n")}`;if(isSupportedWindowsVersion()){throw new Error(Le)}else{console.warn(`WARNING: running on unsupported windows version!`);console.warn(Le)}}async function validateDependenciesLinux(b,B,F){const K=B;const se=[];for(const b of K)se.push(...await executablesOrSharedLibraries(b));const oe=await Promise.all(se.map((b=>missingFileDependencies(b,K))));const Qe=new Set;for(const b of oe){for(const B of b)Qe.add(B)}for(const b of await missingDLOPENLibraries(F))Qe.add(b);if(!Qe.size)return;const Re=new Set(Qe);const Me=new Set;const Le=Ye.deps[Xe.hostPlatform]?{...Ye.deps[Xe.hostPlatform]?.lib2package||{},...ut}:{};for(const b of Qe){const B=Le[b];if(B){Me.add(B);Qe.delete(b)}}const We=process.getuid?.()&&ze.default.platform()!=="win32"?"sudo ":"";const Ge=readDockerVersionSync();const $e=[`Host system is missing dependencies to run browsers.`];if(Ge&&!Ge.driverVersion.startsWith((0,rt.getPlaywrightVersion)(true)+".")){const B=(0,rt.getPlaywrightVersion)();const F=Ge.dockerImageName.replace(Ge.driverVersion,B);$e.push(...[`This is most likely due to Docker image version not matching Playwright version:`,`- Playwright  : ${B}`,`- Docker image: ${Ge.driverVersion}`,``,`Either:`,`- (recommended) use Docker image "${F}"`,`- (alternative 1) run the following command inside Docker to install missing dependencies:`,``,`    ${We}${(0,it.buildPlaywrightCLICommand)(b,"install-deps")}`,``,`- (alternative 2) use apt inside Docker:`,``,`    ${We}apt-get install ${[...Me].join("\\\n        ")}`,``,`<3 Playwright Team`])}else if(Me.size&&!Qe.size){$e.push(...[`Please install them with the following command:`,``,`    ${We}${(0,it.buildPlaywrightCLICommand)(b,"install-deps")}`,``,`Alternatively, use apt:`,`    ${We}apt-get install ${[...Me].join("\\\n        ")}`,``,`<3 Playwright Team`])}else{$e.push(...[`Missing libraries:`,...[...Re].map((b=>"    "+b))])}throw new Error("\n"+(0,Ke.wrapInASCIIBox)($e.join("\n"),1))}function isSharedLib(b){switch(ze.default.platform()){case"linux":return b.endsWith(".so")||b.includes(".so.");case"win32":return b.endsWith(".dll");default:return false}}async function executablesOrSharedLibraries(b){if(!Ge.default.existsSync(b))return[];const B=(await Ge.default.promises.readdir(b)).map((B=>$e.default.resolve(b,B)));const F=await Promise.all(B.map((b=>Ge.default.promises.stat(b))));const K=B.filter(((b,B)=>F[B].isFile()));const se=(await Promise.all(K.map((async b=>{const B=$e.default.basename(b).toLowerCase();if(isSharedLib(B))return b;if(await checkExecutable(b))return b;return false})))).filter(Boolean);return se}async function missingFileDependenciesWindows(b,B){const F=it.registry.findExecutable("winldd").executablePathOrDie(b);const K=$e.default.dirname(B);const{stdout:se,code:oe}=await(0,et.spawnAsync)(F,[B],{cwd:K,env:{...process.env,LD_LIBRARY_PATH:process.env.LD_LIBRARY_PATH?`${process.env.LD_LIBRARY_PATH}:${K}`:K}});if(oe!==0)return[];const Qe=se.split("\n").map((b=>b.trim())).filter((b=>b.endsWith("not found")&&b.includes("=>"))).map((b=>b.split("=>")[0].trim().toLowerCase()));return Qe}async function missingFileDependencies(b,B){const F=$e.default.dirname(b);let K=B.join(":");if(process.env.LD_LIBRARY_PATH)K=`${process.env.LD_LIBRARY_PATH}:${K}`;const{stdout:se,code:oe}=await(0,et.spawnAsync)("ldd",[b],{cwd:F,env:{...process.env,LD_LIBRARY_PATH:K}});if(oe!==0)return[];const Qe=se.split("\n").map((b=>b.trim())).filter((b=>b.endsWith("not found")&&b.includes("=>"))).map((b=>b.split("=>")[0].trim()));return Qe}async function missingDLOPENLibraries(b){if(!b.length)return[];const{stdout:B,code:F,error:K}=await(0,et.spawnAsync)("/sbin/ldconfig",["-p"],{});if(F!==0||K)return[];const isLibraryAvailable=b=>B.toLowerCase().includes(b.toLowerCase());return b.filter((b=>!isLibraryAvailable(b)))}const ut={"libx264.so":"gstreamer1.0-libav"};function quoteProcessArgs(b){return b.map((b=>{if(b.includes(" "))return`"${b}"`;return b}))}async function transformCommandsForRoot(b){const B=process.getuid?.()===0;if(B)return{command:"sh",args:["-c",`${b.join("&& ")}`],elevatedPermissions:false};const F=await(0,et.spawnAsync)("which",["sudo"]);if(F.code===0)return{command:"sudo",args:["--","sh","-c",`${b.join("&& ")}`],elevatedPermissions:true};return{command:"su",args:["root","-c",`${b.join("&& ")}`],elevatedPermissions:true}}0&&0},3230:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Registry:()=>Registry,browserDirectoryToMarkerFilePath:()=>browserDirectoryToMarkerFilePath,buildPlaywrightCLICommand:()=>buildPlaywrightCLICommand,findChromiumChannelBestEffort:()=>findChromiumChannelBestEffort,installBrowsersForNpmInstall:()=>installBrowsersForNpmInstall,registry:()=>xt,registryDirectory:()=>_t,writeDockerVersion:()=>pt.writeDockerVersion});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(857));var ze=__toESM(F(6928));var $e=__toESM(F(9023));var Ye=F(9599);var Ke=F(5653);var Xe=F(5653);var et=F(3143);var rt=F(1769);var it=F(6877);var ot=F(6633);var at=F(6028);var lt=F(4486);var ut=F(6230);var dt=F(6327);var ht=F(1245);var pt=F(5653);const ft=ze.default.join(__dirname,"..","..","..");const mt=ze.default.join(__dirname,"..","..","..","bin");const vt=["https://cdn.playwright.dev/dbazure/download/playwright","https://playwright.download.prss.microsoft.com/dbazure/download/playwright","https://cdn.playwright.dev"];if(process.env.PW_TEST_CDN_THAT_SHOULD_WORK){for(let b=0;b<vt.length;b++){const B=vt[b];if(B!==process.env.PW_TEST_CDN_THAT_SHOULD_WORK){const F=new URL(B);F.hostname=F.hostname+".does-not-resolve.playwright.dev";vt[b]=F.toString()}}}const yt={chromium:{"<unknown>":void 0,"linux-x64":["chrome-linux64","chrome"],"linux-arm64":["chrome-linux","chrome"],"mac-x64":["chrome-mac-x64","Google Chrome for Testing.app","Contents","MacOS","Google Chrome for Testing"],"mac-arm64":["chrome-mac-arm64","Google Chrome for Testing.app","Contents","MacOS","Google Chrome for Testing"],"win-x64":["chrome-win64","chrome.exe"]},"chromium-headless-shell":{"<unknown>":void 0,"linux-x64":["chrome-headless-shell-linux64","chrome-headless-shell"],"linux-arm64":["chrome-linux","headless_shell"],"mac-x64":["chrome-headless-shell-mac-x64","chrome-headless-shell"],"mac-arm64":["chrome-headless-shell-mac-arm64","chrome-headless-shell"],"win-x64":["chrome-headless-shell-win64","chrome-headless-shell.exe"]},"chromium-tip-of-tree":{"<unknown>":void 0,"linux-x64":["chrome-linux64","chrome"],"linux-arm64":["chrome-linux","chrome"],"mac-x64":["chrome-mac-x64","Google Chrome for Testing.app","Contents","MacOS","Google Chrome for Testing"],"mac-arm64":["chrome-mac-arm64","Google Chrome for Testing.app","Contents","MacOS","Google Chrome for Testing"],"win-x64":["chrome-win64","chrome.exe"]},"chromium-tip-of-tree-headless-shell":{"<unknown>":void 0,"linux-x64":["chrome-headless-shell-linux64","chrome-headless-shell"],"linux-arm64":["chrome-linux","headless_shell"],"mac-x64":["chrome-headless-shell-mac-x64","chrome-headless-shell"],"mac-arm64":["chrome-headless-shell-mac-arm64","chrome-headless-shell"],"win-x64":["chrome-headless-shell-win64","chrome-headless-shell.exe"]},firefox:{"<unknown>":void 0,"linux-x64":["firefox","firefox"],"linux-arm64":["firefox","firefox"],"mac-x64":["firefox","Nightly.app","Contents","MacOS","firefox"],"mac-arm64":["firefox","Nightly.app","Contents","MacOS","firefox"],"win-x64":["firefox","firefox.exe"]},webkit:{"<unknown>":void 0,"linux-x64":["pw_run.sh"],"linux-arm64":["pw_run.sh"],"mac-x64":["pw_run.sh"],"mac-arm64":["pw_run.sh"],"win-x64":["Playwright.exe"]},ffmpeg:{"<unknown>":void 0,"linux-x64":["ffmpeg-linux"],"linux-arm64":["ffmpeg-linux"],"mac-x64":["ffmpeg-mac"],"mac-arm64":["ffmpeg-mac"],"win-x64":["ffmpeg-win64.exe"]},winldd:{"<unknown>":void 0,"linux-x64":void 0,"linux-arm64":void 0,"mac-x64":void 0,"mac-arm64":void 0,"win-x64":["PrintDeps.exe"]}};const wt={chromium:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu22.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu24.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian11-x64":"builds/chromium/%s/chromium-linux.zip","debian11-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian12-x64":"builds/chromium/%s/chromium-linux.zip","debian12-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian13-x64":"builds/chromium/%s/chromium-linux.zip","debian13-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","mac10.13":"builds/chromium/%s/chromium-mac.zip","mac10.14":"builds/chromium/%s/chromium-mac.zip","mac10.15":"builds/chromium/%s/chromium-mac.zip",mac11:"builds/chromium/%s/chromium-mac.zip","mac11-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac12:"builds/chromium/%s/chromium-mac.zip","mac12-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac13:"builds/chromium/%s/chromium-mac.zip","mac13-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac14:"builds/chromium/%s/chromium-mac.zip","mac14-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac15:"builds/chromium/%s/chromium-mac.zip","mac15-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",win64:"builds/chromium/%s/chromium-win64.zip"},"chromium-headless-shell":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","ubuntu22.04-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","ubuntu24.04-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","debian11-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","debian11-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","debian12-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","debian12-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","debian13-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","debian13-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","mac10.13":void 0,"mac10.14":void 0,"mac10.15":void 0,mac11:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac11-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac12:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac12-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac13:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac13-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac14:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac14-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac15:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac15-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",win64:"builds/chromium/%s/chromium-headless-shell-win64.zip"},"chromium-tip-of-tree":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu22.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu24.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian11-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian12-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian13-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","mac10.13":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac10.14":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac10.15":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip",mac11:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac12:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac13:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac14:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac14-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac15:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac15-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",win64:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-win64.zip"},"chromium-tip-of-tree-headless-shell":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","ubuntu22.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","ubuntu24.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","debian11-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","debian11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","debian12-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","debian12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","debian13-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","debian13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","mac10.13":void 0,"mac10.14":void 0,"mac10.15":void 0,mac11:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac12:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac13:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac14:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac14-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac15:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac15-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",win64:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-win64.zip"},firefox:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/firefox/%s/firefox-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/firefox/%s/firefox-ubuntu-22.04.zip","ubuntu24.04-x64":"builds/firefox/%s/firefox-ubuntu-24.04.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/firefox/%s/firefox-ubuntu-20.04-arm64.zip","ubuntu22.04-arm64":"builds/firefox/%s/firefox-ubuntu-22.04-arm64.zip","ubuntu24.04-arm64":"builds/firefox/%s/firefox-ubuntu-24.04-arm64.zip","debian11-x64":"builds/firefox/%s/firefox-debian-11.zip","debian11-arm64":"builds/firefox/%s/firefox-debian-11-arm64.zip","debian12-x64":"builds/firefox/%s/firefox-debian-12.zip","debian12-arm64":"builds/firefox/%s/firefox-debian-12-arm64.zip","debian13-x64":"builds/firefox/%s/firefox-debian-13.zip","debian13-arm64":"builds/firefox/%s/firefox-debian-13-arm64.zip","mac10.13":"builds/firefox/%s/firefox-mac.zip","mac10.14":"builds/firefox/%s/firefox-mac.zip","mac10.15":"builds/firefox/%s/firefox-mac.zip",mac11:"builds/firefox/%s/firefox-mac.zip","mac11-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac12:"builds/firefox/%s/firefox-mac.zip","mac12-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac13:"builds/firefox/%s/firefox-mac.zip","mac13-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac14:"builds/firefox/%s/firefox-mac.zip","mac14-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac15:"builds/firefox/%s/firefox-mac.zip","mac15-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",win64:"builds/firefox/%s/firefox-win64.zip"},"firefox-beta":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-22.04.zip","ubuntu24.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-24.04.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":void 0,"ubuntu22.04-arm64":"builds/firefox-beta/%s/firefox-beta-ubuntu-22.04-arm64.zip","ubuntu24.04-arm64":"builds/firefox-beta/%s/firefox-beta-ubuntu-24.04-arm64.zip","debian11-x64":"builds/firefox-beta/%s/firefox-beta-debian-11.zip","debian11-arm64":"builds/firefox-beta/%s/firefox-beta-debian-11-arm64.zip","debian12-x64":"builds/firefox-beta/%s/firefox-beta-debian-12.zip","debian12-arm64":"builds/firefox-beta/%s/firefox-beta-debian-12-arm64.zip","debian13-x64":"builds/firefox-beta/%s/firefox-beta-debian-12.zip","debian13-arm64":"builds/firefox-beta/%s/firefox-beta-debian-12-arm64.zip","mac10.13":"builds/firefox-beta/%s/firefox-beta-mac.zip","mac10.14":"builds/firefox-beta/%s/firefox-beta-mac.zip","mac10.15":"builds/firefox-beta/%s/firefox-beta-mac.zip",mac11:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac11-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac12:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac12-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac13:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac13-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac14:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac14-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac15:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac15-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",win64:"builds/firefox-beta/%s/firefox-beta-win64.zip"},webkit:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/webkit/%s/webkit-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/webkit/%s/webkit-ubuntu-22.04.zip","ubuntu24.04-x64":"builds/webkit/%s/webkit-ubuntu-24.04.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/webkit/%s/webkit-ubuntu-20.04-arm64.zip","ubuntu22.04-arm64":"builds/webkit/%s/webkit-ubuntu-22.04-arm64.zip","ubuntu24.04-arm64":"builds/webkit/%s/webkit-ubuntu-24.04-arm64.zip","debian11-x64":"builds/webkit/%s/webkit-debian-11.zip","debian11-arm64":"builds/webkit/%s/webkit-debian-11-arm64.zip","debian12-x64":"builds/webkit/%s/webkit-debian-12.zip","debian12-arm64":"builds/webkit/%s/webkit-debian-12-arm64.zip","debian13-x64":"builds/webkit/%s/webkit-debian-13.zip","debian13-arm64":"builds/webkit/%s/webkit-debian-13-arm64.zip","mac10.13":void 0,"mac10.14":"builds/deprecated-webkit-mac-10.14/%s/deprecated-webkit-mac-10.14.zip","mac10.15":"builds/deprecated-webkit-mac-10.15/%s/deprecated-webkit-mac-10.15.zip",mac11:"builds/webkit/%s/webkit-mac-11.zip","mac11-arm64":"builds/webkit/%s/webkit-mac-11-arm64.zip",mac12:"builds/webkit/%s/webkit-mac-12.zip","mac12-arm64":"builds/webkit/%s/webkit-mac-12-arm64.zip",mac13:"builds/webkit/%s/webkit-mac-13.zip","mac13-arm64":"builds/webkit/%s/webkit-mac-13-arm64.zip",mac14:"builds/webkit/%s/webkit-mac-14.zip","mac14-arm64":"builds/webkit/%s/webkit-mac-14-arm64.zip",mac15:"builds/webkit/%s/webkit-mac-15.zip","mac15-arm64":"builds/webkit/%s/webkit-mac-15-arm64.zip",win64:"builds/webkit/%s/webkit-win64.zip"},ffmpeg:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu22.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu24.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","ubuntu22.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","ubuntu24.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian11-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian11-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian12-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian12-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian13-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian13-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","mac10.13":"builds/ffmpeg/%s/ffmpeg-mac.zip","mac10.14":"builds/ffmpeg/%s/ffmpeg-mac.zip","mac10.15":"builds/ffmpeg/%s/ffmpeg-mac.zip",mac11:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac11-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac12:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac12-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac13:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac13-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac14:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac14-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac15:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac15-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",win64:"builds/ffmpeg/%s/ffmpeg-win64.zip"},winldd:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":void 0,"ubuntu22.04-x64":void 0,"ubuntu24.04-x64":void 0,"ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":void 0,"ubuntu22.04-arm64":void 0,"ubuntu24.04-arm64":void 0,"debian11-x64":void 0,"debian11-arm64":void 0,"debian12-x64":void 0,"debian12-arm64":void 0,"debian13-x64":void 0,"debian13-arm64":void 0,"mac10.13":void 0,"mac10.14":void 0,"mac10.15":void 0,mac11:void 0,"mac11-arm64":void 0,mac12:void 0,"mac12-arm64":void 0,mac13:void 0,"mac13-arm64":void 0,mac14:void 0,"mac14-arm64":void 0,mac15:void 0,"mac15-arm64":void 0,win64:"builds/winldd/%s/winldd-win64.zip"},android:{"<unknown>":"builds/android/%s/android.zip","ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/android/%s/android.zip","ubuntu22.04-x64":"builds/android/%s/android.zip","ubuntu24.04-x64":"builds/android/%s/android.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/android/%s/android.zip","ubuntu22.04-arm64":"builds/android/%s/android.zip","ubuntu24.04-arm64":"builds/android/%s/android.zip","debian11-x64":"builds/android/%s/android.zip","debian11-arm64":"builds/android/%s/android.zip","debian12-x64":"builds/android/%s/android.zip","debian12-arm64":"builds/android/%s/android.zip","debian13-x64":"builds/android/%s/android.zip","debian13-arm64":"builds/android/%s/android.zip","mac10.13":"builds/android/%s/android.zip","mac10.14":"builds/android/%s/android.zip","mac10.15":"builds/android/%s/android.zip",mac11:"builds/android/%s/android.zip","mac11-arm64":"builds/android/%s/android.zip",mac12:"builds/android/%s/android.zip","mac12-arm64":"builds/android/%s/android.zip",mac13:"builds/android/%s/android.zip","mac13-arm64":"builds/android/%s/android.zip",mac14:"builds/android/%s/android.zip","mac14-arm64":"builds/android/%s/android.zip",mac15:"builds/android/%s/android.zip","mac15-arm64":"builds/android/%s/android.zip",win64:"builds/android/%s/android.zip"}};const _t=(()=>{let b;const B=(0,et.getFromENV)("PLAYWRIGHT_BROWSERS_PATH");if(B==="0"){b=ze.default.join(__dirname,"..","..","..",".local-browsers")}else if(B){b=B}else{let B;if(process.platform==="linux")B=process.env.XDG_CACHE_HOME||ze.default.join(Ge.default.homedir(),".cache");else if(process.platform==="darwin")B=ze.default.join(Ge.default.homedir(),"Library","Caches");else if(process.platform==="win32")B=process.env.LOCALAPPDATA||ze.default.join(Ge.default.homedir(),"AppData","Local");else throw new Error("Unsupported platform: "+process.platform);b=ze.default.join(B,"ms-playwright")}if(!ze.default.isAbsolute(b)){b=ze.default.resolve((0,et.getFromENV)("INIT_CWD")||process.cwd(),b)}return b})();function isBrowserDirectory(b){const B=ze.default.basename(b);for(const b of It){if(B.startsWith(b.replace(/-/g,"_")+"-"))return true}return false}function readDescriptors(b){return b["browsers"].map((b=>{const B=b.name;const F=(b.revisionOverrides||{})[ot.hostPlatform];const K=F||b.revision;const se=F?`${B}_${ot.hostPlatform}_special`:`${B}`;const oe={name:B,revision:K,hasRevisionOverride:!!F,browserVersion:F?void 0:b.browserVersion,installByDefault:!!b.installByDefault,dir:ze.default.join(_t,se.replace(/-/g,"_")+"-"+K)};return oe}))}const It=["android","chromium","firefox","webkit","ffmpeg","firefox-beta","chromium-tip-of-tree","chromium-headless-shell","chromium-tip-of-tree-headless-shell"];class Registry{constructor(b){const B=readDescriptors(b);const findExecutablePath=(b,B)=>{const F=yt[B][ot.shortPlatform];return F?ze.default.join(b,...F):void 0};const executablePathOrDie=(b,B,F,K)=>{if(!B)throw new Error(`${b} is not supported on ${ot.hostPlatform}`);const se=buildPlaywrightCLICommand(K,`install${F?"":" "+b}`);if(!(0,ht.canAccessFile)(B)){const b=(0,Ke.readDockerVersionSync)();const oe=b?(0,Ke.dockerVersion)(b.dockerImageNameTemplate):null;const Qe=b&&oe&&b.dockerImageName!==oe.dockerImageName;const Re=Qe?[`Looks like ${K==="javascript"?"Playwright Test or ":""}Playwright was just updated to ${oe.driverVersion}.`,`Please update docker image as well.`,`-  current: ${b.dockerImageName}`,`- required: ${oe.dockerImageName}`,``,`<3 Playwright Team`].join("\n"):[`Looks like ${K==="javascript"?"Playwright Test or ":""}Playwright was just installed or updated.`,`Please run the following command to download new browser${F?"s":""}:`,``,`    ${se}`,``,`<3 Playwright Team`].join("\n");throw new Error(`Executable doesn't exist at ${B}\n${(0,rt.wrapInASCIIBox)(Re,1)}`)}return B};this._executables=[];const F=B.find((b=>b.name==="chromium"));const K=findExecutablePath(F.dir,"chromium");this._executables.push({type:"browser",name:"chromium",browserName:"chromium",directory:F.dir,executablePath:()=>K,executablePathOrDie:b=>executablePathOrDie("chromium",K,F.installByDefault,b),installType:F.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:b=>this._validateHostRequirements(b,F.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(F),browserVersion:F.browserVersion,_install:()=>this._downloadExecutable(F,K),_dependencyGroup:"chromium",_isHermeticInstallation:true});const se=B.find((b=>b.name==="chromium-headless-shell"));const oe=findExecutablePath(se.dir,"chromium-headless-shell");this._executables.push({type:"channel",name:"chromium-headless-shell",browserName:"chromium",directory:se.dir,executablePath:()=>oe,executablePathOrDie:b=>executablePathOrDie("chromium",oe,se.installByDefault,b),installType:se.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:b=>this._validateHostRequirements(b,se.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(se),browserVersion:F.browserVersion,_install:()=>this._downloadExecutable(se,oe),_dependencyGroup:"chromium",_isHermeticInstallation:true});const Qe=B.find((b=>b.name==="chromium-tip-of-tree-headless-shell"));const Re=findExecutablePath(Qe.dir,"chromium-tip-of-tree-headless-shell");this._executables.push({type:"channel",name:"chromium-tip-of-tree-headless-shell",browserName:"chromium",directory:Qe.dir,executablePath:()=>Re,executablePathOrDie:b=>executablePathOrDie("chromium",Re,Qe.installByDefault,b),installType:Qe.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:b=>this._validateHostRequirements(b,Qe.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(Qe),browserVersion:F.browserVersion,_install:()=>this._downloadExecutable(Qe,Re),_dependencyGroup:"chromium",_isHermeticInstallation:true});const Me=B.find((b=>b.name==="chromium-tip-of-tree"));const Le=findExecutablePath(Me.dir,"chromium-tip-of-tree");this._executables.push({type:"tool",name:"chromium-tip-of-tree",browserName:"chromium",directory:Me.dir,executablePath:()=>Le,executablePathOrDie:b=>executablePathOrDie("chromium-tip-of-tree",Le,Me.installByDefault,b),installType:Me.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:b=>this._validateHostRequirements(b,Me.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(Me),browserVersion:Me.browserVersion,_install:()=>this._downloadExecutable(Me,Le),_dependencyGroup:"chromium",_isHermeticInstallation:true});this._executables.push(this._createChromiumChannel("chrome",{linux:"/opt/google/chrome/chrome",darwin:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",win32:`\\Google\\Chrome\\Application\\chrome.exe`},(()=>this._installChromiumChannel("chrome",{linux:"reinstall_chrome_stable_linux.sh",darwin:"reinstall_chrome_stable_mac.sh",win32:"reinstall_chrome_stable_win.ps1"}))));this._executables.push(this._createChromiumChannel("chrome-beta",{linux:"/opt/google/chrome-beta/chrome",darwin:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",win32:`\\Google\\Chrome Beta\\Application\\chrome.exe`},(()=>this._installChromiumChannel("chrome-beta",{linux:"reinstall_chrome_beta_linux.sh",darwin:"reinstall_chrome_beta_mac.sh",win32:"reinstall_chrome_beta_win.ps1"}))));this._executables.push(this._createChromiumChannel("chrome-dev",{linux:"/opt/google/chrome-unstable/chrome",darwin:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",win32:`\\Google\\Chrome Dev\\Application\\chrome.exe`}));this._executables.push(this._createChromiumChannel("chrome-canary",{linux:"/opt/google/chrome-canary/chrome",darwin:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",win32:`\\Google\\Chrome SxS\\Application\\chrome.exe`}));this._executables.push(this._createChromiumChannel("msedge",{linux:"/opt/microsoft/msedge/msedge",darwin:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",win32:`\\Microsoft\\Edge\\Application\\msedge.exe`},(()=>this._installMSEdgeChannel("msedge",{linux:"reinstall_msedge_stable_linux.sh",darwin:"reinstall_msedge_stable_mac.sh",win32:"reinstall_msedge_stable_win.ps1"}))));this._executables.push(this._createChromiumChannel("msedge-beta",{linux:"/opt/microsoft/msedge-beta/msedge",darwin:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",win32:`\\Microsoft\\Edge Beta\\Application\\msedge.exe`},(()=>this._installMSEdgeChannel("msedge-beta",{darwin:"reinstall_msedge_beta_mac.sh",linux:"reinstall_msedge_beta_linux.sh",win32:"reinstall_msedge_beta_win.ps1"}))));this._executables.push(this._createChromiumChannel("msedge-dev",{linux:"/opt/microsoft/msedge-dev/msedge",darwin:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",win32:`\\Microsoft\\Edge Dev\\Application\\msedge.exe`},(()=>this._installMSEdgeChannel("msedge-dev",{darwin:"reinstall_msedge_dev_mac.sh",linux:"reinstall_msedge_dev_linux.sh",win32:"reinstall_msedge_dev_win.ps1"}))));this._executables.push(this._createChromiumChannel("msedge-canary",{linux:"",darwin:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",win32:`\\Microsoft\\Edge SxS\\Application\\msedge.exe`}));this._executables.push(this._createBidiFirefoxChannel("moz-firefox",{linux:"/snap/bin/firefox",darwin:"/Applications/Firefox.app/Contents/MacOS/firefox",win32:"\\Mozilla Firefox\\firefox.exe"}));this._executables.push(this._createBidiFirefoxChannel("moz-firefox-beta",{linux:"/opt/firefox-beta/firefox",darwin:"/Applications/Firefox.app/Contents/MacOS/firefox",win32:"\\Mozilla Firefox\\firefox.exe"}));this._executables.push(this._createBidiFirefoxChannel("moz-firefox-nightly",{linux:"/opt/firefox-nightly/firefox",darwin:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",win32:"\\Mozilla Firefox\\firefox.exe"}));this._executables.push(this._createBidiChromiumChannel("bidi-chrome-stable",{linux:"/opt/google/chrome/chrome",darwin:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",win32:`\\Google\\Chrome\\Application\\chrome.exe`}));this._executables.push(this._createBidiChromiumChannel("bidi-chrome-canary",{linux:"/opt/google/chrome-canary/chrome",darwin:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",win32:`\\Google\\Chrome SxS\\Application\\chrome.exe`}));this._executables.push({type:"channel",name:"bidi-chromium",browserName:"chromium",directory:F.dir,executablePath:()=>K,executablePathOrDie:b=>executablePathOrDie("chromium",K,F.installByDefault,b),installType:"download-on-demand",_validateHostRequirements:b=>this._validateHostRequirements(b,F.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(F),browserVersion:F.browserVersion,_install:()=>this._downloadExecutable(F,K),_dependencyGroup:"chromium",_isHermeticInstallation:true});const We=B.find((b=>b.name==="firefox"));const Ge=findExecutablePath(We.dir,"firefox");this._executables.push({type:"browser",name:"firefox",browserName:"firefox",directory:We.dir,executablePath:()=>Ge,executablePathOrDie:b=>executablePathOrDie("firefox",Ge,We.installByDefault,b),installType:We.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:b=>this._validateHostRequirements(b,We.dir,["firefox"],[],["firefox"]),downloadURLs:this._downloadURLs(We),browserVersion:We.browserVersion,_install:()=>this._downloadExecutable(We,Ge),_dependencyGroup:"firefox",_isHermeticInstallation:true});const $e=B.find((b=>b.name==="firefox-beta"));const Ye=findExecutablePath($e.dir,"firefox");this._executables.push({type:"tool",name:"firefox-beta",browserName:"firefox",directory:$e.dir,executablePath:()=>Ye,executablePathOrDie:b=>executablePathOrDie("firefox-beta",Ye,$e.installByDefault,b),installType:$e.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:b=>this._validateHostRequirements(b,$e.dir,["firefox"],[],["firefox"]),downloadURLs:this._downloadURLs($e),browserVersion:$e.browserVersion,_install:()=>this._downloadExecutable($e,Ye),_dependencyGroup:"firefox",_isHermeticInstallation:true});const Xe=B.find((b=>b.name==="webkit"));const et=findExecutablePath(Xe.dir,"webkit");const it=[ze.default.join("minibrowser-gtk"),ze.default.join("minibrowser-gtk","bin"),ze.default.join("minibrowser-gtk","lib"),ze.default.join("minibrowser-gtk","sys","lib"),ze.default.join("minibrowser-wpe"),ze.default.join("minibrowser-wpe","bin"),ze.default.join("minibrowser-wpe","lib"),ze.default.join("minibrowser-wpe","sys","lib")];this._executables.push({type:"browser",name:"webkit",browserName:"webkit",directory:Xe.dir,executablePath:()=>et,executablePathOrDie:b=>executablePathOrDie("webkit",et,Xe.installByDefault,b),installType:Xe.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:b=>this._validateHostRequirements(b,Xe.dir,it,["libGLESv2.so.2","libx264.so"],[""]),downloadURLs:this._downloadURLs(Xe),browserVersion:Xe.browserVersion,_install:()=>this._downloadExecutable(Xe,et),_dependencyGroup:"webkit",_isHermeticInstallation:true});this._executables.push({type:"channel",name:"webkit-wsl",browserName:"webkit",directory:Xe.dir,executablePath:()=>et,executablePathOrDie:b=>executablePathOrDie("webkit",et,Xe.installByDefault,b),installType:"download-on-demand",_validateHostRequirements:b=>Promise.resolve(),_isHermeticInstallation:true,_install:async()=>{if(process.platform!=="win32")throw new Error(`WebKit via WSL is only supported on Windows`);const b=ze.default.join(mt,"install_webkit_wsl.ps1");const{code:B}=await(0,lt.spawnAsync)("powershell.exe",["-ExecutionPolicy","Bypass","-File",b],{stdio:"inherit"});if(B!==0)throw new Error(`Failed to install WebKit via WSL`)}});const at=B.find((b=>b.name==="ffmpeg"));const ut=findExecutablePath(at.dir,"ffmpeg");this._executables.push({type:"tool",name:"ffmpeg",browserName:void 0,directory:at.dir,executablePath:()=>ut,executablePathOrDie:b=>executablePathOrDie("ffmpeg",ut,at.installByDefault,b),installType:at.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(at),_install:()=>this._downloadExecutable(at,ut),_dependencyGroup:"tools",_isHermeticInstallation:true});const dt=B.find((b=>b.name==="winldd"));const pt=findExecutablePath(dt.dir,"winldd");this._executables.push({type:"tool",name:"winldd",browserName:void 0,directory:dt.dir,executablePath:()=>pt,executablePathOrDie:b=>executablePathOrDie("winldd",pt,dt.installByDefault,b),installType:process.platform==="win32"?"download-by-default":"none",_validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(dt),_install:()=>this._downloadExecutable(dt,pt),_dependencyGroup:"tools",_isHermeticInstallation:true});const ft=B.find((b=>b.name==="android"));this._executables.push({type:"tool",name:"android",browserName:void 0,directory:ft.dir,executablePath:()=>void 0,executablePathOrDie:()=>"",installType:"download-on-demand",_validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(ft),_install:()=>this._downloadExecutable(ft),_dependencyGroup:"tools",_isHermeticInstallation:true})}_createChromiumChannel(b,B,F){const executablePath=(K,se)=>{const oe=B[process.platform];if(!oe){if(se)throw new Error(`Chromium distribution '${b}' is not supported on ${process.platform}`);return void 0}const Qe=process.platform==="win32"?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"],process.env.HOMEDRIVE+"\\Program Files",process.env.HOMEDRIVE+"\\Program Files (x86)"].filter(Boolean):[""];for(const b of Qe){const B=ze.default.join(b,oe);if((0,ht.canAccessFile)(B))return B}if(!se)return void 0;const Re=Qe.length?` at ${ze.default.join(Qe[0],oe)}`:``;const Me=F?`\nRun "${buildPlaywrightCLICommand(K,"install "+b)}"`:"";throw new Error(`Chromium distribution '${b}' is not found${Re}${Me}`)};return{type:"channel",name:b,browserName:"chromium",directory:void 0,executablePath:b=>executablePath(b,false),executablePathOrDie:b=>executablePath(b,true),installType:F?"install-script":"none",_validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:false,_install:F}}_createBidiFirefoxChannel(b,B,F){const executablePath=(F,K)=>{const se=B[process.platform];if(!se){if(K)throw new Error(`Firefox distribution '${b}' is not supported on ${process.platform}`);return void 0}const oe=process.platform==="win32"?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"],process.env.HOMEDRIVE+"\\Program Files",process.env.HOMEDRIVE+"\\Program Files (x86)"].filter(Boolean):[""];for(const b of oe){const B=ze.default.join(b,se);if((0,ht.canAccessFile)(B))return B}if(K)throw new Error(`Cannot find Firefox installation for channel '${b}' at the standard system paths. ${`Tried paths:\n  ${oe.map((b=>ze.default.join(b,se))).join("\n  ")}`}`);return void 0};return{type:"channel",name:b,browserName:"firefox",directory:void 0,executablePath:b=>executablePath(b,false),executablePathOrDie:b=>executablePath(b,true),installType:"none",_validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:true,_install:F}}_createBidiChromiumChannel(b,B,F){const executablePath=(K,se)=>{const oe=B[process.platform];if(!oe){if(se)throw new Error(`Chromium distribution '${b}' is not supported on ${process.platform}`);return void 0}const Qe=process.platform==="win32"?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"],process.env.HOMEDRIVE+"\\Program Files",process.env.HOMEDRIVE+"\\Program Files (x86)"].filter(Boolean):[""];for(const b of Qe){const B=ze.default.join(b,oe);if((0,ht.canAccessFile)(B))return B}if(!se)return void 0;const Re=Qe.length?` at ${ze.default.join(Qe[0],oe)}`:``;const Me=F?`\nRun "${buildPlaywrightCLICommand(K,"install "+b)}"`:"";throw new Error(`Chromium distribution '${b}' is not found${Re}${Me}`)};return{type:"channel",name:b,browserName:"chromium",directory:void 0,executablePath:b=>executablePath(b,false),executablePathOrDie:b=>executablePath(b,true),installType:F?"install-script":"none",_validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:false,_install:F}}executables(){return this._executables}findExecutable(b){return this._executables.find((B=>B.name===b))}defaultExecutables(){return this._executables.filter((b=>b.installType==="download-by-default"))}_dedupe(b){return Array.from(new Set(b))}async _validateHostRequirements(b,B,F,K,se){if(Ge.default.platform()==="linux")return await(0,Xe.validateDependenciesLinux)(b,F.map((b=>ze.default.join(B,b))),K);if(Ge.default.platform()==="win32"&&Ge.default.arch()==="x64")return await(0,Xe.validateDependenciesWindows)(b,se.map((b=>ze.default.join(B,b))))}async installDeps(b,B){const F=this._dedupe(b);const K=new Set;for(const b of F){if(b._dependencyGroup)K.add(b._dependencyGroup)}K.add("tools");if(Ge.default.platform()==="win32")return await(0,Xe.installDependenciesWindows)(K,B);if(Ge.default.platform()==="linux")return await(0,Xe.installDependenciesLinux)(K,B)}async install(b,B){const F=this._dedupe(b);await We.default.promises.mkdir(_t,{recursive:true});const K=ze.default.join(_t,"__dirlock");const se=ze.default.join(_t,".links");let oe;try{oe=await dt.lockfile.lock(_t,{retries:{retries:20,factor:1.27579},onCompromised:b=>{throw new Error(`${b.message} Path: ${K}`)},lockfilePath:K});await We.default.promises.mkdir(se,{recursive:true});await We.default.promises.writeFile(ze.default.join(se,(0,et.calculateSha1)(ft)),ft);if(!(0,et.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_BROWSER_GC"))await this._validateInstallationCache(se);for(const b of F){if(!b._install)throw new Error(`ERROR: Playwright does not support installing ${b.name}`);const{embedderName:F}=(0,ut.getEmbedderName)();if(!(0,et.getAsBooleanFromENV)("CI")&&!b._isHermeticInstallation&&!B?.force&&b.executablePath(F)){const B=buildPlaywrightCLICommand(F,"install --force "+b.name);process.stderr.write("\n"+(0,rt.wrapInASCIIBox)([`ATTENTION: "${b.name}" is already installed on the system!`,``,`"${b.name}" installation is not hermetic; installing newer version`,`requires *removal* of a current installation first.`,``,`To *uninstall* current version and re-install latest "${b.name}":`,``,`- Close all running instances of "${b.name}", if any`,`- Use "--force" to install browser:`,``,`    ${B}`,``,`<3 Playwright Team`].join("\n"),1)+"\n\n");return}await b._install()}}catch(b){if(b.code==="ELOCKED"){const b=process.platform==="win32"?"rm -R":"rm -rf";throw new Error("\n"+(0,rt.wrapInASCIIBox)([`An active lockfile is found at:`,``,`  ${K}`,``,`Either:`,`- wait a few minutes if other Playwright is installing browsers in parallel`,`- remove lock manually with:`,``,`    ${b} ${K}`,``,`<3 Playwright Team`].join("\n"),1))}else{throw b}}finally{if(oe)await oe()}}async uninstall(b){const B=ze.default.join(_t,".links");if(b){const b=await We.default.promises.readdir(B).catch((()=>[]));for(const F of b)await We.default.promises.unlink(ze.default.join(B,F))}else{await We.default.promises.unlink(ze.default.join(B,(0,et.calculateSha1)(ft))).catch((()=>{}))}await this._validateInstallationCache(B);return{numberOfBrowsersLeft:(await We.default.promises.readdir(_t).catch((()=>[]))).filter((b=>isBrowserDirectory(b))).length}}async validateHostRequirementsForExecutablesIfNeeded(b,B){if((0,et.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_VALIDATE_HOST_REQUIREMENTS")){process.stderr.write("Skipping host requirements validation logic because `PLAYWRIGHT_SKIP_VALIDATE_HOST_REQUIREMENTS` env variable is set.\n");return}for(const F of b)await this._validateHostRequirementsForExecutableIfNeeded(F,B)}async _validateHostRequirementsForExecutableIfNeeded(b,B){const F=30*24*60*60*1e3;if(!b.directory)return;const K=ze.default.join(b.directory,"DEPENDENCIES_VALIDATED");if(await We.default.promises.stat(K).then((b=>Date.now()-b.mtime.getTime()<F)).catch((()=>false)))return;it.debugLogger.log("install",`validating host requirements for "${b.name}"`);try{await b._validateHostRequirements(B);it.debugLogger.log("install",`validation passed for ${b.name}`)}catch(B){it.debugLogger.log("install",`validation failed for ${b.name}`);throw B}await We.default.promises.writeFile(K,"").catch((()=>{}))}_downloadURLs(b){const B=wt[b.name];const F=B[ot.hostPlatform]||B["<unknown>"];if(!F)return[];const K=$e.format(F,b.revision);let se=vt.map((b=>`${b}/${K}`));let oe;if(b.name.startsWith("chromium"))oe="PLAYWRIGHT_CHROMIUM_DOWNLOAD_HOST";else if(b.name.startsWith("firefox"))oe="PLAYWRIGHT_FIREFOX_DOWNLOAD_HOST";else if(b.name.startsWith("webkit"))oe="PLAYWRIGHT_WEBKIT_DOWNLOAD_HOST";const Qe=oe&&(0,et.getFromENV)(oe)||(0,et.getFromENV)("PLAYWRIGHT_DOWNLOAD_HOST");if(Qe)se=[`${Qe}/${K}`];return se}async _downloadExecutable(b,B){const F=this._downloadURLs(b);if(!F.length)throw new Error(`ERROR: Playwright does not support ${b.name} on ${ot.hostPlatform}`);if(!ot.isOfficiallySupportedPlatform)(0,Ye.logPolitely)(`BEWARE: your OS is not officially supported by Playwright; downloading fallback build for ${ot.hostPlatform}.`);if(b.hasRevisionOverride){const B=`You are using a frozen ${b.name} browser which does not receive updates anymore on ${ot.hostPlatform}. Please update to the latest version of your operating system to test up-to-date browsers.`;if(process.env.GITHUB_ACTIONS)console.log(`::warning title=Playwright::${B}`);else(0,Ye.logPolitely)(B)}const K=b.name.split("-").map((b=>b==="ffmpeg"?"FFMPEG":b.charAt(0).toUpperCase()+b.slice(1))).join(" ");const se=b.browserVersion?`${K} ${b.browserVersion} (playwright build v${b.revision})`:`${K} playwright build v${b.revision}`;const oe=`playwright-download-${b.name}-${ot.hostPlatform}-${b.revision}.zip`;const Qe=(0,et.getFromENV)("PLAYWRIGHT_DOWNLOAD_CONNECTION_TIMEOUT");const Re=+(Qe||"0")||at.NET_DEFAULT_TIMEOUT;await(0,Ye.downloadBrowserWithProgressBar)(se,b.dir,B,F,oe,Re).catch((b=>{throw new Error(`Failed to download ${se}, caused by\n${b.stack}`)}))}async _installMSEdgeChannel(b,B){const F=[];if(process.platform!=="linux"){const B=lowercaseAllKeys(JSON.parse(await(0,at.fetchData)(void 0,{url:"https://edgeupdates.microsoft.com/api/products"})));const K={msedge:"Stable","msedge-beta":"Beta","msedge-dev":"Dev"}[b];const se=B.find((b=>b.product===K));const oe={darwin:{platform:"MacOS",arch:"universal",artifact:"pkg"},win32:{platform:"Windows",arch:"x64",artifact:"msi"}}[process.platform];const Qe=oe?se.releases.find((b=>b.platform===oe.platform&&b.architecture===oe.arch&&b.artifacts.length>0)):null;const Re=Qe?Qe.artifacts.find((b=>b.artifactname===oe.artifact)):null;if(Re)F.push(Re.location);else throw new Error(`Cannot install ${b} on ${process.platform}`)}await this._installChromiumChannel(b,B,F)}async _installChromiumChannel(b,B,F=[]){const K=B[process.platform];if(!K)throw new Error(`Cannot install ${b} on ${process.platform}`);const se=mt;const oe=K.endsWith(".ps1");if(oe){const B=["-ExecutionPolicy","Bypass","-File",ze.default.join(mt,K),...F];const{code:oe}=await(0,lt.spawnAsync)("powershell.exe",B,{cwd:se,stdio:"inherit"});if(oe!==0)throw new Error(`Failed to install ${b}`)}else{const{command:B,args:oe,elevatedPermissions:Qe}=await(0,Ke.transformCommandsForRoot)([`bash "${ze.default.join(mt,K)}" ${F.join("")}`]);if(Qe)console.log("Switching to root user to install dependencies...");const{code:Re}=await(0,lt.spawnAsync)(B,oe,{cwd:se,stdio:"inherit"});if(Re!==0)throw new Error(`Failed to install ${b}`)}}async listInstalledBrowsers(){const b=ze.default.join(_t,".links");const{browsers:B}=await this._traverseBrowserInstallations(b);return B.filter((b=>We.default.existsSync(b.browserPath)))}async _validateInstallationCache(b){const{browsers:B,brokenLinks:F}=await this._traverseBrowserInstallations(b);await this._deleteStaleBrowsers(B);await this._deleteBrokenInstallations(F)}async _traverseBrowserInstallations(b){const B=[];const F=[];for(const K of await We.default.promises.readdir(b)){const se=ze.default.join(b,K);let oe="";try{oe=(await We.default.promises.readFile(se)).toString();const b=require(ze.default.join(oe,"browsers.json"));const F=readDescriptors(b);for(const b of It){const K=F.find((B=>B.name===b));if(!K)continue;const se=K.dir;const Qe=parseInt(K.revision,10);B.push({browserName:b,browserVersion:Qe,browserPath:se,referenceDir:oe})}}catch(b){F.push(se)}}return{browsers:B,brokenLinks:F}}async _deleteStaleBrowsers(b){const B=new Set;for(const F of b){const{browserName:b,browserVersion:K,browserPath:se}=F;const oe=b==="chromium"&&(K>=786218||K<3e5)||b==="firefox"&&K>=1128||b==="webkit"&&K>=1307||b!=="firefox"&&b!=="chromium"&&b!=="webkit";if(!oe||await(0,ht.existsAsync)(browserDirectoryToMarkerFilePath(se)))B.add(se)}let F=(await We.default.promises.readdir(_t)).map((b=>ze.default.join(_t,b)));F=F.filter((b=>isBrowserDirectory(b)));const K=new Set(F);for(const b of B)K.delete(b);for(const b of K)(0,Ye.logPolitely)("Removing unused browser at "+b);await(0,ht.removeFolders)([...K])}async _deleteBrokenInstallations(b){for(const B of b)await We.default.promises.unlink(B).catch((b=>{}))}_defaultBrowsersToInstall(b){let B=this.defaultExecutables();if(b.shell==="no")B=B.filter((b=>b.name!=="chromium-headless-shell"));if(b.shell==="only")B=B.filter((b=>b.name!=="chromium"));return B}suggestedBrowsersToInstall(){return this.executables().filter((b=>b.installType!=="none"&&b.type!=="tool")).map((b=>b.name)).join(", ")}resolveBrowsers(b,B){if(b.length===0)return this._defaultBrowsersToInstall(B);const F=[];const K=[];const handleArgument=b=>{const B=this.findExecutable(b);if(!B||B.installType==="none")F.push(b);else K.push(B);if(B?.browserName==="chromium")K.push(this.findExecutable("ffmpeg"))};for(const F of b){if(F==="chromium"){if(B.shell!=="only")handleArgument("chromium");if(B.shell!=="no")handleArgument("chromium-headless-shell")}else{handleArgument(F)}}if(process.platform==="win32")K.push(this.findExecutable("winldd"));if(F.length)throw new Error(`Invalid installation targets: ${F.map((b=>`'${b}'`)).join(", ")}. Expecting one of: ${this.suggestedBrowsersToInstall()}`);return K}}function browserDirectoryToMarkerFilePath(b){return ze.default.join(b,"INSTALLATION_COMPLETE")}function buildPlaywrightCLICommand(b,B){switch(b){case"python":return`playwright ${B}`;case"java":return`mvn exec:java -e -D exec.mainClass=com.microsoft.playwright.CLI -D exec.args="${B}"`;case"csharp":return`pwsh bin/Debug/netX/playwright.ps1 ${B}`;default:{const b=(0,et.getPackageManagerExecCommand)();return`${b} playwright ${B}`}}}async function installBrowsersForNpmInstall(b){if((0,et.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD")){(0,Ye.logPolitely)("Skipping browsers download because `PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD` env variable is set");return false}const B=[];if(process.platform==="win32")B.push(xt.findExecutable("winldd"));for(const F of b){const b=xt.findExecutable(F);if(!b||b.installType==="none")throw new Error(`Cannot install ${F}`);B.push(b)}await xt.install(B)}function findChromiumChannelBestEffort(b){let B=null;for(const F of["chromium","chrome","msedge"]){try{xt.findExecutable(F).executablePathOrDie(b);B=F==="chromium"?void 0:F;break}catch(b){}}if(B===null){const B=buildPlaywrightCLICommand(b,`install chromium`);const F=[`No chromium-based browser found on the system.`,`Please run the following command to download one:`,``,`    ${B}`,``,`<3 Playwright Team`].join("\n");throw new Error("\n"+(0,rt.wrapInASCIIBox)(F,1))}return B}function lowercaseAllKeys(b){if(typeof b!=="object"||!b)return b;if(Array.isArray(b))return b.map(lowercaseAllKeys);const B={};for(const[F,K]of Object.entries(b))B[F.toLowerCase()]=lowercaseAllKeys(K);return B}const xt=new Registry(F(3816));0&&0},9085:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{deps:()=>Qe});b.exports=__toCommonJS(oe);const Qe={"ubuntu20.04-x64":{tools:["xvfb","fonts-noto-color-emoji","ttf-unifont","libfontconfig","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","ttf-ubuntu-font-family"],chromium:["fonts-liberation","libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libegl1","libgbm1","libglib2.0-0","libgtk-3-0","libnspr4","libnss3","libpango-1.0-0","libx11-6","libx11-xcb1","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxrandr2","libxshmfence1"],firefox:["ffmpeg","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf2.0-0","libglib2.0-0","libgtk-3-0","libpango-1.0-0","libpangocairo-1.0-0","libpangoft2-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrender1","libxt6","libxtst6"],webkit:["libenchant-2-2","libflite1","libx264-155","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libegl1","libenchant1c2a","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgdk-pixbuf2.0-0","libgl1","libgles2","libglib2.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu66","libjpeg-turbo8","libnghttp2-14","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libsecret-1-0","libvpx6","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp6","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7"],lib2package:{"libflite.so.1":"libflite1","libflite_usenglish.so.1":"libflite1","libflite_cmu_grapheme_lang.so.1":"libflite1","libflite_cmu_grapheme_lex.so.1":"libflite1","libflite_cmu_indic_lang.so.1":"libflite1","libflite_cmu_indic_lex.so.1":"libflite1","libflite_cmulex.so.1":"libflite1","libflite_cmu_time_awb.so.1":"libflite1","libflite_cmu_us_awb.so.1":"libflite1","libflite_cmu_us_kal16.so.1":"libflite1","libflite_cmu_us_kal.so.1":"libflite1","libflite_cmu_us_rms.so.1":"libflite1","libflite_cmu_us_slt.so.1":"libflite1","libx264.so":"libx264-155","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libenchant.so.1":"libenchant1c2a","libevdev.so.2":"libevdev2","libepoxy.so.0":"libepoxy0","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf2.0-0","libgdk-3.so.0":"libgtk-3-0","libgdk-x11-2.0.so.0":"libgtk2.0-0","libgio-2.0.so.0":"libglib2.0-0","libGL.so.1":"libgl1","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgthread-2.0.so.0":"libglib2.0-0","libgtk-3.so.0":"libgtk-3-0","libgtk-x11-2.0.so.0":"libgtk2.0-0","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicui18n.so.66":"libicu66","libicuuc.so.66":"libicu66","libjpeg.so.8":"libjpeg-turbo8","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpangoft2-1.0.so.0":"libpangoft2-1.0-0","libpng16.so.16":"libpng16-16","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libvpx.so.6":"libvpx6","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.6":"libwebp6","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-dri3.so.0":"libxcb-dri3-0","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXt.so.6":"libxt6","libXtst.so.6":"libxtst6","libxshmfence.so.1":"libxshmfence1","libatomic.so.1":"libatomic1","libenchant-2.so.2":"libenchant-2-2","libevent-2.1.so.7":"libevent-2.1-7"}},"ubuntu22.04-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libwayland-client0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["ffmpeg","libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","libenchant-2-2","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libicu70","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libepoxy0","libevdev2","libffi7","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libjpeg-turbo8","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libx264-163","libatomic1","libevent-2.1-7","libavif13"],lib2package:{"libavif.so.13":"libavif13","libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libepoxy.so.0":"libepoxy0","libevdev.so.2":"libevdev2","libffi.so.7":"libffi7","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0","libgio-2.0.so.0":"libglib2.0-0","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libGLX.so.0":"libglx0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0","libgtk-4.so.1":"libgtk-4-1","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libjpeg.so.8":"libjpeg-turbo8","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16","libproxy.so.1":"libproxy1v5","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXtst.so.6":"libxtst6","libicui18n.so.60":"libicu70","libicuuc.so.66":"libicu70","libicui18n.so.66":"libicu70","libwebp.so.6":"libwebp6","libenchant-2.so.2":"libenchant-2-2","libx264.so":"libx264-163","libvpx.so.7":"libvpx7","libatomic.so.1":"libatomic1","libevent-2.1.so.7":"libevent-2.1-7"}},"ubuntu24.04-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2t64","libatk-bridge2.0-0t64","libatk1.0-0t64","libatspi2.0-0t64","libcairo2","libcups2t64","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0t64","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2t64","libatk1.0-0t64","libcairo-gobject2","libcairo2","libdbus-1-3","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0t64","libgtk-3-0t64","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1"],webkit:["gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libicu74","libatomic1","libatk-bridge2.0-0t64","libatk1.0-0t64","libcairo-gobject2","libcairo2","libdbus-1-3","libdrm2","libenchant-2-2","libepoxy0","libevent-2.1-7t64","libflite1","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0t64","libgstreamer-gl1.0-0","libgstreamer-plugins-bad1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu74","libjpeg-turbo8","liblcms2-2","libmanette-0.2-0","libopus0","libpango-1.0-0","libpangocairo-1.0-0","libpng16-16t64","libsecret-1-0","libvpx9","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxkbcommon0","libxml2","libxslt1.1","libx264-164","libavif16"],lib2package:{"libavif.so.16":"libavif16","libasound.so.2":"libasound2t64","libatk-1.0.so.0":"libatk1.0-0t64","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0t64","libatomic.so.1":"libatomic1","libatspi.so.0":"libatspi2.0-0t64","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2t64","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libenchant-2.so.2":"libenchant-2-2","libepoxy.so.0":"libepoxy0","libevent-2.1.so.7":"libevent-2.1-7t64","libflite_cmu_grapheme_lang.so.1":"libflite1","libflite_cmu_grapheme_lex.so.1":"libflite1","libflite_cmu_indic_lang.so.1":"libflite1","libflite_cmu_indic_lex.so.1":"libflite1","libflite_cmu_time_awb.so.1":"libflite1","libflite_cmu_us_awb.so.1":"libflite1","libflite_cmu_us_kal.so.1":"libflite1","libflite_cmu_us_kal16.so.1":"libflite1","libflite_cmu_us_rms.so.1":"libflite1","libflite_cmu_us_slt.so.1":"libflite1","libflite_cmulex.so.1":"libflite1","libflite_usenglish.so.1":"libflite1","libflite.so.1":"libflite1","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0t64","libgio-2.0.so.0":"libglib2.0-0t64","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0t64","libgmodule-2.0.so.0":"libglib2.0-0t64","libgobject-2.0.so.0":"libglib2.0-0t64","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstcodecparsers-1.0.so.0":"libgstreamer-plugins-bad1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0t64","libgtk-4.so.1":"libgtk-4-1","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicudata.so.74":"libicu74","libicui18n.so.74":"libicu74","libicuuc.so.74":"libicu74","libjpeg.so.8":"libjpeg-turbo8","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16t64","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libsoup-3.0.so.0":"libsoup-3.0-0","libvpx.so.9":"libvpx9","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.7":"libwebp7","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libx264.so":"libx264-164"}},"debian11-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libwayland-client0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu67","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnghttp2-14","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp6","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7"],lib2package:{"libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libenchant-2.so.2":"libenchant-2-2","libepoxy.so.0":"libepoxy0","libevdev.so.2":"libevdev2","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0","libgio-2.0.so.0":"libglib2.0-0","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libGLX.so.0":"libglx0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicui18n.so.67":"libicu67","libicuuc.so.67":"libicu67","libjpeg.so.62":"libjpeg62-turbo","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16","libproxy.so.1":"libproxy1v5","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.6":"libwebp6","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXtst.so.6":"libxtst6","libatomic.so.1":"libatomic1","libevent-2.1.so.7":"libevent-2.1-7"}},"debian12-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu72","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7","libavif15"],lib2package:{"libavif.so.15":"libavif15","libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libgbm.so.1":"libgbm1","libgio-2.0.so.0":"libglib2.0-0","libglib-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libpango-1.0.so.0":"libpango-1.0-0","libsmime3.so":"libnss3","libX11.so.6":"libx11-6","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libxkbcommon.so.0":"libxkbcommon0","libXrandr.so.2":"libxrandr2","libgtk-4.so.1":"libgtk-4-1"}},"debian13-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2t64","libatk-bridge2.0-0t64","libatk1.0-0t64","libatspi2.0-0t64","libcairo2","libcups2t64","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0t64","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0t64","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0t64","libgtk-3-0t64","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0t64","libatk1.0-0t64","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0t64","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu76","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16t64","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7t64","libavif16"],lib2package:{"libicudata.so.74":"libicu76","libicui18n.so.74":"libicu76","libicuuc.so.74":"libicu76","libevent-2.1.so.7":"libevent-2.1-7t64","libpng16.so.16":"libpng16-16t64","libgdk-3.so.0":"libgtk-3-0t64","libgtk-3.so.0":"libgtk-3-0t64","libavif.so.16":"libavif16","libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2t64","libatk-1.0.so.0":"libatk1.0-0t64","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0t64","libatspi.so.0":"libatspi2.0-0t64","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2t64","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libgbm.so.1":"libgbm1","libgio-2.0.so.0":"libglib2.0-0t64","libglib-2.0.so.0":"libglib2.0-0t64","libgobject-2.0.so.0":"libglib2.0-0t64","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libpango-1.0.so.0":"libpango-1.0-0","libsmime3.so":"libnss3","libX11.so.6":"libx11-6","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libxkbcommon.so.0":"libxkbcommon0","libXrandr.so.2":"libxrandr2","libgtk-4.so.1":"libgtk-4-1"}}};Qe["ubuntu20.04-arm64"]={tools:[...Qe["ubuntu20.04-x64"].tools],chromium:[...Qe["ubuntu20.04-x64"].chromium],firefox:[...Qe["ubuntu20.04-x64"].firefox],webkit:[...Qe["ubuntu20.04-x64"].webkit],lib2package:{...Qe["ubuntu20.04-x64"].lib2package}};Qe["ubuntu22.04-arm64"]={tools:[...Qe["ubuntu22.04-x64"].tools],chromium:[...Qe["ubuntu22.04-x64"].chromium],firefox:[...Qe["ubuntu22.04-x64"].firefox],webkit:[...Qe["ubuntu22.04-x64"].webkit],lib2package:{...Qe["ubuntu22.04-x64"].lib2package}};Qe["ubuntu24.04-arm64"]={tools:[...Qe["ubuntu24.04-x64"].tools],chromium:[...Qe["ubuntu24.04-x64"].chromium],firefox:[...Qe["ubuntu24.04-x64"].firefox],webkit:[...Qe["ubuntu24.04-x64"].webkit],lib2package:{...Qe["ubuntu24.04-x64"].lib2package}};Qe["debian11-arm64"]={tools:[...Qe["debian11-x64"].tools],chromium:[...Qe["debian11-x64"].chromium],firefox:[...Qe["debian11-x64"].firefox],webkit:[...Qe["debian11-x64"].webkit],lib2package:{...Qe["debian11-x64"].lib2package}};Qe["debian12-arm64"]={tools:[...Qe["debian12-x64"].tools],chromium:[...Qe["debian12-x64"].chromium],firefox:[...Qe["debian12-x64"].firefox],webkit:[...Qe["debian12-x64"].webkit],lib2package:{...Qe["debian12-x64"].lib2package}};Qe["debian13-arm64"]={tools:[...Qe["debian13-x64"].tools],chromium:[...Qe["debian13-x64"].chromium],firefox:[...Qe["debian13-x64"].firefox],webkit:[...Qe["debian13-x64"].webkit],lib2package:{...Qe["debian13-x64"].lib2package}};0&&0},4807:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Screenshotter:()=>Screenshotter,validateScreenshotOptions:()=>validateScreenshotOptions});b.exports=__toCommonJS(Re);var Me=F(4794);var Le=F(3143);var We=F(9915);function inPagePrepareForScreenshots(b,B,F,K){if(K){const b=document.createElement("style");b.textContent="body {}";document.head.appendChild(b);document.documentElement.getBoundingClientRect();b.remove()}if(!b&&!B&&!F)return;const collectRoots=(b,B=[])=>{B.push(b);const F=document.createTreeWalker(b,NodeFilter.SHOW_ELEMENT);do{const b=F.currentNode;const K=b instanceof Element?b.shadowRoot:null;if(K)collectRoots(K,B)}while(F.nextNode());return B};const se=collectRoots(document);const oe=[];if(b){for(const B of se){const F=document.createElement("style");F.textContent=b;if(B===document)document.documentElement.append(F);else B.append(F);oe.push((()=>{F.remove()}))}}if(B){const b=new Map;for(const B of se){B.querySelectorAll("input,textarea,[contenteditable]").forEach((B=>{b.set(B,{value:B.style.getPropertyValue("caret-color"),priority:B.style.getPropertyPriority("caret-color")});B.style.setProperty("caret-color","transparent","important")}))}oe.push((()=>{for(const[B,F]of b)B.style.setProperty("caret-color",F.value,F.priority)}))}if(F){const b=new Set;const handleAnimations=B=>{for(const F of B.getAnimations()){if(!F.effect||F.playbackRate===0||b.has(F))continue;const B=F.effect.getComputedTiming().endTime;if(Number.isFinite(B)){try{F.finish()}catch(b){}}else{try{F.cancel();b.add(F)}catch(b){}}}};for(const b of se){const B=handleAnimations.bind(null,b);B();b.addEventListener("transitionrun",B);b.addEventListener("animationstart",B);oe.push((()=>{b.removeEventListener("transitionrun",B);b.removeEventListener("animationstart",B)}))}oe.push((()=>{for(const B of b){try{B.play()}catch(b){}}}))}window.__pwCleanupScreenshot=()=>{for(const b of oe)b();delete window.__pwCleanupScreenshot}}class Screenshotter{constructor(b){this._queue=new TaskQueue;this._page=b;this._queue=new TaskQueue}async _originalViewportSize(b){let B=this._page.emulatedSize()?.viewport;if(!B)B=await this._page.mainFrame().waitForFunctionValueInUtility(b,(()=>({width:window.innerWidth,height:window.innerHeight})));return B}async _fullPageSize(b){const B=await this._page.mainFrame().waitForFunctionValueInUtility(b,(()=>{if(!document.body||!document.documentElement)return null;return{width:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth),height:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}}));return B}async screenshotPage(b,B){const F=validateScreenshotOptions(B);return this._queue.postTask((async()=>{b.log("taking page screenshot");const K=await this._originalViewportSize(b);await this._preparePageForScreenshot(b,this._page.mainFrame(),B.style,B.caret!=="initial",B.animations==="disabled");try{if(B.fullPage){const se=await this._fullPageSize(b);let oe={x:0,y:0,width:se.width,height:se.height};const Qe=se.width<=K.width&&se.height<=K.height;if(B.clip)oe=trimClipToSize(B.clip,oe);return await this._screenshot(b,F,oe,void 0,Qe,B)}const se=B.clip?trimClipToSize(B.clip,K):{x:0,y:0,...K};return await this._screenshot(b,F,void 0,se,true,B)}finally{await this._restorePageAfterScreenshot()}}))}async screenshotElement(b,B,F){const K=validateScreenshotOptions(F);return this._queue.postTask((async()=>{b.log("taking element screenshot");const se=await this._originalViewportSize(b);await this._preparePageForScreenshot(b,B._frame,F.style,F.caret!=="initial",F.animations==="disabled");try{await B._waitAndScrollIntoViewIfNeeded(b,true);const oe=await b.race(B.boundingBox());(0,Le.assert)(oe,"Node is either not visible or not an HTMLElement");(0,Le.assert)(oe.width!==0,"Node has 0 width.");(0,Le.assert)(oe.height!==0,"Node has 0 height.");const Qe=oe.width<=se.width&&oe.height<=se.height;const Re=await this._page.mainFrame().waitForFunctionValueInUtility(b,(()=>({x:window.scrollX,y:window.scrollY})));const We={...oe};We.x+=Re.x;We.y+=Re.y;return await this._screenshot(b,K,Me.helper.enclosingIntRect(We),void 0,Qe,F)}finally{await this._restorePageAfterScreenshot()}}))}async _preparePageForScreenshot(b,B,F,K,se){if(se)b.log("  disabled all CSS animations");const oe=this._page.delegate.shouldToggleStyleSheetToSyncAnimations();await b.race(this._page.safeNonStallingEvaluateInAllFrames("("+inPagePrepareForScreenshots.toString()+`)(${JSON.stringify(F)}, ${K}, ${se}, ${oe})`,"utility"));try{if(!process.env.PW_TEST_SCREENSHOT_NO_FONTS_READY){b.log("waiting for fonts to load...");await b.race(B.nonStallingEvaluateInExistingContext("document.fonts.ready","utility").catch((()=>{})));b.log("fonts loaded")}}catch(b){await this._restorePageAfterScreenshot();throw b}}async _restorePageAfterScreenshot(){await this._page.safeNonStallingEvaluateInAllFrames("window.__pwCleanupScreenshot && window.__pwCleanupScreenshot()","utility")}async _maskElements(b,B){if(!B.mask||!B.mask.length)return()=>Promise.resolve();const F=new We.MultiMap;await b.race(Promise.all((B.mask||[]).map((async({frame:b,selector:B})=>{const K=await b.selectors.resolveFrameForSelector(B);if(K)F.set(K.frame,K.info.parsed)}))));const K=[...F.keys()];const cleanup=async()=>{await Promise.all(K.map((b=>b.hideHighlight())))};try{const se=K.map((b=>b.maskSelectors(F.get(b),B.maskColor||"#F0F")));await b.race(Promise.all(se));return cleanup}catch(b){cleanup().catch((()=>{}));throw b}}async _screenshot(b,B,F,K,se,oe){if(oe.__testHookBeforeScreenshot)await b.race(oe.__testHookBeforeScreenshot());const Qe=oe.omitBackground&&B==="png";if(Qe)await b.race(this._page.delegate.setBackgroundColor({r:0,g:0,b:0,a:0}));const Re=await this._maskElements(b,oe);try{const Me=B==="jpeg"?oe.quality??80:void 0;const Le=await this._page.delegate.takeScreenshot(b,B,F,K,Me,se,oe.scale||"device");await Re();if(Qe)await this._page.delegate.setBackgroundColor();if(oe.__testHookAfterScreenshot)await b.race(oe.__testHookAfterScreenshot());return Le}catch(b){Re().catch((()=>{}));if(Qe)this._page.delegate.setBackgroundColor().catch((()=>{}));throw b}}}class TaskQueue{constructor(){this._chain=Promise.resolve()}postTask(b){const B=this._chain.then(b);this._chain=B.catch((()=>{}));return B}}function trimClipToSize(b,B){const F={x:Math.max(0,Math.min(b.x,B.width)),y:Math.max(0,Math.min(b.y,B.height))};const K={x:Math.max(0,Math.min(b.x+b.width,B.width)),y:Math.max(0,Math.min(b.y+b.height,B.height))};const se={x:F.x,y:F.y,width:K.x-F.x,height:K.y-F.y};(0,Le.assert)(se.width&&se.height,"Clipped area is either empty or outside the resulting image");return se}function validateScreenshotOptions(b){let B=null;if(b.type){(0,Le.assert)(b.type==="png"||b.type==="jpeg","Unknown options.type value: "+b.type);B=b.type}if(!B)B="png";if(b.quality!==void 0){(0,Le.assert)(B==="jpeg","options.quality is unsupported for the "+B+" screenshots");(0,Le.assert)(typeof b.quality==="number","Expected options.quality to be a number but found "+typeof b.quality);(0,Le.assert)(Number.isInteger(b.quality),"Expected options.quality to be an integer");(0,Le.assert)(b.quality>=0&&b.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+b.quality)}if(b.clip){(0,Le.assert)(typeof b.clip.x==="number","Expected options.clip.x to be a number but found "+typeof b.clip.x);(0,Le.assert)(typeof b.clip.y==="number","Expected options.clip.y to be a number but found "+typeof b.clip.y);(0,Le.assert)(typeof b.clip.width==="number","Expected options.clip.width to be a number but found "+typeof b.clip.width);(0,Le.assert)(typeof b.clip.height==="number","Expected options.clip.height to be a number but found "+typeof b.clip.height);(0,Le.assert)(b.clip.width!==0,"Expected options.clip.width not to be 0.");(0,Le.assert)(b.clip.height!==0,"Expected options.clip.height not to be 0.")}return B}0&&0},8490:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Selectors:()=>Selectors});b.exports=__toCommonJS(Re);var Me=F(6065);var Le=F(3168);class Selectors{constructor(b,B){this.guid=`selectors@${(0,Me.createGuid)()}`;this._builtinEngines=new Set(["css","css:light","xpath","xpath:light","_react","_vue","text","text:light","id","id:light","data-testid","data-testid:light","data-test-id","data-test-id:light","data-test","data-test:light","nth","visible","internal:control","internal:has","internal:has-not","internal:has-text","internal:has-not-text","internal:and","internal:or","internal:chain","role","internal:attr","internal:label","internal:text","internal:role","internal:testid","internal:describe","aria-ref"]);this._builtinEnginesInMainWorld=new Set(["_react","_vue"]);this._engines=new Map;this._testIdAttributeName=B??"data-testid";for(const B of b)this.register(B)}register(b){if(!b.name.match(/^[a-zA-Z_0-9-]+$/))throw new Error("Selector engine name may only contain [a-zA-Z0-9_] characters");if(this._builtinEngines.has(b.name)||b.name==="zs"||b.name==="zs:light")throw new Error(`"${b.name}" is a predefined selector engine`);if(this._engines.has(b.name))throw new Error(`"${b.name}" selector engine has been already registered`);this._engines.set(b.name,b)}testIdAttributeName(){return this._testIdAttributeName}setTestIdAttributeName(b){this._testIdAttributeName=b}parseSelector(b,B){const F=typeof b==="string"?(0,Le.parseSelector)(b):b;let K=false;(0,Le.visitAllSelectorParts)(F,(b=>{const B=b.name;const se=this._engines.get(B);if(!se&&!this._builtinEngines.has(B))throw new Le.InvalidSelectorError(`Unknown engine "${B}" while parsing selector ${(0,Le.stringifySelector)(F)}`);if(se&&!se.contentScript)K=true;if(this._builtinEnginesInMainWorld.has(B))K=true}));return{parsed:F,world:K?"main":"utility",strict:B}}}0&&0},3695:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{ClientCertificatesProxy:()=>ClientCertificatesProxy,getMatchingTLSOptionsForOrigin:()=>getMatchingTLSOptionsForOrigin,rewriteOpenSSLErrorIfNeeded:()=>rewriteOpenSSLErrorIfNeeded});b.exports=__toCommonJS(Le);var We=F(4434);var Ge=__toESM(F(5675));var ze=__toESM(F(9278));var $e=__toESM(F(2203));var Ye=__toESM(F(4756));var Ke=F(7611);var Xe=F(3143);var et=F(3021);var rt=F(6028);var it=F(6877);var ot=F(3989);var at=F(6327);let lt=void 0;function loadDummyServerCertsIfNeeded(){if(lt)return;const{cert:b,key:B}=(0,Xe.generateSelfSignedCertificate)();lt={key:B,cert:b}}class SocksProxyConnection{constructor(b,B,F,K){this._firstPackageReceived=false;this._closed=false;this.socksProxy=b;this.uid=B;this.host=F;this.port=K;this._serverCloseEventListener=()=>{this._browserEncrypted.destroy()};this._browserEncrypted=new $e.default.Duplex({read:()=>{},write:(b,B,F)=>{this.socksProxy._socksProxy.sendSocketData({uid:this.uid,data:b});F()},destroy:(B,F)=>{if(B)b._socksProxy.sendSocketError({uid:this.uid,error:B.message});else b._socksProxy.sendSocketEnd({uid:this.uid});F()}})}async connect(){const b=this.socksProxy.getProxyAgent(this.host,this.port);if(b)this._serverEncrypted=await b.connect(new We.EventEmitter,{host:rewriteToLocalhostIfNeeded(this.host),port:this.port,secureEndpoint:false});else this._serverEncrypted=await(0,ot.createSocket)(rewriteToLocalhostIfNeeded(this.host),this.port);this._serverEncrypted.once("close",this._serverCloseEventListener);this._serverEncrypted.once("error",(b=>this._browserEncrypted.destroy(b)));if(this._closed){this._serverEncrypted.destroy();return}this.socksProxy._socksProxy.socketConnected({uid:this.uid,host:this._serverEncrypted.localAddress,port:this._serverEncrypted.localPort})}onClose(){this._serverEncrypted.destroy();this._browserEncrypted.destroy();this._closed=true}onData(b){if(!this._firstPackageReceived){this._firstPackageReceived=true;if(b[0]===22)this._establishTlsTunnel(this._browserEncrypted,b);else this._establishPlaintextTunnel(this._browserEncrypted)}this._browserEncrypted.push(b)}_establishPlaintextTunnel(b){b.pipe(this._serverEncrypted);this._serverEncrypted.pipe(b)}_establishTlsTunnel(b,B){const F=parseALPNFromClientHello(B)||["http/1.1"];it.debugLogger.log("client-certificates",`Browser->Proxy ${this.host}:${this.port} offers ALPN ${F}`);const K=Ye.default.connect({socket:this._serverEncrypted,host:this.host,port:this.port,rejectUnauthorized:!this.socksProxy.ignoreHTTPSErrors,ALPNProtocols:F,servername:!ze.default.isIP(this.host)?this.host:void 0,secureContext:this.socksProxy.secureContextMap.get(new URL(`https://${this.host}:${this.port}`).origin)},(async()=>{const B=await this._upgradeToTLSIfNeeded(b,K.alpnProtocol);it.debugLogger.log("client-certificates",`Proxy->Server ${this.host}:${this.port} chooses ALPN ${B.alpnProtocol}`);B.pipe(K);K.pipe(B);const cleanup=b=>this._serverEncrypted.destroy(b);B.once("error",cleanup);K.once("error",cleanup);B.once("close",cleanup);K.once("close",cleanup);if(this._closed)K.destroy()}));K.once("error",(async b=>{it.debugLogger.log("client-certificates",`error when connecting to server: ${b.message.replaceAll("\n"," ")}`);this._serverEncrypted.removeListener("close",this._serverCloseEventListener);this._serverEncrypted.destroy();const B=await this._upgradeToTLSIfNeeded(this._browserEncrypted,K.alpnProtocol);const F=(0,Xe.escapeHTML)("Playwright client-certificate error: "+b.message).replaceAll("\n"," <br>");if(B.alpnProtocol==="h2"){if("performServerHandshake"in Ge.default){const b=Ge.default.performServerHandshake(B);b.on("error",(b=>{this._browserEncrypted.destroy(b)}));b.once("stream",(B=>{const cleanup=B=>{b.close();this._browserEncrypted.destroy(B)};B.once("end",cleanup);B.once("error",cleanup);B.respond({[Ge.default.constants.HTTP2_HEADER_CONTENT_TYPE]:"text/html",[Ge.default.constants.HTTP2_HEADER_STATUS]:503});B.end(F)}))}else{this._browserEncrypted.destroy(b)}}else{B.end(["HTTP/1.1 503 Internal Server Error","Content-Type: text/html; charset=utf-8","Content-Length: "+Buffer.byteLength(F),"",F].join("\r\n"))}}))}async _upgradeToTLSIfNeeded(b,B){this._brorwserDecrypted??=new Promise(((F,K)=>{const se=Ye.default.createServer({...lt,ALPNProtocols:[B||"http/1.1"]});se.emit("connection",b);se.once("secureConnection",(b=>{se.close();F(b)}));se.once("error",(b=>{se.close();K(b)}))}));return this._brorwserDecrypted}}class ClientCertificatesProxy{constructor(b){this._connections=new Map;this.secureContextMap=new Map;(0,et.verifyClientCertificates)(b.clientCertificates);this.ignoreHTTPSErrors=b.ignoreHTTPSErrors;this._proxy=b.proxy;this._initSecureContexts(b.clientCertificates);this._socksProxy=new Ke.SocksProxy;this._socksProxy.setPattern("*");this._socksProxy.addListener(Ke.SocksProxy.Events.SocksRequested,(async b=>{try{const B=new SocksProxyConnection(this,b.uid,b.host,b.port);await B.connect();this._connections.set(b.uid,B)}catch(B){it.debugLogger.log("client-certificates",`Failed to connect to ${b.host}:${b.port}: ${B.message}`);this._socksProxy.socketFailed({uid:b.uid,errorCode:B.code})}}));this._socksProxy.addListener(Ke.SocksProxy.Events.SocksData,(b=>{this._connections.get(b.uid)?.onData(b.data)}));this._socksProxy.addListener(Ke.SocksProxy.Events.SocksClosed,(b=>{this._connections.get(b.uid)?.onClose();this._connections.delete(b.uid)}));loadDummyServerCertsIfNeeded()}getProxyAgent(b,B){const F=(0,rt.createProxyAgent)(this._proxy);if(F)return F;const K=(0,at.getProxyForUrl)(`https://${b}:${B}`);if(K)return(0,rt.createProxyAgent)({server:K})}_initSecureContexts(b){const B=new Map;for(const F of b||[]){const b=normalizeOrigin(F.origin);const K=B.get(b)||[];K.push(F);B.set(b,K)}for(const[b,F]of B){try{this.secureContextMap.set(b,Ye.default.createSecureContext(convertClientCertificatesToTLSOptions(F)))}catch(b){b=rewriteOpenSSLErrorIfNeeded(b);throw(0,Xe.rewriteErrorMessage)(b,`Failed to load client certificate: ${b.message}`)}}}static async create(b,B){const F=new ClientCertificatesProxy(B);try{await b.race(F._socksProxy.listen(0,"127.0.0.1"));return F}catch(b){await F.close();throw b}}proxySettings(){return{server:`socks5://127.0.0.1:${this._socksProxy.port()}`}}async close(){await this._socksProxy.close()}}function normalizeOrigin(b){try{return new URL(b).origin}catch(B){return b}}function convertClientCertificatesToTLSOptions(b){if(!b||!b.length)return;const B={pfx:[],key:[],cert:[]};for(const F of b){if(F.cert)B.cert.push(F.cert);if(F.key)B.key.push({pem:F.key,passphrase:F.passphrase});if(F.pfx)B.pfx.push({buf:F.pfx,passphrase:F.passphrase})}return B}function getMatchingTLSOptionsForOrigin(b,B){const F=b?.filter((b=>normalizeOrigin(b.origin)===B));return convertClientCertificatesToTLSOptions(F)}function rewriteToLocalhostIfNeeded(b){return b==="local.playwright"?"localhost":b}function rewriteOpenSSLErrorIfNeeded(b){if(b.message!=="unsupported"&&b.code!=="ERR_CRYPTO_UNSUPPORTED_OPERATION")return b;return(0,Xe.rewriteErrorMessage)(b,["Unsupported TLS certificate.","Most likely, the security algorithm of the given certificate was deprecated by OpenSSL.","For more details, see https://github.com/openssl/openssl/blob/master/README-PROVIDERS.md#the-legacy-provider","You could probably modernize the certificate by following the steps at https://github.com/nodejs/node/issues/40672#issuecomment-1243648223"].join("\n"))}function parseALPNFromClientHello(b){if(b.length<6)return null;if(b[0]!==22)return null;let B=5;if(b[B]!==1)return null;B+=4;B+=2;B+=32;if(B>=b.length)return null;const F=b[B];B+=1+F;if(B+2>b.length)return null;const K=b.readUInt16BE(B);B+=2+K;if(B>=b.length)return null;const se=b[B];B+=1+se;if(B+2>b.length)return null;const oe=b.readUInt16BE(B);B+=2;const Qe=B+oe;if(Qe>b.length)return null;while(B+4<=Qe){const F=b.readUInt16BE(B);B+=2;const K=b.readUInt16BE(B);B+=2;if(B+K>Qe)return null;if(F===16)return parseALPNExtension(b.subarray(B,B+K));B+=K}return null}function parseALPNExtension(b){if(b.length<2)return null;const B=b.readUInt16BE(0);if(B!==b.length-2)return null;const F=[];let K=2;while(K<b.length){const B=b[K];K+=1;if(K+B>b.length)break;const se=b.subarray(K,K+B).toString("utf8");F.push(se);K+=B}return F.length>0?F:null}0&&0},9178:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{SocksInterceptor:()=>SocksInterceptor});b.exports=__toCommonJS(Le);var We=__toESM(F(4434));var Ge=__toESM(F(7611));var ze=F(8789);var $e=F(3113);class SocksInterceptor{constructor(b,B,F){this._ids=new Set;this._handler=new Ge.SocksProxyHandler(B,F);let K=-1;this._channel=new Proxy(new We.default,{get:(B,F)=>{if(F in B||B[F]!==void 0||typeof F!=="string")return B[F];return B=>{try{const se=--K;this._ids.add(se);const oe=(0,ze.findValidator)("SocksSupport",F,"Params");B=oe(B,"",{tChannelImpl:tChannelForSocks,binary:"toBase64",isUnderTest:$e.isUnderTest});b.send({id:se,guid:this._socksSupportObjectGuid,method:F,params:B,metadata:{stack:[],apiName:"",internal:true}})}catch(b){}}}});this._handler.on(Ge.SocksProxyHandler.Events.SocksConnected,(b=>this._channel.socksConnected(b)));this._handler.on(Ge.SocksProxyHandler.Events.SocksData,(b=>this._channel.socksData(b)));this._handler.on(Ge.SocksProxyHandler.Events.SocksError,(b=>this._channel.socksError(b)));this._handler.on(Ge.SocksProxyHandler.Events.SocksFailed,(b=>this._channel.socksFailed(b)));this._handler.on(Ge.SocksProxyHandler.Events.SocksEnd,(b=>this._channel.socksEnd(b)));this._channel.on("socksRequested",(b=>this._handler.socketRequested(b)));this._channel.on("socksClosed",(b=>this._handler.socketClosed(b)));this._channel.on("socksData",(b=>this._handler.sendSocketData(b)))}cleanup(){this._handler.cleanup()}interceptMessage(b){if(this._ids.has(b.id)){this._ids.delete(b.id);return true}if(b.method==="__create__"&&b.params.type==="SocksSupport"){this._socksSupportObjectGuid=b.params.guid;return false}if(this._socksSupportObjectGuid&&b.guid===this._socksSupportObjectGuid){const B=(0,ze.findValidator)("SocksSupport",b.method,"Event");const F=B(b.params,"",{tChannelImpl:tChannelForSocks,binary:"fromBase64",isUnderTest:$e.isUnderTest});this._channel.emit(b.method,F);return true}return false}}function tChannelForSocks(b,B,F,K){throw new ze.ValidationError(`${F}: channels are not expected in SocksSupport`)}0&&0},562:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Snapshotter:()=>Snapshotter});b.exports=__toCommonJS(Re);var Me=F(3282);var Le=F(4419);var We=F(6065);var Ge=F(6877);var ze=F(8753);var $e=F(6327);var Ye=F(3021);var Ke=F(45);class Snapshotter{constructor(b,B){this._eventListeners=[];this._started=false;this._context=b;this._delegate=B;const F=(0,We.createGuid)();this._snapshotStreamer="__playwright_snapshot_streamer_"+F}started(){return this._started}async start(){this._started=true;if(!this._initScript)await this._initialize();await this.reset()}async reset(){if(this._started)await this._context.safeNonStallingEvaluateInAllFrames(`window["${this._snapshotStreamer}"].reset()`,"main")}stop(){this._started=false}async resetForReuse(){if(this._initScript){ze.eventsHelper.removeEventListeners(this._eventListeners);await this._context.removeInitScripts([this._initScript]);this._initScript=void 0}}async _initialize(){for(const b of this._context.pages())this._onPage(b);this._eventListeners=[ze.eventsHelper.addEventListener(this._context,Ye.BrowserContext.Events.Page,this._onPage.bind(this))];const{javaScriptEnabled:b}=this._context._options;const B=`(${Me.frameSnapshotStreamer})("${this._snapshotStreamer}", ${b||b===void 0})`;this._initScript=await this._context.addInitScript(void 0,B);await this._context.safeNonStallingEvaluateInAllFrames(B,"main")}dispose(){ze.eventsHelper.removeEventListeners(this._eventListeners)}async _captureFrameSnapshot(b){const B=!!b[Xe];b[Xe]=false;const F=`window["${this._snapshotStreamer}"].captureSnapshot(${B?"true":"false"})`;try{return await b.nonStallingRawEvaluateInExistingMainContext(F)}catch(B){b[Xe]=true;Ge.debugLogger.log("error",B)}}async captureSnapshot(b,B,F){const K=b.frames().map((async K=>{const se=await this._captureFrameSnapshot(K);if(!se||!this._started)return;const oe={callId:B,snapshotName:F,pageId:b.guid,frameId:K.guid,frameUrl:se.url,doctype:se.doctype,html:se.html,viewport:se.viewport,timestamp:(0,Le.monotonicTime)(),wallTime:se.wallTime,collectionTime:se.collectionTime,resourceOverrides:[],isMainFrame:b.mainFrame()===K};for(const{url:b,content:B,contentType:F}of se.resourceOverrides){if(typeof B==="string"){const K=Buffer.from(B);const se=(0,We.calculateSha1)(K)+"."+($e.mime.getExtension(F)||"dat");this._delegate.onSnapshotterBlob({sha1:se,buffer:K});oe.resourceOverrides.push({url:b,sha1:se})}else{oe.resourceOverrides.push({url:b,ref:B})}}this._delegate.onFrameSnapshot(oe)}));await Promise.all(K)}_onPage(b){for(const B of b.frames())this._annotateFrameHierarchy(B);this._eventListeners.push(ze.eventsHelper.addEventListener(b,Ke.Page.Events.FrameAttached,(b=>this._annotateFrameHierarchy(b))))}async _annotateFrameHierarchy(b){try{const B=await b.frameElement();const F=b.parentFrame();if(!F)return;const K=await F._mainContext();await(K?.evaluate((({snapshotStreamer:b,frameElement:B,frameId:F})=>{window[b].markIframe(B,F)}),{snapshotStreamer:this._snapshotStreamer,frameElement:B,frameId:b.guid}));B.dispose()}catch(b){}}}const Xe=Symbol("kNeedsReset");0&&0},3282:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{frameSnapshotStreamer:()=>frameSnapshotStreamer});b.exports=__toCommonJS(oe);function frameSnapshotStreamer(b,B){if(window[b])return;const F="__playwright_shadow_root_";const K="__playwright_value_";const se="__playwright_checked_";const oe="__playwright_selected_";const Qe="__playwright_scroll_top_";const Re="__playwright_scroll_left_";const Me="__playwright_style_sheet_";const Le="__playwright_target__";const We="__playwright_custom_elements__";const Ge="__playwright_current_src__";const ze="__playwright_bounding_rect__";const $e="__playwright_popover_open_";const Ye="__playwright_dialog_open_";const Ke=Symbol("__playwright_snapshot_frameid_");const Xe=Symbol("__playwright_snapshot_cache_");const et=Symbol("__playwright_end_of_list_");function resetCachedData(b){delete b[Xe]}function ensureCachedData(b){if(!b[Xe])b[Xe]={};return b[Xe]}function removeHash(b){try{const B=new URL(b);B.hash="";return B.toString()}catch(B){return b}}class Streamer{constructor(){this._lastSnapshotNumber=0;this._staleStyleSheets=new Set;this._readingStyleSheet=false;const invalidateCSSGroupingRule=b=>{if(b.parentStyleSheet)this._invalidateStyleSheet(b.parentStyleSheet)};this._interceptNativeMethod(window.CSSStyleSheet.prototype,"insertRule",(b=>this._invalidateStyleSheet(b)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"deleteRule",(b=>this._invalidateStyleSheet(b)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"addRule",(b=>this._invalidateStyleSheet(b)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"removeRule",(b=>this._invalidateStyleSheet(b)));this._interceptNativeGetter(window.CSSStyleSheet.prototype,"rules",(b=>this._invalidateStyleSheet(b)));this._interceptNativeGetter(window.CSSStyleSheet.prototype,"cssRules",(b=>this._invalidateStyleSheet(b)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"replaceSync",(b=>this._invalidateStyleSheet(b)));this._interceptNativeMethod(window.CSSGroupingRule.prototype,"insertRule",invalidateCSSGroupingRule);this._interceptNativeMethod(window.CSSGroupingRule.prototype,"deleteRule",invalidateCSSGroupingRule);this._interceptNativeGetter(window.CSSGroupingRule.prototype,"cssRules",invalidateCSSGroupingRule);this._interceptNativeAsyncMethod(window.CSSStyleSheet.prototype,"replace",(b=>this._invalidateStyleSheet(b)));this._fakeBase=document.createElement("base");this._observer=new MutationObserver((b=>this._handleMutations(b)));const b={attributes:true,subtree:true};this._observer.observe(document,b);this._refreshListenersWhenNeeded()}_refreshListenersWhenNeeded(){this._refreshListeners();const b="__playwright_snapshotter_global_listeners_check__";let B=false;const handleCustomEvent=()=>B=true;window.addEventListener(b,handleCustomEvent);const F=new MutationObserver((F=>{const K=F.some((b=>Array.from(b.addedNodes).includes(document.documentElement)));if(K){B=false;window.dispatchEvent(new CustomEvent(b));if(!B){window.addEventListener(b,handleCustomEvent);this._refreshListeners()}}}));F.observe(document,{childList:true})}_refreshListeners(){document.addEventListener("__playwright_mark_target__",(b=>{if(!b.detail)return;const B=b.detail;b.composedPath()[0].__playwright_target__=B}));document.addEventListener("__playwright_unmark_target__",(b=>{if(!b.detail)return;const B=b.detail;if(b.composedPath()[0].__playwright_target__===B)delete b.composedPath()[0].__playwright_target__}))}_interceptNativeMethod(b,B,F){const K=b[B];if(!K)return;b[B]=function(...b){const B=K.call(this,...b);F(this,B);return B}}_interceptNativeAsyncMethod(b,B,F){const K=b[B];if(!K)return;b[B]=async function(...b){const B=await K.call(this,...b);F(this,B);return B}}_interceptNativeGetter(b,B,F){const K=Object.getOwnPropertyDescriptor(b,B);Object.defineProperty(b,B,{...K,get:function(){const b=K.get.call(this);F(this,b);return b}})}_handleMutations(b){for(const B of b)ensureCachedData(B.target).attributesCached=void 0}_invalidateStyleSheet(b){if(this._readingStyleSheet)return;this._staleStyleSheets.add(b)}_updateStyleElementStyleSheetTextIfNeeded(b,B){const F=ensureCachedData(b);if(this._staleStyleSheets.has(b)||B&&F.cssText===void 0){this._staleStyleSheets.delete(b);try{F.cssText=this._getSheetText(b)}catch(b){F.cssText=""}}return F.cssText}_updateLinkStyleSheetTextIfNeeded(b,B){const F=ensureCachedData(b);if(this._staleStyleSheets.has(b)){this._staleStyleSheets.delete(b);try{F.cssText=this._getSheetText(b);F.cssRef=B;return F.cssText}catch(b){}}return F.cssRef===void 0?void 0:B-F.cssRef}markIframe(b,B){b[Ke]=B}reset(){this._staleStyleSheets.clear();const visitNode=b=>{resetCachedData(b);if(b.nodeType===Node.ELEMENT_NODE){const B=b;if(B.shadowRoot)visitNode(B.shadowRoot)}for(let B=b.firstChild;B;B=B.nextSibling)visitNode(B)};visitNode(document.documentElement);visitNode(this._fakeBase)}__sanitizeMetaAttribute(b,B,F){if(b==="charset")return"utf-8";if(F.toLowerCase()!=="content-type"||b!=="content")return B;const[K,...se]=B.split(";");if(K!=="text/html"||se.length<=0)return B;const oe=se.findIndex((b=>b.trim().startsWith("charset=")));if(oe>-1)se[oe]="charset=utf-8";return`${K}; ${se.join("; ")}`}_sanitizeUrl(b){if(b.startsWith("javascript:")||b.startsWith("vbscript:"))return"";return b}_sanitizeSrcSet(b){return b.split(",").map((b=>{b=b.trim();const B=b.lastIndexOf(" ");if(B===-1)return this._sanitizeUrl(b);return this._sanitizeUrl(b.substring(0,B).trim())+b.substring(B)})).join(", ")}_resolveUrl(b,B){if(B==="")return"";try{return new URL(B,b).href}catch(b){return B}}_getSheetBase(b){let B=b;while(B.parentStyleSheet)B=B.parentStyleSheet;if(B.ownerNode)return B.ownerNode.baseURI;return document.baseURI}_getSheetText(b){this._readingStyleSheet=true;try{const B=[];for(const F of b.cssRules)B.push(F.cssText);return B.join("\n")}finally{this._readingStyleSheet=false}}captureSnapshot(b){const Xe=performance.now();const rt=++this._lastSnapshotNumber;if(b)this.reset();let it=0;let ot=0;let at=0;this._handleMutations(this._observer.takeRecords());const lt=new Set;const visitNode=b=>{const Me=b.nodeType;const Xe=Me===Node.DOCUMENT_FRAGMENT_NODE?"template":b.nodeName;if(Me!==Node.ELEMENT_NODE&&Me!==Node.DOCUMENT_FRAGMENT_NODE&&Me!==Node.TEXT_NODE)return;if(Xe==="SCRIPT")return;if(Xe==="LINK"&&Me===Node.ELEMENT_NODE){const B=b.getAttribute("rel")?.toLowerCase();if(B==="preload"||B==="prefetch")return}if(B&&Xe==="NOSCRIPT")return;if(Xe==="META"&&b.httpEquiv.toLowerCase()==="content-security-policy")return;if((Xe==="IFRAME"||Xe==="FRAME")&&at)return;const ut=ensureCachedData(b);const dt=[];let ht=!!ut.cached;let pt=0;const expectValue=b=>{ht=ht&&ut.cached[dt.length]===b;dt.push(b)};const checkAndReturn=b=>{ut.attributesCached=true;if(ht)return{equals:true,n:[[rt-ut.ref[0],ut.ref[1]]]};it+=pt;ut.ref=[rt,it++];ut.cached=dt;return{equals:false,n:b}};if(Me===Node.TEXT_NODE){const B=b.nodeValue||"";expectValue(B);return checkAndReturn(B)}if(Xe==="STYLE"){const B=b.sheet;let F;if(B)F=this._updateStyleElementStyleSheetTextIfNeeded(B);F=F||b.textContent||"";expectValue(F);pt++;return checkAndReturn([Xe,{},F])}const ft={};const mt=[Xe,ft];const visitChild=b=>{const B=visitNode(b);if(B){mt.push(B.n);expectValue(b);ht=ht&&B.equals}};const visitChildStyleSheet=b=>{const B=visitStyleSheet(b);if(B){mt.push(B.n);expectValue(b);ht=ht&&B.equals}};if(Me===Node.DOCUMENT_FRAGMENT_NODE)ft[F]="open";if(Me===Node.ELEMENT_NODE){const B=b;if(B.localName.includes("-")&&window.customElements?.get(B.localName))lt.add(B.localName);if(Xe==="INPUT"||Xe==="TEXTAREA"){const b=B.value;expectValue(K);expectValue(b);ft[K]=b}if(Xe==="INPUT"&&["checkbox","radio"].includes(B.type)){const b=B.checked?"true":"false";expectValue(se);expectValue(b);ft[se]=b}if(Xe==="OPTION"){const b=B.selected?"true":"false";expectValue(oe);expectValue(b);ft[oe]=b}if(Xe==="CANVAS"||Xe==="IFRAME"||Xe==="FRAME"){const b=B.getBoundingClientRect();const F=JSON.stringify({left:b.left,top:b.top,right:b.right,bottom:b.bottom});expectValue(ze);expectValue(F);ft[ze]=F}if(B.popover&&B.matches&&B.matches(":popover-open")){const b="true";expectValue($e);expectValue(b);ft[$e]=b}if(Xe==="DIALOG"&&B.open){const b=B.matches(":modal")?"modal":"true";expectValue(Ye);expectValue(b);ft[Ye]=b}if(B.scrollTop){expectValue(Qe);expectValue(B.scrollTop);ft[Qe]=""+B.scrollTop}if(B.scrollLeft){expectValue(Re);expectValue(B.scrollLeft);ft[Re]=""+B.scrollLeft}if(B.shadowRoot){++ot;visitChild(B.shadowRoot);--ot}if("__playwright_target__"in B){expectValue(Le);expectValue(B["__playwright_target__"]);ft[Le]=B["__playwright_target__"]}}if(Xe==="HEAD"){++at;this._fakeBase.setAttribute("href",document.baseURI);visitChild(this._fakeBase)}for(let B=b.firstChild;B;B=B.nextSibling)visitChild(B);if(Xe==="HEAD")--at;expectValue(et);let vt=null;if(b.ownerDocument.documentElement===b)vt=b.ownerDocument;else if(b.nodeType===Node.DOCUMENT_FRAGMENT_NODE)vt=b;if(vt){for(const b of vt.adoptedStyleSheets||[])visitChildStyleSheet(b);expectValue(et)}if(Xe==="IFRAME"||Xe==="FRAME"){const B=b;const F=B[Ke];const K="src";const se=F?`/snapshot/${F}`:"";expectValue(K);expectValue(se);ft[K]=se}if(Xe==="BODY"&&lt.size){const b=[...lt].join(",");expectValue(We);expectValue(b);ft[We]=b}if(Xe==="IMG"||Xe==="PICTURE"){const B=Xe==="PICTURE"?"":this._sanitizeUrl(b.currentSrc);expectValue(Ge);expectValue(B);ft[Ge]=B}if(ht&&ut.attributesCached&&!ot)return checkAndReturn(mt);if(Me===Node.ELEMENT_NODE){const B=b;for(let F=0;F<B.attributes.length;F++){const K=B.attributes[F].name;if(Xe==="LINK"&&K==="integrity")continue;if(Xe==="IFRAME"&&(K==="src"||K==="srcdoc"||K==="sandbox"))continue;if(Xe==="FRAME"&&K==="src")continue;if(Xe==="DIALOG"&&K==="open")continue;let se=B.attributes[F].value;if(Xe==="META")se=this.__sanitizeMetaAttribute(K,se,b.httpEquiv);else if(K==="src"&&Xe==="IMG")se=this._sanitizeUrl(se);else if(K==="srcset"&&Xe==="IMG")se=this._sanitizeSrcSet(se);else if(K==="srcset"&&Xe==="SOURCE")se=this._sanitizeSrcSet(se);else if(K==="href"&&Xe==="LINK")se=this._sanitizeUrl(se);else if(K.startsWith("on"))se="";expectValue(K);expectValue(se);ft[K]=se}expectValue(et)}if(mt.length===2&&!Object.keys(ft).length)mt.pop();return checkAndReturn(mt)};const visitStyleSheet=b=>{const B=ensureCachedData(b);const F=B.cssText;const K=this._updateStyleElementStyleSheetTextIfNeeded(b,true);if(K===F)return{equals:true,n:[[rt-B.ref[0],B.ref[1]]]};B.ref=[rt,it++];return{equals:false,n:["template",{[Me]:K}]}};let ut;if(document.documentElement){const{n:b}=visitNode(document.documentElement);ut=b}else{ut=["html"]}const dt={html:ut,doctype:document.doctype?document.doctype.name:void 0,resourceOverrides:[],viewport:{width:window.innerWidth,height:window.innerHeight},url:location.href,wallTime:Date.now(),collectionTime:0};for(const b of this._staleStyleSheets){if(b.href===null)continue;const B=this._updateLinkStyleSheetTextIfNeeded(b,rt);if(B===void 0){continue}const F=this._getSheetBase(b);const K=removeHash(this._resolveUrl(F,b.href));dt.resourceOverrides.push({url:K,content:B,contentType:"text/css"})}dt.collectionTime=performance.now()-Xe;return dt}}window[b]=new Streamer}0&&0},9671:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{Tracing:()=>Tracing});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(857));var ze=__toESM(F(6928));var $e=F(562);var Ye=F(1603);var Ke=F(6224);var Xe=F(4419);var et=F(8753);var rt=F(6065);var it=F(6230);var ot=F(6564);var at=F(3021);var lt=F(8980);var ut=F(541);var dt=F(1245);var ht=F(382);var pt=F(6938);var ft=F(45);var mt=F(9757);const vt=8;const yt={width:800,height:600,quality:90};class Tracing extends pt.SdkObject{constructor(b,B){super(b,"tracing");this._fs=new dt.SerializedFS;this._screencastListeners=[];this._eventListeners=[];this._isStopping=false;this._allResources=new Set;this._pendingHarEntries=new Set;this._context=b;this._precreatedTracesDir=B;this._harTracer=new ht.HarTracer(b,null,this,{content:"attach",includeTraceInfo:true,recordRequestOverrides:false,waitForContentOnStop:false});const F="selectors"in b?b.selectors().testIdAttributeName():void 0;this._contextCreatedEvent={version:vt,type:"context-options",origin:"library",browserName:"",playwrightVersion:(0,it.getPlaywrightVersion)(),options:{},platform:process.platform,wallTime:0,monotonicTime:0,sdkLanguage:this._sdkLanguage(),testIdAttributeName:F,contextId:b.guid};if(b instanceof at.BrowserContext){this._snapshotter=new $e.Snapshotter(b,this);(0,Ke.assert)(B,"tracesDir must be specified for BrowserContext");this._contextCreatedEvent.browserName=b._browser.options.name;this._contextCreatedEvent.channel=b._browser.options.channel;this._contextCreatedEvent.options=b._options}}_sdkLanguage(){return this._context instanceof at.BrowserContext?this._context._browser.sdkLanguage():this._context.attribution.playwright.options.sdkLanguage}async resetForReuse(b){await this.stopChunk(b,{mode:"discard"}).catch((()=>{}));await this.stop(b);if(this._snapshotter)await b.race(this._snapshotter.resetForReuse())}start(b){if(this._isStopping)throw new Error("Cannot start tracing while stopping");if(this._state)throw new Error("Tracing has been already started");this._contextCreatedEvent.sdkLanguage=this._sdkLanguage();const B=b.name||(0,rt.createGuid)();const F=this._createTracesDirIfNeeded();this._state={options:b,traceName:B,tracesDir:F,traceFile:ze.default.join(F,B+".trace"),networkFile:ze.default.join(F,B+".network"),resourcesDir:ze.default.join(F,"resources"),chunkOrdinal:0,traceSha1s:new Set,networkSha1s:new Set,recording:false,callIds:new Set,groupStack:[]};this._fs.mkdir(this._state.resourcesDir);this._fs.writeFile(this._state.networkFile,"");if(b.snapshots)this._harTracer.start({omitScripts:!b.live})}async startChunk(b,B={}){if(this._state&&this._state.recording)await this.stopChunk(b,{mode:"discard"});if(!this._state)throw new Error("Must start tracing before starting a new chunk");if(this._isStopping)throw new Error("Cannot start a trace chunk while stopping");this._state.recording=true;this._state.callIds.clear();const F=this._context instanceof at.BrowserContext;if(B.name&&B.name!==this._state.traceName)this._changeTraceName(this._state,B.name,F);else this._allocateNewTraceFile(this._state);if(!F)this._fs.writeFile(this._state.networkFile,"");this._fs.mkdir(ze.default.dirname(this._state.traceFile));const K={...this._contextCreatedEvent,title:B.title,wallTime:Date.now(),monotonicTime:(0,Xe.monotonicTime)()};this._appendTraceEvent(K);this._context.instrumentation.addListener(this,this._context);this._eventListeners.push(et.eventsHelper.addEventListener(this._context,at.BrowserContext.Events.Console,this._onConsoleMessage.bind(this)),et.eventsHelper.addEventListener(this._context,at.BrowserContext.Events.PageError,this._onPageError.bind(this)));if(this._state.options.screenshots)this._startScreencast();if(this._state.options.snapshots)await(this._snapshotter?.start());return{traceName:this._state.traceName}}_currentGroupId(){return this._state?.groupStack.length?this._state.groupStack[this._state.groupStack.length-1]:void 0}group(b,B,F){if(!this._state)return;const K=[];const{file:se,line:oe,column:Qe}=B??F.location??{};if(se){K.push({file:se,line:oe??0,column:Qe??0})}const Re={type:"before",callId:F.id,startTime:F.startTime,title:b,class:"Tracing",method:"tracingGroup",params:{},stepId:F.stepId,stack:K};if(this._currentGroupId())Re.parentId=this._currentGroupId();this._state.groupStack.push(Re.callId);this._appendTraceEvent(Re)}groupEnd(){if(!this._state)return;const b=this._state.groupStack.pop();if(!b)return;const B={type:"after",callId:b,endTime:(0,Xe.monotonicTime)()};this._appendTraceEvent(B)}_startScreencast(){if(!(this._context instanceof at.BrowserContext))return;for(const b of this._context.pages())this._startScreencastInPage(b);this._screencastListeners.push(et.eventsHelper.addEventListener(this._context,at.BrowserContext.Events.Page,this._startScreencastInPage.bind(this)))}_stopScreencast(){et.eventsHelper.removeEventListeners(this._screencastListeners);if(!(this._context instanceof at.BrowserContext))return;for(const b of this._context.pages())b.setScreencastOptions(null)}_allocateNewTraceFile(b){const B=b.chunkOrdinal?`-chunk${b.chunkOrdinal}`:``;b.chunkOrdinal++;b.traceFile=ze.default.join(b.tracesDir,`${b.traceName}${B}.trace`)}_changeTraceName(b,B,F){b.traceName=B;b.chunkOrdinal=0;this._allocateNewTraceFile(b);const K=ze.default.join(b.tracesDir,B+".network");if(F)this._fs.copyFile(b.networkFile,K);b.networkFile=K}async stop(b){if(!this._state)return;if(this._isStopping)throw new Error(`Tracing is already stopping`);if(this._state.recording)throw new Error(`Must stop trace file before stopping tracing`);this._closeAllGroups();this._harTracer.stop();this.flushHarEntries();const B=b?b.race(this._fs.syncAndGetError()):this._fs.syncAndGetError();await B.finally((()=>{this._state=void 0}))}async deleteTmpTracesDir(){if(this._tracesTmpDir)await(0,dt.removeFolders)([this._tracesTmpDir])}_createTracesDirIfNeeded(){if(this._precreatedTracesDir)return this._precreatedTracesDir;this._tracesTmpDir=We.default.mkdtempSync(ze.default.join(Ge.default.tmpdir(),"playwright-tracing-"));return this._tracesTmpDir}abort(){this._snapshotter?.dispose();this._harTracer.stop()}async flush(){this.abort();await this._fs.syncAndGetError()}_closeAllGroups(){while(this._currentGroupId())this.groupEnd()}async stopChunk(b,B){if(this._isStopping)throw new Error(`Tracing is already stopping`);this._isStopping=true;if(!this._state||!this._state.recording){this._isStopping=false;if(B.mode!=="discard")throw new Error(`Must start tracing before stopping`);return{}}this._closeAllGroups();this._context.instrumentation.removeListener(this);et.eventsHelper.removeEventListeners(this._eventListeners);if(this._state.options.screenshots)this._stopScreencast();if(this._state.options.snapshots)this._snapshotter?.stop();this.flushHarEntries();const F=ze.default.join(this._state.tracesDir,this._state.traceName+`-pwnetcopy-${this._state.chunkOrdinal}.network`);const K=[];K.push({name:"trace.trace",value:this._state.traceFile});K.push({name:"trace.network",value:F});for(const b of new Set([...this._state.traceSha1s,...this._state.networkSha1s]))K.push({name:ze.default.join("resources",b),value:ze.default.join(this._state.resourcesDir,b)});this._state.traceSha1s=new Set;if(B.mode==="discard"){this._isStopping=false;this._state.recording=false;return{}}this._fs.copyFile(this._state.networkFile,F);const se=this._state.traceFile+".zip";if(B.mode==="archive")this._fs.zip(K,se);const oe=b?b.race(this._fs.syncAndGetError()):this._fs.syncAndGetError();const Qe=await oe.catch((b=>b));this._isStopping=false;if(this._state)this._state.recording=false;if(Qe){if(!(0,mt.isAbortError)(Qe)&&this._context instanceof at.BrowserContext&&!this._context._browser.isConnected())return{};throw Qe}if(B.mode==="entries")return{entries:K};const Re=new ot.Artifact(this._context,se);Re.reportFinished();return{artifact:Re}}async _captureSnapshot(b,B,F){if(!this._snapshotter)return;if(!B.attribution.page)return;if(!this._snapshotter.started())return;if(!shouldCaptureSnapshot(F))return;await this._snapshotter.captureSnapshot(B.attribution.page,F.id,b).catch((()=>{}))}onBeforeCall(b,B){const F=createBeforeActionTraceEvent(B,this._currentGroupId());if(!F)return Promise.resolve();b.attribution.page?.temporarilyDisableTracingScreencastThrottling();F.beforeSnapshot=`before@${B.id}`;this._state?.callIds.add(B.id);this._appendTraceEvent(F);return this._captureSnapshot(F.beforeSnapshot,b,B)}onBeforeInputAction(b,B){if(!this._state?.callIds.has(B.id))return Promise.resolve();const F=createInputActionTraceEvent(B);if(!F)return Promise.resolve();b.attribution.page?.temporarilyDisableTracingScreencastThrottling();F.inputSnapshot=`input@${B.id}`;this._appendTraceEvent(F);return this._captureSnapshot(F.inputSnapshot,b,B)}onCallLog(b,B,F,K){if(!this._state?.callIds.has(B.id))return;if(B.internal)return;if(F!=="api")return;const se=createActionLogTraceEvent(B,K);if(se)this._appendTraceEvent(se)}async onAfterCall(b,B){if(!this._state?.callIds.has(B.id))return;this._state?.callIds.delete(B.id);const F=createAfterActionTraceEvent(B);if(!F)return;b.attribution.page?.temporarilyDisableTracingScreencastThrottling();F.afterSnapshot=`after@${B.id}`;this._appendTraceEvent(F);return this._captureSnapshot(F.afterSnapshot,b,B)}onEntryStarted(b){this._pendingHarEntries.add(b)}onEntryFinished(b){this._pendingHarEntries.delete(b);const B={type:"resource-snapshot",snapshot:b};const F=visitTraceEvent(B,this._state.networkSha1s);this._fs.appendFile(this._state.networkFile,JSON.stringify(F)+"\n",true)}flushHarEntries(){const b=[];for(const B of this._pendingHarEntries){const F={type:"resource-snapshot",snapshot:B};const K=visitTraceEvent(F,this._state.networkSha1s);b.push(JSON.stringify(K))}this._pendingHarEntries.clear();if(b.length)this._fs.appendFile(this._state.networkFile,b.join("\n")+"\n",true)}onContentBlob(b,B){this._appendResource(b,B)}onSnapshotterBlob(b){this._appendResource(b.sha1,b.buffer)}onFrameSnapshot(b){this._appendTraceEvent({type:"frame-snapshot",snapshot:b})}_onConsoleMessage(b){const B={type:"console",messageType:b.type(),text:b.text(),args:b.args().map((b=>({preview:b.toString(),value:b.rawValue()}))),location:b.location(),time:(0,Xe.monotonicTime)(),pageId:b.page()?.guid};this._appendTraceEvent(B)}onDialog(b){const B={type:"event",time:(0,Xe.monotonicTime)(),class:"BrowserContext",method:"dialog",params:{pageId:b.page().guid,type:b.type(),message:b.message(),defaultValue:b.defaultValue()}};this._appendTraceEvent(B)}onDownload(b,B){const F={type:"event",time:(0,Xe.monotonicTime)(),class:"BrowserContext",method:"download",params:{pageId:b.guid,url:B.url,suggestedFilename:B.suggestedFilename()}};this._appendTraceEvent(F)}onPageOpen(b){const B={type:"event",time:(0,Xe.monotonicTime)(),class:"BrowserContext",method:"page",params:{pageId:b.guid,openerPageId:b.opener()?.guid}};this._appendTraceEvent(B)}onPageClose(b){const B={type:"event",time:(0,Xe.monotonicTime)(),class:"BrowserContext",method:"pageClosed",params:{pageId:b.guid}};this._appendTraceEvent(B)}_onPageError(b,B){const F={type:"event",time:(0,Xe.monotonicTime)(),class:"BrowserContext",method:"pageError",params:{error:(0,ut.serializeError)(b)},pageId:B.guid};this._appendTraceEvent(F)}_startScreencastInPage(b){b.setScreencastOptions(yt);const B=b.guid;this._screencastListeners.push(et.eventsHelper.addEventListener(b,ft.Page.Events.ScreencastFrame,(F=>{const K=F.timestamp||Date.now();const se=`${B}-${K}.jpeg`;const oe={type:"screencast-frame",pageId:b.guid,sha1:se,width:F.width,height:F.height,timestamp:(0,Xe.monotonicTime)(),frameSwapWallTime:F.frameSwapWallTime};this._appendResource(se,F.buffer);this._appendTraceEvent(oe)})))}_appendTraceEvent(b){const B=visitTraceEvent(b,this._state.traceSha1s);const F=this._state.options.live||b.type!=="event"&&b.type!=="console"&&b.type!=="log";this._fs.appendFile(this._state.traceFile,JSON.stringify(B)+"\n",F)}_appendResource(b,B){if(this._allResources.has(b))return;this._allResources.add(b);const F=ze.default.join(this._state.resourcesDir,b);this._fs.writeFile(F,B,true)}}function visitTraceEvent(b,B){if(Array.isArray(b))return b.map((b=>visitTraceEvent(b,B)));if(b instanceof lt.Dispatcher)return`<${b._type}>`;if(b instanceof Buffer)return`<Buffer>`;if(b instanceof Date)return b;if(typeof b==="object"){const F={};for(const K in b){if(K==="sha1"||K==="_sha1"||K.endsWith("Sha1")){const F=b[K];if(F)B.add(F)}F[K]=visitTraceEvent(b[K],B)}return F}return b}function shouldCaptureSnapshot(b){const B=Ye.methodMetainfo.get(b.type+"."+b.method);return!!B?.snapshot}function createBeforeActionTraceEvent(b,B){if(b.internal||b.method.startsWith("tracing"))return null;const F={type:"before",callId:b.id,startTime:b.startTime,title:b.title,class:b.type,method:b.method,params:b.params,stepId:b.stepId,pageId:b.pageId};if(B)F.parentId=B;return F}function createInputActionTraceEvent(b){if(b.internal||b.method.startsWith("tracing"))return null;return{type:"input",callId:b.id,point:b.point}}function createActionLogTraceEvent(b,B){if(b.internal||b.method.startsWith("tracing"))return null;return{type:"log",callId:b.id,time:(0,Xe.monotonicTime)(),message:B}}function createAfterActionTraceEvent(b){if(b.internal||b.method.startsWith("tracing"))return null;return{type:"after",callId:b.id,endTime:b.endTime,error:b.error?.error,result:b.result,point:b.point}}0&&0},1314:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{installRootRedirect:()=>installRootRedirect,openTraceInBrowser:()=>openTraceInBrowser,openTraceViewerApp:()=>openTraceViewerApp,runTraceInBrowser:()=>runTraceInBrowser,runTraceViewerApp:()=>runTraceViewerApp,startTraceViewerServer:()=>startTraceViewerServer});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(3143);var $e=F(3143);var Ye=F(2571);var Ke=F(6327);var Xe=F(3418);var et=F(3418);var rt=F(9245);var it=F(9757);const ot="traces.dir";function validateTraceUrl(b){if(!b)return b;if(b.startsWith("http://")||b.startsWith("https://"))return b;if(b.endsWith(".json"))return b;try{const B=We.default.statSync(b);if(B.isDirectory())return Ge.default.join(b,ot);return b}catch{throw new Error(`Trace file ${b} does not exist!`)}}async function startTraceViewerServer(b){const B=new Ye.HttpServer;B.routePrefix("/trace",((b,F)=>{const K=new URL("http://localhost"+b.url);const se=K.pathname.slice("/trace".length);if(se.startsWith("/file")){try{const se=K.searchParams.get("path");if(We.default.existsSync(se))return B.serveFile(b,F,K.searchParams.get("path"));if(se.endsWith(".json")){const b=se.substring(0,se.length-".json".length);return sendTraceDescriptor(F,Ge.default.dirname(b),Ge.default.basename(b))}if(se.endsWith(ot))return sendTraceDescriptor(F,Ge.default.dirname(se))}catch{}F.statusCode=404;F.end();return true}const oe=Ge.default.join(__dirname,"..","..","..","vite","traceViewer",...se.split("/"));return B.serveFile(b,F,oe)}));const F=b?.transport||(b?.isServer?new StdinServer:void 0);if(F)B.createWebSocket(F);const{host:K,port:se}=b||{};await B.start({preferredPort:se,host:K});return B}async function installRootRedirect(b,B,F){const K=new URLSearchParams;if(Ge.default.sep!==Ge.default.posix.sep)K.set("pathSeparator",Ge.default.sep);if(B)K.append("trace",B);if(b.wsGuid())K.append("ws",b.wsGuid());if(F?.isServer)K.append("isServer","");if((0,$e.isUnderTest)())K.append("isUnderTest","true");for(const b of F.args||[])K.append("arg",b);if(F.grep)K.append("grep",F.grep);if(F.grepInvert)K.append("grepInvert",F.grepInvert);for(const b of F.project||[])K.append("project",b);for(const b of F.reporter||[])K.append("reporter",b);const se=`./trace/${F.webApp||"index.html"}?${K.toString()}`;b.routePath("/",((b,B)=>{B.statusCode=302;B.setHeader("Location",se);B.end();return true}))}async function runTraceViewerApp(b,B,F,K){b=validateTraceUrl(b);const se=await startTraceViewerServer(F);await installRootRedirect(se,b,F);const oe=await openTraceViewerApp(se.urlPrefix("precise"),B,F);if(K)oe.on("close",(()=>(0,ze.gracefullyProcessExitDoNotHang)(0)));return oe}async function runTraceInBrowser(b,B){b=validateTraceUrl(b);const F=await startTraceViewerServer(B);await installRootRedirect(F,b,B);await openTraceInBrowser(F.urlPrefix("human-readable"))}async function openTraceViewerApp(b,B,F){const K=(0,rt.createPlaywright)({sdkLanguage:"javascript",isInternalPlaywright:true});const se=(0,$e.isUnderTest)()?"chromium":B;const{context:oe,page:Qe}=await(0,et.launchApp)(K[se],{sdkLanguage:K.options.sdkLanguage,windowSize:{width:1280,height:800},persistentContextOptions:{...F?.persistentContextOptions,cdpPort:(0,$e.isUnderTest)()?0:void 0,headless:!!F?.headless,colorScheme:(0,$e.isUnderTest)()?"light":void 0}});const Re=new it.ProgressController;await Re.run((async B=>{await oe._browser._defaultContext._loadDefaultContextAsIs(B);if(process.env.PWTEST_PRINT_WS_ENDPOINT){process.stderr.write("DevTools listening on: "+oe._browser.options.wsEndpoint+"\n")}if(!(0,$e.isUnderTest)())await(0,Xe.syncLocalStorageWithSettings)(Qe,"traceviewer");if((0,$e.isUnderTest)())Qe.on("close",(()=>oe.close({reason:"Trace viewer closed"}).catch((()=>{}))));await Qe.mainFrame().goto(B,b)}));return Qe}async function openTraceInBrowser(b){console.log("\nListening on "+b);if(!(0,$e.isUnderTest)())await(0,Ke.open)(b.replace("0.0.0.0","localhost")).catch((()=>{}))}class StdinServer{constructor(){process.stdin.on("data",(b=>{const B=b.toString().trim();if(B===this._traceUrl)return;if(B.endsWith(".json"))this._pollLoadTrace(B);else this._loadTrace(B)}));process.stdin.on("close",(()=>(0,ze.gracefullyProcessExitDoNotHang)(0)))}onconnect(){}async dispatch(b,B){if(b==="initialize"){if(this._traceUrl)this._loadTrace(this._traceUrl)}}onclose(){}_loadTrace(b){this._traceUrl=b;clearTimeout(this._pollTimer);this.sendEvent?.("loadTraceRequested",{traceUrl:b})}_pollLoadTrace(b){this._loadTrace(b);this._pollTimer=setTimeout((()=>{this._pollLoadTrace(b)}),500)}}function sendTraceDescriptor(b,B,F){b.statusCode=200;b.setHeader("Content-Type","application/json");b.end(JSON.stringify(traceDescriptor(B,F)));return true}function traceDescriptor(b,B){const F={entries:[]};for(const K of We.default.readdirSync(b)){if(!B||K.startsWith(B))F.entries.push({name:K,path:Ge.default.join(b,K)})}const K=Ge.default.join(b,"resources");if(We.default.existsSync(K)){for(const b of We.default.readdirSync(K))F.entries.push({name:"resources/"+b,path:Ge.default.join(K,b)})}return F}0&&0},369:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{WebSocketTransport:()=>WebSocketTransport,perMessageDeflate:()=>Ge});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(3989);var We=F(6327);const Ge={clientNoContextTakeover:true,zlibDeflateOptions:{level:3},zlibInflateOptions:{chunkSize:10*1024},threshold:10*1024};class WebSocketTransport{constructor(b,B,F,K){this.headers=[];this.wsEndpoint=B;this._logUrl=F;this._ws=new We.ws(B,[],{maxPayload:256*1024*1024,headers:K.headers,followRedirects:K.followRedirects,agent:/^(https|wss):\/\//.test(B)?Le.httpsHappyEyeballsAgent:Le.httpHappyEyeballsAgent,perMessageDeflate:Ge});this._ws.on("upgrade",(B=>{for(let F=0;F<B.rawHeaders.length;F+=2){this.headers.push({name:B.rawHeaders[F],value:B.rawHeaders[F+1]});if(K.debugLogHeader&&B.rawHeaders[F]===K.debugLogHeader)b?.log(B.rawHeaders[F+1])}}));this._progress=b;const se=(0,Me.makeWaitForNextTask)();this._ws.addEventListener("message",(b=>{se((()=>{const B=b.data;let F;try{F=JSON.parse(B)}catch(b){this._progress?.log(`<closing ws> Closing websocket due to malformed JSON. eventData=${B} e=${b?.message}`);this._ws.close();return}try{if(this.onmessage)this.onmessage.call(null,F)}catch(b){this._progress?.log(`<closing ws> Closing websocket due to failed onmessage callback. eventData=${B} e=${b?.message}`);this._ws.close()}}))}));this._ws.addEventListener("close",(b=>{this._progress?.log(`<ws disconnected> ${F} code=${b.code} reason=${b.reason}`);if(this.onclose)this.onclose.call(null,b.reason)}));this._ws.addEventListener("error",(b=>this._progress?.log(`<ws error> ${F} ${b.type} ${b.message}`)))}static async connect(b,B,F={}){return await WebSocketTransport._connect(b,B,F,false)}static async _connect(b,B,F,K){const se=stripQueryParams(B);b?.log(`<ws connecting> ${se}`);const oe=new WebSocketTransport(b,B,se,{...F,followRedirects:!!F.followRedirects&&K});const Qe=new Promise(((B,Qe)=>{oe._ws.on("open",(async()=>{b?.log(`<ws connected> ${se}`);B({})}));oe._ws.on("error",(B=>{b?.log(`<ws connect error> ${se} ${B.message}`);Qe(new Error("WebSocket error: "+B.message));oe._ws.close()}));oe._ws.on("unexpected-response",((Re,Me)=>{if(F.followRedirects&&!K&&(Me.statusCode===301||Me.statusCode===302||Me.statusCode===307||Me.statusCode===308)){B({redirect:Me});oe._ws.close();return}for(let B=0;B<Me.rawHeaders.length;B+=2){if(F.debugLogHeader&&Me.rawHeaders[B]===F.debugLogHeader)b?.log(Me.rawHeaders[B+1])}const Le=[];const We=`${se} ${Me.statusCode} ${Me.statusMessage}`;Me.on("data",(b=>Le.push(b)));Me.on("close",(()=>{const B=Le.length?`${We}\n${Buffer.concat(Le)}`:We;b?.log(`<ws unexpected response> ${B}`);Qe(new Error("WebSocket error: "+B));oe._ws.close()}))}))}));try{const B=b?await b.race(Qe):await Qe;if(B.redirect){const K=Object.fromEntries(Object.entries(F.headers||{}).filter((([b])=>!b.includes("access-key")&&b.toLowerCase()!=="authorization")));return WebSocketTransport._connect(b,B.redirect.headers.location,{...F,headers:K},true)}return oe}catch(b){await oe.closeAndWait();throw b}}send(b){this._ws.send(JSON.stringify(b))}close(){this._progress?.log(`<ws disconnecting> ${this._logUrl}`);this._ws.close()}async closeAndWait(){if(this._ws.readyState===We.ws.CLOSED)return;const b=new Promise((b=>this._ws.once("close",b)));this.close();await b}}function stripQueryParams(b){try{const B=new URL(b);B.search="";B.hash="";return B.toString()}catch{return b}}0&&0},7193:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{kLifecycleEvents:()=>Qe});b.exports=__toCommonJS(oe);const Qe=new Set(["load","domcontentloaded","networkidle","commit"]);0&&0},1789:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{USKeyboardLayout:()=>Re,keypadLocation:()=>Qe});b.exports=__toCommonJS(oe);const Qe=3;const Re={Escape:{keyCode:27,key:"Escape"},F1:{keyCode:112,key:"F1"},F2:{keyCode:113,key:"F2"},F3:{keyCode:114,key:"F3"},F4:{keyCode:115,key:"F4"},F5:{keyCode:116,key:"F5"},F6:{keyCode:117,key:"F6"},F7:{keyCode:118,key:"F7"},F8:{keyCode:119,key:"F8"},F9:{keyCode:120,key:"F9"},F10:{keyCode:121,key:"F10"},F11:{keyCode:122,key:"F11"},F12:{keyCode:123,key:"F12"},Backquote:{keyCode:192,shiftKey:"~",key:"`"},Digit1:{keyCode:49,shiftKey:"!",key:"1"},Digit2:{keyCode:50,shiftKey:"@",key:"2"},Digit3:{keyCode:51,shiftKey:"#",key:"3"},Digit4:{keyCode:52,shiftKey:"$",key:"4"},Digit5:{keyCode:53,shiftKey:"%",key:"5"},Digit6:{keyCode:54,shiftKey:"^",key:"6"},Digit7:{keyCode:55,shiftKey:"&",key:"7"},Digit8:{keyCode:56,shiftKey:"*",key:"8"},Digit9:{keyCode:57,shiftKey:"(",key:"9"},Digit0:{keyCode:48,shiftKey:")",key:"0"},Minus:{keyCode:189,shiftKey:"_",key:"-"},Equal:{keyCode:187,shiftKey:"+",key:"="},Backslash:{keyCode:220,shiftKey:"|",key:"\\"},Backspace:{keyCode:8,key:"Backspace"},Tab:{keyCode:9,key:"Tab"},KeyQ:{keyCode:81,shiftKey:"Q",key:"q"},KeyW:{keyCode:87,shiftKey:"W",key:"w"},KeyE:{keyCode:69,shiftKey:"E",key:"e"},KeyR:{keyCode:82,shiftKey:"R",key:"r"},KeyT:{keyCode:84,shiftKey:"T",key:"t"},KeyY:{keyCode:89,shiftKey:"Y",key:"y"},KeyU:{keyCode:85,shiftKey:"U",key:"u"},KeyI:{keyCode:73,shiftKey:"I",key:"i"},KeyO:{keyCode:79,shiftKey:"O",key:"o"},KeyP:{keyCode:80,shiftKey:"P",key:"p"},BracketLeft:{keyCode:219,shiftKey:"{",key:"["},BracketRight:{keyCode:221,shiftKey:"}",key:"]"},CapsLock:{keyCode:20,key:"CapsLock"},KeyA:{keyCode:65,shiftKey:"A",key:"a"},KeyS:{keyCode:83,shiftKey:"S",key:"s"},KeyD:{keyCode:68,shiftKey:"D",key:"d"},KeyF:{keyCode:70,shiftKey:"F",key:"f"},KeyG:{keyCode:71,shiftKey:"G",key:"g"},KeyH:{keyCode:72,shiftKey:"H",key:"h"},KeyJ:{keyCode:74,shiftKey:"J",key:"j"},KeyK:{keyCode:75,shiftKey:"K",key:"k"},KeyL:{keyCode:76,shiftKey:"L",key:"l"},Semicolon:{keyCode:186,shiftKey:":",key:";"},Quote:{keyCode:222,shiftKey:'"',key:"'"},Enter:{keyCode:13,key:"Enter",text:"\r"},ShiftLeft:{keyCode:160,keyCodeWithoutLocation:16,key:"Shift",location:1},KeyZ:{keyCode:90,shiftKey:"Z",key:"z"},KeyX:{keyCode:88,shiftKey:"X",key:"x"},KeyC:{keyCode:67,shiftKey:"C",key:"c"},KeyV:{keyCode:86,shiftKey:"V",key:"v"},KeyB:{keyCode:66,shiftKey:"B",key:"b"},KeyN:{keyCode:78,shiftKey:"N",key:"n"},KeyM:{keyCode:77,shiftKey:"M",key:"m"},Comma:{keyCode:188,shiftKey:"<",key:","},Period:{keyCode:190,shiftKey:">",key:"."},Slash:{keyCode:191,shiftKey:"?",key:"/"},ShiftRight:{keyCode:161,keyCodeWithoutLocation:16,key:"Shift",location:2},ControlLeft:{keyCode:162,keyCodeWithoutLocation:17,key:"Control",location:1},MetaLeft:{keyCode:91,key:"Meta",location:1},AltLeft:{keyCode:164,keyCodeWithoutLocation:18,key:"Alt",location:1},Space:{keyCode:32,key:" "},AltRight:{keyCode:165,keyCodeWithoutLocation:18,key:"Alt",location:2},AltGraph:{keyCode:225,key:"AltGraph"},MetaRight:{keyCode:92,key:"Meta",location:2},ContextMenu:{keyCode:93,key:"ContextMenu"},ControlRight:{keyCode:163,keyCodeWithoutLocation:17,key:"Control",location:2},PrintScreen:{keyCode:44,key:"PrintScreen"},ScrollLock:{keyCode:145,key:"ScrollLock"},Pause:{keyCode:19,key:"Pause"},PageUp:{keyCode:33,key:"PageUp"},PageDown:{keyCode:34,key:"PageDown"},Insert:{keyCode:45,key:"Insert"},Delete:{keyCode:46,key:"Delete"},Home:{keyCode:36,key:"Home"},End:{keyCode:35,key:"End"},ArrowLeft:{keyCode:37,key:"ArrowLeft"},ArrowUp:{keyCode:38,key:"ArrowUp"},ArrowRight:{keyCode:39,key:"ArrowRight"},ArrowDown:{keyCode:40,key:"ArrowDown"},NumLock:{keyCode:144,key:"NumLock"},NumpadDivide:{keyCode:111,key:"/",location:3},NumpadMultiply:{keyCode:106,key:"*",location:3},NumpadSubtract:{keyCode:109,key:"-",location:3},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",shiftKey:"7",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",shiftKey:"8",location:3},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",shiftKey:"9",location:3},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",shiftKey:"4",location:3},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",shiftKey:"5",location:3},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",shiftKey:"6",location:3},NumpadAdd:{keyCode:107,key:"+",location:3},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",shiftKey:"1",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",shiftKey:"2",location:3},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",shiftKey:"3",location:3},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",shiftKey:"0",location:3},NumpadDecimal:{keyCode:46,shiftKeyCode:110,key:"\0",shiftKey:".",location:3},NumpadEnter:{keyCode:13,key:"Enter",text:"\r",location:3}};0&&0},1769:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{jsonStringifyForceASCII:()=>jsonStringifyForceASCII,wrapInASCIIBox:()=>wrapInASCIIBox});b.exports=__toCommonJS(oe);function wrapInASCIIBox(b,B=0){const F=b.split("\n");const K=Math.max(...F.map((b=>b.length)));return[""+"".repeat(K+B*2)+"",...F.map((b=>""+" ".repeat(B)+b+" ".repeat(K-b.length+B)+"")),""+"".repeat(K+B*2)+""].join("\n")}function jsonStringifyForceASCII(b){return JSON.stringify(b).replace(/[\u007f-\uffff]/g,(b=>"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)))}0&&0},6707:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{compareBuffersOrStrings:()=>compareBuffersOrStrings,getComparator:()=>getComparator});b.exports=__toCommonJS(Le);var We=F(1027);var Ge=__toESM(F(8754));var ze=F(6327);var $e=F(6327);var Ye=F(6327);var Ke=F(8642);function getComparator(b){if(b==="image/png")return compareImages.bind(null,"image/png");if(b==="image/jpeg")return compareImages.bind(null,"image/jpeg");if(b==="text/plain")return compareText;return compareBuffersOrStrings}const Xe=5*1024;function compareBuffersOrStrings(b,B){if(typeof b==="string")return compareText(b,B);if(!b||!(b instanceof Buffer))return{errorMessage:"Actual result should be a Buffer or a string."};if(Buffer.compare(b,B))return{errorMessage:"Buffers differ"};return null}function compareImages(b,B,F,K={}){if(!B||!(B instanceof Buffer))return{errorMessage:"Actual result should be a Buffer."};validateBuffer(F,b);let se=b==="image/png"?Ye.PNG.sync.read(B):ze.jpegjs.decode(B,{maxMemoryUsageInMB:Xe});let oe=b==="image/png"?Ye.PNG.sync.read(F):ze.jpegjs.decode(F,{maxMemoryUsageInMB:Xe});const Qe={width:Math.max(oe.width,se.width),height:Math.max(oe.height,se.height)};let Re="";if(oe.width!==se.width||oe.height!==se.height){Re=`Expected an image ${oe.width}px by ${oe.height}px, received ${se.width}px by ${se.height}px. `;se=(0,Ke.padImageToSize)(se,Qe);oe=(0,Ke.padImageToSize)(oe,Qe)}const Me=new Ye.PNG({width:Qe.width,height:Qe.height});let Le;if(K.comparator==="ssim-cie94"){Le=(0,We.compare)(oe.data,se.data,Me.data,Qe.width,Qe.height,{maxColorDeltaE94:1})}else if((K.comparator??"pixelmatch")==="pixelmatch"){Le=(0,Ge.default)(oe.data,se.data,Me.data,Qe.width,Qe.height,{threshold:K.threshold??.2})}else{throw new Error(`Configuration specifies unknown comparator "${K.comparator}"`)}const $e=K.maxDiffPixels;const et=K.maxDiffPixelRatio!==void 0?oe.width*oe.height*K.maxDiffPixelRatio:void 0;let rt;if($e!==void 0&&et!==void 0)rt=Math.min($e,et);else rt=$e??et??0;const it=Math.ceil(Le/(oe.width*oe.height)*100)/100;const ot=Le>rt?`${Le} pixels (ratio ${it.toFixed(2)} of all image pixels) are different.`:"";if(ot||Re)return{errorMessage:Re+ot,diff:Ye.PNG.sync.write(Me)};return null}function validateBuffer(b,B){if(B==="image/png"){const B=[137,80,78,71,13,10,26,10];if(b.length<B.length||!B.every(((B,F)=>b[F]===B)))throw new Error("Could not decode expected image as PNG.")}else if(B==="image/jpeg"){const B=[255,216];if(b.length<B.length||!B.every(((B,F)=>b[F]===B)))throw new Error("Could not decode expected image as JPEG.")}}function compareText(b,B){if(typeof b!=="string")return{errorMessage:"Actual result should be a string"};let F=B.toString("utf-8");if(F===b)return null;if(!b.endsWith("\n"))b+="\n";if(!F.endsWith("\n"))F+="\n";const K=$e.diff.createPatch("file",F,b,void 0,void 0,{context:5}).split("\n");const se=K.slice(4).map((b=>{if(b.startsWith("-"))return $e.colors.green(b);if(b.startsWith("+"))return $e.colors.red(b);if(b.startsWith("@@"))return $e.colors.dim(b);return b}));const oe=se.join("\n");return{errorMessage:oe}}0&&0},6065:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{calculateSha1:()=>calculateSha1,createGuid:()=>createGuid,generateSelfSignedCertificate:()=>generateSelfSignedCertificate});b.exports=__toCommonJS(Le);var We=__toESM(F(6982));var Ge=F(6224);function createGuid(){return We.default.randomBytes(16).toString("hex")}function calculateSha1(b){const B=We.default.createHash("sha1");B.update(b);return B.digest("hex")}function encodeBase128(b){const B=[];do{let F=b&127;b>>>=7;if(B.length>0)F|=128;B.push(F)}while(b>0);return Buffer.from(B.reverse())}class DER{static encodeSequence(b){return this._encode(48,Buffer.concat(b))}static encodeInteger(b){(0,Ge.assert)(b>=-128&&b<=127);return this._encode(2,Buffer.from([b]))}static encodeObjectIdentifier(b){const B=b.split(".").map((b=>Number(b)));const F=[encodeBase128(40*B[0]+B[1])];for(let b=2;b<B.length;b++)F.push(encodeBase128(B[b]));return this._encode(6,Buffer.concat(F))}static encodeNull(){return Buffer.from([5,0])}static encodeSet(b){(0,Ge.assert)(b.length===1,"Only one item in the set is supported. We'd need to sort the data to support more.");return this._encode(49,Buffer.concat(b))}static encodeExplicitContextDependent(b,B){return this._encode(160+b,B)}static encodePrintableString(b){return this._encode(19,Buffer.from(b))}static encodeBitString(b){const B=0;const F=Buffer.concat([Buffer.from([B]),b]);return this._encode(3,F)}static encodeDate(b){const B=b.getUTCFullYear();const F=B>=2050;const K=[F?B.toString():B.toString().slice(-2),(b.getUTCMonth()+1).toString().padStart(2,"0"),b.getUTCDate().toString().padStart(2,"0"),b.getUTCHours().toString().padStart(2,"0"),b.getUTCMinutes().toString().padStart(2,"0"),b.getUTCSeconds().toString().padStart(2,"0")];const se=K.join("")+"Z";const oe=F?24:23;return this._encode(oe,Buffer.from(se))}static _encode(b,B){const F=this._encodeLength(B.length);return Buffer.concat([Buffer.from([b]),F,B])}static _encodeLength(b){if(b<128){return Buffer.from([b])}else{const B=[];while(b>0){B.unshift(b&255);b>>=8}return Buffer.from([128|B.length,...B])}}}function generateSelfSignedCertificate(){const{privateKey:b,publicKey:B}=We.default.generateKeyPairSync("rsa",{modulusLength:2048});const F=B.export({type:"pkcs1",format:"der"});const K=365*24*60*60*1e3;const se=new Date((new Date).getTime()-K);const oe=new Date((new Date).getTime()+K);const Qe=DER.encodeSequence([DER.encodeExplicitContextDependent(0,DER.encodeInteger(1)),DER.encodeInteger(1),DER.encodeSequence([DER.encodeObjectIdentifier("1.2.840.113549.1.1.11"),DER.encodeNull()]),DER.encodeSequence([DER.encodeSet([DER.encodeSequence([DER.encodeObjectIdentifier("2.5.4.3"),DER.encodePrintableString("localhost")])]),DER.encodeSet([DER.encodeSequence([DER.encodeObjectIdentifier("2.5.4.10"),DER.encodePrintableString("Playwright Client Certificate Support")])])]),DER.encodeSequence([DER.encodeDate(se),DER.encodeDate(oe)]),DER.encodeSequence([DER.encodeSet([DER.encodeSequence([DER.encodeObjectIdentifier("2.5.4.3"),DER.encodePrintableString("localhost")])]),DER.encodeSet([DER.encodeSequence([DER.encodeObjectIdentifier("2.5.4.10"),DER.encodePrintableString("Playwright Client Certificate Support")])])]),DER.encodeSequence([DER.encodeSequence([DER.encodeObjectIdentifier("1.2.840.113549.1.1.1"),DER.encodeNull()]),DER.encodeBitString(F)])]);const Re=We.default.sign("sha256",Qe,b);const Me=DER.encodeSequence([Qe,DER.encodeSequence([DER.encodeObjectIdentifier("1.2.840.113549.1.1.11"),DER.encodeNull()]),DER.encodeBitString(Re)]);const Le=["-----BEGIN CERTIFICATE-----",Me.toString("base64").match(/.{1,64}/g).join("\n"),"-----END CERTIFICATE-----"].join("\n");return{cert:Le,key:b.export({type:"pkcs1",format:"pem"})}}0&&0},3113:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{debugMode:()=>debugMode,isUnderTest:()=>isUnderTest});b.exports=__toCommonJS(Re);var Me=F(9677);const Le=(0,Me.getFromENV)("PWDEBUG")||"";function debugMode(){if(Le==="console")return"console";if(Le==="0"||Le==="false")return"";return Le?"inspector":""}const We=(0,Me.getAsBooleanFromENV)("PWTEST_UNDER_TEST");function isUnderTest(){return We}0&&0},6877:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{RecentLogsCollector:()=>RecentLogsCollector,debugLogger:()=>$e});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=F(6327);const ze={api:45,protocol:34,install:34,download:34,browser:0,socks:92,"client-certificates":92,error:160,channel:33,server:45,"server:channel":34,"server:metadata":33,recorder:45};class DebugLogger{constructor(){this._debuggers=new Map;if(process.env.DEBUG_FILE){const b=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|"),"g");const B=We.default.createWriteStream(process.env.DEBUG_FILE);Ge.debug.log=F=>{B.write(F.replace(b,""));B.write("\n")}}}log(b,B){let F=this._debuggers.get(b);if(!F){F=(0,Ge.debug)(`pw:${b}`);this._debuggers.set(b,F);F.color=ze[b]||0}F(B)}isEnabled(b){return Ge.debug.enabled(`pw:${b}`)}}const $e=new DebugLogger;const Ye=150;class RecentLogsCollector{constructor(){this._logs=[];this._listeners=[]}log(b){this._logs.push(b);if(this._logs.length===Ye*2)this._logs.splice(0,Ye);for(const B of this._listeners)B(b)}recentLogs(){if(this._logs.length>Ye)return this._logs.slice(-Ye);return this._logs}onMessage(b){for(const B of this._logs)b(B);this._listeners.push(b)}}0&&0},9677:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{getAsBooleanFromENV:()=>getAsBooleanFromENV,getFromENV:()=>getFromENV,getPackageManager:()=>getPackageManager,getPackageManagerExecCommand:()=>getPackageManagerExecCommand,isLikelyNpxGlobal:()=>isLikelyNpxGlobal,setPlaywrightTestProcessEnv:()=>setPlaywrightTestProcessEnv});b.exports=__toCommonJS(oe);function getFromENV(b){let B=process.env[b];B=B===void 0?process.env[`npm_config_${b.toLowerCase()}`]:B;B=B===void 0?process.env[`npm_package_config_${b.toLowerCase()}`]:B;return B}function getAsBooleanFromENV(b,B){const F=getFromENV(b);if(F==="false"||F==="0")return false;if(F)return true;return!!B}function getPackageManager(){const b=process.env.npm_config_user_agent||"";if(b.includes("yarn"))return"yarn";if(b.includes("pnpm"))return"pnpm";return"npm"}function getPackageManagerExecCommand(){const b=getPackageManager();if(b==="yarn")return"yarn";if(b==="pnpm")return"pnpm exec";return"npx"}function isLikelyNpxGlobal(){return process.argv.length>=2&&process.argv[1].includes("_npx")}function setPlaywrightTestProcessEnv(){return process.env["PLAYWRIGHT_TEST"]="1"}0&&0},8753:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{eventsHelper:()=>Qe});b.exports=__toCommonJS(oe);class EventsHelper{static addEventListener(b,B,F){b.on(B,F);return{emitter:b,eventName:B,handler:F}}static removeEventListeners(b){for(const B of b)B.emitter.removeListener(B.eventName,B.handler);b.splice(0,b.length)}}const Qe=EventsHelper;0&&0},7424:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{serializeExpectedTextValues:()=>serializeExpectedTextValues});b.exports=__toCommonJS(Re);var Me=F(4955);function serializeExpectedTextValues(b,B={}){return b.map((b=>({string:(0,Me.isString)(b)?b:void 0,regexSource:(0,Me.isRegExp)(b)?b.source:void 0,regexFlags:(0,Me.isRegExp)(b)?b.flags:void 0,matchSubstring:B.matchSubstring,ignoreCase:B.ignoreCase,normalizeWhiteSpace:B.normalizeWhiteSpace})))}0&&0},1245:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{SerializedFS:()=>SerializedFS,canAccessFile:()=>canAccessFile,copyFileAndMakeWritable:()=>copyFileAndMakeWritable,existsAsync:()=>existsAsync,mkdirIfNeeded:()=>mkdirIfNeeded,removeFolders:()=>removeFolders,sanitizeForFilePath:()=>sanitizeForFilePath,toPosixPath:()=>toPosixPath});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(1871);var $e=F(7505);const existsAsync=b=>new Promise((B=>We.default.stat(b,(b=>B(!b)))));async function mkdirIfNeeded(b){await We.default.promises.mkdir(Ge.default.dirname(b),{recursive:true}).catch((()=>{}))}async function removeFolders(b){return await Promise.all(b.map((b=>We.default.promises.rm(b,{recursive:true,force:true,maxRetries:10}).catch((b=>b)))))}function canAccessFile(b){if(!b)return false;try{We.default.accessSync(b);return true}catch(b){return false}}async function copyFileAndMakeWritable(b,B){await We.default.promises.copyFile(b,B);await We.default.promises.chmod(B,436)}function sanitizeForFilePath(b){return b.replace(/[\x00-\x2C\x2E-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/g,"-")}function toPosixPath(b){return b.split(Ge.default.sep).join(Ge.default.posix.sep)}class SerializedFS{constructor(){this._buffers=new Map;this._operations=[];this._operationsDone=new ze.ManualPromise;this._operationsDone.resolve()}mkdir(b){this._appendOperation({op:"mkdir",dir:b})}writeFile(b,B,F){this._buffers.delete(b);this._appendOperation({op:"writeFile",file:b,content:B,skipIfExists:F})}appendFile(b,B,F){if(!this._buffers.has(b))this._buffers.set(b,[]);this._buffers.get(b).push(B);if(F)this._flushFile(b)}_flushFile(b){const B=this._buffers.get(b);if(B===void 0)return;const F=B.join("");this._buffers.delete(b);this._appendOperation({op:"appendFile",file:b,content:F})}copyFile(b,B){this._flushFile(b);this._buffers.delete(B);this._appendOperation({op:"copyFile",from:b,to:B})}async syncAndGetError(){for(const b of this._buffers.keys())this._flushFile(b);await this._operationsDone;return this._error}zip(b,B){for(const b of this._buffers.keys())this._flushFile(b);this._appendOperation({op:"zip",entries:b,zipFileName:B})}_appendOperation(b){const B=this._operations[this._operations.length-1];if(B?.op==="appendFile"&&b.op==="appendFile"&&B.file===b.file){B.content+=b.content;return}this._operations.push(b);if(this._operationsDone.isDone())this._performOperations()}async _performOperations(){this._operationsDone=new ze.ManualPromise;while(this._operations.length){const b=this._operations.shift();if(this._error)continue;try{await this._performOperation(b)}catch(b){this._error=b}}this._operationsDone.resolve()}async _performOperation(b){switch(b.op){case"mkdir":{await We.default.promises.mkdir(b.dir,{recursive:true});return}case"writeFile":{if(b.skipIfExists)await We.default.promises.writeFile(b.file,b.content,{flag:"wx"}).catch((()=>{}));else await We.default.promises.writeFile(b.file,b.content);return}case"copyFile":{await We.default.promises.copyFile(b.from,b.to);return}case"appendFile":{await We.default.promises.appendFile(b.file,b.content);return}case"zip":{const B=new $e.yazl.ZipFile;const F=new ze.ManualPromise;B.on("error",(b=>F.reject(b)));for(const F of b.entries)B.addFile(F.value,F.name);B.end();B.outputStream.pipe(We.default.createWriteStream(b.zipFileName)).on("close",(()=>F.resolve())).on("error",(b=>F.reject(b)));await F;return}}}}0&&0},3989:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{createConnectionAsync:()=>createConnectionAsync,createSocket:()=>createSocket,createTLSSocket:()=>createTLSSocket,httpHappyEyeballsAgent:()=>lt,httpsHappyEyeballsAgent:()=>at,timingForSocket:()=>timingForSocket});b.exports=__toCommonJS(Le);var We=__toESM(F(2250));var Ge=__toESM(F(8611));var ze=__toESM(F(5692));var $e=__toESM(F(9278));var Ye=__toESM(F(4756));var Ke=F(6224);var Xe=F(1871);var et=F(4419);const rt=300;const it=Symbol("kDNSLookupAt");const ot=Symbol("kTCPConnectionAt");class HttpHappyEyeballsAgent extends Ge.default.Agent{createConnection(b,B){if($e.default.isIP(clientRequestArgsToHostName(b)))return $e.default.createConnection(b);createConnectionAsync(b,B,false).catch((b=>B?.(b)))}}class HttpsHappyEyeballsAgent extends ze.default.Agent{createConnection(b,B){if($e.default.isIP(clientRequestArgsToHostName(b)))return Ye.default.connect(b);createConnectionAsync(b,B,true).catch((b=>B?.(b)))}}const at=new HttpsHappyEyeballsAgent({keepAlive:true});const lt=new HttpHappyEyeballsAgent({keepAlive:true});async function createSocket(b,B){return new Promise(((F,K)=>{if($e.default.isIP(b)){const se=$e.default.createConnection({host:b,port:B});se.on("connect",(()=>F(se)));se.on("error",(b=>K(b)))}else{createConnectionAsync({host:b,port:B},((b,B)=>{if(b)K(b);if(B)F(B)}),false).catch((b=>K(b)))}}))}async function createTLSSocket(b){return new Promise(((B,F)=>{(0,Ke.assert)(b.host,"host is required");if($e.default.isIP(b.host)){const K=Ye.default.connect(b);K.on("secureConnect",(()=>B(K)));K.on("error",(b=>F(b)))}else{createConnectionAsync(b,((b,K)=>{if(b)F(b);if(K){K.on("secureConnect",(()=>B(K)));K.on("error",(b=>F(b)))}}),true).catch((b=>F(b)))}}))}async function createConnectionAsync(b,B,F){const K=b.__testHookLookup||lookupAddresses;const se=clientRequestArgsToHostName(b);const oe=await K(se);const Qe=(0,et.monotonicTime)();const Re=new Set;let Me;let Le=0;const handleError=(b,F)=>{if(!Re.delete(b))return;++Le;Me??=F;if(Le===oe.length)B?.(Me)};const We=new Xe.ManualPromise;for(const{address:K}of oe){const oe=F?Ye.default.connect({...b,port:b.port,host:K,servername:se}):$e.default.createConnection({...b,port:b.port,host:K});oe[it]=Qe;oe.on("connect",(()=>{oe[ot]=(0,et.monotonicTime)();We.resolve();B?.(null,oe);Re.delete(oe);for(const b of Re)b.destroy();Re.clear()}));oe.on("timeout",(()=>{oe.destroy();handleError(oe,new Error("Connection timeout"))}));oe.on("error",(b=>handleError(oe,b)));Re.add(oe);await Promise.race([We,new Promise((b=>setTimeout(b,rt)))]);if(We.isDone())break}}async function lookupAddresses(b){const B=await We.default.promises.lookup(b,{all:true,family:0,verbatim:true});let F=B.filter((({family:b})=>b===6));let K=B.filter((({family:b})=>b===4));if(F.length&&F[0]!==B[0]){const b=F;F=K;K=b}const se=[];for(let b=0;b<Math.max(F.length,K.length);b++){if(F[b])se.push(F[b]);if(K[b])se.push(K[b])}return se}function clientRequestArgsToHostName(b){if(b.hostname)return b.hostname;if(b.host)return b.host;throw new Error("Either options.hostname or options.host must be provided")}function timingForSocket(b){return{dnsLookupAt:b[it],tcpConnectionAt:b[ot]}}0&&0},6633:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{hostPlatform:()=>ze,isOfficiallySupportedPlatform:()=>$e,shortPlatform:()=>Ye});b.exports=__toCommonJS(Le);var We=__toESM(F(857));var Ge=F(9519);function calculatePlatform(){if(process.env.PLAYWRIGHT_HOST_PLATFORM_OVERRIDE){return{hostPlatform:process.env.PLAYWRIGHT_HOST_PLATFORM_OVERRIDE,isOfficiallySupportedPlatform:false}}const b=We.default.platform();if(b==="darwin"){const b=We.default.release().split(".").map((b=>parseInt(b,10)));let B="";if(b[0]<18){B="mac10.13"}else if(b[0]===18){B="mac10.14"}else if(b[0]===19){B="mac10.15"}else{const F=15;B="mac"+Math.min(b[0]-9,F);if(We.default.cpus().some((b=>b.model.includes("Apple"))))B+="-arm64"}return{hostPlatform:B,isOfficiallySupportedPlatform:true}}if(b==="linux"){if(!["x64","arm64"].includes(We.default.arch()))return{hostPlatform:"<unknown>",isOfficiallySupportedPlatform:false};const b="-"+We.default.arch();const B=(0,Ge.getLinuxDistributionInfoSync)();if(B?.id==="ubuntu"||B?.id==="pop"||B?.id==="neon"||B?.id==="tuxedo"){const F=B?.id==="ubuntu";const K=B?.version;const se=parseInt(B.version,10);if(se<20)return{hostPlatform:"ubuntu18.04"+b,isOfficiallySupportedPlatform:false};if(se<22)return{hostPlatform:"ubuntu20.04"+b,isOfficiallySupportedPlatform:F&&K==="20.04"};if(se<24)return{hostPlatform:"ubuntu22.04"+b,isOfficiallySupportedPlatform:F&&K==="22.04"};if(se<26)return{hostPlatform:"ubuntu24.04"+b,isOfficiallySupportedPlatform:F&&K==="24.04"};return{hostPlatform:"ubuntu"+B.version+b,isOfficiallySupportedPlatform:false}}if(B?.id==="linuxmint"){const F=parseInt(B.version,10);if(F<=20)return{hostPlatform:"ubuntu20.04"+b,isOfficiallySupportedPlatform:false};if(F===21)return{hostPlatform:"ubuntu22.04"+b,isOfficiallySupportedPlatform:false};return{hostPlatform:"ubuntu24.04"+b,isOfficiallySupportedPlatform:false}}if(B?.id==="debian"||B?.id==="raspbian"){const F=B?.id==="debian";if(B?.version==="11")return{hostPlatform:"debian11"+b,isOfficiallySupportedPlatform:F};if(B?.version==="12")return{hostPlatform:"debian12"+b,isOfficiallySupportedPlatform:F};if(B?.version==="13")return{hostPlatform:"debian13"+b,isOfficiallySupportedPlatform:F};if(B?.version==="")return{hostPlatform:"debian13"+b,isOfficiallySupportedPlatform:F}}return{hostPlatform:"ubuntu24.04"+b,isOfficiallySupportedPlatform:false}}if(b==="win32")return{hostPlatform:"win64",isOfficiallySupportedPlatform:true};return{hostPlatform:"<unknown>",isOfficiallySupportedPlatform:false}}const{hostPlatform:ze,isOfficiallySupportedPlatform:$e}=calculatePlatform();function toShortPlatform(b){if(b==="<unknown>")return"<unknown>";if(b==="win64")return"win-x64";if(b.startsWith("mac"))return b.endsWith("arm64")?"mac-arm64":"mac-x64";return b.endsWith("arm64")?"linux-arm64":"linux-x64"}const Ye=toShortPlatform(ze);0&&0},2571:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{HttpServer:()=>HttpServer});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));var ze=F(6327);var $e=F(6065);var Ye=F(6224);var Ke=F(1871);var Xe=F(6028);class HttpServer{constructor(){this._urlPrefixPrecise="";this._urlPrefixHumanReadable="";this._port=0;this._started=false;this._routes=[];this._server=(0,Xe.createHttpServer)(this._onRequest.bind(this))}server(){return this._server}routePrefix(b,B){this._routes.push({prefix:b,handler:B})}routePath(b,B){this._routes.push({exact:b,handler:B})}port(){return this._port}async _tryStart(b,B){const F=new Ke.ManualPromise;const errorListener=b=>F.reject(b);this._server.on("error",errorListener);try{this._server.listen(b,B);await Promise.race([new Promise((b=>this._server.once("listening",b))),F])}finally{this._server.removeListener("error",errorListener)}}createWebSocket(b,B){(0,Ye.assert)(!this._wsGuid,"can only create one main websocket transport per server");this._wsGuid=B||(0,$e.createGuid)();const F=new ze.wsServer({server:this._server,path:"/"+this._wsGuid});F.on("connection",(B=>{b.onconnect();b.sendEvent=(b,F)=>B.send(JSON.stringify({method:b,params:F}));b.close=()=>B.close();B.on("message",(async F=>{const{id:K,method:se,params:oe}=JSON.parse(String(F));try{const F=await b.dispatch(se,oe);B.send(JSON.stringify({id:K,result:F}))}catch(b){B.send(JSON.stringify({id:K,error:String(b)}))}}));B.on("close",(()=>b.onclose()));B.on("error",(()=>b.onclose()))}))}wsGuid(){return this._wsGuid}async start(b={}){(0,Ye.assert)(!this._started,"server already started");this._started=true;const B=b.host||"localhost";if(b.preferredPort){try{await this._tryStart(b.preferredPort,B)}catch(b){if(!b||!b.message||!b.message.includes("EADDRINUSE"))throw b;await this._tryStart(void 0,B)}}else{await this._tryStart(b.port,B)}const F=this._server.address();(0,Ye.assert)(F,"Could not bind server socket");if(typeof F==="string"){this._urlPrefixPrecise=F;this._urlPrefixHumanReadable=F}else{this._port=F.port;const b=F.family==="IPv4"?F.address:`[${F.address}]`;this._urlPrefixPrecise=`http://${b}:${F.port}`;this._urlPrefixHumanReadable=`http://${B}:${F.port}`}}async stop(){await new Promise((b=>this._server.close(b)))}urlPrefix(b){return b==="human-readable"?this._urlPrefixHumanReadable:this._urlPrefixPrecise}serveFile(b,B,F,K){try{for(const[b,F]of Object.entries(K||{}))B.setHeader(b,F);if(b.headers.range)this._serveRangeFile(b,B,F);else this._serveFile(B,F);return true}catch(b){return false}}_serveFile(b,B){const F=We.default.readFileSync(B);b.statusCode=200;const K=ze.mime.getType(Ge.default.extname(B))||"application/octet-stream";b.setHeader("Content-Type",K);b.setHeader("Content-Length",F.byteLength);b.end(F)}_serveRangeFile(b,B,F){const K=b.headers.range;if(!K||!K.startsWith("bytes=")||K.includes(", ")||[...K].filter((b=>b==="-")).length!==1){B.statusCode=400;return B.end("Bad request")}const[se,oe]=K.replace(/bytes=/,"").split("-");let Qe;let Re;const Me=We.default.statSync(F).size;if(se!==""&&oe===""){Qe=+se;Re=Me-1}else if(se===""&&oe!==""){Qe=Me-+oe;Re=Me-1}else{Qe=+se;Re=+oe}if(Number.isNaN(Qe)||Number.isNaN(Re)||Qe>=Me||Re>=Me||Qe>Re){B.writeHead(416,{"Content-Range":`bytes */${Me}`});return B.end()}B.writeHead(206,{"Content-Range":`bytes ${Qe}-${Re}/${Me}`,"Accept-Ranges":"bytes","Content-Length":Re-Qe+1,"Content-Type":ze.mime.getType(Ge.default.extname(F))});const Le=We.default.createReadStream(F,{start:Qe,end:Re});Le.pipe(B)}_onRequest(b,B){if(b.method==="OPTIONS"){B.writeHead(200);B.end();return}b.on("error",(()=>B.end()));try{if(!b.url){B.end();return}const F=new URL("http://localhost"+b.url);for(const K of this._routes){if(K.exact&&F.pathname===K.exact&&K.handler(b,B))return;if(K.prefix&&F.pathname.startsWith(K.prefix)&&K.handler(b,B))return}B.statusCode=404;B.end()}catch(b){B.end()}}}0&&0},8642:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{padImageToSize:()=>padImageToSize,scaleImageToSize:()=>scaleImageToSize});b.exports=__toCommonJS(oe);function padImageToSize(b,B){if(b.width===B.width&&b.height===B.height)return b;const F=new Uint8Array(B.width*B.height*4);for(let K=0;K<B.height;K++){for(let se=0;se<B.width;se++){const oe=(K*B.width+se)*4;if(K<b.height&&se<b.width){const B=(K*b.width+se)*4;F[oe]=b.data[B];F[oe+1]=b.data[B+1];F[oe+2]=b.data[B+2];F[oe+3]=b.data[B+3]}else{F[oe]=0;F[oe+1]=0;F[oe+2]=0;F[oe+3]=0}}}return{data:Buffer.from(F),width:B.width,height:B.height}}function scaleImageToSize(b,B){const{data:F,width:K,height:se}=b;const oe=Math.max(1,Math.floor(B.width));const Qe=Math.max(1,Math.floor(B.height));if(K===oe&&se===Qe)return b;if(K<=0||se<=0)throw new Error("Invalid input image");if(B.width<=0||B.height<=0||!isFinite(B.width)||!isFinite(B.height))throw new Error("Invalid output dimensions");const clamp=(b,B,F)=>b<B?B:b>F?F:b;const weights=(b,B)=>{const F=b*b,K=F*b;B[0]=-.5*b+1*F-.5*K;B[1]=1-2.5*F+1.5*K;B[2]=.5*b+2*F-1.5*K;B[3]=-.5*F+.5*K};const Re=K*4;const Me=oe*4;const Le=new Int32Array(oe*4);const We=new Float32Array(oe*4);const Ge=new Float32Array(4);const ze=K/oe;for(let b=0;b<oe;b++){const B=(b+.5)*ze-.5;const F=Math.floor(B);const se=B-F;weights(se,Ge);const oe=b*4;const Qe=clamp(F-1,0,K-1);const Re=clamp(F+0,0,K-1);const Me=clamp(F+1,0,K-1);const $e=clamp(F+2,0,K-1);Le[oe+0]=Qe<<2;Le[oe+1]=Re<<2;Le[oe+2]=Me<<2;Le[oe+3]=$e<<2;We[oe+0]=Ge[0];We[oe+1]=Ge[1];We[oe+2]=Ge[2];We[oe+3]=Ge[3]}const $e=new Int32Array(Qe*4);const Ye=new Float32Array(Qe*4);const Ke=new Float32Array(4);const Xe=se/Qe;for(let b=0;b<Qe;b++){const B=(b+.5)*Xe-.5;const F=Math.floor(B);const K=B-F;weights(K,Ke);const oe=b*4;const Qe=clamp(F-1,0,se-1);const Me=clamp(F+0,0,se-1);const Le=clamp(F+1,0,se-1);const We=clamp(F+2,0,se-1);$e[oe+0]=Qe*Re;$e[oe+1]=Me*Re;$e[oe+2]=Le*Re;$e[oe+3]=We*Re;Ye[oe+0]=Ke[0];Ye[oe+1]=Ke[1];Ye[oe+2]=Ke[2];Ye[oe+3]=Ke[3]}const et=new Uint8Array(oe*Qe*4);for(let b=0;b<Qe;b++){const B=b*4;const K=$e[B+0],se=$e[B+1],Qe=$e[B+2],Re=$e[B+3];const Ge=Ye[B+0],ze=Ye[B+1],Ke=Ye[B+2],Xe=Ye[B+3];const rt=b*Me;for(let b=0;b<oe;b++){const B=b*4;const oe=Le[B+0],Me=Le[B+1],$e=Le[B+2],Ye=Le[B+3];const it=We[B+0],ot=We[B+1],at=We[B+2],lt=We[B+3];const ut=rt+(b<<2);for(let b=0;b<4;b++){const B=F[K+oe+b]*it+F[K+Me+b]*ot+F[K+$e+b]*at+F[K+Ye+b]*lt;const Le=F[se+oe+b]*it+F[se+Me+b]*ot+F[se+$e+b]*at+F[se+Ye+b]*lt;const We=F[Qe+oe+b]*it+F[Qe+Me+b]*ot+F[Qe+$e+b]*at+F[Qe+Ye+b]*lt;const rt=F[Re+oe+b]*it+F[Re+Me+b]*ot+F[Re+$e+b]*at+F[Re+Ye+b]*lt;const dt=B*Ge+Le*ze+We*Ke+rt*Xe;et[ut+b]=dt<0?0:dt>255?255:dt|0}}}return{data:Buffer.from(et.buffer),width:oe,height:Qe}}0&&0},5310:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{blendWithWhite:()=>blendWithWhite,colorDeltaE94:()=>colorDeltaE94,rgb2gray:()=>rgb2gray,srgb2xyz:()=>srgb2xyz,xyz2lab:()=>xyz2lab});b.exports=__toCommonJS(oe);function blendWithWhite(b,B){return 255+(b-255)*B}function rgb2gray(b,B,F){return 77*b+150*B+29*F+128>>8}function colorDeltaE94(b,B){const[F,K,se]=xyz2lab(srgb2xyz(b));const[oe,Qe,Re]=xyz2lab(srgb2xyz(B));const Me=F-oe;const Le=K-Qe;const We=se-Re;const Ge=Math.sqrt(K**2+se**2);const ze=Math.sqrt(Qe**2+Re**2);const $e=Ge-ze;let Ye=Le**2+We**2-$e**2;Ye=Ye<0?0:Math.sqrt(Ye);const Ke=.045;const Xe=.015;const et=1;const rt=1;const it=1;const ot=1+Ke*Ge;const at=1+Xe*Ge;const lt=1;return Math.sqrt((Me/lt/et)**2+($e/ot/rt)**2+(Ye/at/it)**2)}function srgb2xyz(b){let B=b[0]/255;let F=b[1]/255;let K=b[2]/255;B=B>.04045?Math.pow((B+.055)/1.055,2.4):B/12.92;F=F>.04045?Math.pow((F+.055)/1.055,2.4):F/12.92;K=K>.04045?Math.pow((K+.055)/1.055,2.4):K/12.92;return[B*.4124+F*.3576+K*.1805,B*.2126+F*.7152+K*.0722,B*.0193+F*.1192+K*.9505]}const Qe=6*6/29/29;const Re=6*6*6/29/29/29;function xyz2lab(b){const B=b[0]/.950489;const F=b[1];const K=b[2]/1.08884;const se=B>Re?B**(1/3):B/3/Qe+4/29;const oe=F>Re?F**(1/3):F/3/Qe+4/29;const Me=K>Re?K**(1/3):K/3/Qe+4/29;const Le=116*oe-16;const We=500*(se-oe);const Ge=200*(oe-Me);return[Le,We,Ge]}0&&0},1027:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{compare:()=>compare});b.exports=__toCommonJS(Re);var Me=F(5310);var Le=F(5022);var We=F(6787);const Ge=15;const ze=1;function drawPixel(b,B,F,K,se,oe,Qe){const Re=(K*b+F)*4;B[Re+0]=se;B[Re+1]=oe;B[Re+2]=Qe;B[Re+3]=255}function compare(b,B,F,K,se,oe={}){const{maxColorDeltaE94:Qe=1}=oe;const Re=Math.max(ze,Ge);const $e=[255,0,255];const Ye=[0,255,0];const[Ke,Xe,et]=Le.ImageChannel.intoRGB(K,se,B,{paddingSize:Re,paddingColorEven:$e,paddingColorOdd:Ye});const[rt,it,ot]=Le.ImageChannel.intoRGB(K,se,b,{paddingSize:Re,paddingColorEven:$e,paddingColorOdd:Ye});const noop=(b,B)=>{};const at=F?(b,B)=>drawPixel(K,F,b-Re,B-Re,255,0,0):noop;const lt=F?(b,B)=>drawPixel(K,F,b-Re,B-Re,255,255,0):noop;const ut=F?(b,B)=>{const se=(0,Me.rgb2gray)(Ke.get(b,B),Xe.get(b,B),et.get(b,B));const oe=(0,Me.blendWithWhite)(se,.1);drawPixel(K,F,b-Re,B-Re,oe,oe,oe)}:noop;let dt,ht,pt;let ft=0;for(let b=Re;b<Ke.height-Re;++b){for(let B=Re;B<Ke.width-Re;++B){if(Ke.get(B,b)===rt.get(B,b)&&Xe.get(B,b)===it.get(B,b)&&et.get(B,b)===ot.get(B,b)){ut(B,b);continue}const F=(0,Me.colorDeltaE94)([Ke.get(B,b),Xe.get(B,b),et.get(B,b)],[rt.get(B,b),it.get(B,b),ot.get(B,b)]);if(F<=Qe){ut(B,b);continue}if(!dt||!ht||!pt){dt=new We.FastStats(Ke,rt);ht=new We.FastStats(Xe,it);pt=new We.FastStats(et,ot)}const[K,se]=Ke.boundXY(B-ze,b-ze);const[oe,Re]=Ke.boundXY(B+ze,b+ze);const Le=dt.varianceC1(K,se,oe,Re)+ht.varianceC1(K,se,oe,Re)+pt.varianceC1(K,se,oe,Re);const $e=dt.varianceC2(K,se,oe,Re)+ht.varianceC2(K,se,oe,Re)+pt.varianceC2(K,se,oe,Re);if(Le===0||$e===0){at(B,b);++ft;continue}const[Ye,mt]=Ke.boundXY(B-Ge,b-Ge);const[vt,yt]=Ke.boundXY(B+Ge,b+Ge);const wt=((0,We.ssim)(dt,Ye,mt,vt,yt)+(0,We.ssim)(ht,Ye,mt,vt,yt)+(0,We.ssim)(pt,Ye,mt,vt,yt))/3;const _t=wt>=.99;if(_t){lt(B,b)}else{at(B,b);++ft}}}return ft}0&&0},5022:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ImageChannel:()=>ImageChannel});b.exports=__toCommonJS(Re);var Me=F(5310);class ImageChannel{static intoRGB(b,B,F,K={}){const{paddingSize:se=0,paddingColorOdd:oe=[255,0,255],paddingColorEven:Qe=[0,255,0]}=K;const Re=b+2*se;const Le=B+2*se;const We=new Uint8Array(Re*Le);const Ge=new Uint8Array(Re*Le);const ze=new Uint8Array(Re*Le);for(let B=0;B<Le;++B){for(let K=0;K<Re;++K){const $e=B*Re+K;if(B>=se&&B<Le-se&&K>=se&&K<Re-se){const oe=((B-se)*b+(K-se))*4;const Qe=F[oe+3]===255?1:F[oe+3]/255;We[$e]=(0,Me.blendWithWhite)(F[oe],Qe);Ge[$e]=(0,Me.blendWithWhite)(F[oe+1],Qe);ze[$e]=(0,Me.blendWithWhite)(F[oe+2],Qe)}else{const b=(B+K)%2===0?Qe:oe;We[$e]=b[0];Ge[$e]=b[1];ze[$e]=b[2]}}}return[new ImageChannel(Re,Le,We),new ImageChannel(Re,Le,Ge),new ImageChannel(Re,Le,ze)]}constructor(b,B,F){this.data=F;this.width=b;this.height=B}get(b,B){return this.data[B*this.width+b]}boundXY(b,B){return[Math.min(Math.max(b,0),this.width-1),Math.min(Math.max(B,0),this.height-1)]}}0&&0},6787:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{FastStats:()=>FastStats,ssim:()=>ssim});b.exports=__toCommonJS(oe);const Qe=2**8-1;function ssim(b,B,F,K,se){const oe=b.meanC1(B,F,K,se);const Re=b.meanC2(B,F,K,se);const Me=b.varianceC1(B,F,K,se);const Le=b.varianceC2(B,F,K,se);const We=b.covariance(B,F,K,se);const Ge=(.01*Qe)**2;const ze=(.03*Qe)**2;return(2*oe*Re+Ge)*(2*We+ze)/(oe**2+Re**2+Ge)/(Me+Le+ze)}class FastStats{constructor(b,B){this.c1=b;this.c2=B;const{width:F,height:K}=b;this._partialSumC1=new Array(F*K);this._partialSumC2=new Array(F*K);this._partialSumSq1=new Array(F*K);this._partialSumSq2=new Array(F*K);this._partialSumMult=new Array(F*K);const recalc=(b,B,K,se,oe)=>{b[B]=K;if(oe>0)b[B]+=b[(oe-1)*F+se];if(se>0)b[B]+=b[oe*F+se-1];if(se>0&&oe>0)b[B]-=b[(oe-1)*F+se-1]};for(let b=0;b<K;++b){for(let B=0;B<F;++B){const K=b*F+B;recalc(this._partialSumC1,K,this.c1.data[K],B,b);recalc(this._partialSumC2,K,this.c2.data[K],B,b);recalc(this._partialSumSq1,K,this.c1.data[K]*this.c1.data[K],B,b);recalc(this._partialSumSq2,K,this.c2.data[K]*this.c2.data[K],B,b);recalc(this._partialSumMult,K,this.c1.data[K]*this.c2.data[K],B,b)}}}_sum(b,B,F,K,se){const oe=this.c1.width;let Qe=b[se*oe+K];if(F>0)Qe-=b[(F-1)*oe+K];if(B>0)Qe-=b[se*oe+B-1];if(B>0&&F>0)Qe+=b[(F-1)*oe+B-1];return Qe}meanC1(b,B,F,K){const se=(K-B+1)*(F-b+1);return this._sum(this._partialSumC1,b,B,F,K)/se}meanC2(b,B,F,K){const se=(K-B+1)*(F-b+1);return this._sum(this._partialSumC2,b,B,F,K)/se}varianceC1(b,B,F,K){const se=(K-B+1)*(F-b+1);return(this._sum(this._partialSumSq1,b,B,F,K)-this._sum(this._partialSumC1,b,B,F,K)**2/se)/se}varianceC2(b,B,F,K){const se=(K-B+1)*(F-b+1);return(this._sum(this._partialSumSq2,b,B,F,K)-this._sum(this._partialSumC2,b,B,F,K)**2/se)/se}covariance(b,B,F,K){const se=(K-B+1)*(F-b+1);return(this._sum(this._partialSumMult,b,B,F,K)-this._sum(this._partialSumC1,b,B,F,K)*this._sum(this._partialSumC2,b,B,F,K)/se)/se}}0&&0},9519:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{getLinuxDistributionInfoSync:()=>getLinuxDistributionInfoSync});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));let Ge=false;let ze;function getLinuxDistributionInfoSync(){if(process.platform!=="linux")return void 0;if(!ze&&!Ge){try{const b=We.default.readFileSync("/etc/os-release","utf8");const B=parseOSReleaseText(b);ze={id:B.get("id")??"",version:B.get("version_id")??""}}catch(b){Ge=true}}return ze}function parseOSReleaseText(b){const B=new Map;for(const F of b.split("\n")){const b=F.split("=");const K=b.shift();let se=b.join("=").trim();if(se.startsWith('"')&&se.endsWith('"'))se=se.substring(1,se.length-1);if(!K)continue;B.set(K.toLowerCase(),se)}return B}0&&0},6028:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{NET_DEFAULT_TIMEOUT:()=>et,createHttp2Server:()=>createHttp2Server,createHttpServer:()=>createHttpServer,createHttpsServer:()=>createHttpsServer,createProxyAgent:()=>createProxyAgent,fetchData:()=>fetchData,httpRequest:()=>httpRequest,isURLAvailable:()=>isURLAvailable});b.exports=__toCommonJS(Le);var We=__toESM(F(8611));var Ge=__toESM(F(5675));var ze=__toESM(F(5692));var $e=__toESM(F(7016));var Ye=F(6327);var Ke=F(3989);var Xe=F(1871);const et=3e4;function httpRequest(b,B,F){const K=$e.default.parse(b.url);let se={...K,agent:K.protocol==="https:"?Ke.httpsHappyEyeballsAgent:Ke.httpHappyEyeballsAgent,method:b.method||"GET",headers:b.headers};if(b.rejectUnauthorized!==void 0)se.rejectUnauthorized=b.rejectUnauthorized;const oe=(0,Ye.getProxyForUrl)(b.url);if(oe){if(b.url.startsWith("http:")){const b=$e.default.parse(oe);se={path:K.href,host:b.hostname,port:b.port,protocol:b.protocol||"http:",headers:se.headers,method:se.method}}else{se.agent=new Ye.HttpsProxyAgent(normalizeProxyURL(oe));se.rejectUnauthorized=false}}let Qe;const requestCallback=K=>{const se=K.statusCode||0;if(se>=300&&se<400&&K.headers.location){Re.destroy();Qe=httpRequest({...b,url:new URL(K.headers.location,b.url).toString()},B,F).cancel}else{B(K)}};const Re=se.protocol==="https:"?ze.default.request(se,requestCallback):We.default.request(se,requestCallback);Re.on("error",F);if(b.socketTimeout!==void 0){Re.setTimeout(b.socketTimeout,(()=>{F(new Error(`Request to ${b.url} timed out after ${b.socketTimeout}ms`));Re.abort()}))}Qe=b=>{try{Re.destroy(b)}catch{}};Re.end(b.data);return{cancel:b=>Qe(b)}}async function fetchData(b,B,F){const K=new Xe.ManualPromise;const{cancel:se}=httpRequest(B,(async b=>{if(b.statusCode!==200){const se=F?await F(B,b):new Error(`fetch failed: server returned code ${b.statusCode}. URL: ${B.url}`);K.reject(se);return}let se="";b.on("data",(b=>se+=b));b.on("error",(b=>K.reject(b)));b.on("end",(()=>K.resolve(se)))}),(b=>K.reject(b)));if(!b)return K;try{return await b.race(K)}catch(b){se(b);throw b}}function shouldBypassProxy(b,B){if(!B)return false;const F=B.split(",").map((b=>{b=b.trim();if(!b.startsWith("."))b="."+b;return b}));const K="."+b.hostname;return F.some((b=>K.endsWith(b)))}function normalizeProxyURL(b){b=b.trim();if(!/^\w+:\/\//.test(b))b="http://"+b;return new URL(b)}function createProxyAgent(b,B){if(!b)return;if(B&&b.bypass&&shouldBypassProxy(B,b.bypass))return;const F=normalizeProxyURL(b.server);if(F.protocol?.startsWith("socks")){if(F.protocol==="socks5:")F.protocol="socks5h:";else if(F.protocol==="socks4:")F.protocol="socks4a:";return new Ye.SocksProxyAgent(F)}if(b.username){F.username=b.username;F.password=b.password||""}if(B&&["ws:","wss:"].includes(B.protocol)){return new Ye.HttpsProxyAgent(F)}return new Ye.HttpsProxyAgent(F)}function createHttpServer(...b){const B=We.default.createServer(...b);decorateServer(B);return B}function createHttpsServer(...b){const B=ze.default.createServer(...b);decorateServer(B);return B}function createHttp2Server(...b){const B=Ge.default.createSecureServer(...b);decorateServer(B);return B}async function isURLAvailable(b,B,F,K){let se=await httpStatusCode(b,B,F,K);if(se===404&&b.pathname==="/"){const oe=new URL(b);oe.pathname="/index.html";se=await httpStatusCode(oe,B,F,K)}return se>=200&&se<404}async function httpStatusCode(b,B,F,K){return new Promise((se=>{F?.(`HTTP GET: ${b}`);httpRequest({url:b.toString(),headers:{Accept:"*/*"},rejectUnauthorized:!B},(b=>{b.resume();const B=b.statusCode??0;F?.(`HTTP Status: ${B}`);se(B)}),(B=>{if(B.code==="DEPTH_ZERO_SELF_SIGNED_CERT")K?.(`[WebServer] Self-signed certificate detected. Try adding ignoreHTTPSErrors: true to config.webServer.`);F?.(`Error while checking if ${b} is available: ${B.message}`);se(0)}))}))}function decorateServer(b){const B=new Set;b.on("connection",(b=>{B.add(b);b.once("close",(()=>B.delete(b)))}));const F=b.close;b.close=K=>{for(const b of B)b.destroy();B.clear();return F.call(b,K)}}0&&0},6959:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{nodePlatform:()=>ut,setBoxedStackPrefixes:()=>setBoxedStackPrefixes});b.exports=__toCommonJS(Le);var We=__toESM(F(6982));var Ge=__toESM(F(9896));var ze=__toESM(F(6928));var $e=__toESM(F(9023));var Ye=F(2203);var Ke=F(4434);var Xe=F(6327);var et=F(6877);var rt=F(1573);var it=F(3113);const ot=$e.promisify(Ye.pipeline);class NodeZone{constructor(b){this._zone=b}push(b){return new NodeZone(this._zone.with("apiZone",b))}pop(){return new NodeZone(this._zone.without("apiZone"))}run(b){return this._zone.run(b)}data(){return this._zone.data("apiZone")}}let at=[];function setBoxedStackPrefixes(b){at=b}const lt=ze.default.dirname(F.ab+"package.json");const ut={name:"node",boxedStackPrefixes:()=>{if(process.env.PWDEBUGIMPL)return[];return[lt,...at]},calculateSha1:b=>{const B=We.default.createHash("sha1");B.update(b);return Promise.resolve(B.digest("hex"))},colors:Xe.colors,coreDir:lt,createGuid:()=>We.default.randomBytes(16).toString("hex"),defaultMaxListeners:()=>Ke.EventEmitter.defaultMaxListeners,fs:()=>Ge.default,env:process.env,inspectCustom:$e.inspect.custom,isDebugMode:()=>(0,it.debugMode)()==="inspector",isJSDebuggerAttached:()=>!!F(264).url(),isLogEnabled(b){return et.debugLogger.isEnabled(b)},isUnderTest:()=>(0,it.isUnderTest)(),log(b,B){et.debugLogger.log(b,B)},path:()=>ze.default,pathSeparator:ze.default.sep,showInternalStackFrames:()=>!!process.env.PWDEBUGIMPL,async streamFile(b,B){await ot(Ge.default.createReadStream(b),B)},streamReadable:b=>new ReadableStreamImpl(b),streamWritable:b=>new WritableStreamImpl(b),zones:{current:()=>new NodeZone((0,rt.currentZone)()),empty:new NodeZone(rt.emptyZone)}};class ReadableStreamImpl extends Ye.Readable{constructor(b){super();this._channel=b}async _read(){const b=await this._channel.read({size:1024*1024});if(b.binary.byteLength)this.push(b.binary);else this.push(null)}_destroy(b,B){this._channel.close().catch((b=>null));super._destroy(b,B)}}class WritableStreamImpl extends Ye.Writable{constructor(b){super();this._channel=b}async _write(b,B,F){const K=await this._channel.write({binary:typeof b==="string"?Buffer.from(b):b}).catch((b=>b));F(K||null)}async _final(b){const B=await this._channel.close().catch((b=>b));b(B||null)}}0&&0},479:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{PipeTransport:()=>PipeTransport});b.exports=__toCommonJS(Re);var Me=F(6897);class PipeTransport{constructor(b,B,F,K="le"){this._data=Buffer.from([]);this._waitForNextTask=(0,Me.makeWaitForNextTask)();this._closed=false;this._bytesLeft=0;this._pipeWrite=b;this._endian=K;this._closeableStream=F;B.on("data",(b=>this._dispatch(b)));B.on("close",(()=>{this._closed=true;if(this.onclose)this.onclose()}));this.onmessage=void 0;this.onclose=void 0}send(b){if(this._closed)throw new Error("Pipe has been closed");const B=Buffer.from(b,"utf-8");const F=Buffer.alloc(4);if(this._endian==="be")F.writeUInt32BE(B.length,0);else F.writeUInt32LE(B.length,0);this._pipeWrite.write(F);this._pipeWrite.write(B)}close(){this._closeableStream.close()}_dispatch(b){this._data=Buffer.concat([this._data,b]);while(true){if(!this._bytesLeft&&this._data.length<4){break}if(!this._bytesLeft){this._bytesLeft=this._endian==="be"?this._data.readUInt32BE(0):this._data.readUInt32LE(0);this._data=this._data.slice(4)}if(!this._bytesLeft||this._data.length<this._bytesLeft){break}const b=this._data.slice(0,this._bytesLeft);this._data=this._data.slice(this._bytesLeft);this._bytesLeft=0;this._waitForNextTask((()=>{if(this.onmessage)this.onmessage(b.toString("utf-8"))}))}}}0&&0},8307:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{envArrayToObject:()=>envArrayToObject,gracefullyCloseAll:()=>gracefullyCloseAll,gracefullyCloseSet:()=>Ke,gracefullyProcessExitDoNotHang:()=>gracefullyProcessExitDoNotHang,launchProcess:()=>launchProcess});b.exports=__toCommonJS(Le);var We=__toESM(F(7698));var Ge=__toESM(F(9896));var ze=__toESM(F(3785));var $e=F(1245);var Ye=F(3143);const Ke=new Set;const Xe=new Set;async function gracefullyCloseAll(){await Promise.all(Array.from(Ke).map((b=>b().catch((b=>{})))))}function gracefullyProcessExitDoNotHang(b){setTimeout((()=>process.exit(b)),3e4);gracefullyCloseAll().then((()=>{process.exit(b)}))}function exitHandler(){for(const b of Xe)b()}let et=false;function sigintHandler(){const exitWithCode130=()=>{if((0,Ye.isUnderTest)()){setTimeout((()=>process.exit(130)),1e3)}else{process.exit(130)}};if(et){process.off("SIGINT",sigintHandler);for(const b of Xe)b();exitWithCode130()}else{et=true;gracefullyCloseAll().then((()=>exitWithCode130()))}}function sigtermHandler(){gracefullyCloseAll()}function sighupHandler(){gracefullyCloseAll()}const rt=new Set;const it={exit:exitHandler,SIGINT:sigintHandler,SIGTERM:sigtermHandler,SIGHUP:sighupHandler};function addProcessHandlerIfNeeded(b){if(!rt.has(b)){rt.add(b);process.on(b,it[b])}}function removeProcessHandlersIfNeeded(){if(Xe.size)return;for(const b of rt)process.off(b,it[b]);rt.clear()}async function launchProcess(b){const B=b.stdio==="pipe"?["ignore","pipe","pipe","pipe","pipe"]:["pipe","pipe","pipe"];b.log(`<launching> ${b.command} ${b.args?b.args.join(" "):""}`);const F={detached:process.platform!=="win32",env:b.env,cwd:b.cwd,shell:b.shell,stdio:B};const K=We.spawn(b.command,b.args||[],F);const cleanup=async()=>{b.log(`[pid=${K.pid||"N/A"}] starting temporary directories cleanup`);const B=await(0,$e.removeFolders)(b.tempDirectories);for(let F=0;F<b.tempDirectories.length;++F){if(B[F])b.log(`[pid=${K.pid||"N/A"}] exception while removing ${b.tempDirectories[F]}: ${B[F]}`)}b.log(`[pid=${K.pid||"N/A"}] finished temporary directories cleanup`)};K.on("error",(()=>{}));if(!K.pid){let b;const B=new Promise(((B,F)=>b=B));K.once("error",(B=>{b(new Error("Failed to launch: "+B))}));return B.then((async b=>{await cleanup();throw b}))}b.log(`<launched> pid=${K.pid}`);const se=ze.createInterface({input:K.stdout});se.on("line",(B=>{b.log(`[pid=${K.pid}][out] `+B)}));const oe=ze.createInterface({input:K.stderr});oe.on("line",(B=>{b.log(`[pid=${K.pid}][err] `+B)}));let Qe=false;let fulfillCleanup=()=>{};const Re=new Promise((b=>fulfillCleanup=b));K.once("close",((B,F)=>{b.log(`[pid=${K.pid}] <process did exit: exitCode=${B}, signal=${F}>`);Qe=true;Ke.delete(gracefullyClose);Xe.delete(killProcessAndCleanup);removeProcessHandlersIfNeeded();b.onExit(B,F);cleanup().then(fulfillCleanup)}));addProcessHandlerIfNeeded("exit");if(b.handleSIGINT)addProcessHandlerIfNeeded("SIGINT");if(b.handleSIGTERM)addProcessHandlerIfNeeded("SIGTERM");if(b.handleSIGHUP)addProcessHandlerIfNeeded("SIGHUP");Ke.add(gracefullyClose);Xe.add(killProcessAndCleanup);let Me=false;async function gracefullyClose(){if(Me){b.log(`[pid=${K.pid}] <forcefully close>`);killProcess();await Re;return}Me=true;b.log(`[pid=${K.pid}] <gracefully close start>`);await b.attemptToGracefullyClose().catch((()=>killProcess()));await Re;b.log(`[pid=${K.pid}] <gracefully close end>`)}function killProcess(){Ke.delete(gracefullyClose);Xe.delete(killProcessAndCleanup);removeProcessHandlersIfNeeded();b.log(`[pid=${K.pid}] <kill>`);if(K.pid&&!K.killed&&!Qe){b.log(`[pid=${K.pid}] <will force kill>`);try{if(process.platform==="win32"){const B=We.spawnSync(`taskkill /pid ${K.pid} /T /F`,{shell:true});const[F,se]=[B.stdout.toString(),B.stderr.toString()];if(F)b.log(`[pid=${K.pid}] taskkill stdout: ${F}`);if(se)b.log(`[pid=${K.pid}] taskkill stderr: ${se}`)}else{process.kill(-K.pid,"SIGKILL")}}catch(B){b.log(`[pid=${K.pid}] exception while trying to kill process: ${B}`)}}else{b.log(`[pid=${K.pid}] <skipped force kill spawnedProcess.killed=${K.killed} processClosed=${Qe}>`)}}function killProcessAndCleanup(){killProcess();b.log(`[pid=${K.pid||"N/A"}] starting temporary directories cleanup`);for(const B of b.tempDirectories){try{Ge.default.rmSync(B,{force:true,recursive:true,maxRetries:5})}catch(F){b.log(`[pid=${K.pid||"N/A"}] exception while removing ${B}: ${F}`)}}b.log(`[pid=${K.pid||"N/A"}] finished temporary directories cleanup`)}function killAndWait(){killProcess();return Re}return{launchedProcess:K,gracefullyClose:gracefullyClose,kill:killAndWait}}function envArrayToObject(b){const B={};for(const{name:F,value:K}of b)B[F]=K;return B}0&&0},5513:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{startProfiling:()=>startProfiling,stopProfiling:()=>stopProfiling});b.exports=__toCommonJS(Le);var We=__toESM(F(9896));var Ge=__toESM(F(6928));const ze=process.env.PWTEST_PROFILE_DIR||"";let $e;async function startProfiling(){if(!ze)return;$e=new(F(264).Session);$e.connect();await new Promise((b=>{$e.post("Profiler.enable",(()=>{$e.post("Profiler.start",b)}))}))}async function stopProfiling(b){if(!ze)return;await new Promise((B=>$e.post("Profiler.stop",((F,{profile:K})=>{if(!F){We.default.mkdirSync(ze,{recursive:true});We.default.writeFileSync(Ge.default.join(ze,b+".json"),JSON.stringify(K))}B()}))))}0&&0},7611:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{SocksProxy:()=>SocksProxy,SocksProxyHandler:()=>SocksProxyHandler,parsePattern:()=>parsePattern});b.exports=__toCommonJS(Le);var We=__toESM(F(4434));var Ge=__toESM(F(9278));var ze=F(6224);var $e=F(6065);var Ye=F(6877);var Ke=F(3989);var Xe=(b=>{b[b["NO_AUTHENTICATION_REQUIRED"]=0]="NO_AUTHENTICATION_REQUIRED";b[b["GSSAPI"]=1]="GSSAPI";b[b["USERNAME_PASSWORD"]=2]="USERNAME_PASSWORD";b[b["NO_ACCEPTABLE_METHODS"]=255]="NO_ACCEPTABLE_METHODS";return b})(Xe||{});var et=(b=>{b[b["IPv4"]=1]="IPv4";b[b["FqName"]=3]="FqName";b[b["IPv6"]=4]="IPv6";return b})(et||{});var rt=(b=>{b[b["CONNECT"]=1]="CONNECT";b[b["BIND"]=2]="BIND";b[b["UDP_ASSOCIATE"]=3]="UDP_ASSOCIATE";return b})(rt||{});var it=(b=>{b[b["Succeeded"]=0]="Succeeded";b[b["GeneralServerFailure"]=1]="GeneralServerFailure";b[b["NotAllowedByRuleSet"]=2]="NotAllowedByRuleSet";b[b["NetworkUnreachable"]=3]="NetworkUnreachable";b[b["HostUnreachable"]=4]="HostUnreachable";b[b["ConnectionRefused"]=5]="ConnectionRefused";b[b["TtlExpired"]=6]="TtlExpired";b[b["CommandNotSupported"]=7]="CommandNotSupported";b[b["AddressTypeNotSupported"]=8]="AddressTypeNotSupported";return b})(it||{});class SocksConnection{constructor(b,B,F){this._buffer=Buffer.from([]);this._offset=0;this._fence=0;this._uid=b;this._socket=B;this._client=F;this._boundOnData=this._onData.bind(this);B.on("data",this._boundOnData);B.on("close",(()=>this._onClose()));B.on("end",(()=>this._onClose()));B.on("error",(()=>this._onClose()));this._run().catch((()=>this._socket.end()))}async _run(){(0,ze.assert)(await this._authenticate());const{command:b,host:B,port:F}=await this._parseRequest();if(b!==1){this._writeBytes(Buffer.from([5,7,0,1,0,0,0,0,0,0]));return}this._socket.off("data",this._boundOnData);this._client.onSocketRequested({uid:this._uid,host:B,port:F})}async _authenticate(){const b=await this._readByte();(0,ze.assert)(b===5,"The VER field must be set to x05 for this version of the protocol, was "+b);const B=await this._readByte();(0,ze.assert)(B,"No authentication methods specified");const F=await this._readBytes(B);for(const B of F){if(B===0){this._writeBytes(Buffer.from([b,B]));return true}}this._writeBytes(Buffer.from([b,255]));return false}async _parseRequest(){const b=await this._readByte();(0,ze.assert)(b===5,"The VER field must be set to x05 for this version of the protocol, was "+b);const B=await this._readByte();await this._readByte();const F=await this._readByte();let K="";switch(F){case 1:K=(await this._readBytes(4)).join(".");break;case 3:const b=await this._readByte();K=(await this._readBytes(b)).toString();break;case 4:const B=await this._readBytes(16);const F=[];for(let b=0;b<8;++b)F.push(B.readUInt16BE(b*2).toString(16));K=F.join(":");break}const se=(await this._readBytes(2)).readUInt16BE(0);this._buffer=Buffer.from([]);this._offset=0;this._fence=0;return{command:B,host:K,port:se}}async _readByte(){const b=await this._readBytes(1);return b[0]}async _readBytes(b){this._fence=this._offset+b;if(!this._buffer||this._buffer.length<this._fence)await new Promise((b=>this._fenceCallback=b));this._offset+=b;return this._buffer.slice(this._offset-b,this._offset)}_writeBytes(b){if(this._socket.writable)this._socket.write(b)}_onClose(){this._client.onSocketClosed({uid:this._uid})}_onData(b){this._buffer=Buffer.concat([this._buffer,b]);if(this._fenceCallback&&this._buffer.length>=this._fence){const b=this._fenceCallback;this._fenceCallback=void 0;b()}}socketConnected(b,B){this._writeBytes(Buffer.from([5,0,0,...ipToSocksAddress(b),B>>8,B&255]));this._socket.on("data",(b=>this._client.onSocketData({uid:this._uid,data:b})))}socketFailed(b){const B=Buffer.from([5,0,0,...ipToSocksAddress("0.0.0.0"),0,0]);switch(b){case"ENOENT":case"ENOTFOUND":case"ETIMEDOUT":case"EHOSTUNREACH":B[1]=4;break;case"ENETUNREACH":B[1]=3;break;case"ECONNREFUSED":B[1]=5;break;case"ERULESET":B[1]=2;break}this._writeBytes(B);this._socket.end()}sendData(b){this._socket.write(b)}end(){this._socket.end()}error(b){this._socket.destroy(new Error(b))}}function hexToNumber(b){return[...b].reduce(((B,F)=>{const K=F.charCodeAt(0);if(K>=48&&K<=57)return B+K;if(K>=97&&K<=102)return B+(K-97)+10;if(K>=65&&K<=70)return B+(K-65)+10;throw new Error("Invalid IPv6 token "+b)}),0)}function ipToSocksAddress(b){if(Ge.default.isIPv4(b)){return[1,...b.split(".",4).map((b=>+b&255))]}if(Ge.default.isIPv6(b)){const B=[4];const F=b.split(":",8);while(F.length<8)F.unshift("");for(const b of F){const F=hexToNumber(b);B.push(F>>8&255,F&255)}return B}throw new Error("Only IPv4 and IPv6 addresses are supported")}function starMatchToRegex(b){const B=b.split("*").map((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))).join(".*");return new RegExp("^"+B+"$")}function parsePattern(b){if(!b)return()=>false;const B=b.split(",").map((B=>{const F=B.match(/^(.*?)(?::(\d+))?$/);if(!F)throw new Error(`Unsupported token "${B}" in pattern "${b}"`);const K=F[2]?+F[2]:void 0;const portMatches=b=>K===void 0||K===b;let se=F[1];if(se==="<loopback>"){return(b,B)=>{if(!portMatches(B))return false;return b==="localhost"||b.endsWith(".localhost")||b==="127.0.0.1"||b==="[::1]"}}if(se==="*")return(b,B)=>portMatches(B);if(Ge.default.isIPv4(se)||Ge.default.isIPv6(se))return(b,B)=>b===se&&portMatches(B);if(se[0]===".")se="*"+se;const oe=starMatchToRegex(se);return(b,B)=>{if(!portMatches(B))return false;if(Ge.default.isIPv4(b)||Ge.default.isIPv6(b))return false;return!!b.match(oe)}}));return(b,F)=>B.some((B=>B(b,F)))}class SocksProxy extends We.default{constructor(){super();this._connections=new Map;this._sockets=new Set;this._closed=false;this._patternMatcher=()=>false;this._directSockets=new Map;this._server=new Ge.default.Server((b=>{const B=(0,$e.createGuid)();const F=new SocksConnection(B,b,this);this._connections.set(B,F)}));this._server.on("connection",(b=>{if(this._closed){b.destroy();return}this._sockets.add(b);b.once("close",(()=>this._sockets.delete(b)))}))}static{this.Events={SocksRequested:"socksRequested",SocksData:"socksData",SocksClosed:"socksClosed"}}setPattern(b){try{this._patternMatcher=parsePattern(b)}catch(b){this._patternMatcher=()=>false}}async _handleDirect(b){try{const B=await(0,Ke.createSocket)(b.host,b.port);B.on("data",(B=>this._connections.get(b.uid)?.sendData(B)));B.on("error",(B=>{this._connections.get(b.uid)?.error(B.message);this._directSockets.delete(b.uid)}));B.on("end",(()=>{this._connections.get(b.uid)?.end();this._directSockets.delete(b.uid)}));const F=B.localAddress;const K=B.localPort;this._directSockets.set(b.uid,B);this._connections.get(b.uid)?.socketConnected(F,K)}catch(B){this._connections.get(b.uid)?.socketFailed(B.code)}}port(){return this._port}async listen(b,B){return new Promise((F=>{this._server.listen(b,B,(()=>{const b=this._server.address().port;this._port=b;F(b)}))}))}async close(){if(this._closed)return;this._closed=true;for(const b of this._sockets)b.destroy();this._sockets.clear();await new Promise((b=>this._server.close(b)))}onSocketRequested(b){if(!this._patternMatcher(b.host,b.port)){this._handleDirect(b);return}this.emit(SocksProxy.Events.SocksRequested,b)}onSocketData(b){const B=this._directSockets.get(b.uid);if(B){B.write(b.data);return}this.emit(SocksProxy.Events.SocksData,b)}onSocketClosed(b){const B=this._directSockets.get(b.uid);if(B){B.destroy();this._directSockets.delete(b.uid);return}this.emit(SocksProxy.Events.SocksClosed,b)}socketConnected({uid:b,host:B,port:F}){this._connections.get(b)?.socketConnected(B,F)}socketFailed({uid:b,errorCode:B}){this._connections.get(b)?.socketFailed(B)}sendSocketData({uid:b,data:B}){this._connections.get(b)?.sendData(B)}sendSocketEnd({uid:b}){this._connections.get(b)?.end()}sendSocketError({uid:b,error:B}){this._connections.get(b)?.error(B)}}class SocksProxyHandler extends We.default{constructor(b,B){super();this._sockets=new Map;this._patternMatcher=()=>false;this._patternMatcher=parsePattern(b);this._redirectPortForTest=B}static{this.Events={SocksConnected:"socksConnected",SocksData:"socksData",SocksError:"socksError",SocksFailed:"socksFailed",SocksEnd:"socksEnd"}}cleanup(){for(const b of this._sockets.keys())this.socketClosed({uid:b})}async socketRequested({uid:b,host:B,port:F}){Ye.debugLogger.log("socks",`[${b}] => request ${B}:${F}`);if(!this._patternMatcher(B,F)){const B={uid:b,errorCode:"ERULESET"};Ye.debugLogger.log("socks",`[${b}] <= pattern error ${B.errorCode}`);this.emit(SocksProxyHandler.Events.SocksFailed,B);return}if(B==="local.playwright")B="localhost";try{if(this._redirectPortForTest)F=this._redirectPortForTest;const K=await(0,Ke.createSocket)(B,F);K.on("data",(B=>{const F={uid:b,data:B};this.emit(SocksProxyHandler.Events.SocksData,F)}));K.on("error",(B=>{const F={uid:b,error:B.message};Ye.debugLogger.log("socks",`[${b}] <= network socket error ${F.error}`);this.emit(SocksProxyHandler.Events.SocksError,F);this._sockets.delete(b)}));K.on("end",(()=>{const B={uid:b};Ye.debugLogger.log("socks",`[${b}] <= network socket closed`);this.emit(SocksProxyHandler.Events.SocksEnd,B);this._sockets.delete(b)}));const se=K.localAddress;const oe=K.localPort;this._sockets.set(b,K);const Qe={uid:b,host:se,port:oe};Ye.debugLogger.log("socks",`[${b}] <= connected to network ${Qe.host}:${Qe.port}`);this.emit(SocksProxyHandler.Events.SocksConnected,Qe)}catch(B){const F={uid:b,errorCode:B.code};Ye.debugLogger.log("socks",`[${b}] <= connect error ${F.errorCode}`);this.emit(SocksProxyHandler.Events.SocksFailed,F)}}sendSocketData({uid:b,data:B}){this._sockets.get(b)?.write(B)}socketClosed({uid:b}){Ye.debugLogger.log("socks",`[${b}] <= browser socket closed`);this._sockets.get(b)?.destroy();this._sockets.delete(b)}}0&&0},4486:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{spawnAsync:()=>spawnAsync});b.exports=__toCommonJS(Re);var Me=F(7698);function spawnAsync(b,B,F={}){const K=(0,Me.spawn)(b,B,Object.assign({windowsHide:true},F));return new Promise((b=>{let B="";let F="";if(K.stdout)K.stdout.on("data",(b=>B+=b.toString()));if(K.stderr)K.stderr.on("data",(b=>F+=b.toString()));K.on("close",(K=>b({stdout:B,stderr:F,code:K})));K.on("error",(K=>b({stdout:B,stderr:F,code:0,error:K})))}))}0&&0},6897:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{makeWaitForNextTask:()=>makeWaitForNextTask});b.exports=__toCommonJS(oe);function makeWaitForNextTask(){if(process.versions.electron)return b=>setTimeout(b,0);if(parseInt(process.versions.node,10)>=11)return setImmediate;let b=false;const B=[];const loop=()=>{const F=B.shift();if(!F){b=false;return}setImmediate(loop);F()};return F=>{B.push(F);if(!b){b=true;setImmediate(loop)}}}0&&0},6230:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{getEmbedderName:()=>getEmbedderName,getPlaywrightVersion:()=>getPlaywrightVersion,getUserAgent:()=>getUserAgent});b.exports=__toCommonJS(Le);var We=F(7698);var Ge=__toESM(F(857));var ze=F(9519);let $e;function getUserAgent(){if($e)return $e;try{$e=determineUserAgent()}catch(b){$e="Playwright/unknown"}return $e}function determineUserAgent(){let b="unknown";let B="unknown";if(process.platform==="win32"){const F=Ge.default.release().split(".");b="windows";B=`${F[0]}.${F[1]}`}else if(process.platform==="darwin"){const F=(0,We.execSync)("sw_vers -productVersion",{stdio:["ignore","pipe","ignore"]}).toString().trim().split(".");b="macOS";B=`${F[0]}.${F[1]}`}else if(process.platform==="linux"){const F=(0,ze.getLinuxDistributionInfoSync)();if(F){b=F.id||"linux";B=F.version||"unknown"}else{b="linux"}}const F=[];if(process.env.CI)F.push("CI/1");const K=F.length?" "+F.join(" "):"";const{embedderName:se,embedderVersion:oe}=getEmbedderName();return`Playwright/${getPlaywrightVersion()} (${Ge.default.arch()}; ${b} ${B}) ${se}/${oe}${K}`}function getEmbedderName(){let b="unknown";let B="unknown";if(!process.env.PW_LANG_NAME){b="node";B=process.version.substring(1).split(".").slice(0,2).join(".")}else if(["node","python","java","csharp"].includes(process.env.PW_LANG_NAME)){b=process.env.PW_LANG_NAME;B=process.env.PW_LANG_NAME_VERSION??"unknown"}return{embedderName:b,embedderVersion:B}}function getPlaywrightVersion(b=false){const B=process.env.PW_VERSION_OVERRIDE||F(9975).rE;return b?B.split(".").slice(0,2).join("."):B}0&&0},3241:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{WSServer:()=>WSServer,perMessageDeflate:()=>$e});b.exports=__toCommonJS(Re);var Me=F(6028);var Le=F(6327);var We=F(6877);let Ge=0;const ze=Symbol("kConnection");const $e={serverNoContextTakeover:true,zlibDeflateOptions:{level:3},zlibInflateOptions:{chunkSize:10*1024},threshold:10*1024};class WSServer{constructor(b){this._delegate=b}async listen(b=0,B,F){We.debugLogger.log("server",`Server started at ${new Date}`);const K=(0,Me.createHttpServer)(this._delegate.onRequest);K.on("error",(b=>We.debugLogger.log("server",String(b))));this.server=K;const se=await new Promise(((se,oe)=>{K.listen(b,B,(()=>{const b=K.address();if(!b){oe(new Error("Could not bind server socket"));return}const Qe=typeof b==="string"?`${b}${F}`:`ws://${B||"localhost"}:${b.port}${F}`;se(Qe)})).on("error",oe)}));We.debugLogger.log("server","Listening at "+se);this._wsServer=new Le.wsServer({noServer:true,perMessageDeflate:$e});this._wsServer.on("headers",(b=>this._delegate.onHeaders(b)));K.on("upgrade",((b,B,K)=>{const se=new URL("http://localhost"+b.url).pathname;if(se!==F){B.write(`HTTP/${b.httpVersion} 400 Bad Request\r\n\r\n`);B.destroy();return}const oe=this._delegate.onUpgrade(b,B);if(oe){B.write(oe.error);B.destroy();return}this._wsServer.handleUpgrade(b,B,K,(B=>this._wsServer.emit("connection",B,b)))}));this._wsServer.on("connection",((b,B)=>{We.debugLogger.log("server","Connected client ws.extension="+b.extensions);const F=new URL("http://localhost"+(B.url||""));const K=String(++Ge);We.debugLogger.log("server",`[${K}] serving connection: ${B.url}`);const se=this._delegate.onConnection(B,F,b,K);b[ze]=se}));return se}async close(){const b=this._wsServer;if(!b)return;We.debugLogger.log("server","closing websocket server");const B=new Promise((B=>b.close(B)));await Promise.all(Array.from(b.clients).map((async b=>{const B=b[ze];if(B)await B.close();try{b.terminate()}catch(b){}})));await B;We.debugLogger.log("server","closing http server");if(this.server)await new Promise((b=>this.server.close(b)));this._wsServer=void 0;this.server=void 0;We.debugLogger.log("server","closed server")}}0&&0},9463:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{ZipFile:()=>ZipFile});b.exports=__toCommonJS(Re);var Me=F(7505);class ZipFile{constructor(b){this._entries=new Map;this._fileName=b;this._openedPromise=this._open()}async _open(){await new Promise(((b,B)=>{Me.yauzl.open(this._fileName,{autoClose:false},((F,K)=>{if(F){B(F);return}this._zipFile=K;this._zipFile.on("entry",(b=>{this._entries.set(b.fileName,b)}));this._zipFile.on("end",b)}))}))}async entries(){await this._openedPromise;return[...this._entries.keys()]}async read(b){await this._openedPromise;const B=this._entries.get(b);if(!B)throw new Error(`${b} not found in file ${this._fileName}`);return new Promise(((b,F)=>{this._zipFile.openReadStream(B,((B,K)=>{if(B||!K){F(B||"Entry not found");return}const se=[];K.on("data",(b=>se.push(b)));K.on("end",(()=>b(Buffer.concat(se))))}))}))}close(){this._zipFile?.close()}}0&&0},1573:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Zone:()=>Zone,currentZone:()=>currentZone,emptyZone:()=>We});b.exports=__toCommonJS(Re);var Me=F(290);const Le=new Me.AsyncLocalStorage;class Zone{constructor(b,B){this._asyncLocalStorage=b;this._data=B}with(b,B){return new Zone(this._asyncLocalStorage,new Map(this._data).set(b,B))}without(b){const B=b?new Map(this._data):new Map;B.delete(b);return new Zone(this._asyncLocalStorage,B)}run(b){return this._asyncLocalStorage.run(this,b)}data(b){return this._data.get(b)}}const We=new Zone(Le,new Map);function currentZone(){return Le.getStore()??We}0&&0},3853:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{WebKit:()=>WebKit,translatePathToWSL:()=>translatePathToWSL});b.exports=__toCommonJS(Le);var We=__toESM(F(6928));var Ge=F(3281);var ze=F(1769);var $e=F(2880);var Ye=F(6025);var Ke=F(4486);class WebKit extends $e.BrowserType{constructor(b){super(b,"webkit")}connectToTransport(b,B){return Ye.WKBrowser.connect(this.attribution.playwright,b,B)}amendEnvironment(b,B,F,K){return{...b,CURL_COOKIE_JAR_PATH:process.platform==="win32"&&F?We.default.join(B,"cookiejar.db"):void 0}}doRewriteStartupLog(b){if(!b.logs)return b;if(b.logs.includes("Failed to open display")||b.logs.includes("cannot open display"))b.logs="\n"+(0,ze.wrapInASCIIBox)($e.kNoXServerRunningError,1);return b}attemptToGracefullyCloseBrowser(b){b.send({method:"Playwright.close",params:{},id:Ge.kBrowserCloseMessageId})}async defaultArgs(b,B,F){const{args:K=[],headless:se}=b;const oe=K.find((b=>b.startsWith("--user-data-dir")));if(oe)throw this._createUserDataDirArgMisuseError("--user-data-dir");if(K.find((b=>!b.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const Qe=["--inspector-pipe"];if(process.platform==="win32"&&b.channel!=="webkit-wsl")Qe.push("--disable-accelerated-compositing");if(se)Qe.push("--headless");if(B)Qe.push(`--user-data-dir=${b.channel==="webkit-wsl"?await translatePathToWSL(F):F}`);else Qe.push(`--no-startup-window`);const Re=b.proxyOverride||b.proxy;if(Re){if(process.platform==="darwin"){Qe.push(`--proxy=${Re.server}`);if(Re.bypass)Qe.push(`--proxy-bypass-list=${Re.bypass}`)}else if(process.platform==="linux"||process.platform==="win32"&&b.channel==="webkit-wsl"){Qe.push(`--proxy=${Re.server}`);if(Re.bypass)Qe.push(...Re.bypass.split(",").map((b=>`--ignore-host=${b}`)))}else if(process.platform==="win32"){Qe.push(`--curl-proxy=${Re.server.replace(/^socks5:\/\//,"socks5h://")}`);if(Re.bypass)Qe.push(`--curl-noproxy=${Re.bypass}`)}}Qe.push(...K);if(B)Qe.push("about:blank");return Qe}}async function translatePathToWSL(b){const{stdout:B}=await(0,Ke.spawnAsync)("wsl.exe",["-d","playwright","--cd","/home/pwuser","wslpath",b.replace(/\\/g,"\\\\")]);return B.toString().trim()}0&&0},6025:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{WKBrowser:()=>WKBrowser,WKBrowserContext:()=>WKBrowserContext});b.exports=__toCommonJS(Le);var We=F(3143);var Ge=F(4856);var ze=F(3021);var $e=__toESM(F(6370));var Ye=F(3281);var Ke=F(9194);var Xe=F(541);var et=F(3853);const rt="26.0";const it=`Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/${rt} Safari/605.1.15`;class WKBrowser extends Ge.Browser{constructor(b,B,F){super(b,F);this._contexts=new Map;this._wkPages=new Map;this._connection=new Ye.WKConnection(B,this._onDisconnect.bind(this),F.protocolLogger,F.browserLogsCollector);this._browserSession=this._connection.browserSession;this._browserSession.on("Playwright.pageProxyCreated",this._onPageProxyCreated.bind(this));this._browserSession.on("Playwright.pageProxyDestroyed",this._onPageProxyDestroyed.bind(this));this._browserSession.on("Playwright.provisionalLoadFailed",(b=>this._onProvisionalLoadFailed(b)));this._browserSession.on("Playwright.windowOpen",(b=>this._onWindowOpen(b)));this._browserSession.on("Playwright.downloadCreated",this._onDownloadCreated.bind(this));this._browserSession.on("Playwright.downloadFilenameSuggested",this._onDownloadFilenameSuggested.bind(this));this._browserSession.on("Playwright.downloadFinished",this._onDownloadFinished.bind(this));this._browserSession.on("Playwright.screencastFinished",this._onScreencastFinished.bind(this));this._browserSession.on(Ye.kPageProxyMessageReceived,this._onPageProxyMessageReceived.bind(this))}static async connect(b,B,F){const K=new WKBrowser(b,B,F);if(F.__testHookOnConnectToBrowser)await F.__testHookOnConnectToBrowser();const se=[K._browserSession.send("Playwright.enable")];if(F.persistent){F.persistent.userAgent||=it;K._defaultContext=new WKBrowserContext(K,void 0,F.persistent);se.push(K._defaultContext._initialize())}await Promise.all(se);return K}_onDisconnect(){for(const b of this._wkPages.values())b.didClose();this._wkPages.clear();for(const b of this._idToVideo.values())b.artifact.reportFinished(new Xe.TargetClosedError);this._idToVideo.clear();this._didClose()}async doCreateNewContext(b){const B=b.proxyOverride||b.proxy;const F=B?{proxyServer:process.platform==="win32"&&this.attribution.browser?.options.channel!=="webkit-wsl"?B.server.replace(/^socks5:\/\//,"socks5h://"):B.server,proxyBypassList:B.bypass}:void 0;const{browserContextId:K}=await this._browserSession.send("Playwright.createContext",F);b.userAgent=b.userAgent||it;const se=new WKBrowserContext(this,K,b);await se._initialize();this._contexts.set(K,se);return se}contexts(){return Array.from(this._contexts.values())}version(){return rt}userAgent(){return it}_onDownloadCreated(b){const B=this._wkPages.get(b.pageProxyId);if(!B)return;let F=b.frameId;if(!B._page.frameManager.frame(F))F=B._page.mainFrame()._id;B._page.frameManager.frameAbortedNavigation(F,"Download is starting");let K=B._page.initializedOrUndefined();if(!K){B._firstNonInitialNavigationCommittedReject(new Error("Starting new page download"));if(B._opener)K=B._opener._page.initializedOrUndefined()}if(!K)return;this._downloadCreated(K,b.uuid,b.url)}_onDownloadFilenameSuggested(b){this._downloadFilenameSuggested(b.uuid,b.suggestedFilename)}_onDownloadFinished(b){this._downloadFinished(b.uuid,b.error)}_onScreencastFinished(b){this._takeVideo(b.screencastId)?.reportFinished()}_onPageProxyCreated(b){const B=b.pageProxyId;let F=null;if(b.browserContextId){F=this._contexts.get(b.browserContextId)||null}if(!F)F=this._defaultContext;if(!F)return;const K=new Ye.WKSession(this._connection,B,(b=>{this._connection.rawSend({...b,pageProxyId:B})}));const se=b.openerId?this._wkPages.get(b.openerId):void 0;const oe=new Ke.WKPage(F,K,se||null);this._wkPages.set(B,oe)}_onPageProxyDestroyed(b){const B=b.pageProxyId;const F=this._wkPages.get(B);if(!F)return;this._wkPages.delete(B);F.didClose()}_onPageProxyMessageReceived(b){const B=this._wkPages.get(b.pageProxyId);if(!B)return;B.dispatchMessageToSession(b.message)}_onProvisionalLoadFailed(b){const B=this._wkPages.get(b.pageProxyId);if(!B)return;B.handleProvisionalLoadFailed(b)}_onWindowOpen(b){const B=this._wkPages.get(b.pageProxyId);if(!B)return;B.handleWindowOpen(b)}isConnected(){return!this._connection.isClosed()}}class WKBrowserContext extends ze.BrowserContext{constructor(b,B,F){super(b,F,B);this._validateEmulatedViewport(F.viewport);this._authenticateProxyViaHeader()}async _initialize(){(0,We.assert)(!this._wkPages().length);const b=this._browserContextId;const B=[super._initialize()];B.push(this._browser._browserSession.send("Playwright.setDownloadBehavior",{behavior:this._options.acceptDownloads==="accept"?"allow":"deny",downloadPath:this._browser.options.channel==="webkit-wsl"?await(0,et.translatePathToWSL)(this._browser.options.downloadsPath):this._browser.options.downloadsPath,browserContextId:b}));if(this._options.ignoreHTTPSErrors||this._options.internalIgnoreHTTPSErrors)B.push(this._browser._browserSession.send("Playwright.setIgnoreCertificateErrors",{browserContextId:b,ignore:true}));if(this._options.locale)B.push(this._browser._browserSession.send("Playwright.setLanguages",{browserContextId:b,languages:[this._options.locale]}));if(this._options.geolocation)B.push(this.setGeolocation(this._options.geolocation));if(this._options.offline)B.push(this.doUpdateOffline());if(this._options.httpCredentials)B.push(this.setHTTPCredentials(this._options.httpCredentials));await Promise.all(B)}_wkPages(){return Array.from(this._browser._wkPages.values()).filter((b=>b._browserContext===this))}possiblyUninitializedPages(){return this._wkPages().map((b=>b._page))}async doCreateNewPage(){const{pageProxyId:b}=await this._browser._browserSession.send("Playwright.createPage",{browserContextId:this._browserContextId});return this._browser._wkPages.get(b)._page}async doGetCookies(b){const{cookies:B}=await this._browser._browserSession.send("Playwright.getAllCookies",{browserContextId:this._browserContextId});return $e.filterCookies(B.map((b=>{const{name:B,value:F,domain:K,path:se,expires:oe,httpOnly:Qe,secure:Re,sameSite:Me}=b;const Le={name:B,value:F,domain:K,path:se,expires:oe===-1?-1:oe/1e3,httpOnly:Qe,secure:Re,sameSite:Me};return Le})),b)}async addCookies(b){const B=$e.rewriteCookies(b).map((b=>{const{name:B,value:F,domain:K,path:se,expires:oe,httpOnly:Qe,secure:Re,sameSite:Me}=b;const Le={name:B,value:F,domain:K,path:se,expires:oe&&oe!==-1?oe*1e3:oe,httpOnly:Qe,secure:Re,sameSite:Me,session:oe===-1||oe===void 0};return Le}));await this._browser._browserSession.send("Playwright.setCookies",{cookies:B,browserContextId:this._browserContextId})}async doClearCookies(){await this._browser._browserSession.send("Playwright.deleteAllCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(b,B){await Promise.all(this.pages().map((F=>F.delegate._grantPermissions(b,B))))}async doClearPermissions(){await Promise.all(this.pages().map((b=>b.delegate._clearPermissions())))}async setGeolocation(b){(0,ze.verifyGeolocation)(b);this._options.geolocation=b;const B=b?{...b,timestamp:Date.now()}:void 0;await this._browser._browserSession.send("Playwright.setGeolocationOverride",{browserContextId:this._browserContextId,geolocation:B})}async doUpdateExtraHTTPHeaders(){for(const b of this.pages())await b.delegate.updateExtraHTTPHeaders()}async setUserAgent(b){this._options.userAgent=b;for(const b of this.pages())await b.delegate.updateUserAgent()}async doUpdateOffline(){for(const b of this.pages())await b.delegate.updateOffline()}async doSetHTTPCredentials(b){this._options.httpCredentials=b;for(const b of this.pages())await b.delegate.updateHttpCredentials()}async doAddInitScript(b){for(const b of this.pages())await b.delegate._updateBootstrapScript()}async doRemoveInitScripts(b){for(const b of this.pages())await b.delegate._updateBootstrapScript()}async doUpdateRequestInterception(){for(const b of this.pages())await b.delegate.updateRequestInterception()}async doUpdateDefaultViewport(){}async doUpdateDefaultEmulatedMedia(){}async doExposePlaywrightBinding(){for(const b of this.pages())await b.delegate.exposePlaywrightBinding()}onClosePersistent(){}async clearCache(){await this._browser._browserSession.send("Playwright.clearMemoryCache",{browserContextId:this._browserContextId})}async doClose(b){if(!this._browserContextId){await Promise.all(this._wkPages().map((b=>b._stopVideo())));await this._browser.close({reason:b})}else{await this._browser._browserSession.send("Playwright.deleteContext",{browserContextId:this._browserContextId});this._browser._contexts.delete(this._browserContextId)}}async cancelDownload(b){await this._browser._browserSession.send("Playwright.cancelDownload",{uuid:b})}_validateEmulatedViewport(b){if(!b)return;if(process.platform==="win32"&&this._browser.options.headful&&(b.width<250||b.height<240))throw new Error(`WebKit on Windows has a minimal viewport of 250x240.`)}}0&&0},3281:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{WKConnection:()=>WKConnection,WKSession:()=>WKSession,kBrowserCloseMessageId:()=>$e,kPageProxyMessageReceived:()=>Ye});b.exports=__toCommonJS(Re);var Me=F(4434);var Le=F(3143);var We=F(6877);var Ge=F(4794);var ze=F(6390);const $e=-9999;const Ye=Symbol("kPageProxyMessageReceived");class WKConnection{constructor(b,B,F,K){this._lastId=0;this._closed=false;this._transport=b;this._onDisconnect=B;this._protocolLogger=F;this._browserLogsCollector=K;this.browserSession=new WKSession(this,"",(b=>{this.rawSend(b)}));this._transport.onmessage=this._dispatchMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}rawSend(b){this._protocolLogger("send",b);this._transport.send(b)}_dispatchMessage(b){this._protocolLogger("receive",b);if(b.id===$e)return;if(b.pageProxyId){const B={message:b,pageProxyId:b.pageProxyId};this.browserSession.dispatchMessage({method:Ye,params:B});return}this.browserSession.dispatchMessage(b)}_onClose(b){this._closed=true;this._transport.onmessage=void 0;this._transport.onclose=void 0;this._browserDisconnectedLogs=Ge.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),b);this.browserSession.dispose();this._onDisconnect()}isClosed(){return this._closed}close(){if(!this._closed)this._transport.close()}}class WKSession extends Me.EventEmitter{constructor(b,B,F){super();this._disposed=false;this._callbacks=new Map;this._crashed=false;this.setMaxListeners(0);this.connection=b;this.sessionId=B;this._rawSend=F;this.on=super.on;this.off=super.removeListener;this.addListener=super.addListener;this.removeListener=super.removeListener;this.once=super.once}async send(b,B){if(this._crashed||this._disposed||this.connection._browserDisconnectedLogs)throw new ze.ProtocolError(this._crashed?"crashed":"closed",void 0,this.connection._browserDisconnectedLogs);const F=this.connection.nextMessageId();const K={id:F,method:b,params:B};this._rawSend(K);return new Promise(((B,K)=>{this._callbacks.set(F,{resolve:B,reject:K,error:new ze.ProtocolError("error",b)})}))}sendMayFail(b,B){return this.send(b,B).catch((b=>We.debugLogger.log("error",b)))}markAsCrashed(){this._crashed=true}isDisposed(){return this._disposed}dispose(){for(const b of this._callbacks.values()){b.error.type=this._crashed?"crashed":"closed";b.error.logs=this.connection._browserDisconnectedLogs;b.reject(b.error)}this._callbacks.clear();this._disposed=true}dispatchMessage(b){if(b.id&&this._callbacks.has(b.id)){const B=this._callbacks.get(b.id);this._callbacks.delete(b.id);if(b.error){B.error.setMessage(b.error.message);B.reject(B.error)}else{B.resolve(b.result)}}else if(b.id&&!b.error){(0,Le.assert)(this.isDisposed())}else{Promise.resolve().then((()=>this.emit(b.method,b.params)))}}}0&&0},9336:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{WKExecutionContext:()=>WKExecutionContext,createHandle:()=>createHandle});b.exports=__toCommonJS(Le);var We=__toESM(F(4745));var Ge=__toESM(F(1852));var ze=F(6390);var $e=F(6224);var Ye=F(5334);class WKExecutionContext{constructor(b,B){this._session=b;this._contextId=B}async rawEvaluateJSON(b){try{const B=await this._session.send("Runtime.evaluate",{expression:b,contextId:this._contextId,returnByValue:true});if(B.wasThrown)throw new We.JavaScriptErrorInEvaluate(B.result.description);return B.result.value}catch(b){throw rewriteError(b)}}async rawEvaluateHandle(b,B){try{const F=await this._session.send("Runtime.evaluate",{expression:B,contextId:this._contextId,returnByValue:false});if(F.wasThrown)throw new We.JavaScriptErrorInEvaluate(F.result.description);return createHandle(b,F.result)}catch(b){throw rewriteError(b)}}async evaluateWithArguments(b,B,F,K,se){try{const oe=await this._session.send("Runtime.callFunctionOn",{functionDeclaration:b,objectId:F._objectId,arguments:[{objectId:F._objectId},...K.map((b=>({value:b}))),...se.map((b=>({objectId:b._objectId})))],returnByValue:B,emulateUserGesture:true,awaitPromise:true});if(oe.wasThrown)throw new We.JavaScriptErrorInEvaluate(oe.result.description);if(B)return(0,Ye.parseEvaluationResultValue)(oe.result.value);return createHandle(F._context,oe.result)}catch(b){throw rewriteError(b)}}async getProperties(b){const B=await this._session.send("Runtime.getProperties",{objectId:b._objectId,ownProperties:true});const F=new Map;for(const K of B.properties){if(!K.enumerable||!K.value)continue;F.set(K.name,createHandle(b._context,K.value))}return F}async releaseHandle(b){if(!b._objectId)return;await this._session.send("Runtime.releaseObject",{objectId:b._objectId})}}function potentiallyUnserializableValue(b){const B=b.value;const F=b.type==="number"&&["NaN","-Infinity","Infinity","-0"].includes(b.description);return F?We.parseUnserializableValue(b.description):B}function rewriteError(b){if(b.message.includes("Object has too long reference chain"))throw new Error("Cannot serialize result: object reference chain is too long.");if(!We.isJavaScriptErrorInEvaluate(b)&&!(0,ze.isSessionClosedError)(b))return new Error("Execution context was destroyed, most likely because of a navigation.");return b}function renderPreview(b){if(b.type==="undefined")return"undefined";if("value"in b)return String(b.value);if(b.description==="Object"&&b.preview){const B=[];for(const{name:F,value:K}of b.preview.properties)B.push(`${F}: ${K}`);return`{${B.join(", ")}}`}if(b.subtype==="array"&&b.preview)return We.sparseArrayToString(b.preview.properties);return b.description}function createHandle(b,B){if(B.subtype==="node"){(0,$e.assert)(b instanceof Ge.FrameExecutionContext);return new Ge.ElementHandle(b,B.objectId)}const F=B.className==="Promise";return new We.JSHandle(b,F?"promise":B.subtype||B.type,renderPreview(B),B.objectId,potentiallyUnserializableValue(B))}0&&0},5177:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{RawKeyboardImpl:()=>RawKeyboardImpl,RawMouseImpl:()=>RawMouseImpl,RawTouchscreenImpl:()=>RawTouchscreenImpl});b.exports=__toCommonJS(Le);var We=F(3143);var Ge=__toESM(F(876));var ze=F(4593);function toModifiersMask(b){let B=0;if(b.has("Shift"))B|=1;if(b.has("Control"))B|=2;if(b.has("Alt"))B|=4;if(b.has("Meta"))B|=8;return B}function toButtonsMask(b){let B=0;if(b.has("left"))B|=1;if(b.has("right"))B|=2;if(b.has("middle"))B|=4;return B}class RawKeyboardImpl{constructor(b){this._pageProxySession=b}setSession(b){this._session=b}async keydown(b,B,F,K,se){const oe=[];for(const b of["Shift","Control","Alt","Meta"]){if(B.has(b))oe.push(b)}const{code:Qe,keyCode:Re,key:Me,text:Le}=K;oe.push(Qe);const $e=oe.join("+");let Ye=ze.macEditingCommands[$e];if((0,We.isString)(Ye))Ye=[Ye];await b.race(this._pageProxySession.send("Input.dispatchKeyEvent",{type:"keyDown",modifiers:toModifiersMask(B),windowsVirtualKeyCode:Re,code:Qe,key:Me,text:Le,unmodifiedText:Le,autoRepeat:se,macCommands:Ye,isKeypad:K.location===Ge.keypadLocation}))}async keyup(b,B,F,K){const{code:se,key:oe}=K;await b.race(this._pageProxySession.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:toModifiersMask(B),key:oe,windowsVirtualKeyCode:K.keyCode,code:se,isKeypad:K.location===Ge.keypadLocation}))}async sendText(b,B){await b.race(this._session.send("Page.insertText",{text:B}))}}class RawMouseImpl{constructor(b){this._pageProxySession=b}setSession(b){this._session=b}async move(b,B,F,K,se,oe,Qe){await b.race(this._pageProxySession.send("Input.dispatchMouseEvent",{type:"move",button:K,buttons:toButtonsMask(se),x:B,y:F,modifiers:toModifiersMask(oe)}))}async down(b,B,F,K,se,oe,Qe){await b.race(this._pageProxySession.send("Input.dispatchMouseEvent",{type:"down",button:K,buttons:toButtonsMask(se),x:B,y:F,modifiers:toModifiersMask(oe),clickCount:Qe}))}async up(b,B,F,K,se,oe,Qe){await b.race(this._pageProxySession.send("Input.dispatchMouseEvent",{type:"up",button:K,buttons:toButtonsMask(se),x:B,y:F,modifiers:toModifiersMask(oe),clickCount:Qe}))}async wheel(b,B,F,K,se,oe,Qe){if(this._page?.browserContext._options.isMobile)throw new Error("Mouse wheel is not supported in mobile WebKit");await this._session.send("Page.updateScrollingState");await b.race(this._page.mainFrame().evaluateExpression(`new Promise(requestAnimationFrame)`,{world:"utility"}));await b.race(this._pageProxySession.send("Input.dispatchWheelEvent",{x:B,y:F,deltaX:oe,deltaY:Qe,modifiers:toModifiersMask(se)}))}setPage(b){this._page=b}}class RawTouchscreenImpl{constructor(b){this._pageProxySession=b}async tap(b,B,F,K){await b.race(this._pageProxySession.send("Input.dispatchTapEvent",{x:B,y:F,modifiers:toModifiersMask(K)}))}}0&&0},9602:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{WKInterceptableRequest:()=>WKInterceptableRequest,WKRouteImpl:()=>WKRouteImpl});b.exports=__toCommonJS(Le);var We=F(3143);var Ge=__toESM(F(6370));const ze={aborted:"Cancellation",accessdenied:"AccessControl",addressunreachable:"General",blockedbyclient:"Cancellation",blockedbyresponse:"General",connectionaborted:"General",connectionclosed:"General",connectionfailed:"General",connectionrefused:"General",connectionreset:"General",internetdisconnected:"General",namenotresolved:"General",timedout:"Timeout",failed:"General"};class WKInterceptableRequest{constructor(b,B,F,K,se){this._session=b;this._requestId=F.requestId;const oe=F.type?F.type.toLowerCase():K?K.request.resourceType():"other";let Qe=null;this._timestamp=F.timestamp;this._wallTime=F.walltime*1e3;if(F.request.postData)Qe=Buffer.from(F.request.postData,"base64");this.request=new Ge.Request(B._page.browserContext,B,null,K?.request||null,se,F.request.url,oe,F.request.method,Qe,(0,We.headersObjectToArray)(F.request.headers))}adoptRequestFromNewProcess(b,B){this._session=b;this._requestId=B}createResponse(b){const getResponseBody=async()=>{const b=await this._session.send("Network.getResponseBody",{requestId:this._requestId});return Buffer.from(b.body,b.base64Encoded?"base64":"utf8")};const B=b.timing;const F={startTime:this._wallTime,domainLookupStart:B?wkMillisToRoundishMillis(B.domainLookupStart):-1,domainLookupEnd:B?wkMillisToRoundishMillis(B.domainLookupEnd):-1,connectStart:B?wkMillisToRoundishMillis(B.connectStart):-1,secureConnectionStart:B?wkMillisToRoundishMillis(B.secureConnectionStart):-1,connectEnd:B?wkMillisToRoundishMillis(B.connectEnd):-1,requestStart:B?wkMillisToRoundishMillis(B.requestStart):-1,responseStart:B?wkMillisToRoundishMillis(B.responseStart):-1};const K=process.platform==="darwin"?",":"playwright-set-cookie-separator";const se=new Ge.Response(this.request,b.status,b.statusText,(0,We.headersObjectToArray)(b.headers,",",K),F,getResponseBody,b.source==="service-worker");se.setRawResponseHeaders(null);se.setTransferSize(null);if(b.requestHeaders&&Object.keys(b.requestHeaders).length){const B={...b.requestHeaders};if(!B["host"])B["Host"]=new URL(this.request.url()).host;this.request.setRawRequestHeaders((0,We.headersObjectToArray)(B))}else{this.request.setRawRequestHeaders(null)}return se}}class WKRouteImpl{constructor(b,B){this._session=b;this._requestId=B}async abort(b){const B=ze[b];(0,We.assert)(B,"Unknown error code: "+b);await this._session.sendMayFail("Network.interceptRequestWithError",{requestId:this._requestId,errorType:B})}async fulfill(b){if(300<=b.status&&b.status<400)throw new Error("Cannot fulfill with redirect status: "+b.status);let B=b.isBase64?"application/octet-stream":"text/plain";const F=(0,We.headersArrayToObject)(b.headers,true);const K=F["content-type"];if(K)B=K.split(";")[0].trim();await this._session.sendMayFail("Network.interceptRequestWithResponse",{requestId:this._requestId,status:b.status,statusText:Ge.statusText(b.status),mimeType:B,headers:F,base64Encoded:b.isBase64,content:b.body})}async continue(b){await this._session.sendMayFail("Network.interceptWithRequest",{requestId:this._requestId,url:b.url,method:b.method,headers:b.headers?(0,We.headersArrayToObject)(b.headers,false):void 0,postData:b.postData?Buffer.from(b.postData).toString("base64"):void 0})}}function wkMillisToRoundishMillis(b){if(b===-1e3)return-1;if(b<=0){return-1}return(b*1e3|0)/1e3}0&&0},9194:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{WKPage:()=>WKPage});b.exports=__toCommonJS(Le);var We=__toESM(F(6928));var Ge=F(3143);var ze=F(9746);var $e=F(6065);var Ye=F(8753);var Ke=F(6633);var Xe=F(4395);var et=F(6327);var rt=__toESM(F(9870));var it=__toESM(F(1852));var ot=F(541);var at=F(4794);var lt=__toESM(F(6370));var ut=F(45);var dt=F(3281);var ht=F(9336);var pt=F(5177);var ft=F(9602);var mt=F(3240);var vt=F(2518);var yt=F(6877);var wt=F(3853);const _t="__playwright_utility_world__";class WKPage{constructor(b,B,F){this._provisionalPage=null;this._requestIdToRequest=new Map;this._requestIdToRequestWillBeSentEvent=new Map;this._sessionListeners=[];this._firstNonInitialNavigationCommittedFulfill=()=>{};this._firstNonInitialNavigationCommittedReject=b=>{};this._lastConsoleMessage=null;this._requestIdToResponseReceivedPayloadEvent=new Map;this._recordingVideoFile=null;this._screencastGeneration=0;this._pageProxySession=B;this._opener=F;this.rawKeyboard=new pt.RawKeyboardImpl(B);this.rawMouse=new pt.RawMouseImpl(B);this.rawTouchscreen=new pt.RawTouchscreenImpl(B);this._contextIdToContext=new Map;this._page=new ut.Page(this,b);this.rawMouse.setPage(this._page);this._workers=new vt.WKWorkers(this._page);this._session=void 0;this._browserContext=b;this._page.on(ut.Page.Events.FrameDetached,(b=>this._removeContextsForFrame(b,false)));this._eventListeners=[Ye.eventsHelper.addEventListener(this._pageProxySession,"Target.targetCreated",this._onTargetCreated.bind(this)),Ye.eventsHelper.addEventListener(this._pageProxySession,"Target.targetDestroyed",this._onTargetDestroyed.bind(this)),Ye.eventsHelper.addEventListener(this._pageProxySession,"Target.dispatchMessageFromTarget",this._onDispatchMessageFromTarget.bind(this)),Ye.eventsHelper.addEventListener(this._pageProxySession,"Target.didCommitProvisionalTarget",this._onDidCommitProvisionalTarget.bind(this)),Ye.eventsHelper.addEventListener(this._pageProxySession,"Screencast.screencastFrame",this._onScreencastFrame.bind(this))];this._firstNonInitialNavigationCommittedPromise=new Promise(((b,B)=>{this._firstNonInitialNavigationCommittedFulfill=b;this._firstNonInitialNavigationCommittedReject=B}));this._firstNonInitialNavigationCommittedPromise.catch((()=>{}));if(F&&!b._options.noDefaultViewport&&F._nextWindowOpenPopupFeatures){const b=at.helper.getViewportSizeFromWindowFeatures(F._nextWindowOpenPopupFeatures);F._nextWindowOpenPopupFeatures=void 0;if(b)this._page.setEmulatedSizeFromWindowOpen({viewport:b,screen:b})}}async _initializePageProxySession(){if(this._page.isStorageStatePage)return;const b=[this._pageProxySession.send("Dialog.enable"),this._pageProxySession.send("Emulation.setActiveAndFocused",{active:true})];const B=this._browserContext._options;if(B.javaScriptEnabled===false)b.push(this._pageProxySession.send("Emulation.setJavaScriptEnabled",{enabled:false}));b.push(this._updateViewport());b.push(this.updateHttpCredentials());if(this._browserContext._permissions.size){for(const[B,F]of this._browserContext._permissions)b.push(this._grantPermissions(B,F))}if(this._browserContext._options.recordVideo){const B=We.default.join(this._browserContext._options.recordVideo.dir,(0,$e.createGuid)()+".webm");b.push(this._browserContext._ensureVideosPath().then((()=>this._startVideo({...this._browserContext._options.recordVideo.size,outputFile:B}))))}await Promise.all(b)}_setSession(b){Ye.eventsHelper.removeEventListeners(this._sessionListeners);this._session=b;this.rawKeyboard.setSession(b);this.rawMouse.setSession(b);this._addSessionListeners();this._workers.setSession(b)}async _initializeSession(b,B,F){await this._initializeSessionMayThrow(b,F).catch((F=>{if(B&&b.isDisposed())return;if(this._session===b)throw F}))}async _initializeSessionMayThrow(b,B){const[,F]=await Promise.all([b.send("Page.enable"),b.send("Page.getResourceTree")]);B(F);const K=[b.send("Runtime.enable"),b.send("Page.createUserWorld",{name:_t}).catch((b=>{})),b.send("Console.enable"),b.send("Network.enable"),this._workers.initializeSession(b)];if(this._page.browserContext.needsPlaywrightBinding())K.push(b.send("Runtime.addBinding",{name:ut.PageBinding.kBindingName}));if(this._page.needsRequestInterception()){K.push(b.send("Network.setInterceptionEnabled",{enabled:true}));K.push(b.send("Network.setResourceCachingDisabled",{disabled:true}));K.push(b.send("Network.addInterception",{url:".*",stage:"request",isRegex:true}))}if(this._page.isStorageStatePage){await Promise.all(K);return}const se=this._browserContext._options;if(se.userAgent)K.push(this.updateUserAgent());const oe=this._page.emulatedMedia();if(oe.media||oe.colorScheme||oe.reducedMotion||oe.forcedColors||oe.contrast)K.push(WKPage._setEmulateMedia(b,oe.media,oe.colorScheme,oe.reducedMotion,oe.forcedColors,oe.contrast));const Qe=this._calculateBootstrapScript();if(Qe.length)K.push(b.send("Page.setBootstrapScript",{source:Qe}));this._page.frames().map((b=>b.evaluateExpression(Qe).catch((b=>{}))));if(se.bypassCSP)K.push(b.send("Page.setBypassCSP",{enabled:true}));const Re=this._page.emulatedSize();if(Re){K.push(b.send("Page.setScreenSizeOverride",{width:Re.screen.width,height:Re.screen.height}))}K.push(this.updateEmulateMedia());K.push(b.send("Network.setExtraHTTPHeaders",{headers:(0,ze.headersArrayToObject)(this._calculateExtraHTTPHeaders(),false)}));if(se.offline)K.push(b.send("Network.setEmulateOfflineState",{offline:true}));K.push(b.send("Page.setTouchEmulationEnabled",{enabled:!!se.hasTouch}));if(se.timezoneId){K.push(b.send("Page.setTimeZone",{timeZone:se.timezoneId}).catch((b=>{throw new Error(`Invalid timezone ID: ${se.timezoneId}`)})))}if(this._page.fileChooserIntercepted())K.push(b.send("Page.setInterceptFileChooserDialog",{enabled:true}));K.push(b.send("Page.overrideSetting",{setting:"DeviceOrientationEventEnabled",value:se.isMobile}));K.push(b.send("Page.overrideSetting",{setting:"FullScreenEnabled",value:!se.isMobile}));K.push(b.send("Page.overrideSetting",{setting:"NotificationsEnabled",value:!se.isMobile}));K.push(b.send("Page.overrideSetting",{setting:"PointerLockEnabled",value:!se.isMobile}));K.push(b.send("Page.overrideSetting",{setting:"InputTypeMonthEnabled",value:se.isMobile}));K.push(b.send("Page.overrideSetting",{setting:"InputTypeWeekEnabled",value:se.isMobile}));K.push(b.send("Page.overrideSetting",{setting:"FixedBackgroundsPaintRelativeToDocument",value:se.isMobile}));await Promise.all(K)}_onDidCommitProvisionalTarget(b){const{oldTargetId:B,newTargetId:F}=b;(0,Ge.assert)(this._provisionalPage);(0,Ge.assert)(this._provisionalPage._session.sessionId===F,"Unknown new target: "+F);(0,Ge.assert)(this._session.sessionId===B,"Unknown old target: "+B);const K=this._provisionalPage._session;this._provisionalPage.commit();this._provisionalPage.dispose();this._provisionalPage=null;this._setSession(K)}_onTargetDestroyed(b){const{targetId:B,crashed:F}=b;if(this._provisionalPage&&this._provisionalPage._session.sessionId===B){this._maybeCancelCoopNavigationRequest(this._provisionalPage);this._provisionalPage._session.dispose();this._provisionalPage.dispose();this._provisionalPage=null}else if(this._session.sessionId===B){this._session.dispose();Ye.eventsHelper.removeEventListeners(this._sessionListeners);if(F){this._session.markAsCrashed();this._page._didCrash()}}}didClose(){this._pageProxySession.dispose();Ye.eventsHelper.removeEventListeners(this._sessionListeners);Ye.eventsHelper.removeEventListeners(this._eventListeners);if(this._session)this._session.dispose();if(this._provisionalPage){this._provisionalPage._session.dispose();this._provisionalPage.dispose();this._provisionalPage=null}this._firstNonInitialNavigationCommittedReject(new ot.TargetClosedError);this._page._didClose()}dispatchMessageToSession(b){this._pageProxySession.dispatchMessage(b)}handleProvisionalLoadFailed(b){if(!this._page.initializedOrUndefined()){this._firstNonInitialNavigationCommittedReject(new Error("Initial load failed"));return}if(!this._provisionalPage)return;let B=b.error;if(B.includes("cancelled"))B+="; maybe frame was detached?";this._page.frameManager.frameAbortedNavigation(this._page.mainFrame()._id,B,b.loaderId)}handleWindowOpen(b){this._nextWindowOpenPopupFeatures=b.windowFeatures}async _onTargetCreated(b){const{targetInfo:B}=b;const F=new dt.WKSession(this._pageProxySession.connection,B.targetId,(b=>{this._pageProxySession.send("Target.sendMessageToTarget",{message:JSON.stringify(b),targetId:B.targetId}).catch((B=>{F.dispatchMessage({id:b.id,error:{message:B.message}})}))}));if(B.type==="frame")return;(0,Ge.assert)(B.type==="page","Only page targets are expected in WebKit, received: "+B.type);if(!B.isProvisional){(0,Ge.assert)(!this._page.initializedOrUndefined());let b;try{this._setSession(F);await Promise.all([this._initializePageProxySession(),this._initializeSession(F,false,(({frameTree:b})=>this._handleFrameTree(b)))]);b=this._page}catch(B){b=B}if(B.isPaused)this._pageProxySession.sendMayFail("Target.resume",{targetId:B.targetId});if(b instanceof ut.Page&&this._page.mainFrame().url()===""){try{await this._firstNonInitialNavigationCommittedPromise}catch(B){b=B}}this._page.reportAsNew(this._opener?._page,b instanceof ut.Page?void 0:b)}else{(0,Ge.assert)(B.isProvisional);(0,Ge.assert)(!this._provisionalPage);this._provisionalPage=new mt.WKProvisionalPage(F,this);if(B.isPaused){this._provisionalPage.initializationPromise.then((()=>{this._pageProxySession.sendMayFail("Target.resume",{targetId:B.targetId})}))}}}_onDispatchMessageFromTarget(b){const{targetId:B,message:F}=b;if(this._provisionalPage&&this._provisionalPage._session.sessionId===B)this._provisionalPage._session.dispatchMessage(JSON.parse(F));else if(this._session.sessionId===B)this._session.dispatchMessage(JSON.parse(F));else throw new Error("Unknown target: "+B)}_addSessionListeners(){this._sessionListeners=[Ye.eventsHelper.addEventListener(this._session,"Page.frameNavigated",(b=>this._onFrameNavigated(b.frame,false))),Ye.eventsHelper.addEventListener(this._session,"Page.navigatedWithinDocument",(b=>this._onFrameNavigatedWithinDocument(b.frameId,b.url))),Ye.eventsHelper.addEventListener(this._session,"Page.frameAttached",(b=>this._onFrameAttached(b.frameId,b.parentFrameId))),Ye.eventsHelper.addEventListener(this._session,"Page.frameDetached",(b=>this._onFrameDetached(b.frameId))),Ye.eventsHelper.addEventListener(this._session,"Page.willCheckNavigationPolicy",(b=>this._onWillCheckNavigationPolicy(b.frameId))),Ye.eventsHelper.addEventListener(this._session,"Page.didCheckNavigationPolicy",(b=>this._onDidCheckNavigationPolicy(b.frameId,b.cancel))),Ye.eventsHelper.addEventListener(this._session,"Page.loadEventFired",(b=>this._page.frameManager.frameLifecycleEvent(b.frameId,"load"))),Ye.eventsHelper.addEventListener(this._session,"Page.domContentEventFired",(b=>this._page.frameManager.frameLifecycleEvent(b.frameId,"domcontentloaded"))),Ye.eventsHelper.addEventListener(this._session,"Runtime.executionContextCreated",(b=>this._onExecutionContextCreated(b.context))),Ye.eventsHelper.addEventListener(this._session,"Runtime.bindingCalled",(b=>this._onBindingCalled(b.contextId,b.argument))),Ye.eventsHelper.addEventListener(this._session,"Console.messageAdded",(b=>this._onConsoleMessage(b))),Ye.eventsHelper.addEventListener(this._session,"Console.messageRepeatCountUpdated",(b=>this._onConsoleRepeatCountUpdated(b))),Ye.eventsHelper.addEventListener(this._pageProxySession,"Dialog.javascriptDialogOpening",(b=>this._onDialog(b))),Ye.eventsHelper.addEventListener(this._session,"Page.fileChooserOpened",(b=>this._onFileChooserOpened(b))),Ye.eventsHelper.addEventListener(this._session,"Network.requestWillBeSent",(b=>this._onRequestWillBeSent(this._session,b))),Ye.eventsHelper.addEventListener(this._session,"Network.requestIntercepted",(b=>this._onRequestIntercepted(this._session,b))),Ye.eventsHelper.addEventListener(this._session,"Network.responseReceived",(b=>this._onResponseReceived(this._session,b))),Ye.eventsHelper.addEventListener(this._session,"Network.loadingFinished",(b=>this._onLoadingFinished(b))),Ye.eventsHelper.addEventListener(this._session,"Network.loadingFailed",(b=>this._onLoadingFailed(this._session,b))),Ye.eventsHelper.addEventListener(this._session,"Network.webSocketCreated",(b=>this._page.frameManager.onWebSocketCreated(b.requestId,b.url))),Ye.eventsHelper.addEventListener(this._session,"Network.webSocketWillSendHandshakeRequest",(b=>this._page.frameManager.onWebSocketRequest(b.requestId))),Ye.eventsHelper.addEventListener(this._session,"Network.webSocketHandshakeResponseReceived",(b=>this._page.frameManager.onWebSocketResponse(b.requestId,b.response.status,b.response.statusText))),Ye.eventsHelper.addEventListener(this._session,"Network.webSocketFrameSent",(b=>b.response.payloadData&&this._page.frameManager.onWebSocketFrameSent(b.requestId,b.response.opcode,b.response.payloadData))),Ye.eventsHelper.addEventListener(this._session,"Network.webSocketFrameReceived",(b=>b.response.payloadData&&this._page.frameManager.webSocketFrameReceived(b.requestId,b.response.opcode,b.response.payloadData))),Ye.eventsHelper.addEventListener(this._session,"Network.webSocketClosed",(b=>this._page.frameManager.webSocketClosed(b.requestId))),Ye.eventsHelper.addEventListener(this._session,"Network.webSocketFrameError",(b=>this._page.frameManager.webSocketError(b.requestId,b.errorMessage)))]}async _updateState(b,B){await this._forAllSessions((F=>F.send(b,B).then()))}async _forAllSessions(b){const B=[this._session];if(this._provisionalPage)B.push(this._provisionalPage._session);await Promise.all(B.map((B=>b(B).catch((b=>{})))))}_onWillCheckNavigationPolicy(b){if(this._provisionalPage)return;this._page.frameManager.frameRequestedNavigation(b)}_onDidCheckNavigationPolicy(b,B){if(!B)return;if(this._provisionalPage)return;this._page.frameManager.frameAbortedNavigation(b,"Navigation canceled by policy check")}_handleFrameTree(b){this._onFrameAttached(b.frame.id,b.frame.parentId||null);this._onFrameNavigated(b.frame,true);this._page.frameManager.frameLifecycleEvent(b.frame.id,"domcontentloaded");this._page.frameManager.frameLifecycleEvent(b.frame.id,"load");if(!b.childFrames)return;for(const B of b.childFrames)this._handleFrameTree(B)}_onFrameAttached(b,B){return this._page.frameManager.frameAttached(b,B)}_onFrameNavigated(b,B){const F=this._page.frameManager.frame(b.id);(0,Ge.assert)(F);this._removeContextsForFrame(F,true);if(!b.parentId)this._workers.clear();this._page.frameManager.frameCommittedNewDocumentNavigation(b.id,b.url,b.name||"",b.loaderId,B);if(!B)this._firstNonInitialNavigationCommittedFulfill()}_onFrameNavigatedWithinDocument(b,B){this._page.frameManager.frameCommittedSameDocumentNavigation(b,B)}_onFrameDetached(b){this._page.frameManager.frameDetached(b)}_removeContextsForFrame(b,B){for(const[F,K]of this._contextIdToContext){if(K.frame===b){this._contextIdToContext.delete(F);if(B)b._contextDestroyed(K)}}}_onExecutionContextCreated(b){if(this._contextIdToContext.has(b.id))return;const B=this._page.frameManager.frame(b.frameId);if(!B)return;const F=new ht.WKExecutionContext(this._session,b.id);let K=null;if(b.type==="normal")K="main";else if(b.type==="user"&&b.name===_t)K="utility";const se=new it.FrameExecutionContext(F,B,K);if(K)B._contextCreated(K,se);this._contextIdToContext.set(b.id,se)}async _onBindingCalled(b,B){const F=await this._page.waitForInitializedOrError();if(!(F instanceof Error)){const F=this._contextIdToContext.get(b);if(F)await this._page.onBindingCalled(B,F)}}async navigateFrame(b,B,F){if(this._pageProxySession.isDisposed())throw new ot.TargetClosedError;const K=this._pageProxySession.sessionId;const se=await this._pageProxySession.connection.browserSession.send("Playwright.navigate",{url:B,pageProxyId:K,frameId:b._id,referrer:F});return{newDocumentId:se.loaderId}}_onConsoleMessage(b){const{type:B,level:F,text:K,parameters:se,url:oe,line:Qe,column:Re,source:Me}=b.message;if(F==="error"&&Me==="javascript"){const{name:B,message:F}=(0,Xe.splitErrorMessage)(K);let se;if(b.message.stackTrace){se=K+"\n"+b.message.stackTrace.callFrames.map((b=>`    at ${b.functionName||"unknown"} (${b.url}:${b.lineNumber}:${b.columnNumber})`)).join("\n")}else{se=""}this._lastConsoleMessage=null;const oe=new Error(F);oe.stack=se;oe.name=B;this._page.addPageError(oe);return}let Le=B||"";if(B==="log")Le=F;else if(B==="timing")Le="timeEnd";const We=[];for(const b of se||[]){let B;if(b.objectId){const F=JSON.parse(b.objectId);B=this._contextIdToContext.get(F.injectedScriptId)}else{B=[...this._contextIdToContext.values()].find((b=>b.frame===this._page.mainFrame()))}if(!B)return;We.push((0,ht.createHandle)(B,b))}this._lastConsoleMessage={derivedType:Le,text:K,handles:We,count:0,location:{url:oe||"",lineNumber:(Qe||1)-1,columnNumber:(Re||1)-1}};this._onConsoleRepeatCountUpdated({count:1})}_onConsoleRepeatCountUpdated(b){if(this._lastConsoleMessage){const{derivedType:B,text:F,handles:K,count:se,location:oe}=this._lastConsoleMessage;for(let Qe=se;Qe<b.count;++Qe)this._page.addConsoleMessage(null,B,K,oe,K.length?void 0:F);this._lastConsoleMessage.count=b.count}}_onDialog(b){this._page.browserContext.dialogManager.dialogDidOpen(new rt.Dialog(this._page,b.type,b.message,(async(B,F)=>{if(b.type==="beforeunload"&&!B)this._page.frameManager.frameAbortedNavigation(this._page.mainFrame()._id,"navigation cancelled by beforeunload dialog");await this._pageProxySession.send("Dialog.handleJavaScriptDialog",{accept:B,promptText:F})}),b.defaultPrompt))}async _onFileChooserOpened(b){let B;try{const F=await this._page.frameManager.frame(b.frameId)._mainContext();B=(0,ht.createHandle)(F,b.element).asElement()}catch(b){return}await this._page._onFileChooserOpened(B)}static async _setEmulateMedia(b,B,F,K,se,oe){const Qe=[];Qe.push(b.send("Page.setEmulatedMedia",{media:B==="no-override"?"":B}));let Re=void 0;switch(F){case"light":Re="Light";break;case"dark":Re="Dark";break;case"no-override":Re=void 0;break}Qe.push(b.send("Page.overrideUserPreference",{name:"PrefersColorScheme",value:Re}));let Me=void 0;switch(K){case"reduce":Me="Reduce";break;case"no-preference":Me="NoPreference";break;case"no-override":Me=void 0;break}Qe.push(b.send("Page.overrideUserPreference",{name:"PrefersReducedMotion",value:Me}));let Le=void 0;switch(se){case"active":Le="Active";break;case"none":Le="None";break;case"no-override":Le=void 0;break}Qe.push(b.send("Page.setForcedColors",{forcedColors:Le}));let We=void 0;switch(oe){case"more":We="More";break;case"no-preference":We="NoPreference";break;case"no-override":We=void 0;break}Qe.push(b.send("Page.overrideUserPreference",{name:"PrefersContrast",value:We}));await Promise.all(Qe)}async updateExtraHTTPHeaders(){await this._updateState("Network.setExtraHTTPHeaders",{headers:(0,ze.headersArrayToObject)(this._calculateExtraHTTPHeaders(),false)})}_calculateExtraHTTPHeaders(){const b=this._browserContext._options.locale;const B=lt.mergeHeaders([this._browserContext._options.extraHTTPHeaders,this._page.extraHTTPHeaders(),b?lt.singleHeader("Accept-Language",b):void 0]);return B}async updateEmulateMedia(){const b=this._page.emulatedMedia();const B=b.colorScheme;const F=b.reducedMotion;const K=b.forcedColors;const se=b.contrast;await this._forAllSessions((oe=>WKPage._setEmulateMedia(oe,b.media,B,F,K,se)))}async updateEmulatedViewportSize(){this._browserContext._validateEmulatedViewport(this._page.emulatedSize()?.viewport);await this._updateViewport()}async updateUserAgent(){const b=this._browserContext._options;this._updateState("Page.overrideUserAgent",{value:b.userAgent})}async bringToFront(){this._pageProxySession.send("Target.activate",{targetId:this._session.sessionId})}async _updateViewport(){const b=this._browserContext._options;const B=this._page.emulatedSize();if(!B)return;const F=B.viewport;const K=B.screen;const se=[this._pageProxySession.send("Emulation.setDeviceMetricsOverride",{width:F.width,height:F.height,fixedLayout:!!b.isMobile,deviceScaleFactor:b.deviceScaleFactor||1}),this._session.send("Page.setScreenSizeOverride",{width:K.width,height:K.height})];if(b.isMobile){const b=F.width>F.height?90:0;se.push(this._pageProxySession.send("Emulation.setOrientationOverride",{angle:b}))}await Promise.all(se);if(!this._browserContext._browser?.options.headful&&(Ke.hostPlatform==="ubuntu22.04-x64"||Ke.hostPlatform.startsWith("debian12")))await new Promise((b=>setTimeout(b,500)))}async updateRequestInterception(){const b=this._page.needsRequestInterception();await Promise.all([this._updateState("Network.setInterceptionEnabled",{enabled:b}),this._updateState("Network.setResourceCachingDisabled",{disabled:b}),this._updateState("Network.addInterception",{url:".*",stage:"request",isRegex:true})])}async updateOffline(){await this._updateState("Network.setEmulateOfflineState",{offline:!!this._browserContext._options.offline})}async updateHttpCredentials(){const b=this._browserContext._options.httpCredentials||{username:"",password:"",origin:""};await this._pageProxySession.send("Emulation.setAuthCredentials",{username:b.username,password:b.password,origin:b.origin})}async updateFileChooserInterception(){const b=this._page.fileChooserIntercepted();await this._session.send("Page.setInterceptFileChooserDialog",{enabled:b}).catch((()=>{}))}async reload(){await this._session.send("Page.reload")}goBack(){return this._session.send("Page.goBack").then((()=>true)).catch((b=>{if(b instanceof Error&&b.message.includes(`Protocol error (Page.goBack): Failed to go`))return false;throw b}))}goForward(){return this._session.send("Page.goForward").then((()=>true)).catch((b=>{if(b instanceof Error&&b.message.includes(`Protocol error (Page.goForward): Failed to go`))return false;throw b}))}async requestGC(){await this._session.send("Heap.gc")}async addInitScript(b){await this._updateBootstrapScript()}async removeInitScripts(b){await this._updateBootstrapScript()}async exposePlaywrightBinding(){await this._updateState("Runtime.addBinding",{name:ut.PageBinding.kBindingName})}_calculateBootstrapScript(){const b=[];if(!this._page.browserContext._options.isMobile){b.push("delete window.orientation");b.push("delete window.ondevicemotion");b.push("delete window.ondeviceorientation")}b.push('if (!window.safari) window.safari = { pushNotification: { toString() { return "[object SafariRemoteNotification]"; } } };');b.push("if (!window.GestureEvent) window.GestureEvent = function GestureEvent() {};");b.push(this._publicKeyCredentialScript());b.push(...this._page.allInitScripts().map((b=>b.source)));return b.join(";\n")}_publicKeyCredentialScript(){function polyfill(){window.PublicKeyCredential??={async getClientCapabilities(){return{}},async isConditionalMediationAvailable(){return false},async isUserVerifyingPlatformAuthenticatorAvailable(){return false}}}return`(${polyfill.toString()})();`}async _updateBootstrapScript(){await this._updateState("Page.setBootstrapScript",{source:this._calculateBootstrapScript()})}async closePage(b){await this._stopVideo();await this._pageProxySession.sendMayFail("Target.close",{targetId:this._session.sessionId,runBeforeUnload:b})}async setBackgroundColor(b){await this._session.send("Page.setDefaultBackgroundColorOverride",{color:b})}_toolbarHeight(){if(this._page.browserContext._browser?.options.headful)return Ke.hostPlatform==="mac10.15"?55:59;return 0}async _startVideo(b){(0,Ge.assert)(!this._recordingVideoFile);const{screencastId:B}=await this._pageProxySession.send("Screencast.startVideo",{file:this._browserContext._browser.options.channel==="webkit-wsl"?await(0,wt.translatePathToWSL)(b.outputFile):b.outputFile,width:b.width,height:b.height,toolbarHeight:this._toolbarHeight()});this._recordingVideoFile=b.outputFile;this._browserContext._browser._videoStarted(this._browserContext,B,b.outputFile,this._page.waitForInitializedOrError())}async _stopVideo(){if(!this._recordingVideoFile)return;await this._pageProxySession.sendMayFail("Screencast.stopVideo");this._recordingVideoFile=null}validateScreenshotDimension(b,B){if(process.platform==="darwin")return;if(!B&&this._page.browserContext._options.deviceScaleFactor)b=Math.ceil(b*this._page.browserContext._options.deviceScaleFactor);if(b>32767)throw new Error("Cannot take screenshot larger than 32767 pixels on any dimension")}async takeScreenshot(b,B,F,K,se,oe,Qe){const Re=F||K;const Me=Qe==="css";this.validateScreenshotDimension(Re.width,Me);this.validateScreenshotDimension(Re.height,Me);const Le=await b.race(this._session.send("Page.snapshotRect",{...Re,coordinateSystem:F?"Page":"Viewport",omitDeviceScaleFactor:Me}));const We="data:image/png;base64,";let Ge=Buffer.from(Le.dataURL.substr(We.length),"base64");if(B==="jpeg")Ge=et.jpegjs.encode(et.PNG.sync.read(Ge),se).data;return Ge}async getContentFrame(b){const B=await this._session.send("DOM.describeNode",{objectId:b._objectId});if(!B.contentFrameId)return null;return this._page.frameManager.frame(B.contentFrameId)}async getOwnerFrame(b){if(!b._objectId)return null;const B=await this._session.send("DOM.describeNode",{objectId:b._objectId});return B.ownerFrameId||null}async getBoundingBox(b){const B=await this.getContentQuads(b);if(!B||!B.length)return null;let F=Infinity;let K=-Infinity;let se=Infinity;let oe=-Infinity;for(const b of B){for(const B of b){F=Math.min(F,B.x);K=Math.max(K,B.x);se=Math.min(se,B.y);oe=Math.max(oe,B.y)}}return{x:F,y:se,width:K-F,height:oe-se}}async scrollRectIntoViewIfNeeded(b,B){return await this._session.send("DOM.scrollIntoViewIfNeeded",{objectId:b._objectId,rect:B}).then((()=>"done")).catch((b=>{if(b instanceof Error&&b.message.includes("Node does not have a layout object"))return"error:notvisible";if(b instanceof Error&&b.message.includes("Node is detached from document"))return"error:notconnected";throw b}))}async setScreencastOptions(b){if(b){const B={...b,toolbarHeight:this._toolbarHeight()};const{generation:F}=await this._pageProxySession.send("Screencast.startScreencast",B);this._screencastGeneration=F}else{await this._pageProxySession.send("Screencast.stopScreencast")}}_onScreencastFrame(b){const B=this._screencastGeneration;this._page.throttleScreencastFrameAck((()=>{this._pageProxySession.send("Screencast.screencastFrameAck",{generation:B}).catch((b=>yt.debugLogger.log("error",b)))}));const F=Buffer.from(b.data,"base64");this._page.emit(ut.Page.Events.ScreencastFrame,{buffer:F,width:b.deviceWidth,height:b.deviceHeight})}rafCountForStablePosition(){return process.platform==="win32"?5:1}async getContentQuads(b){const B=await this._session.sendMayFail("DOM.getContentQuads",{objectId:b._objectId});if(!B)return null;return B.quads.map((b=>[{x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},{x:b[6],y:b[7]}]))}async setInputFilePaths(b,B){const F=this._pageProxySession.sessionId;const K=b._objectId;if(this._browserContext._browser?.options.channel==="webkit-wsl")B=await Promise.all(B.map((b=>(0,wt.translatePathToWSL)(b))));await Promise.all([this._pageProxySession.connection.browserSession.send("Playwright.grantFileReadAccess",{pageProxyId:F,paths:B}),this._session.send("DOM.setInputFiles",{objectId:K,paths:B})])}async adoptElementHandle(b,B){const F=await this._session.sendMayFail("DOM.resolveNode",{objectId:b._objectId,executionContextId:B.delegate._contextId});if(!F||F.object.subtype==="null")throw new Error(it.kUnableToAdoptErrorMessage);return(0,ht.createHandle)(B,F.object)}async inputActionEpilogue(){}async resetForReuse(b){}async getFrameElement(b){const B=b.parentFrame();if(!B)throw new Error("Frame has been detached.");const F=await B._mainContext();const K=await this._session.send("DOM.resolveNode",{frameId:b._id,executionContextId:F.delegate._contextId});if(!K||K.object.subtype==="null")throw new Error("Frame has been detached.");return(0,ht.createHandle)(F,K.object)}_maybeCancelCoopNavigationRequest(b){const B=b.coopNavigationRequest();for(const[F,K]of this._requestIdToRequest){if(K.request===B){this._onLoadingFailed(b._session,{requestId:F,errorText:"Provisiolal navigation canceled.",timestamp:K._timestamp,canceled:true});return}}}_adoptRequestFromNewProcess(b,B,F){for(const[K,se]of this._requestIdToRequest){if(se.request===b){this._requestIdToRequest.delete(K);se.adoptRequestFromNewProcess(B,F);this._requestIdToRequest.set(F,se);return}}}_onRequestWillBeSent(b,B){if(B.request.url.startsWith("data:"))return;if(B.request.url.startsWith("about:"))return;if(this._page.needsRequestInterception()&&!B.redirectResponse)this._requestIdToRequestWillBeSentEvent.set(B.requestId,B);else this._onRequest(b,B,false)}_onRequest(b,B,F){let K=null;if(B.redirectResponse){const b=this._requestIdToRequest.get(B.requestId);if(b){this._handleRequestRedirect(b,B.requestId,B.redirectResponse,B.timestamp);K=b}}const se=K?K.request.frame():this._page.frameManager.frame(B.frameId);if(!se)return;const oe=B.type==="Document";const Qe=oe?B.loaderId:void 0;const Re=new ft.WKInterceptableRequest(b,se,B,K,Qe);let Me;if(F){Me=new ft.WKRouteImpl(b,B.requestId);Re.request.setRawRequestHeaders(null)}this._requestIdToRequest.set(B.requestId,Re);this._page.frameManager.requestStarted(Re.request,Me)}_handleRequestRedirect(b,B,F,K){const se=b.createResponse(F);se._securityDetailsFinished();se._serverAddrFinished();se.setResponseHeadersSize(null);se.setEncodedBodySize(null);se._requestFinished(F.timing?at.helper.secondsToRoundishMillis(K-b._timestamp):-1);this._requestIdToRequest.delete(B);this._page.frameManager.requestReceivedResponse(se);this._page.frameManager.reportRequestFinished(b.request,se)}_onRequestIntercepted(b,B){const F=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(!F){b.sendMayFail("Network.interceptWithRequest",{requestId:B.requestId});return}this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(b,F,true)}_onResponseReceived(b,B){const F=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(F){this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(b,F,false)}const K=this._requestIdToRequest.get(B.requestId);if(!K)return;this._requestIdToResponseReceivedPayloadEvent.set(B.requestId,B);const se=K.createResponse(B.response);this._page.frameManager.requestReceivedResponse(se);if(se.status()===204&&K.request.isNavigationRequest()){this._onLoadingFailed(b,{requestId:B.requestId,errorText:"Aborted: 204 No Content",timestamp:B.timestamp})}}_onLoadingFinished(b){const B=this._requestIdToRequest.get(b.requestId);if(!B)return;const F=B.request._existingResponse();if(F){const K=this._requestIdToResponseReceivedPayloadEvent.get(b.requestId);F._serverAddrFinished(parseRemoteAddress(b?.metrics?.remoteAddress));F._securityDetailsFinished({protocol:isLoadedSecurely(F.url(),F.timing())?b.metrics?.securityConnection?.protocol:void 0,subjectName:K?.response.security?.certificate?.subject,validFrom:K?.response.security?.certificate?.validFrom,validTo:K?.response.security?.certificate?.validUntil});if(b.metrics?.protocol)F._setHttpVersion(b.metrics.protocol);F.setEncodedBodySize(b.metrics?.responseBodyBytesReceived??null);F.setResponseHeadersSize(b.metrics?.responseHeaderBytesReceived??null);F._requestFinished(at.helper.secondsToRoundishMillis(b.timestamp-B._timestamp))}else{B.request.setRawRequestHeaders(null)}this._requestIdToResponseReceivedPayloadEvent.delete(b.requestId);this._requestIdToRequest.delete(b.requestId);this._page.frameManager.reportRequestFinished(B.request,F)}_onLoadingFailed(b,B){const F=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(F){this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(b,F,false)}const K=this._requestIdToRequest.get(B.requestId);if(!K)return;const se=K.request._existingResponse();if(se){se._serverAddrFinished();se._securityDetailsFinished();se.setResponseHeadersSize(null);se.setEncodedBodySize(null);se._requestFinished(at.helper.secondsToRoundishMillis(B.timestamp-K._timestamp))}else{K.request.setRawRequestHeaders(null)}this._requestIdToRequest.delete(B.requestId);K.request._setFailureText(B.errorText);this._page.frameManager.requestFailed(K.request,B.errorText.includes("cancelled"))}async _grantPermissions(b,B){const F=new Map([["geolocation","geolocation"],["notifications","notifications"],["clipboard-read","clipboard-read"]]);const K=B.map((b=>{const B=F.get(b);if(!B)throw new Error("Unknown permission: "+b);return B}));await this._pageProxySession.send("Emulation.grantPermissions",{origin:b,permissions:K})}async _clearPermissions(){await this._pageProxySession.send("Emulation.resetPermissions",{})}shouldToggleStyleSheetToSyncAnimations(){return true}}function parseRemoteAddress(b){if(!b)return;try{const B=b.lastIndexOf(":");const F=b.lastIndexOf(".");if(F<0){return{ipAddress:`[${b.slice(0,B)}]`,port:+b.slice(B+1)}}if(B>F){const[B,F]=b.split(":");return{ipAddress:B,port:+F}}else{const[B,F]=b.split(".");return{ipAddress:`[${B}]`,port:+F}}}catch(b){}}function isLoadedSecurely(b,B){try{const F=new URL(b);if(F.protocol!=="https:"&&F.protocol!=="wss:"&&F.protocol!=="sftp:")return false;if(B.secureConnectionStart===-1&&B.connectStart!==-1)return false;return true}catch(b){}}0&&0},3240:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{WKProvisionalPage:()=>WKProvisionalPage});b.exports=__toCommonJS(Re);var Me=F(3143);var Le=F(8753);class WKProvisionalPage{constructor(b,B){this._sessionListeners=[];this._mainFrameId=null;this._session=b;this._wkPage=B;this._coopNavigationRequest=B._page.mainFrame().pendingDocument()?.request;const overrideFrameId=b=>B=>{if(B.frameId)B.frameId=this._wkPage._page.frameManager.mainFrame()._id;b(B)};const F=this._wkPage;this._sessionListeners=[Le.eventsHelper.addEventListener(b,"Network.requestWillBeSent",overrideFrameId((b=>this._onRequestWillBeSent(b)))),Le.eventsHelper.addEventListener(b,"Network.requestIntercepted",overrideFrameId((B=>F._onRequestIntercepted(b,B)))),Le.eventsHelper.addEventListener(b,"Network.responseReceived",overrideFrameId((B=>F._onResponseReceived(b,B)))),Le.eventsHelper.addEventListener(b,"Network.loadingFinished",overrideFrameId((b=>this._onLoadingFinished(b)))),Le.eventsHelper.addEventListener(b,"Network.loadingFailed",overrideFrameId((b=>this._onLoadingFailed(b))))];this.initializationPromise=this._wkPage._initializeSession(b,true,(({frameTree:b})=>this._handleFrameTree(b)))}coopNavigationRequest(){return this._coopNavigationRequest}dispose(){Le.eventsHelper.removeEventListeners(this._sessionListeners)}commit(){(0,Me.assert)(this._mainFrameId);this._wkPage._onFrameAttached(this._mainFrameId,null)}_onRequestWillBeSent(b){if(this._coopNavigationRequest&&this._coopNavigationRequest.url()===b.request.url){this._wkPage._adoptRequestFromNewProcess(this._coopNavigationRequest,this._session,b.requestId);return}this._wkPage._onRequestWillBeSent(this._session,b)}_onLoadingFinished(b){this._coopNavigationRequest=void 0;this._wkPage._onLoadingFinished(b)}_onLoadingFailed(b){this._coopNavigationRequest=void 0;this._wkPage._onLoadingFailed(this._session,b)}_handleFrameTree(b){(0,Me.assert)(!b.frame.parentId);this._mainFrameId=b.frame.id}}0&&0},2518:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{WKWorkers:()=>WKWorkers});b.exports=__toCommonJS(Re);var Me=F(8753);var Le=F(45);var We=F(3281);var Ge=F(9336);class WKWorkers{constructor(b){this._sessionListeners=[];this._workerSessions=new Map;this._page=b}setSession(b){Me.eventsHelper.removeEventListeners(this._sessionListeners);this.clear();this._sessionListeners=[Me.eventsHelper.addEventListener(b,"Worker.workerCreated",(B=>{const F=new Le.Worker(this._page,B.url);const K=new We.WKSession(b.connection,B.workerId,(F=>{b.send("Worker.sendMessageToWorker",{workerId:B.workerId,message:JSON.stringify(F)}).catch((b=>{K.dispatchMessage({id:F.id,error:{message:b.message}})}))}));this._workerSessions.set(B.workerId,K);F.createExecutionContext(new Ge.WKExecutionContext(K,void 0));F.workerScriptLoaded();this._page.addWorker(B.workerId,F);K.on("Console.messageAdded",(b=>this._onConsoleMessage(F,b)));Promise.all([K.send("Runtime.enable"),K.send("Console.enable"),b.send("Worker.initialized",{workerId:B.workerId})]).catch((b=>{this._page.removeWorker(B.workerId)}))})),Me.eventsHelper.addEventListener(b,"Worker.dispatchMessageFromWorker",(b=>{const B=this._workerSessions.get(b.workerId);if(!B)return;B.dispatchMessage(JSON.parse(b.message))})),Me.eventsHelper.addEventListener(b,"Worker.workerTerminated",(b=>{const B=this._workerSessions.get(b.workerId);if(!B)return;B.dispose();this._workerSessions.delete(b.workerId);this._page.removeWorker(b.workerId)}))]}clear(){this._page.clearWorkers();this._workerSessions.clear()}async initializeSession(b){await b.send("Worker.enable")}async _onConsoleMessage(b,B){const{type:F,level:K,text:se,parameters:oe,url:Qe,line:Re,column:Me}=B.message;let Le=F||"";if(F==="log")Le=K;else if(F==="timing")Le="timeEnd";const We=(oe||[]).map((B=>(0,Ge.createHandle)(b.existingExecutionContext,B)));const ze={url:Qe||"",lineNumber:(Re||1)-1,columnNumber:(Me||1)-1};this._page.addConsoleMessage(b,Le,We,ze,We.length?void 0:se)}}0&&0},8754:b=>{"use strict";b.exports=pixelmatch;const B={threshold:.1,includeAA:false,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:false};function pixelmatch(b,F,K,se,oe,Qe){if(!isPixelData(b)||!isPixelData(F)||K&&!isPixelData(K))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(b.length!==F.length||K&&K.length!==b.length)throw new Error("Image sizes do not match.");if(b.length!==se*oe*4)throw new Error("Image data size does not match width/height.");Qe=Object.assign({},B,Qe);const Re=se*oe;const Me=new Uint32Array(b.buffer,b.byteOffset,Re);const Le=new Uint32Array(F.buffer,F.byteOffset,Re);let We=true;for(let b=0;b<Re;b++){if(Me[b]!==Le[b]){We=false;break}}if(We){if(K&&!Qe.diffMask){for(let B=0;B<Re;B++)drawGrayPixel(b,4*B,Qe.alpha,K)}return 0}const Ge=35215*Qe.threshold*Qe.threshold;let ze=0;for(let B=0;B<oe;B++){for(let Re=0;Re<se;Re++){const Me=(B*se+Re)*4;const Le=colorDelta(b,F,Me,Me);if(Math.abs(Le)>Ge){if(!Qe.includeAA&&(antialiased(b,Re,B,se,oe,F)||antialiased(F,Re,B,se,oe,b))){if(K&&!Qe.diffMask)drawPixel(K,Me,...Qe.aaColor)}else{if(K){drawPixel(K,Me,...Le<0&&Qe.diffColorAlt||Qe.diffColor)}ze++}}else if(K){if(!Qe.diffMask)drawGrayPixel(b,Me,Qe.alpha,K)}}}return ze}function isPixelData(b){return ArrayBuffer.isView(b)&&b.constructor.BYTES_PER_ELEMENT===1}function antialiased(b,B,F,K,se,oe){const Qe=Math.max(B-1,0);const Re=Math.max(F-1,0);const Me=Math.min(B+1,K-1);const Le=Math.min(F+1,se-1);const We=(F*K+B)*4;let Ge=B===Qe||B===Me||F===Re||F===Le?1:0;let ze=0;let $e=0;let Ye,Ke,Xe,et;for(let se=Qe;se<=Me;se++){for(let oe=Re;oe<=Le;oe++){if(se===B&&oe===F)continue;const Qe=colorDelta(b,b,We,(oe*K+se)*4,true);if(Qe===0){Ge++;if(Ge>2)return false}else if(Qe<ze){ze=Qe;Ye=se;Ke=oe}else if(Qe>$e){$e=Qe;Xe=se;et=oe}}}if(ze===0||$e===0)return false;return hasManySiblings(b,Ye,Ke,K,se)&&hasManySiblings(oe,Ye,Ke,K,se)||hasManySiblings(b,Xe,et,K,se)&&hasManySiblings(oe,Xe,et,K,se)}function hasManySiblings(b,B,F,K,se){const oe=Math.max(B-1,0);const Qe=Math.max(F-1,0);const Re=Math.min(B+1,K-1);const Me=Math.min(F+1,se-1);const Le=(F*K+B)*4;let We=B===oe||B===Re||F===Qe||F===Me?1:0;for(let se=oe;se<=Re;se++){for(let oe=Qe;oe<=Me;oe++){if(se===B&&oe===F)continue;const Qe=(oe*K+se)*4;if(b[Le]===b[Qe]&&b[Le+1]===b[Qe+1]&&b[Le+2]===b[Qe+2]&&b[Le+3]===b[Qe+3])We++;if(We>2)return true}}return false}function colorDelta(b,B,F,K,se){let oe=b[F+0];let Qe=b[F+1];let Re=b[F+2];let Me=b[F+3];let Le=B[K+0];let We=B[K+1];let Ge=B[K+2];let ze=B[K+3];if(Me===ze&&oe===Le&&Qe===We&&Re===Ge)return 0;if(Me<255){Me/=255;oe=blend(oe,Me);Qe=blend(Qe,Me);Re=blend(Re,Me)}if(ze<255){ze/=255;Le=blend(Le,ze);We=blend(We,ze);Ge=blend(Ge,ze)}const $e=rgb2y(oe,Qe,Re);const Ye=rgb2y(Le,We,Ge);const Ke=$e-Ye;if(se)return Ke;const Xe=rgb2i(oe,Qe,Re)-rgb2i(Le,We,Ge);const et=rgb2q(oe,Qe,Re)-rgb2q(Le,We,Ge);const rt=.5053*Ke*Ke+.299*Xe*Xe+.1957*et*et;return $e>Ye?-rt:rt}function rgb2y(b,B,F){return b*.29889531+B*.58662247+F*.11448223}function rgb2i(b,B,F){return b*.59597799-B*.2741761-F*.32180189}function rgb2q(b,B,F){return b*.21147017-B*.52261711+F*.31114694}function blend(b,B){return 255+(b-255)*B}function drawPixel(b,B,F,K,se){b[B+0]=F;b[B+1]=K;b[B+2]=se;b[B+3]=255}function drawGrayPixel(b,B,F,K){const se=b[B+0];const oe=b[B+1];const Qe=b[B+2];const Re=blend(rgb2y(se,oe,Qe),F*b[B+3]/255);drawPixel(K,B,Re,Re,Re)}},3143:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __reExport=(b,B,F)=>(__copyProps(b,B,"default"),F&&__copyProps(F,B,"default"));var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{colors:()=>Me.colors});b.exports=__toCommonJS(Re);__reExport(Re,F(7691),b.exports);__reExport(Re,F(6224),b.exports);__reExport(Re,F(4594),b.exports);__reExport(Re,F(9746),b.exports);__reExport(Re,F(3512),b.exports);__reExport(Re,F(1871),b.exports);__reExport(Re,F(5726),b.exports);__reExport(Re,F(9915),b.exports);__reExport(Re,F(5254),b.exports);__reExport(Re,F(1603),b.exports);__reExport(Re,F(4955),b.exports);__reExport(Re,F(1750),b.exports);__reExport(Re,F(4395),b.exports);__reExport(Re,F(302),b.exports);__reExport(Re,F(4419),b.exports);__reExport(Re,F(9965),b.exports);__reExport(Re,F(2164),b.exports);__reExport(Re,F(1769),b.exports);__reExport(Re,F(6707),b.exports);__reExport(Re,F(6065),b.exports);__reExport(Re,F(3113),b.exports);__reExport(Re,F(6877),b.exports);__reExport(Re,F(9677),b.exports);__reExport(Re,F(8753),b.exports);__reExport(Re,F(7424),b.exports);__reExport(Re,F(1245),b.exports);__reExport(Re,F(6633),b.exports);__reExport(Re,F(2571),b.exports);__reExport(Re,F(8642),b.exports);__reExport(Re,F(6028),b.exports);__reExport(Re,F(6959),b.exports);__reExport(Re,F(8307),b.exports);__reExport(Re,F(5513),b.exports);__reExport(Re,F(7611),b.exports);__reExport(Re,F(4486),b.exports);__reExport(Re,F(6897),b.exports);__reExport(Re,F(6230),b.exports);__reExport(Re,F(3241),b.exports);__reExport(Re,F(9463),b.exports);__reExport(Re,F(1573),b.exports);var Me=F(6327);0&&0},7691:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{KeyParser:()=>KeyParser,ParserError:()=>ParserError,ariaPropsEqual:()=>ariaPropsEqual,parseAriaSnapshot:()=>parseAriaSnapshot,parseAriaSnapshotUnsafe:()=>parseAriaSnapshotUnsafe,textValue:()=>textValue});b.exports=__toCommonJS(oe);function ariaPropsEqual(b,B){return b.active===B.active&&b.checked===B.checked&&b.disabled===B.disabled&&b.expanded===B.expanded&&b.selected===B.selected&&b.level===B.level&&b.pressed===B.pressed}function parseAriaSnapshotUnsafe(b,B,F={}){const K=parseAriaSnapshot(b,B,F);if(K.errors.length)throw new Error(K.errors[0].message);return K.fragment}function parseAriaSnapshot(b,B,F={}){const K=new b.LineCounter;const se={keepSourceTokens:true,lineCounter:K,...F};const oe=b.parseDocument(B,se);const Re=[];const convertRange=b=>[K.linePos(b[0]),K.linePos(b[1])];const addError=b=>{Re.push({message:b.message,range:[K.linePos(b.pos[0]),K.linePos(b.pos[1])]})};const convertSeq=(B,F)=>{for(const K of F.items){const oe=K instanceof b.Scalar&&typeof K.value==="string";if(oe){const b=KeyParser.parse(K,se,Re);if(b){B.children=B.children||[];B.children.push(b)}continue}const Qe=K instanceof b.YAMLMap;if(Qe){convertMap(B,K);continue}Re.push({message:"Sequence items should be strings or maps",range:convertRange(K.range||F.range)})}};const convertMap=(B,F)=>{for(const K of F.items){B.children=B.children||[];const oe=K.key instanceof b.Scalar&&typeof K.key.value==="string";if(!oe){Re.push({message:"Only string keys are supported",range:convertRange(K.key.range||F.range)});continue}const Qe=K.key;const Me=K.value;if(Qe.value==="text"){const se=Me instanceof b.Scalar&&typeof Me.value==="string";if(!se){Re.push({message:"Text value should be a string",range:convertRange(K.value.range||F.range)});continue}B.children.push({kind:"text",text:textValue(Me.value)});continue}if(Qe.value==="/children"){const se=Me instanceof b.Scalar&&typeof Me.value==="string";if(!se||Me.value!=="contain"&&Me.value!=="equal"&&Me.value!=="deep-equal"){Re.push({message:'Strict value should be "contain", "equal" or "deep-equal"',range:convertRange(K.value.range||F.range)});continue}B.containerMode=Me.value;continue}if(Qe.value.startsWith("/")){const se=Me instanceof b.Scalar&&typeof Me.value==="string";if(!se){Re.push({message:"Property value should be a string",range:convertRange(K.value.range||F.range)});continue}B.props=B.props??{};B.props[Qe.value.slice(1)]=textValue(Me.value);continue}const Le=KeyParser.parse(Qe,se,Re);if(!Le)continue;const We=Me instanceof b.Scalar;if(We){const b=typeof Me.value;if(b!=="string"&&b!=="number"&&b!=="boolean"){Re.push({message:"Node value should be a string or a sequence",range:convertRange(K.value.range||F.range)});continue}B.children.push({...Le,children:[{kind:"text",text:textValue(String(Me.value))}]});continue}const Ge=Me instanceof b.YAMLSeq;if(Ge){B.children.push(Le);convertSeq(Le,Me);continue}Re.push({message:"Map values should be strings or sequences",range:convertRange(K.value.range||F.range)})}};const Me={kind:"role",role:"fragment"};oe.errors.forEach(addError);if(Re.length)return{errors:Re,fragment:Me};if(!(oe.contents instanceof b.YAMLSeq)){Re.push({message:'Aria snapshot must be a YAML sequence, elements starting with " -"',range:oe.contents?convertRange(oe.contents.range):[{line:0,col:0},{line:0,col:0}]})}if(Re.length)return{errors:Re,fragment:Me};convertSeq(Me,oe.contents);if(Re.length)return{errors:Re,fragment:Qe};if(Me.children?.length===1&&(!Me.containerMode||Me.containerMode==="contain"))return{fragment:Me.children[0],errors:[]};return{fragment:Me,errors:[]}}const Qe={kind:"role",role:"fragment"};function normalizeWhitespace(b){return b.replace(/[\u200b\u00ad]/g,"").replace(/[\r\n\s\t]+/g," ").trim()}function textValue(b){return{raw:b,normalized:normalizeWhitespace(b)}}class KeyParser{static parse(b,B,F){try{return new KeyParser(b.value)._parse()}catch(K){if(K instanceof ParserError){const se=B.prettyErrors===false?K.message:K.message+":\n\n"+b.value+"\n"+" ".repeat(K.pos)+"^\n";F.push({message:se,range:[B.lineCounter.linePos(b.range[0]),B.lineCounter.linePos(b.range[0]+K.pos)]});return null}throw K}}constructor(b){this._input=b;this._pos=0;this._length=b.length}_peek(){return this._input[this._pos]||""}_next(){if(this._pos<this._length)return this._input[this._pos++];return null}_eof(){return this._pos>=this._length}_isWhitespace(){return!this._eof()&&/\s/.test(this._peek())}_skipWhitespace(){while(this._isWhitespace())this._pos++}_readIdentifier(b){if(this._eof())this._throwError(`Unexpected end of input when expecting ${b}`);const B=this._pos;while(!this._eof()&&/[a-zA-Z]/.test(this._peek()))this._pos++;return this._input.slice(B,this._pos)}_readString(){let b="";let B=false;while(!this._eof()){const F=this._next();if(B){b+=F;B=false}else if(F==="\\"){B=true}else if(F==='"'){return b}else{b+=F}}this._throwError("Unterminated string")}_throwError(b,B=0){throw new ParserError(b,B||this._pos)}_readRegex(){let b="";let B=false;let F=false;while(!this._eof()){const K=this._next();if(B){b+=K;B=false}else if(K==="\\"){B=true;b+=K}else if(K==="/"&&!F){return{pattern:b}}else if(K==="["){F=true;b+=K}else if(K==="]"&&F){b+=K;F=false}else{b+=K}}this._throwError("Unterminated regex")}_readStringOrRegex(){const b=this._peek();if(b==='"'){this._next();return normalizeWhitespace(this._readString())}if(b==="/"){this._next();return this._readRegex()}return null}_readAttributes(b){let B=this._pos;while(true){this._skipWhitespace();if(this._peek()==="["){this._next();this._skipWhitespace();B=this._pos;const F=this._readIdentifier("attribute");this._skipWhitespace();let K="";if(this._peek()==="="){this._next();this._skipWhitespace();B=this._pos;while(this._peek()!=="]"&&!this._isWhitespace()&&!this._eof())K+=this._next()}this._skipWhitespace();if(this._peek()!=="]")this._throwError("Expected ]");this._next();this._applyAttribute(b,F,K||"true",B)}else{break}}}_parse(){this._skipWhitespace();const b=this._readIdentifier("role");this._skipWhitespace();const B=this._readStringOrRegex()||"";const F={kind:"role",role:b,name:B};this._readAttributes(F);this._skipWhitespace();if(!this._eof())this._throwError("Unexpected input");return F}_applyAttribute(b,B,F,K){if(B==="checked"){this._assert(F==="true"||F==="false"||F==="mixed",'Value of "checked" attribute must be a boolean or "mixed"',K);b.checked=F==="true"?true:F==="false"?false:"mixed";return}if(B==="disabled"){this._assert(F==="true"||F==="false",'Value of "disabled" attribute must be a boolean',K);b.disabled=F==="true";return}if(B==="expanded"){this._assert(F==="true"||F==="false",'Value of "expanded" attribute must be a boolean',K);b.expanded=F==="true";return}if(B==="active"){this._assert(F==="true"||F==="false",'Value of "active" attribute must be a boolean',K);b.active=F==="true";return}if(B==="level"){this._assert(!isNaN(Number(F)),'Value of "level" attribute must be a number',K);b.level=Number(F);return}if(B==="pressed"){this._assert(F==="true"||F==="false"||F==="mixed",'Value of "pressed" attribute must be a boolean or "mixed"',K);b.pressed=F==="true"?true:F==="false"?false:"mixed";return}if(B==="selected"){this._assert(F==="true"||F==="false",'Value of "selected" attribute must be a boolean',K);b.selected=F==="true";return}this._assert(false,`Unsupported attribute [${B}]`,K)}_assert(b,B,F){if(!b)this._throwError(B||"Assertion error",F)}}class ParserError extends Error{constructor(b,B){super(b);this.pos=B}}0&&0},6224:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{assert:()=>assert});b.exports=__toCommonJS(oe);function assert(b,B){if(!b)throw new Error(B||"Assertion error")}0&&0},4594:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{noColors:()=>Re,webColors:()=>Qe});b.exports=__toCommonJS(oe);const Qe={enabled:true,reset:b=>applyStyle(0,0,b),bold:b=>applyStyle(1,22,b),dim:b=>applyStyle(2,22,b),italic:b=>applyStyle(3,23,b),underline:b=>applyStyle(4,24,b),inverse:b=>applyStyle(7,27,b),hidden:b=>applyStyle(8,28,b),strikethrough:b=>applyStyle(9,29,b),black:b=>applyStyle(30,39,b),red:b=>applyStyle(31,39,b),green:b=>applyStyle(32,39,b),yellow:b=>applyStyle(33,39,b),blue:b=>applyStyle(34,39,b),magenta:b=>applyStyle(35,39,b),cyan:b=>applyStyle(36,39,b),white:b=>applyStyle(37,39,b),gray:b=>applyStyle(90,39,b),grey:b=>applyStyle(90,39,b)};const Re={enabled:false,reset:b=>b,bold:b=>b,dim:b=>b,italic:b=>b,underline:b=>b,inverse:b=>b,hidden:b=>b,strikethrough:b=>b,black:b=>b,red:b=>b,green:b=>b,yellow:b=>b,blue:b=>b,magenta:b=>b,cyan:b=>b,white:b=>b,gray:b=>b,grey:b=>b};const applyStyle=(b,B,F)=>`[${b}m${F}[${B}m`;0&&0},1924:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf;var Me=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Re of Qe(B))if(!Me.call(b,Re)&&Re!==F)se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable})}return b};var __toESM=(b,B,F)=>(F=b!=null?K(Re(b)):{},__copyProps(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:true}):F,b));var __toCommonJS=b=>__copyProps(se({},"__esModule",{value:true}),b);var Le={};__export(Le,{InvalidSelectorError:()=>InvalidSelectorError,isInvalidSelectorError:()=>isInvalidSelectorError,parseCSS:()=>parseCSS,serializeSelector:()=>serializeSelector});b.exports=__toCommonJS(Le);var We=__toESM(F(2966));class InvalidSelectorError extends Error{}function isInvalidSelectorError(b){return b instanceof InvalidSelectorError}function parseCSS(b,B){let F;try{F=We.tokenize(b);if(!(F[F.length-1]instanceof We.EOFToken))F.push(new We.EOFToken)}catch(B){const F=B.message+` while parsing css selector "${b}". Did you mean to CSS.escape it?`;const K=(B.stack||"").indexOf(B.message);if(K!==-1)B.stack=B.stack.substring(0,K)+F+B.stack.substring(K+B.message.length);B.message=F;throw B}const K=F.find((b=>b instanceof We.AtKeywordToken||b instanceof We.BadStringToken||b instanceof We.BadURLToken||b instanceof We.ColumnToken||b instanceof We.CDOToken||b instanceof We.CDCToken||b instanceof We.SemicolonToken||b instanceof We.OpenCurlyToken||b instanceof We.CloseCurlyToken||b instanceof We.URLToken||b instanceof We.PercentageToken));if(K)throw new InvalidSelectorError(`Unsupported token "${K.toSource()}" while parsing css selector "${b}". Did you mean to CSS.escape it?`);let se=0;const oe=new Set;function unexpected(){return new InvalidSelectorError(`Unexpected token "${F[se].toSource()}" while parsing css selector "${b}". Did you mean to CSS.escape it?`)}function skipWhitespace(){while(F[se]instanceof We.WhitespaceToken)se++}function isIdent(b=se){return F[b]instanceof We.IdentToken}function isString(b=se){return F[b]instanceof We.StringToken}function isNumber(b=se){return F[b]instanceof We.NumberToken}function isComma(b=se){return F[b]instanceof We.CommaToken}function isOpenParen(b=se){return F[b]instanceof We.OpenParenToken}function isCloseParen(b=se){return F[b]instanceof We.CloseParenToken}function isFunction(b=se){return F[b]instanceof We.FunctionToken}function isStar(b=se){return F[b]instanceof We.DelimToken&&F[b].value==="*"}function isEOF(b=se){return F[b]instanceof We.EOFToken}function isClauseCombinator(b=se){return F[b]instanceof We.DelimToken&&[">","+","~"].includes(F[b].value)}function isSelectorClauseEnd(b=se){return isComma(b)||isCloseParen(b)||isEOF(b)||isClauseCombinator(b)||F[b]instanceof We.WhitespaceToken}function consumeFunctionArguments(){const b=[consumeArgument()];while(true){skipWhitespace();if(!isComma())break;se++;b.push(consumeArgument())}return b}function consumeArgument(){skipWhitespace();if(isNumber())return F[se++].value;if(isString())return F[se++].value;return consumeComplexSelector()}function consumeComplexSelector(){const b={simples:[]};skipWhitespace();if(isClauseCombinator()){b.simples.push({selector:{functions:[{name:"scope",args:[]}]},combinator:""})}else{b.simples.push({selector:consumeSimpleSelector(),combinator:""})}while(true){skipWhitespace();if(isClauseCombinator()){b.simples[b.simples.length-1].combinator=F[se++].value;skipWhitespace()}else if(isSelectorClauseEnd()){break}b.simples.push({combinator:"",selector:consumeSimpleSelector()})}return b}function consumeSimpleSelector(){let b="";const K=[];while(!isSelectorClauseEnd()){if(isIdent()||isStar()){b+=F[se++].toSource()}else if(F[se]instanceof We.HashToken){b+=F[se++].toSource()}else if(F[se]instanceof We.DelimToken&&F[se].value==="."){se++;if(isIdent())b+="."+F[se++].toSource();else throw unexpected()}else if(F[se]instanceof We.ColonToken){se++;if(isIdent()){if(!B.has(F[se].value.toLowerCase())){b+=":"+F[se++].toSource()}else{const b=F[se++].value.toLowerCase();K.push({name:b,args:[]});oe.add(b)}}else if(isFunction()){const Qe=F[se++].value.toLowerCase();if(!B.has(Qe)){b+=`:${Qe}(${consumeBuiltinFunctionArguments()})`}else{K.push({name:Qe,args:consumeFunctionArguments()});oe.add(Qe)}skipWhitespace();if(!isCloseParen())throw unexpected();se++}else{throw unexpected()}}else if(F[se]instanceof We.OpenSquareToken){b+="[";se++;while(!(F[se]instanceof We.CloseSquareToken)&&!isEOF())b+=F[se++].toSource();if(!(F[se]instanceof We.CloseSquareToken))throw unexpected();b+="]";se++}else{throw unexpected()}}if(!b&&!K.length)throw unexpected();return{css:b||void 0,functions:K}}function consumeBuiltinFunctionArguments(){let b="";let B=1;while(!isEOF()){if(isOpenParen()||isFunction())B++;if(isCloseParen())B--;if(!B)break;b+=F[se++].toSource()}return b}const Qe=consumeFunctionArguments();if(!isEOF())throw unexpected();if(Qe.some((b=>typeof b!=="object"||!("simples"in b))))throw new InvalidSelectorError(`Error while parsing css selector "${b}". Did you mean to CSS.escape it?`);return{selector:Qe,names:Array.from(oe)}}function serializeSelector(b){return b.map((b=>{if(typeof b==="string")return`"${b}"`;if(typeof b==="number")return String(b);return b.simples.map((({selector:b,combinator:B})=>{let F=b.css||"";F=F+b.functions.map((b=>`:${b.name}(${serializeSelector(b.args)})`)).join("");if(B)F+=" "+B;return F})).join(" ")})).join(", ")}0&&0},2966:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{AtKeywordToken:()=>AtKeywordToken,BadStringToken:()=>BadStringToken,BadURLToken:()=>BadURLToken,CDCToken:()=>CDCToken,CDOToken:()=>CDOToken,CSSParserToken:()=>CSSParserToken,CloseCurlyToken:()=>CloseCurlyToken,CloseParenToken:()=>CloseParenToken,CloseSquareToken:()=>CloseSquareToken,ColonToken:()=>ColonToken,ColumnToken:()=>ColumnToken,CommaToken:()=>CommaToken,DashMatchToken:()=>DashMatchToken,DelimToken:()=>DelimToken,DimensionToken:()=>DimensionToken,EOFToken:()=>EOFToken,FunctionToken:()=>FunctionToken,GroupingToken:()=>GroupingToken,HashToken:()=>HashToken,IdentToken:()=>IdentToken,IncludeMatchToken:()=>IncludeMatchToken,InvalidCharacterError:()=>InvalidCharacterError,NumberToken:()=>NumberToken,OpenCurlyToken:()=>OpenCurlyToken,OpenParenToken:()=>OpenParenToken,OpenSquareToken:()=>OpenSquareToken,PercentageToken:()=>PercentageToken,PrefixMatchToken:()=>PrefixMatchToken,SemicolonToken:()=>SemicolonToken,StringToken:()=>StringToken,StringValuedToken:()=>StringValuedToken,SubstringMatchToken:()=>SubstringMatchToken,SuffixMatchToken:()=>SuffixMatchToken,URLToken:()=>URLToken,WhitespaceToken:()=>WhitespaceToken,tokenize:()=>tokenize});b.exports=__toCommonJS(oe);const between=function(b,B,F){return b>=B&&b<=F};function digit(b){return between(b,48,57)}function hexdigit(b){return digit(b)||between(b,65,70)||between(b,97,102)}function uppercaseletter(b){return between(b,65,90)}function lowercaseletter(b){return between(b,97,122)}function letter(b){return uppercaseletter(b)||lowercaseletter(b)}function nonascii(b){return b>=128}function namestartchar(b){return letter(b)||nonascii(b)||b===95}function namechar(b){return namestartchar(b)||digit(b)||b===45}function nonprintable(b){return between(b,0,8)||b===11||between(b,14,31)||b===127}function newline(b){return b===10}function whitespace(b){return newline(b)||b===9||b===32}const Qe=1114111;class InvalidCharacterError extends Error{constructor(b){super(b);this.name="InvalidCharacterError"}}function preprocess(b){const B=[];for(let F=0;F<b.length;F++){let K=b.charCodeAt(F);if(K===13&&b.charCodeAt(F+1)===10){K=10;F++}if(K===13||K===12)K=10;if(K===0)K=65533;if(between(K,55296,56319)&&between(b.charCodeAt(F+1),56320,57343)){const B=K-55296;const se=b.charCodeAt(F+1)-56320;K=Math.pow(2,16)+B*Math.pow(2,10)+se;F++}B.push(K)}return B}function stringFromCode(b){if(b<=65535)return String.fromCharCode(b);b-=Math.pow(2,16);const B=Math.floor(b/Math.pow(2,10))+55296;const F=b%Math.pow(2,10)+56320;return String.fromCharCode(B)+String.fromCharCode(F)}function tokenize(b){const B=preprocess(b);let F=-1;const K=[];let se;let oe=0;let Re=0;let Me=0;const incrLineno=function(){oe+=1;Me=Re;Re=0};const Le={line:oe,column:Re};const codepoint=function(b){if(b>=B.length)return-1;return B[b]};const next=function(b){if(b===void 0)b=1;if(b>3)throw"Spec Error: no more than three codepoints of lookahead.";return codepoint(F+b)};const consume=function(b){if(b===void 0)b=1;F+=b;se=codepoint(F);if(newline(se))incrLineno();else Re+=b;return true};const reconsume=function(){F-=1;if(newline(se)){oe-=1;Re=Me}else{Re-=1}Le.line=oe;Le.column=Re;return true};const eof=function(b){if(b===void 0)b=se;return b===-1};const donothing=function(){};const parseerror=function(){};const consumeAToken=function(){consumeComments();consume();if(whitespace(se)){while(whitespace(next()))consume();return new WhitespaceToken}else if(se===34){return consumeAStringToken()}else if(se===35){if(namechar(next())||areAValidEscape(next(1),next(2))){const b=new HashToken("");if(wouldStartAnIdentifier(next(1),next(2),next(3)))b.type="id";b.value=consumeAName();return b}else{return new DelimToken(se)}}else if(se===36){if(next()===61){consume();return new SuffixMatchToken}else{return new DelimToken(se)}}else if(se===39){return consumeAStringToken()}else if(se===40){return new OpenParenToken}else if(se===41){return new CloseParenToken}else if(se===42){if(next()===61){consume();return new SubstringMatchToken}else{return new DelimToken(se)}}else if(se===43){if(startsWithANumber()){reconsume();return consumeANumericToken()}else{return new DelimToken(se)}}else if(se===44){return new CommaToken}else if(se===45){if(startsWithANumber()){reconsume();return consumeANumericToken()}else if(next(1)===45&&next(2)===62){consume(2);return new CDCToken}else if(startsWithAnIdentifier()){reconsume();return consumeAnIdentlikeToken()}else{return new DelimToken(se)}}else if(se===46){if(startsWithANumber()){reconsume();return consumeANumericToken()}else{return new DelimToken(se)}}else if(se===58){return new ColonToken}else if(se===59){return new SemicolonToken}else if(se===60){if(next(1)===33&&next(2)===45&&next(3)===45){consume(3);return new CDOToken}else{return new DelimToken(se)}}else if(se===64){if(wouldStartAnIdentifier(next(1),next(2),next(3)))return new AtKeywordToken(consumeAName());else return new DelimToken(se)}else if(se===91){return new OpenSquareToken}else if(se===92){if(startsWithAValidEscape()){reconsume();return consumeAnIdentlikeToken()}else{parseerror();return new DelimToken(se)}}else if(se===93){return new CloseSquareToken}else if(se===94){if(next()===61){consume();return new PrefixMatchToken}else{return new DelimToken(se)}}else if(se===123){return new OpenCurlyToken}else if(se===124){if(next()===61){consume();return new DashMatchToken}else if(next()===124){consume();return new ColumnToken}else{return new DelimToken(se)}}else if(se===125){return new CloseCurlyToken}else if(se===126){if(next()===61){consume();return new IncludeMatchToken}else{return new DelimToken(se)}}else if(digit(se)){reconsume();return consumeANumericToken()}else if(namestartchar(se)){reconsume();return consumeAnIdentlikeToken()}else if(eof()){return new EOFToken}else{return new DelimToken(se)}};const consumeComments=function(){while(next(1)===47&&next(2)===42){consume(2);while(true){consume();if(se===42&&next()===47){consume();break}else if(eof()){parseerror();return}}}};const consumeANumericToken=function(){const b=consumeANumber();if(wouldStartAnIdentifier(next(1),next(2),next(3))){const B=new DimensionToken;B.value=b.value;B.repr=b.repr;B.type=b.type;B.unit=consumeAName();return B}else if(next()===37){consume();const B=new PercentageToken;B.value=b.value;B.repr=b.repr;return B}else{const B=new NumberToken;B.value=b.value;B.repr=b.repr;B.type=b.type;return B}};const consumeAnIdentlikeToken=function(){const b=consumeAName();if(b.toLowerCase()==="url"&&next()===40){consume();while(whitespace(next(1))&&whitespace(next(2)))consume();if(next()===34||next()===39)return new FunctionToken(b);else if(whitespace(next())&&(next(2)===34||next(2)===39))return new FunctionToken(b);else return consumeAURLToken()}else if(next()===40){consume();return new FunctionToken(b)}else{return new IdentToken(b)}};const consumeAStringToken=function(b){if(b===void 0)b=se;let B="";while(consume()){if(se===b||eof()){return new StringToken(B)}else if(newline(se)){parseerror();reconsume();return new BadStringToken}else if(se===92){if(eof(next()))donothing();else if(newline(next()))consume();else B+=stringFromCode(consumeEscape())}else{B+=stringFromCode(se)}}throw new Error("Internal error")};const consumeAURLToken=function(){const b=new URLToken("");while(whitespace(next()))consume();if(eof(next()))return b;while(consume()){if(se===41||eof()){return b}else if(whitespace(se)){while(whitespace(next()))consume();if(next()===41||eof(next())){consume();return b}else{consumeTheRemnantsOfABadURL();return new BadURLToken}}else if(se===34||se===39||se===40||nonprintable(se)){parseerror();consumeTheRemnantsOfABadURL();return new BadURLToken}else if(se===92){if(startsWithAValidEscape()){b.value+=stringFromCode(consumeEscape())}else{parseerror();consumeTheRemnantsOfABadURL();return new BadURLToken}}else{b.value+=stringFromCode(se)}}throw new Error("Internal error")};const consumeEscape=function(){consume();if(hexdigit(se)){const b=[se];for(let B=0;B<5;B++){if(hexdigit(next())){consume();b.push(se)}else{break}}if(whitespace(next()))consume();let B=parseInt(b.map((function(b){return String.fromCharCode(b)})).join(""),16);if(B>Qe)B=65533;return B}else if(eof()){return 65533}else{return se}};const areAValidEscape=function(b,B){if(b!==92)return false;if(newline(B))return false;return true};const startsWithAValidEscape=function(){return areAValidEscape(se,next())};const wouldStartAnIdentifier=function(b,B,F){if(b===45)return namestartchar(B)||B===45||areAValidEscape(B,F);else if(namestartchar(b))return true;else if(b===92)return areAValidEscape(b,B);else return false};const startsWithAnIdentifier=function(){return wouldStartAnIdentifier(se,next(1),next(2))};const wouldStartANumber=function(b,B,F){if(b===43||b===45){if(digit(B))return true;if(B===46&&digit(F))return true;return false}else if(b===46){if(digit(B))return true;return false}else if(digit(b)){return true}else{return false}};const startsWithANumber=function(){return wouldStartANumber(se,next(1),next(2))};const consumeAName=function(){let b="";while(consume()){if(namechar(se)){b+=stringFromCode(se)}else if(startsWithAValidEscape()){b+=stringFromCode(consumeEscape())}else{reconsume();return b}}throw new Error("Internal parse error")};const consumeANumber=function(){let b="";let B="integer";if(next()===43||next()===45){consume();b+=stringFromCode(se)}while(digit(next())){consume();b+=stringFromCode(se)}if(next(1)===46&&digit(next(2))){consume();b+=stringFromCode(se);consume();b+=stringFromCode(se);B="number";while(digit(next())){consume();b+=stringFromCode(se)}}const F=next(1),K=next(2),oe=next(3);if((F===69||F===101)&&digit(K)){consume();b+=stringFromCode(se);consume();b+=stringFromCode(se);B="number";while(digit(next())){consume();b+=stringFromCode(se)}}else if((F===69||F===101)&&(K===43||K===45)&&digit(oe)){consume();b+=stringFromCode(se);consume();b+=stringFromCode(se);consume();b+=stringFromCode(se);B="number";while(digit(next())){consume();b+=stringFromCode(se)}}const Qe=convertAStringToANumber(b);return{type:B,value:Qe,repr:b}};const convertAStringToANumber=function(b){return+b};const consumeTheRemnantsOfABadURL=function(){while(consume()){if(se===41||eof()){return}else if(startsWithAValidEscape()){consumeEscape();donothing()}else{donothing()}}};let We=0;while(!eof(next())){K.push(consumeAToken());We++;if(We>B.length*2)throw new Error("I'm infinite-looping!")}return K}class CSSParserToken{constructor(){this.tokenType=""}toJSON(){return{token:this.tokenType}}toString(){return this.tokenType}toSource(){return""+this}}class BadStringToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="BADSTRING"}}class BadURLToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="BADURL"}}class WhitespaceToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="WHITESPACE"}toString(){return"WS"}toSource(){return" "}}class CDOToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="CDO"}toSource(){return"\x3c!--"}}class CDCToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="CDC"}toSource(){return"--\x3e"}}class ColonToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType=":"}}class SemicolonToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType=";"}}class CommaToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType=","}}class GroupingToken extends CSSParserToken{constructor(){super(...arguments);this.value="";this.mirror=""}}class OpenCurlyToken extends GroupingToken{constructor(){super();this.tokenType="{";this.value="{";this.mirror="}"}}class CloseCurlyToken extends GroupingToken{constructor(){super();this.tokenType="}";this.value="}";this.mirror="{"}}class OpenSquareToken extends GroupingToken{constructor(){super();this.tokenType="[";this.value="[";this.mirror="]"}}class CloseSquareToken extends GroupingToken{constructor(){super();this.tokenType="]";this.value="]";this.mirror="["}}class OpenParenToken extends GroupingToken{constructor(){super();this.tokenType="(";this.value="(";this.mirror=")"}}class CloseParenToken extends GroupingToken{constructor(){super();this.tokenType=")";this.value=")";this.mirror="("}}class IncludeMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="~="}}class DashMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="|="}}class PrefixMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="^="}}class SuffixMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="$="}}class SubstringMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="*="}}class ColumnToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="||"}}class EOFToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="EOF"}toSource(){return""}}class DelimToken extends CSSParserToken{constructor(b){super();this.tokenType="DELIM";this.value="";this.value=stringFromCode(b)}toString(){return"DELIM("+this.value+")"}toJSON(){const b=this.constructor.prototype.constructor.prototype.toJSON.call(this);b.value=this.value;return b}toSource(){if(this.value==="\\")return"\\\n";else return this.value}}class StringValuedToken extends CSSParserToken{constructor(){super(...arguments);this.value=""}ASCIIMatch(b){return this.value.toLowerCase()===b.toLowerCase()}toJSON(){const b=this.constructor.prototype.constructor.prototype.toJSON.call(this);b.value=this.value;return b}}class IdentToken extends StringValuedToken{constructor(b){super();this.tokenType="IDENT";this.value=b}toString(){return"IDENT("+this.value+")"}toSource(){return escapeIdent(this.value)}}class FunctionToken extends StringValuedToken{constructor(b){super();this.tokenType="FUNCTION";this.value=b;this.mirror=")"}toString(){return"FUNCTION("+this.value+")"}toSource(){return escapeIdent(this.value)+"("}}class AtKeywordToken extends StringValuedToken{constructor(b){super();this.tokenType="AT-KEYWORD";this.value=b}toString(){return"AT("+this.value+")"}toSource(){return"@"+escapeIdent(this.value)}}class HashToken extends StringValuedToken{constructor(b){super();this.tokenType="HASH";this.value=b;this.type="unrestricted"}toString(){return"HASH("+this.value+")"}toJSON(){const b=this.constructor.prototype.constructor.prototype.toJSON.call(this);b.value=this.value;b.type=this.type;return b}toSource(){if(this.type==="id")return"#"+escapeIdent(this.value);else return"#"+escapeHash(this.value)}}class StringToken extends StringValuedToken{constructor(b){super();this.tokenType="STRING";this.value=b}toString(){return'"'+escapeString(this.value)+'"'}}class URLToken extends StringValuedToken{constructor(b){super();this.tokenType="URL";this.value=b}toString(){return"URL("+this.value+")"}toSource(){return'url("'+escapeString(this.value)+'")'}}class NumberToken extends CSSParserToken{constructor(){super();this.tokenType="NUMBER";this.type="integer";this.repr=""}toString(){if(this.type==="integer")return"INT("+this.value+")";return"NUMBER("+this.value+")"}toJSON(){const b=super.toJSON();b.value=this.value;b.type=this.type;b.repr=this.repr;return b}toSource(){return this.repr}}class PercentageToken extends CSSParserToken{constructor(){super();this.tokenType="PERCENTAGE";this.repr=""}toString(){return"PERCENTAGE("+this.value+")"}toJSON(){const b=this.constructor.prototype.constructor.prototype.toJSON.call(this);b.value=this.value;b.repr=this.repr;return b}toSource(){return this.repr+"%"}}class DimensionToken extends CSSParserToken{constructor(){super();this.tokenType="DIMENSION";this.type="integer";this.repr="";this.unit=""}toString(){return"DIM("+this.value+","+this.unit+")"}toJSON(){const b=this.constructor.prototype.constructor.prototype.toJSON.call(this);b.value=this.value;b.type=this.type;b.repr=this.repr;b.unit=this.unit;return b}toSource(){const b=this.repr;let B=escapeIdent(this.unit);if(B[0].toLowerCase()==="e"&&(B[1]==="-"||between(B.charCodeAt(1),48,57))){B="\\65 "+B.slice(1,B.length)}return b+B}}function escapeIdent(b){b=""+b;let B="";const F=b.charCodeAt(0);for(let K=0;K<b.length;K++){const se=b.charCodeAt(K);if(se===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");if(between(se,1,31)||se===127||K===0&&between(se,48,57)||K===1&&between(se,48,57)&&F===45)B+="\\"+se.toString(16)+" ";else if(se>=128||se===45||se===95||between(se,48,57)||between(se,65,90)||between(se,97,122))B+=b[K];else B+="\\"+b[K]}return B}function escapeHash(b){b=""+b;let B="";for(let F=0;F<b.length;F++){const K=b.charCodeAt(F);if(K===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");if(K>=128||K===45||K===95||between(K,48,57)||between(K,65,90)||between(K,97,122))B+=b[F];else B+="\\"+K.toString(16)+" "}return B}function escapeString(b){b=""+b;let B="";for(let F=0;F<b.length;F++){const K=b.charCodeAt(F);if(K===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");if(between(K,1,31)||K===127)B+="\\"+K.toString(16)+" ";else if(K===34||K===92)B+="\\"+b[F];else B+=b[F]}return B}0&&0},9746:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{headersArrayToObject:()=>headersArrayToObject,headersObjectToArray:()=>headersObjectToArray});b.exports=__toCommonJS(oe);function headersObjectToArray(b,B,F){if(!F)F=B;const K=[];for(const se in b){const oe=b[se];if(oe===void 0)continue;if(B){const b=se.toLowerCase()==="set-cookie"?F:B;for(const B of oe.split(b))K.push({name:se,value:B.trim()})}else{K.push({name:se,value:oe})}}return K}function headersArrayToObject(b,B){const F={};for(const{name:K,value:se}of b)F[B?K.toLowerCase():K]=se;return F}0&&0},3512:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{CSharpLocatorFactory:()=>CSharpLocatorFactory,JavaLocatorFactory:()=>JavaLocatorFactory,JavaScriptLocatorFactory:()=>JavaScriptLocatorFactory,JsonlLocatorFactory:()=>JsonlLocatorFactory,PythonLocatorFactory:()=>PythonLocatorFactory,asLocator:()=>asLocator,asLocatorDescription:()=>asLocatorDescription,asLocators:()=>asLocators,locatorCustomDescription:()=>locatorCustomDescription});b.exports=__toCommonJS(Re);var Me=F(3168);var Le=F(302);function asLocatorDescription(b,B){try{const F=(0,Me.parseSelector)(B);const K=parseCustomDescription(F);if(K)return K;return innerAsLocators(new We[b],F,false,1)[0]}catch(b){return B}}function locatorCustomDescription(b){try{const B=(0,Me.parseSelector)(b);return parseCustomDescription(B)}catch(b){return void 0}}function parseCustomDescription(b){const B=b.parts[b.parts.length-1];if(B?.name==="internal:describe"){const b=JSON.parse(B.body);if(typeof b==="string")return b}return void 0}function asLocator(b,B,F=false){return asLocators(b,B,F,1)[0]}function asLocators(b,B,F=false,K=20,se){try{return innerAsLocators(new We[b](se),(0,Me.parseSelector)(B),F,K)}catch(b){return[B]}}function innerAsLocators(b,B,F=false,K=20){const se=[...B.parts];const oe=[];let Qe=F?"frame-locator":"page";for(let B=0;B<se.length;B++){const F=se[B];const Re=Qe;Qe="locator";if(F.name==="internal:describe")continue;if(F.name==="nth"){if(F.body==="0")oe.push([b.generateLocator(Re,"first",""),b.generateLocator(Re,"nth","0")]);else if(F.body==="-1")oe.push([b.generateLocator(Re,"last",""),b.generateLocator(Re,"nth","-1")]);else oe.push([b.generateLocator(Re,"nth",F.body)]);continue}if(F.name==="visible"){oe.push([b.generateLocator(Re,"visible",F.body),b.generateLocator(Re,"default",`visible=${F.body}`)]);continue}if(F.name==="internal:text"){const{exact:B,text:K}=detectExact(F.body);oe.push([b.generateLocator(Re,"text",K,{exact:B})]);continue}if(F.name==="internal:has-text"){const{exact:B,text:K}=detectExact(F.body);if(!B){oe.push([b.generateLocator(Re,"has-text",K,{exact:B})]);continue}}if(F.name==="internal:has-not-text"){const{exact:B,text:K}=detectExact(F.body);if(!B){oe.push([b.generateLocator(Re,"has-not-text",K,{exact:B})]);continue}}if(F.name==="internal:has"){const B=innerAsLocators(b,F.body.parsed,false,K);oe.push(B.map((B=>b.generateLocator(Re,"has",B))));continue}if(F.name==="internal:has-not"){const B=innerAsLocators(b,F.body.parsed,false,K);oe.push(B.map((B=>b.generateLocator(Re,"hasNot",B))));continue}if(F.name==="internal:and"){const B=innerAsLocators(b,F.body.parsed,false,K);oe.push(B.map((B=>b.generateLocator(Re,"and",B))));continue}if(F.name==="internal:or"){const B=innerAsLocators(b,F.body.parsed,false,K);oe.push(B.map((B=>b.generateLocator(Re,"or",B))));continue}if(F.name==="internal:chain"){const B=innerAsLocators(b,F.body.parsed,false,K);oe.push(B.map((B=>b.generateLocator(Re,"chain",B))));continue}if(F.name==="internal:label"){const{exact:B,text:K}=detectExact(F.body);oe.push([b.generateLocator(Re,"label",K,{exact:B})]);continue}if(F.name==="internal:role"){const B=(0,Me.parseAttributeSelector)(F.body,true);const K={attrs:[]};for(const b of B.attributes){if(b.name==="name"){K.exact=b.caseSensitive;K.name=b.value}else{if(b.name==="level"&&typeof b.value==="string")b.value=+b.value;K.attrs.push({name:b.name==="include-hidden"?"includeHidden":b.name,value:b.value})}}oe.push([b.generateLocator(Re,"role",B.name,K)]);continue}if(F.name==="internal:testid"){const B=(0,Me.parseAttributeSelector)(F.body,true);const{value:K}=B.attributes[0];oe.push([b.generateLocator(Re,"test-id",K)]);continue}if(F.name==="internal:attr"){const B=(0,Me.parseAttributeSelector)(F.body,true);const{name:K,value:se,caseSensitive:Qe}=B.attributes[0];const Le=se;const We=!!Qe;if(K==="placeholder"){oe.push([b.generateLocator(Re,"placeholder",Le,{exact:We})]);continue}if(K==="alt"){oe.push([b.generateLocator(Re,"alt",Le,{exact:We})]);continue}if(K==="title"){oe.push([b.generateLocator(Re,"title",Le,{exact:We})]);continue}}if(F.name==="internal:control"&&F.body==="enter-frame"){const F=oe[oe.length-1];const K=se[B-1];const Le=F.map((B=>b.chainLocators([B,b.generateLocator(Re,"frame","")])));if(["xpath","css"].includes(K.name)){Le.push(b.generateLocator(Re,"frame-locator",(0,Me.stringifySelector)({parts:[K]})),b.generateLocator(Re,"frame-locator",(0,Me.stringifySelector)({parts:[K]},true)))}F.splice(0,F.length,...Le);Qe="frame-locator";continue}const Le=se[B+1];const We=(0,Me.stringifySelector)({parts:[F]});const Ge=b.generateLocator(Re,"default",We);if(Le&&["internal:has-text","internal:has-not-text"].includes(Le.name)){const{exact:F,text:K}=detectExact(Le.body);if(!F){const se=b.generateLocator("locator",Le.name==="internal:has-text"?"has-text":"has-not-text",K,{exact:F});const Qe={};if(Le.name==="internal:has-text")Qe.hasText=K;else Qe.hasNotText=K;const Me=b.generateLocator(Re,"default",We,Qe);oe.push([b.chainLocators([Ge,se]),Me]);B++;continue}}let ze;if(["xpath","css"].includes(F.name)){const B=(0,Me.stringifySelector)({parts:[F]},true);ze=b.generateLocator(Re,"default",B)}oe.push([Ge,ze].filter(Boolean))}return combineTokens(b,oe,K)}function combineTokens(b,B,F){const K=B.map((()=>""));const se=[];const visit=oe=>{if(oe===B.length){se.push(b.chainLocators(K));return se.length<F}for(const b of B[oe]){K[oe]=b;if(!visit(oe+1))return false}return true};visit(0);return se}function detectExact(b){let B=false;const F=b.match(/^\/(.*)\/([igm]*)$/);if(F)return{text:new RegExp(F[1],F[2])};if(b.endsWith('"')){b=JSON.parse(b);B=true}else if(b.endsWith('"s')){b=JSON.parse(b.substring(0,b.length-1));B=true}else if(b.endsWith('"i')){b=JSON.parse(b.substring(0,b.length-1));B=false}return{exact:B,text:b}}class JavaScriptLocatorFactory{constructor(b){this.preferredQuote=b}generateLocator(b,B,F,K={}){switch(B){case"default":if(K.hasText!==void 0)return`locator(${this.quote(F)}, { hasText: ${this.toHasText(K.hasText)} })`;if(K.hasNotText!==void 0)return`locator(${this.quote(F)}, { hasNotText: ${this.toHasText(K.hasNotText)} })`;return`locator(${this.quote(F)})`;case"frame-locator":return`frameLocator(${this.quote(F)})`;case"frame":return`contentFrame()`;case"nth":return`nth(${F})`;case"first":return`first()`;case"last":return`last()`;case"visible":return`filter({ visible: ${F==="true"?"true":"false"} })`;case"role":const b=[];if(isRegExp(K.name)){b.push(`name: ${this.regexToSourceString(K.name)}`)}else if(typeof K.name==="string"){b.push(`name: ${this.quote(K.name)}`);if(K.exact)b.push(`exact: true`)}for(const{name:B,value:F}of K.attrs)b.push(`${B}: ${typeof F==="string"?this.quote(F):F}`);const se=b.length?`, { ${b.join(", ")} }`:"";return`getByRole(${this.quote(F)}${se})`;case"has-text":return`filter({ hasText: ${this.toHasText(F)} })`;case"has-not-text":return`filter({ hasNotText: ${this.toHasText(F)} })`;case"has":return`filter({ has: ${F} })`;case"hasNot":return`filter({ hasNot: ${F} })`;case"and":return`and(${F})`;case"or":return`or(${F})`;case"chain":return`locator(${F})`;case"test-id":return`getByTestId(${this.toTestIdValue(F)})`;case"text":return this.toCallWithExact("getByText",F,!!K.exact);case"alt":return this.toCallWithExact("getByAltText",F,!!K.exact);case"placeholder":return this.toCallWithExact("getByPlaceholder",F,!!K.exact);case"label":return this.toCallWithExact("getByLabel",F,!!K.exact);case"title":return this.toCallWithExact("getByTitle",F,!!K.exact);default:throw new Error("Unknown selector kind "+B)}}chainLocators(b){return b.join(".")}regexToSourceString(b){return(0,Le.normalizeEscapedRegexQuotes)(String(b))}toCallWithExact(b,B,F){if(isRegExp(B))return`${b}(${this.regexToSourceString(B)})`;return F?`${b}(${this.quote(B)}, { exact: true })`:`${b}(${this.quote(B)})`}toHasText(b){if(isRegExp(b))return this.regexToSourceString(b);return this.quote(b)}toTestIdValue(b){if(isRegExp(b))return this.regexToSourceString(b);return this.quote(b)}quote(b){return(0,Le.escapeWithQuotes)(b,this.preferredQuote??"'")}}class PythonLocatorFactory{generateLocator(b,B,F,K={}){switch(B){case"default":if(K.hasText!==void 0)return`locator(${this.quote(F)}, has_text=${this.toHasText(K.hasText)})`;if(K.hasNotText!==void 0)return`locator(${this.quote(F)}, has_not_text=${this.toHasText(K.hasNotText)})`;return`locator(${this.quote(F)})`;case"frame-locator":return`frame_locator(${this.quote(F)})`;case"frame":return`content_frame`;case"nth":return`nth(${F})`;case"first":return`first`;case"last":return`last`;case"visible":return`filter(visible=${F==="true"?"True":"False"})`;case"role":const b=[];if(isRegExp(K.name)){b.push(`name=${this.regexToString(K.name)}`)}else if(typeof K.name==="string"){b.push(`name=${this.quote(K.name)}`);if(K.exact)b.push(`exact=True`)}for(const{name:B,value:F}of K.attrs){let K=typeof F==="string"?this.quote(F):F;if(typeof F==="boolean")K=F?"True":"False";b.push(`${(0,Le.toSnakeCase)(B)}=${K}`)}const se=b.length?`, ${b.join(", ")}`:"";return`get_by_role(${this.quote(F)}${se})`;case"has-text":return`filter(has_text=${this.toHasText(F)})`;case"has-not-text":return`filter(has_not_text=${this.toHasText(F)})`;case"has":return`filter(has=${F})`;case"hasNot":return`filter(has_not=${F})`;case"and":return`and_(${F})`;case"or":return`or_(${F})`;case"chain":return`locator(${F})`;case"test-id":return`get_by_test_id(${this.toTestIdValue(F)})`;case"text":return this.toCallWithExact("get_by_text",F,!!K.exact);case"alt":return this.toCallWithExact("get_by_alt_text",F,!!K.exact);case"placeholder":return this.toCallWithExact("get_by_placeholder",F,!!K.exact);case"label":return this.toCallWithExact("get_by_label",F,!!K.exact);case"title":return this.toCallWithExact("get_by_title",F,!!K.exact);default:throw new Error("Unknown selector kind "+B)}}chainLocators(b){return b.join(".")}regexToString(b){const B=b.flags.includes("i")?", re.IGNORECASE":"";return`re.compile(r"${(0,Le.normalizeEscapedRegexQuotes)(b.source).replace(/\\\//,"/").replace(/"/g,'\\"')}"${B})`}toCallWithExact(b,B,F){if(isRegExp(B))return`${b}(${this.regexToString(B)})`;if(F)return`${b}(${this.quote(B)}, exact=True)`;return`${b}(${this.quote(B)})`}toHasText(b){if(isRegExp(b))return this.regexToString(b);return`${this.quote(b)}`}toTestIdValue(b){if(isRegExp(b))return this.regexToString(b);return this.quote(b)}quote(b){return(0,Le.escapeWithQuotes)(b,'"')}}class JavaLocatorFactory{generateLocator(b,B,F,K={}){let se;switch(b){case"page":se="Page";break;case"frame-locator":se="FrameLocator";break;case"locator":se="Locator";break}switch(B){case"default":if(K.hasText!==void 0)return`locator(${this.quote(F)}, new ${se}.LocatorOptions().setHasText(${this.toHasText(K.hasText)}))`;if(K.hasNotText!==void 0)return`locator(${this.quote(F)}, new ${se}.LocatorOptions().setHasNotText(${this.toHasText(K.hasNotText)}))`;return`locator(${this.quote(F)})`;case"frame-locator":return`frameLocator(${this.quote(F)})`;case"frame":return`contentFrame()`;case"nth":return`nth(${F})`;case"first":return`first()`;case"last":return`last()`;case"visible":return`filter(new ${se}.FilterOptions().setVisible(${F==="true"?"true":"false"}))`;case"role":const b=[];if(isRegExp(K.name)){b.push(`.setName(${this.regexToString(K.name)})`)}else if(typeof K.name==="string"){b.push(`.setName(${this.quote(K.name)})`);if(K.exact)b.push(`.setExact(true)`)}for(const{name:B,value:F}of K.attrs)b.push(`.set${(0,Le.toTitleCase)(B)}(${typeof F==="string"?this.quote(F):F})`);const oe=b.length?`, new ${se}.GetByRoleOptions()${b.join("")}`:"";return`getByRole(AriaRole.${(0,Le.toSnakeCase)(F).toUpperCase()}${oe})`;case"has-text":return`filter(new ${se}.FilterOptions().setHasText(${this.toHasText(F)}))`;case"has-not-text":return`filter(new ${se}.FilterOptions().setHasNotText(${this.toHasText(F)}))`;case"has":return`filter(new ${se}.FilterOptions().setHas(${F}))`;case"hasNot":return`filter(new ${se}.FilterOptions().setHasNot(${F}))`;case"and":return`and(${F})`;case"or":return`or(${F})`;case"chain":return`locator(${F})`;case"test-id":return`getByTestId(${this.toTestIdValue(F)})`;case"text":return this.toCallWithExact(se,"getByText",F,!!K.exact);case"alt":return this.toCallWithExact(se,"getByAltText",F,!!K.exact);case"placeholder":return this.toCallWithExact(se,"getByPlaceholder",F,!!K.exact);case"label":return this.toCallWithExact(se,"getByLabel",F,!!K.exact);case"title":return this.toCallWithExact(se,"getByTitle",F,!!K.exact);default:throw new Error("Unknown selector kind "+B)}}chainLocators(b){return b.join(".")}regexToString(b){const B=b.flags.includes("i")?", Pattern.CASE_INSENSITIVE":"";return`Pattern.compile(${this.quote((0,Le.normalizeEscapedRegexQuotes)(b.source))}${B})`}toCallWithExact(b,B,F,K){if(isRegExp(F))return`${B}(${this.regexToString(F)})`;if(K)return`${B}(${this.quote(F)}, new ${b}.${(0,Le.toTitleCase)(B)}Options().setExact(true))`;return`${B}(${this.quote(F)})`}toHasText(b){if(isRegExp(b))return this.regexToString(b);return this.quote(b)}toTestIdValue(b){if(isRegExp(b))return this.regexToString(b);return this.quote(b)}quote(b){return(0,Le.escapeWithQuotes)(b,'"')}}class CSharpLocatorFactory{generateLocator(b,B,F,K={}){switch(B){case"default":if(K.hasText!==void 0)return`Locator(${this.quote(F)}, new() { ${this.toHasText(K.hasText)} })`;if(K.hasNotText!==void 0)return`Locator(${this.quote(F)}, new() { ${this.toHasNotText(K.hasNotText)} })`;return`Locator(${this.quote(F)})`;case"frame-locator":return`FrameLocator(${this.quote(F)})`;case"frame":return`ContentFrame`;case"nth":return`Nth(${F})`;case"first":return`First`;case"last":return`Last`;case"visible":return`Filter(new() { Visible = ${F==="true"?"true":"false"} })`;case"role":const b=[];if(isRegExp(K.name)){b.push(`NameRegex = ${this.regexToString(K.name)}`)}else if(typeof K.name==="string"){b.push(`Name = ${this.quote(K.name)}`);if(K.exact)b.push(`Exact = true`)}for(const{name:B,value:F}of K.attrs)b.push(`${(0,Le.toTitleCase)(B)} = ${typeof F==="string"?this.quote(F):F}`);const se=b.length?`, new() { ${b.join(", ")} }`:"";return`GetByRole(AriaRole.${(0,Le.toTitleCase)(F)}${se})`;case"has-text":return`Filter(new() { ${this.toHasText(F)} })`;case"has-not-text":return`Filter(new() { ${this.toHasNotText(F)} })`;case"has":return`Filter(new() { Has = ${F} })`;case"hasNot":return`Filter(new() { HasNot = ${F} })`;case"and":return`And(${F})`;case"or":return`Or(${F})`;case"chain":return`Locator(${F})`;case"test-id":return`GetByTestId(${this.toTestIdValue(F)})`;case"text":return this.toCallWithExact("GetByText",F,!!K.exact);case"alt":return this.toCallWithExact("GetByAltText",F,!!K.exact);case"placeholder":return this.toCallWithExact("GetByPlaceholder",F,!!K.exact);case"label":return this.toCallWithExact("GetByLabel",F,!!K.exact);case"title":return this.toCallWithExact("GetByTitle",F,!!K.exact);default:throw new Error("Unknown selector kind "+B)}}chainLocators(b){return b.join(".")}regexToString(b){const B=b.flags.includes("i")?", RegexOptions.IgnoreCase":"";return`new Regex(${this.quote((0,Le.normalizeEscapedRegexQuotes)(b.source))}${B})`}toCallWithExact(b,B,F){if(isRegExp(B))return`${b}(${this.regexToString(B)})`;if(F)return`${b}(${this.quote(B)}, new() { Exact = true })`;return`${b}(${this.quote(B)})`}toHasText(b){if(isRegExp(b))return`HasTextRegex = ${this.regexToString(b)}`;return`HasText = ${this.quote(b)}`}toTestIdValue(b){if(isRegExp(b))return this.regexToString(b);return this.quote(b)}toHasNotText(b){if(isRegExp(b))return`HasNotTextRegex = ${this.regexToString(b)}`;return`HasNotText = ${this.quote(b)}`}quote(b){return(0,Le.escapeWithQuotes)(b,'"')}}class JsonlLocatorFactory{generateLocator(b,B,F,K={}){return JSON.stringify({kind:B,body:F,options:K})}chainLocators(b){const B=b.map((b=>JSON.parse(b)));for(let b=0;b<B.length-1;++b)B[b].next=B[b+1];return JSON.stringify(B[0])}}const We={javascript:JavaScriptLocatorFactory,python:PythonLocatorFactory,java:JavaLocatorFactory,csharp:CSharpLocatorFactory,jsonl:JsonlLocatorFactory};function isRegExp(b){return b instanceof RegExp}0&&0},1285:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{locatorOrSelectorAsSelector:()=>locatorOrSelectorAsSelector,unsafeLocatorOrSelectorAsSelector:()=>unsafeLocatorOrSelectorAsSelector});b.exports=__toCommonJS(Re);var Me=F(3512);var Le=F(3168);var We=F(302);function parseLocator(b,B){b=b.replace(/AriaRole\s*\.\s*([\w]+)/g,((b,B)=>B.toLowerCase())).replace(/(get_by_role|getByRole)\s*\(\s*(?:["'`])([^'"`]+)['"`]/g,((b,B,F)=>`${B}(${F.toLowerCase()}`));const F=[];let K="";for(let B=0;B<b.length;++B){const se=b[B];if(se!=='"'&&se!=="'"&&se!=="`"&&se!=="/"){K+=se;continue}const oe=b[B-1]==="r"||b[B]==="/";++B;let Qe="";while(B<b.length){if(b[B]==="\\"){if(oe){if(b[B+1]!==se)Qe+=b[B];++B;Qe+=b[B]}else{++B;if(b[B]==="n")Qe+="\n";else if(b[B]==="r")Qe+="\r";else if(b[B]==="t")Qe+="\t";else Qe+=b[B]}++B;continue}if(b[B]!==se){Qe+=b[B++];continue}break}F.push({quote:se,text:Qe});K+=(se==="/"?"r":"")+"$"+F.length}K=K.toLowerCase().replace(/get_by_alt_text/g,"getbyalttext").replace(/get_by_test_id/g,"getbytestid").replace(/get_by_([\w]+)/g,"getby$1").replace(/has_not_text/g,"hasnottext").replace(/has_text/g,"hastext").replace(/has_not/g,"hasnot").replace(/frame_locator/g,"framelocator").replace(/content_frame/g,"contentframe").replace(/[{}\s]/g,"").replace(/new\(\)/g,"").replace(/new[\w]+\.[\w]+options\(\)/g,"").replace(/\.set/g,",set").replace(/\.or_\(/g,"or(").replace(/\.and_\(/g,"and(").replace(/:/g,"=").replace(/,re\.ignorecase/g,"i").replace(/,pattern.case_insensitive/g,"i").replace(/,regexoptions.ignorecase/g,"i").replace(/re.compile\(([^)]+)\)/g,"$1").replace(/pattern.compile\(([^)]+)\)/g,"r$1").replace(/newregex\(([^)]+)\)/g,"r$1").replace(/string=/g,"=").replace(/regex=/g,"=").replace(/,,/g,",").replace(/,\)/g,")");const se=F.map((b=>b.quote)).filter((b=>"'\"`".includes(b)))[0];return{selector:transform(K,F,B),preferredQuote:se}}function countParams(b){return[...b.matchAll(/\$\d+/g)].length}function shiftParams(b,B){return b.replace(/\$(\d+)/g,((b,F)=>`$${F-B}`))}function transform(b,B,F){while(true){const K=b.match(/filter\(,?(has=|hasnot=|sethas\(|sethasnot\()/);if(!K)break;const se=K.index+K[0].length;let oe=0;let Qe=se;for(;Qe<b.length;Qe++){if(b[Qe]==="(")oe++;else if(b[Qe]===")")oe--;if(oe<0)break}let Re=b.substring(0,se);let Me=0;if(["sethas(","sethasnot("].includes(K[1])){Me=1;Re=Re.replace(/sethas\($/,"has=").replace(/sethasnot\($/,"hasnot=")}const Le=countParams(b.substring(0,se));const We=shiftParams(b.substring(se,Qe),Le);const Ge=countParams(We);const ze=B.slice(Le,Le+Ge);const $e=JSON.stringify(transform(We,ze,F));b=Re.replace(/=$/,"2=")+`$${Le+1}`+shiftParams(b.substring(Qe+Me),Ge-1);const Ye=B.slice(0,Le);const Ke=B.slice(Le+Ge);B=Ye.concat([{quote:'"',text:$e}]).concat(Ke)}b=b.replace(/\,set([\w]+)\(([^)]+)\)/g,((b,B,F)=>","+B.toLowerCase()+"="+F.toLowerCase())).replace(/framelocator\(([^)]+)\)/g,"$1.internal:control=enter-frame").replace(/contentframe(\(\))?/g,"internal:control=enter-frame").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+),hasnottext=([^),]+)\)/g,"locator($1).internal:has-not-text=$2").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+)\)/g,"$1").replace(/getbyrole\(([^)]+)\)/g,"internal:role=$1").replace(/getbytext\(([^)]+)\)/g,"internal:text=$1").replace(/getbylabel\(([^)]+)\)/g,"internal:label=$1").replace(/getbytestid\(([^)]+)\)/g,`internal:testid=[${F}=$1]`).replace(/getby(placeholder|alt|title)(?:text)?\(([^)]+)\)/g,"internal:attr=[$1=$2]").replace(/first(\(\))?/g,"nth=0").replace(/last(\(\))?/g,"nth=-1").replace(/nth\(([^)]+)\)/g,"nth=$1").replace(/filter\(,?visible=true\)/g,"visible=true").replace(/filter\(,?visible=false\)/g,"visible=false").replace(/filter\(,?hastext=([^)]+)\)/g,"internal:has-text=$1").replace(/filter\(,?hasnottext=([^)]+)\)/g,"internal:has-not-text=$1").replace(/filter\(,?has2=([^)]+)\)/g,"internal:has=$1").replace(/filter\(,?hasnot2=([^)]+)\)/g,"internal:has-not=$1").replace(/,exact=false/g,"").replace(/,exact=true/g,"s").replace(/,includehidden=/g,",include-hidden=").replace(/\,/g,"][");const K=b.split(".");for(let b=0;b<K.length-1;b++){if(K[b]==="internal:control=enter-frame"&&K[b+1].startsWith("nth=")){const[B]=K.splice(b,1);K.splice(b+1,0,B)}}return K.map((b=>{if(!b.startsWith("internal:")||b==="internal:control")return b.replace(/\$(\d+)/g,((b,F)=>{const K=B[+F-1];return K.text}));b=b.includes("[")?b.replace(/\]/,"")+"]":b;b=b.replace(/(?:r)\$(\d+)(i)?/g,((F,K,se)=>{const oe=B[+K-1];if(b.startsWith("internal:attr")||b.startsWith("internal:testid")||b.startsWith("internal:role"))return(0,We.escapeForAttributeSelector)(new RegExp(oe.text),false)+(se||"");return(0,We.escapeForTextSelector)(new RegExp(oe.text,se),false)})).replace(/\$(\d+)(i|s)?/g,((F,K,se)=>{const oe=B[+K-1];if(b.startsWith("internal:has=")||b.startsWith("internal:has-not="))return oe.text;if(b.startsWith("internal:testid"))return(0,We.escapeForAttributeSelector)(oe.text,true);if(b.startsWith("internal:attr")||b.startsWith("internal:role"))return(0,We.escapeForAttributeSelector)(oe.text,se==="s");return(0,We.escapeForTextSelector)(oe.text,se==="s")}));return b})).join(" >> ")}function locatorOrSelectorAsSelector(b,B,F){try{return unsafeLocatorOrSelectorAsSelector(b,B,F)}catch(b){return""}}function unsafeLocatorOrSelectorAsSelector(b,B,F){try{(0,Le.parseSelector)(B);return B}catch(b){}const{selector:K,preferredQuote:se}=parseLocator(B,F);const oe=(0,Me.asLocators)(b,K,void 0,void 0,se);const Qe=digestForComparison(b,B);if(oe.some((B=>digestForComparison(b,B)===Qe)))return K;return""}function digestForComparison(b,B){B=B.replace(/\s/g,"");if(b==="javascript")B=B.replace(/\\?["`]/g,"'").replace(/,{}/g,"");return B}0&&0},3401:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{getByAltTextSelector:()=>getByAltTextSelector,getByLabelSelector:()=>getByLabelSelector,getByPlaceholderSelector:()=>getByPlaceholderSelector,getByRoleSelector:()=>getByRoleSelector,getByTestIdSelector:()=>getByTestIdSelector,getByTextSelector:()=>getByTextSelector,getByTitleSelector:()=>getByTitleSelector});b.exports=__toCommonJS(Re);var Me=F(302);function getByAttributeTextSelector(b,B,F){return`internal:attr=[${b}=${(0,Me.escapeForAttributeSelector)(B,F?.exact||false)}]`}function getByTestIdSelector(b,B){return`internal:testid=[${b}=${(0,Me.escapeForAttributeSelector)(B,true)}]`}function getByLabelSelector(b,B){return"internal:label="+(0,Me.escapeForTextSelector)(b,!!B?.exact)}function getByAltTextSelector(b,B){return getByAttributeTextSelector("alt",b,B)}function getByTitleSelector(b,B){return getByAttributeTextSelector("title",b,B)}function getByPlaceholderSelector(b,B){return getByAttributeTextSelector("placeholder",b,B)}function getByTextSelector(b,B){return"internal:text="+(0,Me.escapeForTextSelector)(b,!!B?.exact)}function getByRoleSelector(b,B={}){const F=[];if(B.checked!==void 0)F.push(["checked",String(B.checked)]);if(B.disabled!==void 0)F.push(["disabled",String(B.disabled)]);if(B.selected!==void 0)F.push(["selected",String(B.selected)]);if(B.expanded!==void 0)F.push(["expanded",String(B.expanded)]);if(B.includeHidden!==void 0)F.push(["include-hidden",String(B.includeHidden)]);if(B.level!==void 0)F.push(["level",String(B.level)]);if(B.name!==void 0)F.push(["name",(0,Me.escapeForAttributeSelector)(B.name,!!B.exact)]);if(B.pressed!==void 0)F.push(["pressed",String(B.pressed)]);return`internal:role=${b}${F.map((([b,B])=>`[${b}=${B}]`)).join("")}`}0&&0},1871:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{LongStandingScope:()=>LongStandingScope,ManualPromise:()=>ManualPromise});b.exports=__toCommonJS(Re);var Me=F(4395);class ManualPromise extends Promise{constructor(){let b;let B;super(((F,K)=>{b=F;B=K}));this._isDone=false;this._resolve=b;this._reject=B}isDone(){return this._isDone}resolve(b){this._isDone=true;this._resolve(b)}reject(b){this._isDone=true;this._reject(b)}static get[Symbol.species](){return Promise}get[Symbol.toStringTag](){return"ManualPromise"}}class LongStandingScope{constructor(){this._terminatePromises=new Map;this._isClosed=false}reject(b){this._isClosed=true;this._terminateError=b;for(const B of this._terminatePromises.keys())B.resolve(b)}close(b){this._isClosed=true;this._closeError=b;for(const[B,F]of this._terminatePromises)B.resolve(cloneError(b,F))}isClosed(){return this._isClosed}static async raceMultiple(b,B){return Promise.race(b.map((b=>b.race(B))))}async race(b){return this._race(Array.isArray(b)?b:[b],false)}async safeRace(b,B){return this._race([b],true,B)}async _race(b,B,F){const K=new ManualPromise;const se=(0,Me.captureRawStack)();if(this._terminateError)K.resolve(this._terminateError);if(this._closeError)K.resolve(cloneError(this._closeError,se));this._terminatePromises.set(K,se);try{return await Promise.race([K.then((b=>B?F:Promise.reject(b))),...b])}finally{this._terminatePromises.delete(K)}}}function cloneError(b,B){const F=new Error;F.name=b.name;F.message=b.message;F.stack=[b.name+":"+b.message,...B].join("\n");return F}0&&0},5726:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{getMimeTypeForPath:()=>getMimeTypeForPath,isJsonMimeType:()=>isJsonMimeType,isTextualMimeType:()=>isTextualMimeType});b.exports=__toCommonJS(oe);function isJsonMimeType(b){return!!b.match(/^(application\/json|application\/.*?\+json|text\/(x-)?json)(;\s*charset=.*)?$/)}function isTextualMimeType(b){return!!b.match(/^(text\/.*?|application\/(json|(x-)?javascript|xml.*?|ecmascript|graphql|x-www-form-urlencoded)|image\/svg(\+xml)?|application\/.*?(\+json|\+xml))(;\s*charset=.*)?$/)}function getMimeTypeForPath(b){const B=b.lastIndexOf(".");if(B===-1)return null;const F=b.substring(B+1);return Qe.get(F)||null}const Qe=new Map([["ez","application/andrew-inset"],["aw","application/applixware"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["dwd","application/atsc-dwd+xml"],["held","application/atsc-held+xml"],["rsat","application/atsc-rsat+xml"],["bdoc","application/bdoc"],["xcs","application/calendar+xml"],["ccxml","application/ccxml+xml"],["cdfx","application/cdfx+xml"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cu","application/cu-seeme"],["mpd","application/dash+xml"],["davmount","application/davmount+xml"],["dbk","application/docbook+xml"],["dssc","application/dssc+der"],["xdssc","application/dssc+xml"],["ecma","application/ecmascript"],["es","application/ecmascript"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["epub","application/epub+zip"],["exi","application/exi"],["exp","application/express"],["fdt","application/fdt+xml"],["pfr","application/font-tdpfr"],["geojson","application/geo+json"],["gml","application/gml+xml"],["gpx","application/gpx+xml"],["gxf","application/gxf"],["gz","application/gzip"],["hjson","application/hjson"],["stk","application/hyperstudio"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["ipfix","application/ipfix"],["its","application/its+xml"],["ear","application/java-archive"],["jar","application/java-archive"],["war","application/java-archive"],["ser","application/java-serialized-object"],["class","application/java-vm"],["js","application/javascript"],["mjs","application/javascript"],["json","application/json"],["map","application/json"],["json5","application/json5"],["jsonml","application/jsonml+json"],["jsonld","application/ld+json"],["lgr","application/lgr+xml"],["lostxml","application/lost+xml"],["hqx","application/mac-binhex40"],["cpt","application/mac-compactpro"],["mads","application/mads+xml"],["webmanifest","application/manifest+json"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ma","application/mathematica"],["mb","application/mathematica"],["nb","application/mathematica"],["mathml","application/mathml+xml"],["mbox","application/mbox"],["mscml","application/mediaservercontrol+xml"],["metalink","application/metalink+xml"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["maei","application/mmt-aei+xml"],["musd","application/mmt-usd+xml"],["mods","application/mods+xml"],["m21","application/mp21"],["mp21","application/mp21"],["m4p","application/mp4"],["mp4s","application/mp4"],["doc","application/msword"],["dot","application/msword"],["mxf","application/mxf"],["nq","application/n-quads"],["nt","application/n-triples"],["cjs","application/node"],["bin","application/octet-stream"],["bpk","application/octet-stream"],["buffer","application/octet-stream"],["deb","application/octet-stream"],["deploy","application/octet-stream"],["dist","application/octet-stream"],["distz","application/octet-stream"],["dll","application/octet-stream"],["dmg","application/octet-stream"],["dms","application/octet-stream"],["dump","application/octet-stream"],["elc","application/octet-stream"],["exe","application/octet-stream"],["img","application/octet-stream"],["iso","application/octet-stream"],["lrf","application/octet-stream"],["mar","application/octet-stream"],["msi","application/octet-stream"],["msm","application/octet-stream"],["msp","application/octet-stream"],["pkg","application/octet-stream"],["so","application/octet-stream"],["oda","application/oda"],["opf","application/oebps-package+xml"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["oxps","application/oxps"],["relo","application/p2p-overlay+xml"],["xer","application/patch-ops-error+xml"],["pdf","application/pdf"],["pgp","application/pgp-encrypted"],["asc","application/pgp-signature"],["sig","application/pgp-signature"],["prf","application/pics-rules"],["p10","application/pkcs10"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["ac","application/pkix-attr-cert"],["cer","application/pkix-cert"],["crl","application/pkix-crl"],["pkipath","application/pkix-pkipath"],["pki","application/pkixcmp"],["pls","application/pls+xml"],["ai","application/postscript"],["eps","application/postscript"],["ps","application/postscript"],["provx","application/provenance+xml"],["pskcxml","application/pskc+xml"],["raml","application/raml+yaml"],["owl","application/rdf+xml"],["rdf","application/rdf+xml"],["rif","application/reginfo+xml"],["rnc","application/relax-ng-compact-syntax"],["rl","application/resource-lists+xml"],["rld","application/resource-lists-diff+xml"],["rs","application/rls-services+xml"],["rapd","application/route-apd+xml"],["sls","application/route-s-tsid+xml"],["rusd","application/route-usd+xml"],["gbr","application/rpki-ghostbusters"],["mft","application/rpki-manifest"],["roa","application/rpki-roa"],["rsd","application/rsd+xml"],["rss","application/rss+xml"],["rtf","application/rtf"],["sbml","application/sbml+xml"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["spq","application/scvp-vp-request"],["spp","application/scvp-vp-response"],["sdp","application/sdp"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["shf","application/shf+xml"],["sieve","application/sieve"],["siv","application/sieve"],["smi","application/smil+xml"],["smil","application/smil+xml"],["rq","application/sparql-query"],["srx","application/sparql-results+xml"],["gram","application/srgs"],["grxml","application/srgs+xml"],["sru","application/sru+xml"],["ssdl","application/ssdl+xml"],["ssml","application/ssml+xml"],["swidtag","application/swid+xml"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tfi","application/thraud+xml"],["tsd","application/timestamped-data"],["toml","application/toml"],["trig","application/trig"],["ttml","application/ttml+xml"],["ubj","application/ubjson"],["rsheet","application/urc-ressheet+xml"],["td","application/urc-targetdesc+xml"],["vxml","application/voicexml+xml"],["wasm","application/wasm"],["wgt","application/widget"],["hlp","application/winhlp"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["xaml","application/xaml+xml"],["xav","application/xcap-att+xml"],["xca","application/xcap-caps+xml"],["xdf","application/xcap-diff+xml"],["xel","application/xcap-el+xml"],["xns","application/xcap-ns+xml"],["xenc","application/xenc+xml"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xlf","application/xliff+xml"],["rng","application/xml"],["xml","application/xml"],["xsd","application/xml"],["xsl","application/xml"],["dtd","application/xml-dtd"],["xop","application/xop+xml"],["xpl","application/xproc+xml"],["*xsl","application/xslt+xml"],["xslt","application/xslt+xml"],["xspf","application/xspf+xml"],["mxml","application/xv+xml"],["xhvml","application/xv+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["yang","application/yang"],["yin","application/yin+xml"],["zip","application/zip"],["*3gpp","audio/3gpp"],["adp","audio/adpcm"],["amr","audio/amr"],["au","audio/basic"],["snd","audio/basic"],["kar","audio/midi"],["mid","audio/midi"],["midi","audio/midi"],["rmi","audio/midi"],["mxmf","audio/mobile-xmf"],["*mp3","audio/mp3"],["m4a","audio/mp4"],["mp4a","audio/mp4"],["m2a","audio/mpeg"],["m3a","audio/mpeg"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mpga","audio/mpeg"],["oga","audio/ogg"],["ogg","audio/ogg"],["opus","audio/ogg"],["spx","audio/ogg"],["s3m","audio/s3m"],["sil","audio/silk"],["wav","audio/wav"],["*wav","audio/wave"],["weba","audio/webm"],["xm","audio/xm"],["ttc","font/collection"],["otf","font/otf"],["ttf","font/ttf"],["woff","font/woff"],["woff2","font/woff2"],["exr","image/aces"],["apng","image/apng"],["avif","image/avif"],["bmp","image/bmp"],["cgm","image/cgm"],["drle","image/dicom-rle"],["emf","image/emf"],["fits","image/fits"],["g3","image/g3fax"],["gif","image/gif"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["hsj2","image/hsj2"],["ief","image/ief"],["jls","image/jls"],["jp2","image/jp2"],["jpg2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jph","image/jph"],["jhc","image/jphc"],["jpm","image/jpm"],["jpf","image/jpx"],["jpx","image/jpx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["ktx","image/ktx"],["ktx2","image/ktx2"],["png","image/png"],["sgi","image/sgi"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["t38","image/t38"],["tif","image/tiff"],["tiff","image/tiff"],["tfx","image/tiff-fx"],["webp","image/webp"],["wmf","image/wmf"],["disposition-notification","message/disposition-notification"],["u8msg","message/global"],["u8dsn","message/global-delivery-status"],["u8mdn","message/global-disposition-notification"],["u8hdr","message/global-headers"],["eml","message/rfc822"],["mime","message/rfc822"],["3mf","model/3mf"],["gltf","model/gltf+json"],["glb","model/gltf-binary"],["iges","model/iges"],["igs","model/iges"],["mesh","model/mesh"],["msh","model/mesh"],["silo","model/mesh"],["mtl","model/mtl"],["obj","model/obj"],["stpx","model/step+xml"],["stpz","model/step+zip"],["stpxz","model/step-xml+zip"],["stl","model/stl"],["vrml","model/vrml"],["wrl","model/vrml"],["*x3db","model/x3d+binary"],["x3dbz","model/x3d+binary"],["x3db","model/x3d+fastinfoset"],["*x3dv","model/x3d+vrml"],["x3dvz","model/x3d+vrml"],["x3d","model/x3d+xml"],["x3dz","model/x3d+xml"],["x3dv","model/x3d-vrml"],["appcache","text/cache-manifest"],["manifest","text/cache-manifest"],["ics","text/calendar"],["ifb","text/calendar"],["coffee","text/coffeescript"],["litcoffee","text/coffeescript"],["css","text/css"],["csv","text/csv"],["htm","text/html"],["html","text/html"],["shtml","text/html"],["jade","text/jade"],["jsx","text/jsx"],["less","text/less"],["markdown","text/markdown"],["md","text/markdown"],["mml","text/mathml"],["mdx","text/mdx"],["n3","text/n3"],["conf","text/plain"],["def","text/plain"],["in","text/plain"],["ini","text/plain"],["list","text/plain"],["log","text/plain"],["text","text/plain"],["txt","text/plain"],["rtx","text/richtext"],["*rtf","text/rtf"],["sgm","text/sgml"],["sgml","text/sgml"],["shex","text/shex"],["slim","text/slim"],["slm","text/slim"],["spdx","text/spdx"],["styl","text/stylus"],["stylus","text/stylus"],["tsv","text/tab-separated-values"],["man","text/troff"],["me","text/troff"],["ms","text/troff"],["roff","text/troff"],["t","text/troff"],["tr","text/troff"],["ttl","text/turtle"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["vcard","text/vcard"],["vtt","text/vtt"],["*xml","text/xml"],["yaml","text/yaml"],["yml","text/yaml"],["3gp","video/3gpp"],["3gpp","video/3gpp"],["3g2","video/3gpp2"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["m4s","video/iso.segment"],["jpgv","video/jpeg"],["jpm","video/jpm"],["jpgm","video/jpm"],["mj2","video/mj2"],["mjp2","video/mj2"],["ts","application/typescript"],["mp4","video/mp4"],["mp4v","video/mp4"],["mpg4","video/mp4"],["m1v","video/mpeg"],["m2v","video/mpeg"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["ogv","video/ogg"],["mov","video/quicktime"],["qt","video/quicktime"],["webm","video/webm"]]);0&&0},9915:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{MultiMap:()=>MultiMap});b.exports=__toCommonJS(oe);class MultiMap{constructor(){this._map=new Map}set(b,B){let F=this._map.get(b);if(!F){F=[];this._map.set(b,F)}F.push(B)}get(b){return this._map.get(b)||[]}has(b){return this._map.has(b)}delete(b,B){const F=this._map.get(b);if(!F)return;if(F.includes(B))this._map.set(b,F.filter((b=>B!==b)))}deleteAll(b){this._map.delete(b)}hasValue(b,B){const F=this._map.get(b);if(!F)return false;return F.includes(B)}get size(){return this._map.size}[Symbol.iterator](){return this._map[Symbol.iterator]()}keys(){return this._map.keys()}values(){const b=[];for(const B of this.keys())b.push(...this.get(B));return b}clear(){this._map.clear()}}0&&0},5254:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{formatProtocolParam:()=>formatProtocolParam,getActionGroup:()=>getActionGroup,renderTitleForCall:()=>renderTitleForCall});b.exports=__toCommonJS(Re);var Me=F(1603);function formatProtocolParam(b,B){return _formatProtocolParam(b,B)?.replaceAll("\n","\\n")}function _formatProtocolParam(b,B){if(!b)return void 0;for(const F of B.split("|")){if(F==="url"){try{const B=new URL(b[F]);if(B.protocol==="data:")return B.protocol;if(B.protocol==="about:")return b[F];return B.pathname+B.search}catch(B){if(b[F]!==void 0)return b[F]}}if(F==="timeNumber"&&b[F]!==void 0){return new Date(b[F]).toString()}const B=deepParam(b,F);if(B!==void 0)return B}}function deepParam(b,B){const F=B.split(".");let K=b;for(const b of F){if(typeof K!=="object"||K===null)return void 0;K=K[b]}if(K===void 0)return void 0;return String(K)}function renderTitleForCall(b){const B=b.title??Me.methodMetainfo.get(b.type+"."+b.method)?.title??b.method;return B.replace(/\{([^}]+)\}/g,((B,F)=>formatProtocolParam(b.params,F)??B))}function getActionGroup(b){return Me.methodMetainfo.get(b.type+"."+b.method)?.group}0&&0},1603:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{methodMetainfo:()=>Qe});b.exports=__toCommonJS(oe);const Qe=new Map([["APIRequestContext.fetch",{title:'{method} "{url}"'}],["APIRequestContext.fetchResponseBody",{title:"Get response body",group:"getter"}],["APIRequestContext.fetchLog",{internal:true}],["APIRequestContext.storageState",{title:"Get storage state"}],["APIRequestContext.disposeAPIResponse",{internal:true}],["APIRequestContext.dispose",{internal:true}],["LocalUtils.zip",{internal:true}],["LocalUtils.harOpen",{internal:true}],["LocalUtils.harLookup",{internal:true}],["LocalUtils.harClose",{internal:true}],["LocalUtils.harUnzip",{internal:true}],["LocalUtils.connect",{internal:true}],["LocalUtils.tracingStarted",{internal:true}],["LocalUtils.addStackToTracingNoReply",{internal:true}],["LocalUtils.traceDiscarded",{internal:true}],["LocalUtils.globToRegex",{internal:true}],["Root.initialize",{internal:true}],["Playwright.newRequest",{title:"Create request context"}],["DebugController.initialize",{internal:true}],["DebugController.setReportStateChanged",{internal:true}],["DebugController.setRecorderMode",{internal:true}],["DebugController.highlight",{internal:true}],["DebugController.hideHighlight",{internal:true}],["DebugController.resume",{internal:true}],["DebugController.kill",{internal:true}],["SocksSupport.socksConnected",{internal:true}],["SocksSupport.socksFailed",{internal:true}],["SocksSupport.socksData",{internal:true}],["SocksSupport.socksError",{internal:true}],["SocksSupport.socksEnd",{internal:true}],["BrowserType.launch",{title:"Launch browser"}],["BrowserType.launchPersistentContext",{title:"Launch persistent context"}],["BrowserType.connectOverCDP",{title:"Connect over CDP"}],["Browser.close",{title:"Close browser",pausesBeforeAction:true}],["Browser.killForTests",{internal:true}],["Browser.defaultUserAgentForTest",{internal:true}],["Browser.newContext",{title:"Create context"}],["Browser.newContextForReuse",{internal:true}],["Browser.disconnectFromReusedContext",{internal:true}],["Browser.newBrowserCDPSession",{title:"Create CDP session",group:"configuration"}],["Browser.startTracing",{title:"Start browser tracing",group:"configuration"}],["Browser.stopTracing",{title:"Stop browser tracing",group:"configuration"}],["EventTarget.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["BrowserContext.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["Page.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["Worker.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["WebSocket.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["ElectronApplication.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["AndroidDevice.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["BrowserContext.addCookies",{title:"Add cookies",group:"configuration"}],["BrowserContext.addInitScript",{title:"Add init script",group:"configuration"}],["BrowserContext.clearCookies",{title:"Clear cookies",group:"configuration"}],["BrowserContext.clearPermissions",{title:"Clear permissions",group:"configuration"}],["BrowserContext.close",{title:"Close context",pausesBeforeAction:true}],["BrowserContext.cookies",{title:"Get cookies",group:"getter"}],["BrowserContext.exposeBinding",{title:"Expose binding",group:"configuration"}],["BrowserContext.grantPermissions",{title:"Grant permissions",group:"configuration"}],["BrowserContext.newPage",{title:"Create page"}],["BrowserContext.registerSelectorEngine",{internal:true}],["BrowserContext.setTestIdAttributeName",{internal:true}],["BrowserContext.setExtraHTTPHeaders",{title:"Set extra HTTP headers",group:"configuration"}],["BrowserContext.setGeolocation",{title:"Set geolocation",group:"configuration"}],["BrowserContext.setHTTPCredentials",{title:"Set HTTP credentials",group:"configuration"}],["BrowserContext.setNetworkInterceptionPatterns",{title:"Route requests",group:"route"}],["BrowserContext.setWebSocketInterceptionPatterns",{title:"Route WebSockets",group:"route"}],["BrowserContext.setOffline",{title:"Set offline mode"}],["BrowserContext.storageState",{title:"Get storage state"}],["BrowserContext.pause",{title:"Pause"}],["BrowserContext.enableRecorder",{internal:true}],["BrowserContext.disableRecorder",{internal:true}],["BrowserContext.newCDPSession",{title:"Create CDP session",group:"configuration"}],["BrowserContext.harStart",{internal:true}],["BrowserContext.harExport",{internal:true}],["BrowserContext.createTempFiles",{internal:true}],["BrowserContext.updateSubscription",{internal:true}],["BrowserContext.clockFastForward",{title:'Fast forward clock "{ticksNumber|ticksString}"'}],["BrowserContext.clockInstall",{title:'Install clock "{timeNumber|timeString}"'}],["BrowserContext.clockPauseAt",{title:'Pause clock "{timeNumber|timeString}"'}],["BrowserContext.clockResume",{title:"Resume clock"}],["BrowserContext.clockRunFor",{title:'Run clock "{ticksNumber|ticksString}"'}],["BrowserContext.clockSetFixedTime",{title:'Set fixed time "{timeNumber|timeString}"'}],["BrowserContext.clockSetSystemTime",{title:'Set system time "{timeNumber|timeString}"'}],["Page.addInitScript",{title:"Add init script",group:"configuration"}],["Page.close",{title:"Close page",pausesBeforeAction:true}],["Page.consoleMessages",{title:"Get console messages",group:"getter"}],["Page.emulateMedia",{title:"Emulate media",snapshot:true,pausesBeforeAction:true}],["Page.exposeBinding",{title:"Expose binding",group:"configuration"}],["Page.goBack",{title:"Go back",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.goForward",{title:"Go forward",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.requestGC",{title:"Request garbage collection",group:"configuration"}],["Page.registerLocatorHandler",{title:"Register locator handler"}],["Page.resolveLocatorHandlerNoReply",{internal:true}],["Page.unregisterLocatorHandler",{title:"Unregister locator handler"}],["Page.reload",{title:"Reload",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.expectScreenshot",{title:"Expect screenshot",snapshot:true,pausesBeforeAction:true}],["Page.screenshot",{title:"Screenshot",snapshot:true,pausesBeforeAction:true}],["Page.setExtraHTTPHeaders",{title:"Set extra HTTP headers",group:"configuration"}],["Page.setNetworkInterceptionPatterns",{title:"Route requests",group:"route"}],["Page.setWebSocketInterceptionPatterns",{title:"Route WebSockets",group:"route"}],["Page.setViewportSize",{title:"Set viewport size",snapshot:true,pausesBeforeAction:true}],["Page.keyboardDown",{title:'Key down "{key}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.keyboardUp",{title:'Key up "{key}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.keyboardInsertText",{title:'Insert "{text}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.keyboardType",{title:'Type "{text}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.keyboardPress",{title:'Press "{key}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseMove",{title:"Mouse move",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseDown",{title:"Mouse down",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseUp",{title:"Mouse up",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseClick",{title:"Click",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseWheel",{title:"Mouse wheel",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.touchscreenTap",{title:"Tap",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.pageErrors",{title:"Get page errors",group:"getter"}],["Page.pdf",{title:"PDF"}],["Page.requests",{title:"Get network requests",group:"getter"}],["Page.snapshotForAI",{internal:true}],["Page.startJSCoverage",{title:"Start JS coverage",group:"configuration"}],["Page.stopJSCoverage",{title:"Stop JS coverage",group:"configuration"}],["Page.startCSSCoverage",{title:"Start CSS coverage",group:"configuration"}],["Page.stopCSSCoverage",{title:"Stop CSS coverage",group:"configuration"}],["Page.bringToFront",{title:"Bring to front"}],["Page.updateSubscription",{internal:true}],["Frame.evalOnSelector",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["Frame.evalOnSelectorAll",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["Frame.addScriptTag",{title:"Add script tag",snapshot:true,pausesBeforeAction:true}],["Frame.addStyleTag",{title:"Add style tag",snapshot:true,pausesBeforeAction:true}],["Frame.ariaSnapshot",{title:"Aria snapshot",snapshot:true,pausesBeforeAction:true}],["Frame.blur",{title:"Blur",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Frame.check",{title:"Check",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.click",{title:"Click",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.content",{title:"Get content",snapshot:true,pausesBeforeAction:true}],["Frame.dragAndDrop",{title:"Drag and drop",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.dblclick",{title:"Double click",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.dispatchEvent",{title:'Dispatch "{type}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Frame.evaluateExpression",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["Frame.evaluateExpressionHandle",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["Frame.fill",{title:'Fill "{value}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.focus",{title:"Focus",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Frame.frameElement",{title:"Get frame element",group:"getter"}],["Frame.resolveSelector",{internal:true}],["Frame.highlight",{title:"Highlight element",group:"configuration"}],["Frame.getAttribute",{title:'Get attribute "{name}"',snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.goto",{title:'Navigate to "{url}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Frame.hover",{title:"Hover",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.innerHTML",{title:"Get HTML",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.innerText",{title:"Get inner text",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.inputValue",{title:"Get input value",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isChecked",{title:"Is checked",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isDisabled",{title:"Is disabled",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isEnabled",{title:"Is enabled",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isHidden",{title:"Is hidden",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isVisible",{title:"Is visible",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isEditable",{title:"Is editable",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.press",{title:'Press "{key}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.querySelector",{title:"Query selector",snapshot:true}],["Frame.querySelectorAll",{title:"Query selector all",snapshot:true}],["Frame.queryCount",{title:"Query count",snapshot:true,pausesBeforeAction:true}],["Frame.selectOption",{title:"Select option",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.setContent",{title:"Set content",snapshot:true,pausesBeforeAction:true}],["Frame.setInputFiles",{title:"Set input files",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.tap",{title:"Tap",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.textContent",{title:"Get text content",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.title",{title:"Get page title",group:"getter"}],["Frame.type",{title:'Type "{text}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.uncheck",{title:"Uncheck",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.waitForTimeout",{title:"Wait for timeout",snapshot:true}],["Frame.waitForFunction",{title:"Wait for function",snapshot:true,pausesBeforeAction:true}],["Frame.waitForSelector",{title:"Wait for selector",snapshot:true}],["Frame.expect",{title:'Expect "{expression}"',snapshot:true,pausesBeforeAction:true}],["Worker.evaluateExpression",{title:"Evaluate"}],["Worker.evaluateExpressionHandle",{title:"Evaluate"}],["Worker.updateSubscription",{internal:true}],["JSHandle.dispose",{internal:true}],["ElementHandle.dispose",{internal:true}],["JSHandle.evaluateExpression",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["ElementHandle.evaluateExpression",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["JSHandle.evaluateExpressionHandle",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["ElementHandle.evaluateExpressionHandle",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["JSHandle.getPropertyList",{title:"Get property list",group:"getter"}],["ElementHandle.getPropertyList",{title:"Get property list",group:"getter"}],["JSHandle.getProperty",{title:"Get JS property",group:"getter"}],["ElementHandle.getProperty",{title:"Get JS property",group:"getter"}],["JSHandle.jsonValue",{title:"Get JSON value",group:"getter"}],["ElementHandle.jsonValue",{title:"Get JSON value",group:"getter"}],["ElementHandle.evalOnSelector",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["ElementHandle.evalOnSelectorAll",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["ElementHandle.boundingBox",{title:"Get bounding box",snapshot:true,pausesBeforeAction:true}],["ElementHandle.check",{title:"Check",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.click",{title:"Click",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.contentFrame",{title:"Get content frame",group:"getter"}],["ElementHandle.dblclick",{title:"Double click",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.dispatchEvent",{title:"Dispatch event",slowMo:true,snapshot:true,pausesBeforeAction:true}],["ElementHandle.fill",{title:'Fill "{value}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.focus",{title:"Focus",slowMo:true,snapshot:true,pausesBeforeAction:true}],["ElementHandle.getAttribute",{title:"Get attribute",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.hover",{title:"Hover",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.innerHTML",{title:"Get HTML",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.innerText",{title:"Get inner text",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.inputValue",{title:"Get input value",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isChecked",{title:"Is checked",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isDisabled",{title:"Is disabled",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isEditable",{title:"Is editable",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isEnabled",{title:"Is enabled",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isHidden",{title:"Is hidden",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isVisible",{title:"Is visible",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.ownerFrame",{title:"Get owner frame",group:"getter"}],["ElementHandle.press",{title:'Press "{key}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.querySelector",{title:"Query selector",snapshot:true}],["ElementHandle.querySelectorAll",{title:"Query selector all",snapshot:true}],["ElementHandle.screenshot",{title:"Screenshot",snapshot:true,pausesBeforeAction:true}],["ElementHandle.scrollIntoViewIfNeeded",{title:"Scroll into view",slowMo:true,snapshot:true,pausesBeforeAction:true}],["ElementHandle.selectOption",{title:"Select option",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.selectText",{title:"Select text",slowMo:true,snapshot:true,pausesBeforeAction:true}],["ElementHandle.setInputFiles",{title:"Set input files",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.tap",{title:"Tap",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.textContent",{title:"Get text content",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.type",{title:"Type",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.uncheck",{title:"Uncheck",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.waitForElementState",{title:"Wait for state",snapshot:true,pausesBeforeAction:true}],["ElementHandle.waitForSelector",{title:"Wait for selector",snapshot:true}],["Request.response",{internal:true}],["Request.rawRequestHeaders",{internal:true}],["Route.redirectNavigationRequest",{internal:true}],["Route.abort",{title:"Abort request",group:"route"}],["Route.continue",{title:"Continue request",group:"route"}],["Route.fulfill",{title:"Fulfill request",group:"route"}],["WebSocketRoute.connect",{title:"Connect WebSocket to server",group:"route"}],["WebSocketRoute.ensureOpened",{internal:true}],["WebSocketRoute.sendToPage",{title:"Send WebSocket message",group:"route"}],["WebSocketRoute.sendToServer",{title:"Send WebSocket message",group:"route"}],["WebSocketRoute.closePage",{internal:true}],["WebSocketRoute.closeServer",{internal:true}],["Response.body",{title:"Get response body",group:"getter"}],["Response.securityDetails",{internal:true}],["Response.serverAddr",{internal:true}],["Response.rawResponseHeaders",{internal:true}],["Response.sizes",{internal:true}],["BindingCall.reject",{internal:true}],["BindingCall.resolve",{internal:true}],["Dialog.accept",{title:"Accept dialog"}],["Dialog.dismiss",{title:"Dismiss dialog"}],["Tracing.tracingStart",{title:"Start tracing",group:"configuration"}],["Tracing.tracingStartChunk",{title:"Start tracing",group:"configuration"}],["Tracing.tracingGroup",{title:'Trace "{name}"'}],["Tracing.tracingGroupEnd",{title:"Group end"}],["Tracing.tracingStopChunk",{title:"Stop tracing",group:"configuration"}],["Tracing.tracingStop",{title:"Stop tracing",group:"configuration"}],["Artifact.pathAfterFinished",{internal:true}],["Artifact.saveAs",{internal:true}],["Artifact.saveAsStream",{internal:true}],["Artifact.failure",{internal:true}],["Artifact.stream",{internal:true}],["Artifact.cancel",{internal:true}],["Artifact.delete",{internal:true}],["Stream.read",{internal:true}],["Stream.close",{internal:true}],["WritableStream.write",{internal:true}],["WritableStream.close",{internal:true}],["CDPSession.send",{title:"Send CDP command",group:"configuration"}],["CDPSession.detach",{title:"Detach CDP session",group:"configuration"}],["Electron.launch",{title:"Launch electron"}],["ElectronApplication.browserWindow",{internal:true}],["ElectronApplication.evaluateExpression",{title:"Evaluate"}],["ElectronApplication.evaluateExpressionHandle",{title:"Evaluate"}],["ElectronApplication.updateSubscription",{internal:true}],["Android.devices",{internal:true}],["AndroidSocket.write",{internal:true}],["AndroidSocket.close",{internal:true}],["AndroidDevice.wait",{title:"Wait"}],["AndroidDevice.fill",{title:'Fill "{text}"'}],["AndroidDevice.tap",{title:"Tap"}],["AndroidDevice.drag",{title:"Drag"}],["AndroidDevice.fling",{title:"Fling"}],["AndroidDevice.longTap",{title:"Long tap"}],["AndroidDevice.pinchClose",{title:"Pinch close"}],["AndroidDevice.pinchOpen",{title:"Pinch open"}],["AndroidDevice.scroll",{title:"Scroll"}],["AndroidDevice.swipe",{title:"Swipe"}],["AndroidDevice.info",{internal:true}],["AndroidDevice.screenshot",{title:"Screenshot"}],["AndroidDevice.inputType",{title:"Type"}],["AndroidDevice.inputPress",{title:"Press"}],["AndroidDevice.inputTap",{title:"Tap"}],["AndroidDevice.inputSwipe",{title:"Swipe"}],["AndroidDevice.inputDrag",{title:"Drag"}],["AndroidDevice.launchBrowser",{title:"Launch browser"}],["AndroidDevice.open",{title:"Open app"}],["AndroidDevice.shell",{title:"Execute shell command",group:"configuration"}],["AndroidDevice.installApk",{title:"Install apk"}],["AndroidDevice.push",{title:"Push"}],["AndroidDevice.connectToWebView",{title:"Connect to Web View"}],["AndroidDevice.close",{internal:true}],["JsonPipe.send",{internal:true}],["JsonPipe.close",{internal:true}]]);0&&0},4955:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{isError:()=>isError,isObject:()=>isObject,isRegExp:()=>isRegExp,isString:()=>Me.isString});b.exports=__toCommonJS(Re);var Me=F(302);function isRegExp(b){return b instanceof RegExp||Object.prototype.toString.call(b)==="[object RegExp]"}function isObject(b){return typeof b==="object"&&b!==null}function isError(b){return b instanceof Error||b&&Object.getPrototypeOf(b)?.name==="Error"}0&&0},3168:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{InvalidSelectorError:()=>Le.InvalidSelectorError,customCSSNames:()=>ze,isInvalidSelectorError:()=>Le.isInvalidSelectorError,parseAttributeSelector:()=>parseAttributeSelector,parseSelector:()=>parseSelector,splitSelectorByFrame:()=>splitSelectorByFrame,stringifySelector:()=>stringifySelector,visitAllSelectorParts:()=>visitAllSelectorParts});b.exports=__toCommonJS(Re);var Me=F(1924);var Le=F(1924);const We=new Set(["internal:has","internal:has-not","internal:and","internal:or","internal:chain","left-of","right-of","above","below","near"]);const Ge=new Set(["left-of","right-of","above","below","near"]);const ze=new Set(["not","is","where","has","scope","light","visible","text","text-matches","text-is","has-text","above","below","right-of","left-of","near","nth-match"]);function parseSelector(b){const B=parseSelectorString(b);const F=[];for(const b of B.parts){if(b.name==="css"||b.name==="css:light"){if(b.name==="css:light")b.body=":light("+b.body+")";const B=(0,Me.parseCSS)(b.body,ze);F.push({name:"css",body:B.selector,source:b.body});continue}if(We.has(b.name)){let B;let K;try{const F=JSON.parse("["+b.body+"]");if(!Array.isArray(F)||F.length<1||F.length>2||typeof F[0]!=="string")throw new Me.InvalidSelectorError(`Malformed selector: ${b.name}=`+b.body);B=F[0];if(F.length===2){if(typeof F[1]!=="number"||!Ge.has(b.name))throw new Me.InvalidSelectorError(`Malformed selector: ${b.name}=`+b.body);K=F[1]}}catch(B){throw new Me.InvalidSelectorError(`Malformed selector: ${b.name}=`+b.body)}const se={name:b.name,source:b.body,body:{parsed:parseSelector(B),distance:K}};const oe=[...se.body.parsed.parts].reverse().find((b=>b.name==="internal:control"&&b.body==="enter-frame"));const Qe=oe?se.body.parsed.parts.indexOf(oe):-1;if(Qe!==-1&&selectorPartsEqual(se.body.parsed.parts.slice(0,Qe+1),F.slice(0,Qe+1)))se.body.parsed.parts.splice(0,Qe+1);F.push(se);continue}F.push({...b,source:b.body})}if(We.has(F[0].name))throw new Me.InvalidSelectorError(`"${F[0].name}" selector cannot be first`);return{capture:B.capture,parts:F}}function splitSelectorByFrame(b){const B=parseSelector(b);const F=[];let K={parts:[]};let se=0;for(let b=0;b<B.parts.length;++b){const oe=B.parts[b];if(oe.name==="internal:control"&&oe.body==="enter-frame"){if(!K.parts.length)throw new Me.InvalidSelectorError("Selector cannot start with entering frame, select the iframe first");F.push(K);K={parts:[]};se=b+1;continue}if(B.capture===b)K.capture=b-se;K.parts.push(oe)}if(!K.parts.length)throw new Me.InvalidSelectorError(`Selector cannot end with entering frame, while parsing selector ${b}`);F.push(K);if(typeof B.capture==="number"&&typeof F[F.length-1].capture!=="number")throw new Me.InvalidSelectorError(`Can not capture the selector before diving into the frame. Only use * after the last frame has been selected`);return F}function selectorPartsEqual(b,B){return stringifySelector({parts:b})===stringifySelector({parts:B})}function stringifySelector(b,B){if(typeof b==="string")return b;return b.parts.map(((F,K)=>{let se=true;if(!B&&K!==b.capture){if(F.name==="css")se=false;else if(F.name==="xpath"&&F.source.startsWith("//")||F.source.startsWith(".."))se=false}const oe=se?F.name+"=":"";return`${K===b.capture?"*":""}${oe}${F.source}`})).join(" >> ")}function visitAllSelectorParts(b,B){const visit=(b,F)=>{for(const K of b.parts){B(K,F);if(We.has(K.name))visit(K.body.parsed,true)}};visit(b,false)}function parseSelectorString(b){let B=0;let F;let K=0;const se={parts:[]};const append=()=>{const F=b.substring(K,B).trim();const oe=F.indexOf("=");let Qe;let Re;if(oe!==-1&&F.substring(0,oe).trim().match(/^[a-zA-Z_0-9-+:*]+$/)){Qe=F.substring(0,oe).trim();Re=F.substring(oe+1)}else if(F.length>1&&F[0]==='"'&&F[F.length-1]==='"'){Qe="text";Re=F}else if(F.length>1&&F[0]==="'"&&F[F.length-1]==="'"){Qe="text";Re=F}else if(/^\(*\/\//.test(F)||F.startsWith("..")){Qe="xpath";Re=F}else{Qe="css";Re=F}let Le=false;if(Qe[0]==="*"){Le=true;Qe=Qe.substring(1)}se.parts.push({name:Qe,body:Re});if(Le){if(se.capture!==void 0)throw new Me.InvalidSelectorError(`Only one of the selectors can capture using * modifier`);se.capture=se.parts.length-1}};if(!b.includes(">>")){B=b.length;append();return se}const shouldIgnoreTextSelectorQuote=()=>{const F=b.substring(K,B);const se=F.match(/^\s*text\s*=(.*)$/);return!!se&&!!se[1]};while(B<b.length){const se=b[B];if(se==="\\"&&B+1<b.length){B+=2}else if(se===F){F=void 0;B++}else if(!F&&(se==='"'||se==="'"||se==="`")&&!shouldIgnoreTextSelectorQuote()){F=se;B++}else if(!F&&se===">"&&b[B+1]===">"){append();B+=2;K=B}else{B++}}append();return se}function parseAttributeSelector(b,B){let F=0;let K=b.length===0;const next=()=>b[F]||"";const eat1=()=>{const B=next();++F;K=F>=b.length;return B};const syntaxError=B=>{if(K)throw new Me.InvalidSelectorError(`Unexpected end of selector while parsing selector \`${b}\``);throw new Me.InvalidSelectorError(`Error while parsing selector \`${b}\` - unexpected symbol "${next()}" at position ${F}`+(B?" during "+B:""))};function skipSpaces(){while(!K&&/\s/.test(next()))eat1()}function isCSSNameChar(b){return b>=""||b>="0"&&b<="9"||b>="A"&&b<="Z"||b>="a"&&b<="z"||b>="0"&&b<="9"||b==="_"||b==="-"}function readIdentifier(){let b="";skipSpaces();while(!K&&isCSSNameChar(next()))b+=eat1();return b}function readQuotedString(b){let B=eat1();if(B!==b)syntaxError("parsing quoted string");while(!K&&next()!==b){if(next()==="\\")eat1();B+=eat1()}if(next()!==b)syntaxError("parsing quoted string");B+=eat1();return B}function readRegularExpression(){if(eat1()!=="/")syntaxError("parsing regular expression");let B="";let F=false;while(!K){if(next()==="\\"){B+=eat1();if(K)syntaxError("parsing regular expression")}else if(F&&next()==="]"){F=false}else if(!F&&next()==="["){F=true}else if(!F&&next()==="/"){break}B+=eat1()}if(eat1()!=="/")syntaxError("parsing regular expression");let se="";while(!K&&next().match(/[dgimsuy]/))se+=eat1();try{return new RegExp(B,se)}catch(B){throw new Me.InvalidSelectorError(`Error while parsing selector \`${b}\`: ${B.message}`)}}function readAttributeToken(){let b="";skipSpaces();if(next()===`'`||next()===`"`)b=readQuotedString(next()).slice(1,-1);else b=readIdentifier();if(!b)syntaxError("parsing property path");return b}function readOperator(){skipSpaces();let b="";if(!K)b+=eat1();if(!K&&b!=="=")b+=eat1();if(!["=","*=","^=","$=","|=","~="].includes(b))syntaxError("parsing operator");return b}function readAttribute(){eat1();const F=[];F.push(readAttributeToken());skipSpaces();while(next()==="."){eat1();F.push(readAttributeToken());skipSpaces()}if(next()==="]"){eat1();return{name:F.join("."),jsonPath:F,op:"<truthy>",value:null,caseSensitive:false}}const se=readOperator();let oe=void 0;let Qe=true;skipSpaces();if(next()==="/"){if(se!=="=")throw new Me.InvalidSelectorError(`Error while parsing selector \`${b}\` - cannot use ${se} in attribute with regular expression`);oe=readRegularExpression()}else if(next()===`'`||next()===`"`){oe=readQuotedString(next()).slice(1,-1);skipSpaces();if(next()==="i"||next()==="I"){Qe=false;eat1()}else if(next()==="s"||next()==="S"){Qe=true;eat1()}}else{oe="";while(!K&&(isCSSNameChar(next())||next()==="+"||next()==="."))oe+=eat1();if(oe==="true"){oe=true}else if(oe==="false"){oe=false}else{if(!B){oe=+oe;if(Number.isNaN(oe))syntaxError("parsing attribute value")}}}skipSpaces();if(next()!=="]")syntaxError("parsing attribute value");eat1();if(se!=="="&&typeof oe!=="string")throw new Me.InvalidSelectorError(`Error while parsing selector \`${b}\` - cannot use ${se} in attribute with non-string matching value - ${oe}`);return{name:F.join("."),jsonPath:F,op:se,value:oe,caseSensitive:Qe}}const se={name:"",attributes:[]};se.name=readIdentifier();skipSpaces();while(next()==="["){se.attributes.push(readAttribute());skipSpaces()}if(!K)syntaxError(void 0);if(!se.name&&!se.attributes.length)throw new Me.InvalidSelectorError(`Error while parsing selector \`${b}\` - selector cannot be empty`);return se}0&&0},1750:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{Semaphore:()=>Semaphore});b.exports=__toCommonJS(Re);var Me=F(1871);class Semaphore{constructor(b){this._acquired=0;this._queue=[];this._max=b}setMax(b){this._max=b}acquire(){const b=new Me.ManualPromise;this._queue.push(b);this._flush();return b}release(){--this._acquired;this._flush()}_flush(){while(this._acquired<this._max&&this._queue.length){++this._acquired;this._queue.shift().resolve()}}}0&&0},4395:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{captureRawStack:()=>captureRawStack,parseErrorStack:()=>parseErrorStack,parseStackFrame:()=>parseStackFrame,rewriteErrorMessage:()=>rewriteErrorMessage,splitErrorMessage:()=>splitErrorMessage,stringifyStackFrames:()=>stringifyStackFrames});b.exports=__toCommonJS(oe);function captureRawStack(){const b=Error.stackTraceLimit;Error.stackTraceLimit=50;const B=new Error;const F=B.stack||"";Error.stackTraceLimit=b;return F.split("\n")}function parseStackFrame(b,B,F){const K=b&&b.match(Qe);if(!K)return null;let se=K[2];let oe=K[7];if(!oe)return null;if(!F&&(oe.startsWith("internal")||oe.startsWith("node:")))return null;const Me=K[8];const Le=K[9];const We=K[11]===")";const Ge={file:"",line:0,column:0};if(Me)Ge.line=Number(Me);if(Le)Ge.column=Number(Le);if(We&&oe){let b=0;for(let B=oe.length-1;B>0;B--){if(oe.charAt(B)===")"){b++}else if(oe.charAt(B)==="("&&oe.charAt(B-1)===" "){b--;if(b===-1&&oe.charAt(B-1)===" "){const b=oe.slice(0,B-1);const F=oe.slice(B+1);oe=F;se+=` (${b}`;break}}}}if(se){const b=se.match(Re);if(b)se=b[1]}if(oe){if(oe.startsWith("file://"))oe=fileURLToPath(oe,B);Ge.file=oe}if(se)Ge.function=se;return Ge}function rewriteErrorMessage(b,B){const F=(b.stack?.split("\n")||[]).filter((b=>b.startsWith("    at ")));b.message=B;const K=`${b.name}: ${b.message}`;if(F.length)b.stack=`${K}\n${F.join("\n")}`;return b}function stringifyStackFrames(b){const B=[];for(const F of b){if(F.function)B.push(`    at ${F.function} (${F.file}:${F.line}:${F.column})`);else B.push(`    at ${F.file}:${F.line}:${F.column}`)}return B}function splitErrorMessage(b){const B=b.indexOf(":");return{name:B!==-1?b.slice(0,B):"",message:B!==-1&&B+2<=b.length?b.substring(B+2):b}}function parseErrorStack(b,B,F=false){const K=b.split("\n");let se=K.findIndex((b=>b.startsWith("    at ")));if(se===-1)se=K.length;const oe=K.slice(0,se).join("\n");const Qe=K.slice(se);let Re;for(const b of Qe){const K=parseStackFrame(b,B,F);if(!K||!K.file)continue;if(belongsToNodeModules(K.file,B))continue;Re={file:K.file,column:K.column||0,line:K.line||0};break}return{message:oe,stackLines:Qe,location:Re}}function belongsToNodeModules(b,B){return b.includes(`${B}node_modules${B}`)}const Qe=new RegExp("^(?:\\s*at )?(?:(new) )?(?:(.*?) \\()?(?:eval at ([^ ]+) \\((.+?):(\\d+):(\\d+)\\), )?(?:(.+?):(\\d+):(\\d+)|(native))(\\)?)$");const Re=/^(.*?) \[as (.*?)\]$/;function fileURLToPath(b,B){if(!b.startsWith("file://"))return b;let F=decodeURIComponent(b.slice(7));if(F.startsWith("/")&&/^[a-zA-Z]:/.test(F.slice(1)))F=F.slice(1);return F.replace(/\//g,B)}0&&0},302:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{cacheNormalizedWhitespaces:()=>cacheNormalizedWhitespaces,escapeForAttributeSelector:()=>escapeForAttributeSelector,escapeForTextSelector:()=>escapeForTextSelector,escapeHTML:()=>escapeHTML,escapeHTMLAttribute:()=>escapeHTMLAttribute,escapeRegExp:()=>escapeRegExp,escapeTemplateString:()=>escapeTemplateString,escapeWithQuotes:()=>escapeWithQuotes,isString:()=>isString,longestCommonSubstring:()=>longestCommonSubstring,normalizeEscapedRegexQuotes:()=>normalizeEscapedRegexQuotes,normalizeWhiteSpace:()=>normalizeWhiteSpace,quoteCSSAttributeValue:()=>quoteCSSAttributeValue,toSnakeCase:()=>toSnakeCase,toTitleCase:()=>toTitleCase,trimString:()=>trimString,trimStringWithEllipsis:()=>trimStringWithEllipsis});b.exports=__toCommonJS(oe);function escapeWithQuotes(b,B="'"){const F=JSON.stringify(b);const K=F.substring(1,F.length-1).replace(/\\"/g,'"');if(B==="'")return B+K.replace(/[']/g,"\\'")+B;if(B==='"')return B+K.replace(/["]/g,'\\"')+B;if(B==="`")return B+K.replace(/[`]/g,"\\`")+B;throw new Error("Invalid escape char")}function escapeTemplateString(b){return b.replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/\$\{/g,"\\${")}function isString(b){return typeof b==="string"||b instanceof String}function toTitleCase(b){return b.charAt(0).toUpperCase()+b.substring(1)}function toSnakeCase(b){return b.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}function quoteCSSAttributeValue(b){return`"${b.replace(/["\\]/g,(b=>"\\"+b))}"`}let Qe;function cacheNormalizedWhitespaces(){Qe=new Map}function normalizeWhiteSpace(b){let B=Qe?.get(b);if(B===void 0){B=b.replace(/[\u200b\u00ad]/g,"").trim().replace(/\s+/g," ");Qe?.set(b,B)}return B}function normalizeEscapedRegexQuotes(b){return b.replace(/(^|[^\\])(\\\\)*\\(['"`])/g,"$1$2$3")}function escapeRegexForSelector(b){if(b.unicode||b.unicodeSets)return String(b);return String(b).replace(/(^|[^\\])(\\\\)*(["'`])/g,"$1$2\\$3").replace(/>>/g,"\\>\\>")}function escapeForTextSelector(b,B){if(typeof b!=="string")return escapeRegexForSelector(b);return`${JSON.stringify(b)}${B?"s":"i"}`}function escapeForAttributeSelector(b,B){if(typeof b!=="string")return escapeRegexForSelector(b);return`"${b.replace(/\\/g,"\\\\").replace(/["]/g,'\\"')}"${B?"s":"i"}`}function trimString(b,B,F=""){if(b.length<=B)return b;const K=[...b];if(K.length>B)return K.slice(0,B-F.length).join("")+F;return K.join("")}function trimStringWithEllipsis(b,B){return trimString(b,B,"")}function escapeRegExp(b){return b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function escapeHTMLAttribute(b){return b.replace(/[&<>"']/gu,(b=>Re[b]))}function escapeHTML(b){return b.replace(/[&<]/gu,(b=>Re[b]))}function longestCommonSubstring(b,B){const F=b.length;const K=B.length;let se=0;let oe=0;const Qe=Array(F+1).fill(null).map((()=>Array(K+1).fill(0)));for(let Re=1;Re<=F;Re++){for(let F=1;F<=K;F++){if(b[Re-1]===B[F-1]){Qe[Re][F]=Qe[Re-1][F-1]+1;if(Qe[Re][F]>se){se=Qe[Re][F];oe=Re}}}}return b.slice(oe-se,oe)}0&&0},4419:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT:()=>Le,DEFAULT_PLAYWRIGHT_TIMEOUT:()=>Me,monotonicTime:()=>monotonicTime,setTimeOrigin:()=>setTimeOrigin,timeOrigin:()=>timeOrigin});b.exports=__toCommonJS(oe);let Qe=performance.timeOrigin;let Re=0;function setTimeOrigin(b){Qe=b;Re=performance.timeOrigin-b}function timeOrigin(){return Qe}function monotonicTime(){return Math.floor((performance.now()+Re)*1e3)/1e3}const Me=3e4;const Le=3*60*1e3;0&&0},9965:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{pollAgainstDeadline:()=>pollAgainstDeadline,raceAgainstDeadline:()=>raceAgainstDeadline});b.exports=__toCommonJS(Re);var Me=F(4419);async function raceAgainstDeadline(b,B){let F;return Promise.race([b().then((b=>({result:b,timedOut:false}))),new Promise((b=>{const K=2147483647;const se=(B||K)-(0,Me.monotonicTime)();F=setTimeout((()=>b({timedOut:true})),se)}))]).finally((()=>{clearTimeout(F)}))}async function pollAgainstDeadline(b,B,F=[100,250,500,1e3]){const K=F.pop()??1e3;let se;const wrappedCallback=()=>Promise.resolve().then(b);while(true){const b=(0,Me.monotonicTime)();if(B&&b>=B)break;const oe=await raceAgainstDeadline(wrappedCallback,B);if(oe.timedOut)break;se=oe.result.result;if(!oe.result.continuePolling)return{result:se,timedOut:false};const Qe=F.shift()??K;if(B&&B<=(0,Me.monotonicTime)()+Qe)break;await new Promise((b=>setTimeout(b,Qe)))}return{timedOut:true,result:se}}0&&0},7768:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{parseClientSideCallMetadata:()=>parseClientSideCallMetadata,serializeClientSideCallMetadata:()=>serializeClientSideCallMetadata});b.exports=__toCommonJS(oe);function parseClientSideCallMetadata(b){const B=new Map;const{files:F,stacks:K}=b;for(const b of K){const[K,se]=b;B.set(`call@${K}`,se.map((b=>({file:F[b[0]],line:b[1],column:b[2],function:b[3]}))))}return B}function serializeClientSideCallMetadata(b){const B=new Map;const F=[];for(const K of b){if(!K.stack||!K.stack.length)continue;const b=[];for(const F of K.stack){let K=B.get(F.file);if(typeof K!=="number"){K=B.size;B.set(F.file,K)}const se=[K,F.line||0,F.column||0,F.function||""];b.push(se)}F.push([K.id,b])}return{files:[...B.keys()],stacks:F}}0&&0},2164:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{constructURLBasedOnBaseURL:()=>constructURLBasedOnBaseURL,globToRegexPattern:()=>globToRegexPattern,resolveGlobToRegexPattern:()=>resolveGlobToRegexPattern,urlMatches:()=>urlMatches,urlMatchesEqual:()=>urlMatchesEqual});b.exports=__toCommonJS(Re);var Me=F(302);const Le=new Set(["$","^","+",".","*","(",")","|","\\","?","{","}","[","]"]);function globToRegexPattern(b){const B=["^"];let F=false;for(let K=0;K<b.length;++K){const se=b[K];if(se==="\\"&&K+1<b.length){const F=b[++K];B.push(Le.has(F)?"\\"+F:F);continue}if(se==="*"){const F=b[K-1];let se=1;while(b[K+1]==="*"){se++;K++}if(se>1){const se=b[K+1];if(se==="/"){if(F==="/")B.push("((.+/)|)");else B.push("(.*/)");++K}else{B.push("(.*)")}}else{B.push("([^/]*)")}continue}switch(se){case"{":F=true;B.push("(");break;case"}":F=false;B.push(")");break;case",":if(F){B.push("|");break}B.push("\\"+se);break;default:B.push(Le.has(se)?"\\"+se:se)}}B.push("$");return B.join("")}function isRegExp(b){return b instanceof RegExp||Object.prototype.toString.call(b)==="[object RegExp]"}function urlMatchesEqual(b,B){if(isRegExp(b)&&isRegExp(B))return b.source===B.source&&b.flags===B.flags;return b===B}function urlMatches(b,B,F,K){if(F===void 0||F==="")return true;if((0,Me.isString)(F))F=new RegExp(resolveGlobToRegexPattern(b,F,K));if(isRegExp(F)){const b=F.test(B);return b}const se=parseURL(B);if(!se)return false;if(typeof F!=="function")throw new Error("url parameter should be string, RegExp or function");return F(se)}function resolveGlobToRegexPattern(b,B,F){if(F)b=toWebSocketBaseUrl(b);B=resolveGlobBase(b,B);return globToRegexPattern(B)}function toWebSocketBaseUrl(b){if(b&&/^https?:\/\//.test(b))b=b.replace(/^http/,"ws");return b}function resolveGlobBase(b,B){if(!B.startsWith("*")){let mapToken2=function(b,B){if(b.length===0)return"";K.set(B,b);return B};var F=mapToken2;const K=new Map;B=B.replaceAll(/\\\\\?/g,"?");if(B.startsWith("about:")||B.startsWith("data:")||B.startsWith("chrome:")||B.startsWith("edge:")||B.startsWith("file:"))return B;const se=B.split("/").map(((b,B)=>{if(b==="."||b===".."||b==="")return b;if(B===0&&b.endsWith(":")){if(b.indexOf("*")!==-1||b.indexOf("{")!==-1)return mapToken2(b,"http:");return b}const F=b.indexOf("?");if(F===-1)return mapToken2(b,`$_${B}_$`);const K=mapToken2(b.substring(0,F),`$_${B}_$`);const se=mapToken2(b.substring(F),`?$_${B}_$`);return K+se})).join("/");const oe=resolveBaseURL(b,se);let Qe=oe.resolved;for(const[b,B]of K){const F=oe.caseInsensitivePart?.includes(b);Qe=Qe.replace(b,F?B.toLowerCase():B)}B=Qe}return B}function parseURL(b){try{return new URL(b)}catch(b){return null}}function constructURLBasedOnBaseURL(b,B){try{return resolveBaseURL(b,B).resolved}catch(b){return B}}function resolveBaseURL(b,B){try{const F=new URL(B,b);const K=F.toString();const se=F.origin;return{resolved:K,caseInsensitivePart:se}}catch(b){return{resolved:B}}}0&&0},5334:b=>{"use strict";var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var __export=(b,F)=>{for(var K in F)B(b,K,{get:F[K],enumerable:true})};var __copyProps=(b,oe,Qe,Re)=>{if(oe&&typeof oe==="object"||typeof oe==="function"){for(let Me of K(oe))if(!se.call(b,Me)&&Me!==Qe)B(b,Me,{get:()=>oe[Me],enumerable:!(Re=F(oe,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(B({},"__esModule",{value:true}),b);var oe={};__export(oe,{parseEvaluationResultValue:()=>parseEvaluationResultValue,serializeAsCallArgument:()=>serializeAsCallArgument});b.exports=__toCommonJS(oe);function isRegExp(b){try{return b instanceof RegExp||Object.prototype.toString.call(b)==="[object RegExp]"}catch(b){return false}}function isDate(b){try{return b instanceof Date||Object.prototype.toString.call(b)==="[object Date]"}catch(b){return false}}function isURL(b){try{return b instanceof URL||Object.prototype.toString.call(b)==="[object URL]"}catch(b){return false}}function isError(b){try{return b instanceof Error||b&&Object.getPrototypeOf(b)?.name==="Error"}catch(b){return false}}function isTypedArray(b,B){try{return b instanceof B||Object.prototype.toString.call(b)===`[object ${B.name}]`}catch(b){return false}}const Qe={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,bi64:BigInt64Array,bui64:BigUint64Array};function typedArrayToBase64(b){if("toBase64"in b)return b.toBase64();const B=Array.from(new Uint8Array(b.buffer,b.byteOffset,b.byteLength)).map((b=>String.fromCharCode(b))).join("");return btoa(B)}function base64ToTypedArray(b,B){const F=atob(b);const K=new Uint8Array(F.length);for(let b=0;b<F.length;b++)K[b]=F.charCodeAt(b);return new B(K.buffer)}function parseEvaluationResultValue(b,B=[],F=new Map){if(Object.is(b,void 0))return void 0;if(typeof b==="object"&&b){if("ref"in b)return F.get(b.ref);if("v"in b){if(b.v==="undefined")return void 0;if(b.v==="null")return null;if(b.v==="NaN")return NaN;if(b.v==="Infinity")return Infinity;if(b.v==="-Infinity")return-Infinity;if(b.v==="-0")return-0;return void 0}if("d"in b){return new Date(b.d)}if("u"in b)return new URL(b.u);if("bi"in b)return BigInt(b.bi);if("e"in b){const B=new Error(b.e.m);B.name=b.e.n;B.stack=b.e.s;return B}if("r"in b)return new RegExp(b.r.p,b.r.f);if("a"in b){const K=[];F.set(b.id,K);for(const se of b.a)K.push(parseEvaluationResultValue(se,B,F));return K}if("o"in b){const K={};F.set(b.id,K);for(const{k:se,v:oe}of b.o){if(se==="__proto__")continue;K[se]=parseEvaluationResultValue(oe,B,F)}return K}if("h"in b)return B[b.h];if("ta"in b)return base64ToTypedArray(b.ta.b,Qe[b.ta.k])}return b}function serializeAsCallArgument(b,B){return serialize(b,B,{visited:new Map,lastId:0})}function serialize(b,B,F){if(b&&typeof b==="object"){if(typeof globalThis.Window==="function"&&b instanceof globalThis.Window)return"ref: <Window>";if(typeof globalThis.Document==="function"&&b instanceof globalThis.Document)return"ref: <Document>";if(typeof globalThis.Node==="function"&&b instanceof globalThis.Node)return"ref: <Node>"}return innerSerialize(b,B,F)}function innerSerialize(b,B,F){const K=B(b);if("fallThrough"in K)b=K.fallThrough;else return K;if(typeof b==="symbol")return{v:"undefined"};if(Object.is(b,void 0))return{v:"undefined"};if(Object.is(b,null))return{v:"null"};if(Object.is(b,NaN))return{v:"NaN"};if(Object.is(b,Infinity))return{v:"Infinity"};if(Object.is(b,-Infinity))return{v:"-Infinity"};if(Object.is(b,-0))return{v:"-0"};if(typeof b==="boolean")return b;if(typeof b==="number")return b;if(typeof b==="string")return b;if(typeof b==="bigint")return{bi:b.toString()};if(isError(b)){let B;if(b.stack?.startsWith(b.name+": "+b.message)){B=b.stack}else{B=`${b.name}: ${b.message}\n${b.stack}`}return{e:{n:b.name,m:b.message,s:B}}}if(isDate(b))return{d:b.toJSON()};if(isURL(b))return{u:b.toJSON()};if(isRegExp(b))return{r:{p:b.source,f:b.flags}};for(const[B,F]of Object.entries(Qe)){if(isTypedArray(b,F))return{ta:{b:typedArrayToBase64(b),k:B}}}const se=F.visited.get(b);if(se)return{ref:se};if(Array.isArray(b)){const K=[];const se=++F.lastId;F.visited.set(b,se);for(let se=0;se<b.length;++se)K.push(serialize(b[se],B,F));return{a:K,id:se}}if(typeof b==="object"){const K=[];const se=++F.lastId;F.visited.set(b,se);for(const se of Object.keys(b)){let oe;try{oe=b[se]}catch(b){continue}if(se==="toJSON"&&typeof oe==="function")K.push({k:se,v:{o:[],id:0}});else K.push({k:se,v:serialize(oe,B,F)})}let oe;try{if(K.length===0&&b.toJSON&&typeof b.toJSON==="function")oe={value:b.toJSON()}}catch(b){}if(oe)return innerSerialize(oe.value,B,F);return{o:K,id:se}}}0&&0},6327:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{HttpsProxyAgent:()=>$e,PNG:()=>it,ProgramOption:()=>at,SocksProxyAgent:()=>ut,colors:()=>Me,debug:()=>Le,diff:()=>We,dotenv:()=>Ge,getProxyForUrl:()=>ze,jpegjs:()=>Ye,lockfile:()=>Ke,mime:()=>Xe,minimatch:()=>et,ms:()=>ms,open:()=>rt,program:()=>ot,progress:()=>lt,ws:()=>dt,wsReceiver:()=>pt,wsSender:()=>ft,wsServer:()=>ht,yaml:()=>mt,zod:()=>vt});b.exports=__toCommonJS(Re);const Me=F(9274).colors;const Le=F(9274).debug;const We=F(9274).diff;const Ge=F(9274).dotenv;const ze=F(9274).getProxyForUrl;const $e=F(9274).HttpsProxyAgent;const Ye=F(9274).jpegjs;const Ke=F(9274).lockfile;const Xe=F(9274).mime;const et=F(9274).minimatch;const rt=F(9274).open;const it=F(9274).PNG;const ot=F(9274).program;const at=F(9274).ProgramOption;const lt=F(9274).progress;const ut=F(9274).SocksProxyAgent;const dt=F(9274).ws;const ht=F(9274).wsServer;const pt=F(9274).wsReceiver;const ft=F(9274).wsSender;const mt=F(9274).yaml;const vt=F(9274).zod;function ms(b){if(!isFinite(b))return"-";if(b===0)return"0ms";if(b<1e3)return b.toFixed(0)+"ms";const B=b/1e3;if(B<60)return B.toFixed(1)+"s";const F=B/60;if(F<60)return F.toFixed(1)+"m";const K=F/60;if(K<24)return K.toFixed(1)+"h";const se=K/24;return se.toFixed(1)+"d"}0&&0},9274:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf,Me=Object.prototype.hasOwnProperty;var w=(b,B)=>()=>(B||b((B={exports:{}}).exports,B),B.exports),Ll=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:!0})},Lh=(b,B,F,K)=>{if(B&&typeof B=="object"||typeof B=="function")for(let Re of Qe(B))!Me.call(b,Re)&&Re!==F&&se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable});return b};var Je=(b,B,F)=>(F=b!=null?K(Re(b)):{},Lh(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:!0}):F,b)),fx=b=>Lh(se({},"__esModule",{value:!0}),b);var Le=w(((b,B)=>{var F={};B.exports=F;var K={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(K).forEach((function(b){var B=K[b],se=F[b]=[];se.open="["+B[0]+"m",se.close="["+B[1]+"m"}))}));var We=w(((b,B)=>{"use strict";B.exports=function(b,B){B=B||process.argv;var F=B.indexOf("--"),K=/^-{1,2}/.test(b)?"":"--",se=B.indexOf(K+b);return se!==-1&&(F===-1?!0:se<F)}}));var Ge=w(((b,B)=>{"use strict";var K=F(857),se=We(),oe=process.env,Qe=void 0;se("no-color")||se("no-colors")||se("color=false")?Qe=!1:(se("color")||se("colors")||se("color=true")||se("color=always"))&&(Qe=!0);"FORCE_COLOR"in oe&&(Qe=oe.FORCE_COLOR.length===0||parseInt(oe.FORCE_COLOR,10)!==0);function dx(b){return b===0?!1:{level:b,hasBasic:!0,has256:b>=2,has16m:b>=3}}function px(b){if(Qe===!1)return 0;if(se("color=16m")||se("color=full")||se("color=truecolor"))return 3;if(se("color=256"))return 2;if(b&&!b.isTTY&&Qe!==!0)return 0;var B=Qe?1:0;if(process.platform==="win32"){var F=K.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(F[0])>=10&&Number(F[2])>=10586?Number(F[2])>=14931?3:2:1}if("CI"in oe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(b){return b in oe}))||oe.CI_NAME==="codeship"?1:B;if("TEAMCITY_VERSION"in oe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(oe.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in oe){var Re=parseInt((oe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(oe.TERM_PROGRAM){case"iTerm.app":return Re>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(oe.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(oe.TERM)||"COLORTERM"in oe?1:(oe.TERM==="dumb",B)}function Bl(b){var B=px(b);return dx(B)}B.exports={supportsColor:Bl,stdout:Bl(process.stdout),stderr:Bl(process.stderr)}}));var ze=w(((b,B)=>{B.exports=function(b,B){var F="";b=b||"Run the trap, drop the bass",b=b.split("");var K={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return b.forEach((function(b){b=b.toLowerCase();var B=K[b]||[" "],se=Math.floor(Math.random()*B.length);typeof K[b]!="undefined"?F+=K[b][se]:F+=b})),F}}));var $e=w(((b,B)=>{B.exports=function(b,B){b=b||"   he is here   ";var F={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},K=[].concat(F.up,F.down,F.mid);function s(b){var B=Math.floor(Math.random()*b);return B}function a(b){var B=!1;return K.filter((function(F){B=F===b})),B}function o(b,B){var K="",se,oe;B=B||{},B.up=typeof B.up!="undefined"?B.up:!0,B.mid=typeof B.mid!="undefined"?B.mid:!0,B.down=typeof B.down!="undefined"?B.down:!0,B.size=typeof B.size!="undefined"?B.size:"maxi",b=b.split("");for(oe in b)if(!a(oe)){switch(K=K+b[oe],se={up:0,down:0,mid:0},B.size){case"mini":se.up=s(8),se.mid=s(2),se.down=s(8);break;case"maxi":se.up=s(16)+3,se.mid=s(4)+1,se.down=s(64)+3;break;default:se.up=s(8)+1,se.mid=s(6)/2,se.down=s(8)+1;break}var Qe=["up","mid","down"];for(var Re in Qe)for(var Me=Qe[Re],Le=0;Le<=se[Me];Le++)B[Me]&&(K=K+F[Me][s(F[Me].length)])}return K}return o(b,B)}}));var Ye=w(((b,B)=>{B.exports=function(b){return function(B,F,K){if(B===" ")return B;switch(F%3){case 0:return b.red(B);case 1:return b.white(B);case 2:return b.blue(B)}}}}));var Ke=w(((b,B)=>{B.exports=function(b){return function(B,F,K){return F%2===0?B:b.inverse(B)}}}));var Xe=w(((b,B)=>{B.exports=function(b){var B=["red","yellow","green","blue","magenta"];return function(F,K,se){return F===" "?F:b[B[K++%B.length]](F)}}}));var et=w(((b,B)=>{B.exports=function(b){var B=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(F,K,se){return F===" "?F:b[B[Math.round(Math.random()*(B.length-2))]](F)}}}));var rt=w(((b,B)=>{var K={};B.exports=K;K.themes={};var se=F(9023),oe=K.styles=Le(),Qe=Object.defineProperties,Re=new RegExp(/[\r\n]+/g);K.supportsColor=Ge().supportsColor;typeof K.enabled=="undefined"&&(K.enabled=K.supportsColor()!==!1);K.enable=function(){K.enabled=!0};K.disable=function(){K.enabled=!1};K.stripColors=K.strip=function(b){return(""+b).replace(/\x1B\[\d+m/g,"")};var Me=K.stylize=function(b,B){if(!K.enabled)return b+"";var F=oe[B];return!F&&B in K?K[B](b):F.open+b+F.close},We=/[|\\{}()[\]^$+*?.]/g,yx=function(b){if(typeof b!="string")throw new TypeError("Expected a string");return b.replace(We,"\\$&")};function td(b){var B=function t(){return bx.apply(t,arguments)};return B._styles=b,B.__proto__=it,B}var rt=function(){var b={};return oe.grey=oe.gray,Object.keys(oe).forEach((function(B){oe[B].closeRe=new RegExp(yx(oe[B].close),"g"),b[B]={get:function(){return td(this._styles.concat(B))}}})),b}(),it=Qe((function(){}),rt);function bx(){var b=Array.prototype.slice.call(arguments),B=b.map((function(b){return b!=null&&b.constructor===String?b:se.inspect(b)})).join(" ");if(!K.enabled||!B)return B;for(var F=B.indexOf(`\n`)!=-1,Qe=this._styles,Me=Qe.length;Me--;){var Le=oe[Qe[Me]];B=Le.open+B.replace(Le.closeRe,Le.open)+Le.close,F&&(B=B.replace(Re,(function(b){return Le.close+b+Le.open})))}return B}K.setTheme=function(b){if(typeof b=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var B in b)(function(B){K[B]=function(F){if(typeof b[B]=="object"){var se=F;for(var oe in b[B])se=K[b[B][oe]](se);return se}return K[b[B]](F)}})(B)};function xx(){var b={};return Object.keys(rt).forEach((function(B){b[B]={get:function(){return td([B])}}})),b}var wx=function(b,B){var F=B.split("");return F=F.map(b),F.join("")};K.trap=ze();K.zalgo=$e();K.maps={};K.maps.america=Ye()(K);K.maps.zebra=Ke()(K);K.maps.rainbow=Xe()(K);K.maps.random=et()(K);for(ot in K.maps)(function(b){K[b]=function(B){return wx(K.maps[b],B)}})(ot);var ot;Qe(K,xx())}));var it=w(((b,B)=>{var F=rt();B.exports=F}));var ot=w(((b,B)=>{var F=1e3,K=F*60,se=K*60,oe=se*24,Qe=oe*7,Re=oe*365.25;B.exports=function(b,B){B=B||{};var F=typeof b;if(F==="string"&&b.length>0)return Ox(b);if(F==="number"&&isFinite(b))return B.long?Tx(b):Cx(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function Ox(b){if(b=String(b),!(b.length>100)){var B=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(B){var Me=parseFloat(B[1]),Le=(B[2]||"ms").toLowerCase();switch(Le){case"years":case"year":case"yrs":case"yr":case"y":return Me*Re;case"weeks":case"week":case"w":return Me*Qe;case"days":case"day":case"d":return Me*oe;case"hours":case"hour":case"hrs":case"hr":case"h":return Me*se;case"minutes":case"minute":case"mins":case"min":case"m":return Me*K;case"seconds":case"second":case"secs":case"sec":case"s":return Me*F;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Me;default:return}}}}function Cx(b){var B=Math.abs(b);return B>=oe?Math.round(b/oe)+"d":B>=se?Math.round(b/se)+"h":B>=K?Math.round(b/K)+"m":B>=F?Math.round(b/F)+"s":b+"ms"}function Tx(b){var B=Math.abs(b);return B>=oe?va(b,B,oe,"day"):B>=se?va(b,B,se,"hour"):B>=K?va(b,B,K,"minute"):B>=F?va(b,B,F,"second"):b+" ms"}function va(b,B,F,K){var se=B>=F*1.5;return Math.round(b/F)+" "+K+(se?"s":"")}}));var at=w(((b,B)=>{function Ax(b){t.debug=t,t.default=t,t.coerce=l,t.disable=s,t.enable=n,t.enabled=a,t.humanize=ot(),t.destroy=c,Object.keys(b).forEach((B=>{t[B]=b[B]})),t.names=[],t.skips=[],t.formatters={};function e(b){let B=0;for(let F=0;F<b.length;F++)B=(B<<5)-B+b.charCodeAt(F),B|=0;return t.colors[Math.abs(B)%t.colors.length]}t.selectColor=e;function t(b){let B,F=null,K,se;function y(...b){if(!y.enabled)return;let F=y,K=Number(new Date),se=K-(B||K);F.diff=se,F.prev=B,F.curr=K,B=K,b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let oe=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,((B,K)=>{if(B==="%%")return"%";oe++;let se=t.formatters[K];if(typeof se=="function"){let K=b[oe];B=se.call(F,K),b.splice(oe,1),oe--}return B})),t.formatArgs.call(F,b),(F.log||t.log).apply(F,b)}return y.namespace=b,y.useColors=t.useColors(),y.color=t.selectColor(b),y.extend=i,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>F!==null?F:(K!==t.namespaces&&(K=t.namespaces,se=t.enabled(b)),se),set:b=>{F=b}}),typeof t.init=="function"&&t.init(y),y}function i(b,B){let F=t(this.namespace+(typeof B=="undefined"?":":B)+b);return F.log=this.log,F}function n(b){t.save(b),t.namespaces=b,t.names=[],t.skips=[];let B,F=(typeof b=="string"?b:"").split(/[\s,]+/),K=F.length;for(B=0;B<K;B++)F[B]&&(b=F[B].replace(/\*/g,".*?"),b[0]==="-"?t.skips.push(new RegExp("^"+b.slice(1)+"$")):t.names.push(new RegExp("^"+b+"$")))}function s(){let b=[...t.names.map(o),...t.skips.map(o).map((b=>"-"+b))].join(",");return t.enable(""),b}function a(b){if(b[b.length-1]==="*")return!0;let B,F;for(B=0,F=t.skips.length;B<F;B++)if(t.skips[B].test(b))return!1;for(B=0,F=t.names.length;B<F;B++)if(t.names[B].test(b))return!0;return!1}function o(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}function l(b){return b instanceof Error?b.stack||b.message:b}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}B.exports=Ax}));var lt=w(((b,B)=>{b.formatArgs=Nx;b.save=Lx;b.load=Bx;b.useColors=Ix;b.storage=Rx();b.destroy=(()=>{let b=!1;return()=>{b||(b=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();b.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ix(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Nx(b){if(b[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+b[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),!this.useColors)return;let F="color: "+this.color;b.splice(1,0,F,"color: inherit");let K=0,se=0;b[0].replace(/%[a-zA-Z%]/g,(b=>{b!=="%%"&&(K++,b==="%c"&&(se=K))})),b.splice(se,0,F)}b.log=console.debug||console.log||(()=>{});function Lx(B){try{B?b.storage.setItem("debug",B):b.storage.removeItem("debug")}catch{}}function Bx(){let B;try{B=b.storage.getItem("debug")}catch{}return!B&&typeof process!="undefined"&&"env"in process&&(B=process.env.DEBUG),B}function Rx(){try{return localStorage}catch{}}B.exports=at()(b);var{formatters:F}=B.exports;F.j=function(b){try{return JSON.stringify(b)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}}}));var ut=w(((b,B)=>{"use strict";B.exports=(b,B=process.argv)=>{let F=b.startsWith("-")?"":b.length===1?"-":"--",K=B.indexOf(F+b),se=B.indexOf("--");return K!==-1&&(se===-1||K<se)}}));var dt=w(((b,B)=>{"use strict";var K=F(857),se=F(2018),oe=ut(),{env:Qe}=process,Re;oe("no-color")||oe("no-colors")||oe("color=false")||oe("color=never")?Re=0:(oe("color")||oe("colors")||oe("color=true")||oe("color=always"))&&(Re=1);function Dx(){if("FORCE_COLOR"in Qe)return Qe.FORCE_COLOR==="true"?1:Qe.FORCE_COLOR==="false"?0:Qe.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Qe.FORCE_COLOR,10),3)}function Fx(b){return b===0?!1:{level:b,hasBasic:!0,has256:b>=2,has16m:b>=3}}function qx(b,{streamIsTTY:B,sniffFlags:F=!0}={}){let se=Dx();se!==void 0&&(Re=se);let Me=F?Re:se;if(Me===0)return 0;if(F){if(oe("color=16m")||oe("color=full")||oe("color=truecolor"))return 3;if(oe("color=256"))return 2}if(b&&!B&&Me===void 0)return 0;let Le=Me||0;if(Qe.TERM==="dumb")return Le;if(process.platform==="win32"){let b=K.release().split(".");return Number(b[0])>=10&&Number(b[2])>=10586?Number(b[2])>=14931?3:2:1}if("CI"in Qe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((b=>b in Qe))||Qe.CI_NAME==="codeship"?1:Le;if("TEAMCITY_VERSION"in Qe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Qe.TEAMCITY_VERSION)?1:0;if(Qe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Qe){let b=Number.parseInt((Qe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Qe.TERM_PROGRAM){case"iTerm.app":return b>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Qe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Qe.TERM)||"COLORTERM"in Qe?1:Le}function Pl(b,B={}){let F=qx(b,{streamIsTTY:b&&b.isTTY,...B});return Fx(F)}B.exports={supportsColor:Pl,stdout:Pl({isTTY:se.isatty(1)}),stderr:Pl({isTTY:se.isatty(2)})}}));var ht=w(((b,B)=>{var K=F(2018),se=F(9023);b.init=zx;b.log=Hx;b.formatArgs=$x;b.save=Gx;b.load=Wx;b.useColors=Ux;b.destroy=se.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");b.colors=[6,2,3,4,5,1];try{let B=dt();B&&(B.stderr||B).level>=2&&(b.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}b.inspectOpts=Object.keys(process.env).filter((b=>/^debug_/i.test(b))).reduce(((b,B)=>{let F=B.substring(6).toLowerCase().replace(/_([a-z])/g,((b,B)=>B.toUpperCase())),K=process.env[B];return/^(yes|on|true|enabled)$/i.test(K)?K=!0:/^(no|off|false|disabled)$/i.test(K)?K=!1:K==="null"?K=null:K=Number(K),b[F]=K,b}),{});function Ux(){return"colors"in b.inspectOpts?!!b.inspectOpts.colors:K.isatty(process.stderr.fd)}function $x(b){let{namespace:F,useColors:K}=this;if(K){let K=this.color,se="[3"+(K<8?K:"8;5;"+K),oe=`  ${se};1m${F} [0m`;b[0]=oe+b[0].split(`\n`).join(`\n`+oe),b.push(se+"m+"+B.exports.humanize(this.diff)+"[0m")}else b[0]=Vx()+F+" "+b[0]}function Vx(){return b.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function Hx(...b){return process.stderr.write(se.format(...b)+`\n`)}function Gx(b){b?process.env.DEBUG=b:delete process.env.DEBUG}function Wx(){return process.env.DEBUG}function zx(B){B.inspectOpts={};let F=Object.keys(b.inspectOpts);for(let K=0;K<F.length;K++)B.inspectOpts[F[K]]=b.inspectOpts[F[K]]}B.exports=at()(b);var{formatters:oe}=B.exports;oe.o=function(b){return this.inspectOpts.colors=this.useColors,se.inspect(b,this.inspectOpts).split(`\n`).map((b=>b.trim())).join(" ")};oe.O=function(b){return this.inspectOpts.colors=this.useColors,se.inspect(b,this.inspectOpts)}}));var pt=w(((b,B)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?B.exports=lt():B.exports=ht()}));var ft=w(((b,B)=>{B.exports={name:"dotenv",version:"16.4.5",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}));var mt=w(((b,B)=>{var K=F(9896),se=F(6928),oe=F(857),Qe=F(6982),Re=ft(),Me=Re.version,Le=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function Rw(b){let B={},F=b.toString();F=F.replace(/\r\n?/gm,`\n`);let K;for(;(K=Le.exec(F))!=null;){let b=K[1],F=K[2]||"";F=F.trim();let se=F[0];F=F.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),se==='"'&&(F=F.replace(/\\n/g,`\n`),F=F.replace(/\\r/g,"\r")),B[b]=F}return B}function Pw(b){let B=Gd(b),F=We.configDotenv({path:B});if(!F.parsed){let b=new Error(`MISSING_DATA: Cannot parse ${B} for an unknown reason`);throw b.code="MISSING_DATA",b}let K=Hd(b).split(","),se=K.length,oe;for(let b=0;b<se;b++)try{let B=K[b].trim(),se=Fw(F,B);oe=We.decrypt(se.ciphertext,se.key);break}catch(B){if(b+1>=se)throw B}return We.parse(oe)}function Mw(b){console.log(`[dotenv@${Me}][INFO] ${b}`)}function Dw(b){console.log(`[dotenv@${Me}][WARN] ${b}`)}function Ia(b){console.log(`[dotenv@${Me}][DEBUG] ${b}`)}function Hd(b){return b&&b.DOTENV_KEY&&b.DOTENV_KEY.length>0?b.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function Fw(b,B){let F;try{F=new URL(B)}catch(b){if(b.code==="ERR_INVALID_URL"){let b=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw b.code="INVALID_DOTENV_KEY",b}throw b}let K=F.password;if(!K){let b=new Error("INVALID_DOTENV_KEY: Missing key part");throw b.code="INVALID_DOTENV_KEY",b}let se=F.searchParams.get("environment");if(!se){let b=new Error("INVALID_DOTENV_KEY: Missing environment part");throw b.code="INVALID_DOTENV_KEY",b}let oe=`DOTENV_VAULT_${se.toUpperCase()}`,Qe=b.parsed[oe];if(!Qe){let b=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${oe} in your .env.vault file.`);throw b.code="NOT_FOUND_DOTENV_ENVIRONMENT",b}return{ciphertext:Qe,key:K}}function Gd(b){let B=null;if(b&&b.path&&b.path.length>0)if(Array.isArray(b.path))for(let F of b.path)K.existsSync(F)&&(B=F.endsWith(".vault")?F:`${F}.vault`);else B=b.path.endsWith(".vault")?b.path:`${b.path}.vault`;else B=se.resolve(process.cwd(),".env.vault");return K.existsSync(B)?B:null}function Vd(b){return b[0]==="~"?se.join(oe.homedir(),b.slice(1)):b}function qw(b){Mw("Loading env from encrypted .env.vault");let B=We._parseVault(b),F=process.env;return b&&b.processEnv!=null&&(F=b.processEnv),We.populate(F,B,b),{parsed:B}}function jw(b){let B=se.resolve(process.cwd(),".env"),F="utf8",oe=!!(b&&b.debug);b&&b.encoding?F=b.encoding:oe&&Ia("No encoding is specified. UTF-8 is used by default");let Qe=[B];if(b&&b.path)if(!Array.isArray(b.path))Qe=[Vd(b.path)];else{Qe=[];for(let B of b.path)Qe.push(Vd(B))}let Re,Me={};for(let B of Qe)try{let se=We.parse(K.readFileSync(B,{encoding:F}));We.populate(Me,se,b)}catch(b){oe&&Ia(`Failed to load ${B} ${b.message}`),Re=b}let Le=process.env;return b&&b.processEnv!=null&&(Le=b.processEnv),We.populate(Le,Me,b),Re?{parsed:Me,error:Re}:{parsed:Me}}function Uw(b){if(Hd(b).length===0)return We.configDotenv(b);let B=Gd(b);return B?We._configVault(b):(Dw(`You set DOTENV_KEY but you are missing a .env.vault file at ${B}. Did you forget to build it?`),We.configDotenv(b))}function $w(b,B){let F=Buffer.from(B.slice(-64),"hex"),K=Buffer.from(b,"base64"),se=K.subarray(0,12),oe=K.subarray(-16);K=K.subarray(12,-16);try{let b=Qe.createDecipheriv("aes-256-gcm",F,se);return b.setAuthTag(oe),`${b.update(K)}${b.final()}`}catch(b){let B=b instanceof RangeError,F=b.message==="Invalid key length",K=b.message==="Unsupported state or unable to authenticate data";if(B||F){let b=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw b.code="INVALID_DOTENV_KEY",b}else if(K){let b=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw b.code="DECRYPTION_FAILED",b}else throw b}}function Vw(b,B,F={}){let K=!!(F&&F.debug),se=!!(F&&F.override);if(typeof B!="object"){let b=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw b.code="OBJECT_REQUIRED",b}for(let F of Object.keys(B))Object.prototype.hasOwnProperty.call(b,F)?(se===!0&&(b[F]=B[F]),K&&Ia(se===!0?`"${F}" is already defined and WAS overwritten`:`"${F}" is already defined and was NOT overwritten`)):b[F]=B[F]}var We={configDotenv:jw,_configVault:qw,_parseVault:Pw,config:Uw,decrypt:$w,parse:Rw,populate:Vw};B.exports.configDotenv=We.configDotenv;B.exports._configVault=We._configVault;B.exports._parseVault=We._parseVault;B.exports.config=We.config;B.exports.decrypt=We.decrypt;B.exports.parse=We.parse;B.exports.populate=We.populate;B.exports=We}));var vt=w((b=>{"use strict";var B=F(7016).parse,K={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},se=String.prototype.endsWith||function(b){return b.length<=this.length&&this.indexOf(b,this.length-b.length)!==-1};function zw(b){var F=typeof b=="string"?B(b):b||{},se=F.protocol,oe=F.host,Qe=F.port;if(typeof oe!="string"||!oe||typeof se!="string"||(se=se.split(":",1)[0],oe=oe.replace(/:\d*$/,""),Qe=parseInt(Qe)||K[se]||0,!Yw(oe,Qe)))return"";var Re=pn("npm_config_"+se+"_proxy")||pn(se+"_proxy")||pn("npm_config_proxy")||pn("all_proxy");return Re&&Re.indexOf("://")===-1&&(Re=se+"://"+Re),Re}function Yw(b,B){var F=(pn("npm_config_no_proxy")||pn("no_proxy")).toLowerCase();return F?F==="*"?!1:F.split(/[,\s]/).every((function(F){if(!F)return!0;var K=F.match(/^(.+):(\d+)$/),oe=K?K[1]:F,Qe=K?parseInt(K[2]):0;return Qe&&Qe!==B?!0:/^[.*]/.test(oe)?(oe.charAt(0)==="*"&&(oe=oe.slice(1)),!se.call(b,oe)):b!==oe})):!0}function pn(b){return process.env[b.toLowerCase()]||process.env[b.toUpperCase()]||""}b.getProxyForUrl=zw}));var yt=w((b=>{"use strict";var B=b&&b.__createBinding||(Object.create?function(b,B,F,K){K===void 0&&(K=F);var se=Object.getOwnPropertyDescriptor(B,F);(!se||("get"in se?!B.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(b,K,se)}:function(b,B,F,K){K===void 0&&(K=F),b[K]=B[F]}),K=b&&b.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:!0,value:B})}:function(b,B){b.default=B}),se=b&&b.__importStar||function(b){if(b&&b.__esModule)return b;var F={};if(b!=null)for(var se in b)se!=="default"&&Object.prototype.hasOwnProperty.call(b,se)&&B(F,b,se);return K(F,b),F};Object.defineProperty(b,"__esModule",{value:!0});b.req=b.json=b.toBuffer=void 0;var oe=se(F(8611)),Qe=se(F(5692));async function Zd(b){let B=0,F=[];for await(let K of b)B+=K.length,F.push(K);return Buffer.concat(F,B)}b.toBuffer=Zd;async function Xw(b){let B=(await Zd(b)).toString("utf8");try{return JSON.parse(B)}catch(b){let F=b;throw F.message+=` (input: ${B})`,F}}b.json=Xw;function e1(b,B={}){let F=((typeof b=="string"?b:b.href).startsWith("https:")?Qe:oe).request(b,B),K=new Promise(((b,B)=>{F.once("response",b).once("error",B).end()}));return F.then=K.then.bind(K),F}b.req=e1}));var wt=w((b=>{"use strict";var B=b&&b.__createBinding||(Object.create?function(b,B,F,K){K===void 0&&(K=F);var se=Object.getOwnPropertyDescriptor(B,F);(!se||("get"in se?!B.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(b,K,se)}:function(b,B,F,K){K===void 0&&(K=F),b[K]=B[F]}),K=b&&b.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:!0,value:B})}:function(b,B){b.default=B}),se=b&&b.__importStar||function(b){if(b&&b.__esModule)return b;var F={};if(b!=null)for(var se in b)se!=="default"&&Object.prototype.hasOwnProperty.call(b,se)&&B(F,b,se);return K(F,b),F},oe=b&&b.__exportStar||function(b,F){for(var K in b)K!=="default"&&!Object.prototype.hasOwnProperty.call(F,K)&&B(F,b,K)};Object.defineProperty(b,"__esModule",{value:!0});b.Agent=void 0;var Qe=se(F(9278)),Re=se(F(8611)),Me=F(5692);oe(yt(),b);var Le=Symbol("AgentBaseInternalState"),We=class extends Re.Agent{constructor(b){super(b),this[Le]={}}isSecureEndpoint(b){if(b){if(typeof b.secureEndpoint=="boolean")return b.secureEndpoint;if(typeof b.protocol=="string")return b.protocol==="https:"}let{stack:B}=new Error;return typeof B!="string"?!1:B.split(`\n`).some((b=>b.indexOf("(https.js:")!==-1||b.indexOf("node:https:")!==-1))}incrementSockets(b){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[b]||(this.sockets[b]=[]);let B=new Qe.Socket({writable:!1});return this.sockets[b].push(B),this.totalSocketCount++,B}decrementSockets(b,B){if(!this.sockets[b]||B===null)return;let F=this.sockets[b],K=F.indexOf(B);K!==-1&&(F.splice(K,1),this.totalSocketCount--,F.length===0&&delete this.sockets[b])}getName(b){return this.isSecureEndpoint(b)?Me.Agent.prototype.getName.call(this,b):super.getName(b)}createSocket(b,B,F){let K={...B,secureEndpoint:this.isSecureEndpoint(B)},se=this.getName(K),oe=this.incrementSockets(se);Promise.resolve().then((()=>this.connect(b,K))).then((Qe=>{if(this.decrementSockets(se,oe),Qe instanceof Re.Agent)try{return Qe.addRequest(b,K)}catch(b){return F(b)}this[Le].currentSocket=Qe,super.createSocket(b,B,F)}),(b=>{this.decrementSockets(se,oe),F(b)}))}createConnection(){let b=this[Le].currentSocket;if(this[Le].currentSocket=void 0,!b)throw new Error("No socket was returned in the `connect()` function");return b}get defaultPort(){var b;return(b=this[Le].defaultPort)!=null?b:this.protocol==="https:"?443:80}set defaultPort(b){this[Le]&&(this[Le].defaultPort=b)}get protocol(){var b;return(b=this[Le].protocol)!=null?b:this.isSecureEndpoint()?"https:":"http:"}set protocol(b){this[Le]&&(this[Le].protocol=b)}};b.Agent=We}));var _t=w((b=>{"use strict";var B=b&&b.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(b,"__esModule",{value:!0});b.parseProxyResponse=void 0;var F=B(pt()),K=(0,F.default)("https-proxy-agent:parse-proxy-response");function o1(b){return new Promise(((B,F)=>{let se=0,oe=[];function s(){let B=b.read();B?c(B):b.once("readable",s)}function a(){b.removeListener("end",o),b.removeListener("error",l),b.removeListener("readable",s)}function o(){a(),K("onend"),F(new Error("Proxy connection ended before receiving CONNECT response"))}function l(b){a(),K("onerror %o",b),F(b)}function c(Qe){oe.push(Qe),se+=Qe.length;let Re=Buffer.concat(oe,se),Me=Re.indexOf(`\r\n\r\n`);if(Me===-1){K("have not received end of HTTP headers yet..."),s();return}let Le=Re.slice(0,Me).toString("ascii").split(`\r\n`),We=Le.shift();if(!We)return b.destroy(),F(new Error("No header received from proxy CONNECT response"));let Ge=We.split(" "),ze=+Ge[1],$e=Ge.slice(2).join(" "),Ye={};for(let B of Le){if(!B)continue;let K=B.indexOf(":");if(K===-1)return b.destroy(),F(new Error(`Invalid header from proxy CONNECT response: "${B}"`));let se=B.slice(0,K).toLowerCase(),oe=B.slice(K+1).trimStart(),Qe=Ye[se];typeof Qe=="string"?Ye[se]=[Qe,oe]:Array.isArray(Qe)?Qe.push(oe):Ye[se]=oe}K("got proxy server response: %o %o",We,Ye),a(),B({connect:{statusCode:ze,statusText:$e,headers:Ye},buffered:Re})}b.on("error",l),b.on("end",o),s()}))}b.parseProxyResponse=o1}));var It=w((b=>{"use strict";var B=b&&b.__createBinding||(Object.create?function(b,B,F,K){K===void 0&&(K=F);var se=Object.getOwnPropertyDescriptor(B,F);(!se||("get"in se?!B.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(b,K,se)}:function(b,B,F,K){K===void 0&&(K=F),b[K]=B[F]}),K=b&&b.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:!0,value:B})}:function(b,B){b.default=B}),se=b&&b.__importStar||function(b){if(b&&b.__esModule)return b;var F={};if(b!=null)for(var se in b)se!=="default"&&Object.prototype.hasOwnProperty.call(b,se)&&B(F,b,se);return K(F,b),F},oe=b&&b.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(b,"__esModule",{value:!0});b.HttpsProxyAgent=void 0;var Qe=se(F(9278)),Re=se(F(4756)),Me=oe(F(2613)),Le=oe(pt()),We=wt(),Ge=F(7016),ze=_t(),$e=(0,Le.default)("https-proxy-agent"),ip=b=>b.servername===void 0&&b.host&&!Qe.isIP(b.host)?{...b,servername:b.host}:b,Ye=class extends We.Agent{constructor(b,B){var F;super(B),this.options={path:void 0},this.proxy=typeof b=="string"?new Ge.URL(b):b,this.proxyHeaders=(F=B==null?void 0:B.headers)!=null?F:{},$e("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let K=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),se=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...B?np(B,"headers"):null,host:K,port:se}}async connect(b,B){let{proxy:F}=this;if(!B.host)throw new TypeError('No "host" provided');let K;F.protocol==="https:"?($e("Creating `tls.Socket`: %o",this.connectOpts),K=Re.connect(ip(this.connectOpts))):($e("Creating `net.Socket`: %o",this.connectOpts),K=Qe.connect(this.connectOpts));let se=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},oe=Qe.isIPv6(B.host)?`[${B.host}]`:B.host,Le=`CONNECT ${oe}:${B.port} HTTP/1.1\r\n`;if(F.username||F.password){let b=`${decodeURIComponent(F.username)}:${decodeURIComponent(F.password)}`;se["Proxy-Authorization"]=`Basic ${Buffer.from(b).toString("base64")}`}se.Host=`${oe}:${B.port}`,se["Proxy-Connection"]||(se["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let b of Object.keys(se))Le+=`${b}: ${se[b]}\r\n`;let We=(0,ze.parseProxyResponse)(K);K.write(`${Le}\r\n`);let{connect:Ge,buffered:Ye}=await We;if(b.emit("proxyConnect",Ge),this.emit("proxyConnect",Ge,b),Ge.statusCode===200)return b.once("socket",m1),B.secureEndpoint?($e("Upgrading socket connection to TLS"),Re.connect({...np(ip(B),"host","path","port"),socket:K})):K;K.destroy();let Ke=new Qe.Socket({writable:!1});return Ke.readable=!0,b.once("socket",(b=>{$e("Replaying proxy buffer for failed request"),(0,Me.default)(b.listenerCount("data")>0),b.push(Ye),b.push(null)})),Ke}};Ye.protocols=["http","https"];b.HttpsProxyAgent=Ye;function m1(b){b.resume()}function np(b,...B){let F={},K;for(K in b)B.includes(K)||(F[K]=b[K]);return F}}));var xt=w(((b,B)=>{var F=F||function(b){return Buffer.from(b).toString("base64")};function g1(b){var F=this,K=Math.round,se=Math.floor,oe=new Array(64),Qe=new Array(64),Re=new Array(64),Me=new Array(64),Le,We,Ge,ze,$e=new Array(65535),Ye=new Array(65535),Ke=new Array(64),Xe=new Array(64),et=[],rt=0,it=7,ot=new Array(64),at=new Array(64),lt=new Array(64),ut=new Array(256),dt=new Array(2048),ht,pt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ft=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],mt=[0,1,2,3,4,5,6,7,8,9,10,11],vt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],yt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],wt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_t=[0,1,2,3,4,5,6,7,8,9,10,11],It=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(b){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],F=0;F<64;F++){var K=se((B[F]*b+50)/100);K<1?K=1:K>255&&(K=255),oe[pt[F]]=K}for(var Le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],We=0;We<64;We++){var Ge=se((Le[We]*b+50)/100);Ge<1?Ge=1:Ge>255&&(Ge=255),Qe[pt[We]]=Ge}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,Ye=0;Ye<8;Ye++)for(var Ke=0;Ke<8;Ke++)Re[$e]=1/(oe[pt[$e]]*ze[Ye]*ze[Ke]*8),Me[$e]=1/(Qe[pt[$e]]*ze[Ye]*ze[Ke]*8),$e++}function Y(b,B){for(var F=0,K=0,se=new Array,oe=1;oe<=16;oe++){for(var Qe=1;Qe<=b[oe];Qe++)se[B[K]]=[],se[B[K]][0]=F,se[B[K]][1]=oe,K++,F++;F*=2}return se}function we(){Le=Y(ft,mt),We=Y(wt,_t),Ge=Y(vt,yt),ze=Y(It,xt)}function de(){for(var b=1,B=2,F=1;F<=15;F++){for(var K=b;K<B;K++)Ye[32767+K]=F,$e[32767+K]=[],$e[32767+K][1]=F,$e[32767+K][0]=K;for(var se=-(B-1);se<=-b;se++)Ye[32767+se]=F,$e[32767+se]=[],$e[32767+se][1]=F,$e[32767+se][0]=B-1+se;b<<=1,B<<=1}}function ue(){for(var b=0;b<256;b++)dt[b]=19595*b,dt[b+256>>0]=38470*b,dt[b+512>>0]=7471*b+32768,dt[b+768>>0]=-11059*b,dt[b+1024>>0]=-21709*b,dt[b+1280>>0]=32768*b+8421375,dt[b+1536>>0]=-27439*b,dt[b+1792>>0]=-5329*b}function ve(b){for(var B=b[0],F=b[1]-1;F>=0;)B&1<<F&&(rt|=1<<it),F--,it--,it<0&&(rt==255?(N(255),N(0)):N(rt),it=7,rt=0)}function N(b){et.push(b)}function ie(b){N(b>>8&255),N(b&255)}function Pe(b,B){var F,K,se,oe,Qe,Re,Me,Le,We=0,Ge,ze=8,$e=64;for(Ge=0;Ge<ze;++Ge){F=b[We],K=b[We+1],se=b[We+2],oe=b[We+3],Qe=b[We+4],Re=b[We+5],Me=b[We+6],Le=b[We+7];var Ye=F+Le,Xe=F-Le,et=K+Me,rt=K-Me,it=se+Re,ot=se-Re,at=oe+Qe,lt=oe-Qe,ut=Ye+at,dt=Ye-at,ht=et+it,pt=et-it;b[We]=ut+ht,b[We+4]=ut-ht;var ft=(pt+dt)*.707106781;b[We+2]=dt+ft,b[We+6]=dt-ft,ut=lt+ot,ht=ot+rt,pt=rt+Xe;var mt=(ut-pt)*.382683433,vt=.5411961*ut+mt,yt=1.306562965*pt+mt,wt=ht*.707106781,_t=Xe+wt,It=Xe-wt;b[We+5]=It+vt,b[We+3]=It-vt,b[We+1]=_t+yt,b[We+7]=_t-yt,We+=8}for(We=0,Ge=0;Ge<ze;++Ge){F=b[We],K=b[We+8],se=b[We+16],oe=b[We+24],Qe=b[We+32],Re=b[We+40],Me=b[We+48],Le=b[We+56];var xt=F+Le,Qt=F-Le,Tt=K+Me,Rt=K-Me,Pt=se+Re,Nt=se-Re,Ut=oe+Qe,Jt=oe-Qe,Zt=xt+Ut,tr=xt-Ut,rr=Tt+Pt,nr=Tt-Pt;b[We]=Zt+rr,b[We+32]=Zt-rr;var ir=(nr+tr)*.707106781;b[We+16]=tr+ir,b[We+48]=tr-ir,Zt=Jt+Nt,rr=Nt+Rt,nr=Rt+Qt;var ar=(Zt-nr)*.382683433,cr=.5411961*Zt+ar,dr=1.306562965*nr+ar,pr=rr*.707106781,gr=Qt+pr,mr=Qt-pr;b[We+40]=mr+cr,b[We+24]=mr-cr,b[We+8]=gr+dr,b[We+56]=gr-dr,We++}var yr;for(Ge=0;Ge<$e;++Ge)yr=b[Ge]*B[Ge],Ke[Ge]=yr>0?yr+.5|0:yr-.5|0;return Ke}function Te(){ie(65504),ie(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),ie(1),ie(1),N(0),N(0)}function Ee(b){if(b){ie(65505),b[0]===69&&b[1]===120&&b[2]===105&&b[3]===102?ie(b.length+2):(ie(b.length+5+2),N(69),N(120),N(105),N(102),N(0));for(var B=0;B<b.length;B++)N(b[B])}}function ke(b,B){ie(65472),ie(17),N(8),ie(B),ie(b),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}function ye(){ie(65499),ie(132),N(0);for(var b=0;b<64;b++)N(oe[b]);N(1);for(var B=0;B<64;B++)N(Qe[B])}function Q(){ie(65476),ie(418),N(0);for(var b=0;b<16;b++)N(ft[b+1]);for(var B=0;B<=11;B++)N(mt[B]);N(16);for(var F=0;F<16;F++)N(vt[F+1]);for(var K=0;K<=161;K++)N(yt[K]);N(1);for(var se=0;se<16;se++)N(wt[se+1]);for(var oe=0;oe<=11;oe++)N(_t[oe]);N(17);for(var Qe=0;Qe<16;Qe++)N(It[Qe+1]);for(var Re=0;Re<=161;Re++)N(xt[Re])}function V(b){typeof b=="undefined"||b.constructor!==Array||b.forEach((b=>{if(typeof b=="string"){ie(65534);var B=b.length;ie(B+2);var F;for(F=0;F<B;F++)N(b.charCodeAt(F))}}))}function De(){ie(65498),ie(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0)}function ce(b,B,F,K,se){for(var oe=se[0],Qe=se[240],Re,Me=16,Le=63,We=64,Ge=Pe(b,B),ze=0;ze<We;++ze)Xe[pt[ze]]=Ge[ze];var Ke=Xe[0]-F;F=Xe[0],Ke==0?ve(K[0]):(Re=32767+Ke,ve(K[Ye[Re]]),ve($e[Re]));for(var et=63;et>0&&Xe[et]==0;et--);if(et==0)return ve(oe),F;for(var rt=1,it;rt<=et;){for(var ot=rt;Xe[rt]==0&&rt<=et;++rt);var at=rt-ot;if(at>=Me){it=at>>4;for(var lt=1;lt<=it;++lt)ve(Qe);at=at&15}Re=32767+Xe[rt],ve(se[(at<<4)+Ye[Re]]),ve($e[Re]),rt++}return et!=Le&&ve(oe),F}function _e(){for(var b=String.fromCharCode,B=0;B<256;B++)ut[B]=b(B)}this.encode=function(b,F){var K=(new Date).getTime();F&&St(F),et=new Array,rt=0,it=7,ie(65496),Te(),V(b.comments),Ee(b.exifBuffer),ye(),ke(b.width,b.height),Q(),De();var se=0,oe=0,Qe=0;rt=0,it=7,this.encode.displayName="_encode_";for(var $e=b.data,Ye=b.width,Ke=b.height,Xe=Ye*4,ut=Ye*3,ht,pt=0,ft,mt,vt,yt,wt,_t,It,xt;pt<Ke;){for(ht=0;ht<Xe;){for(yt=Xe*pt+ht,wt=yt,_t=-1,It=0,xt=0;xt<64;xt++)It=xt>>3,_t=(xt&7)*4,wt=yt+It*Xe+_t,pt+It>=Ke&&(wt-=Xe*(pt+1+It-Ke)),ht+_t>=Xe&&(wt-=ht+_t-Xe+4),ft=$e[wt++],mt=$e[wt++],vt=$e[wt++],ot[xt]=(dt[ft]+dt[mt+256>>0]+dt[vt+512>>0]>>16)-128,at[xt]=(dt[ft+768>>0]+dt[mt+1024>>0]+dt[vt+1280>>0]>>16)-128,lt[xt]=(dt[ft+1280>>0]+dt[mt+1536>>0]+dt[vt+1792>>0]>>16)-128;se=ce(ot,Re,se,Le,Ge),oe=ce(at,Me,oe,We,ze),Qe=ce(lt,Me,Qe,We,ze),ht+=32}pt+=8}if(it>=0){var Qt=[];Qt[1]=it+1,Qt[0]=(1<<it+1)-1,ve(Qt)}if(ie(65497),typeof B=="undefined")return new Uint8Array(et);return Buffer.from(et);var Tt,Rt};function St(b){if(b<=0&&(b=1),b>100&&(b=100),ht!=b){var B=0;b<50?B=Math.floor(5e3/b):B=Math.floor(200-b*2),re(B),ht=b}}function Lt(){var B=(new Date).getTime();b||(b=50),_e(),we(),de(),ue(),St(b);var F=(new Date).getTime()-B}Lt()}typeof B!="undefined"?B.exports=lp:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=lp);function lp(b,B){typeof B=="undefined"&&(B=50);var F=new g1(B),K=F.encode(b,B);return{data:K,width:b.width,height:b.height}}}));var Qt=w(((b,B)=>{var F=function(){"use strict";var b=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),B=4017,F=799,K=3406,se=2276,oe=1567,Qe=3784,Re=5793,Me=2896;function u(){}function f(b,B){for(var F=0,K=[],se,oe,Qe=16;Qe>0&&!b[Qe-1];)Qe--;K.push({children:[],index:0});var Re=K[0],Me;for(se=0;se<Qe;se++){for(oe=0;oe<b[se];oe++){for(Re=K.pop(),Re.children[Re.index]=B[F];Re.index>0;){if(K.length===0)throw new Error("Could not recreate Huffman Table");Re=K.pop()}for(Re.index++,K.push(Re);K.length<=se;)K.push(Me={children:[],index:0}),Re.children[Re.index]=Me.children,Re=Me;F++}se+1<Qe&&(K.push(Me={children:[],index:0}),Re.children[Re.index]=Me.children,Re=Me)}return K[0].children}function p(B,F,K,se,oe,Qe,Re,Me,Le,We){var Ge=K.precision,ze=K.samplesPerLine,$e=K.scanLines,Ye=K.mcusPerLine,Ke=K.progressive,Xe=K.maxH,et=K.maxV,rt=F,it=0,ot=0;function ue(){if(ot>0)return ot--,it>>ot&1;if(it=B[F++],it==255){var b=B[F++];if(b)throw new Error("unexpected marker: "+(it<<8|b).toString(16))}return ot=7,it>>>7}function ve(b){for(var B=b,F;(F=ue())!==null;){if(B=B[F],typeof B=="number")return B;if(typeof B!="object")throw new Error("invalid huffman sequence")}return null}function N(b){for(var B=0;b>0;){var F=ue();if(F===null)return;B=B<<1|F,b--}return B}function ie(b){var B=N(b);return B>=1<<b-1?B:B+(-1<<b)+1}function Pe(B,F){var K=ve(B.huffmanTableDC),se=K===0?0:ie(K);F[0]=B.pred+=se;for(var oe=1;oe<64;){var Qe=ve(B.huffmanTableAC),Re=Qe&15,Me=Qe>>4;if(Re===0){if(Me<15)break;oe+=16;continue}oe+=Me;var Le=b[oe];F[Le]=ie(Re),oe++}}function Te(b,B){var F=ve(b.huffmanTableDC),K=F===0?0:ie(F)<<Le;B[0]=b.pred+=K}function Ee(b,B){B[0]|=ue()<<Le}var at=0;function ye(B,F){if(at>0){at--;return}for(var K=Qe,se=Re;K<=se;){var oe=ve(B.huffmanTableAC),Me=oe&15,We=oe>>4;if(Me===0){if(We<15){at=N(We)+(1<<We)-1;break}K+=16;continue}K+=We;var Ge=b[K];F[Ge]=ie(Me)*(1<<Le),K++}}var lt=0,ut;function De(B,F){for(var K=Qe,se=Re,oe=0;K<=se;){var Me=b[K],We=F[Me]<0?-1:1;switch(lt){case 0:var Ge=ve(B.huffmanTableAC),ze=Ge&15,oe=Ge>>4;if(ze===0)oe<15?(at=N(oe)+(1<<oe),lt=4):(oe=16,lt=1);else{if(ze!==1)throw new Error("invalid ACn encoding");ut=ie(ze),lt=oe?2:3}continue;case 1:case 2:F[Me]?F[Me]+=(ue()<<Le)*We:(oe--,oe===0&&(lt=lt==2?3:0));break;case 3:F[Me]?F[Me]+=(ue()<<Le)*We:(F[Me]=ut<<Le,lt=0);break;case 4:F[Me]&&(F[Me]+=(ue()<<Le)*We);break}K++}lt===4&&(at--,at===0&&(lt=0))}function ce(b,B,F,K,se){var oe=F/Ye|0,Qe=F%Ye,Re=oe*b.v+K,Me=Qe*b.h+se;b.blocks[Re]===void 0&&We.tolerantDecoding||B(b,b.blocks[Re][Me])}function _e(b,B,F){var K=F/b.blocksPerLine|0,se=F%b.blocksPerLine;b.blocks[K]===void 0&&We.tolerantDecoding||B(b,b.blocks[K][se])}var dt=se.length,ht,pt,ft,mt,vt,yt;Ke?Qe===0?yt=Me===0?Te:Ee:yt=Me===0?ye:De:yt=Pe;var wt=0,_t,It;dt==1?It=se[0].blocksPerLine*se[0].blocksPerColumn:It=Ye*K.mcusPerColumn,oe||(oe=It);for(var xt,Qt;wt<It;){for(pt=0;pt<dt;pt++)se[pt].pred=0;if(at=0,dt==1)for(ht=se[0],vt=0;vt<oe;vt++)_e(ht,yt,wt),wt++;else for(vt=0;vt<oe;vt++){for(pt=0;pt<dt;pt++)for(ht=se[pt],xt=ht.h,Qt=ht.v,ft=0;ft<Qt;ft++)for(mt=0;mt<xt;mt++)ce(ht,yt,wt,ft,mt);if(wt++,wt===It)break}if(wt===It)do{if(B[F]===255&&B[F+1]!==0)break;F+=1}while(F<B.length-2);if(ot=0,_t=B[F]<<8|B[F+1],_t<65280)throw new Error("marker was not found");if(_t>=65488&&_t<=65495)F+=2;else break}return F-rt}function m(b,Le){var We=[],Ge=Le.blocksPerLine,ze=Le.blocksPerColumn,$e=Ge<<3,Ye=new Int32Array(64),Ke=new Uint8Array(64);function L(b,We,Ge){var ze=Le.quantizationTable,$e,Ye,Ke,Xe,et,rt,it,ot,at,lt=Ge,ut;for(ut=0;ut<64;ut++)lt[ut]=b[ut]*ze[ut];for(ut=0;ut<8;++ut){var dt=8*ut;if(lt[1+dt]==0&&lt[2+dt]==0&&lt[3+dt]==0&&lt[4+dt]==0&&lt[5+dt]==0&&lt[6+dt]==0&&lt[7+dt]==0){at=Re*lt[0+dt]+512>>10,lt[0+dt]=at,lt[1+dt]=at,lt[2+dt]=at,lt[3+dt]=at,lt[4+dt]=at,lt[5+dt]=at,lt[6+dt]=at,lt[7+dt]=at;continue}$e=Re*lt[0+dt]+128>>8,Ye=Re*lt[4+dt]+128>>8,Ke=lt[2+dt],Xe=lt[6+dt],et=Me*(lt[1+dt]-lt[7+dt])+128>>8,ot=Me*(lt[1+dt]+lt[7+dt])+128>>8,rt=lt[3+dt]<<4,it=lt[5+dt]<<4,at=$e-Ye+1>>1,$e=$e+Ye+1>>1,Ye=at,at=Ke*Qe+Xe*oe+128>>8,Ke=Ke*oe-Xe*Qe+128>>8,Xe=at,at=et-it+1>>1,et=et+it+1>>1,it=at,at=ot+rt+1>>1,rt=ot-rt+1>>1,ot=at,at=$e-Xe+1>>1,$e=$e+Xe+1>>1,Xe=at,at=Ye-Ke+1>>1,Ye=Ye+Ke+1>>1,Ke=at,at=et*se+ot*K+2048>>12,et=et*K-ot*se+2048>>12,ot=at,at=rt*F+it*B+2048>>12,rt=rt*B-it*F+2048>>12,it=at,lt[0+dt]=$e+ot,lt[7+dt]=$e-ot,lt[1+dt]=Ye+it,lt[6+dt]=Ye-it,lt[2+dt]=Ke+rt,lt[5+dt]=Ke-rt,lt[3+dt]=Xe+et,lt[4+dt]=Xe-et}for(ut=0;ut<8;++ut){var ht=ut;if(lt[8+ht]==0&&lt[16+ht]==0&&lt[24+ht]==0&&lt[32+ht]==0&&lt[40+ht]==0&&lt[48+ht]==0&&lt[56+ht]==0){at=Re*Ge[ut+0]+8192>>14,lt[0+ht]=at,lt[8+ht]=at,lt[16+ht]=at,lt[24+ht]=at,lt[32+ht]=at,lt[40+ht]=at,lt[48+ht]=at,lt[56+ht]=at;continue}$e=Re*lt[0+ht]+2048>>12,Ye=Re*lt[32+ht]+2048>>12,Ke=lt[16+ht],Xe=lt[48+ht],et=Me*(lt[8+ht]-lt[56+ht])+2048>>12,ot=Me*(lt[8+ht]+lt[56+ht])+2048>>12,rt=lt[24+ht],it=lt[40+ht],at=$e-Ye+1>>1,$e=$e+Ye+1>>1,Ye=at,at=Ke*Qe+Xe*oe+2048>>12,Ke=Ke*oe-Xe*Qe+2048>>12,Xe=at,at=et-it+1>>1,et=et+it+1>>1,it=at,at=ot+rt+1>>1,rt=ot-rt+1>>1,ot=at,at=$e-Xe+1>>1,$e=$e+Xe+1>>1,Xe=at,at=Ye-Ke+1>>1,Ye=Ye+Ke+1>>1,Ke=at,at=et*se+ot*K+2048>>12,et=et*K-ot*se+2048>>12,ot=at,at=rt*F+it*B+2048>>12,rt=rt*B-it*F+2048>>12,it=at,lt[0+ht]=$e+ot,lt[56+ht]=$e-ot,lt[8+ht]=Ye+it,lt[48+ht]=Ye-it,lt[16+ht]=Ke+rt,lt[40+ht]=Ke-rt,lt[24+ht]=Xe+et,lt[32+ht]=Xe-et}for(ut=0;ut<64;++ut){var pt=128+(lt[ut]+8>>4);We[ut]=pt<0?0:pt>255?255:pt}}x($e*ze*8);for(var Xe,et,rt=0;rt<ze;rt++){var it=rt<<3;for(Xe=0;Xe<8;Xe++)We.push(new Uint8Array($e));for(var ot=0;ot<Ge;ot++){L(Le.blocks[rt][ot],Ke,Ye);var at=0,lt=ot<<3;for(et=0;et<8;et++){var ut=We[it+et];for(Xe=0;Xe<8;Xe++)ut[lt+Xe]=Ke[at++]}}}return We}function g(b){return b<0?0:b>255?255:b}u.prototype={load:function(b){var B=new XMLHttpRequest;B.open("GET",b,!0),B.responseType="arraybuffer",B.onload=function(){var b=new Uint8Array(B.response||B.mozResponseArrayBuffer);this.parse(b),this.onload&&this.onload()}.bind(this),B.send(null)},parse:function(B){var F=this.opts.maxResolutionInMP*1e3*1e3,K=0,se=B.length;function T(){var b=B[K]<<8|B[K+1];return K+=2,b}function A(){var b=T(),F=B.subarray(K,K+b-2);return K+=F.length,F}function C(b){var B=1,F=1,K,se;for(se in b.components)b.components.hasOwnProperty(se)&&(K=b.components[se],B<K.h&&(B=K.h),F<K.v&&(F=K.v));var oe=Math.ceil(b.samplesPerLine/8/B),Qe=Math.ceil(b.scanLines/8/F);for(se in b.components)if(b.components.hasOwnProperty(se)){K=b.components[se];var Re=Math.ceil(Math.ceil(b.samplesPerLine/8)*K.h/B),Me=Math.ceil(Math.ceil(b.scanLines/8)*K.v/F),Le=oe*K.h,We=Qe*K.v,Ge=We*Le,ze=[];x(Ge*256);for(var $e=0;$e<We;$e++){for(var Ye=[],Ke=0;Ke<Le;Ke++)Ye.push(new Int32Array(64));ze.push(Ye)}K.blocksPerLine=Re,K.blocksPerColumn=Me,K.blocks=ze}b.maxH=B,b.maxV=F,b.mcusPerLine=oe,b.mcusPerColumn=Qe}var oe=null,Qe=null,Re=null,Me,Le,We=[],Ge=[],ze=[],$e=[],Ye=T(),Ke=-1;if(this.comments=[],Ye!=65496)throw new Error("SOI not found");for(Ye=T();Ye!=65497;){var Xe,et,rt;switch(Ye){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var it=A();if(Ye===65534){var ot=String.fromCharCode.apply(null,it);this.comments.push(ot)}Ye===65504&&it[0]===74&&it[1]===70&&it[2]===73&&it[3]===70&&it[4]===0&&(oe={version:{major:it[5],minor:it[6]},densityUnits:it[7],xDensity:it[8]<<8|it[9],yDensity:it[10]<<8|it[11],thumbWidth:it[12],thumbHeight:it[13],thumbData:it.subarray(14,14+3*it[12]*it[13])}),Ye===65505&&it[0]===69&&it[1]===120&&it[2]===105&&it[3]===102&&it[4]===0&&(this.exifBuffer=it.subarray(5,it.length)),Ye===65518&&it[0]===65&&it[1]===100&&it[2]===111&&it[3]===98&&it[4]===101&&it[5]===0&&(Qe={version:it[6],flags0:it[7]<<8|it[8],flags1:it[9]<<8|it[10],transformCode:it[11]});break;case 65499:for(var at=T(),lt=at+K-2;K<lt;){var ut=B[K++];x(256);var dt=new Int32Array(64);if(ut>>4===0)for(et=0;et<64;et++){var ht=b[et];dt[ht]=B[K++]}else if(ut>>4===1)for(et=0;et<64;et++){var ht=b[et];dt[ht]=T()}else throw new Error("DQT: invalid table spec");We[ut&15]=dt}break;case 65472:case 65473:case 65474:T(),Me={},Me.extended=Ye===65473,Me.progressive=Ye===65474,Me.precision=B[K++],Me.scanLines=T(),Me.samplesPerLine=T(),Me.components={},Me.componentsOrder=[];var pt=Me.scanLines*Me.samplesPerLine;if(pt>F){var ft=Math.ceil((pt-F)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${ft}MP`)}var mt=B[K++],vt,yt=0,wt=0;for(Xe=0;Xe<mt;Xe++){vt=B[K];var _t=B[K+1]>>4,It=B[K+1]&15,xt=B[K+2];if(_t<=0||It<=0)throw new Error("Invalid sampling factor, expected values above 0");Me.componentsOrder.push(vt),Me.components[vt]={h:_t,v:It,quantizationIdx:xt},K+=3}C(Me),Ge.push(Me);break;case 65476:var Qt=T();for(Xe=2;Xe<Qt;){var Tt=B[K++],Rt=new Uint8Array(16),Pt=0;for(et=0;et<16;et++,K++)Pt+=Rt[et]=B[K];x(16+Pt);var Nt=new Uint8Array(Pt);for(et=0;et<Pt;et++,K++)Nt[et]=B[K];Xe+=17+Pt,(Tt>>4===0?$e:ze)[Tt&15]=f(Rt,Nt)}break;case 65501:T(),Le=T();break;case 65500:T(),T();break;case 65498:var Ut=T(),Jt=B[K++],Zt=[],tr;for(Xe=0;Xe<Jt;Xe++){tr=Me.components[B[K++]];var rr=B[K++];tr.huffmanTableDC=$e[rr>>4],tr.huffmanTableAC=ze[rr&15],Zt.push(tr)}var nr=B[K++],ir=B[K++],ar=B[K++],cr=p(B,K,Me,Zt,Le,nr,ir,ar>>4,ar&15,this.opts);K+=cr;break;case 65535:B[K]!==255&&K--;break;default:if(B[K-3]==255&&B[K-2]>=192&&B[K-2]<=254){K-=3;break}else if(Ye===224||Ye==225){if(Ke!==-1)throw new Error(`first unknown JPEG marker at offset ${Ke.toString(16)}, second unknown JPEG marker ${Ye.toString(16)} at offset ${(K-1).toString(16)}`);Ke=K-1;let b=T();if(B[K+b-2]===255){K+=b-2;break}}throw new Error("unknown JPEG marker "+Ye.toString(16))}Ye=T()}if(Ge.length!=1)throw new Error("only single frame JPEGs supported");for(var Xe=0;Xe<Ge.length;Xe++){var dr=Ge[Xe].components;for(var et in dr)dr[et].quantizationTable=We[dr[et].quantizationIdx],delete dr[et].quantizationIdx}this.width=Me.samplesPerLine,this.height=Me.scanLines,this.jfif=oe,this.adobe=Qe,this.components=[];for(var Xe=0;Xe<Me.componentsOrder.length;Xe++){var tr=Me.components[Me.componentsOrder[Xe]];this.components.push({lines:m(Me,tr),scaleX:tr.h/Me.maxH,scaleY:tr.v/Me.maxV})}},getData:function(b,B){var F=this.width/b,K=this.height/B,se,oe,Qe,Re,Me,Le,We,Ge,ze,$e,Ye=0,Ke,Xe,et,rt,it,ot,at,lt,ut,dt,ht,pt=b*B*this.components.length;x(pt);var ft=new Uint8Array(pt);switch(this.components.length){case 1:for(se=this.components[0],$e=0;$e<B;$e++)for(Me=se.lines[0|$e*se.scaleY*K],ze=0;ze<b;ze++)Ke=Me[0|ze*se.scaleX*F],ft[Ye++]=Ke;break;case 2:for(se=this.components[0],oe=this.components[1],$e=0;$e<B;$e++)for(Me=se.lines[0|$e*se.scaleY*K],Le=oe.lines[0|$e*oe.scaleY*K],ze=0;ze<b;ze++)Ke=Me[0|ze*se.scaleX*F],ft[Ye++]=Ke,Ke=Le[0|ze*oe.scaleX*F],ft[Ye++]=Ke;break;case 3:for(ht=!0,this.adobe&&this.adobe.transformCode?ht=!0:typeof this.opts.colorTransform!="undefined"&&(ht=!!this.opts.colorTransform),se=this.components[0],oe=this.components[1],Qe=this.components[2],$e=0;$e<B;$e++)for(Me=se.lines[0|$e*se.scaleY*K],Le=oe.lines[0|$e*oe.scaleY*K],We=Qe.lines[0|$e*Qe.scaleY*K],ze=0;ze<b;ze++)ht?(Ke=Me[0|ze*se.scaleX*F],Xe=Le[0|ze*oe.scaleX*F],et=We[0|ze*Qe.scaleX*F],lt=g(Ke+1.402*(et-128)),ut=g(Ke-.3441363*(Xe-128)-.71413636*(et-128)),dt=g(Ke+1.772*(Xe-128))):(lt=Me[0|ze*se.scaleX*F],ut=Le[0|ze*oe.scaleX*F],dt=We[0|ze*Qe.scaleX*F]),ft[Ye++]=lt,ft[Ye++]=ut,ft[Ye++]=dt;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ht=!1,this.adobe&&this.adobe.transformCode?ht=!0:typeof this.opts.colorTransform!="undefined"&&(ht=!!this.opts.colorTransform),se=this.components[0],oe=this.components[1],Qe=this.components[2],Re=this.components[3],$e=0;$e<B;$e++)for(Me=se.lines[0|$e*se.scaleY*K],Le=oe.lines[0|$e*oe.scaleY*K],We=Qe.lines[0|$e*Qe.scaleY*K],Ge=Re.lines[0|$e*Re.scaleY*K],ze=0;ze<b;ze++)ht?(Ke=Me[0|ze*se.scaleX*F],Xe=Le[0|ze*oe.scaleX*F],et=We[0|ze*Qe.scaleX*F],rt=Ge[0|ze*Re.scaleX*F],it=255-g(Ke+1.402*(et-128)),ot=255-g(Ke-.3441363*(Xe-128)-.71413636*(et-128)),at=255-g(Ke+1.772*(Xe-128))):(it=Me[0|ze*se.scaleX*F],ot=Le[0|ze*oe.scaleX*F],at=We[0|ze*Qe.scaleX*F],rt=Ge[0|ze*Re.scaleX*F]),ft[Ye++]=255-it,ft[Ye++]=255-ot,ft[Ye++]=255-at,ft[Ye++]=255-rt;break;default:throw new Error("Unsupported color mode")}return ft},copyToImageData:function(b,B){var F=b.width,K=b.height,se=b.data,oe=this.getData(F,K),Qe=0,Re=0,Me,Le,We,Ge,ze,$e,Ye,Ke,Xe;switch(this.components.length){case 1:for(Le=0;Le<K;Le++)for(Me=0;Me<F;Me++)We=oe[Qe++],se[Re++]=We,se[Re++]=We,se[Re++]=We,B&&(se[Re++]=255);break;case 3:for(Le=0;Le<K;Le++)for(Me=0;Me<F;Me++)Ye=oe[Qe++],Ke=oe[Qe++],Xe=oe[Qe++],se[Re++]=Ye,se[Re++]=Ke,se[Re++]=Xe,B&&(se[Re++]=255);break;case 4:for(Le=0;Le<K;Le++)for(Me=0;Me<F;Me++)ze=oe[Qe++],$e=oe[Qe++],We=oe[Qe++],Ge=oe[Qe++],Ye=255-g(ze*(1-Ge/255)+Ge),Ke=255-g($e*(1-Ge/255)+Ge),Xe=255-g(We*(1-Ge/255)+Ge),se[Re++]=Ye,se[Re++]=Ke,se[Re++]=Xe,B&&(se[Re++]=255);break;default:throw new Error("Unsupported color mode")}}};var Le=0,We=0;function x(b=0){var B=Le+b;if(B>We){var F=Math.ceil((B-We)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${F}MB`)}Le=B}return u.resetMaxMemoryUsage=function(b){Le=0,We=b},u.getBytesAllocated=function(){return Le},u.requestMemoryAllocation=x,u}();typeof B!="undefined"?B.exports=fp:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=fp);function fp(b,B={}){var K={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},se={...K,...B},oe=new Uint8Array(b),Qe=new F;Qe.opts=se,F.resetMaxMemoryUsage(se.maxMemoryUsageInMB*1024*1024),Qe.parse(oe);var Re=se.formatAsRGBA?4:3,Me=Qe.width*Qe.height*Re;try{F.requestMemoryAllocation(Me);var Le={width:Qe.width,height:Qe.height,exifBuffer:Qe.exifBuffer,data:se.useTArray?new Uint8Array(Me):Buffer.alloc(Me)};Qe.comments.length>0&&(Le.comments=Qe.comments)}catch(b){throw b instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+Me):b instanceof ReferenceError&&b.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):b}return Qe.copyToImageData(Le,se.formatAsRGBA),Le}}));var Tt=w(((b,B)=>{var F=xt(),K=Qt();B.exports={encode:F,decode:K}}));var Rt=w(((b,B)=>{"use strict";function Pa(){this._types=Object.create(null),this._extensions=Object.create(null);for(let b=0;b<arguments.length;b++)this.define(arguments[b]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Pa.prototype.define=function(b,B){for(let F in b){let K=b[F].map((function(b){return b.toLowerCase()}));F=F.toLowerCase();for(let b=0;b<K.length;b++){let se=K[b];if(se[0]!=="*"){if(!B&&se in this._types)throw new Error('Attempt to change mapping for "'+se+'" extension from "'+this._types[se]+'" to "'+F+'". Pass `force=true` to allow this, otherwise remove "'+se+'" from the list of extensions for "'+F+'".');this._types[se]=F}}if(B||!this._extensions[F]){let b=K[0];this._extensions[F]=b[0]!=="*"?b:b.substr(1)}}};Pa.prototype.getType=function(b){b=String(b);let B=b.replace(/^.*[/\\]/,"").toLowerCase(),F=B.replace(/^.*\./,"").toLowerCase(),K=B.length<b.length;return(F.length<B.length-1||!K)&&this._types[F]||null};Pa.prototype.getExtension=function(b){return b=/^\s*([^;\s]*)/.test(b)&&RegExp.$1,b&&this._extensions[b.toLowerCase()]||null};B.exports=Pa}));var Pt=w(((b,B)=>{B.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}}));var Nt=w(((b,B)=>{B.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}}));var Ut=w(((b,B)=>{"use strict";var F=Rt();B.exports=new F(Pt(),Nt())}));var Jt=w(((b,B)=>{B.exports=function(b,B){for(var K=[],se=0;se<b.length;se++){var oe=B(b[se],se);F(oe)?K.push.apply(K,oe):K.push(oe)}return K};var F=Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"}}));var Zt=w(((b,B)=>{"use strict";B.exports=Op;function Op(b,B,F){b instanceof RegExp&&(b=kp(b,F)),B instanceof RegExp&&(B=kp(B,F));var K=Cp(b,B,F);return K&&{start:K[0],end:K[1],pre:F.slice(0,K[0]),body:F.slice(K[0]+b.length,K[1]),post:F.slice(K[1]+B.length)}}function kp(b,B){var F=B.match(b);return F?F[0]:null}Op.range=Cp;function Cp(b,B,F){var K,se,oe,Qe,Re,Me=F.indexOf(b),Le=F.indexOf(B,Me+1),We=Me;if(Me>=0&&Le>0){if(b===B)return[Me,Le];for(K=[],oe=F.length;We>=0&&!Re;)We==Me?(K.push(We),Me=F.indexOf(b,We+1)):K.length==1?Re=[K.pop(),Le]:(se=K.pop(),se<oe&&(oe=se,Qe=Le),Le=F.indexOf(B,We+1)),We=Me<Le&&Me>=0?Me:Le;K.length&&(Re=[oe,Qe])}return Re}}));var tr=w(((b,B)=>{var F=Jt(),K=Zt();B.exports=E1;var se="\0SLASH"+Math.random()+"\0",oe="\0OPEN"+Math.random()+"\0",Qe="\0CLOSE"+Math.random()+"\0",Re="\0COMMA"+Math.random()+"\0",Me="\0PERIOD"+Math.random()+"\0";function Xl(b){return parseInt(b,10)==b?parseInt(b,10):b.charCodeAt(0)}function w1(b){return b.split("\\\\").join(se).split("\\{").join(oe).split("\\}").join(Qe).split("\\,").join(Re).split("\\.").join(Me)}function S1(b){return b.split(se).join("\\").split(oe).join("{").split(Qe).join("}").split(Re).join(",").split(Me).join(".")}function Pp(b){if(!b)return[""];var B=[],F=K("{","}",b);if(!F)return b.split(",");var se=F.pre,oe=F.body,Qe=F.post,Re=se.split(",");Re[Re.length-1]+="{"+oe+"}";var Me=Pp(Qe);return Qe.length&&(Re[Re.length-1]+=Me.shift(),Re.push.apply(Re,Me)),B.push.apply(B,Re),B}function E1(b){return b?(b.substr(0,2)==="{}"&&(b="\\{\\}"+b.substr(2)),gn(w1(b),!0).map(S1)):[]}function k1(b){return"{"+b+"}"}function O1(b){return/^-?0\d/.test(b)}function C1(b,B){return b<=B}function T1(b,B){return b>=B}function gn(b,B){var se=[],oe=K("{","}",b);if(!oe||/\$$/.test(oe.pre))return[b];var Re=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(oe.body),Me=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(oe.body),Le=Re||Me,We=oe.body.indexOf(",")>=0;if(!Le&&!We)return oe.post.match(/,(?!,).*\}/)?(b=oe.pre+"{"+oe.body+Qe+oe.post,gn(b)):[b];var Ge;if(Le)Ge=oe.body.split(/\.\./);else if(Ge=Pp(oe.body),Ge.length===1&&(Ge=gn(Ge[0],!1).map(k1),Ge.length===1)){var ze=oe.post.length?gn(oe.post,!1):[""];return ze.map((function(b){return oe.pre+Ge[0]+b}))}var $e=oe.pre,ze=oe.post.length?gn(oe.post,!1):[""],Ye;if(Le){var Ke=Xl(Ge[0]),Xe=Xl(Ge[1]),et=Math.max(Ge[0].length,Ge[1].length),rt=Ge.length==3?Math.abs(Xl(Ge[2])):1,it=C1,ot=Xe<Ke;ot&&(rt*=-1,it=T1);var at=Ge.some(O1);Ye=[];for(var lt=Ke;it(lt,Xe);lt+=rt){var ut;if(Me)ut=String.fromCharCode(lt),ut==="\\"&&(ut="");else if(ut=String(lt),at){var dt=et-ut.length;if(dt>0){var ht=new Array(dt+1).join("0");lt<0?ut="-"+ht+ut.slice(1):ut=ht+ut}}Ye.push(ut)}}else Ye=F(Ge,(function(b){return gn(b,!1)}));for(var pt=0;pt<Ye.length;pt++)for(var ft=0;ft<ze.length;ft++){var mt=$e+Ye[pt]+ze[ft];(!B||Le||mt)&&se.push(mt)}return se}}));var rr=w(((b,B)=>{B.exports=Dt;Dt.Minimatch=ct;var K=function(){try{return F(6928)}catch{}}()||{sep:"/"};Dt.sep=K.sep;var se=Dt.GLOBSTAR=ct.GLOBSTAR={},oe=tr(),Qe={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Re="[^/]",Me=Re+"*?",Le="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",We="(?:(?!(?:\\/|^)\\.).)*?",Ge=L1("().*{}+?[]^$\\!");function L1(b){return b.split("").reduce((function(b,B){return b[B]=!0,b}),{})}var ze=/\/+/;Dt.filter=B1;function B1(b,B){return B=B||{},function(F,K,se){return Dt(F,b,B)}}function Hr(b,B){B=B||{};var F={};return Object.keys(b).forEach((function(B){F[B]=b[B]})),Object.keys(B).forEach((function(b){F[b]=B[b]})),F}Dt.defaults=function(b){if(!b||typeof b!="object"||!Object.keys(b).length)return Dt;var B=Dt,t=function(F,K,se){return B(F,K,Hr(b,se))};return t.Minimatch=function(F,K){return new B.Minimatch(F,Hr(b,K))},t.Minimatch.defaults=function(F){return B.defaults(Hr(b,F)).Minimatch},t.filter=function(F,K){return B.filter(F,Hr(b,K))},t.defaults=function(F){return B.defaults(Hr(b,F))},t.makeRe=function(F,K){return B.makeRe(F,Hr(b,K))},t.braceExpand=function(F,K){return B.braceExpand(F,Hr(b,K))},t.match=function(F,K,se){return B.match(F,K,Hr(b,se))},t};ct.defaults=function(b){return Dt.defaults(b).Minimatch};function Dt(b,B,F){return Da(B),F||(F={}),!F.nocomment&&B.charAt(0)==="#"?!1:new ct(B,F).match(b)}function ct(b,B){if(!(this instanceof ct))return new ct(b,B);Da(b),B||(B={}),b=b.trim(),!B.allowWindowsEscape&&K.sep!=="/"&&(b=b.split(K.sep).join("/")),this.options=B,this.set=[],this.pattern=b,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!B.partial,this.make()}ct.prototype.debug=function(){};ct.prototype.make=R1;function R1(){var b=this.pattern,B=this.options;if(!B.nocomment&&b.charAt(0)==="#"){this.comment=!0;return}if(!b){this.empty=!0;return}this.parseNegate();var F=this.globSet=this.braceExpand();B.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,F),F=this.globParts=F.map((function(b){return b.split(ze)})),this.debug(this.pattern,F),F=F.map((function(b,B,F){return b.map(this.parse,this)}),this),this.debug(this.pattern,F),F=F.filter((function(b){return b.indexOf(!1)===-1})),this.debug(this.pattern,F),this.set=F}ct.prototype.parseNegate=P1;function P1(){var b=this.pattern,B=!1,F=this.options,K=0;if(!F.nonegate){for(var se=0,oe=b.length;se<oe&&b.charAt(se)==="!";se++)B=!B,K++;K&&(this.pattern=b.substr(K)),this.negate=B}}Dt.braceExpand=function(b,B){return Up(b,B)};ct.prototype.braceExpand=Up;function Up(b,B){return B||(this instanceof ct?B=this.options:B={}),b=typeof b=="undefined"?this.pattern:b,Da(b),B.nobrace||!/\{(?:(?!\{).)*\}/.test(b)?[b]:oe(b)}var $e=1024*64,Da=function(b){if(typeof b!="string")throw new TypeError("invalid pattern");if(b.length>$e)throw new TypeError("pattern is too long")};ct.prototype.parse=D1;var Ye={};function D1(b,B){Da(b);var F=this.options;if(b==="**")if(F.noglobstar)b="*";else return se;if(b==="")return"";var K="",oe=!!F.nocase,Le=!1,We=[],ze=[],$e,Ke=!1,Xe=-1,et=-1,rt=b.charAt(0)==="."?"":F.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",it=this;function g(){if($e){switch($e){case"*":K+=Me,oe=!0;break;case"?":K+=Re,oe=!0;break;default:K+="\\"+$e;break}it.debug("clearStateChar %j %j",$e,K),$e=!1}}for(var ot=0,at=b.length,lt;ot<at&&(lt=b.charAt(ot));ot++){if(this.debug("%s\t%s %s %j",b,ot,K,lt),Le&&Ge[lt]){K+="\\"+lt,Le=!1;continue}switch(lt){case"/":return!1;case"\\":g(),Le=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",b,ot,K,lt),Ke){this.debug("  in class"),lt==="!"&&ot===et+1&&(lt="^"),K+=lt;continue}it.debug("call clearStateChar %j",$e),g(),$e=lt,F.noext&&g();continue;case"(":if(Ke){K+="(";continue}if(!$e){K+="\\(";continue}We.push({type:$e,start:ot-1,reStart:K.length,open:Qe[$e].open,close:Qe[$e].close}),K+=$e==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",$e,K),$e=!1;continue;case")":if(Ke||!We.length){K+="\\)";continue}g(),oe=!0;var ut=We.pop();K+=ut.close,ut.type==="!"&&ze.push(ut),ut.reEnd=K.length;continue;case"|":if(Ke||!We.length||Le){K+="\\|",Le=!1;continue}g(),K+="|";continue;case"[":if(g(),Ke){K+="\\"+lt;continue}Ke=!0,et=ot,Xe=K.length,K+=lt;continue;case"]":if(ot===et+1||!Ke){K+="\\"+lt,Le=!1;continue}var dt=b.substring(et+1,ot);try{RegExp("["+dt+"]")}catch{var ht=this.parse(dt,Ye);K=K.substr(0,Xe)+"\\["+ht[0]+"\\]",oe=oe||ht[1],Ke=!1;continue}oe=!0,Ke=!1,K+=lt;continue;default:g(),Le?Le=!1:Ge[lt]&&!(lt==="^"&&Ke)&&(K+="\\"),K+=lt}}for(Ke&&(dt=b.substr(et+1),ht=this.parse(dt,Ye),K=K.substr(0,Xe)+"\\["+ht[0],oe=oe||ht[1]),ut=We.pop();ut;ut=We.pop()){var pt=K.slice(ut.reStart+ut.open.length);this.debug("setting tail",K,ut),pt=pt.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(b,B,F){return F||(F="\\"),B+B+F+"|"})),this.debug(`tail=%j\n   %s`,pt,pt,ut,K);var ft=ut.type==="*"?Me:ut.type==="?"?Re:"\\"+ut.type;oe=!0,K=K.slice(0,ut.reStart)+ft+"\\("+pt}g(),Le&&(K+="\\\\");var mt=!1;switch(K.charAt(0)){case"[":case".":case"(":mt=!0}for(var vt=ze.length-1;vt>-1;vt--){var yt=ze[vt],wt=K.slice(0,yt.reStart),_t=K.slice(yt.reStart,yt.reEnd-8),It=K.slice(yt.reEnd-8,yt.reEnd),xt=K.slice(yt.reEnd);It+=xt;var Qt=wt.split("(").length-1,Tt=xt;for(ot=0;ot<Qt;ot++)Tt=Tt.replace(/\)[+*?]?/,"");xt=Tt;var Rt="";xt===""&&B!==Ye&&(Rt="$");var Pt=wt+_t+xt+Rt+It;K=Pt}if(K!==""&&oe&&(K="(?=.)"+K),mt&&(K=rt+K),B===Ye)return[K,oe];if(!oe)return q1(b);var Nt=F.nocase?"i":"";try{var Ut=new RegExp("^"+K+"$",Nt)}catch{return new RegExp("$.")}return Ut._glob=b,Ut._src=K,Ut}Dt.makeRe=function(b,B){return new ct(b,B||{}).makeRe()};ct.prototype.makeRe=F1;function F1(){if(this.regexp||this.regexp===!1)return this.regexp;var b=this.set;if(!b.length)return this.regexp=!1,this.regexp;var B=this.options,F=B.noglobstar?Me:B.dot?Le:We,K=B.nocase?"i":"",oe=b.map((function(b){return b.map((function(b){return b===se?F:typeof b=="string"?j1(b):b._src})).join("\\/")})).join("|");oe="^(?:"+oe+")$",this.negate&&(oe="^(?!"+oe+").*$");try{this.regexp=new RegExp(oe,K)}catch{this.regexp=!1}return this.regexp}Dt.match=function(b,B,F){F=F||{};var K=new ct(B,F);return b=b.filter((function(b){return K.match(b)})),K.options.nonull&&!b.length&&b.push(B),b};ct.prototype.match=function(b,B){if(typeof B=="undefined"&&(B=this.partial),this.debug("match",b,this.pattern),this.comment)return!1;if(this.empty)return b==="";if(b==="/"&&B)return!0;var F=this.options;K.sep!=="/"&&(b=b.split(K.sep).join("/")),b=b.split(ze),this.debug(this.pattern,"split",b);var se=this.set;this.debug(this.pattern,"set",se);var oe,Qe;for(Qe=b.length-1;Qe>=0&&(oe=b[Qe],!oe);Qe--);for(Qe=0;Qe<se.length;Qe++){var Re=se[Qe],Me=b;F.matchBase&&Re.length===1&&(Me=[oe]);var Le=this.matchOne(Me,Re,B);if(Le)return F.flipNegate?!0:!this.negate}return F.flipNegate?!1:this.negate};ct.prototype.matchOne=function(b,B,F){var K=this.options;this.debug("matchOne",{this:this,file:b,pattern:B}),this.debug("matchOne",b.length,B.length);for(var oe=0,Qe=0,Re=b.length,Me=B.length;oe<Re&&Qe<Me;oe++,Qe++){this.debug("matchOne loop");var Le=B[Qe],We=b[oe];if(this.debug(B,Le,We),Le===!1)return!1;if(Le===se){this.debug("GLOBSTAR",[B,Le,We]);var Ge=oe,ze=Qe+1;if(ze===Me){for(this.debug("** at the end");oe<Re;oe++)if(b[oe]==="."||b[oe]===".."||!K.dot&&b[oe].charAt(0)===".")return!1;return!0}for(;Ge<Re;){var $e=b[Ge];if(this.debug(`\nglobstar while`,b,Ge,B,ze,$e),this.matchOne(b.slice(Ge),B.slice(ze),F))return this.debug("globstar found match!",Ge,Re,$e),!0;if($e==="."||$e===".."||!K.dot&&$e.charAt(0)==="."){this.debug("dot detected!",b,Ge,B,ze);break}this.debug("globstar swallow a segment, and continue"),Ge++}return!!(F&&(this.debug(`\n>>> no match, partial?`,b,Ge,B,ze),Ge===Re))}var Ye;if(typeof Le=="string"?(Ye=We===Le,this.debug("string match",Le,We,Ye)):(Ye=We.match(Le),this.debug("pattern match",Le,We,Ye)),!Ye)return!1}if(oe===Re&&Qe===Me)return!0;if(oe===Re)return F;if(Qe===Me)return oe===Re-1&&b[oe]==="";throw new Error("wtf?")};function q1(b){return b.replace(/\\(.)/g,"$1")}function j1(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}}));var nr=w(((b,B)=>{"use strict";var K=F(9896),se;function U1(){try{return K.statSync("/.dockerenv"),!0}catch{return!1}}function $1(){try{return K.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}B.exports=()=>(se===void 0&&(se=U1()||$1()),se)}));var ir=w(((b,B)=>{"use strict";var K=F(857),se=F(9896),oe=nr(),zp=()=>{if(process.platform!=="linux")return!1;if(K.release().toLowerCase().includes("microsoft"))return!oe();try{return se.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!oe():!1}catch{return!1}};process.env.__IS_WSL_TEST__?B.exports=zp:B.exports=zp()}));var ar=w(((b,B)=>{"use strict";B.exports=(b,B,F)=>{let i=F=>Object.defineProperty(b,B,{value:F,enumerable:!0,writable:!0});return Object.defineProperty(b,B,{configurable:!0,enumerable:!0,get(){let b=F();return i(b),b},set(b){i(b)}}),b}}));var cr=w(((b,B)=>{var K=F(6928),se=F(7698),{promises:oe,constants:Qe}=F(9896),Re=ir(),Me=nr(),Le=ar(),We=F.ab+"xdg-open",{platform:Ge,arch:ze}=process,$e=(()=>{let b="/mnt/",B;return async function(){if(B)return B;let F="/etc/wsl.conf",K=!1;try{await oe.access(F,Qe.F_OK),K=!0}catch{}if(!K)return b;let se=await oe.readFile(F,{encoding:"utf8"}),Re=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(se);return Re?(B=Re.groups.mountPoint.trim(),B=B.endsWith("/")?B:`${B}/`,B):b}})(),Xp=async(b,B)=>{let F;for(let K of b)try{return await B(K)}catch(b){F=b}throw F},qa=async b=>{if(b={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...b},Array.isArray(b.app))return Xp(b.app,(B=>qa({...b,app:B})));let{name:B,arguments:F=[]}=b.app||{};if(F=[...F],Array.isArray(B))return Xp(B,(B=>qa({...b,app:{name:B,arguments:F}})));let K,Le=[],ze={};if(Ge==="darwin")K="open",b.wait&&Le.push("--wait-apps"),b.background&&Le.push("--background"),b.newInstance&&Le.push("--new"),B&&Le.push("-a",B);else if(Ge==="win32"||Re&&!Me()){let se=await $e();K=Re?`${se}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,Le.push("-NoProfile","-NonInteractive","ExecutionPolicy","Bypass","-EncodedCommand"),Re||(ze.windowsVerbatimArguments=!0);let oe=["Start"];b.wait&&oe.push("-Wait"),B?(oe.push(`"\`"${B}\`""`,"-ArgumentList"),b.target&&F.unshift(b.target)):b.target&&oe.push(`"${b.target}"`),F.length>0&&(F=F.map((b=>`"\`"${b}\`""`)),oe.push(F.join(","))),b.target=Buffer.from(oe.join(" "),"utf16le").toString("base64")}else{if(B)K=B;else{let b=!__dirname||__dirname==="/",B=!1;try{await oe.access(We,Qe.X_OK),B=!0}catch{}K=process.versions.electron||Ge==="android"||b||!B?"xdg-open":We}F.length>0&&Le.push(...F),b.wait||(ze.stdio="ignore",ze.detached=!0)}b.target&&Le.push(b.target),Ge==="darwin"&&F.length>0&&Le.push("--args",...F);let Ye=se.spawn(K,Le,ze);return b.wait?new Promise(((B,F)=>{Ye.once("error",F),Ye.once("close",(K=>{if(b.allowNonzeroExitCode&&K>0){F(new Error(`Exited with code ${K}`));return}B(Ye)}))})):(Ye.unref(),Ye)},cc=(b,B)=>{if(typeof b!="string")throw new TypeError("Expected a `target`");return qa({...B,target:b})},K1=(b,B)=>{if(typeof b!="string")throw new TypeError("Expected a `name`");let{arguments:F=[]}=B||{};if(F!=null&&!Array.isArray(F))throw new TypeError("Expected `appArguments` as Array type");return qa({...B,app:{name:b,arguments:F}})};function em(b){if(typeof b=="string"||Array.isArray(b))return b;let{[ze]:B}=b;if(!B)throw new Error(`${ze} is not supported`);return B}function uc({[Ge]:b},{wsl:B}){if(B&&Re)return em(B);if(!b)throw new Error(`${Ge} is not supported`);return em(b)}var Ye={};Le(Ye,"chrome",(()=>uc({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}})));Le(Ye,"firefox",(()=>uc({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"})));Le(Ye,"edge",(()=>uc({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"})));cc.apps=Ye;cc.openApp=K1;B.exports=cc}));var dr=w(((b,B)=>{"use strict";var K=F(9023),se=F(2203),oe=B.exports=function(){se.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};K.inherits(oe,se);oe.prototype.read=function(b,B){this._reads.push({length:Math.abs(b),allowLess:b<0,func:B}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};oe.prototype.write=function(b,B){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let F;return Buffer.isBuffer(b)?F=b:F=Buffer.from(b,B||this._encoding),this._buffers.push(F),this._buffered+=F.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};oe.prototype.end=function(b,B){b&&this.write(b,B),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};oe.prototype.destroySoon=oe.prototype.end;oe.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};oe.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};oe.prototype._processReadAllowingLess=function(b){this._reads.shift();let B=this._buffers[0];B.length>b.length?(this._buffered-=b.length,this._buffers[0]=B.slice(b.length),b.func.call(this,B.slice(0,b.length))):(this._buffered-=B.length,this._buffers.shift(),b.func.call(this,B))};oe.prototype._processRead=function(b){this._reads.shift();let B=0,F=0,K=Buffer.alloc(b.length);for(;B<b.length;){let se=this._buffers[F++],oe=Math.min(se.length,b.length-B);se.copy(K,B,0,oe),B+=oe,oe!==se.length&&(this._buffers[--F]=se.slice(oe))}F>0&&this._buffers.splice(0,F),this._buffered-=b.length,b.func.call(this,K)};oe.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let b=this._reads[0];if(b.allowLess)this._processReadAllowingLess(b);else if(this._buffered>=b.length)this._processRead(b);else break}this._buffers&&!this.writable&&this._end()}catch(b){this.emit("error",b)}}}));var pr=w((b=>{"use strict";var B=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];b.getImagePasses=function(b,F){let K=[],se=b%8,oe=F%8,Qe=(b-se)/8,Re=(F-oe)/8;for(let b=0;b<B.length;b++){let F=B[b],Me=Qe*F.x.length,Le=Re*F.y.length;for(let b=0;b<F.x.length&&F.x[b]<se;b++)Me++;for(let b=0;b<F.y.length&&F.y[b]<oe;b++)Le++;Me>0&&Le>0&&K.push({width:Me,height:Le,index:b})}return K};b.getInterlaceIterator=function(b){return function(F,K,se){let oe=F%B[se].x.length,Qe=(F-oe)/B[se].x.length*8+B[se].x[oe],Re=K%B[se].y.length,Me=(K-Re)/B[se].y.length*8+B[se].y[Re];return Qe*4+Me*b*4}}}));var gr=w(((b,B)=>{"use strict";B.exports=function(b,B,F){let K=b+B-F,se=Math.abs(K-b),oe=Math.abs(K-B),Qe=Math.abs(K-F);return se<=oe&&se<=Qe?b:oe<=Qe?B:F}}));var mr=w(((b,B)=>{"use strict";var F=pr(),K=gr();function om(b,B,F){let K=b*B;return F!==8&&(K=Math.ceil(K/(8/F))),K}var se=B.exports=function(b,B){let K=b.width,se=b.height,oe=b.interlace,Qe=b.bpp,Re=b.depth;if(this.read=B.read,this.write=B.write,this.complete=B.complete,this._imageIndex=0,this._images=[],oe){let b=F.getImagePasses(K,se);for(let B=0;B<b.length;B++)this._images.push({byteWidth:om(b[B].width,Qe,Re),height:b[B].height,lineIndex:0})}else this._images.push({byteWidth:om(K,Qe,Re),height:se,lineIndex:0});Re===8?this._xComparison=Qe:Re===16?this._xComparison=Qe*2:this._xComparison=1};se.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};se.prototype._unFilterType1=function(b,B,F){let K=this._xComparison,se=K-1;for(let oe=0;oe<F;oe++){let F=b[1+oe],Qe=oe>se?B[oe-K]:0;B[oe]=F+Qe}};se.prototype._unFilterType2=function(b,B,F){let K=this._lastLine;for(let se=0;se<F;se++){let F=b[1+se],oe=K?K[se]:0;B[se]=F+oe}};se.prototype._unFilterType3=function(b,B,F){let K=this._xComparison,se=K-1,oe=this._lastLine;for(let Qe=0;Qe<F;Qe++){let F=b[1+Qe],Re=oe?oe[Qe]:0,Me=Qe>se?B[Qe-K]:0,Le=Math.floor((Me+Re)/2);B[Qe]=F+Le}};se.prototype._unFilterType4=function(b,B,F){let se=this._xComparison,oe=se-1,Qe=this._lastLine;for(let Re=0;Re<F;Re++){let F=b[1+Re],Me=Qe?Qe[Re]:0,Le=Re>oe?B[Re-se]:0,We=Re>oe&&Qe?Qe[Re-se]:0,Ge=K(Le,Me,We);B[Re]=F+Ge}};se.prototype._reverseFilterLine=function(b){let B=b[0],F,K=this._images[this._imageIndex],se=K.byteWidth;if(B===0)F=b.slice(1,se+1);else switch(F=Buffer.alloc(se),B){case 1:this._unFilterType1(b,F,se);break;case 2:this._unFilterType2(b,F,se);break;case 3:this._unFilterType3(b,F,se);break;case 4:this._unFilterType4(b,F,se);break;default:throw new Error("Unrecognised filter type - "+B)}this.write(F),K.lineIndex++,K.lineIndex>=K.height?(this._lastLine=null,this._imageIndex++,K=this._images[this._imageIndex]):this._lastLine=F,K?this.read(K.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}));var yr=w(((b,B)=>{"use strict";var K=F(9023),se=dr(),oe=mr(),Qe=B.exports=function(b){se.call(this);let B=[],F=this;this._filter=new oe(b,{read:this.read.bind(this),write:function(b){B.push(b)},complete:function(){F.emit("complete",Buffer.concat(B))}}),this._filter.start()};K.inherits(Qe,se)}));var wr=w(((b,B)=>{"use strict";B.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}}));var _r=w(((b,B)=>{"use strict";var F=[];(function(){for(let b=0;b<256;b++){let B=b;for(let b=0;b<8;b++)B&1?B=3988292384^B>>>1:B=B>>>1;F[b]=B}})();var K=B.exports=function(){this._crc=-1};K.prototype.write=function(b){for(let B=0;B<b.length;B++)this._crc=F[(this._crc^b[B])&255]^this._crc>>>8;return!0};K.prototype.crc32=function(){return this._crc^-1};K.crc32=function(b){let B=-1;for(let K=0;K<b.length;K++)B=F[(B^b[K])&255]^B>>>8;return B^-1}}));var Or=w(((b,B)=>{"use strict";var F=wr(),K=_r(),se=B.exports=function(b,B){this._options=b,b.checkCRC=b.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[F.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[F.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[F.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[F.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[F.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[F.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=B.read,this.error=B.error,this.metadata=B.metadata,this.gamma=B.gamma,this.transColor=B.transColor,this.palette=B.palette,this.parsed=B.parsed,this.inflateData=B.inflateData,this.finished=B.finished,this.simpleTransparency=B.simpleTransparency,this.headersFinished=B.headersFinished||function(){}};se.prototype.start=function(){this.read(F.PNG_SIGNATURE.length,this._parseSignature.bind(this))};se.prototype._parseSignature=function(b){let B=F.PNG_SIGNATURE;for(let F=0;F<B.length;F++)if(b[F]!==B[F]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};se.prototype._parseChunkBegin=function(b){let B=b.readUInt32BE(0),se=b.readUInt32BE(4),oe="";for(let B=4;B<8;B++)oe+=String.fromCharCode(b[B]);let Qe=!!(b[4]&32);if(!this._hasIHDR&&se!==F.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new K,this._crc.write(Buffer.from(oe)),this._chunks[se])return this._chunks[se](B);if(!Qe){this.error(new Error("Unsupported critical chunk type "+oe));return}this.read(B+4,this._skipChunk.bind(this))};se.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};se.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};se.prototype._parseChunkEnd=function(b){let B=b.readInt32BE(0),F=this._crc.crc32();if(this._options.checkCRC&&F!==B){this.error(new Error("Crc error - "+B+" - "+F));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};se.prototype._handleIHDR=function(b){this.read(b,this._parseIHDR.bind(this))};se.prototype._parseIHDR=function(b){this._crc.write(b);let B=b.readUInt32BE(0),K=b.readUInt32BE(4),se=b[8],oe=b[9],Qe=b[10],Re=b[11],Me=b[12];if(se!==8&&se!==4&&se!==2&&se!==1&&se!==16){this.error(new Error("Unsupported bit depth "+se));return}if(!(oe in F.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(Qe!==0){this.error(new Error("Unsupported compression method"));return}if(Re!==0){this.error(new Error("Unsupported filter method"));return}if(Me!==0&&Me!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=oe;let Le=F.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:B,height:K,depth:se,interlace:!!Me,palette:!!(oe&F.COLORTYPE_PALETTE),color:!!(oe&F.COLORTYPE_COLOR),alpha:!!(oe&F.COLORTYPE_ALPHA),bpp:Le,colorType:oe}),this._handleChunkEnd()};se.prototype._handlePLTE=function(b){this.read(b,this._parsePLTE.bind(this))};se.prototype._parsePLTE=function(b){this._crc.write(b);let B=Math.floor(b.length/3);for(let F=0;F<B;F++)this._palette.push([b[F*3],b[F*3+1],b[F*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};se.prototype._handleTRNS=function(b){this.simpleTransparency(),this.read(b,this._parseTRNS.bind(this))};se.prototype._parseTRNS=function(b){if(this._crc.write(b),this._colorType===F.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(b.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let B=0;B<b.length;B++)this._palette[B][3]=b[B];this.palette(this._palette)}this._colorType===F.COLORTYPE_GRAYSCALE&&this.transColor([b.readUInt16BE(0)]),this._colorType===F.COLORTYPE_COLOR&&this.transColor([b.readUInt16BE(0),b.readUInt16BE(2),b.readUInt16BE(4)]),this._handleChunkEnd()};se.prototype._handleGAMA=function(b){this.read(b,this._parseGAMA.bind(this))};se.prototype._parseGAMA=function(b){this._crc.write(b),this.gamma(b.readUInt32BE(0)/F.GAMMA_DIVISION),this._handleChunkEnd()};se.prototype._handleIDAT=function(b){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-b,this._parseIDAT.bind(this,b))};se.prototype._parseIDAT=function(b,B){if(this._crc.write(B),this._colorType===F.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(B);let K=b-B.length;K>0?this._handleIDAT(K):this._handleChunkEnd()};se.prototype._handleIEND=function(b){this.read(b,this._parseIEND.bind(this))};se.prototype._parseIEND=function(b){this._crc.write(b),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}));var Rr=w((b=>{"use strict";var B=pr(),F=[function(){},function(b,B,F,K){if(K===B.length)throw new Error("Ran out of data");let se=B[K];b[F]=se,b[F+1]=se,b[F+2]=se,b[F+3]=255},function(b,B,F,K){if(K+1>=B.length)throw new Error("Ran out of data");let se=B[K];b[F]=se,b[F+1]=se,b[F+2]=se,b[F+3]=B[K+1]},function(b,B,F,K){if(K+2>=B.length)throw new Error("Ran out of data");b[F]=B[K],b[F+1]=B[K+1],b[F+2]=B[K+2],b[F+3]=255},function(b,B,F,K){if(K+3>=B.length)throw new Error("Ran out of data");b[F]=B[K],b[F+1]=B[K+1],b[F+2]=B[K+2],b[F+3]=B[K+3]}],K=[function(){},function(b,B,F,K){let se=B[0];b[F]=se,b[F+1]=se,b[F+2]=se,b[F+3]=K},function(b,B,F){let K=B[0];b[F]=K,b[F+1]=K,b[F+2]=K,b[F+3]=B[1]},function(b,B,F,K){b[F]=B[0],b[F+1]=B[1],b[F+2]=B[2],b[F+3]=K},function(b,B,F){b[F]=B[0],b[F+1]=B[1],b[F+2]=B[2],b[F+3]=B[3]}];function sS(b,B){let F=[],K=0;function n(){if(K===b.length)throw new Error("Ran out of data");let se=b[K];K++;let oe,Qe,Re,Me,Le,We,Ge,ze;switch(B){default:throw new Error("unrecognised depth");case 16:Ge=b[K],K++,F.push((se<<8)+Ge);break;case 4:Ge=se&15,ze=se>>4,F.push(ze,Ge);break;case 2:Le=se&3,We=se>>2&3,Ge=se>>4&3,ze=se>>6&3,F.push(ze,Ge,We,Le);break;case 1:oe=se&1,Qe=se>>1&1,Re=se>>2&1,Me=se>>3&1,Le=se>>4&1,We=se>>5&1,Ge=se>>6&1,ze=se>>7&1,F.push(ze,Ge,We,Le,Me,Re,Qe,oe);break}}return{get:function(b){for(;F.length<b;)n();let B=F.slice(0,b);return F=F.slice(b),B},resetAfterLine:function(){F.length=0},end:function(){if(K!==b.length)throw new Error("extra data found")}}}function aS(b,B,K,se,oe,Qe){let Re=b.width,Me=b.height,Le=b.index;for(let b=0;b<Me;b++)for(let Me=0;Me<Re;Me++){let Re=K(Me,b,Le);F[se](B,oe,Re,Qe),Qe+=se}return Qe}function oS(b,B,F,se,oe,Qe){let Re=b.width,Me=b.height,Le=b.index;for(let b=0;b<Me;b++){for(let Me=0;Me<Re;Me++){let Re=oe.get(se),We=F(Me,b,Le);K[se](B,Re,We,Qe)}oe.resetAfterLine()}}b.dataToBitMap=function(b,F){let K=F.width,se=F.height,oe=F.depth,Qe=F.bpp,Re=F.interlace,Me;oe!==8&&(Me=sS(b,oe));let Le;oe<=8?Le=Buffer.alloc(K*se*4):Le=new Uint16Array(K*se*4);let We=Math.pow(2,oe)-1,Ge=0,ze,$e;if(Re)ze=B.getImagePasses(K,se),$e=B.getInterlaceIterator(K,se);else{let b=0;$e=function(){let B=b;return b+=4,B},ze=[{width:K,height:se}]}for(let B=0;B<ze.length;B++)oe===8?Ge=aS(ze[B],Le,$e,Qe,b,Ge):oS(ze[B],Le,$e,Qe,Me,We);if(oe===8){if(Ge!==b.length)throw new Error("extra data found")}else Me.end();return Le}}));var Pr=w(((b,B)=>{"use strict";function lS(b,B,F,K,se){let oe=0;for(let Qe=0;Qe<K;Qe++)for(let K=0;K<F;K++){let F=se[b[oe]];if(!F)throw new Error("index "+b[oe]+" not in palette");for(let b=0;b<4;b++)B[oe+b]=F[b];oe+=4}}function cS(b,B,F,K,se){let oe=0;for(let Qe=0;Qe<K;Qe++)for(let K=0;K<F;K++){let F=!1;if(se.length===1?se[0]===b[oe]&&(F=!0):se[0]===b[oe]&&se[1]===b[oe+1]&&se[2]===b[oe+2]&&(F=!0),F)for(let b=0;b<4;b++)B[oe+b]=0;oe+=4}}function uS(b,B,F,K,se){let oe=255,Qe=Math.pow(2,se)-1,Re=0;for(let se=0;se<K;se++)for(let K=0;K<F;K++){for(let F=0;F<4;F++)B[Re+F]=Math.floor(b[Re+F]*oe/Qe+.5);Re+=4}}B.exports=function(b,B,F=!1){let K=B.depth,se=B.width,oe=B.height,Qe=B.colorType,Re=B.transColor,Me=B.palette,Le=b;return Qe===3?lS(b,Le,se,oe,Me):(Re&&cS(b,Le,se,oe,Re),K!==8&&!F&&(K===16&&(Le=Buffer.alloc(se*oe*4)),uS(b,Le,se,oe,K))),Le}}));var Dr=w(((b,B)=>{"use strict";var K=F(9023),se=F(3106),oe=dr(),Qe=yr(),Re=Or(),Me=Rr(),Le=Pr(),We=B.exports=function(b){oe.call(this),this._parser=new Re(b,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=b,this.writable=!0,this._parser.start()};K.inherits(We,oe);We.prototype._handleError=function(b){this.emit("error",b),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0};We.prototype._inflateData=function(b){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=se.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let b=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,B=Math.max(b,se.Z_MIN_CHUNK);this._inflate=se.createInflate({chunkSize:B});let F=b,K=this.emit.bind(this,"error");this._inflate.on("error",(function(b){F&&K(b)})),this._filter.on("complete",this._complete.bind(this));let oe=this._filter.write.bind(this._filter);this._inflate.on("data",(function(b){F&&(b.length>F&&(b=b.slice(0,F)),F-=b.length,oe(b))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(b)};We.prototype._handleMetaData=function(b){this._metaData=b,this._bitmapInfo=Object.create(b),this._filter=new Qe(this._bitmapInfo)};We.prototype._handleTransColor=function(b){this._bitmapInfo.transColor=b};We.prototype._handlePalette=function(b){this._bitmapInfo.palette=b};We.prototype._simpleTransparency=function(){this._metaData.alpha=!0};We.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};We.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};We.prototype._complete=function(b){if(this.errord)return;let B;try{let F=Me.dataToBitMap(b,this._bitmapInfo);B=Le(F,this._bitmapInfo,this._options.skipRescale),F=null}catch(b){this._handleError(b);return}this.emit("parsed",B)}}));var Lr=w(((b,B)=>{"use strict";var F=wr();B.exports=function(b,B,K,se){let oe=[F.COLORTYPE_COLOR_ALPHA,F.COLORTYPE_ALPHA].indexOf(se.colorType)!==-1;if(se.colorType===se.inputColorType){let B=function(){let b=new ArrayBuffer(2);return new DataView(b).setInt16(0,256,!0),new Int16Array(b)[0]!==256}();if(se.bitDepth===8||se.bitDepth===16&&B)return b}let Qe=se.bitDepth!==16?b:new Uint16Array(b.buffer),Re=255,Me=F.COLORTYPE_TO_BPP_MAP[se.inputColorType];Me===4&&!se.inputHasAlpha&&(Me=3);let Le=F.COLORTYPE_TO_BPP_MAP[se.colorType];se.bitDepth===16&&(Re=65535,Le*=2);let We=Buffer.alloc(B*K*Le),Ge=0,ze=0,$e=se.bgColor||{};$e.red===void 0&&($e.red=Re),$e.green===void 0&&($e.green=Re),$e.blue===void 0&&($e.blue=Re);function m(){let b,B,K,Me=Re;switch(se.inputColorType){case F.COLORTYPE_COLOR_ALPHA:Me=Qe[Ge+3],b=Qe[Ge],B=Qe[Ge+1],K=Qe[Ge+2];break;case F.COLORTYPE_COLOR:b=Qe[Ge],B=Qe[Ge+1],K=Qe[Ge+2];break;case F.COLORTYPE_ALPHA:Me=Qe[Ge+1],b=Qe[Ge],B=b,K=b;break;case F.COLORTYPE_GRAYSCALE:b=Qe[Ge],B=b,K=b;break;default:throw new Error("input color type:"+se.inputColorType+" is not supported at present")}return se.inputHasAlpha&&(oe||(Me/=Re,b=Math.min(Math.max(Math.round((1-Me)*$e.red+Me*b),0),Re),B=Math.min(Math.max(Math.round((1-Me)*$e.green+Me*B),0),Re),K=Math.min(Math.max(Math.round((1-Me)*$e.blue+Me*K),0),Re))),{red:b,green:B,blue:K,alpha:Me}}for(let b=0;b<K;b++)for(let b=0;b<B;b++){let b=m(Qe,Ge);switch(se.colorType){case F.COLORTYPE_COLOR_ALPHA:case F.COLORTYPE_COLOR:se.bitDepth===8?(We[ze]=b.red,We[ze+1]=b.green,We[ze+2]=b.blue,oe&&(We[ze+3]=b.alpha)):(We.writeUInt16BE(b.red,ze),We.writeUInt16BE(b.green,ze+2),We.writeUInt16BE(b.blue,ze+4),oe&&We.writeUInt16BE(b.alpha,ze+6));break;case F.COLORTYPE_ALPHA:case F.COLORTYPE_GRAYSCALE:{let B=(b.red+b.green+b.blue)/3;se.bitDepth===8?(We[ze]=B,oe&&(We[ze+1]=b.alpha)):(We.writeUInt16BE(B,ze),oe&&We.writeUInt16BE(b.alpha,ze+2));break}default:throw new Error("unrecognised color Type "+se.colorType)}Ge+=Me,ze+=Le}return We}}));var jr=w(((b,B)=>{"use strict";var F=gr();function gS(b,B,F,K,se){for(let oe=0;oe<F;oe++)K[se+oe]=b[B+oe]}function vS(b,B,F){let K=0,se=B+F;for(let F=B;F<se;F++)K+=Math.abs(b[F]);return K}function yS(b,B,F,K,se,oe){for(let Qe=0;Qe<F;Qe++){let F=Qe>=oe?b[B+Qe-oe]:0,Re=b[B+Qe]-F;K[se+Qe]=Re}}function _S(b,B,F,K){let se=0;for(let oe=0;oe<F;oe++){let F=oe>=K?b[B+oe-K]:0,Qe=b[B+oe]-F;se+=Math.abs(Qe)}return se}function bS(b,B,F,K,se){for(let oe=0;oe<F;oe++){let Qe=B>0?b[B+oe-F]:0,Re=b[B+oe]-Qe;K[se+oe]=Re}}function xS(b,B,F){let K=0,se=B+F;for(let oe=B;oe<se;oe++){let se=B>0?b[oe-F]:0,Qe=b[oe]-se;K+=Math.abs(Qe)}return K}function wS(b,B,F,K,se,oe){for(let Qe=0;Qe<F;Qe++){let Re=Qe>=oe?b[B+Qe-oe]:0,Me=B>0?b[B+Qe-F]:0,Le=b[B+Qe]-(Re+Me>>1);K[se+Qe]=Le}}function SS(b,B,F,K){let se=0;for(let oe=0;oe<F;oe++){let Qe=oe>=K?b[B+oe-K]:0,Re=B>0?b[B+oe-F]:0,Me=b[B+oe]-(Qe+Re>>1);se+=Math.abs(Me)}return se}function ES(b,B,K,se,oe,Qe){for(let Re=0;Re<K;Re++){let Me=Re>=Qe?b[B+Re-Qe]:0,Le=B>0?b[B+Re-K]:0,We=B>0&&Re>=Qe?b[B+Re-(K+Qe)]:0,Ge=b[B+Re]-F(Me,Le,We);se[oe+Re]=Ge}}function kS(b,B,K,se){let oe=0;for(let Qe=0;Qe<K;Qe++){let Re=Qe>=se?b[B+Qe-se]:0,Me=B>0?b[B+Qe-K]:0,Le=B>0&&Qe>=se?b[B+Qe-(K+se)]:0,We=b[B+Qe]-F(Re,Me,Le);oe+=Math.abs(We)}return oe}var K={0:gS,1:yS,2:bS,3:wS,4:ES},se={0:vS,1:_S,2:xS,3:SS,4:kS};B.exports=function(b,B,F,oe,Qe){let Re;if(!("filterType"in oe)||oe.filterType===-1)Re=[0,1,2,3,4];else if(typeof oe.filterType=="number")Re=[oe.filterType];else throw new Error("unrecognised filter types");oe.bitDepth===16&&(Qe*=2);let Me=B*Qe,Le=0,We=0,Ge=Buffer.alloc((Me+1)*F),ze=Re[0];for(let B=0;B<F;B++){if(Re.length>1){let B=1/0;for(let F=0;F<Re.length;F++){let K=se[Re[F]](b,We,Me,Qe);K<B&&(ze=Re[F],B=K)}}Ge[Le]=ze,Le++,K[ze](b,We,Me,Ge,Le,Qe),Le+=Me,We+=Me}return Ge}}));var Wr=w(((b,B)=>{"use strict";var K=wr(),se=_r(),oe=Lr(),Qe=jr(),Re=F(3106),Me=B.exports=function(b){if(this._options=b,b.deflateChunkSize=b.deflateChunkSize||32*1024,b.deflateLevel=b.deflateLevel!=null?b.deflateLevel:9,b.deflateStrategy=b.deflateStrategy!=null?b.deflateStrategy:3,b.inputHasAlpha=b.inputHasAlpha!=null?b.inputHasAlpha:!0,b.deflateFactory=b.deflateFactory||Re.createDeflate,b.bitDepth=b.bitDepth||8,b.colorType=typeof b.colorType=="number"?b.colorType:K.COLORTYPE_COLOR_ALPHA,b.inputColorType=typeof b.inputColorType=="number"?b.inputColorType:K.COLORTYPE_COLOR_ALPHA,[K.COLORTYPE_GRAYSCALE,K.COLORTYPE_COLOR,K.COLORTYPE_COLOR_ALPHA,K.COLORTYPE_ALPHA].indexOf(b.colorType)===-1)throw new Error("option color type:"+b.colorType+" is not supported at present");if([K.COLORTYPE_GRAYSCALE,K.COLORTYPE_COLOR,K.COLORTYPE_COLOR_ALPHA,K.COLORTYPE_ALPHA].indexOf(b.inputColorType)===-1)throw new Error("option input color type:"+b.inputColorType+" is not supported at present");if(b.bitDepth!==8&&b.bitDepth!==16)throw new Error("option bit depth:"+b.bitDepth+" is not supported at present")};Me.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};Me.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};Me.prototype.filterData=function(b,B,F){let se=oe(b,B,F,this._options),Re=K.COLORTYPE_TO_BPP_MAP[this._options.colorType];return Qe(se,B,F,this._options,Re)};Me.prototype._packChunk=function(b,B){let F=B?B.length:0,K=Buffer.alloc(F+12);return K.writeUInt32BE(F,0),K.writeUInt32BE(b,4),B&&B.copy(K,8),K.writeInt32BE(se.crc32(K.slice(4,K.length-4)),K.length-4),K};Me.prototype.packGAMA=function(b){let B=Buffer.alloc(4);return B.writeUInt32BE(Math.floor(b*K.GAMMA_DIVISION),0),this._packChunk(K.TYPE_gAMA,B)};Me.prototype.packIHDR=function(b,B){let F=Buffer.alloc(13);return F.writeUInt32BE(b,0),F.writeUInt32BE(B,4),F[8]=this._options.bitDepth,F[9]=this._options.colorType,F[10]=0,F[11]=0,F[12]=0,this._packChunk(K.TYPE_IHDR,F)};Me.prototype.packIDAT=function(b){return this._packChunk(K.TYPE_IDAT,b)};Me.prototype.packIEND=function(){return this._packChunk(K.TYPE_IEND,null)}}));var Vr=w(((b,B)=>{"use strict";var K=F(9023),se=F(2203),oe=wr(),Qe=Wr(),Re=B.exports=function(b){se.call(this);let B=b||{};this._packer=new Qe(B),this._deflate=this._packer.createDeflate(),this.readable=!0};K.inherits(Re,se);Re.prototype.pack=function(b,B,F,K){this.emit("data",Buffer.from(oe.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(B,F)),K&&this.emit("data",this._packer.packGAMA(K));let se=this._packer.filterData(b,B,F);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(b){this.emit("data",this._packer.packIDAT(b))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(se)}}));var Gr=w(((b,B)=>{"use strict";var K=F(2613).ok,se=F(3106),oe=F(9023),Qe=F(181).kMaxLength;function Si(b){if(!(this instanceof Si))return new Si(b);b&&b.chunkSize<se.Z_MIN_CHUNK&&(b.chunkSize=se.Z_MIN_CHUNK),se.Inflate.call(this,b),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,b&&b.maxLength!=null&&(this._maxLength=b.maxLength)}function MS(b){return new Si(b)}function Bm(b,B){B&&process.nextTick(B),b._handle&&(b._handle.close(),b._handle=null)}Si.prototype._processChunk=function(b,B,F){if(typeof F=="function")return se.Inflate._processChunk.call(this,b,B,F);let oe=this,Re=b&&b.length,Me=this._chunkSize-this._offset,Le=this._maxLength,We=0,Ge=[],ze=0,$e;this.on("error",(function(b){$e=b}));function f(b,B){if(oe._hadError)return;let F=Me-B;if(K(F>=0,"have should not go down"),F>0){let b=oe._buffer.slice(oe._offset,oe._offset+F);if(oe._offset+=F,b.length>Le&&(b=b.slice(0,Le)),Ge.push(b),ze+=b.length,Le-=b.length,Le===0)return!1}return(B===0||oe._offset>=oe._chunkSize)&&(Me=oe._chunkSize,oe._offset=0,oe._buffer=Buffer.allocUnsafe(oe._chunkSize)),B===0?(We+=Re-b,Re=b,!0):!1}K(this._handle,"zlib binding closed");let Ye;do{Ye=this._handle.writeSync(B,b,We,Re,this._buffer,this._offset,Me),Ye=Ye||this._writeState}while(!this._hadError&&f(Ye[0],Ye[1]));if(this._hadError)throw $e;if(ze>=Qe)throw Bm(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+Qe.toString(16)+" bytes");let Ke=Buffer.concat(Ge,ze);return Bm(this),Ke};oe.inherits(Si,se.Inflate);function DS(b,B){if(typeof B=="string"&&(B=Buffer.from(B)),!(B instanceof Buffer))throw new TypeError("Not a string or buffer");let F=b._finishFlushFlag;return F==null&&(F=se.Z_FINISH),b._processChunk(B,F)}function Rm(b,B){return DS(new Si(B),b)}B.exports=b=Rm;b.Inflate=Si;b.createInflate=MS;b.inflateSync=Rm}));var zr=w(((b,B)=>{"use strict";var F=B.exports=function(b){this._buffer=b,this._reads=[]};F.prototype.read=function(b,B){this._reads.push({length:Math.abs(b),allowLess:b<0,func:B})};F.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let b=this._reads[0];if(this._buffer.length&&(this._buffer.length>=b.length||b.allowLess)){this._reads.shift();let B=this._buffer;this._buffer=B.slice(b.length),b.func.call(this,B.slice(0,b.length))}else break}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}}));var Jr=w((b=>{"use strict";var B=zr(),F=mr();b.process=function(b,K){let se=[],oe=new B(b);return new F(K,{read:oe.read.bind(oe),write:function(b){se.push(b)},complete:function(){}}).start(),oe.process(),Buffer.concat(se)}}));var Yr=w(((b,B)=>{"use strict";var K=!0,se=F(3106),oe=Gr();se.deflateSync||(K=!1);var Qe=zr(),Re=Jr(),Me=Or(),Le=Rr(),We=Pr();B.exports=function(b,B){if(!K)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let F;function i(b){F=b}let Ge;function s(b){Ge=b}function a(b){Ge.transColor=b}function o(b){Ge.palette=b}function l(){Ge.alpha=!0}let ze;function u(b){ze=b}let $e=[];function p(b){$e.push(b)}let Ye=new Qe(b);if(new Me(B,{read:Ye.read.bind(Ye),error:i,metadata:s,gamma:u,palette:o,transColor:a,inflateData:p,simpleTransparency:l}).start(),Ye.process(),F)throw F;let Ke=Buffer.concat($e);$e.length=0;let Xe;if(Ge.interlace)Xe=se.inflateSync(Ke);else{let b=((Ge.width*Ge.bpp*Ge.depth+7>>3)+1)*Ge.height;Xe=oe(Ke,{chunkSize:b,maxLength:b})}if(Ke=null,!Xe||!Xe.length)throw new Error("bad png - invalid inflate data response");let et=Re.process(Xe,Ge);Ke=null;let rt=Le.dataToBitMap(et,Ge);et=null;let it=We(rt,Ge,B.skipRescale);return Ge.data=it,Ge.gamma=ze||0,Ge}}));var Kr=w(((b,B)=>{"use strict";var K=!0,se=F(3106);se.deflateSync||(K=!1);var oe=wr(),Qe=Wr();B.exports=function(b,B){if(!K)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let F=B||{},Re=new Qe(F),Me=[];Me.push(Buffer.from(oe.PNG_SIGNATURE)),Me.push(Re.packIHDR(b.width,b.height)),b.gamma&&Me.push(Re.packGAMA(b.gamma));let Le=Re.filterData(b.data,b.width,b.height),We=se.deflateSync(Le,Re.getDeflateOptions());if(Le=null,!We||!We.length)throw new Error("bad png - invalid compressed data response");return Me.push(Re.packIDAT(We)),Me.push(Re.packIEND()),Buffer.concat(Me)}}));var Zr=w((b=>{"use strict";var B=Yr(),F=Kr();b.read=function(b,F){return B(b,F||{})};b.write=function(b,B){return F(b,B)}}));var Xr=w((b=>{"use strict";var B=F(9023),K=F(2203),se=Dr(),oe=Vr(),Qe=Zr(),Re=b.PNG=function(b){K.call(this),b=b||{},this.width=b.width|0,this.height=b.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,b.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new se(b),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(b){this.data=b,this.emit("parsed",b)}.bind(this)),this._packer=new oe(b),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};B.inherits(Re,K);Re.sync=Qe;Re.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};Re.prototype.parse=function(b,B){if(B){let b,F;b=function(b){this.removeListener("error",F),this.data=b,B(null,this)}.bind(this),F=function(F){this.removeListener("parsed",b),B(F,null)}.bind(this),this.once("parsed",b),this.once("error",F)}return this.end(b),this};Re.prototype.write=function(b){return this._parser.write(b),!0};Re.prototype.end=function(b){this._parser.end(b)};Re.prototype._metadata=function(b){this.width=b.width,this.height=b.height,this.emit("metadata",b)};Re.prototype._gamma=function(b){this.gamma=b};Re.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};Re.bitblt=function(b,B,F,K,se,oe,Qe,Re){if(F|=0,K|=0,se|=0,oe|=0,Qe|=0,Re|=0,F>b.width||K>b.height||F+se>b.width||K+oe>b.height)throw new Error("bitblt reading outside image");if(Qe>B.width||Re>B.height||Qe+se>B.width||Re+oe>B.height)throw new Error("bitblt writing outside image");for(let Me=0;Me<oe;Me++)b.data.copy(B.data,(Re+Me)*B.width+Qe<<2,(K+Me)*b.width+F<<2,(K+Me)*b.width+F+se<<2)};Re.prototype.bitblt=function(b,B,F,K,se,oe,Qe){return Re.bitblt(this,b,B,F,K,se,oe,Qe),this};Re.adjustGamma=function(b){if(b.gamma){for(let B=0;B<b.height;B++)for(let F=0;F<b.width;F++){let K=b.width*B+F<<2;for(let B=0;B<3;B++){let F=b.data[K+B]/255;F=Math.pow(F,1/2.2/b.gamma),b.data[K+B]=Math.round(F*255)}}b.gamma=0}};Re.prototype.adjustGamma=function(){Re.adjustGamma(this)}}));var tn=w((b=>{var B=class extends Error{constructor(b,B,F){super(F),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=B,this.exitCode=b,this.nestedError=void 0}},F=class extends B{constructor(b){super(1,"commander.invalidArgument",b),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};b.CommanderError=B;b.InvalidArgumentError=F}));var dn=w((b=>{var{InvalidArgumentError:B}=tn(),F=class{constructor(b,B){switch(this.description=B||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,b[0]){case"<":this.required=!0,this._name=b.slice(1,-1);break;case"[":this.required=!1,this._name=b.slice(1,-1);break;default:this.required=!0,this._name=b;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(b,B){return B===this.defaultValue||!Array.isArray(B)?[b]:B.concat(b)}default(b,B){return this.defaultValue=b,this.defaultValueDescription=B,this}argParser(b){return this.parseArg=b,this}choices(b){return this.argChoices=b.slice(),this.parseArg=(b,F)=>{if(!this.argChoices.includes(b))throw new B(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(b,F):b},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function tE(b){let B=b.name()+(b.variadic===!0?"...":"");return b.required?"<"+B+">":"["+B+"]"}b.Argument=F;b.humanReadableArgName=tE}));var An=w((b=>{var{humanReadableArgName:B}=dn(),F=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(b){var B,F;this.helpWidth=(F=(B=this.helpWidth)!=null?B:b.helpWidth)!=null?F:80}visibleCommands(b){let B=b.commands.filter((b=>!b._hidden)),F=b._getHelpCommand();return F&&!F._hidden&&B.push(F),this.sortSubcommands&&B.sort(((b,B)=>b.name().localeCompare(B.name()))),B}compareOptions(b,B){let i=b=>b.short?b.short.replace(/^-/,""):b.long.replace(/^--/,"");return i(b).localeCompare(i(B))}visibleOptions(b){let B=b.options.filter((b=>!b.hidden)),F=b._getHelpOption();if(F&&!F.hidden){let K=F.short&&b._findOption(F.short),se=F.long&&b._findOption(F.long);!K&&!se?B.push(F):F.long&&!se?B.push(b.createOption(F.long,F.description)):F.short&&!K&&B.push(b.createOption(F.short,F.description))}return this.sortOptions&&B.sort(this.compareOptions),B}visibleGlobalOptions(b){if(!this.showGlobalOptions)return[];let B=[];for(let F=b.parent;F;F=F.parent){let b=F.options.filter((b=>!b.hidden));B.push(...b)}return this.sortOptions&&B.sort(this.compareOptions),B}visibleArguments(b){return b._argsDescription&&b.registeredArguments.forEach((B=>{B.description=B.description||b._argsDescription[B.name()]||""})),b.registeredArguments.find((b=>b.description))?b.registeredArguments:[]}subcommandTerm(b){let F=b.registeredArguments.map((b=>B(b))).join(" ");return b._name+(b._aliases[0]?"|"+b._aliases[0]:"")+(b.options.length?" [options]":"")+(F?" "+F:"")}optionTerm(b){return b.flags}argumentTerm(b){return b.name()}longestSubcommandTermLength(b,B){return B.visibleCommands(b).reduce(((b,F)=>Math.max(b,this.displayWidth(B.styleSubcommandTerm(B.subcommandTerm(F))))),0)}longestOptionTermLength(b,B){return B.visibleOptions(b).reduce(((b,F)=>Math.max(b,this.displayWidth(B.styleOptionTerm(B.optionTerm(F))))),0)}longestGlobalOptionTermLength(b,B){return B.visibleGlobalOptions(b).reduce(((b,F)=>Math.max(b,this.displayWidth(B.styleOptionTerm(B.optionTerm(F))))),0)}longestArgumentTermLength(b,B){return B.visibleArguments(b).reduce(((b,F)=>Math.max(b,this.displayWidth(B.styleArgumentTerm(B.argumentTerm(F))))),0)}commandUsage(b){let B=b._name;b._aliases[0]&&(B=B+"|"+b._aliases[0]);let F="";for(let B=b.parent;B;B=B.parent)F=B.name()+" "+F;return F+B+" "+b.usage()}commandDescription(b){return b.description()}subcommandDescription(b){return b.summary()||b.description()}optionDescription(b){let B=[];return b.argChoices&&B.push(`choices: ${b.argChoices.map((b=>JSON.stringify(b))).join(", ")}`),b.defaultValue!==void 0&&(b.required||b.optional||b.isBoolean()&&typeof b.defaultValue=="boolean")&&B.push(`default: ${b.defaultValueDescription||JSON.stringify(b.defaultValue)}`),b.presetArg!==void 0&&b.optional&&B.push(`preset: ${JSON.stringify(b.presetArg)}`),b.envVar!==void 0&&B.push(`env: ${b.envVar}`),B.length>0?`${b.description} (${B.join(", ")})`:b.description}argumentDescription(b){let B=[];if(b.argChoices&&B.push(`choices: ${b.argChoices.map((b=>JSON.stringify(b))).join(", ")}`),b.defaultValue!==void 0&&B.push(`default: ${b.defaultValueDescription||JSON.stringify(b.defaultValue)}`),B.length>0){let F=`(${B.join(", ")})`;return b.description?`${b.description} ${F}`:F}return b.description}formatHelp(b,B){var F;let K=B.padWidth(b,B),se=(F=B.helpWidth)!=null?F:80;function s(b,F){return B.formatItem(b,K,F,B)}let oe=[`${B.styleTitle("Usage:")} ${B.styleUsage(B.commandUsage(b))}`,""],Qe=B.commandDescription(b);Qe.length>0&&(oe=oe.concat([B.boxWrap(B.styleCommandDescription(Qe),se),""]));let Re=B.visibleArguments(b).map((b=>s(B.styleArgumentTerm(B.argumentTerm(b)),B.styleArgumentDescription(B.argumentDescription(b)))));Re.length>0&&(oe=oe.concat([B.styleTitle("Arguments:"),...Re,""]));let Me=B.visibleOptions(b).map((b=>s(B.styleOptionTerm(B.optionTerm(b)),B.styleOptionDescription(B.optionDescription(b)))));if(Me.length>0&&(oe=oe.concat([B.styleTitle("Options:"),...Me,""])),B.showGlobalOptions){let F=B.visibleGlobalOptions(b).map((b=>s(B.styleOptionTerm(B.optionTerm(b)),B.styleOptionDescription(B.optionDescription(b)))));F.length>0&&(oe=oe.concat([B.styleTitle("Global Options:"),...F,""]))}let Le=B.visibleCommands(b).map((b=>s(B.styleSubcommandTerm(B.subcommandTerm(b)),B.styleSubcommandDescription(B.subcommandDescription(b)))));return Le.length>0&&(oe=oe.concat([B.styleTitle("Commands:"),...Le,""])),oe.join(`\n`)}displayWidth(b){return Xm(b).length}styleTitle(b){return b}styleUsage(b){return b.split(" ").map((b=>b==="[options]"?this.styleOptionText(b):b==="[command]"?this.styleSubcommandText(b):b[0]==="["||b[0]==="<"?this.styleArgumentText(b):this.styleCommandText(b))).join(" ")}styleCommandDescription(b){return this.styleDescriptionText(b)}styleOptionDescription(b){return this.styleDescriptionText(b)}styleSubcommandDescription(b){return this.styleDescriptionText(b)}styleArgumentDescription(b){return this.styleDescriptionText(b)}styleDescriptionText(b){return b}styleOptionTerm(b){return this.styleOptionText(b)}styleSubcommandTerm(b){return b.split(" ").map((b=>b==="[options]"?this.styleOptionText(b):b[0]==="["||b[0]==="<"?this.styleArgumentText(b):this.styleSubcommandText(b))).join(" ")}styleArgumentTerm(b){return this.styleArgumentText(b)}styleOptionText(b){return b}styleArgumentText(b){return b}styleSubcommandText(b){return b}styleCommandText(b){return b}padWidth(b,B){return Math.max(B.longestOptionTermLength(b,B),B.longestGlobalOptionTermLength(b,B),B.longestSubcommandTermLength(b,B),B.longestArgumentTermLength(b,B))}preformatted(b){return/\n[^\S\r\n]/.test(b)}formatItem(b,B,F,K){var se;let oe=" ".repeat(2);if(!F)return oe+b;let Qe=b.padEnd(B+b.length-K.displayWidth(b)),Re=2,Me=((se=this.helpWidth)!=null?se:80)-B-Re-2,Le;return Me<this.minWidthToWrap||K.preformatted(F)?Le=F:Le=K.boxWrap(F,Me).replace(/\n/g,`\n`+" ".repeat(B+Re)),oe+Qe+" ".repeat(Re)+Le.replace(/\n/g,`\n${oe}`)}boxWrap(b,B){if(B<this.minWidthToWrap)return b;let F=b.split(/\r\n|\n/),K=/[\s]*[^\s]+/g,se=[];return F.forEach((b=>{let F=b.match(K);if(F===null){se.push("");return}let oe=[F.shift()],Qe=this.displayWidth(oe[0]);F.forEach((b=>{let F=this.displayWidth(b);if(Qe+F<=B){oe.push(b),Qe+=F;return}se.push(oe.join(""));let K=b.trimStart();oe=[K],Qe=this.displayWidth(K)})),se.push(oe.join(""))})),se.join(`\n`)}};function Xm(b){let B=/\x1b\[\d*(;\d*)*m/g;return b.replace(B,"")}b.Help=F;b.stripColor=Xm}));var bn=w((b=>{var{InvalidArgumentError:B}=tn(),F=class{constructor(b,B){this.flags=b,this.description=B||"",this.required=b.includes("<"),this.optional=b.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(b),this.mandatory=!1;let F=nE(b);this.short=F.shortFlag,this.long=F.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(b,B){return this.defaultValue=b,this.defaultValueDescription=B,this}preset(b){return this.presetArg=b,this}conflicts(b){return this.conflictsWith=this.conflictsWith.concat(b),this}implies(b){let B=b;return typeof b=="string"&&(B={[b]:!0}),this.implied=Object.assign(this.implied||{},B),this}env(b){return this.envVar=b,this}argParser(b){return this.parseArg=b,this}makeOptionMandatory(b=!0){return this.mandatory=!!b,this}hideHelp(b=!0){return this.hidden=!!b,this}_concatValue(b,B){return B===this.defaultValue||!Array.isArray(B)?[b]:B.concat(b)}choices(b){return this.argChoices=b.slice(),this.parseArg=(b,F)=>{if(!this.argChoices.includes(b))throw new B(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(b,F):b},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?eg(this.name().replace(/^no-/,"")):eg(this.name())}is(b){return this.short===b||this.long===b}isBoolean(){return!this.required&&!this.optional&&!this.negate}},K=class{constructor(b){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,b.forEach((b=>{b.negate?this.negativeOptions.set(b.attributeName(),b):this.positiveOptions.set(b.attributeName(),b)})),this.negativeOptions.forEach(((b,B)=>{this.positiveOptions.has(B)&&this.dualOptions.add(B)}))}valueFromOption(b,B){let F=B.attributeName();if(!this.dualOptions.has(F))return!0;let K=this.negativeOptions.get(F).presetArg,se=K!==void 0?K:!1;return B.negate===(se===b)}};function eg(b){return b.split("-").reduce(((b,B)=>b+B[0].toUpperCase()+B.slice(1)))}function nE(b){let B,F,K=/^-[^-]$/,se=/^--[^-]/,oe=b.split(/[ |,]+/).concat("guard");if(K.test(oe[0])&&(B=oe.shift()),se.test(oe[0])&&(F=oe.shift()),!B&&K.test(oe[0])&&(B=oe.shift()),!B&&se.test(oe[0])&&(B=F,F=oe.shift()),oe[0].startsWith("-")){let B=oe[0],F=`option creation failed due to '${B}' in option flags '${b}'`;throw/^-[^-][^-]/.test(B)?new Error(`${F}\n- a short flag is a single dash and a single character\n  - either use a single dash and a single character (for a short flag)\n  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):K.test(B)?new Error(`${F}\n- too many short flags`):se.test(B)?new Error(`${F}\n- too many long flags`):new Error(`${F}\n- unrecognised flag format`)}if(B===void 0&&F===void 0)throw new Error(`option creation failed due to no flags found in '${b}'.`);return{shortFlag:B,longFlag:F}}b.Option=F;b.DualOptions=K}));var En=w((b=>{function sE(b,B){if(Math.abs(b.length-B.length)>3)return Math.max(b.length,B.length);let F=[];for(let B=0;B<=b.length;B++)F[B]=[B];for(let b=0;b<=B.length;b++)F[0][b]=b;for(let K=1;K<=B.length;K++)for(let se=1;se<=b.length;se++){let oe=1;b[se-1]===B[K-1]?oe=0:oe=1,F[se][K]=Math.min(F[se-1][K]+1,F[se][K-1]+1,F[se-1][K-1]+oe),se>1&&K>1&&b[se-1]===B[K-2]&&b[se-2]===B[K-1]&&(F[se][K]=Math.min(F[se][K],F[se-2][K-2]+1))}return F[b.length][B.length]}function aE(b,B){if(!B||B.length===0)return"";B=Array.from(new Set(B));let F=b.startsWith("--");F&&(b=b.slice(2),B=B.map((b=>b.slice(2))));let K=[],se=3,oe=.4;return B.forEach((B=>{if(B.length<=1)return;let F=sE(b,B),Qe=Math.max(b.length,B.length);(Qe-F)/Qe>oe&&(F<se?(se=F,K=[B]):F===se&&K.push(B))})),K.sort(((b,B)=>b.localeCompare(B))),F&&(K=K.map((b=>`--${b}`))),K.length>1?`\n(Did you mean one of ${K.join(", ")}?)`:K.length===1?`\n(Did you mean ${K[0]}?)`:""}b.suggestSimilar=aE}));var _n=w((b=>{var B=F(8474).EventEmitter,K=F(1421),se=F(6760),oe=F(3024),Qe=F(1708),{Argument:Re,humanReadableArgName:Me}=dn(),{CommanderError:Le}=tn(),{Help:We,stripColor:Ge}=An(),{Option:ze,DualOptions:$e}=bn(),{suggestSimilar:Ye}=En(),Ke=class r extends B{constructor(b){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=b||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:b=>Qe.stdout.write(b),writeErr:b=>Qe.stderr.write(b),outputError:(b,B)=>B(b),getOutHelpWidth:()=>Qe.stdout.isTTY?Qe.stdout.columns:void 0,getErrHelpWidth:()=>Qe.stderr.isTTY?Qe.stderr.columns:void 0,getOutHasColors:()=>{var b,B,F;return(F=jc())!=null?F:Qe.stdout.isTTY&&((B=(b=Qe.stdout).hasColors)==null?void 0:B.call(b))},getErrHasColors:()=>{var b,B,F;return(F=jc())!=null?F:Qe.stderr.isTTY&&((B=(b=Qe.stderr).hasColors)==null?void 0:B.call(b))},stripColor:b=>Ge(b)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(b){return this._outputConfiguration=b._outputConfiguration,this._helpOption=b._helpOption,this._helpCommand=b._helpCommand,this._helpConfiguration=b._helpConfiguration,this._exitCallback=b._exitCallback,this._storeOptionsAsProperties=b._storeOptionsAsProperties,this._combineFlagAndOptionalValue=b._combineFlagAndOptionalValue,this._allowExcessArguments=b._allowExcessArguments,this._enablePositionalOptions=b._enablePositionalOptions,this._showHelpAfterError=b._showHelpAfterError,this._showSuggestionAfterError=b._showSuggestionAfterError,this}_getCommandAndAncestors(){let b=[];for(let B=this;B;B=B.parent)b.push(B);return b}command(b,B,F){let K=B,se=F;typeof K=="object"&&K!==null&&(se=K,K=null),se=se||{};let[,oe,Qe]=b.match(/([^ ]+) *(.*)/),Re=this.createCommand(oe);return K&&(Re.description(K),Re._executableHandler=!0),se.isDefault&&(this._defaultCommandName=Re._name),Re._hidden=!!(se.noHelp||se.hidden),Re._executableFile=se.executableFile||null,Qe&&Re.arguments(Qe),this._registerCommand(Re),Re.parent=this,Re.copyInheritedSettings(this),K?this:Re}createCommand(b){return new r(b)}createHelp(){return Object.assign(new We,this.configureHelp())}configureHelp(b){return b===void 0?this._helpConfiguration:(this._helpConfiguration=b,this)}configureOutput(b){return b===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,b),this)}showHelpAfterError(b=!0){return typeof b!="string"&&(b=!!b),this._showHelpAfterError=b,this}showSuggestionAfterError(b=!0){return this._showSuggestionAfterError=!!b,this}addCommand(b,B){if(!b._name)throw new Error(`Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()`);return B=B||{},B.isDefault&&(this._defaultCommandName=b._name),(B.noHelp||B.hidden)&&(b._hidden=!0),this._registerCommand(b),b.parent=this,b._checkForBrokenPassThrough(),this}createArgument(b,B){return new Re(b,B)}argument(b,B,F,K){let se=this.createArgument(b,B);return typeof F=="function"?se.default(K).argParser(F):se.default(F),this.addArgument(se),this}arguments(b){return b.trim().split(/ +/).forEach((b=>{this.argument(b)})),this}addArgument(b){let B=this.registeredArguments.slice(-1)[0];if(B&&B.variadic)throw new Error(`only the last argument can be variadic '${B.name()}'`);if(b.required&&b.defaultValue!==void 0&&b.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${b.name()}'`);return this.registeredArguments.push(b),this}helpCommand(b,B){if(typeof b=="boolean")return this._addImplicitHelpCommand=b,this;b=b!=null?b:"help [command]";let[,F,K]=b.match(/([^ ]+) *(.*)/),se=B!=null?B:"display help for command",oe=this.createCommand(F);return oe.helpOption(!1),K&&oe.arguments(K),se&&oe.description(se),this._addImplicitHelpCommand=!0,this._helpCommand=oe,this}addHelpCommand(b,B){return typeof b!="object"?(this.helpCommand(b,B),this):(this._addImplicitHelpCommand=!0,this._helpCommand=b,this)}_getHelpCommand(){var b;return((b=this._addImplicitHelpCommand)!=null?b:this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(b,B){let F=["preSubcommand","preAction","postAction"];if(!F.includes(b))throw new Error(`Unexpected value for event passed to hook : '${b}'.\nExpecting one of '${F.join("', '")}'`);return this._lifeCycleHooks[b]?this._lifeCycleHooks[b].push(B):this._lifeCycleHooks[b]=[B],this}exitOverride(b){return b?this._exitCallback=b:this._exitCallback=b=>{if(b.code!=="commander.executeSubCommandAsync")throw b},this}_exit(b,B,F){this._exitCallback&&this._exitCallback(new Le(b,B,F)),Qe.exit(b)}action(b){let t=B=>{let F=this.registeredArguments.length,K=B.slice(0,F);return this._storeOptionsAsProperties?K[F]=this:K[F]=this.opts(),K.push(this),b.apply(this,K)};return this._actionHandler=t,this}createOption(b,B){return new ze(b,B)}_callParseArg(b,B,F,K){try{return b.parseArg(B,F)}catch(b){if(b.code==="commander.invalidArgument"){let B=`${K} ${b.message}`;this.error(B,{exitCode:b.exitCode,code:b.code})}throw b}}_registerOption(b){let B=b.short&&this._findOption(b.short)||b.long&&this._findOption(b.long);if(B){let F=b.long&&this._findOption(b.long)?b.long:b.short;throw new Error(`Cannot add option '${b.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${F}'\n-  already used by option '${B.flags}'`)}this.options.push(b)}_registerCommand(b){let t=b=>[b.name()].concat(b.aliases()),B=t(b).find((b=>this._findCommand(b)));if(B){let F=t(this._findCommand(B)).join("|"),K=t(b).join("|");throw new Error(`cannot add command '${K}' as already have command '${F}'`)}this.commands.push(b)}addOption(b){this._registerOption(b);let B=b.name(),F=b.attributeName();if(b.negate){let B=b.long.replace(/^--no-/,"--");this._findOption(B)||this.setOptionValueWithSource(F,b.defaultValue===void 0?!0:b.defaultValue,"default")}else b.defaultValue!==void 0&&this.setOptionValueWithSource(F,b.defaultValue,"default");let n=(B,K,se)=>{B==null&&b.presetArg!==void 0&&(B=b.presetArg);let oe=this.getOptionValue(F);B!==null&&b.parseArg?B=this._callParseArg(b,B,oe,K):B!==null&&b.variadic&&(B=b._concatValue(B,oe)),B==null&&(b.negate?B=!1:b.isBoolean()||b.optional?B=!0:B=""),this.setOptionValueWithSource(F,B,se)};return this.on("option:"+B,(B=>{let F=`error: option '${b.flags}' argument '${B}' is invalid.`;n(B,F,"cli")})),b.envVar&&this.on("optionEnv:"+B,(B=>{let F=`error: option '${b.flags}' value '${B}' from env '${b.envVar}' is invalid.`;n(B,F,"env")})),this}_optionEx(b,B,F,K,se){if(typeof B=="object"&&B instanceof ze)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let oe=this.createOption(B,F);if(oe.makeOptionMandatory(!!b.mandatory),typeof K=="function")oe.default(se).argParser(K);else if(K instanceof RegExp){let b=K;K=(B,F)=>{let K=b.exec(B);return K?K[0]:F},oe.default(se).argParser(K)}else oe.default(K);return this.addOption(oe)}option(b,B,F,K){return this._optionEx({},b,B,F,K)}requiredOption(b,B,F,K){return this._optionEx({mandatory:!0},b,B,F,K)}combineFlagAndOptionalValue(b=!0){return this._combineFlagAndOptionalValue=!!b,this}allowUnknownOption(b=!0){return this._allowUnknownOption=!!b,this}allowExcessArguments(b=!0){return this._allowExcessArguments=!!b,this}enablePositionalOptions(b=!0){return this._enablePositionalOptions=!!b,this}passThroughOptions(b=!0){return this._passThroughOptions=!!b,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(b=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!b,this}getOptionValue(b){return this._storeOptionsAsProperties?this[b]:this._optionValues[b]}setOptionValue(b,B){return this.setOptionValueWithSource(b,B,void 0)}setOptionValueWithSource(b,B,F){return this._storeOptionsAsProperties?this[b]=B:this._optionValues[b]=B,this._optionValueSources[b]=F,this}getOptionValueSource(b){return this._optionValueSources[b]}getOptionValueSourceWithGlobals(b){let B;return this._getCommandAndAncestors().forEach((F=>{F.getOptionValueSource(b)!==void 0&&(B=F.getOptionValueSource(b))})),B}_prepareUserArgs(b,B){var F,K;if(b!==void 0&&!Array.isArray(b))throw new Error("first parameter to parse must be array or undefined");if(B=B||{},b===void 0&&B.from===void 0){(F=Qe.versions)!=null&&F.electron&&(B.from="electron");let b=(K=Qe.execArgv)!=null?K:[];(b.includes("-e")||b.includes("--eval")||b.includes("-p")||b.includes("--print"))&&(B.from="eval")}b===void 0&&(b=Qe.argv),this.rawArgs=b.slice();let se;switch(B.from){case void 0:case"node":this._scriptPath=b[1],se=b.slice(2);break;case"electron":Qe.defaultApp?(this._scriptPath=b[1],se=b.slice(2)):se=b.slice(1);break;case"user":se=b.slice(0);break;case"eval":se=b.slice(1);break;default:throw new Error(`unexpected parse option { from: '${B.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",se}parse(b,B){this._prepareForParse();let F=this._prepareUserArgs(b,B);return this._parseCommand([],F),this}async parseAsync(b,B){this._prepareForParse();let F=this._prepareUserArgs(b,B);return await this._parseCommand([],F),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.\n- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(b,B,F){if(oe.existsSync(b))return;let K=B?`searched for local subcommand relative to directory '${B}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",se=`'${b}' does not exist\n - if '${F}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${K}`;throw new Error(se)}_executeSubCommand(b,B){B=B.slice();let F=!1,Re=[".js",".ts",".tsx",".mjs",".cjs"];function s(b,B){let F=se.resolve(b,B);if(oe.existsSync(F))return F;if(Re.includes(se.extname(B)))return;let K=Re.find((b=>oe.existsSync(`${F}${b}`)));if(K)return`${F}${K}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let Me=b._executableFile||`${this._name}-${b._name}`,We=this._executableDir||"";if(this._scriptPath){let b;try{b=oe.realpathSync(this._scriptPath)}catch{b=this._scriptPath}We=se.resolve(se.dirname(b),We)}if(We){let B=s(We,Me);if(!B&&!b._executableFile&&this._scriptPath){let F=se.basename(this._scriptPath,se.extname(this._scriptPath));F!==this._name&&(B=s(We,`${F}-${b._name}`))}Me=B||Me}F=Re.includes(se.extname(Me));let Ge;Qe.platform!=="win32"?F?(B.unshift(Me),B=sg(Qe.execArgv).concat(B),Ge=K.spawn(Qe.argv[0],B,{stdio:"inherit"})):Ge=K.spawn(Me,B,{stdio:"inherit"}):(this._checkForMissingExecutable(Me,We,b._name),B.unshift(Me),B=sg(Qe.execArgv).concat(B),Ge=K.spawn(Qe.execPath,B,{stdio:"inherit"})),Ge.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((b=>{Qe.on(b,(()=>{Ge.killed===!1&&Ge.exitCode===null&&Ge.kill(b)}))}));let ze=this._exitCallback;Ge.on("close",(b=>{b=b!=null?b:1,ze?ze(new Le(b,"commander.executeSubCommandAsync","(close)")):Qe.exit(b)})),Ge.on("error",(B=>{if(B.code==="ENOENT")this._checkForMissingExecutable(Me,We,b._name);else if(B.code==="EACCES")throw new Error(`'${Me}' not executable`);if(!ze)Qe.exit(1);else{let b=new Le(1,"commander.executeSubCommandAsync","(error)");b.nestedError=B,ze(b)}})),this.runningCommand=Ge}_dispatchSubcommand(b,B,F){let K=this._findCommand(b);K||this.help({error:!0}),K._prepareForParse();let se;return se=this._chainOrCallSubCommandHook(se,K,"preSubcommand"),se=this._chainOrCall(se,(()=>{if(K._executableHandler)this._executeSubCommand(K,B.concat(F));else return K._parseCommand(B,F)})),se}_dispatchHelpCommand(b){var B,F,K,se;b||this.help();let oe=this._findCommand(b);return oe&&!oe._executableHandler&&oe.help(),this._dispatchSubcommand(b,[],[(se=(K=(B=this._getHelpOption())==null?void 0:B.long)!=null?K:(F=this._getHelpOption())==null?void 0:F.short)!=null?se:"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach(((b,B)=>{b.required&&this.args[B]==null&&this.missingArgument(b.name())})),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(b,B,F)=>{let K=B;if(B!==null&&b.parseArg){let se=`error: command-argument value '${B}' is invalid for argument '${b.name()}'.`;K=this._callParseArg(b,B,F,se)}return K};this._checkNumberOfArguments();let b=[];this.registeredArguments.forEach(((B,F)=>{let K=B.defaultValue;B.variadic?F<this.args.length?(K=this.args.slice(F),B.parseArg&&(K=K.reduce(((b,F)=>e(B,F,b)),B.defaultValue))):K===void 0&&(K=[]):F<this.args.length&&(K=this.args[F],B.parseArg&&(K=e(B,K,B.defaultValue))),b[F]=K})),this.processedArgs=b}_chainOrCall(b,B){return b&&b.then&&typeof b.then=="function"?b.then((()=>B())):B()}_chainOrCallHooks(b,B){let F=b,K=[];return this._getCommandAndAncestors().reverse().filter((b=>b._lifeCycleHooks[B]!==void 0)).forEach((b=>{b._lifeCycleHooks[B].forEach((B=>{K.push({hookedCommand:b,callback:B})}))})),B==="postAction"&&K.reverse(),K.forEach((b=>{F=this._chainOrCall(F,(()=>b.callback(b.hookedCommand,this)))})),F}_chainOrCallSubCommandHook(b,B,F){let K=b;return this._lifeCycleHooks[F]!==void 0&&this._lifeCycleHooks[F].forEach((b=>{K=this._chainOrCall(K,(()=>b(this,B)))})),K}_parseCommand(b,B){let F=this.parseOptions(B);if(this._parseOptionsEnv(),this._parseOptionsImplied(),b=b.concat(F.operands),B=F.unknown,this.args=b.concat(B),b&&this._findCommand(b[0]))return this._dispatchSubcommand(b[0],b.slice(1),B);if(this._getHelpCommand()&&b[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(b[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(B),this._dispatchSubcommand(this._defaultCommandName,b,B);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(F.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let n=()=>{F.unknown.length>0&&this.unknownOption(F.unknown[0])},K=`command:${this.name()}`;if(this._actionHandler){n(),this._processArguments();let F;return F=this._chainOrCallHooks(F,"preAction"),F=this._chainOrCall(F,(()=>this._actionHandler(this.processedArgs))),this.parent&&(F=this._chainOrCall(F,(()=>{this.parent.emit(K,b,B)}))),F=this._chainOrCallHooks(F,"postAction"),F}if(this.parent&&this.parent.listenerCount(K))n(),this._processArguments(),this.parent.emit(K,b,B);else if(b.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",b,B);this.listenerCount("command:*")?this.emit("command:*",b,B):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(b){if(b)return this.commands.find((B=>B._name===b||B._aliases.includes(b)))}_findOption(b){return this.options.find((B=>B.is(b)))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((b=>{b.options.forEach((B=>{B.mandatory&&b.getOptionValue(B.attributeName())===void 0&&b.missingMandatoryOptionValue(B)}))}))}_checkForConflictingLocalOptions(){let b=this.options.filter((b=>{let B=b.attributeName();return this.getOptionValue(B)===void 0?!1:this.getOptionValueSource(B)!=="default"}));b.filter((b=>b.conflictsWith.length>0)).forEach((B=>{let F=b.find((b=>B.conflictsWith.includes(b.attributeName())));F&&this._conflictingOption(B,F)}))}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((b=>{b._checkForConflictingLocalOptions()}))}parseOptions(b){let B=[],F=[],K=B,se=b.slice();function a(b){return b.length>1&&b[0]==="-"}let oe=null;for(;se.length;){let b=se.shift();if(b==="--"){K===F&&K.push(b),K.push(...se);break}if(oe&&!a(b)){this.emit(`option:${oe.name()}`,b);continue}if(oe=null,a(b)){let B=this._findOption(b);if(B){if(B.required){let b=se.shift();b===void 0&&this.optionMissingArgument(B),this.emit(`option:${B.name()}`,b)}else if(B.optional){let b=null;se.length>0&&!a(se[0])&&(b=se.shift()),this.emit(`option:${B.name()}`,b)}else this.emit(`option:${B.name()}`);oe=B.variadic?B:null;continue}}if(b.length>2&&b[0]==="-"&&b[1]!=="-"){let B=this._findOption(`-${b[1]}`);if(B){B.required||B.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${B.name()}`,b.slice(2)):(this.emit(`option:${B.name()}`),se.unshift(`-${b.slice(2)}`));continue}}if(/^--[^=]+=/.test(b)){let B=b.indexOf("="),F=this._findOption(b.slice(0,B));if(F&&(F.required||F.optional)){this.emit(`option:${F.name()}`,b.slice(B+1));continue}}if(a(b)&&(K=F),(this._enablePositionalOptions||this._passThroughOptions)&&B.length===0&&F.length===0){if(this._findCommand(b)){B.push(b),se.length>0&&F.push(...se);break}else if(this._getHelpCommand()&&b===this._getHelpCommand().name()){B.push(b),se.length>0&&B.push(...se);break}else if(this._defaultCommandName){F.push(b),se.length>0&&F.push(...se);break}}if(this._passThroughOptions){K.push(b),se.length>0&&K.push(...se);break}K.push(b)}return{operands:B,unknown:F}}opts(){if(this._storeOptionsAsProperties){let b={},B=this.options.length;for(let F=0;F<B;F++){let B=this.options[F].attributeName();b[B]=B===this._versionOptionName?this._version:this[B]}return b}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(((b,B)=>Object.assign(b,B.opts())),{})}error(b,B){this._outputConfiguration.outputError(`${b}\n`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`\n`),this.outputHelp({error:!0}));let F=B||{},K=F.exitCode||1,se=F.code||"commander.error";this._exit(K,se,b)}_parseOptionsEnv(){this.options.forEach((b=>{if(b.envVar&&b.envVar in Qe.env){let B=b.attributeName();(this.getOptionValue(B)===void 0||["default","config","env"].includes(this.getOptionValueSource(B)))&&(b.required||b.optional?this.emit(`optionEnv:${b.name()}`,Qe.env[b.envVar]):this.emit(`optionEnv:${b.name()}`))}}))}_parseOptionsImplied(){let b=new $e(this.options),t=b=>this.getOptionValue(b)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(b));this.options.filter((B=>B.implied!==void 0&&t(B.attributeName())&&b.valueFromOption(this.getOptionValue(B.attributeName()),B))).forEach((b=>{Object.keys(b.implied).filter((b=>!t(b))).forEach((B=>{this.setOptionValueWithSource(B,b.implied[B],"implied")}))}))}missingArgument(b){let B=`error: missing required argument '${b}'`;this.error(B,{code:"commander.missingArgument"})}optionMissingArgument(b){let B=`error: option '${b.flags}' argument missing`;this.error(B,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(b){let B=`error: required option '${b.flags}' not specified`;this.error(B,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(b,B){let i=b=>{let B=b.attributeName(),F=this.getOptionValue(B),K=this.options.find((b=>b.negate&&B===b.attributeName())),se=this.options.find((b=>!b.negate&&B===b.attributeName()));return K&&(K.presetArg===void 0&&F===!1||K.presetArg!==void 0&&F===K.presetArg)?K:se||b},n=b=>{let B=i(b),F=B.attributeName();return this.getOptionValueSource(F)==="env"?`environment variable '${B.envVar}'`:`option '${B.flags}'`},F=`error: ${n(b)} cannot be used with ${n(B)}`;this.error(F,{code:"commander.conflictingOption"})}unknownOption(b){if(this._allowUnknownOption)return;let B="";if(b.startsWith("--")&&this._showSuggestionAfterError){let F=[],K=this;do{let b=K.createHelp().visibleOptions(K).filter((b=>b.long)).map((b=>b.long));F=F.concat(b),K=K.parent}while(K&&!K._enablePositionalOptions);B=Ye(b,F)}let F=`error: unknown option '${b}'${B}`;this.error(F,{code:"commander.unknownOption"})}_excessArguments(b){if(this._allowExcessArguments)return;let B=this.registeredArguments.length,F=B===1?"":"s",K=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${B} argument${F} but got ${b.length}.`;this.error(K,{code:"commander.excessArguments"})}unknownCommand(){let b=this.args[0],B="";if(this._showSuggestionAfterError){let F=[];this.createHelp().visibleCommands(this).forEach((b=>{F.push(b.name()),b.alias()&&F.push(b.alias())})),B=Ye(b,F)}let F=`error: unknown command '${b}'${B}`;this.error(F,{code:"commander.unknownCommand"})}version(b,B,F){if(b===void 0)return this._version;this._version=b,B=B||"-V, --version",F=F||"output the version number";let K=this.createOption(B,F);return this._versionOptionName=K.attributeName(),this._registerOption(K),this.on("option:"+K.name(),(()=>{this._outputConfiguration.writeOut(`${b}\n`),this._exit(0,"commander.version",b)})),this}description(b,B){return b===void 0&&B===void 0?this._description:(this._description=b,B&&(this._argsDescription=B),this)}summary(b){return b===void 0?this._summary:(this._summary=b,this)}alias(b){var B;if(b===void 0)return this._aliases[0];let F=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(F=this.commands[this.commands.length-1]),b===F._name)throw new Error("Command alias can't be the same as its name");let K=(B=this.parent)==null?void 0:B._findCommand(b);if(K){let B=[K.name()].concat(K.aliases()).join("|");throw new Error(`cannot add alias '${b}' to command '${this.name()}' as already have command '${B}'`)}return F._aliases.push(b),this}aliases(b){return b===void 0?this._aliases:(b.forEach((b=>this.alias(b))),this)}usage(b){if(b===void 0){if(this._usage)return this._usage;let b=this.registeredArguments.map((b=>Me(b)));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?b:[]).join(" ")}return this._usage=b,this}name(b){return b===void 0?this._name:(this._name=b,this)}nameFromFilename(b){return this._name=se.basename(b,se.extname(b)),this}executableDir(b){return b===void 0?this._executableDir:(this._executableDir=b,this)}helpInformation(b){let B=this.createHelp(),F=this._getOutputContext(b);B.prepareContext({error:F.error,helpWidth:F.helpWidth,outputHasColors:F.hasColors});let K=B.formatHelp(this,B);return F.hasColors?K:this._outputConfiguration.stripColor(K)}_getOutputContext(b){b=b||{};let B=!!b.error,F,K,se;return B?(F=b=>this._outputConfiguration.writeErr(b),K=this._outputConfiguration.getErrHasColors(),se=this._outputConfiguration.getErrHelpWidth()):(F=b=>this._outputConfiguration.writeOut(b),K=this._outputConfiguration.getOutHasColors(),se=this._outputConfiguration.getOutHelpWidth()),{error:B,write:b=>(K||(b=this._outputConfiguration.stripColor(b)),F(b)),hasColors:K,helpWidth:se}}outputHelp(b){var B;let F;typeof b=="function"&&(F=b,b=void 0);let K=this._getOutputContext(b),se={error:K.error,write:K.write,command:this};this._getCommandAndAncestors().reverse().forEach((b=>b.emit("beforeAllHelp",se))),this.emit("beforeHelp",se);let oe=this.helpInformation({error:K.error});if(F&&(oe=F(oe),typeof oe!="string"&&!Buffer.isBuffer(oe)))throw new Error("outputHelp callback must return a string or a Buffer");K.write(oe),(B=this._getHelpOption())!=null&&B.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",se),this._getCommandAndAncestors().forEach((b=>b.emit("afterAllHelp",se)))}helpOption(b,B){var F;return typeof b=="boolean"?(b?this._helpOption=(F=this._helpOption)!=null?F:void 0:this._helpOption=null,this):(b=b!=null?b:"-h, --help",B=B!=null?B:"display help for command",this._helpOption=this.createOption(b,B),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(b){return this._helpOption=b,this}help(b){var B;this.outputHelp(b);let F=Number((B=Qe.exitCode)!=null?B:0);F===0&&b&&typeof b!="function"&&b.error&&(F=1),this._exit(F,"commander.help","(outputHelp)")}addHelpText(b,B){let F=["beforeAll","before","after","afterAll"];if(!F.includes(b))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${F.join("', '")}'`);let K=`${b}Help`;return this.on(K,(b=>{let F;typeof B=="function"?F=B({error:b.error,command:b.command}):F=B,F&&b.write(`${F}\n`)})),this}_outputHelpIfRequested(b){let B=this._getHelpOption();B&&b.find((b=>B.is(b)))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function sg(b){return b.map((b=>{if(!b.startsWith("--inspect"))return b;let B,F="127.0.0.1",K="9229",se;return(se=b.match(/^(--inspect(-brk)?)$/))!==null?B=se[1]:(se=b.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(B=se[1],/^\d+$/.test(se[3])?K=se[3]:F=se[3]):(se=b.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(B=se[1],F=se[3],K=se[4]),B&&K!=="0"?`${B}=${F}:${parseInt(K)+1}`:b}))}function jc(){if(Qe.env.NO_COLOR||Qe.env.FORCE_COLOR==="0"||Qe.env.FORCE_COLOR==="false")return!1;if(Qe.env.FORCE_COLOR||Qe.env.CLICOLOR_FORCE!==void 0)return!0}b.Command=Ke;b.useColor=jc}));var In=w((b=>{var{Argument:B}=dn(),{Command:F}=_n(),{CommanderError:K,InvalidArgumentError:se}=tn(),{Help:oe}=An(),{Option:Qe}=bn();b.program=new F;b.createCommand=b=>new F(b);b.createOption=(b,B)=>new Qe(b,B);b.createArgument=(b,F)=>new B(b,F);b.Command=F;b.Option=Qe;b.Argument=B;b.Help=oe;b.CommanderError=K;b.InvalidArgumentError=se;b.InvalidOptionArgumentError=se}));var Sn=w(((b,B)=>{b=B.exports=xn;function xn(b,B){if(this.stream=B.stream||process.stderr,typeof B=="number"){var F=B;B={},B.total=F}else{if(B=B||{},typeof b!="string")throw new Error("format required");if(typeof B.total!="number")throw new Error("total required")}this.fmt=b,this.curr=B.curr||0,this.total=B.total,this.width=B.width||this.total,this.clear=B.clear,this.chars={complete:B.complete||"=",incomplete:B.incomplete||"-",head:B.head||B.complete||"="},this.renderThrottle=B.renderThrottle!==0?B.renderThrottle||16:0,this.lastRender=-1/0,this.callback=B.callback||function(){},this.tokens={},this.lastDraw=""}xn.prototype.tick=function(b,B){if(b!==0&&(b=b||1),typeof b=="object"&&(B=b,b=1),B&&(this.tokens=B),this.curr==0&&(this.start=new Date),this.curr+=b,this.render(),this.curr>=this.total){this.render(void 0,!0),this.complete=!0,this.terminate(),this.callback(this);return}};xn.prototype.render=function(b,B){if(B=B!==void 0?B:!1,b&&(this.tokens=b),!!this.stream.isTTY){var F=Date.now(),K=F-this.lastRender;if(!(!B&&K<this.renderThrottle)){this.lastRender=F;var se=this.curr/this.total;se=Math.min(Math.max(se,0),1);var oe=Math.floor(se*100),Qe,Re,Me,Le=new Date-this.start,We=oe==100?0:Le*(this.total/this.curr-1),Ge=this.curr/(Le/1e3),ze=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(Le)?"0.0":(Le/1e3).toFixed(1)).replace(":eta",isNaN(We)||!isFinite(We)?"0.0":(We/1e3).toFixed(1)).replace(":percent",oe.toFixed(0)+"%").replace(":rate",Math.round(Ge)),$e=Math.max(0,this.stream.columns-ze.replace(":bar","").length);$e&&process.platform==="win32"&&($e=$e-1);var Ye=Math.min(this.width,$e);if(Me=Math.round(Ye*se),Re=Array(Math.max(0,Me+1)).join(this.chars.complete),Qe=Array(Math.max(0,Ye-Me+1)).join(this.chars.incomplete),Me>0&&(Re=Re.slice(0,-1)+this.chars.head),ze=ze.replace(":bar",Re+Qe),this.tokens)for(var Ke in this.tokens)ze=ze.replace(":"+Ke,this.tokens[Ke]);this.lastDraw!==ze&&(this.stream.cursorTo(0),this.stream.write(ze),this.stream.clearLine(1),this.lastDraw=ze)}}};xn.prototype.update=function(b,B){var F=Math.floor(b*this.total),K=F-this.curr;this.tick(K,B)};xn.prototype.interrupt=function(b){this.stream.clearLine(),this.stream.cursorTo(0),this.stream.write(b),this.stream.write(`\n`),this.stream.write(this.lastDraw)};xn.prototype.terminate=function(){this.clear?this.stream.clearLine&&(this.stream.clearLine(),this.stream.cursorTo(0)):this.stream.write(`\n`)}}));var kn=w(((b,B)=>{B.exports=Sn()}));var Qn=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var B=F(181),K={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};b.ERRORS=K;function mE(b){if(!B.Buffer.isEncoding(b))throw new Error(K.INVALID_ENCODING)}b.checkEncoding=mE;function bg(b){return typeof b=="number"&&isFinite(b)&&_E(b)}b.isFiniteInteger=bg;function xg(b,B){if(typeof b=="number"){if(!bg(b)||b<0)throw new Error(B?K.INVALID_OFFSET:K.INVALID_LENGTH)}else throw new Error(B?K.INVALID_OFFSET_NON_NUMBER:K.INVALID_LENGTH_NON_NUMBER)}function gE(b){xg(b,!1)}b.checkLengthValue=gE;function vE(b){xg(b,!0)}b.checkOffsetValue=vE;function yE(b,B){if(b<0||b>B.length)throw new Error(K.INVALID_TARGET_OFFSET)}b.checkTargetOffset=yE;function _E(b){return typeof b=="number"&&isFinite(b)&&Math.floor(b)===b}function bE(b){if(typeof BigInt=="undefined")throw new Error("Platform does not support JS BigInt type.");if(typeof B.Buffer.prototype[b]=="undefined")throw new Error(`Platform does not support Buffer.prototype.${b}.`)}b.bigIntAndBufferInt64Check=bE}));var On=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var B=Qn(),F=4096,K="utf8",se=class r{constructor(b){if(this.length=0,this._encoding=K,this._writeOffset=0,this._readOffset=0,r.isSmartBufferOptions(b))if(b.encoding&&(B.checkEncoding(b.encoding),this._encoding=b.encoding),b.size)if(B.isFiniteInteger(b.size)&&b.size>0)this._buff=Buffer.allocUnsafe(b.size);else throw new Error(B.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(b.buff)if(Buffer.isBuffer(b.buff))this._buff=b.buff,this.length=b.buff.length;else throw new Error(B.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(F);else{if(typeof b!="undefined")throw new Error(B.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(F)}}static fromSize(b,B){return new this({size:b,encoding:B})}static fromBuffer(b,B){return new this({buff:b,encoding:B})}static fromOptions(b){return new this(b)}static isSmartBufferOptions(b){let B=b;return B&&(B.encoding!==void 0||B.size!==void 0||B.buff!==void 0)}readInt8(b){return this._readNumberValue(Buffer.prototype.readInt8,1,b)}readInt16BE(b){return this._readNumberValue(Buffer.prototype.readInt16BE,2,b)}readInt16LE(b){return this._readNumberValue(Buffer.prototype.readInt16LE,2,b)}readInt32BE(b){return this._readNumberValue(Buffer.prototype.readInt32BE,4,b)}readInt32LE(b){return this._readNumberValue(Buffer.prototype.readInt32LE,4,b)}readBigInt64BE(b){return B.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,b)}readBigInt64LE(b){return B.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,b)}writeInt8(b,B){return this._writeNumberValue(Buffer.prototype.writeInt8,1,b,B),this}insertInt8(b,B){return this._insertNumberValue(Buffer.prototype.writeInt8,1,b,B)}writeInt16BE(b,B){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,b,B)}insertInt16BE(b,B){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,b,B)}writeInt16LE(b,B){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,b,B)}insertInt16LE(b,B){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,b,B)}writeInt32BE(b,B){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,b,B)}insertInt32BE(b,B){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,b,B)}writeInt32LE(b,B){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,b,B)}insertInt32LE(b,B){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,b,B)}writeBigInt64BE(b,F){return B.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,b,F)}insertBigInt64BE(b,F){return B.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,b,F)}writeBigInt64LE(b,F){return B.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,b,F)}insertBigInt64LE(b,F){return B.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,b,F)}readUInt8(b){return this._readNumberValue(Buffer.prototype.readUInt8,1,b)}readUInt16BE(b){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,b)}readUInt16LE(b){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,b)}readUInt32BE(b){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,b)}readUInt32LE(b){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,b)}readBigUInt64BE(b){return B.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,b)}readBigUInt64LE(b){return B.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,b)}writeUInt8(b,B){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,b,B)}insertUInt8(b,B){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,b,B)}writeUInt16BE(b,B){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,b,B)}insertUInt16BE(b,B){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,b,B)}writeUInt16LE(b,B){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,b,B)}insertUInt16LE(b,B){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,b,B)}writeUInt32BE(b,B){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,b,B)}insertUInt32BE(b,B){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,b,B)}writeUInt32LE(b,B){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,b,B)}insertUInt32LE(b,B){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,b,B)}writeBigUInt64BE(b,F){return B.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,b,F)}insertBigUInt64BE(b,F){return B.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,b,F)}writeBigUInt64LE(b,F){return B.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,b,F)}insertBigUInt64LE(b,F){return B.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,b,F)}readFloatBE(b){return this._readNumberValue(Buffer.prototype.readFloatBE,4,b)}readFloatLE(b){return this._readNumberValue(Buffer.prototype.readFloatLE,4,b)}writeFloatBE(b,B){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,b,B)}insertFloatBE(b,B){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,b,B)}writeFloatLE(b,B){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,b,B)}insertFloatLE(b,B){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,b,B)}readDoubleBE(b){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,b)}readDoubleLE(b){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,b)}writeDoubleBE(b,B){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,b,B)}insertDoubleBE(b,B){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,b,B)}writeDoubleLE(b,B){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,b,B)}insertDoubleLE(b,B){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,b,B)}readString(b,F){let K;typeof b=="number"?(B.checkLengthValue(b),K=Math.min(b,this.length-this._readOffset)):(F=b,K=this.length-this._readOffset),typeof F!="undefined"&&B.checkEncoding(F);let se=this._buff.slice(this._readOffset,this._readOffset+K).toString(F||this._encoding);return this._readOffset+=K,se}insertString(b,F,K){return B.checkOffsetValue(F),this._handleString(b,!0,F,K)}writeString(b,B,F){return this._handleString(b,!1,B,F)}readStringNT(b){typeof b!="undefined"&&B.checkEncoding(b);let F=this.length;for(let b=this._readOffset;b<this.length;b++)if(this._buff[b]===0){F=b;break}let K=this._buff.slice(this._readOffset,F);return this._readOffset=F+1,K.toString(b||this._encoding)}insertStringNT(b,F,K){return B.checkOffsetValue(F),this.insertString(b,F,K),this.insertUInt8(0,F+b.length),this}writeStringNT(b,B,F){return this.writeString(b,B,F),this.writeUInt8(0,typeof B=="number"?B+b.length:this.writeOffset),this}readBuffer(b){typeof b!="undefined"&&B.checkLengthValue(b);let F=typeof b=="number"?b:this.length,K=Math.min(this.length,this._readOffset+F),se=this._buff.slice(this._readOffset,K);return this._readOffset=K,se}insertBuffer(b,F){return B.checkOffsetValue(F),this._handleBuffer(b,!0,F)}writeBuffer(b,B){return this._handleBuffer(b,!1,B)}readBufferNT(){let b=this.length;for(let B=this._readOffset;B<this.length;B++)if(this._buff[B]===0){b=B;break}let B=this._buff.slice(this._readOffset,b);return this._readOffset=b+1,B}insertBufferNT(b,F){return B.checkOffsetValue(F),this.insertBuffer(b,F),this.insertUInt8(0,F+b.length),this}writeBufferNT(b,F){return typeof F!="undefined"&&B.checkOffsetValue(F),this.writeBuffer(b,F),this.writeUInt8(0,typeof F=="number"?F+b.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(b){B.checkOffsetValue(b),B.checkTargetOffset(b,this),this._readOffset=b}get writeOffset(){return this._writeOffset}set writeOffset(b){B.checkOffsetValue(b),B.checkTargetOffset(b,this),this._writeOffset=b}get encoding(){return this._encoding}set encoding(b){B.checkEncoding(b),this._encoding=b}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(b){let F=typeof b=="string"?b:this._encoding;return B.checkEncoding(F),this._buff.toString(F,0,this.length)}destroy(){return this.clear(),this}_handleString(b,F,K,se){let oe=this._writeOffset,Qe=this._encoding;typeof K=="number"?oe=K:typeof K=="string"&&(B.checkEncoding(K),Qe=K),typeof se=="string"&&(B.checkEncoding(se),Qe=se);let Re=Buffer.byteLength(b,Qe);return F?this.ensureInsertable(Re,oe):this._ensureWriteable(Re,oe),this._buff.write(b,oe,Re,Qe),F?this._writeOffset+=Re:typeof K=="number"?this._writeOffset=Math.max(this._writeOffset,oe+Re):this._writeOffset+=Re,this}_handleBuffer(b,B,F){let K=typeof F=="number"?F:this._writeOffset;return B?this.ensureInsertable(b.length,K):this._ensureWriteable(b.length,K),b.copy(this._buff,K),B?this._writeOffset+=b.length:typeof F=="number"?this._writeOffset=Math.max(this._writeOffset,K+b.length):this._writeOffset+=b.length,this}ensureReadable(b,F){let K=this._readOffset;if(typeof F!="undefined"&&(B.checkOffsetValue(F),K=F),K<0||K+b>this.length)throw new Error(B.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(b,F){B.checkOffsetValue(F),this._ensureCapacity(this.length+b),F<this.length&&this._buff.copy(this._buff,F+b,F,this._buff.length),F+b>this.length?this.length=F+b:this.length+=b}_ensureWriteable(b,B){let F=typeof B=="number"?B:this._writeOffset;this._ensureCapacity(F+b),F+b>this.length&&(this.length=F+b)}_ensureCapacity(b){let B=this._buff.length;if(b>B){let F=this._buff,K=B*3/2+1;K<b&&(K=b),this._buff=Buffer.allocUnsafe(K),F.copy(this._buff,0,0,B)}}_readNumberValue(b,B,F){this.ensureReadable(B,F);let K=b.call(this._buff,typeof F=="number"?F:this._readOffset);return typeof F=="undefined"&&(this._readOffset+=B),K}_insertNumberValue(b,F,K,se){return B.checkOffsetValue(se),this.ensureInsertable(F,se),b.call(this._buff,K,se),this._writeOffset+=F,this}_writeNumberValue(b,F,K,se){if(typeof se=="number"){if(se<0)throw new Error(B.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);B.checkOffsetValue(se)}let oe=typeof se=="number"?se:this._writeOffset;return this._ensureWriteable(F,oe),b.call(this._buff,K,oe),typeof se=="number"?this._writeOffset=Math.max(this._writeOffset,oe+F):this._writeOffset+=F,this}};b.SmartBuffer=se}));var Tn=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.SOCKS5_NO_ACCEPTABLE_AUTH=b.SOCKS5_CUSTOM_AUTH_END=b.SOCKS5_CUSTOM_AUTH_START=b.SOCKS_INCOMING_PACKET_SIZES=b.SocksClientState=b.Socks5Response=b.Socks5HostType=b.Socks5Auth=b.Socks4Response=b.SocksCommand=b.ERRORS=b.DEFAULT_TIMEOUT=void 0;var B=3e4;b.DEFAULT_TIMEOUT=B;var F={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};b.ERRORS=F;var K={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:b=>b+7,Socks4Response:8};b.SOCKS_INCOMING_PACKET_SIZES=K;var se;(function(b){b[b.connect=1]="connect",b[b.bind=2]="bind",b[b.associate=3]="associate"})(se||(b.SocksCommand=se={}));var oe;(function(b){b[b.Granted=90]="Granted",b[b.Failed=91]="Failed",b[b.Rejected=92]="Rejected",b[b.RejectedIdent=93]="RejectedIdent"})(oe||(b.Socks4Response=oe={}));var Qe;(function(b){b[b.NoAuth=0]="NoAuth",b[b.GSSApi=1]="GSSApi",b[b.UserPass=2]="UserPass"})(Qe||(b.Socks5Auth=Qe={}));var Re=128;b.SOCKS5_CUSTOM_AUTH_START=Re;var Me=254;b.SOCKS5_CUSTOM_AUTH_END=Me;var Le=255;b.SOCKS5_NO_ACCEPTABLE_AUTH=Le;var We;(function(b){b[b.Granted=0]="Granted",b[b.Failure=1]="Failure",b[b.NotAllowed=2]="NotAllowed",b[b.NetworkUnreachable=3]="NetworkUnreachable",b[b.HostUnreachable=4]="HostUnreachable",b[b.ConnectionRefused=5]="ConnectionRefused",b[b.TTLExpired=6]="TTLExpired",b[b.CommandNotSupported=7]="CommandNotSupported",b[b.AddressNotSupported=8]="AddressNotSupported"})(We||(b.Socks5Response=We={}));var Ge;(function(b){b[b.IPv4=1]="IPv4",b[b.Hostname=3]="Hostname",b[b.IPv6=4]="IPv6"})(Ge||(b.Socks5HostType=Ge={}));var ze;(function(b){b[b.Created=0]="Created",b[b.Connecting=1]="Connecting",b[b.Connected=2]="Connected",b[b.SentInitialHandshake=3]="SentInitialHandshake",b[b.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",b[b.SentAuthentication=5]="SentAuthentication",b[b.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",b[b.SentFinalHandshake=7]="SentFinalHandshake",b[b.ReceivedFinalResponse=8]="ReceivedFinalResponse",b[b.BoundWaitingForConnection=9]="BoundWaitingForConnection",b[b.Established=10]="Established",b[b.Disconnected=11]="Disconnected",b[b.Error=99]="Error"})(ze||(b.SocksClientState=ze={}))}));var Pn=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.shuffleArray=b.SocksClientError=void 0;var B=class extends Error{constructor(b,B){super(b),this.options=B}};b.SocksClientError=B;function TE(b){for(let B=b.length-1;B>0;B--){let F=Math.floor(Math.random()*(B+1));[b[B],b[F]]=[b[F],b[B]]}}b.shuffleArray=TE}));var Dn=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.isCorrect=b.isInSubnet=void 0;function AE(b){return this.subnetMask<b.subnetMask?!1:this.mask(b.subnetMask)===b.mask()}b.isInSubnet=AE;function IE(b){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===b&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}b.isCorrect=IE}));var Fn=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.RE_SUBNET_STRING=b.RE_ADDRESS=b.GROUPS=b.BITS=void 0;b.BITS=32;b.GROUPS=4;b.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g;b.RE_SUBNET_STRING=/\/\d{1,2}$/}));var Nn=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.AddressError=void 0;var B=class extends Error{constructor(b,B){super(b),this.name="AddressError",B!==null&&(this.parseMessage=B)}};b.AddressError=B}));var Mn=w(((b,B)=>{(function(){var F,K=0xdeadbeefcafe,se=(K&16777215)==15715070;function i(b,B,F){b!=null&&(typeof b=="number"?this.fromNumber(b,B,F):B==null&&typeof b!="string"?this.fromString(b,256):this.fromString(b,B))}function n(){return new i(null)}function s(b,B,F,K,se,oe){for(;--oe>=0;){var Qe=B*this[b++]+F[K]+se;se=Math.floor(Qe/67108864),F[K++]=Qe&67108863}return se}function a(b,B,F,K,se,oe){for(var Qe=B&32767,Re=B>>15;--oe>=0;){var Me=this[b]&32767,Le=this[b++]>>15,We=Re*Me+Le*Qe;Me=Qe*Me+((We&32767)<<15)+F[K]+(se&1073741823),se=(Me>>>30)+(We>>>15)+Re*Le+(se>>>30),F[K++]=Me&1073741823}return se}function o(b,B,F,K,se,oe){for(var Qe=B&16383,Re=B>>14;--oe>=0;){var Me=this[b]&16383,Le=this[b++]>>14,We=Re*Me+Le*Qe;Me=Qe*Me+((We&16383)<<14)+F[K]+se,se=(Me>>28)+(We>>14)+Re*Le,F[K++]=Me&268435455}return se}var oe=typeof navigator!="undefined";oe&&se&&navigator.appName=="Microsoft Internet Explorer"?(i.prototype.am=a,F=30):oe&&se&&navigator.appName!="Netscape"?(i.prototype.am=s,F=26):(i.prototype.am=o,F=28),i.prototype.DB=F,i.prototype.DM=(1<<F)-1,i.prototype.DV=1<<F;var Qe=52;i.prototype.FV=Math.pow(2,Qe),i.prototype.F1=Qe-F,i.prototype.F2=2*F-Qe;var Re="0123456789abcdefghijklmnopqrstuvwxyz",Me=new Array,Le,We;for(Le=48,We=0;We<=9;++We)Me[Le++]=We;for(Le=97,We=10;We<36;++We)Me[Le++]=We;for(Le=65,We=10;We<36;++We)Me[Le++]=We;function g(b){return Re.charAt(b)}function y(b,B){var F=Me[b.charCodeAt(B)];return F==null?-1:F}function _(b){for(var B=this.t-1;B>=0;--B)b[B]=this[B];b.t=this.t,b.s=this.s}function x(b){this.t=1,this.s=b<0?-1:0,b>0?this[0]=b:b<-1?this[0]=b+this.DV:this.t=0}function S(b){var B=n();return B.fromInt(b),B}function O(b,B){var F;if(B==16)F=4;else if(B==8)F=3;else if(B==256)F=8;else if(B==2)F=1;else if(B==32)F=5;else if(B==4)F=2;else{this.fromRadix(b,B);return}this.t=0,this.s=0;for(var K=b.length,se=!1,oe=0;--K>=0;){var Qe=F==8?b[K]&255:y(b,K);if(Qe<0){b.charAt(K)=="-"&&(se=!0);continue}se=!1,oe==0?this[this.t++]=Qe:oe+F>this.DB?(this[this.t-1]|=(Qe&(1<<this.DB-oe)-1)<<oe,this[this.t++]=Qe>>this.DB-oe):this[this.t-1]|=Qe<<oe,oe+=F,oe>=this.DB&&(oe-=this.DB)}F==8&&(b[0]&128)!=0&&(this.s=-1,oe>0&&(this[this.t-1]|=(1<<this.DB-oe)-1<<oe)),this.clamp(),se&&i.ZERO.subTo(this,this)}function k(){for(var b=this.s&this.DM;this.t>0&&this[this.t-1]==b;)--this.t}function E(b){if(this.s<0)return"-"+this.negate().toString(b);var B;if(b==16)B=4;else if(b==8)B=3;else if(b==2)B=1;else if(b==32)B=5;else if(b==4)B=2;else return this.toRadix(b);var F=(1<<B)-1,K,se=!1,oe="",Qe=this.t,Re=this.DB-Qe*this.DB%B;if(Qe-- >0)for(Re<this.DB&&(K=this[Qe]>>Re)>0&&(se=!0,oe=g(K));Qe>=0;)Re<B?(K=(this[Qe]&(1<<Re)-1)<<B-Re,K|=this[--Qe]>>(Re+=this.DB-B)):(K=this[Qe]>>(Re-=B)&F,Re<=0&&(Re+=this.DB,--Qe)),K>0&&(se=!0),se&&(oe+=g(K));return se?oe:"0"}function R(){var b=n();return i.ZERO.subTo(this,b),b}function T(){return this.s<0?this.negate():this}function A(b){var B=this.s-b.s;if(B!=0)return B;var F=this.t;if(B=F-b.t,B!=0)return this.s<0?-B:B;for(;--F>=0;)if((B=this[F]-b[F])!=0)return B;return 0}function C(b){var B=1,F;return(F=b>>>16)!=0&&(b=F,B+=16),(F=b>>8)!=0&&(b=F,B+=8),(F=b>>4)!=0&&(b=F,B+=4),(F=b>>2)!=0&&(b=F,B+=2),(F=b>>1)!=0&&(b=F,B+=1),B}function L(){return this.t<=0?0:this.DB*(this.t-1)+C(this[this.t-1]^this.s&this.DM)}function P(b,B){var F;for(F=this.t-1;F>=0;--F)B[F+b]=this[F];for(F=b-1;F>=0;--F)B[F]=0;B.t=this.t+b,B.s=this.s}function $(b,B){for(var F=b;F<this.t;++F)B[F-b]=this[F];B.t=Math.max(this.t-b,0),B.s=this.s}function q(b,B){var F=b%this.DB,K=this.DB-F,se=(1<<K)-1,oe=Math.floor(b/this.DB),Qe=this.s<<F&this.DM,Re;for(Re=this.t-1;Re>=0;--Re)B[Re+oe+1]=this[Re]>>K|Qe,Qe=(this[Re]&se)<<F;for(Re=oe-1;Re>=0;--Re)B[Re]=0;B[oe]=Qe,B.t=this.t+oe+1,B.s=this.s,B.clamp()}function G(b,B){B.s=this.s;var F=Math.floor(b/this.DB);if(F>=this.t){B.t=0;return}var K=b%this.DB,se=this.DB-K,oe=(1<<K)-1;B[0]=this[F]>>K;for(var Qe=F+1;Qe<this.t;++Qe)B[Qe-F-1]|=(this[Qe]&oe)<<se,B[Qe-F]=this[Qe]>>K;K>0&&(B[this.t-F-1]|=(this.s&oe)<<se),B.t=this.t-F,B.clamp()}function U(b,B){for(var F=0,K=0,se=Math.min(b.t,this.t);F<se;)K+=this[F]-b[F],B[F++]=K&this.DM,K>>=this.DB;if(b.t<this.t){for(K-=b.s;F<this.t;)K+=this[F],B[F++]=K&this.DM,K>>=this.DB;K+=this.s}else{for(K+=this.s;F<b.t;)K-=b[F],B[F++]=K&this.DM,K>>=this.DB;K-=b.s}B.s=K<0?-1:0,K<-1?B[F++]=this.DV+K:K>0&&(B[F++]=K),B.t=F,B.clamp()}function H(b,B){var F=this.abs(),K=b.abs(),se=F.t;for(B.t=se+K.t;--se>=0;)B[se]=0;for(se=0;se<K.t;++se)B[se+F.t]=F.am(0,K[se],B,se,0,F.t);B.s=0,B.clamp(),this.s!=b.s&&i.ZERO.subTo(B,B)}function Z(b){for(var B=this.abs(),F=b.t=2*B.t;--F>=0;)b[F]=0;for(F=0;F<B.t-1;++F){var K=B.am(F,B[F],b,2*F,0,1);(b[F+B.t]+=B.am(F+1,2*B[F],b,2*F+1,K,B.t-F-1))>=B.DV&&(b[F+B.t]-=B.DV,b[F+B.t+1]=1)}b.t>0&&(b[b.t-1]+=B.am(F,B[F],b,2*F,0,1)),b.s=0,b.clamp()}function re(b,B,F){var K=b.abs();if(!(K.t<=0)){var se=this.abs();if(se.t<K.t){B!=null&&B.fromInt(0),F!=null&&this.copyTo(F);return}F==null&&(F=n());var oe=n(),Qe=this.s,Re=b.s,Me=this.DB-C(K[K.t-1]);Me>0?(K.lShiftTo(Me,oe),se.lShiftTo(Me,F)):(K.copyTo(oe),se.copyTo(F));var Le=oe.t,We=oe[Le-1];if(We!=0){var Ge=We*(1<<this.F1)+(Le>1?oe[Le-2]>>this.F2:0),ze=this.FV/Ge,$e=(1<<this.F1)/Ge,Ye=1<<this.F2,Ke=F.t,Xe=Ke-Le,et=B==null?n():B;for(oe.dlShiftTo(Xe,et),F.compareTo(et)>=0&&(F[F.t++]=1,F.subTo(et,F)),i.ONE.dlShiftTo(Le,et),et.subTo(oe,oe);oe.t<Le;)oe[oe.t++]=0;for(;--Xe>=0;){var rt=F[--Ke]==We?this.DM:Math.floor(F[Ke]*ze+(F[Ke-1]+Ye)*$e);if((F[Ke]+=oe.am(0,rt,F,Xe,0,Le))<rt)for(oe.dlShiftTo(Xe,et),F.subTo(et,F);F[Ke]<--rt;)F.subTo(et,F)}B!=null&&(F.drShiftTo(Le,B),Qe!=Re&&i.ZERO.subTo(B,B)),F.t=Le,F.clamp(),Me>0&&F.rShiftTo(Me,F),Qe<0&&i.ZERO.subTo(F,F)}}}function Y(b){var B=n();return this.abs().divRemTo(b,null,B),this.s<0&&B.compareTo(i.ZERO)>0&&b.subTo(B,B),B}function we(b){this.m=b}function de(b){return b.s<0||b.compareTo(this.m)>=0?b.mod(this.m):b}function ue(b){return b}function ve(b){b.divRemTo(this.m,null,b)}function N(b,B,F){b.multiplyTo(B,F),this.reduce(F)}function ie(b,B){b.squareTo(B),this.reduce(B)}we.prototype.convert=de,we.prototype.revert=ue,we.prototype.reduce=ve,we.prototype.mulTo=N,we.prototype.sqrTo=ie;function Pe(){if(this.t<1)return 0;var b=this[0];if((b&1)==0)return 0;var B=b&3;return B=B*(2-(b&15)*B)&15,B=B*(2-(b&255)*B)&255,B=B*(2-((b&65535)*B&65535))&65535,B=B*(2-b*B%this.DV)%this.DV,B>0?this.DV-B:-B}function Te(b){this.m=b,this.mp=b.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<b.DB-15)-1,this.mt2=2*b.t}function Ee(b){var B=n();return b.abs().dlShiftTo(this.m.t,B),B.divRemTo(this.m,null,B),b.s<0&&B.compareTo(i.ZERO)>0&&this.m.subTo(B,B),B}function ke(b){var B=n();return b.copyTo(B),this.reduce(B),B}function ye(b){for(;b.t<=this.mt2;)b[b.t++]=0;for(var B=0;B<this.m.t;++B){var F=b[B]&32767,K=F*this.mpl+((F*this.mph+(b[B]>>15)*this.mpl&this.um)<<15)&b.DM;for(F=B+this.m.t,b[F]+=this.m.am(0,K,b,B,0,this.m.t);b[F]>=b.DV;)b[F]-=b.DV,b[++F]++}b.clamp(),b.drShiftTo(this.m.t,b),b.compareTo(this.m)>=0&&b.subTo(this.m,b)}function Q(b,B){b.squareTo(B),this.reduce(B)}function V(b,B,F){b.multiplyTo(B,F),this.reduce(F)}Te.prototype.convert=Ee,Te.prototype.revert=ke,Te.prototype.reduce=ye,Te.prototype.mulTo=V,Te.prototype.sqrTo=Q;function De(){return(this.t>0?this[0]&1:this.s)==0}function ce(b,B){if(b>4294967295||b<1)return i.ONE;var F=n(),K=n(),se=B.convert(this),oe=C(b)-1;for(se.copyTo(F);--oe>=0;)if(B.sqrTo(F,K),(b&1<<oe)>0)B.mulTo(K,se,F);else{var Qe=F;F=K,K=Qe}return B.revert(F)}function _e(b,B){var F;return b<256||B.isEven()?F=new we(B):F=new Te(B),this.exp(b,F)}i.prototype.copyTo=_,i.prototype.fromInt=x,i.prototype.fromString=O,i.prototype.clamp=k,i.prototype.dlShiftTo=P,i.prototype.drShiftTo=$,i.prototype.lShiftTo=q,i.prototype.rShiftTo=G,i.prototype.subTo=U,i.prototype.multiplyTo=H,i.prototype.squareTo=Z,i.prototype.divRemTo=re,i.prototype.invDigit=Pe,i.prototype.isEven=De,i.prototype.exp=ce,i.prototype.toString=E,i.prototype.negate=R,i.prototype.abs=T,i.prototype.compareTo=A,i.prototype.bitLength=L,i.prototype.mod=Y,i.prototype.modPowInt=_e,i.ZERO=S(0),i.ONE=S(1);function St(){var b=n();return this.copyTo(b),b}function Lt(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function I(){return this.t==0?this.s:this[0]<<24>>24}function te(){return this.t==0?this.s:this[0]<<16>>16}function ae(b){return Math.floor(Math.LN2*this.DB/Math.log(b))}function ne(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function pe(b){if(b==null&&(b=10),this.signum()==0||b<2||b>36)return"0";var B=this.chunkSize(b),F=Math.pow(b,B),K=S(F),se=n(),oe=n(),Qe="";for(this.divRemTo(K,se,oe);se.signum()>0;)Qe=(F+oe.intValue()).toString(b).substr(1)+Qe,se.divRemTo(K,se,oe);return oe.intValue().toString(b)+Qe}function me(b,B){this.fromInt(0),B==null&&(B=10);for(var F=this.chunkSize(B),K=Math.pow(B,F),se=!1,oe=0,Qe=0,Re=0;Re<b.length;++Re){var Me=y(b,Re);if(Me<0){b.charAt(Re)=="-"&&this.signum()==0&&(se=!0);continue}Qe=B*Qe+Me,++oe>=F&&(this.dMultiply(K),this.dAddOffset(Qe,0),oe=0,Qe=0)}oe>0&&(this.dMultiply(Math.pow(B,oe)),this.dAddOffset(Qe,0)),se&&i.ZERO.subTo(this,this)}function Ae(b,B,F){if(typeof B=="number")if(b<2)this.fromInt(1);else for(this.fromNumber(b,F),this.testBit(b-1)||this.bitwiseTo(i.ONE.shiftLeft(b-1),he,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(B);)this.dAddOffset(2,0),this.bitLength()>b&&this.subTo(i.ONE.shiftLeft(b-1),this);else{var K=new Array,se=b&7;K.length=(b>>3)+1,B.nextBytes(K),se>0?K[0]&=(1<<se)-1:K[0]=0,this.fromString(K,256)}}function Ie(){var b=this.t,B=new Array;B[0]=this.s;var F=this.DB-b*this.DB%8,K,se=0;if(b-- >0)for(F<this.DB&&(K=this[b]>>F)!=(this.s&this.DM)>>F&&(B[se++]=K|this.s<<this.DB-F);b>=0;)F<8?(K=(this[b]&(1<<F)-1)<<8-F,K|=this[--b]>>(F+=this.DB-8)):(K=this[b]>>(F-=8)&255,F<=0&&(F+=this.DB,--b)),(K&128)!=0&&(K|=-256),se==0&&(this.s&128)!=(K&128)&&++se,(se>0||K!=this.s)&&(B[se++]=K);return B}function Ve(b){return this.compareTo(b)==0}function Fe(b){return this.compareTo(b)<0?this:b}function j(b){return this.compareTo(b)>0?this:b}function X(b,B,F){var K,se,oe=Math.min(b.t,this.t);for(K=0;K<oe;++K)F[K]=B(this[K],b[K]);if(b.t<this.t){for(se=b.s&this.DM,K=oe;K<this.t;++K)F[K]=B(this[K],se);F.t=this.t}else{for(se=this.s&this.DM,K=oe;K<b.t;++K)F[K]=B(se,b[K]);F.t=b.t}F.s=B(this.s,b.s),F.clamp()}function fe(b,B){return b&B}function je(b){var B=n();return this.bitwiseTo(b,fe,B),B}function he(b,B){return b|B}function Se(b){var B=n();return this.bitwiseTo(b,he,B),B}function Be(b,B){return b^B}function le(b){var B=n();return this.bitwiseTo(b,Be,B),B}function Ne(b,B){return b&~B}function Ze(b){var B=n();return this.bitwiseTo(b,Ne,B),B}function qe(){for(var b=n(),B=0;B<this.t;++B)b[B]=this.DM&~this[B];return b.t=this.t,b.s=~this.s,b}function Et(b){var B=n();return b<0?this.rShiftTo(-b,B):this.lShiftTo(b,B),B}function jt(b){var B=n();return b<0?this.lShiftTo(-b,B):this.rShiftTo(b,B),B}function Er(b){if(b==0)return-1;var B=0;return(b&65535)==0&&(b>>=16,B+=16),(b&255)==0&&(b>>=8,B+=8),(b&15)==0&&(b>>=4,B+=4),(b&3)==0&&(b>>=2,B+=2),(b&1)==0&&++B,B}function Ur(){for(var b=0;b<this.t;++b)if(this[b]!=0)return b*this.DB+Er(this[b]);return this.s<0?this.t*this.DB:-1}function $r(b){for(var B=0;b!=0;)b&=b-1,++B;return B}function hi(){for(var b=0,B=this.s&this.DM,F=0;F<this.t;++F)b+=$r(this[F]^B);return b}function di(b){var B=Math.floor(b/this.DB);return B>=this.t?this.s!=0:(this[B]&1<<b%this.DB)!=0}function an(b,B){var F=i.ONE.shiftLeft(b);return this.bitwiseTo(F,B,F),F}function pi(b){return this.changeBit(b,he)}function mi(b){return this.changeBit(b,Ne)}function gi(b){return this.changeBit(b,Be)}function vi(b,B){for(var F=0,K=0,se=Math.min(b.t,this.t);F<se;)K+=this[F]+b[F],B[F++]=K&this.DM,K>>=this.DB;if(b.t<this.t){for(K+=b.s;F<this.t;)K+=this[F],B[F++]=K&this.DM,K>>=this.DB;K+=this.s}else{for(K+=this.s;F<b.t;)K+=b[F],B[F++]=K&this.DM,K>>=this.DB;K+=b.s}B.s=K<0?-1:0,K>0?B[F++]=K:K<-1&&(B[F++]=this.DV+K),B.t=F,B.clamp()}function ta(b){var B=n();return this.addTo(b,B),B}function es(b){var B=n();return this.subTo(b,B),B}function ra(b){var B=n();return this.multiplyTo(b,B),B}function ia(){var b=n();return this.squareTo(b),b}function na(b){var B=n();return this.divRemTo(b,B,null),B}function sa(b){var B=n();return this.divRemTo(b,null,B),B}function aa(b){var B=n(),F=n();return this.divRemTo(b,B,F),new Array(B,F)}function Cl(b){this[this.t]=this.am(0,b-1,this,0,0,this.t),++this.t,this.clamp()}function yi(b,B){if(b!=0){for(;this.t<=B;)this[this.t++]=0;for(this[B]+=b;this[B]>=this.DV;)this[B]-=this.DV,++B>=this.t&&(this[this.t++]=0),++this[B]}}function kr(){}function _i(b){return b}function on(b,B,F){b.multiplyTo(B,F)}function oa(b,B){b.squareTo(B)}kr.prototype.convert=_i,kr.prototype.revert=_i,kr.prototype.mulTo=on,kr.prototype.sqrTo=oa;function la(b){return this.exp(b,new kr)}function ca(b,B,F){var K=Math.min(this.t+b.t,B);for(F.s=0,F.t=K;K>0;)F[--K]=0;var se;for(se=F.t-this.t;K<se;++K)F[K+this.t]=this.am(0,b[K],F,K,0,this.t);for(se=Math.min(b.t,B);K<se;++K)this.am(0,b[K],F,K,0,B-K);F.clamp()}function ua(b,B,F){--B;var K=F.t=this.t+b.t-B;for(F.s=0;--K>=0;)F[K]=0;for(K=Math.max(B-this.t,0);K<b.t;++K)F[this.t+K-B]=this.am(B-K,b[K],F,0,0,this.t+K-B);F.clamp(),F.drShiftTo(1,F)}function ur(b){this.r2=n(),this.q3=n(),i.ONE.dlShiftTo(2*b.t,this.r2),this.mu=this.r2.divide(b),this.m=b}function fa(b){if(b.s<0||b.t>2*this.m.t)return b.mod(this.m);if(b.compareTo(this.m)<0)return b;var B=n();return b.copyTo(B),this.reduce(B),B}function ha(b){return b}function ln(b){for(b.drShiftTo(this.m.t-1,this.r2),b.t>this.m.t+1&&(b.t=this.m.t+1,b.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);b.compareTo(this.r2)<0;)b.dAddOffset(1,this.m.t+1);for(b.subTo(this.r2,b);b.compareTo(this.m)>=0;)b.subTo(this.m,b)}function Gb(b,B){b.squareTo(B),this.reduce(B)}function Wb(b,B,F){b.multiplyTo(B,F),this.reduce(F)}ur.prototype.convert=fa,ur.prototype.revert=ha,ur.prototype.reduce=ln,ur.prototype.mulTo=Wb,ur.prototype.sqrTo=Gb;function zb(b,B){var F=b.bitLength(),K,se=S(1),oe;if(F<=0)return se;F<18?K=1:F<48?K=3:F<144?K=4:F<768?K=5:K=6,F<8?oe=new we(B):B.isEven()?oe=new ur(B):oe=new Te(B);var Qe=new Array,Re=3,Me=K-1,Le=(1<<K)-1;if(Qe[1]=oe.convert(this),K>1){var We=n();for(oe.sqrTo(Qe[1],We);Re<=Le;)Qe[Re]=n(),oe.mulTo(We,Qe[Re-2],Qe[Re]),Re+=2}var Ge=b.t-1,ze,$e=!0,Ye=n(),Ke;for(F=C(b[Ge])-1;Ge>=0;){for(F>=Me?ze=b[Ge]>>F-Me&Le:(ze=(b[Ge]&(1<<F+1)-1)<<Me-F,Ge>0&&(ze|=b[Ge-1]>>this.DB+F-Me)),Re=K;(ze&1)==0;)ze>>=1,--Re;if((F-=Re)<0&&(F+=this.DB,--Ge),$e)Qe[ze].copyTo(se),$e=!1;else{for(;Re>1;)oe.sqrTo(se,Ye),oe.sqrTo(Ye,se),Re-=2;Re>0?oe.sqrTo(se,Ye):(Ke=se,se=Ye,Ye=Ke),oe.mulTo(Ye,Qe[ze],se)}for(;Ge>=0&&(b[Ge]&1<<F)==0;)oe.sqrTo(se,Ye),Ke=se,se=Ye,Ye=Ke,--F<0&&(F=this.DB-1,--Ge)}return oe.revert(se)}function Yb(b){var B=this.s<0?this.negate():this.clone(),F=b.s<0?b.negate():b.clone();if(B.compareTo(F)<0){var K=B;B=F,F=K}var se=B.getLowestSetBit(),oe=F.getLowestSetBit();if(oe<0)return B;for(se<oe&&(oe=se),oe>0&&(B.rShiftTo(oe,B),F.rShiftTo(oe,F));B.signum()>0;)(se=B.getLowestSetBit())>0&&B.rShiftTo(se,B),(se=F.getLowestSetBit())>0&&F.rShiftTo(se,F),B.compareTo(F)>=0?(B.subTo(F,B),B.rShiftTo(1,B)):(F.subTo(B,F),F.rShiftTo(1,F));return oe>0&&F.lShiftTo(oe,F),F}function Kb(b){if(b<=0)return 0;var B=this.DV%b,F=this.s<0?b-1:0;if(this.t>0)if(B==0)F=this[0]%b;else for(var K=this.t-1;K>=0;--K)F=(B*F+this[K])%b;return F}function Zb(b){var B=b.isEven();if(this.isEven()&&B||b.signum()==0)return i.ZERO;for(var F=b.clone(),K=this.clone(),se=S(1),oe=S(0),Qe=S(0),Re=S(1);F.signum()!=0;){for(;F.isEven();)F.rShiftTo(1,F),B?((!se.isEven()||!oe.isEven())&&(se.addTo(this,se),oe.subTo(b,oe)),se.rShiftTo(1,se)):oe.isEven()||oe.subTo(b,oe),oe.rShiftTo(1,oe);for(;K.isEven();)K.rShiftTo(1,K),B?((!Qe.isEven()||!Re.isEven())&&(Qe.addTo(this,Qe),Re.subTo(b,Re)),Qe.rShiftTo(1,Qe)):Re.isEven()||Re.subTo(b,Re),Re.rShiftTo(1,Re);F.compareTo(K)>=0?(F.subTo(K,F),B&&se.subTo(Qe,se),oe.subTo(Re,oe)):(K.subTo(F,K),B&&Qe.subTo(se,Qe),Re.subTo(oe,Re))}if(K.compareTo(i.ONE)!=0)return i.ZERO;if(Re.compareTo(b)>=0)return Re.subtract(b);if(Re.signum()<0)Re.addTo(b,Re);else return Re;return Re.signum()<0?Re.add(b):Re}var Ge=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ze=(1<<26)/Ge[Ge.length-1];function Qb(b){var B,F=this.abs();if(F.t==1&&F[0]<=Ge[Ge.length-1]){for(B=0;B<Ge.length;++B)if(F[0]==Ge[B])return!0;return!1}if(F.isEven())return!1;for(B=1;B<Ge.length;){for(var K=Ge[B],se=B+1;se<Ge.length&&K<ze;)K*=Ge[se++];for(K=F.modInt(K);B<se;)if(K%Ge[B++]==0)return!1}return F.millerRabin(b)}function Xb(b){var B=this.subtract(i.ONE),F=B.getLowestSetBit();if(F<=0)return!1;var K=B.shiftRight(F);b=b+1>>1,b>Ge.length&&(b=Ge.length);for(var se=n(),oe=0;oe<b;++oe){se.fromInt(Ge[Math.floor(Math.random()*Ge.length)]);var Qe=se.modPow(K,this);if(Qe.compareTo(i.ONE)!=0&&Qe.compareTo(B)!=0){for(var Re=1;Re++<F&&Qe.compareTo(B)!=0;)if(Qe=Qe.modPowInt(2,this),Qe.compareTo(i.ONE)==0)return!1;if(Qe.compareTo(B)!=0)return!1}}return!0}i.prototype.chunkSize=ae,i.prototype.toRadix=pe,i.prototype.fromRadix=me,i.prototype.fromNumber=Ae,i.prototype.bitwiseTo=X,i.prototype.changeBit=an,i.prototype.addTo=vi,i.prototype.dMultiply=Cl,i.prototype.dAddOffset=yi,i.prototype.multiplyLowerTo=ca,i.prototype.multiplyUpperTo=ua,i.prototype.modInt=Kb,i.prototype.millerRabin=Xb,i.prototype.clone=St,i.prototype.intValue=Lt,i.prototype.byteValue=I,i.prototype.shortValue=te,i.prototype.signum=ne,i.prototype.toByteArray=Ie,i.prototype.equals=Ve,i.prototype.min=Fe,i.prototype.max=j,i.prototype.and=je,i.prototype.or=Se,i.prototype.xor=le,i.prototype.andNot=Ze,i.prototype.not=qe,i.prototype.shiftLeft=Et,i.prototype.shiftRight=jt,i.prototype.getLowestSetBit=Ur,i.prototype.bitCount=hi,i.prototype.testBit=di,i.prototype.setBit=pi,i.prototype.clearBit=mi,i.prototype.flipBit=gi,i.prototype.add=ta,i.prototype.subtract=es,i.prototype.multiply=ra,i.prototype.divide=na,i.prototype.remainder=sa,i.prototype.divideAndRemainder=aa,i.prototype.modPow=zb,i.prototype.modInverse=Zb,i.prototype.pow=la,i.prototype.gcd=Yb,i.prototype.isProbablePrime=Qb,i.prototype.square=ia,i.prototype.Barrett=ur;var $e,Ye,Ke;function ex(b){Ye[Ke++]^=b&255,Ye[Ke++]^=b>>8&255,Ye[Ke++]^=b>>16&255,Ye[Ke++]^=b>>24&255,Ke>=it&&(Ke-=it)}function Ah(){ex((new Date).getTime())}if(Ye==null){Ye=new Array,Ke=0;var Xe;if(typeof window!="undefined"&&window.crypto){if(window.crypto.getRandomValues){var et=new Uint8Array(32);for(window.crypto.getRandomValues(et),Xe=0;Xe<32;++Xe)Ye[Ke++]=et[Xe]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var rt=window.crypto.random(32);for(Xe=0;Xe<rt.length;++Xe)Ye[Ke++]=rt.charCodeAt(Xe)&255}}for(;Ke<it;)Xe=Math.floor(65536*Math.random()),Ye[Ke++]=Xe>>>8,Ye[Ke++]=Xe&255;Ke=0,Ah()}function tx(){if($e==null){for(Ah(),$e=sx(),$e.init(Ye),Ke=0;Ke<Ye.length;++Ke)Ye[Ke]=0;Ke=0}return $e.next()}function rx(b){var B;for(B=0;B<b.length;++B)b[B]=tx()}function Tl(){}Tl.prototype.nextBytes=rx;function Al(){this.i=0,this.j=0,this.S=new Array}function ix(b){var B,F,K;for(B=0;B<256;++B)this.S[B]=B;for(F=0,B=0;B<256;++B)F=F+this.S[B]+b[B%b.length]&255,K=this.S[B],this.S[B]=this.S[F],this.S[F]=K;this.i=0,this.j=0}function nx(){var b;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,b=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=b,this.S[b+this.S[this.i]&255]}Al.prototype.init=ix,Al.prototype.next=nx;function sx(){return new Al}var it=256;typeof b!="undefined"?b=B.exports={default:i,BigInteger:i,SecureRandom:Tl}:this.jsbn={BigInteger:i,SecureRandom:Tl}}).call(b)}));var jn=w((b=>{(function(){"use strict";var B={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(b){return i(s(b),arguments)}function t(b,B){return e.apply(null,[b].concat(B||[]))}function i(b,F){var K=1,se=b.length,oe,Qe="",Re,Me,Le,We,Ge,ze,$e,Ye;for(Re=0;Re<se;Re++)if(typeof b[Re]=="string")Qe+=b[Re];else if(typeof b[Re]=="object"){if(Le=b[Re],Le.keys)for(oe=F[K],Me=0;Me<Le.keys.length;Me++){if(oe==null)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',Le.keys[Me],Le.keys[Me-1]));oe=oe[Le.keys[Me]]}else Le.param_no?oe=F[Le.param_no]:oe=F[K++];if(B.not_type.test(Le.type)&&B.not_primitive.test(Le.type)&&oe instanceof Function&&(oe=oe()),B.numeric_arg.test(Le.type)&&typeof oe!="number"&&isNaN(oe))throw new TypeError(e("[sprintf] expecting number but found %T",oe));switch(B.number.test(Le.type)&&($e=oe>=0),Le.type){case"b":oe=parseInt(oe,10).toString(2);break;case"c":oe=String.fromCharCode(parseInt(oe,10));break;case"d":case"i":oe=parseInt(oe,10);break;case"j":oe=JSON.stringify(oe,null,Le.width?parseInt(Le.width):0);break;case"e":oe=Le.precision?parseFloat(oe).toExponential(Le.precision):parseFloat(oe).toExponential();break;case"f":oe=Le.precision?parseFloat(oe).toFixed(Le.precision):parseFloat(oe);break;case"g":oe=Le.precision?String(Number(oe.toPrecision(Le.precision))):parseFloat(oe);break;case"o":oe=(parseInt(oe,10)>>>0).toString(8);break;case"s":oe=String(oe),oe=Le.precision?oe.substring(0,Le.precision):oe;break;case"t":oe=String(!!oe),oe=Le.precision?oe.substring(0,Le.precision):oe;break;case"T":oe=Object.prototype.toString.call(oe).slice(8,-1).toLowerCase(),oe=Le.precision?oe.substring(0,Le.precision):oe;break;case"u":oe=parseInt(oe,10)>>>0;break;case"v":oe=oe.valueOf(),oe=Le.precision?oe.substring(0,Le.precision):oe;break;case"x":oe=(parseInt(oe,10)>>>0).toString(16);break;case"X":oe=(parseInt(oe,10)>>>0).toString(16).toUpperCase();break}B.json.test(Le.type)?Qe+=oe:(B.number.test(Le.type)&&(!$e||Le.sign)?(Ye=$e?"+":"-",oe=oe.toString().replace(B.sign,"")):Ye="",Ge=Le.pad_char?Le.pad_char==="0"?"0":Le.pad_char.charAt(1):" ",ze=Le.width-(Ye+oe).length,We=Le.width&&ze>0?Ge.repeat(ze):"",Qe+=Le.align?Ye+oe+We:Ge==="0"?Ye+We+oe:We+Ye+oe)}return Qe}var F=Object.create(null);function s(b){if(F[b])return F[b];for(var K=b,se,oe=[],Qe=0;K;){if((se=B.text.exec(K))!==null)oe.push(se[0]);else if((se=B.modulo.exec(K))!==null)oe.push("%");else if((se=B.placeholder.exec(K))!==null){if(se[2]){Qe|=1;var Re=[],Me=se[2],Le=[];if((Le=B.key.exec(Me))!==null)for(Re.push(Le[1]);(Me=Me.substring(Le[0].length))!=="";)if((Le=B.key_access.exec(Me))!==null)Re.push(Le[1]);else if((Le=B.index_access.exec(Me))!==null)Re.push(Le[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");se[2]=Re}else Qe|=2;if(Qe===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");oe.push({placeholder:se[0],param_no:se[1],keys:se[2],sign:se[3],pad_char:se[4],align:se[5],width:se[6],precision:se[7],type:se[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");K=K.substring(se[0].length)}return F[b]=oe}typeof b!="undefined"&&(b.sprintf=e,b.vsprintf=t),typeof window!="undefined"&&(window.sprintf=e,window.vsprintf=t,typeof define=="function"&&define.amd&&define((function(){return{sprintf:e,vsprintf:t}})))})()}));var Wn=w((b=>{"use strict";var B=b&&b.__createBinding||(Object.create?function(b,B,F,K){K===void 0&&(K=F);var se=Object.getOwnPropertyDescriptor(B,F);(!se||("get"in se?!B.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(b,K,se)}:function(b,B,F,K){K===void 0&&(K=F),b[K]=B[F]}),F=b&&b.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:!0,value:B})}:function(b,B){b.default=B}),K=b&&b.__importStar||function(b){if(b&&b.__esModule)return b;var K={};if(b!=null)for(var se in b)se!=="default"&&Object.prototype.hasOwnProperty.call(b,se)&&B(K,b,se);return F(K,b),K};Object.defineProperty(b,"__esModule",{value:!0});b.Address4=void 0;var se=K(Dn()),oe=K(Fn()),Qe=Nn(),Re=Mn(),Me=jn(),Le=class r{constructor(b){this.groups=oe.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=se.isCorrect(oe.BITS),this.isInSubnet=se.isInSubnet,this.address=b;let B=oe.RE_SUBNET_STRING.exec(b);if(B){if(this.parsedSubnet=B[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>oe.BITS)throw new Qe.AddressError("Invalid subnet mask.");b=b.replace(oe.RE_SUBNET_STRING,"")}this.addressMinusSuffix=b,this.parsedAddress=this.parse(b)}static isValid(b){try{return new r(b),!0}catch{return!1}}parse(b){let B=b.split(".");if(!b.match(oe.RE_ADDRESS))throw new Qe.AddressError("Invalid IPv4 address.");return B}correctForm(){return this.parsedAddress.map((b=>parseInt(b,10))).join(".")}static fromHex(b){let B=b.replace(/:/g,"").padStart(8,"0"),F=[],K;for(K=0;K<8;K+=2){let b=B.slice(K,K+2);F.push(parseInt(b,16))}return new r(F.join("."))}static fromInteger(b){return r.fromHex(b.toString(16))}static fromArpa(b){let B=b.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join(".");return new r(B)}toHex(){return this.parsedAddress.map((b=>(0,Me.sprintf)("%02x",parseInt(b,10)))).join(":")}toArray(){return this.parsedAddress.map((b=>parseInt(b,10)))}toGroup6(){let b=[],B;for(B=0;B<oe.GROUPS;B+=2){let F=(0,Me.sprintf)("%02x%02x",parseInt(this.parsedAddress[B],10),parseInt(this.parsedAddress[B+1],10));b.push((0,Me.sprintf)("%x",parseInt(F,16)))}return b.join(":")}bigInteger(){return new Re.BigInteger(this.parsedAddress.map((b=>(0,Me.sprintf)("%02x",parseInt(b,10)))).join(""),16)}_startAddress(){return new Re.BigInteger(this.mask()+"0".repeat(oe.BITS-this.subnetMask),2)}startAddress(){return r.fromBigInteger(this._startAddress())}startAddressExclusive(){let b=new Re.BigInteger("1");return r.fromBigInteger(this._startAddress().add(b))}_endAddress(){return new Re.BigInteger(this.mask()+"1".repeat(oe.BITS-this.subnetMask),2)}endAddress(){return r.fromBigInteger(this._endAddress())}endAddressExclusive(){let b=new Re.BigInteger("1");return r.fromBigInteger(this._endAddress().subtract(b))}static fromBigInteger(b){return r.fromInteger(parseInt(b.toString(),10))}mask(b){return b===void 0&&(b=this.subnetMask),this.getBitsBase2(0,b)}getBitsBase2(b,B){return this.binaryZeroPad().slice(b,B)}reverseForm(b){b||(b={});let B=this.correctForm().split(".").reverse().join(".");return b.omitSuffix?B:(0,Me.sprintf)("%s.in-addr.arpa.",B)}isMulticast(){return this.isInSubnet(new r("224.0.0.0/4"))}binaryZeroPad(){return this.bigInteger().toString(2).padStart(oe.BITS,"0")}groupForV6(){let b=this.parsedAddress;return this.address.replace(oe.RE_ADDRESS,(0,Me.sprintf)('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',b.slice(0,2).join("."),b.slice(2,4).join(".")))}};b.Address4=Le}));var Gn=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.RE_URL_WITH_PORT=b.RE_URL=b.RE_ZONE_STRING=b.RE_SUBNET_STRING=b.RE_BAD_ADDRESS=b.RE_BAD_CHARACTERS=b.TYPES=b.SCOPES=b.GROUPS=b.BITS=void 0;b.BITS=128;b.GROUPS=8;b.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"};b.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"};b.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi;b.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi;b.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/;b.RE_ZONE_STRING=/%.*$/;b.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/);b.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)}));var zn=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.simpleGroup=b.spanLeadingZeroes=b.spanAll=b.spanAllZeroes=void 0;var B=jn();function Mg(b){return b.replace(/(0+)/g,'<span class="zero">$1</span>')}b.spanAllZeroes=Mg;function BE(b,F=0){return b.split("").map(((b,K)=>(0,B.sprintf)('<span class="digit value-%s position-%d">%s</span>',b,K+F,Mg(b)))).join("")}b.spanAll=BE;function Dg(b){return b.replace(/^(0+)/,'<span class="zero">$1</span>')}function RE(b){return b.split(":").map((b=>Dg(b))).join(":")}b.spanLeadingZeroes=RE;function PE(b,F=0){return b.split(":").map(((b,K)=>/group-v4/.test(b)?b:(0,B.sprintf)('<span class="hover-group group-%d">%s</span>',K+F,Dg(b))))}b.simpleGroup=PE}));var Jn=w((b=>{"use strict";var B=b&&b.__createBinding||(Object.create?function(b,B,F,K){K===void 0&&(K=F);var se=Object.getOwnPropertyDescriptor(B,F);(!se||("get"in se?!B.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(b,K,se)}:function(b,B,F,K){K===void 0&&(K=F),b[K]=B[F]}),F=b&&b.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:!0,value:B})}:function(b,B){b.default=B}),K=b&&b.__importStar||function(b){if(b&&b.__esModule)return b;var K={};if(b!=null)for(var se in b)se!=="default"&&Object.prototype.hasOwnProperty.call(b,se)&&B(K,b,se);return F(K,b),K};Object.defineProperty(b,"__esModule",{value:!0});b.possibleElisions=b.simpleRegularExpression=b.ADDRESS_BOUNDARY=b.padGroup=b.groupPossibilities=void 0;var se=K(Gn()),oe=jn();function Ka(b){return(0,oe.sprintf)("(%s)",b.join("|"))}b.groupPossibilities=Ka;function Ya(b){return b.length<4?(0,oe.sprintf)("0{0,%d}%s",4-b.length,b):b}b.padGroup=Ya;b.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function jE(b){let B=[];b.forEach(((b,F)=>{parseInt(b,16)===0&&B.push(F)}));let F=B.map((B=>b.map(((b,F)=>{if(F===B){let B=F===0||F===se.GROUPS-1?":":"";return Ka([Ya(b),B])}return Ya(b)})).join(":")));return F.push(b.map(Ya).join(":")),Ka(F)}b.simpleRegularExpression=jE;function UE(b,B,F){let K=B?"":":",se=F?"":":",Qe=[];!B&&!F&&Qe.push("::"),B&&F&&Qe.push(""),(F&&!B||!F&&B)&&Qe.push(":"),Qe.push((0,oe.sprintf)("%s(:0{1,4}){1,%d}",K,b-1)),Qe.push((0,oe.sprintf)("(0{1,4}:){1,%d}%s",b-1,se)),Qe.push((0,oe.sprintf)("(0{1,4}:){%d}0{1,4}",b-1));for(let B=1;B<b-1;B++)for(let F=1;F<b-B;F++)Qe.push((0,oe.sprintf)("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",F,b-F-B-1));return Ka(Qe)}b.possibleElisions=UE}));var Yn=w((b=>{"use strict";var B=b&&b.__createBinding||(Object.create?function(b,B,F,K){K===void 0&&(K=F);var se=Object.getOwnPropertyDescriptor(B,F);(!se||("get"in se?!B.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(b,K,se)}:function(b,B,F,K){K===void 0&&(K=F),b[K]=B[F]}),F=b&&b.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:!0,value:B})}:function(b,B){b.default=B}),K=b&&b.__importStar||function(b){if(b&&b.__esModule)return b;var K={};if(b!=null)for(var se in b)se!=="default"&&Object.prototype.hasOwnProperty.call(b,se)&&B(K,b,se);return F(K,b),K};Object.defineProperty(b,"__esModule",{value:!0});b.Address6=void 0;var se=K(Dn()),oe=K(Fn()),Qe=K(Gn()),Re=K(zn()),Me=Wn(),Le=Jn(),We=Nn(),Ge=Mn(),ze=jn();function Za(b){if(!b)throw new Error("Assertion failed.")}function HE(b){let B=/(\d+)(\d{3})/;for(;B.test(b);)b=b.replace(B,"$1,$2");return b}function GE(b){return b=b.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),b=b.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),b}function WE(b,B){let F=[],K=[],se;for(se=0;se<b.length;se++)se<B[0]?F.push(b[se]):se>B[1]&&K.push(b[se]);return F.concat(["compact"]).concat(K)}function jg(b){return(0,ze.sprintf)("%04x",parseInt(b,16))}function Ug(b){return b&255}var $e=class r{constructor(b,B){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=se.isInSubnet,this.isCorrect=se.isCorrect(Qe.BITS),B===void 0?this.groups=Qe.GROUPS:this.groups=B,this.address=b;let F=Qe.RE_SUBNET_STRING.exec(b);if(F){if(this.parsedSubnet=F[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>Qe.BITS)throw new We.AddressError("Invalid subnet mask.");b=b.replace(Qe.RE_SUBNET_STRING,"")}else if(/\//.test(b))throw new We.AddressError("Invalid subnet mask.");let K=Qe.RE_ZONE_STRING.exec(b);K&&(this.zone=K[0],b=b.replace(Qe.RE_ZONE_STRING,"")),this.addressMinusSuffix=b,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(b){try{return new r(b),!0}catch{return!1}}static fromBigInteger(b){let B=b.toString(16).padStart(32,"0"),F=[],K;for(K=0;K<Qe.GROUPS;K++)F.push(B.slice(K*4,(K+1)*4));return new r(F.join(":"))}static fromURL(b){let B,F=null,K;if(b.indexOf("[")!==-1&&b.indexOf("]:")!==-1){if(K=Qe.RE_URL_WITH_PORT.exec(b),K===null)return{error:"failed to parse address with port",address:null,port:null};B=K[1],F=K[2]}else if(b.indexOf("/")!==-1){if(b=b.replace(/^[a-z0-9]+:\/\//,""),K=Qe.RE_URL.exec(b),K===null)return{error:"failed to parse address from URL",address:null,port:null};B=K[1]}else B=b;return F?(F=parseInt(F,10),(F<0||F>65536)&&(F=null)):F=null,{address:new r(B),port:F}}static fromAddress4(b){let B=new Me.Address4(b),F=Qe.BITS-(oe.BITS-B.subnetMask);return new r(`::ffff:${B.correctForm()}/${F}`)}static fromArpa(b){let B=b.replace(/(\.ip6\.arpa)?\.$/,""),F=7;if(B.length!==63)throw new We.AddressError("Invalid 'ip6.arpa' form.");let K=B.split(".").reverse();for(let b=F;b>0;b--){let B=b*4;K.splice(B,0,":")}return B=K.join(""),new r(B)}microsoftTranscription(){return(0,ze.sprintf)("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))}mask(b=this.subnetMask){return this.getBitsBase2(0,b)}possibleSubnets(b=128){let B=Qe.BITS-this.subnetMask,F=Math.abs(b-Qe.BITS),K=B-F;return K<0?"0":HE(new Ge.BigInteger("2",10).pow(K).toString(10))}_startAddress(){return new Ge.BigInteger(this.mask()+"0".repeat(Qe.BITS-this.subnetMask),2)}startAddress(){return r.fromBigInteger(this._startAddress())}startAddressExclusive(){let b=new Ge.BigInteger("1");return r.fromBigInteger(this._startAddress().add(b))}_endAddress(){return new Ge.BigInteger(this.mask()+"1".repeat(Qe.BITS-this.subnetMask),2)}endAddress(){return r.fromBigInteger(this._endAddress())}endAddressExclusive(){let b=new Ge.BigInteger("1");return r.fromBigInteger(this._endAddress().subtract(b))}getScope(){let b=Qe.SCOPES[this.getBits(12,16).intValue()];return this.getType()==="Global unicast"&&b!=="Link local"&&(b="Global"),b||"Unknown"}getType(){for(let b of Object.keys(Qe.TYPES))if(this.isInSubnet(new r(b)))return Qe.TYPES[b];return"Global unicast"}getBits(b,B){return new Ge.BigInteger(this.getBitsBase2(b,B),2)}getBitsBase2(b,B){return this.binaryZeroPad().slice(b,B)}getBitsBase16(b,B){let F=B-b;if(F%4!==0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(b,B).toString(16).padStart(F/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,Qe.BITS)}reverseForm(b){b||(b={});let B=Math.floor(this.subnetMask/4),F=this.canonicalForm().replace(/:/g,"").split("").slice(0,B).reverse().join(".");return B>0?b.omitSuffix?F:(0,ze.sprintf)("%s.ip6.arpa.",F):b.omitSuffix?"":"ip6.arpa."}correctForm(){let b,B=[],F=0,K=[];for(b=0;b<this.parsedAddress.length;b++){let B=parseInt(this.parsedAddress[b],16);B===0&&F++,B!==0&&F>0&&(F>1&&K.push([b-F,b-1]),F=0)}F>1&&K.push([this.parsedAddress.length-F,this.parsedAddress.length-1]);let se=K.map((b=>b[1]-b[0]+1));if(K.length>0){let b=se.indexOf(Math.max(...se));B=WE(this.parsedAddress,K[b])}else B=this.parsedAddress;for(b=0;b<B.length;b++)B[b]!=="compact"&&(B[b]=parseInt(B[b],16).toString(16));let oe=B.join(":");return oe=oe.replace(/^compact$/,"::"),oe=oe.replace(/^compact|compact$/,":"),oe=oe.replace(/compact/,""),oe}binaryZeroPad(){return this.bigInteger().toString(2).padStart(Qe.BITS,"0")}parse4in6(b){let B=b.split(":"),F=B.slice(-1)[0].match(oe.RE_ADDRESS);if(F){this.parsedAddress4=F[0],this.address4=new Me.Address4(this.parsedAddress4);for(let B=0;B<this.address4.groups;B++)if(/^0[0-9]+/.test(this.address4.parsedAddress[B]))throw new We.AddressError("IPv4 addresses can't have leading zeroes.",b.replace(oe.RE_ADDRESS,this.address4.parsedAddress.map(GE).join(".")));this.v4=!0,B[B.length-1]=this.address4.toGroup6(),b=B.join(":")}return b}parse(b){b=this.parse4in6(b);let B=b.match(Qe.RE_BAD_CHARACTERS);if(B)throw new We.AddressError((0,ze.sprintf)("Bad character%s detected in address: %s",B.length>1?"s":"",B.join("")),b.replace(Qe.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));let F=b.match(Qe.RE_BAD_ADDRESS);if(F)throw new We.AddressError((0,ze.sprintf)("Address failed regex: %s",F.join("")),b.replace(Qe.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let K=[],se=b.split("::");if(se.length===2){let b=se[0].split(":"),B=se[1].split(":");b.length===1&&b[0]===""&&(b=[]),B.length===1&&B[0]===""&&(B=[]);let F=this.groups-(b.length+B.length);if(!F)throw new We.AddressError("Error parsing groups");this.elidedGroups=F,this.elisionBegin=b.length,this.elisionEnd=b.length+this.elidedGroups,K=K.concat(b);for(let b=0;b<F;b++)K.push("0");K=K.concat(B)}else if(se.length===1)K=b.split(":"),this.elidedGroups=0;else throw new We.AddressError("Too many :: groups found");if(K=K.map((b=>(0,ze.sprintf)("%x",parseInt(b,16)))),K.length!==this.groups)throw new We.AddressError("Incorrect number of groups found");return K}canonicalForm(){return this.parsedAddress.map(jg).join(":")}decimal(){return this.parsedAddress.map((b=>(0,ze.sprintf)("%05d",parseInt(b,16)))).join(":")}bigInteger(){return new Ge.BigInteger(this.parsedAddress.map(jg).join(""),16)}to4(){let b=this.binaryZeroPad().split("");return Me.Address4.fromHex(new Ge.BigInteger(b.slice(96,128).join(""),2).toString(16))}to4in6(){let b=this.to4(),B=new r(this.parsedAddress.slice(0,6).join(":"),6).correctForm(),F="";return/:$/.test(B)||(F=":"),B+F+b.address}inspectTeredo(){let b=this.getBitsBase16(0,32),B=this.getBits(80,96).xor(new Ge.BigInteger("ffff",16)).toString(),F=Me.Address4.fromHex(this.getBitsBase16(32,64)),K=Me.Address4.fromHex(this.getBits(96,128).xor(new Ge.BigInteger("ffffffff",16)).toString(16)),se=this.getBits(64,80),oe=this.getBitsBase2(64,80),Qe=se.testBit(15),Re=se.testBit(14),Le=se.testBit(8),We=se.testBit(9),$e=new Ge.BigInteger(oe.slice(2,6)+oe.slice(8,16),2).toString(10);return{prefix:(0,ze.sprintf)("%s:%s",b.slice(0,4),b.slice(4,8)),server4:F.address,client4:K.address,flags:oe,coneNat:Qe,microsoft:{reserved:Re,universalLocal:We,groupIndividual:Le,nonce:$e},udpPort:B}}inspect6to4(){let b=this.getBitsBase16(0,16),B=Me.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:(0,ze.sprintf)("%s",b.slice(0,4)),gateway:B.address}}to6to4(){if(!this.is4())return null;let b=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new r(b)}toByteArray(){let b=this.bigInteger().toByteArray();return b.length===17&&b[0]===0?b.slice(1):b}toUnsignedByteArray(){return this.toByteArray().map(Ug)}static fromByteArray(b){return this.fromUnsignedByteArray(b.map(Ug))}static fromUnsignedByteArray(b){let B=new Ge.BigInteger("256",10),F=new Ge.BigInteger("0",10),K=new Ge.BigInteger("1",10);for(let se=b.length-1;se>=0;se--)F=F.add(K.multiply(new Ge.BigInteger(b[se].toString(10),10))),K=K.multiply(B);return r.fromBigInteger(F)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"}isMulticast(){return this.getType()==="Multicast"}is4(){return this.v4}isTeredo(){return this.isInSubnet(new r("2001::/32"))}is6to4(){return this.isInSubnet(new r("2002::/16"))}isLoopback(){return this.getType()==="Loopback"}href(b){return b===void 0?b="":b=(0,ze.sprintf)(":%s",b),(0,ze.sprintf)("http://[%s]%s/",this.correctForm(),b)}link(b){b||(b={}),b.className===void 0&&(b.className=""),b.prefix===void 0&&(b.prefix="/#address="),b.v4===void 0&&(b.v4=!1);let B=this.correctForm;return b.v4&&(B=this.to4in6),b.className?(0,ze.sprintf)('<a href="%1$s%2$s" class="%3$s">%2$s</a>',b.prefix,B.call(this),b.className):(0,ze.sprintf)('<a href="%1$s%2$s">%2$s</a>',b.prefix,B.call(this))}group(){if(this.elidedGroups===0)return Re.simpleGroup(this.address).join(":");Za(typeof this.elidedGroups=="number"),Za(typeof this.elisionBegin=="number");let b=[],[B,F]=this.address.split("::");B.length?b.push(...Re.simpleGroup(B)):b.push("");let K=["hover-group"];for(let b=this.elisionBegin;b<this.elisionBegin+this.elidedGroups;b++)K.push((0,ze.sprintf)("group-%d",b));return b.push((0,ze.sprintf)('<span class="%s"></span>',K.join(" "))),F.length?b.push(...Re.simpleGroup(F,this.elisionEnd)):b.push(""),this.is4()&&(Za(this.address4 instanceof Me.Address4),b.pop(),b.push(this.address4.groupForV6())),b.join(":")}regularExpressionString(b=!1){let B=[],F=new r(this.correctForm());if(F.elidedGroups===0)B.push((0,Le.simpleRegularExpression)(F.parsedAddress));else if(F.elidedGroups===Qe.GROUPS)B.push((0,Le.possibleElisions)(Qe.GROUPS));else{let b=F.address.split("::");b[0].length&&B.push((0,Le.simpleRegularExpression)(b[0].split(":"))),Za(typeof F.elidedGroups=="number"),B.push((0,Le.possibleElisions)(F.elidedGroups,b[0].length!==0,b[1].length!==0)),b[1].length&&B.push((0,Le.simpleRegularExpression)(b[1].split(":"))),B=[B.join(":")]}return b||(B=["(?=^|",Le.ADDRESS_BOUNDARY,"|[^\\w\\:])(",...B,")(?=[^\\w\\:]|",Le.ADDRESS_BOUNDARY,"|$)"]),B.join("")}regularExpression(b=!1){return new RegExp(this.regularExpressionString(b),"i")}};b.Address6=$e}));var Kn=w((b=>{"use strict";var B=b&&b.__createBinding||(Object.create?function(b,B,F,K){K===void 0&&(K=F);var se=Object.getOwnPropertyDescriptor(B,F);(!se||("get"in se?!B.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(b,K,se)}:function(b,B,F,K){K===void 0&&(K=F),b[K]=B[F]}),F=b&&b.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:!0,value:B})}:function(b,B){b.default=B}),K=b&&b.__importStar||function(b){if(b&&b.__esModule)return b;var K={};if(b!=null)for(var se in b)se!=="default"&&Object.prototype.hasOwnProperty.call(b,se)&&B(K,b,se);return F(K,b),K};Object.defineProperty(b,"__esModule",{value:!0});b.v6=b.AddressError=b.Address6=b.Address4=void 0;var se=Wn();Object.defineProperty(b,"Address4",{enumerable:!0,get:function(){return se.Address4}});var oe=Yn();Object.defineProperty(b,"Address6",{enumerable:!0,get:function(){return oe.Address6}});var Qe=Nn();Object.defineProperty(b,"AddressError",{enumerable:!0,get:function(){return Qe.AddressError}});var Re=K(zn());b.v6={helpers:Re}}));var Xn=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.ipToBuffer=b.int32ToIpv4=b.ipv4ToInt32=b.validateSocksClientChainOptions=b.validateSocksClientOptions=void 0;var B=Pn(),K=Tn(),se=F(2203),oe=Kn(),Qe=F(9278);function tk(b,F=["connect","bind","associate"]){if(!K.SocksCommand[b.command])throw new B.SocksClientError(K.ERRORS.InvalidSocksCommand,b);if(F.indexOf(b.command)===-1)throw new B.SocksClientError(K.ERRORS.InvalidSocksCommandForOperation,b);if(!Gg(b.destination))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsDestination,b);if(!Wg(b.proxy))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsProxy,b);if(Hg(b.proxy,b),b.timeout&&!zg(b.timeout))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsTimeout,b);if(b.existing_socket&&!(b.existing_socket instanceof se.Duplex))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsExistingSocket,b)}b.validateSocksClientOptions=tk;function rk(b){if(b.command!=="connect")throw new B.SocksClientError(K.ERRORS.InvalidSocksCommandChain,b);if(!Gg(b.destination))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsDestination,b);if(!(b.proxies&&Array.isArray(b.proxies)&&b.proxies.length>=2))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsProxiesLength,b);if(b.proxies.forEach((F=>{if(!Wg(F))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsProxy,b);Hg(F,b)})),b.timeout&&!zg(b.timeout))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsTimeout,b)}b.validateSocksClientChainOptions=rk;function Hg(b,F){if(b.custom_auth_method!==void 0){if(b.custom_auth_method<K.SOCKS5_CUSTOM_AUTH_START||b.custom_auth_method>K.SOCKS5_CUSTOM_AUTH_END)throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsCustomAuthRange,F);if(b.custom_auth_request_handler===void 0||typeof b.custom_auth_request_handler!="function")throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,F);if(b.custom_auth_response_size===void 0)throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,F);if(b.custom_auth_response_handler===void 0||typeof b.custom_auth_response_handler!="function")throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,F)}}function Gg(b){return b&&typeof b.host=="string"&&typeof b.port=="number"&&b.port>=0&&b.port<=65535}function Wg(b){return b&&(typeof b.host=="string"||typeof b.ipaddress=="string")&&typeof b.port=="number"&&b.port>=0&&b.port<=65535&&(b.type===4||b.type===5)}function zg(b){return typeof b=="number"&&b>0}function ik(b){return new oe.Address4(b).toArray().reduce(((b,B)=>(b<<8)+B),0)}b.ipv4ToInt32=ik;function nk(b){let B=b>>>24&255,F=b>>>16&255,K=b>>>8&255,se=b&255;return[B,F,K,se].join(".")}b.int32ToIpv4=nk;function sk(b){if(Qe.isIPv4(b)){let B=new oe.Address4(b);return Buffer.from(B.toArray())}else if(Qe.isIPv6(b)){let B=new oe.Address6(b);return Buffer.from(B.canonicalForm().split(":").map((b=>b.padStart(4,"0"))).join(""),"hex")}else throw new Error("Invalid IP address format")}b.ipToBuffer=sk}));var ei=w((b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.ReceiveBuffer=void 0;var B=class{constructor(b=4096){this.buffer=Buffer.allocUnsafe(b),this.offset=0,this.originalSize=b}get length(){return this.offset}append(b){if(!Buffer.isBuffer(b))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+b.length>=this.buffer.length){let B=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+b.length)),B.copy(this.buffer)}return b.copy(this.buffer,this.offset),this.offset+=b.length}peek(b){if(b>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,b)}get(b){if(b>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let B=Buffer.allocUnsafe(b);return this.buffer.slice(0,b).copy(B),this.buffer.copyWithin(0,b,b+this.offset-b),this.offset-=b,B}};b.ReceiveBuffer=B}));var ti=w((b=>{"use strict";var B=b&&b.__awaiter||function(b,B,F,K){function n(b){return b instanceof F?b:new F((function(B){B(b)}))}return new(F||(F=Promise))((function(F,se){function o(b){try{c(K.next(b))}catch(b){se(b)}}function l(b){try{c(K.throw(b))}catch(b){se(b)}}function c(b){b.done?F(b.value):n(b.value).then(o,l)}c((K=K.apply(b,B||[])).next())}))};Object.defineProperty(b,"__esModule",{value:!0});b.SocksClientError=b.SocksClient=void 0;var K=F(4434),se=F(9278),oe=On(),Qe=Tn(),Re=Xn(),Me=ei(),Le=Pn();Object.defineProperty(b,"SocksClientError",{enumerable:!0,get:function(){return Le.SocksClientError}});var We=Kn(),Ge=class r extends K.EventEmitter{constructor(b){super(),this.options=Object.assign({},b),(0,Re.validateSocksClientOptions)(b),this.setState(Qe.SocksClientState.Created)}static createConnection(b,B){return new Promise(((F,K)=>{try{(0,Re.validateSocksClientOptions)(b,["connect"])}catch(b){return typeof B=="function"?(B(b),F(b)):K(b)}let se=new r(b);se.connect(b.existing_socket),se.once("established",(b=>{se.removeAllListeners(),typeof B=="function"&&B(null,b),F(b)})),se.once("error",(b=>{se.removeAllListeners(),typeof B=="function"?(B(b),F(b)):K(b)}))}))}static createConnectionChain(b,F){return new Promise(((K,se)=>B(this,void 0,void 0,(function*(){try{(0,Re.validateSocksClientChainOptions)(b)}catch(b){return typeof F=="function"?(F(b),K(b)):se(b)}b.randomizeChain&&(0,Le.shuffleArray)(b.proxies);try{let B;for(let F=0;F<b.proxies.length;F++){let K=b.proxies[F],se=F===b.proxies.length-1?b.destination:{host:b.proxies[F+1].host||b.proxies[F+1].ipaddress,port:b.proxies[F+1].port},oe=yield r.createConnection({command:"connect",proxy:K,destination:se,existing_socket:B});B=B||oe.socket}typeof F=="function"?(F(null,{socket:B}),K({socket:B})):K({socket:B})}catch(b){typeof F=="function"?(F(b),K(b)):se(b)}}))))}static createUDPFrame(b){let B=new oe.SmartBuffer;return B.writeUInt16BE(0),B.writeUInt8(b.frameNumber||0),se.isIPv4(b.remoteHost.host)?(B.writeUInt8(Qe.Socks5HostType.IPv4),B.writeUInt32BE((0,Re.ipv4ToInt32)(b.remoteHost.host))):se.isIPv6(b.remoteHost.host)?(B.writeUInt8(Qe.Socks5HostType.IPv6),B.writeBuffer((0,Re.ipToBuffer)(b.remoteHost.host))):(B.writeUInt8(Qe.Socks5HostType.Hostname),B.writeUInt8(Buffer.byteLength(b.remoteHost.host)),B.writeString(b.remoteHost.host)),B.writeUInt16BE(b.remoteHost.port),B.writeBuffer(b.data),B.toBuffer()}static parseUDPFrame(b){let B=oe.SmartBuffer.fromBuffer(b);B.readOffset=2;let F=B.readUInt8(),K=B.readUInt8(),se;K===Qe.Socks5HostType.IPv4?se=(0,Re.int32ToIpv4)(B.readUInt32BE()):K===Qe.Socks5HostType.IPv6?se=We.Address6.fromByteArray(Array.from(B.readBuffer(16))).canonicalForm():se=B.readString(B.readUInt8());let Me=B.readUInt16BE();return{frameNumber:F,remoteHost:{host:se,port:Me},data:B.readBuffer()}}setState(b){this.state!==Qe.SocksClientState.Error&&(this.state=b)}connect(b){this.onDataReceived=b=>this.onDataReceivedHandler(b),this.onClose=()=>this.onCloseHandler(),this.onError=b=>this.onErrorHandler(b),this.onConnect=()=>this.onConnectHandler();let B=setTimeout((()=>this.onEstablishedTimeout()),this.options.timeout||Qe.DEFAULT_TIMEOUT);B.unref&&typeof B.unref=="function"&&B.unref(),b?this.socket=b:this.socket=new se.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(Qe.SocksClientState.Connecting),this.receiveBuffer=new Me.ReceiveBuffer,b?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",(b=>{setImmediate((()=>{if(this.receiveBuffer.length>0){let B=this.receiveBuffer.get(this.receiveBuffer.length);b.socket.emit("data",B)}b.socket.resume()}))}))}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==Qe.SocksClientState.Established&&this.state!==Qe.SocksClientState.BoundWaitingForConnection&&this.closeSocket(Qe.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(Qe.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(Qe.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(b){this.receiveBuffer.append(b),this.processData()}processData(){for(;this.state!==Qe.SocksClientState.Established&&this.state!==Qe.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===Qe.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===Qe.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===Qe.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===Qe.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(Qe.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(Qe.ERRORS.SocketClosed)}onErrorHandler(b){this.closeSocket(b.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(b){this.state!==Qe.SocksClientState.Error&&(this.setState(Qe.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new Le.SocksClientError(b,this.options)))}sendSocks4InitialHandshake(){let b=this.options.proxy.userId||"",B=new oe.SmartBuffer;B.writeUInt8(4),B.writeUInt8(Qe.SocksCommand[this.options.command]),B.writeUInt16BE(this.options.destination.port),se.isIPv4(this.options.destination.host)?(B.writeBuffer((0,Re.ipToBuffer)(this.options.destination.host)),B.writeStringNT(b)):(B.writeUInt8(0),B.writeUInt8(0),B.writeUInt8(0),B.writeUInt8(1),B.writeStringNT(b),B.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(B.toBuffer())}handleSocks4FinalHandshakeResponse(){let b=this.receiveBuffer.get(8);if(b[1]!==Qe.Socks4Response.Granted)this.closeSocket(`${Qe.ERRORS.Socks4ProxyRejectedConnection} - (${Qe.Socks4Response[b[1]]})`);else if(Qe.SocksCommand[this.options.command]===Qe.SocksCommand.bind){let B=oe.SmartBuffer.fromBuffer(b);B.readOffset=2;let F={port:B.readUInt16BE(),host:(0,Re.int32ToIpv4)(B.readUInt32BE())};F.host==="0.0.0.0"&&(F.host=this.options.proxy.ipaddress),this.setState(Qe.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:F,socket:this.socket})}else this.setState(Qe.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let b=this.receiveBuffer.get(8);if(b[1]!==Qe.Socks4Response.Granted)this.closeSocket(`${Qe.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${Qe.Socks4Response[b[1]]})`);else{let B=oe.SmartBuffer.fromBuffer(b);B.readOffset=2;let F={port:B.readUInt16BE(),host:(0,Re.int32ToIpv4)(B.readUInt32BE())};this.setState(Qe.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:F,socket:this.socket})}}sendSocks5InitialHandshake(){let b=new oe.SmartBuffer,B=[Qe.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&B.push(Qe.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&B.push(this.options.proxy.custom_auth_method),b.writeUInt8(5),b.writeUInt8(B.length);for(let F of B)b.writeUInt8(F);this.nextRequiredPacketBufferSize=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(b.toBuffer()),this.setState(Qe.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let b=this.receiveBuffer.get(2);b[0]!==5?this.closeSocket(Qe.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):b[1]===Qe.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(Qe.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):b[1]===Qe.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=Qe.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):b[1]===Qe.Socks5Auth.UserPass?(this.socks5ChosenAuthType=Qe.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):b[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(Qe.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let b=this.options.proxy.userId||"",B=this.options.proxy.password||"",F=new oe.SmartBuffer;F.writeUInt8(1),F.writeUInt8(Buffer.byteLength(b)),F.writeString(b),F.writeUInt8(Buffer.byteLength(B)),F.writeString(B),this.nextRequiredPacketBufferSize=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(F.toBuffer()),this.setState(Qe.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return B(this,void 0,void 0,(function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(Qe.SocksClientState.SentAuthentication)}))}handleSocks5CustomAuthHandshakeResponse(b){return B(this,void 0,void 0,(function*(){return yield this.options.proxy.custom_auth_response_handler(b)}))}handleSocks5AuthenticationNoAuthHandshakeResponse(b){return B(this,void 0,void 0,(function*(){return b[1]===0}))}handleSocks5AuthenticationUserPassHandshakeResponse(b){return B(this,void 0,void 0,(function*(){return b[1]===0}))}handleInitialSocks5AuthenticationHandshakeResponse(){return B(this,void 0,void 0,(function*(){this.setState(Qe.SocksClientState.ReceivedAuthenticationResponse);let b=!1;this.socks5ChosenAuthType===Qe.Socks5Auth.NoAuth?b=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===Qe.Socks5Auth.UserPass?b=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(b=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),b?this.sendSocks5CommandRequest():this.closeSocket(Qe.ERRORS.Socks5AuthenticationFailed)}))}sendSocks5CommandRequest(){let b=new oe.SmartBuffer;b.writeUInt8(5),b.writeUInt8(Qe.SocksCommand[this.options.command]),b.writeUInt8(0),se.isIPv4(this.options.destination.host)?(b.writeUInt8(Qe.Socks5HostType.IPv4),b.writeBuffer((0,Re.ipToBuffer)(this.options.destination.host))):se.isIPv6(this.options.destination.host)?(b.writeUInt8(Qe.Socks5HostType.IPv6),b.writeBuffer((0,Re.ipToBuffer)(this.options.destination.host))):(b.writeUInt8(Qe.Socks5HostType.Hostname),b.writeUInt8(this.options.destination.host.length),b.writeString(this.options.destination.host)),b.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(b.toBuffer()),this.setState(Qe.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let b=this.receiveBuffer.peek(5);if(b[0]!==5||b[1]!==Qe.Socks5Response.Granted)this.closeSocket(`${Qe.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${Qe.Socks5Response[b[1]]}`);else{let B=b[3],F,K;if(B===Qe.Socks5HostType.IPv4){let b=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<b){this.nextRequiredPacketBufferSize=b;return}K=oe.SmartBuffer.fromBuffer(this.receiveBuffer.get(b).slice(4)),F={host:(0,Re.int32ToIpv4)(K.readUInt32BE()),port:K.readUInt16BE()},F.host==="0.0.0.0"&&(F.host=this.options.proxy.ipaddress)}else if(B===Qe.Socks5HostType.Hostname){let B=b[4],se=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(B);if(this.receiveBuffer.length<se){this.nextRequiredPacketBufferSize=se;return}K=oe.SmartBuffer.fromBuffer(this.receiveBuffer.get(se).slice(5)),F={host:K.readString(B),port:K.readUInt16BE()}}else if(B===Qe.Socks5HostType.IPv6){let b=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<b){this.nextRequiredPacketBufferSize=b;return}K=oe.SmartBuffer.fromBuffer(this.receiveBuffer.get(b).slice(4)),F={host:We.Address6.fromByteArray(Array.from(K.readBuffer(16))).canonicalForm(),port:K.readUInt16BE()}}this.setState(Qe.SocksClientState.ReceivedFinalResponse),Qe.SocksCommand[this.options.command]===Qe.SocksCommand.connect?(this.setState(Qe.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:F,socket:this.socket})):Qe.SocksCommand[this.options.command]===Qe.SocksCommand.bind?(this.setState(Qe.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:F,socket:this.socket})):Qe.SocksCommand[this.options.command]===Qe.SocksCommand.associate&&(this.setState(Qe.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:F,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let b=this.receiveBuffer.peek(5);if(b[0]!==5||b[1]!==Qe.Socks5Response.Granted)this.closeSocket(`${Qe.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${Qe.Socks5Response[b[1]]}`);else{let B=b[3],F,K;if(B===Qe.Socks5HostType.IPv4){let b=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<b){this.nextRequiredPacketBufferSize=b;return}K=oe.SmartBuffer.fromBuffer(this.receiveBuffer.get(b).slice(4)),F={host:(0,Re.int32ToIpv4)(K.readUInt32BE()),port:K.readUInt16BE()},F.host==="0.0.0.0"&&(F.host=this.options.proxy.ipaddress)}else if(B===Qe.Socks5HostType.Hostname){let B=b[4],se=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(B);if(this.receiveBuffer.length<se){this.nextRequiredPacketBufferSize=se;return}K=oe.SmartBuffer.fromBuffer(this.receiveBuffer.get(se).slice(5)),F={host:K.readString(B),port:K.readUInt16BE()}}else if(B===Qe.Socks5HostType.IPv6){let b=Qe.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<b){this.nextRequiredPacketBufferSize=b;return}K=oe.SmartBuffer.fromBuffer(this.receiveBuffer.get(b).slice(4)),F={host:We.Address6.fromByteArray(Array.from(K.readBuffer(16))).canonicalForm(),port:K.readUInt16BE()}}this.setState(Qe.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:F,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};b.SocksClient=Ge}));var ri=w((b=>{"use strict";var B=b&&b.__createBinding||(Object.create?function(b,B,F,K){K===void 0&&(K=F);var se=Object.getOwnPropertyDescriptor(B,F);(!se||("get"in se?!B.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(b,K,se)}:function(b,B,F,K){K===void 0&&(K=F),b[K]=B[F]}),F=b&&b.__exportStar||function(b,F){for(var K in b)K!=="default"&&!Object.prototype.hasOwnProperty.call(F,K)&&B(F,b,K)};Object.defineProperty(b,"__esModule",{value:!0});F(ti(),b)}));var ni=w((b=>{"use strict";var B=b&&b.__createBinding||(Object.create?function(b,B,F,K){K===void 0&&(K=F);var se=Object.getOwnPropertyDescriptor(B,F);(!se||("get"in se?!B.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return B[F]}}),Object.defineProperty(b,K,se)}:function(b,B,F,K){K===void 0&&(K=F),b[K]=B[F]}),K=b&&b.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:!0,value:B})}:function(b,B){b.default=B}),se=b&&b.__importStar||function(b){if(b&&b.__esModule)return b;var F={};if(b!=null)for(var se in b)se!=="default"&&Object.prototype.hasOwnProperty.call(b,se)&&B(F,b,se);return K(F,b),F},oe=b&&b.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(b,"__esModule",{value:!0});b.SocksProxyAgent=void 0;var Qe=ri(),Re=wt(),Me=oe(pt()),Le=se(F(2250)),We=se(F(9278)),Ge=se(F(4756)),ze=F(7016),$e=(0,Me.default)("socks-proxy-agent"),bk=b=>b.servername===void 0&&b.host&&!We.isIP(b.host)?{...b,servername:b.host}:b;function xk(b){let B=!1,F=5,K=b.hostname,se=parseInt(b.port,10)||1080;switch(b.protocol.replace(":","")){case"socks4":B=!0,F=4;break;case"socks4a":F=4;break;case"socks5":B=!0,F=5;break;case"socks":F=5;break;case"socks5h":F=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${String(b.protocol)}`)}let oe={host:K,port:se,type:F};return b.username&&Object.defineProperty(oe,"userId",{value:decodeURIComponent(b.username),enumerable:!1}),b.password!=null&&Object.defineProperty(oe,"password",{value:decodeURIComponent(b.password),enumerable:!1}),{lookup:B,proxy:oe}}var Ye=class extends Re.Agent{constructor(b,B){var F,K;super(B);let se=typeof b=="string"?new ze.URL(b):b,{proxy:oe,lookup:Qe}=xk(se);this.shouldLookup=Qe,this.proxy=oe,this.timeout=(F=B==null?void 0:B.timeout)!=null?F:null,this.socketOptions=(K=B==null?void 0:B.socketOptions)!=null?K:null}async connect(b,B){var F;let{shouldLookup:K,proxy:se,timeout:oe}=this;if(!B.host)throw new Error("No `host` defined!");let{host:Re}=B,{port:Me,lookup:We=Le.lookup}=B;K&&(Re=await new Promise(((b,B)=>{We(Re,{},((F,K)=>{F?B(F):b(K)}))})));let ze={proxy:se,destination:{host:Re,port:typeof Me=="number"?Me:parseInt(Me,10)},command:"connect",timeout:oe!=null?oe:void 0,socket_options:(F=this.socketOptions)!=null?F:void 0},u=B=>{b.destroy(),Ye.destroy(),B&&B.destroy()};$e("Creating socks proxy connection: %o",ze);let{socket:Ye}=await Qe.SocksClient.createConnection(ze);if($e("Successfully created socks proxy connection"),oe!==null&&(Ye.setTimeout(oe),Ye.on("timeout",(()=>u()))),B.secureEndpoint){$e("Upgrading socket connection to TLS");let b=Ge.connect({...wk(bk(B),"host","path","port"),socket:Ye});return b.once("error",(B=>{$e("Socket TLS error",B.message),u(b)})),b}return Ye}};Ye.protocols=["socks","socks4","socks4a","socks5","socks5h"];b.SocksProxyAgent=Ye;function wk(b,...B){let F={},K;for(K in b)B.includes(K)||(F[K]=b[K]);return F}}));var ii=w(((b,B)=>{"use strict";var{Duplex:K}=F(2203);function Xg(b){b.emit("close")}function Ek(){!this.destroyed&&this._writableState.finished&&this.destroy()}function ev(b){this.removeListener("error",ev),this.destroy(),this.listenerCount("error")===0&&this.emit("error",b)}function kk(b,B){let F=!0,se=new K({...B,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return b.on("message",(function(B,F){let K=!F&&se._readableState.objectMode?B.toString():B;se.push(K)||b.pause()})),b.once("error",(function(b){se.destroyed||(F=!1,se.destroy(b))})),b.once("close",(function(){se.destroyed||se.push(null)})),se._destroy=function(B,K){if(b.readyState===b.CLOSED){K(B),process.nextTick(Xg,se);return}let oe=!1;b.once("error",(function(b){oe=!0,K(b)})),b.once("close",(function(){oe||K(B),process.nextTick(Xg,se)})),F&&b.terminate()},se._final=function(B){if(b.readyState===b.CONNECTING){b.once("open",(function(){se._final(B)}));return}b._socket!==null&&(b._socket._writableState.finished?(B(),se._readableState.endEmitted&&se.destroy()):(b._socket.once("finish",(function(){B()})),b.close()))},se._read=function(){b.isPaused&&b.resume()},se._write=function(B,F,K){if(b.readyState===b.CONNECTING){b.once("open",(function(){se._write(B,F,K)}));return}b.send(B,K)},se.on("end",Ek),se.on("error",ev),se}B.exports=kk}));var si=w(((b,B)=>{"use strict";B.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}));var oi=w(((b,B)=>{"use strict";var{EMPTY_BUFFER:K}=si(),se=Buffer[Symbol.species];function Ck(b,B){if(b.length===0)return K;if(b.length===1)return b[0];let F=Buffer.allocUnsafe(B),oe=0;for(let B=0;B<b.length;B++){let K=b[B];F.set(K,oe),oe+=K.length}return oe<B?new se(F.buffer,F.byteOffset,oe):F}function nv(b,B,F,K,se){for(let oe=0;oe<se;oe++)F[K+oe]=b[oe]^B[oe&3]}function sv(b,B){for(let F=0;F<b.length;F++)b[F]^=B[F&3]}function Tk(b){return b.length===b.buffer.byteLength?b.buffer:b.buffer.slice(b.byteOffset,b.byteOffset+b.length)}function du(b){if(du.readOnly=!0,Buffer.isBuffer(b))return b;let B;return b instanceof ArrayBuffer?B=new se(b):ArrayBuffer.isView(b)?B=new se(b.buffer,b.byteOffset,b.byteLength):(B=Buffer.from(b),du.readOnly=!1),B}B.exports={concat:Ck,mask:nv,toArrayBuffer:Tk,toBuffer:du,unmask:sv};if(!process.env.WS_NO_BUFFER_UTIL)try{let b=F(8340);B.exports.mask=function(B,F,K,se,oe){oe<48?nv(B,F,K,se,oe):b.mask(B,F,K,se,oe)},B.exports.unmask=function(B,F){B.length<32?sv(B,F):b.unmask(B,F)}}catch{}}));var li=w(((b,B)=>{"use strict";var F=Symbol("kDone"),K=Symbol("kRun"),se=class{constructor(b){this[F]=()=>{this.pending--,this[K]()},this.concurrency=b||1/0,this.jobs=[],this.pending=0}add(b){this.jobs.push(b),this[K]()}[K](){if(this.pending!==this.concurrency&&this.jobs.length){let b=this.jobs.shift();this.pending++,b(this[F])}}};B.exports=se}));var ci=w(((b,B)=>{"use strict";var K=F(3106),se=oi(),oe=li(),{kStatusCode:Qe}=si(),Re=Buffer[Symbol.species],Me=Buffer.from([0,0,255,255]),Le=Symbol("permessage-deflate"),We=Symbol("total-length"),Ge=Symbol("callback"),ze=Symbol("buffers"),$e=Symbol("error"),Ye,Ke=class{constructor(b,B,F){if(this._maxPayload=F|0,this._options=b||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!B,this._deflate=null,this._inflate=null,this.params=null,!Ye){let b=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Ye=new oe(b)}}static get extensionName(){return"permessage-deflate"}offer(){let b={};return this._options.serverNoContextTakeover&&(b.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(b.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(b.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?b.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(b.client_max_window_bits=!0),b}accept(b){return b=this.normalizeParams(b),this.params=this._isServer?this.acceptAsServer(b):this.acceptAsClient(b),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let b=this._deflate[Ge];this._deflate.close(),this._deflate=null,b&&b(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(b){let B=this._options,F=b.find((b=>!(B.serverNoContextTakeover===!1&&b.server_no_context_takeover||b.server_max_window_bits&&(B.serverMaxWindowBits===!1||typeof B.serverMaxWindowBits=="number"&&B.serverMaxWindowBits>b.server_max_window_bits)||typeof B.clientMaxWindowBits=="number"&&!b.client_max_window_bits)));if(!F)throw new Error("None of the extension offers can be accepted");return B.serverNoContextTakeover&&(F.server_no_context_takeover=!0),B.clientNoContextTakeover&&(F.client_no_context_takeover=!0),typeof B.serverMaxWindowBits=="number"&&(F.server_max_window_bits=B.serverMaxWindowBits),typeof B.clientMaxWindowBits=="number"?F.client_max_window_bits=B.clientMaxWindowBits:(F.client_max_window_bits===!0||B.clientMaxWindowBits===!1)&&delete F.client_max_window_bits,F}acceptAsClient(b){let B=b[0];if(this._options.clientNoContextTakeover===!1&&B.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!B.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(B.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&B.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return B}normalizeParams(b){return b.forEach((b=>{Object.keys(b).forEach((B=>{let F=b[B];if(F.length>1)throw new Error(`Parameter "${B}" must have only a single value`);if(F=F[0],B==="client_max_window_bits"){if(F!==!0){let b=+F;if(!Number.isInteger(b)||b<8||b>15)throw new TypeError(`Invalid value for parameter "${B}": ${F}`);F=b}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${B}": ${F}`)}else if(B==="server_max_window_bits"){let b=+F;if(!Number.isInteger(b)||b<8||b>15)throw new TypeError(`Invalid value for parameter "${B}": ${F}`);F=b}else if(B==="client_no_context_takeover"||B==="server_no_context_takeover"){if(F!==!0)throw new TypeError(`Invalid value for parameter "${B}": ${F}`)}else throw new Error(`Unknown parameter "${B}"`);b[B]=F}))})),b}decompress(b,B,F){Ye.add((K=>{this._decompress(b,B,((b,B)=>{K(),F(b,B)}))}))}compress(b,B,F){Ye.add((K=>{this._compress(b,B,((b,B)=>{K(),F(b,B)}))}))}_decompress(b,B,F){let oe=this._isServer?"client":"server";if(!this._inflate){let b=`${oe}_max_window_bits`,B=typeof this.params[b]!="number"?K.Z_DEFAULT_WINDOWBITS:this.params[b];this._inflate=K.createInflateRaw({...this._options.zlibInflateOptions,windowBits:B}),this._inflate[Le]=this,this._inflate[We]=0,this._inflate[ze]=[],this._inflate.on("error",Bk),this._inflate.on("data",fv)}this._inflate[Ge]=F,this._inflate.write(b),B&&this._inflate.write(Me),this._inflate.flush((()=>{let b=this._inflate[$e];if(b){this._inflate.close(),this._inflate=null,F(b);return}let K=se.concat(this._inflate[ze],this._inflate[We]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[We]=0,this._inflate[ze]=[],B&&this.params[`${oe}_no_context_takeover`]&&this._inflate.reset()),F(null,K)}))}_compress(b,B,F){let oe=this._isServer?"server":"client";if(!this._deflate){let b=`${oe}_max_window_bits`,B=typeof this.params[b]!="number"?K.Z_DEFAULT_WINDOWBITS:this.params[b];this._deflate=K.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:B}),this._deflate[We]=0,this._deflate[ze]=[],this._deflate.on("data",Lk)}this._deflate[Ge]=F,this._deflate.write(b),this._deflate.flush(K.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let b=se.concat(this._deflate[ze],this._deflate[We]);B&&(b=new Re(b.buffer,b.byteOffset,b.length-4)),this._deflate[Ge]=null,this._deflate[We]=0,this._deflate[ze]=[],B&&this.params[`${oe}_no_context_takeover`]&&this._deflate.reset(),F(null,b)}))}};B.exports=Ke;function Lk(b){this[ze].push(b),this[We]+=b.length}function fv(b){if(this[We]+=b.length,this[Le]._maxPayload<1||this[We]<=this[Le]._maxPayload){this[ze].push(b);return}this[$e]=new RangeError("Max payload size exceeded"),this[$e].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[$e][Qe]=1009,this.removeListener("data",fv),this.reset()}function Bk(b){this[Le]._inflate=null,b[Qe]=1007,this[Ge](b)}}));var ui=w(((b,B)=>{"use strict";var{isUtf8:K}=F(181),se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Pk(b){return b>=1e3&&b<=1014&&b!==1004&&b!==1005&&b!==1006||b>=3e3&&b<=4999}function vu(b){let B=b.length,F=0;for(;F<B;)if((b[F]&128)===0)F++;else if((b[F]&224)===192){if(F+1===B||(b[F+1]&192)!==128||(b[F]&254)===192)return!1;F+=2}else if((b[F]&240)===224){if(F+2>=B||(b[F+1]&192)!==128||(b[F+2]&192)!==128||b[F]===224&&(b[F+1]&224)===128||b[F]===237&&(b[F+1]&224)===160)return!1;F+=3}else if((b[F]&248)===240){if(F+3>=B||(b[F+1]&192)!==128||(b[F+2]&192)!==128||(b[F+3]&192)!==128||b[F]===240&&(b[F+1]&240)===128||b[F]===244&&b[F+1]>143||b[F]>244)return!1;F+=4}else return!1;return!0}B.exports={isValidStatusCode:Pk,isValidUTF8:vu,tokenChars:se};if(K)B.exports.isValidUTF8=function(b){return b.length<24?vu(b):K(b)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let b=F(2461);B.exports.isValidUTF8=function(B){return B.length<32?vu(B):b(B)}}catch{}}));var Ai=w(((b,B)=>{"use strict";var{Writable:K}=F(2203),se=ci(),{BINARY_TYPES:oe,EMPTY_BUFFER:Qe,kStatusCode:Re,kWebSocket:Me}=si(),{concat:Le,toArrayBuffer:We,unmask:Ge}=oi(),{isValidStatusCode:ze,isValidUTF8:$e}=ui(),Ye=Buffer[Symbol.species],Ke=0,Xe=1,et=2,rt=3,it=4,ot=5,at=6,lt=class extends K{constructor(b={}){super(),this._allowSynchronousEvents=b.allowSynchronousEvents!==void 0?b.allowSynchronousEvents:!0,this._binaryType=b.binaryType||oe[0],this._extensions=b.extensions||{},this._isServer=!!b.isServer,this._maxPayload=b.maxPayload|0,this._skipUTF8Validation=!!b.skipUTF8Validation,this[Me]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=Ke}_write(b,B,F){if(this._opcode===8&&this._state==Ke)return F();this._bufferedBytes+=b.length,this._buffers.push(b),this.startLoop(F)}consume(b){if(this._bufferedBytes-=b,b===this._buffers[0].length)return this._buffers.shift();if(b<this._buffers[0].length){let B=this._buffers[0];return this._buffers[0]=new Ye(B.buffer,B.byteOffset+b,B.length-b),new Ye(B.buffer,B.byteOffset,b)}let B=Buffer.allocUnsafe(b);do{let F=this._buffers[0],K=B.length-b;b>=F.length?B.set(this._buffers.shift(),K):(B.set(new Uint8Array(F.buffer,F.byteOffset,b),K),this._buffers[0]=new Ye(F.buffer,F.byteOffset+b,F.length-b)),b-=F.length}while(b>0);return B}startLoop(b){this._loop=!0;do{switch(this._state){case Ke:this.getInfo(b);break;case Xe:this.getPayloadLength16(b);break;case et:this.getPayloadLength64(b);break;case rt:this.getMask();break;case it:this.getData(b);break;case ot:case at:this._loop=!1;return}}while(this._loop);this._errored||b()}getInfo(b){if(this._bufferedBytes<2){this._loop=!1;return}let B=this.consume(2);if((B[0]&48)!==0){let B=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");b(B);return}let F=(B[0]&64)===64;if(F&&!this._extensions[se.extensionName]){let B=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");b(B);return}if(this._fin=(B[0]&128)===128,this._opcode=B[0]&15,this._payloadLength=B[1]&127,this._opcode===0){if(F){let B=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");b(B);return}if(!this._fragmented){let B=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");b(B);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let B=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");b(B);return}this._compressed=F}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let B=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");b(B);return}if(F){let B=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");b(B);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let B=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");b(B);return}}else{let B=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");b(B);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(B[1]&128)===128,this._isServer){if(!this._masked){let B=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");b(B);return}}else if(this._masked){let B=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");b(B);return}this._payloadLength===126?this._state=Xe:this._payloadLength===127?this._state=et:this.haveLength(b)}getPayloadLength16(b){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(b)}getPayloadLength64(b){if(this._bufferedBytes<8){this._loop=!1;return}let B=this.consume(8),F=B.readUInt32BE(0);if(F>Math.pow(2,21)-1){let B=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");b(B);return}this._payloadLength=F*Math.pow(2,32)+B.readUInt32BE(4),this.haveLength(b)}haveLength(b){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let B=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");b(B);return}this._masked?this._state=rt:this._state=it}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=it}getData(b){let B=Qe;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}B=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&Ge(B,this._mask)}if(this._opcode>7){this.controlMessage(B,b);return}if(this._compressed){this._state=ot,this.decompress(B,b);return}B.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(B)),this.dataMessage(b)}decompress(b,B){this._extensions[se.extensionName].decompress(b,this._fin,((b,F)=>{if(b)return B(b);if(F.length){if(this._messageLength+=F.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let b=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");B(b);return}this._fragments.push(F)}this.dataMessage(B),this._state===Ke&&this.startLoop(B)}))}dataMessage(b){if(!this._fin){this._state=Ke;return}let B=this._messageLength,F=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let K;this._binaryType==="nodebuffer"?K=Le(F,B):this._binaryType==="arraybuffer"?K=We(Le(F,B)):K=F,this._allowSynchronousEvents?(this.emit("message",K,!0),this._state=Ke):(this._state=at,setImmediate((()=>{this.emit("message",K,!0),this._state=Ke,this.startLoop(b)})))}else{let K=Le(F,B);if(!this._skipUTF8Validation&&!$e(K)){let B=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");b(B);return}this._state===ot||this._allowSynchronousEvents?(this.emit("message",K,!1),this._state=Ke):(this._state=at,setImmediate((()=>{this.emit("message",K,!1),this._state=Ke,this.startLoop(b)})))}}controlMessage(b,B){if(this._opcode===8){if(b.length===0)this._loop=!1,this.emit("conclude",1005,Qe),this.end();else{let F=b.readUInt16BE(0);if(!ze(F)){let b=this.createError(RangeError,`invalid status code ${F}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");B(b);return}let K=new Ye(b.buffer,b.byteOffset+2,b.length-2);if(!this._skipUTF8Validation&&!$e(K)){let b=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");B(b);return}this._loop=!1,this.emit("conclude",F,K),this.end()}this._state=Ke;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",b),this._state=Ke):(this._state=at,setImmediate((()=>{this.emit(this._opcode===9?"ping":"pong",b),this._state=Ke,this.startLoop(B)})))}createError(b,B,F,K,se){this._loop=!1,this._errored=!0;let oe=new b(F?`Invalid WebSocket frame: ${B}`:B);return Error.captureStackTrace(oe,this.createError),oe.code=se,oe[Re]=K,oe}};B.exports=lt}));var fi=w(((b,B)=>{"use strict";var{Duplex:K}=F(2203),{randomFillSync:se}=F(6982),oe=ci(),{EMPTY_BUFFER:Qe}=si(),{isValidStatusCode:Re}=ui(),{mask:Me,toBuffer:Le}=oi(),We=Symbol("kByteLength"),Ge=Buffer.alloc(4),ze=8*1024,$e,Ye=ze,Ke=class r{constructor(b,B,F){this._extensions=B||{},F&&(this._generateMask=F,this._maskBuffer=Buffer.alloc(4)),this._socket=b,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(b,B){let F,K=!1,oe=2,Qe=!1;B.mask&&(F=B.maskBuffer||Ge,B.generateMask?B.generateMask(F):(Ye===ze&&($e===void 0&&($e=Buffer.alloc(ze)),se($e,0,ze),Ye=0),F[0]=$e[Ye++],F[1]=$e[Ye++],F[2]=$e[Ye++],F[3]=$e[Ye++]),Qe=(F[0]|F[1]|F[2]|F[3])===0,oe=6);let Re;typeof b=="string"?(!B.mask||Qe)&&B[We]!==void 0?Re=B[We]:(b=Buffer.from(b),Re=b.length):(Re=b.length,K=B.mask&&B.readOnly&&!Qe);let Le=Re;Re>=65536?(oe+=8,Le=127):Re>125&&(oe+=2,Le=126);let Ke=Buffer.allocUnsafe(K?Re+oe:oe);return Ke[0]=B.fin?B.opcode|128:B.opcode,B.rsv1&&(Ke[0]|=64),Ke[1]=Le,Le===126?Ke.writeUInt16BE(Re,2):Le===127&&(Ke[2]=Ke[3]=0,Ke.writeUIntBE(Re,4,6)),B.mask?(Ke[1]|=128,Ke[oe-4]=F[0],Ke[oe-3]=F[1],Ke[oe-2]=F[2],Ke[oe-1]=F[3],Qe?[Ke,b]:K?(Me(b,F,Ke,oe,Re),[Ke]):(Me(b,F,b,0,Re),[Ke,b])):[Ke,b]}close(b,B,F,K){let se;if(b===void 0)se=Qe;else{if(typeof b!="number"||!Re(b))throw new TypeError("First argument must be a valid error code number");if(B===void 0||!B.length)se=Buffer.allocUnsafe(2),se.writeUInt16BE(b,0);else{let F=Buffer.byteLength(B);if(F>123)throw new RangeError("The message must not be greater than 123 bytes");se=Buffer.allocUnsafe(2+F),se.writeUInt16BE(b,0),typeof B=="string"?se.write(B,2):se.set(B,2)}}let oe={[We]:se.length,fin:!0,generateMask:this._generateMask,mask:F,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,se,!1,oe,K]):this.sendFrame(r.frame(se,oe),K)}ping(b,B,F){let K,se;if(typeof b=="string"?(K=Buffer.byteLength(b),se=!1):(b=Le(b),K=b.length,se=Le.readOnly),K>125)throw new RangeError("The data size must not be greater than 125 bytes");let oe={[We]:K,fin:!0,generateMask:this._generateMask,mask:B,maskBuffer:this._maskBuffer,opcode:9,readOnly:se,rsv1:!1};this._deflating?this.enqueue([this.dispatch,b,!1,oe,F]):this.sendFrame(r.frame(b,oe),F)}pong(b,B,F){let K,se;if(typeof b=="string"?(K=Buffer.byteLength(b),se=!1):(b=Le(b),K=b.length,se=Le.readOnly),K>125)throw new RangeError("The data size must not be greater than 125 bytes");let oe={[We]:K,fin:!0,generateMask:this._generateMask,mask:B,maskBuffer:this._maskBuffer,opcode:10,readOnly:se,rsv1:!1};this._deflating?this.enqueue([this.dispatch,b,!1,oe,F]):this.sendFrame(r.frame(b,oe),F)}send(b,B,F){let K=this._extensions[oe.extensionName],se=B.binary?2:1,Qe=B.compress,Re,Me;if(typeof b=="string"?(Re=Buffer.byteLength(b),Me=!1):(b=Le(b),Re=b.length,Me=Le.readOnly),this._firstFragment?(this._firstFragment=!1,Qe&&K&&K.params[K._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(Qe=Re>=K._threshold),this._compress=Qe):(Qe=!1,se=0),B.fin&&(this._firstFragment=!0),K){let K={[We]:Re,fin:B.fin,generateMask:this._generateMask,mask:B.mask,maskBuffer:this._maskBuffer,opcode:se,readOnly:Me,rsv1:Qe};this._deflating?this.enqueue([this.dispatch,b,this._compress,K,F]):this.dispatch(b,this._compress,K,F)}else this.sendFrame(r.frame(b,{[We]:Re,fin:B.fin,generateMask:this._generateMask,mask:B.mask,maskBuffer:this._maskBuffer,opcode:se,readOnly:Me,rsv1:!1}),F)}dispatch(b,B,F,K){if(!B){this.sendFrame(r.frame(b,F),K);return}let se=this._extensions[oe.extensionName];this._bufferedBytes+=F[We],this._deflating=!0,se.compress(b,F.fin,((b,B)=>{if(this._socket.destroyed){let b=new Error("The socket was closed while data was being compressed");typeof K=="function"&&K(b);for(let B=0;B<this._queue.length;B++){let F=this._queue[B],K=F[F.length-1];typeof K=="function"&&K(b)}return}this._bufferedBytes-=F[We],this._deflating=!1,F.readOnly=!1,this.sendFrame(r.frame(B,F),K),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){let b=this._queue.shift();this._bufferedBytes-=b[3][We],Reflect.apply(b[0],this,b.slice(1))}}enqueue(b){this._bufferedBytes+=b[3][We],this._queue.push(b)}sendFrame(b,B){b.length===2?(this._socket.cork(),this._socket.write(b[0]),this._socket.write(b[1],B),this._socket.uncork()):this._socket.write(b[0],B)}};B.exports=Ke}));var bi=w(((b,B)=>{"use strict";var{kForOnEventAttribute:F,kListener:K}=si(),se=Symbol("kCode"),oe=Symbol("kData"),Qe=Symbol("kError"),Re=Symbol("kMessage"),Me=Symbol("kReason"),Le=Symbol("kTarget"),We=Symbol("kType"),Ge=Symbol("kWasClean"),ze=class{constructor(b){this[Le]=null,this[We]=b}get target(){return this[Le]}get type(){return this[We]}};Object.defineProperty(ze.prototype,"target",{enumerable:!0});Object.defineProperty(ze.prototype,"type",{enumerable:!0});var $e=class extends ze{constructor(b,B={}){super(b),this[se]=B.code===void 0?0:B.code,this[Me]=B.reason===void 0?"":B.reason,this[Ge]=B.wasClean===void 0?!1:B.wasClean}get code(){return this[se]}get reason(){return this[Me]}get wasClean(){return this[Ge]}};Object.defineProperty($e.prototype,"code",{enumerable:!0});Object.defineProperty($e.prototype,"reason",{enumerable:!0});Object.defineProperty($e.prototype,"wasClean",{enumerable:!0});var Ye=class extends ze{constructor(b,B={}){super(b),this[Qe]=B.error===void 0?null:B.error,this[Re]=B.message===void 0?"":B.message}get error(){return this[Qe]}get message(){return this[Re]}};Object.defineProperty(Ye.prototype,"error",{enumerable:!0});Object.defineProperty(Ye.prototype,"message",{enumerable:!0});var Ke=class extends ze{constructor(b,B={}){super(b),this[oe]=B.data===void 0?null:B.data}get data(){return this[oe]}};Object.defineProperty(Ke.prototype,"data",{enumerable:!0});var Xe={addEventListener(b,B,se={}){for(let oe of this.listeners(b))if(!se[F]&&oe[K]===B&&!oe[F])return;let oe;if(b==="message")oe=function(b,F){let K=new Ke("message",{data:F?b:b.toString()});K[Le]=this,co(B,this,K)};else if(b==="close")oe=function(b,F){let K=new $e("close",{code:b,reason:F.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});K[Le]=this,co(B,this,K)};else if(b==="error")oe=function(b){let F=new Ye("error",{error:b,message:b.message});F[Le]=this,co(B,this,F)};else if(b==="open")oe=function(){let b=new ze("open");b[Le]=this,co(B,this,b)};else return;oe[F]=!!se[F],oe[K]=B,se.once?this.once(b,oe):this.on(b,oe)},removeEventListener(b,B){for(let se of this.listeners(b))if(se[K]===B&&!se[F]){this.removeListener(b,se);break}}};B.exports={CloseEvent:$e,ErrorEvent:Ye,Event:ze,EventTarget:Xe,MessageEvent:Ke};function co(b,B,F){typeof b=="object"&&b.handleEvent?b.handleEvent.call(b,F):b.call(B,F)}}));var Ei=w(((b,B)=>{"use strict";var{tokenChars:F}=ui();function vr(b,B,F){b[B]===void 0?b[B]=[F]:b[B].push(F)}function Yk(b){let B=Object.create(null),K=Object.create(null),se=!1,oe=!1,Qe=!1,Re,Me,Le=-1,We=-1,Ge=-1,ze=0;for(;ze<b.length;ze++)if(We=b.charCodeAt(ze),Re===void 0)if(Ge===-1&&F[We]===1)Le===-1&&(Le=ze);else if(ze!==0&&(We===32||We===9))Ge===-1&&Le!==-1&&(Ge=ze);else if(We===59||We===44){if(Le===-1)throw new SyntaxError(`Unexpected character at index ${ze}`);Ge===-1&&(Ge=ze);let F=b.slice(Le,Ge);We===44?(vr(B,F,K),K=Object.create(null)):Re=F,Le=Ge=-1}else throw new SyntaxError(`Unexpected character at index ${ze}`);else if(Me===void 0)if(Ge===-1&&F[We]===1)Le===-1&&(Le=ze);else if(We===32||We===9)Ge===-1&&Le!==-1&&(Ge=ze);else if(We===59||We===44){if(Le===-1)throw new SyntaxError(`Unexpected character at index ${ze}`);Ge===-1&&(Ge=ze),vr(K,b.slice(Le,Ge),!0),We===44&&(vr(B,Re,K),K=Object.create(null),Re=void 0),Le=Ge=-1}else if(We===61&&Le!==-1&&Ge===-1)Me=b.slice(Le,ze),Le=Ge=-1;else throw new SyntaxError(`Unexpected character at index ${ze}`);else if(oe){if(F[We]!==1)throw new SyntaxError(`Unexpected character at index ${ze}`);Le===-1?Le=ze:se||(se=!0),oe=!1}else if(Qe)if(F[We]===1)Le===-1&&(Le=ze);else if(We===34&&Le!==-1)Qe=!1,Ge=ze;else if(We===92)oe=!0;else throw new SyntaxError(`Unexpected character at index ${ze}`);else if(We===34&&b.charCodeAt(ze-1)===61)Qe=!0;else if(Ge===-1&&F[We]===1)Le===-1&&(Le=ze);else if(Le!==-1&&(We===32||We===9))Ge===-1&&(Ge=ze);else if(We===59||We===44){if(Le===-1)throw new SyntaxError(`Unexpected character at index ${ze}`);Ge===-1&&(Ge=ze);let F=b.slice(Le,Ge);se&&(F=F.replace(/\\/g,""),se=!1),vr(K,Me,F),We===44&&(vr(B,Re,K),K=Object.create(null),Re=void 0),Me=void 0,Le=Ge=-1}else throw new SyntaxError(`Unexpected character at index ${ze}`);if(Le===-1||Qe||We===32||We===9)throw new SyntaxError("Unexpected end of input");Ge===-1&&(Ge=ze);let $e=b.slice(Le,Ge);return Re===void 0?vr(B,$e,K):(Me===void 0?vr(K,$e,!0):se?vr(K,Me,$e.replace(/\\/g,"")):vr(K,Me,$e),vr(B,Re,K)),B}function Kk(b){return Object.keys(b).map((B=>{let F=b[B];return Array.isArray(F)||(F=[F]),F.map((b=>[B].concat(Object.keys(b).map((B=>{let F=b[B];return Array.isArray(F)||(F=[F]),F.map((b=>b===!0?B:`${B}=${b}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")}B.exports={format:Kk,parse:Yk}}));var Ci=w(((b,B)=>{"use strict";var K=F(4434),se=F(5692),oe=F(8611),Qe=F(9278),Re=F(4756),{randomBytes:Me,createHash:Le}=F(6982),{Duplex:We,Readable:Ge}=F(2203),{URL:ze}=F(7016),$e=ci(),Ye=Ai(),Ke=fi(),{BINARY_TYPES:Xe,EMPTY_BUFFER:et,GUID:rt,kForOnEventAttribute:it,kListener:ot,kStatusCode:at,kWebSocket:lt,NOOP:ut}=si(),{EventTarget:{addEventListener:dt,removeEventListener:ht}}=bi(),{format:pt,parse:ft}=Ei(),{toBuffer:mt}=oi(),vt=30*1e3,yt=Symbol("kAborted"),wt=[8,13],_t=["CONNECTING","OPEN","CLOSING","CLOSED"],It=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,xt=class r extends K{constructor(b,B,F){super(),this._binaryType=Xe[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=et,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=r.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,b!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,B===void 0?B=[]:Array.isArray(B)||(typeof B=="object"&&B!==null?(F=B,B=[]):B=[B]),qv(this,b,B,F)):(this._autoPong=F.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(b){Xe.includes(b)&&(this._binaryType=b,this._receiver&&(this._receiver._binaryType=b))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(b,B,F){let K=new Ye({allowSynchronousEvents:F.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:F.maxPayload,skipUTF8Validation:F.skipUTF8Validation});this._sender=new Ke(b,this._extensions,F.generateMask),this._receiver=K,this._socket=b,K[lt]=this,b[lt]=this,K.on("conclude",gO),K.on("drain",vO),K.on("error",yO),K.on("message",_O),K.on("ping",bO),K.on("pong",xO),b.setTimeout&&b.setTimeout(0),b.setNoDelay&&b.setNoDelay(),B.length>0&&b.unshift(B),b.on("close",Uv),b.on("data",ho),b.on("end",$v),b.on("error",Vv),this._readyState=r.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[$e.extensionName]&&this._extensions[$e.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(b,B){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){qt(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===r.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=r.CLOSING,this._sender.close(b,B,!this._isServer,(b=>{b||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),vt)}}pause(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!0,this._socket.pause())}ping(b,B,F){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof b=="function"?(F=b,b=B=void 0):typeof B=="function"&&(F=B,B=void 0),typeof b=="number"&&(b=b.toString()),this.readyState!==r.OPEN){Iu(this,b,F);return}B===void 0&&(B=!this._isServer),this._sender.ping(b||et,B,F)}pong(b,B,F){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof b=="function"?(F=b,b=B=void 0):typeof B=="function"&&(F=B,B=void 0),typeof b=="number"&&(b=b.toString()),this.readyState!==r.OPEN){Iu(this,b,F);return}B===void 0&&(B=!this._isServer),this._sender.pong(b||et,B,F)}resume(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(b,B,F){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof B=="function"&&(F=B,B={}),typeof b=="number"&&(b=b.toString()),this.readyState!==r.OPEN){Iu(this,b,F);return}let K={binary:typeof b!="string",mask:!this._isServer,compress:!0,fin:!0,...B};this._extensions[$e.extensionName]||(K.compress=!1),this._sender.send(b||et,K,F)}terminate(){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){qt(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=r.CLOSING,this._socket.destroy())}}};Object.defineProperty(xt,"CONNECTING",{enumerable:!0,value:_t.indexOf("CONNECTING")});Object.defineProperty(xt.prototype,"CONNECTING",{enumerable:!0,value:_t.indexOf("CONNECTING")});Object.defineProperty(xt,"OPEN",{enumerable:!0,value:_t.indexOf("OPEN")});Object.defineProperty(xt.prototype,"OPEN",{enumerable:!0,value:_t.indexOf("OPEN")});Object.defineProperty(xt,"CLOSING",{enumerable:!0,value:_t.indexOf("CLOSING")});Object.defineProperty(xt.prototype,"CLOSING",{enumerable:!0,value:_t.indexOf("CLOSING")});Object.defineProperty(xt,"CLOSED",{enumerable:!0,value:_t.indexOf("CLOSED")});Object.defineProperty(xt.prototype,"CLOSED",{enumerable:!0,value:_t.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((b=>{Object.defineProperty(xt.prototype,b,{enumerable:!0})}));["open","error","close","message"].forEach((b=>{Object.defineProperty(xt.prototype,`on${b}`,{enumerable:!0,get(){for(let B of this.listeners(b))if(B[it])return B[ot];return null},set(B){for(let B of this.listeners(b))if(B[it]){this.removeListener(b,B);break}typeof B=="function"&&this.addEventListener(b,B,{[it]:!0})}})}));xt.prototype.addEventListener=dt;xt.prototype.removeEventListener=ht;B.exports=xt;function qv(b,B,F,K){let Qe={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:wt[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...K,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(b._autoPong=Qe.autoPong,!wt.includes(Qe.protocolVersion))throw new RangeError(`Unsupported protocol version: ${Qe.protocolVersion} (supported versions: ${wt.join(", ")})`);let Re;if(B instanceof ze)Re=B;else try{Re=new ze(B)}catch{throw new SyntaxError(`Invalid URL: ${B}`)}Re.protocol==="http:"?Re.protocol="ws:":Re.protocol==="https:"&&(Re.protocol="wss:"),b._url=Re.href;let We=Re.protocol==="wss:",Ge=Re.protocol==="ws+unix:",Ye;if(Re.protocol!=="ws:"&&!We&&!Ge?Ye=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:Ge&&!Re.pathname?Ye="The URL's pathname is empty":Re.hash&&(Ye="The URL contains a fragment identifier"),Ye){let B=new SyntaxError(Ye);if(b._redirects===0)throw B;fo(b,B);return}let Ke=We?443:80,Xe=Me(16).toString("base64"),et=We?se.request:oe.request,it=new Set,ot;if(Qe.createConnection=Qe.createConnection||(We?mO:pO),Qe.defaultPort=Qe.defaultPort||Ke,Qe.port=Re.port||Ke,Qe.host=Re.hostname.startsWith("[")?Re.hostname.slice(1,-1):Re.hostname,Qe.headers={...Qe.headers,"Sec-WebSocket-Version":Qe.protocolVersion,"Sec-WebSocket-Key":Xe,Connection:"Upgrade",Upgrade:"websocket"},Qe.path=Re.pathname+Re.search,Qe.timeout=Qe.handshakeTimeout,Qe.perMessageDeflate&&(ot=new $e(Qe.perMessageDeflate!==!0?Qe.perMessageDeflate:{},!1,Qe.maxPayload),Qe.headers["Sec-WebSocket-Extensions"]=pt({[$e.extensionName]:ot.offer()})),F.length){for(let b of F){if(typeof b!="string"||!It.test(b)||it.has(b))throw new SyntaxError("An invalid or duplicated subprotocol was specified");it.add(b)}Qe.headers["Sec-WebSocket-Protocol"]=F.join(",")}if(Qe.origin&&(Qe.protocolVersion<13?Qe.headers["Sec-WebSocket-Origin"]=Qe.origin:Qe.headers.Origin=Qe.origin),(Re.username||Re.password)&&(Qe.auth=`${Re.username}:${Re.password}`),Ge){let b=Qe.path.split(":");Qe.socketPath=b[0],Qe.path=b[1]}let at;if(Qe.followRedirects){if(b._redirects===0){b._originalIpc=Ge,b._originalSecure=We,b._originalHostOrSocketPath=Ge?Qe.socketPath:Re.host;let B=K&&K.headers;if(K={...K,headers:{}},B)for(let[b,F]of Object.entries(B))K.headers[b.toLowerCase()]=F}else if(b.listenerCount("redirect")===0){let B=Ge?b._originalIpc?Qe.socketPath===b._originalHostOrSocketPath:!1:b._originalIpc?!1:Re.host===b._originalHostOrSocketPath;(!B||b._originalSecure&&!We)&&(delete Qe.headers.authorization,delete Qe.headers.cookie,B||delete Qe.headers.host,Qe.auth=void 0)}Qe.auth&&!K.headers.authorization&&(K.headers.authorization="Basic "+Buffer.from(Qe.auth).toString("base64")),at=b._req=et(Qe),b._redirects&&b.emit("redirect",b.url,at)}else at=b._req=et(Qe);Qe.timeout&&at.on("timeout",(()=>{qt(b,at,"Opening handshake has timed out")})),at.on("error",(B=>{at===null||at[yt]||(at=b._req=null,fo(b,B))})),at.on("response",(se=>{let oe=se.headers.location,Re=se.statusCode;if(oe&&Qe.followRedirects&&Re>=300&&Re<400){if(++b._redirects>Qe.maxRedirects){qt(b,at,"Maximum redirects exceeded");return}at.abort();let se;try{se=new ze(oe,B)}catch{let B=new SyntaxError(`Invalid URL: ${oe}`);fo(b,B);return}qv(b,se,F,K)}else b.emit("unexpected-response",at,se)||qt(b,at,`Unexpected server response: ${se.statusCode}`)})),at.on("upgrade",((B,F,K)=>{if(b.emit("upgrade",B),b.readyState!==xt.CONNECTING)return;at=b._req=null;let se=B.headers.upgrade;if(se===void 0||se.toLowerCase()!=="websocket"){qt(b,F,"Invalid Upgrade header");return}let oe=Le("sha1").update(Xe+rt).digest("base64");if(B.headers["sec-websocket-accept"]!==oe){qt(b,F,"Invalid Sec-WebSocket-Accept header");return}let Re=B.headers["sec-websocket-protocol"],Me;if(Re!==void 0?it.size?it.has(Re)||(Me="Server sent an invalid subprotocol"):Me="Server sent a subprotocol but none was requested":it.size&&(Me="Server sent no subprotocol"),Me){qt(b,F,Me);return}Re&&(b._protocol=Re);let We=B.headers["sec-websocket-extensions"];if(We!==void 0){if(!ot){qt(b,F,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let B;try{B=ft(We)}catch{qt(b,F,"Invalid Sec-WebSocket-Extensions header");return}let K=Object.keys(B);if(K.length!==1||K[0]!==$e.extensionName){qt(b,F,"Server indicated an extension that was not requested");return}try{ot.accept(B[$e.extensionName])}catch{qt(b,F,"Invalid Sec-WebSocket-Extensions header");return}b._extensions[$e.extensionName]=ot}b.setSocket(F,K,{allowSynchronousEvents:Qe.allowSynchronousEvents,generateMask:Qe.generateMask,maxPayload:Qe.maxPayload,skipUTF8Validation:Qe.skipUTF8Validation})})),Qe.finishRequest?Qe.finishRequest(at,b):at.end()}function fo(b,B){b._readyState=xt.CLOSING,b.emit("error",B),b.emitClose()}function pO(b){return b.path=b.socketPath,Qe.connect(b)}function mO(b){return b.path=void 0,!b.servername&&b.servername!==""&&(b.servername=Qe.isIP(b.host)?"":b.host),Re.connect(b)}function qt(b,B,F){b._readyState=xt.CLOSING;let K=new Error(F);Error.captureStackTrace(K,qt),B.setHeader?(B[yt]=!0,B.abort(),B.socket&&!B.socket.destroyed&&B.socket.destroy(),process.nextTick(fo,b,K)):(B.destroy(K),B.once("error",b.emit.bind(b,"error")),B.once("close",b.emitClose.bind(b)))}function Iu(b,B,F){if(B){let F=mt(B).length;b._socket?b._sender._bufferedBytes+=F:b._bufferedAmount+=F}if(F){let B=new Error(`WebSocket is not open: readyState ${b.readyState} (${_t[b.readyState]})`);process.nextTick(F,B)}}function gO(b,B){let F=this[lt];F._closeFrameReceived=!0,F._closeMessage=B,F._closeCode=b,F._socket[lt]!==void 0&&(F._socket.removeListener("data",ho),process.nextTick(jv,F._socket),b===1005?F.close():F.close(b,B))}function vO(){let b=this[lt];b.isPaused||b._socket.resume()}function yO(b){let B=this[lt];B._socket[lt]!==void 0&&(B._socket.removeListener("data",ho),process.nextTick(jv,B._socket),B.close(b[at])),B.emit("error",b)}function Pv(){this[lt].emitClose()}function _O(b,B){this[lt].emit("message",b,B)}function bO(b){let B=this[lt];B._autoPong&&B.pong(b,!this._isServer,ut),B.emit("ping",b)}function xO(b){this[lt].emit("pong",b)}function jv(b){b.resume()}function Uv(){let b=this[lt];this.removeListener("close",Uv),this.removeListener("data",ho),this.removeListener("end",$v),b._readyState=xt.CLOSING;let B;!this._readableState.endEmitted&&!b._closeFrameReceived&&!b._receiver._writableState.errorEmitted&&(B=b._socket.read())!==null&&b._receiver.write(B),b._receiver.end(),this[lt]=void 0,clearTimeout(b._closeTimer),b._receiver._writableState.finished||b._receiver._writableState.errorEmitted?b.emitClose():(b._receiver.on("error",Pv),b._receiver.on("finish",Pv))}function ho(b){this[lt]._receiver.write(b)||this.pause()}function $v(){let b=this[lt];b._readyState=xt.CLOSING,b._receiver.end(),this.end()}function Vv(){let b=this[lt];this.removeListener("error",Vv),this.on("error",ut),b&&(b._readyState=xt.CLOSING,this.destroy())}}));var Ii=w(((b,B)=>{"use strict";var{tokenChars:F}=ui();function SO(b){let B=new Set,K=-1,se=-1,oe=0;for(oe;oe<b.length;oe++){let Qe=b.charCodeAt(oe);if(se===-1&&F[Qe]===1)K===-1&&(K=oe);else if(oe!==0&&(Qe===32||Qe===9))se===-1&&K!==-1&&(se=oe);else if(Qe===44){if(K===-1)throw new SyntaxError(`Unexpected character at index ${oe}`);se===-1&&(se=oe);let F=b.slice(K,se);if(B.has(F))throw new SyntaxError(`The "${F}" subprotocol is duplicated`);B.add(F),K=se=-1}else throw new SyntaxError(`Unexpected character at index ${oe}`)}if(K===-1||se!==-1)throw new SyntaxError("Unexpected end of input");let Qe=b.slice(K,oe);if(B.has(Qe))throw new SyntaxError(`The "${Qe}" subprotocol is duplicated`);return B.add(Qe),B}B.exports={parse:SO}}));var Bi=w(((b,B)=>{"use strict";var K=F(4434),se=F(8611),{Duplex:oe}=F(2203),{createHash:Qe}=F(6982),Re=Ei(),Me=ci(),Le=Ii(),We=Ci(),{GUID:Ge,kWebSocket:ze}=si(),$e=/^[+/0-9A-Za-z]{22}==$/,Ye=0,Ke=1,Xe=2,et=class extends K{constructor(b,B){if(super(),b={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:We,...b},b.port==null&&!b.server&&!b.noServer||b.port!=null&&(b.server||b.noServer)||b.server&&b.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(b.port!=null?(this._server=se.createServer(((b,B)=>{let F=se.STATUS_CODES[426];B.writeHead(426,{"Content-Length":F.length,"Content-Type":"text/plain"}),B.end(F)})),this._server.listen(b.port,b.host,b.backlog,B)):b.server&&(this._server=b.server),this._server){let b=this.emit.bind(this,"connection");this._removeListeners=NO(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(B,F,K)=>{this.handleUpgrade(B,F,K,b)}})}b.perMessageDeflate===!0&&(b.perMessageDeflate={}),b.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=b,this._state=Ye}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(b){if(this._state===Xe){b&&this.once("close",(()=>{b(new Error("The server is not running"))})),process.nextTick(_s,this);return}if(b&&this.once("close",b),this._state!==Ke)if(this._state=Ke,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(_s,this):process.nextTick(_s,this);else{let b=this._server;this._removeListeners(),this._removeListeners=this._server=null,b.close((()=>{_s(this)}))}}shouldHandle(b){if(this.options.path){let B=b.url.indexOf("?");if((B!==-1?b.url.slice(0,B):b.url)!==this.options.path)return!1}return!0}handleUpgrade(b,B,F,K){B.on("error",Zv);let se=b.headers["sec-websocket-key"],oe=b.headers.upgrade,Qe=+b.headers["sec-websocket-version"];if(b.method!=="GET"){Ni(this,b,B,405,"Invalid HTTP method");return}if(oe===void 0||oe.toLowerCase()!=="websocket"){Ni(this,b,B,400,"Invalid Upgrade header");return}if(se===void 0||!$e.test(se)){Ni(this,b,B,400,"Missing or invalid Sec-WebSocket-Key header");return}if(Qe!==8&&Qe!==13){Ni(this,b,B,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(b)){bs(B,400);return}let We=b.headers["sec-websocket-protocol"],Ge=new Set;if(We!==void 0)try{Ge=Le.parse(We)}catch{Ni(this,b,B,400,"Invalid Sec-WebSocket-Protocol header");return}let ze=b.headers["sec-websocket-extensions"],Ye={};if(this.options.perMessageDeflate&&ze!==void 0){let F=new Me(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let b=Re.parse(ze);b[Me.extensionName]&&(F.accept(b[Me.extensionName]),Ye[Me.extensionName]=F)}catch{Ni(this,b,B,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let oe={origin:b.headers[`${Qe===8?"sec-websocket-origin":"origin"}`],secure:!!(b.socket.authorized||b.socket.encrypted),req:b};if(this.options.verifyClient.length===2){this.options.verifyClient(oe,((oe,Qe,Re,Me)=>{if(!oe)return bs(B,Qe||401,Re,Me);this.completeUpgrade(Ye,se,Ge,b,B,F,K)}));return}if(!this.options.verifyClient(oe))return bs(B,401)}this.completeUpgrade(Ye,se,Ge,b,B,F,K)}completeUpgrade(b,B,F,K,se,oe,Le){if(!se.readable||!se.writable)return se.destroy();if(se[ze])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Ye)return bs(se,503);let We=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Qe("sha1").update(B+Ge).digest("base64")}`],$e=new this.options.WebSocket(null,void 0,this.options);if(F.size){let b=this.options.handleProtocols?this.options.handleProtocols(F,K):F.values().next().value;b&&(We.push(`Sec-WebSocket-Protocol: ${b}`),$e._protocol=b)}if(b[Me.extensionName]){let B=b[Me.extensionName].params,F=Re.format({[Me.extensionName]:[B]});We.push(`Sec-WebSocket-Extensions: ${F}`),$e._extensions=b}this.emit("headers",We,K),se.write(We.concat(`\r\n`).join(`\r\n`)),se.removeListener("error",Zv),$e.setSocket(se,oe,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add($e),$e.on("close",(()=>{this.clients.delete($e),this._shouldEmitClose&&!this.clients.size&&process.nextTick(_s,this)}))),Le($e,K)}};B.exports=et;function NO(b,B){for(let F of Object.keys(B))b.on(F,B[F]);return function(){for(let F of Object.keys(B))b.removeListener(F,B[F])}}function _s(b){b._state=Xe,b.emit("close")}function Zv(){this.destroy()}function bs(b,B,F,K){F=F||se.STATUS_CODES[B],K={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(F),...K},b.once("finish",b.destroy),b.end(`HTTP/1.1 ${B} ${se.STATUS_CODES[B]}\r\n`+Object.keys(K).map((b=>`${b}: ${K[b]}`)).join(`\r\n`)+`\r\n\r\n`+F)}function Ni(b,B,F,K,se){if(b.listenerCount("wsClientError")){let K=new Error(se);Error.captureStackTrace(K,Ni),b.emit("wsClientError",K,F,B)}else bs(F,K,se)}}));var xi=w((b=>{"use strict";var B=Symbol.for("yaml.alias"),F=Symbol.for("yaml.document"),K=Symbol.for("yaml.map"),se=Symbol.for("yaml.pair"),oe=Symbol.for("yaml.scalar"),Qe=Symbol.for("yaml.seq"),Re=Symbol.for("yaml.node.type"),BO=b=>!!b&&typeof b=="object"&&b[Re]===B,RO=b=>!!b&&typeof b=="object"&&b[Re]===F,PO=b=>!!b&&typeof b=="object"&&b[Re]===K,MO=b=>!!b&&typeof b=="object"&&b[Re]===se,ny=b=>!!b&&typeof b=="object"&&b[Re]===oe,DO=b=>!!b&&typeof b=="object"&&b[Re]===Qe;function sy(b){if(b&&typeof b=="object")switch(b[Re]){case K:case Qe:return!0}return!1}function FO(b){if(b&&typeof b=="object")switch(b[Re]){case B:case K:case oe:case Qe:return!0}return!1}var qO=b=>(ny(b)||sy(b))&&!!b.anchor;b.ALIAS=B;b.DOC=F;b.MAP=K;b.NODE_TYPE=Re;b.PAIR=se;b.SCALAR=oe;b.SEQ=Qe;b.hasAnchor=qO;b.isAlias=BO;b.isCollection=sy;b.isDocument=RO;b.isMap=PO;b.isNode=FO;b.isPair=MO;b.isScalar=ny;b.isSeq=DO}));var ki=w((b=>{"use strict";var B=xi(),F=Symbol("break visit"),K=Symbol("skip children"),se=Symbol("remove node");function vo(b,F){let K=oy(F);B.isDocument(b)?Ln(null,b.contents,K,Object.freeze([b]))===se&&(b.contents=null):Ln(null,b,K,Object.freeze([]))}vo.BREAK=F;vo.SKIP=K;vo.REMOVE=se;function Ln(b,K,oe,Qe){let Re=ly(b,K,oe,Qe);if(B.isNode(Re)||B.isPair(Re))return cy(b,Qe,Re),Ln(b,Re,oe,Qe);if(typeof Re!="symbol"){if(B.isCollection(K)){Qe=Object.freeze(Qe.concat(K));for(let b=0;b<K.items.length;++b){let B=Ln(b,K.items[b],oe,Qe);if(typeof B=="number")b=B-1;else{if(B===F)return F;B===se&&(K.items.splice(b,1),b-=1)}}}else if(B.isPair(K)){Qe=Object.freeze(Qe.concat(K));let b=Ln("key",K.key,oe,Qe);if(b===F)return F;b===se&&(K.key=null);let B=Ln("value",K.value,oe,Qe);if(B===F)return F;B===se&&(K.value=null)}}return Re}async function yo(b,F){let K=oy(F);B.isDocument(b)?await Bn(null,b.contents,K,Object.freeze([b]))===se&&(b.contents=null):await Bn(null,b,K,Object.freeze([]))}yo.BREAK=F;yo.SKIP=K;yo.REMOVE=se;async function Bn(b,K,oe,Qe){let Re=await ly(b,K,oe,Qe);if(B.isNode(Re)||B.isPair(Re))return cy(b,Qe,Re),Bn(b,Re,oe,Qe);if(typeof Re!="symbol"){if(B.isCollection(K)){Qe=Object.freeze(Qe.concat(K));for(let b=0;b<K.items.length;++b){let B=await Bn(b,K.items[b],oe,Qe);if(typeof B=="number")b=B-1;else{if(B===F)return F;B===se&&(K.items.splice(b,1),b-=1)}}}else if(B.isPair(K)){Qe=Object.freeze(Qe.concat(K));let b=await Bn("key",K.key,oe,Qe);if(b===F)return F;b===se&&(K.key=null);let B=await Bn("value",K.value,oe,Qe);if(B===F)return F;B===se&&(K.value=null)}}return Re}function oy(b){return typeof b=="object"&&(b.Collection||b.Node||b.Value)?Object.assign({Alias:b.Node,Map:b.Node,Scalar:b.Node,Seq:b.Node},b.Value&&{Map:b.Value,Scalar:b.Value,Seq:b.Value},b.Collection&&{Map:b.Collection,Seq:b.Collection},b):b}function ly(b,F,K,se){var oe,Qe,Re,Me,Le;if(typeof K=="function")return K(b,F,se);if(B.isMap(F))return(oe=K.Map)==null?void 0:oe.call(K,b,F,se);if(B.isSeq(F))return(Qe=K.Seq)==null?void 0:Qe.call(K,b,F,se);if(B.isPair(F))return(Re=K.Pair)==null?void 0:Re.call(K,b,F,se);if(B.isScalar(F))return(Me=K.Scalar)==null?void 0:Me.call(K,b,F,se);if(B.isAlias(F))return(Le=K.Alias)==null?void 0:Le.call(K,b,F,se)}function cy(b,F,K){let se=F[F.length-1];if(B.isCollection(se))se.items[b]=K;else if(B.isPair(se))b==="key"?se.key=K:se.value=K;else if(B.isDocument(se))se.contents=K;else{let b=B.isAlias(se)?"alias":"scalar";throw new Error(`Cannot replace node with ${b} parent`)}}b.visit=vo;b.visitAsync=yo}));var Qi=w((b=>{"use strict";var B=xi(),F=ki(),K={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},$O=b=>b.replace(/[!,[\]{}]/g,(b=>K[b])),se=class r{constructor(b,B){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},r.defaultYaml,b),this.tags=Object.assign({},r.defaultTags,B)}clone(){let b=new r(this.yaml,this.tags);return b.docStart=this.docStart,b}atDocument(){let b=new r(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:r.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},r.defaultTags);break}return b}add(b,B){this.atNextDocument&&(this.yaml={explicit:r.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},r.defaultTags),this.atNextDocument=!1);let F=b.trim().split(/[ \t]+/),K=F.shift();switch(K){case"%TAG":{if(F.length!==2&&(B(0,"%TAG directive should contain exactly two parts"),F.length<2))return!1;let[b,K]=F;return this.tags[b]=K,!0}case"%YAML":{if(this.yaml.explicit=!0,F.length!==1)return B(0,"%YAML directive should contain exactly one part"),!1;let[b]=F;if(b==="1.1"||b==="1.2")return this.yaml.version=b,!0;{let F=/^\d+\.\d+$/.test(b);return B(6,`Unsupported YAML version ${b}`,F),!1}}default:return B(0,`Unknown directive ${K}`,!0),!1}}tagName(b,B){if(b==="!")return"!";if(b[0]!=="!")return B(`Not a valid tag: ${b}`),null;if(b[1]==="<"){let F=b.slice(2,-1);return F==="!"||F==="!!"?(B(`Verbatim tags aren't resolved, so ${b} is invalid.`),null):(b[b.length-1]!==">"&&B("Verbatim tags must end with a >"),F)}let[,F,K]=b.match(/^(.*!)([^!]*)$/s);K||B(`The ${b} tag has no suffix`);let se=this.tags[F];if(se)try{return se+decodeURIComponent(K)}catch(b){return B(String(b)),null}return F==="!"?b:(B(`Could not resolve tag: ${b}`),null)}tagString(b){for(let[B,F]of Object.entries(this.tags))if(b.startsWith(F))return B+$O(b.substring(F.length));return b[0]==="!"?b:`!<${b}>`}toString(b){let K=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],se=Object.entries(this.tags),oe;if(b&&se.length>0&&B.isNode(b.contents)){let K={};F.visit(b.contents,((b,F)=>{B.isNode(F)&&F.tag&&(K[F.tag]=!0)})),oe=Object.keys(K)}else oe=[];for(let[B,F]of se)B==="!!"&&F==="tag:yaml.org,2002:"||(!b||oe.some((b=>b.startsWith(F))))&&K.push(`%TAG ${B} ${F}`);return K.join(`\n`)}};se.defaultYaml={explicit:!1,version:"1.2"};se.defaultTags={"!!":"tag:yaml.org,2002:"};b.Directives=se}));var Oi=w((b=>{"use strict";var B=xi(),F=ki();function HO(b){if(/[\x00-\x19\s,[\]{}]/.test(b)){let B=`Anchor must not contain whitespace or control characters: ${JSON.stringify(b)}`;throw new Error(B)}return!0}function dy(b){let B=new Set;return F.visit(b,{Value(b,F){F.anchor&&B.add(F.anchor)}}),B}function py(b,B){for(let F=1;;++F){let K=`${b}${F}`;if(!B.has(K))return K}}function GO(b,F){let K=[],se=new Map,oe=null;return{onAnchor:B=>{K.push(B),oe||(oe=dy(b));let se=py(F,oe);return oe.add(se),se},setAnchors:()=>{for(let b of K){let F=se.get(b);if(typeof F=="object"&&F.anchor&&(B.isScalar(F.node)||B.isCollection(F.node)))F.node.anchor=F.anchor;else{let B=new Error("Failed to resolve repeated object (this should not happen)");throw B.source=b,B}}},sourceObjects:se}}b.anchorIsValid=HO;b.anchorNames=dy;b.createNodeAnchors=GO;b.findNewAnchor=py}));var Ti=w((b=>{"use strict";function Es(b,B,F,K){if(K&&typeof K=="object")if(Array.isArray(K))for(let B=0,F=K.length;B<F;++B){let F=K[B],se=Es(b,K,String(B),F);se===void 0?delete K[B]:se!==F&&(K[B]=se)}else if(K instanceof Map)for(let B of Array.from(K.keys())){let F=K.get(B),se=Es(b,K,B,F);se===void 0?K.delete(B):se!==F&&K.set(B,se)}else if(K instanceof Set)for(let B of Array.from(K)){let F=Es(b,K,B,B);F===void 0?K.delete(B):F!==B&&(K.delete(B),K.add(F))}else for(let[B,F]of Object.entries(K)){let se=Es(b,K,B,F);se===void 0?delete K[B]:se!==F&&(K[B]=se)}return b.call(B,F,K)}b.applyReviver=Es}));var Ri=w((b=>{"use strict";var B=xi();function gy(b,F,K){if(Array.isArray(b))return b.map(((b,B)=>gy(b,String(B),K)));if(b&&typeof b.toJSON=="function"){if(!K||!B.hasAnchor(b))return b.toJSON(F,K);let se={aliasCount:0,count:1,res:void 0};K.anchors.set(b,se),K.onCreate=b=>{se.res=b,delete K.onCreate};let oe=b.toJSON(F,K);return K.onCreate&&K.onCreate(oe),oe}return typeof b=="bigint"&&!(K!=null&&K.keep)?Number(b):b}b.toJS=gy}));var Pi=w((b=>{"use strict";var B=Ti(),F=xi(),K=Ri(),se=class{constructor(b){Object.defineProperty(this,F.NODE_TYPE,{value:b})}clone(){let b=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(b.range=this.range.slice()),b}toJS(b,{mapAsMap:se,maxAliasCount:oe,onAnchor:Qe,reviver:Re}={}){if(!F.isDocument(b))throw new TypeError("A document argument is required");let Me={anchors:new Map,doc:b,keep:!0,mapAsMap:se===!0,mapKeyWarned:!1,maxAliasCount:typeof oe=="number"?oe:100},Le=K.toJS(this,"",Me);if(typeof Qe=="function")for(let{count:b,res:B}of Me.anchors.values())Qe(B,b);return typeof Re=="function"?B.applyReviver(Re,{"":Le},"",Le):Le}};b.NodeBase=se}));var Mi=w((b=>{"use strict";var B=Oi(),F=ki(),K=xi(),se=Pi(),oe=Ri(),Qe=class extends se.NodeBase{constructor(b){super(K.ALIAS),this.source=b,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(b){let B;return F.visit(b,{Node:(b,K)=>{if(K===this)return F.visit.BREAK;K.anchor===this.source&&(B=K)}}),B}toJSON(b,B){if(!B)return{source:this.source};let{anchors:F,doc:K,maxAliasCount:se}=B,Qe=this.resolve(K);if(!Qe){let b=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(b)}let Re=F.get(Qe);if(Re||(oe.toJS(Qe,null,B),Re=F.get(Qe)),!Re||Re.res===void 0){let b="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(b)}if(se>=0&&(Re.count+=1,Re.aliasCount===0&&(Re.aliasCount=wo(K,Qe,F)),Re.count*Re.aliasCount>se)){let b="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(b)}return Re.res}toString(b,F,K){let se=`*${this.source}`;if(b){if(B.anchorIsValid(this.source),b.options.verifyAliasOrder&&!b.anchors.has(this.source)){let b=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(b)}if(b.implicitKey)return`${se} `}return se}};function wo(b,B,F){if(K.isAlias(B)){let K=B.resolve(b),se=F&&K&&F.get(K);return se?se.count*se.aliasCount:0}else if(K.isCollection(B)){let K=0;for(let se of B.items){let B=wo(b,se,F);B>K&&(K=B)}return K}else if(K.isPair(B)){let K=wo(b,B.key,F),se=wo(b,B.value,F);return Math.max(K,se)}return 1}b.Alias=Qe}));var Li=w((b=>{"use strict";var B=xi(),F=Pi(),K=Ri(),tC=b=>!b||typeof b!="function"&&typeof b!="object",se=class extends F.NodeBase{constructor(b){super(B.SCALAR),this.value=b}toJSON(b,B){return B!=null&&B.keep?this.value:K.toJS(this.value,b,B)}toString(){return String(this.value)}};se.BLOCK_FOLDED="BLOCK_FOLDED";se.BLOCK_LITERAL="BLOCK_LITERAL";se.PLAIN="PLAIN";se.QUOTE_DOUBLE="QUOTE_DOUBLE";se.QUOTE_SINGLE="QUOTE_SINGLE";b.Scalar=se;b.isScalarValue=tC}));var ji=w((b=>{"use strict";var B=Mi(),F=xi(),K=Li(),se="tag:yaml.org,2002:";function nC(b,B,F){var K;if(B){let b=F.filter((b=>b.tag===B)),se=(K=b.find((b=>!b.format)))!=null?K:b[0];if(!se)throw new Error(`Tag ${B} not found`);return se}return F.find((B=>{var F;return((F=B.identify)==null?void 0:F.call(B,b))&&!B.format}))}function sC(b,oe,Qe){var Re,Me,Le;if(F.isDocument(b)&&(b=b.contents),F.isNode(b))return b;if(F.isPair(b)){let B=(Me=(Re=Qe.schema[F.MAP]).createNode)==null?void 0:Me.call(Re,Qe.schema,null,Qe);return B.items.push(b),B}(b instanceof String||b instanceof Number||b instanceof Boolean||typeof BigInt!="undefined"&&b instanceof BigInt)&&(b=b.valueOf());let{aliasDuplicateObjects:We,onAnchor:Ge,onTagObj:ze,schema:$e,sourceObjects:Ye}=Qe,Ke;if(We&&b&&typeof b=="object"){if(Ke=Ye.get(b),Ke)return Ke.anchor||(Ke.anchor=Ge(b)),new B.Alias(Ke.anchor);Ke={anchor:null,node:null},Ye.set(b,Ke)}oe!=null&&oe.startsWith("!!")&&(oe=se+oe.slice(2));let Xe=nC(b,oe,$e.tags);if(!Xe){if(b&&typeof b.toJSON=="function"&&(b=b.toJSON()),!b||typeof b!="object"){let B=new K.Scalar(b);return Ke&&(Ke.node=B),B}Xe=b instanceof Map?$e[F.MAP]:Symbol.iterator in Object(b)?$e[F.SEQ]:$e[F.MAP]}ze&&(ze(Xe),delete Qe.onTagObj);let et=Xe!=null&&Xe.createNode?Xe.createNode(Qe.schema,b,Qe):typeof((Le=Xe==null?void 0:Xe.nodeClass)==null?void 0:Le.from)=="function"?Xe.nodeClass.from(Qe.schema,b,Qe):new K.Scalar(b);return oe?et.tag=oe:Xe.default||(et.tag=Xe.tag),Ke&&(Ke.node=et),et}b.createNode=sC}));var Hi=w((b=>{"use strict";var B=ji(),F=xi(),K=Pi();function Hu(b,F,K){let se=K;for(let b=F.length-1;b>=0;--b){let B=F[b];if(typeof B=="number"&&Number.isInteger(B)&&B>=0){let b=[];b[B]=se,se=b}else se=new Map([[B,se]])}return B.createNode(se,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:b,sourceObjects:new Map})}var Ey=b=>b==null||typeof b=="object"&&!!b[Symbol.iterator]().next().done,se=class extends K.NodeBase{constructor(b,B){super(b),Object.defineProperty(this,"schema",{value:B,configurable:!0,enumerable:!1,writable:!0})}clone(b){let B=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return b&&(B.schema=b),B.items=B.items.map((B=>F.isNode(B)||F.isPair(B)?B.clone(b):B)),this.range&&(B.range=this.range.slice()),B}addIn(b,B){if(Ey(b))this.add(B);else{let[K,...se]=b,oe=this.get(K,!0);if(F.isCollection(oe))oe.addIn(se,B);else if(oe===void 0&&this.schema)this.set(K,Hu(this.schema,se,B));else throw new Error(`Expected YAML collection at ${K}. Remaining path: ${se}`)}}deleteIn(b){let[B,...K]=b;if(K.length===0)return this.delete(B);let se=this.get(B,!0);if(F.isCollection(se))return se.deleteIn(K);throw new Error(`Expected YAML collection at ${B}. Remaining path: ${K}`)}getIn(b,B){let[K,...se]=b,oe=this.get(K,!0);return se.length===0?!B&&F.isScalar(oe)?oe.value:oe:F.isCollection(oe)?oe.getIn(se,B):void 0}hasAllNullValues(b){return this.items.every((B=>{if(!F.isPair(B))return!1;let K=B.value;return K==null||b&&F.isScalar(K)&&K.value==null&&!K.commentBefore&&!K.comment&&!K.tag}))}hasIn(b){let[B,...K]=b;if(K.length===0)return this.has(B);let se=this.get(B,!0);return F.isCollection(se)?se.hasIn(K):!1}setIn(b,B){let[K,...se]=b;if(se.length===0)this.set(K,B);else{let b=this.get(K,!0);if(F.isCollection(b))b.setIn(se,B);else if(b===void 0&&this.schema)this.set(K,Hu(this.schema,se,B));else throw new Error(`Expected YAML collection at ${K}. Remaining path: ${se}`)}}};b.Collection=se;b.collectionFromPath=Hu;b.isEmptyPath=Ey}));var Ui=w((b=>{"use strict";var lC=b=>b.replace(/^(?!$)(?: $)?/gm,"#");function Wu(b,B){return/^\n+$/.test(b)?b.substring(1):B?b.replace(/^(?! *$)/gm,B):b}var cC=(b,B,F)=>b.endsWith(`\n`)?Wu(F,B):F.includes(`\n`)?`\n`+Wu(F,B):(b.endsWith(" ")?"":" ")+F;b.indentComment=Wu;b.lineComment=cC;b.stringifyComment=lC}));var Wi=w((b=>{"use strict";var B="flow",F="block",K="quoted";function fC(b,B,se="flow",{indentAtStart:oe,lineWidth:Qe=80,minContentWidth:Re=20,onFold:Me,onOverflow:Le}={}){if(!Qe||Qe<0)return b;Qe<Re&&(Re=0);let We=Math.max(1+Re,1+Qe-B.length);if(b.length<=We)return b;let Ge=[],ze={},$e=Qe-B.length;typeof oe=="number"&&(oe>Qe-Math.max(2,Re)?Ge.push(0):$e=Qe-oe);let Ye,Ke,Xe=!1,et=-1,rt=-1,it=-1;se===F&&(et=ky(b,et,B.length),et!==-1&&($e=et+We));for(let oe;oe=b[et+=1];){if(se===K&&oe==="\\"){switch(rt=et,b[et+1]){case"x":et+=3;break;case"u":et+=5;break;case"U":et+=9;break;default:et+=1}it=et}if(oe===`\n`)se===F&&(et=ky(b,et,B.length)),$e=et+B.length+We,Ye=void 0;else{if(oe===" "&&Ke&&Ke!==" "&&Ke!==`\n`&&Ke!=="\t"){let B=b[et+1];B&&B!==" "&&B!==`\n`&&B!=="\t"&&(Ye=et)}if(et>=$e)if(Ye)Ge.push(Ye),$e=Ye+We,Ye=void 0;else if(se===K){for(;Ke===" "||Ke==="\t";)Ke=oe,oe=b[et+=1],Xe=!0;let B=et>it+1?et-2:rt-1;if(ze[B])return b;Ge.push(B),ze[B]=!0,$e=B+We,Ye=void 0}else Xe=!0}Ke=oe}if(Xe&&Le&&Le(),Ge.length===0)return b;Me&&Me();let ot=b.slice(0,Ge[0]);for(let F=0;F<Ge.length;++F){let oe=Ge[F],Qe=Ge[F+1]||b.length;oe===0?ot=`\n${B}${b.slice(0,Qe)}`:(se===K&&ze[oe]&&(ot+=`${b[oe]}\\`),ot+=`\n${B}${b.slice(oe+1,Qe)}`)}return ot}function ky(b,B,F){let K=B,se=B+1,oe=b[se];for(;oe===" "||oe==="\t";)if(B<se+F)oe=b[++B];else{do{oe=b[++B]}while(oe&&oe!==`\n`);K=B,se=B+1,oe=b[se]}return K}b.FOLD_BLOCK=F;b.FOLD_FLOW=B;b.FOLD_QUOTED=K;b.foldFlowLines=fC}));var Vi=w((b=>{"use strict";var B=Li(),F=Wi(),To=(b,B)=>({indentAtStart:B?b.indent.length:b.indentAtStart,lineWidth:b.options.lineWidth,minContentWidth:b.options.minContentWidth}),Ao=b=>/^(%|---|\.\.\.)/m.test(b);function hC(b,B,F){if(!B||B<0)return!1;let K=B-F,se=b.length;if(se<=K)return!1;for(let B=0,F=0;B<se;++B)if(b[B]===`\n`){if(B-F>K)return!0;if(F=B+1,se-F<=K)return!1}return!0}function As(b,B){let K=JSON.stringify(b);if(B.options.doubleQuotedAsJSON)return K;let{implicitKey:se}=B,oe=B.options.doubleQuotedMinMultiLineLength,Qe=B.indent||(Ao(b)?"  ":""),Re="",Me=0;for(let b=0,B=K[b];B;B=K[++b])if(B===" "&&K[b+1]==="\\"&&K[b+2]==="n"&&(Re+=K.slice(Me,b)+"\\ ",b+=1,Me=b,B="\\"),B==="\\")switch(K[b+1]){case"u":{Re+=K.slice(Me,b);let B=K.substr(b+2,4);switch(B){case"0000":Re+="\\0";break;case"0007":Re+="\\a";break;case"000b":Re+="\\v";break;case"001b":Re+="\\e";break;case"0085":Re+="\\N";break;case"00a0":Re+="\\_";break;case"2028":Re+="\\L";break;case"2029":Re+="\\P";break;default:B.substr(0,2)==="00"?Re+="\\x"+B.substr(2):Re+=K.substr(b,6)}b+=5,Me=b+1}break;case"n":if(se||K[b+2]==='"'||K.length<oe)b+=1;else{for(Re+=K.slice(Me,b)+`\n\n`;K[b+2]==="\\"&&K[b+3]==="n"&&K[b+4]!=='"';)Re+=`\n`,b+=2;Re+=Qe,K[b+2]===" "&&(Re+="\\"),b+=1,Me=b+1}break;default:b+=1}return Re=Me?Re+K.slice(Me):K,se?Re:F.foldFlowLines(Re,Qe,F.FOLD_QUOTED,To(B,!1))}function Yu(b,B){if(B.options.singleQuote===!1||B.implicitKey&&b.includes(`\n`)||/[ \t]\n|\n[ \t]/.test(b))return As(b,B);let K=B.indent||(Ao(b)?"  ":""),se="'"+b.replace(/'/g,"''").replace(/\n+/g,`$&\n${K}`)+"'";return B.implicitKey?se:F.foldFlowLines(se,K,F.FOLD_FLOW,To(B,!1))}function Rn(b,B){let{singleQuote:F}=B.options,K;if(F===!1)K=As;else{let B=b.includes('"'),se=b.includes("'");B&&!se?K=Yu:se&&!B?K=As:K=F?Yu:As}return K(b,B)}var K;try{K=new RegExp(`(^|(?<!\n))\n+(?!\n|$)`,"g")}catch{K=/\n+(?!\n|$)/g}function Co({comment:b,type:se,value:oe},Qe,Re,Me){let{blockQuote:Le,commentString:We,lineWidth:Ge}=Qe.options;if(!Le||/\n[\t ]+$/.test(oe)||/^\s*$/.test(oe))return Rn(oe,Qe);let ze=Qe.indent||(Qe.forceBlockIndent||Ao(oe)?"  ":""),$e=Le==="literal"?!0:Le==="folded"||se===B.Scalar.BLOCK_FOLDED?!1:se===B.Scalar.BLOCK_LITERAL?!0:!hC(oe,Ge,ze.length);if(!oe)return $e?`|\n`:`>\n`;let Ye,Ke;for(Ke=oe.length;Ke>0;--Ke){let b=oe[Ke-1];if(b!==`\n`&&b!=="\t"&&b!==" ")break}let Xe=oe.substring(Ke),et=Xe.indexOf(`\n`);et===-1?Ye="-":oe===Xe||et!==Xe.length-1?(Ye="+",Me&&Me()):Ye="",Xe&&(oe=oe.slice(0,-Xe.length),Xe[Xe.length-1]===`\n`&&(Xe=Xe.slice(0,-1)),Xe=Xe.replace(K,`$&${ze}`));let rt=!1,it,ot=-1;for(it=0;it<oe.length;++it){let b=oe[it];if(b===" ")rt=!0;else if(b===`\n`)ot=it;else break}let at=oe.substring(0,ot<it?ot+1:it);at&&(oe=oe.substring(at.length),at=at.replace(/\n+/g,`$&${ze}`));let lt=($e?"|":">")+(rt?ze?"2":"1":"")+Ye;if(b&&(lt+=" "+We(b.replace(/ ?[\r\n]+/g," ")),Re&&Re()),$e)return oe=oe.replace(/\n+/g,`$&${ze}`),`${lt}\n${ze}${at}${oe}${Xe}`;oe=oe.replace(/\n+/g,`\n$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${ze}`);let ut=F.foldFlowLines(`${at}${oe}${Xe}`,ze,F.FOLD_BLOCK,To(Qe,!0));return`${lt}\n${ze}${ut}`}function dC(b,K,se,oe){let{type:Qe,value:Re}=b,{actualString:Me,implicitKey:Le,indent:We,indentStep:Ge,inFlow:ze}=K;if(Le&&Re.includes(`\n`)||ze&&/[[\]{},]/.test(Re))return Rn(Re,K);if(!Re||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(Re))return Le||ze||!Re.includes(`\n`)?Rn(Re,K):Co(b,K,se,oe);if(!Le&&!ze&&Qe!==B.Scalar.PLAIN&&Re.includes(`\n`))return Co(b,K,se,oe);if(Ao(Re)){if(We==="")return K.forceBlockIndent=!0,Co(b,K,se,oe);if(Le&&We===Ge)return Rn(Re,K)}let $e=Re.replace(/\n+/g,`$&\n${We}`);if(Me){let p=b=>{var B;return b.default&&b.tag!=="tag:yaml.org,2002:str"&&((B=b.test)==null?void 0:B.test($e))},{compat:b,tags:B}=K.doc.schema;if(B.some(p)||b!=null&&b.some(p))return Rn(Re,K)}return Le?$e:F.foldFlowLines($e,We,F.FOLD_FLOW,To(K,!1))}function pC(b,F,K,se){let{implicitKey:oe,inFlow:Qe}=F,Re=typeof b.value=="string"?b:Object.assign({},b,{value:String(b.value)}),{type:Me}=b;Me!==B.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(Re.value)&&(Me=B.Scalar.QUOTE_DOUBLE);let l=b=>{switch(b){case B.Scalar.BLOCK_FOLDED:case B.Scalar.BLOCK_LITERAL:return oe||Qe?Rn(Re.value,F):Co(Re,F,K,se);case B.Scalar.QUOTE_DOUBLE:return As(Re.value,F);case B.Scalar.QUOTE_SINGLE:return Yu(Re.value,F);case B.Scalar.PLAIN:return dC(Re,F,K,se);default:return null}},Le=l(Me);if(Le===null){let{defaultKeyType:b,defaultStringType:B}=F.options,K=oe&&b||B;if(Le=l(K),Le===null)throw new Error(`Unsupported default string type ${K}`)}return Le}b.stringifyString=pC}));var Gi=w((b=>{"use strict";var B=Oi(),F=xi(),K=Ui(),se=Vi();function yC(b,B){let F=Object.assign({blockQuote:!0,commentString:K.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},b.schema.toStringOptions,B),se;switch(F.collectionStyle){case"block":se=!1;break;case"flow":se=!0;break;default:se=null}return{anchors:new Set,doc:b,flowCollectionPadding:F.flowCollectionPadding?" ":"",indent:"",indentStep:typeof F.indent=="number"?" ".repeat(F.indent):"  ",inFlow:se,options:F}}function _C(b,B){var K,se,oe,Qe;if(B.tag){let F=b.filter((b=>b.tag===B.tag));if(F.length>0)return(K=F.find((b=>b.format===B.format)))!=null?K:F[0]}let Re,Me;if(F.isScalar(B)){Me=B.value;let F=b.filter((b=>{var B;return(B=b.identify)==null?void 0:B.call(b,Me)}));if(F.length>1){let b=F.filter((b=>b.test));b.length>0&&(F=b)}Re=(se=F.find((b=>b.format===B.format)))!=null?se:F.find((b=>!b.format))}else Me=B,Re=b.find((b=>b.nodeClass&&Me instanceof b.nodeClass));if(!Re){let b=(Qe=(oe=Me==null?void 0:Me.constructor)==null?void 0:oe.name)!=null?Qe:typeof Me;throw new Error(`Tag not resolved for ${b} value`)}return Re}function bC(b,K,{anchors:se,doc:oe}){if(!oe.directives)return"";let Qe=[],Re=(F.isScalar(b)||F.isCollection(b))&&b.anchor;Re&&B.anchorIsValid(Re)&&(se.add(Re),Qe.push(`&${Re}`));let Me=b.tag?b.tag:K.default?null:K.tag;return Me&&Qe.push(oe.directives.tagString(Me)),Qe.join(" ")}function xC(b,B,K,oe){var Qe,Re;if(F.isPair(b))return b.toString(B,K,oe);if(F.isAlias(b)){if(B.doc.directives)return b.toString(B);if((Qe=B.resolvedAliases)!=null&&Qe.has(b))throw new TypeError("Cannot stringify circular structure without alias nodes");B.resolvedAliases?B.resolvedAliases.add(b):B.resolvedAliases=new Set([b]),b=b.resolve(B.doc)}let Me,Le=F.isNode(b)?b:B.doc.createNode(b,{onTagObj:b=>Me=b});Me||(Me=_C(B.doc.schema.tags,Le));let We=bC(Le,Me,B);We.length>0&&(B.indentAtStart=((Re=B.indentAtStart)!=null?Re:0)+We.length+1);let Ge=typeof Me.stringify=="function"?Me.stringify(Le,B,K,oe):F.isScalar(Le)?se.stringifyString(Le,B,K,oe):Le.toString(B,K,oe);return We?F.isScalar(Le)||Ge[0]==="{"||Ge[0]==="["?`${We} ${Ge}`:`${We}\n${B.indent}${Ge}`:Ge}b.createStringifyContext=yC;b.stringify=xC}));var zi=w((b=>{"use strict";var B=xi(),F=Li(),K=Gi(),se=Ui();function wC({key:b,value:oe},Qe,Re,Me){var Le,We;let{allNullValues:Ge,doc:ze,indent:$e,indentStep:Ye,options:{commentString:Ke,indentSeq:Xe,simpleKeys:et}}=Qe,rt=B.isNode(b)&&b.comment||null;if(et){if(rt)throw new Error("With simple keys, key nodes cannot have comments");if(B.isCollection(b)||!B.isNode(b)&&typeof b=="object"){let b="With simple keys, collection cannot be used as a key value";throw new Error(b)}}let it=!et&&(!b||rt&&oe==null&&!Qe.inFlow||B.isCollection(b)||(B.isScalar(b)?b.type===F.Scalar.BLOCK_FOLDED||b.type===F.Scalar.BLOCK_LITERAL:typeof b=="object"));Qe=Object.assign({},Qe,{allNullValues:!1,implicitKey:!it&&(et||!Ge),indent:$e+Ye});let ot=!1,at=!1,lt=K.stringify(b,Qe,(()=>ot=!0),(()=>at=!0));if(!it&&!Qe.inFlow&&lt.length>1024){if(et)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");it=!0}if(Qe.inFlow){if(Ge||oe==null)return ot&&Re&&Re(),lt===""?"?":it?`? ${lt}`:lt}else if(Ge&&!et||oe==null&&it)return lt=`? ${lt}`,rt&&!ot?lt+=se.lineComment(lt,Qe.indent,Ke(rt)):at&&Me&&Me(),lt;ot&&(rt=null),it?(rt&&(lt+=se.lineComment(lt,Qe.indent,Ke(rt))),lt=`? ${lt}\n${$e}:`):(lt=`${lt}:`,rt&&(lt+=se.lineComment(lt,Qe.indent,Ke(rt))));let ut,dt,ht;B.isNode(oe)?(ut=!!oe.spaceBefore,dt=oe.commentBefore,ht=oe.comment):(ut=!1,dt=null,ht=null,oe&&typeof oe=="object"&&(oe=ze.createNode(oe))),Qe.implicitKey=!1,!it&&!rt&&B.isScalar(oe)&&(Qe.indentAtStart=lt.length+1),at=!1,!Xe&&Ye.length>=2&&!Qe.inFlow&&!it&&B.isSeq(oe)&&!oe.flow&&!oe.tag&&!oe.anchor&&(Qe.indent=Qe.indent.substring(2));let pt=!1,ft=K.stringify(oe,Qe,(()=>pt=!0),(()=>at=!0)),mt=" ";if(rt||ut||dt){if(mt=ut?`\n`:"",dt){let b=Ke(dt);mt+=`\n${se.indentComment(b,Qe.indent)}`}ft===""&&!Qe.inFlow?mt===`\n`&&(mt=`\n\n`):mt+=`\n${Qe.indent}`}else if(!it&&B.isCollection(oe)){let b=ft[0],B=ft.indexOf(`\n`),F=B!==-1,K=(We=(Le=Qe.inFlow)!=null?Le:oe.flow)!=null?We:oe.items.length===0;if(F||!K){let K=!1;if(F&&(b==="&"||b==="!")){let F=ft.indexOf(" ");b==="&"&&F!==-1&&F<B&&ft[F+1]==="!"&&(F=ft.indexOf(" ",F+1)),(F===-1||B<F)&&(K=!0)}K||(mt=`\n${Qe.indent}`)}}else(ft===""||ft[0]===`\n`)&&(mt="");return lt+=mt+ft,Qe.inFlow?pt&&Re&&Re():ht&&!pt?lt+=se.lineComment(lt,Qe.indent,Ke(ht)):at&&Me&&Me(),lt}b.stringifyPair=wC}));var $i=w((b=>{"use strict";function SC(b,...B){b==="debug"&&console.log(...B)}function EC(b,B){(b==="debug"||b==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(B):console.warn(B))}b.debug=SC;b.warn=EC}));var Ji=w((b=>{"use strict";var B=xi(),F=Li(),K="<<",se={identify:b=>b===K||typeof b=="symbol"&&b.description===K,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new F.Scalar(Symbol(K)),{addToJSMap:By}),stringify:()=>K},kC=(b,K)=>(se.identify(K)||B.isScalar(K)&&(!K.type||K.type===F.Scalar.PLAIN)&&se.identify(K.value))&&(b==null?void 0:b.doc.schema.tags.some((b=>b.tag===se.tag&&b.default)));function By(b,F,K){if(K=b&&B.isAlias(K)?K.resolve(b.doc):K,B.isSeq(K))for(let B of K.items)Xu(b,F,B);else if(Array.isArray(K))for(let B of K)Xu(b,F,B);else Xu(b,F,K)}function Xu(b,F,K){let se=b&&B.isAlias(K)?K.resolve(b.doc):K;if(!B.isMap(se))throw new Error("Merge sources must be maps or map aliases");let oe=se.toJSON(null,b,Map);for(let[b,B]of oe)F instanceof Map?F.has(b)||F.set(b,B):F instanceof Set?F.add(b):Object.prototype.hasOwnProperty.call(F,b)||Object.defineProperty(F,b,{value:B,writable:!0,enumerable:!0,configurable:!0});return F}b.addMergeToJSMap=By;b.isMergeKey=kC;b.merge=se}));var Yi=w((b=>{"use strict";var B=$i(),F=Ji(),K=Gi(),se=xi(),oe=Ri();function TC(b,B,{key:K,value:Qe}){if(se.isNode(K)&&K.addToJSMap)K.addToJSMap(b,B,Qe);else if(F.isMergeKey(b,K))F.addMergeToJSMap(b,B,Qe);else{let F=oe.toJS(K,"",b);if(B instanceof Map)B.set(F,oe.toJS(Qe,F,b));else if(B instanceof Set)B.add(F);else{let se=AC(K,F,b),Re=oe.toJS(Qe,se,b);se in B?Object.defineProperty(B,se,{value:Re,writable:!0,enumerable:!0,configurable:!0}):B[se]=Re}}return B}function AC(b,F,oe){if(F===null)return"";if(typeof F!="object")return String(F);if(se.isNode(b)&&(oe!=null&&oe.doc)){let F=K.createStringifyContext(oe.doc,{});F.anchors=new Set;for(let b of oe.anchors.keys())F.anchors.add(b.anchor);F.inFlow=!0,F.inStringifyKey=!0;let se=b.toString(F);if(!oe.mapKeyWarned){let b=JSON.stringify(se);b.length>40&&(b=b.substring(0,36)+'..."'),B.warn(oe.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${b}. Set mapAsMap: true to use object keys.`),oe.mapKeyWarned=!0}return se}return JSON.stringify(F)}b.addPairToJSMap=TC}));var Ki=w((b=>{"use strict";var B=ji(),F=zi(),K=Yi(),se=xi();function LC(b,F,K){let se=B.createNode(b,void 0,K),Qe=B.createNode(F,void 0,K);return new oe(se,Qe)}var oe=class r{constructor(b,B=null){Object.defineProperty(this,se.NODE_TYPE,{value:se.PAIR}),this.key=b,this.value=B}clone(b){let{key:B,value:F}=this;return se.isNode(B)&&(B=B.clone(b)),se.isNode(F)&&(F=F.clone(b)),new r(B,F)}toJSON(b,B){let F=B!=null&&B.mapAsMap?new Map:{};return K.addPairToJSMap(B,F,this)}toString(b,B,K){return b!=null&&b.doc?F.stringifyPair(this,b,B,K):JSON.stringify(this)}};b.Pair=oe;b.createPair=LC}));var Zi=w((b=>{"use strict";var B=xi(),F=Gi(),K=Ui();function BC(b,B,F){var K;return(((K=B.inFlow)!=null?K:b.flow)?PC:RC)(b,B,F)}function RC({comment:b,items:se},oe,{blockItemPrefix:Qe,flowChars:Re,itemIndent:Me,onChompKeep:Le,onComment:We}){let{indent:Ge,options:{commentString:ze}}=oe,$e=Object.assign({},oe,{indent:Me,type:null}),Ye=!1,Ke=[];for(let b=0;b<se.length;++b){let Re=se[b],Le=null;if(B.isNode(Re))!Ye&&Re.spaceBefore&&Ke.push(""),Do(oe,Ke,Re.commentBefore,Ye),Re.comment&&(Le=Re.comment);else if(B.isPair(Re)){let b=B.isNode(Re.key)?Re.key:null;b&&(!Ye&&b.spaceBefore&&Ke.push(""),Do(oe,Ke,b.commentBefore,Ye))}Ye=!1;let We=F.stringify(Re,$e,(()=>Le=null),(()=>Ye=!0));Le&&(We+=K.lineComment(We,Me,ze(Le))),Ye&&Le&&(Ye=!1),Ke.push(Qe+We)}let Xe;if(Ke.length===0)Xe=Re.start+Re.end;else{Xe=Ke[0];for(let b=1;b<Ke.length;++b){let B=Ke[b];Xe+=B?`\n${Ge}${B}`:`\n`}}return b?(Xe+=`\n`+K.indentComment(ze(b),Ge),We&&We()):Ye&&Le&&Le(),Xe}function PC({items:b},se,{flowChars:oe,itemIndent:Qe}){let{indent:Re,indentStep:Me,flowCollectionPadding:Le,options:{commentString:We}}=se;Qe+=Me;let Ge=Object.assign({},se,{indent:Qe,inFlow:!0,type:null}),ze=!1,$e=0,Ye=[];for(let oe=0;oe<b.length;++oe){let Re=b[oe],Me=null;if(B.isNode(Re))Re.spaceBefore&&Ye.push(""),Do(se,Ye,Re.commentBefore,!1),Re.comment&&(Me=Re.comment);else if(B.isPair(Re)){let b=B.isNode(Re.key)?Re.key:null;b&&(b.spaceBefore&&Ye.push(""),Do(se,Ye,b.commentBefore,!1),b.comment&&(ze=!0));let F=B.isNode(Re.value)?Re.value:null;F?(F.comment&&(Me=F.comment),F.commentBefore&&(ze=!0)):Re.value==null&&(b!=null&&b.comment)&&(Me=b.comment)}Me&&(ze=!0);let Le=F.stringify(Re,Ge,(()=>Me=null));oe<b.length-1&&(Le+=","),Me&&(Le+=K.lineComment(Le,Qe,We(Me))),!ze&&(Ye.length>$e||Le.includes(`\n`))&&(ze=!0),Ye.push(Le),$e=Ye.length}let{start:Ke,end:Xe}=oe;if(Ye.length===0)return Ke+Xe;if(!ze){let b=Ye.reduce(((b,B)=>b+B.length+2),2);ze=se.options.lineWidth>0&&b>se.options.lineWidth}if(ze){let b=Ke;for(let B of Ye)b+=B?`\n${Me}${Re}${B}`:`\n`;return`${b}\n${Re}${Xe}`}else return`${Ke}${Le}${Ye.join(" ")}${Le}${Xe}`}function Do({indent:b,options:{commentString:B}},F,se,oe){if(se&&oe&&(se=se.replace(/^\n+/,"")),se){let oe=K.indentComment(B(se),b);F.push(oe.trimStart())}}b.stringifyCollection=BC}));var Xi=w((b=>{"use strict";var B=Zi(),F=Yi(),K=Hi(),se=xi(),oe=Ki(),Qe=Li();function Rs(b,B){let F=se.isScalar(B)?B.value:B;for(let K of b)if(se.isPair(K)&&(K.key===B||K.key===F||se.isScalar(K.key)&&K.key.value===F))return K}var Re=class extends K.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(b){super(se.MAP,b),this.items=[]}static from(b,B,F){let{keepUndefined:K,replacer:se}=F,Qe=new this(b),o=(b,Re)=>{if(typeof se=="function")Re=se.call(B,b,Re);else if(Array.isArray(se)&&!se.includes(b))return;(Re!==void 0||K)&&Qe.items.push(oe.createPair(b,Re,F))};if(B instanceof Map)for(let[b,F]of B)o(b,F);else if(B&&typeof B=="object")for(let b of Object.keys(B))o(b,B[b]);return typeof b.sortMapEntries=="function"&&Qe.items.sort(b.sortMapEntries),Qe}add(b,B){var F;let K;se.isPair(b)?K=b:!b||typeof b!="object"||!("key"in b)?K=new oe.Pair(b,b==null?void 0:b.value):K=new oe.Pair(b.key,b.value);let Re=Rs(this.items,K.key),Me=(F=this.schema)==null?void 0:F.sortMapEntries;if(Re){if(!B)throw new Error(`Key ${K.key} already set`);se.isScalar(Re.value)&&Qe.isScalarValue(K.value)?Re.value.value=K.value:Re.value=K.value}else if(Me){let b=this.items.findIndex((b=>Me(K,b)<0));b===-1?this.items.push(K):this.items.splice(b,0,K)}else this.items.push(K)}delete(b){let B=Rs(this.items,b);return B?this.items.splice(this.items.indexOf(B),1).length>0:!1}get(b,B){var F;let K=Rs(this.items,b),oe=K==null?void 0:K.value;return(F=!B&&se.isScalar(oe)?oe.value:oe)!=null?F:void 0}has(b){return!!Rs(this.items,b)}set(b,B){this.add(new oe.Pair(b,B),!0)}toJSON(b,B,K){let se=K?new K:B!=null&&B.mapAsMap?new Map:{};B!=null&&B.onCreate&&B.onCreate(se);for(let b of this.items)F.addPairToJSMap(B,se,b);return se}toString(b,F,K){if(!b)return JSON.stringify(this);for(let b of this.items)if(!se.isPair(b))throw new Error(`Map items must all be pairs; found ${JSON.stringify(b)} instead`);return!b.allNullValues&&this.hasAllNullValues(!1)&&(b=Object.assign({},b,{allNullValues:!0})),B.stringifyCollection(this,b,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:b.indent||"",onChompKeep:K,onComment:F})}};b.YAMLMap=Re;b.findPair=Rs}));var ts=w((b=>{"use strict";var B=xi(),F=Xi(),K={collection:"map",default:!0,nodeClass:F.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(b,F){return B.isMap(b)||F("Expected a mapping for this tag"),b},createNode:(b,B,K)=>F.YAMLMap.from(b,B,K)};b.map=K}));var ns=w((b=>{"use strict";var B=ji(),F=Zi(),K=Hi(),se=xi(),oe=Li(),Qe=Ri(),Re=class extends K.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(b){super(se.SEQ,b),this.items=[]}add(b){this.items.push(b)}delete(b){let B=qo(b);return typeof B!="number"?!1:this.items.splice(B,1).length>0}get(b,B){let F=qo(b);if(typeof F!="number")return;let K=this.items[F];return!B&&se.isScalar(K)?K.value:K}has(b){let B=qo(b);return typeof B=="number"&&B<this.items.length}set(b,B){let F=qo(b);if(typeof F!="number")throw new Error(`Expected a valid index, not ${b}.`);let K=this.items[F];se.isScalar(K)&&oe.isScalarValue(B)?K.value=B:this.items[F]=B}toJSON(b,B){let F=[];B!=null&&B.onCreate&&B.onCreate(F);let K=0;for(let b of this.items)F.push(Qe.toJS(b,String(K++),B));return F}toString(b,B,K){return b?F.stringifyCollection(this,b,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(b.indent||"")+"  ",onChompKeep:K,onComment:B}):JSON.stringify(this)}static from(b,F,K){let{replacer:se}=K,oe=new this(b);if(F&&Symbol.iterator in Object(F)){let b=0;for(let Qe of F){if(typeof se=="function"){let B=F instanceof Set?Qe:String(b++);Qe=se.call(F,B,Qe)}oe.items.push(B.createNode(Qe,void 0,K))}}return oe}};function qo(b){let B=se.isScalar(b)?b.value:b;return B&&typeof B=="string"&&(B=Number(B)),typeof B=="number"&&Number.isInteger(B)&&B>=0?B:null}b.YAMLSeq=Re}));var is=w((b=>{"use strict";var B=xi(),F=ns(),K={collection:"seq",default:!0,nodeClass:F.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(b,F){return B.isSeq(b)||F("Expected a sequence for this tag"),b},createNode:(b,B,K)=>F.YAMLSeq.from(b,B,K)};b.seq=K}));var ss=w((b=>{"use strict";var B=Vi(),F={identify:b=>typeof b=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:b=>b,stringify(b,F,K,se){return F=Object.assign({actualString:!0},F),B.stringifyString(b,F,K,se)}};b.string=F}));var os=w((b=>{"use strict";var B=Li(),F={identify:b=>b==null,createNode:()=>new B.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new B.Scalar(null),stringify:({source:b},B)=>typeof b=="string"&&F.test.test(b)?b:B.options.nullStr};b.nullTag=F}));var as=w((b=>{"use strict";var B=Li(),F={identify:b=>typeof b=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:b=>new B.Scalar(b[0]==="t"||b[0]==="T"),stringify({source:b,value:B},K){if(b&&F.test.test(b)){let F=b[0]==="t"||b[0]==="T";if(B===F)return b}return B?K.options.trueStr:K.options.falseStr}};b.boolTag=F}));var ls=w((b=>{"use strict";function QC({format:b,minFractionDigits:B,tag:F,value:K}){if(typeof K=="bigint")return String(K);let se=typeof K=="number"?K:Number(K);if(!isFinite(se))return isNaN(se)?".nan":se<0?"-.inf":".inf";let oe=JSON.stringify(K);if(!b&&B&&(!F||F==="tag:yaml.org,2002:float")&&/^\d/.test(oe)){let b=oe.indexOf(".");b<0&&(b=oe.length,oe+=".");let F=B-(oe.length-b-1);for(;F-- >0;)oe+="0"}return oe}b.stringifyNumber=QC}));var cs=w((b=>{"use strict";var B=Li(),F=ls(),K={identify:b=>typeof b=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:b=>b.slice(-3).toLowerCase()==="nan"?NaN:b[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:F.stringifyNumber},se={identify:b=>typeof b=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:b=>parseFloat(b),stringify(b){let B=Number(b.value);return isFinite(B)?B.toExponential():F.stringifyNumber(b)}},oe={identify:b=>typeof b=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(b){let F=new B.Scalar(parseFloat(b)),K=b.indexOf(".");return K!==-1&&b[b.length-1]==="0"&&(F.minFractionDigits=b.length-K-1),F},stringify:F.stringifyNumber};b.float=oe;b.floatExp=se;b.floatNaN=K}));var us=w((b=>{"use strict";var B=ls(),Vo=b=>typeof b=="bigint"||Number.isInteger(b),ff=(b,B,F,{intAsBigInt:K})=>K?BigInt(b):parseInt(b.substring(B),F);function Xy(b,F,K){let{value:se}=b;return Vo(se)&&se>=0?K+se.toString(F):B.stringifyNumber(b)}var F={identify:b=>Vo(b)&&b>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(b,B,F)=>ff(b,2,8,F),stringify:b=>Xy(b,8,"0o")},K={identify:Vo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(b,B,F)=>ff(b,0,10,F),stringify:B.stringifyNumber},se={identify:b=>Vo(b)&&b>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(b,B,F)=>ff(b,2,16,F),stringify:b=>Xy(b,16,"0x")};b.int=K;b.intHex=se;b.intOct=F}));var ds=w((b=>{"use strict";var B=ts(),F=os(),K=is(),se=ss(),oe=as(),Qe=cs(),Re=us(),Me=[B.map,K.seq,se.string,F.nullTag,oe.boolTag,Re.intOct,Re.int,Re.intHex,Qe.floatNaN,Qe.floatExp,Qe.float];b.schema=Me}));var hs=w((b=>{"use strict";var B=Li(),F=ts(),K=is();function r0(b){return typeof b=="bigint"||Number.isInteger(b)}var Go=({value:b})=>JSON.stringify(b),se=[{identify:b=>typeof b=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:b=>b,stringify:Go},{identify:b=>b==null,createNode:()=>new B.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Go},{identify:b=>typeof b=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:b=>b==="true",stringify:Go},{identify:r0,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(b,B,{intAsBigInt:F})=>F?BigInt(b):parseInt(b,10),stringify:({value:b})=>r0(b)?b.toString():JSON.stringify(b)},{identify:b=>typeof b=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:b=>parseFloat(b),stringify:Go}],oe={default:!0,tag:"",test:/^/,resolve(b,B){return B(`Unresolved plain scalar ${JSON.stringify(b)}`),b}},Qe=[F.map,K.seq].concat(se,oe);b.schema=Qe}));var ps=w((b=>{"use strict";var B=Li(),F=Vi(),K={identify:b=>b instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(b,B){if(typeof Buffer=="function")return Buffer.from(b,"base64");if(typeof atob=="function"){let B=atob(b.replace(/[\n\r]/g,"")),F=new Uint8Array(B.length);for(let b=0;b<B.length;++b)F[b]=B.charCodeAt(b);return F}else return B("This environment does not support reading binary tags; either Buffer or atob is required"),b},stringify({comment:b,type:K,value:se},oe,Qe,Re){let Me=se,Le;if(typeof Buffer=="function")Le=Me instanceof Buffer?Me.toString("base64"):Buffer.from(Me.buffer).toString("base64");else if(typeof btoa=="function"){let b="";for(let B=0;B<Me.length;++B)b+=String.fromCharCode(Me[B]);Le=btoa(b)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(K||(K=B.Scalar.BLOCK_LITERAL),K!==B.Scalar.QUOTE_DOUBLE){let b=Math.max(oe.options.lineWidth-oe.indent.length,oe.options.minContentWidth),F=Math.ceil(Le.length/b),se=new Array(F);for(let B=0,K=0;B<F;++B,K+=b)se[B]=Le.substr(K,b);Le=se.join(K===B.Scalar.BLOCK_LITERAL?`\n`:" ")}return F.stringifyString({comment:b,type:K,value:Le},oe,Qe,Re)}};b.binary=K}));var fs=w((b=>{"use strict";var B=xi(),F=Ki(),K=Li(),se=ns();function a0(b,se){var oe;if(B.isSeq(b))for(let Qe=0;Qe<b.items.length;++Qe){let Re=b.items[Qe];if(!B.isPair(Re)){if(B.isMap(Re)){Re.items.length>1&&se("Each pair must have its own sequence indicator");let b=Re.items[0]||new F.Pair(new K.Scalar(null));if(Re.commentBefore&&(b.key.commentBefore=b.key.commentBefore?`${Re.commentBefore}\n${b.key.commentBefore}`:Re.commentBefore),Re.comment){let B=(oe=b.value)!=null?oe:b.key;B.comment=B.comment?`${Re.comment}\n${B.comment}`:Re.comment}Re=b}b.items[Qe]=B.isPair(Re)?Re:new F.Pair(Re)}}else se("Expected a sequence for this tag");return b}function o0(b,B,K){let{replacer:oe}=K,Qe=new se.YAMLSeq(b);Qe.tag="tag:yaml.org,2002:pairs";let Re=0;if(B&&Symbol.iterator in Object(B))for(let b of B){typeof oe=="function"&&(b=oe.call(B,String(Re++),b));let se,Me;if(Array.isArray(b))if(b.length===2)se=b[0],Me=b[1];else throw new TypeError(`Expected [key, value] tuple: ${b}`);else if(b&&b instanceof Object){let B=Object.keys(b);if(B.length===1)se=B[0],Me=b[se];else throw new TypeError(`Expected tuple with one key, not ${B.length} keys`)}else se=b;Qe.items.push(F.createPair(se,Me,K))}return Qe}var oe={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:a0,createNode:o0};b.createPairs=o0;b.pairs=oe;b.resolvePairs=a0}));var gs=w((b=>{"use strict";var B=xi(),F=Ri(),K=Xi(),se=ns(),oe=fs(),Qe=class r extends se.YAMLSeq{constructor(){super(),this.add=K.YAMLMap.prototype.add.bind(this),this.delete=K.YAMLMap.prototype.delete.bind(this),this.get=K.YAMLMap.prototype.get.bind(this),this.has=K.YAMLMap.prototype.has.bind(this),this.set=K.YAMLMap.prototype.set.bind(this),this.tag=r.tag}toJSON(b,K){if(!K)return super.toJSON(b);let se=new Map;K!=null&&K.onCreate&&K.onCreate(se);for(let b of this.items){let oe,Qe;if(B.isPair(b)?(oe=F.toJS(b.key,"",K),Qe=F.toJS(b.value,oe,K)):oe=F.toJS(b,"",K),se.has(oe))throw new Error("Ordered maps must not include duplicate keys");se.set(oe,Qe)}return se}static from(b,B,F){let K=oe.createPairs(b,B,F),se=new this;return se.items=K.items,se}};Qe.tag="tag:yaml.org,2002:omap";var Re={collection:"seq",identify:b=>b instanceof Map,nodeClass:Qe,default:!1,tag:"tag:yaml.org,2002:omap",resolve(b,F){let K=oe.resolvePairs(b,F),se=[];for(let{key:b}of K.items)B.isScalar(b)&&(se.includes(b.value)?F(`Ordered maps must not include duplicate keys: ${b.value}`):se.push(b.value));return Object.assign(new Qe,K)},createNode:(b,B,F)=>Qe.from(b,B,F)};b.YAMLOMap=Qe;b.omap=Re}));var vs=w((b=>{"use strict";var B=Li();function f0({value:b,source:B},se){return B&&(b?F:K).test.test(B)?B:b?se.options.trueStr:se.options.falseStr}var F={identify:b=>b===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new B.Scalar(!0),stringify:f0},K={identify:b=>b===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new B.Scalar(!1),stringify:f0};b.falseTag=K;b.trueTag=F}));var ys=w((b=>{"use strict";var B=Li(),F=ls(),K={identify:b=>typeof b=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:b=>b.slice(-3).toLowerCase()==="nan"?NaN:b[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:F.stringifyNumber},se={identify:b=>typeof b=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:b=>parseFloat(b.replace(/_/g,"")),stringify(b){let B=Number(b.value);return isFinite(B)?B.toExponential():F.stringifyNumber(b)}},oe={identify:b=>typeof b=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(b){let F=new B.Scalar(parseFloat(b.replace(/_/g,""))),K=b.indexOf(".");if(K!==-1){let B=b.substring(K+1).replace(/_/g,"");B[B.length-1]==="0"&&(F.minFractionDigits=B.length)}return F},stringify:F.stringifyNumber};b.float=oe;b.floatExp=se;b.floatNaN=K}));var ws=w((b=>{"use strict";var B=ls(),Ds=b=>typeof b=="bigint"||Number.isInteger(b);function Zo(b,B,F,{intAsBigInt:K}){let se=b[0];if((se==="-"||se==="+")&&(B+=1),b=b.substring(B).replace(/_/g,""),K){switch(F){case 2:b=`0b${b}`;break;case 8:b=`0o${b}`;break;case 16:b=`0x${b}`;break}let B=BigInt(b);return se==="-"?BigInt(-1)*B:B}let oe=parseInt(b,F);return se==="-"?-1*oe:oe}function Sf(b,F,K){let{value:se}=b;if(Ds(se)){let b=se.toString(F);return se<0?"-"+K+b.substr(1):K+b}return B.stringifyNumber(b)}var F={identify:Ds,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(b,B,F)=>Zo(b,2,2,F),stringify:b=>Sf(b,2,"0b")},K={identify:Ds,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(b,B,F)=>Zo(b,1,8,F),stringify:b=>Sf(b,8,"0")},se={identify:Ds,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(b,B,F)=>Zo(b,0,10,F),stringify:B.stringifyNumber},oe={identify:Ds,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(b,B,F)=>Zo(b,2,16,F),stringify:b=>Sf(b,16,"0x")};b.int=se;b.intBin=F;b.intHex=oe;b.intOct=K}));var Cs=w((b=>{"use strict";var B=xi(),F=Ki(),K=Xi(),se=class r extends K.YAMLMap{constructor(b){super(b),this.tag=r.tag}add(b){let se;B.isPair(b)?se=b:b&&typeof b=="object"&&"key"in b&&"value"in b&&b.value===null?se=new F.Pair(b.key,null):se=new F.Pair(b,null),K.findPair(this.items,se.key)||this.items.push(se)}get(b,F){let se=K.findPair(this.items,b);return!F&&B.isPair(se)?B.isScalar(se.key)?se.key.value:se.key:se}set(b,B){if(typeof B!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof B}`);let se=K.findPair(this.items,b);se&&!B?this.items.splice(this.items.indexOf(se),1):!se&&B&&this.items.push(new F.Pair(b))}toJSON(b,B){return super.toJSON(b,B,Set)}toString(b,B,F){if(!b)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},b,{allNullValues:!0}),B,F);throw new Error("Set items must all have null values")}static from(b,B,K){let{replacer:se}=K,oe=new this(b);if(B&&Symbol.iterator in Object(B))for(let b of B)typeof se=="function"&&(b=se.call(B,b,b)),oe.items.push(F.createPair(b,null,K));return oe}};se.tag="tag:yaml.org,2002:set";var oe={collection:"map",identify:b=>b instanceof Set,nodeClass:se,default:!1,tag:"tag:yaml.org,2002:set",createNode:(b,B,F)=>se.from(b,B,F),resolve(b,F){if(B.isMap(b)){if(b.hasAllNullValues(!0))return Object.assign(new se,b);F("Set items must all have null values")}else F("Expected a mapping for this tag");return b}};b.YAMLSet=se;b.set=oe}));var Is=w((b=>{"use strict";var B=ls();function Of(b,B){let F=b[0],K=F==="-"||F==="+"?b.substring(1):b,n=b=>B?BigInt(b):Number(b),se=K.replace(/_/g,"").split(":").reduce(((b,B)=>b*n(60)+n(B)),n(0));return F==="-"?n(-1)*se:se}function y0(b){let{value:F}=b,t=b=>b;if(typeof F=="bigint")t=b=>BigInt(b);else if(isNaN(F)||!isFinite(F))return B.stringifyNumber(b);let K="";F<0&&(K="-",F*=t(-1));let se=t(60),oe=[F%se];return F<60?oe.unshift(0):(F=(F-oe[0])/se,oe.unshift(F%se),F>=60&&(F=(F-oe[0])/se,oe.unshift(F))),K+oe.map((b=>String(b).padStart(2,"0"))).join(":").replace(/000000\d*$/,"")}var F={identify:b=>typeof b=="bigint"||Number.isInteger(b),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(b,B,{intAsBigInt:F})=>Of(b,F),stringify:y0},K={identify:b=>typeof b=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:b=>Of(b,!1),stringify:y0},se={identify:b=>b instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(b){let B=b.match(se.test);if(!B)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,F,K,oe,Qe,Re,Me]=B.map(Number),Le=B[7]?Number((B[7]+"00").substr(1,3)):0,We=Date.UTC(F,K-1,oe,Qe||0,Re||0,Me||0,Le),Ge=B[8];if(Ge&&Ge!=="Z"){let b=Of(Ge,!1);Math.abs(b)<30&&(b*=60),We-=6e4*b}return new Date(We)},stringify:({value:b})=>b.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};b.floatTime=K;b.intTime=F;b.timestamp=se}));var Ss=w((b=>{"use strict";var B=ts(),F=os(),K=is(),se=ss(),oe=ps(),Qe=vs(),Re=ys(),Me=ws(),Le=Ji(),We=gs(),Ge=fs(),ze=Cs(),$e=Is(),Ye=[B.map,K.seq,se.string,F.nullTag,Qe.trueTag,Qe.falseTag,Me.intBin,Me.intOct,Me.int,Me.intHex,Re.floatNaN,Re.floatExp,Re.float,oe.binary,Le.merge,We.omap,Ge.pairs,ze.set,$e.intTime,$e.floatTime,$e.timestamp];b.schema=Ye}));var Bs=w((b=>{"use strict";var B=ts(),F=os(),K=is(),se=ss(),oe=as(),Qe=cs(),Re=us(),Me=ds(),Le=hs(),We=ps(),Ge=Ji(),ze=gs(),$e=fs(),Ye=Ss(),Ke=Cs(),Xe=Is(),et=new Map([["core",Me.schema],["failsafe",[B.map,K.seq,se.string]],["json",Le.schema],["yaml11",Ye.schema],["yaml-1.1",Ye.schema]]),rt={binary:We.binary,bool:oe.boolTag,float:Qe.float,floatExp:Qe.floatExp,floatNaN:Qe.floatNaN,floatTime:Xe.floatTime,int:Re.int,intHex:Re.intHex,intOct:Re.intOct,intTime:Xe.intTime,map:B.map,merge:Ge.merge,null:F.nullTag,omap:ze.omap,pairs:$e.pairs,seq:K.seq,set:Ke.set,timestamp:Xe.timestamp},it={"tag:yaml.org,2002:binary":We.binary,"tag:yaml.org,2002:merge":Ge.merge,"tag:yaml.org,2002:omap":ze.omap,"tag:yaml.org,2002:pairs":$e.pairs,"tag:yaml.org,2002:set":Ke.set,"tag:yaml.org,2002:timestamp":Xe.timestamp};function XT(b,B,F){let K=et.get(B);if(K&&!b)return F&&!K.includes(Ge.merge)?K.concat(Ge.merge):K.slice();let se=K;if(!se)if(Array.isArray(b))se=[];else{let b=Array.from(et.keys()).filter((b=>b!=="yaml11")).map((b=>JSON.stringify(b))).join(", ");throw new Error(`Unknown schema "${B}"; use one of ${b} or define customTags array`)}if(Array.isArray(b))for(let B of b)se=se.concat(B);else typeof b=="function"&&(se=b(se.slice()));return F&&(se=se.concat(Ge.merge)),se.reduce(((b,B)=>{let F=typeof B=="string"?rt[B]:B;if(!F){let b=JSON.stringify(B),F=Object.keys(rt).map((b=>JSON.stringify(b))).join(", ");throw new Error(`Unknown custom tag ${b}; use one of ${F}`)}return b.includes(F)||b.push(F),b}),[])}b.coreKnownTags=it;b.getTags=XT}));var xs=w((b=>{"use strict";var B=xi(),F=ts(),K=is(),se=ss(),oe=Bs(),iA=(b,B)=>b.key<B.key?-1:b.key>B.key?1:0,Qe=class r{constructor({compat:b,customTags:Qe,merge:Re,resolveKnownTags:Me,schema:Le,sortMapEntries:We,toStringDefaults:Ge}){this.compat=Array.isArray(b)?oe.getTags(b,"compat"):b?oe.getTags(null,b):null,this.name=typeof Le=="string"&&Le||"core",this.knownTags=Me?oe.coreKnownTags:{},this.tags=oe.getTags(Qe,this.name,Re),this.toStringOptions=Ge!=null?Ge:null,Object.defineProperty(this,B.MAP,{value:F.map}),Object.defineProperty(this,B.SCALAR,{value:se.string}),Object.defineProperty(this,B.SEQ,{value:K.seq}),this.sortMapEntries=typeof We=="function"?We:We===!0?iA:null}clone(){let b=Object.create(r.prototype,Object.getOwnPropertyDescriptors(this));return b.tags=this.tags.slice(),b}};b.Schema=Qe}));var ks=w((b=>{"use strict";var B=xi(),F=Gi(),K=Ui();function sA(b,se){var oe;let Qe=[],Re=se.directives===!0;if(se.directives!==!1&&b.directives){let B=b.directives.toString(b);B?(Qe.push(B),Re=!0):b.directives.docStart&&(Re=!0)}Re&&Qe.push("---");let Me=F.createStringifyContext(b,se),{commentString:Le}=Me.options;if(b.commentBefore){Qe.length!==1&&Qe.unshift("");let B=Le(b.commentBefore);Qe.unshift(K.indentComment(B,""))}let We=!1,Ge=null;if(b.contents){if(B.isNode(b.contents)){if(b.contents.spaceBefore&&Re&&Qe.push(""),b.contents.commentBefore){let B=Le(b.contents.commentBefore);Qe.push(K.indentComment(B,""))}Me.forceBlockIndent=!!b.comment,Ge=b.contents.comment}let se=Ge?void 0:()=>We=!0,oe=F.stringify(b.contents,Me,(()=>Ge=null),se);Ge&&(oe+=K.lineComment(oe,"",Le(Ge))),(oe[0]==="|"||oe[0]===">")&&Qe[Qe.length-1]==="---"?Qe[Qe.length-1]=`--- ${oe}`:Qe.push(oe)}else Qe.push(F.stringify(b.contents,Me));if((oe=b.directives)!=null&&oe.docEnd)if(b.comment){let B=Le(b.comment);B.includes(`\n`)?(Qe.push("..."),Qe.push(K.indentComment(B,""))):Qe.push(`... ${B}`)}else Qe.push("...");else{let B=b.comment;B&&We&&(B=B.replace(/^\n+/,"")),B&&((!We||Ge)&&Qe[Qe.length-1]!==""&&Qe.push(""),Qe.push(K.indentComment(Le(B),"")))}return Qe.join(`\n`)+`\n`}b.stringifyDocument=sA}));var Qs=w((b=>{"use strict";var B=Mi(),F=Hi(),K=xi(),se=Ki(),oe=Ri(),Qe=xs(),Re=ks(),Me=Oi(),Le=Ti(),We=ji(),Ge=Qi(),ze=class r{constructor(b,B,F){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,K.NODE_TYPE,{value:K.DOC});let se=null;typeof B=="function"||Array.isArray(B)?se=B:F===void 0&&B&&(F=B,B=void 0);let oe=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},F);this.options=oe;let{version:Qe}=oe;F!=null&&F._directives?(this.directives=F._directives.atDocument(),this.directives.yaml.explicit&&(Qe=this.directives.yaml.version)):this.directives=new Ge.Directives({version:Qe}),this.setSchema(Qe,F),this.contents=b===void 0?null:this.createNode(b,se,F)}clone(){let b=Object.create(r.prototype,{[K.NODE_TYPE]:{value:K.DOC}});return b.commentBefore=this.commentBefore,b.comment=this.comment,b.errors=this.errors.slice(),b.warnings=this.warnings.slice(),b.options=Object.assign({},this.options),this.directives&&(b.directives=this.directives.clone()),b.schema=this.schema.clone(),b.contents=K.isNode(this.contents)?this.contents.clone(b.schema):this.contents,this.range&&(b.range=this.range.slice()),b}add(b){qn(this.contents)&&this.contents.add(b)}addIn(b,B){qn(this.contents)&&this.contents.addIn(b,B)}createAlias(b,F){if(!b.anchor){let B=Me.anchorNames(this);b.anchor=!F||B.has(F)?Me.findNewAnchor(F||"a",B):F}return new B.Alias(b.anchor)}createNode(b,B,F){let se;if(typeof B=="function")b=B.call({"":b},"",b),se=B;else if(Array.isArray(B)){let _=b=>typeof b=="number"||b instanceof String||b instanceof Number,b=B.filter(_).map(String);b.length>0&&(B=B.concat(b)),se=B}else F===void 0&&B&&(F=B,B=void 0);let{aliasDuplicateObjects:oe,anchorPrefix:Qe,flow:Re,keepUndefined:Le,onTagObj:Ge,tag:ze}=F!=null?F:{},{onAnchor:$e,setAnchors:Ye,sourceObjects:Ke}=Me.createNodeAnchors(this,Qe||"a"),Xe={aliasDuplicateObjects:oe!=null?oe:!0,keepUndefined:Le!=null?Le:!1,onAnchor:$e,onTagObj:Ge,replacer:se,schema:this.schema,sourceObjects:Ke},et=We.createNode(b,ze,Xe);return Re&&K.isCollection(et)&&(et.flow=!0),Ye(),et}createPair(b,B,F={}){let K=this.createNode(b,null,F),oe=this.createNode(B,null,F);return new se.Pair(K,oe)}delete(b){return qn(this.contents)?this.contents.delete(b):!1}deleteIn(b){return F.isEmptyPath(b)?this.contents==null?!1:(this.contents=null,!0):qn(this.contents)?this.contents.deleteIn(b):!1}get(b,B){return K.isCollection(this.contents)?this.contents.get(b,B):void 0}getIn(b,B){return F.isEmptyPath(b)?!B&&K.isScalar(this.contents)?this.contents.value:this.contents:K.isCollection(this.contents)?this.contents.getIn(b,B):void 0}has(b){return K.isCollection(this.contents)?this.contents.has(b):!1}hasIn(b){return F.isEmptyPath(b)?this.contents!==void 0:K.isCollection(this.contents)?this.contents.hasIn(b):!1}set(b,B){this.contents==null?this.contents=F.collectionFromPath(this.schema,[b],B):qn(this.contents)&&this.contents.set(b,B)}setIn(b,B){F.isEmptyPath(b)?this.contents=B:this.contents==null?this.contents=F.collectionFromPath(this.schema,Array.from(b),B):qn(this.contents)&&this.contents.setIn(b,B)}setSchema(b,B={}){typeof b=="number"&&(b=String(b));let F;switch(b){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Ge.Directives({version:"1.1"}),F={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=b:this.directives=new Ge.Directives({version:b}),F={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,F=null;break;default:{let B=JSON.stringify(b);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${B}`)}}if(B.schema instanceof Object)this.schema=B.schema;else if(F)this.schema=new Qe.Schema(Object.assign(F,B));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:b,jsonArg:B,mapAsMap:F,maxAliasCount:K,onAnchor:se,reviver:Qe}={}){let Re={anchors:new Map,doc:this,keep:!b,mapAsMap:F===!0,mapKeyWarned:!1,maxAliasCount:typeof K=="number"?K:100},Me=oe.toJS(this.contents,B!=null?B:"",Re);if(typeof se=="function")for(let{count:b,res:B}of Re.anchors.values())se(B,b);return typeof Qe=="function"?Le.applyReviver(Qe,{"":Me},"",Me):Me}toJSON(b,B){return this.toJS({json:!0,jsonArg:b,mapAsMap:!1,onAnchor:B})}toString(b={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in b&&(!Number.isInteger(b.indent)||Number(b.indent)<=0)){let B=JSON.stringify(b.indent);throw new Error(`"indent" option must be a positive integer, not ${B}`)}return Re.stringifyDocument(this,b)}};function qn(b){if(K.isCollection(b))return!0;throw new Error("Expected a YAML collection as document contents")}b.Document=ze}));var Os=w((b=>{"use strict";var B=class extends Error{constructor(b,B,F,K){super(),this.name=b,this.code=F,this.message=K,this.pos=B}},F=class extends B{constructor(b,B,F){super("YAMLParseError",b,B,F)}},K=class extends B{constructor(b,B,F){super("YAMLWarning",b,B,F)}},dA=(b,B)=>F=>{if(F.pos[0]===-1)return;F.linePos=F.pos.map((b=>B.linePos(b)));let{line:K,col:se}=F.linePos[0];F.message+=` at line ${K}, column ${se}`;let oe=se-1,Qe=b.substring(B.lineStarts[K-1],B.lineStarts[K]).replace(/[\n\r]+$/,"");if(oe>=60&&Qe.length>80){let b=Math.min(oe-39,Qe.length-79);Qe=""+Qe.substring(b),oe-=b-1}if(Qe.length>80&&(Qe=Qe.substring(0,79)+""),K>1&&/^ *$/.test(Qe.substring(0,oe))){let F=b.substring(B.lineStarts[K-2],B.lineStarts[K-1]);F.length>80&&(F=F.substring(0,79)+`\n`),Qe=F+Qe}if(/[^ ]/.test(Qe)){let b=1,B=F.linePos[1];B&&B.line===K&&B.col>se&&(b=Math.max(1,Math.min(B.col-se,80-oe)));let Re=" ".repeat(oe)+"^".repeat(b);F.message+=`:\n\n${Qe}\n${Re}\n`}};b.YAMLError=B;b.YAMLParseError=F;b.YAMLWarning=K;b.prettifyError=dA}));var Ts=w((b=>{"use strict";function pA(b,{flow:B,indicator:F,next:K,offset:se,onError:oe,parentIndent:Qe,startOnNewline:Re}){let Me=!1,Le=Re,We=Re,Ge="",ze="",$e=!1,Ye=!1,Ke=null,Xe=null,et=null,rt=null,it=null,ot=null,at=null;for(let se of b)switch(Ye&&(se.type!=="space"&&se.type!=="newline"&&se.type!=="comma"&&oe(se.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),Ye=!1),Ke&&(Le&&se.type!=="comment"&&se.type!=="newline"&&oe(Ke,"TAB_AS_INDENT","Tabs are not allowed as indentation"),Ke=null),se.type){case"space":!B&&(F!=="doc-start"||(K==null?void 0:K.type)!=="flow-collection")&&se.source.includes("\t")&&(Ke=se),We=!0;break;case"comment":{We||oe(se,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let b=se.source.substring(1)||" ";Ge?Ge+=ze+b:Ge=b,ze="",Le=!1;break}case"newline":Le?Ge?Ge+=se.source:Me=!0:ze+=se.source,Le=!0,$e=!0,(Xe||et)&&(rt=se),We=!0;break;case"anchor":Xe&&oe(se,"MULTIPLE_ANCHORS","A node can have at most one anchor"),se.source.endsWith(":")&&oe(se.offset+se.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),Xe=se,at===null&&(at=se.offset),Le=!1,We=!1,Ye=!0;break;case"tag":{et&&oe(se,"MULTIPLE_TAGS","A node can have at most one tag"),et=se,at===null&&(at=se.offset),Le=!1,We=!1,Ye=!0;break}case F:(Xe||et)&&oe(se,"BAD_PROP_ORDER",`Anchors and tags must be after the ${se.source} indicator`),ot&&oe(se,"UNEXPECTED_TOKEN",`Unexpected ${se.source} in ${B!=null?B:"collection"}`),ot=se,Le=F==="seq-item-ind"||F==="explicit-key-ind",We=!1;break;case"comma":if(B){it&&oe(se,"UNEXPECTED_TOKEN",`Unexpected , in ${B}`),it=se,Le=!1,We=!1;break}default:oe(se,"UNEXPECTED_TOKEN",`Unexpected ${se.type} token`),Le=!1,We=!1}let lt=b[b.length-1],ut=lt?lt.offset+lt.source.length:se;return Ye&&K&&K.type!=="space"&&K.type!=="newline"&&K.type!=="comma"&&(K.type!=="scalar"||K.source!=="")&&oe(K.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),Ke&&(Le&&Ke.indent<=Qe||(K==null?void 0:K.type)==="block-map"||(K==null?void 0:K.type)==="block-seq")&&oe(Ke,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:it,found:ot,spaceBefore:Me,comment:Ge,hasNewline:$e,anchor:Xe,tag:et,newlineAfterProp:rt,end:ut,start:at!=null?at:ut}}b.resolveProps=pA}));var Ps=w((b=>{"use strict";function $f(b){if(!b)return null;switch(b.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(b.source.includes(`\n`))return!0;if(b.end){for(let B of b.end)if(B.type==="newline")return!0}return!1;case"flow-collection":for(let B of b.items){for(let b of B.start)if(b.type==="newline")return!0;if(B.sep){for(let b of B.sep)if(b.type==="newline")return!0}if($f(B.key)||$f(B.value))return!0}return!1;default:return!0}}b.containsNewline=$f}));var Fs=w((b=>{"use strict";var B=Ps();function gA(b,F,K){if((F==null?void 0:F.type)==="flow-collection"){let se=F.end[0];se.indent===b&&(se.source==="]"||se.source==="}")&&B.containsNewline(F)&&K(se,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}b.flowIndentCheck=gA}));var Ns=w((b=>{"use strict";var B=xi();function vA(b,F,K){let{uniqueKeys:se}=b.options;if(se===!1)return!1;let oe=typeof se=="function"?se:(b,F)=>b===F||B.isScalar(b)&&B.isScalar(F)&&b.value===F.value;return F.some((b=>oe(b.key,K)))}b.mapIncludes=vA}));var Ms=w((b=>{"use strict";var B=Ki(),F=Xi(),K=Ts(),se=Ps(),oe=Fs(),Qe=Ns(),Re="All mapping items must start at the same column";function xA({composeNode:b,composeEmptyNode:Me},Le,We,Ge,ze){var $e,Ye;let Ke=($e=ze==null?void 0:ze.nodeClass)!=null?$e:F.YAMLMap,Xe=new Ke(Le.schema);Le.atRoot&&(Le.atRoot=!1);let et=We.offset,rt=null;for(let F of We.items){let{start:ze,key:$e,sep:Ke,value:it}=F,ot=K.resolveProps(ze,{indicator:"explicit-key-ind",next:$e!=null?$e:Ke==null?void 0:Ke[0],offset:et,onError:Ge,parentIndent:We.indent,startOnNewline:!0}),at=!ot.found;if(at){if($e&&($e.type==="block-seq"?Ge(et,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in $e&&$e.indent!==We.indent&&Ge(et,"BAD_INDENT",Re)),!ot.anchor&&!ot.tag&&!Ke){rt=ot.end,ot.comment&&(Xe.comment?Xe.comment+=`\n`+ot.comment:Xe.comment=ot.comment);continue}(ot.newlineAfterProp||se.containsNewline($e))&&Ge($e!=null?$e:ze[ze.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((Ye=ot.found)==null?void 0:Ye.indent)!==We.indent&&Ge(et,"BAD_INDENT",Re);Le.atKey=!0;let lt=ot.end,ut=$e?b(Le,$e,ot,Ge):Me(Le,lt,ze,null,ot,Ge);Le.schema.compat&&oe.flowIndentCheck(We.indent,$e,Ge),Le.atKey=!1,Qe.mapIncludes(Le,Xe.items,ut)&&Ge(lt,"DUPLICATE_KEY","Map keys must be unique");let dt=K.resolveProps(Ke!=null?Ke:[],{indicator:"map-value-ind",next:it,offset:ut.range[2],onError:Ge,parentIndent:We.indent,startOnNewline:!$e||$e.type==="block-scalar"});if(et=dt.end,dt.found){at&&((it==null?void 0:it.type)==="block-map"&&!dt.hasNewline&&Ge(et,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),Le.options.strict&&ot.start<dt.found.offset-1024&&Ge(ut.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let K=it?b(Le,it,dt,Ge):Me(Le,et,Ke,null,dt,Ge);Le.schema.compat&&oe.flowIndentCheck(We.indent,it,Ge),et=K.range[2];let se=new B.Pair(ut,K);Le.options.keepSourceTokens&&(se.srcToken=F),Xe.items.push(se)}else{at&&Ge(ut.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),dt.comment&&(ut.comment?ut.comment+=`\n`+dt.comment:ut.comment=dt.comment);let b=new B.Pair(ut);Le.options.keepSourceTokens&&(b.srcToken=F),Xe.items.push(b)}}return rt&&rt<et&&Ge(rt,"IMPOSSIBLE","Map comment with trailing content"),Xe.range=[We.offset,et,rt!=null?rt:et],Xe}b.resolveBlockMap=xA}));var Ls=w((b=>{"use strict";var B=ns(),F=Ts(),K=Fs();function kA({composeNode:b,composeEmptyNode:se},oe,Qe,Re,Me){var Le;let We=(Le=Me==null?void 0:Me.nodeClass)!=null?Le:B.YAMLSeq,Ge=new We(oe.schema);oe.atRoot&&(oe.atRoot=!1),oe.atKey&&(oe.atKey=!1);let ze=Qe.offset,$e=null;for(let{start:B,value:Me}of Qe.items){let Le=F.resolveProps(B,{indicator:"seq-item-ind",next:Me,offset:ze,onError:Re,parentIndent:Qe.indent,startOnNewline:!0});if(!Le.found)if(Le.anchor||Le.tag||Me)Me&&Me.type==="block-seq"?Re(Le.end,"BAD_INDENT","All sequence items must start at the same column"):Re(ze,"MISSING_CHAR","Sequence item without - indicator");else{$e=Le.end,Le.comment&&(Ge.comment=Le.comment);continue}let We=Me?b(oe,Me,Le,Re):se(oe,Le.end,B,null,Le,Re);oe.schema.compat&&K.flowIndentCheck(Qe.indent,Me,Re),ze=We.range[2],Ge.items.push(We)}return Ge.range=[Qe.offset,ze,$e!=null?$e:ze],Ge}b.resolveBlockSeq=kA}));var js=w((b=>{"use strict";function OA(b,B,F,K){let se="";if(b){let oe=!1,Qe="";for(let Re of b){let{source:b,type:Me}=Re;switch(Me){case"space":oe=!0;break;case"comment":{F&&!oe&&K(Re,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let B=b.substring(1)||" ";se?se+=Qe+B:se=B,Qe="";break}case"newline":se&&(Qe+=b),oe=!0;break;default:K(Re,"UNEXPECTED_TOKEN",`Unexpected ${Me} at node end`)}B+=b.length}}return{comment:se,offset:B}}b.resolveEnd=OA}));var Hs=w((b=>{"use strict";var B=xi(),F=Ki(),K=Xi(),se=ns(),oe=js(),Qe=Ts(),Re=Ps(),Me=Ns(),Le="Block collections are not allowed within flow collections",Wf=b=>b&&(b.type==="block-map"||b.type==="block-seq");function BA({composeNode:b,composeEmptyNode:We},Ge,ze,$e,Ye){var Ke,Xe;let et=ze.start.source==="{",rt=et?"flow map":"flow sequence",it=(Ke=Ye==null?void 0:Ye.nodeClass)!=null?Ke:et?K.YAMLMap:se.YAMLSeq,ot=new it(Ge.schema);ot.flow=!0;let at=Ge.atRoot;at&&(Ge.atRoot=!1),Ge.atKey&&(Ge.atKey=!1);let lt=ze.offset+ze.start.source.length;for(let se=0;se<ze.items.length;++se){let oe=ze.items[se],{start:Ye,key:Ke,sep:it,value:at}=oe,ut=Qe.resolveProps(Ye,{flow:rt,indicator:"explicit-key-ind",next:Ke!=null?Ke:it==null?void 0:it[0],offset:lt,onError:$e,parentIndent:ze.indent,startOnNewline:!1});if(!ut.found){if(!ut.anchor&&!ut.tag&&!it&&!at){se===0&&ut.comma?$e(ut.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${rt}`):se<ze.items.length-1&&$e(ut.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${rt}`),ut.comment&&(ot.comment?ot.comment+=`\n`+ut.comment:ot.comment=ut.comment),lt=ut.end;continue}!et&&Ge.options.strict&&Re.containsNewline(Ke)&&$e(Ke,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(se===0)ut.comma&&$e(ut.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${rt}`);else if(ut.comma||$e(ut.start,"MISSING_CHAR",`Missing , between ${rt} items`),ut.comment){let b="";e:for(let B of Ye)switch(B.type){case"comma":case"space":break;case"comment":b=B.source.substring(1);break e;default:break e}if(b){let F=ot.items[ot.items.length-1];B.isPair(F)&&(F=(Xe=F.value)!=null?Xe:F.key),F.comment?F.comment+=`\n`+b:F.comment=b,ut.comment=ut.comment.substring(b.length+1)}}if(!et&&!it&&!ut.found){let B=at?b(Ge,at,ut,$e):We(Ge,ut.end,it,null,ut,$e);ot.items.push(B),lt=B.range[2],Wf(at)&&$e(B.range,"BLOCK_IN_FLOW",Le)}else{Ge.atKey=!0;let B=ut.end,se=Ke?b(Ge,Ke,ut,$e):We(Ge,B,Ye,null,ut,$e);Wf(Ke)&&$e(se.range,"BLOCK_IN_FLOW",Le),Ge.atKey=!1;let Re=Qe.resolveProps(it!=null?it:[],{flow:rt,indicator:"map-value-ind",next:at,offset:se.range[2],onError:$e,parentIndent:ze.indent,startOnNewline:!1});if(Re.found){if(!et&&!ut.found&&Ge.options.strict){if(it)for(let b of it){if(b===Re.found)break;if(b.type==="newline"){$e(b,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}ut.start<Re.found.offset-1024&&$e(Re.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else at&&("source"in at&&at.source&&at.source[0]===":"?$e(at,"MISSING_CHAR",`Missing space after : in ${rt}`):$e(Re.start,"MISSING_CHAR",`Missing , or : between ${rt} items`));let Xe=at?b(Ge,at,Re,$e):Re.found?We(Ge,Re.end,it,null,Re,$e):null;Xe?Wf(at)&&$e(Xe.range,"BLOCK_IN_FLOW",Le):Re.comment&&(se.comment?se.comment+=`\n`+Re.comment:se.comment=Re.comment);let dt=new F.Pair(se,Xe);if(Ge.options.keepSourceTokens&&(dt.srcToken=oe),et){let b=ot;Me.mapIncludes(Ge,b.items,se)&&$e(B,"DUPLICATE_KEY","Map keys must be unique"),b.items.push(dt)}else{let b=new K.YAMLMap(Ge.schema);b.flow=!0,b.items.push(dt);let B=(Xe!=null?Xe:se).range;b.range=[se.range[0],B[1],B[2]],ot.items.push(b)}lt=Xe?Xe.range[2]:Re.end}}let ut=et?"}":"]",[dt,...ht]=ze.end,pt=lt;if(dt&&dt.source===ut)pt=dt.offset+dt.source.length;else{let b=rt[0].toUpperCase()+rt.substring(1),B=at?`${b} must end with a ${ut}`:`${b} in block collection must be sufficiently indented and end with a ${ut}`;$e(lt,at?"MISSING_CHAR":"BAD_INDENT",B),dt&&dt.source.length!==1&&ht.unshift(dt)}if(ht.length>0){let b=oe.resolveEnd(ht,pt,Ge.options.strict,$e);b.comment&&(ot.comment?ot.comment+=`\n`+b.comment:ot.comment=b.comment),ot.range=[ze.offset,pt,b.offset]}else ot.range=[ze.offset,pt,pt];return ot}b.resolveFlowCollection=BA}));var Us=w((b=>{"use strict";var B=xi(),F=Li(),K=Xi(),se=ns(),oe=Ms(),Qe=Ls(),Re=Hs();function zf(b,B,F,K,se,Me){let Le=F.type==="block-map"?oe.resolveBlockMap(b,B,F,K,Me):F.type==="block-seq"?Qe.resolveBlockSeq(b,B,F,K,Me):Re.resolveFlowCollection(b,B,F,K,Me),We=Le.constructor;return se==="!"||se===We.tagName?(Le.tag=We.tagName,Le):(se&&(Le.tag=se),Le)}function UA(b,oe,Qe,Re,Me){var Le,We;let Ge=Re.tag,ze=Ge?oe.directives.tagName(Ge.source,(b=>Me(Ge,"TAG_RESOLVE_FAILED",b))):null;if(Qe.type==="block-seq"){let{anchor:b,newlineAfterProp:B}=Re,F=b&&Ge?b.offset>Ge.offset?b:Ge:b!=null?b:Ge;F&&(!B||B.offset<F.offset)&&Me(F,"MISSING_CHAR","Missing newline after block sequence props")}let $e=Qe.type==="block-map"?"map":Qe.type==="block-seq"?"seq":Qe.start.source==="{"?"map":"seq";if(!Ge||!ze||ze==="!"||ze===K.YAMLMap.tagName&&$e==="map"||ze===se.YAMLSeq.tagName&&$e==="seq")return zf(b,oe,Qe,Me,ze);let Ye=oe.schema.tags.find((b=>b.tag===ze&&b.collection===$e));if(!Ye){let B=oe.schema.knownTags[ze];if(B&&B.collection===$e)oe.schema.tags.push(Object.assign({},B,{default:!1})),Ye=B;else return B!=null&&B.collection?Me(Ge,"BAD_COLLECTION_TYPE",`${B.tag} used for ${$e} collection, but expects ${B.collection}`,!0):Me(Ge,"TAG_RESOLVE_FAILED",`Unresolved tag: ${ze}`,!0),zf(b,oe,Qe,Me,ze)}let Ke=zf(b,oe,Qe,Me,ze,Ye),Xe=(We=(Le=Ye.resolve)==null?void 0:Le.call(Ye,Ke,(b=>Me(Ge,"TAG_RESOLVE_FAILED",b)),oe.options))!=null?We:Ke,et=B.isNode(Xe)?Xe:new F.Scalar(Xe);return et.range=Ke.range,et.tag=ze,Ye!=null&&Ye.format&&(et.format=Ye.format),et}b.composeCollection=UA}));var qs=w((b=>{"use strict";var B=Li();function $A(b,F,K){let se=F.offset,oe=VA(F,b.options.strict,K);if(!oe)return{value:"",type:null,comment:"",range:[se,se,se]};let Qe=oe.mode===">"?B.Scalar.BLOCK_FOLDED:B.Scalar.BLOCK_LITERAL,Re=F.source?HA(F.source):[],Me=Re.length;for(let b=Re.length-1;b>=0;--b){let B=Re[b][1];if(B===""||B==="\r")Me=b;else break}if(Me===0){let b=oe.chomp==="+"&&Re.length>0?`\n`.repeat(Math.max(1,Re.length-1)):"",B=se+oe.length;return F.source&&(B+=F.source.length),{value:b,type:Qe,comment:oe.comment,range:[se,B,B]}}let Le=F.indent+oe.indent,We=F.offset+oe.length,Ge=0;for(let B=0;B<Me;++B){let[F,se]=Re[B];if(se===""||se==="\r")oe.indent===0&&F.length>Le&&(Le=F.length);else{F.length<Le&&K(We+F.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),oe.indent===0&&(Le=F.length),Ge=B,Le===0&&!b.atRoot&&K(We,"BAD_INDENT","Block scalar values in collections must be indented");break}We+=F.length+se.length+1}for(let b=Re.length-1;b>=Me;--b)Re[b][0].length>Le&&(Me=b+1);let ze="",$e="",Ye=!1;for(let b=0;b<Ge;++b)ze+=Re[b][0].slice(Le)+`\n`;for(let b=Ge;b<Me;++b){let[F,se]=Re[b];We+=F.length+se.length+1;let Me=se[se.length-1]==="\r";if(Me&&(se=se.slice(0,-1)),se&&F.length<Le){let b=`Block scalar lines must not be less indented than their ${oe.indent?"explicit indentation indicator":"first line"}`;K(We-se.length-(Me?2:1),"BAD_INDENT",b),F=""}Qe===B.Scalar.BLOCK_LITERAL?(ze+=$e+F.slice(Le)+se,$e=`\n`):F.length>Le||se[0]==="\t"?($e===" "?$e=`\n`:!Ye&&$e===`\n`&&($e=`\n\n`),ze+=$e+F.slice(Le)+se,$e=`\n`,Ye=!0):se===""?$e===`\n`?ze+=`\n`:$e=`\n`:(ze+=$e+se,$e=" ",Ye=!1)}switch(oe.chomp){case"-":break;case"+":for(let b=Me;b<Re.length;++b)ze+=`\n`+Re[b][0].slice(Le);ze[ze.length-1]!==`\n`&&(ze+=`\n`);break;default:ze+=`\n`}let Ke=se+oe.length+F.source.length;return{value:ze,type:Qe,comment:oe.comment,range:[se,Ke,Ke]}}function VA({offset:b,props:B},F,K){if(B[0].type!=="block-scalar-header")return K(B[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:se}=B[0],oe=se[0],Qe=0,Re="",Me=-1;for(let B=1;B<se.length;++B){let F=se[B];if(!Re&&(F==="-"||F==="+"))Re=F;else{let K=Number(F);!Qe&&K?Qe=K:Me===-1&&(Me=b+B)}}Me!==-1&&K(Me,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${se}`);let Le=!1,We="",Ge=se.length;for(let b=1;b<B.length;++b){let se=B[b];switch(se.type){case"space":Le=!0;case"newline":Ge+=se.source.length;break;case"comment":F&&!Le&&K(se,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),Ge+=se.source.length,We=se.source.substring(1);break;case"error":K(se,"UNEXPECTED_TOKEN",se.message),Ge+=se.source.length;break;default:{let b=`Unexpected token in block scalar header: ${se.type}`;K(se,"UNEXPECTED_TOKEN",b);let B=se.source;B&&typeof B=="string"&&(Ge+=B.length)}}}return{mode:oe,indent:Qe,chomp:Re,comment:We,length:Ge}}function HA(b){let B=b.split(/\n( *)/),F=B[0],K=F.match(/^( *)/),se=[K!=null&&K[1]?[K[1],F.slice(K[1].length)]:["",F]];for(let b=1;b<B.length;b+=2)se.push([B[b],B[b+1]]);return se}b.resolveBlockScalar=$A}));var Ws=w((b=>{"use strict";var B=Li(),F=js();function WA(b,K,se){let{offset:oe,type:Qe,source:Re,end:Me}=b,Le,We,c=(b,B,F)=>se(oe+b,B,F);switch(Qe){case"scalar":Le=B.Scalar.PLAIN,We=zA(Re,c);break;case"single-quoted-scalar":Le=B.Scalar.QUOTE_SINGLE,We=YA(Re,c);break;case"double-quoted-scalar":Le=B.Scalar.QUOTE_DOUBLE,We=KA(Re,c);break;default:return se(b,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${Qe}`),{value:"",type:null,comment:"",range:[oe,oe+Re.length,oe+Re.length]}}let Ge=oe+Re.length,ze=F.resolveEnd(Me,Ge,K,se);return{value:We,type:Le,comment:ze.comment,range:[oe,Ge,ze.offset]}}function zA(b,B){let F="";switch(b[0]){case"\t":F="a tab character";break;case",":F="flow indicator character ,";break;case"%":F="directive indicator character %";break;case"|":case">":{F=`block scalar indicator ${b[0]}`;break}case"@":case"`":{F=`reserved character ${b[0]}`;break}}return F&&B(0,"BAD_SCALAR_START",`Plain value cannot start with ${F}`),n_(b)}function YA(b,B){return(b[b.length-1]!=="'"||b.length===1)&&B(b.length,"MISSING_CHAR","Missing closing 'quote"),n_(b.slice(1,-1)).replace(/''/g,"'")}function n_(b){var B;let F,K;try{F=new RegExp(`(.*?)(?<![ \t])[ \t]*\r?\n`,"sy"),K=new RegExp(`[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n`,"sy")}catch{F=/(.*?)[ \t]*\r?\n/sy,K=/[ \t]*(.*?)[ \t]*\r?\n/sy}let se=F.exec(b);if(!se)return b;let oe=se[1],Qe=" ",Re=F.lastIndex;for(K.lastIndex=Re;se=K.exec(b);)se[1]===""?Qe===`\n`?oe+=Qe:Qe=`\n`:(oe+=Qe+se[1],Qe=" "),Re=K.lastIndex;let Me=/[ \t]*(.*)/sy;return Me.lastIndex=Re,se=Me.exec(b),oe+Qe+((B=se==null?void 0:se[1])!=null?B:"")}function KA(b,B){let F="";for(let se=1;se<b.length-1;++se){let oe=b[se];if(!(oe==="\r"&&b[se+1]===`\n`))if(oe===`\n`){let{fold:B,offset:K}=ZA(b,se);F+=B,se=K}else if(oe==="\\"){let oe=b[++se],Qe=K[oe];if(Qe)F+=Qe;else if(oe===`\n`)for(oe=b[se+1];oe===" "||oe==="\t";)oe=b[++se+1];else if(oe==="\r"&&b[se+1]===`\n`)for(oe=b[++se+1];oe===" "||oe==="\t";)oe=b[++se+1];else if(oe==="x"||oe==="u"||oe==="U"){let K={x:2,u:4,U:8}[oe];F+=QA(b,se+1,K,B),se+=K}else{let K=b.substr(se-1,2);B(se-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${K}`),F+=K}}else if(oe===" "||oe==="\t"){let B=se,K=b[se+1];for(;K===" "||K==="\t";)K=b[++se+1];K!==`\n`&&!(K==="\r"&&b[se+2]===`\n`)&&(F+=se>B?b.slice(B,se+1):oe)}else F+=oe}return(b[b.length-1]!=='"'||b.length===1)&&B(b.length,"MISSING_CHAR",'Missing closing "quote'),F}function ZA(b,B){let F="",K=b[B+1];for(;(K===" "||K==="\t"||K===`\n`||K==="\r")&&!(K==="\r"&&b[B+2]!==`\n`);)K===`\n`&&(F+=`\n`),B+=1,K=b[B+1];return F||(F=" "),{fold:F,offset:B}}var K={0:"\0",a:"",b:"\b",e:"",f:"\f",n:`\n`,r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function QA(b,B,F,K){let se=b.substr(B,F),oe=se.length===F&&/^[0-9a-fA-F]+$/.test(se)?parseInt(se,16):NaN;if(isNaN(oe)){let se=b.substr(B-2,F+2);return K(B-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${se}`),se}return String.fromCodePoint(oe)}b.resolveFlowScalar=WA}));var Vs=w((b=>{"use strict";var B=xi(),F=Li(),K=qs(),se=Ws();function tI(b,oe,Qe,Re){let{value:Me,type:Le,comment:We,range:Ge}=oe.type==="block-scalar"?K.resolveBlockScalar(b,oe,Re):se.resolveFlowScalar(oe,b.options.strict,Re),ze=Qe?b.directives.tagName(Qe.source,(b=>Re(Qe,"TAG_RESOLVE_FAILED",b))):null,$e;b.options.stringKeys&&b.atKey?$e=b.schema[B.SCALAR]:ze?$e=rI(b.schema,Me,ze,Qe,Re):oe.type==="scalar"?$e=iI(b,Me,oe,Re):$e=b.schema[B.SCALAR];let Ye;try{let K=$e.resolve(Me,(b=>Re(Qe!=null?Qe:oe,"TAG_RESOLVE_FAILED",b)),b.options);Ye=B.isScalar(K)?K:new F.Scalar(K)}catch(b){let B=b instanceof Error?b.message:String(b);Re(Qe!=null?Qe:oe,"TAG_RESOLVE_FAILED",B),Ye=new F.Scalar(Me)}return Ye.range=Ge,Ye.source=Me,Le&&(Ye.type=Le),ze&&(Ye.tag=ze),$e.format&&(Ye.format=$e.format),We&&(Ye.comment=We),Ye}function rI(b,F,K,se,oe){var Qe;if(K==="!")return b[B.SCALAR];let Re=[];for(let B of b.tags)if(!B.collection&&B.tag===K)if(B.default&&B.test)Re.push(B);else return B;for(let b of Re)if((Qe=b.test)!=null&&Qe.test(F))return b;let Me=b.knownTags[K];return Me&&!Me.collection?(b.tags.push(Object.assign({},Me,{default:!1,test:void 0})),Me):(oe(se,"TAG_RESOLVE_FAILED",`Unresolved tag: ${K}`,K!=="tag:yaml.org,2002:str"),b[B.SCALAR])}function iI({atKey:b,directives:F,schema:K},se,oe,Qe){var Re;let Me=K.tags.find((B=>{var F;return(B.default===!0||b&&B.default==="key")&&((F=B.test)==null?void 0:F.test(se))}))||K[B.SCALAR];if(K.compat){let b=(Re=K.compat.find((b=>{var B;return b.default&&((B=b.test)==null?void 0:B.test(se))})))!=null?Re:K[B.SCALAR];if(Me.tag!==b.tag){let B=F.tagString(Me.tag),K=F.tagString(b.tag),se=`Value may be parsed as either ${B} or ${K}`;Qe(oe,"TAG_RESOLVE_FAILED",se,!0)}}return Me}b.composeScalar=tI}));var Gs=w((b=>{"use strict";function nI(b,B,F){if(B){F===null&&(F=B.length);for(let K=F-1;K>=0;--K){let F=B[K];switch(F.type){case"space":case"comment":case"newline":b-=F.source.length;continue}for(F=B[++K];(F==null?void 0:F.type)==="space";)b+=F.source.length,F=B[++K];break}}return b}b.emptyScalarPosition=nI}));var $s=w((b=>{"use strict";var B=Mi(),F=xi(),K=Us(),se=Vs(),oe=js(),Qe=Gs(),Re={composeNode:h_,composeEmptyNode:Qf};function h_(b,B,oe,Qe){let Me=b.atKey,{spaceBefore:Le,comment:We,anchor:Ge,tag:ze}=oe,$e,Ye=!0;switch(B.type){case"alias":$e=fI(b,B,Qe),(Ge||ze)&&Qe(B,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":$e=se.composeScalar(b,B,ze,Qe),Ge&&($e.anchor=Ge.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":$e=K.composeCollection(Re,b,B,oe,Qe),Ge&&($e.anchor=Ge.source.substring(1));break;default:{let F=B.type==="error"?B.message:`Unsupported token (type: ${B.type})`;Qe(B,"UNEXPECTED_TOKEN",F),$e=Qf(b,B.offset,void 0,null,oe,Qe),Ye=!1}}return Ge&&$e.anchor===""&&Qe(Ge,"BAD_ALIAS","Anchor cannot be an empty string"),Me&&b.options.stringKeys&&(!F.isScalar($e)||typeof $e.value!="string"||$e.tag&&$e.tag!=="tag:yaml.org,2002:str")&&Qe(ze!=null?ze:B,"NON_STRING_KEY","With stringKeys, all keys must be strings"),Le&&($e.spaceBefore=!0),We&&(B.type==="scalar"&&B.source===""?$e.comment=We:$e.commentBefore=We),b.options.keepSourceTokens&&Ye&&($e.srcToken=B),$e}function Qf(b,B,F,K,{spaceBefore:oe,comment:Re,anchor:Me,tag:Le,end:We},Ge){let ze={type:"scalar",offset:Qe.emptyScalarPosition(B,F,K),indent:-1,source:""},$e=se.composeScalar(b,ze,Le,Ge);return Me&&($e.anchor=Me.source.substring(1),$e.anchor===""&&Ge(Me,"BAD_ALIAS","Anchor cannot be an empty string")),oe&&($e.spaceBefore=!0),Re&&($e.comment=Re,$e.range[2]=We),$e}function fI({options:b},{offset:F,source:K,end:se},Qe){let Re=new B.Alias(K.substring(1));Re.source===""&&Qe(F,"BAD_ALIAS","Alias cannot be an empty string"),Re.source.endsWith(":")&&Qe(F+K.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let Me=F+K.length,Le=oe.resolveEnd(se,Me,b.strict,Qe);return Re.range=[F,Me,Le.offset],Le.comment&&(Re.comment=Le.comment),Re}b.composeEmptyNode=Qf;b.composeNode=h_}));var Ys=w((b=>{"use strict";var B=Qs(),F=$s(),K=js(),se=Ts();function mI(b,oe,{offset:Qe,start:Re,value:Me,end:Le},We){let Ge=Object.assign({_directives:oe},b),ze=new B.Document(void 0,Ge),$e={atKey:!1,atRoot:!0,directives:ze.directives,options:ze.options,schema:ze.schema},Ye=se.resolveProps(Re,{indicator:"doc-start",next:Me!=null?Me:Le==null?void 0:Le[0],offset:Qe,onError:We,parentIndent:0,startOnNewline:!0});Ye.found&&(ze.directives.docStart=!0,Me&&(Me.type==="block-map"||Me.type==="block-seq")&&!Ye.hasNewline&&We(Ye.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),ze.contents=Me?F.composeNode($e,Me,Ye,We):F.composeEmptyNode($e,Ye.end,Re,null,Ye,We);let Ke=ze.contents.range[2],Xe=K.resolveEnd(Le,Ke,!1,We);return Xe.comment&&(ze.comment=Xe.comment),ze.range=[Qe,Ke,Xe.offset],ze}b.composeDoc=mI}));var Ks=w((b=>{"use strict";var B=Qi(),F=Qs(),K=Os(),se=xi(),oe=Ys(),Qe=js();function zs(b){if(typeof b=="number")return[b,b+1];if(Array.isArray(b))return b.length===2?b:[b[0],b[1]];let{offset:B,source:F}=b;return[B,B+(typeof F=="string"?F.length:1)]}function y_(b){var B;let F="",K=!1,se=!1;for(let oe=0;oe<b.length;++oe){let Qe=b[oe];switch(Qe[0]){case"#":F+=(F===""?"":se?`\n\n`:`\n`)+(Qe.substring(1)||" "),K=!0,se=!1;break;case"%":((B=b[oe+1])==null?void 0:B[0])!=="#"&&(oe+=1),K=!1;break;default:K||(se=!0),K=!1}}return{comment:F,afterEmptyLine:se}}var Re=class{constructor(b={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(b,B,F,se)=>{let oe=zs(b);se?this.warnings.push(new K.YAMLWarning(oe,B,F)):this.errors.push(new K.YAMLParseError(oe,B,F))},this.directives=new B.Directives({version:b.version||"1.2"}),this.options=b}decorate(b,B){let{comment:F,afterEmptyLine:K}=y_(this.prelude);if(F){let oe=b.contents;if(B)b.comment=b.comment?`${b.comment}\n${F}`:F;else if(K||b.directives.docStart||!oe)b.commentBefore=F;else if(se.isCollection(oe)&&!oe.flow&&oe.items.length>0){let b=oe.items[0];se.isPair(b)&&(b=b.key);let B=b.commentBefore;b.commentBefore=B?`${F}\n${B}`:F}else{let b=oe.commentBefore;oe.commentBefore=b?`${F}\n${b}`:F}}B?(Array.prototype.push.apply(b.errors,this.errors),Array.prototype.push.apply(b.warnings,this.warnings)):(b.errors=this.errors,b.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:y_(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(b,B=!1,F=-1){for(let B of b)yield*this.next(B);yield*this.end(B,F)}*next(b){switch(process.env.LOG_STREAM&&console.dir(b,{depth:null}),b.type){case"directive":this.directives.add(b.source,((B,F,K)=>{let se=zs(b);se[0]+=B,this.onError(se,"BAD_DIRECTIVE",F,K)})),this.prelude.push(b.source),this.atDirectives=!0;break;case"document":{let B=oe.composeDoc(this.options,this.directives,b,this.onError);this.atDirectives&&!B.directives.docStart&&this.onError(b,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(B,!1),this.doc&&(yield this.doc),this.doc=B,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(b.source);break;case"error":{let B=b.source?`${b.message}: ${JSON.stringify(b.source)}`:b.message,F=new K.YAMLParseError(zs(b),"UNEXPECTED_TOKEN",B);this.atDirectives||!this.doc?this.errors.push(F):this.doc.errors.push(F);break}case"doc-end":{if(!this.doc){let B="Unexpected doc-end without preceding document";this.errors.push(new K.YAMLParseError(zs(b),"UNEXPECTED_TOKEN",B));break}this.doc.directives.docEnd=!0;let B=Qe.resolveEnd(b.end,b.offset+b.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),B.comment){let b=this.doc.comment;this.doc.comment=b?`${b}\n${B.comment}`:B.comment}this.doc.range[2]=B.offset;break}default:this.errors.push(new K.YAMLParseError(zs(b),"UNEXPECTED_TOKEN",`Unsupported token ${b.type}`))}}*end(b=!1,B=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(b){let b=Object.assign({_directives:this.directives},this.options),K=new F.Document(void 0,b);this.atDirectives&&this.onError(B,"MISSING_CHAR","Missing directives-end indicator line"),K.range=[0,B,B],this.decorate(K,!1),yield K}}};b.Composer=Re}));var Zs=w((b=>{"use strict";var B=qs(),F=Ws(),K=Os(),se=Vi();function SI(b,se=!0,oe){if(b){let i=(b,B,F)=>{let se=typeof b=="number"?b:Array.isArray(b)?b[0]:b.offset;if(oe)oe(se,B,F);else throw new K.YAMLParseError([se,se+1],B,F)};switch(b.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return F.resolveFlowScalar(b,se,i);case"block-scalar":return B.resolveBlockScalar({options:{strict:se}},b,i)}}return null}function EI(b,B){var F;let{implicitKey:K=!1,indent:oe,inFlow:Qe=!1,offset:Re=-1,type:Me="PLAIN"}=B,Le=se.stringifyString({type:Me,value:b},{implicitKey:K,indent:oe>0?" ".repeat(oe):"",inFlow:Qe,options:{blockQuote:!0,lineWidth:-1}}),We=(F=B.end)!=null?F:[{type:"newline",offset:-1,indent:oe,source:`\n`}];switch(Le[0]){case"|":case">":{let b=Le.indexOf(`\n`),B=Le.substring(0,b),F=Le.substring(b+1)+`\n`,K=[{type:"block-scalar-header",offset:Re,indent:oe,source:B}];return x_(K,We)||K.push({type:"newline",offset:-1,indent:oe,source:`\n`}),{type:"block-scalar",offset:Re,indent:oe,props:K,source:F}}case'"':return{type:"double-quoted-scalar",offset:Re,indent:oe,source:Le,end:We};case"'":return{type:"single-quoted-scalar",offset:Re,indent:oe,source:Le,end:We};default:return{type:"scalar",offset:Re,indent:oe,source:Le,end:We}}}function kI(b,B,F={}){let{afterKey:K=!1,implicitKey:oe=!1,inFlow:Qe=!1,type:Re}=F,Me="indent"in b?b.indent:null;if(K&&typeof Me=="number"&&(Me+=2),!Re)switch(b.type){case"single-quoted-scalar":Re="QUOTE_SINGLE";break;case"double-quoted-scalar":Re="QUOTE_DOUBLE";break;case"block-scalar":{let B=b.props[0];if(B.type!=="block-scalar-header")throw new Error("Invalid block scalar header");Re=B.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:Re="PLAIN"}let Le=se.stringifyString({type:Re,value:B},{implicitKey:oe||Me===null,indent:Me!==null&&Me>0?" ".repeat(Me):"",inFlow:Qe,options:{blockQuote:!0,lineWidth:-1}});switch(Le[0]){case"|":case">":OI(b,Le);break;case'"':rh(b,Le,"double-quoted-scalar");break;case"'":rh(b,Le,"single-quoted-scalar");break;default:rh(b,Le,"scalar")}}function OI(b,B){let F=B.indexOf(`\n`),K=B.substring(0,F),se=B.substring(F+1)+`\n`;if(b.type==="block-scalar"){let B=b.props[0];if(B.type!=="block-scalar-header")throw new Error("Invalid block scalar header");B.source=K,b.source=se}else{let{offset:B}=b,F="indent"in b?b.indent:-1,oe=[{type:"block-scalar-header",offset:B,indent:F,source:K}];x_(oe,"end"in b?b.end:void 0)||oe.push({type:"newline",offset:-1,indent:F,source:`\n`});for(let B of Object.keys(b))B!=="type"&&B!=="offset"&&delete b[B];Object.assign(b,{type:"block-scalar",indent:F,props:oe,source:se})}}function x_(b,B){if(B)for(let F of B)switch(F.type){case"space":case"comment":b.push(F);break;case"newline":return b.push(F),!0}return!1}function rh(b,B,F){switch(b.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":b.type=F,b.source=B;break;case"block-scalar":{let K=b.props.slice(1),se=B.length;b.props[0].type==="block-scalar-header"&&(se-=b.props[0].source.length);for(let b of K)b.offset+=se;delete b.props,Object.assign(b,{type:F,source:B,end:K});break}case"block-map":case"block-seq":{let K={type:"newline",offset:b.offset+B.length,indent:b.indent,source:`\n`};delete b.items,Object.assign(b,{type:F,source:B,end:[K]});break}default:{let K="indent"in b?b.indent:-1,se="end"in b&&Array.isArray(b.end)?b.end.filter((b=>b.type==="space"||b.type==="comment"||b.type==="newline")):[];for(let B of Object.keys(b))B!=="type"&&B!=="offset"&&delete b[B];Object.assign(b,{type:F,indent:K,source:B,end:se})}}}b.createScalarToken=EI;b.resolveAsScalar=SI;b.setScalarValue=kI}));var Xs=w((b=>{"use strict";var CI=b=>"type"in b?ol(b):al(b);function ol(b){switch(b.type){case"block-scalar":{let B="";for(let F of b.props)B+=ol(F);return B+b.source}case"block-map":case"block-seq":{let B="";for(let F of b.items)B+=al(F);return B}case"flow-collection":{let B=b.start.source;for(let F of b.items)B+=al(F);for(let F of b.end)B+=F.source;return B}case"document":{let B=al(b);if(b.end)for(let F of b.end)B+=F.source;return B}default:{let B=b.source;if("end"in b&&b.end)for(let F of b.end)B+=F.source;return B}}}function al({start:b,key:B,sep:F,value:K}){let se="";for(let B of b)se+=B.source;if(B&&(se+=ol(B)),F)for(let b of F)se+=b.source;return K&&(se+=ol(K)),se}b.stringify=CI}));var eo=w((b=>{"use strict";var B=Symbol("break visit"),F=Symbol("skip children"),K=Symbol("remove item");function Di(b,B){"type"in b&&b.type==="document"&&(b={start:b.start,value:b.value}),O_(Object.freeze([]),b,B)}Di.BREAK=B;Di.SKIP=F;Di.REMOVE=K;Di.itemAtPath=(b,B)=>{let F=b;for(let[b,K]of B){let B=F==null?void 0:F[b];if(B&&"items"in B)F=B.items[K];else return}return F};Di.parentCollection=(b,B)=>{let F=Di.itemAtPath(b,B.slice(0,-1)),K=B[B.length-1][0],se=F==null?void 0:F[K];if(se&&"items"in se)return se;throw new Error("Parent collection not found")};function O_(b,F,se){let oe=se(F,b);if(typeof oe=="symbol")return oe;for(let Qe of["key","value"]){let Re=F[Qe];if(Re&&"items"in Re){for(let F=0;F<Re.items.length;++F){let oe=O_(Object.freeze(b.concat([[Qe,F]])),Re.items[F],se);if(typeof oe=="number")F=oe-1;else{if(oe===B)return B;oe===K&&(Re.items.splice(F,1),F-=1)}}typeof oe=="function"&&Qe==="key"&&(oe=oe(F,b))}}return typeof oe=="function"?oe(F,b):oe}b.visit=Di}));var to=w((b=>{"use strict";var B=Zs(),F=Xs(),K=eo(),se="\ufeff",oe="",Qe="",Re="",NI=b=>!!b&&"items"in b,LI=b=>!!b&&(b.type==="scalar"||b.type==="single-quoted-scalar"||b.type==="double-quoted-scalar"||b.type==="block-scalar");function BI(b){switch(b){case se:return"<BOM>";case oe:return"<DOC>";case Qe:return"<FLOW_END>";case Re:return"<SCALAR>";default:return JSON.stringify(b)}}function RI(b){switch(b){case se:return"byte-order-mark";case oe:return"doc-mode";case Qe:return"flow-error-end";case Re:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`\n`:case`\r\n`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(b[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}b.createScalarToken=B.createScalarToken;b.resolveAsScalar=B.resolveAsScalar;b.setScalarValue=B.setScalarValue;b.stringify=F.stringify;b.visit=K.visit;b.BOM=se;b.DOCUMENT=oe;b.FLOW_END=Qe;b.SCALAR=Re;b.isCollection=NI;b.isScalar=LI;b.prettyToken=BI;b.tokenType=RI}));var ro=w((b=>{"use strict";var B=to();function lr(b){switch(b){case void 0:case" ":case`\n`:case"\r":case"\t":return!0;default:return!1}}var F=new Set("0123456789ABCDEFabcdef"),K=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),se=new Set(",[]{}"),oe=new Set(` ,[]{}\n\r\t`),ch=b=>!b||oe.has(b),Qe=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(b,B=!1){var F;if(b){if(typeof b!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+b:b,this.lineEndPos=null}this.atEnd=!B;let K=(F=this.next)!=null?F:"stream";for(;K&&(B||this.hasChars(1));)K=yield*this.parseNext(K)}atLineEnd(){let b=this.pos,B=this.buffer[b];for(;B===" "||B==="\t";)B=this.buffer[++b];return!B||B==="#"||B===`\n`?!0:B==="\r"?this.buffer[b+1]===`\n`:!1}charAt(b){return this.buffer[this.pos+b]}continueScalar(b){let B=this.buffer[b];if(this.indentNext>0){let F=0;for(;B===" ";)B=this.buffer[++F+b];if(B==="\r"){let B=this.buffer[F+b+1];if(B===`\n`||!B&&!this.atEnd)return b+F+1}return B===`\n`||F>=this.indentNext||!B&&!this.atEnd?b+F:-1}if(B==="-"||B==="."){let B=this.buffer.substr(b,3);if((B==="---"||B==="...")&&lr(this.buffer[b+3]))return-1}return b}getLine(){let b=this.lineEndPos;return(typeof b!="number"||b!==-1&&b<this.pos)&&(b=this.buffer.indexOf(`\n`,this.pos),this.lineEndPos=b),b===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[b-1]==="\r"&&(b-=1),this.buffer.substring(this.pos,b))}hasChars(b){return this.pos+b<=this.buffer.length}setNext(b){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=b,null}peek(b){return this.buffer.substr(this.pos,b)}*parseNext(b){switch(b){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let b=this.getLine();if(b===null)return this.setNext("stream");if(b[0]===B.BOM&&(yield*this.pushCount(1),b=b.substring(1)),b[0]==="%"){let B=b.length,F=b.indexOf("#");for(;F!==-1;){let K=b[F-1];if(K===" "||K==="\t"){B=F-1;break}else F=b.indexOf("#",F+1)}for(;;){let F=b[B-1];if(F===" "||F==="\t")B-=1;else break}let K=(yield*this.pushCount(B))+(yield*this.pushSpaces(!0));return yield*this.pushCount(b.length-K),this.pushNewline(),"stream"}if(this.atLineEnd()){let B=yield*this.pushSpaces(!0);return yield*this.pushCount(b.length-B),yield*this.pushNewline(),"stream"}return yield B.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let b=this.charAt(0);if(!b&&!this.atEnd)return this.setNext("line-start");if(b==="-"||b==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let b=this.peek(3);if((b==="---"||b==="...")&&lr(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,b==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!lr(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[b,B]=this.peek(2);if(!B&&!this.atEnd)return this.setNext("block-start");if((b==="-"||b==="?"||b===":")&&lr(B)){let b=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=b,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let b=this.getLine();if(b===null)return this.setNext("doc");let B=yield*this.pushIndicators();switch(b[B]){case"#":yield*this.pushCount(b.length-B);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ch),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return B+=(yield*this.parseBlockScalarHeader()),B+=(yield*this.pushSpaces(!0)),yield*this.pushCount(b.length-B),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let b,F,K=-1;do{b=yield*this.pushNewline(),b>0?(F=yield*this.pushSpaces(!1),this.indentValue=K=F):F=0,F+=(yield*this.pushSpaces(!0))}while(b+F>0);let se=this.getLine();if(se===null)return this.setNext("flow");if((K!==-1&&K<this.indentNext&&se[0]!=="#"||K===0&&(se.startsWith("---")||se.startsWith("..."))&&lr(se[3]))&&!(K===this.indentNext-1&&this.flowLevel===1&&(se[0]==="]"||se[0]==="}")))return this.flowLevel=0,yield B.FLOW_END,yield*this.parseLineStart();let oe=0;for(;se[oe]===",";)oe+=(yield*this.pushCount(1)),oe+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(oe+=(yield*this.pushIndicators()),se[oe]){case void 0:return"flow";case"#":return yield*this.pushCount(se.length-oe),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ch),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let b=this.charAt(1);if(this.flowKey||lr(b)||b===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let b=this.charAt(0),B=this.buffer.indexOf(b,this.pos+1);if(b==="'")for(;B!==-1&&this.buffer[B+1]==="'";)B=this.buffer.indexOf("'",B+2);else for(;B!==-1;){let b=0;for(;this.buffer[B-1-b]==="\\";)b+=1;if(b%2===0)break;B=this.buffer.indexOf('"',B+1)}let F=this.buffer.substring(0,B),K=F.indexOf(`\n`,this.pos);if(K!==-1){for(;K!==-1;){let b=this.continueScalar(K+1);if(b===-1)break;K=F.indexOf(`\n`,b)}K!==-1&&(B=K-(F[K-1]==="\r"?2:1))}if(B===-1){if(!this.atEnd)return this.setNext("quoted-scalar");B=this.buffer.length}return yield*this.pushToIndex(B+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let b=this.pos;for(;;){let B=this.buffer[++b];if(B==="+")this.blockScalarKeep=!0;else if(B>"0"&&B<="9")this.blockScalarIndent=Number(B)-1;else if(B!=="-")break}return yield*this.pushUntil((b=>lr(b)||b==="#"))}*parseBlockScalar(){let b=this.pos-1,F=0,K;e:for(let B=this.pos;K=this.buffer[B];++B)switch(K){case" ":F+=1;break;case`\n`:b=B,F=0;break;case"\r":{let b=this.buffer[B+1];if(!b&&!this.atEnd)return this.setNext("block-scalar");if(b===`\n`)break}default:break e}if(!K&&!this.atEnd)return this.setNext("block-scalar");if(F>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=F:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let B=this.continueScalar(b+1);if(B===-1)break;b=this.buffer.indexOf(`\n`,B)}while(b!==-1);if(b===-1){if(!this.atEnd)return this.setNext("block-scalar");b=this.buffer.length}}let se=b+1;for(K=this.buffer[se];K===" ";)K=this.buffer[++se];if(K==="\t"){for(;K==="\t"||K===" "||K==="\r"||K===`\n`;)K=this.buffer[++se];b=se-1}else if(!this.blockScalarKeep)do{let B=b-1,K=this.buffer[B];K==="\r"&&(K=this.buffer[--B]);let se=B;for(;K===" ";)K=this.buffer[--B];if(K===`\n`&&B>=this.pos&&B+1+F>se)b=B;else break}while(!0);return yield B.SCALAR,yield*this.pushToIndex(b+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let b=this.flowLevel>0,F=this.pos-1,K=this.pos-1,oe;for(;oe=this.buffer[++K];)if(oe===":"){let B=this.buffer[K+1];if(lr(B)||b&&se.has(B))break;F=K}else if(lr(oe)){let B=this.buffer[K+1];if(oe==="\r"&&(B===`\n`?(K+=1,oe=`\n`,B=this.buffer[K+1]):F=K),B==="#"||b&&se.has(B))break;if(oe===`\n`){let b=this.continueScalar(K+1);if(b===-1)break;K=Math.max(K,b-2)}}else{if(b&&se.has(oe))break;F=K}return!oe&&!this.atEnd?this.setNext("plain-scalar"):(yield B.SCALAR,yield*this.pushToIndex(F+1,!0),b?"flow":"doc")}*pushCount(b){return b>0?(yield this.buffer.substr(this.pos,b),this.pos+=b,b):0}*pushToIndex(b,B){let F=this.buffer.slice(this.pos,b);return F?(yield F,this.pos+=F.length,F.length):(B&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ch))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let b=this.flowLevel>0,B=this.charAt(1);if(lr(B)||b&&se.has(B))return b?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let b=this.pos+2,B=this.buffer[b];for(;!lr(B)&&B!==">";)B=this.buffer[++b];return yield*this.pushToIndex(B===">"?b+1:b,!1)}else{let b=this.pos+1,B=this.buffer[b];for(;B;)if(K.has(B))B=this.buffer[++b];else if(B==="%"&&F.has(this.buffer[b+1])&&F.has(this.buffer[b+2]))B=this.buffer[b+=3];else break;return yield*this.pushToIndex(b,!1)}}*pushNewline(){let b=this.buffer[this.pos];return b===`\n`?yield*this.pushCount(1):b==="\r"&&this.charAt(1)===`\n`?yield*this.pushCount(2):0}*pushSpaces(b){let B=this.pos-1,F;do{F=this.buffer[++B]}while(F===" "||b&&F==="\t");let K=B-this.pos;return K>0&&(yield this.buffer.substr(this.pos,K),this.pos=B),K}*pushUntil(b){let B=this.pos,F=this.buffer[B];for(;!b(F);)F=this.buffer[++B];return yield*this.pushToIndex(B,!1)}};b.Lexer=Qe}));var no=w((b=>{"use strict";var B=class{constructor(){this.lineStarts=[],this.addNewLine=b=>this.lineStarts.push(b),this.linePos=b=>{let B=0,F=this.lineStarts.length;for(;B<F;){let K=B+F>>1;this.lineStarts[K]<b?B=K+1:F=K}if(this.lineStarts[B]===b)return{line:B+1,col:1};if(B===0)return{line:0,col:b};let K=this.lineStarts[B-1];return{line:B,col:b-K+1}}}};b.LineCounter=B}));var io=w((b=>{"use strict";var B=to(),F=ro();function Fi(b,B){for(let F=0;F<b.length;++F)if(b[F].type===B)return!0;return!1}function B_(b){for(let B=0;B<b.length;++B)switch(b[B].type){case"space":case"comment":case"newline":break;default:return B}return-1}function P_(b){switch(b==null?void 0:b.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function ul(b){var B;switch(b.type){case"document":return b.start;case"block-map":{let F=b.items[b.items.length-1];return(B=F.sep)!=null?B:F.start}case"block-seq":return b.items[b.items.length-1].start;default:return[]}}function Un(b){var B;if(b.length===0)return[];let F=b.length;e:for(;--F>=0;)switch(b[F].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((B=b[++F])==null?void 0:B.type)==="space";);return b.splice(F,b.length)}function R_(b){if(b.start.type==="flow-seq-start")for(let B of b.items)B.sep&&!B.value&&!Fi(B.start,"explicit-key-ind")&&!Fi(B.sep,"map-value-ind")&&(B.key&&(B.value=B.key),delete B.key,P_(B.value)?B.value.end?Array.prototype.push.apply(B.value.end,B.sep):B.value.end=B.sep:Array.prototype.push.apply(B.start,B.sep),delete B.sep)}var K=class{constructor(b){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new F.Lexer,this.onNewLine=b}*parse(b,B=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let F of this.lexer.lex(b,B))yield*this.next(F);B||(yield*this.end())}*next(b){if(this.source=b,process.env.LOG_TOKENS&&console.log("|",B.prettyToken(b)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=b.length;return}let F=B.tokenType(b);if(F)if(F==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=F,yield*this.step(),F){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+b.length);break;case"space":this.atNewLine&&b[0]===" "&&(this.indent+=b.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=b.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=b.length}else{let B=`Not a YAML token: ${b}`;yield*this.pop({type:"error",offset:this.offset,message:B,source:b}),this.offset+=b.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let b=this.peek(1);if(this.type==="doc-end"&&(!b||b.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!b)return yield*this.stream();switch(b.type){case"document":return yield*this.document(b);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(b);case"block-scalar":return yield*this.blockScalar(b);case"block-map":return yield*this.blockMap(b);case"block-seq":return yield*this.blockSequence(b);case"flow-collection":return yield*this.flowCollection(b);case"doc-end":return yield*this.documentEnd(b)}yield*this.pop()}peek(b){return this.stack[this.stack.length-b]}*pop(b){let B=b!=null?b:this.stack.pop();if(!B)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield B;else{let b=this.peek(1);switch(B.type==="block-scalar"?B.indent="indent"in b?b.indent:0:B.type==="flow-collection"&&b.type==="document"&&(B.indent=0),B.type==="flow-collection"&&R_(B),b.type){case"document":b.value=B;break;case"block-scalar":b.props.push(B);break;case"block-map":{let F=b.items[b.items.length-1];if(F.value){b.items.push({start:[],key:B,sep:[]}),this.onKeyLine=!0;return}else if(F.sep)F.value=B;else{Object.assign(F,{key:B,sep:[]}),this.onKeyLine=!F.explicitKey;return}break}case"block-seq":{let F=b.items[b.items.length-1];F.value?b.items.push({start:[],value:B}):F.value=B;break}case"flow-collection":{let F=b.items[b.items.length-1];!F||F.value?b.items.push({start:[],key:B,sep:[]}):F.sep?F.value=B:Object.assign(F,{key:B,sep:[]});return}default:yield*this.pop(),yield*this.pop(B)}if((b.type==="document"||b.type==="block-map"||b.type==="block-seq")&&(B.type==="block-map"||B.type==="block-seq")){let F=B.items[B.items.length-1];F&&!F.sep&&!F.value&&F.start.length>0&&B_(F.start)===-1&&(B.indent===0||F.start.every((b=>b.type!=="comment"||b.indent<B.indent)))&&(b.type==="document"?b.end=F.start:b.items.push({start:F.start}),B.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let b={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&b.start.push(this.sourceToken),this.stack.push(b);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(b){if(b.value)return yield*this.lineEnd(b);switch(this.type){case"doc-start":{B_(b.start)!==-1?(yield*this.pop(),yield*this.step()):b.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":b.start.push(this.sourceToken);return}let B=this.startBlockValue(b);B?this.stack.push(B):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(b){if(this.type==="map-value-ind"){let B=ul(this.peek(2)),F=Un(B),K;b.end?(K=b.end,K.push(this.sourceToken),delete b.end):K=[this.sourceToken];let se={type:"block-map",offset:b.offset,indent:b.indent,items:[{start:F,key:b,sep:K}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=se}else yield*this.lineEnd(b)}*blockScalar(b){switch(this.type){case"space":case"comment":case"newline":b.props.push(this.sourceToken);return;case"scalar":if(b.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let b=this.source.indexOf(`\n`)+1;for(;b!==0;)this.onNewLine(this.offset+b),b=this.source.indexOf(`\n`,b)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(b){var B;let F=b.items[b.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,F.value){let B="end"in F.value?F.value.end:void 0,K=Array.isArray(B)?B[B.length-1]:void 0;(K==null?void 0:K.type)==="comment"?B==null||B.push(this.sourceToken):b.items.push({start:[this.sourceToken]})}else F.sep?F.sep.push(this.sourceToken):F.start.push(this.sourceToken);return;case"space":case"comment":if(F.value)b.items.push({start:[this.sourceToken]});else if(F.sep)F.sep.push(this.sourceToken);else{if(this.atIndentedComment(F.start,b.indent)){let K=b.items[b.items.length-2],se=(B=K==null?void 0:K.value)==null?void 0:B.end;if(Array.isArray(se)){Array.prototype.push.apply(se,F.start),se.push(this.sourceToken),b.items.pop();return}}F.start.push(this.sourceToken)}return}if(this.indent>=b.indent){let B=!this.onKeyLine&&this.indent===b.indent,K=B&&(F.sep||F.explicitKey)&&this.type!=="seq-item-ind",se=[];if(K&&F.sep&&!F.value){let B=[];for(let K=0;K<F.sep.length;++K){let se=F.sep[K];switch(se.type){case"newline":B.push(K);break;case"space":break;case"comment":se.indent>b.indent&&(B.length=0);break;default:B.length=0}}B.length>=2&&(se=F.sep.splice(B[1]))}switch(this.type){case"anchor":case"tag":K||F.value?(se.push(this.sourceToken),b.items.push({start:se}),this.onKeyLine=!0):F.sep?F.sep.push(this.sourceToken):F.start.push(this.sourceToken);return;case"explicit-key-ind":!F.sep&&!F.explicitKey?(F.start.push(this.sourceToken),F.explicitKey=!0):K||F.value?(se.push(this.sourceToken),b.items.push({start:se,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(F.explicitKey)if(F.sep)if(F.value)b.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Fi(F.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:se,key:null,sep:[this.sourceToken]}]});else if(P_(F.key)&&!Fi(F.sep,"newline")){let b=Un(F.start),B=F.key,K=F.sep;K.push(this.sourceToken),delete F.key,delete F.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:b,key:B,sep:K}]})}else se.length>0?F.sep=F.sep.concat(se,this.sourceToken):F.sep.push(this.sourceToken);else if(Fi(F.start,"newline"))Object.assign(F,{key:null,sep:[this.sourceToken]});else{let b=Un(F.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:b,key:null,sep:[this.sourceToken]}]})}else F.sep?F.value||K?b.items.push({start:se,key:null,sep:[this.sourceToken]}):Fi(F.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):F.sep.push(this.sourceToken):Object.assign(F,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let B=this.flowScalar(this.type);K||F.value?(b.items.push({start:se,key:B,sep:[]}),this.onKeyLine=!0):F.sep?this.stack.push(B):(Object.assign(F,{key:B,sep:[]}),this.onKeyLine=!0);return}default:{let F=this.startBlockValue(b);if(F){B&&F.type!=="block-seq"&&b.items.push({start:se}),this.stack.push(F);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(b){var B;let F=b.items[b.items.length-1];switch(this.type){case"newline":if(F.value){let B="end"in F.value?F.value.end:void 0,K=Array.isArray(B)?B[B.length-1]:void 0;(K==null?void 0:K.type)==="comment"?B==null||B.push(this.sourceToken):b.items.push({start:[this.sourceToken]})}else F.start.push(this.sourceToken);return;case"space":case"comment":if(F.value)b.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(F.start,b.indent)){let K=b.items[b.items.length-2],se=(B=K==null?void 0:K.value)==null?void 0:B.end;if(Array.isArray(se)){Array.prototype.push.apply(se,F.start),se.push(this.sourceToken),b.items.pop();return}}F.start.push(this.sourceToken)}return;case"anchor":case"tag":if(F.value||this.indent<=b.indent)break;F.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==b.indent)break;F.value||Fi(F.start,"seq-item-ind")?b.items.push({start:[this.sourceToken]}):F.start.push(this.sourceToken);return}if(this.indent>b.indent){let B=this.startBlockValue(b);if(B){this.stack.push(B);return}}yield*this.pop(),yield*this.step()}*flowCollection(b){let B=b.items[b.items.length-1];if(this.type==="flow-error-end"){let b;do{yield*this.pop(),b=this.peek(1)}while(b&&b.type==="flow-collection")}else if(b.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!B||B.sep?b.items.push({start:[this.sourceToken]}):B.start.push(this.sourceToken);return;case"map-value-ind":!B||B.value?b.items.push({start:[],key:null,sep:[this.sourceToken]}):B.sep?B.sep.push(this.sourceToken):Object.assign(B,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!B||B.value?b.items.push({start:[this.sourceToken]}):B.sep?B.sep.push(this.sourceToken):B.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let F=this.flowScalar(this.type);!B||B.value?b.items.push({start:[],key:F,sep:[]}):B.sep?this.stack.push(F):Object.assign(B,{key:F,sep:[]});return}case"flow-map-end":case"flow-seq-end":b.end.push(this.sourceToken);return}let F=this.startBlockValue(b);F?this.stack.push(F):(yield*this.pop(),yield*this.step())}else{let B=this.peek(2);if(B.type==="block-map"&&(this.type==="map-value-ind"&&B.indent===b.indent||this.type==="newline"&&!B.items[B.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&B.type!=="flow-collection"){let F=ul(B),K=Un(F);R_(b);let se=b.end.splice(1,b.end.length);se.push(this.sourceToken);let oe={type:"block-map",offset:b.offset,indent:b.indent,items:[{start:K,key:b,sep:se}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=oe}else yield*this.lineEnd(b)}}flowScalar(b){if(this.onNewLine){let b=this.source.indexOf(`\n`)+1;for(;b!==0;)this.onNewLine(this.offset+b),b=this.source.indexOf(`\n`,b)+1}return{type:b,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(b){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let B=ul(b),F=Un(B);return F.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:F,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let B=ul(b),F=Un(B);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:F,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(b,B){return this.type!=="comment"||this.indent<=B?!1:b.every((b=>b.type==="newline"||b.type==="space"))}*documentEnd(b){this.type!=="doc-mode"&&(b.end?b.end.push(this.sourceToken):b.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(b){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:b.end?b.end.push(this.sourceToken):b.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};b.Parser=K}));var so=w((b=>{"use strict";var B=Ks(),F=Qs(),K=Os(),se=$i(),oe=xi(),Qe=no(),Re=io();function q_(b){let B=b.prettyErrors!==!1;return{lineCounter:b.lineCounter||B&&new Qe.LineCounter||null,prettyErrors:B}}function $I(b,F={}){let{lineCounter:se,prettyErrors:oe}=q_(F),Qe=new Re.Parser(se==null?void 0:se.addNewLine),Me=new B.Composer(F),Le=Array.from(Me.compose(Qe.parse(b)));if(oe&&se)for(let B of Le)B.errors.forEach(K.prettifyError(b,se)),B.warnings.forEach(K.prettifyError(b,se));return Le.length>0?Le:Object.assign([],{empty:!0},Me.streamInfo())}function j_(b,F={}){let{lineCounter:se,prettyErrors:oe}=q_(F),Qe=new Re.Parser(se==null?void 0:se.addNewLine),Me=new B.Composer(F),Le=null;for(let B of Me.compose(Qe.parse(b),!0,b.length))if(!Le)Le=B;else if(Le.options.logLevel!=="silent"){Le.errors.push(new K.YAMLParseError(B.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return oe&&se&&(Le.errors.forEach(K.prettifyError(b,se)),Le.warnings.forEach(K.prettifyError(b,se))),Le}function VI(b,B,F){let K;typeof B=="function"?K=B:F===void 0&&B&&typeof B=="object"&&(F=B);let oe=j_(b,F);if(!oe)return null;if(oe.warnings.forEach((b=>se.warn(oe.options.logLevel,b))),oe.errors.length>0){if(oe.options.logLevel!=="silent")throw oe.errors[0];oe.errors=[]}return oe.toJS(Object.assign({reviver:K},F))}function HI(b,B,K){var se;let Qe=null;if(typeof B=="function"||Array.isArray(B)?Qe=B:K===void 0&&B&&(K=B),typeof K=="string"&&(K=K.length),typeof K=="number"){let b=Math.round(K);K=b<1?void 0:b>8?{indent:8}:{indent:b}}if(b===void 0){let{keepUndefined:b}=(se=K!=null?K:B)!=null?se:{};if(!b)return}return oe.isDocument(b)&&!Qe?b.toString(K):new F.Document(b,Qe,K).toString(K)}b.parse=VI;b.parseAllDocuments=$I;b.parseDocument=j_;b.stringify=HI}));var oo=w((b=>{"use strict";var B=Ks(),F=Qs(),K=xs(),se=Os(),oe=Mi(),Qe=xi(),Re=Ki(),Me=Li(),Le=Xi(),We=ns(),Ge=to(),ze=ro(),$e=no(),Ye=io(),Ke=so(),Xe=ki();b.Composer=B.Composer;b.Document=F.Document;b.Schema=K.Schema;b.YAMLError=se.YAMLError;b.YAMLParseError=se.YAMLParseError;b.YAMLWarning=se.YAMLWarning;b.Alias=oe.Alias;b.isAlias=Qe.isAlias;b.isCollection=Qe.isCollection;b.isDocument=Qe.isDocument;b.isMap=Qe.isMap;b.isNode=Qe.isNode;b.isPair=Qe.isPair;b.isScalar=Qe.isScalar;b.isSeq=Qe.isSeq;b.Pair=Re.Pair;b.Scalar=Me.Scalar;b.YAMLMap=Le.YAMLMap;b.YAMLSeq=We.YAMLSeq;b.CST=Ge;b.Lexer=ze.Lexer;b.LineCounter=$e.LineCounter;b.Parser=Ye.Parser;b.parse=Ke.parse;b.parseAllDocuments=Ke.parseAllDocuments;b.parseDocument=Ke.parseDocument;b.stringify=Ke.stringify;b.visit=Xe.visit;b.visitAsync=Xe.visitAsync}));var ao=w(((b,B)=>{var K=F(9140),se=process.cwd,oe=null,Qe=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return oe||(oe=se.call(process)),oe};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Re=process.chdir,process.chdir=function(b){oe=null,Re.call(process,b)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Re));var Re;B.exports=m2;function m2(b){K.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(b),b.lutimes||t(b),b.chown=s(b.chown),b.fchown=s(b.fchown),b.lchown=s(b.lchown),b.chmod=i(b.chmod),b.fchmod=i(b.fchmod),b.lchmod=i(b.lchmod),b.chownSync=a(b.chownSync),b.fchownSync=a(b.fchownSync),b.lchownSync=a(b.lchownSync),b.chmodSync=n(b.chmodSync),b.fchmodSync=n(b.fchmodSync),b.lchmodSync=n(b.lchmodSync),b.stat=o(b.stat),b.fstat=o(b.fstat),b.lstat=o(b.lstat),b.statSync=l(b.statSync),b.fstatSync=l(b.fstatSync),b.lstatSync=l(b.lstatSync),b.chmod&&!b.lchmod&&(b.lchmod=function(b,B,F){F&&process.nextTick(F)},b.lchmodSync=function(){}),b.chown&&!b.lchown&&(b.lchown=function(b,B,F,K){K&&process.nextTick(K)},b.lchownSync=function(){}),Qe==="win32"&&(b.rename=typeof b.rename!="function"?b.rename:function(B){function f(F,K,se){var oe=Date.now(),Qe=0;B(F,K,(function x(Re){if(Re&&(Re.code==="EACCES"||Re.code==="EPERM")&&Date.now()-oe<6e4){setTimeout((function(){b.stat(K,(function(b,oe){b&&b.code==="ENOENT"?B(F,K,x):se(Re)}))}),Qe),Qe<100&&(Qe+=10);return}se&&se(Re)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(f,B),f}(b.rename)),b.read=typeof b.read!="function"?b.read:function(B){function f(F,K,se,oe,Qe,Re){var Me;if(Re&&typeof Re=="function"){var Le=0;Me=function(We,Ge,ze){if(We&&We.code==="EAGAIN"&&Le<10)return Le++,B.call(b,F,K,se,oe,Qe,Me);Re.apply(this,arguments)}}return B.call(b,F,K,se,oe,Qe,Me)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,B),f}(b.read),b.readSync=typeof b.readSync!="function"?b.readSync:function(B){return function(F,K,se,oe,Qe){for(var Re=0;;)try{return B.call(b,F,K,se,oe,Qe)}catch(b){if(b.code==="EAGAIN"&&Re<10){Re++;continue}throw b}}}(b.readSync);function e(b){b.lchmod=function(B,F,se){b.open(B,K.O_WRONLY|K.O_SYMLINK,F,(function(B,K){if(B){se&&se(B);return}b.fchmod(K,F,(function(B){b.close(K,(function(b){se&&se(B||b)}))}))}))},b.lchmodSync=function(B,F){var se=b.openSync(B,K.O_WRONLY|K.O_SYMLINK,F),oe=!0,Qe;try{Qe=b.fchmodSync(se,F),oe=!1}finally{if(oe)try{b.closeSync(se)}catch{}else b.closeSync(se)}return Qe}}function t(b){K.hasOwnProperty("O_SYMLINK")&&b.futimes?(b.lutimes=function(B,F,se,oe){b.open(B,K.O_SYMLINK,(function(B,K){if(B){oe&&oe(B);return}b.futimes(K,F,se,(function(B){b.close(K,(function(b){oe&&oe(B||b)}))}))}))},b.lutimesSync=function(B,F,se){var oe=b.openSync(B,K.O_SYMLINK),Qe,Re=!0;try{Qe=b.futimesSync(oe,F,se),Re=!1}finally{if(Re)try{b.closeSync(oe)}catch{}else b.closeSync(oe)}return Qe}):b.futimes&&(b.lutimes=function(b,B,F,K){K&&process.nextTick(K)},b.lutimesSync=function(){})}function i(B){return B&&function(F,K,se){return B.call(b,F,K,(function(b){c(b)&&(b=null),se&&se.apply(this,arguments)}))}}function n(B){return B&&function(F,K){try{return B.call(b,F,K)}catch(b){if(!c(b))throw b}}}function s(B){return B&&function(F,K,se,oe){return B.call(b,F,K,se,(function(b){c(b)&&(b=null),oe&&oe.apply(this,arguments)}))}}function a(B){return B&&function(F,K,se){try{return B.call(b,F,K,se)}catch(b){if(!c(b))throw b}}}function o(B){return B&&function(F,K,se){typeof K=="function"&&(se=K,K=null);function g(b,B){B&&(B.uid<0&&(B.uid+=4294967296),B.gid<0&&(B.gid+=4294967296)),se&&se.apply(this,arguments)}return K?B.call(b,F,K,g):B.call(b,F,g)}}function l(B){return B&&function(F,K){var se=K?B.call(b,F,K):B.call(b,F);return se&&(se.uid<0&&(se.uid+=4294967296),se.gid<0&&(se.gid+=4294967296)),se}}function c(b){if(!b||b.code==="ENOSYS")return!0;var B=!process.getuid||process.getuid()!==0;return!!(B&&(b.code==="EINVAL"||b.code==="EPERM"))}}}));var lo=w(((b,B)=>{var K=F(2203).Stream;B.exports=g2;function g2(b){return{ReadStream:e,WriteStream:t};function e(B,F){if(!(this instanceof e))return new e(B,F);K.call(this);var se=this;this.path=B,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,F=F||{};for(var oe=Object.keys(F),Qe=0,Re=oe.length;Qe<Re;Qe++){var Me=oe[Qe];this[Me]=F[Me]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick((function(){se._read()}));return}b.open(this.path,this.flags,this.mode,(function(b,B){if(b){se.emit("error",b),se.readable=!1;return}se.fd=B,se.emit("open",B),se._read()}))}function t(B,F){if(!(this instanceof t))return new t(B,F);K.call(this),this.path=B,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,F=F||{};for(var se=Object.keys(F),oe=0,Qe=se.length;oe<Qe;oe++){var Re=se[oe];this[Re]=F[Re]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=b.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}));var uo=w(((b,B)=>{"use strict";B.exports=y2;var F=Object.getPrototypeOf||function(b){return b.__proto__};function y2(b){if(b===null||typeof b!="object")return b;if(b instanceof Object)var B={__proto__:F(b)};else var B=Object.create(null);return Object.getOwnPropertyNames(b).forEach((function(F){Object.defineProperty(B,F,Object.getOwnPropertyDescriptor(b,F))})),B}}));var po=w(((b,B)=>{var K=F(9896),se=ao(),oe=lo(),Qe=uo(),Re=F(9023),Me,Le;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Me=Symbol.for("graceful-fs.queue"),Le=Symbol.for("graceful-fs.previous")):(Me="___graceful-fs.queue",Le="___graceful-fs.previous");function w2(){}function fb(b,B){Object.defineProperty(b,Me,{get:function(){return B}})}var We=w2;Re.debuglog?We=Re.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(We=function(){var b=Re.format.apply(Re,arguments);b="GFS4: "+b.split(/\n/).join(`\nGFS4: `),console.error(b)});K[Me]||(Ge=global[Me]||[],fb(K,Ge),K.close=function(b){function e(B,F){return b.call(K,B,(function(b){b||ub(),typeof F=="function"&&F.apply(this,arguments)}))}return Object.defineProperty(e,Le,{value:b}),e}(K.close),K.closeSync=function(b){function e(B){b.apply(K,arguments),ub()}return Object.defineProperty(e,Le,{value:b}),e}(K.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){We(K[Me]),F(2613).equal(K[Me].length,0)})));var Ge;global[Me]||fb(global,K[Me]);B.exports=wh(Qe(K));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!K.__patched&&(B.exports=wh(K),K.__patched=!0);function wh(b){se(b),b.gracefulify=wh,b.createReadStream=E,b.createWriteStream=R;var B=b.readFile;b.readFile=t;function t(b,F,K){return typeof F=="function"&&(K=F,F=null),$(b,F,K);function $(b,F,K,se){return B(b,F,(function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?Zn([$,[b,F,K],B,se||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)}))}}var F=b.writeFile;b.writeFile=n;function n(b,B,K,se){return typeof K=="function"&&(se=K,K=null),q(b,B,K,se);function q(b,B,K,se,oe){return F(b,B,K,(function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?Zn([q,[b,B,K,se],F,oe||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)}))}}var K=b.appendFile;K&&(b.appendFile=a);function a(b,B,F,se){return typeof F=="function"&&(se=F,F=null),q(b,B,F,se);function q(b,B,F,se,oe){return K(b,B,F,(function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?Zn([q,[b,B,F,se],K,oe||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)}))}}var Qe=b.copyFile;Qe&&(b.copyFile=l);function l(b,B,F,K){return typeof F=="function"&&(K=F,F=0),q(b,B,F,K);function q(b,B,F,K,se){return Qe(b,B,F,(function(oe){oe&&(oe.code==="EMFILE"||oe.code==="ENFILE")?Zn([q,[b,B,F,K],oe,se||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)}))}}var Re=b.readdir;b.readdir=f;var Me=/^v[0-5]\./;function f(b,B,F){typeof B=="function"&&(F=B,B=null);var K=Me.test(process.version)?function(b,B,F,K){return Re(b,q(b,B,F,K))}:function(b,B,F,K){return Re(b,B,q(b,B,F,K))};return K(b,B,F);function q(b,B,F,se){return function(oe,Qe){oe&&(oe.code==="EMFILE"||oe.code==="ENFILE")?Zn([K,[b,B,F],oe,se||Date.now(),Date.now()]):(Qe&&Qe.sort&&Qe.sort(),typeof F=="function"&&F.call(this,oe,Qe))}}}if(process.version.substr(0,4)==="v0.8"){var Le=oe(b);x=Le.ReadStream,O=Le.WriteStream}var We=b.ReadStream;We&&(x.prototype=Object.create(We.prototype),x.prototype.open=S);var Ge=b.WriteStream;Ge&&(O.prototype=Object.create(Ge.prototype),O.prototype.open=k),Object.defineProperty(b,"ReadStream",{get:function(){return x},set:function(b){x=b},enumerable:!0,configurable:!0}),Object.defineProperty(b,"WriteStream",{get:function(){return O},set:function(b){O=b},enumerable:!0,configurable:!0});var ze=x;Object.defineProperty(b,"FileReadStream",{get:function(){return ze},set:function(b){ze=b},enumerable:!0,configurable:!0});var $e=O;Object.defineProperty(b,"FileWriteStream",{get:function(){return $e},set:function(b){$e=b},enumerable:!0,configurable:!0});function x(b,B){return this instanceof x?(We.apply(this,arguments),this):x.apply(Object.create(x.prototype),arguments)}function S(){var b=this;A(b.path,b.flags,b.mode,(function(B,F){B?(b.autoClose&&b.destroy(),b.emit("error",B)):(b.fd=F,b.emit("open",F),b.read())}))}function O(b,B){return this instanceof O?(Ge.apply(this,arguments),this):O.apply(Object.create(O.prototype),arguments)}function k(){var b=this;A(b.path,b.flags,b.mode,(function(B,F){B?(b.destroy(),b.emit("error",B)):(b.fd=F,b.emit("open",F))}))}function E(B,F){return new b.ReadStream(B,F)}function R(B,F){return new b.WriteStream(B,F)}var Ye=b.open;b.open=A;function A(b,B,F,K){return typeof F=="function"&&(K=F,F=null),q(b,B,F,K);function q(b,B,F,K,se){return Ye(b,B,F,(function(oe,Qe){oe&&(oe.code==="EMFILE"||oe.code==="ENFILE")?Zn([q,[b,B,F,K],oe,se||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)}))}}return b}function Zn(b){We("ENQUEUE",b[0].name,b[1]),K[Me].push(b),Sh()}var ze;function ub(){for(var b=Date.now(),B=0;B<K[Me].length;++B)K[Me][B].length>2&&(K[Me][B][3]=b,K[Me][B][4]=b);Sh()}function Sh(){if(clearTimeout(ze),ze=void 0,K[Me].length!==0){var b=K[Me].shift(),B=b[0],F=b[1],se=b[2],oe=b[3],Qe=b[4];if(oe===void 0)We("RETRY",B.name,F),B.apply(null,F);else if(Date.now()-oe>=6e4){We("TIMEOUT",B.name,F);var Re=F.pop();typeof Re=="function"&&Re.call(null,se)}else{var Le=Date.now()-Qe,Ge=Math.max(Qe-oe,1),$e=Math.min(Ge*1.2,100);Le>=$e?(We("RETRY",B.name,F),B.apply(null,F.concat([oe]))):K[Me].push(b)}ze===void 0&&(ze=setTimeout(Sh,0))}}}));var go=w(((b,B)=>{function er(b,B){typeof B=="boolean"&&(B={forever:B}),this._originalTimeouts=JSON.parse(JSON.stringify(b)),this._timeouts=b,this._options=B||{},this._maxRetryTime=B&&B.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}B.exports=er;er.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};er.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};er.prototype.retry=function(b){if(this._timeout&&clearTimeout(this._timeout),!b)return!1;var B=(new Date).getTime();if(b&&B-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(b);var F=this._timeouts.shift();if(F===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),F=this._timeouts.shift();else return!1;var K=this,se=setTimeout((function(){K._attempts++,K._operationTimeoutCb&&(K._timeout=setTimeout((function(){K._operationTimeoutCb(K._attempts)}),K._operationTimeout),K._options.unref&&K._timeout.unref()),K._fn(K._attempts)}),F);return this._options.unref&&se.unref(),!0};er.prototype.attempt=function(b,B){this._fn=b,B&&(B.timeout&&(this._operationTimeout=B.timeout),B.cb&&(this._operationTimeoutCb=B.cb));var F=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){F._operationTimeoutCb()}),F._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)};er.prototype.try=function(b){console.log("Using RetryOperation.try() is deprecated"),this.attempt(b)};er.prototype.start=function(b){console.log("Using RetryOperation.start() is deprecated"),this.attempt(b)};er.prototype.start=er.prototype.try;er.prototype.errors=function(){return this._errors};er.prototype.attempts=function(){return this._attempts};er.prototype.mainError=function(){if(this._errors.length===0)return null;for(var b={},B=null,F=0,K=0;K<this._errors.length;K++){var se=this._errors[K],oe=se.message,Qe=(b[oe]||0)+1;b[oe]=Qe,Qe>=F&&(B=se,F=Qe)}return B}}));var mo=w((b=>{var B=go();b.operation=function(F){var K=b.timeouts(F);return new B(K,{forever:F&&F.forever,unref:F&&F.unref,maxRetryTime:F&&F.maxRetryTime})};b.timeouts=function(b){if(b instanceof Array)return[].concat(b);var B={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var F in b)B[F]=b[F];if(B.minTimeout>B.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var K=[],se=0;se<B.retries;se++)K.push(this.createTimeout(se,B));return b&&b.forever&&!K.length&&K.push(this.createTimeout(se,B)),K.sort((function(b,B){return b-B})),K};b.createTimeout=function(b,B){var F=B.randomize?Math.random()+1:1,K=Math.round(F*B.minTimeout*Math.pow(B.factor,b));return K=Math.min(K,B.maxTimeout),K};b.wrap=function(B,F,K){if(F instanceof Array&&(K=F,F=null),!K){K=[];for(var se in B)typeof B[se]=="function"&&K.push(se)}for(var oe=0;oe<K.length;oe++){var Qe=K[oe],Re=B[Qe];B[Qe]=function(K){var se=b.operation(F),oe=Array.prototype.slice.call(arguments,1),Qe=oe.pop();oe.push((function(b){se.retry(b)||(b&&(arguments[0]=se.mainError()),Qe.apply(this,arguments))})),se.attempt((function(){K.apply(B,oe)}))}.bind(B,Re),B[Qe].options=F}}}));var bo=w(((b,B)=>{B.exports=mo()}));var Eo=w(((b,B)=>{B.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&B.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&B.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}));var _o=w(((b,B)=>{var K=global.process,nn=function(b){return b&&typeof b=="object"&&typeof b.removeListener=="function"&&typeof b.emit=="function"&&typeof b.reallyExit=="function"&&typeof b.listeners=="function"&&typeof b.kill=="function"&&typeof b.pid=="number"&&typeof b.on=="function"};nn(K)?(se=F(2613),oe=Eo(),Qe=/^win/i.test(K.platform),Re=F(4434),typeof Re!="function"&&(Re=Re.EventEmitter),K.__signal_exit_emitter__?Me=K.__signal_exit_emitter__:(Me=K.__signal_exit_emitter__=new Re,Me.count=0,Me.emitted={}),Me.infinite||(Me.setMaxListeners(1/0),Me.infinite=!0),B.exports=function(b,B){if(!nn(global.process))return function(){};se.equal(typeof b,"function","a callback must be provided for exit handler"),ze===!1&&$e();var F="exit";B&&B.alwaysLast&&(F="afterexit");var i=function(){Me.removeListener(F,b),Me.listeners("exit").length===0&&Me.listeners("afterexit").length===0&&Le()};return Me.on(F,b),i},Le=function(){!ze||!nn(global.process)||(ze=!1,oe.forEach((function(b){try{K.removeListener(b,Ge[b])}catch{}})),K.emit=Xe,K.reallyExit=Ye,Me.count-=1)},B.exports.unload=Le,We=function(b,B,F){Me.emitted[b]||(Me.emitted[b]=!0,Me.emit(b,B,F))},Ge={},oe.forEach((function(b){Ge[b]=function(){if(nn(global.process)){var B=K.listeners(b);B.length===Me.count&&(Le(),We("exit",null,b),We("afterexit",null,b),Qe&&b==="SIGHUP"&&(b="SIGINT"),K.kill(K.pid,b))}}})),B.exports.signals=function(){return oe},ze=!1,$e=function(){ze||!nn(global.process)||(ze=!0,Me.count+=1,oe=oe.filter((function(b){try{return K.on(b,Ge[b]),!0}catch{return!1}})),K.emit=et,K.reallyExit=Ke)},B.exports.load=$e,Ye=K.reallyExit,Ke=function(b){nn(global.process)&&(K.exitCode=b||0,We("exit",K.exitCode,null),We("afterexit",K.exitCode,null),Ye.call(K,K.exitCode))},Xe=K.emit,et=function(b,B){if(b==="exit"&&nn(global.process)){B!==void 0&&(K.exitCode=B);var F=Xe.apply(this,arguments);return We("exit",K.exitCode,null),We("afterexit",K.exitCode,null),F}else return Xe.apply(this,arguments)}):B.exports=function(){return function(){}};var se,oe,Qe,Re,Me,Le,We,Ge,ze,$e,Ye,Ke,Xe,et}));var Io=w(((b,B)=>{"use strict";var K=F(6928),se=po(),oe=bo(),Qe=_o(),Re={},Me=Symbol();function C2(b,B,F){let K=B[Me];if(K)return B.stat(b,((b,B)=>{if(b)return F(b);F(null,B.mtime,K)}));let se=new Date(Math.ceil(Date.now()/1e3)*1e3+5);B.utimes(b,se,se,(K=>{if(K)return F(K);B.stat(b,((b,K)=>{if(b)return F(b);let se=K.mtime.getTime()%1e3===0?"s":"ms";Object.defineProperty(B,Me,{value:se}),F(null,K.mtime,se)}))}))}function T2(b){let B=Date.now();return b==="s"&&(B=Math.ceil(B/1e3)*1e3),new Date(B)}function Ol(b,B){return B.lockfilePath||`${b}.lock`}function Tb(b,B,F){if(!B.realpath)return F(null,K.resolve(b));B.fs.realpath(b,F)}function Th(b,B,F){let K=Ol(b,B);B.fs.mkdir(K,(se=>{if(!se)return C2(K,B.fs,((b,se,oe)=>{if(b)return B.fs.rmdir(K,(()=>{})),F(b);F(null,se,oe)}));if(se.code!=="EEXIST")return F(se);if(B.stale<=0)return F(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:b}));B.fs.stat(K,((K,se)=>{if(K)return K.code==="ENOENT"?Th(b,{...B,stale:0},F):F(K);if(!A2(se,B))return F(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:b}));Ab(b,B,(K=>{if(K)return F(K);Th(b,{...B,stale:0},F)}))}))}))}function A2(b,B){return b.mtime.getTime()<Date.now()-B.stale}function Ab(b,B,F){B.fs.rmdir(Ol(b,B),(b=>{if(b&&b.code!=="ENOENT")return F(b);F()}))}function kl(b,B){let F=Re[b];F.updateTimeout||(F.updateDelay=F.updateDelay||B.update,F.updateTimeout=setTimeout((()=>{F.updateTimeout=null,B.fs.stat(F.lockfilePath,((K,se)=>{let oe=F.lastUpdate+B.stale<Date.now();if(K)return K.code==="ENOENT"||oe?Ch(b,F,Object.assign(K,{code:"ECOMPROMISED"})):(F.updateDelay=1e3,kl(b,B));if(!(F.mtime.getTime()===se.mtime.getTime()))return Ch(b,F,Object.assign(new Error("Unable to update lock within the stale threshold"),{code:"ECOMPROMISED"}));let Qe=T2(F.mtimePrecision);B.fs.utimes(F.lockfilePath,Qe,Qe,(K=>{let se=F.lastUpdate+B.stale<Date.now();if(!F.released){if(K)return K.code==="ENOENT"||se?Ch(b,F,Object.assign(K,{code:"ECOMPROMISED"})):(F.updateDelay=1e3,kl(b,B));F.mtime=Qe,F.lastUpdate=Date.now(),F.updateDelay=null,kl(b,B)}}))}))}),F.updateDelay),F.updateTimeout.unref&&F.updateTimeout.unref())}function Ch(b,B,F){B.released=!0,B.updateTimeout&&clearTimeout(B.updateTimeout),Re[b]===B&&delete Re[b],B.options.onCompromised(F)}function I2(b,B,F){B={stale:1e4,update:null,realpath:!0,retries:0,fs:se,onCompromised:b=>{throw b},...B},B.retries=B.retries||0,B.retries=typeof B.retries=="number"?{retries:B.retries}:B.retries,B.stale=Math.max(B.stale||0,2e3),B.update=B.update==null?B.stale/2:B.update||0,B.update=Math.max(Math.min(B.update,B.stale/2),1e3),Tb(b,B,((b,K)=>{if(b)return F(b);let se=oe.operation(B.retries);se.attempt((()=>{Th(K,B,((b,oe,Qe)=>{if(se.retry(b))return;if(b)return F(se.mainError());let Me=Re[K]={lockfilePath:Ol(K,B),mtime:oe,mtimePrecision:Qe,options:B,lastUpdate:Date.now()};kl(K,B),F(null,(b=>{if(Me.released)return b&&b(Object.assign(new Error("Lock is already released"),{code:"ERELEASED"}));N2(K,{...B,realpath:!1},b)}))}))}))}))}function N2(b,B,F){B={fs:se,realpath:!0,...B},Tb(b,B,((b,K)=>{if(b)return F(b);let se=Re[K];if(!se)return F(Object.assign(new Error("Lock is not acquired/owned by you"),{code:"ENOTACQUIRED"}));se.updateTimeout&&clearTimeout(se.updateTimeout),se.released=!0,delete Re[K],Ab(K,B,F)}))}function kb(b){return(...B)=>new Promise(((F,K)=>{B.push(((b,B)=>{b?K(b):F(B)})),b(...B)}))}var Le=!1;function L2(){Le||(Le=!0,Qe((()=>{for(let b in Re){let B=Re[b].options;try{B.fs.rmdirSync(Ol(b,B))}catch{}}})))}B.exports.lock=async(b,B)=>{L2();let F=await kb(I2)(b,B);return kb(F)}}));var So={};Ll(So,{HttpsProxyAgent:()=>zo.HttpsProxyAgent,PNG:()=>Xo.PNG,ProgramOption:()=>xa,SocksProxyAgent:()=>Ra.SocksProxyAgent,colors:()=>yu,debug:()=>wu,diff:()=>Eu,dotenv:()=>_u,getProxyForUrl:()=>Wo.getProxyForUrl,jpegjs:()=>Cu,lockfile:()=>Bu,mime:()=>xu,minimatch:()=>ku,open:()=>Qu,program:()=>da,progress:()=>Ou,ws:()=>Tu,wsReceiver:()=>Pu,wsSender:()=>Du,wsServer:()=>Ru,yaml:()=>Fu,zod:()=>Nu});b.exports=fx(So);var Bo=Je(it()),xo=Je(pt());var ko={};Ll(ko,{Diff:()=>Vt,applyPatch:()=>qd,applyPatches:()=>vw,canonicalize:()=>ka,convertChangesToDMP:()=>Ow,convertChangesToXML:()=>Cw,createPatch:()=>yw,createTwoFilesPatch:()=>jd,diffArrays:()=>dw,diffChars:()=>Kx,diffCss:()=>nw,diffJson:()=>hw,diffLines:()=>ql,diffSentences:()=>iw,diffTrimmedLines:()=>rw,diffWords:()=>ew,diffWordsWithSpace:()=>Rd,formatPatch:()=>Ta,merge:()=>ww,parsePatch:()=>Aa,reversePatch:()=>Ud,structuredPatch:()=>Ca});function Vt(){}Vt.prototype={diff:function(b,B){var F,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=K.callback;typeof K=="function"&&(se=K,K={});var oe=this;function o(b){return b=oe.postProcess(b,K),se?(setTimeout((function(){se(b)}),0),!0):b}b=this.castInput(b,K),B=this.castInput(B,K),b=this.removeEmpty(this.tokenize(b,K)),B=this.removeEmpty(this.tokenize(B,K));var Qe=B.length,Re=b.length,Me=1,Le=Qe+Re;K.maxEditLength!=null&&(Le=Math.min(Le,K.maxEditLength));var We=(F=K.timeout)!==null&&F!==void 0?F:1/0,Ge=Date.now()+We,ze=[{oldPos:-1,lastComponent:void 0}],$e=this.extractCommon(ze[0],B,b,0,K);if(ze[0].oldPos+1>=Re&&$e+1>=Qe)return o(yd(oe,ze[0].lastComponent,B,b,oe.useLongestToken));var Ye=-1/0,Ke=1/0;function S(){for(var F=Math.max(Ye,-Me);F<=Math.min(Ke,Me);F+=2){var se=void 0,Le=ze[F-1],We=ze[F+1];Le&&(ze[F-1]=void 0);var Ge=!1;if(We){var Xe=We.oldPos-F;Ge=We&&0<=Xe&&Xe<Qe}var et=Le&&Le.oldPos+1<Re;if(!Ge&&!et){ze[F]=void 0;continue}if(!et||Ge&&Le.oldPos<We.oldPos?se=oe.addToPath(We,!0,!1,0,K):se=oe.addToPath(Le,!1,!0,1,K),$e=oe.extractCommon(se,B,b,F,K),se.oldPos+1>=Re&&$e+1>=Qe)return o(yd(oe,se.lastComponent,B,b,oe.useLongestToken));ze[F]=se,se.oldPos+1>=Re&&(Ke=Math.min(Ke,F-1)),$e+1>=Qe&&(Ye=Math.max(Ye,F+1))}Me++}if(se)(function k(){setTimeout((function(){if(Me>Le||Date.now()>Ge)return se();S()||k()}),0)})();else for(;Me<=Le&&Date.now()<=Ge;){var Xe=S();if(Xe)return Xe}},addToPath:function(b,B,F,K,se){var oe=b.lastComponent;return oe&&!se.oneChangePerToken&&oe.added===B&&oe.removed===F?{oldPos:b.oldPos+K,lastComponent:{count:oe.count+1,added:B,removed:F,previousComponent:oe.previousComponent}}:{oldPos:b.oldPos+K,lastComponent:{count:1,added:B,removed:F,previousComponent:oe}}},extractCommon:function(b,B,F,K,se){for(var oe=B.length,Qe=F.length,Re=b.oldPos,Me=Re-K,Le=0;Me+1<oe&&Re+1<Qe&&this.equals(F[Re+1],B[Me+1],se);)Me++,Re++,Le++,se.oneChangePerToken&&(b.lastComponent={count:1,previousComponent:b.lastComponent,added:!1,removed:!1});return Le&&!se.oneChangePerToken&&(b.lastComponent={count:Le,previousComponent:b.lastComponent,added:!1,removed:!1}),b.oldPos=Re,Me},equals:function(b,B,F){return F.comparator?F.comparator(b,B):b===B||F.ignoreCase&&b.toLowerCase()===B.toLowerCase()},removeEmpty:function(b){for(var B=[],F=0;F<b.length;F++)b[F]&&B.push(b[F]);return B},castInput:function(b){return b},tokenize:function(b){return Array.from(b)},join:function(b){return b.join("")},postProcess:function(b){return b}};function yd(b,B,F,K,se){for(var oe=[],Qe;B;)oe.push(B),Qe=B.previousComponent,delete B.previousComponent,B=Qe;oe.reverse();for(var Re=0,Me=oe.length,Le=0,We=0;Re<Me;Re++){var Ge=oe[Re];if(Ge.removed)Ge.value=b.join(K.slice(We,We+Ge.count)),We+=Ge.count;else{if(!Ge.added&&se){var ze=F.slice(Le,Le+Ge.count);ze=ze.map((function(b,B){var F=K[We+B];return F.length>b.length?F:b})),Ge.value=b.join(ze)}else Ge.value=b.join(F.slice(Le,Le+Ge.count));Le+=Ge.count,Ge.added||(We+=Ge.count)}}return oe}var Qo=new Vt;function Kx(b,B,F){return Qo.diff(b,B,F)}function _d(b,B){var F;for(F=0;F<b.length&&F<B.length;F++)if(b[F]!=B[F])return b.slice(0,F);return b.slice(0,F)}function bd(b,B){var F;if(!b||!B||b[b.length-1]!=B[B.length-1])return"";for(F=0;F<b.length&&F<B.length;F++)if(b[b.length-(F+1)]!=B[B.length-(F+1)])return b.slice(-F);return b.slice(-F)}function Dl(b,B,F){if(b.slice(0,B.length)!=B)throw Error("string ".concat(JSON.stringify(b)," doesn't start with prefix ").concat(JSON.stringify(B),"; this is a bug"));return F+b.slice(B.length)}function Fl(b,B,F){if(!B)return b+F;if(b.slice(-B.length)!=B)throw Error("string ".concat(JSON.stringify(b)," doesn't end with suffix ").concat(JSON.stringify(B),"; this is a bug"));return b.slice(0,-B.length)+F}function rs(b,B){return Dl(b,B,"")}function wa(b,B){return Fl(b,B,"")}function xd(b,B){return B.slice(0,Zx(b,B))}function Zx(b,B){var F=0;b.length>B.length&&(F=b.length-B.length);var K=B.length;b.length<B.length&&(K=b.length);var se=Array(K),oe=0;se[0]=0;for(var Qe=1;Qe<K;Qe++){for(B[Qe]==B[oe]?se[Qe]=se[oe]:se[Qe]=oe;oe>0&&B[Qe]!=B[oe];)oe=se[oe];B[Qe]==B[oe]&&oe++}oe=0;for(var Re=F;Re<b.length;Re++){for(;oe>0&&b[Re]!=B[oe];)oe=se[oe];b[Re]==B[oe]&&oe++}return oe}function Jx(b){return b.includes(`\r\n`)&&!b.startsWith(`\n`)&&!b.match(/[^\r]\n/)}function Qx(b){return!b.includes(`\r\n`)&&b.includes(`\n`)}var Oo="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Ro=new RegExp("[".concat(Oo,"]+|\\s+|[^").concat(Oo,"]"),"ug"),Po=new Vt;Po.equals=function(b,B,F){return F.ignoreCase&&(b=b.toLowerCase(),B=B.toLowerCase()),b.trim()===B.trim()};Po.tokenize=function(b){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F;if(B.intlSegmenter){if(B.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');F=Array.from(B.intlSegmenter.segment(b),(function(b){return b.segment}))}else F=b.match(Ro)||[];var K=[],se=null;return F.forEach((function(b){/\s/.test(b)?se==null?K.push(b):K.push(K.pop()+b):/\s/.test(se)?K[K.length-1]==se?K.push(K.pop()+b):K.push(se+b):K.push(b),se=b})),K};Po.join=function(b){return b.map((function(b,B){return B==0?b:b.replace(/^\s+/,"")})).join("")};Po.postProcess=function(b,B){if(!b||B.oneChangePerToken)return b;var F=null,K=null,se=null;return b.forEach((function(b){b.added?K=b:b.removed?se=b:((K||se)&&wd(F,se,K,b),F=b,K=null,se=null)})),(K||se)&&wd(F,se,K,null),b};function ew(b,B,F){return(F==null?void 0:F.ignoreWhitespace)!=null&&!F.ignoreWhitespace?Rd(b,B,F):Po.diff(b,B,F)}function wd(b,B,F,K){if(B&&F){var se=B.value.match(/^\s*/)[0],oe=B.value.match(/\s*$/)[0],Qe=F.value.match(/^\s*/)[0],Re=F.value.match(/\s*$/)[0];if(b){var Me=_d(se,Qe);b.value=Fl(b.value,Qe,Me),B.value=rs(B.value,Me),F.value=rs(F.value,Me)}if(K){var Le=bd(oe,Re);K.value=Dl(K.value,Re,Le),B.value=wa(B.value,Le),F.value=wa(F.value,Le)}}else if(F)b&&(F.value=F.value.replace(/^\s*/,"")),K&&(K.value=K.value.replace(/^\s*/,""));else if(b&&K){var We=K.value.match(/^\s*/)[0],Ge=B.value.match(/^\s*/)[0],ze=B.value.match(/\s*$/)[0],$e=_d(We,Ge);B.value=rs(B.value,$e);var Ye=bd(rs(We,$e),ze);B.value=wa(B.value,Ye),K.value=Dl(K.value,We,Ye),b.value=Fl(b.value,We,We.slice(0,We.length-Ye.length))}else if(K){var Ke=K.value.match(/^\s*/)[0],Xe=B.value.match(/\s*$/)[0],et=xd(Xe,Ke);B.value=wa(B.value,et)}else if(b){var rt=b.value.match(/\s*$/)[0],it=B.value.match(/^\s*/)[0],ot=xd(rt,it);B.value=rs(B.value,ot)}}var Fo=new Vt;Fo.tokenize=function(b){var B=new RegExp("(\\r?\\n)|[".concat(Oo,"]+|[^\\S\\n\\r]+|[^").concat(Oo,"]"),"ug");return b.match(B)||[]};function Rd(b,B,F){return Fo.diff(b,B,F)}function tw(b,B){if(typeof b=="function")B.callback=b;else if(b)for(var F in b)b.hasOwnProperty(F)&&(B[F]=b[F]);return B}var No=new Vt;No.tokenize=function(b,B){B.stripTrailingCr&&(b=b.replace(/\r\n/g,`\n`));var F=[],K=b.split(/(\n|\r\n)/);K[K.length-1]||K.pop();for(var se=0;se<K.length;se++){var oe=K[se];se%2&&!B.newlineIsToken?F[F.length-1]+=oe:F.push(oe)}return F};No.equals=function(b,B,F){return F.ignoreWhitespace?((!F.newlineIsToken||!b.includes(`\n`))&&(b=b.trim()),(!F.newlineIsToken||!B.includes(`\n`))&&(B=B.trim())):F.ignoreNewlineAtEof&&!F.newlineIsToken&&(b.endsWith(`\n`)&&(b=b.slice(0,-1)),B.endsWith(`\n`)&&(B=B.slice(0,-1))),Vt.prototype.equals.call(this,b,B,F)};function ql(b,B,F){return No.diff(b,B,F)}function rw(b,B,F){var K=tw(F,{ignoreWhitespace:!0});return No.diff(b,B,K)}var Mo=new Vt;Mo.tokenize=function(b){return b.split(/(\S.+?[.!?])(?=\s+|$)/)};function iw(b,B,F){return Mo.diff(b,B,F)}var Lo=new Vt;Lo.tokenize=function(b){return b.split(/([{}:;,]|\s+)/)};function nw(b,B,F){return Lo.diff(b,B,F)}function Sd(b,B){var F=Object.keys(b);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(b);B&&(K=K.filter((function(B){return Object.getOwnPropertyDescriptor(b,B).enumerable}))),F.push.apply(F,K)}return F}function kt(b){for(var B=1;B<arguments.length;B++){var F=arguments[B]!=null?arguments[B]:{};B%2?Sd(Object(F),!0).forEach((function(B){ow(b,B,F[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(F)):Sd(Object(F)).forEach((function(B){Object.defineProperty(b,B,Object.getOwnPropertyDescriptor(F,B))}))}return b}function sw(b,B){if(typeof b!="object"||!b)return b;var F=b[Symbol.toPrimitive];if(F!==void 0){var K=F.call(b,B||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(b)}function aw(b){var B=sw(b,"string");return typeof B=="symbol"?B:B+""}function jl(b){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},jl(b)}function ow(b,B,F){return B=aw(B),B in b?Object.defineProperty(b,B,{value:F,enumerable:!0,configurable:!0,writable:!0}):b[B]=F,b}function Cr(b){return lw(b)||cw(b)||uw(b)||fw()}function lw(b){if(Array.isArray(b))return Ul(b)}function cw(b){if(typeof Symbol!="undefined"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}function uw(b,B){if(b){if(typeof b=="string")return Ul(b,B);var F=Object.prototype.toString.call(b).slice(8,-1);if(F==="Object"&&b.constructor&&(F=b.constructor.name),F==="Map"||F==="Set")return Array.from(b);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return Ul(b,B)}}function Ul(b,B){(B==null||B>b.length)&&(B=b.length);for(var F=0,K=new Array(B);F<B;F++)K[F]=b[F];return K}function fw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jo=new Vt;jo.useLongestToken=!0;jo.tokenize=No.tokenize;jo.castInput=function(b,B){var F=B.undefinedReplacement,K=B.stringifyReplacer,se=K===void 0?function(b,B){return typeof B=="undefined"?F:B}:K;return typeof b=="string"?b:JSON.stringify(ka(b,null,null,se),se,"  ")};jo.equals=function(b,B,F){return Vt.prototype.equals.call(jo,b.replace(/,([\r\n])/g,"$1"),B.replace(/,([\r\n])/g,"$1"),F)};function hw(b,B,F){return jo.diff(b,B,F)}function ka(b,B,F,K,se){B=B||[],F=F||[],K&&(b=K(se,b));var oe;for(oe=0;oe<B.length;oe+=1)if(B[oe]===b)return F[oe];var Qe;if(Object.prototype.toString.call(b)==="[object Array]"){for(B.push(b),Qe=new Array(b.length),F.push(Qe),oe=0;oe<b.length;oe+=1)Qe[oe]=ka(b[oe],B,F,K,se);return B.pop(),F.pop(),Qe}if(b&&b.toJSON&&(b=b.toJSON()),jl(b)==="object"&&b!==null){B.push(b),Qe={},F.push(Qe);var Re=[],Me;for(Me in b)Object.prototype.hasOwnProperty.call(b,Me)&&Re.push(Me);for(Re.sort(),oe=0;oe<Re.length;oe+=1)Me=Re[oe],Qe[Me]=ka(b[Me],B,F,K,Me);B.pop(),F.pop()}else Qe=b;return Qe}var Ho=new Vt;Ho.tokenize=function(b){return b.slice()};Ho.join=Ho.removeEmpty=function(b){return b};function dw(b,B,F){return Ho.diff(b,B,F)}function Dd(b){return Array.isArray(b)?b.map(Dd):kt(kt({},b),{},{hunks:b.hunks.map((function(b){return kt(kt({},b),{},{lines:b.lines.map((function(B,F){var K;return B.startsWith("\\")||B.endsWith("\r")||(K=b.lines[F+1])!==null&&K!==void 0&&K.startsWith("\\")?B:B+"\r"}))})}))})}function Fd(b){return Array.isArray(b)?b.map(Fd):kt(kt({},b),{},{hunks:b.hunks.map((function(b){return kt(kt({},b),{},{lines:b.lines.map((function(b){return b.endsWith("\r")?b.substring(0,b.length-1):b}))})}))})}function pw(b){return Array.isArray(b)||(b=[b]),!b.some((function(b){return b.hunks.some((function(b){return b.lines.some((function(b){return!b.startsWith("\\")&&b.endsWith("\r")}))}))}))}function mw(b){return Array.isArray(b)||(b=[b]),b.some((function(b){return b.hunks.some((function(b){return b.lines.some((function(b){return b.endsWith("\r")}))}))}))&&b.every((function(b){return b.hunks.every((function(b){return b.lines.every((function(B,F){var K;return B.startsWith("\\")||B.endsWith("\r")||((K=b.lines[F+1])===null||K===void 0?void 0:K.startsWith("\\"))}))}))}))}function Aa(b){var B=b.split(/\n/),F=[],K=0;function n(){var b={};for(F.push(b);K<B.length;){var se=B[K];if(/^(\-\-\-|\+\+\+|@@)\s/.test(se))break;var oe=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(se);oe&&(b.index=oe[1]),K++}for(s(b),s(b),b.hunks=[];K<B.length;){var Qe=B[K];if(/^(Index:\s|diff\s|\-\-\-\s|\+\+\+\s|===================================================================)/.test(Qe))break;if(/^@@/.test(Qe))b.hunks.push(a());else{if(Qe)throw new Error("Unknown line "+(K+1)+" "+JSON.stringify(Qe));K++}}}function s(b){var F=/^(---|\+\+\+)\s+(.*)\r?$/.exec(B[K]);if(F){var se=F[1]==="---"?"old":"new",oe=F[2].split("\t",2),Qe=oe[0].replace(/\\\\/g,"\\");/^".*"$/.test(Qe)&&(Qe=Qe.substr(1,Qe.length-2)),b[se+"FileName"]=Qe,b[se+"Header"]=(oe[1]||"").trim(),K++}}function a(){var b=K,F=B[K++],se=F.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),oe={oldStart:+se[1],oldLines:typeof se[2]=="undefined"?1:+se[2],newStart:+se[3],newLines:typeof se[4]=="undefined"?1:+se[4],lines:[]};oe.oldLines===0&&(oe.oldStart+=1),oe.newLines===0&&(oe.newStart+=1);for(var Qe=0,Re=0;K<B.length&&(Re<oe.oldLines||Qe<oe.newLines||(Me=B[K])!==null&&Me!==void 0&&Me.startsWith("\\"));K++){var Me,Le=B[K].length==0&&K!=B.length-1?" ":B[K][0];if(Le==="+"||Le==="-"||Le===" "||Le==="\\")oe.lines.push(B[K]),Le==="+"?Qe++:Le==="-"?Re++:Le===" "&&(Qe++,Re++);else throw new Error("Hunk at line ".concat(b+1," contained invalid line ").concat(B[K]))}if(!Qe&&oe.newLines===1&&(oe.newLines=0),!Re&&oe.oldLines===1&&(oe.oldLines=0),Qe!==oe.newLines)throw new Error("Added line count did not match for hunk at line "+(b+1));if(Re!==oe.oldLines)throw new Error("Removed line count did not match for hunk at line "+(b+1));return oe}for(;K<B.length;)n();return F}function gw(b,B,F){var K=!0,se=!1,oe=!1,Qe=1;return function o(){if(K&&!oe){if(se?Qe++:K=!1,b+Qe<=F)return b+Qe;oe=!0}if(!se)return oe||(K=!0),B<=b-Qe?b-Qe++:(se=!0,o())}}function qd(b,B){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof B=="string"&&(B=Aa(B)),Array.isArray(B)){if(B.length>1)throw new Error("applyPatch only works with a single input.");B=B[0]}(F.autoConvertLineEndings||F.autoConvertLineEndings==null)&&(Jx(b)&&pw(B)?B=Dd(B):Qx(b)&&mw(B)&&(B=Fd(B)));var K=b.split(`\n`),se=B.hunks,oe=F.compareLine||function(b,B,F,K){return B===K},Qe=F.fuzzFactor||0,Re=0;if(Qe<0||!Number.isInteger(Qe))throw new Error("fuzzFactor must be a non-negative integer");if(!se.length)return b;for(var Me="",Le=!1,We=!1,Ge=0;Ge<se[se.length-1].lines.length;Ge++){var ze=se[se.length-1].lines[Ge];ze[0]=="\\"&&(Me[0]=="+"?Le=!0:Me[0]=="-"&&(We=!0)),Me=ze}if(Le){if(We){if(!Qe&&K[K.length-1]=="")return!1}else if(K[K.length-1]=="")K.pop();else if(!Qe)return!1}else if(We){if(K[K.length-1]!="")K.push("");else if(!Qe)return!1}function m(b,B,F){for(var se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Qe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],Me=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,Le=0,We=!1;se<b.length;se++){var Ge=b[se],ze=Ge.length>0?Ge[0]:" ",$e=Ge.length>0?Ge.substr(1):Ge;if(ze==="-")if(oe(B+1,K[B],ze,$e))B++,Le=0;else return!F||K[B]==null?null:(Re[Me]=K[B],m(b,B+1,F-1,se,!1,Re,Me+1));if(ze==="+"){if(!Qe)return null;Re[Me]=$e,Me++,Le=0,We=!0}if(ze===" ")if(Le++,Re[Me]=K[B],oe(B+1,K[B],ze,$e))Me++,Qe=!0,We=!1,B++;else return We||!F?null:K[B]&&(m(b,B+1,F-1,se+1,!1,Re,Me+1)||m(b,B+1,F-1,se,!1,Re,Me+1))||m(b,B,F-1,se+1,!1,Re,Me)}return Me-=Le,B-=Le,Re.length=Me,{patchedLines:Re,oldLineLastI:B-1}}for(var $e=[],Ye=0,Ke=0;Ke<se.length;Ke++){for(var Xe=se[Ke],et=void 0,rt=K.length-Xe.oldLines+Qe,it=void 0,ot=0;ot<=Qe;ot++){it=Xe.oldStart+Ye-1;for(var at=gw(it,Re,rt);it!==void 0&&(et=m(Xe.lines,it,ot),!et);it=at());if(et)break}if(!et)return!1;for(var lt=Re;lt<it;lt++)$e.push(K[lt]);for(var ut=0;ut<et.patchedLines.length;ut++){var dt=et.patchedLines[ut];$e.push(dt)}Re=et.oldLineLastI+1,Ye=it+1-Xe.oldStart}for(var ht=Re;ht<K.length;ht++)$e.push(K[ht]);return $e.join(`\n`)}function vw(b,B){typeof b=="string"&&(b=Aa(b));var F=0;function i(){var K=b[F++];if(!K)return B.complete();B.loadFile(K,(function(b,F){if(b)return B.complete(b);var se=qd(F,K,B);B.patched(K,se,(function(b){if(b)return B.complete(b);i()}))}))}i()}function Ca(b,B,F,K,se,oe,Qe){if(Qe||(Qe={}),typeof Qe=="function"&&(Qe={callback:Qe}),typeof Qe.context=="undefined"&&(Qe.context=4),Qe.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(Qe.callback){var Re=Qe,Me=Re.callback;ql(F,K,kt(kt({},Qe),{},{callback:function(b){var B=c(b);Me(B)}}))}else return c(ql(F,K,Qe));function c(F){if(!F)return;F.push({value:"",lines:[]});function f(b){return b.map((function(b){return" "+b}))}for(var K=[],Re=0,Me=0,Le=[],We=1,Ge=1,S=function(){var b=F[ze],B=b.lines||_w(b.value);if(b.lines=B,b.added||b.removed){var se;if(!Re){var oe=F[ze-1];Re=We,Me=Ge,oe&&(Le=Qe.context>0?f(oe.lines.slice(-Qe.context)):[],Re-=Le.length,Me-=Le.length)}(se=Le).push.apply(se,Cr(B.map((function(B){return(b.added?"+":"-")+B})))),b.added?Ge+=B.length:We+=B.length}else{if(Re)if(B.length<=Qe.context*2&&ze<F.length-2){var $e;($e=Le).push.apply($e,Cr(f(B)))}else{var Ye,Ke=Math.min(B.length,Qe.context);(Ye=Le).push.apply(Ye,Cr(f(B.slice(0,Ke))));var Xe={oldStart:Re,oldLines:We-Re+Ke,newStart:Me,newLines:Ge-Me+Ke,lines:Le};K.push(Xe),Re=0,Me=0,Le=[]}We+=B.length,Ge+=B.length}},ze=0;ze<F.length;ze++)S();for(var $e=0,Ye=K;$e<Ye.length;$e++)for(var Ke=Ye[$e],Xe=0;Xe<Ke.lines.length;Xe++)Ke.lines[Xe].endsWith(`\n`)?Ke.lines[Xe]=Ke.lines[Xe].slice(0,-1):(Ke.lines.splice(Xe+1,0,"\\ No newline at end of file"),Xe++);return{oldFileName:b,newFileName:B,oldHeader:se,newHeader:oe,hunks:K}}}function Ta(b){if(Array.isArray(b))return b.map(Ta).join(`\n`);var B=[];b.oldFileName==b.newFileName&&B.push("Index: "+b.oldFileName),B.push("==================================================================="),B.push("--- "+b.oldFileName+(typeof b.oldHeader=="undefined"?"":"\t"+b.oldHeader)),B.push("+++ "+b.newFileName+(typeof b.newHeader=="undefined"?"":"\t"+b.newHeader));for(var F=0;F<b.hunks.length;F++){var K=b.hunks[F];K.oldLines===0&&(K.oldStart-=1),K.newLines===0&&(K.newStart-=1),B.push("@@ -"+K.oldStart+","+K.oldLines+" +"+K.newStart+","+K.newLines+" @@"),B.push.apply(B,K.lines)}return B.join(`\n`)+`\n`}function jd(b,B,F,K,se,oe,Qe){var Re;if(typeof Qe=="function"&&(Qe={callback:Qe}),(Re=Qe)!==null&&Re!==void 0&&Re.callback){var Me=Qe,Le=Me.callback;Ca(b,B,F,K,se,oe,kt(kt({},Qe),{},{callback:function(b){b?Le(Ta(b)):Le()}}))}else{var We=Ca(b,B,F,K,se,oe,Qe);return We?Ta(We):void 0}}function yw(b,B,F,K,se,oe){return jd(b,b,B,F,K,se,oe)}function _w(b){var B=b.endsWith(`\n`),F=b.split(`\n`).map((function(b){return b+`\n`}));return B?F.pop():F.push(F.pop().slice(0,-1)),F}function bw(b,B){return b.length!==B.length?!1:$l(b,B)}function $l(b,B){if(B.length>b.length)return!1;for(var F=0;F<B.length;F++)if(B[F]!==b[F])return!1;return!0}function xw(b){var B=Vl(b.lines),F=B.oldLines,K=B.newLines;F!==void 0?b.oldLines=F:delete b.oldLines,K!==void 0?b.newLines=K:delete b.newLines}function ww(b,B,F){b=Ed(b,F),B=Ed(B,F);var K={};(b.index||B.index)&&(K.index=b.index||B.index),(b.newFileName||B.newFileName)&&(kd(b)?kd(B)?(K.oldFileName=Sa(K,b.oldFileName,B.oldFileName),K.newFileName=Sa(K,b.newFileName,B.newFileName),K.oldHeader=Sa(K,b.oldHeader,B.oldHeader),K.newHeader=Sa(K,b.newHeader,B.newHeader)):(K.oldFileName=b.oldFileName,K.newFileName=b.newFileName,K.oldHeader=b.oldHeader,K.newHeader=b.newHeader):(K.oldFileName=B.oldFileName||b.oldFileName,K.newFileName=B.newFileName||b.newFileName,K.oldHeader=B.oldHeader||b.oldHeader,K.newHeader=B.newHeader||b.newHeader)),K.hunks=[];for(var se=0,oe=0,Qe=0,Re=0;se<b.hunks.length||oe<B.hunks.length;){var Me=b.hunks[se]||{oldStart:1/0},Le=B.hunks[oe]||{oldStart:1/0};if(Od(Me,Le))K.hunks.push(Cd(Me,Qe)),se++,Re+=Me.newLines-Me.oldLines;else if(Od(Le,Me))K.hunks.push(Cd(Le,Re)),oe++,Qe+=Le.newLines-Le.oldLines;else{var We={oldStart:Math.min(Me.oldStart,Le.oldStart),oldLines:0,newStart:Math.min(Me.newStart+Qe,Le.oldStart+Re),newLines:0,lines:[]};Sw(We,Me.oldStart,Me.lines,Le.oldStart,Le.lines),oe++,se++,K.hunks.push(We)}}return K}function Ed(b,B){if(typeof b=="string"){if(/^@@/m.test(b)||/^Index:/m.test(b))return Aa(b)[0];if(!B)throw new Error("Must provide a base reference or pass in a patch");return Ca(void 0,void 0,B,b)}return b}function kd(b){return b.newFileName&&b.newFileName!==b.oldFileName}function Sa(b,B,F){return B===F?B:(b.conflict=!0,{mine:B,theirs:F})}function Od(b,B){return b.oldStart<B.oldStart&&b.oldStart+b.oldLines<B.oldStart}function Cd(b,B){return{oldStart:b.oldStart,oldLines:b.oldLines,newStart:b.newStart+B,newLines:b.newLines,lines:b.lines}}function Sw(b,B,F,K,se){var oe={offset:B,lines:F,index:0},Qe={offset:K,lines:se,index:0};for(Ad(b,oe,Qe),Ad(b,Qe,oe);oe.index<oe.lines.length&&Qe.index<Qe.lines.length;){var Re=oe.lines[oe.index],Me=Qe.lines[Qe.index];if((Re[0]==="-"||Re[0]==="+")&&(Me[0]==="-"||Me[0]==="+"))Ew(b,oe,Qe);else if(Re[0]==="+"&&Me[0]===" "){var Le;(Le=b.lines).push.apply(Le,Cr(wi(oe)))}else if(Me[0]==="+"&&Re[0]===" "){var We;(We=b.lines).push.apply(We,Cr(wi(Qe)))}else Re[0]==="-"&&Me[0]===" "?Td(b,oe,Qe):Me[0]==="-"&&Re[0]===" "?Td(b,Qe,oe,!0):Re===Me?(b.lines.push(Re),oe.index++,Qe.index++):Hl(b,wi(oe),wi(Qe))}Id(b,oe),Id(b,Qe),xw(b)}function Ew(b,B,F){var K=wi(B),se=wi(F);if(Nd(K)&&Nd(se)){if($l(K,se)&&Ld(F,K,K.length-se.length)){var oe;(oe=b.lines).push.apply(oe,Cr(K));return}else if($l(se,K)&&Ld(B,se,se.length-K.length)){var Qe;(Qe=b.lines).push.apply(Qe,Cr(se));return}}else if(bw(K,se)){var Re;(Re=b.lines).push.apply(Re,Cr(K));return}Hl(b,K,se)}function Td(b,B,F,K){var se=wi(B),oe=kw(F,se);if(oe.merged){var Qe;(Qe=b.lines).push.apply(Qe,Cr(oe.merged))}else Hl(b,K?oe:se,K?se:oe)}function Hl(b,B,F){b.conflict=!0,b.lines.push({conflict:!0,mine:B,theirs:F})}function Ad(b,B,F){for(;B.offset<F.offset&&B.index<B.lines.length;){var K=B.lines[B.index++];b.lines.push(K),B.offset++}}function Id(b,B){for(;B.index<B.lines.length;){var F=B.lines[B.index++];b.lines.push(F)}}function wi(b){for(var B=[],F=b.lines[b.index][0];b.index<b.lines.length;){var K=b.lines[b.index];if(F==="-"&&K[0]==="+"&&(F="+"),F===K[0])B.push(K),b.index++;else break}return B}function kw(b,B){for(var F=[],K=[],se=0,oe=!1,Qe=!1;se<B.length&&b.index<b.lines.length;){var Re=b.lines[b.index],Me=B[se];if(Me[0]==="+")break;if(oe=oe||Re[0]!==" ",K.push(Me),se++,Re[0]==="+")for(Qe=!0;Re[0]==="+";)F.push(Re),Re=b.lines[++b.index];Me.substr(1)===Re.substr(1)?(F.push(Re),b.index++):Qe=!0}if((B[se]||"")[0]==="+"&&oe&&(Qe=!0),Qe)return F;for(;se<B.length;)K.push(B[se++]);return{merged:K,changes:F}}function Nd(b){return b.reduce((function(b,B){return b&&B[0]==="-"}),!0)}function Ld(b,B,F){for(var K=0;K<F;K++){var se=B[B.length-F+K].substr(1);if(b.lines[b.index+K]!==" "+se)return!1}return b.index+=F,!0}function Vl(b){var B=0,F=0;return b.forEach((function(b){if(typeof b!="string"){var K=Vl(b.mine),se=Vl(b.theirs);B!==void 0&&(K.oldLines===se.oldLines?B+=K.oldLines:B=void 0),F!==void 0&&(K.newLines===se.newLines?F+=K.newLines:F=void 0)}else F!==void 0&&(b[0]==="+"||b[0]===" ")&&F++,B!==void 0&&(b[0]==="-"||b[0]===" ")&&B++})),{oldLines:B,newLines:F}}function Ud(b){return Array.isArray(b)?b.map(Ud).reverse():kt(kt({},b),{},{oldFileName:b.newFileName,oldHeader:b.newHeader,newFileName:b.oldFileName,newHeader:b.oldHeader,hunks:b.hunks.map((function(b){return{oldLines:b.newLines,oldStart:b.newStart,newLines:b.oldLines,newStart:b.oldStart,lines:b.lines.map((function(b){return b.startsWith("-")?"+".concat(b.slice(1)):b.startsWith("+")?"-".concat(b.slice(1)):b}))}}))})}function Ow(b){for(var B=[],F,K,se=0;se<b.length;se++)F=b[se],F.added?K=1:F.removed?K=-1:K=0,B.push([K,F.value]);return B}function Cw(b){for(var B=[],F=0;F<b.length;F++){var K=b[F];K.added?B.push("<ins>"):K.removed&&B.push("<del>"),B.push(Tw(K.value)),K.added?B.push("</ins>"):K.removed&&B.push("</del>")}return B.join("")}function Tw(b){var B=b;return B=B.replace(/&/g,"&amp;"),B=B.replace(/</g,"&lt;"),B=B.replace(/>/g,"&gt;"),B=B.replace(/"/g,"&quot;"),B}var Uo=Je(mt()),Wo=Je(vt()),zo=Je(It()),$o=Je(Tt()),Jo=Je(Ut()),Yo=Je(rr()),Ko=Je(cr()),Xo=Je(Xr());var ea=Je(In(),1),{program:da,createCommand:pa,createArgument:ga,createOption:ma,CommanderError:ba,InvalidArgumentError:ya,InvalidOptionArgumentError:Ea,Command:_a,Argument:Ba,Option:xa,Help:Qa}=ea.default;var Oa=Je(kn()),Ra=Je(ni());var Fa=Je(ii(),1),Na=Je(Ai(),1),Ma=Je(fi(),1),La=Je(Ci(),1),ja=Je(Bi(),1);var Ha=La.default;var Ua=Je(oo());var Wa={};Ll(Wa,{BRAND:()=>xc,DIRTY:()=>qi,EMPTY_PATH:()=>tl,INVALID:()=>nl,NEVER:()=>mu,OK:()=>gt,ParseStatus:()=>rl,Schema:()=>ll,ZodAny:()=>tc,ZodArray:()=>sc,ZodBigInt:()=>zl,ZodBoolean:()=>Jl,ZodBranded:()=>kc,ZodCatch:()=>Sc,ZodDate:()=>Yl,ZodDefault:()=>Ic,ZodDiscriminatedUnion:()=>lc,ZodEffects:()=>Ec,ZodEnum:()=>vc,ZodError:()=>Ja,ZodFirstPartyTypeKind:()=>Rc,ZodFunction:()=>gc,ZodIntersection:()=>dc,ZodIssueCode:()=>$a,ZodLazy:()=>mc,ZodLiteral:()=>bc,ZodMap:()=>Ac,ZodNaN:()=>Bc,ZodNativeEnum:()=>yc,ZodNever:()=>nc,ZodNull:()=>ec,ZodNullable:()=>Cc,ZodNumber:()=>Gl,ZodObject:()=>oc,ZodOptional:()=>_c,ZodParsedType:()=>za,ZodPipeline:()=>Qc,ZodPromise:()=>wc,ZodReadonly:()=>Oc,ZodRecord:()=>pc,ZodSchema:()=>ll,ZodSet:()=>fc,ZodString:()=>Wl,ZodSymbol:()=>Kl,ZodTransformer:()=>Ec,ZodTuple:()=>hc,ZodType:()=>ll,ZodUndefined:()=>Zl,ZodUnion:()=>ac,ZodUnknown:()=>rc,ZodVoid:()=>ic,addIssueToContext:()=>W,any:()=>Wc,array:()=>$c,bigint:()=>Nc,boolean:()=>Mc,coerce:()=>gu,custom:()=>J_,date:()=>Lc,datetimeRegex:()=>K_,defaultErrorMap:()=>Xa,discriminatedUnion:()=>Zc,effect:()=>uu,enum:()=>au,function:()=>iu,getErrorMap:()=>$n,getParsedType:()=>xr,instanceof:()=>IN,intersection:()=>Xc,isAborted:()=>hl,isAsync:()=>Vn,isDirty:()=>dl,isValid:()=>ai,late:()=>Tc,lazy:()=>su,literal:()=>ou,makeIssue:()=>Js,map:()=>ru,nan:()=>Fc,nativeEnum:()=>lu,never:()=>Gc,null:()=>qc,nullable:()=>pu,number:()=>Dc,object:()=>Jc,objectUtil:()=>Ga,oboolean:()=>u2,onumber:()=>c2,optional:()=>hu,ostring:()=>l2,pipeline:()=>fu,preprocess:()=>Au,promise:()=>cu,quotelessJson:()=>iN,record:()=>tu,set:()=>nu,setErrorMap:()=>sN,strictObject:()=>Yc,string:()=>Pc,symbol:()=>Hc,transformer:()=>uu,tuple:()=>eu,undefined:()=>Uc,union:()=>Kc,unknown:()=>Vc,util:()=>Va,void:()=>zc});var Va;(function(b){b.assertEqual=b=>{};function e(b){}b.assertIs=e;function t(b){throw new Error}b.assertNever=t,b.arrayToEnum=b=>{let B={};for(let F of b)B[F]=F;return B},b.getValidEnumValues=B=>{let F=b.objectKeys(B).filter((b=>typeof B[B[b]]!="number")),K={};for(let b of F)K[b]=B[b];return b.objectValues(K)},b.objectValues=B=>b.objectKeys(B).map((function(b){return B[b]})),b.objectKeys=typeof Object.keys=="function"?b=>Object.keys(b):b=>{let B=[];for(let F in b)Object.prototype.hasOwnProperty.call(b,F)&&B.push(F);return B},b.find=(b,B)=>{for(let F of b)if(B(F))return F},b.isInteger=typeof Number.isInteger=="function"?b=>Number.isInteger(b):b=>typeof b=="number"&&Number.isFinite(b)&&Math.floor(b)===b;function i(b,B=" | "){return b.map((b=>typeof b=="string"?`'${b}'`:b)).join(B)}b.joinValues=i,b.jsonStringifyReplacer=(b,B)=>typeof B=="bigint"?B.toString():B})(Va||(Va={}));var Ga;(function(b){b.mergeShapes=(b,B)=>({...b,...B})})(Ga||(Ga={}));var za=Va.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xr=b=>{switch(typeof b){case"undefined":return za.undefined;case"string":return za.string;case"number":return Number.isNaN(b)?za.nan:za.number;case"boolean":return za.boolean;case"function":return za.function;case"bigint":return za.bigint;case"symbol":return za.symbol;case"object":return Array.isArray(b)?za.array:b===null?za.null:b.then&&typeof b.then=="function"&&b.catch&&typeof b.catch=="function"?za.promise:typeof Map!="undefined"&&b instanceof Map?za.map:typeof Set!="undefined"&&b instanceof Set?za.set:typeof Date!="undefined"&&b instanceof Date?za.date:za.object;default:return za.unknown}};var $a=Va.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),iN=b=>JSON.stringify(b,null,2).replace(/"([^"]+)":/g,"$1:"),Ja=class r extends Error{get errors(){return this.issues}constructor(b){super(),this.issues=[],this.addIssue=b=>{this.issues=[...this.issues,b]},this.addIssues=(b=[])=>{this.issues=[...this.issues,...b]};let B=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,B):this.__proto__=B,this.name="ZodError",this.issues=b}format(b){let B=b||function(b){return b.message},F={_errors:[]},n=b=>{for(let K of b.issues)if(K.code==="invalid_union")K.unionErrors.map(n);else if(K.code==="invalid_return_type")n(K.returnTypeError);else if(K.code==="invalid_arguments")n(K.argumentsError);else if(K.path.length===0)F._errors.push(B(K));else{let b=F,se=0;for(;se<K.path.length;){let F=K.path[se];se===K.path.length-1?(b[F]=b[F]||{_errors:[]},b[F]._errors.push(B(K))):b[F]=b[F]||{_errors:[]},b=b[F],se++}}};return n(this),F}static assert(b){if(!(b instanceof r))throw new Error(`Not a ZodError: ${b}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Va.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(b=b=>b.message){let B={},F=[];for(let K of this.issues)if(K.path.length>0){let F=K.path[0];B[F]=B[F]||[],B[F].push(b(K))}else F.push(b(K));return{formErrors:F,fieldErrors:B}}get formErrors(){return this.flatten()}};Ja.create=b=>new Ja(b);var nN=(b,B)=>{let F;switch(b.code){case $a.invalid_type:b.received===za.undefined?F="Required":F=`Expected ${b.expected}, received ${b.received}`;break;case $a.invalid_literal:F=`Invalid literal value, expected ${JSON.stringify(b.expected,Va.jsonStringifyReplacer)}`;break;case $a.unrecognized_keys:F=`Unrecognized key(s) in object: ${Va.joinValues(b.keys,", ")}`;break;case $a.invalid_union:F="Invalid input";break;case $a.invalid_union_discriminator:F=`Invalid discriminator value. Expected ${Va.joinValues(b.options)}`;break;case $a.invalid_enum_value:F=`Invalid enum value. Expected ${Va.joinValues(b.options)}, received '${b.received}'`;break;case $a.invalid_arguments:F="Invalid function arguments";break;case $a.invalid_return_type:F="Invalid function return type";break;case $a.invalid_date:F="Invalid date";break;case $a.invalid_string:typeof b.validation=="object"?"includes"in b.validation?(F=`Invalid input: must include "${b.validation.includes}"`,typeof b.validation.position=="number"&&(F=`${F} at one or more positions greater than or equal to ${b.validation.position}`)):"startsWith"in b.validation?F=`Invalid input: must start with "${b.validation.startsWith}"`:"endsWith"in b.validation?F=`Invalid input: must end with "${b.validation.endsWith}"`:Va.assertNever(b.validation):b.validation!=="regex"?F=`Invalid ${b.validation}`:F="Invalid";break;case $a.too_small:b.type==="array"?F=`Array must contain ${b.exact?"exactly":b.inclusive?"at least":"more than"} ${b.minimum} element(s)`:b.type==="string"?F=`String must contain ${b.exact?"exactly":b.inclusive?"at least":"over"} ${b.minimum} character(s)`:b.type==="number"?F=`Number must be ${b.exact?"exactly equal to ":b.inclusive?"greater than or equal to ":"greater than "}${b.minimum}`:b.type==="bigint"?F=`Number must be ${b.exact?"exactly equal to ":b.inclusive?"greater than or equal to ":"greater than "}${b.minimum}`:b.type==="date"?F=`Date must be ${b.exact?"exactly equal to ":b.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(b.minimum))}`:F="Invalid input";break;case $a.too_big:b.type==="array"?F=`Array must contain ${b.exact?"exactly":b.inclusive?"at most":"less than"} ${b.maximum} element(s)`:b.type==="string"?F=`String must contain ${b.exact?"exactly":b.inclusive?"at most":"under"} ${b.maximum} character(s)`:b.type==="number"?F=`Number must be ${b.exact?"exactly":b.inclusive?"less than or equal to":"less than"} ${b.maximum}`:b.type==="bigint"?F=`BigInt must be ${b.exact?"exactly":b.inclusive?"less than or equal to":"less than"} ${b.maximum}`:b.type==="date"?F=`Date must be ${b.exact?"exactly":b.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(b.maximum))}`:F="Invalid input";break;case $a.custom:F="Invalid input";break;case $a.invalid_intersection_types:F="Intersection results could not be merged";break;case $a.not_multiple_of:F=`Number must be a multiple of ${b.multipleOf}`;break;case $a.not_finite:F="Number must be finite";break;default:F=B.defaultError,Va.assertNever(b)}return{message:F}},Xa=nN;var el=Xa;function sN(b){el=b}function $n(){return el}var Js=b=>{let{data:B,path:F,errorMaps:K,issueData:se}=b,oe=[...F,...se.path||[]],Qe={...se,path:oe};if(se.message!==void 0)return{...se,path:oe,message:se.message};let Re="",Me=K.filter((b=>!!b)).slice().reverse();for(let b of Me)Re=b(Qe,{data:B,defaultError:Re}).message;return{...se,path:oe,message:Re}},tl=[];function W(b,B){let F=$n(),K=Js({issueData:B,data:b.data,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,F,F===Xa?void 0:Xa].filter((b=>!!b))});b.common.issues.push(K)}var rl=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(b,B){let F=[];for(let K of B){if(K.status==="aborted")return nl;K.status==="dirty"&&b.dirty(),F.push(K.value)}return{status:b.value,value:F}}static async mergeObjectAsync(b,B){let F=[];for(let b of B){let B=await b.key,K=await b.value;F.push({key:B,value:K})}return r.mergeObjectSync(b,F)}static mergeObjectSync(b,B){let F={};for(let K of B){let{key:B,value:se}=K;if(B.status==="aborted"||se.status==="aborted")return nl;B.status==="dirty"&&b.dirty(),se.status==="dirty"&&b.dirty(),B.value!=="__proto__"&&(typeof se.value!="undefined"||K.alwaysSet)&&(F[B.value]=se.value)}return{status:b.value,value:F}}},nl=Object.freeze({status:"aborted"}),qi=b=>({status:"dirty",value:b}),gt=b=>({status:"valid",value:b}),hl=b=>b.status==="aborted",dl=b=>b.status==="dirty",ai=b=>b.status==="valid",Vn=b=>typeof Promise!="undefined"&&b instanceof Promise;var il;(function(b){b.errToObj=b=>typeof b=="string"?{message:b}:b||{},b.toString=b=>typeof b=="string"?b:b==null?void 0:b.message})(il||(il={}));var sl=class{constructor(b,B,F,K){this._cachedPath=[],this.parent=b,this.data=B,this._path=F,this._key=K}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},G_=(b,B)=>{if(ai(B))return{success:!0,data:B.value};if(!b.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let B=new Ja(b.common.issues);return this._error=B,this._error}}};function ge(b){if(!b)return{};let{errorMap:B,invalid_type_error:F,required_error:K,description:se}=b;if(B&&(F||K))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return B?{errorMap:B,description:se}:{errorMap:(B,se)=>{var oe,Qe;let{message:Re}=b;return B.code==="invalid_enum_value"?{message:Re!=null?Re:se.defaultError}:typeof se.data=="undefined"?{message:(oe=Re!=null?Re:K)!=null?oe:se.defaultError}:B.code!=="invalid_type"?{message:se.defaultError}:{message:(Qe=Re!=null?Re:F)!=null?Qe:se.defaultError}},description:se}}var ll=class{get description(){return this._def.description}_getType(b){return xr(b.data)}_getOrReturnCtx(b,B){return B||{common:b.parent.common,data:b.data,parsedType:xr(b.data),schemaErrorMap:this._def.errorMap,path:b.path,parent:b.parent}}_processInputParams(b){return{status:new rl,ctx:{common:b.parent.common,data:b.data,parsedType:xr(b.data),schemaErrorMap:this._def.errorMap,path:b.path,parent:b.parent}}}_parseSync(b){let B=this._parse(b);if(Vn(B))throw new Error("Synchronous parse encountered promise.");return B}_parseAsync(b){let B=this._parse(b);return Promise.resolve(B)}parse(b,B){let F=this.safeParse(b,B);if(F.success)return F.data;throw F.error}safeParse(b,B){var F;let K={common:{issues:[],async:(F=B==null?void 0:B.async)!=null?F:!1,contextualErrorMap:B==null?void 0:B.errorMap},path:(B==null?void 0:B.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:b,parsedType:xr(b)},se=this._parseSync({data:b,path:K.path,parent:K});return G_(K,se)}"~validate"(b){var B,F;let K={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:b,parsedType:xr(b)};if(!this["~standard"].async)try{let B=this._parseSync({data:b,path:[],parent:K});return ai(B)?{value:B.value}:{issues:K.common.issues}}catch(b){(F=(B=b==null?void 0:b.message)==null?void 0:B.toLowerCase())!=null&&F.includes("encountered")&&(this["~standard"].async=!0),K.common={issues:[],async:!0}}return this._parseAsync({data:b,path:[],parent:K}).then((b=>ai(b)?{value:b.value}:{issues:K.common.issues}))}async parseAsync(b,B){let F=await this.safeParseAsync(b,B);if(F.success)return F.data;throw F.error}async safeParseAsync(b,B){let F={common:{issues:[],contextualErrorMap:B==null?void 0:B.errorMap,async:!0},path:(B==null?void 0:B.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:b,parsedType:xr(b)},K=this._parse({data:b,path:F.path,parent:F}),se=await(Vn(K)?K:Promise.resolve(K));return G_(F,se)}refine(b,B){let i=b=>typeof B=="string"||typeof B=="undefined"?{message:B}:typeof B=="function"?B(b):B;return this._refinement(((B,F)=>{let K=b(B),o=()=>F.addIssue({code:$a.custom,...i(B)});return typeof Promise!="undefined"&&K instanceof Promise?K.then((b=>b?!0:(o(),!1))):K?!0:(o(),!1)}))}refinement(b,B){return this._refinement(((F,K)=>b(F)?!0:(K.addIssue(typeof B=="function"?B(F,K):B),!1)))}_refinement(b){return new Ec({schema:this,typeName:Rc.ZodEffects,effect:{type:"refinement",refinement:b}})}superRefine(b){return this._refinement(b)}constructor(b){this.spa=this.safeParseAsync,this._def=b,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:b=>this["~validate"](b)}}optional(){return _c.create(this,this._def)}nullable(){return Cc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return sc.create(this)}promise(){return wc.create(this,this._def)}or(b){return ac.create([this,b],this._def)}and(b){return dc.create(this,b,this._def)}transform(b){return new Ec({...ge(this._def),schema:this,typeName:Rc.ZodEffects,effect:{type:"transform",transform:b}})}default(b){let B=typeof b=="function"?b:()=>b;return new Ic({...ge(this._def),innerType:this,defaultValue:B,typeName:Rc.ZodDefault})}brand(){return new kc({typeName:Rc.ZodBranded,type:this,...ge(this._def)})}catch(b){let B=typeof b=="function"?b:()=>b;return new Sc({...ge(this._def),innerType:this,catchValue:B,typeName:Rc.ZodCatch})}describe(b){let B=this.constructor;return new B({...this._def,description:b})}pipe(b){return Qc.create(this,b)}readonly(){return Oc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},cl=/^c[^\s-]{8,}$/i,pl=/^[0-9a-z]+$/,fl=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ml=/^[a-z0-9_-]{21}$/i,bl=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yl=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wl="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",El,_l=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Il=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Sl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ql=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rl=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Nl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ml=new RegExp(`^${Nl}$`);function Y_(b){let B="[0-5]\\d";b.precision?B=`${B}\\.\\d{${b.precision}}`:b.precision==null&&(B=`${B}(\\.\\d+)?`);let F=b.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${B})${F}`}function SN(b){return new RegExp(`^${Y_(b)}$`)}function K_(b){let B=`${Nl}T${Y_(b)}`,F=[];return F.push(b.local?"Z?":"Z"),b.offset&&F.push("([+-]\\d{2}:?\\d{2})"),B=`${B}(${F.join("|")})`,new RegExp(`^${B}$`)}function EN(b,B){return!!((B==="v4"||!B)&&_l.test(b)||(B==="v6"||!B)&&Sl.test(b))}function kN(b,B){if(!bl.test(b))return!1;try{let[F]=b.split(".");if(!F)return!1;let K=F.replace(/-/g,"+").replace(/_/g,"/").padEnd(F.length+(4-F.length%4)%4,"="),se=JSON.parse(atob(K));return!(typeof se!="object"||se===null||"typ"in se&&(se==null?void 0:se.typ)!=="JWT"||!se.alg||B&&se.alg!==B)}catch{return!1}}function ON(b,B){return!!((B==="v4"||!B)&&Il.test(b)||(B==="v6"||!B)&&xl.test(b))}var Wl=class r extends ll{_parse(b){if(this._def.coerce&&(b.data=String(b.data)),this._getType(b)!==za.string){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.string,received:B.parsedType}),nl}let B=new rl,F;for(let K of this._def.checks)if(K.kind==="min")b.data.length<K.value&&(F=this._getOrReturnCtx(b,F),W(F,{code:$a.too_small,minimum:K.value,type:"string",inclusive:!0,exact:!1,message:K.message}),B.dirty());else if(K.kind==="max")b.data.length>K.value&&(F=this._getOrReturnCtx(b,F),W(F,{code:$a.too_big,maximum:K.value,type:"string",inclusive:!0,exact:!1,message:K.message}),B.dirty());else if(K.kind==="length"){let se=b.data.length>K.value,oe=b.data.length<K.value;(se||oe)&&(F=this._getOrReturnCtx(b,F),se?W(F,{code:$a.too_big,maximum:K.value,type:"string",inclusive:!0,exact:!0,message:K.message}):oe&&W(F,{code:$a.too_small,minimum:K.value,type:"string",inclusive:!0,exact:!0,message:K.message}),B.dirty())}else if(K.kind==="email")yl.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"email",code:$a.invalid_string,message:K.message}),B.dirty());else if(K.kind==="emoji")El||(El=new RegExp(wl,"u")),El.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"emoji",code:$a.invalid_string,message:K.message}),B.dirty());else if(K.kind==="uuid")gl.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"uuid",code:$a.invalid_string,message:K.message}),B.dirty());else if(K.kind==="nanoid")ml.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"nanoid",code:$a.invalid_string,message:K.message}),B.dirty());else if(K.kind==="cuid")cl.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"cuid",code:$a.invalid_string,message:K.message}),B.dirty());else if(K.kind==="cuid2")pl.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"cuid2",code:$a.invalid_string,message:K.message}),B.dirty());else if(K.kind==="ulid")fl.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"ulid",code:$a.invalid_string,message:K.message}),B.dirty());else if(K.kind==="url")try{new URL(b.data)}catch{F=this._getOrReturnCtx(b,F),W(F,{validation:"url",code:$a.invalid_string,message:K.message}),B.dirty()}else K.kind==="regex"?(K.regex.lastIndex=0,K.regex.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"regex",code:$a.invalid_string,message:K.message}),B.dirty())):K.kind==="trim"?b.data=b.data.trim():K.kind==="includes"?b.data.includes(K.value,K.position)||(F=this._getOrReturnCtx(b,F),W(F,{code:$a.invalid_string,validation:{includes:K.value,position:K.position},message:K.message}),B.dirty()):K.kind==="toLowerCase"?b.data=b.data.toLowerCase():K.kind==="toUpperCase"?b.data=b.data.toUpperCase():K.kind==="startsWith"?b.data.startsWith(K.value)||(F=this._getOrReturnCtx(b,F),W(F,{code:$a.invalid_string,validation:{startsWith:K.value},message:K.message}),B.dirty()):K.kind==="endsWith"?b.data.endsWith(K.value)||(F=this._getOrReturnCtx(b,F),W(F,{code:$a.invalid_string,validation:{endsWith:K.value},message:K.message}),B.dirty()):K.kind==="datetime"?K_(K).test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{code:$a.invalid_string,validation:"datetime",message:K.message}),B.dirty()):K.kind==="date"?Ml.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{code:$a.invalid_string,validation:"date",message:K.message}),B.dirty()):K.kind==="time"?SN(K).test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{code:$a.invalid_string,validation:"time",message:K.message}),B.dirty()):K.kind==="duration"?vl.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"duration",code:$a.invalid_string,message:K.message}),B.dirty()):K.kind==="ip"?EN(b.data,K.version)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"ip",code:$a.invalid_string,message:K.message}),B.dirty()):K.kind==="jwt"?kN(b.data,K.alg)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"jwt",code:$a.invalid_string,message:K.message}),B.dirty()):K.kind==="cidr"?ON(b.data,K.version)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"cidr",code:$a.invalid_string,message:K.message}),B.dirty()):K.kind==="base64"?Ql.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"base64",code:$a.invalid_string,message:K.message}),B.dirty()):K.kind==="base64url"?Rl.test(b.data)||(F=this._getOrReturnCtx(b,F),W(F,{validation:"base64url",code:$a.invalid_string,message:K.message}),B.dirty()):Va.assertNever(K);return{status:B.value,value:b.data}}_regex(b,B,F){return this.refinement((B=>b.test(B)),{validation:B,code:$a.invalid_string,...il.errToObj(F)})}_addCheck(b){return new r({...this._def,checks:[...this._def.checks,b]})}email(b){return this._addCheck({kind:"email",...il.errToObj(b)})}url(b){return this._addCheck({kind:"url",...il.errToObj(b)})}emoji(b){return this._addCheck({kind:"emoji",...il.errToObj(b)})}uuid(b){return this._addCheck({kind:"uuid",...il.errToObj(b)})}nanoid(b){return this._addCheck({kind:"nanoid",...il.errToObj(b)})}cuid(b){return this._addCheck({kind:"cuid",...il.errToObj(b)})}cuid2(b){return this._addCheck({kind:"cuid2",...il.errToObj(b)})}ulid(b){return this._addCheck({kind:"ulid",...il.errToObj(b)})}base64(b){return this._addCheck({kind:"base64",...il.errToObj(b)})}base64url(b){return this._addCheck({kind:"base64url",...il.errToObj(b)})}jwt(b){return this._addCheck({kind:"jwt",...il.errToObj(b)})}ip(b){return this._addCheck({kind:"ip",...il.errToObj(b)})}cidr(b){return this._addCheck({kind:"cidr",...il.errToObj(b)})}datetime(b){var B,F;return typeof b=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:b}):this._addCheck({kind:"datetime",precision:typeof(b==null?void 0:b.precision)=="undefined"?null:b==null?void 0:b.precision,offset:(B=b==null?void 0:b.offset)!=null?B:!1,local:(F=b==null?void 0:b.local)!=null?F:!1,...il.errToObj(b==null?void 0:b.message)})}date(b){return this._addCheck({kind:"date",message:b})}time(b){return typeof b=="string"?this._addCheck({kind:"time",precision:null,message:b}):this._addCheck({kind:"time",precision:typeof(b==null?void 0:b.precision)=="undefined"?null:b==null?void 0:b.precision,...il.errToObj(b==null?void 0:b.message)})}duration(b){return this._addCheck({kind:"duration",...il.errToObj(b)})}regex(b,B){return this._addCheck({kind:"regex",regex:b,...il.errToObj(B)})}includes(b,B){return this._addCheck({kind:"includes",value:b,position:B==null?void 0:B.position,...il.errToObj(B==null?void 0:B.message)})}startsWith(b,B){return this._addCheck({kind:"startsWith",value:b,...il.errToObj(B)})}endsWith(b,B){return this._addCheck({kind:"endsWith",value:b,...il.errToObj(B)})}min(b,B){return this._addCheck({kind:"min",value:b,...il.errToObj(B)})}max(b,B){return this._addCheck({kind:"max",value:b,...il.errToObj(B)})}length(b,B){return this._addCheck({kind:"length",value:b,...il.errToObj(B)})}nonempty(b){return this.min(1,il.errToObj(b))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((b=>b.kind==="datetime"))}get isDate(){return!!this._def.checks.find((b=>b.kind==="date"))}get isTime(){return!!this._def.checks.find((b=>b.kind==="time"))}get isDuration(){return!!this._def.checks.find((b=>b.kind==="duration"))}get isEmail(){return!!this._def.checks.find((b=>b.kind==="email"))}get isURL(){return!!this._def.checks.find((b=>b.kind==="url"))}get isEmoji(){return!!this._def.checks.find((b=>b.kind==="emoji"))}get isUUID(){return!!this._def.checks.find((b=>b.kind==="uuid"))}get isNANOID(){return!!this._def.checks.find((b=>b.kind==="nanoid"))}get isCUID(){return!!this._def.checks.find((b=>b.kind==="cuid"))}get isCUID2(){return!!this._def.checks.find((b=>b.kind==="cuid2"))}get isULID(){return!!this._def.checks.find((b=>b.kind==="ulid"))}get isIP(){return!!this._def.checks.find((b=>b.kind==="ip"))}get isCIDR(){return!!this._def.checks.find((b=>b.kind==="cidr"))}get isBase64(){return!!this._def.checks.find((b=>b.kind==="base64"))}get isBase64url(){return!!this._def.checks.find((b=>b.kind==="base64url"))}get minLength(){let b=null;for(let B of this._def.checks)B.kind==="min"&&(b===null||B.value>b)&&(b=B.value);return b}get maxLength(){let b=null;for(let B of this._def.checks)B.kind==="max"&&(b===null||B.value<b)&&(b=B.value);return b}};Wl.create=b=>{var B;return new Wl({checks:[],typeName:Rc.ZodString,coerce:(B=b==null?void 0:b.coerce)!=null?B:!1,...ge(b)})};function CN(b,B){let F=(b.toString().split(".")[1]||"").length,K=(B.toString().split(".")[1]||"").length,se=F>K?F:K,oe=Number.parseInt(b.toFixed(se).replace(".","")),Qe=Number.parseInt(B.toFixed(se).replace(".",""));return oe%Qe/10**se}var Gl=class r extends ll{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(b){if(this._def.coerce&&(b.data=Number(b.data)),this._getType(b)!==za.number){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.number,received:B.parsedType}),nl}let B,F=new rl;for(let K of this._def.checks)K.kind==="int"?Va.isInteger(b.data)||(B=this._getOrReturnCtx(b,B),W(B,{code:$a.invalid_type,expected:"integer",received:"float",message:K.message}),F.dirty()):K.kind==="min"?(K.inclusive?b.data<K.value:b.data<=K.value)&&(B=this._getOrReturnCtx(b,B),W(B,{code:$a.too_small,minimum:K.value,type:"number",inclusive:K.inclusive,exact:!1,message:K.message}),F.dirty()):K.kind==="max"?(K.inclusive?b.data>K.value:b.data>=K.value)&&(B=this._getOrReturnCtx(b,B),W(B,{code:$a.too_big,maximum:K.value,type:"number",inclusive:K.inclusive,exact:!1,message:K.message}),F.dirty()):K.kind==="multipleOf"?CN(b.data,K.value)!==0&&(B=this._getOrReturnCtx(b,B),W(B,{code:$a.not_multiple_of,multipleOf:K.value,message:K.message}),F.dirty()):K.kind==="finite"?Number.isFinite(b.data)||(B=this._getOrReturnCtx(b,B),W(B,{code:$a.not_finite,message:K.message}),F.dirty()):Va.assertNever(K);return{status:F.value,value:b.data}}gte(b,B){return this.setLimit("min",b,!0,il.toString(B))}gt(b,B){return this.setLimit("min",b,!1,il.toString(B))}lte(b,B){return this.setLimit("max",b,!0,il.toString(B))}lt(b,B){return this.setLimit("max",b,!1,il.toString(B))}setLimit(b,B,F,K){return new r({...this._def,checks:[...this._def.checks,{kind:b,value:B,inclusive:F,message:il.toString(K)}]})}_addCheck(b){return new r({...this._def,checks:[...this._def.checks,b]})}int(b){return this._addCheck({kind:"int",message:il.toString(b)})}positive(b){return this._addCheck({kind:"min",value:0,inclusive:!1,message:il.toString(b)})}negative(b){return this._addCheck({kind:"max",value:0,inclusive:!1,message:il.toString(b)})}nonpositive(b){return this._addCheck({kind:"max",value:0,inclusive:!0,message:il.toString(b)})}nonnegative(b){return this._addCheck({kind:"min",value:0,inclusive:!0,message:il.toString(b)})}multipleOf(b,B){return this._addCheck({kind:"multipleOf",value:b,message:il.toString(B)})}finite(b){return this._addCheck({kind:"finite",message:il.toString(b)})}safe(b){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:il.toString(b)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:il.toString(b)})}get minValue(){let b=null;for(let B of this._def.checks)B.kind==="min"&&(b===null||B.value>b)&&(b=B.value);return b}get maxValue(){let b=null;for(let B of this._def.checks)B.kind==="max"&&(b===null||B.value<b)&&(b=B.value);return b}get isInt(){return!!this._def.checks.find((b=>b.kind==="int"||b.kind==="multipleOf"&&Va.isInteger(b.value)))}get isFinite(){let b=null,B=null;for(let F of this._def.checks){if(F.kind==="finite"||F.kind==="int"||F.kind==="multipleOf")return!0;F.kind==="min"?(B===null||F.value>B)&&(B=F.value):F.kind==="max"&&(b===null||F.value<b)&&(b=F.value)}return Number.isFinite(B)&&Number.isFinite(b)}};Gl.create=b=>new Gl({checks:[],typeName:Rc.ZodNumber,coerce:(b==null?void 0:b.coerce)||!1,...ge(b)});var zl=class r extends ll{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(b){if(this._def.coerce)try{b.data=BigInt(b.data)}catch{return this._getInvalidInput(b)}if(this._getType(b)!==za.bigint)return this._getInvalidInput(b);let B,F=new rl;for(let K of this._def.checks)K.kind==="min"?(K.inclusive?b.data<K.value:b.data<=K.value)&&(B=this._getOrReturnCtx(b,B),W(B,{code:$a.too_small,type:"bigint",minimum:K.value,inclusive:K.inclusive,message:K.message}),F.dirty()):K.kind==="max"?(K.inclusive?b.data>K.value:b.data>=K.value)&&(B=this._getOrReturnCtx(b,B),W(B,{code:$a.too_big,type:"bigint",maximum:K.value,inclusive:K.inclusive,message:K.message}),F.dirty()):K.kind==="multipleOf"?b.data%K.value!==BigInt(0)&&(B=this._getOrReturnCtx(b,B),W(B,{code:$a.not_multiple_of,multipleOf:K.value,message:K.message}),F.dirty()):Va.assertNever(K);return{status:F.value,value:b.data}}_getInvalidInput(b){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.bigint,received:B.parsedType}),nl}gte(b,B){return this.setLimit("min",b,!0,il.toString(B))}gt(b,B){return this.setLimit("min",b,!1,il.toString(B))}lte(b,B){return this.setLimit("max",b,!0,il.toString(B))}lt(b,B){return this.setLimit("max",b,!1,il.toString(B))}setLimit(b,B,F,K){return new r({...this._def,checks:[...this._def.checks,{kind:b,value:B,inclusive:F,message:il.toString(K)}]})}_addCheck(b){return new r({...this._def,checks:[...this._def.checks,b]})}positive(b){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:il.toString(b)})}negative(b){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:il.toString(b)})}nonpositive(b){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:il.toString(b)})}nonnegative(b){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:il.toString(b)})}multipleOf(b,B){return this._addCheck({kind:"multipleOf",value:b,message:il.toString(B)})}get minValue(){let b=null;for(let B of this._def.checks)B.kind==="min"&&(b===null||B.value>b)&&(b=B.value);return b}get maxValue(){let b=null;for(let B of this._def.checks)B.kind==="max"&&(b===null||B.value<b)&&(b=B.value);return b}};zl.create=b=>{var B;return new zl({checks:[],typeName:Rc.ZodBigInt,coerce:(B=b==null?void 0:b.coerce)!=null?B:!1,...ge(b)})};var Jl=class extends ll{_parse(b){if(this._def.coerce&&(b.data=!!b.data),this._getType(b)!==za.boolean){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.boolean,received:B.parsedType}),nl}return gt(b.data)}};Jl.create=b=>new Jl({typeName:Rc.ZodBoolean,coerce:(b==null?void 0:b.coerce)||!1,...ge(b)});var Yl=class r extends ll{_parse(b){if(this._def.coerce&&(b.data=new Date(b.data)),this._getType(b)!==za.date){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.date,received:B.parsedType}),nl}if(Number.isNaN(b.data.getTime())){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_date}),nl}let B=new rl,F;for(let K of this._def.checks)K.kind==="min"?b.data.getTime()<K.value&&(F=this._getOrReturnCtx(b,F),W(F,{code:$a.too_small,message:K.message,inclusive:!0,exact:!1,minimum:K.value,type:"date"}),B.dirty()):K.kind==="max"?b.data.getTime()>K.value&&(F=this._getOrReturnCtx(b,F),W(F,{code:$a.too_big,message:K.message,inclusive:!0,exact:!1,maximum:K.value,type:"date"}),B.dirty()):Va.assertNever(K);return{status:B.value,value:new Date(b.data.getTime())}}_addCheck(b){return new r({...this._def,checks:[...this._def.checks,b]})}min(b,B){return this._addCheck({kind:"min",value:b.getTime(),message:il.toString(B)})}max(b,B){return this._addCheck({kind:"max",value:b.getTime(),message:il.toString(B)})}get minDate(){let b=null;for(let B of this._def.checks)B.kind==="min"&&(b===null||B.value>b)&&(b=B.value);return b!=null?new Date(b):null}get maxDate(){let b=null;for(let B of this._def.checks)B.kind==="max"&&(b===null||B.value<b)&&(b=B.value);return b!=null?new Date(b):null}};Yl.create=b=>new Yl({checks:[],coerce:(b==null?void 0:b.coerce)||!1,typeName:Rc.ZodDate,...ge(b)});var Kl=class extends ll{_parse(b){if(this._getType(b)!==za.symbol){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.symbol,received:B.parsedType}),nl}return gt(b.data)}};Kl.create=b=>new Kl({typeName:Rc.ZodSymbol,...ge(b)});var Zl=class extends ll{_parse(b){if(this._getType(b)!==za.undefined){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.undefined,received:B.parsedType}),nl}return gt(b.data)}};Zl.create=b=>new Zl({typeName:Rc.ZodUndefined,...ge(b)});var ec=class extends ll{_parse(b){if(this._getType(b)!==za.null){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.null,received:B.parsedType}),nl}return gt(b.data)}};ec.create=b=>new ec({typeName:Rc.ZodNull,...ge(b)});var tc=class extends ll{constructor(){super(...arguments),this._any=!0}_parse(b){return gt(b.data)}};tc.create=b=>new tc({typeName:Rc.ZodAny,...ge(b)});var rc=class extends ll{constructor(){super(...arguments),this._unknown=!0}_parse(b){return gt(b.data)}};rc.create=b=>new rc({typeName:Rc.ZodUnknown,...ge(b)});var nc=class extends ll{_parse(b){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.never,received:B.parsedType}),nl}};nc.create=b=>new nc({typeName:Rc.ZodNever,...ge(b)});var ic=class extends ll{_parse(b){if(this._getType(b)!==za.undefined){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.void,received:B.parsedType}),nl}return gt(b.data)}};ic.create=b=>new ic({typeName:Rc.ZodVoid,...ge(b)});var sc=class r extends ll{_parse(b){let{ctx:B,status:F}=this._processInputParams(b),K=this._def;if(B.parsedType!==za.array)return W(B,{code:$a.invalid_type,expected:za.array,received:B.parsedType}),nl;if(K.exactLength!==null){let b=B.data.length>K.exactLength.value,se=B.data.length<K.exactLength.value;(b||se)&&(W(B,{code:b?$a.too_big:$a.too_small,minimum:se?K.exactLength.value:void 0,maximum:b?K.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:K.exactLength.message}),F.dirty())}if(K.minLength!==null&&B.data.length<K.minLength.value&&(W(B,{code:$a.too_small,minimum:K.minLength.value,type:"array",inclusive:!0,exact:!1,message:K.minLength.message}),F.dirty()),K.maxLength!==null&&B.data.length>K.maxLength.value&&(W(B,{code:$a.too_big,maximum:K.maxLength.value,type:"array",inclusive:!0,exact:!1,message:K.maxLength.message}),F.dirty()),B.common.async)return Promise.all([...B.data].map(((b,F)=>K.type._parseAsync(new sl(B,b,B.path,F))))).then((b=>rl.mergeArray(F,b)));let se=[...B.data].map(((b,F)=>K.type._parseSync(new sl(B,b,B.path,F))));return rl.mergeArray(F,se)}get element(){return this._def.type}min(b,B){return new r({...this._def,minLength:{value:b,message:il.toString(B)}})}max(b,B){return new r({...this._def,maxLength:{value:b,message:il.toString(B)}})}length(b,B){return new r({...this._def,exactLength:{value:b,message:il.toString(B)}})}nonempty(b){return this.min(1,b)}};sc.create=(b,B)=>new sc({type:b,minLength:null,maxLength:null,exactLength:null,typeName:Rc.ZodArray,...ge(B)});function Hn(b){if(b instanceof oc){let B={};for(let F in b.shape){let K=b.shape[F];B[F]=_c.create(Hn(K))}return new oc({...b._def,shape:()=>B})}else return b instanceof sc?new sc({...b._def,type:Hn(b.element)}):b instanceof _c?_c.create(Hn(b.unwrap())):b instanceof Cc?Cc.create(Hn(b.unwrap())):b instanceof hc?hc.create(b.items.map((b=>Hn(b)))):b}var oc=class r extends ll{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let b=this._def.shape(),B=Va.objectKeys(b);return this._cached={shape:b,keys:B},this._cached}_parse(b){if(this._getType(b)!==za.object){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.object,received:B.parsedType}),nl}let{status:B,ctx:F}=this._processInputParams(b),{shape:K,keys:se}=this._getCached(),oe=[];if(!(this._def.catchall instanceof nc&&this._def.unknownKeys==="strip"))for(let b in F.data)se.includes(b)||oe.push(b);let Qe=[];for(let b of se){let B=K[b],se=F.data[b];Qe.push({key:{status:"valid",value:b},value:B._parse(new sl(F,se,F.path,b)),alwaysSet:b in F.data})}if(this._def.catchall instanceof nc){let b=this._def.unknownKeys;if(b==="passthrough")for(let b of oe)Qe.push({key:{status:"valid",value:b},value:{status:"valid",value:F.data[b]}});else if(b==="strict")oe.length>0&&(W(F,{code:$a.unrecognized_keys,keys:oe}),B.dirty());else if(b!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let b=this._def.catchall;for(let B of oe){let K=F.data[B];Qe.push({key:{status:"valid",value:B},value:b._parse(new sl(F,K,F.path,B)),alwaysSet:B in F.data})}}return F.common.async?Promise.resolve().then((async()=>{let b=[];for(let B of Qe){let F=await B.key,K=await B.value;b.push({key:F,value:K,alwaysSet:B.alwaysSet})}return b})).then((b=>rl.mergeObjectSync(B,b))):rl.mergeObjectSync(B,Qe)}get shape(){return this._def.shape()}strict(b){return il.errToObj,new r({...this._def,unknownKeys:"strict",...b!==void 0?{errorMap:(B,F)=>{var K,se,oe,Qe;let Re=(oe=(se=(K=this._def).errorMap)==null?void 0:se.call(K,B,F).message)!=null?oe:F.defaultError;return B.code==="unrecognized_keys"?{message:(Qe=il.errToObj(b).message)!=null?Qe:Re}:{message:Re}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(b){return new r({...this._def,shape:()=>({...this._def.shape(),...b})})}merge(b){return new r({unknownKeys:b._def.unknownKeys,catchall:b._def.catchall,shape:()=>({...this._def.shape(),...b._def.shape()}),typeName:Rc.ZodObject})}setKey(b,B){return this.augment({[b]:B})}catchall(b){return new r({...this._def,catchall:b})}pick(b){let B={};for(let F of Va.objectKeys(b))b[F]&&this.shape[F]&&(B[F]=this.shape[F]);return new r({...this._def,shape:()=>B})}omit(b){let B={};for(let F of Va.objectKeys(this.shape))b[F]||(B[F]=this.shape[F]);return new r({...this._def,shape:()=>B})}deepPartial(){return Hn(this)}partial(b){let B={};for(let F of Va.objectKeys(this.shape)){let K=this.shape[F];b&&!b[F]?B[F]=K:B[F]=K.optional()}return new r({...this._def,shape:()=>B})}required(b){let B={};for(let F of Va.objectKeys(this.shape))if(b&&!b[F])B[F]=this.shape[F];else{let b=this.shape[F];for(;b instanceof _c;)b=b._def.innerType;B[F]=b}return new r({...this._def,shape:()=>B})}keyof(){return Z_(Va.objectKeys(this.shape))}};oc.create=(b,B)=>new oc({shape:()=>b,unknownKeys:"strip",catchall:nc.create(),typeName:Rc.ZodObject,...ge(B)});oc.strictCreate=(b,B)=>new oc({shape:()=>b,unknownKeys:"strict",catchall:nc.create(),typeName:Rc.ZodObject,...ge(B)});oc.lazycreate=(b,B)=>new oc({shape:b,unknownKeys:"strip",catchall:nc.create(),typeName:Rc.ZodObject,...ge(B)});var ac=class extends ll{_parse(b){let{ctx:B}=this._processInputParams(b),F=this._def.options;function n(b){for(let B of b)if(B.result.status==="valid")return B.result;for(let F of b)if(F.result.status==="dirty")return B.common.issues.push(...F.ctx.common.issues),F.result;let F=b.map((b=>new Ja(b.ctx.common.issues)));return W(B,{code:$a.invalid_union,unionErrors:F}),nl}if(B.common.async)return Promise.all(F.map((async b=>{let F={...B,common:{...B.common,issues:[]},parent:null};return{result:await b._parseAsync({data:B.data,path:B.path,parent:F}),ctx:F}}))).then(n);{let b,K=[];for(let se of F){let F={...B,common:{...B.common,issues:[]},parent:null},oe=se._parseSync({data:B.data,path:B.path,parent:F});if(oe.status==="valid")return oe;oe.status==="dirty"&&!b&&(b={result:oe,ctx:F}),F.common.issues.length&&K.push(F.common.issues)}if(b)return B.common.issues.push(...b.ctx.common.issues),b.result;let se=K.map((b=>new Ja(b)));return W(B,{code:$a.invalid_union,unionErrors:se}),nl}}get options(){return this._def.options}};ac.create=(b,B)=>new ac({options:b,typeName:Rc.ZodUnion,...ge(B)});var Fr=b=>b instanceof mc?Fr(b.schema):b instanceof Ec?Fr(b.innerType()):b instanceof bc?[b.value]:b instanceof vc?b.options:b instanceof yc?Va.objectValues(b.enum):b instanceof Ic?Fr(b._def.innerType):b instanceof Zl?[void 0]:b instanceof ec?[null]:b instanceof _c?[void 0,...Fr(b.unwrap())]:b instanceof Cc?[null,...Fr(b.unwrap())]:b instanceof kc||b instanceof Oc?Fr(b.unwrap()):b instanceof Sc?Fr(b._def.innerType):[],lc=class r extends ll{_parse(b){let{ctx:B}=this._processInputParams(b);if(B.parsedType!==za.object)return W(B,{code:$a.invalid_type,expected:za.object,received:B.parsedType}),nl;let F=this.discriminator,K=B.data[F],se=this.optionsMap.get(K);return se?B.common.async?se._parseAsync({data:B.data,path:B.path,parent:B}):se._parseSync({data:B.data,path:B.path,parent:B}):(W(B,{code:$a.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[F]}),nl)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(b,B,F){let K=new Map;for(let F of B){let B=Fr(F.shape[b]);if(!B.length)throw new Error(`A discriminator value for key \`${b}\` could not be extracted from all schema options`);for(let se of B){if(K.has(se))throw new Error(`Discriminator property ${String(b)} has duplicate value ${String(se)}`);K.set(se,F)}}return new r({typeName:Rc.ZodDiscriminatedUnion,discriminator:b,options:B,optionsMap:K,...ge(F)})}};function _h(b,B){let F=xr(b),K=xr(B);if(b===B)return{valid:!0,data:b};if(F===za.object&&K===za.object){let F=Va.objectKeys(B),K=Va.objectKeys(b).filter((b=>F.indexOf(b)!==-1)),se={...b,...B};for(let F of K){let K=_h(b[F],B[F]);if(!K.valid)return{valid:!1};se[F]=K.data}return{valid:!0,data:se}}else if(F===za.array&&K===za.array){if(b.length!==B.length)return{valid:!1};let F=[];for(let K=0;K<b.length;K++){let se=b[K],oe=B[K],Qe=_h(se,oe);if(!Qe.valid)return{valid:!1};F.push(Qe.data)}return{valid:!0,data:F}}else return F===za.date&&K===za.date&&+b==+B?{valid:!0,data:b}:{valid:!1}}var dc=class extends ll{_parse(b){let{status:B,ctx:F}=this._processInputParams(b),n=(b,K)=>{if(hl(b)||hl(K))return nl;let se=_h(b.value,K.value);return se.valid?((dl(b)||dl(K))&&B.dirty(),{status:B.value,value:se.data}):(W(F,{code:$a.invalid_intersection_types}),nl)};return F.common.async?Promise.all([this._def.left._parseAsync({data:F.data,path:F.path,parent:F}),this._def.right._parseAsync({data:F.data,path:F.path,parent:F})]).then((([b,B])=>n(b,B))):n(this._def.left._parseSync({data:F.data,path:F.path,parent:F}),this._def.right._parseSync({data:F.data,path:F.path,parent:F}))}};dc.create=(b,B,F)=>new dc({left:b,right:B,typeName:Rc.ZodIntersection,...ge(F)});var hc=class r extends ll{_parse(b){let{status:B,ctx:F}=this._processInputParams(b);if(F.parsedType!==za.array)return W(F,{code:$a.invalid_type,expected:za.array,received:F.parsedType}),nl;if(F.data.length<this._def.items.length)return W(F,{code:$a.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nl;!this._def.rest&&F.data.length>this._def.items.length&&(W(F,{code:$a.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B.dirty());let K=[...F.data].map(((b,B)=>{let K=this._def.items[B]||this._def.rest;return K?K._parse(new sl(F,b,F.path,B)):null})).filter((b=>!!b));return F.common.async?Promise.all(K).then((b=>rl.mergeArray(B,b))):rl.mergeArray(B,K)}get items(){return this._def.items}rest(b){return new r({...this._def,rest:b})}};hc.create=(b,B)=>{if(!Array.isArray(b))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hc({items:b,typeName:Rc.ZodTuple,rest:null,...ge(B)})};var pc=class r extends ll{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(b){let{status:B,ctx:F}=this._processInputParams(b);if(F.parsedType!==za.object)return W(F,{code:$a.invalid_type,expected:za.object,received:F.parsedType}),nl;let K=[],se=this._def.keyType,oe=this._def.valueType;for(let b in F.data)K.push({key:se._parse(new sl(F,b,F.path,b)),value:oe._parse(new sl(F,F.data[b],F.path,b)),alwaysSet:b in F.data});return F.common.async?rl.mergeObjectAsync(B,K):rl.mergeObjectSync(B,K)}get element(){return this._def.valueType}static create(b,B,F){return B instanceof ll?new r({keyType:b,valueType:B,typeName:Rc.ZodRecord,...ge(F)}):new r({keyType:Wl.create(),valueType:b,typeName:Rc.ZodRecord,...ge(B)})}},Ac=class extends ll{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(b){let{status:B,ctx:F}=this._processInputParams(b);if(F.parsedType!==za.map)return W(F,{code:$a.invalid_type,expected:za.map,received:F.parsedType}),nl;let K=this._def.keyType,se=this._def.valueType,oe=[...F.data.entries()].map((([b,B],oe)=>({key:K._parse(new sl(F,b,F.path,[oe,"key"])),value:se._parse(new sl(F,B,F.path,[oe,"value"]))})));if(F.common.async){let b=new Map;return Promise.resolve().then((async()=>{for(let F of oe){let K=await F.key,se=await F.value;if(K.status==="aborted"||se.status==="aborted")return nl;(K.status==="dirty"||se.status==="dirty")&&B.dirty(),b.set(K.value,se.value)}return{status:B.value,value:b}}))}else{let b=new Map;for(let F of oe){let K=F.key,se=F.value;if(K.status==="aborted"||se.status==="aborted")return nl;(K.status==="dirty"||se.status==="dirty")&&B.dirty(),b.set(K.value,se.value)}return{status:B.value,value:b}}}};Ac.create=(b,B,F)=>new Ac({valueType:B,keyType:b,typeName:Rc.ZodMap,...ge(F)});var fc=class r extends ll{_parse(b){let{status:B,ctx:F}=this._processInputParams(b);if(F.parsedType!==za.set)return W(F,{code:$a.invalid_type,expected:za.set,received:F.parsedType}),nl;let K=this._def;K.minSize!==null&&F.data.size<K.minSize.value&&(W(F,{code:$a.too_small,minimum:K.minSize.value,type:"set",inclusive:!0,exact:!1,message:K.minSize.message}),B.dirty()),K.maxSize!==null&&F.data.size>K.maxSize.value&&(W(F,{code:$a.too_big,maximum:K.maxSize.value,type:"set",inclusive:!0,exact:!1,message:K.maxSize.message}),B.dirty());let se=this._def.valueType;function a(b){let F=new Set;for(let K of b){if(K.status==="aborted")return nl;K.status==="dirty"&&B.dirty(),F.add(K.value)}return{status:B.value,value:F}}let oe=[...F.data.values()].map(((b,B)=>se._parse(new sl(F,b,F.path,B))));return F.common.async?Promise.all(oe).then((b=>a(b))):a(oe)}min(b,B){return new r({...this._def,minSize:{value:b,message:il.toString(B)}})}max(b,B){return new r({...this._def,maxSize:{value:b,message:il.toString(B)}})}size(b,B){return this.min(b,B).max(b,B)}nonempty(b){return this.min(1,b)}};fc.create=(b,B)=>new fc({valueType:b,minSize:null,maxSize:null,typeName:Rc.ZodSet,...ge(B)});var gc=class r extends ll{constructor(){super(...arguments),this.validate=this.implement}_parse(b){let{ctx:B}=this._processInputParams(b);if(B.parsedType!==za.function)return W(B,{code:$a.invalid_type,expected:za.function,received:B.parsedType}),nl;function i(b,F){return Js({data:b,path:B.path,errorMaps:[B.common.contextualErrorMap,B.schemaErrorMap,$n(),Xa].filter((b=>!!b)),issueData:{code:$a.invalid_arguments,argumentsError:F}})}function n(b,F){return Js({data:b,path:B.path,errorMaps:[B.common.contextualErrorMap,B.schemaErrorMap,$n(),Xa].filter((b=>!!b)),issueData:{code:$a.invalid_return_type,returnTypeError:F}})}let F={errorMap:B.common.contextualErrorMap},K=B.data;if(this._def.returns instanceof wc){let b=this;return gt((async function(...B){let se=new Ja([]),oe=await b._def.args.parseAsync(B,F).catch((b=>{throw se.addIssue(i(B,b)),se})),Qe=await Reflect.apply(K,this,oe);return await b._def.returns._def.type.parseAsync(Qe,F).catch((b=>{throw se.addIssue(n(Qe,b)),se}))}))}else{let b=this;return gt((function(...B){let se=b._def.args.safeParse(B,F);if(!se.success)throw new Ja([i(B,se.error)]);let oe=Reflect.apply(K,this,se.data),Qe=b._def.returns.safeParse(oe,F);if(!Qe.success)throw new Ja([n(oe,Qe.error)]);return Qe.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...b){return new r({...this._def,args:hc.create(b).rest(rc.create())})}returns(b){return new r({...this._def,returns:b})}implement(b){return this.parse(b)}strictImplement(b){return this.parse(b)}static create(b,B,F){return new r({args:b||hc.create([]).rest(rc.create()),returns:B||rc.create(),typeName:Rc.ZodFunction,...ge(F)})}},mc=class extends ll{get schema(){return this._def.getter()}_parse(b){let{ctx:B}=this._processInputParams(b);return this._def.getter()._parse({data:B.data,path:B.path,parent:B})}};mc.create=(b,B)=>new mc({getter:b,typeName:Rc.ZodLazy,...ge(B)});var bc=class extends ll{_parse(b){if(b.data!==this._def.value){let B=this._getOrReturnCtx(b);return W(B,{received:B.data,code:$a.invalid_literal,expected:this._def.value}),nl}return{status:"valid",value:b.data}}get value(){return this._def.value}};bc.create=(b,B)=>new bc({value:b,typeName:Rc.ZodLiteral,...ge(B)});function Z_(b,B){return new vc({values:b,typeName:Rc.ZodEnum,...ge(B)})}var vc=class r extends ll{_parse(b){if(typeof b.data!="string"){let B=this._getOrReturnCtx(b),F=this._def.values;return W(B,{expected:Va.joinValues(F),received:B.parsedType,code:$a.invalid_type}),nl}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(b.data)){let B=this._getOrReturnCtx(b),F=this._def.values;return W(B,{received:B.data,code:$a.invalid_enum_value,options:F}),nl}return gt(b.data)}get options(){return this._def.values}get enum(){let b={};for(let B of this._def.values)b[B]=B;return b}get Values(){let b={};for(let B of this._def.values)b[B]=B;return b}get Enum(){let b={};for(let B of this._def.values)b[B]=B;return b}extract(b,B=this._def){return r.create(b,{...this._def,...B})}exclude(b,B=this._def){return r.create(this.options.filter((B=>!b.includes(B))),{...this._def,...B})}};vc.create=Z_;var yc=class extends ll{_parse(b){let B=Va.getValidEnumValues(this._def.values),F=this._getOrReturnCtx(b);if(F.parsedType!==za.string&&F.parsedType!==za.number){let b=Va.objectValues(B);return W(F,{expected:Va.joinValues(b),received:F.parsedType,code:$a.invalid_type}),nl}if(this._cache||(this._cache=new Set(Va.getValidEnumValues(this._def.values))),!this._cache.has(b.data)){let b=Va.objectValues(B);return W(F,{received:F.data,code:$a.invalid_enum_value,options:b}),nl}return gt(b.data)}get enum(){return this._def.values}};yc.create=(b,B)=>new yc({values:b,typeName:Rc.ZodNativeEnum,...ge(B)});var wc=class extends ll{unwrap(){return this._def.type}_parse(b){let{ctx:B}=this._processInputParams(b);if(B.parsedType!==za.promise&&B.common.async===!1)return W(B,{code:$a.invalid_type,expected:za.promise,received:B.parsedType}),nl;let F=B.parsedType===za.promise?B.data:Promise.resolve(B.data);return gt(F.then((b=>this._def.type.parseAsync(b,{path:B.path,errorMap:B.common.contextualErrorMap}))))}};wc.create=(b,B)=>new wc({type:b,typeName:Rc.ZodPromise,...ge(B)});var Ec=class extends ll{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Rc.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(b){let{status:B,ctx:F}=this._processInputParams(b),K=this._def.effect||null,se={addIssue:b=>{W(F,b),b.fatal?B.abort():B.dirty()},get path(){return F.path}};if(se.addIssue=se.addIssue.bind(se),K.type==="preprocess"){let b=K.transform(F.data,se);if(F.common.async)return Promise.resolve(b).then((async b=>{if(B.value==="aborted")return nl;let K=await this._def.schema._parseAsync({data:b,path:F.path,parent:F});return K.status==="aborted"?nl:K.status==="dirty"?qi(K.value):B.value==="dirty"?qi(K.value):K}));{if(B.value==="aborted")return nl;let K=this._def.schema._parseSync({data:b,path:F.path,parent:F});return K.status==="aborted"?nl:K.status==="dirty"?qi(K.value):B.value==="dirty"?qi(K.value):K}}if(K.type==="refinement"){let a=b=>{let B=K.refinement(b,se);if(F.common.async)return Promise.resolve(B);if(B instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return b};if(F.common.async===!1){let b=this._def.schema._parseSync({data:F.data,path:F.path,parent:F});return b.status==="aborted"?nl:(b.status==="dirty"&&B.dirty(),a(b.value),{status:B.value,value:b.value})}else return this._def.schema._parseAsync({data:F.data,path:F.path,parent:F}).then((b=>b.status==="aborted"?nl:(b.status==="dirty"&&B.dirty(),a(b.value).then((()=>({status:B.value,value:b.value}))))))}if(K.type==="transform")if(F.common.async===!1){let b=this._def.schema._parseSync({data:F.data,path:F.path,parent:F});if(!ai(b))return nl;let oe=K.transform(b.value,se);if(oe instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:B.value,value:oe}}else return this._def.schema._parseAsync({data:F.data,path:F.path,parent:F}).then((b=>ai(b)?Promise.resolve(K.transform(b.value,se)).then((b=>({status:B.value,value:b}))):nl));Va.assertNever(K)}};Ec.create=(b,B,F)=>new Ec({schema:b,typeName:Rc.ZodEffects,effect:B,...ge(F)});Ec.createWithPreprocess=(b,B,F)=>new Ec({schema:B,effect:{type:"preprocess",transform:b},typeName:Rc.ZodEffects,...ge(F)});var _c=class extends ll{_parse(b){return this._getType(b)===za.undefined?gt(void 0):this._def.innerType._parse(b)}unwrap(){return this._def.innerType}};_c.create=(b,B)=>new _c({innerType:b,typeName:Rc.ZodOptional,...ge(B)});var Cc=class extends ll{_parse(b){return this._getType(b)===za.null?gt(null):this._def.innerType._parse(b)}unwrap(){return this._def.innerType}};Cc.create=(b,B)=>new Cc({innerType:b,typeName:Rc.ZodNullable,...ge(B)});var Ic=class extends ll{_parse(b){let{ctx:B}=this._processInputParams(b),F=B.data;return B.parsedType===za.undefined&&(F=this._def.defaultValue()),this._def.innerType._parse({data:F,path:B.path,parent:B})}removeDefault(){return this._def.innerType}};Ic.create=(b,B)=>new Ic({innerType:b,typeName:Rc.ZodDefault,defaultValue:typeof B.default=="function"?B.default:()=>B.default,...ge(B)});var Sc=class extends ll{_parse(b){let{ctx:B}=this._processInputParams(b),F={...B,common:{...B.common,issues:[]}},K=this._def.innerType._parse({data:F.data,path:F.path,parent:{...F}});return Vn(K)?K.then((b=>({status:"valid",value:b.status==="valid"?b.value:this._def.catchValue({get error(){return new Ja(F.common.issues)},input:F.data})}))):{status:"valid",value:K.status==="valid"?K.value:this._def.catchValue({get error(){return new Ja(F.common.issues)},input:F.data})}}removeCatch(){return this._def.innerType}};Sc.create=(b,B)=>new Sc({innerType:b,typeName:Rc.ZodCatch,catchValue:typeof B.catch=="function"?B.catch:()=>B.catch,...ge(B)});var Bc=class extends ll{_parse(b){if(this._getType(b)!==za.nan){let B=this._getOrReturnCtx(b);return W(B,{code:$a.invalid_type,expected:za.nan,received:B.parsedType}),nl}return{status:"valid",value:b.data}}};Bc.create=b=>new Bc({typeName:Rc.ZodNaN,...ge(b)});var xc=Symbol("zod_brand"),kc=class extends ll{_parse(b){let{ctx:B}=this._processInputParams(b),F=B.data;return this._def.type._parse({data:F,path:B.path,parent:B})}unwrap(){return this._def.type}},Qc=class r extends ll{_parse(b){let{status:B,ctx:F}=this._processInputParams(b);if(F.common.async)return(async()=>{let b=await this._def.in._parseAsync({data:F.data,path:F.path,parent:F});return b.status==="aborted"?nl:b.status==="dirty"?(B.dirty(),qi(b.value)):this._def.out._parseAsync({data:b.value,path:F.path,parent:F})})();{let b=this._def.in._parseSync({data:F.data,path:F.path,parent:F});return b.status==="aborted"?nl:b.status==="dirty"?(B.dirty(),{status:"dirty",value:b.value}):this._def.out._parseSync({data:b.value,path:F.path,parent:F})}}static create(b,B){return new r({in:b,out:B,typeName:Rc.ZodPipeline})}},Oc=class extends ll{_parse(b){let B=this._def.innerType._parse(b),i=b=>(ai(b)&&(b.value=Object.freeze(b.value)),b);return Vn(B)?B.then((b=>i(b))):i(B)}unwrap(){return this._def.innerType}};Oc.create=(b,B)=>new Oc({innerType:b,typeName:Rc.ZodReadonly,...ge(B)});function W_(b,B){let F=typeof b=="function"?b(B):typeof b=="string"?{message:b}:b;return typeof F=="string"?{message:F}:F}function J_(b,B={},F){return b?tc.create().superRefine(((K,se)=>{var oe,Qe;let Re=b(K);if(Re instanceof Promise)return Re.then((b=>{var oe,Qe;if(!b){let b=W_(B,K),Re=(Qe=(oe=b.fatal)!=null?oe:F)!=null?Qe:!0;se.addIssue({code:"custom",...b,fatal:Re})}}));if(!Re){let b=W_(B,K),Re=(Qe=(oe=b.fatal)!=null?oe:F)!=null?Qe:!0;se.addIssue({code:"custom",...b,fatal:Re})}})):tc.create()}var Tc={object:oc.lazycreate},Rc;(function(b){b.ZodString="ZodString",b.ZodNumber="ZodNumber",b.ZodNaN="ZodNaN",b.ZodBigInt="ZodBigInt",b.ZodBoolean="ZodBoolean",b.ZodDate="ZodDate",b.ZodSymbol="ZodSymbol",b.ZodUndefined="ZodUndefined",b.ZodNull="ZodNull",b.ZodAny="ZodAny",b.ZodUnknown="ZodUnknown",b.ZodNever="ZodNever",b.ZodVoid="ZodVoid",b.ZodArray="ZodArray",b.ZodObject="ZodObject",b.ZodUnion="ZodUnion",b.ZodDiscriminatedUnion="ZodDiscriminatedUnion",b.ZodIntersection="ZodIntersection",b.ZodTuple="ZodTuple",b.ZodRecord="ZodRecord",b.ZodMap="ZodMap",b.ZodSet="ZodSet",b.ZodFunction="ZodFunction",b.ZodLazy="ZodLazy",b.ZodLiteral="ZodLiteral",b.ZodEnum="ZodEnum",b.ZodEffects="ZodEffects",b.ZodNativeEnum="ZodNativeEnum",b.ZodOptional="ZodOptional",b.ZodNullable="ZodNullable",b.ZodDefault="ZodDefault",b.ZodCatch="ZodCatch",b.ZodPromise="ZodPromise",b.ZodBranded="ZodBranded",b.ZodPipeline="ZodPipeline",b.ZodReadonly="ZodReadonly"})(Rc||(Rc={}));var IN=(b,B={message:`Input not instance of ${b.name}`})=>J_((B=>B instanceof b),B),Pc=Wl.create,Dc=Gl.create,Fc=Bc.create,Nc=zl.create,Mc=Jl.create,Lc=Yl.create,Hc=Kl.create,Uc=Zl.create,qc=ec.create,Wc=tc.create,Vc=rc.create,Gc=nc.create,zc=ic.create,$c=sc.create,Jc=oc.create,Yc=oc.strictCreate,Kc=ac.create,Zc=lc.create,Xc=dc.create,eu=hc.create,tu=pc.create,ru=Ac.create,nu=fc.create,iu=gc.create,su=mc.create,ou=bc.create,au=vc.create,lu=yc.create,cu=wc.create,uu=Ec.create,hu=_c.create,pu=Cc.create,Au=Ec.createWithPreprocess,fu=Qc.create,l2=()=>Pc().optional(),c2=()=>Dc().optional(),u2=()=>Mc().optional(),gu={string:b=>Wl.create({...b,coerce:!0}),number:b=>Gl.create({...b,coerce:!0}),boolean:b=>Jl.create({...b,coerce:!0}),bigint:b=>zl.create({...b,coerce:!0}),date:b=>Yl.create({...b,coerce:!0})};var mu=nl;var bu=Wa;var yu=Bo.default,wu=xo.default,Eu=ko,_u=Uo.default,Cu=$o.default,Su=Io(),Bu=Su,xu=Jo.default,ku=Yo.default,Qu=Ko.default,Ou=Oa.default,Tu=Ha,Ru=ja.default,Pu=Na.default,Du=Ma.default,Fu=Ua.default,Nu=bu;0&&0;
/*! Bundled license information:

progress/lib/node-progress.js:
  (*!
   * node-progress
   * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
   * MIT Licensed
   *)
*/},7505:(b,B,F)=>{"use strict";var K=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var Qe=Object.prototype.hasOwnProperty;var __export=(b,B)=>{for(var F in B)K(b,F,{get:B[F],enumerable:true})};var __copyProps=(b,B,F,Re)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Me of oe(B))if(!Qe.call(b,Me)&&Me!==F)K(b,Me,{get:()=>B[Me],enumerable:!(Re=se(B,Me))||Re.enumerable})}return b};var __toCommonJS=b=>__copyProps(K({},"__esModule",{value:true}),b);var Re={};__export(Re,{extract:()=>We,yauzl:()=>Le,yazl:()=>Me});b.exports=__toCommonJS(Re);const Me=F(8763).yazl;const Le=F(8763).yauzl;const We=F(8763).extract;0&&0},8763:(b,B,F)=>{"use strict";var K=Object.create;var se=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf,Me=Object.prototype.hasOwnProperty;var v=(b,B)=>()=>(B||b((B={exports:{}}).exports,B),B.exports),Ct=(b,B)=>{for(var F in B)se(b,F,{get:B[F],enumerable:!0})},or=(b,B,F,K)=>{if(B&&typeof B=="object"||typeof B=="function")for(let Re of Qe(B))!Me.call(b,Re)&&Re!==F&&se(b,Re,{get:()=>B[Re],enumerable:!(K=oe(B,Re))||K.enumerable});return b};var sr=(b,B,F)=>(F=b!=null?K(Re(b)):{},or(B||!b||!b.__esModule?se(F,"default",{value:b,enumerable:!0}):F,b)),bt=b=>or(se({},"__esModule",{value:!0}),b);var Le=v(((b,B)=>{var K=F(181).Buffer,se=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(se=new Int32Array(se));function fr(b){if(K.isBuffer(b))return b;var B=typeof K.alloc=="function"&&typeof K.from=="function";if(typeof b=="number")return B?K.alloc(b):new K(b);if(typeof b=="string")return B?K.from(b):new K(b);throw new Error("input must be buffer, number, or string, received "+typeof b)}function Ft(b){var B=fr(4);return B.writeInt32BE(b,0),B}function Ue(b,B){b=fr(b),K.isBuffer(B)&&(B=B.readUInt32BE(0));for(var F=~~B^-1,oe=0;oe<b.length;oe++)F=se[(F^b[oe])&255]^F>>>8;return F^-1}function Te(){return Ft(Ue.apply(null,arguments))}Te.signed=function(){return Ue.apply(null,arguments)};Te.unsigned=function(){return Ue.apply(null,arguments)>>>0};B.exports=Te}));var We=v((b=>{var B=F(9896),K=F(2203).Transform,se=F(2203).PassThrough,oe=F(3106),Qe=F(9023),Re=F(4434).EventEmitter,Me=Le();b.ZipFile=P;b.dateToDosDateTime=br;Qe.inherits(P,Re);function P(){this.outputStream=new se,this.entries=[],this.outputStreamCursor=0,this.ended=!1,this.allDone=!1,this.forceZip64Eocd=!1}P.prototype.addFile=function(b,F,K){var se=this;F=de(F,!1),K==null&&(K={});var oe=new m(F,!1,K);se.entries.push(oe),B.stat(b,(function(F,Qe){if(F)return se.emit("error",F);if(!Qe.isFile())return se.emit("error",new Error("not a file: "+b));oe.uncompressedSize=Qe.size,K.mtime==null&&oe.setLastModDate(Qe.mtime),K.mode==null&&oe.setFileAttributesMode(Qe.mode),oe.setFileDataPumpFunction((function(){var F=B.createReadStream(b);oe.state=m.FILE_DATA_IN_PROGRESS,F.on("error",(function(b){se.emit("error",b)})),hr(se,oe,F)})),N(se)}))};P.prototype.addReadStream=function(b,B,F){var K=this;B=de(B,!1),F==null&&(F={});var se=new m(B,!1,F);K.entries.push(se),se.setFileDataPumpFunction((function(){se.state=m.FILE_DATA_IN_PROGRESS,hr(K,se,b)})),N(K)};P.prototype.addBuffer=function(b,B,F){var K=this;if(B=de(B,!1),b.length>1073741823)throw new Error("buffer too large: "+b.length+" > 1073741823");if(F==null&&(F={}),F.size!=null)throw new Error("options.size not allowed");var se=new m(B,!1,F);se.uncompressedSize=b.length,se.crc32=Me.unsigned(b),se.crcAndFileSizeKnown=!0,K.entries.push(se),se.compress?oe.deflateRaw(b,(function(b,B){s(B)})):s(b);function s(b){se.compressedSize=b.length,se.setFileDataPumpFunction((function(){q(K,b),q(K,se.getDataDescriptor()),se.state=m.FILE_DATA_DONE,setImmediate((function(){N(K)}))})),N(K)}};P.prototype.addEmptyDirectory=function(b,B){var F=this;if(b=de(b,!0),B==null&&(B={}),B.size!=null)throw new Error("options.size not allowed");if(B.compress!=null)throw new Error("options.compress not allowed");var K=new m(b,!0,B);F.entries.push(K),K.setFileDataPumpFunction((function(){q(F,K.getDataDescriptor()),K.state=m.FILE_DATA_DONE,N(F)})),N(F)};var We=T([80,75,5,6]);P.prototype.end=function(b,B){if(typeof b=="function"&&(B=b,b=null),b==null&&(b={}),!this.ended){if(this.ended=!0,this.finalSizeCallback=B,this.forceZip64Eocd=!!b.forceZip64Format,b.comment){if(typeof b.comment=="string"?this.comment=zt(b.comment):this.comment=b.comment,this.comment.length>65535)throw new Error("comment is too large");if(J(this.comment,We))throw new Error("comment contains end of central directory record signature")}else this.comment=Ye;N(this)}};function q(b,B){b.outputStream.write(B),b.outputStreamCursor+=B.length}function hr(b,B,F){var K=new Ze,Qe=new ue,Re=B.compress?new oe.DeflateRaw:new se,Me=new ue;F.pipe(K).pipe(Qe).pipe(Re).pipe(Me).pipe(b.outputStream,{end:!1}),Me.on("end",(function(){if(B.crc32=K.crc32,B.uncompressedSize==null)B.uncompressedSize=Qe.byteCount;else if(B.uncompressedSize!==Qe.byteCount)return b.emit("error",new Error("file data stream has unexpected number of bytes"));B.compressedSize=Me.byteCount,b.outputStreamCursor+=B.compressedSize,q(b,B.getDataDescriptor()),B.state=m.FILE_DATA_DONE,N(b)}))}function N(b){if(b.allDone)return;if(b.ended&&b.finalSizeCallback!=null){var B=Lt(b);B!=null&&(b.finalSizeCallback(B),b.finalSizeCallback=null)}var F=n();function n(){for(var B=0;B<b.entries.length;B++){var F=b.entries[B];if(F.state<m.FILE_DATA_DONE)return F}return null}if(F!=null){if(F.state<m.READY_TO_PUMP_FILE_DATA||F.state===m.FILE_DATA_IN_PROGRESS)return;F.relativeOffsetOfLocalHeader=b.outputStreamCursor;var K=F.getLocalFileHeader();q(b,K),F.doFileDataPump()}else b.ended&&(b.offsetOfStartOfCentralDirectory=b.outputStreamCursor,b.entries.forEach((function(B){var F=B.getCentralDirectoryRecord();q(b,F)})),q(b,Ot(b)),b.outputStream.end(),b.allDone=!0)}function Lt(b){for(var B=0,F=0,K=0;K<b.entries.length;K++){var se=b.entries[K];if(se.compress)return-1;if(se.state>=m.READY_TO_PUMP_FILE_DATA){if(se.uncompressedSize==null)return-1}else if(se.uncompressedSize==null)return null;se.relativeOffsetOfLocalHeader=B;var oe=se.useZip64Format();B+=Ke+se.utf8FileName.length,B+=se.uncompressedSize,se.crcAndFileSizeKnown||(oe?B+=lt:B+=at),F+=ut+se.utf8FileName.length+se.fileComment.length,oe&&(F+=dt)}var Qe=0;return(b.forceZip64Eocd||b.entries.length>=65535||F>=65535||B>=4294967295)&&(Qe+=Ge+ze),Qe+=$e+b.comment.length,B+F+Qe}var Ge=56,ze=20,$e=22;function Ot(b,B){var F=!1,K=b.entries.length;(b.forceZip64Eocd||b.entries.length>=65535)&&(K=65535,F=!0);var se=b.outputStreamCursor-b.offsetOfStartOfCentralDirectory,oe=se;(b.forceZip64Eocd||se>=4294967295)&&(oe=4294967295,F=!0);var Qe=b.offsetOfStartOfCentralDirectory;if((b.forceZip64Eocd||b.offsetOfStartOfCentralDirectory>=4294967295)&&(Qe=4294967295,F=!0),B)return F?Ge+ze+$e:$e;var Re=g($e+b.comment.length);if(Re.writeUInt32LE(101010256,0),Re.writeUInt16LE(0,4),Re.writeUInt16LE(0,6),Re.writeUInt16LE(K,8),Re.writeUInt16LE(K,10),Re.writeUInt32LE(oe,12),Re.writeUInt32LE(Qe,16),Re.writeUInt16LE(b.comment.length,20),b.comment.copy(Re,22),!F)return Re;var Me=g(Ge);Me.writeUInt32LE(101075792,0),I(Me,Ge-12,4),Me.writeUInt16LE(rt,12),Me.writeUInt16LE(et,14),Me.writeUInt32LE(0,16),Me.writeUInt32LE(0,20),I(Me,b.entries.length,24),I(Me,b.entries.length,32),I(Me,se,40),I(Me,b.offsetOfStartOfCentralDirectory,48);var Le=g(ze);return Le.writeUInt32LE(117853008,0),Le.writeUInt32LE(0,4),I(Le,b.outputStreamCursor,8),Le.writeUInt32LE(1,16),Buffer.concat([Me,Le,Re])}function de(b,B){if(b==="")throw new Error("empty metadataPath");if(b=b.replace(/\\/g,"/"),/^[a-zA-Z]:/.test(b)||/^\//.test(b))throw new Error("absolute path: "+b);if(b.split("/").indexOf("..")!==-1)throw new Error("invalid relative path: "+b);var F=/\/$/.test(b);if(B)F||(b+="/");else if(F)throw new Error("file path cannot end with '/': "+b);return b}var Ye=g(0);function m(b,B,F){if(this.utf8FileName=T(b),this.utf8FileName.length>65535)throw new Error("utf8 file name too long. "+utf8FileName.length+" > 65535");if(this.isDirectory=B,this.state=m.WAITING_FOR_METADATA,this.setLastModDate(F.mtime!=null?F.mtime:new Date),F.mode!=null?this.setFileAttributesMode(F.mode):this.setFileAttributesMode(B?16893:33204),B?(this.crcAndFileSizeKnown=!0,this.crc32=0,this.uncompressedSize=0,this.compressedSize=0):(this.crcAndFileSizeKnown=!1,this.crc32=null,this.uncompressedSize=null,this.compressedSize=null,F.size!=null&&(this.uncompressedSize=F.size)),B?this.compress=!1:(this.compress=!0,F.compress!=null&&(this.compress=!!F.compress)),this.forceZip64Format=!!F.forceZip64Format,F.fileComment){if(typeof F.fileComment=="string"?this.fileComment=T(F.fileComment,"utf-8"):this.fileComment=F.fileComment,this.fileComment.length>65535)throw new Error("fileComment is too large")}else this.fileComment=Ye}m.WAITING_FOR_METADATA=0;m.READY_TO_PUMP_FILE_DATA=1;m.FILE_DATA_IN_PROGRESS=2;m.FILE_DATA_DONE=3;m.prototype.setLastModDate=function(b){var B=br(b);this.lastModFileTime=B.time,this.lastModFileDate=B.date};m.prototype.setFileAttributesMode=function(b){if((b&65535)!==b)throw new Error("invalid mode. expected: 0 <= "+b+" <= 65535");this.externalFileAttributes=b<<16>>>0};m.prototype.setFileDataPumpFunction=function(b){this.doFileDataPump=b,this.state=m.READY_TO_PUMP_FILE_DATA};m.prototype.useZip64Format=function(){return this.forceZip64Format||this.uncompressedSize!=null&&this.uncompressedSize>4294967294||this.compressedSize!=null&&this.compressedSize>4294967294||this.relativeOffsetOfLocalHeader!=null&&this.relativeOffsetOfLocalHeader>4294967294};var Ke=30,Xe=20,et=45,rt=831,it=2048,ot=8;m.prototype.getLocalFileHeader=function(){var b=0,B=0,F=0;this.crcAndFileSizeKnown&&(b=this.crc32,B=this.compressedSize,F=this.uncompressedSize);var K=g(Ke),se=it;return this.crcAndFileSizeKnown||(se|=ot),K.writeUInt32LE(67324752,0),K.writeUInt16LE(Xe,4),K.writeUInt16LE(se,6),K.writeUInt16LE(this.getCompressionMethod(),8),K.writeUInt16LE(this.lastModFileTime,10),K.writeUInt16LE(this.lastModFileDate,12),K.writeUInt32LE(b,14),K.writeUInt32LE(B,18),K.writeUInt32LE(F,22),K.writeUInt16LE(this.utf8FileName.length,26),K.writeUInt16LE(0,28),Buffer.concat([K,this.utf8FileName])};var at=16,lt=24;m.prototype.getDataDescriptor=function(){if(this.crcAndFileSizeKnown)return Ye;if(this.useZip64Format()){var b=g(lt);return b.writeUInt32LE(134695760,0),b.writeUInt32LE(this.crc32,4),I(b,this.compressedSize,8),I(b,this.uncompressedSize,16),b}else{var b=g(at);return b.writeUInt32LE(134695760,0),b.writeUInt32LE(this.crc32,4),b.writeUInt32LE(this.compressedSize,8),b.writeUInt32LE(this.uncompressedSize,12),b}};var ut=46,dt=28;m.prototype.getCentralDirectoryRecord=function(){var b=g(ut),B=it;this.crcAndFileSizeKnown||(B|=ot);var F=this.compressedSize,K=this.uncompressedSize,se=this.relativeOffsetOfLocalHeader,oe,Qe;return this.useZip64Format()?(F=4294967295,K=4294967295,se=4294967295,oe=et,Qe=g(dt),Qe.writeUInt16LE(1,0),Qe.writeUInt16LE(dt-4,2),I(Qe,this.uncompressedSize,4),I(Qe,this.compressedSize,12),I(Qe,this.relativeOffsetOfLocalHeader,20)):(oe=Xe,Qe=Ye),b.writeUInt32LE(33639248,0),b.writeUInt16LE(rt,4),b.writeUInt16LE(oe,6),b.writeUInt16LE(B,8),b.writeUInt16LE(this.getCompressionMethod(),10),b.writeUInt16LE(this.lastModFileTime,12),b.writeUInt16LE(this.lastModFileDate,14),b.writeUInt32LE(this.crc32,16),b.writeUInt32LE(F,20),b.writeUInt32LE(K,24),b.writeUInt16LE(this.utf8FileName.length,28),b.writeUInt16LE(Qe.length,30),b.writeUInt16LE(this.fileComment.length,32),b.writeUInt16LE(0,34),b.writeUInt16LE(0,36),b.writeUInt32LE(this.externalFileAttributes,38),b.writeUInt32LE(se,42),Buffer.concat([b,this.utf8FileName,Qe,this.fileComment])};m.prototype.getCompressionMethod=function(){var b=0,B=8;return this.compress?B:b};function br(b){var B=0;B|=b.getDate()&31,B|=(b.getMonth()+1&15)<<5,B|=(b.getFullYear()-1980&127)<<9;var F=0;return F|=Math.floor(b.getSeconds()/2),F|=(b.getMinutes()&63)<<5,F|=(b.getHours()&31)<<11,{date:B,time:F}}function I(b,B,F){var K=Math.floor(B/4294967296),se=B%4294967296;b.writeUInt32LE(se,F),b.writeUInt32LE(K,F+4)}Qe.inherits(ue,K);function ue(b){K.call(this,b),this.byteCount=0}ue.prototype._transform=function(b,B,F){this.byteCount+=b.length,F(null,b)};Qe.inherits(Ze,K);function Ze(b){K.call(this,b),this.crc32=0}Ze.prototype._transform=function(b,B,F){this.crc32=Me.unsigned(b,this.crc32),F(null,b)};var ht="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";if(ht.length!==256)throw new Error("assertion failure");var pt=null;function zt(b){if(/^[\x20-\x7e]*$/.test(b))return T(b,"utf-8");if(pt==null){pt={};for(var B=0;B<ht.length;B++)pt[ht[B]]=B}for(var F=g(b.length),B=0;B<b.length;B++){var K=pt[b[B]];if(K==null)throw new Error("character not encodable in CP437: "+JSON.stringify(b[B]));F[B]=K}return F}function g(b){g=r;try{return g(b)}catch{return g=t,g(b)}function r(b){return Buffer.allocUnsafe(b)}function t(b){return new Buffer(b)}}function T(b,B){T=t;try{return T(b,B)}catch{return T=n,T(b,B)}function t(b,B){return Buffer.from(b,B)}function n(b,B){return new Buffer(b,B)}}function J(b,B){J=t;try{return J(b,B)}catch{return J=n,J(b,B)}function t(b,B){return b.includes(B)}function n(b,B){for(var F=0;F<=b.length-B.length;F++)for(var K=0;;K++){if(K===B.length)return!0;if(b[F+K]!==B[K])break}return!1}}}));var Ge=v(((b,B)=>{B.exports=he;function he(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}he.prototype.go=function(b){this.pending<this.max?Sr(this,b):this.waiting.push(b)};he.prototype.wait=function(b){this.pending===0?b(this.error):this.listeners.push(b)};he.prototype.hold=function(){return Ir(this)};function Ir(b){b.pending+=1;var B=!1;return t;function t(F){if(B)throw new Error("callback called twice");if(B=!0,b.error=b.error||F,b.pending-=1,b.waiting.length>0&&b.pending<b.max)Sr(b,b.waiting.shift());else if(b.pending===0){var K=b.listeners;b.listeners=[],K.forEach(n)}}function n(B){B(b.error)}}function Sr(b,B){B(Ir(b))}}));var ze=v((b=>{var B=F(9896),K=F(9023),se=F(2203),oe=se.Readable,Qe=se.Writable,Re=se.PassThrough,Me=Ge(),Le=F(4434).EventEmitter;b.createFromBuffer=Dt;b.createFromFd=At;b.BufferSlicer=D;b.FdSlicer=R;K.inherits(R,Le);function R(b,B){B=B||{},Le.call(this),this.fd=b,this.pend=new Me,this.pend.max=1,this.refCount=0,this.autoClose=!!B.autoClose}R.prototype.read=function(b,F,K,se,oe){var Qe=this;Qe.pend.go((function(Re){B.read(Qe.fd,b,F,K,se,(function(b,B,F){Re(),oe(b,B,F)}))}))};R.prototype.write=function(b,F,K,se,oe){var Qe=this;Qe.pend.go((function(Re){B.write(Qe.fd,b,F,K,se,(function(b,B,F){Re(),oe(b,B,F)}))}))};R.prototype.createReadStream=function(b){return new xe(this,b)};R.prototype.createWriteStream=function(b){return new Ee(this,b)};R.prototype.ref=function(){this.refCount+=1};R.prototype.unref=function(){var b=this;if(b.refCount-=1,b.refCount>0)return;if(b.refCount<0)throw new Error("invalid unref");b.autoClose&&B.close(b.fd,r);function r(B){B?b.emit("error",B):b.emit("close")}};K.inherits(xe,oe);function xe(b,B){B=B||{},oe.call(this,B),this.context=b,this.context.ref(),this.start=B.start||0,this.endOffset=B.end,this.pos=this.start,this.destroyed=!1}xe.prototype._read=function(b){var F=this;if(!F.destroyed){var K=Math.min(F._readableState.highWaterMark,b);if(F.endOffset!=null&&(K=Math.min(K,F.endOffset-F.pos)),K<=0){F.destroyed=!0,F.push(null),F.context.unref();return}F.context.pend.go((function(b){if(F.destroyed)return b();var se=Buffer.allocUnsafe(K);B.read(F.context.fd,se,0,K,F.pos,(function(B,K){B?F.destroy(B):K===0?(F.destroyed=!0,F.push(null),F.context.unref()):(F.pos+=K,F.push(se.slice(0,K))),b()}))}))}};xe.prototype.destroy=function(b){this.destroyed||(b=b||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",b),this.context.unref())};K.inherits(Ee,Qe);function Ee(b,B){B=B||{},Qe.call(this,B),this.context=b,this.context.ref(),this.start=B.start||0,this.endOffset=B.end==null?1/0:+B.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Ee.prototype._write=function(b,F,K){var se=this;if(!se.destroyed){if(se.pos+b.length>se.endOffset){var oe=new Error("maximum file length exceeded");oe.code="ETOOBIG",se.destroy(),K(oe);return}se.context.pend.go((function(F){if(se.destroyed)return F();B.write(se.context.fd,b,0,b.length,se.pos,(function(b,B){b?(se.destroy(),F(),K(b)):(se.bytesWritten+=B,se.pos+=B,se.emit("progress"),F(),K())}))}))}};Ee.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};K.inherits(D,Le);function D(b,B){Le.call(this),B=B||{},this.refCount=0,this.buffer=b,this.maxChunkSize=B.maxChunkSize||Number.MAX_SAFE_INTEGER}D.prototype.read=function(b,B,F,K,se){if(!(0<=B&&B<=b.length))throw new RangeError("offset outside buffer: 0 <= "+B+" <= "+b.length);if(K<0)throw new RangeError("position is negative: "+K);if(B+F>b.length&&(F=b.length-B),K+F>this.buffer.length&&(F=this.buffer.length-K),F<=0){setImmediate((function(){se(null,0)}));return}this.buffer.copy(b,B,K,K+F),setImmediate((function(){se(null,F)}))};D.prototype.write=function(b,B,F,K,se){b.copy(this.buffer,K,B,B+F),setImmediate((function(){se(null,F,b)}))};D.prototype.createReadStream=function(b){b=b||{};var B=new Re(b);B.destroyed=!1,B.start=b.start||0,B.endOffset=b.end,B.pos=B.endOffset||this.buffer.length;for(var F=this.buffer.slice(B.start,B.pos),K=0;;){var se=K+this.maxChunkSize;if(se>=F.length){K<F.length&&B.write(F.slice(K,F.length));break}B.write(F.slice(K,se)),K=se}return B.end(),B.destroy=function(){B.destroyed=!0},B};D.prototype.createWriteStream=function(b){var B=this;b=b||{};var F=new Qe(b);return F.start=b.start||0,F.endOffset=b.end==null?this.buffer.length:+b.end,F.bytesWritten=0,F.pos=F.start,F.destroyed=!1,F._write=function(b,K,se){if(!F.destroyed){var oe=F.pos+b.length;if(oe>F.endOffset){var Qe=new Error("maximum file length exceeded");Qe.code="ETOOBIG",F.destroyed=!0,se(Qe);return}b.copy(B.buffer,F.pos,0,b.length),F.bytesWritten+=b.length,F.pos=oe,F.emit("progress"),se()}},F.destroy=function(){F.destroyed=!0},F};D.prototype.ref=function(){this.refCount+=1};D.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Dt(b,B){return new D(b,B)}function At(b,B){return new R(b,B)}}));var $e=v((b=>{var B=F(9896),K=F(3106),se=ze(),oe=Le(),Qe=F(9023),Re=F(4434).EventEmitter,Me=F(2203).Transform,We=F(2203).PassThrough,Ge=F(2203).Writable;b.open=Mt;b.fromFd=Ar;b.fromBuffer=Bt;b.fromRandomAccessReader=Ve;b.dosDateTimeToDate=Nr;b.getFileNameLowLevel=Mr;b.validateFileName=Br;b.parseExtraFields=qr;b.ZipFile=_;b.Entry=ee;b.LocalFileHeader=Tr;b.RandomAccessReader=M;function Mt(b,F,K){typeof F=="function"&&(K=F,F=null),F==null&&(F={}),F.autoClose==null&&(F.autoClose=!0),F.lazyEntries==null&&(F.lazyEntries=!1),F.decodeStrings==null&&(F.decodeStrings=!0),F.validateEntrySizes==null&&(F.validateEntrySizes=!0),F.strictFileNames==null&&(F.strictFileNames=!1),K==null&&(K=we),B.open(b,"r",(function(b,se){if(b)return K(b);Ar(se,F,(function(b,F){b&&B.close(se,we),K(b,F)}))}))}function Ar(b,F,K){typeof F=="function"&&(K=F,F=null),F==null&&(F={}),F.autoClose==null&&(F.autoClose=!1),F.lazyEntries==null&&(F.lazyEntries=!1),F.decodeStrings==null&&(F.decodeStrings=!0),F.validateEntrySizes==null&&(F.validateEntrySizes=!0),F.strictFileNames==null&&(F.strictFileNames=!1),K==null&&(K=we),B.fstat(b,(function(B,oe){if(B)return K(B);var Qe=se.createFromFd(b,{autoClose:!0});Ve(Qe,oe.size,F,K)}))}function Bt(b,B,F){typeof B=="function"&&(F=B,B=null),B==null&&(B={}),B.autoClose=!1,B.lazyEntries==null&&(B.lazyEntries=!1),B.decodeStrings==null&&(B.decodeStrings=!0),B.validateEntrySizes==null&&(B.validateEntrySizes=!0),B.strictFileNames==null&&(B.strictFileNames=!1);var K=se.createFromBuffer(b,{maxChunkSize:65536});Ve(K,b.length,B,F)}function Ve(b,B,F,K){typeof F=="function"&&(K=F,F=null),F==null&&(F={}),F.autoClose==null&&(F.autoClose=!0),F.lazyEntries==null&&(F.lazyEntries=!1),F.decodeStrings==null&&(F.decodeStrings=!0);var se=!!F.decodeStrings;if(F.validateEntrySizes==null&&(F.validateEntrySizes=!0),F.strictFileNames==null&&(F.strictFileNames=!1),K==null&&(K=we),typeof B!="number")throw new Error("expected totalSize parameter to be a number");if(B>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");b.ref();var oe=22,Qe=20,Re=65535,Me=Math.min(Qe+oe+Re,B),Le=Ye(Me),We=B-Le.length;j(b,Le,0,Me,We,(function(Re){if(Re)return K(Re);for(var We=Me-oe;We>=0;We-=1)if(Le.readUInt32LE(We)===101010256){var Ge=Le.subarray(We),ze=Ge.readUInt16LE(4),$e=Ge.readUInt16LE(10),Ke=Ge.readUInt32LE(16),Xe=Ge.readUInt16LE(20),et=Ge.length-oe;if(Xe!==et)return K(new Error("Invalid comment length. Expected: "+et+". Found: "+Xe+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK` in the comment?"));var rt=se?ve(Ge.subarray(22),!1):Ge.subarray(22);if(We-Qe>=0&&Le.readUInt32LE(We-Qe)===117853008){var it=Le.subarray(We-Qe,We-Qe+Qe),ot=Y(it,8),at=Ye(56);return j(b,at,0,at.length,ot,(function(oe){return oe?K(oe):at.readUInt32LE(0)!==101075792?K(new Error("invalid zip64 end of central directory record signature")):(ze=at.readUInt32LE(16),ze!==0?K(new Error("multi-disk zip files are not supported: found disk number: "+ze)):($e=Y(at,32),Ke=Y(at,48),K(null,new _(b,Ke,B,$e,rt,F.autoClose,F.lazyEntries,se,F.validateEntrySizes,F.strictFileNames))))}))}return ze!==0?K(new Error("multi-disk zip files are not supported: found disk number: "+ze)):K(null,new _(b,Ke,B,$e,rt,F.autoClose,F.lazyEntries,se,F.validateEntrySizes,F.strictFileNames))}K(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))}))}Qe.inherits(_,Re);function _(b,B,F,K,se,oe,Qe,Me,Le,We){var Ge=this;Re.call(Ge),Ge.reader=b,Ge.reader.on("error",(function(b){Ur(Ge,b)})),Ge.reader.once("close",(function(){Ge.emit("close")})),Ge.readEntryCursor=B,Ge.fileSize=F,Ge.entryCount=K,Ge.comment=se,Ge.entriesRead=0,Ge.autoClose=!!oe,Ge.lazyEntries=!!Qe,Ge.decodeStrings=!!Me,Ge.validateEntrySizes=!!Le,Ge.strictFileNames=!!We,Ge.isOpen=!0,Ge.emittedError=!1,Ge.lazyEntries||Ge._readEntry()}_.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function z(b,B){b.autoClose&&b.close(),Ur(b,B)}function Ur(b,B){b.emittedError||(b.emittedError=!0,b.emit("error",B))}_.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};_.prototype._readEntry=function(){var b=this;if(b.entryCount===b.entriesRead){setImmediate((function(){b.autoClose&&b.close(),!b.emittedError&&b.emit("end")}));return}if(!b.emittedError){var B=Ye(46);j(b.reader,B,0,B.length,b.readEntryCursor,(function(F){if(F)return z(b,F);if(!b.emittedError){var K=new ee,se=B.readUInt32LE(0);if(se!==33639248)return z(b,new Error("invalid central directory file header signature: 0x"+se.toString(16)));if(K.versionMadeBy=B.readUInt16LE(4),K.versionNeededToExtract=B.readUInt16LE(6),K.generalPurposeBitFlag=B.readUInt16LE(8),K.compressionMethod=B.readUInt16LE(10),K.lastModFileTime=B.readUInt16LE(12),K.lastModFileDate=B.readUInt16LE(14),K.crc32=B.readUInt32LE(16),K.compressedSize=B.readUInt32LE(20),K.uncompressedSize=B.readUInt32LE(24),K.fileNameLength=B.readUInt16LE(28),K.extraFieldLength=B.readUInt16LE(30),K.fileCommentLength=B.readUInt16LE(32),K.internalFileAttributes=B.readUInt16LE(36),K.externalFileAttributes=B.readUInt32LE(38),K.relativeOffsetOfLocalHeader=B.readUInt32LE(42),K.generalPurposeBitFlag&64)return z(b,new Error("strong encryption is not supported"));b.readEntryCursor+=46,B=Ye(K.fileNameLength+K.extraFieldLength+K.fileCommentLength),j(b.reader,B,0,B.length,b.readEntryCursor,(function(F){if(F)return z(b,F);if(!b.emittedError){K.fileNameRaw=B.subarray(0,K.fileNameLength);var se=K.fileNameLength+K.extraFieldLength;K.extraFieldRaw=B.subarray(K.fileNameLength,se),K.fileCommentRaw=B.subarray(se,se+K.fileCommentLength);try{K.extraFields=qr(K.extraFieldRaw)}catch(B){return z(b,B)}if(b.decodeStrings){var oe=(K.generalPurposeBitFlag&2048)!==0;K.fileComment=ve(K.fileCommentRaw,oe),K.fileName=Mr(K.generalPurposeBitFlag,K.fileNameRaw,K.extraFields,b.strictFileNames);var Qe=Br(K.fileName);if(Qe!=null)return z(b,new Error(Qe))}else K.fileComment=K.fileCommentRaw,K.fileName=K.fileNameRaw;K.comment=K.fileComment,b.readEntryCursor+=B.length,b.entriesRead+=1;for(var Re=0;Re<K.extraFields.length;Re++){var Me=K.extraFields[Re];if(Me.id===1){var Le=Me.data,We=0;if(K.uncompressedSize===4294967295){if(We+8>Le.length)return z(b,new Error("zip64 extended information extra field does not include uncompressed size"));K.uncompressedSize=Y(Le,We),We+=8}if(K.compressedSize===4294967295){if(We+8>Le.length)return z(b,new Error("zip64 extended information extra field does not include compressed size"));K.compressedSize=Y(Le,We),We+=8}if(K.relativeOffsetOfLocalHeader===4294967295){if(We+8>Le.length)return z(b,new Error("zip64 extended information extra field does not include relative header offset"));K.relativeOffsetOfLocalHeader=Y(Le,We),We+=8}break}}if(b.validateEntrySizes&&K.compressionMethod===0){var Ge=K.uncompressedSize;if(K.isEncrypted()&&(Ge+=12),K.compressedSize!==Ge){var ze="compressed/uncompressed size mismatch for stored file: "+K.compressedSize+" != "+K.uncompressedSize;return z(b,new Error(ze))}}b.emit("entry",K),b.lazyEntries||b._readEntry()}}))}}))}};_.prototype.openReadStream=function(b,B,F){var K=this,se=0,oe=b.compressedSize;if(F==null&&(F=B,B=null),B==null)B={};else{if(B.decrypt!=null){if(!b.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(B.decrypt!==!1)throw new Error("invalid options.decrypt value: "+B.decrypt);if(b.isCompressed()&&B.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(B.decompress!=null){if(!b.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(B.decompress===!1||B.decompress===!0))throw new Error("invalid options.decompress value: "+B.decompress)}if(B.start!=null||B.end!=null){if(b.isCompressed()&&B.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(b.isEncrypted()&&B.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(B.start!=null){if(se=B.start,se<0)throw new Error("options.start < 0");if(se>b.compressedSize)throw new Error("options.start > entry.compressedSize")}if(B.end!=null){if(oe=B.end,oe<0)throw new Error("options.end < 0");if(oe>b.compressedSize)throw new Error("options.end > entry.compressedSize");if(oe<se)throw new Error("options.end < options.start")}}if(!K.isOpen)return F(new Error("closed"));if(b.isEncrypted()&&B.decrypt!==!1)return F(new Error("entry is encrypted, and options.decrypt !== false"));var Qe;if(b.compressionMethod===0)Qe=!1;else if(b.compressionMethod===8)Qe=B.decompress!=null?B.decompress:!0;else return F(new Error("unsupported compression method: "+b.compressionMethod));K.readLocalFileHeader(b,{minimal:!0},(function(B,Re){if(B)return F(B);K.openReadStreamLowLevel(Re.fileDataStart,b.compressedSize,se,oe,Qe,b.uncompressedSize,F)}))};_.prototype.openReadStreamLowLevel=function(b,B,F,se,oe,Qe,Re){var Me=this,Le=b+B,We=Me.reader.createReadStream({start:b+F,end:b+se}),Ge=We;if(oe){var ze=!1,$e=K.createInflateRaw();We.on("error",(function(b){setImmediate((function(){ze||$e.emit("error",b)}))})),We.pipe($e),Me.validateEntrySizes?(Ge=new re(Qe),$e.on("error",(function(b){setImmediate((function(){ze||Ge.emit("error",b)}))})),$e.pipe(Ge)):Ge=$e,He(Ge,(function(){ze=!0,$e!==Ge&&$e.unpipe(Ge),We.unpipe($e),We.destroy()}))}Re(null,Ge)};_.prototype.readLocalFileHeader=function(b,B,F){var K=this;F==null&&(F=B,B=null),B==null&&(B={}),K.reader.ref();var se=Ye(30);j(K.reader,se,0,se.length,b.relativeOffsetOfLocalHeader,(function(oe){try{if(oe)return F(oe);var Qe=se.readUInt32LE(0);if(Qe!==67324752)return F(new Error("invalid local file header signature: 0x"+Qe.toString(16)));var Re=se.readUInt16LE(26),Me=se.readUInt16LE(28),Le=b.relativeOffsetOfLocalHeader+30+Re+Me;if(Le+b.compressedSize>K.fileSize)return F(new Error("file data overflows file bounds: "+Le+" + "+b.compressedSize+" > "+K.fileSize));if(B.minimal)return F(null,{fileDataStart:Le});var We=new Tr;We.fileDataStart=Le,We.versionNeededToExtract=se.readUInt16LE(4),We.generalPurposeBitFlag=se.readUInt16LE(6),We.compressionMethod=se.readUInt16LE(8),We.lastModFileTime=se.readUInt16LE(10),We.lastModFileDate=se.readUInt16LE(12),We.crc32=se.readUInt32LE(14),We.compressedSize=se.readUInt32LE(18),We.uncompressedSize=se.readUInt32LE(22),We.fileNameLength=Re,We.extraFieldLength=Me,se=Ye(Re+Me),K.reader.ref(),j(K.reader,se,0,se.length,b.relativeOffsetOfLocalHeader+30,(function(b){try{return b?F(b):(We.fileName=se.subarray(0,Re),We.extraField=se.subarray(Re),F(null,We))}finally{K.reader.unref()}}))}finally{K.reader.unref()}}))};function ee(){}ee.prototype.getLastModDate=function(b){if(b==null&&(b={}),!b.forceDosFormat)for(var B=0;B<this.extraFields.length;B++){var F=this.extraFields[B];if(F.id===21589){var K=F.data;if(K.length<5)continue;var se=K[0],oe=1;if(!(se&oe))continue;var Qe=K.readInt32LE(1);return new Date(Qe*1e3)}else if(F.id===10)for(var K=F.data,Re=4;Re<K.length+4;){var Me=K.readUInt16LE(Re);Re+=2;var Le=K.readUInt16LE(Re);if(Re+=2,Me!==1){Re+=Le;continue}if(Le<8||Re+Le>K.length)break;var We=4294967296*K.readInt32LE(Re+4)+K.readUInt32LE(Re),Ge=We/1e4-116444736e5;return new Date(Ge)}}return Nr(this.lastModFileDate,this.lastModFileTime,b.timezone)};ee.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};ee.prototype.isCompressed=function(){return this.compressionMethod===8};function Tr(){}function Nr(b,B,F){var K=b&31,se=(b>>5&15)-1,oe=(b>>9&127)+1980,Qe=0,Re=(B&31)*2,Me=B>>5&63,Le=B>>11&31;if(F==null||F==="local")return new Date(oe,se,K,Le,Me,Re,Qe);if(F==="UTC")return new Date(Date.UTC(oe,se,K,Le,Me,Re,Qe));throw new Error("unrecognized options.timezone: "+options.timezone)}function Mr(b,B,F,K){for(var se=null,Qe=0;Qe<F.length;Qe++){var Re=F[Qe];if(Re.id===28789){if(Re.data.length<6||Re.data.readUInt8(0)!==1)continue;var Me=Re.data.readUInt32LE(1);if(oe.unsigned(B)!==Me)continue;se=ve(Re.data.subarray(5),!0);break}}if(se==null){var Le=(b&2048)!==0;se=ve(B,Le)}return K||(se=se.replace(/\\/g,"/")),se}function Br(b){return b.indexOf("\\")!==-1?"invalid characters in fileName: "+b:/^[a-zA-Z]:/.test(b)||/^\//.test(b)?"absolute path: "+b:b.split("/").indexOf("..")!==-1?"invalid relative path: "+b:null}function qr(b){for(var B=[],F=0;F<b.length-3;){var K=b.readUInt16LE(F+0),se=b.readUInt16LE(F+2),oe=F+4,Qe=oe+se;if(Qe>b.length)throw new Error("extra field length exceeds extra field buffer size");var Re=b.subarray(oe,Qe);B.push({id:K,data:Re}),F=Qe}return B}function j(b,B,F,K,se,oe){if(K===0)return setImmediate((function(){oe(null,Ye(0))}));b.read(B,F,K,se,(function(b,B){if(b)return oe(b);if(B<K)return oe(new Error("unexpected EOF"));oe()}))}Qe.inherits(re,Me);function re(b){Me.call(this),this.actualByteCount=0,this.expectedByteCount=b}re.prototype._transform=function(b,B,F){if(this.actualByteCount+=b.length,this.actualByteCount>this.expectedByteCount){var K="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return F(new Error(K))}F(null,b)};re.prototype._flush=function(b){if(this.actualByteCount<this.expectedByteCount){var B="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return b(new Error(B))}b()};Qe.inherits(M,Re);function M(){Re.call(this),this.refCount=0}M.prototype.ref=function(){this.refCount+=1};M.prototype.unref=function(){var b=this;if(b.refCount-=1,b.refCount>0)return;if(b.refCount<0)throw new Error("invalid unref");b.close(r);function r(B){if(B)return b.emit("error",B);b.emit("close")}};M.prototype.createReadStream=function(b){b==null&&(b={});var B=b.start,F=b.end;if(B===F){var K=new We;return setImmediate((function(){K.end()})),K}var se=this._readStreamForRange(B,F),oe=!1,Qe=new Ce(this);se.on("error",(function(b){setImmediate((function(){oe||Qe.emit("error",b)}))})),He(Qe,(function(){se.unpipe(Qe),Qe.unref(),se.destroy()}));var Re=new re(F-B);return Qe.on("error",(function(b){setImmediate((function(){oe||Re.emit("error",b)}))})),He(Re,(function(){oe=!0,Qe.unpipe(Re),Qe.destroy()})),se.pipe(Qe).pipe(Re)};M.prototype._readStreamForRange=function(b,B){throw new Error("not implemented")};M.prototype.read=function(b,B,F,K,se){var oe=this.createReadStream({start:K,end:K+F}),Qe=new Ge,Re=0;Qe._write=function(F,K,se){F.copy(b,B+Re,0,F.length),Re+=F.length,se()},Qe.on("finish",se),oe.on("error",(function(b){se(b)})),oe.pipe(Qe)};M.prototype.close=function(b){setImmediate(b)};Qe.inherits(Ce,We);function Ce(b){We.call(this),this.context=b,this.context.ref(),this.unreffedYet=!1}Ce.prototype._flush=function(b){this.unref(),b()};Ce.prototype.unref=function(b){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var $e="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";function ve(b,B){if(B)return b.toString("utf8");for(var F="",K=0;K<b.length;K++)F+=$e[b[K]];return F}function Y(b,B){var F=b.readUInt32LE(B),K=b.readUInt32LE(B+4);return K*4294967296+F}var Ye;typeof Buffer.allocUnsafe=="function"?Ye=function(b){return Buffer.allocUnsafe(b)}:Ye=function(b){return new Buffer(b)};function He(b,B){typeof b.destroy=="function"?b._destroy=function(b,F){B(),F!=null&&F(b)}:b.destroy=B}function we(b){if(b)throw b}}));var Ye=v(((b,B)=>{var F=1e3,K=F*60,se=K*60,oe=se*24,Qe=oe*7,Re=oe*365.25;B.exports=function(b,B){B=B||{};var F=typeof b;if(F==="string"&&b.length>0)return Wt(b);if(F==="number"&&isFinite(b))return B.long?Yt(b):Gt(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function Wt(b){if(b=String(b),!(b.length>100)){var B=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(B){var Me=parseFloat(B[1]),Le=(B[2]||"ms").toLowerCase();switch(Le){case"years":case"year":case"yrs":case"yr":case"y":return Me*Re;case"weeks":case"week":case"w":return Me*Qe;case"days":case"day":case"d":return Me*oe;case"hours":case"hour":case"hrs":case"hr":case"h":return Me*se;case"minutes":case"minute":case"mins":case"min":case"m":return Me*K;case"seconds":case"second":case"secs":case"sec":case"s":return Me*F;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Me;default:return}}}}function Gt(b){var B=Math.abs(b);return B>=oe?Math.round(b/oe)+"d":B>=se?Math.round(b/se)+"h":B>=K?Math.round(b/K)+"m":B>=F?Math.round(b/F)+"s":b+"ms"}function Yt(b){var B=Math.abs(b);return B>=oe?be(b,B,oe,"day"):B>=se?be(b,B,se,"hour"):B>=K?be(b,B,K,"minute"):B>=F?be(b,B,F,"second"):b+" ms"}function be(b,B,F,K){var se=B>=F*1.5;return Math.round(b/F)+" "+K+(se?"s":"")}}));var Ke=v(((b,B)=>{function jt(b){t.debug=t,t.default=t,t.coerce=u,t.disable=o,t.enable=i,t.enabled=f,t.humanize=Ye(),t.destroy=l,Object.keys(b).forEach((B=>{t[B]=b[B]})),t.names=[],t.skips=[],t.formatters={};function r(b){let B=0;for(let F=0;F<b.length;F++)B=(B<<5)-B+b.charCodeAt(F),B|=0;return t.colors[Math.abs(B)%t.colors.length]}t.selectColor=r;function t(b){let B,F=null,K,se;function p(...b){if(!p.enabled)return;let F=p,K=Number(new Date),se=K-(B||K);F.diff=se,F.prev=B,F.curr=K,B=K,b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let oe=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,((B,K)=>{if(B==="%%")return"%";oe++;let se=t.formatters[K];if(typeof se=="function"){let K=b[oe];B=se.call(F,K),b.splice(oe,1),oe--}return B})),t.formatArgs.call(F,b),(F.log||t.log).apply(F,b)}return p.namespace=b,p.useColors=t.useColors(),p.color=t.selectColor(b),p.extend=n,p.destroy=t.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>F!==null?F:(K!==t.namespaces&&(K=t.namespaces,se=t.enabled(b)),se),set:b=>{F=b}}),typeof t.init=="function"&&t.init(p),p}function n(b,B){let F=t(this.namespace+(typeof B=="undefined"?":":B)+b);return F.log=this.log,F}function i(b){t.save(b),t.namespaces=b,t.names=[],t.skips=[];let B=(typeof b=="string"?b:"").trim().replace(" ",",").split(",").filter(Boolean);for(let b of B)b[0]==="-"?t.skips.push(b.slice(1)):t.names.push(b)}function s(b,B){let F=0,K=0,se=-1,oe=0;for(;F<b.length;)if(K<B.length&&(B[K]===b[F]||B[K]==="*"))B[K]==="*"?(se=K,oe=F,K++):(F++,K++);else if(se!==-1)K=se+1,oe++,F=oe;else return!1;for(;K<B.length&&B[K]==="*";)K++;return K===B.length}function o(){let b=[...t.names,...t.skips.map((b=>"-"+b))].join(",");return t.enable(""),b}function f(b){for(let B of t.skips)if(s(b,B))return!1;for(let B of t.names)if(s(b,B))return!0;return!1}function u(b){return b instanceof Error?b.stack||b.message:b}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}B.exports=jt}));var Xe=v(((b,B)=>{b.formatArgs=Kt;b.save=Vt;b.load=Xt;b.useColors=Ht;b.storage=$t();b.destroy=(()=>{let b=!1;return()=>{b||(b=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();b.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ht(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let b;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(b=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(b[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Kt(b){if(b[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+b[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),!this.useColors)return;let F="color: "+this.color;b.splice(1,0,F,"color: inherit");let K=0,se=0;b[0].replace(/%[a-zA-Z%]/g,(b=>{b!=="%%"&&(K++,b==="%c"&&(se=K))})),b.splice(se,0,F)}b.log=console.debug||console.log||(()=>{});function Vt(B){try{B?b.storage.setItem("debug",B):b.storage.removeItem("debug")}catch{}}function Xt(){let B;try{B=b.storage.getItem("debug")}catch{}return!B&&typeof process!="undefined"&&"env"in process&&(B=process.env.DEBUG),B}function $t(){try{return localStorage}catch{}}B.exports=Ke()(b);var{formatters:F}=B.exports;F.j=function(b){try{return JSON.stringify(b)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}}}));var et=v(((b,B)=>{"use strict";B.exports=(b,B=process.argv)=>{let F=b.startsWith("-")?"":b.length===1?"-":"--",K=B.indexOf(F+b),se=B.indexOf("--");return K!==-1&&(se===-1||K<se)}}));var rt=v(((b,B)=>{"use strict";var K=F(857),se=F(2018),oe=et(),{env:Qe}=process,Re;oe("no-color")||oe("no-colors")||oe("color=false")||oe("color=never")?Re=0:(oe("color")||oe("colors")||oe("color=true")||oe("color=always"))&&(Re=1);function kt(){if("FORCE_COLOR"in Qe)return Qe.FORCE_COLOR==="true"?1:Qe.FORCE_COLOR==="false"?0:Qe.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Qe.FORCE_COLOR,10),3)}function en(b){return b===0?!1:{level:b,hasBasic:!0,has256:b>=2,has16m:b>=3}}function rn(b,{streamIsTTY:B,sniffFlags:F=!0}={}){let se=kt();se!==void 0&&(Re=se);let Me=F?Re:se;if(Me===0)return 0;if(F){if(oe("color=16m")||oe("color=full")||oe("color=truecolor"))return 3;if(oe("color=256"))return 2}if(b&&!B&&Me===void 0)return 0;let Le=Me||0;if(Qe.TERM==="dumb")return Le;if(process.platform==="win32"){let b=K.release().split(".");return Number(b[0])>=10&&Number(b[2])>=10586?Number(b[2])>=14931?3:2:1}if("CI"in Qe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((b=>b in Qe))||Qe.CI_NAME==="codeship"?1:Le;if("TEAMCITY_VERSION"in Qe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Qe.TEAMCITY_VERSION)?1:0;if(Qe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Qe){let b=Number.parseInt((Qe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Qe.TERM_PROGRAM){case"iTerm.app":return b>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Qe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Qe.TERM)||"COLORTERM"in Qe?1:Le}function Je(b,B={}){let F=rn(b,{streamIsTTY:b&&b.isTTY,...B});return en(F)}B.exports={supportsColor:Je,stdout:Je({isTTY:se.isatty(1)}),stderr:Je({isTTY:se.isatty(2)})}}));var it=v(((b,B)=>{var K=F(2018),se=F(9023);b.init=cn;b.log=fn;b.formatArgs=on;b.save=an;b.load=un;b.useColors=nn;b.destroy=se.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");b.colors=[6,2,3,4,5,1];try{let B=rt();B&&(B.stderr||B).level>=2&&(b.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}b.inspectOpts=Object.keys(process.env).filter((b=>/^debug_/i.test(b))).reduce(((b,B)=>{let F=B.substring(6).toLowerCase().replace(/_([a-z])/g,((b,B)=>B.toUpperCase())),K=process.env[B];return/^(yes|on|true|enabled)$/i.test(K)?K=!0:/^(no|off|false|disabled)$/i.test(K)?K=!1:K==="null"?K=null:K=Number(K),b[F]=K,b}),{});function nn(){return"colors"in b.inspectOpts?!!b.inspectOpts.colors:K.isatty(process.stderr.fd)}function on(b){let{namespace:F,useColors:K}=this;if(K){let K=this.color,se="[3"+(K<8?K:"8;5;"+K),oe=`  ${se};1m${F} [0m`;b[0]=oe+b[0].split(`\n`).join(`\n`+oe),b.push(se+"m+"+B.exports.humanize(this.diff)+"[0m")}else b[0]=sn()+F+" "+b[0]}function sn(){return b.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function fn(...B){return process.stderr.write(se.formatWithOptions(b.inspectOpts,...B)+`\n`)}function an(b){b?process.env.DEBUG=b:delete process.env.DEBUG}function un(){return process.env.DEBUG}function cn(B){B.inspectOpts={};let F=Object.keys(b.inspectOpts);for(let K=0;K<F.length;K++)B.inspectOpts[F[K]]=b.inspectOpts[F[K]]}B.exports=Ke()(b);var{formatters:oe}=B.exports;oe.o=function(b){return this.inspectOpts.colors=this.useColors,se.inspect(b,this.inspectOpts).split(`\n`).map((b=>b.trim())).join(" ")};oe.O=function(b){return this.inspectOpts.colors=this.useColors,se.inspect(b,this.inspectOpts)}}));var ot=v(((b,B)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?B.exports=Xe():B.exports=it()}));var at=v(((b,B)=>{B.exports=Qr;function Qr(b,B){if(b&&B)return Qr(b)(B);if(typeof b!="function")throw new TypeError("need wrapper function");return Object.keys(b).forEach((function(B){t[B]=b[B]})),t;function t(){for(var B=new Array(arguments.length),F=0;F<B.length;F++)B[F]=arguments[F];var K=b.apply(this,B),se=B[B.length-1];return typeof K=="function"&&K!==se&&Object.keys(se).forEach((function(b){K[b]=se[b]})),K}}}));var lt=v(((b,B)=>{var F=at();B.exports=F(Oe);B.exports.strict=F(tt);Oe.proto=Oe((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Oe(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return tt(this)},configurable:!0})}));function Oe(b){var r=function(){return r.called?r.value:(r.called=!0,r.value=b.apply(this,arguments))};return r.called=!1,r}function tt(b){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=b.apply(this,arguments)},B=b.name||"Function wrapped with `once`";return r.onceError=B+" shouldn't be called more than once",r.called=!1,r}}));var ut=v(((b,B)=>{var F=lt(),ln=function(){},hn=function(b){return b.setHeader&&typeof b.abort=="function"},mn=function(b){return b.stdio&&Array.isArray(b.stdio)&&b.stdio.length===3},nt=function(b,B,K){if(typeof B=="function")return nt(b,null,B);B||(B={}),K=F(K||ln);var se=b._writableState,oe=b._readableState,Qe=B.readable||B.readable!==!1&&b.readable,Re=B.writable||B.writable!==!1&&b.writable,Me=!1,u=function(){b.writable||l()},l=function(){Re=!1,Qe||K.call(b)},a=function(){Qe=!1,Re||K.call(b)},c=function(B){K.call(b,B?new Error("exited with error code: "+B):null)},d=function(B){K.call(b,B)},h=function(){process.nextTick(E)},E=function(){if(!Me){if(Qe&&!(oe&&oe.ended&&!oe.destroyed))return K.call(b,new Error("premature close"));if(Re&&!(se&&se.ended&&!se.destroyed))return K.call(b,new Error("premature close"))}},p=function(){b.req.on("finish",l)};return hn(b)?(b.on("complete",l),b.on("abort",h),b.req?p():b.on("request",p)):Re&&!se&&(b.on("end",u),b.on("close",u)),mn(b)&&b.on("exit",c),b.on("end",a),b.on("finish",l),B.error!==!1&&b.on("error",d),b.on("close",h),function(){Me=!0,b.removeListener("complete",l),b.removeListener("abort",h),b.removeListener("request",p),b.req&&b.req.removeListener("finish",l),b.removeListener("end",u),b.removeListener("close",u),b.removeListener("finish",l),b.removeListener("exit",c),b.removeListener("end",a),b.removeListener("error",d),b.removeListener("close",h)}};B.exports=nt}));var dt=v(((b,B)=>{var K=lt(),se=ut(),oe;try{oe=F(9896)}catch{}var te=function(){},Qe=/^v?\.0/.test(process.version),_e=function(b){return typeof b=="function"},vn=function(b){return!Qe||!oe?!1:(b instanceof(oe.ReadStream||te)||b instanceof(oe.WriteStream||te))&&_e(b.close)},wn=function(b){return b.setHeader&&_e(b.abort)},yn=function(b,B,F,oe){oe=K(oe);var Qe=!1;b.on("close",(function(){Qe=!0})),se(b,{readable:B,writable:F},(function(b){if(b)return oe(b);Qe=!0,oe()}));var Re=!1;return function(B){if(!Qe&&!Re){if(Re=!0,vn(b))return b.close(te);if(wn(b))return b.abort();if(_e(b.destroy))return b.destroy();oe(B||new Error("stream was destroyed"))}}},st=function(b){b()},gn=function(b,B){return b.pipe(B)},Cn=function(){var b=Array.prototype.slice.call(arguments),B=_e(b[b.length-1]||te)&&b.pop()||te;if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new Error("pump requires two streams per minimum");var F,K=b.map((function(se,oe){var Qe=oe<b.length-1,Re=oe>0;return yn(se,Qe,Re,(function(b){F||(F=b),b&&K.forEach(st),!Qe&&(K.forEach(st),B(F))}))}));return b.reduce(gn)};B.exports=Cn}));var ht=v(((b,B)=>{"use strict";var{PassThrough:K}=F(2203);B.exports=b=>{b={...b};let{array:B}=b,{encoding:F}=b,se=F==="buffer",oe=!1;B?oe=!(F||se):F=F||"utf8",se&&(F=null);let Qe=new K({objectMode:oe});F&&Qe.setEncoding(F);let Re=0,Me=[];return Qe.on("data",(b=>{Me.push(b),oe?Re=Me.length:Re+=b.length})),Qe.getBufferedValue=()=>B?Me:se?Buffer.concat(Me,Re):Me.join(""),Qe.getBufferedLength=()=>Re,Qe}}));var pt=v(((b,B)=>{"use strict";var{constants:K}=F(181),se=dt(),oe=ht(),Qe=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function De(b,B){if(!b)return Promise.reject(new Error("Expected a stream"));B={maxBuffer:1/0,...B};let{maxBuffer:F}=B,Re;return await new Promise(((Me,Le)=>{let o=b=>{b&&Re.getBufferedLength()<=K.MAX_LENGTH&&(b.bufferedData=Re.getBufferedValue()),Le(b)};Re=se(b,oe(B),(b=>{if(b){o(b);return}Me()})),Re.on("data",(()=>{Re.getBufferedLength()>F&&o(new Qe)}))})),Re.getBufferedValue()}B.exports=De;B.exports.default=De;B.exports.buffer=(b,B)=>De(b,{...B,encoding:"buffer"});B.exports.array=(b,B)=>De(b,{...B,array:!0});B.exports.MaxBufferError=Qe}));var ft=v(((b,B)=>{"use strict";var K=ot()("extract-zip"),{createWriteStream:se,promises:oe}=F(9896),Qe=pt(),Re=F(6928),{promisify:Me}=F(9023),Le=F(2203),We=$e(),Ge=Me(We.open),ze=Me(Le.pipeline),Ye=class{constructor(b,B){this.zipPath=b,this.opts=B}async extract(){return K("opening",this.zipPath,"with opts",this.opts),this.zipfile=await Ge(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise(((b,B)=>{this.zipfile.on("error",(b=>{this.canceled=!0,B(b)})),this.zipfile.readEntry(),this.zipfile.on("close",(()=>{this.canceled||(K("zip extraction complete"),b())})),this.zipfile.on("entry",(async b=>{if(this.canceled){K("skipping entry",b.fileName,{cancelled:this.canceled});return}if(K("zipfile entry",b.fileName),b.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let F=Re.dirname(Re.join(this.opts.dir,b.fileName));try{await oe.mkdir(F,{recursive:!0});let B=await oe.realpath(F);if(Re.relative(this.opts.dir,B).split(Re.sep).includes(".."))throw new Error(`Out of bound path "${B}" found while processing file ${b.fileName}`);await this.extractEntry(b),K("finished processing",b.fileName),this.zipfile.readEntry()}catch(b){this.canceled=!0,this.zipfile.close(),B(b)}}))}))}async extractEntry(b){if(this.canceled){K("skipping entry extraction",b.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(b,this.zipfile);let B=Re.join(this.opts.dir,b.fileName),F=b.externalFileAttributes>>16&65535,Le=61440,We=16384,Ge=(F&Le)===40960,$e=(F&Le)===We;!$e&&b.fileName.endsWith("/")&&($e=!0);let Ye=b.versionMadeBy>>8;$e||($e=Ye===0&&b.externalFileAttributes===16),K("extracting entry",{filename:b.fileName,isDir:$e,isSymlink:Ge});let Ke=this.getExtractedMode(F,$e)&511,Xe=$e?B:Re.dirname(B),et={recursive:!0};if($e&&(et.mode=Ke),K("mkdir",{dir:Xe,...et}),await oe.mkdir(Xe,et),$e)return;K("opening read stream",B);let rt=await Me(this.zipfile.openReadStream.bind(this.zipfile))(b);if(Ge){let b=await Qe(rt);K("creating symlink",b,B),await oe.symlink(b,B)}else await ze(rt,se(B,{mode:Ke}))}getExtractedMode(b,B){let F=b;return F===0&&(B?(this.opts.defaultDirMode&&(F=parseInt(this.opts.defaultDirMode,10)),F||(F=493)):(this.opts.defaultFileMode&&(F=parseInt(this.opts.defaultFileMode,10)),F||(F=420))),F}};B.exports=async function(b,B){if(K("creating target directory",B.dir),!Re.isAbsolute(B.dir))throw new Error("Target directory is expected to be absolute");return await oe.mkdir(B.dir,{recursive:!0}),B.dir=await oe.realpath(B.dir),new Ye(b,B).extract()}}));var mt={};Ct(mt,{extract:()=>_t,yauzl:()=>yt,yazl:()=>vt});b.exports=bt(mt);var vt=sr(We()),yt=sr($e()),wt=ft(),_t=wt;0&&0},8162:(b,B,F)=>{b.exports=F(8866)},329:(b,B,F)=>{b.exports=F(4179)},4179:(b,B,F)=>{"use strict";var K=F(9278);var se=F(4756);var oe=F(8611);var Qe=F(5692);var Re=F(4434);var Me=F(2613);var Le=F(9023);B.httpOverHttp=httpOverHttp;B.httpsOverHttp=httpsOverHttp;B.httpOverHttps=httpOverHttps;B.httpsOverHttps=httpsOverHttps;function httpOverHttp(b){var B=new TunnelingAgent(b);B.request=oe.request;return B}function httpsOverHttp(b){var B=new TunnelingAgent(b);B.request=oe.request;B.createSocket=createSecureSocket;B.defaultPort=443;return B}function httpOverHttps(b){var B=new TunnelingAgent(b);B.request=Qe.request;return B}function httpsOverHttps(b){var B=new TunnelingAgent(b);B.request=Qe.request;B.createSocket=createSecureSocket;B.defaultPort=443;return B}function TunnelingAgent(b){var B=this;B.options=b||{};B.proxyOptions=B.options.proxy||{};B.maxSockets=B.options.maxSockets||oe.Agent.defaultMaxSockets;B.requests=[];B.sockets=[];B.on("free",(function onFree(b,F,K,se){var oe=toOptions(F,K,se);for(var Qe=0,Re=B.requests.length;Qe<Re;++Qe){var Me=B.requests[Qe];if(Me.host===oe.host&&Me.port===oe.port){B.requests.splice(Qe,1);Me.request.onSocket(b);return}}b.destroy();B.removeSocket(b)}))}Le.inherits(TunnelingAgent,Re.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(b,B,F,K){var se=this;var oe=mergeOptions({request:b},se.options,toOptions(B,F,K));if(se.sockets.length>=this.maxSockets){se.requests.push(oe);return}se.createSocket(oe,(function(B){B.on("free",onFree);B.on("close",onCloseOrRemove);B.on("agentRemove",onCloseOrRemove);b.onSocket(B);function onFree(){se.emit("free",B,oe)}function onCloseOrRemove(b){se.removeSocket(B);B.removeListener("free",onFree);B.removeListener("close",onCloseOrRemove);B.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(b,B){var F=this;var K={};F.sockets.push(K);var se=mergeOptions({},F.proxyOptions,{method:"CONNECT",path:b.host+":"+b.port,agent:false,headers:{host:b.host+":"+b.port}});if(b.localAddress){se.localAddress=b.localAddress}if(se.proxyAuth){se.headers=se.headers||{};se.headers["Proxy-Authorization"]="Basic "+new Buffer(se.proxyAuth).toString("base64")}We("making CONNECT request");var oe=F.request(se);oe.useChunkedEncodingByDefault=false;oe.once("response",onResponse);oe.once("upgrade",onUpgrade);oe.once("connect",onConnect);oe.once("error",onError);oe.end();function onResponse(b){b.upgrade=true}function onUpgrade(b,B,F){process.nextTick((function(){onConnect(b,B,F)}))}function onConnect(se,Qe,Re){oe.removeAllListeners();Qe.removeAllListeners();if(se.statusCode!==200){We("tunneling socket could not be established, statusCode=%d",se.statusCode);Qe.destroy();var Me=new Error("tunneling socket could not be established, "+"statusCode="+se.statusCode);Me.code="ECONNRESET";b.request.emit("error",Me);F.removeSocket(K);return}if(Re.length>0){We("got illegal response body from proxy");Qe.destroy();var Me=new Error("got illegal response body from proxy");Me.code="ECONNRESET";b.request.emit("error",Me);F.removeSocket(K);return}We("tunneling connection has established");F.sockets[F.sockets.indexOf(K)]=Qe;return B(Qe)}function onError(B){oe.removeAllListeners();We("tunneling socket could not be established, cause=%s\n",B.message,B.stack);var se=new Error("tunneling socket could not be established, "+"cause="+B.message);se.code="ECONNRESET";b.request.emit("error",se);F.removeSocket(K)}};TunnelingAgent.prototype.removeSocket=function removeSocket(b){var B=this.sockets.indexOf(b);if(B===-1){return}this.sockets.splice(B,1);var F=this.requests.shift();if(F){this.createSocket(F,(function(b){F.request.onSocket(b)}))}};function createSecureSocket(b,B){var F=this;TunnelingAgent.prototype.createSocket.call(F,b,(function(K){var oe=b.request.getHeader("host");var Qe=mergeOptions({},F.options,{socket:K,servername:oe?oe.replace(/:.*$/,""):b.host});var Re=se.connect(0,Qe);F.sockets[F.sockets.indexOf(K)]=Re;B(Re)}))}function toOptions(b,B,F){if(typeof b==="string"){return{host:b,port:B,localAddress:F}}return b}function mergeOptions(b){for(var B=1,F=arguments.length;B<F;++B){var K=arguments[B];if(typeof K==="object"){var se=Object.keys(K);for(var oe=0,Qe=se.length;oe<Qe;++oe){var Re=se[oe];if(K[Re]!==undefined){b[Re]=K[Re]}}}}return b}var We;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){We=function(){var b=Array.prototype.slice.call(arguments);if(typeof b[0]==="string"){b[0]="TUNNEL: "+b[0]}else{b.unshift("TUNNEL:")}console.error.apply(console,b)}}else{We=function(){}}B.debug=We},6017:(b,B,F)=>{"use strict";const K=F(6530);const se=F(5872);const oe=F(1970);const Qe=F(6607);const Re=F(180);const Me=F(4724);const Le=F(701);const{InvalidArgumentError:We}=oe;const Ge=F(6234);const ze=F(2667);const $e=F(1134);const Ye=F(4280);const Ke=F(723);const Xe=F(8074);const et=F(5317);const rt=F(5970);const{getGlobalDispatcher:it,setGlobalDispatcher:ot}=F(4662);const at=F(6459);const lt=F(762);const ut=F(2750);let dt;try{F(6982);dt=true}catch{dt=false}Object.assign(se.prototype,Ge);b.exports.Dispatcher=se;b.exports.Client=K;b.exports.Pool=Qe;b.exports.BalancedPool=Re;b.exports.Agent=Me;b.exports.ProxyAgent=et;b.exports.RetryHandler=rt;b.exports.DecoratorHandler=at;b.exports.RedirectHandler=lt;b.exports.createRedirectInterceptor=ut;b.exports.buildConnector=ze;b.exports.errors=oe;function makeDispatcher(b){return(B,F,K)=>{if(typeof F==="function"){K=F;F=null}if(!B||typeof B!=="string"&&typeof B!=="object"&&!(B instanceof URL)){throw new We("invalid url")}if(F!=null&&typeof F!=="object"){throw new We("invalid opts")}if(F&&F.path!=null){if(typeof F.path!=="string"){throw new We("invalid opts.path")}let b=F.path;if(!F.path.startsWith("/")){b=`/${b}`}B=new URL(Le.parseOrigin(B).origin+b)}else{if(!F){F=typeof B==="object"?B:{}}B=Le.parseURL(B)}const{agent:se,dispatcher:oe=it()}=F;if(se){throw new We("unsupported opts.agent. Did you mean opts.client?")}return b.call(oe,{...F,origin:B.origin,path:B.search?`${B.pathname}${B.search}`:B.pathname,method:F.method||(F.body?"PUT":"GET")},K)}}b.exports.setGlobalDispatcher=ot;b.exports.getGlobalDispatcher=it;if(Le.nodeMajor>16||Le.nodeMajor===16&&Le.nodeMinor>=8){let B=null;b.exports.fetch=async function fetch(b){if(!B){B=F(4546).fetch}try{return await B(...arguments)}catch(b){if(typeof b==="object"){Error.captureStackTrace(b,this)}throw b}};b.exports.Headers=F(824).Headers;b.exports.Response=F(2111).Response;b.exports.Request=F(8939).Request;b.exports.FormData=F(98).FormData;b.exports.File=F(374).File;b.exports.FileReader=F(2151).FileReader;const{setGlobalOrigin:K,getGlobalOrigin:se}=F(2071);b.exports.setGlobalOrigin=K;b.exports.getGlobalOrigin=se;const{CacheStorage:oe}=F(4393);const{kConstruct:Qe}=F(8081);b.exports.caches=new oe(Qe)}if(Le.nodeMajor>=16){const{deleteCookie:B,getCookies:K,getSetCookies:se,setCookie:oe}=F(3001);b.exports.deleteCookie=B;b.exports.getCookies=K;b.exports.getSetCookies=se;b.exports.setCookie=oe;const{parseMIMEType:Qe,serializeAMimeType:Re}=F(2059);b.exports.parseMIMEType=Qe;b.exports.serializeAMimeType=Re}if(Le.nodeMajor>=18&&dt){const{WebSocket:B}=F(7634);b.exports.WebSocket=B}b.exports.request=makeDispatcher(Ge.request);b.exports.stream=makeDispatcher(Ge.stream);b.exports.pipeline=makeDispatcher(Ge.pipeline);b.exports.connect=makeDispatcher(Ge.connect);b.exports.upgrade=makeDispatcher(Ge.upgrade);b.exports.MockClient=$e;b.exports.MockPool=Ke;b.exports.MockAgent=Ye;b.exports.mockErrors=Xe},4724:(b,B,F)=>{"use strict";const{InvalidArgumentError:K}=F(1970);const{kClients:se,kRunning:oe,kClose:Qe,kDestroy:Re,kDispatch:Me,kInterceptors:Le}=F(4980);const We=F(4660);const Ge=F(6607);const ze=F(6530);const $e=F(701);const Ye=F(2750);const{WeakRef:Ke,FinalizationRegistry:Xe}=F(4375)();const et=Symbol("onConnect");const rt=Symbol("onDisconnect");const it=Symbol("onConnectionError");const ot=Symbol("maxRedirections");const at=Symbol("onDrain");const lt=Symbol("factory");const ut=Symbol("finalizer");const dt=Symbol("options");function defaultFactory(b,B){return B&&B.connections===1?new ze(b,B):new Ge(b,B)}class Agent extends We{constructor({factory:b=defaultFactory,maxRedirections:B=0,connect:F,...oe}={}){super();if(typeof b!=="function"){throw new K("factory must be a function.")}if(F!=null&&typeof F!=="function"&&typeof F!=="object"){throw new K("connect must be a function or an object")}if(!Number.isInteger(B)||B<0){throw new K("maxRedirections must be a positive number")}if(F&&typeof F!=="function"){F={...F}}this[Le]=oe.interceptors&&oe.interceptors.Agent&&Array.isArray(oe.interceptors.Agent)?oe.interceptors.Agent:[Ye({maxRedirections:B})];this[dt]={...$e.deepClone(oe),connect:F};this[dt].interceptors=oe.interceptors?{...oe.interceptors}:undefined;this[ot]=B;this[lt]=b;this[se]=new Map;this[ut]=new Xe((b=>{const B=this[se].get(b);if(B!==undefined&&B.deref()===undefined){this[se].delete(b)}}));const Qe=this;this[at]=(b,B)=>{Qe.emit("drain",b,[Qe,...B])};this[et]=(b,B)=>{Qe.emit("connect",b,[Qe,...B])};this[rt]=(b,B,F)=>{Qe.emit("disconnect",b,[Qe,...B],F)};this[it]=(b,B,F)=>{Qe.emit("connectionError",b,[Qe,...B],F)}}get[oe](){let b=0;for(const B of this[se].values()){const F=B.deref();if(F){b+=F[oe]}}return b}[Me](b,B){let F;if(b.origin&&(typeof b.origin==="string"||b.origin instanceof URL)){F=String(b.origin)}else{throw new K("opts.origin must be a non-empty string or URL.")}const oe=this[se].get(F);let Qe=oe?oe.deref():null;if(!Qe){Qe=this[lt](b.origin,this[dt]).on("drain",this[at]).on("connect",this[et]).on("disconnect",this[rt]).on("connectionError",this[it]);this[se].set(F,new Ke(Qe));this[ut].register(Qe,F)}return Qe.dispatch(b,B)}async[Qe](){const b=[];for(const B of this[se].values()){const F=B.deref();if(F){b.push(F.close())}}await Promise.all(b)}async[Re](b){const B=[];for(const F of this[se].values()){const K=F.deref();if(K){B.push(K.destroy(b))}}await Promise.all(B)}}b.exports=Agent},6497:(b,B,F)=>{const{addAbortListener:K}=F(701);const{RequestAbortedError:se}=F(1970);const oe=Symbol("kListener");const Qe=Symbol("kSignal");function abort(b){if(b.abort){b.abort()}else{b.onError(new se)}}function addSignal(b,B){b[Qe]=null;b[oe]=null;if(!B){return}if(B.aborted){abort(b);return}b[Qe]=B;b[oe]=()=>{abort(b)};K(b[Qe],b[oe])}function removeSignal(b){if(!b[Qe]){return}if("removeEventListener"in b[Qe]){b[Qe].removeEventListener("abort",b[oe])}else{b[Qe].removeListener("abort",b[oe])}b[Qe]=null;b[oe]=null}b.exports={addSignal:addSignal,removeSignal:removeSignal}},2621:(b,B,F)=>{"use strict";const{AsyncResource:K}=F(290);const{InvalidArgumentError:se,RequestAbortedError:oe,SocketError:Qe}=F(1970);const Re=F(701);const{addSignal:Me,removeSignal:Le}=F(6497);class ConnectHandler extends K{constructor(b,B){if(!b||typeof b!=="object"){throw new se("invalid opts")}if(typeof B!=="function"){throw new se("invalid callback")}const{signal:F,opaque:K,responseHeaders:oe}=b;if(F&&typeof F.on!=="function"&&typeof F.addEventListener!=="function"){throw new se("signal must be an EventEmitter or EventTarget")}super("UNDICI_CONNECT");this.opaque=K||null;this.responseHeaders=oe||null;this.callback=B;this.abort=null;Me(this,F)}onConnect(b,B){if(!this.callback){throw new oe}this.abort=b;this.context=B}onHeaders(){throw new Qe("bad connect",null)}onUpgrade(b,B,F){const{callback:K,opaque:se,context:oe}=this;Le(this);this.callback=null;let Qe=B;if(Qe!=null){Qe=this.responseHeaders==="raw"?Re.parseRawHeaders(B):Re.parseHeaders(B)}this.runInAsyncScope(K,null,null,{statusCode:b,headers:Qe,socket:F,opaque:se,context:oe})}onError(b){const{callback:B,opaque:F}=this;Le(this);if(B){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(B,null,b,{opaque:F})}))}}}function connect(b,B){if(B===undefined){return new Promise(((B,F)=>{connect.call(this,b,((b,K)=>b?F(b):B(K)))}))}try{const F=new ConnectHandler(b,B);this.dispatch({...b,method:"CONNECT"},F)}catch(F){if(typeof B!=="function"){throw F}const K=b&&b.opaque;queueMicrotask((()=>B(F,{opaque:K})))}}b.exports=connect},8229:(b,B,F)=>{"use strict";const{Readable:K,Duplex:se,PassThrough:oe}=F(2203);const{InvalidArgumentError:Qe,InvalidReturnValueError:Re,RequestAbortedError:Me}=F(1970);const Le=F(701);const{AsyncResource:We}=F(290);const{addSignal:Ge,removeSignal:ze}=F(6497);const $e=F(2613);const Ye=Symbol("resume");class PipelineRequest extends K{constructor(){super({autoDestroy:true});this[Ye]=null}_read(){const{[Ye]:b}=this;if(b){this[Ye]=null;b()}}_destroy(b,B){this._read();B(b)}}class PipelineResponse extends K{constructor(b){super({autoDestroy:true});this[Ye]=b}_read(){this[Ye]()}_destroy(b,B){if(!b&&!this._readableState.endEmitted){b=new Me}B(b)}}class PipelineHandler extends We{constructor(b,B){if(!b||typeof b!=="object"){throw new Qe("invalid opts")}if(typeof B!=="function"){throw new Qe("invalid handler")}const{signal:F,method:K,opaque:oe,onInfo:Re,responseHeaders:We}=b;if(F&&typeof F.on!=="function"&&typeof F.addEventListener!=="function"){throw new Qe("signal must be an EventEmitter or EventTarget")}if(K==="CONNECT"){throw new Qe("invalid method")}if(Re&&typeof Re!=="function"){throw new Qe("invalid onInfo callback")}super("UNDICI_PIPELINE");this.opaque=oe||null;this.responseHeaders=We||null;this.handler=B;this.abort=null;this.context=null;this.onInfo=Re||null;this.req=(new PipelineRequest).on("error",Le.nop);this.ret=new se({readableObjectMode:b.objectMode,autoDestroy:true,read:()=>{const{body:b}=this;if(b&&b.resume){b.resume()}},write:(b,B,F)=>{const{req:K}=this;if(K.push(b,B)||K._readableState.destroyed){F()}else{K[Ye]=F}},destroy:(b,B)=>{const{body:F,req:K,res:se,ret:oe,abort:Qe}=this;if(!b&&!oe._readableState.endEmitted){b=new Me}if(Qe&&b){Qe()}Le.destroy(F,b);Le.destroy(K,b);Le.destroy(se,b);ze(this);B(b)}}).on("prefinish",(()=>{const{req:b}=this;b.push(null)}));this.res=null;Ge(this,F)}onConnect(b,B){const{ret:F,res:K}=this;$e(!K,"pipeline cannot be retried");if(F.destroyed){throw new Me}this.abort=b;this.context=B}onHeaders(b,B,F){const{opaque:K,handler:se,context:oe}=this;if(b<200){if(this.onInfo){const F=this.responseHeaders==="raw"?Le.parseRawHeaders(B):Le.parseHeaders(B);this.onInfo({statusCode:b,headers:F})}return}this.res=new PipelineResponse(F);let Qe;try{this.handler=null;const F=this.responseHeaders==="raw"?Le.parseRawHeaders(B):Le.parseHeaders(B);Qe=this.runInAsyncScope(se,null,{statusCode:b,headers:F,opaque:K,body:this.res,context:oe})}catch(b){this.res.on("error",Le.nop);throw b}if(!Qe||typeof Qe.on!=="function"){throw new Re("expected Readable")}Qe.on("data",(b=>{const{ret:B,body:F}=this;if(!B.push(b)&&F.pause){F.pause()}})).on("error",(b=>{const{ret:B}=this;Le.destroy(B,b)})).on("end",(()=>{const{ret:b}=this;b.push(null)})).on("close",(()=>{const{ret:b}=this;if(!b._readableState.ended){Le.destroy(b,new Me)}}));this.body=Qe}onData(b){const{res:B}=this;return B.push(b)}onComplete(b){const{res:B}=this;B.push(null)}onError(b){const{ret:B}=this;this.handler=null;Le.destroy(B,b)}}function pipeline(b,B){try{const F=new PipelineHandler(b,B);this.dispatch({...b,body:F.req},F);return F.ret}catch(b){return(new oe).destroy(b)}}b.exports=pipeline},5670:(b,B,F)=>{"use strict";const K=F(2224);const{InvalidArgumentError:se,RequestAbortedError:oe}=F(1970);const Qe=F(701);const{getResolveErrorBodyCallback:Re}=F(3924);const{AsyncResource:Me}=F(290);const{addSignal:Le,removeSignal:We}=F(6497);class RequestHandler extends Me{constructor(b,B){if(!b||typeof b!=="object"){throw new se("invalid opts")}const{signal:F,method:K,opaque:oe,body:Re,onInfo:Me,responseHeaders:We,throwOnError:Ge,highWaterMark:ze}=b;try{if(typeof B!=="function"){throw new se("invalid callback")}if(ze&&(typeof ze!=="number"||ze<0)){throw new se("invalid highWaterMark")}if(F&&typeof F.on!=="function"&&typeof F.addEventListener!=="function"){throw new se("signal must be an EventEmitter or EventTarget")}if(K==="CONNECT"){throw new se("invalid method")}if(Me&&typeof Me!=="function"){throw new se("invalid onInfo callback")}super("UNDICI_REQUEST")}catch(b){if(Qe.isStream(Re)){Qe.destroy(Re.on("error",Qe.nop),b)}throw b}this.responseHeaders=We||null;this.opaque=oe||null;this.callback=B;this.res=null;this.abort=null;this.body=Re;this.trailers={};this.context=null;this.onInfo=Me||null;this.throwOnError=Ge;this.highWaterMark=ze;if(Qe.isStream(Re)){Re.on("error",(b=>{this.onError(b)}))}Le(this,F)}onConnect(b,B){if(!this.callback){throw new oe}this.abort=b;this.context=B}onHeaders(b,B,F,se){const{callback:oe,opaque:Me,abort:Le,context:We,responseHeaders:Ge,highWaterMark:ze}=this;const $e=Ge==="raw"?Qe.parseRawHeaders(B):Qe.parseHeaders(B);if(b<200){if(this.onInfo){this.onInfo({statusCode:b,headers:$e})}return}const Ye=Ge==="raw"?Qe.parseHeaders(B):$e;const Ke=Ye["content-type"];const Xe=new K({resume:F,abort:Le,contentType:Ke,highWaterMark:ze});this.callback=null;this.res=Xe;if(oe!==null){if(this.throwOnError&&b>=400){this.runInAsyncScope(Re,null,{callback:oe,body:Xe,contentType:Ke,statusCode:b,statusMessage:se,headers:$e})}else{this.runInAsyncScope(oe,null,null,{statusCode:b,headers:$e,trailers:this.trailers,opaque:Me,body:Xe,context:We})}}}onData(b){const{res:B}=this;return B.push(b)}onComplete(b){const{res:B}=this;We(this);Qe.parseHeaders(b,this.trailers);B.push(null)}onError(b){const{res:B,callback:F,body:K,opaque:se}=this;We(this);if(F){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(F,null,b,{opaque:se})}))}if(B){this.res=null;queueMicrotask((()=>{Qe.destroy(B,b)}))}if(K){this.body=null;Qe.destroy(K,b)}}}function request(b,B){if(B===undefined){return new Promise(((B,F)=>{request.call(this,b,((b,K)=>b?F(b):B(K)))}))}try{this.dispatch(b,new RequestHandler(b,B))}catch(F){if(typeof B!=="function"){throw F}const K=b&&b.opaque;queueMicrotask((()=>B(F,{opaque:K})))}}b.exports=request;b.exports.RequestHandler=RequestHandler},3019:(b,B,F)=>{"use strict";const{finished:K,PassThrough:se}=F(2203);const{InvalidArgumentError:oe,InvalidReturnValueError:Qe,RequestAbortedError:Re}=F(1970);const Me=F(701);const{getResolveErrorBodyCallback:Le}=F(3924);const{AsyncResource:We}=F(290);const{addSignal:Ge,removeSignal:ze}=F(6497);class StreamHandler extends We{constructor(b,B,F){if(!b||typeof b!=="object"){throw new oe("invalid opts")}const{signal:K,method:se,opaque:Qe,body:Re,onInfo:Le,responseHeaders:We,throwOnError:ze}=b;try{if(typeof F!=="function"){throw new oe("invalid callback")}if(typeof B!=="function"){throw new oe("invalid factory")}if(K&&typeof K.on!=="function"&&typeof K.addEventListener!=="function"){throw new oe("signal must be an EventEmitter or EventTarget")}if(se==="CONNECT"){throw new oe("invalid method")}if(Le&&typeof Le!=="function"){throw new oe("invalid onInfo callback")}super("UNDICI_STREAM")}catch(b){if(Me.isStream(Re)){Me.destroy(Re.on("error",Me.nop),b)}throw b}this.responseHeaders=We||null;this.opaque=Qe||null;this.factory=B;this.callback=F;this.res=null;this.abort=null;this.context=null;this.trailers=null;this.body=Re;this.onInfo=Le||null;this.throwOnError=ze||false;if(Me.isStream(Re)){Re.on("error",(b=>{this.onError(b)}))}Ge(this,K)}onConnect(b,B){if(!this.callback){throw new Re}this.abort=b;this.context=B}onHeaders(b,B,F,oe){const{factory:Re,opaque:We,context:Ge,callback:ze,responseHeaders:$e}=this;const Ye=$e==="raw"?Me.parseRawHeaders(B):Me.parseHeaders(B);if(b<200){if(this.onInfo){this.onInfo({statusCode:b,headers:Ye})}return}this.factory=null;let Ke;if(this.throwOnError&&b>=400){const F=$e==="raw"?Me.parseHeaders(B):Ye;const K=F["content-type"];Ke=new se;this.callback=null;this.runInAsyncScope(Le,null,{callback:ze,body:Ke,contentType:K,statusCode:b,statusMessage:oe,headers:Ye})}else{if(Re===null){return}Ke=this.runInAsyncScope(Re,null,{statusCode:b,headers:Ye,opaque:We,context:Ge});if(!Ke||typeof Ke.write!=="function"||typeof Ke.end!=="function"||typeof Ke.on!=="function"){throw new Qe("expected Writable")}K(Ke,{readable:false},(b=>{const{callback:B,res:F,opaque:K,trailers:se,abort:oe}=this;this.res=null;if(b||!F.readable){Me.destroy(F,b)}this.callback=null;this.runInAsyncScope(B,null,b||null,{opaque:K,trailers:se});if(b){oe()}}))}Ke.on("drain",F);this.res=Ke;const Xe=Ke.writableNeedDrain!==undefined?Ke.writableNeedDrain:Ke._writableState&&Ke._writableState.needDrain;return Xe!==true}onData(b){const{res:B}=this;return B?B.write(b):true}onComplete(b){const{res:B}=this;ze(this);if(!B){return}this.trailers=Me.parseHeaders(b);B.end()}onError(b){const{res:B,callback:F,opaque:K,body:se}=this;ze(this);this.factory=null;if(B){this.res=null;Me.destroy(B,b)}else if(F){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(F,null,b,{opaque:K})}))}if(se){this.body=null;Me.destroy(se,b)}}}function stream(b,B,F){if(F===undefined){return new Promise(((F,K)=>{stream.call(this,b,B,((b,B)=>b?K(b):F(B)))}))}try{this.dispatch(b,new StreamHandler(b,B,F))}catch(B){if(typeof F!=="function"){throw B}const K=b&&b.opaque;queueMicrotask((()=>F(B,{opaque:K})))}}b.exports=stream},8063:(b,B,F)=>{"use strict";const{InvalidArgumentError:K,RequestAbortedError:se,SocketError:oe}=F(1970);const{AsyncResource:Qe}=F(290);const Re=F(701);const{addSignal:Me,removeSignal:Le}=F(6497);const We=F(2613);class UpgradeHandler extends Qe{constructor(b,B){if(!b||typeof b!=="object"){throw new K("invalid opts")}if(typeof B!=="function"){throw new K("invalid callback")}const{signal:F,opaque:se,responseHeaders:oe}=b;if(F&&typeof F.on!=="function"&&typeof F.addEventListener!=="function"){throw new K("signal must be an EventEmitter or EventTarget")}super("UNDICI_UPGRADE");this.responseHeaders=oe||null;this.opaque=se||null;this.callback=B;this.abort=null;this.context=null;Me(this,F)}onConnect(b,B){if(!this.callback){throw new se}this.abort=b;this.context=null}onHeaders(){throw new oe("bad upgrade",null)}onUpgrade(b,B,F){const{callback:K,opaque:se,context:oe}=this;We.strictEqual(b,101);Le(this);this.callback=null;const Qe=this.responseHeaders==="raw"?Re.parseRawHeaders(B):Re.parseHeaders(B);this.runInAsyncScope(K,null,null,{headers:Qe,socket:F,opaque:se,context:oe})}onError(b){const{callback:B,opaque:F}=this;Le(this);if(B){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(B,null,b,{opaque:F})}))}}}function upgrade(b,B){if(B===undefined){return new Promise(((B,F)=>{upgrade.call(this,b,((b,K)=>b?F(b):B(K)))}))}try{const F=new UpgradeHandler(b,B);this.dispatch({...b,method:b.method||"GET",upgrade:b.protocol||"Websocket"},F)}catch(F){if(typeof B!=="function"){throw F}const K=b&&b.opaque;queueMicrotask((()=>B(F,{opaque:K})))}}b.exports=upgrade},6234:(b,B,F)=>{"use strict";b.exports.request=F(5670);b.exports.stream=F(3019);b.exports.pipeline=F(8229);b.exports.upgrade=F(8063);b.exports.connect=F(2621)},2224:(b,B,F)=>{"use strict";const K=F(2613);const{Readable:se}=F(2203);const{RequestAbortedError:oe,NotSupportedError:Qe,InvalidArgumentError:Re}=F(1970);const Me=F(701);const{ReadableStreamFrom:Le,toUSVString:We}=F(701);let Ge;const ze=Symbol("kConsume");const $e=Symbol("kReading");const Ye=Symbol("kBody");const Ke=Symbol("abort");const Xe=Symbol("kContentType");const noop=()=>{};b.exports=class BodyReadable extends se{constructor({resume:b,abort:B,contentType:F="",highWaterMark:K=64*1024}){super({autoDestroy:true,read:b,highWaterMark:K});this._readableState.dataEmitted=false;this[Ke]=B;this[ze]=null;this[Ye]=null;this[Xe]=F;this[$e]=false}destroy(b){if(this.destroyed){return this}if(!b&&!this._readableState.endEmitted){b=new oe}if(b){this[Ke]()}return super.destroy(b)}emit(b,...B){if(b==="data"){this._readableState.dataEmitted=true}else if(b==="error"){this._readableState.errorEmitted=true}return super.emit(b,...B)}on(b,...B){if(b==="data"||b==="readable"){this[$e]=true}return super.on(b,...B)}addListener(b,...B){return this.on(b,...B)}off(b,...B){const F=super.off(b,...B);if(b==="data"||b==="readable"){this[$e]=this.listenerCount("data")>0||this.listenerCount("readable")>0}return F}removeListener(b,...B){return this.off(b,...B)}push(b){if(this[ze]&&b!==null&&this.readableLength===0){consumePush(this[ze],b);return this[$e]?super.push(b):true}return super.push(b)}async text(){return consume(this,"text")}async json(){return consume(this,"json")}async blob(){return consume(this,"blob")}async arrayBuffer(){return consume(this,"arrayBuffer")}async formData(){throw new Qe}get bodyUsed(){return Me.isDisturbed(this)}get body(){if(!this[Ye]){this[Ye]=Le(this);if(this[ze]){this[Ye].getReader();K(this[Ye].locked)}}return this[Ye]}dump(b){let B=b&&Number.isFinite(b.limit)?b.limit:262144;const F=b&&b.signal;if(F){try{if(typeof F!=="object"||!("aborted"in F)){throw new Re("signal must be an AbortSignal")}Me.throwIfAborted(F)}catch(b){return Promise.reject(b)}}if(this.closed){return Promise.resolve(null)}return new Promise(((b,K)=>{const se=F?Me.addAbortListener(F,(()=>{this.destroy()})):noop;this.on("close",(function(){se();if(F&&F.aborted){K(F.reason||Object.assign(new Error("The operation was aborted"),{name:"AbortError"}))}else{b(null)}})).on("error",noop).on("data",(function(b){B-=b.length;if(B<=0){this.destroy()}})).resume()}))}};function isLocked(b){return b[Ye]&&b[Ye].locked===true||b[ze]}function isUnusable(b){return Me.isDisturbed(b)||isLocked(b)}async function consume(b,B){if(isUnusable(b)){throw new TypeError("unusable")}K(!b[ze]);return new Promise(((F,K)=>{b[ze]={type:B,stream:b,resolve:F,reject:K,length:0,body:[]};b.on("error",(function(b){consumeFinish(this[ze],b)})).on("close",(function(){if(this[ze].body!==null){consumeFinish(this[ze],new oe)}}));process.nextTick(consumeStart,b[ze])}))}function consumeStart(b){if(b.body===null){return}const{_readableState:B}=b.stream;for(const F of B.buffer){consumePush(b,F)}if(B.endEmitted){consumeEnd(this[ze])}else{b.stream.on("end",(function(){consumeEnd(this[ze])}))}b.stream.resume();while(b.stream.read()!=null){}}function consumeEnd(b){const{type:B,body:K,resolve:se,stream:oe,length:Qe}=b;try{if(B==="text"){se(We(Buffer.concat(K)))}else if(B==="json"){se(JSON.parse(Buffer.concat(K)))}else if(B==="arrayBuffer"){const b=new Uint8Array(Qe);let B=0;for(const F of K){b.set(F,B);B+=F.byteLength}se(b.buffer)}else if(B==="blob"){if(!Ge){Ge=F(181).Blob}se(new Ge(K,{type:oe[Xe]}))}consumeFinish(b)}catch(b){oe.destroy(b)}}function consumePush(b,B){b.length+=B.length;b.body.push(B)}function consumeFinish(b,B){if(b.body===null){return}if(B){b.reject(B)}else{b.resolve()}b.type=null;b.stream=null;b.resolve=null;b.reject=null;b.length=0;b.body=null}},3924:(b,B,F)=>{const K=F(2613);const{ResponseStatusCodeError:se}=F(1970);const{toUSVString:oe}=F(701);async function getResolveErrorBodyCallback({callback:b,body:B,contentType:F,statusCode:Qe,statusMessage:Re,headers:Me}){K(B);let Le=[];let We=0;for await(const b of B){Le.push(b);We+=b.length;if(We>128*1024){Le=null;break}}if(Qe===204||!F||!Le){process.nextTick(b,new se(`Response status code ${Qe}${Re?`: ${Re}`:""}`,Qe,Me));return}try{if(F.startsWith("application/json")){const B=JSON.parse(oe(Buffer.concat(Le)));process.nextTick(b,new se(`Response status code ${Qe}${Re?`: ${Re}`:""}`,Qe,Me,B));return}if(F.startsWith("text/")){const B=oe(Buffer.concat(Le));process.nextTick(b,new se(`Response status code ${Qe}${Re?`: ${Re}`:""}`,Qe,Me,B));return}}catch(b){}process.nextTick(b,new se(`Response status code ${Qe}${Re?`: ${Re}`:""}`,Qe,Me))}b.exports={getResolveErrorBodyCallback:getResolveErrorBodyCallback}},180:(b,B,F)=>{"use strict";const{BalancedPoolMissingUpstreamError:K,InvalidArgumentError:se}=F(1970);const{PoolBase:oe,kClients:Qe,kNeedDrain:Re,kAddClient:Me,kRemoveClient:Le,kGetDispatcher:We}=F(4005);const Ge=F(6607);const{kUrl:ze,kInterceptors:$e}=F(4980);const{parseOrigin:Ye}=F(701);const Ke=Symbol("factory");const Xe=Symbol("options");const et=Symbol("kGreatestCommonDivisor");const rt=Symbol("kCurrentWeight");const it=Symbol("kIndex");const ot=Symbol("kWeight");const at=Symbol("kMaxWeightPerServer");const lt=Symbol("kErrorPenalty");function getGreatestCommonDivisor(b,B){if(B===0)return b;return getGreatestCommonDivisor(B,b%B)}function defaultFactory(b,B){return new Ge(b,B)}class BalancedPool extends oe{constructor(b=[],{factory:B=defaultFactory,...F}={}){super();this[Xe]=F;this[it]=-1;this[rt]=0;this[at]=this[Xe].maxWeightPerServer||100;this[lt]=this[Xe].errorPenalty||15;if(!Array.isArray(b)){b=[b]}if(typeof B!=="function"){throw new se("factory must be a function.")}this[$e]=F.interceptors&&F.interceptors.BalancedPool&&Array.isArray(F.interceptors.BalancedPool)?F.interceptors.BalancedPool:[];this[Ke]=B;for(const B of b){this.addUpstream(B)}this._updateBalancedPoolStats()}addUpstream(b){const B=Ye(b).origin;if(this[Qe].find((b=>b[ze].origin===B&&b.closed!==true&&b.destroyed!==true))){return this}const F=this[Ke](B,Object.assign({},this[Xe]));this[Me](F);F.on("connect",(()=>{F[ot]=Math.min(this[at],F[ot]+this[lt])}));F.on("connectionError",(()=>{F[ot]=Math.max(1,F[ot]-this[lt]);this._updateBalancedPoolStats()}));F.on("disconnect",((...b)=>{const B=b[2];if(B&&B.code==="UND_ERR_SOCKET"){F[ot]=Math.max(1,F[ot]-this[lt]);this._updateBalancedPoolStats()}}));for(const b of this[Qe]){b[ot]=this[at]}this._updateBalancedPoolStats();return this}_updateBalancedPoolStats(){this[et]=this[Qe].map((b=>b[ot])).reduce(getGreatestCommonDivisor,0)}removeUpstream(b){const B=Ye(b).origin;const F=this[Qe].find((b=>b[ze].origin===B&&b.closed!==true&&b.destroyed!==true));if(F){this[Le](F)}return this}get upstreams(){return this[Qe].filter((b=>b.closed!==true&&b.destroyed!==true)).map((b=>b[ze].origin))}[We](){if(this[Qe].length===0){throw new K}const b=this[Qe].find((b=>!b[Re]&&b.closed!==true&&b.destroyed!==true));if(!b){return}const B=this[Qe].map((b=>b[Re])).reduce(((b,B)=>b&&B),true);if(B){return}let F=0;let se=this[Qe].findIndex((b=>!b[Re]));while(F++<this[Qe].length){this[it]=(this[it]+1)%this[Qe].length;const b=this[Qe][this[it]];if(b[ot]>this[Qe][se][ot]&&!b[Re]){se=this[it]}if(this[it]===0){this[rt]=this[rt]-this[et];if(this[rt]<=0){this[rt]=this[at]}}if(b[ot]>=this[rt]&&!b[Re]){return b}}this[rt]=this[Qe][se][ot];this[it]=se;return this[Qe][se]}}b.exports=BalancedPool},5974:(b,B,F)=>{"use strict";const{kConstruct:K}=F(8081);const{urlEquals:se,fieldValues:oe}=F(6922);const{kEnumerableProperty:Qe,isDisturbed:Re}=F(701);const{kHeadersList:Me}=F(4980);const{webidl:Le}=F(185);const{Response:We,cloneResponse:Ge}=F(2111);const{Request:ze}=F(8939);const{kState:$e,kHeaders:Ye,kGuard:Ke,kRealm:Xe}=F(639);const{fetching:et}=F(4546);const{urlIsHttpHttpsScheme:rt,createDeferredPromise:it,readAllBytes:ot}=F(8524);const at=F(2613);const{getGlobalDispatcher:lt}=F(4662);class Cache{#e;constructor(){if(arguments[0]!==K){Le.illegalConstructor()}this.#e=arguments[1]}async match(b,B={}){Le.brandCheck(this,Cache);Le.argumentLengthCheck(arguments,1,{header:"Cache.match"});b=Le.converters.RequestInfo(b);B=Le.converters.CacheQueryOptions(B);const F=await this.matchAll(b,B);if(F.length===0){return}return F[0]}async matchAll(b=undefined,B={}){Le.brandCheck(this,Cache);if(b!==undefined)b=Le.converters.RequestInfo(b);B=Le.converters.CacheQueryOptions(B);let F=null;if(b!==undefined){if(b instanceof ze){F=b[$e];if(F.method!=="GET"&&!B.ignoreMethod){return[]}}else if(typeof b==="string"){F=new ze(b)[$e]}}const K=[];if(b===undefined){for(const b of this.#e){K.push(b[1])}}else{const b=this.#t(F,B);for(const B of b){K.push(B[1])}}const se=[];for(const b of K){const B=new We(b.body?.source??null);const F=B[$e].body;B[$e]=b;B[$e].body=F;B[Ye][Me]=b.headersList;B[Ye][Ke]="immutable";se.push(B)}return Object.freeze(se)}async add(b){Le.brandCheck(this,Cache);Le.argumentLengthCheck(arguments,1,{header:"Cache.add"});b=Le.converters.RequestInfo(b);const B=[b];const F=this.addAll(B);return await F}async addAll(b){Le.brandCheck(this,Cache);Le.argumentLengthCheck(arguments,1,{header:"Cache.addAll"});b=Le.converters["sequence<RequestInfo>"](b);const B=[];const F=[];for(const B of b){if(typeof B==="string"){continue}const b=B[$e];if(!rt(b.url)||b.method!=="GET"){throw Le.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme when method is not GET."})}}const K=[];for(const se of b){const b=new ze(se)[$e];if(!rt(b.url)){throw Le.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme."})}b.initiator="fetch";b.destination="subresource";F.push(b);const Qe=it();K.push(et({request:b,dispatcher:lt(),processResponse(b){if(b.type==="error"||b.status===206||b.status<200||b.status>299){Qe.reject(Le.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}))}else if(b.headersList.contains("vary")){const B=oe(b.headersList.get("vary"));for(const b of B){if(b==="*"){Qe.reject(Le.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(const b of K){b.abort()}return}}}},processResponseEndOfBody(b){if(b.aborted){Qe.reject(new DOMException("aborted","AbortError"));return}Qe.resolve(b)}}));B.push(Qe.promise)}const se=Promise.all(B);const Qe=await se;const Re=[];let Me=0;for(const b of Qe){const B={type:"put",request:F[Me],response:b};Re.push(B);Me++}const We=it();let Ge=null;try{this.#r(Re)}catch(b){Ge=b}queueMicrotask((()=>{if(Ge===null){We.resolve(undefined)}else{We.reject(Ge)}}));return We.promise}async put(b,B){Le.brandCheck(this,Cache);Le.argumentLengthCheck(arguments,2,{header:"Cache.put"});b=Le.converters.RequestInfo(b);B=Le.converters.Response(B);let F=null;if(b instanceof ze){F=b[$e]}else{F=new ze(b)[$e]}if(!rt(F.url)||F.method!=="GET"){throw Le.errors.exception({header:"Cache.put",message:"Expected an http/s scheme when method is not GET"})}const K=B[$e];if(K.status===206){throw Le.errors.exception({header:"Cache.put",message:"Got 206 status"})}if(K.headersList.contains("vary")){const b=oe(K.headersList.get("vary"));for(const B of b){if(B==="*"){throw Le.errors.exception({header:"Cache.put",message:"Got * vary field value"})}}}if(K.body&&(Re(K.body.stream)||K.body.stream.locked)){throw Le.errors.exception({header:"Cache.put",message:"Response body is locked or disturbed"})}const se=Ge(K);const Qe=it();if(K.body!=null){const b=K.body.stream;const B=b.getReader();ot(B).then(Qe.resolve,Qe.reject)}else{Qe.resolve(undefined)}const Me=[];const We={type:"put",request:F,response:se};Me.push(We);const Ye=await Qe.promise;if(se.body!=null){se.body.source=Ye}const Ke=it();let Xe=null;try{this.#r(Me)}catch(b){Xe=b}queueMicrotask((()=>{if(Xe===null){Ke.resolve()}else{Ke.reject(Xe)}}));return Ke.promise}async delete(b,B={}){Le.brandCheck(this,Cache);Le.argumentLengthCheck(arguments,1,{header:"Cache.delete"});b=Le.converters.RequestInfo(b);B=Le.converters.CacheQueryOptions(B);let F=null;if(b instanceof ze){F=b[$e];if(F.method!=="GET"&&!B.ignoreMethod){return false}}else{at(typeof b==="string");F=new ze(b)[$e]}const K=[];const se={type:"delete",request:F,options:B};K.push(se);const oe=it();let Qe=null;let Re;try{Re=this.#r(K)}catch(b){Qe=b}queueMicrotask((()=>{if(Qe===null){oe.resolve(!!Re?.length)}else{oe.reject(Qe)}}));return oe.promise}async keys(b=undefined,B={}){Le.brandCheck(this,Cache);if(b!==undefined)b=Le.converters.RequestInfo(b);B=Le.converters.CacheQueryOptions(B);let F=null;if(b!==undefined){if(b instanceof ze){F=b[$e];if(F.method!=="GET"&&!B.ignoreMethod){return[]}}else if(typeof b==="string"){F=new ze(b)[$e]}}const K=it();const se=[];if(b===undefined){for(const b of this.#e){se.push(b[0])}}else{const b=this.#t(F,B);for(const B of b){se.push(B[0])}}queueMicrotask((()=>{const b=[];for(const B of se){const F=new ze("https://a");F[$e]=B;F[Ye][Me]=B.headersList;F[Ye][Ke]="immutable";F[Xe]=B.client;b.push(F)}K.resolve(Object.freeze(b))}));return K.promise}#r(b){const B=this.#e;const F=[...B];const K=[];const se=[];try{for(const F of b){if(F.type!=="delete"&&F.type!=="put"){throw Le.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'})}if(F.type==="delete"&&F.response!=null){throw Le.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"})}if(this.#t(F.request,F.options,K).length){throw new DOMException("???","InvalidStateError")}let b;if(F.type==="delete"){b=this.#t(F.request,F.options);if(b.length===0){return[]}for(const F of b){const b=B.indexOf(F);at(b!==-1);B.splice(b,1)}}else if(F.type==="put"){if(F.response==null){throw Le.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"})}const se=F.request;if(!rt(se.url)){throw Le.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"})}if(se.method!=="GET"){throw Le.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"})}if(F.options!=null){throw Le.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"})}b=this.#t(F.request);for(const F of b){const b=B.indexOf(F);at(b!==-1);B.splice(b,1)}B.push([F.request,F.response]);K.push([F.request,F.response])}se.push([F.request,F.response])}return se}catch(b){this.#e.length=0;this.#e=F;throw b}}#t(b,B,F){const K=[];const se=F??this.#e;for(const F of se){const[se,oe]=F;if(this.#n(b,se,oe,B)){K.push(F)}}return K}#n(b,B,F=null,K){const Qe=new URL(b.url);const Re=new URL(B.url);if(K?.ignoreSearch){Re.search="";Qe.search=""}if(!se(Qe,Re,true)){return false}if(F==null||K?.ignoreVary||!F.headersList.contains("vary")){return true}const Me=oe(F.headersList.get("vary"));for(const F of Me){if(F==="*"){return false}const K=B.headersList.get(F);const se=b.headersList.get(F);if(K!==se){return false}}return true}}Object.defineProperties(Cache.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:true},match:Qe,matchAll:Qe,add:Qe,addAll:Qe,put:Qe,delete:Qe,keys:Qe});const ut=[{key:"ignoreSearch",converter:Le.converters.boolean,defaultValue:false},{key:"ignoreMethod",converter:Le.converters.boolean,defaultValue:false},{key:"ignoreVary",converter:Le.converters.boolean,defaultValue:false}];Le.converters.CacheQueryOptions=Le.dictionaryConverter(ut);Le.converters.MultiCacheQueryOptions=Le.dictionaryConverter([...ut,{key:"cacheName",converter:Le.converters.DOMString}]);Le.converters.Response=Le.interfaceConverter(We);Le.converters["sequence<RequestInfo>"]=Le.sequenceConverter(Le.converters.RequestInfo);b.exports={Cache:Cache}},4393:(b,B,F)=>{"use strict";const{kConstruct:K}=F(8081);const{Cache:se}=F(5974);const{webidl:oe}=F(185);const{kEnumerableProperty:Qe}=F(701);class CacheStorage{#i=new Map;constructor(){if(arguments[0]!==K){oe.illegalConstructor()}}async match(b,B={}){oe.brandCheck(this,CacheStorage);oe.argumentLengthCheck(arguments,1,{header:"CacheStorage.match"});b=oe.converters.RequestInfo(b);B=oe.converters.MultiCacheQueryOptions(B);if(B.cacheName!=null){if(this.#i.has(B.cacheName)){const F=this.#i.get(B.cacheName);const oe=new se(K,F);return await oe.match(b,B)}}else{for(const F of this.#i.values()){const oe=new se(K,F);const Qe=await oe.match(b,B);if(Qe!==undefined){return Qe}}}}async has(b){oe.brandCheck(this,CacheStorage);oe.argumentLengthCheck(arguments,1,{header:"CacheStorage.has"});b=oe.converters.DOMString(b);return this.#i.has(b)}async open(b){oe.brandCheck(this,CacheStorage);oe.argumentLengthCheck(arguments,1,{header:"CacheStorage.open"});b=oe.converters.DOMString(b);if(this.#i.has(b)){const B=this.#i.get(b);return new se(K,B)}const B=[];this.#i.set(b,B);return new se(K,B)}async delete(b){oe.brandCheck(this,CacheStorage);oe.argumentLengthCheck(arguments,1,{header:"CacheStorage.delete"});b=oe.converters.DOMString(b);return this.#i.delete(b)}async keys(){oe.brandCheck(this,CacheStorage);const b=this.#i.keys();return[...b]}}Object.defineProperties(CacheStorage.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:true},match:Qe,has:Qe,open:Qe,delete:Qe,keys:Qe});b.exports={CacheStorage:CacheStorage}},8081:(b,B,F)=>{"use strict";b.exports={kConstruct:F(4980).kConstruct}},6922:(b,B,F)=>{"use strict";const K=F(2613);const{URLSerializer:se}=F(2059);const{isValidHeaderName:oe}=F(8524);function urlEquals(b,B,F=false){const K=se(b,F);const oe=se(B,F);return K===oe}function fieldValues(b){K(b!==null);const B=[];for(let F of b.split(",")){F=F.trim();if(!F.length){continue}else if(!oe(F)){continue}B.push(F)}return B}b.exports={urlEquals:urlEquals,fieldValues:fieldValues}},6530:(b,B,F)=>{"use strict";const K=F(2613);const se=F(9278);const oe=F(8611);const{pipeline:Qe}=F(2203);const Re=F(701);const Me=F(7167);const Le=F(6840);const We=F(4660);const{RequestContentLengthMismatchError:Ge,ResponseContentLengthMismatchError:ze,InvalidArgumentError:$e,RequestAbortedError:Ye,HeadersTimeoutError:Ke,HeadersOverflowError:Xe,SocketError:et,InformationalError:rt,BodyTimeoutError:it,HTTPParserError:ot,ResponseExceededMaxSizeError:at,ClientDestroyedError:lt}=F(1970);const ut=F(2667);const{kUrl:dt,kReset:ht,kServerName:pt,kClient:ft,kBusy:mt,kParser:vt,kConnect:yt,kBlocking:wt,kResuming:_t,kRunning:It,kPending:xt,kSize:Qt,kWriting:Tt,kQueue:Rt,kConnected:Pt,kConnecting:Nt,kNeedDrain:Ut,kNoRef:Jt,kKeepAliveDefaultTimeout:Zt,kHostHeader:tr,kPendingIdx:rr,kRunningIdx:nr,kError:ir,kPipelining:ar,kSocket:cr,kKeepAliveTimeoutValue:dr,kMaxHeadersSize:pr,kKeepAliveMaxTimeout:gr,kKeepAliveTimeoutThreshold:mr,kHeadersTimeout:yr,kBodyTimeout:wr,kStrictContentLength:_r,kConnector:Or,kMaxRedirections:Rr,kMaxRequests:Pr,kCounter:Dr,kClose:Lr,kDestroy:jr,kDispatch:Wr,kInterceptors:Vr,kLocalAddress:Gr,kMaxResponseSize:zr,kHTTPConnVersion:Jr,kHost:Yr,kHTTP2Session:Kr,kHTTP2SessionState:Zr,kHTTP2BuildRequest:Xr,kHTTP2CopyHeaders:tn,kHTTP1BuildRequest:dn}=F(4980);let An;try{An=F(5675)}catch{An={constants:{}}}const{constants:{HTTP2_HEADER_AUTHORITY:bn,HTTP2_HEADER_METHOD:En,HTTP2_HEADER_PATH:_n,HTTP2_HEADER_SCHEME:In,HTTP2_HEADER_CONTENT_LENGTH:Sn,HTTP2_HEADER_EXPECT:kn,HTTP2_HEADER_STATUS:Qn}}=An;let On=false;const Tn=Buffer[Symbol.species];const Pn=Symbol("kClosedResolve");const Dn={};try{const b=F(1637);Dn.sendHeaders=b.channel("undici:client:sendHeaders");Dn.beforeConnect=b.channel("undici:client:beforeConnect");Dn.connectError=b.channel("undici:client:connectError");Dn.connected=b.channel("undici:client:connected")}catch{Dn.sendHeaders={hasSubscribers:false};Dn.beforeConnect={hasSubscribers:false};Dn.connectError={hasSubscribers:false};Dn.connected={hasSubscribers:false}}class Client extends We{constructor(b,{interceptors:B,maxHeaderSize:F,headersTimeout:K,socketTimeout:Qe,requestTimeout:Me,connectTimeout:Le,bodyTimeout:We,idleTimeout:Ge,keepAlive:ze,keepAliveTimeout:Ye,maxKeepAliveTimeout:Ke,keepAliveMaxTimeout:Xe,keepAliveTimeoutThreshold:et,socketPath:rt,pipelining:it,tls:ot,strictContentLength:at,maxCachedSessions:lt,maxRedirections:ht,connect:ft,maxRequestsPerClient:mt,localAddress:vt,maxResponseSize:yt,autoSelectFamily:wt,autoSelectFamilyAttemptTimeout:It,allowH2:xt,maxConcurrentStreams:Qt}={}){super();if(ze!==undefined){throw new $e("unsupported keepAlive, use pipelining=0 instead")}if(Qe!==undefined){throw new $e("unsupported socketTimeout, use headersTimeout & bodyTimeout instead")}if(Me!==undefined){throw new $e("unsupported requestTimeout, use headersTimeout & bodyTimeout instead")}if(Ge!==undefined){throw new $e("unsupported idleTimeout, use keepAliveTimeout instead")}if(Ke!==undefined){throw new $e("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead")}if(F!=null&&!Number.isFinite(F)){throw new $e("invalid maxHeaderSize")}if(rt!=null&&typeof rt!=="string"){throw new $e("invalid socketPath")}if(Le!=null&&(!Number.isFinite(Le)||Le<0)){throw new $e("invalid connectTimeout")}if(Ye!=null&&(!Number.isFinite(Ye)||Ye<=0)){throw new $e("invalid keepAliveTimeout")}if(Xe!=null&&(!Number.isFinite(Xe)||Xe<=0)){throw new $e("invalid keepAliveMaxTimeout")}if(et!=null&&!Number.isFinite(et)){throw new $e("invalid keepAliveTimeoutThreshold")}if(K!=null&&(!Number.isInteger(K)||K<0)){throw new $e("headersTimeout must be a positive integer or zero")}if(We!=null&&(!Number.isInteger(We)||We<0)){throw new $e("bodyTimeout must be a positive integer or zero")}if(ft!=null&&typeof ft!=="function"&&typeof ft!=="object"){throw new $e("connect must be a function or an object")}if(ht!=null&&(!Number.isInteger(ht)||ht<0)){throw new $e("maxRedirections must be a positive number")}if(mt!=null&&(!Number.isInteger(mt)||mt<0)){throw new $e("maxRequestsPerClient must be a positive number")}if(vt!=null&&(typeof vt!=="string"||se.isIP(vt)===0)){throw new $e("localAddress must be valid string IP address")}if(yt!=null&&(!Number.isInteger(yt)||yt<-1)){throw new $e("maxResponseSize must be a positive number")}if(It!=null&&(!Number.isInteger(It)||It<-1)){throw new $e("autoSelectFamilyAttemptTimeout must be a positive number")}if(xt!=null&&typeof xt!=="boolean"){throw new $e("allowH2 must be a valid boolean value")}if(Qt!=null&&(typeof Qt!=="number"||Qt<1)){throw new $e("maxConcurrentStreams must be a possitive integer, greater than 0")}if(typeof ft!=="function"){ft=ut({...ot,maxCachedSessions:lt,allowH2:xt,socketPath:rt,timeout:Le,...Re.nodeHasAutoSelectFamily&&wt?{autoSelectFamily:wt,autoSelectFamilyAttemptTimeout:It}:undefined,...ft})}this[Vr]=B&&B.Client&&Array.isArray(B.Client)?B.Client:[Nn({maxRedirections:ht})];this[dt]=Re.parseOrigin(b);this[Or]=ft;this[cr]=null;this[ar]=it!=null?it:1;this[pr]=F||oe.maxHeaderSize;this[Zt]=Ye==null?4e3:Ye;this[gr]=Xe==null?6e5:Xe;this[mr]=et==null?1e3:et;this[dr]=this[Zt];this[pt]=null;this[Gr]=vt!=null?vt:null;this[_t]=0;this[Ut]=0;this[tr]=`host: ${this[dt].hostname}${this[dt].port?`:${this[dt].port}`:""}\r\n`;this[wr]=We!=null?We:3e5;this[yr]=K!=null?K:3e5;this[_r]=at==null?true:at;this[Rr]=ht;this[Pr]=mt;this[Pn]=null;this[zr]=yt>-1?yt:-1;this[Jr]="h1";this[Kr]=null;this[Zr]=!xt?null:{openStreams:0,maxConcurrentStreams:Qt!=null?Qt:100};this[Yr]=`${this[dt].hostname}${this[dt].port?`:${this[dt].port}`:""}`;this[Rt]=[];this[nr]=0;this[rr]=0}get pipelining(){return this[ar]}set pipelining(b){this[ar]=b;resume(this,true)}get[xt](){return this[Rt].length-this[rr]}get[It](){return this[rr]-this[nr]}get[Qt](){return this[Rt].length-this[nr]}get[Pt](){return!!this[cr]&&!this[Nt]&&!this[cr].destroyed}get[mt](){const b=this[cr];return b&&(b[ht]||b[Tt]||b[wt])||this[Qt]>=(this[ar]||1)||this[xt]>0}[yt](b){connect(this);this.once("connect",b)}[Wr](b,B){const F=b.origin||this[dt].origin;const K=this[Jr]==="h2"?Le[Xr](F,b,B):Le[dn](F,b,B);this[Rt].push(K);if(this[_t]){}else if(Re.bodyLength(K.body)==null&&Re.isIterable(K.body)){this[_t]=1;process.nextTick(resume,this)}else{resume(this,true)}if(this[_t]&&this[Ut]!==2&&this[mt]){this[Ut]=2}return this[Ut]<2}async[Lr](){return new Promise((b=>{if(!this[Qt]){b(null)}else{this[Pn]=b}}))}async[jr](b){return new Promise((B=>{const F=this[Rt].splice(this[rr]);for(let B=0;B<F.length;B++){const K=F[B];errorRequest(this,K,b)}const callback=()=>{if(this[Pn]){this[Pn]();this[Pn]=null}B()};if(this[Kr]!=null){Re.destroy(this[Kr],b);this[Kr]=null;this[Zr]=null}if(!this[cr]){queueMicrotask(callback)}else{Re.destroy(this[cr].on("close",callback),b)}resume(this)}))}}function onHttp2SessionError(b){K(b.code!=="ERR_TLS_CERT_ALTNAME_INVALID");this[cr][ir]=b;onError(this[ft],b)}function onHttp2FrameError(b,B,F){const K=new rt(`HTTP/2: "frameError" received - type ${b}, code ${B}`);if(F===0){this[cr][ir]=K;onError(this[ft],K)}}function onHttp2SessionEnd(){Re.destroy(this,new et("other side closed"));Re.destroy(this[cr],new et("other side closed"))}function onHTTP2GoAway(b){const B=this[ft];const F=new rt(`HTTP/2: "GOAWAY" frame received with code ${b}`);B[cr]=null;B[Kr]=null;if(B.destroyed){K(this[xt]===0);const b=B[Rt].splice(B[nr]);for(let B=0;B<b.length;B++){const K=b[B];errorRequest(this,K,F)}}else if(B[It]>0){const b=B[Rt][B[nr]];B[Rt][B[nr]++]=null;errorRequest(B,b,F)}B[rr]=B[nr];K(B[It]===0);B.emit("disconnect",B[dt],[B],F);resume(B)}const Fn=F(9791);const Nn=F(2750);const Mn=Buffer.alloc(0);async function lazyllhttp(){const b=process.env.JEST_WORKER_ID?F(4729):undefined;let B;try{B=await WebAssembly.compile(Buffer.from(F(2603),"base64"))}catch(K){B=await WebAssembly.compile(Buffer.from(b||F(4729),"base64"))}return await WebAssembly.instantiate(B,{env:{wasm_on_url:(b,B,F)=>0,wasm_on_status:(b,B,F)=>{K.strictEqual(Gn.ptr,b);const se=B-Yn+zn.byteOffset;return Gn.onStatus(new Tn(zn.buffer,se,F))||0},wasm_on_message_begin:b=>{K.strictEqual(Gn.ptr,b);return Gn.onMessageBegin()||0},wasm_on_header_field:(b,B,F)=>{K.strictEqual(Gn.ptr,b);const se=B-Yn+zn.byteOffset;return Gn.onHeaderField(new Tn(zn.buffer,se,F))||0},wasm_on_header_value:(b,B,F)=>{K.strictEqual(Gn.ptr,b);const se=B-Yn+zn.byteOffset;return Gn.onHeaderValue(new Tn(zn.buffer,se,F))||0},wasm_on_headers_complete:(b,B,F,se)=>{K.strictEqual(Gn.ptr,b);return Gn.onHeadersComplete(B,Boolean(F),Boolean(se))||0},wasm_on_body:(b,B,F)=>{K.strictEqual(Gn.ptr,b);const se=B-Yn+zn.byteOffset;return Gn.onBody(new Tn(zn.buffer,se,F))||0},wasm_on_message_complete:b=>{K.strictEqual(Gn.ptr,b);return Gn.onMessageComplete()||0}}})}let jn=null;let Wn=lazyllhttp();Wn.catch();let Gn=null;let zn=null;let Jn=0;let Yn=null;const Kn=1;const Xn=2;const ei=3;class Parser{constructor(b,B,{exports:F}){K(Number.isFinite(b[pr])&&b[pr]>0);this.llhttp=F;this.ptr=this.llhttp.llhttp_alloc(Fn.TYPE.RESPONSE);this.client=b;this.socket=B;this.timeout=null;this.timeoutValue=null;this.timeoutType=null;this.statusCode=null;this.statusText="";this.upgrade=false;this.headers=[];this.headersSize=0;this.headersMaxSize=b[pr];this.shouldKeepAlive=false;this.paused=false;this.resume=this.resume.bind(this);this.bytesRead=0;this.keepAlive="";this.contentLength="";this.connection="";this.maxResponseSize=b[zr]}setTimeout(b,B){this.timeoutType=B;if(b!==this.timeoutValue){Me.clearTimeout(this.timeout);if(b){this.timeout=Me.setTimeout(onParserTimeout,b,this);if(this.timeout.unref){this.timeout.unref()}}else{this.timeout=null}this.timeoutValue=b}else if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}}resume(){if(this.socket.destroyed||!this.paused){return}K(this.ptr!=null);K(Gn==null);this.llhttp.llhttp_resume(this.ptr);K(this.timeoutType===Xn);if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}this.paused=false;this.execute(this.socket.read()||Mn);this.readMore()}readMore(){while(!this.paused&&this.ptr){const b=this.socket.read();if(b===null){break}this.execute(b)}}execute(b){K(this.ptr!=null);K(Gn==null);K(!this.paused);const{socket:B,llhttp:F}=this;if(b.length>Jn){if(Yn){F.free(Yn)}Jn=Math.ceil(b.length/4096)*4096;Yn=F.malloc(Jn)}new Uint8Array(F.memory.buffer,Yn,Jn).set(b);try{let K;try{zn=b;Gn=this;K=F.llhttp_execute(this.ptr,Yn,b.length)}catch(b){throw b}finally{Gn=null;zn=null}const se=F.llhttp_get_error_pos(this.ptr)-Yn;if(K===Fn.ERROR.PAUSED_UPGRADE){this.onUpgrade(b.slice(se))}else if(K===Fn.ERROR.PAUSED){this.paused=true;B.unshift(b.slice(se))}else if(K!==Fn.ERROR.OK){const B=F.llhttp_get_error_reason(this.ptr);let oe="";if(B){const b=new Uint8Array(F.memory.buffer,B).indexOf(0);oe="Response does not match the HTTP/1.1 protocol ("+Buffer.from(F.memory.buffer,B,b).toString()+")"}throw new ot(oe,Fn.ERROR[K],b.slice(se))}}catch(b){Re.destroy(B,b)}}destroy(){K(this.ptr!=null);K(Gn==null);this.llhttp.llhttp_free(this.ptr);this.ptr=null;Me.clearTimeout(this.timeout);this.timeout=null;this.timeoutValue=null;this.timeoutType=null;this.paused=false}onStatus(b){this.statusText=b.toString()}onMessageBegin(){const{socket:b,client:B}=this;if(b.destroyed){return-1}const F=B[Rt][B[nr]];if(!F){return-1}}onHeaderField(b){const B=this.headers.length;if((B&1)===0){this.headers.push(b)}else{this.headers[B-1]=Buffer.concat([this.headers[B-1],b])}this.trackHeader(b.length)}onHeaderValue(b){let B=this.headers.length;if((B&1)===1){this.headers.push(b);B+=1}else{this.headers[B-1]=Buffer.concat([this.headers[B-1],b])}const F=this.headers[B-2];if(F.length===10&&F.toString().toLowerCase()==="keep-alive"){this.keepAlive+=b.toString()}else if(F.length===10&&F.toString().toLowerCase()==="connection"){this.connection+=b.toString()}else if(F.length===14&&F.toString().toLowerCase()==="content-length"){this.contentLength+=b.toString()}this.trackHeader(b.length)}trackHeader(b){this.headersSize+=b;if(this.headersSize>=this.headersMaxSize){Re.destroy(this.socket,new Xe)}}onUpgrade(b){const{upgrade:B,client:F,socket:se,headers:oe,statusCode:Qe}=this;K(B);const Me=F[Rt][F[nr]];K(Me);K(!se.destroyed);K(se===F[cr]);K(!this.paused);K(Me.upgrade||Me.method==="CONNECT");this.statusCode=null;this.statusText="";this.shouldKeepAlive=null;K(this.headers.length%2===0);this.headers=[];this.headersSize=0;se.unshift(b);se[vt].destroy();se[vt]=null;se[ft]=null;se[ir]=null;se.removeListener("error",onSocketError).removeListener("readable",onSocketReadable).removeListener("end",onSocketEnd).removeListener("close",onSocketClose);F[cr]=null;F[Rt][F[nr]++]=null;F.emit("disconnect",F[dt],[F],new rt("upgrade"));try{Me.onUpgrade(Qe,oe,se)}catch(b){Re.destroy(se,b)}resume(F)}onHeadersComplete(b,B,F){const{client:se,socket:oe,headers:Qe,statusText:Me}=this;if(oe.destroyed){return-1}const Le=se[Rt][se[nr]];if(!Le){return-1}K(!this.upgrade);K(this.statusCode<200);if(b===100){Re.destroy(oe,new et("bad response",Re.getSocketInfo(oe)));return-1}if(B&&!Le.upgrade){Re.destroy(oe,new et("bad upgrade",Re.getSocketInfo(oe)));return-1}K.strictEqual(this.timeoutType,Kn);this.statusCode=b;this.shouldKeepAlive=F||Le.method==="HEAD"&&!oe[ht]&&this.connection.toLowerCase()==="keep-alive";if(this.statusCode>=200){const b=Le.bodyTimeout!=null?Le.bodyTimeout:se[wr];this.setTimeout(b,Xn)}else if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}if(Le.method==="CONNECT"){K(se[It]===1);this.upgrade=true;return 2}if(B){K(se[It]===1);this.upgrade=true;return 2}K(this.headers.length%2===0);this.headers=[];this.headersSize=0;if(this.shouldKeepAlive&&se[ar]){const b=this.keepAlive?Re.parseKeepAliveTimeout(this.keepAlive):null;if(b!=null){const B=Math.min(b-se[mr],se[gr]);if(B<=0){oe[ht]=true}else{se[dr]=B}}else{se[dr]=se[Zt]}}else{oe[ht]=true}const We=Le.onHeaders(b,Qe,this.resume,Me)===false;if(Le.aborted){return-1}if(Le.method==="HEAD"){return 1}if(b<200){return 1}if(oe[wt]){oe[wt]=false;resume(se)}return We?Fn.ERROR.PAUSED:0}onBody(b){const{client:B,socket:F,statusCode:se,maxResponseSize:oe}=this;if(F.destroyed){return-1}const Qe=B[Rt][B[nr]];K(Qe);K.strictEqual(this.timeoutType,Xn);if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}K(se>=200);if(oe>-1&&this.bytesRead+b.length>oe){Re.destroy(F,new at);return-1}this.bytesRead+=b.length;if(Qe.onData(b)===false){return Fn.ERROR.PAUSED}}onMessageComplete(){const{client:b,socket:B,statusCode:F,upgrade:se,headers:oe,contentLength:Qe,bytesRead:Me,shouldKeepAlive:Le}=this;if(B.destroyed&&(!F||Le)){return-1}if(se){return}const We=b[Rt][b[nr]];K(We);K(F>=100);this.statusCode=null;this.statusText="";this.bytesRead=0;this.contentLength="";this.keepAlive="";this.connection="";K(this.headers.length%2===0);this.headers=[];this.headersSize=0;if(F<200){return}if(We.method!=="HEAD"&&Qe&&Me!==parseInt(Qe,10)){Re.destroy(B,new ze);return-1}We.onComplete(oe);b[Rt][b[nr]++]=null;if(B[Tt]){K.strictEqual(b[It],0);Re.destroy(B,new rt("reset"));return Fn.ERROR.PAUSED}else if(!Le){Re.destroy(B,new rt("reset"));return Fn.ERROR.PAUSED}else if(B[ht]&&b[It]===0){Re.destroy(B,new rt("reset"));return Fn.ERROR.PAUSED}else if(b[ar]===1){setImmediate(resume,b)}else{resume(b)}}}function onParserTimeout(b){const{socket:B,timeoutType:F,client:se}=b;if(F===Kn){if(!B[Tt]||B.writableNeedDrain||se[It]>1){K(!b.paused,"cannot be paused while waiting for headers");Re.destroy(B,new Ke)}}else if(F===Xn){if(!b.paused){Re.destroy(B,new it)}}else if(F===ei){K(se[It]===0&&se[dr]);Re.destroy(B,new rt("socket idle timeout"))}}function onSocketReadable(){const{[vt]:b}=this;if(b){b.readMore()}}function onSocketError(b){const{[ft]:B,[vt]:F}=this;K(b.code!=="ERR_TLS_CERT_ALTNAME_INVALID");if(B[Jr]!=="h2"){if(b.code==="ECONNRESET"&&F.statusCode&&!F.shouldKeepAlive){F.onMessageComplete();return}}this[ir]=b;onError(this[ft],b)}function onError(b,B){if(b[It]===0&&B.code!=="UND_ERR_INFO"&&B.code!=="UND_ERR_SOCKET"){K(b[rr]===b[nr]);const F=b[Rt].splice(b[nr]);for(let K=0;K<F.length;K++){const se=F[K];errorRequest(b,se,B)}K(b[Qt]===0)}}function onSocketEnd(){const{[vt]:b,[ft]:B}=this;if(B[Jr]!=="h2"){if(b.statusCode&&!b.shouldKeepAlive){b.onMessageComplete();return}}Re.destroy(this,new et("other side closed",Re.getSocketInfo(this)))}function onSocketClose(){const{[ft]:b,[vt]:B}=this;if(b[Jr]==="h1"&&B){if(!this[ir]&&B.statusCode&&!B.shouldKeepAlive){B.onMessageComplete()}this[vt].destroy();this[vt]=null}const F=this[ir]||new et("closed",Re.getSocketInfo(this));b[cr]=null;if(b.destroyed){K(b[xt]===0);const B=b[Rt].splice(b[nr]);for(let K=0;K<B.length;K++){const se=B[K];errorRequest(b,se,F)}}else if(b[It]>0&&F.code!=="UND_ERR_INFO"){const B=b[Rt][b[nr]];b[Rt][b[nr]++]=null;errorRequest(b,B,F)}b[rr]=b[nr];K(b[It]===0);b.emit("disconnect",b[dt],[b],F);resume(b)}async function connect(b){K(!b[Nt]);K(!b[cr]);let{host:B,hostname:F,protocol:oe,port:Qe}=b[dt];if(F[0]==="["){const b=F.indexOf("]");K(b!==-1);const B=F.substring(1,b);K(se.isIP(B));F=B}b[Nt]=true;if(Dn.beforeConnect.hasSubscribers){Dn.beforeConnect.publish({connectParams:{host:B,hostname:F,protocol:oe,port:Qe,servername:b[pt],localAddress:b[Gr]},connector:b[Or]})}try{const se=await new Promise(((K,se)=>{b[Or]({host:B,hostname:F,protocol:oe,port:Qe,servername:b[pt],localAddress:b[Gr]},((b,B)=>{if(b){se(b)}else{K(B)}}))}));if(b.destroyed){Re.destroy(se.on("error",(()=>{})),new lt);return}b[Nt]=false;K(se);const Me=se.alpnProtocol==="h2";if(Me){if(!On){On=true;process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"})}const B=An.connect(b[dt],{createConnection:()=>se,peerMaxConcurrentStreams:b[Zr].maxConcurrentStreams});b[Jr]="h2";B[ft]=b;B[cr]=se;B.on("error",onHttp2SessionError);B.on("frameError",onHttp2FrameError);B.on("end",onHttp2SessionEnd);B.on("goaway",onHTTP2GoAway);B.on("close",onSocketClose);B.unref();b[Kr]=B;se[Kr]=B}else{if(!jn){jn=await Wn;Wn=null}se[Jt]=false;se[Tt]=false;se[ht]=false;se[wt]=false;se[vt]=new Parser(b,se,jn)}se[Dr]=0;se[Pr]=b[Pr];se[ft]=b;se[ir]=null;se.on("error",onSocketError).on("readable",onSocketReadable).on("end",onSocketEnd).on("close",onSocketClose);b[cr]=se;if(Dn.connected.hasSubscribers){Dn.connected.publish({connectParams:{host:B,hostname:F,protocol:oe,port:Qe,servername:b[pt],localAddress:b[Gr]},connector:b[Or],socket:se})}b.emit("connect",b[dt],[b])}catch(se){if(b.destroyed){return}b[Nt]=false;if(Dn.connectError.hasSubscribers){Dn.connectError.publish({connectParams:{host:B,hostname:F,protocol:oe,port:Qe,servername:b[pt],localAddress:b[Gr]},connector:b[Or],error:se})}if(se.code==="ERR_TLS_CERT_ALTNAME_INVALID"){K(b[It]===0);while(b[xt]>0&&b[Rt][b[rr]].servername===b[pt]){const B=b[Rt][b[rr]++];errorRequest(b,B,se)}}else{onError(b,se)}b.emit("connectionError",b[dt],[b],se)}resume(b)}function emitDrain(b){b[Ut]=0;b.emit("drain",b[dt],[b])}function resume(b,B){if(b[_t]===2){return}b[_t]=2;_resume(b,B);b[_t]=0;if(b[nr]>256){b[Rt].splice(0,b[nr]);b[rr]-=b[nr];b[nr]=0}}function _resume(b,B){while(true){if(b.destroyed){K(b[xt]===0);return}if(b[Pn]&&!b[Qt]){b[Pn]();b[Pn]=null;return}const F=b[cr];if(F&&!F.destroyed&&F.alpnProtocol!=="h2"){if(b[Qt]===0){if(!F[Jt]&&F.unref){F.unref();F[Jt]=true}}else if(F[Jt]&&F.ref){F.ref();F[Jt]=false}if(b[Qt]===0){if(F[vt].timeoutType!==ei){F[vt].setTimeout(b[dr],ei)}}else if(b[It]>0&&F[vt].statusCode<200){if(F[vt].timeoutType!==Kn){const B=b[Rt][b[nr]];const K=B.headersTimeout!=null?B.headersTimeout:b[yr];F[vt].setTimeout(K,Kn)}}}if(b[mt]){b[Ut]=2}else if(b[Ut]===2){if(B){b[Ut]=1;process.nextTick(emitDrain,b)}else{emitDrain(b)}continue}if(b[xt]===0){return}if(b[It]>=(b[ar]||1)){return}const se=b[Rt][b[rr]];if(b[dt].protocol==="https:"&&b[pt]!==se.servername){if(b[It]>0){return}b[pt]=se.servername;if(F&&F.servername!==se.servername){Re.destroy(F,new rt("servername changed"));return}}if(b[Nt]){return}if(!F&&!b[Kr]){connect(b);return}if(F.destroyed||F[Tt]||F[ht]||F[wt]){return}if(b[It]>0&&!se.idempotent){return}if(b[It]>0&&(se.upgrade||se.method==="CONNECT")){return}if(b[It]>0&&Re.bodyLength(se.body)!==0&&(Re.isStream(se.body)||Re.isAsyncIterable(se.body))){return}if(!se.aborted&&write(b,se)){b[rr]++}else{b[Rt].splice(b[rr],1)}}}function shouldSendContentLength(b){return b!=="GET"&&b!=="HEAD"&&b!=="OPTIONS"&&b!=="TRACE"&&b!=="CONNECT"}function write(b,B){if(b[Jr]==="h2"){writeH2(b,b[Kr],B);return}const{body:F,method:se,path:oe,host:Qe,upgrade:Me,headers:Le,blocking:We,reset:ze}=B;const $e=se==="PUT"||se==="POST"||se==="PATCH";if(F&&typeof F.read==="function"){F.read(0)}const Ke=Re.bodyLength(F);let Xe=Ke;if(Xe===null){Xe=B.contentLength}if(Xe===0&&!$e){Xe=null}if(shouldSendContentLength(se)&&Xe>0&&B.contentLength!==null&&B.contentLength!==Xe){if(b[_r]){errorRequest(b,B,new Ge);return false}process.emitWarning(new Ge)}const et=b[cr];try{B.onConnect((F=>{if(B.aborted||B.completed){return}errorRequest(b,B,F||new Ye);Re.destroy(et,new rt("aborted"))}))}catch(F){errorRequest(b,B,F)}if(B.aborted){return false}if(se==="HEAD"){et[ht]=true}if(Me||se==="CONNECT"){et[ht]=true}if(ze!=null){et[ht]=ze}if(b[Pr]&&et[Dr]++>=b[Pr]){et[ht]=true}if(We){et[wt]=true}let it=`${se} ${oe} HTTP/1.1\r\n`;if(typeof Qe==="string"){it+=`host: ${Qe}\r\n`}else{it+=b[tr]}if(Me){it+=`connection: upgrade\r\nupgrade: ${Me}\r\n`}else if(b[ar]&&!et[ht]){it+="connection: keep-alive\r\n"}else{it+="connection: close\r\n"}if(Le){it+=Le}if(Dn.sendHeaders.hasSubscribers){Dn.sendHeaders.publish({request:B,headers:it,socket:et})}if(!F||Ke===0){if(Xe===0){et.write(`${it}content-length: 0\r\n\r\n`,"latin1")}else{K(Xe===null,"no body must not have content length");et.write(`${it}\r\n`,"latin1")}B.onRequestSent()}else if(Re.isBuffer(F)){K(Xe===F.byteLength,"buffer body must have content length");et.cork();et.write(`${it}content-length: ${Xe}\r\n\r\n`,"latin1");et.write(F);et.uncork();B.onBodySent(F);B.onRequestSent();if(!$e){et[ht]=true}}else if(Re.isBlobLike(F)){if(typeof F.stream==="function"){writeIterable({body:F.stream(),client:b,request:B,socket:et,contentLength:Xe,header:it,expectsPayload:$e})}else{writeBlob({body:F,client:b,request:B,socket:et,contentLength:Xe,header:it,expectsPayload:$e})}}else if(Re.isStream(F)){writeStream({body:F,client:b,request:B,socket:et,contentLength:Xe,header:it,expectsPayload:$e})}else if(Re.isIterable(F)){writeIterable({body:F,client:b,request:B,socket:et,contentLength:Xe,header:it,expectsPayload:$e})}else{K(false)}return true}function writeH2(b,B,F){const{body:se,method:oe,path:Qe,host:Me,upgrade:We,expectContinue:ze,signal:$e,headers:Ke}=F;let Xe;if(typeof Ke==="string")Xe=Le[tn](Ke.trim());else Xe=Ke;if(We){errorRequest(b,F,new Error("Upgrade not supported for H2"));return false}try{F.onConnect((B=>{if(F.aborted||F.completed){return}errorRequest(b,F,B||new Ye)}))}catch(B){errorRequest(b,F,B)}if(F.aborted){return false}let et;const it=b[Zr];Xe[bn]=Me||b[Yr];Xe[En]=oe;if(oe==="CONNECT"){B.ref();et=B.request(Xe,{endStream:false,signal:$e});if(et.id&&!et.pending){F.onUpgrade(null,null,et);++it.openStreams}else{et.once("ready",(()=>{F.onUpgrade(null,null,et);++it.openStreams}))}et.once("close",(()=>{it.openStreams-=1;if(it.openStreams===0)B.unref()}));return true}Xe[_n]=Qe;Xe[In]="https";const ot=oe==="PUT"||oe==="POST"||oe==="PATCH";if(se&&typeof se.read==="function"){se.read(0)}let at=Re.bodyLength(se);if(at==null){at=F.contentLength}if(at===0||!ot){at=null}if(shouldSendContentLength(oe)&&at>0&&F.contentLength!=null&&F.contentLength!==at){if(b[_r]){errorRequest(b,F,new Ge);return false}process.emitWarning(new Ge)}if(at!=null){K(se,"no body must not have content length");Xe[Sn]=`${at}`}B.ref();const lt=oe==="GET"||oe==="HEAD";if(ze){Xe[kn]="100-continue";et=B.request(Xe,{endStream:lt,signal:$e});et.once("continue",writeBodyH2)}else{et=B.request(Xe,{endStream:lt,signal:$e});writeBodyH2()}++it.openStreams;et.once("response",(b=>{const{[Qn]:B,...K}=b;if(F.onHeaders(Number(B),K,et.resume.bind(et),"")===false){et.pause()}}));et.once("end",(()=>{F.onComplete([])}));et.on("data",(b=>{if(F.onData(b)===false){et.pause()}}));et.once("close",(()=>{it.openStreams-=1;if(it.openStreams===0){B.unref()}}));et.once("error",(function(B){if(b[Kr]&&!b[Kr].destroyed&&!this.closed&&!this.destroyed){it.streams-=1;Re.destroy(et,B)}}));et.once("frameError",((B,K)=>{const se=new rt(`HTTP/2: "frameError" received - type ${B}, code ${K}`);errorRequest(b,F,se);if(b[Kr]&&!b[Kr].destroyed&&!this.closed&&!this.destroyed){it.streams-=1;Re.destroy(et,se)}}));return true;function writeBodyH2(){if(!se){F.onRequestSent()}else if(Re.isBuffer(se)){K(at===se.byteLength,"buffer body must have content length");et.cork();et.write(se);et.uncork();et.end();F.onBodySent(se);F.onRequestSent()}else if(Re.isBlobLike(se)){if(typeof se.stream==="function"){writeIterable({client:b,request:F,contentLength:at,h2stream:et,expectsPayload:ot,body:se.stream(),socket:b[cr],header:""})}else{writeBlob({body:se,client:b,request:F,contentLength:at,expectsPayload:ot,h2stream:et,header:"",socket:b[cr]})}}else if(Re.isStream(se)){writeStream({body:se,client:b,request:F,contentLength:at,expectsPayload:ot,socket:b[cr],h2stream:et,header:""})}else if(Re.isIterable(se)){writeIterable({body:se,client:b,request:F,contentLength:at,expectsPayload:ot,header:"",h2stream:et,socket:b[cr]})}else{K(false)}}}function writeStream({h2stream:b,body:B,client:F,request:se,socket:oe,contentLength:Me,header:Le,expectsPayload:We}){K(Me!==0||F[It]===0,"stream body cannot be pipelined");if(F[Jr]==="h2"){const $e=Qe(B,b,(F=>{if(F){Re.destroy(B,F);Re.destroy(b,F)}else{se.onRequestSent()}}));$e.on("data",onPipeData);$e.once("end",(()=>{$e.removeListener("data",onPipeData);Re.destroy($e)}));function onPipeData(b){se.onBodySent(b)}return}let Ge=false;const ze=new AsyncWriter({socket:oe,request:se,contentLength:Me,client:F,expectsPayload:We,header:Le});const onData=function(b){if(Ge){return}try{if(!ze.write(b)&&this.pause){this.pause()}}catch(b){Re.destroy(this,b)}};const onDrain=function(){if(Ge){return}if(B.resume){B.resume()}};const onAbort=function(){if(Ge){return}const b=new Ye;queueMicrotask((()=>onFinished(b)))};const onFinished=function(b){if(Ge){return}Ge=true;K(oe.destroyed||oe[Tt]&&F[It]<=1);oe.off("drain",onDrain).off("error",onFinished);B.removeListener("data",onData).removeListener("end",onFinished).removeListener("error",onFinished).removeListener("close",onAbort);if(!b){try{ze.end()}catch(B){b=B}}ze.destroy(b);if(b&&(b.code!=="UND_ERR_INFO"||b.message!=="reset")){Re.destroy(B,b)}else{Re.destroy(B)}};B.on("data",onData).on("end",onFinished).on("error",onFinished).on("close",onAbort);if(B.resume){B.resume()}oe.on("drain",onDrain).on("error",onFinished)}async function writeBlob({h2stream:b,body:B,client:F,request:se,socket:oe,contentLength:Qe,header:Me,expectsPayload:Le}){K(Qe===B.size,"blob body must have content length");const We=F[Jr]==="h2";try{if(Qe!=null&&Qe!==B.size){throw new Ge}const K=Buffer.from(await B.arrayBuffer());if(We){b.cork();b.write(K);b.uncork()}else{oe.cork();oe.write(`${Me}content-length: ${Qe}\r\n\r\n`,"latin1");oe.write(K);oe.uncork()}se.onBodySent(K);se.onRequestSent();if(!Le){oe[ht]=true}resume(F)}catch(B){Re.destroy(We?b:oe,B)}}async function writeIterable({h2stream:b,body:B,client:F,request:se,socket:oe,contentLength:Qe,header:Re,expectsPayload:Me}){K(Qe!==0||F[It]===0,"iterator body cannot be pipelined");let Le=null;function onDrain(){if(Le){const b=Le;Le=null;b()}}const waitForDrain=()=>new Promise(((b,B)=>{K(Le===null);if(oe[ir]){B(oe[ir])}else{Le=b}}));if(F[Jr]==="h2"){b.on("close",onDrain).on("drain",onDrain);try{for await(const F of B){if(oe[ir]){throw oe[ir]}const B=b.write(F);se.onBodySent(F);if(!B){await waitForDrain()}}}catch(B){b.destroy(B)}finally{se.onRequestSent();b.end();b.off("close",onDrain).off("drain",onDrain)}return}oe.on("close",onDrain).on("drain",onDrain);const We=new AsyncWriter({socket:oe,request:se,contentLength:Qe,client:F,expectsPayload:Me,header:Re});try{for await(const b of B){if(oe[ir]){throw oe[ir]}if(!We.write(b)){await waitForDrain()}}We.end()}catch(b){We.destroy(b)}finally{oe.off("close",onDrain).off("drain",onDrain)}}class AsyncWriter{constructor({socket:b,request:B,contentLength:F,client:K,expectsPayload:se,header:oe}){this.socket=b;this.request=B;this.contentLength=F;this.client=K;this.bytesWritten=0;this.expectsPayload=se;this.header=oe;b[Tt]=true}write(b){const{socket:B,request:F,contentLength:K,client:se,bytesWritten:oe,expectsPayload:Qe,header:Re}=this;if(B[ir]){throw B[ir]}if(B.destroyed){return false}const Me=Buffer.byteLength(b);if(!Me){return true}if(K!==null&&oe+Me>K){if(se[_r]){throw new Ge}process.emitWarning(new Ge)}B.cork();if(oe===0){if(!Qe){B[ht]=true}if(K===null){B.write(`${Re}transfer-encoding: chunked\r\n`,"latin1")}else{B.write(`${Re}content-length: ${K}\r\n\r\n`,"latin1")}}if(K===null){B.write(`\r\n${Me.toString(16)}\r\n`,"latin1")}this.bytesWritten+=Me;const Le=B.write(b);B.uncork();F.onBodySent(b);if(!Le){if(B[vt].timeout&&B[vt].timeoutType===Kn){if(B[vt].timeout.refresh){B[vt].timeout.refresh()}}}return Le}end(){const{socket:b,contentLength:B,client:F,bytesWritten:K,expectsPayload:se,header:oe,request:Qe}=this;Qe.onRequestSent();b[Tt]=false;if(b[ir]){throw b[ir]}if(b.destroyed){return}if(K===0){if(se){b.write(`${oe}content-length: 0\r\n\r\n`,"latin1")}else{b.write(`${oe}\r\n`,"latin1")}}else if(B===null){b.write("\r\n0\r\n\r\n","latin1")}if(B!==null&&K!==B){if(F[_r]){throw new Ge}else{process.emitWarning(new Ge)}}if(b[vt].timeout&&b[vt].timeoutType===Kn){if(b[vt].timeout.refresh){b[vt].timeout.refresh()}}resume(F)}destroy(b){const{socket:B,client:F}=this;B[Tt]=false;if(b){K(F[It]<=1,"pipeline should only contain this request");Re.destroy(B,b)}}}function errorRequest(b,B,F){try{B.onError(F);K(B.aborted)}catch(F){b.emit("error",F)}}b.exports=Client},4375:(b,B,F)=>{"use strict";const{kConnected:K,kSize:se}=F(4980);class CompatWeakRef{constructor(b){this.value=b}deref(){return this.value[K]===0&&this.value[se]===0?undefined:this.value}}class CompatFinalizer{constructor(b){this.finalizer=b}register(b,B){if(b.on){b.on("disconnect",(()=>{if(b[K]===0&&b[se]===0){this.finalizer(B)}}))}}}b.exports=function(){if(process.env.NODE_V8_COVERAGE){return{WeakRef:CompatWeakRef,FinalizationRegistry:CompatFinalizer}}return{WeakRef:global.WeakRef||CompatWeakRef,FinalizationRegistry:global.FinalizationRegistry||CompatFinalizer}}},976:b=>{"use strict";const B=1024;const F=4096;b.exports={maxAttributeValueSize:B,maxNameValuePairSize:F}},3001:(b,B,F)=>{"use strict";const{parseSetCookie:K}=F(510);const{stringify:se}=F(8609);const{webidl:oe}=F(185);const{Headers:Qe}=F(824);function getCookies(b){oe.argumentLengthCheck(arguments,1,{header:"getCookies"});oe.brandCheck(b,Qe,{strict:false});const B=b.get("cookie");const F={};if(!B){return F}for(const b of B.split(";")){const[B,...K]=b.split("=");F[B.trim()]=K.join("=")}return F}function deleteCookie(b,B,F){oe.argumentLengthCheck(arguments,2,{header:"deleteCookie"});oe.brandCheck(b,Qe,{strict:false});B=oe.converters.DOMString(B);F=oe.converters.DeleteCookieAttributes(F);setCookie(b,{name:B,value:"",expires:new Date(0),...F})}function getSetCookies(b){oe.argumentLengthCheck(arguments,1,{header:"getSetCookies"});oe.brandCheck(b,Qe,{strict:false});const B=b.getSetCookie();if(!B){return[]}return B.map((b=>K(b)))}function setCookie(b,B){oe.argumentLengthCheck(arguments,2,{header:"setCookie"});oe.brandCheck(b,Qe,{strict:false});B=oe.converters.Cookie(B);const F=se(B);if(F){b.append("Set-Cookie",se(B))}}oe.converters.DeleteCookieAttributes=oe.dictionaryConverter([{converter:oe.nullableConverter(oe.converters.DOMString),key:"path",defaultValue:null},{converter:oe.nullableConverter(oe.converters.DOMString),key:"domain",defaultValue:null}]);oe.converters.Cookie=oe.dictionaryConverter([{converter:oe.converters.DOMString,key:"name"},{converter:oe.converters.DOMString,key:"value"},{converter:oe.nullableConverter((b=>{if(typeof b==="number"){return oe.converters["unsigned long long"](b)}return new Date(b)})),key:"expires",defaultValue:null},{converter:oe.nullableConverter(oe.converters["long long"]),key:"maxAge",defaultValue:null},{converter:oe.nullableConverter(oe.converters.DOMString),key:"domain",defaultValue:null},{converter:oe.nullableConverter(oe.converters.DOMString),key:"path",defaultValue:null},{converter:oe.nullableConverter(oe.converters.boolean),key:"secure",defaultValue:null},{converter:oe.nullableConverter(oe.converters.boolean),key:"httpOnly",defaultValue:null},{converter:oe.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:oe.sequenceConverter(oe.converters.DOMString),key:"unparsed",defaultValue:[]}]);b.exports={getCookies:getCookies,deleteCookie:deleteCookie,getSetCookies:getSetCookies,setCookie:setCookie}},510:(b,B,F)=>{"use strict";const{maxNameValuePairSize:K,maxAttributeValueSize:se}=F(976);const{isCTLExcludingHtab:oe}=F(8609);const{collectASequenceOfCodePointsFast:Qe}=F(2059);const Re=F(2613);function parseSetCookie(b){if(oe(b)){return null}let B="";let F="";let se="";let Re="";if(b.includes(";")){const K={position:0};B=Qe(";",b,K);F=b.slice(K.position)}else{B=b}if(!B.includes("=")){Re=B}else{const b={position:0};se=Qe("=",B,b);Re=B.slice(b.position+1)}se=se.trim();Re=Re.trim();if(se.length+Re.length>K){return null}return{name:se,value:Re,...parseUnparsedAttributes(F)}}function parseUnparsedAttributes(b,B={}){if(b.length===0){return B}Re(b[0]===";");b=b.slice(1);let F="";if(b.includes(";")){F=Qe(";",b,{position:0});b=b.slice(F.length)}else{F=b;b=""}let K="";let oe="";if(F.includes("=")){const b={position:0};K=Qe("=",F,b);oe=F.slice(b.position+1)}else{K=F}K=K.trim();oe=oe.trim();if(oe.length>se){return parseUnparsedAttributes(b,B)}const Me=K.toLowerCase();if(Me==="expires"){const b=new Date(oe);B.expires=b}else if(Me==="max-age"){const F=oe.charCodeAt(0);if((F<48||F>57)&&oe[0]!=="-"){return parseUnparsedAttributes(b,B)}if(!/^\d+$/.test(oe)){return parseUnparsedAttributes(b,B)}const K=Number(oe);B.maxAge=K}else if(Me==="domain"){let b=oe;if(b[0]==="."){b=b.slice(1)}b=b.toLowerCase();B.domain=b}else if(Me==="path"){let b="";if(oe.length===0||oe[0]!=="/"){b="/"}else{b=oe}B.path=b}else if(Me==="secure"){B.secure=true}else if(Me==="httponly"){B.httpOnly=true}else if(Me==="samesite"){let b="Default";const F=oe.toLowerCase();if(F.includes("none")){b="None"}if(F.includes("strict")){b="Strict"}if(F.includes("lax")){b="Lax"}B.sameSite=b}else{B.unparsed??=[];B.unparsed.push(`${K}=${oe}`)}return parseUnparsedAttributes(b,B)}b.exports={parseSetCookie:parseSetCookie,parseUnparsedAttributes:parseUnparsedAttributes}},8609:b=>{"use strict";function isCTLExcludingHtab(b){if(b.length===0){return false}for(const B of b){const b=B.charCodeAt(0);if(b>=0||b<=8||(b>=10||b<=31)||b===127){return false}}}function validateCookieName(b){for(const B of b){const b=B.charCodeAt(0);if(b<=32||b>127||B==="("||B===")"||B===">"||B==="<"||B==="@"||B===","||B===";"||B===":"||B==="\\"||B==='"'||B==="/"||B==="["||B==="]"||B==="?"||B==="="||B==="{"||B==="}"){throw new Error("Invalid cookie name")}}}function validateCookieValue(b){for(const B of b){const b=B.charCodeAt(0);if(b<33||b===34||b===44||b===59||b===92||b>126){throw new Error("Invalid header value")}}}function validateCookiePath(b){for(const B of b){const b=B.charCodeAt(0);if(b<33||B===";"){throw new Error("Invalid cookie path")}}}function validateCookieDomain(b){if(b.startsWith("-")||b.endsWith(".")||b.endsWith("-")){throw new Error("Invalid cookie domain")}}function toIMFDate(b){if(typeof b==="number"){b=new Date(b)}const B=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];const F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const K=B[b.getUTCDay()];const se=b.getUTCDate().toString().padStart(2,"0");const oe=F[b.getUTCMonth()];const Qe=b.getUTCFullYear();const Re=b.getUTCHours().toString().padStart(2,"0");const Me=b.getUTCMinutes().toString().padStart(2,"0");const Le=b.getUTCSeconds().toString().padStart(2,"0");return`${K}, ${se} ${oe} ${Qe} ${Re}:${Me}:${Le} GMT`}function validateCookieMaxAge(b){if(b<0){throw new Error("Invalid cookie max-age")}}function stringify(b){if(b.name.length===0){return null}validateCookieName(b.name);validateCookieValue(b.value);const B=[`${b.name}=${b.value}`];if(b.name.startsWith("__Secure-")){b.secure=true}if(b.name.startsWith("__Host-")){b.secure=true;b.domain=null;b.path="/"}if(b.secure){B.push("Secure")}if(b.httpOnly){B.push("HttpOnly")}if(typeof b.maxAge==="number"){validateCookieMaxAge(b.maxAge);B.push(`Max-Age=${b.maxAge}`)}if(b.domain){validateCookieDomain(b.domain);B.push(`Domain=${b.domain}`)}if(b.path){validateCookiePath(b.path);B.push(`Path=${b.path}`)}if(b.expires&&b.expires.toString()!=="Invalid Date"){B.push(`Expires=${toIMFDate(b.expires)}`)}if(b.sameSite){B.push(`SameSite=${b.sameSite}`)}for(const F of b.unparsed){if(!F.includes("=")){throw new Error("Invalid unparsed")}const[b,...K]=F.split("=");B.push(`${b.trim()}=${K.join("=")}`)}return B.join("; ")}b.exports={isCTLExcludingHtab:isCTLExcludingHtab,validateCookieName:validateCookieName,validateCookiePath:validateCookiePath,validateCookieValue:validateCookieValue,toIMFDate:toIMFDate,stringify:stringify}},2667:(b,B,F)=>{"use strict";const K=F(9278);const se=F(2613);const oe=F(701);const{InvalidArgumentError:Qe,ConnectTimeoutError:Re}=F(1970);let Me;let Le;if(global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE){Le=class WeakSessionCache{constructor(b){this._maxCachedSessions=b;this._sessionCache=new Map;this._sessionRegistry=new global.FinalizationRegistry((b=>{if(this._sessionCache.size<this._maxCachedSessions){return}const B=this._sessionCache.get(b);if(B!==undefined&&B.deref()===undefined){this._sessionCache.delete(b)}}))}get(b){const B=this._sessionCache.get(b);return B?B.deref():null}set(b,B){if(this._maxCachedSessions===0){return}this._sessionCache.set(b,new WeakRef(B));this._sessionRegistry.register(B,b)}}}else{Le=class SimpleSessionCache{constructor(b){this._maxCachedSessions=b;this._sessionCache=new Map}get(b){return this._sessionCache.get(b)}set(b,B){if(this._maxCachedSessions===0){return}if(this._sessionCache.size>=this._maxCachedSessions){const{value:b}=this._sessionCache.keys().next();this._sessionCache.delete(b)}this._sessionCache.set(b,B)}}}function buildConnector({allowH2:b,maxCachedSessions:B,socketPath:Re,timeout:We,...Ge}){if(B!=null&&(!Number.isInteger(B)||B<0)){throw new Qe("maxCachedSessions must be a positive integer or zero")}const ze={path:Re,...Ge};const $e=new Le(B==null?100:B);We=We==null?1e4:We;b=b!=null?b:false;return function connect({hostname:B,host:Qe,protocol:Re,port:Le,servername:Ge,localAddress:Ye,httpSocket:Ke},Xe){let et;if(Re==="https:"){if(!Me){Me=F(4756)}Ge=Ge||ze.servername||oe.getServerName(Qe)||null;const K=Ge||B;const Re=$e.get(K)||null;se(K);et=Me.connect({highWaterMark:16384,...ze,servername:Ge,session:Re,localAddress:Ye,ALPNProtocols:b?["http/1.1","h2"]:["http/1.1"],socket:Ke,port:Le||443,host:B});et.on("session",(function(b){$e.set(K,b)}))}else{se(!Ke,"httpSocket can only be sent on TLS update");et=K.connect({highWaterMark:64*1024,...ze,localAddress:Ye,port:Le||80,host:B})}if(ze.keepAlive==null||ze.keepAlive){const b=ze.keepAliveInitialDelay===undefined?6e4:ze.keepAliveInitialDelay;et.setKeepAlive(true,b)}const rt=setupTimeout((()=>onConnectTimeout(et)),We);et.setNoDelay(true).once(Re==="https:"?"secureConnect":"connect",(function(){rt();if(Xe){const b=Xe;Xe=null;b(null,this)}})).on("error",(function(b){rt();if(Xe){const B=Xe;Xe=null;B(b)}}));return et}}function setupTimeout(b,B){if(!B){return()=>{}}let F=null;let K=null;const se=setTimeout((()=>{F=setImmediate((()=>{if(process.platform==="win32"){K=setImmediate((()=>b()))}else{b()}}))}),B);return()=>{clearTimeout(se);clearImmediate(F);clearImmediate(K)}}function onConnectTimeout(b){oe.destroy(b,new Re)}b.exports=buildConnector},5076:b=>{"use strict";const B={};const F=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let b=0;b<F.length;++b){const K=F[b];const se=K.toLowerCase();B[K]=B[se]=se}Object.setPrototypeOf(B,null);b.exports={wellknownHeaderNames:F,headerNameLowerCasedRecord:B}},1970:b=>{"use strict";class UndiciError extends Error{constructor(b){super(b);this.name="UndiciError";this.code="UND_ERR"}}class ConnectTimeoutError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,ConnectTimeoutError);this.name="ConnectTimeoutError";this.message=b||"Connect Timeout Error";this.code="UND_ERR_CONNECT_TIMEOUT"}}class HeadersTimeoutError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,HeadersTimeoutError);this.name="HeadersTimeoutError";this.message=b||"Headers Timeout Error";this.code="UND_ERR_HEADERS_TIMEOUT"}}class HeadersOverflowError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,HeadersOverflowError);this.name="HeadersOverflowError";this.message=b||"Headers Overflow Error";this.code="UND_ERR_HEADERS_OVERFLOW"}}class BodyTimeoutError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,BodyTimeoutError);this.name="BodyTimeoutError";this.message=b||"Body Timeout Error";this.code="UND_ERR_BODY_TIMEOUT"}}class ResponseStatusCodeError extends UndiciError{constructor(b,B,F,K){super(b);Error.captureStackTrace(this,ResponseStatusCodeError);this.name="ResponseStatusCodeError";this.message=b||"Response Status Code Error";this.code="UND_ERR_RESPONSE_STATUS_CODE";this.body=K;this.status=B;this.statusCode=B;this.headers=F}}class InvalidArgumentError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,InvalidArgumentError);this.name="InvalidArgumentError";this.message=b||"Invalid Argument Error";this.code="UND_ERR_INVALID_ARG"}}class InvalidReturnValueError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,InvalidReturnValueError);this.name="InvalidReturnValueError";this.message=b||"Invalid Return Value Error";this.code="UND_ERR_INVALID_RETURN_VALUE"}}class RequestAbortedError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,RequestAbortedError);this.name="AbortError";this.message=b||"Request aborted";this.code="UND_ERR_ABORTED"}}class InformationalError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,InformationalError);this.name="InformationalError";this.message=b||"Request information";this.code="UND_ERR_INFO"}}class RequestContentLengthMismatchError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,RequestContentLengthMismatchError);this.name="RequestContentLengthMismatchError";this.message=b||"Request body length does not match content-length header";this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}}class ResponseContentLengthMismatchError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,ResponseContentLengthMismatchError);this.name="ResponseContentLengthMismatchError";this.message=b||"Response body length does not match content-length header";this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}}class ClientDestroyedError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,ClientDestroyedError);this.name="ClientDestroyedError";this.message=b||"The client is destroyed";this.code="UND_ERR_DESTROYED"}}class ClientClosedError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,ClientClosedError);this.name="ClientClosedError";this.message=b||"The client is closed";this.code="UND_ERR_CLOSED"}}class SocketError extends UndiciError{constructor(b,B){super(b);Error.captureStackTrace(this,SocketError);this.name="SocketError";this.message=b||"Socket error";this.code="UND_ERR_SOCKET";this.socket=B}}class NotSupportedError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,NotSupportedError);this.name="NotSupportedError";this.message=b||"Not supported error";this.code="UND_ERR_NOT_SUPPORTED"}}class BalancedPoolMissingUpstreamError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,NotSupportedError);this.name="MissingUpstreamError";this.message=b||"No upstream has been added to the BalancedPool";this.code="UND_ERR_BPL_MISSING_UPSTREAM"}}class HTTPParserError extends Error{constructor(b,B,F){super(b);Error.captureStackTrace(this,HTTPParserError);this.name="HTTPParserError";this.code=B?`HPE_${B}`:undefined;this.data=F?F.toString():undefined}}class ResponseExceededMaxSizeError extends UndiciError{constructor(b){super(b);Error.captureStackTrace(this,ResponseExceededMaxSizeError);this.name="ResponseExceededMaxSizeError";this.message=b||"Response content exceeded max size";this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}}class RequestRetryError extends UndiciError{constructor(b,B,{headers:F,data:K}){super(b);Error.captureStackTrace(this,RequestRetryError);this.name="RequestRetryError";this.message=b||"Request retry error";this.code="UND_ERR_REQ_RETRY";this.statusCode=B;this.data=K;this.headers=F}}b.exports={HTTPParserError:HTTPParserError,UndiciError:UndiciError,HeadersTimeoutError:HeadersTimeoutError,HeadersOverflowError:HeadersOverflowError,BodyTimeoutError:BodyTimeoutError,RequestContentLengthMismatchError:RequestContentLengthMismatchError,ConnectTimeoutError:ConnectTimeoutError,ResponseStatusCodeError:ResponseStatusCodeError,InvalidArgumentError:InvalidArgumentError,InvalidReturnValueError:InvalidReturnValueError,RequestAbortedError:RequestAbortedError,ClientDestroyedError:ClientDestroyedError,ClientClosedError:ClientClosedError,InformationalError:InformationalError,SocketError:SocketError,NotSupportedError:NotSupportedError,ResponseContentLengthMismatchError:ResponseContentLengthMismatchError,BalancedPoolMissingUpstreamError:BalancedPoolMissingUpstreamError,ResponseExceededMaxSizeError:ResponseExceededMaxSizeError,RequestRetryError:RequestRetryError}},6840:(b,B,F)=>{"use strict";const{InvalidArgumentError:K,NotSupportedError:se}=F(1970);const oe=F(2613);const{kHTTP2BuildRequest:Qe,kHTTP2CopyHeaders:Re,kHTTP1BuildRequest:Me}=F(4980);const Le=F(701);const We=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/;const Ge=/[^\t\x20-\x7e\x80-\xff]/;const ze=/[^\u0021-\u00ff]/;const $e=Symbol("handler");const Ye={};let Ke;try{const b=F(1637);Ye.create=b.channel("undici:request:create");Ye.bodySent=b.channel("undici:request:bodySent");Ye.headers=b.channel("undici:request:headers");Ye.trailers=b.channel("undici:request:trailers");Ye.error=b.channel("undici:request:error")}catch{Ye.create={hasSubscribers:false};Ye.bodySent={hasSubscribers:false};Ye.headers={hasSubscribers:false};Ye.trailers={hasSubscribers:false};Ye.error={hasSubscribers:false}}class Request{constructor(b,{path:B,method:se,body:oe,headers:Qe,query:Re,idempotent:Me,blocking:Ge,upgrade:Xe,headersTimeout:et,bodyTimeout:rt,reset:it,throwOnError:ot,expectContinue:at},lt){if(typeof B!=="string"){throw new K("path must be a string")}else if(B[0]!=="/"&&!(B.startsWith("http://")||B.startsWith("https://"))&&se!=="CONNECT"){throw new K("path must be an absolute URL or start with a slash")}else if(ze.exec(B)!==null){throw new K("invalid request path")}if(typeof se!=="string"){throw new K("method must be a string")}else if(We.exec(se)===null){throw new K("invalid request method")}if(Xe&&typeof Xe!=="string"){throw new K("upgrade must be a string")}if(et!=null&&(!Number.isFinite(et)||et<0)){throw new K("invalid headersTimeout")}if(rt!=null&&(!Number.isFinite(rt)||rt<0)){throw new K("invalid bodyTimeout")}if(it!=null&&typeof it!=="boolean"){throw new K("invalid reset")}if(at!=null&&typeof at!=="boolean"){throw new K("invalid expectContinue")}this.headersTimeout=et;this.bodyTimeout=rt;this.throwOnError=ot===true;this.method=se;this.abort=null;if(oe==null){this.body=null}else if(Le.isStream(oe)){this.body=oe;const b=this.body._readableState;if(!b||!b.autoDestroy){this.endHandler=function autoDestroy(){Le.destroy(this)};this.body.on("end",this.endHandler)}this.errorHandler=b=>{if(this.abort){this.abort(b)}else{this.error=b}};this.body.on("error",this.errorHandler)}else if(Le.isBuffer(oe)){this.body=oe.byteLength?oe:null}else if(ArrayBuffer.isView(oe)){this.body=oe.buffer.byteLength?Buffer.from(oe.buffer,oe.byteOffset,oe.byteLength):null}else if(oe instanceof ArrayBuffer){this.body=oe.byteLength?Buffer.from(oe):null}else if(typeof oe==="string"){this.body=oe.length?Buffer.from(oe):null}else if(Le.isFormDataLike(oe)||Le.isIterable(oe)||Le.isBlobLike(oe)){this.body=oe}else{throw new K("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable")}this.completed=false;this.aborted=false;this.upgrade=Xe||null;this.path=Re?Le.buildURL(B,Re):B;this.origin=b;this.idempotent=Me==null?se==="HEAD"||se==="GET":Me;this.blocking=Ge==null?false:Ge;this.reset=it==null?null:it;this.host=null;this.contentLength=null;this.contentType=null;this.headers="";this.expectContinue=at!=null?at:false;if(Array.isArray(Qe)){if(Qe.length%2!==0){throw new K("headers array must be even")}for(let b=0;b<Qe.length;b+=2){processHeader(this,Qe[b],Qe[b+1])}}else if(Qe&&typeof Qe==="object"){const b=Object.keys(Qe);for(let B=0;B<b.length;B++){const F=b[B];processHeader(this,F,Qe[F])}}else if(Qe!=null){throw new K("headers must be an object or an array")}if(Le.isFormDataLike(this.body)){if(Le.nodeMajor<16||Le.nodeMajor===16&&Le.nodeMinor<8){throw new K("Form-Data bodies are only supported in node v16.8 and newer.")}if(!Ke){Ke=F(5472).extractBody}const[b,B]=Ke(oe);if(this.contentType==null){this.contentType=B;this.headers+=`content-type: ${B}\r\n`}this.body=b.stream;this.contentLength=b.length}else if(Le.isBlobLike(oe)&&this.contentType==null&&oe.type){this.contentType=oe.type;this.headers+=`content-type: ${oe.type}\r\n`}Le.validateHandler(lt,se,Xe);this.servername=Le.getServerName(this.host);this[$e]=lt;if(Ye.create.hasSubscribers){Ye.create.publish({request:this})}}onBodySent(b){if(this[$e].onBodySent){try{return this[$e].onBodySent(b)}catch(b){this.abort(b)}}}onRequestSent(){if(Ye.bodySent.hasSubscribers){Ye.bodySent.publish({request:this})}if(this[$e].onRequestSent){try{return this[$e].onRequestSent()}catch(b){this.abort(b)}}}onConnect(b){oe(!this.aborted);oe(!this.completed);if(this.error){b(this.error)}else{this.abort=b;return this[$e].onConnect(b)}}onHeaders(b,B,F,K){oe(!this.aborted);oe(!this.completed);if(Ye.headers.hasSubscribers){Ye.headers.publish({request:this,response:{statusCode:b,headers:B,statusText:K}})}try{return this[$e].onHeaders(b,B,F,K)}catch(b){this.abort(b)}}onData(b){oe(!this.aborted);oe(!this.completed);try{return this[$e].onData(b)}catch(b){this.abort(b);return false}}onUpgrade(b,B,F){oe(!this.aborted);oe(!this.completed);return this[$e].onUpgrade(b,B,F)}onComplete(b){this.onFinally();oe(!this.aborted);this.completed=true;if(Ye.trailers.hasSubscribers){Ye.trailers.publish({request:this,trailers:b})}try{return this[$e].onComplete(b)}catch(b){this.onError(b)}}onError(b){this.onFinally();if(Ye.error.hasSubscribers){Ye.error.publish({request:this,error:b})}if(this.aborted){return}this.aborted=true;return this[$e].onError(b)}onFinally(){if(this.errorHandler){this.body.off("error",this.errorHandler);this.errorHandler=null}if(this.endHandler){this.body.off("end",this.endHandler);this.endHandler=null}}addHeader(b,B){processHeader(this,b,B);return this}static[Me](b,B,F){return new Request(b,B,F)}static[Qe](b,B,F){const se=B.headers;B={...B,headers:null};const oe=new Request(b,B,F);oe.headers={};if(Array.isArray(se)){if(se.length%2!==0){throw new K("headers array must be even")}for(let b=0;b<se.length;b+=2){processHeader(oe,se[b],se[b+1],true)}}else if(se&&typeof se==="object"){const b=Object.keys(se);for(let B=0;B<b.length;B++){const F=b[B];processHeader(oe,F,se[F],true)}}else if(se!=null){throw new K("headers must be an object or an array")}return oe}static[Re](b){const B=b.split("\r\n");const F={};for(const b of B){const[B,K]=b.split(": ");if(K==null||K.length===0)continue;if(F[B])F[B]+=`,${K}`;else F[B]=K}return F}}function processHeaderValue(b,B,F){if(B&&typeof B==="object"){throw new K(`invalid ${b} header`)}B=B!=null?`${B}`:"";if(Ge.exec(B)!==null){throw new K(`invalid ${b} header`)}return F?B:`${b}: ${B}\r\n`}function processHeader(b,B,F,oe=false){if(F&&(typeof F==="object"&&!Array.isArray(F))){throw new K(`invalid ${B} header`)}else if(F===undefined){return}if(b.host===null&&B.length===4&&B.toLowerCase()==="host"){if(Ge.exec(F)!==null){throw new K(`invalid ${B} header`)}b.host=F}else if(b.contentLength===null&&B.length===14&&B.toLowerCase()==="content-length"){b.contentLength=parseInt(F,10);if(!Number.isFinite(b.contentLength)){throw new K("invalid content-length header")}}else if(b.contentType===null&&B.length===12&&B.toLowerCase()==="content-type"){b.contentType=F;if(oe)b.headers[B]=processHeaderValue(B,F,oe);else b.headers+=processHeaderValue(B,F)}else if(B.length===17&&B.toLowerCase()==="transfer-encoding"){throw new K("invalid transfer-encoding header")}else if(B.length===10&&B.toLowerCase()==="connection"){const B=typeof F==="string"?F.toLowerCase():null;if(B!=="close"&&B!=="keep-alive"){throw new K("invalid connection header")}else if(B==="close"){b.reset=true}}else if(B.length===10&&B.toLowerCase()==="keep-alive"){throw new K("invalid keep-alive header")}else if(B.length===7&&B.toLowerCase()==="upgrade"){throw new K("invalid upgrade header")}else if(B.length===6&&B.toLowerCase()==="expect"){throw new se("expect header not supported")}else if(We.exec(B)===null){throw new K("invalid header key")}else{if(Array.isArray(F)){for(let K=0;K<F.length;K++){if(oe){if(b.headers[B])b.headers[B]+=`,${processHeaderValue(B,F[K],oe)}`;else b.headers[B]=processHeaderValue(B,F[K],oe)}else{b.headers+=processHeaderValue(B,F[K])}}}else{if(oe)b.headers[B]=processHeaderValue(B,F,oe);else b.headers+=processHeaderValue(B,F)}}}b.exports=Request},4980:b=>{b.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kHeadersList:Symbol("headers list"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kHTTP2BuildRequest:Symbol("http2 build request"),kHTTP1BuildRequest:Symbol("http1 build request"),kHTTP2CopyHeaders:Symbol("http2 copy headers"),kHTTPConnVersion:Symbol("http connection version"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable")}},701:(b,B,F)=>{"use strict";const K=F(2613);const{kDestroyed:se,kBodyUsed:oe}=F(4980);const{IncomingMessage:Qe}=F(8611);const Re=F(2203);const Me=F(9278);const{InvalidArgumentError:Le}=F(1970);const{Blob:We}=F(181);const Ge=F(9023);const{stringify:ze}=F(3480);const{headerNameLowerCasedRecord:$e}=F(5076);const[Ye,Ke]=process.versions.node.split(".").map((b=>Number(b)));function nop(){}function isStream(b){return b&&typeof b==="object"&&typeof b.pipe==="function"&&typeof b.on==="function"}function isBlobLike(b){return We&&b instanceof We||b&&typeof b==="object"&&(typeof b.stream==="function"||typeof b.arrayBuffer==="function")&&/^(Blob|File)$/.test(b[Symbol.toStringTag])}function buildURL(b,B){if(b.includes("?")||b.includes("#")){throw new Error('Query params cannot be passed when url already contains "?" or "#".')}const F=ze(B);if(F){b+="?"+F}return b}function parseURL(b){if(typeof b==="string"){b=new URL(b);if(!/^https?:/.test(b.origin||b.protocol)){throw new Le("Invalid URL protocol: the URL must start with `http:` or `https:`.")}return b}if(!b||typeof b!=="object"){throw new Le("Invalid URL: The URL argument must be a non-null object.")}if(!/^https?:/.test(b.origin||b.protocol)){throw new Le("Invalid URL protocol: the URL must start with `http:` or `https:`.")}if(!(b instanceof URL)){if(b.port!=null&&b.port!==""&&!Number.isFinite(parseInt(b.port))){throw new Le("Invalid URL: port must be a valid integer or a string representation of an integer.")}if(b.path!=null&&typeof b.path!=="string"){throw new Le("Invalid URL path: the path must be a string or null/undefined.")}if(b.pathname!=null&&typeof b.pathname!=="string"){throw new Le("Invalid URL pathname: the pathname must be a string or null/undefined.")}if(b.hostname!=null&&typeof b.hostname!=="string"){throw new Le("Invalid URL hostname: the hostname must be a string or null/undefined.")}if(b.origin!=null&&typeof b.origin!=="string"){throw new Le("Invalid URL origin: the origin must be a string or null/undefined.")}const B=b.port!=null?b.port:b.protocol==="https:"?443:80;let F=b.origin!=null?b.origin:`${b.protocol}//${b.hostname}:${B}`;let K=b.path!=null?b.path:`${b.pathname||""}${b.search||""}`;if(F.endsWith("/")){F=F.substring(0,F.length-1)}if(K&&!K.startsWith("/")){K=`/${K}`}b=new URL(F+K)}return b}function parseOrigin(b){b=parseURL(b);if(b.pathname!=="/"||b.search||b.hash){throw new Le("invalid url")}return b}function getHostname(b){if(b[0]==="["){const B=b.indexOf("]");K(B!==-1);return b.substring(1,B)}const B=b.indexOf(":");if(B===-1)return b;return b.substring(0,B)}function getServerName(b){if(!b){return null}K.strictEqual(typeof b,"string");const B=getHostname(b);if(Me.isIP(B)){return""}return B}function deepClone(b){return JSON.parse(JSON.stringify(b))}function isAsyncIterable(b){return!!(b!=null&&typeof b[Symbol.asyncIterator]==="function")}function isIterable(b){return!!(b!=null&&(typeof b[Symbol.iterator]==="function"||typeof b[Symbol.asyncIterator]==="function"))}function bodyLength(b){if(b==null){return 0}else if(isStream(b)){const B=b._readableState;return B&&B.objectMode===false&&B.ended===true&&Number.isFinite(B.length)?B.length:null}else if(isBlobLike(b)){return b.size!=null?b.size:null}else if(isBuffer(b)){return b.byteLength}return null}function isDestroyed(b){return!b||!!(b.destroyed||b[se])}function isReadableAborted(b){const B=b&&b._readableState;return isDestroyed(b)&&B&&!B.endEmitted}function destroy(b,B){if(b==null||!isStream(b)||isDestroyed(b)){return}if(typeof b.destroy==="function"){if(Object.getPrototypeOf(b).constructor===Qe){b.socket=null}b.destroy(B)}else if(B){process.nextTick(((b,B)=>{b.emit("error",B)}),b,B)}if(b.destroyed!==true){b[se]=true}}const Xe=/timeout=(\d+)/;function parseKeepAliveTimeout(b){const B=b.toString().match(Xe);return B?parseInt(B[1],10)*1e3:null}function headerNameToString(b){return $e[b]||b.toLowerCase()}function parseHeaders(b,B={}){if(!Array.isArray(b))return b;for(let F=0;F<b.length;F+=2){const K=b[F].toString().toLowerCase();let se=B[K];if(!se){if(Array.isArray(b[F+1])){B[K]=b[F+1].map((b=>b.toString("utf8")))}else{B[K]=b[F+1].toString("utf8")}}else{if(!Array.isArray(se)){se=[se];B[K]=se}se.push(b[F+1].toString("utf8"))}}if("content-length"in B&&"content-disposition"in B){B["content-disposition"]=Buffer.from(B["content-disposition"]).toString("latin1")}return B}function parseRawHeaders(b){const B=[];let F=false;let K=-1;for(let se=0;se<b.length;se+=2){const oe=b[se+0].toString();const Qe=b[se+1].toString("utf8");if(oe.length===14&&(oe==="content-length"||oe.toLowerCase()==="content-length")){B.push(oe,Qe);F=true}else if(oe.length===19&&(oe==="content-disposition"||oe.toLowerCase()==="content-disposition")){K=B.push(oe,Qe)-1}else{B.push(oe,Qe)}}if(F&&K!==-1){B[K]=Buffer.from(B[K]).toString("latin1")}return B}function isBuffer(b){return b instanceof Uint8Array||Buffer.isBuffer(b)}function validateHandler(b,B,F){if(!b||typeof b!=="object"){throw new Le("handler must be an object")}if(typeof b.onConnect!=="function"){throw new Le("invalid onConnect method")}if(typeof b.onError!=="function"){throw new Le("invalid onError method")}if(typeof b.onBodySent!=="function"&&b.onBodySent!==undefined){throw new Le("invalid onBodySent method")}if(F||B==="CONNECT"){if(typeof b.onUpgrade!=="function"){throw new Le("invalid onUpgrade method")}}else{if(typeof b.onHeaders!=="function"){throw new Le("invalid onHeaders method")}if(typeof b.onData!=="function"){throw new Le("invalid onData method")}if(typeof b.onComplete!=="function"){throw new Le("invalid onComplete method")}}}function isDisturbed(b){return!!(b&&(Re.isDisturbed?Re.isDisturbed(b)||b[oe]:b[oe]||b.readableDidRead||b._readableState&&b._readableState.dataEmitted||isReadableAborted(b)))}function isErrored(b){return!!(b&&(Re.isErrored?Re.isErrored(b):/state: 'errored'/.test(Ge.inspect(b))))}function isReadable(b){return!!(b&&(Re.isReadable?Re.isReadable(b):/state: 'readable'/.test(Ge.inspect(b))))}function getSocketInfo(b){return{localAddress:b.localAddress,localPort:b.localPort,remoteAddress:b.remoteAddress,remotePort:b.remotePort,remoteFamily:b.remoteFamily,timeout:b.timeout,bytesWritten:b.bytesWritten,bytesRead:b.bytesRead}}async function*convertIterableToBuffer(b){for await(const B of b){yield Buffer.isBuffer(B)?B:Buffer.from(B)}}let et;function ReadableStreamFrom(b){if(!et){et=F(3774).ReadableStream}if(et.from){return et.from(convertIterableToBuffer(b))}let B;return new et({async start(){B=b[Symbol.asyncIterator]()},async pull(b){const{done:F,value:K}=await B.next();if(F){queueMicrotask((()=>{b.close()}))}else{const B=Buffer.isBuffer(K)?K:Buffer.from(K);b.enqueue(new Uint8Array(B))}return b.desiredSize>0},async cancel(b){await B.return()}},0)}function isFormDataLike(b){return b&&typeof b==="object"&&typeof b.append==="function"&&typeof b.delete==="function"&&typeof b.get==="function"&&typeof b.getAll==="function"&&typeof b.has==="function"&&typeof b.set==="function"&&b[Symbol.toStringTag]==="FormData"}function throwIfAborted(b){if(!b){return}if(typeof b.throwIfAborted==="function"){b.throwIfAborted()}else{if(b.aborted){const b=new Error("The operation was aborted");b.name="AbortError";throw b}}}function addAbortListener(b,B){if("addEventListener"in b){b.addEventListener("abort",B,{once:true});return()=>b.removeEventListener("abort",B)}b.addListener("abort",B);return()=>b.removeListener("abort",B)}const rt=!!String.prototype.toWellFormed;function toUSVString(b){if(rt){return`${b}`.toWellFormed()}else if(Ge.toUSVString){return Ge.toUSVString(b)}return`${b}`}function parseRangeHeader(b){if(b==null||b==="")return{start:0,end:null,size:null};const B=b?b.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return B?{start:parseInt(B[1]),end:B[2]?parseInt(B[2]):null,size:B[3]?parseInt(B[3]):null}:null}const it=Object.create(null);it.enumerable=true;b.exports={kEnumerableProperty:it,nop:nop,isDisturbed:isDisturbed,isErrored:isErrored,isReadable:isReadable,toUSVString:toUSVString,isReadableAborted:isReadableAborted,isBlobLike:isBlobLike,parseOrigin:parseOrigin,parseURL:parseURL,getServerName:getServerName,isStream:isStream,isIterable:isIterable,isAsyncIterable:isAsyncIterable,isDestroyed:isDestroyed,headerNameToString:headerNameToString,parseRawHeaders:parseRawHeaders,parseHeaders:parseHeaders,parseKeepAliveTimeout:parseKeepAliveTimeout,destroy:destroy,bodyLength:bodyLength,deepClone:deepClone,ReadableStreamFrom:ReadableStreamFrom,isBuffer:isBuffer,validateHandler:validateHandler,getSocketInfo:getSocketInfo,isFormDataLike:isFormDataLike,buildURL:buildURL,throwIfAborted:throwIfAborted,addAbortListener:addAbortListener,parseRangeHeader:parseRangeHeader,nodeMajor:Ye,nodeMinor:Ke,nodeHasAutoSelectFamily:Ye>18||Ye===18&&Ke>=13,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"]}},4660:(b,B,F)=>{"use strict";const K=F(5872);const{ClientDestroyedError:se,ClientClosedError:oe,InvalidArgumentError:Qe}=F(1970);const{kDestroy:Re,kClose:Me,kDispatch:Le,kInterceptors:We}=F(4980);const Ge=Symbol("destroyed");const ze=Symbol("closed");const $e=Symbol("onDestroyed");const Ye=Symbol("onClosed");const Ke=Symbol("Intercepted Dispatch");class DispatcherBase extends K{constructor(){super();this[Ge]=false;this[$e]=null;this[ze]=false;this[Ye]=[]}get destroyed(){return this[Ge]}get closed(){return this[ze]}get interceptors(){return this[We]}set interceptors(b){if(b){for(let B=b.length-1;B>=0;B--){const b=this[We][B];if(typeof b!=="function"){throw new Qe("interceptor must be an function")}}}this[We]=b}close(b){if(b===undefined){return new Promise(((b,B)=>{this.close(((F,K)=>F?B(F):b(K)))}))}if(typeof b!=="function"){throw new Qe("invalid callback")}if(this[Ge]){queueMicrotask((()=>b(new se,null)));return}if(this[ze]){if(this[Ye]){this[Ye].push(b)}else{queueMicrotask((()=>b(null,null)))}return}this[ze]=true;this[Ye].push(b);const onClosed=()=>{const b=this[Ye];this[Ye]=null;for(let B=0;B<b.length;B++){b[B](null,null)}};this[Me]().then((()=>this.destroy())).then((()=>{queueMicrotask(onClosed)}))}destroy(b,B){if(typeof b==="function"){B=b;b=null}if(B===undefined){return new Promise(((B,F)=>{this.destroy(b,((b,K)=>b?F(b):B(K)))}))}if(typeof B!=="function"){throw new Qe("invalid callback")}if(this[Ge]){if(this[$e]){this[$e].push(B)}else{queueMicrotask((()=>B(null,null)))}return}if(!b){b=new se}this[Ge]=true;this[$e]=this[$e]||[];this[$e].push(B);const onDestroyed=()=>{const b=this[$e];this[$e]=null;for(let B=0;B<b.length;B++){b[B](null,null)}};this[Re](b).then((()=>{queueMicrotask(onDestroyed)}))}[Ke](b,B){if(!this[We]||this[We].length===0){this[Ke]=this[Le];return this[Le](b,B)}let F=this[Le].bind(this);for(let b=this[We].length-1;b>=0;b--){F=this[We][b](F)}this[Ke]=F;return F(b,B)}dispatch(b,B){if(!B||typeof B!=="object"){throw new Qe("handler must be an object")}try{if(!b||typeof b!=="object"){throw new Qe("opts must be an object.")}if(this[Ge]||this[$e]){throw new se}if(this[ze]){throw new oe}return this[Ke](b,B)}catch(b){if(typeof B.onError!=="function"){throw new Qe("invalid onError method")}B.onError(b);return false}}}b.exports=DispatcherBase},5872:(b,B,F)=>{"use strict";const K=F(4434);class Dispatcher extends K{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}}b.exports=Dispatcher},5472:(b,B,F)=>{"use strict";const K=F(2105);const se=F(701);const{ReadableStreamFrom:oe,isBlobLike:Qe,isReadableStreamLike:Re,readableStreamClose:Me,createDeferredPromise:Le,fullyReadBody:We}=F(8524);const{FormData:Ge}=F(98);const{kState:ze}=F(639);const{webidl:$e}=F(185);const{DOMException:Ye,structuredClone:Ke}=F(1411);const{Blob:Xe,File:et}=F(181);const{kBodyUsed:rt}=F(4980);const it=F(2613);const{isErrored:ot}=F(701);const{isUint8Array:at,isArrayBuffer:lt}=F(8253);const{File:ut}=F(374);const{parseMIMEType:dt,serializeAMimeType:ht}=F(2059);let pt;try{const b=F(7598);pt=B=>b.randomInt(0,B)}catch{pt=b=>Math.floor(Math.random(b))}let ft=globalThis.ReadableStream;const mt=et??ut;const vt=new TextEncoder;const yt=new TextDecoder;function extractBody(b,B=false){if(!ft){ft=F(3774).ReadableStream}let K=null;if(b instanceof ft){K=b}else if(Qe(b)){K=b.stream()}else{K=new ft({async pull(b){b.enqueue(typeof We==="string"?vt.encode(We):We);queueMicrotask((()=>Me(b)))},start(){},type:undefined})}it(Re(K));let Le=null;let We=null;let Ge=null;let ze=null;if(typeof b==="string"){We=b;ze="text/plain;charset=UTF-8"}else if(b instanceof URLSearchParams){We=b.toString();ze="application/x-www-form-urlencoded;charset=UTF-8"}else if(lt(b)){We=new Uint8Array(b.slice())}else if(ArrayBuffer.isView(b)){We=new Uint8Array(b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength))}else if(se.isFormDataLike(b)){const B=`----formdata-undici-0${`${pt(1e11)}`.padStart(11,"0")}`;const F=`--${B}\r\nContent-Disposition: form-data`
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */;const escape=b=>b.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22");const normalizeLinefeeds=b=>b.replace(/\r?\n|\r/g,"\r\n");const K=[];const se=new Uint8Array([13,10]);Ge=0;let oe=false;for(const[B,Qe]of b){if(typeof Qe==="string"){const b=vt.encode(F+`; name="${escape(normalizeLinefeeds(B))}"`+`\r\n\r\n${normalizeLinefeeds(Qe)}\r\n`);K.push(b);Ge+=b.byteLength}else{const b=vt.encode(`${F}; name="${escape(normalizeLinefeeds(B))}"`+(Qe.name?`; filename="${escape(Qe.name)}"`:"")+"\r\n"+`Content-Type: ${Qe.type||"application/octet-stream"}\r\n\r\n`);K.push(b,Qe,se);if(typeof Qe.size==="number"){Ge+=b.byteLength+Qe.size+se.byteLength}else{oe=true}}}const Qe=vt.encode(`--${B}--`);K.push(Qe);Ge+=Qe.byteLength;if(oe){Ge=null}We=b;Le=async function*(){for(const b of K){if(b.stream){yield*b.stream()}else{yield b}}};ze="multipart/form-data; boundary="+B}else if(Qe(b)){We=b;Ge=b.size;if(b.type){ze=b.type}}else if(typeof b[Symbol.asyncIterator]==="function"){if(B){throw new TypeError("keepalive")}if(se.isDisturbed(b)||b.locked){throw new TypeError("Response body object should not be disturbed or locked")}K=b instanceof ft?b:oe(b)}if(typeof We==="string"||se.isBuffer(We)){Ge=Buffer.byteLength(We)}if(Le!=null){let B;K=new ft({async start(){B=Le(b)[Symbol.asyncIterator]()},async pull(b){const{value:F,done:se}=await B.next();if(se){queueMicrotask((()=>{b.close()}))}else{if(!ot(K)){b.enqueue(new Uint8Array(F))}}return b.desiredSize>0},async cancel(b){await B.return()},type:undefined})}const $e={stream:K,source:We,length:Ge};return[$e,ze]}function safelyExtractBody(b,B=false){if(!ft){ft=F(3774).ReadableStream}if(b instanceof ft){it(!se.isDisturbed(b),"The body has already been consumed.");it(!b.locked,"The stream is locked.")}return extractBody(b,B)}function cloneBody(b){const[B,F]=b.stream.tee();const K=Ke(F,{transfer:[F]});const[,se]=K.tee();b.stream=B;return{stream:se,length:b.length,source:b.source}}async function*consumeBody(b){if(b){if(at(b)){yield b}else{const B=b.stream;if(se.isDisturbed(B)){throw new TypeError("The body has already been consumed.")}if(B.locked){throw new TypeError("The stream is locked.")}B[rt]=true;yield*B}}}function throwIfAborted(b){if(b.aborted){throw new Ye("The operation was aborted.","AbortError")}}function bodyMixinMethods(b){const B={blob(){return specConsumeBody(this,(b=>{let B=bodyMimeType(this);if(B==="failure"){B=""}else if(B){B=ht(B)}return new Xe([b],{type:B})}),b)},arrayBuffer(){return specConsumeBody(this,(b=>new Uint8Array(b).buffer),b)},text(){return specConsumeBody(this,utf8DecodeBytes,b)},json(){return specConsumeBody(this,parseJSONFromBytes,b)},async formData(){$e.brandCheck(this,b);throwIfAborted(this[ze]);const B=this.headers.get("Content-Type");if(/multipart\/form-data/.test(B)){const b={};for(const[B,F]of this.headers)b[B.toLowerCase()]=F;const B=new Ge;let F;try{F=new K({headers:b,preservePath:true})}catch(b){throw new Ye(`${b}`,"AbortError")}F.on("field",((b,F)=>{B.append(b,F)}));F.on("file",((b,F,K,se,oe)=>{const Qe=[];if(se==="base64"||se.toLowerCase()==="base64"){let se="";F.on("data",(b=>{se+=b.toString().replace(/[\r\n]/gm,"");const B=se.length-se.length%4;Qe.push(Buffer.from(se.slice(0,B),"base64"));se=se.slice(B)}));F.on("end",(()=>{Qe.push(Buffer.from(se,"base64"));B.append(b,new mt(Qe,K,{type:oe}))}))}else{F.on("data",(b=>{Qe.push(b)}));F.on("end",(()=>{B.append(b,new mt(Qe,K,{type:oe}))}))}}));const se=new Promise(((b,B)=>{F.on("finish",b);F.on("error",(b=>B(new TypeError(b))))}));if(this.body!==null)for await(const b of consumeBody(this[ze].body))F.write(b);F.end();await se;return B}else if(/application\/x-www-form-urlencoded/.test(B)){let b;try{let B="";const F=new TextDecoder("utf-8",{ignoreBOM:true});for await(const b of consumeBody(this[ze].body)){if(!at(b)){throw new TypeError("Expected Uint8Array chunk")}B+=F.decode(b,{stream:true})}B+=F.decode();b=new URLSearchParams(B)}catch(b){throw Object.assign(new TypeError,{cause:b})}const B=new Ge;for(const[F,K]of b){B.append(F,K)}return B}else{await Promise.resolve();throwIfAborted(this[ze]);throw $e.errors.exception({header:`${b.name}.formData`,message:"Could not parse content as FormData."})}}};return B}function mixinBody(b){Object.assign(b.prototype,bodyMixinMethods(b))}async function specConsumeBody(b,B,F){$e.brandCheck(b,F);throwIfAborted(b[ze]);if(bodyUnusable(b[ze].body)){throw new TypeError("Body is unusable")}const K=Le();const errorSteps=b=>K.reject(b);const successSteps=b=>{try{K.resolve(B(b))}catch(b){errorSteps(b)}};if(b[ze].body==null){successSteps(new Uint8Array);return K.promise}await We(b[ze].body,successSteps,errorSteps);return K.promise}function bodyUnusable(b){return b!=null&&(b.stream.locked||se.isDisturbed(b.stream))}function utf8DecodeBytes(b){if(b.length===0){return""}if(b[0]===239&&b[1]===187&&b[2]===191){b=b.subarray(3)}const B=yt.decode(b);return B}function parseJSONFromBytes(b){return JSON.parse(utf8DecodeBytes(b))}function bodyMimeType(b){const{headersList:B}=b[ze];const F=B.get("content-type");if(F===null){return"failure"}return dt(F)}b.exports={extractBody:extractBody,safelyExtractBody:safelyExtractBody,cloneBody:cloneBody,mixinBody:mixinBody}},1411:(b,B,F)=>{"use strict";const{MessageChannel:K,receiveMessageOnPort:se}=F(8167);const oe=["GET","HEAD","POST"];const Qe=new Set(oe);const Re=[101,204,205,304];const Me=[301,302,303,307,308];const Le=new Set(Me);const We=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","5060","5061","6000","6566","6665","6666","6667","6668","6669","6697","10080"];const Ge=new Set(We);const ze=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"];const $e=new Set(ze);const Ye=["follow","manual","error"];const Ke=["GET","HEAD","OPTIONS","TRACE"];const Xe=new Set(Ke);const et=["navigate","same-origin","no-cors","cors"];const rt=["omit","same-origin","include"];const it=["default","no-store","reload","no-cache","force-cache","only-if-cached"];const ot=["content-encoding","content-language","content-location","content-type","content-length"];const at=["half"];const lt=["CONNECT","TRACE","TRACK"];const ut=new Set(lt);const dt=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""];const ht=new Set(dt);const pt=globalThis.DOMException??(()=>{try{atob("~")}catch(b){return Object.getPrototypeOf(b).constructor}})();let ft;const mt=globalThis.structuredClone??function structuredClone(b,B=undefined){if(arguments.length===0){throw new TypeError("missing argument")}if(!ft){ft=new K}ft.port1.unref();ft.port2.unref();ft.port1.postMessage(b,B?.transfer);return se(ft.port2).message};b.exports={DOMException:pt,structuredClone:mt,subresource:dt,forbiddenMethods:lt,requestBodyHeader:ot,referrerPolicy:ze,requestRedirect:Ye,requestMode:et,requestCredentials:rt,requestCache:it,redirectStatus:Me,corsSafeListedMethods:oe,nullBodyStatus:Re,safeMethods:Ke,badPorts:We,requestDuplex:at,subresourceSet:ht,badPortsSet:Ge,redirectStatusSet:Le,corsSafeListedMethodsSet:Qe,safeMethodsSet:Xe,forbiddenMethodsSet:ut,referrerPolicySet:$e}},2059:(b,B,F)=>{const K=F(2613);const{atob:se}=F(181);const{isomorphicDecode:oe}=F(8524);const Qe=new TextEncoder;const Re=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/;const Me=/(\u000A|\u000D|\u0009|\u0020)/;const Le=/[\u0009|\u0020-\u007E|\u0080-\u00FF]/;function dataURLProcessor(b){K(b.protocol==="data:");let B=URLSerializer(b,true);B=B.slice(5);const F={position:0};let se=collectASequenceOfCodePointsFast(",",B,F);const Qe=se.length;se=removeASCIIWhitespace(se,true,true);if(F.position>=B.length){return"failure"}F.position++;const Re=B.slice(Qe+1);let Me=stringPercentDecode(Re);if(/;(\u0020){0,}base64$/i.test(se)){const b=oe(Me);Me=forgivingBase64(b);if(Me==="failure"){return"failure"}se=se.slice(0,-6);se=se.replace(/(\u0020)+$/,"");se=se.slice(0,-1)}if(se.startsWith(";")){se="text/plain"+se}let Le=parseMIMEType(se);if(Le==="failure"){Le=parseMIMEType("text/plain;charset=US-ASCII")}return{mimeType:Le,body:Me}}function URLSerializer(b,B=false){if(!B){return b.href}const F=b.href;const K=b.hash.length;return K===0?F:F.substring(0,F.length-K)}function collectASequenceOfCodePoints(b,B,F){let K="";while(F.position<B.length&&b(B[F.position])){K+=B[F.position];F.position++}return K}function collectASequenceOfCodePointsFast(b,B,F){const K=B.indexOf(b,F.position);const se=F.position;if(K===-1){F.position=B.length;return B.slice(se)}F.position=K;return B.slice(se,F.position)}function stringPercentDecode(b){const B=Qe.encode(b);return percentDecode(B)}function percentDecode(b){const B=[];for(let F=0;F<b.length;F++){const K=b[F];if(K!==37){B.push(K)}else if(K===37&&!/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(b[F+1],b[F+2]))){B.push(37)}else{const K=String.fromCharCode(b[F+1],b[F+2]);const se=Number.parseInt(K,16);B.push(se);F+=2}}return Uint8Array.from(B)}function parseMIMEType(b){b=removeHTTPWhitespace(b,true,true);const B={position:0};const F=collectASequenceOfCodePointsFast("/",b,B);if(F.length===0||!Re.test(F)){return"failure"}if(B.position>b.length){return"failure"}B.position++;let K=collectASequenceOfCodePointsFast(";",b,B);K=removeHTTPWhitespace(K,false,true);if(K.length===0||!Re.test(K)){return"failure"}const se=F.toLowerCase();const oe=K.toLowerCase();const Qe={type:se,subtype:oe,parameters:new Map,essence:`${se}/${oe}`};while(B.position<b.length){B.position++;collectASequenceOfCodePoints((b=>Me.test(b)),b,B);let F=collectASequenceOfCodePoints((b=>b!==";"&&b!=="="),b,B);F=F.toLowerCase();if(B.position<b.length){if(b[B.position]===";"){continue}B.position++}if(B.position>b.length){break}let K=null;if(b[B.position]==='"'){K=collectAnHTTPQuotedString(b,B,true);collectASequenceOfCodePointsFast(";",b,B)}else{K=collectASequenceOfCodePointsFast(";",b,B);K=removeHTTPWhitespace(K,false,true);if(K.length===0){continue}}if(F.length!==0&&Re.test(F)&&(K.length===0||Le.test(K))&&!Qe.parameters.has(F)){Qe.parameters.set(F,K)}}return Qe}function forgivingBase64(b){b=b.replace(/[\u0009\u000A\u000C\u000D\u0020]/g,"");if(b.length%4===0){b=b.replace(/=?=$/,"")}if(b.length%4===1){return"failure"}if(/[^+/0-9A-Za-z]/.test(b)){return"failure"}const B=se(b);const F=new Uint8Array(B.length);for(let b=0;b<B.length;b++){F[b]=B.charCodeAt(b)}return F}function collectAnHTTPQuotedString(b,B,F){const se=B.position;let oe="";K(b[B.position]==='"');B.position++;while(true){oe+=collectASequenceOfCodePoints((b=>b!=='"'&&b!=="\\"),b,B);if(B.position>=b.length){break}const F=b[B.position];B.position++;if(F==="\\"){if(B.position>=b.length){oe+="\\";break}oe+=b[B.position];B.position++}else{K(F==='"');break}}if(F){return oe}return b.slice(se,B.position)}function serializeAMimeType(b){K(b!=="failure");const{parameters:B,essence:F}=b;let se=F;for(let[b,F]of B.entries()){se+=";";se+=b;se+="=";if(!Re.test(F)){F=F.replace(/(\\|")/g,"\\$1");F='"'+F;F+='"'}se+=F}return se}function isHTTPWhiteSpace(b){return b==="\r"||b==="\n"||b==="\t"||b===" "}function removeHTTPWhitespace(b,B=true,F=true){let K=0;let se=b.length-1;if(B){for(;K<b.length&&isHTTPWhiteSpace(b[K]);K++);}if(F){for(;se>0&&isHTTPWhiteSpace(b[se]);se--);}return b.slice(K,se+1)}function isASCIIWhitespace(b){return b==="\r"||b==="\n"||b==="\t"||b==="\f"||b===" "}function removeASCIIWhitespace(b,B=true,F=true){let K=0;let se=b.length-1;if(B){for(;K<b.length&&isASCIIWhitespace(b[K]);K++);}if(F){for(;se>0&&isASCIIWhitespace(b[se]);se--);}return b.slice(K,se+1)}b.exports={dataURLProcessor:dataURLProcessor,URLSerializer:URLSerializer,collectASequenceOfCodePoints:collectASequenceOfCodePoints,collectASequenceOfCodePointsFast:collectASequenceOfCodePointsFast,stringPercentDecode:stringPercentDecode,parseMIMEType:parseMIMEType,collectAnHTTPQuotedString:collectAnHTTPQuotedString,serializeAMimeType:serializeAMimeType}},374:(b,B,F)=>{"use strict";const{Blob:K,File:se}=F(181);const{types:oe}=F(9023);const{kState:Qe}=F(639);const{isBlobLike:Re}=F(8524);const{webidl:Me}=F(185);const{parseMIMEType:Le,serializeAMimeType:We}=F(2059);const{kEnumerableProperty:Ge}=F(701);const ze=new TextEncoder;class File extends K{constructor(b,B,F={}){Me.argumentLengthCheck(arguments,2,{header:"File constructor"});b=Me.converters["sequence<BlobPart>"](b);B=Me.converters.USVString(B);F=Me.converters.FilePropertyBag(F);const K=B;let se=F.type;let oe;e:{if(se){se=Le(se);if(se==="failure"){se="";break e}se=We(se).toLowerCase()}oe=F.lastModified}super(processBlobParts(b,F),{type:se});this[Qe]={name:K,lastModified:oe,type:se}}get name(){Me.brandCheck(this,File);return this[Qe].name}get lastModified(){Me.brandCheck(this,File);return this[Qe].lastModified}get type(){Me.brandCheck(this,File);return this[Qe].type}}class FileLike{constructor(b,B,F={}){const K=B;const se=F.type;const oe=F.lastModified??Date.now();this[Qe]={blobLike:b,name:K,type:se,lastModified:oe}}stream(...b){Me.brandCheck(this,FileLike);return this[Qe].blobLike.stream(...b)}arrayBuffer(...b){Me.brandCheck(this,FileLike);return this[Qe].blobLike.arrayBuffer(...b)}slice(...b){Me.brandCheck(this,FileLike);return this[Qe].blobLike.slice(...b)}text(...b){Me.brandCheck(this,FileLike);return this[Qe].blobLike.text(...b)}get size(){Me.brandCheck(this,FileLike);return this[Qe].blobLike.size}get type(){Me.brandCheck(this,FileLike);return this[Qe].blobLike.type}get name(){Me.brandCheck(this,FileLike);return this[Qe].name}get lastModified(){Me.brandCheck(this,FileLike);return this[Qe].lastModified}get[Symbol.toStringTag](){return"File"}}Object.defineProperties(File.prototype,{[Symbol.toStringTag]:{value:"File",configurable:true},name:Ge,lastModified:Ge});Me.converters.Blob=Me.interfaceConverter(K);Me.converters.BlobPart=function(b,B){if(Me.util.Type(b)==="Object"){if(Re(b)){return Me.converters.Blob(b,{strict:false})}if(ArrayBuffer.isView(b)||oe.isAnyArrayBuffer(b)){return Me.converters.BufferSource(b,B)}}return Me.converters.USVString(b,B)};Me.converters["sequence<BlobPart>"]=Me.sequenceConverter(Me.converters.BlobPart);Me.converters.FilePropertyBag=Me.dictionaryConverter([{key:"lastModified",converter:Me.converters["long long"],get defaultValue(){return Date.now()}},{key:"type",converter:Me.converters.DOMString,defaultValue:""},{key:"endings",converter:b=>{b=Me.converters.DOMString(b);b=b.toLowerCase();if(b!=="native"){b="transparent"}return b},defaultValue:"transparent"}]);function processBlobParts(b,B){const F=[];for(const K of b){if(typeof K==="string"){let b=K;if(B.endings==="native"){b=convertLineEndingsNative(b)}F.push(ze.encode(b))}else if(oe.isAnyArrayBuffer(K)||oe.isTypedArray(K)){if(!K.buffer){F.push(new Uint8Array(K))}else{F.push(new Uint8Array(K.buffer,K.byteOffset,K.byteLength))}}else if(Re(K)){F.push(K)}}return F}function convertLineEndingsNative(b){let B="\n";if(process.platform==="win32"){B="\r\n"}return b.replace(/\r?\n/g,B)}function isFileLike(b){return se&&b instanceof se||b instanceof File||b&&(typeof b.stream==="function"||typeof b.arrayBuffer==="function")&&b[Symbol.toStringTag]==="File"}b.exports={File:File,FileLike:FileLike,isFileLike:isFileLike}},98:(b,B,F)=>{"use strict";const{isBlobLike:K,toUSVString:se,makeIterator:oe}=F(8524);const{kState:Qe}=F(639);const{File:Re,FileLike:Me,isFileLike:Le}=F(374);const{webidl:We}=F(185);const{Blob:Ge,File:ze}=F(181);const $e=ze??Re;class FormData{constructor(b){if(b!==undefined){throw We.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]})}this[Qe]=[]}append(b,B,F=undefined){We.brandCheck(this,FormData);We.argumentLengthCheck(arguments,2,{header:"FormData.append"});if(arguments.length===3&&!K(B)){throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'")}b=We.converters.USVString(b);B=K(B)?We.converters.Blob(B,{strict:false}):We.converters.USVString(B);F=arguments.length===3?We.converters.USVString(F):undefined;const se=makeEntry(b,B,F);this[Qe].push(se)}delete(b){We.brandCheck(this,FormData);We.argumentLengthCheck(arguments,1,{header:"FormData.delete"});b=We.converters.USVString(b);this[Qe]=this[Qe].filter((B=>B.name!==b))}get(b){We.brandCheck(this,FormData);We.argumentLengthCheck(arguments,1,{header:"FormData.get"});b=We.converters.USVString(b);const B=this[Qe].findIndex((B=>B.name===b));if(B===-1){return null}return this[Qe][B].value}getAll(b){We.brandCheck(this,FormData);We.argumentLengthCheck(arguments,1,{header:"FormData.getAll"});b=We.converters.USVString(b);return this[Qe].filter((B=>B.name===b)).map((b=>b.value))}has(b){We.brandCheck(this,FormData);We.argumentLengthCheck(arguments,1,{header:"FormData.has"});b=We.converters.USVString(b);return this[Qe].findIndex((B=>B.name===b))!==-1}set(b,B,F=undefined){We.brandCheck(this,FormData);We.argumentLengthCheck(arguments,2,{header:"FormData.set"});if(arguments.length===3&&!K(B)){throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'")}b=We.converters.USVString(b);B=K(B)?We.converters.Blob(B,{strict:false}):We.converters.USVString(B);F=arguments.length===3?se(F):undefined;const oe=makeEntry(b,B,F);const Re=this[Qe].findIndex((B=>B.name===b));if(Re!==-1){this[Qe]=[...this[Qe].slice(0,Re),oe,...this[Qe].slice(Re+1).filter((B=>B.name!==b))]}else{this[Qe].push(oe)}}entries(){We.brandCheck(this,FormData);return oe((()=>this[Qe].map((b=>[b.name,b.value]))),"FormData","key+value")}keys(){We.brandCheck(this,FormData);return oe((()=>this[Qe].map((b=>[b.name,b.value]))),"FormData","key")}values(){We.brandCheck(this,FormData);return oe((()=>this[Qe].map((b=>[b.name,b.value]))),"FormData","value")}forEach(b,B=globalThis){We.brandCheck(this,FormData);We.argumentLengthCheck(arguments,1,{header:"FormData.forEach"});if(typeof b!=="function"){throw new TypeError("Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.")}for(const[F,K]of this){b.apply(B,[K,F,this])}}}FormData.prototype[Symbol.iterator]=FormData.prototype.entries;Object.defineProperties(FormData.prototype,{[Symbol.toStringTag]:{value:"FormData",configurable:true}});function makeEntry(b,B,F){b=Buffer.from(b).toString("utf8");if(typeof B==="string"){B=Buffer.from(B).toString("utf8")}else{if(!Le(B)){B=B instanceof Ge?new $e([B],"blob",{type:B.type}):new Me(B,"blob",{type:B.type})}if(F!==undefined){const b={type:B.type,lastModified:B.lastModified};B=ze&&B instanceof ze||B instanceof Re?new $e([B],F,b):new Me(B,F,b)}}return{name:b,value:B}}b.exports={FormData:FormData}},2071:b=>{"use strict";const B=Symbol.for("undici.globalOrigin.1");function getGlobalOrigin(){return globalThis[B]}function setGlobalOrigin(b){if(b===undefined){Object.defineProperty(globalThis,B,{value:undefined,writable:true,enumerable:false,configurable:false});return}const F=new URL(b);if(F.protocol!=="http:"&&F.protocol!=="https:"){throw new TypeError(`Only http & https urls are allowed, received ${F.protocol}`)}Object.defineProperty(globalThis,B,{value:F,writable:true,enumerable:false,configurable:false})}b.exports={getGlobalOrigin:getGlobalOrigin,setGlobalOrigin:setGlobalOrigin}},824:(b,B,F)=>{"use strict";const{kHeadersList:K,kConstruct:se}=F(4980);const{kGuard:oe}=F(639);const{kEnumerableProperty:Qe}=F(701);const{makeIterator:Re,isValidHeaderName:Me,isValidHeaderValue:Le}=F(8524);const We=F(9023);const{webidl:Ge}=F(185);const ze=F(2613);const $e=Symbol("headers map");const Ye=Symbol("headers map sorted");function isHTTPWhiteSpaceCharCode(b){return b===10||b===13||b===9||b===32}function headerValueNormalize(b){let B=0;let F=b.length;while(F>B&&isHTTPWhiteSpaceCharCode(b.charCodeAt(F-1)))--F;while(F>B&&isHTTPWhiteSpaceCharCode(b.charCodeAt(B)))++B;return B===0&&F===b.length?b:b.substring(B,F)}function fill(b,B){if(Array.isArray(B)){for(let F=0;F<B.length;++F){const K=B[F];if(K.length!==2){throw Ge.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${K.length}.`})}appendHeader(b,K[0],K[1])}}else if(typeof B==="object"&&B!==null){const F=Object.keys(B);for(let K=0;K<F.length;++K){appendHeader(b,F[K],B[F[K]])}}else{throw Ge.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}}function appendHeader(b,B,F){F=headerValueNormalize(F);if(!Me(B)){throw Ge.errors.invalidArgument({prefix:"Headers.append",value:B,type:"header name"})}else if(!Le(F)){throw Ge.errors.invalidArgument({prefix:"Headers.append",value:F,type:"header value"})}if(b[oe]==="immutable"){throw new TypeError("immutable")}else if(b[oe]==="request-no-cors"){}return b[K].append(B,F)}class HeadersList{cookies=null;constructor(b){if(b instanceof HeadersList){this[$e]=new Map(b[$e]);this[Ye]=b[Ye];this.cookies=b.cookies===null?null:[...b.cookies]}else{this[$e]=new Map(b);this[Ye]=null}}contains(b){b=b.toLowerCase();return this[$e].has(b)}clear(){this[$e].clear();this[Ye]=null;this.cookies=null}append(b,B){this[Ye]=null;const F=b.toLowerCase();const K=this[$e].get(F);if(K){const b=F==="cookie"?"; ":", ";this[$e].set(F,{name:K.name,value:`${K.value}${b}${B}`})}else{this[$e].set(F,{name:b,value:B})}if(F==="set-cookie"){this.cookies??=[];this.cookies.push(B)}}set(b,B){this[Ye]=null;const F=b.toLowerCase();if(F==="set-cookie"){this.cookies=[B]}this[$e].set(F,{name:b,value:B})}delete(b){this[Ye]=null;b=b.toLowerCase();if(b==="set-cookie"){this.cookies=null}this[$e].delete(b)}get(b){const B=this[$e].get(b.toLowerCase());return B===undefined?null:B.value}*[Symbol.iterator](){for(const[b,{value:B}]of this[$e]){yield[b,B]}}get entries(){const b={};if(this[$e].size){for(const{name:B,value:F}of this[$e].values()){b[B]=F}}return b}}class Headers{constructor(b=undefined){if(b===se){return}this[K]=new HeadersList;this[oe]="none";if(b!==undefined){b=Ge.converters.HeadersInit(b);fill(this,b)}}append(b,B){Ge.brandCheck(this,Headers);Ge.argumentLengthCheck(arguments,2,{header:"Headers.append"});b=Ge.converters.ByteString(b);B=Ge.converters.ByteString(B);return appendHeader(this,b,B)}delete(b){Ge.brandCheck(this,Headers);Ge.argumentLengthCheck(arguments,1,{header:"Headers.delete"});b=Ge.converters.ByteString(b);if(!Me(b)){throw Ge.errors.invalidArgument({prefix:"Headers.delete",value:b,type:"header name"})}if(this[oe]==="immutable"){throw new TypeError("immutable")}else if(this[oe]==="request-no-cors"){}if(!this[K].contains(b)){return}this[K].delete(b)}get(b){Ge.brandCheck(this,Headers);Ge.argumentLengthCheck(arguments,1,{header:"Headers.get"});b=Ge.converters.ByteString(b);if(!Me(b)){throw Ge.errors.invalidArgument({prefix:"Headers.get",value:b,type:"header name"})}return this[K].get(b)}has(b){Ge.brandCheck(this,Headers);Ge.argumentLengthCheck(arguments,1,{header:"Headers.has"});b=Ge.converters.ByteString(b);if(!Me(b)){throw Ge.errors.invalidArgument({prefix:"Headers.has",value:b,type:"header name"})}return this[K].contains(b)}set(b,B){Ge.brandCheck(this,Headers);Ge.argumentLengthCheck(arguments,2,{header:"Headers.set"});b=Ge.converters.ByteString(b);B=Ge.converters.ByteString(B);B=headerValueNormalize(B);if(!Me(b)){throw Ge.errors.invalidArgument({prefix:"Headers.set",value:b,type:"header name"})}else if(!Le(B)){throw Ge.errors.invalidArgument({prefix:"Headers.set",value:B,type:"header value"})}if(this[oe]==="immutable"){throw new TypeError("immutable")}else if(this[oe]==="request-no-cors"){}this[K].set(b,B)}getSetCookie(){Ge.brandCheck(this,Headers);const b=this[K].cookies;if(b){return[...b]}return[]}get[Ye](){if(this[K][Ye]){return this[K][Ye]}const b=[];const B=[...this[K]].sort(((b,B)=>b[0]<B[0]?-1:1));const F=this[K].cookies;for(let K=0;K<B.length;++K){const[se,oe]=B[K];if(se==="set-cookie"){for(let B=0;B<F.length;++B){b.push([se,F[B]])}}else{ze(oe!==null);b.push([se,oe])}}this[K][Ye]=b;return b}keys(){Ge.brandCheck(this,Headers);if(this[oe]==="immutable"){const b=this[Ye];return Re((()=>b),"Headers","key")}return Re((()=>[...this[Ye].values()]),"Headers","key")}values(){Ge.brandCheck(this,Headers);if(this[oe]==="immutable"){const b=this[Ye];return Re((()=>b),"Headers","value")}return Re((()=>[...this[Ye].values()]),"Headers","value")}entries(){Ge.brandCheck(this,Headers);if(this[oe]==="immutable"){const b=this[Ye];return Re((()=>b),"Headers","key+value")}return Re((()=>[...this[Ye].values()]),"Headers","key+value")}forEach(b,B=globalThis){Ge.brandCheck(this,Headers);Ge.argumentLengthCheck(arguments,1,{header:"Headers.forEach"});if(typeof b!=="function"){throw new TypeError("Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.")}for(const[F,K]of this){b.apply(B,[K,F,this])}}[Symbol.for("nodejs.util.inspect.custom")](){Ge.brandCheck(this,Headers);return this[K]}}Headers.prototype[Symbol.iterator]=Headers.prototype.entries;Object.defineProperties(Headers.prototype,{append:Qe,delete:Qe,get:Qe,has:Qe,set:Qe,getSetCookie:Qe,keys:Qe,values:Qe,entries:Qe,forEach:Qe,[Symbol.iterator]:{enumerable:false},[Symbol.toStringTag]:{value:"Headers",configurable:true},[We.inspect.custom]:{enumerable:false}});Ge.converters.HeadersInit=function(b){if(Ge.util.Type(b)==="Object"){if(b[Symbol.iterator]){return Ge.converters["sequence<sequence<ByteString>>"](b)}return Ge.converters["record<ByteString, ByteString>"](b)}throw Ge.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};b.exports={fill:fill,Headers:Headers,HeadersList:HeadersList}},4546:(b,B,F)=>{"use strict";const{Response:K,makeNetworkError:se,makeAppropriateNetworkError:oe,filterResponse:Qe,makeResponse:Re}=F(2111);const{Headers:Me}=F(824);const{Request:Le,makeRequest:We}=F(8939);const Ge=F(3106);const{bytesMatch:ze,makePolicyContainer:$e,clonePolicyContainer:Ye,requestBadPort:Ke,TAOCheck:Xe,appendRequestOriginHeader:et,responseLocationURL:rt,requestCurrentURL:it,setRequestReferrerPolicyOnRedirect:ot,tryUpgradeRequestToAPotentiallyTrustworthyURL:at,createOpaqueTimingInfo:lt,appendFetchMetadata:ut,corsCheck:dt,crossOriginResourcePolicyCheck:ht,determineRequestsReferrer:pt,coarsenedSharedCurrentTime:ft,createDeferredPromise:mt,isBlobLike:vt,sameOrigin:yt,isCancelled:wt,isAborted:_t,isErrorLike:It,fullyReadBody:xt,readableStreamClose:Qt,isomorphicEncode:Tt,urlIsLocal:Rt,urlIsHttpHttpsScheme:Pt,urlHasHttpsScheme:Nt}=F(8524);const{kState:Ut,kHeaders:Jt,kGuard:Zt,kRealm:tr}=F(639);const rr=F(2613);const{safelyExtractBody:nr}=F(5472);const{redirectStatusSet:ir,nullBodyStatus:ar,safeMethodsSet:cr,requestBodyHeader:dr,subresourceSet:pr,DOMException:gr}=F(1411);const{kHeadersList:mr}=F(4980);const yr=F(4434);const{Readable:wr,pipeline:_r}=F(2203);const{addAbortListener:Or,isErrored:Rr,isReadable:Pr,nodeMajor:Dr,nodeMinor:Lr}=F(701);const{dataURLProcessor:jr,serializeAMimeType:Wr}=F(2059);const{TransformStream:Vr}=F(3774);const{getGlobalDispatcher:Gr}=F(4662);const{webidl:zr}=F(185);const{STATUS_CODES:Jr}=F(8611);const Yr=["GET","HEAD"];let Kr;let Zr=globalThis.ReadableStream;class Fetch extends yr{constructor(b){super();this.dispatcher=b;this.connection=null;this.dump=false;this.state="ongoing";this.setMaxListeners(21)}terminate(b){if(this.state!=="ongoing"){return}this.state="terminated";this.connection?.destroy(b);this.emit("terminated",b)}abort(b){if(this.state!=="ongoing"){return}this.state="aborted";if(!b){b=new gr("The operation was aborted.","AbortError")}this.serializedAbortReason=b;this.connection?.destroy(b);this.emit("terminated",b)}}function fetch(b,B={}){zr.argumentLengthCheck(arguments,1,{header:"globalThis.fetch"});const F=mt();let se;try{se=new Le(b,B)}catch(b){F.reject(b);return F.promise}const oe=se[Ut];if(se.signal.aborted){abortFetch(F,oe,null,se.signal.reason);return F.promise}const Qe=oe.client.globalObject;if(Qe?.constructor?.name==="ServiceWorkerGlobalScope"){oe.serviceWorkers="none"}let Re=null;const Me=null;let We=false;let Ge=null;Or(se.signal,(()=>{We=true;rr(Ge!=null);Ge.abort(se.signal.reason);abortFetch(F,oe,Re,se.signal.reason)}));const handleFetchDone=b=>finalizeAndReportTiming(b,"fetch");const processResponse=b=>{if(We){return Promise.resolve()}if(b.aborted){abortFetch(F,oe,Re,Ge.serializedAbortReason);return Promise.resolve()}if(b.type==="error"){F.reject(Object.assign(new TypeError("fetch failed"),{cause:b.error}));return Promise.resolve()}Re=new K;Re[Ut]=b;Re[tr]=Me;Re[Jt][mr]=b.headersList;Re[Jt][Zt]="immutable";Re[Jt][tr]=Me;F.resolve(Re)};Ge=fetching({request:oe,processResponseEndOfBody:handleFetchDone,processResponse:processResponse,dispatcher:B.dispatcher??Gr()});return F.promise}function finalizeAndReportTiming(b,B="other"){if(b.type==="error"&&b.aborted){return}if(!b.urlList?.length){return}const F=b.urlList[0];let K=b.timingInfo;let se=b.cacheState;if(!Pt(F)){return}if(K===null){return}if(!b.timingAllowPassed){K=lt({startTime:K.startTime});se=""}K.endTime=ft();b.timingInfo=K;markResourceTiming(K,F,B,globalThis,se)}function markResourceTiming(b,B,F,K,se){if(Dr>18||Dr===18&&Lr>=2){performance.markResourceTiming(b,B.href,F,K,se)}}function abortFetch(b,B,F,K){if(!K){K=new gr("The operation was aborted.","AbortError")}b.reject(K);if(B.body!=null&&Pr(B.body?.stream)){B.body.stream.cancel(K).catch((b=>{if(b.code==="ERR_INVALID_STATE"){return}throw b}))}if(F==null){return}const se=F[Ut];if(se.body!=null&&Pr(se.body?.stream)){se.body.stream.cancel(K).catch((b=>{if(b.code==="ERR_INVALID_STATE"){return}throw b}))}}function fetching({request:b,processRequestBodyChunkLength:B,processRequestEndOfBody:F,processResponse:K,processResponseEndOfBody:se,processResponseConsumeBody:oe,useParallelQueue:Qe=false,dispatcher:Re}){let Me=null;let Le=false;if(b.client!=null){Me=b.client.globalObject;Le=b.client.crossOriginIsolatedCapability}const We=ft(Le);const Ge=lt({startTime:We});const ze={controller:new Fetch(Re),request:b,timingInfo:Ge,processRequestBodyChunkLength:B,processRequestEndOfBody:F,processResponse:K,processResponseConsumeBody:oe,processResponseEndOfBody:se,taskDestination:Me,crossOriginIsolatedCapability:Le};rr(!b.body||b.body.stream);if(b.window==="client"){b.window=b.client?.globalObject?.constructor?.name==="Window"?b.client:"no-window"}if(b.origin==="client"){b.origin=b.client?.origin}if(b.policyContainer==="client"){if(b.client!=null){b.policyContainer=Ye(b.client.policyContainer)}else{b.policyContainer=$e()}}if(!b.headersList.contains("accept")){const B="*/*";b.headersList.append("accept",B)}if(!b.headersList.contains("accept-language")){b.headersList.append("accept-language","*")}if(b.priority===null){}if(pr.has(b.destination)){}mainFetch(ze).catch((b=>{ze.controller.terminate(b)}));return ze.controller}async function mainFetch(b,B=false){const F=b.request;let K=null;if(F.localURLsOnly&&!Rt(it(F))){K=se("local URLs only")}at(F);if(Ke(F)==="blocked"){K=se("bad port")}if(F.referrerPolicy===""){F.referrerPolicy=F.policyContainer.referrerPolicy}if(F.referrer!=="no-referrer"){F.referrer=pt(F)}if(K===null){K=await(async()=>{const B=it(F);if(yt(B,F.url)&&F.responseTainting==="basic"||B.protocol==="data:"||(F.mode==="navigate"||F.mode==="websocket")){F.responseTainting="basic";return await schemeFetch(b)}if(F.mode==="same-origin"){return se('request mode cannot be "same-origin"')}if(F.mode==="no-cors"){if(F.redirect!=="follow"){return se('redirect mode cannot be "follow" for "no-cors" request')}F.responseTainting="opaque";return await schemeFetch(b)}if(!Pt(it(F))){return se("URL scheme must be a HTTP(S) scheme")}F.responseTainting="cors";return await httpFetch(b)})()}if(B){return K}if(K.status!==0&&!K.internalResponse){if(F.responseTainting==="cors"){}if(F.responseTainting==="basic"){K=Qe(K,"basic")}else if(F.responseTainting==="cors"){K=Qe(K,"cors")}else if(F.responseTainting==="opaque"){K=Qe(K,"opaque")}else{rr(false)}}let oe=K.status===0?K:K.internalResponse;if(oe.urlList.length===0){oe.urlList.push(...F.urlList)}if(!F.timingAllowFailed){K.timingAllowPassed=true}if(K.type==="opaque"&&oe.status===206&&oe.rangeRequested&&!F.headers.contains("range")){K=oe=se()}if(K.status!==0&&(F.method==="HEAD"||F.method==="CONNECT"||ar.includes(oe.status))){oe.body=null;b.controller.dump=true}if(F.integrity){const processBodyError=B=>fetchFinale(b,se(B));if(F.responseTainting==="opaque"||K.body==null){processBodyError(K.error);return}const processBody=B=>{if(!ze(B,F.integrity)){processBodyError("integrity mismatch");return}K.body=nr(B)[0];fetchFinale(b,K)};await xt(K.body,processBody,processBodyError)}else{fetchFinale(b,K)}}function schemeFetch(b){if(wt(b)&&b.request.redirectCount===0){return Promise.resolve(oe(b))}const{request:B}=b;const{protocol:K}=it(B);switch(K){case"about:":{return Promise.resolve(se("about scheme is not supported"))}case"blob:":{if(!Kr){Kr=F(181).resolveObjectURL}const b=it(B);if(b.search.length!==0){return Promise.resolve(se("NetworkError when attempting to fetch resource."))}const K=Kr(b.toString());if(B.method!=="GET"||!vt(K)){return Promise.resolve(se("invalid method"))}const oe=nr(K);const Qe=oe[0];const Me=Tt(`${Qe.length}`);const Le=oe[1]??"";const We=Re({statusText:"OK",headersList:[["content-length",{name:"Content-Length",value:Me}],["content-type",{name:"Content-Type",value:Le}]]});We.body=Qe;return Promise.resolve(We)}case"data:":{const b=it(B);const F=jr(b);if(F==="failure"){return Promise.resolve(se("failed to fetch the data URL"))}const K=Wr(F.mimeType);return Promise.resolve(Re({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:K}]],body:nr(F.body)[0]}))}case"file:":{return Promise.resolve(se("not implemented... yet..."))}case"http:":case"https:":{return httpFetch(b).catch((b=>se(b)))}default:{return Promise.resolve(se("unknown scheme"))}}}function finalizeResponse(b,B){b.request.done=true;if(b.processResponseDone!=null){queueMicrotask((()=>b.processResponseDone(B)))}}function fetchFinale(b,B){if(B.type==="error"){B.urlList=[b.request.urlList[0]];B.timingInfo=lt({startTime:b.timingInfo.startTime})}const processResponseEndOfBody=()=>{b.request.done=true;if(b.processResponseEndOfBody!=null){queueMicrotask((()=>b.processResponseEndOfBody(B)))}};if(b.processResponse!=null){queueMicrotask((()=>b.processResponse(B)))}if(B.body==null){processResponseEndOfBody()}else{const identityTransformAlgorithm=(b,B)=>{B.enqueue(b)};const b=new Vr({start(){},transform:identityTransformAlgorithm,flush:processResponseEndOfBody},{size(){return 1}},{size(){return 1}});B.body={stream:B.body.stream.pipeThrough(b)}}if(b.processResponseConsumeBody!=null){const processBody=F=>b.processResponseConsumeBody(B,F);const processBodyError=F=>b.processResponseConsumeBody(B,F);if(B.body==null){queueMicrotask((()=>processBody(null)))}else{return xt(B.body,processBody,processBodyError)}return Promise.resolve()}}async function httpFetch(b){const B=b.request;let F=null;let K=null;const oe=b.timingInfo;if(B.serviceWorkers==="all"){}if(F===null){if(B.redirect==="follow"){B.serviceWorkers="none"}K=F=await httpNetworkOrCacheFetch(b);if(B.responseTainting==="cors"&&dt(B,F)==="failure"){return se("cors failure")}if(Xe(B,F)==="failure"){B.timingAllowFailed=true}}if((B.responseTainting==="opaque"||F.type==="opaque")&&ht(B.origin,B.client,B.destination,K)==="blocked"){return se("blocked")}if(ir.has(K.status)){if(B.redirect!=="manual"){b.controller.connection.destroy()}if(B.redirect==="error"){F=se("unexpected redirect")}else if(B.redirect==="manual"){F=K}else if(B.redirect==="follow"){F=await httpRedirectFetch(b,F)}else{rr(false)}}F.timingInfo=oe;return F}function httpRedirectFetch(b,B){const F=b.request;const K=B.internalResponse?B.internalResponse:B;let oe;try{oe=rt(K,it(F).hash);if(oe==null){return B}}catch(b){return Promise.resolve(se(b))}if(!Pt(oe)){return Promise.resolve(se("URL scheme must be a HTTP(S) scheme"))}if(F.redirectCount===20){return Promise.resolve(se("redirect count exceeded"))}F.redirectCount+=1;if(F.mode==="cors"&&(oe.username||oe.password)&&!yt(F,oe)){return Promise.resolve(se('cross origin not allowed for request mode "cors"'))}if(F.responseTainting==="cors"&&(oe.username||oe.password)){return Promise.resolve(se('URL cannot contain credentials for request mode "cors"'))}if(K.status!==303&&F.body!=null&&F.body.source==null){return Promise.resolve(se())}if([301,302].includes(K.status)&&F.method==="POST"||K.status===303&&!Yr.includes(F.method)){F.method="GET";F.body=null;for(const b of dr){F.headersList.delete(b)}}if(!yt(it(F),oe)){F.headersList.delete("authorization");F.headersList.delete("proxy-authorization",true);F.headersList.delete("cookie");F.headersList.delete("host")}if(F.body!=null){rr(F.body.source!=null);F.body=nr(F.body.source)[0]}const Qe=b.timingInfo;Qe.redirectEndTime=Qe.postRedirectStartTime=ft(b.crossOriginIsolatedCapability);if(Qe.redirectStartTime===0){Qe.redirectStartTime=Qe.startTime}F.urlList.push(oe);ot(F,K);return mainFetch(b,true)}async function httpNetworkOrCacheFetch(b,B=false,F=false){const K=b.request;let Qe=null;let Re=null;let Me=null;const Le=null;const Ge=false;if(K.window==="no-window"&&K.redirect==="error"){Qe=b;Re=K}else{Re=We(K);Qe={...b};Qe.request=Re}const ze=K.credentials==="include"||K.credentials==="same-origin"&&K.responseTainting==="basic";const $e=Re.body?Re.body.length:null;let Ye=null;if(Re.body==null&&["POST","PUT"].includes(Re.method)){Ye="0"}if($e!=null){Ye=Tt(`${$e}`)}if(Ye!=null){Re.headersList.append("content-length",Ye)}if($e!=null&&Re.keepalive){}if(Re.referrer instanceof URL){Re.headersList.append("referer",Tt(Re.referrer.href))}et(Re);ut(Re);if(!Re.headersList.contains("user-agent")){Re.headersList.append("user-agent",typeof esbuildDetection==="undefined"?"undici":"node")}if(Re.cache==="default"&&(Re.headersList.contains("if-modified-since")||Re.headersList.contains("if-none-match")||Re.headersList.contains("if-unmodified-since")||Re.headersList.contains("if-match")||Re.headersList.contains("if-range"))){Re.cache="no-store"}if(Re.cache==="no-cache"&&!Re.preventNoCacheCacheControlHeaderModification&&!Re.headersList.contains("cache-control")){Re.headersList.append("cache-control","max-age=0")}if(Re.cache==="no-store"||Re.cache==="reload"){if(!Re.headersList.contains("pragma")){Re.headersList.append("pragma","no-cache")}if(!Re.headersList.contains("cache-control")){Re.headersList.append("cache-control","no-cache")}}if(Re.headersList.contains("range")){Re.headersList.append("accept-encoding","identity")}if(!Re.headersList.contains("accept-encoding")){if(Nt(it(Re))){Re.headersList.append("accept-encoding","br, gzip, deflate")}else{Re.headersList.append("accept-encoding","gzip, deflate")}}Re.headersList.delete("host");if(ze){}if(Le==null){Re.cache="no-store"}if(Re.mode!=="no-store"&&Re.mode!=="reload"){}if(Me==null){if(Re.mode==="only-if-cached"){return se("only if cached")}const b=await httpNetworkFetch(Qe,ze,F);if(!cr.has(Re.method)&&b.status>=200&&b.status<=399){}if(Ge&&b.status===304){}if(Me==null){Me=b}}Me.urlList=[...Re.urlList];if(Re.headersList.contains("range")){Me.rangeRequested=true}Me.requestIncludesCredentials=ze;if(Me.status===407){if(K.window==="no-window"){return se()}if(wt(b)){return oe(b)}return se("proxy authentication required")}if(Me.status===421&&!F&&(K.body==null||K.body.source!=null)){if(wt(b)){return oe(b)}b.controller.connection.destroy();Me=await httpNetworkOrCacheFetch(b,B,true)}if(B){}return Me}async function httpNetworkFetch(b,B=false,K=false){rr(!b.controller.connection||b.controller.connection.destroyed);b.controller.connection={abort:null,destroyed:false,destroy(b){if(!this.destroyed){this.destroyed=true;this.abort?.(b??new gr("The operation was aborted.","AbortError"))}}};const Qe=b.request;let Le=null;const We=b.timingInfo;const ze=null;if(ze==null){Qe.cache="no-store"}const $e=K?"yes":"no";if(Qe.mode==="websocket"){}else{}let Ye=null;if(Qe.body==null&&b.processRequestEndOfBody){queueMicrotask((()=>b.processRequestEndOfBody()))}else if(Qe.body!=null){const processBodyChunk=async function*(B){if(wt(b)){return}yield B;b.processRequestBodyChunkLength?.(B.byteLength)};const processEndOfBody=()=>{if(wt(b)){return}if(b.processRequestEndOfBody){b.processRequestEndOfBody()}};const processBodyError=B=>{if(wt(b)){return}if(B.name==="AbortError"){b.controller.abort()}else{b.controller.terminate(B)}};Ye=async function*(){try{for await(const b of Qe.body.stream){yield*processBodyChunk(b)}processEndOfBody()}catch(b){processBodyError(b)}}()}try{const{body:B,status:F,statusText:K,headersList:se,socket:oe}=await dispatch({body:Ye});if(oe){Le=Re({status:F,statusText:K,headersList:se,socket:oe})}else{const oe=B[Symbol.asyncIterator]();b.controller.next=()=>oe.next();Le=Re({status:F,statusText:K,headersList:se})}}catch(B){if(B.name==="AbortError"){b.controller.connection.destroy();return oe(b,B)}return se(B)}const pullAlgorithm=()=>{b.controller.resume()};const cancelAlgorithm=B=>{b.controller.abort(B)};if(!Zr){Zr=F(3774).ReadableStream}const Ke=new Zr({async start(B){b.controller.controller=B},async pull(b){await pullAlgorithm(b)},async cancel(b){await cancelAlgorithm(b)}},{highWaterMark:0,size(){return 1}});Le.body={stream:Ke};b.controller.on("terminated",onAborted);b.controller.resume=async()=>{while(true){let B;let F;try{const{done:F,value:K}=await b.controller.next();if(_t(b)){break}B=F?undefined:K}catch(K){if(b.controller.ended&&!We.encodedBodySize){B=undefined}else{B=K;F=true}}if(B===undefined){Qt(b.controller.controller);finalizeResponse(b,Le);return}We.decodedBodySize+=B?.byteLength??0;if(F){b.controller.terminate(B);return}b.controller.controller.enqueue(new Uint8Array(B));if(Rr(Ke)){b.controller.terminate();return}if(!b.controller.controller.desiredSize){return}}};function onAborted(B){if(_t(b)){Le.aborted=true;if(Pr(Ke)){b.controller.controller.error(b.controller.serializedAbortReason)}}else{if(Pr(Ke)){b.controller.controller.error(new TypeError("terminated",{cause:It(B)?B:undefined}))}}b.controller.connection.destroy()}return Le;async function dispatch({body:B}){const F=it(Qe);const K=b.controller.dispatcher;return new Promise(((se,oe)=>K.dispatch({path:F.pathname+F.search,origin:F.origin,method:Qe.method,body:b.controller.dispatcher.isMockActive?Qe.body&&(Qe.body.source||Qe.body.stream):B,headers:Qe.headersList.entries,maxRedirections:0,upgrade:Qe.mode==="websocket"?"websocket":undefined},{body:null,abort:null,onConnect(B){const{connection:F}=b.controller;if(F.destroyed){B(new gr("The operation was aborted.","AbortError"))}else{b.controller.on("terminated",B);this.abort=F.abort=B}},onHeaders(b,B,F,K){if(b<200){return}let oe=[];let Re="";const Le=new Me;if(Array.isArray(B)){for(let b=0;b<B.length;b+=2){const F=B[b+0].toString("latin1");const K=B[b+1].toString("latin1");if(F.toLowerCase()==="content-encoding"){oe=K.toLowerCase().split(",").map((b=>b.trim()))}else if(F.toLowerCase()==="location"){Re=K}Le[mr].append(F,K)}}else{const b=Object.keys(B);for(const F of b){const b=B[F];if(F.toLowerCase()==="content-encoding"){oe=b.toLowerCase().split(",").map((b=>b.trim())).reverse()}else if(F.toLowerCase()==="location"){Re=b}Le[mr].append(F,b)}}this.body=new wr({read:F});const We=[];const ze=Qe.redirect==="follow"&&Re&&ir.has(b);if(Qe.method!=="HEAD"&&Qe.method!=="CONNECT"&&!ar.includes(b)&&!ze){for(const b of oe){if(b==="x-gzip"||b==="gzip"){We.push(Ge.createGunzip({flush:Ge.constants.Z_SYNC_FLUSH,finishFlush:Ge.constants.Z_SYNC_FLUSH}))}else if(b==="deflate"){We.push(Ge.createInflate())}else if(b==="br"){We.push(Ge.createBrotliDecompress())}else{We.length=0;break}}}se({status:b,statusText:K,headersList:Le[mr],body:We.length?_r(this.body,...We,(()=>{})):this.body.on("error",(()=>{}))});return true},onData(B){if(b.controller.dump){return}const F=B;We.encodedBodySize+=F.byteLength;return this.body.push(F)},onComplete(){if(this.abort){b.controller.off("terminated",this.abort)}b.controller.ended=true;this.body.push(null)},onError(B){if(this.abort){b.controller.off("terminated",this.abort)}this.body?.destroy(B);b.controller.terminate(B);oe(B)},onUpgrade(b,B,F){if(b!==101){return}const K=new Me;for(let b=0;b<B.length;b+=2){const F=B[b+0].toString("latin1");const se=B[b+1].toString("latin1");K[mr].append(F,se)}se({status:b,statusText:Jr[b],headersList:K[mr],socket:F});return true}})))}}b.exports={fetch:fetch,Fetch:Fetch,fetching:fetching,finalizeAndReportTiming:finalizeAndReportTiming}},8939:(b,B,F)=>{"use strict";const{extractBody:K,mixinBody:se,cloneBody:oe}=F(5472);const{Headers:Qe,fill:Re,HeadersList:Me}=F(824);const{FinalizationRegistry:Le}=F(4375)();const We=F(701);const{isValidHTTPToken:Ge,sameOrigin:ze,normalizeMethod:$e,makePolicyContainer:Ye,normalizeMethodRecord:Ke}=F(8524);const{forbiddenMethodsSet:Xe,corsSafeListedMethodsSet:et,referrerPolicy:rt,requestRedirect:it,requestMode:ot,requestCredentials:at,requestCache:lt,requestDuplex:ut}=F(1411);const{kEnumerableProperty:dt}=We;const{kHeaders:ht,kSignal:pt,kState:ft,kGuard:mt,kRealm:vt}=F(639);const{webidl:yt}=F(185);const{getGlobalOrigin:wt}=F(2071);const{URLSerializer:_t}=F(2059);const{kHeadersList:It,kConstruct:xt}=F(4980);const Qt=F(2613);const{getMaxListeners:Tt,setMaxListeners:Rt,getEventListeners:Pt,defaultMaxListeners:Nt}=F(4434);let Ut=globalThis.TransformStream;const Jt=Symbol("abortController");const Zt=new Le((({signal:b,abort:B})=>{b.removeEventListener("abort",B)}));class Request{constructor(b,B={}){if(b===xt){return}yt.argumentLengthCheck(arguments,1,{header:"Request constructor"});b=yt.converters.RequestInfo(b);B=yt.converters.RequestInit(B);this[vt]={settingsObject:{baseUrl:wt(),get origin(){return this.baseUrl?.origin},policyContainer:Ye()}};let se=null;let oe=null;const Le=this[vt].settingsObject.baseUrl;let rt=null;if(typeof b==="string"){let B;try{B=new URL(b,Le)}catch(B){throw new TypeError("Failed to parse URL from "+b,{cause:B})}if(B.username||B.password){throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+b)}se=makeRequest({urlList:[B]});oe="cors"}else{Qt(b instanceof Request);se=b[ft];rt=b[pt]}const it=this[vt].settingsObject.origin;let ot="client";if(se.window?.constructor?.name==="EnvironmentSettingsObject"&&ze(se.window,it)){ot=se.window}if(B.window!=null){throw new TypeError(`'window' option '${ot}' must be null`)}if("window"in B){ot="no-window"}se=makeRequest({method:se.method,headersList:se.headersList,unsafeRequest:se.unsafeRequest,client:this[vt].settingsObject,window:ot,priority:se.priority,origin:se.origin,referrer:se.referrer,referrerPolicy:se.referrerPolicy,mode:se.mode,credentials:se.credentials,cache:se.cache,redirect:se.redirect,integrity:se.integrity,keepalive:se.keepalive,reloadNavigation:se.reloadNavigation,historyNavigation:se.historyNavigation,urlList:[...se.urlList]});const at=Object.keys(B).length!==0;if(at){if(se.mode==="navigate"){se.mode="same-origin"}se.reloadNavigation=false;se.historyNavigation=false;se.origin="client";se.referrer="client";se.referrerPolicy="";se.url=se.urlList[se.urlList.length-1];se.urlList=[se.url]}if(B.referrer!==undefined){const b=B.referrer;if(b===""){se.referrer="no-referrer"}else{let B;try{B=new URL(b,Le)}catch(B){throw new TypeError(`Referrer "${b}" is not a valid URL.`,{cause:B})}if(B.protocol==="about:"&&B.hostname==="client"||it&&!ze(B,this[vt].settingsObject.baseUrl)){se.referrer="client"}else{se.referrer=B}}}if(B.referrerPolicy!==undefined){se.referrerPolicy=B.referrerPolicy}let lt;if(B.mode!==undefined){lt=B.mode}else{lt=oe}if(lt==="navigate"){throw yt.errors.exception({header:"Request constructor",message:"invalid request mode navigate."})}if(lt!=null){se.mode=lt}if(B.credentials!==undefined){se.credentials=B.credentials}if(B.cache!==undefined){se.cache=B.cache}if(se.cache==="only-if-cached"&&se.mode!=="same-origin"){throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode")}if(B.redirect!==undefined){se.redirect=B.redirect}if(B.integrity!=null){se.integrity=String(B.integrity)}if(B.keepalive!==undefined){se.keepalive=Boolean(B.keepalive)}if(B.method!==undefined){let b=B.method;if(!Ge(b)){throw new TypeError(`'${b}' is not a valid HTTP method.`)}if(Xe.has(b.toUpperCase())){throw new TypeError(`'${b}' HTTP method is unsupported.`)}b=Ke[b]??$e(b);se.method=b}if(B.signal!==undefined){rt=B.signal}this[ft]=se;const ut=new AbortController;this[pt]=ut.signal;this[pt][vt]=this[vt];if(rt!=null){if(!rt||typeof rt.aborted!=="boolean"||typeof rt.addEventListener!=="function"){throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.")}if(rt.aborted){ut.abort(rt.reason)}else{this[Jt]=ut;const b=new WeakRef(ut);const abort=function(){const B=b.deref();if(B!==undefined){B.abort(this.reason)}};try{if(typeof Tt==="function"&&Tt(rt)===Nt){Rt(100,rt)}else if(Pt(rt,"abort").length>=Nt){Rt(100,rt)}}catch{}We.addAbortListener(rt,abort);Zt.register(ut,{signal:rt,abort:abort})}}this[ht]=new Qe(xt);this[ht][It]=se.headersList;this[ht][mt]="request";this[ht][vt]=this[vt];if(lt==="no-cors"){if(!et.has(se.method)){throw new TypeError(`'${se.method} is unsupported in no-cors mode.`)}this[ht][mt]="request-no-cors"}if(at){const b=this[ht][It];const F=B.headers!==undefined?B.headers:new Me(b);b.clear();if(F instanceof Me){for(const[B,K]of F){b.append(B,K)}b.cookies=F.cookies}else{Re(this[ht],F)}}const dt=b instanceof Request?b[ft].body:null;if((B.body!=null||dt!=null)&&(se.method==="GET"||se.method==="HEAD")){throw new TypeError("Request with GET/HEAD method cannot have body.")}let _t=null;if(B.body!=null){const[b,F]=K(B.body,se.keepalive);_t=b;if(F&&!this[ht][It].contains("content-type")){this[ht].append("content-type",F)}}const tr=_t??dt;if(tr!=null&&tr.source==null){if(_t!=null&&B.duplex==null){throw new TypeError("RequestInit: duplex option is required when sending a body.")}if(se.mode!=="same-origin"&&se.mode!=="cors"){throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"')}se.useCORSPreflightFlag=true}let rr=tr;if(_t==null&&dt!=null){if(We.isDisturbed(dt.stream)||dt.stream.locked){throw new TypeError("Cannot construct a Request with a Request object that has already been used.")}if(!Ut){Ut=F(3774).TransformStream}const b=new Ut;dt.stream.pipeThrough(b);rr={source:dt.source,length:dt.length,stream:b.readable}}this[ft].body=rr}get method(){yt.brandCheck(this,Request);return this[ft].method}get url(){yt.brandCheck(this,Request);return _t(this[ft].url)}get headers(){yt.brandCheck(this,Request);return this[ht]}get destination(){yt.brandCheck(this,Request);return this[ft].destination}get referrer(){yt.brandCheck(this,Request);if(this[ft].referrer==="no-referrer"){return""}if(this[ft].referrer==="client"){return"about:client"}return this[ft].referrer.toString()}get referrerPolicy(){yt.brandCheck(this,Request);return this[ft].referrerPolicy}get mode(){yt.brandCheck(this,Request);return this[ft].mode}get credentials(){return this[ft].credentials}get cache(){yt.brandCheck(this,Request);return this[ft].cache}get redirect(){yt.brandCheck(this,Request);return this[ft].redirect}get integrity(){yt.brandCheck(this,Request);return this[ft].integrity}get keepalive(){yt.brandCheck(this,Request);return this[ft].keepalive}get isReloadNavigation(){yt.brandCheck(this,Request);return this[ft].reloadNavigation}get isHistoryNavigation(){yt.brandCheck(this,Request);return this[ft].historyNavigation}get signal(){yt.brandCheck(this,Request);return this[pt]}get body(){yt.brandCheck(this,Request);return this[ft].body?this[ft].body.stream:null}get bodyUsed(){yt.brandCheck(this,Request);return!!this[ft].body&&We.isDisturbed(this[ft].body.stream)}get duplex(){yt.brandCheck(this,Request);return"half"}clone(){yt.brandCheck(this,Request);if(this.bodyUsed||this.body?.locked){throw new TypeError("unusable")}const b=cloneRequest(this[ft]);const B=new Request(xt);B[ft]=b;B[vt]=this[vt];B[ht]=new Qe(xt);B[ht][It]=b.headersList;B[ht][mt]=this[ht][mt];B[ht][vt]=this[ht][vt];const F=new AbortController;if(this.signal.aborted){F.abort(this.signal.reason)}else{We.addAbortListener(this.signal,(()=>{F.abort(this.signal.reason)}))}B[pt]=F.signal;return B}}se(Request);function makeRequest(b){const B={method:"GET",localURLsOnly:false,unsafeRequest:false,body:null,client:null,reservedClient:null,replacesClientId:"",window:"client",keepalive:false,serviceWorkers:"all",initiator:"",destination:"",priority:null,origin:"client",policyContainer:"client",referrer:"client",referrerPolicy:"",mode:"no-cors",useCORSPreflightFlag:false,credentials:"same-origin",useCredentials:false,cache:"default",redirect:"follow",integrity:"",cryptoGraphicsNonceMetadata:"",parserMetadata:"",reloadNavigation:false,historyNavigation:false,userActivation:false,taintedOrigin:false,redirectCount:0,responseTainting:"basic",preventNoCacheCacheControlHeaderModification:false,done:false,timingAllowFailed:false,...b,headersList:b.headersList?new Me(b.headersList):new Me};B.url=B.urlList[0];return B}function cloneRequest(b){const B=makeRequest({...b,body:null});if(b.body!=null){B.body=oe(b.body)}return B}Object.defineProperties(Request.prototype,{method:dt,url:dt,headers:dt,redirect:dt,clone:dt,signal:dt,duplex:dt,destination:dt,body:dt,bodyUsed:dt,isHistoryNavigation:dt,isReloadNavigation:dt,keepalive:dt,integrity:dt,cache:dt,credentials:dt,attribute:dt,referrerPolicy:dt,referrer:dt,mode:dt,[Symbol.toStringTag]:{value:"Request",configurable:true}});yt.converters.Request=yt.interfaceConverter(Request);yt.converters.RequestInfo=function(b){if(typeof b==="string"){return yt.converters.USVString(b)}if(b instanceof Request){return yt.converters.Request(b)}return yt.converters.USVString(b)};yt.converters.AbortSignal=yt.interfaceConverter(AbortSignal);yt.converters.RequestInit=yt.dictionaryConverter([{key:"method",converter:yt.converters.ByteString},{key:"headers",converter:yt.converters.HeadersInit},{key:"body",converter:yt.nullableConverter(yt.converters.BodyInit)},{key:"referrer",converter:yt.converters.USVString},{key:"referrerPolicy",converter:yt.converters.DOMString,allowedValues:rt},{key:"mode",converter:yt.converters.DOMString,allowedValues:ot},{key:"credentials",converter:yt.converters.DOMString,allowedValues:at},{key:"cache",converter:yt.converters.DOMString,allowedValues:lt},{key:"redirect",converter:yt.converters.DOMString,allowedValues:it},{key:"integrity",converter:yt.converters.DOMString},{key:"keepalive",converter:yt.converters.boolean},{key:"signal",converter:yt.nullableConverter((b=>yt.converters.AbortSignal(b,{strict:false})))},{key:"window",converter:yt.converters.any},{key:"duplex",converter:yt.converters.DOMString,allowedValues:ut}]);b.exports={Request:Request,makeRequest:makeRequest}},2111:(b,B,F)=>{"use strict";const{Headers:K,HeadersList:se,fill:oe}=F(824);const{extractBody:Qe,cloneBody:Re,mixinBody:Me}=F(5472);const Le=F(701);const{kEnumerableProperty:We}=Le;const{isValidReasonPhrase:Ge,isCancelled:ze,isAborted:$e,isBlobLike:Ye,serializeJavascriptValueToJSONString:Ke,isErrorLike:Xe,isomorphicEncode:et}=F(8524);const{redirectStatusSet:rt,nullBodyStatus:it,DOMException:ot}=F(1411);const{kState:at,kHeaders:lt,kGuard:ut,kRealm:dt}=F(639);const{webidl:ht}=F(185);const{FormData:pt}=F(98);const{getGlobalOrigin:ft}=F(2071);const{URLSerializer:mt}=F(2059);const{kHeadersList:vt,kConstruct:yt}=F(4980);const wt=F(2613);const{types:_t}=F(9023);const It=globalThis.ReadableStream||F(3774).ReadableStream;const xt=new TextEncoder("utf-8");class Response{static error(){const b={settingsObject:{}};const B=new Response;B[at]=makeNetworkError();B[dt]=b;B[lt][vt]=B[at].headersList;B[lt][ut]="immutable";B[lt][dt]=b;return B}static json(b,B={}){ht.argumentLengthCheck(arguments,1,{header:"Response.json"});if(B!==null){B=ht.converters.ResponseInit(B)}const F=xt.encode(Ke(b));const K=Qe(F);const se={settingsObject:{}};const oe=new Response;oe[dt]=se;oe[lt][ut]="response";oe[lt][dt]=se;initializeResponse(oe,B,{body:K[0],type:"application/json"});return oe}static redirect(b,B=302){const F={settingsObject:{}};ht.argumentLengthCheck(arguments,1,{header:"Response.redirect"});b=ht.converters.USVString(b);B=ht.converters["unsigned short"](B);let K;try{K=new URL(b,ft())}catch(B){throw Object.assign(new TypeError("Failed to parse URL from "+b),{cause:B})}if(!rt.has(B)){throw new RangeError("Invalid status code "+B)}const se=new Response;se[dt]=F;se[lt][ut]="immutable";se[lt][dt]=F;se[at].status=B;const oe=et(mt(K));se[at].headersList.append("location",oe);return se}constructor(b=null,B={}){if(b!==null){b=ht.converters.BodyInit(b)}B=ht.converters.ResponseInit(B);this[dt]={settingsObject:{}};this[at]=makeResponse({});this[lt]=new K(yt);this[lt][ut]="response";this[lt][vt]=this[at].headersList;this[lt][dt]=this[dt];let F=null;if(b!=null){const[B,K]=Qe(b);F={body:B,type:K}}initializeResponse(this,B,F)}get type(){ht.brandCheck(this,Response);return this[at].type}get url(){ht.brandCheck(this,Response);const b=this[at].urlList;const B=b[b.length-1]??null;if(B===null){return""}return mt(B,true)}get redirected(){ht.brandCheck(this,Response);return this[at].urlList.length>1}get status(){ht.brandCheck(this,Response);return this[at].status}get ok(){ht.brandCheck(this,Response);return this[at].status>=200&&this[at].status<=299}get statusText(){ht.brandCheck(this,Response);return this[at].statusText}get headers(){ht.brandCheck(this,Response);return this[lt]}get body(){ht.brandCheck(this,Response);return this[at].body?this[at].body.stream:null}get bodyUsed(){ht.brandCheck(this,Response);return!!this[at].body&&Le.isDisturbed(this[at].body.stream)}clone(){ht.brandCheck(this,Response);if(this.bodyUsed||this.body&&this.body.locked){throw ht.errors.exception({header:"Response.clone",message:"Body has already been consumed."})}const b=cloneResponse(this[at]);const B=new Response;B[at]=b;B[dt]=this[dt];B[lt][vt]=b.headersList;B[lt][ut]=this[lt][ut];B[lt][dt]=this[lt][dt];return B}}Me(Response);Object.defineProperties(Response.prototype,{type:We,url:We,status:We,ok:We,redirected:We,statusText:We,headers:We,clone:We,body:We,bodyUsed:We,[Symbol.toStringTag]:{value:"Response",configurable:true}});Object.defineProperties(Response,{json:We,redirect:We,error:We});function cloneResponse(b){if(b.internalResponse){return filterResponse(cloneResponse(b.internalResponse),b.type)}const B=makeResponse({...b,body:null});if(b.body!=null){B.body=Re(b.body)}return B}function makeResponse(b){return{aborted:false,rangeRequested:false,timingAllowPassed:false,requestIncludesCredentials:false,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...b,headersList:b.headersList?new se(b.headersList):new se,urlList:b.urlList?[...b.urlList]:[]}}function makeNetworkError(b){const B=Xe(b);return makeResponse({type:"error",status:0,error:B?b:new Error(b?String(b):b),aborted:b&&b.name==="AbortError"})}function makeFilteredResponse(b,B){B={internalResponse:b,...B};return new Proxy(b,{get(b,F){return F in B?B[F]:b[F]},set(b,F,K){wt(!(F in B));b[F]=K;return true}})}function filterResponse(b,B){if(B==="basic"){return makeFilteredResponse(b,{type:"basic",headersList:b.headersList})}else if(B==="cors"){return makeFilteredResponse(b,{type:"cors",headersList:b.headersList})}else if(B==="opaque"){return makeFilteredResponse(b,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null})}else if(B==="opaqueredirect"){return makeFilteredResponse(b,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null})}else{wt(false)}}function makeAppropriateNetworkError(b,B=null){wt(ze(b));return $e(b)?makeNetworkError(Object.assign(new ot("The operation was aborted.","AbortError"),{cause:B})):makeNetworkError(Object.assign(new ot("Request was cancelled."),{cause:B}))}function initializeResponse(b,B,F){if(B.status!==null&&(B.status<200||B.status>599)){throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.')}if("statusText"in B&&B.statusText!=null){if(!Ge(String(B.statusText))){throw new TypeError("Invalid statusText")}}if("status"in B&&B.status!=null){b[at].status=B.status}if("statusText"in B&&B.statusText!=null){b[at].statusText=B.statusText}if("headers"in B&&B.headers!=null){oe(b[lt],B.headers)}if(F){if(it.includes(b.status)){throw ht.errors.exception({header:"Response constructor",message:"Invalid response status code "+b.status})}b[at].body=F.body;if(F.type!=null&&!b[at].headersList.contains("Content-Type")){b[at].headersList.append("content-type",F.type)}}}ht.converters.ReadableStream=ht.interfaceConverter(It);ht.converters.FormData=ht.interfaceConverter(pt);ht.converters.URLSearchParams=ht.interfaceConverter(URLSearchParams);ht.converters.XMLHttpRequestBodyInit=function(b){if(typeof b==="string"){return ht.converters.USVString(b)}if(Ye(b)){return ht.converters.Blob(b,{strict:false})}if(_t.isArrayBuffer(b)||_t.isTypedArray(b)||_t.isDataView(b)){return ht.converters.BufferSource(b)}if(Le.isFormDataLike(b)){return ht.converters.FormData(b,{strict:false})}if(b instanceof URLSearchParams){return ht.converters.URLSearchParams(b)}return ht.converters.DOMString(b)};ht.converters.BodyInit=function(b){if(b instanceof It){return ht.converters.ReadableStream(b)}if(b?.[Symbol.asyncIterator]){return b}return ht.converters.XMLHttpRequestBodyInit(b)};ht.converters.ResponseInit=ht.dictionaryConverter([{key:"status",converter:ht.converters["unsigned short"],defaultValue:200},{key:"statusText",converter:ht.converters.ByteString,defaultValue:""},{key:"headers",converter:ht.converters.HeadersInit}]);b.exports={makeNetworkError:makeNetworkError,makeResponse:makeResponse,makeAppropriateNetworkError:makeAppropriateNetworkError,filterResponse:filterResponse,Response:Response,cloneResponse:cloneResponse}},639:b=>{"use strict";b.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kGuard:Symbol("guard"),kRealm:Symbol("realm")}},8524:(b,B,F)=>{"use strict";const{redirectStatusSet:K,referrerPolicySet:se,badPortsSet:oe}=F(1411);const{getGlobalOrigin:Qe}=F(2071);const{performance:Re}=F(2987);const{isBlobLike:Me,toUSVString:Le,ReadableStreamFrom:We}=F(701);const Ge=F(2613);const{isUint8Array:ze}=F(8253);let $e=[];let Ye;try{Ye=F(6982);const b=["sha256","sha384","sha512"];$e=Ye.getHashes().filter((B=>b.includes(B)))}catch{}function responseURL(b){const B=b.urlList;const F=B.length;return F===0?null:B[F-1].toString()}function responseLocationURL(b,B){if(!K.has(b.status)){return null}let F=b.headersList.get("location");if(F!==null&&isValidHeaderValue(F)){F=new URL(F,responseURL(b))}if(F&&!F.hash){F.hash=B}return F}function requestCurrentURL(b){return b.urlList[b.urlList.length-1]}function requestBadPort(b){const B=requestCurrentURL(b);if(urlIsHttpHttpsScheme(B)&&oe.has(B.port)){return"blocked"}return"allowed"}function isErrorLike(b){return b instanceof Error||(b?.constructor?.name==="Error"||b?.constructor?.name==="DOMException")}function isValidReasonPhrase(b){for(let B=0;B<b.length;++B){const F=b.charCodeAt(B);if(!(F===9||F>=32&&F<=126||F>=128&&F<=255)){return false}}return true}function isTokenCharCode(b){switch(b){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return false;default:return b>=33&&b<=126}}function isValidHTTPToken(b){if(b.length===0){return false}for(let B=0;B<b.length;++B){if(!isTokenCharCode(b.charCodeAt(B))){return false}}return true}function isValidHeaderName(b){return isValidHTTPToken(b)}function isValidHeaderValue(b){if(b.startsWith("\t")||b.startsWith(" ")||b.endsWith("\t")||b.endsWith(" ")){return false}if(b.includes("\0")||b.includes("\r")||b.includes("\n")){return false}return true}function setRequestReferrerPolicyOnRedirect(b,B){const{headersList:F}=B;const K=(F.get("referrer-policy")??"").split(",");let oe="";if(K.length>0){for(let b=K.length;b!==0;b--){const B=K[b-1].trim();if(se.has(B)){oe=B;break}}}if(oe!==""){b.referrerPolicy=oe}}function crossOriginResourcePolicyCheck(){return"allowed"}function corsCheck(){return"success"}function TAOCheck(){return"success"}function appendFetchMetadata(b){let B=null;B=b.mode;b.headersList.set("sec-fetch-mode",B)}function appendRequestOriginHeader(b){let B=b.origin;if(b.responseTainting==="cors"||b.mode==="websocket"){if(B){b.headersList.append("origin",B)}}else if(b.method!=="GET"&&b.method!=="HEAD"){switch(b.referrerPolicy){case"no-referrer":B=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":if(b.origin&&urlHasHttpsScheme(b.origin)&&!urlHasHttpsScheme(requestCurrentURL(b))){B=null}break;case"same-origin":if(!sameOrigin(b,requestCurrentURL(b))){B=null}break;default:}if(B){b.headersList.append("origin",B)}}}function coarsenedSharedCurrentTime(b){return Re.now()}function createOpaqueTimingInfo(b){return{startTime:b.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:b.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function makePolicyContainer(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function clonePolicyContainer(b){return{referrerPolicy:b.referrerPolicy}}function determineRequestsReferrer(b){const B=b.referrerPolicy;Ge(B);let F=null;if(b.referrer==="client"){const b=Qe();if(!b||b.origin==="null"){return"no-referrer"}F=new URL(b)}else if(b.referrer instanceof URL){F=b.referrer}let K=stripURLForReferrer(F);const se=stripURLForReferrer(F,true);if(K.toString().length>4096){K=se}const oe=sameOrigin(b,K);const Re=isURLPotentiallyTrustworthy(K)&&!isURLPotentiallyTrustworthy(b.url);switch(B){case"origin":return se!=null?se:stripURLForReferrer(F,true);case"unsafe-url":return K;case"same-origin":return oe?se:"no-referrer";case"origin-when-cross-origin":return oe?K:se;case"strict-origin-when-cross-origin":{const B=requestCurrentURL(b);if(sameOrigin(K,B)){return K}if(isURLPotentiallyTrustworthy(K)&&!isURLPotentiallyTrustworthy(B)){return"no-referrer"}return se}case"strict-origin":case"no-referrer-when-downgrade":default:return Re?"no-referrer":se}}function stripURLForReferrer(b,B){Ge(b instanceof URL);if(b.protocol==="file:"||b.protocol==="about:"||b.protocol==="blank:"){return"no-referrer"}b.username="";b.password="";b.hash="";if(B){b.pathname="";b.search=""}return b}function isURLPotentiallyTrustworthy(b){if(!(b instanceof URL)){return false}if(b.href==="about:blank"||b.href==="about:srcdoc"){return true}if(b.protocol==="data:")return true;if(b.protocol==="file:")return true;return isOriginPotentiallyTrustworthy(b.origin);function isOriginPotentiallyTrustworthy(b){if(b==null||b==="null")return false;const B=new URL(b);if(B.protocol==="https:"||B.protocol==="wss:"){return true}if(/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(B.hostname)||(B.hostname==="localhost"||B.hostname.includes("localhost."))||B.hostname.endsWith(".localhost")){return true}return false}}function bytesMatch(b,B){if(Ye===undefined){return true}const F=parseMetadata(B);if(F==="no metadata"){return true}if(F.length===0){return true}const K=getStrongestMetadata(F);const se=filterMetadataListByAlgorithm(F,K);for(const B of se){const F=B.algo;const K=B.hash;let se=Ye.createHash(F).update(b).digest("base64");if(se[se.length-1]==="="){if(se[se.length-2]==="="){se=se.slice(0,-2)}else{se=se.slice(0,-1)}}if(compareBase64Mixed(se,K)){return true}}return false}const Ke=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function parseMetadata(b){const B=[];let F=true;for(const K of b.split(" ")){F=false;const b=Ke.exec(K);if(b===null||b.groups===undefined||b.groups.algo===undefined){continue}const se=b.groups.algo.toLowerCase();if($e.includes(se)){B.push(b.groups)}}if(F===true){return"no metadata"}return B}function getStrongestMetadata(b){let B=b[0].algo;if(B[3]==="5"){return B}for(let F=1;F<b.length;++F){const K=b[F];if(K.algo[3]==="5"){B="sha512";break}else if(B[3]==="3"){continue}else if(K.algo[3]==="3"){B="sha384"}}return B}function filterMetadataListByAlgorithm(b,B){if(b.length===1){return b}let F=0;for(let K=0;K<b.length;++K){if(b[K].algo===B){b[F++]=b[K]}}b.length=F;return b}function compareBase64Mixed(b,B){if(b.length!==B.length){return false}for(let F=0;F<b.length;++F){if(b[F]!==B[F]){if(b[F]==="+"&&B[F]==="-"||b[F]==="/"&&B[F]==="_"){continue}return false}}return true}function tryUpgradeRequestToAPotentiallyTrustworthyURL(b){}function sameOrigin(b,B){if(b.origin===B.origin&&b.origin==="null"){return true}if(b.protocol===B.protocol&&b.hostname===B.hostname&&b.port===B.port){return true}return false}function createDeferredPromise(){let b;let B;const F=new Promise(((F,K)=>{b=F;B=K}));return{promise:F,resolve:b,reject:B}}function isAborted(b){return b.controller.state==="aborted"}function isCancelled(b){return b.controller.state==="aborted"||b.controller.state==="terminated"}const Xe={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"};Object.setPrototypeOf(Xe,null);function normalizeMethod(b){return Xe[b.toLowerCase()]??b}function serializeJavascriptValueToJSONString(b){const B=JSON.stringify(b);if(B===undefined){throw new TypeError("Value is not JSON serializable")}Ge(typeof B==="string");return B}const et=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function makeIterator(b,B,F){const K={index:0,kind:F,target:b};const se={next(){if(Object.getPrototypeOf(this)!==se){throw new TypeError(`'next' called on an object that does not implement interface ${B} Iterator.`)}const{index:b,kind:F,target:oe}=K;const Qe=oe();const Re=Qe.length;if(b>=Re){return{value:undefined,done:true}}const Me=Qe[b];K.index=b+1;return iteratorResult(Me,F)},[Symbol.toStringTag]:`${B} Iterator`};Object.setPrototypeOf(se,et);return Object.setPrototypeOf({},se)}function iteratorResult(b,B){let F;switch(B){case"key":{F=b[0];break}case"value":{F=b[1];break}case"key+value":{F=b;break}}return{value:F,done:false}}async function fullyReadBody(b,B,F){const K=B;const se=F;let oe;try{oe=b.stream.getReader()}catch(b){se(b);return}try{const b=await readAllBytes(oe);K(b)}catch(b){se(b)}}let rt=globalThis.ReadableStream;function isReadableStreamLike(b){if(!rt){rt=F(3774).ReadableStream}return b instanceof rt||b[Symbol.toStringTag]==="ReadableStream"&&typeof b.tee==="function"}const it=65535;function isomorphicDecode(b){if(b.length<it){return String.fromCharCode(...b)}return b.reduce(((b,B)=>b+String.fromCharCode(B)),"")}function readableStreamClose(b){try{b.close()}catch(b){if(!b.message.includes("Controller is already closed")){throw b}}}function isomorphicEncode(b){for(let B=0;B<b.length;B++){Ge(b.charCodeAt(B)<=255)}return b}async function readAllBytes(b){const B=[];let F=0;while(true){const{done:K,value:se}=await b.read();if(K){return Buffer.concat(B,F)}if(!ze(se)){throw new TypeError("Received non-Uint8Array chunk")}B.push(se);F+=se.length}}function urlIsLocal(b){Ge("protocol"in b);const B=b.protocol;return B==="about:"||B==="blob:"||B==="data:"}function urlHasHttpsScheme(b){if(typeof b==="string"){return b.startsWith("https:")}return b.protocol==="https:"}function urlIsHttpHttpsScheme(b){Ge("protocol"in b);const B=b.protocol;return B==="http:"||B==="https:"}const ot=Object.hasOwn||((b,B)=>Object.prototype.hasOwnProperty.call(b,B));b.exports={isAborted:isAborted,isCancelled:isCancelled,createDeferredPromise:createDeferredPromise,ReadableStreamFrom:We,toUSVString:Le,tryUpgradeRequestToAPotentiallyTrustworthyURL:tryUpgradeRequestToAPotentiallyTrustworthyURL,coarsenedSharedCurrentTime:coarsenedSharedCurrentTime,determineRequestsReferrer:determineRequestsReferrer,makePolicyContainer:makePolicyContainer,clonePolicyContainer:clonePolicyContainer,appendFetchMetadata:appendFetchMetadata,appendRequestOriginHeader:appendRequestOriginHeader,TAOCheck:TAOCheck,corsCheck:corsCheck,crossOriginResourcePolicyCheck:crossOriginResourcePolicyCheck,createOpaqueTimingInfo:createOpaqueTimingInfo,setRequestReferrerPolicyOnRedirect:setRequestReferrerPolicyOnRedirect,isValidHTTPToken:isValidHTTPToken,requestBadPort:requestBadPort,requestCurrentURL:requestCurrentURL,responseURL:responseURL,responseLocationURL:responseLocationURL,isBlobLike:Me,isURLPotentiallyTrustworthy:isURLPotentiallyTrustworthy,isValidReasonPhrase:isValidReasonPhrase,sameOrigin:sameOrigin,normalizeMethod:normalizeMethod,serializeJavascriptValueToJSONString:serializeJavascriptValueToJSONString,makeIterator:makeIterator,isValidHeaderName:isValidHeaderName,isValidHeaderValue:isValidHeaderValue,hasOwn:ot,isErrorLike:isErrorLike,fullyReadBody:fullyReadBody,bytesMatch:bytesMatch,isReadableStreamLike:isReadableStreamLike,readableStreamClose:readableStreamClose,isomorphicEncode:isomorphicEncode,isomorphicDecode:isomorphicDecode,urlIsLocal:urlIsLocal,urlHasHttpsScheme:urlHasHttpsScheme,urlIsHttpHttpsScheme:urlIsHttpHttpsScheme,readAllBytes:readAllBytes,normalizeMethodRecord:Xe,parseMetadata:parseMetadata}},185:(b,B,F)=>{"use strict";const{types:K}=F(9023);const{hasOwn:se,toUSVString:oe}=F(8524);const Qe={};Qe.converters={};Qe.util={};Qe.errors={};Qe.errors.exception=function(b){return new TypeError(`${b.header}: ${b.message}`)};Qe.errors.conversionFailed=function(b){const B=b.types.length===1?"":" one of";const F=`${b.argument} could not be converted to`+`${B}: ${b.types.join(", ")}.`;return Qe.errors.exception({header:b.prefix,message:F})};Qe.errors.invalidArgument=function(b){return Qe.errors.exception({header:b.prefix,message:`"${b.value}" is an invalid ${b.type}.`})};Qe.brandCheck=function(b,B,F=undefined){if(F?.strict!==false&&!(b instanceof B)){throw new TypeError("Illegal invocation")}else{return b?.[Symbol.toStringTag]===B.prototype[Symbol.toStringTag]}};Qe.argumentLengthCheck=function({length:b},B,F){if(b<B){throw Qe.errors.exception({message:`${B} argument${B!==1?"s":""} required, `+`but${b?" only":""} ${b} found.`,...F})}};Qe.illegalConstructor=function(){throw Qe.errors.exception({header:"TypeError",message:"Illegal constructor"})};Qe.util.Type=function(b){switch(typeof b){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":{if(b===null){return"Null"}return"Object"}}};Qe.util.ConvertToInt=function(b,B,F,K={}){let se;let oe;if(B===64){se=Math.pow(2,53)-1;if(F==="unsigned"){oe=0}else{oe=Math.pow(-2,53)+1}}else if(F==="unsigned"){oe=0;se=Math.pow(2,B)-1}else{oe=Math.pow(-2,B)-1;se=Math.pow(2,B-1)-1}let Re=Number(b);if(Re===0){Re=0}if(K.enforceRange===true){if(Number.isNaN(Re)||Re===Number.POSITIVE_INFINITY||Re===Number.NEGATIVE_INFINITY){throw Qe.errors.exception({header:"Integer conversion",message:`Could not convert ${b} to an integer.`})}Re=Qe.util.IntegerPart(Re);if(Re<oe||Re>se){throw Qe.errors.exception({header:"Integer conversion",message:`Value must be between ${oe}-${se}, got ${Re}.`})}return Re}if(!Number.isNaN(Re)&&K.clamp===true){Re=Math.min(Math.max(Re,oe),se);if(Math.floor(Re)%2===0){Re=Math.floor(Re)}else{Re=Math.ceil(Re)}return Re}if(Number.isNaN(Re)||Re===0&&Object.is(0,Re)||Re===Number.POSITIVE_INFINITY||Re===Number.NEGATIVE_INFINITY){return 0}Re=Qe.util.IntegerPart(Re);Re=Re%Math.pow(2,B);if(F==="signed"&&Re>=Math.pow(2,B)-1){return Re-Math.pow(2,B)}return Re};Qe.util.IntegerPart=function(b){const B=Math.floor(Math.abs(b));if(b<0){return-1*B}return B};Qe.sequenceConverter=function(b){return B=>{if(Qe.util.Type(B)!=="Object"){throw Qe.errors.exception({header:"Sequence",message:`Value of type ${Qe.util.Type(B)} is not an Object.`})}const F=B?.[Symbol.iterator]?.();const K=[];if(F===undefined||typeof F.next!=="function"){throw Qe.errors.exception({header:"Sequence",message:"Object is not an iterator."})}while(true){const{done:B,value:se}=F.next();if(B){break}K.push(b(se))}return K}};Qe.recordConverter=function(b,B){return F=>{if(Qe.util.Type(F)!=="Object"){throw Qe.errors.exception({header:"Record",message:`Value of type ${Qe.util.Type(F)} is not an Object.`})}const se={};if(!K.isProxy(F)){const K=Object.keys(F);for(const oe of K){const K=b(oe);const Qe=B(F[oe]);se[K]=Qe}return se}const oe=Reflect.ownKeys(F);for(const K of oe){const oe=Reflect.getOwnPropertyDescriptor(F,K);if(oe?.enumerable){const oe=b(K);const Qe=B(F[K]);se[oe]=Qe}}return se}};Qe.interfaceConverter=function(b){return(B,F={})=>{if(F.strict!==false&&!(B instanceof b)){throw Qe.errors.exception({header:b.name,message:`Expected ${B} to be an instance of ${b.name}.`})}return B}};Qe.dictionaryConverter=function(b){return B=>{const F=Qe.util.Type(B);const K={};if(F==="Null"||F==="Undefined"){return K}else if(F!=="Object"){throw Qe.errors.exception({header:"Dictionary",message:`Expected ${B} to be one of: Null, Undefined, Object.`})}for(const F of b){const{key:b,defaultValue:oe,required:Re,converter:Me}=F;if(Re===true){if(!se(B,b)){throw Qe.errors.exception({header:"Dictionary",message:`Missing required key "${b}".`})}}let Le=B[b];const We=se(F,"defaultValue");if(We&&Le!==null){Le=Le??oe}if(Re||We||Le!==undefined){Le=Me(Le);if(F.allowedValues&&!F.allowedValues.includes(Le)){throw Qe.errors.exception({header:"Dictionary",message:`${Le} is not an accepted type. Expected one of ${F.allowedValues.join(", ")}.`})}K[b]=Le}}return K}};Qe.nullableConverter=function(b){return B=>{if(B===null){return B}return b(B)}};Qe.converters.DOMString=function(b,B={}){if(b===null&&B.legacyNullToEmptyString){return""}if(typeof b==="symbol"){throw new TypeError("Could not convert argument of type symbol to string.")}return String(b)};Qe.converters.ByteString=function(b){const B=Qe.converters.DOMString(b);for(let b=0;b<B.length;b++){if(B.charCodeAt(b)>255){throw new TypeError("Cannot convert argument to a ByteString because the character at "+`index ${b} has a value of ${B.charCodeAt(b)} which is greater than 255.`)}}return B};Qe.converters.USVString=oe;Qe.converters.boolean=function(b){const B=Boolean(b);return B};Qe.converters.any=function(b){return b};Qe.converters["long long"]=function(b){const B=Qe.util.ConvertToInt(b,64,"signed");return B};Qe.converters["unsigned long long"]=function(b){const B=Qe.util.ConvertToInt(b,64,"unsigned");return B};Qe.converters["unsigned long"]=function(b){const B=Qe.util.ConvertToInt(b,32,"unsigned");return B};Qe.converters["unsigned short"]=function(b,B){const F=Qe.util.ConvertToInt(b,16,"unsigned",B);return F};Qe.converters.ArrayBuffer=function(b,B={}){if(Qe.util.Type(b)!=="Object"||!K.isAnyArrayBuffer(b)){throw Qe.errors.conversionFailed({prefix:`${b}`,argument:`${b}`,types:["ArrayBuffer"]})}if(B.allowShared===false&&K.isSharedArrayBuffer(b)){throw Qe.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."})}return b};Qe.converters.TypedArray=function(b,B,F={}){if(Qe.util.Type(b)!=="Object"||!K.isTypedArray(b)||b.constructor.name!==B.name){throw Qe.errors.conversionFailed({prefix:`${B.name}`,argument:`${b}`,types:[B.name]})}if(F.allowShared===false&&K.isSharedArrayBuffer(b.buffer)){throw Qe.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."})}return b};Qe.converters.DataView=function(b,B={}){if(Qe.util.Type(b)!=="Object"||!K.isDataView(b)){throw Qe.errors.exception({header:"DataView",message:"Object is not a DataView."})}if(B.allowShared===false&&K.isSharedArrayBuffer(b.buffer)){throw Qe.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."})}return b};Qe.converters.BufferSource=function(b,B={}){if(K.isAnyArrayBuffer(b)){return Qe.converters.ArrayBuffer(b,B)}if(K.isTypedArray(b)){return Qe.converters.TypedArray(b,b.constructor)}if(K.isDataView(b)){return Qe.converters.DataView(b,B)}throw new TypeError(`Could not convert ${b} to a BufferSource.`)};Qe.converters["sequence<ByteString>"]=Qe.sequenceConverter(Qe.converters.ByteString);Qe.converters["sequence<sequence<ByteString>>"]=Qe.sequenceConverter(Qe.converters["sequence<ByteString>"]);Qe.converters["record<ByteString, ByteString>"]=Qe.recordConverter(Qe.converters.ByteString,Qe.converters.ByteString);b.exports={webidl:Qe}},9187:b=>{"use strict";function getEncoding(b){if(!b){return"failure"}switch(b.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}b.exports={getEncoding:getEncoding}},2151:(b,B,F)=>{"use strict";const{staticPropertyDescriptors:K,readOperation:se,fireAProgressEvent:oe}=F(3350);const{kState:Qe,kError:Re,kResult:Me,kEvents:Le,kAborted:We}=F(821);const{webidl:Ge}=F(185);const{kEnumerableProperty:ze}=F(701);class FileReader extends EventTarget{constructor(){super();this[Qe]="empty";this[Me]=null;this[Re]=null;this[Le]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(b){Ge.brandCheck(this,FileReader);Ge.argumentLengthCheck(arguments,1,{header:"FileReader.readAsArrayBuffer"});b=Ge.converters.Blob(b,{strict:false});se(this,b,"ArrayBuffer")}readAsBinaryString(b){Ge.brandCheck(this,FileReader);Ge.argumentLengthCheck(arguments,1,{header:"FileReader.readAsBinaryString"});b=Ge.converters.Blob(b,{strict:false});se(this,b,"BinaryString")}readAsText(b,B=undefined){Ge.brandCheck(this,FileReader);Ge.argumentLengthCheck(arguments,1,{header:"FileReader.readAsText"});b=Ge.converters.Blob(b,{strict:false});if(B!==undefined){B=Ge.converters.DOMString(B)}se(this,b,"Text",B)}readAsDataURL(b){Ge.brandCheck(this,FileReader);Ge.argumentLengthCheck(arguments,1,{header:"FileReader.readAsDataURL"});b=Ge.converters.Blob(b,{strict:false});se(this,b,"DataURL")}abort(){if(this[Qe]==="empty"||this[Qe]==="done"){this[Me]=null;return}if(this[Qe]==="loading"){this[Qe]="done";this[Me]=null}this[We]=true;oe("abort",this);if(this[Qe]!=="loading"){oe("loadend",this)}}get readyState(){Ge.brandCheck(this,FileReader);switch(this[Qe]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){Ge.brandCheck(this,FileReader);return this[Me]}get error(){Ge.brandCheck(this,FileReader);return this[Re]}get onloadend(){Ge.brandCheck(this,FileReader);return this[Le].loadend}set onloadend(b){Ge.brandCheck(this,FileReader);if(this[Le].loadend){this.removeEventListener("loadend",this[Le].loadend)}if(typeof b==="function"){this[Le].loadend=b;this.addEventListener("loadend",b)}else{this[Le].loadend=null}}get onerror(){Ge.brandCheck(this,FileReader);return this[Le].error}set onerror(b){Ge.brandCheck(this,FileReader);if(this[Le].error){this.removeEventListener("error",this[Le].error)}if(typeof b==="function"){this[Le].error=b;this.addEventListener("error",b)}else{this[Le].error=null}}get onloadstart(){Ge.brandCheck(this,FileReader);return this[Le].loadstart}set onloadstart(b){Ge.brandCheck(this,FileReader);if(this[Le].loadstart){this.removeEventListener("loadstart",this[Le].loadstart)}if(typeof b==="function"){this[Le].loadstart=b;this.addEventListener("loadstart",b)}else{this[Le].loadstart=null}}get onprogress(){Ge.brandCheck(this,FileReader);return this[Le].progress}set onprogress(b){Ge.brandCheck(this,FileReader);if(this[Le].progress){this.removeEventListener("progress",this[Le].progress)}if(typeof b==="function"){this[Le].progress=b;this.addEventListener("progress",b)}else{this[Le].progress=null}}get onload(){Ge.brandCheck(this,FileReader);return this[Le].load}set onload(b){Ge.brandCheck(this,FileReader);if(this[Le].load){this.removeEventListener("load",this[Le].load)}if(typeof b==="function"){this[Le].load=b;this.addEventListener("load",b)}else{this[Le].load=null}}get onabort(){Ge.brandCheck(this,FileReader);return this[Le].abort}set onabort(b){Ge.brandCheck(this,FileReader);if(this[Le].abort){this.removeEventListener("abort",this[Le].abort)}if(typeof b==="function"){this[Le].abort=b;this.addEventListener("abort",b)}else{this[Le].abort=null}}}FileReader.EMPTY=FileReader.prototype.EMPTY=0;FileReader.LOADING=FileReader.prototype.LOADING=1;FileReader.DONE=FileReader.prototype.DONE=2;Object.defineProperties(FileReader.prototype,{EMPTY:K,LOADING:K,DONE:K,readAsArrayBuffer:ze,readAsBinaryString:ze,readAsText:ze,readAsDataURL:ze,abort:ze,readyState:ze,result:ze,error:ze,onloadstart:ze,onprogress:ze,onload:ze,onabort:ze,onerror:ze,onloadend:ze,[Symbol.toStringTag]:{value:"FileReader",writable:false,enumerable:false,configurable:true}});Object.defineProperties(FileReader,{EMPTY:K,LOADING:K,DONE:K});b.exports={FileReader:FileReader}},2889:(b,B,F)=>{"use strict";const{webidl:K}=F(185);const se=Symbol("ProgressEvent state");class ProgressEvent extends Event{constructor(b,B={}){b=K.converters.DOMString(b);B=K.converters.ProgressEventInit(B??{});super(b,B);this[se]={lengthComputable:B.lengthComputable,loaded:B.loaded,total:B.total}}get lengthComputable(){K.brandCheck(this,ProgressEvent);return this[se].lengthComputable}get loaded(){K.brandCheck(this,ProgressEvent);return this[se].loaded}get total(){K.brandCheck(this,ProgressEvent);return this[se].total}}K.converters.ProgressEventInit=K.dictionaryConverter([{key:"lengthComputable",converter:K.converters.boolean,defaultValue:false},{key:"loaded",converter:K.converters["unsigned long long"],defaultValue:0},{key:"total",converter:K.converters["unsigned long long"],defaultValue:0},{key:"bubbles",converter:K.converters.boolean,defaultValue:false},{key:"cancelable",converter:K.converters.boolean,defaultValue:false},{key:"composed",converter:K.converters.boolean,defaultValue:false}]);b.exports={ProgressEvent:ProgressEvent}},821:b=>{"use strict";b.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}},3350:(b,B,F)=>{"use strict";const{kState:K,kError:se,kResult:oe,kAborted:Qe,kLastProgressEventFired:Re}=F(821);const{ProgressEvent:Me}=F(2889);const{getEncoding:Le}=F(9187);const{DOMException:We}=F(1411);const{serializeAMimeType:Ge,parseMIMEType:ze}=F(2059);const{types:$e}=F(9023);const{StringDecoder:Ye}=F(3193);const{btoa:Ke}=F(181);const Xe={enumerable:true,writable:false,configurable:false};function readOperation(b,B,F,Me){if(b[K]==="loading"){throw new We("Invalid state","InvalidStateError")}b[K]="loading";b[oe]=null;b[se]=null;const Le=B.stream();const Ge=Le.getReader();const ze=[];let Ye=Ge.read();let Ke=true;(async()=>{while(!b[Qe]){try{const{done:Le,value:We}=await Ye;if(Ke&&!b[Qe]){queueMicrotask((()=>{fireAProgressEvent("loadstart",b)}))}Ke=false;if(!Le&&$e.isUint8Array(We)){ze.push(We);if((b[Re]===undefined||Date.now()-b[Re]>=50)&&!b[Qe]){b[Re]=Date.now();queueMicrotask((()=>{fireAProgressEvent("progress",b)}))}Ye=Ge.read()}else if(Le){queueMicrotask((()=>{b[K]="done";try{const K=packageData(ze,F,B.type,Me);if(b[Qe]){return}b[oe]=K;fireAProgressEvent("load",b)}catch(B){b[se]=B;fireAProgressEvent("error",b)}if(b[K]!=="loading"){fireAProgressEvent("loadend",b)}}));break}}catch(B){if(b[Qe]){return}queueMicrotask((()=>{b[K]="done";b[se]=B;fireAProgressEvent("error",b);if(b[K]!=="loading"){fireAProgressEvent("loadend",b)}}));break}}})()}function fireAProgressEvent(b,B){const F=new Me(b,{bubbles:false,cancelable:false});B.dispatchEvent(F)}function packageData(b,B,F,K){switch(B){case"DataURL":{let B="data:";const K=ze(F||"application/octet-stream");if(K!=="failure"){B+=Ge(K)}B+=";base64,";const se=new Ye("latin1");for(const F of b){B+=Ke(se.write(F))}B+=Ke(se.end());return B}case"Text":{let B="failure";if(K){B=Le(K)}if(B==="failure"&&F){const b=ze(F);if(b!=="failure"){B=Le(b.parameters.get("charset"))}}if(B==="failure"){B="UTF-8"}return decode(b,B)}case"ArrayBuffer":{const B=combineByteSequences(b);return B.buffer}case"BinaryString":{let B="";const F=new Ye("latin1");for(const K of b){B+=F.write(K)}B+=F.end();return B}}}function decode(b,B){const F=combineByteSequences(b);const K=BOMSniffing(F);let se=0;if(K!==null){B=K;se=K==="UTF-8"?3:2}const oe=F.slice(se);return new TextDecoder(B).decode(oe)}function BOMSniffing(b){const[B,F,K]=b;if(B===239&&F===187&&K===191){return"UTF-8"}else if(B===254&&F===255){return"UTF-16BE"}else if(B===255&&F===254){return"UTF-16LE"}return null}function combineByteSequences(b){const B=b.reduce(((b,B)=>b+B.byteLength),0);let F=0;return b.reduce(((b,B)=>{b.set(B,F);F+=B.byteLength;return b}),new Uint8Array(B))}b.exports={staticPropertyDescriptors:Xe,readOperation:readOperation,fireAProgressEvent:fireAProgressEvent}},4662:(b,B,F)=>{"use strict";const K=Symbol.for("undici.globalDispatcher.1");const{InvalidArgumentError:se}=F(1970);const oe=F(4724);if(getGlobalDispatcher()===undefined){setGlobalDispatcher(new oe)}function setGlobalDispatcher(b){if(!b||typeof b.dispatch!=="function"){throw new se("Argument agent must implement Agent")}Object.defineProperty(globalThis,K,{value:b,writable:true,enumerable:false,configurable:false})}function getGlobalDispatcher(){return globalThis[K]}b.exports={setGlobalDispatcher:setGlobalDispatcher,getGlobalDispatcher:getGlobalDispatcher}},6459:b=>{"use strict";b.exports=class DecoratorHandler{constructor(b){this.handler=b}onConnect(...b){return this.handler.onConnect(...b)}onError(...b){return this.handler.onError(...b)}onUpgrade(...b){return this.handler.onUpgrade(...b)}onHeaders(...b){return this.handler.onHeaders(...b)}onData(...b){return this.handler.onData(...b)}onComplete(...b){return this.handler.onComplete(...b)}onBodySent(...b){return this.handler.onBodySent(...b)}}},762:(b,B,F)=>{"use strict";const K=F(701);const{kBodyUsed:se}=F(4980);const oe=F(2613);const{InvalidArgumentError:Qe}=F(1970);const Re=F(4434);const Me=[300,301,302,303,307,308];const Le=Symbol("body");class BodyAsyncIterable{constructor(b){this[Le]=b;this[se]=false}async*[Symbol.asyncIterator](){oe(!this[se],"disturbed");this[se]=true;yield*this[Le]}}class RedirectHandler{constructor(b,B,F,Me){if(B!=null&&(!Number.isInteger(B)||B<0)){throw new Qe("maxRedirections must be a positive number")}K.validateHandler(Me,F.method,F.upgrade);this.dispatch=b;this.location=null;this.abort=null;this.opts={...F,maxRedirections:0};this.maxRedirections=B;this.handler=Me;this.history=[];if(K.isStream(this.opts.body)){if(K.bodyLength(this.opts.body)===0){this.opts.body.on("data",(function(){oe(false)}))}if(typeof this.opts.body.readableDidRead!=="boolean"){this.opts.body[se]=false;Re.prototype.on.call(this.opts.body,"data",(function(){this[se]=true}))}}else if(this.opts.body&&typeof this.opts.body.pipeTo==="function"){this.opts.body=new BodyAsyncIterable(this.opts.body)}else if(this.opts.body&&typeof this.opts.body!=="string"&&!ArrayBuffer.isView(this.opts.body)&&K.isIterable(this.opts.body)){this.opts.body=new BodyAsyncIterable(this.opts.body)}}onConnect(b){this.abort=b;this.handler.onConnect(b,{history:this.history})}onUpgrade(b,B,F){this.handler.onUpgrade(b,B,F)}onError(b){this.handler.onError(b)}onHeaders(b,B,F,se){this.location=this.history.length>=this.maxRedirections||K.isDisturbed(this.opts.body)?null:parseLocation(b,B);if(this.opts.origin){this.history.push(new URL(this.opts.path,this.opts.origin))}if(!this.location){return this.handler.onHeaders(b,B,F,se)}const{origin:oe,pathname:Qe,search:Re}=K.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin)));const Me=Re?`${Qe}${Re}`:Qe;this.opts.headers=cleanRequestHeaders(this.opts.headers,b===303,this.opts.origin!==oe);this.opts.path=Me;this.opts.origin=oe;this.opts.maxRedirections=0;this.opts.query=null;if(b===303&&this.opts.method!=="HEAD"){this.opts.method="GET";this.opts.body=null}}onData(b){if(this.location){}else{return this.handler.onData(b)}}onComplete(b){if(this.location){this.location=null;this.abort=null;this.dispatch(this.opts,this)}else{this.handler.onComplete(b)}}onBodySent(b){if(this.handler.onBodySent){this.handler.onBodySent(b)}}}function parseLocation(b,B){if(Me.indexOf(b)===-1){return null}for(let b=0;b<B.length;b+=2){if(B[b].toString().toLowerCase()==="location"){return B[b+1]}}}function shouldRemoveHeader(b,B,F){if(b.length===4){return K.headerNameToString(b)==="host"}if(B&&K.headerNameToString(b).startsWith("content-")){return true}if(F&&(b.length===13||b.length===6||b.length===19)){const B=K.headerNameToString(b);return B==="authorization"||B==="cookie"||B==="proxy-authorization"}return false}function cleanRequestHeaders(b,B,F){const K=[];if(Array.isArray(b)){for(let se=0;se<b.length;se+=2){if(!shouldRemoveHeader(b[se],B,F)){K.push(b[se],b[se+1])}}}else if(b&&typeof b==="object"){for(const se of Object.keys(b)){if(!shouldRemoveHeader(se,B,F)){K.push(se,b[se])}}}else{oe(b==null,"headers must be an object or an array")}return K}b.exports=RedirectHandler},5970:(b,B,F)=>{const K=F(2613);const{kRetryHandlerDefaultRetry:se}=F(4980);const{RequestRetryError:oe}=F(1970);const{isDisturbed:Qe,parseHeaders:Re,parseRangeHeader:Me}=F(701);function calculateRetryAfterHeader(b){const B=Date.now();const F=new Date(b).getTime()-B;return F}class RetryHandler{constructor(b,B){const{retryOptions:F,...K}=b;const{retry:oe,maxRetries:Qe,maxTimeout:Re,minTimeout:Me,timeoutFactor:Le,methods:We,errorCodes:Ge,retryAfter:ze,statusCodes:$e}=F??{};this.dispatch=B.dispatch;this.handler=B.handler;this.opts=K;this.abort=null;this.aborted=false;this.retryOpts={retry:oe??RetryHandler[se],retryAfter:ze??true,maxTimeout:Re??30*1e3,timeout:Me??500,timeoutFactor:Le??2,maxRetries:Qe??5,methods:We??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:$e??[500,502,503,504,429],errorCodes:Ge??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE"]};this.retryCount=0;this.start=0;this.end=null;this.etag=null;this.resume=null;this.handler.onConnect((b=>{this.aborted=true;if(this.abort){this.abort(b)}else{this.reason=b}}))}onRequestSent(){if(this.handler.onRequestSent){this.handler.onRequestSent()}}onUpgrade(b,B,F){if(this.handler.onUpgrade){this.handler.onUpgrade(b,B,F)}}onConnect(b){if(this.aborted){b(this.reason)}else{this.abort=b}}onBodySent(b){if(this.handler.onBodySent)return this.handler.onBodySent(b)}static[se](b,{state:B,opts:F},K){const{statusCode:se,code:oe,headers:Qe}=b;const{method:Re,retryOptions:Me}=F;const{maxRetries:Le,timeout:We,maxTimeout:Ge,timeoutFactor:ze,statusCodes:$e,errorCodes:Ye,methods:Ke}=Me;let{counter:Xe,currentTimeout:et}=B;et=et!=null&&et>0?et:We;if(oe&&oe!=="UND_ERR_REQ_RETRY"&&oe!=="UND_ERR_SOCKET"&&!Ye.includes(oe)){K(b);return}if(Array.isArray(Ke)&&!Ke.includes(Re)){K(b);return}if(se!=null&&Array.isArray($e)&&!$e.includes(se)){K(b);return}if(Xe>Le){K(b);return}let rt=Qe!=null&&Qe["retry-after"];if(rt){rt=Number(rt);rt=isNaN(rt)?calculateRetryAfterHeader(rt):rt*1e3}const it=rt>0?Math.min(rt,Ge):Math.min(et*ze**Xe,Ge);B.currentTimeout=it;setTimeout((()=>K(null)),it)}onHeaders(b,B,F,se){const Qe=Re(B);this.retryCount+=1;if(b>=300){this.abort(new oe("Request failed",b,{headers:Qe,count:this.retryCount}));return false}if(this.resume!=null){this.resume=null;if(b!==206){return true}const B=Me(Qe["content-range"]);if(!B){this.abort(new oe("Content-Range mismatch",b,{headers:Qe,count:this.retryCount}));return false}if(this.etag!=null&&this.etag!==Qe.etag){this.abort(new oe("ETag mismatch",b,{headers:Qe,count:this.retryCount}));return false}const{start:se,size:Re,end:Le=Re}=B;K(this.start===se,"content-range mismatch");K(this.end==null||this.end===Le,"content-range mismatch");this.resume=F;return true}if(this.end==null){if(b===206){const oe=Me(Qe["content-range"]);if(oe==null){return this.handler.onHeaders(b,B,F,se)}const{start:Re,size:Le,end:We=Le}=oe;K(Re!=null&&Number.isFinite(Re)&&this.start!==Re,"content-range mismatch");K(Number.isFinite(Re));K(We!=null&&Number.isFinite(We)&&this.end!==We,"invalid content-length");this.start=Re;this.end=We}if(this.end==null){const b=Qe["content-length"];this.end=b!=null?Number(b):null}K(Number.isFinite(this.start));K(this.end==null||Number.isFinite(this.end),"invalid content-length");this.resume=F;this.etag=Qe.etag!=null?Qe.etag:null;return this.handler.onHeaders(b,B,F,se)}const Le=new oe("Request failed",b,{headers:Qe,count:this.retryCount});this.abort(Le);return false}onData(b){this.start+=b.length;return this.handler.onData(b)}onComplete(b){this.retryCount=0;return this.handler.onComplete(b)}onError(b){if(this.aborted||Qe(this.opts.body)){return this.handler.onError(b)}this.retryOpts.retry(b,{state:{counter:this.retryCount++,currentTimeout:this.retryAfter},opts:{retryOptions:this.retryOpts,...this.opts}},onRetry.bind(this));function onRetry(b){if(b!=null||this.aborted||Qe(this.opts.body)){return this.handler.onError(b)}if(this.start!==0){this.opts={...this.opts,headers:{...this.opts.headers,range:`bytes=${this.start}-${this.end??""}`}}}try{this.dispatch(this.opts,this)}catch(b){this.handler.onError(b)}}}}b.exports=RetryHandler},2750:(b,B,F)=>{"use strict";const K=F(762);function createRedirectInterceptor({maxRedirections:b}){return B=>function Intercept(F,se){const{maxRedirections:oe=b}=F;if(!oe){return B(F,se)}const Qe=new K(B,oe,F,se);F={...F,maxRedirections:0};return B(F,Qe)}}b.exports=createRedirectInterceptor},9791:(b,B,F)=>{"use strict";Object.defineProperty(B,"__esModule",{value:true});B.SPECIAL_HEADERS=B.HEADER_STATE=B.MINOR=B.MAJOR=B.CONNECTION_TOKEN_CHARS=B.HEADER_CHARS=B.TOKEN=B.STRICT_TOKEN=B.HEX=B.URL_CHAR=B.STRICT_URL_CHAR=B.USERINFO_CHARS=B.MARK=B.ALPHANUM=B.NUM=B.HEX_MAP=B.NUM_MAP=B.ALPHA=B.FINISH=B.H_METHOD_MAP=B.METHOD_MAP=B.METHODS_RTSP=B.METHODS_ICE=B.METHODS_HTTP=B.METHODS=B.LENIENT_FLAGS=B.FLAGS=B.TYPE=B.ERROR=void 0;const K=F(7999);var se;(function(b){b[b["OK"]=0]="OK";b[b["INTERNAL"]=1]="INTERNAL";b[b["STRICT"]=2]="STRICT";b[b["LF_EXPECTED"]=3]="LF_EXPECTED";b[b["UNEXPECTED_CONTENT_LENGTH"]=4]="UNEXPECTED_CONTENT_LENGTH";b[b["CLOSED_CONNECTION"]=5]="CLOSED_CONNECTION";b[b["INVALID_METHOD"]=6]="INVALID_METHOD";b[b["INVALID_URL"]=7]="INVALID_URL";b[b["INVALID_CONSTANT"]=8]="INVALID_CONSTANT";b[b["INVALID_VERSION"]=9]="INVALID_VERSION";b[b["INVALID_HEADER_TOKEN"]=10]="INVALID_HEADER_TOKEN";b[b["INVALID_CONTENT_LENGTH"]=11]="INVALID_CONTENT_LENGTH";b[b["INVALID_CHUNK_SIZE"]=12]="INVALID_CHUNK_SIZE";b[b["INVALID_STATUS"]=13]="INVALID_STATUS";b[b["INVALID_EOF_STATE"]=14]="INVALID_EOF_STATE";b[b["INVALID_TRANSFER_ENCODING"]=15]="INVALID_TRANSFER_ENCODING";b[b["CB_MESSAGE_BEGIN"]=16]="CB_MESSAGE_BEGIN";b[b["CB_HEADERS_COMPLETE"]=17]="CB_HEADERS_COMPLETE";b[b["CB_MESSAGE_COMPLETE"]=18]="CB_MESSAGE_COMPLETE";b[b["CB_CHUNK_HEADER"]=19]="CB_CHUNK_HEADER";b[b["CB_CHUNK_COMPLETE"]=20]="CB_CHUNK_COMPLETE";b[b["PAUSED"]=21]="PAUSED";b[b["PAUSED_UPGRADE"]=22]="PAUSED_UPGRADE";b[b["PAUSED_H2_UPGRADE"]=23]="PAUSED_H2_UPGRADE";b[b["USER"]=24]="USER"})(se=B.ERROR||(B.ERROR={}));var oe;(function(b){b[b["BOTH"]=0]="BOTH";b[b["REQUEST"]=1]="REQUEST";b[b["RESPONSE"]=2]="RESPONSE"})(oe=B.TYPE||(B.TYPE={}));var Qe;(function(b){b[b["CONNECTION_KEEP_ALIVE"]=1]="CONNECTION_KEEP_ALIVE";b[b["CONNECTION_CLOSE"]=2]="CONNECTION_CLOSE";b[b["CONNECTION_UPGRADE"]=4]="CONNECTION_UPGRADE";b[b["CHUNKED"]=8]="CHUNKED";b[b["UPGRADE"]=16]="UPGRADE";b[b["CONTENT_LENGTH"]=32]="CONTENT_LENGTH";b[b["SKIPBODY"]=64]="SKIPBODY";b[b["TRAILING"]=128]="TRAILING";b[b["TRANSFER_ENCODING"]=512]="TRANSFER_ENCODING"})(Qe=B.FLAGS||(B.FLAGS={}));var Re;(function(b){b[b["HEADERS"]=1]="HEADERS";b[b["CHUNKED_LENGTH"]=2]="CHUNKED_LENGTH";b[b["KEEP_ALIVE"]=4]="KEEP_ALIVE"})(Re=B.LENIENT_FLAGS||(B.LENIENT_FLAGS={}));var Me;(function(b){b[b["DELETE"]=0]="DELETE";b[b["GET"]=1]="GET";b[b["HEAD"]=2]="HEAD";b[b["POST"]=3]="POST";b[b["PUT"]=4]="PUT";b[b["CONNECT"]=5]="CONNECT";b[b["OPTIONS"]=6]="OPTIONS";b[b["TRACE"]=7]="TRACE";b[b["COPY"]=8]="COPY";b[b["LOCK"]=9]="LOCK";b[b["MKCOL"]=10]="MKCOL";b[b["MOVE"]=11]="MOVE";b[b["PROPFIND"]=12]="PROPFIND";b[b["PROPPATCH"]=13]="PROPPATCH";b[b["SEARCH"]=14]="SEARCH";b[b["UNLOCK"]=15]="UNLOCK";b[b["BIND"]=16]="BIND";b[b["REBIND"]=17]="REBIND";b[b["UNBIND"]=18]="UNBIND";b[b["ACL"]=19]="ACL";b[b["REPORT"]=20]="REPORT";b[b["MKACTIVITY"]=21]="MKACTIVITY";b[b["CHECKOUT"]=22]="CHECKOUT";b[b["MERGE"]=23]="MERGE";b[b["M-SEARCH"]=24]="M-SEARCH";b[b["NOTIFY"]=25]="NOTIFY";b[b["SUBSCRIBE"]=26]="SUBSCRIBE";b[b["UNSUBSCRIBE"]=27]="UNSUBSCRIBE";b[b["PATCH"]=28]="PATCH";b[b["PURGE"]=29]="PURGE";b[b["MKCALENDAR"]=30]="MKCALENDAR";b[b["LINK"]=31]="LINK";b[b["UNLINK"]=32]="UNLINK";b[b["SOURCE"]=33]="SOURCE";b[b["PRI"]=34]="PRI";b[b["DESCRIBE"]=35]="DESCRIBE";b[b["ANNOUNCE"]=36]="ANNOUNCE";b[b["SETUP"]=37]="SETUP";b[b["PLAY"]=38]="PLAY";b[b["PAUSE"]=39]="PAUSE";b[b["TEARDOWN"]=40]="TEARDOWN";b[b["GET_PARAMETER"]=41]="GET_PARAMETER";b[b["SET_PARAMETER"]=42]="SET_PARAMETER";b[b["REDIRECT"]=43]="REDIRECT";b[b["RECORD"]=44]="RECORD";b[b["FLUSH"]=45]="FLUSH"})(Me=B.METHODS||(B.METHODS={}));B.METHODS_HTTP=[Me.DELETE,Me.GET,Me.HEAD,Me.POST,Me.PUT,Me.CONNECT,Me.OPTIONS,Me.TRACE,Me.COPY,Me.LOCK,Me.MKCOL,Me.MOVE,Me.PROPFIND,Me.PROPPATCH,Me.SEARCH,Me.UNLOCK,Me.BIND,Me.REBIND,Me.UNBIND,Me.ACL,Me.REPORT,Me.MKACTIVITY,Me.CHECKOUT,Me.MERGE,Me["M-SEARCH"],Me.NOTIFY,Me.SUBSCRIBE,Me.UNSUBSCRIBE,Me.PATCH,Me.PURGE,Me.MKCALENDAR,Me.LINK,Me.UNLINK,Me.PRI,Me.SOURCE];B.METHODS_ICE=[Me.SOURCE];B.METHODS_RTSP=[Me.OPTIONS,Me.DESCRIBE,Me.ANNOUNCE,Me.SETUP,Me.PLAY,Me.PAUSE,Me.TEARDOWN,Me.GET_PARAMETER,Me.SET_PARAMETER,Me.REDIRECT,Me.RECORD,Me.FLUSH,Me.GET,Me.POST];B.METHOD_MAP=K.enumToMap(Me);B.H_METHOD_MAP={};Object.keys(B.METHOD_MAP).forEach((b=>{if(/^H/.test(b)){B.H_METHOD_MAP[b]=B.METHOD_MAP[b]}}));var Le;(function(b){b[b["SAFE"]=0]="SAFE";b[b["SAFE_WITH_CB"]=1]="SAFE_WITH_CB";b[b["UNSAFE"]=2]="UNSAFE"})(Le=B.FINISH||(B.FINISH={}));B.ALPHA=[];for(let b="A".charCodeAt(0);b<="Z".charCodeAt(0);b++){B.ALPHA.push(String.fromCharCode(b));B.ALPHA.push(String.fromCharCode(b+32))}B.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};B.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};B.NUM=["0","1","2","3","4","5","6","7","8","9"];B.ALPHANUM=B.ALPHA.concat(B.NUM);B.MARK=["-","_",".","!","~","*","'","(",")"];B.USERINFO_CHARS=B.ALPHANUM.concat(B.MARK).concat(["%",";",":","&","=","+","$",","]);B.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(B.ALPHANUM);B.URL_CHAR=B.STRICT_URL_CHAR.concat(["\t","\f"]);for(let b=128;b<=255;b++){B.URL_CHAR.push(b)}B.HEX=B.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);B.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(B.ALPHANUM);B.TOKEN=B.STRICT_TOKEN.concat([" "]);B.HEADER_CHARS=["\t"];for(let b=32;b<=255;b++){if(b!==127){B.HEADER_CHARS.push(b)}}B.CONNECTION_TOKEN_CHARS=B.HEADER_CHARS.filter((b=>b!==44));B.MAJOR=B.NUM_MAP;B.MINOR=B.MAJOR;var We;(function(b){b[b["GENERAL"]=0]="GENERAL";b[b["CONNECTION"]=1]="CONNECTION";b[b["CONTENT_LENGTH"]=2]="CONTENT_LENGTH";b[b["TRANSFER_ENCODING"]=3]="TRANSFER_ENCODING";b[b["UPGRADE"]=4]="UPGRADE";b[b["CONNECTION_KEEP_ALIVE"]=5]="CONNECTION_KEEP_ALIVE";b[b["CONNECTION_CLOSE"]=6]="CONNECTION_CLOSE";b[b["CONNECTION_UPGRADE"]=7]="CONNECTION_UPGRADE";b[b["TRANSFER_ENCODING_CHUNKED"]=8]="TRANSFER_ENCODING_CHUNKED"})(We=B.HEADER_STATE||(B.HEADER_STATE={}));B.SPECIAL_HEADERS={connection:We.CONNECTION,"content-length":We.CONTENT_LENGTH,"proxy-connection":We.CONNECTION,"transfer-encoding":We.TRANSFER_ENCODING,upgrade:We.UPGRADE}},4729:b=>{b.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJsbGh0dHBfc3RhdHVzX25hbWUAIRpsbGh0dHBfc2V0X2xlbmllbnRfaGVhZGVycwAiIWxsaHR0cF9zZXRfbGVuaWVudF9jaHVua2VkX2xlbmd0aAAjHWxsaHR0cF9zZXRfbGVuaWVudF9rZWVwX2FsaXZlACQkbGxodHRwX3NldF9sZW5pZW50X3RyYW5zZmVyX2VuY29kaW5nACUYbGxodHRwX21lc3NhZ2VfbmVlZHNfZW9mAD8JFwEAQQELEQECAwQFCwYHNTk3MS8tJyspCsLgAkUCAAsIABCIgICAAAsZACAAEMKAgIAAGiAAIAI2AjggACABOgAoCxwAIAAgAC8BMiAALQAuIAAQwYCAgAAQgICAgAALKgEBf0HAABDGgICAACIBEMKAgIAAGiABQYCIgIAANgI4IAEgADoAKCABCwoAIAAQyICAgAALBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LRQEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABDCgICAABogACAENgI4IAAgAzoAKCAAIAI6AC0gACABNgIYCxEAIAAgASABIAJqEMOAgIAACxAAIABBAEHcABDMgICAABoLZwEBf0EAIQECQCAAKAIMDQACQAJAAkACQCAALQAvDgMBAAMCCyAAKAI4IgFFDQAgASgCLCIBRQ0AIAAgARGAgICAAAAiAQ0DC0EADwsQyoCAgAAACyAAQcOWgIAANgIQQQ4hAQsgAQseAAJAIAAoAgwNACAAQdGbgIAANgIQIABBFTYCDAsLFgACQCAAKAIMQRVHDQAgAEEANgIMCwsWAAJAIAAoAgxBFkcNACAAQQA2AgwLCwcAIAAoAgwLBwAgACgCEAsJACAAIAE2AhALBwAgACgCFAsiAAJAIABBJEkNABDKgICAAAALIABBAnRBoLOAgABqKAIACyIAAkAgAEEuSQ0AEMqAgIAAAAsgAEECdEGwtICAAGooAgAL7gsBAX9B66iAgAAhAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABBnH9qDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0Hhp4CAAA8LQaShgIAADwtBy6yAgAAPC0H+sYCAAA8LQcCkgIAADwtBq6SAgAAPC0GNqICAAA8LQeKmgIAADwtBgLCAgAAPC0G5r4CAAA8LQdekgIAADwtB75+AgAAPC0Hhn4CAAA8LQfqfgIAADwtB8qCAgAAPC0Gor4CAAA8LQa6ygIAADwtBiLCAgAAPC0Hsp4CAAA8LQYKigIAADwtBjp2AgAAPC0HQroCAAA8LQcqjgIAADwtBxbKAgAAPC0HfnICAAA8LQdKcgIAADwtBxKCAgAAPC0HXoICAAA8LQaKfgIAADwtB7a6AgAAPC0GrsICAAA8LQdSlgIAADwtBzK6AgAAPC0H6roCAAA8LQfyrgIAADwtB0rCAgAAPC0HxnYCAAA8LQbuggIAADwtB96uAgAAPC0GQsYCAAA8LQdexgIAADwtBoq2AgAAPC0HUp4CAAA8LQeCrgIAADwtBn6yAgAAPC0HrsYCAAA8LQdWfgIAADwtByrGAgAAPC0HepYCAAA8LQdSegIAADwtB9JyAgAAPC0GnsoCAAA8LQbGdgIAADwtBoJ2AgAAPC0G5sYCAAA8LQbywgIAADwtBkqGAgAAPC0GzpoCAAA8LQemsgIAADwtBrJ6AgAAPC0HUq4CAAA8LQfemgIAADwtBgKaAgAAPC0GwoYCAAA8LQf6egIAADwtBjaOAgAAPC0GJrYCAAA8LQfeigIAADwtBoLGAgAAPC0Gun4CAAA8LQcalgIAADwtB6J6AgAAPC0GTooCAAA8LQcKvgIAADwtBw52AgAAPC0GLrICAAA8LQeGdgIAADwtBja+AgAAPC0HqoYCAAA8LQbStgIAADwtB0q+AgAAPC0HfsoCAAA8LQdKygIAADwtB8LCAgAAPC0GpooCAAA8LQfmjgIAADwtBmZ6AgAAPC0G1rICAAA8LQZuwgIAADwtBkrKAgAAPC0G2q4CAAA8LQcKigIAADwtB+LKAgAAPC0GepYCAAA8LQdCigIAADwtBup6AgAAPC0GBnoCAAA8LEMqAgIAAAAtB1qGAgAAhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAgAiBEUNACAAIAQRgICAgAAAIQMLIAMLSQECf0EAIQMCQCAAKAI4IgRFDQAgBCgCBCIERQ0AIAAgASACIAFrIAQRgYCAgAAAIgNBf0cNACAAQcaRgIAANgIQQRghAwsgAwsuAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIwIgRFDQAgACAEEYCAgIAAACEDCyADC0kBAn9BACEDAkAgACgCOCIERQ0AIAQoAggiBEUNACAAIAEgAiABayAEEYGAgIAAACIDQX9HDQAgAEH2ioCAADYCEEEYIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCNCIERQ0AIAAgBBGAgICAAAAhAwsgAwtJAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIMIgRFDQAgACABIAIgAWsgBBGBgICAAAAiA0F/Rw0AIABB7ZqAgAA2AhBBGCEDCyADCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAjgiBEUNACAAIAQRgICAgAAAIQMLIAMLSQECf0EAIQMCQCAAKAI4IgRFDQAgBCgCECIERQ0AIAAgASACIAFrIAQRgYCAgAAAIgNBf0cNACAAQZWQgIAANgIQQRghAwsgAwsuAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAI8IgRFDQAgACAEEYCAgIAAACEDCyADC0kBAn9BACEDAkAgACgCOCIERQ0AIAQoAhQiBEUNACAAIAEgAiABayAEEYGAgIAAACIDQX9HDQAgAEGqm4CAADYCEEEYIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCQCIERQ0AIAAgBBGAgICAAAAhAwsgAwtJAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIYIgRFDQAgACABIAIgAWsgBBGBgICAAAAiA0F/Rw0AIABB7ZOAgAA2AhBBGCEDCyADCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAkQiBEUNACAAIAQRgICAgAAAIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCJCIERQ0AIAAgBBGAgICAAAAhAwsgAwsuAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIsIgRFDQAgACAEEYCAgIAAACEDCyADC0kBAn9BACEDAkAgACgCOCIERQ0AIAQoAigiBEUNACAAIAEgAiABayAEEYGAgIAAACIDQX9HDQAgAEH2iICAADYCEEEYIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCUCIERQ0AIAAgBBGAgICAAAAhAwsgAwtJAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIcIgRFDQAgACABIAIgAWsgBBGBgICAAAAiA0F/Rw0AIABBwpmAgAA2AhBBGCEDCyADCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAkgiBEUNACAAIAQRgICAgAAAIQMLIAMLSQECf0EAIQMCQCAAKAI4IgRFDQAgBCgCICIERQ0AIAAgASACIAFrIAQRgYCAgAAAIgNBf0cNACAAQZSUgIAANgIQQRghAwsgAwsuAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAJMIgRFDQAgACAEEYCAgIAAACEDCyADCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAlQiBEUNACAAIAQRgICAgAAAIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCWCIERQ0AIAAgBBGAgICAAAAhAwsgAwtFAQF/AkACQCAALwEwQRRxQRRHDQBBASEDIAAtAChBAUYNASAALwEyQeUARiEDDAELIAAtAClBBUYhAwsgACADOgAuQQAL/gEBA39BASEDAkAgAC8BMCIEQQhxDQAgACkDIEIAUiEDCwJAAkAgAC0ALkUNAEEBIQUgAC0AKUEFRg0BQQEhBSAEQcAAcUUgA3FBAUcNAQtBACEFIARBwABxDQBBAiEFIARB//8DcSIDQQhxDQACQCADQYAEcUUNAAJAIAAtAChBAUcNACAALQAtQQpxDQBBBQ8LQQQPCwJAIANBIHENAAJAIAAtAChBAUYNACAALwEyQf//A3EiAEGcf2pB5ABJDQAgAEHMAUYNACAAQbACRg0AQQQhBSAEQShxRQ0CIANBiARxQYAERg0CC0EADwtBAEEDIAApAyBQGyEFCyAFC2IBAn9BACEBAkAgAC0AKEEBRg0AIAAvATJB//8DcSICQZx/akHkAEkNACACQcwBRg0AIAJBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhASAAQYgEcUGABEYNACAAQShxRSEBCyABC6cBAQN/AkACQAJAIAAtACpFDQAgAC0AK0UNAEEAIQMgAC8BMCIEQQJxRQ0BDAILQQAhAyAALwEwIgRBAXFFDQELQQEhAyAALQAoQQFGDQAgAC8BMkH//wNxIgVBnH9qQeQASQ0AIAVBzAFGDQAgBUGwAkYNACAEQcAAcQ0AQQAhAyAEQYgEcUGABEYNACAEQShxQQBHIQMLIABBADsBMCAAQQA6AC8gAwuZAQECfwJAAkACQCAALQAqRQ0AIAAtACtFDQBBACEBIAAvATAiAkECcUUNAQwCC0EAIQEgAC8BMCICQQFxRQ0BC0EBIQEgAC0AKEEBRg0AIAAvATJB//8DcSIAQZx/akHkAEkNACAAQcwBRg0AIABBsAJGDQAgAkHAAHENAEEAIQEgAkGIBHFBgARGDQAgAkEocUEARyEBCyABC1kAIABBGGpCADcDACAAQgA3AwAgAEE4akIANwMAIABBMGpCADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwHLAcoBuAHJAbkByAG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAQDcAQtBACEQDMYBC0EOIRAMxQELQQ0hEAzEAQtBDyEQDMMBC0EQIRAMwgELQRMhEAzBAQtBFCEQDMABC0EVIRAMvwELQRYhEAy+AQtBFyEQDL0BC0EYIRAMvAELQRkhEAy7AQtBGiEQDLoBC0EbIRAMuQELQRwhEAy4AQtBCCEQDLcBC0EdIRAMtgELQSAhEAy1AQtBHyEQDLQBC0EHIRAMswELQSEhEAyyAQtBIiEQDLEBC0EeIRAMsAELQSMhEAyvAQtBEiEQDK4BC0ERIRAMrQELQSQhEAysAQtBJSEQDKsBC0EmIRAMqgELQSchEAypAQtBwwEhEAyoAQtBKSEQDKcBC0ErIRAMpgELQSwhEAylAQtBLSEQDKQBC0EuIRAMowELQS8hEAyiAQtBxAEhEAyhAQtBMCEQDKABC0E0IRAMnwELQQwhEAyeAQtBMSEQDJ0BC0EyIRAMnAELQTMhEAybAQtBOSEQDJoBC0E1IRAMmQELQcUBIRAMmAELQQshEAyXAQtBOiEQDJYBC0E2IRAMlQELQQohEAyUAQtBNyEQDJMBC0E4IRAMkgELQTwhEAyRAQtBOyEQDJABC0E9IRAMjwELQQkhEAyOAQtBKCEQDI0BC0E+IRAMjAELQT8hEAyLAQtBwAAhEAyKAQtBwQAhEAyJAQtBwgAhEAyIAQtBwwAhEAyHAQtBxAAhEAyGAQtBxQAhEAyFAQtBxgAhEAyEAQtBKiEQDIMBC0HHACEQDIIBC0HIACEQDIEBC0HJACEQDIABC0HKACEQDH8LQcsAIRAMfgtBzQAhEAx9C0HMACEQDHwLQc4AIRAMewtBzwAhEAx6C0HQACEQDHkLQdEAIRAMeAtB0gAhEAx3C0HTACEQDHYLQdQAIRAMdQtB1gAhEAx0C0HVACEQDHMLQQYhEAxyC0HXACEQDHELQQUhEAxwC0HYACEQDG8LQQQhEAxuC0HZACEQDG0LQdoAIRAMbAtB2wAhEAxrC0HcACEQDGoLQQMhEAxpC0HdACEQDGgLQd4AIRAMZwtB3wAhEAxmC0HhACEQDGULQeAAIRAMZAtB4gAhEAxjC0HjACEQDGILQQIhEAxhC0HkACEQDGALQeUAIRAMXwtB5gAhEAxeC0HnACEQDF0LQegAIRAMXAtB6QAhEAxbC0HqACEQDFoLQesAIRAMWQtB7AAhEAxYC0HtACEQDFcLQe4AIRAMVgtB7wAhEAxVC0HwACEQDFQLQfEAIRAMUwtB8gAhEAxSC0HzACEQDFELQfQAIRAMUAtB9QAhEAxPC0H2ACEQDE4LQfcAIRAMTQtB+AAhEAxMC0H5ACEQDEsLQfoAIRAMSgtB+wAhEAxJC0H8ACEQDEgLQf0AIRAMRwtB/gAhEAxGC0H/ACEQDEULQYABIRAMRAtBgQEhEAxDC0GCASEQDEILQYMBIRAMQQtBhAEhEAxAC0GFASEQDD8LQYYBIRAMPgtBhwEhEAw9C0GIASEQDDwLQYkBIRAMOwtBigEhEAw6C0GLASEQDDkLQYwBIRAMOAtBjQEhEAw3C0GOASEQDDYLQY8BIRAMNQtBkAEhEAw0C0GRASEQDDMLQZIBIRAMMgtBkwEhEAwxC0GUASEQDDALQZUBIRAMLwtBlgEhEAwuC0GXASEQDC0LQZgBIRAMLAtBmQEhEAwrC0GaASEQDCoLQZsBIRAMKQtBnAEhEAwoC0GdASEQDCcLQZ4BIRAMJgtBnwEhEAwlC0GgASEQDCQLQaEBIRAMIwtBogEhEAwiC0GjASEQDCELQaQBIRAMIAtBpQEhEAwfC0GmASEQDB4LQacBIRAMHQtBqAEhEAwcC0GpASEQDBsLQaoBIRAMGgtBqwEhEAwZC0GsASEQDBgLQa0BIRAMFwtBrgEhEAwWC0EBIRAMFQtBrwEhEAwUC0GwASEQDBMLQbEBIRAMEgtBswEhEAwRC0GyASEQDBALQbQBIRAMDwtBtQEhEAwOC0G2ASEQDA0LQbcBIRAMDAtBuAEhEAwLC0G5ASEQDAoLQboBIRAMCQtBuwEhEAwIC0HGASEQDAcLQbwBIRAMBgtBvQEhEAwFC0G+ASEQDAQLQb8BIRAMAwtBwAEhEAwCC0HCASEQDAELQcEBIRALA0ACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAQDscBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxweHyAhIyUoP0BBREVGR0hJSktMTU9QUVJT3gNXWVtcXWBiZWZnaGlqa2xtb3BxcnN0dXZ3eHl6e3x9foABggGFAYYBhwGJAYsBjAGNAY4BjwGQAZEBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBuAG5AboBuwG8Ab0BvgG/AcABwQHCAcMBxAHFAcYBxwHIAckBygHLAcwBzQHOAc8B0AHRAdIB0wHUAdUB1gHXAdgB2QHaAdsB3AHdAd4B4AHhAeIB4wHkAeUB5gHnAegB6QHqAesB7AHtAe4B7wHwAfEB8gHzAZkCpAKwAv4C/gILIAEiBCACRw3zAUHdASEQDP8DCyABIhAgAkcN3QFBwwEhEAz+AwsgASIBIAJHDZABQfcAIRAM/QMLIAEiASACRw2GAUHvACEQDPwDCyABIgEgAkcNf0HqACEQDPsDCyABIgEgAkcNe0HoACEQDPoDCyABIgEgAkcNeEHmACEQDPkDCyABIgEgAkcNGkEYIRAM+AMLIAEiASACRw0UQRIhEAz3AwsgASIBIAJHDVlBxQAhEAz2AwsgASIBIAJHDUpBPyEQDPUDCyABIgEgAkcNSEE8IRAM9AMLIAEiASACRw1BQTEhEAzzAwsgAC0ALkEBRg3rAwyHAgsgACABIgEgAhDAgICAAEEBRw3mASAAQgA3AyAM5wELIAAgASIBIAIQtICAgAAiEA3nASABIQEM9QILAkAgASIBIAJHDQBBBiEQDPADCyAAIAFBAWoiASACELuAgIAAIhAN6AEgASEBDDELIABCADcDIEESIRAM1QMLIAEiECACRw0rQR0hEAztAwsCQCABIgEgAkYNACABQQFqIQFBECEQDNQDC0EHIRAM7AMLIABCACAAKQMgIhEgAiABIhBrrSISfSITIBMgEVYbNwMgIBEgElYiFEUN5QFBCCEQDOsDCwJAIAEiASACRg0AIABBiYCAgAA2AgggACABNgIEIAEhAUEUIRAM0gMLQQkhEAzqAwsgASEBIAApAyBQDeQBIAEhAQzyAgsCQCABIgEgAkcNAEELIRAM6QMLIAAgAUEBaiIBIAIQtoCAgAAiEA3lASABIQEM8gILIAAgASIBIAIQuICAgAAiEA3lASABIQEM8gILIAAgASIBIAIQuICAgAAiEA3mASABIQEMDQsgACABIgEgAhC6gICAACIQDecBIAEhAQzwAgsCQCABIgEgAkcNAEEPIRAM5QMLIAEtAAAiEEE7Rg0IIBBBDUcN6AEgAUEBaiEBDO8CCyAAIAEiASACELqAgIAAIhAN6AEgASEBDPICCwNAAkAgAS0AAEHwtYCAAGotAAAiEEEBRg0AIBBBAkcN6wEgACgCBCEQIABBADYCBCAAIBAgAUEBaiIBELmAgIAAIhAN6gEgASEBDPQCCyABQQFqIgEgAkcNAAtBEiEQDOIDCyAAIAEiASACELqAgIAAIhAN6QEgASEBDAoLIAEiASACRw0GQRshEAzgAwsCQCABIgEgAkcNAEEWIRAM4AMLIABBioCAgAA2AgggACABNgIEIAAgASACELiAgIAAIhAN6gEgASEBQSAhEAzGAwsCQCABIgEgAkYNAANAAkAgAS0AAEHwt4CAAGotAAAiEEECRg0AAkAgEEF/ag4E5QHsAQDrAewBCyABQQFqIQFBCCEQDMgDCyABQQFqIgEgAkcNAAtBFSEQDN8DC0EVIRAM3gMLA0ACQCABLQAAQfC5gIAAai0AACIQQQJGDQAgEEF/ag4E3gHsAeAB6wHsAQsgAUEBaiIBIAJHDQALQRghEAzdAwsCQCABIgEgAkYNACAAQYuAgIAANgIIIAAgATYCBCABIQFBByEQDMQDC0EZIRAM3AMLIAFBAWohAQwCCwJAIAEiFCACRw0AQRohEAzbAwsgFCEBAkAgFC0AAEFzag4U3QLuAu4C7gLuAu4C7gLuAu4C7gLuAu4C7gLuAu4C7gLuAu4C7gIA7gILQQAhECAAQQA2AhwgAEGvi4CAADYCECAAQQI2AgwgACAUQQFqNgIUDNoDCwJAIAEtAAAiEEE7Rg0AIBBBDUcN6AEgAUEBaiEBDOUCCyABQQFqIQELQSIhEAy/AwsCQCABIhAgAkcNAEEcIRAM2AMLQgAhESAQIQEgEC0AAEFQag435wHmAQECAwQFBgcIAAAAAAAAAAkKCwwNDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADxAREhMUAAtBHiEQDL0DC0ICIREM5QELQgMhEQzkAQtCBCERDOMBC0IFIREM4gELQgYhEQzhAQtCByERDOABC0IIIREM3wELQgkhEQzeAQtCCiERDN0BC0ILIREM3AELQgwhEQzbAQtCDSERDNoBC0IOIREM2QELQg8hEQzYAQtCCiERDNcBC0ILIREM1gELQgwhEQzVAQtCDSERDNQBC0IOIREM0wELQg8hEQzSAQtCACERAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAQLQAAQVBqDjflAeQBAAECAwQFBgfmAeYB5gHmAeYB5gHmAQgJCgsMDeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gEODxAREhPmAQtCAiERDOQBC0IDIREM4wELQgQhEQziAQtCBSERDOEBC0IGIREM4AELQgchEQzfAQtCCCERDN4BC0IJIREM3QELQgohEQzcAQtCCyERDNsBC0IMIREM2gELQg0hEQzZAQtCDiERDNgBC0IPIREM1wELQgohEQzWAQtCCyERDNUBC0IMIREM1AELQg0hEQzTAQtCDiERDNIBC0IPIREM0QELIABCACAAKQMgIhEgAiABIhBrrSISfSITIBMgEVYbNwMgIBEgElYiFEUN0gFBHyEQDMADCwJAIAEiASACRg0AIABBiYCAgAA2AgggACABNgIEIAEhAUEkIRAMpwMLQSAhEAy/AwsgACABIhAgAhC+gICAAEF/ag4FtgEAxQIB0QHSAQtBESEQDKQDCyAAQQE6AC8gECEBDLsDCyABIgEgAkcN0gFBJCEQDLsDCyABIg0gAkcNHkHGACEQDLoDCyAAIAEiASACELKAgIAAIhAN1AEgASEBDLUBCyABIhAgAkcNJkHQACEQDLgDCwJAIAEiASACRw0AQSghEAy4AwsgAEEANgIEIABBjICAgAA2AgggACABIAEQsYCAgAAiEA3TASABIQEM2AELAkAgASIQIAJHDQBBKSEQDLcDCyAQLQAAIgFBIEYNFCABQQlHDdMBIBBBAWohAQwVCwJAIAEiASACRg0AIAFBAWohAQwXC0EqIRAMtQMLAkAgASIQIAJHDQBBKyEQDLUDCwJAIBAtAAAiAUEJRg0AIAFBIEcN1QELIAAtACxBCEYN0wEgECEBDJEDCwJAIAEiASACRw0AQSwhEAy0AwsgAS0AAEEKRw3VASABQQFqIQEMyQILIAEiDiACRw3VAUEvIRAMsgMLA0ACQCABLQAAIhBBIEYNAAJAIBBBdmoOBADcAdwBANoBCyABIQEM4AELIAFBAWoiASACRw0AC0ExIRAMsQMLQTIhECABIhQgAkYNsAMgAiAUayAAKAIAIgFqIRUgFCABa0EDaiEWAkADQCAULQAAIhdBIHIgFyAXQb9/akH/AXFBGkkbQf8BcSABQfC7gIAAai0AAEcNAQJAIAFBA0cNAEEGIQEMlgMLIAFBAWohASAUQQFqIhQgAkcNAAsgACAVNgIADLEDCyAAQQA2AgAgFCEBDNkBC0EzIRAgASIUIAJGDa8DIAIgFGsgACgCACIBaiEVIBQgAWtBCGohFgJAA0AgFC0AACIXQSByIBcgF0G/f2pB/wFxQRpJG0H/AXEgAUH0u4CAAGotAABHDQECQCABQQhHDQBBBSEBDJUDCyABQQFqIQEgFEEBaiIUIAJHDQALIAAgFTYCAAywAwsgAEEANgIAIBQhAQzYAQtBNCEQIAEiFCACRg2uAyACIBRrIAAoAgAiAWohFSAUIAFrQQVqIRYCQANAIBQtAAAiF0EgciAXIBdBv39qQf8BcUEaSRtB/wFxIAFB0MKAgABqLQAARw0BAkAgAUEFRw0AQQchAQyUAwsgAUEBaiEBIBRBAWoiFCACRw0ACyAAIBU2AgAMrwMLIABBADYCACAUIQEM1wELAkAgASIBIAJGDQADQAJAIAEtAABBgL6AgABqLQAAIhBBAUYNACAQQQJGDQogASEBDN0BCyABQQFqIgEgAkcNAAtBMCEQDK4DC0EwIRAMrQMLAkAgASIBIAJGDQADQAJAIAEtAAAiEEEgRg0AIBBBdmoOBNkB2gHaAdkB2gELIAFBAWoiASACRw0AC0E4IRAMrQMLQTghEAysAwsDQAJAIAEtAAAiEEEgRg0AIBBBCUcNAwsgAUEBaiIBIAJHDQALQTwhEAyrAwsDQAJAIAEtAAAiEEEgRg0AAkACQCAQQXZqDgTaAQEB2gEACyAQQSxGDdsBCyABIQEMBAsgAUEBaiIBIAJHDQALQT8hEAyqAwsgASEBDNsBC0HAACEQIAEiFCACRg2oAyACIBRrIAAoAgAiAWohFiAUIAFrQQZqIRcCQANAIBQtAABBIHIgAUGAwICAAGotAABHDQEgAUEGRg2OAyABQQFqIQEgFEEBaiIUIAJHDQALIAAgFjYCAAypAwsgAEEANgIAIBQhAQtBNiEQDI4DCwJAIAEiDyACRw0AQcEAIRAMpwMLIABBjICAgAA2AgggACAPNgIEIA8hASAALQAsQX9qDgTNAdUB1wHZAYcDCyABQQFqIQEMzAELAkAgASIBIAJGDQADQAJAIAEtAAAiEEEgciAQIBBBv39qQf8BcUEaSRtB/wFxIhBBCUYNACAQQSBGDQACQAJAAkACQCAQQZ1/ag4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIRAMkQMLIAFBAWohAUEyIRAMkAMLIAFBAWohAUEzIRAMjwMLIAEhAQzQAQsgAUEBaiIBIAJHDQALQTUhEAylAwtBNSEQDKQDCwJAIAEiASACRg0AA0ACQCABLQAAQYC8gIAAai0AAEEBRg0AIAEhAQzTAQsgAUEBaiIBIAJHDQALQT0hEAykAwtBPSEQDKMDCyAAIAEiASACELCAgIAAIhAN1gEgASEBDAELIBBBAWohAQtBPCEQDIcDCwJAIAEiASACRw0AQcIAIRAMoAMLAkADQAJAIAEtAABBd2oOGAAC/gL+AoQD/gL+Av4C/gL+Av4C/gL+Av4C/gL+Av4C/gL+Av4C/gL+Av4CAP4CCyABQQFqIgEgAkcNAAtBwgAhEAygAwsgAUEBaiEBIAAtAC1BAXFFDb0BIAEhAQtBLCEQDIUDCyABIgEgAkcN0wFBxAAhEAydAwsDQAJAIAEtAABBkMCAgABqLQAAQQFGDQAgASEBDLcCCyABQQFqIgEgAkcNAAtBxQAhEAycAwsgDS0AACIQQSBGDbMBIBBBOkcNgQMgACgCBCEBIABBADYCBCAAIAEgDRCvgICAACIBDdABIA1BAWohAQyzAgtBxwAhECABIg0gAkYNmgMgAiANayAAKAIAIgFqIRYgDSABa0EFaiEXA0AgDS0AACIUQSByIBQgFEG/f2pB/wFxQRpJG0H/AXEgAUGQwoCAAGotAABHDYADIAFBBUYN9AIgAUEBaiEBIA1BAWoiDSACRw0ACyAAIBY2AgAMmgMLQcgAIRAgASINIAJGDZkDIAIgDWsgACgCACIBaiEWIA0gAWtBCWohFwNAIA0tAAAiFEEgciAUIBRBv39qQf8BcUEaSRtB/wFxIAFBlsKAgABqLQAARw3/AgJAIAFBCUcNAEECIQEM9QILIAFBAWohASANQQFqIg0gAkcNAAsgACAWNgIADJkDCwJAIAEiDSACRw0AQckAIRAMmQMLAkACQCANLQAAIgFBIHIgASABQb9/akH/AXFBGkkbQf8BcUGSf2oOBwCAA4ADgAOAA4ADAYADCyANQQFqIQFBPiEQDIADCyANQQFqIQFBPyEQDP8CC0HKACEQIAEiDSACRg2XAyACIA1rIAAoAgAiAWohFiANIAFrQQFqIRcDQCANLQAAIhRBIHIgFCAUQb9/akH/AXFBGkkbQf8BcSABQaDCgIAAai0AAEcN/QIgAUEBRg3wAiABQQFqIQEgDUEBaiINIAJHDQALIAAgFjYCAAyXAwtBywAhECABIg0gAkYNlgMgAiANayAAKAIAIgFqIRYgDSABa0EOaiEXA0AgDS0AACIUQSByIBQgFEG/f2pB/wFxQRpJG0H/AXEgAUGiwoCAAGotAABHDfwCIAFBDkYN8AIgAUEBaiEBIA1BAWoiDSACRw0ACyAAIBY2AgAMlgMLQcwAIRAgASINIAJGDZUDIAIgDWsgACgCACIBaiEWIA0gAWtBD2ohFwNAIA0tAAAiFEEgciAUIBRBv39qQf8BcUEaSRtB/wFxIAFBwMKAgABqLQAARw37AgJAIAFBD0cNAEEDIQEM8QILIAFBAWohASANQQFqIg0gAkcNAAsgACAWNgIADJUDC0HNACEQIAEiDSACRg2UAyACIA1rIAAoAgAiAWohFiANIAFrQQVqIRcDQCANLQAAIhRBIHIgFCAUQb9/akH/AXFBGkkbQf8BcSABQdDCgIAAai0AAEcN+gICQCABQQVHDQBBBCEBDPACCyABQQFqIQEgDUEBaiINIAJHDQALIAAgFjYCAAyUAwsCQCABIg0gAkcNAEHOACEQDJQDCwJAAkACQAJAIA0tAAAiAUEgciABIAFBv39qQf8BcUEaSRtB/wFxQZ1/ag4TAP0C/QL9Av0C/QL9Av0C/QL9Av0C/QL9AgH9Av0C/QICA/0CCyANQQFqIQFBwQAhEAz9AgsgDUEBaiEBQcIAIRAM/AILIA1BAWohAUHDACEQDPsCCyANQQFqIQFBxAAhEAz6AgsCQCABIgEgAkYNACAAQY2AgIAANgIIIAAgATYCBCABIQFBxQAhEAz6AgtBzwAhEAySAwsgECEBAkACQCAQLQAAQXZqDgQBqAKoAgCoAgsgEEEBaiEBC0EnIRAM+AILAkAgASIBIAJHDQBB0QAhEAyRAwsCQCABLQAAQSBGDQAgASEBDI0BCyABQQFqIQEgAC0ALUEBcUUNxwEgASEBDIwBCyABIhcgAkcNyAFB0gAhEAyPAwtB0wAhECABIhQgAkYNjgMgAiAUayAAKAIAIgFqIRYgFCABa0EBaiEXA0AgFC0AACABQdbCgIAAai0AAEcNzAEgAUEBRg3HASABQQFqIQEgFEEBaiIUIAJHDQALIAAgFjYCAAyOAwsCQCABIgEgAkcNAEHVACEQDI4DCyABLQAAQQpHDcwBIAFBAWohAQzHAQsCQCABIgEgAkcNAEHWACEQDI0DCwJAAkAgAS0AAEF2ag4EAM0BzQEBzQELIAFBAWohAQzHAQsgAUEBaiEBQcoAIRAM8wILIAAgASIBIAIQroCAgAAiEA3LASABIQFBzQAhEAzyAgsgAC0AKUEiRg2FAwymAgsCQCABIgEgAkcNAEHbACEQDIoDC0EAIRRBASEXQQEhFkEAIRACQAJAAkACQAJAAkACQAJAAkAgAS0AAEFQag4K1AHTAQABAgMEBQYI1QELQQIhEAwGC0EDIRAMBQtBBCEQDAQLQQUhEAwDC0EGIRAMAgtBByEQDAELQQghEAtBACEXQQAhFkEAIRQMzAELQQkhEEEBIRRBACEXQQAhFgzLAQsCQCABIgEgAkcNAEHdACEQDIkDCyABLQAAQS5HDcwBIAFBAWohAQymAgsgASIBIAJHDcwBQd8AIRAMhwMLAkAgASIBIAJGDQAgAEGOgICAADYCCCAAIAE2AgQgASEBQdAAIRAM7gILQeAAIRAMhgMLQeEAIRAgASIBIAJGDYUDIAIgAWsgACgCACIUaiEWIAEgFGtBA2ohFwNAIAEtAAAgFEHiwoCAAGotAABHDc0BIBRBA0YNzAEgFEEBaiEUIAFBAWoiASACRw0ACyAAIBY2AgAMhQMLQeIAIRAgASIBIAJGDYQDIAIgAWsgACgCACIUaiEWIAEgFGtBAmohFwNAIAEtAAAgFEHmwoCAAGotAABHDcwBIBRBAkYNzgEgFEEBaiEUIAFBAWoiASACRw0ACyAAIBY2AgAMhAMLQeMAIRAgASIBIAJGDYMDIAIgAWsgACgCACIUaiEWIAEgFGtBA2ohFwNAIAEtAAAgFEHpwoCAAGotAABHDcsBIBRBA0YNzgEgFEEBaiEUIAFBAWoiASACRw0ACyAAIBY2AgAMgwMLAkAgASIBIAJHDQBB5QAhEAyDAwsgACABQQFqIgEgAhCogICAACIQDc0BIAEhAUHWACEQDOkCCwJAIAEiASACRg0AA0ACQCABLQAAIhBBIEYNAAJAAkACQCAQQbh/ag4LAAHPAc8BzwHPAc8BzwHPAc8BAs8BCyABQQFqIQFB0gAhEAztAgsgAUEBaiEBQdMAIRAM7AILIAFBAWohAUHUACEQDOsCCyABQQFqIgEgAkcNAAtB5AAhEAyCAwtB5AAhEAyBAwsDQAJAIAEtAABB8MKAgABqLQAAIhBBAUYNACAQQX5qDgPPAdAB0QHSAQsgAUEBaiIBIAJHDQALQeYAIRAMgAMLAkAgASIBIAJGDQAgAUEBaiEBDAMLQecAIRAM/wILA0ACQCABLQAAQfDEgIAAai0AACIQQQFGDQACQCAQQX5qDgTSAdMB1AEA1QELIAEhAUHXACEQDOcCCyABQQFqIgEgAkcNAAtB6AAhEAz+AgsCQCABIgEgAkcNAEHpACEQDP4CCwJAIAEtAAAiEEF2ag4augHVAdUBvAHVAdUB1QHVAdUB1QHVAdUB1QHVAdUB1QHVAdUB1QHVAdUB1QHKAdUB1QEA0wELIAFBAWohAQtBBiEQDOMCCwNAAkAgAS0AAEHwxoCAAGotAABBAUYNACABIQEMngILIAFBAWoiASACRw0AC0HqACEQDPsCCwJAIAEiASACRg0AIAFBAWohAQwDC0HrACEQDPoCCwJAIAEiASACRw0AQewAIRAM+gILIAFBAWohAQwBCwJAIAEiASACRw0AQe0AIRAM+QILIAFBAWohAQtBBCEQDN4CCwJAIAEiFCACRw0AQe4AIRAM9wILIBQhAQJAAkACQCAULQAAQfDIgIAAai0AAEF/ag4H1AHVAdYBAJwCAQLXAQsgFEEBaiEBDAoLIBRBAWohAQzNAQtBACEQIABBADYCHCAAQZuSgIAANgIQIABBBzYCDCAAIBRBAWo2AhQM9gILAkADQAJAIAEtAABB8MiAgABqLQAAIhBBBEYNAAJAAkAgEEF/ag4H0gHTAdQB2QEABAHZAQsgASEBQdoAIRAM4AILIAFBAWohAUHcACEQDN8CCyABQQFqIgEgAkcNAAtB7wAhEAz2AgsgAUEBaiEBDMsBCwJAIAEiFCACRw0AQfAAIRAM9QILIBQtAABBL0cN1AEgFEEBaiEBDAYLAkAgASIUIAJHDQBB8QAhEAz0AgsCQCAULQAAIgFBL0cNACAUQQFqIQFB3QAhEAzbAgsgAUF2aiIEQRZLDdMBQQEgBHRBiYCAAnFFDdMBDMoCCwJAIAEiASACRg0AIAFBAWohAUHeACEQDNoCC0HyACEQDPICCwJAIAEiFCACRw0AQfQAIRAM8gILIBQhAQJAIBQtAABB8MyAgABqLQAAQX9qDgPJApQCANQBC0HhACEQDNgCCwJAIAEiFCACRg0AA0ACQCAULQAAQfDKgIAAai0AACIBQQNGDQACQCABQX9qDgLLAgDVAQsgFCEBQd8AIRAM2gILIBRBAWoiFCACRw0AC0HzACEQDPECC0HzACEQDPACCwJAIAEiASACRg0AIABBj4CAgAA2AgggACABNgIEIAEhAUHgACEQDNcCC0H1ACEQDO8CCwJAIAEiASACRw0AQfYAIRAM7wILIABBj4CAgAA2AgggACABNgIEIAEhAQtBAyEQDNQCCwNAIAEtAABBIEcNwwIgAUEBaiIBIAJHDQALQfcAIRAM7AILAkAgASIBIAJHDQBB+AAhEAzsAgsgAS0AAEEgRw3OASABQQFqIQEM7wELIAAgASIBIAIQrICAgAAiEA3OASABIQEMjgILAkAgASIEIAJHDQBB+gAhEAzqAgsgBC0AAEHMAEcN0QEgBEEBaiEBQRMhEAzPAQsCQCABIgQgAkcNAEH7ACEQDOkCCyACIARrIAAoAgAiAWohFCAEIAFrQQVqIRADQCAELQAAIAFB8M6AgABqLQAARw3QASABQQVGDc4BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQfsAIRAM6AILAkAgASIEIAJHDQBB/AAhEAzoAgsCQAJAIAQtAABBvX9qDgwA0QHRAdEB0QHRAdEB0QHRAdEB0QEB0QELIARBAWohAUHmACEQDM8CCyAEQQFqIQFB5wAhEAzOAgsCQCABIgQgAkcNAEH9ACEQDOcCCyACIARrIAAoAgAiAWohFCAEIAFrQQJqIRACQANAIAQtAAAgAUHtz4CAAGotAABHDc8BIAFBAkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEH9ACEQDOcCCyAAQQA2AgAgEEEBaiEBQRAhEAzMAQsCQCABIgQgAkcNAEH+ACEQDOYCCyACIARrIAAoAgAiAWohFCAEIAFrQQVqIRACQANAIAQtAAAgAUH2zoCAAGotAABHDc4BIAFBBUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEH+ACEQDOYCCyAAQQA2AgAgEEEBaiEBQRYhEAzLAQsCQCABIgQgAkcNAEH/ACEQDOUCCyACIARrIAAoAgAiAWohFCAEIAFrQQNqIRACQANAIAQtAAAgAUH8zoCAAGotAABHDc0BIAFBA0YNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEH/ACEQDOUCCyAAQQA2AgAgEEEBaiEBQQUhEAzKAQsCQCABIgQgAkcNAEGAASEQDOQCCyAELQAAQdkARw3LASAEQQFqIQFBCCEQDMkBCwJAIAEiBCACRw0AQYEBIRAM4wILAkACQCAELQAAQbJ/ag4DAMwBAcwBCyAEQQFqIQFB6wAhEAzKAgsgBEEBaiEBQewAIRAMyQILAkAgASIEIAJHDQBBggEhEAziAgsCQAJAIAQtAABBuH9qDggAywHLAcsBywHLAcsBAcsBCyAEQQFqIQFB6gAhEAzJAgsgBEEBaiEBQe0AIRAMyAILAkAgASIEIAJHDQBBgwEhEAzhAgsgAiAEayAAKAIAIgFqIRAgBCABa0ECaiEUAkADQCAELQAAIAFBgM+AgABqLQAARw3JASABQQJGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBA2AgBBgwEhEAzhAgtBACEQIABBADYCACAUQQFqIQEMxgELAkAgASIEIAJHDQBBhAEhEAzgAgsgAiAEayAAKAIAIgFqIRQgBCABa0EEaiEQAkADQCAELQAAIAFBg8+AgABqLQAARw3IASABQQRGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBhAEhEAzgAgsgAEEANgIAIBBBAWohAUEjIRAMxQELAkAgASIEIAJHDQBBhQEhEAzfAgsCQAJAIAQtAABBtH9qDggAyAHIAcgByAHIAcgBAcgBCyAEQQFqIQFB7wAhEAzGAgsgBEEBaiEBQfAAIRAMxQILAkAgASIEIAJHDQBBhgEhEAzeAgsgBC0AAEHFAEcNxQEgBEEBaiEBDIMCCwJAIAEiBCACRw0AQYcBIRAM3QILIAIgBGsgACgCACIBaiEUIAQgAWtBA2ohEAJAA0AgBC0AACABQYjPgIAAai0AAEcNxQEgAUEDRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQYcBIRAM3QILIABBADYCACAQQQFqIQFBLSEQDMIBCwJAIAEiBCACRw0AQYgBIRAM3AILIAIgBGsgACgCACIBaiEUIAQgAWtBCGohEAJAA0AgBC0AACABQdDPgIAAai0AAEcNxAEgAUEIRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQYgBIRAM3AILIABBADYCACAQQQFqIQFBKSEQDMEBCwJAIAEiASACRw0AQYkBIRAM2wILQQEhECABLQAAQd8ARw3AASABQQFqIQEMgQILAkAgASIEIAJHDQBBigEhEAzaAgsgAiAEayAAKAIAIgFqIRQgBCABa0EBaiEQA0AgBC0AACABQYzPgIAAai0AAEcNwQEgAUEBRg2vAiABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGKASEQDNkCCwJAIAEiBCACRw0AQYsBIRAM2QILIAIgBGsgACgCACIBaiEUIAQgAWtBAmohEAJAA0AgBC0AACABQY7PgIAAai0AAEcNwQEgAUECRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQYsBIRAM2QILIABBADYCACAQQQFqIQFBAiEQDL4BCwJAIAEiBCACRw0AQYwBIRAM2AILIAIgBGsgACgCACIBaiEUIAQgAWtBAWohEAJAA0AgBC0AACABQfDPgIAAai0AAEcNwAEgAUEBRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQYwBIRAM2AILIABBADYCACAQQQFqIQFBHyEQDL0BCwJAIAEiBCACRw0AQY0BIRAM1wILIAIgBGsgACgCACIBaiEUIAQgAWtBAWohEAJAA0AgBC0AACABQfLPgIAAai0AAEcNvwEgAUEBRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQY0BIRAM1wILIABBADYCACAQQQFqIQFBCSEQDLwBCwJAIAEiBCACRw0AQY4BIRAM1gILAkACQCAELQAAQbd/ag4HAL8BvwG/Ab8BvwEBvwELIARBAWohAUH4ACEQDL0CCyAEQQFqIQFB+QAhEAy8AgsCQCABIgQgAkcNAEGPASEQDNUCCyACIARrIAAoAgAiAWohFCAEIAFrQQVqIRACQANAIAQtAAAgAUGRz4CAAGotAABHDb0BIAFBBUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGPASEQDNUCCyAAQQA2AgAgEEEBaiEBQRghEAy6AQsCQCABIgQgAkcNAEGQASEQDNQCCyACIARrIAAoAgAiAWohFCAEIAFrQQJqIRACQANAIAQtAAAgAUGXz4CAAGotAABHDbwBIAFBAkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGQASEQDNQCCyAAQQA2AgAgEEEBaiEBQRchEAy5AQsCQCABIgQgAkcNAEGRASEQDNMCCyACIARrIAAoAgAiAWohFCAEIAFrQQZqIRACQANAIAQtAAAgAUGaz4CAAGotAABHDbsBIAFBBkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGRASEQDNMCCyAAQQA2AgAgEEEBaiEBQRUhEAy4AQsCQCABIgQgAkcNAEGSASEQDNICCyACIARrIAAoAgAiAWohFCAEIAFrQQVqIRACQANAIAQtAAAgAUGhz4CAAGotAABHDboBIAFBBUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGSASEQDNICCyAAQQA2AgAgEEEBaiEBQR4hEAy3AQsCQCABIgQgAkcNAEGTASEQDNECCyAELQAAQcwARw24ASAEQQFqIQFBCiEQDLYBCwJAIAQgAkcNAEGUASEQDNACCwJAAkAgBC0AAEG/f2oODwC5AbkBuQG5AbkBuQG5AbkBuQG5AbkBuQG5AQG5AQsgBEEBaiEBQf4AIRAMtwILIARBAWohAUH/ACEQDLYCCwJAIAQgAkcNAEGVASEQDM8CCwJAAkAgBC0AAEG/f2oOAwC4AQG4AQsgBEEBaiEBQf0AIRAMtgILIARBAWohBEGAASEQDLUCCwJAIAQgAkcNAEGWASEQDM4CCyACIARrIAAoAgAiAWohFCAEIAFrQQFqIRACQANAIAQtAAAgAUGnz4CAAGotAABHDbYBIAFBAUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGWASEQDM4CCyAAQQA2AgAgEEEBaiEBQQshEAyzAQsCQCAEIAJHDQBBlwEhEAzNAgsCQAJAAkACQCAELQAAQVNqDiMAuAG4AbgBuAG4AbgBuAG4AbgBuAG4AbgBuAG4AbgBuAG4AbgBuAG4AbgBuAG4AQG4AbgBuAG4AbgBArgBuAG4AQO4AQsgBEEBaiEBQfsAIRAMtgILIARBAWohAUH8ACEQDLUCCyAEQQFqIQRBgQEhEAy0AgsgBEEBaiEEQYIBIRAMswILAkAgBCACRw0AQZgBIRAMzAILIAIgBGsgACgCACIBaiEUIAQgAWtBBGohEAJAA0AgBC0AACABQanPgIAAai0AAEcNtAEgAUEERg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQZgBIRAMzAILIABBADYCACAQQQFqIQFBGSEQDLEBCwJAIAQgAkcNAEGZASEQDMsCCyACIARrIAAoAgAiAWohFCAEIAFrQQVqIRACQANAIAQtAAAgAUGuz4CAAGotAABHDbMBIAFBBUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGZASEQDMsCCyAAQQA2AgAgEEEBaiEBQQYhEAywAQsCQCAEIAJHDQBBmgEhEAzKAgsgAiAEayAAKAIAIgFqIRQgBCABa0EBaiEQAkADQCAELQAAIAFBtM+AgABqLQAARw2yASABQQFGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBmgEhEAzKAgsgAEEANgIAIBBBAWohAUEcIRAMrwELAkAgBCACRw0AQZsBIRAMyQILIAIgBGsgACgCACIBaiEUIAQgAWtBAWohEAJAA0AgBC0AACABQbbPgIAAai0AAEcNsQEgAUEBRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQZsBIRAMyQILIABBADYCACAQQQFqIQFBJyEQDK4BCwJAIAQgAkcNAEGcASEQDMgCCwJAAkAgBC0AAEGsf2oOAgABsQELIARBAWohBEGGASEQDK8CCyAEQQFqIQRBhwEhEAyuAgsCQCAEIAJHDQBBnQEhEAzHAgsgAiAEayAAKAIAIgFqIRQgBCABa0EBaiEQAkADQCAELQAAIAFBuM+AgABqLQAARw2vASABQQFGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBnQEhEAzHAgsgAEEANgIAIBBBAWohAUEmIRAMrAELAkAgBCACRw0AQZ4BIRAMxgILIAIgBGsgACgCACIBaiEUIAQgAWtBAWohEAJAA0AgBC0AACABQbrPgIAAai0AAEcNrgEgAUEBRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQZ4BIRAMxgILIABBADYCACAQQQFqIQFBAyEQDKsBCwJAIAQgAkcNAEGfASEQDMUCCyACIARrIAAoAgAiAWohFCAEIAFrQQJqIRACQANAIAQtAAAgAUHtz4CAAGotAABHDa0BIAFBAkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGfASEQDMUCCyAAQQA2AgAgEEEBaiEBQQwhEAyqAQsCQCAEIAJHDQBBoAEhEAzEAgsgAiAEayAAKAIAIgFqIRQgBCABa0EDaiEQAkADQCAELQAAIAFBvM+AgABqLQAARw2sASABQQNGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBoAEhEAzEAgsgAEEANgIAIBBBAWohAUENIRAMqQELAkAgBCACRw0AQaEBIRAMwwILAkACQCAELQAAQbp/ag4LAKwBrAGsAawBrAGsAawBrAGsAQGsAQsgBEEBaiEEQYsBIRAMqgILIARBAWohBEGMASEQDKkCCwJAIAQgAkcNAEGiASEQDMICCyAELQAAQdAARw2pASAEQQFqIQQM6QELAkAgBCACRw0AQaMBIRAMwQILAkACQCAELQAAQbd/ag4HAaoBqgGqAaoBqgEAqgELIARBAWohBEGOASEQDKgCCyAEQQFqIQFBIiEQDKYBCwJAIAQgAkcNAEGkASEQDMACCyACIARrIAAoAgAiAWohFCAEIAFrQQFqIRACQANAIAQtAAAgAUHAz4CAAGotAABHDagBIAFBAUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGkASEQDMACCyAAQQA2AgAgEEEBaiEBQR0hEAylAQsCQCAEIAJHDQBBpQEhEAy/AgsCQAJAIAQtAABBrn9qDgMAqAEBqAELIARBAWohBEGQASEQDKYCCyAEQQFqIQFBBCEQDKQBCwJAIAQgAkcNAEGmASEQDL4CCwJAAkACQAJAAkAgBC0AAEG/f2oOFQCqAaoBqgGqAaoBqgGqAaoBqgGqAQGqAaoBAqoBqgEDqgGqAQSqAQsgBEEBaiEEQYgBIRAMqAILIARBAWohBEGJASEQDKcCCyAEQQFqIQRBigEhEAymAgsgBEEBaiEEQY8BIRAMpQILIARBAWohBEGRASEQDKQCCwJAIAQgAkcNAEGnASEQDL0CCyACIARrIAAoAgAiAWohFCAEIAFrQQJqIRACQANAIAQtAAAgAUHtz4CAAGotAABHDaUBIAFBAkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGnASEQDL0CCyAAQQA2AgAgEEEBaiEBQREhEAyiAQsCQCAEIAJHDQBBqAEhEAy8AgsgAiAEayAAKAIAIgFqIRQgBCABa0ECaiEQAkADQCAELQAAIAFBws+AgABqLQAARw2kASABQQJGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBqAEhEAy8AgsgAEEANgIAIBBBAWohAUEsIRAMoQELAkAgBCACRw0AQakBIRAMuwILIAIgBGsgACgCACIBaiEUIAQgAWtBBGohEAJAA0AgBC0AACABQcXPgIAAai0AAEcNowEgAUEERg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQakBIRAMuwILIABBADYCACAQQQFqIQFBKyEQDKABCwJAIAQgAkcNAEGqASEQDLoCCyACIARrIAAoAgAiAWohFCAEIAFrQQJqIRACQANAIAQtAAAgAUHKz4CAAGotAABHDaIBIAFBAkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGqASEQDLoCCyAAQQA2AgAgEEEBaiEBQRQhEAyfAQsCQCAEIAJHDQBBqwEhEAy5AgsCQAJAAkACQCAELQAAQb5/ag4PAAECpAGkAaQBpAGkAaQBpAGkAaQBpAGkAQOkAQsgBEEBaiEEQZMBIRAMogILIARBAWohBEGUASEQDKECCyAEQQFqIQRBlQEhEAygAgsgBEEBaiEEQZYBIRAMnwILAkAgBCACRw0AQawBIRAMuAILIAQtAABBxQBHDZ8BIARBAWohBAzgAQsCQCAEIAJHDQBBrQEhEAy3AgsgAiAEayAAKAIAIgFqIRQgBCABa0ECaiEQAkADQCAELQAAIAFBzc+AgABqLQAARw2fASABQQJGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBrQEhEAy3AgsgAEEANgIAIBBBAWohAUEOIRAMnAELAkAgBCACRw0AQa4BIRAMtgILIAQtAABB0ABHDZ0BIARBAWohAUElIRAMmwELAkAgBCACRw0AQa8BIRAMtQILIAIgBGsgACgCACIBaiEUIAQgAWtBCGohEAJAA0AgBC0AACABQdDPgIAAai0AAEcNnQEgAUEIRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQa8BIRAMtQILIABBADYCACAQQQFqIQFBKiEQDJoBCwJAIAQgAkcNAEGwASEQDLQCCwJAAkAgBC0AAEGrf2oOCwCdAZ0BnQGdAZ0BnQGdAZ0BnQEBnQELIARBAWohBEGaASEQDJsCCyAEQQFqIQRBmwEhEAyaAgsCQCAEIAJHDQBBsQEhEAyzAgsCQAJAIAQtAABBv39qDhQAnAGcAZwBnAGcAZwBnAGcAZwBnAGcAZwBnAGcAZwBnAGcAZwBAZwBCyAEQQFqIQRBmQEhEAyaAgsgBEEBaiEEQZwBIRAMmQILAkAgBCACRw0AQbIBIRAMsgILIAIgBGsgACgCACIBaiEUIAQgAWtBA2ohEAJAA0AgBC0AACABQdnPgIAAai0AAEcNmgEgAUEDRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQbIBIRAMsgILIABBADYCACAQQQFqIQFBISEQDJcBCwJAIAQgAkcNAEGzASEQDLECCyACIARrIAAoAgAiAWohFCAEIAFrQQZqIRACQANAIAQtAAAgAUHdz4CAAGotAABHDZkBIAFBBkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGzASEQDLECCyAAQQA2AgAgEEEBaiEBQRohEAyWAQsCQCAEIAJHDQBBtAEhEAywAgsCQAJAAkAgBC0AAEG7f2oOEQCaAZoBmgGaAZoBmgGaAZoBmgEBmgGaAZoBmgGaAQKaAQsgBEEBaiEEQZ0BIRAMmAILIARBAWohBEGeASEQDJcCCyAEQQFqIQRBnwEhEAyWAgsCQCAEIAJHDQBBtQEhEAyvAgsgAiAEayAAKAIAIgFqIRQgBCABa0EFaiEQAkADQCAELQAAIAFB5M+AgABqLQAARw2XASABQQVGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBtQEhEAyvAgsgAEEANgIAIBBBAWohAUEoIRAMlAELAkAgBCACRw0AQbYBIRAMrgILIAIgBGsgACgCACIBaiEUIAQgAWtBAmohEAJAA0AgBC0AACABQerPgIAAai0AAEcNlgEgAUECRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQbYBIRAMrgILIABBADYCACAQQQFqIQFBByEQDJMBCwJAIAQgAkcNAEG3ASEQDK0CCwJAAkAgBC0AAEG7f2oODgCWAZYBlgGWAZYBlgGWAZYBlgGWAZYBlgEBlgELIARBAWohBEGhASEQDJQCCyAEQQFqIQRBogEhEAyTAgsCQCAEIAJHDQBBuAEhEAysAgsgAiAEayAAKAIAIgFqIRQgBCABa0ECaiEQAkADQCAELQAAIAFB7c+AgABqLQAARw2UASABQQJGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBuAEhEAysAgsgAEEANgIAIBBBAWohAUESIRAMkQELAkAgBCACRw0AQbkBIRAMqwILIAIgBGsgACgCACIBaiEUIAQgAWtBAWohEAJAA0AgBC0AACABQfDPgIAAai0AAEcNkwEgAUEBRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQbkBIRAMqwILIABBADYCACAQQQFqIQFBICEQDJABCwJAIAQgAkcNAEG6ASEQDKoCCyACIARrIAAoAgAiAWohFCAEIAFrQQFqIRACQANAIAQtAAAgAUHyz4CAAGotAABHDZIBIAFBAUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEG6ASEQDKoCCyAAQQA2AgAgEEEBaiEBQQ8hEAyPAQsCQCAEIAJHDQBBuwEhEAypAgsCQAJAIAQtAABBt39qDgcAkgGSAZIBkgGSAQGSAQsgBEEBaiEEQaUBIRAMkAILIARBAWohBEGmASEQDI8CCwJAIAQgAkcNAEG8ASEQDKgCCyACIARrIAAoAgAiAWohFCAEIAFrQQdqIRACQANAIAQtAAAgAUH0z4CAAGotAABHDZABIAFBB0YNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEG8ASEQDKgCCyAAQQA2AgAgEEEBaiEBQRshEAyNAQsCQCAEIAJHDQBBvQEhEAynAgsCQAJAAkAgBC0AAEG+f2oOEgCRAZEBkQGRAZEBkQGRAZEBkQEBkQGRAZEBkQGRAZEBApEBCyAEQQFqIQRBpAEhEAyPAgsgBEEBaiEEQacBIRAMjgILIARBAWohBEGoASEQDI0CCwJAIAQgAkcNAEG+ASEQDKYCCyAELQAAQc4ARw2NASAEQQFqIQQMzwELAkAgBCACRw0AQb8BIRAMpQILAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgBC0AAEG/f2oOFQABAgOcAQQFBpwBnAGcAQcICQoLnAEMDQ4PnAELIARBAWohAUHoACEQDJoCCyAEQQFqIQFB6QAhEAyZAgsgBEEBaiEBQe4AIRAMmAILIARBAWohAUHyACEQDJcCCyAEQQFqIQFB8wAhEAyWAgsgBEEBaiEBQfYAIRAMlQILIARBAWohAUH3ACEQDJQCCyAEQQFqIQFB+gAhEAyTAgsgBEEBaiEEQYMBIRAMkgILIARBAWohBEGEASEQDJECCyAEQQFqIQRBhQEhEAyQAgsgBEEBaiEEQZIBIRAMjwILIARBAWohBEGYASEQDI4CCyAEQQFqIQRBoAEhEAyNAgsgBEEBaiEEQaMBIRAMjAILIARBAWohBEGqASEQDIsCCwJAIAQgAkYNACAAQZCAgIAANgIIIAAgBDYCBEGrASEQDIsCC0HAASEQDKMCCyAAIAUgAhCqgICAACIBDYsBIAUhAQxcCwJAIAYgAkYNACAGQQFqIQUMjQELQcIBIRAMoQILA0ACQCAQLQAAQXZqDgSMAQAAjwEACyAQQQFqIhAgAkcNAAtBwwEhEAygAgsCQCAHIAJGDQAgAEGRgICAADYCCCAAIAc2AgQgByEBQQEhEAyHAgtBxAEhEAyfAgsCQCAHIAJHDQBBxQEhEAyfAgsCQAJAIActAABBdmoOBAHOAc4BAM4BCyAHQQFqIQYMjQELIAdBAWohBQyJAQsCQCAHIAJHDQBBxgEhEAyeAgsCQAJAIActAABBdmoOFwGPAY8BAY8BjwGPAY8BjwGPAY8BjwGPAY8BjwGPAY8BjwGPAY8BjwGPAQCPAQsgB0EBaiEHC0GwASEQDIQCCwJAIAggAkcNAEHIASEQDJ0CCyAILQAAQSBHDY0BIABBADsBMiAIQQFqIQFBswEhEAyDAgsgASEXAkADQCAXIgcgAkYNASAHLQAAQVBqQf8BcSIQQQpPDcwBAkAgAC8BMiIUQZkzSw0AIAAgFEEKbCIUOwEyIBBB//8DcyAUQf7/A3FJDQAgB0EBaiEXIAAgFCAQaiIQOwEyIBBB//8DcUHoB0kNAQsLQQAhECAAQQA2AhwgAEHBiYCAADYCECAAQQ02AgwgACAHQQFqNgIUDJwCC0HHASEQDJsCCyAAIAggAhCugICAACIQRQ3KASAQQRVHDYwBIABByAE2AhwgACAINgIUIABByZeAgAA2AhAgAEEVNgIMQQAhEAyaAgsCQCAJIAJHDQBBzAEhEAyaAgtBACEUQQEhF0EBIRZBACEQAkACQAJAAkACQAJAAkACQAJAIAktAABBUGoOCpYBlQEAAQIDBAUGCJcBC0ECIRAMBgtBAyEQDAULQQQhEAwEC0EFIRAMAwtBBiEQDAILQQchEAwBC0EIIRALQQAhF0EAIRZBACEUDI4BC0EJIRBBASEUQQAhF0EAIRYMjQELAkAgCiACRw0AQc4BIRAMmQILIAotAABBLkcNjgEgCkEBaiEJDMoBCyALIAJHDY4BQdABIRAMlwILAkAgCyACRg0AIABBjoCAgAA2AgggACALNgIEQbcBIRAM/gELQdEBIRAMlgILAkAgBCACRw0AQdIBIRAMlgILIAIgBGsgACgCACIQaiEUIAQgEGtBBGohCwNAIAQtAAAgEEH8z4CAAGotAABHDY4BIBBBBEYN6QEgEEEBaiEQIARBAWoiBCACRw0ACyAAIBQ2AgBB0gEhEAyVAgsgACAMIAIQrICAgAAiAQ2NASAMIQEMuAELAkAgBCACRw0AQdQBIRAMlAILIAIgBGsgACgCACIQaiEUIAQgEGtBAWohDANAIAQtAAAgEEGB0ICAAGotAABHDY8BIBBBAUYNjgEgEEEBaiEQIARBAWoiBCACRw0ACyAAIBQ2AgBB1AEhEAyTAgsCQCAEIAJHDQBB1gEhEAyTAgsgAiAEayAAKAIAIhBqIRQgBCAQa0ECaiELA0AgBC0AACAQQYPQgIAAai0AAEcNjgEgEEECRg2QASAQQQFqIRAgBEEBaiIEIAJHDQALIAAgFDYCAEHWASEQDJICCwJAIAQgAkcNAEHXASEQDJICCwJAAkAgBC0AAEG7f2oOEACPAY8BjwGPAY8BjwGPAY8BjwGPAY8BjwGPAY8BAY8BCyAEQQFqIQRBuwEhEAz5AQsgBEEBaiEEQbwBIRAM+AELAkAgBCACRw0AQdgBIRAMkQILIAQtAABByABHDYwBIARBAWohBAzEAQsCQCAEIAJGDQAgAEGQgICAADYCCCAAIAQ2AgRBvgEhEAz3AQtB2QEhEAyPAgsCQCAEIAJHDQBB2gEhEAyPAgsgBC0AAEHIAEYNwwEgAEEBOgAoDLkBCyAAQQI6AC8gACAEIAIQpoCAgAAiEA2NAUHCASEQDPQBCyAALQAoQX9qDgK3AbkBuAELA0ACQCAELQAAQXZqDgQAjgGOAQCOAQsgBEEBaiIEIAJHDQALQd0BIRAMiwILIABBADoALyAALQAtQQRxRQ2EAgsgAEEAOgAvIABBAToANCABIQEMjAELIBBBFUYN2gEgAEEANgIcIAAgATYCFCAAQaeOgIAANgIQIABBEjYCDEEAIRAMiAILAkAgACAQIAIQtICAgAAiBA0AIBAhAQyBAgsCQCAEQRVHDQAgAEEDNgIcIAAgEDYCFCAAQbCYgIAANgIQIABBFTYCDEEAIRAMiAILIABBADYCHCAAIBA2AhQgAEGnjoCAADYCECAAQRI2AgxBACEQDIcCCyAQQRVGDdYBIABBADYCHCAAIAE2AhQgAEHajYCAADYCECAAQRQ2AgxBACEQDIYCCyAAKAIEIRcgAEEANgIEIBAgEadqIhYhASAAIBcgECAWIBQbIhAQtYCAgAAiFEUNjQEgAEEHNgIcIAAgEDYCFCAAIBQ2AgxBACEQDIUCCyAAIAAvATBBgAFyOwEwIAEhAQtBKiEQDOoBCyAQQRVGDdEBIABBADYCHCAAIAE2AhQgAEGDjICAADYCECAAQRM2AgxBACEQDIICCyAQQRVGDc8BIABBADYCHCAAIAE2AhQgAEGaj4CAADYCECAAQSI2AgxBACEQDIECCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQt4CAgAAiEA0AIAFBAWohAQyNAQsgAEEMNgIcIAAgEDYCDCAAIAFBAWo2AhRBACEQDIACCyAQQRVGDcwBIABBADYCHCAAIAE2AhQgAEGaj4CAADYCECAAQSI2AgxBACEQDP8BCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQt4CAgAAiEA0AIAFBAWohAQyMAQsgAEENNgIcIAAgEDYCDCAAIAFBAWo2AhRBACEQDP4BCyAQQRVGDckBIABBADYCHCAAIAE2AhQgAEHGjICAADYCECAAQSM2AgxBACEQDP0BCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQuYCAgAAiEA0AIAFBAWohAQyLAQsgAEEONgIcIAAgEDYCDCAAIAFBAWo2AhRBACEQDPwBCyAAQQA2AhwgACABNgIUIABBwJWAgAA2AhAgAEECNgIMQQAhEAz7AQsgEEEVRg3FASAAQQA2AhwgACABNgIUIABBxoyAgAA2AhAgAEEjNgIMQQAhEAz6AQsgAEEQNgIcIAAgATYCFCAAIBA2AgxBACEQDPkBCyAAKAIEIQQgAEEANgIEAkAgACAEIAEQuYCAgAAiBA0AIAFBAWohAQzxAQsgAEERNgIcIAAgBDYCDCAAIAFBAWo2AhRBACEQDPgBCyAQQRVGDcEBIABBADYCHCAAIAE2AhQgAEHGjICAADYCECAAQSM2AgxBACEQDPcBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQuYCAgAAiEA0AIAFBAWohAQyIAQsgAEETNgIcIAAgEDYCDCAAIAFBAWo2AhRBACEQDPYBCyAAKAIEIQQgAEEANgIEAkAgACAEIAEQuYCAgAAiBA0AIAFBAWohAQztAQsgAEEUNgIcIAAgBDYCDCAAIAFBAWo2AhRBACEQDPUBCyAQQRVGDb0BIABBADYCHCAAIAE2AhQgAEGaj4CAADYCECAAQSI2AgxBACEQDPQBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQt4CAgAAiEA0AIAFBAWohAQyGAQsgAEEWNgIcIAAgEDYCDCAAIAFBAWo2AhRBACEQDPMBCyAAKAIEIQQgAEEANgIEAkAgACAEIAEQt4CAgAAiBA0AIAFBAWohAQzpAQsgAEEXNgIcIAAgBDYCDCAAIAFBAWo2AhRBACEQDPIBCyAAQQA2AhwgACABNgIUIABBzZOAgAA2AhAgAEEMNgIMQQAhEAzxAQtCASERCyAQQQFqIQECQCAAKQMgIhJC//////////8PVg0AIAAgEkIEhiARhDcDICABIQEMhAELIABBADYCHCAAIAE2AhQgAEGtiYCAADYCECAAQQw2AgxBACEQDO8BCyAAQQA2AhwgACAQNgIUIABBzZOAgAA2AhAgAEEMNgIMQQAhEAzuAQsgACgCBCEXIABBADYCBCAQIBGnaiIWIQEgACAXIBAgFiAUGyIQELWAgIAAIhRFDXMgAEEFNgIcIAAgEDYCFCAAIBQ2AgxBACEQDO0BCyAAQQA2AhwgACAQNgIUIABBqpyAgAA2AhAgAEEPNgIMQQAhEAzsAQsgACAQIAIQtICAgAAiAQ0BIBAhAQtBDiEQDNEBCwJAIAFBFUcNACAAQQI2AhwgACAQNgIUIABBsJiAgAA2AhAgAEEVNgIMQQAhEAzqAQsgAEEANgIcIAAgEDYCFCAAQaeOgIAANgIQIABBEjYCDEEAIRAM6QELIAFBAWohEAJAIAAvATAiAUGAAXFFDQACQCAAIBAgAhC7gICAACIBDQAgECEBDHALIAFBFUcNugEgAEEFNgIcIAAgEDYCFCAAQfmXgIAANgIQIABBFTYCDEEAIRAM6QELAkAgAUGgBHFBoARHDQAgAC0ALUECcQ0AIABBADYCHCAAIBA2AhQgAEGWk4CAADYCECAAQQQ2AgxBACEQDOkBCyAAIBAgAhC9gICAABogECEBAkACQAJAAkACQCAAIBAgAhCzgICAAA4WAgEABAQEBAQEBAQEBAQEBAQEBAQEAwQLIABBAToALgsgACAALwEwQcAAcjsBMCAQIQELQSYhEAzRAQsgAEEjNgIcIAAgEDYCFCAAQaWWgIAANgIQIABBFTYCDEEAIRAM6QELIABBADYCHCAAIBA2AhQgAEHVi4CAADYCECAAQRE2AgxBACEQDOgBCyAALQAtQQFxRQ0BQcMBIRAMzgELAkAgDSACRg0AA0ACQCANLQAAQSBGDQAgDSEBDMQBCyANQQFqIg0gAkcNAAtBJSEQDOcBC0ElIRAM5gELIAAoAgQhBCAAQQA2AgQgACAEIA0Qr4CAgAAiBEUNrQEgAEEmNgIcIAAgBDYCDCAAIA1BAWo2AhRBACEQDOUBCyAQQRVGDasBIABBADYCHCAAIAE2AhQgAEH9jYCAADYCECAAQR02AgxBACEQDOQBCyAAQSc2AhwgACABNgIUIAAgEDYCDEEAIRAM4wELIBAhAUEBIRQCQAJAAkACQAJAAkACQCAALQAsQX5qDgcGBQUDAQIABQsgACAALwEwQQhyOwEwDAMLQQIhFAwBC0EEIRQLIABBAToALCAAIAAvATAgFHI7ATALIBAhAQtBKyEQDMoBCyAAQQA2AhwgACAQNgIUIABBq5KAgAA2AhAgAEELNgIMQQAhEAziAQsgAEEANgIcIAAgATYCFCAAQeGPgIAANgIQIABBCjYCDEEAIRAM4QELIABBADoALCAQIQEMvQELIBAhAUEBIRQCQAJAAkACQAJAIAAtACxBe2oOBAMBAgAFCyAAIAAvATBBCHI7ATAMAwtBAiEUDAELQQQhFAsgAEEBOgAsIAAgAC8BMCAUcjsBMAsgECEBC0EpIRAMxQELIABBADYCHCAAIAE2AhQgAEHwlICAADYCECAAQQM2AgxBACEQDN0BCwJAIA4tAABBDUcNACAAKAIEIQEgAEEANgIEAkAgACABIA4QsYCAgAAiAQ0AIA5BAWohAQx1CyAAQSw2AhwgACABNgIMIAAgDkEBajYCFEEAIRAM3QELIAAtAC1BAXFFDQFBxAEhEAzDAQsCQCAOIAJHDQBBLSEQDNwBCwJAAkADQAJAIA4tAABBdmoOBAIAAAMACyAOQQFqIg4gAkcNAAtBLSEQDN0BCyAAKAIEIQEgAEEANgIEAkAgACABIA4QsYCAgAAiAQ0AIA4hAQx0CyAAQSw2AhwgACAONgIUIAAgATYCDEEAIRAM3AELIAAoAgQhASAAQQA2AgQCQCAAIAEgDhCxgICAACIBDQAgDkEBaiEBDHMLIABBLDYCHCAAIAE2AgwgACAOQQFqNgIUQQAhEAzbAQsgACgCBCEEIABBADYCBCAAIAQgDhCxgICAACIEDaABIA4hAQzOAQsgEEEsRw0BIAFBAWohEEEBIQECQAJAAkACQAJAIAAtACxBe2oOBAMBAgQACyAQIQEMBAtBAiEBDAELQQQhAQsgAEEBOgAsIAAgAC8BMCABcjsBMCAQIQEMAQsgACAALwEwQQhyOwEwIBAhAQtBOSEQDL8BCyAAQQA6ACwgASEBC0E0IRAMvQELIAAgAC8BMEEgcjsBMCABIQEMAgsgACgCBCEEIABBADYCBAJAIAAgBCABELGAgIAAIgQNACABIQEMxwELIABBNzYCHCAAIAE2AhQgACAENgIMQQAhEAzUAQsgAEEIOgAsIAEhAQtBMCEQDLkBCwJAIAAtAChBAUYNACABIQEMBAsgAC0ALUEIcUUNkwEgASEBDAMLIAAtADBBIHENlAFBxQEhEAy3AQsCQCAPIAJGDQACQANAAkAgDy0AAEFQaiIBQf8BcUEKSQ0AIA8hAUE1IRAMugELIAApAyAiEUKZs+bMmbPmzBlWDQEgACARQgp+IhE3AyAgESABrUL/AYMiEkJ/hVYNASAAIBEgEnw3AyAgD0EBaiIPIAJHDQALQTkhEAzRAQsgACgCBCECIABBADYCBCAAIAIgD0EBaiIEELGAgIAAIgINlQEgBCEBDMMBC0E5IRAMzwELAkAgAC8BMCIBQQhxRQ0AIAAtAChBAUcNACAALQAtQQhxRQ2QAQsgACABQff7A3FBgARyOwEwIA8hAQtBNyEQDLQBCyAAIAAvATBBEHI7ATAMqwELIBBBFUYNiwEgAEEANgIcIAAgATYCFCAAQfCOgIAANgIQIABBHDYCDEEAIRAMywELIABBwwA2AhwgACABNgIMIAAgDUEBajYCFEEAIRAMygELAkAgAS0AAEE6Rw0AIAAoAgQhECAAQQA2AgQCQCAAIBAgARCvgICAACIQDQAgAUEBaiEBDGMLIABBwwA2AhwgACAQNgIMIAAgAUEBajYCFEEAIRAMygELIABBADYCHCAAIAE2AhQgAEGxkYCAADYCECAAQQo2AgxBACEQDMkBCyAAQQA2AhwgACABNgIUIABBoJmAgAA2AhAgAEEeNgIMQQAhEAzIAQsgAEEANgIACyAAQYASOwEqIAAgF0EBaiIBIAIQqICAgAAiEA0BIAEhAQtBxwAhEAysAQsgEEEVRw2DASAAQdEANgIcIAAgATYCFCAAQeOXgIAANgIQIABBFTYCDEEAIRAMxAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDF4LIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMwwELIABBADYCHCAAIBQ2AhQgAEHBqICAADYCECAAQQc2AgwgAEEANgIAQQAhEAzCAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMXQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAzBAQtBACEQIABBADYCHCAAIAE2AhQgAEGAkYCAADYCECAAQQk2AgwMwAELIBBBFUYNfSAAQQA2AhwgACABNgIUIABBlI2AgAA2AhAgAEEhNgIMQQAhEAy/AQtBASEWQQAhF0EAIRRBASEQCyAAIBA6ACsgAUEBaiEBAkACQCAALQAtQRBxDQACQAJAAkAgAC0AKg4DAQACBAsgFkUNAwwCCyAUDQEMAgsgF0UNAQsgACgCBCEQIABBADYCBAJAIAAgECABEK2AgIAAIhANACABIQEMXAsgAEHYADYCHCAAIAE2AhQgACAQNgIMQQAhEAy+AQsgACgCBCEEIABBADYCBAJAIAAgBCABEK2AgIAAIgQNACABIQEMrQELIABB2QA2AhwgACABNgIUIAAgBDYCDEEAIRAMvQELIAAoAgQhBCAAQQA2AgQCQCAAIAQgARCtgICAACIEDQAgASEBDKsBCyAAQdoANgIcIAAgATYCFCAAIAQ2AgxBACEQDLwBCyAAKAIEIQQgAEEANgIEAkAgACAEIAEQrYCAgAAiBA0AIAEhAQypAQsgAEHcADYCHCAAIAE2AhQgACAENgIMQQAhEAy7AQsCQCABLQAAQVBqIhBB/wFxQQpPDQAgACAQOgAqIAFBAWohAUHPACEQDKIBCyAAKAIEIQQgAEEANgIEAkAgACAEIAEQrYCAgAAiBA0AIAEhAQynAQsgAEHeADYCHCAAIAE2AhQgACAENgIMQQAhEAy6AQsgAEEANgIAIBdBAWohAQJAIAAtAClBI08NACABIQEMWQsgAEEANgIcIAAgATYCFCAAQdOJgIAANgIQIABBCDYCDEEAIRAMuQELIABBADYCAAtBACEQIABBADYCHCAAIAE2AhQgAEGQs4CAADYCECAAQQg2AgwMtwELIABBADYCACAXQQFqIQECQCAALQApQSFHDQAgASEBDFYLIABBADYCHCAAIAE2AhQgAEGbioCAADYCECAAQQg2AgxBACEQDLYBCyAAQQA2AgAgF0EBaiEBAkAgAC0AKSIQQV1qQQtPDQAgASEBDFULAkAgEEEGSw0AQQEgEHRBygBxRQ0AIAEhAQxVC0EAIRAgAEEANgIcIAAgATYCFCAAQfeJgIAANgIQIABBCDYCDAy1AQsgEEEVRg1xIABBADYCHCAAIAE2AhQgAEG5jYCAADYCECAAQRo2AgxBACEQDLQBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxUCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLMBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdIANgIcIAAgATYCFCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAUNgIUIAAgATYCDEEAIRAMogELIABBADYCHCAAIBQ2AhQgAEHDj4CAADYCECAAQQc2AgxBACEQDKEBCyAAQQA2AhwgACABNgIUIABBw4+AgAA2AhAgAEEHNgIMQQAhEAygAQtBACEQIABBADYCHCAAIBQ2AhQgAEGMnICAADYCECAAQQc2AgwMnwELIABBADYCHCAAIBQ2AhQgAEGMnICAADYCECAAQQc2AgxBACEQDJ4BCyAAQQA2AhwgACAUNgIUIABB/pGAgAA2AhAgAEEHNgIMQQAhEAydAQsgAEEANgIcIAAgATYCFCAAQY6bgIAANgIQIABBBjYCDEEAIRAMnAELIBBBFUYNVyAAQQA2AhwgACABNgIUIABBzI6AgAA2AhAgAEEgNgIMQQAhEAybAQsgAEEANgIAIBBBAWohAUEkIRALIAAgEDoAKSAAKAIEIRAgAEEANgIEIAAgECABEKuAgIAAIhANVCABIQEMPgsgAEEANgIAC0EAIRAgAEEANgIcIAAgBDYCFCAAQfGbgIAANgIQIABBBjYCDAyXAQsgAUEVRg1QIABBADYCHCAAIAU2AhQgAEHwjICAADYCECAAQRs2AgxBACEQDJYBCyAAKAIEIQUgAEEANgIEIAAgBSAQEKmAgIAAIgUNASAQQQFqIQULQa0BIRAMewsgAEHBATYCHCAAIAU2AgwgACAQQQFqNgIUQQAhEAyTAQsgACgCBCEGIABBADYCBCAAIAYgEBCpgICAACIGDQEgEEEBaiEGC0GuASEQDHgLIABBwgE2AhwgACAGNgIMIAAgEEEBajYCFEEAIRAMkAELIABBADYCHCAAIAc2AhQgAEGXi4CAADYCECAAQQ02AgxBACEQDI8BCyAAQQA2AhwgACAINgIUIABB45CAgAA2AhAgAEEJNgIMQQAhEAyOAQsgAEEANgIcIAAgCDYCFCAAQZSNgIAANgIQIABBITYCDEEAIRAMjQELQQEhFkEAIRdBACEUQQEhEAsgACAQOgArIAlBAWohCAJAAkAgAC0ALUEQcQ0AAkACQAJAIAAtACoOAwEAAgQLIBZFDQMMAgsgFA0BDAILIBdFDQELIAAoAgQhECAAQQA2AgQgACAQIAgQrYCAgAAiEEUNPSAAQckBNgIcIAAgCDYCFCAAIBA2AgxBACEQDIwBCyAAKAIEIQQgAEEANgIEIAAgBCAIEK2AgIAAIgRFDXYgAEHKATYCHCAAIAg2AhQgACAENgIMQQAhEAyLAQsgACgCBCEEIABBADYCBCAAIAQgCRCtgICAACIERQ10IABBywE2AhwgACAJNgIUIAAgBDYCDEEAIRAMigELIAAoAgQhBCAAQQA2AgQgACAEIAoQrYCAgAAiBEUNciAAQc0BNgIcIAAgCjYCFCAAIAQ2AgxBACEQDIkBCwJAIAstAABBUGoiEEH/AXFBCk8NACAAIBA6ACogC0EBaiEKQbYBIRAMcAsgACgCBCEEIABBADYCBCAAIAQgCxCtgICAACIERQ1wIABBzwE2AhwgACALNgIUIAAgBDYCDEEAIRAMiAELIABBADYCHCAAIAQ2AhQgAEGQs4CAADYCECAAQQg2AgwgAEEANgIAQQAhEAyHAQsgAUEVRg0/IABBADYCHCAAIAw2AhQgAEHMjoCAADYCECAAQSA2AgxBACEQDIYBCyAAQYEEOwEoIAAoAgQhECAAQgA3AwAgACAQIAxBAWoiDBCrgICAACIQRQ04IABB0wE2AhwgACAMNgIUIAAgEDYCDEEAIRAMhQELIABBADYCAAtBACEQIABBADYCHCAAIAQ2AhQgAEHYm4CAADYCECAAQQg2AgwMgwELIAAoAgQhECAAQgA3AwAgACAQIAtBAWoiCxCrgICAACIQDQFBxgEhEAxpCyAAQQI6ACgMVQsgAEHVATYCHCAAIAs2AhQgACAQNgIMQQAhEAyAAQsgEEEVRg03IABBADYCHCAAIAQ2AhQgAEGkjICAADYCECAAQRA2AgxBACEQDH8LIAAtADRBAUcNNCAAIAQgAhC8gICAACIQRQ00IBBBFUcNNSAAQdwBNgIcIAAgBDYCFCAAQdWWgIAANgIQIABBFTYCDEEAIRAMfgtBACEQIABBADYCHCAAQa+LgIAANgIQIABBAjYCDCAAIBRBAWo2AhQMfQtBACEQDGMLQQIhEAxiC0ENIRAMYQtBDyEQDGALQSUhEAxfC0ETIRAMXgtBFSEQDF0LQRYhEAxcC0EXIRAMWwtBGCEQDFoLQRkhEAxZC0EaIRAMWAtBGyEQDFcLQRwhEAxWC0EdIRAMVQtBHyEQDFQLQSEhEAxTC0EjIRAMUgtBxgAhEAxRC0EuIRAMUAtBLyEQDE8LQTshEAxOC0E9IRAMTQtByAAhEAxMC0HJACEQDEsLQcsAIRAMSgtBzAAhEAxJC0HOACEQDEgLQdEAIRAMRwtB1QAhEAxGC0HYACEQDEULQdkAIRAMRAtB2wAhEAxDC0HkACEQDEILQeUAIRAMQQtB8QAhEAxAC0H0ACEQDD8LQY0BIRAMPgtBlwEhEAw9C0GpASEQDDwLQawBIRAMOwtBwAEhEAw6C0G5ASEQDDkLQa8BIRAMOAtBsQEhEAw3C0GyASEQDDYLQbQBIRAMNQtBtQEhEAw0C0G6ASEQDDMLQb0BIRAMMgtBvwEhEAwxC0HBASEQDDALIABBADYCHCAAIAQ2AhQgAEHpi4CAADYCECAAQR82AgxBACEQDEgLIABB2wE2AhwgACAENgIUIABB+paAgAA2AhAgAEEVNgIMQQAhEAxHCyAAQfgANgIcIAAgDDYCFCAAQcqYgIAANgIQIABBFTYCDEEAIRAMRgsgAEHRADYCHCAAIAU2AhQgAEGwl4CAADYCECAAQRU2AgxBACEQDEULIABB+QA2AhwgACABNgIUIAAgEDYCDEEAIRAMRAsgAEH4ADYCHCAAIAE2AhQgAEHKmICAADYCECAAQRU2AgxBACEQDEMLIABB5AA2AhwgACABNgIUIABB45eAgAA2AhAgAEEVNgIMQQAhEAxCCyAAQdcANgIcIAAgATYCFCAAQcmXgIAANgIQIABBFTYCDEEAIRAMQQsgAEEANgIcIAAgATYCFCAAQbmNgIAANgIQIABBGjYCDEEAIRAMQAsgAEHCADYCHCAAIAE2AhQgAEHjmICAADYCECAAQRU2AgxBACEQDD8LIABBADYCBCAAIA8gDxCxgICAACIERQ0BIABBOjYCHCAAIAQ2AgwgACAPQQFqNgIUQQAhEAw+CyAAKAIEIQQgAEEANgIEAkAgACAEIAEQsYCAgAAiBEUNACAAQTs2AhwgACAENgIMIAAgAUEBajYCFEEAIRAMPgsgAUEBaiEBDC0LIA9BAWohAQwtCyAAQQA2AhwgACAPNgIUIABB5JKAgAA2AhAgAEEENgIMQQAhEAw7CyAAQTY2AhwgACAENgIUIAAgAjYCDEEAIRAMOgsgAEEuNgIcIAAgDjYCFCAAIAQ2AgxBACEQDDkLIABB0AA2AhwgACABNgIUIABBkZiAgAA2AhAgAEEVNgIMQQAhEAw4CyANQQFqIQEMLAsgAEEVNgIcIAAgATYCFCAAQYKZgIAANgIQIABBFTYCDEEAIRAMNgsgAEEbNgIcIAAgATYCFCAAQZGXgIAANgIQIABBFTYCDEEAIRAMNQsgAEEPNgIcIAAgATYCFCAAQZGXgIAANgIQIABBFTYCDEEAIRAMNAsgAEELNgIcIAAgATYCFCAAQZGXgIAANgIQIABBFTYCDEEAIRAMMwsgAEEaNgIcIAAgATYCFCAAQYKZgIAANgIQIABBFTYCDEEAIRAMMgsgAEELNgIcIAAgATYCFCAAQYKZgIAANgIQIABBFTYCDEEAIRAMMQsgAEEKNgIcIAAgATYCFCAAQeSWgIAANgIQIABBFTYCDEEAIRAMMAsgAEEeNgIcIAAgATYCFCAAQfmXgIAANgIQIABBFTYCDEEAIRAMLwsgAEEANgIcIAAgEDYCFCAAQdqNgIAANgIQIABBFDYCDEEAIRAMLgsgAEEENgIcIAAgATYCFCAAQbCYgIAANgIQIABBFTYCDEEAIRAMLQsgAEEANgIAIAtBAWohCwtBuAEhEAwSCyAAQQA2AgAgEEEBaiEBQfUAIRAMEQsgASEBAkAgAC0AKUEFRw0AQeMAIRAMEQtB4gAhEAwQC0EAIRAgAEEANgIcIABB5JGAgAA2AhAgAEEHNgIMIAAgFEEBajYCFAwoCyAAQQA2AgAgF0EBaiEBQcAAIRAMDgtBASEBCyAAIAE6ACwgAEEANgIAIBdBAWohAQtBKCEQDAsLIAEhAQtBOCEQDAkLAkAgASIPIAJGDQADQAJAIA8tAABBgL6AgABqLQAAIgFBAUYNACABQQJHDQMgD0EBaiEBDAQLIA9BAWoiDyACRw0AC0E+IRAMIgtBPiEQDCELIABBADoALCAPIQEMAQtBCyEQDAYLQTohEAwFCyABQQFqIQFBLSEQDAQLIAAgAToALCAAQQA2AgAgFkEBaiEBQQwhEAwDCyAAQQA2AgAgF0EBaiEBQQohEAwCCyAAQQA2AgALIABBADoALCANIQFBCSEQDAALC0EAIRAgAEEANgIcIAAgCzYCFCAAQc2QgIAANgIQIABBCTYCDAwXC0EAIRAgAEEANgIcIAAgCjYCFCAAQemKgIAANgIQIABBCTYCDAwWC0EAIRAgAEEANgIcIAAgCTYCFCAAQbeQgIAANgIQIABBCTYCDAwVC0EAIRAgAEEANgIcIAAgCDYCFCAAQZyRgIAANgIQIABBCTYCDAwUC0EAIRAgAEEANgIcIAAgATYCFCAAQc2QgIAANgIQIABBCTYCDAwTC0EAIRAgAEEANgIcIAAgATYCFCAAQemKgIAANgIQIABBCTYCDAwSC0EAIRAgAEEANgIcIAAgATYCFCAAQbeQgIAANgIQIABBCTYCDAwRC0EAIRAgAEEANgIcIAAgATYCFCAAQZyRgIAANgIQIABBCTYCDAwQC0EAIRAgAEEANgIcIAAgATYCFCAAQZeVgIAANgIQIABBDzYCDAwPC0EAIRAgAEEANgIcIAAgATYCFCAAQZeVgIAANgIQIABBDzYCDAwOC0EAIRAgAEEANgIcIAAgATYCFCAAQcCSgIAANgIQIABBCzYCDAwNC0EAIRAgAEEANgIcIAAgATYCFCAAQZWJgIAANgIQIABBCzYCDAwMC0EAIRAgAEEANgIcIAAgATYCFCAAQeGPgIAANgIQIABBCjYCDAwLC0EAIRAgAEEANgIcIAAgATYCFCAAQfuPgIAANgIQIABBCjYCDAwKC0EAIRAgAEEANgIcIAAgATYCFCAAQfGZgIAANgIQIABBAjYCDAwJC0EAIRAgAEEANgIcIAAgATYCFCAAQcSUgIAANgIQIABBAjYCDAwIC0EAIRAgAEEANgIcIAAgATYCFCAAQfKVgIAANgIQIABBAjYCDAwHCyAAQQI2AhwgACABNgIUIABBnJqAgAA2AhAgAEEWNgIMQQAhEAwGC0EBIRAMBQtB1AAhECABIgQgAkYNBCADQQhqIAAgBCACQdjCgIAAQQoQxYCAgAAgAygCDCEEIAMoAggOAwEEAgALEMqAgIAAAAsgAEEANgIcIABBtZqAgAA2AhAgAEEXNgIMIAAgBEEBajYCFEEAIRAMAgsgAEEANgIcIAAgBDYCFCAAQcqagIAANgIQIABBCTYCDEEAIRAMAQsCQCABIgQgAkcNAEEiIRAMAQsgAEGJgICAADYCCCAAIAQ2AgRBISEQCyADQRBqJICAgIAAIBALrwEBAn8gASgCACEGAkACQCACIANGDQAgBCAGaiEEIAYgA2ogAmshByACIAZBf3MgBWoiBmohBQNAAkAgAi0AACAELQAARg0AQQIhBAwDCwJAIAYNAEEAIQQgBSECDAMLIAZBf2ohBiAEQQFqIQQgAkEBaiICIANHDQALIAchBiADIQILIABBATYCACABIAY2AgAgACACNgIEDwsgAUEANgIAIAAgBDYCACAAIAI2AgQLCgAgABDHgICAAAvyNgELfyOAgICAAEEQayIBJICAgIAAAkBBACgCoNCAgAANAEEAEMuAgIAAQYDUhIAAayICQdkASQ0AQQAhAwJAQQAoAuDTgIAAIgQNAEEAQn83AuzTgIAAQQBCgICEgICAwAA3AuTTgIAAQQAgAUEIakFwcUHYqtWqBXMiBDYC4NOAgABBAEEANgL004CAAEEAQQA2AsTTgIAAC0EAIAI2AszTgIAAQQBBgNSEgAA2AsjTgIAAQQBBgNSEgAA2ApjQgIAAQQAgBDYCrNCAgABBAEF/NgKo0ICAAANAIANBxNCAgABqIANBuNCAgABqIgQ2AgAgBCADQbDQgIAAaiIFNgIAIANBvNCAgABqIAU2AgAgA0HM0ICAAGogA0HA0ICAAGoiBTYCACAFIAQ2AgAgA0HU0ICAAGogA0HI0ICAAGoiBDYCACAEIAU2AgAgA0HQ0ICAAGogBDYCACADQSBqIgNBgAJHDQALQYDUhIAAQXhBgNSEgABrQQ9xQQBBgNSEgABBCGpBD3EbIgNqIgRBBGogAkFIaiIFIANrIgNBAXI2AgBBAEEAKALw04CAADYCpNCAgABBACADNgKU0ICAAEEAIAQ2AqDQgIAAQYDUhIAAIAVqQTg2AgQLAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFLDQACQEEAKAKI0ICAACIGQRAgAEETakFwcSAAQQtJGyICQQN2IgR2IgNBA3FFDQACQAJAIANBAXEgBHJBAXMiBUEDdCIEQbDQgIAAaiIDIARBuNCAgABqKAIAIgQoAggiAkcNAEEAIAZBfiAFd3E2AojQgIAADAELIAMgAjYCCCACIAM2AgwLIARBCGohAyAEIAVBA3QiBUEDcjYCBCAEIAVqIgQgBCgCBEEBcjYCBAwMCyACQQAoApDQgIAAIgdNDQECQCADRQ0AAkACQCADIAR0QQIgBHQiA0EAIANrcnEiA0EAIANrcUF/aiIDIANBDHZBEHEiA3YiBEEFdkEIcSIFIANyIAQgBXYiA0ECdkEEcSIEciADIAR2IgNBAXZBAnEiBHIgAyAEdiIDQQF2QQFxIgRyIAMgBHZqIgRBA3QiA0Gw0ICAAGoiBSADQbjQgIAAaigCACIDKAIIIgBHDQBBACAGQX4gBHdxIgY2AojQgIAADAELIAUgADYCCCAAIAU2AgwLIAMgAkEDcjYCBCADIARBA3QiBGogBCACayIFNgIAIAMgAmoiACAFQQFyNgIEAkAgB0UNACAHQXhxQbDQgIAAaiECQQAoApzQgIAAIQQCQAJAIAZBASAHQQN2dCIIcQ0AQQAgBiAIcjYCiNCAgAAgAiEIDAELIAIoAgghCAsgCCAENgIMIAIgBDYCCCAEIAI2AgwgBCAINgIICyADQQhqIQNBACAANgKc0ICAAEEAIAU2ApDQgIAADAwLQQAoAozQgIAAIglFDQEgCUEAIAlrcUF/aiIDIANBDHZBEHEiA3YiBEEFdkEIcSIFIANyIAQgBXYiA0ECdkEEcSIEciADIAR2IgNBAXZBAnEiBHIgAyAEdiIDQQF2QQFxIgRyIAMgBHZqQQJ0QbjSgIAAaigCACIAKAIEQXhxIAJrIQQgACEFAkADQAJAIAUoAhAiAw0AIAVBFGooAgAiA0UNAgsgAygCBEF4cSACayIFIAQgBSAESSIFGyEEIAMgACAFGyEAIAMhBQwACwsgACgCGCEKAkAgACgCDCIIIABGDQAgACgCCCIDQQAoApjQgIAASRogCCADNgIIIAMgCDYCDAwLCwJAIABBFGoiBSgCACIDDQAgACgCECIDRQ0DIABBEGohBQsDQCAFIQsgAyIIQRRqIgUoAgAiAw0AIAhBEGohBSAIKAIQIgMNAAsgC0EANgIADAoLQX8hAiAAQb9/Sw0AIABBE2oiA0FwcSECQQAoAozQgIAAIgdFDQBBACELAkAgAkGAAkkNAEEfIQsgAkH///8HSw0AIANBCHYiAyADQYD+P2pBEHZBCHEiA3QiBCAEQYDgH2pBEHZBBHEiBHQiBSAFQYCAD2pBEHZBAnEiBXRBD3YgAyAEciAFcmsiA0EBdCACIANBFWp2QQFxckEcaiELC0EAIAJrIQQCQAJAAkACQCALQQJ0QbjSgIAAaigCACIFDQBBACEDQQAhCAwBC0EAIQMgAkEAQRkgC0EBdmsgC0EfRht0IQBBACEIA0ACQCAFKAIEQXhxIAJrIgYgBE8NACAGIQQgBSEIIAYNAEEAIQQgBSEIIAUhAwwDCyADIAVBFGooAgAiBiAGIAUgAEEddkEEcWpBEGooAgAiBUYbIAMgBhshAyAAQQF0IQAgBQ0ACwsCQCADIAhyDQBBACEIQQIgC3QiA0EAIANrciAHcSIDRQ0DIANBACADa3FBf2oiAyADQQx2QRBxIgN2IgVBBXZBCHEiACADciAFIAB2IgNBAnZBBHEiBXIgAyAFdiIDQQF2QQJxIgVyIAMgBXYiA0EBdkEBcSIFciADIAV2akECdEG40oCAAGooAgAhAwsgA0UNAQsDQCADKAIEQXhxIAJrIgYgBEkhAAJAIAMoAhAiBQ0AIANBFGooAgAhBQsgBiAEIAAbIQQgAyAIIAAbIQggBSEDIAUNAAsLIAhFDQAgBEEAKAKQ0ICAACACa08NACAIKAIYIQsCQCAIKAIMIgAgCEYNACAIKAIIIgNBACgCmNCAgABJGiAAIAM2AgggAyAANgIMDAkLAkAgCEEUaiIFKAIAIgMNACAIKAIQIgNFDQMgCEEQaiEFCwNAIAUhBiADIgBBFGoiBSgCACIDDQAgAEEQaiEFIAAoAhAiAw0ACyAGQQA2AgAMCAsCQEEAKAKQ0ICAACIDIAJJDQBBACgCnNCAgAAhBAJAAkAgAyACayIFQRBJDQAgBCACaiIAIAVBAXI2AgRBACAFNgKQ0ICAAEEAIAA2ApzQgIAAIAQgA2ogBTYCACAEIAJBA3I2AgQMAQsgBCADQQNyNgIEIAQgA2oiAyADKAIEQQFyNgIEQQBBADYCnNCAgABBAEEANgKQ0ICAAAsgBEEIaiEDDAoLAkBBACgClNCAgAAiACACTQ0AQQAoAqDQgIAAIgMgAmoiBCAAIAJrIgVBAXI2AgRBACAFNgKU0ICAAEEAIAQ2AqDQgIAAIAMgAkEDcjYCBCADQQhqIQMMCgsCQAJAQQAoAuDTgIAARQ0AQQAoAujTgIAAIQQMAQtBAEJ/NwLs04CAAEEAQoCAhICAgMAANwLk04CAAEEAIAFBDGpBcHFB2KrVqgVzNgLg04CAAEEAQQA2AvTTgIAAQQBBADYCxNOAgABBgIAEIQQLQQAhAwJAIAQgAkHHAGoiB2oiBkEAIARrIgtxIgggAksNAEEAQTA2AvjTgIAADAoLAkBBACgCwNOAgAAiA0UNAAJAQQAoArjTgIAAIgQgCGoiBSAETQ0AIAUgA00NAQtBACEDQQBBMDYC+NOAgAAMCgtBAC0AxNOAgABBBHENBAJAAkACQEEAKAKg0ICAACIERQ0AQcjTgIAAIQMDQAJAIAMoAgAiBSAESw0AIAUgAygCBGogBEsNAwsgAygCCCIDDQALC0EAEMuAgIAAIgBBf0YNBSAIIQYCQEEAKALk04CAACIDQX9qIgQgAHFFDQAgCCAAayAEIABqQQAgA2txaiEGCyAGIAJNDQUgBkH+////B0sNBQJAQQAoAsDTgIAAIgNFDQBBACgCuNOAgAAiBCAGaiIFIARNDQYgBSADSw0GCyAGEMuAgIAAIgMgAEcNAQwHCyAGIABrIAtxIgZB/v///wdLDQQgBhDLgICAACIAIAMoAgAgAygCBGpGDQMgACEDCwJAIANBf0YNACACQcgAaiAGTQ0AAkAgByAGa0EAKALo04CAACIEakEAIARrcSIEQf7///8HTQ0AIAMhAAwHCwJAIAQQy4CAgABBf0YNACAEIAZqIQYgAyEADAcLQQAgBmsQy4CAgAAaDAQLIAMhACADQX9HDQUMAwtBACEIDAcLQQAhAAwFCyAAQX9HDQILQQBBACgCxNOAgABBBHI2AsTTgIAACyAIQf7///8HSw0BIAgQy4CAgAAhAEEAEMuAgIAAIQMgAEF/Rg0BIANBf0YNASAAIANPDQEgAyAAayIGIAJBOGpNDQELQQBBACgCuNOAgAAgBmoiAzYCuNOAgAACQCADQQAoArzTgIAATQ0AQQAgAzYCvNOAgAALAkACQAJAAkBBACgCoNCAgAAiBEUNAEHI04CAACEDA0AgACADKAIAIgUgAygCBCIIakYNAiADKAIIIgMNAAwDCwsCQAJAQQAoApjQgIAAIgNFDQAgACADTw0BC0EAIAA2ApjQgIAAC0EAIQNBACAGNgLM04CAAEEAIAA2AsjTgIAAQQBBfzYCqNCAgABBAEEAKALg04CAADYCrNCAgABBAEEANgLU04CAAANAIANBxNCAgABqIANBuNCAgABqIgQ2AgAgBCADQbDQgIAAaiIFNgIAIANBvNCAgABqIAU2AgAgA0HM0ICAAGogA0HA0ICAAGoiBTYCACAFIAQ2AgAgA0HU0ICAAGogA0HI0ICAAGoiBDYCACAEIAU2AgAgA0HQ0ICAAGogBDYCACADQSBqIgNBgAJHDQALIABBeCAAa0EPcUEAIABBCGpBD3EbIgNqIgQgBkFIaiIFIANrIgNBAXI2AgRBAEEAKALw04CAADYCpNCAgABBACADNgKU0ICAAEEAIAQ2AqDQgIAAIAAgBWpBODYCBAwCCyADLQAMQQhxDQAgBCAFSQ0AIAQgAE8NACAEQXggBGtBD3FBACAEQQhqQQ9xGyIFaiIAQQAoApTQgIAAIAZqIgsgBWsiBUEBcjYCBCADIAggBmo2AgRBAEEAKALw04CAADYCpNCAgABBACAFNgKU0ICAAEEAIAA2AqDQgIAAIAQgC2pBODYCBAwBCwJAIABBACgCmNCAgAAiCE8NAEEAIAA2ApjQgIAAIAAhCAsgACAGaiEFQcjTgIAAIQMCQAJAAkACQAJAAkACQANAIAMoAgAgBUYNASADKAIIIgMNAAwCCwsgAy0ADEEIcUUNAQtByNOAgAAhAwNAAkAgAygCACIFIARLDQAgBSADKAIEaiIFIARLDQMLIAMoAgghAwwACwsgAyAANgIAIAMgAygCBCAGajYCBCAAQXggAGtBD3FBACAAQQhqQQ9xG2oiCyACQQNyNgIEIAVBeCAFa0EPcUEAIAVBCGpBD3EbaiIGIAsgAmoiAmshAwJAIAYgBEcNAEEAIAI2AqDQgIAAQQBBACgClNCAgAAgA2oiAzYClNCAgAAgAiADQQFyNgIEDAMLAkAgBkEAKAKc0ICAAEcNAEEAIAI2ApzQgIAAQQBBACgCkNCAgAAgA2oiAzYCkNCAgAAgAiADQQFyNgIEIAIgA2ogAzYCAAwDCwJAIAYoAgQiBEEDcUEBRw0AIARBeHEhBwJAAkAgBEH/AUsNACAGKAIIIgUgBEEDdiIIQQN0QbDQgIAAaiIARhoCQCAGKAIMIgQgBUcNAEEAQQAoAojQgIAAQX4gCHdxNgKI0ICAAAwCCyAEIABGGiAEIAU2AgggBSAENgIMDAELIAYoAhghCQJAAkAgBigCDCIAIAZGDQAgBigCCCIEIAhJGiAAIAQ2AgggBCAANgIMDAELAkAgBkEUaiIEKAIAIgUNACAGQRBqIgQoAgAiBQ0AQQAhAAwBCwNAIAQhCCAFIgBBFGoiBCgCACIFDQAgAEEQaiEEIAAoAhAiBQ0ACyAIQQA2AgALIAlFDQACQAJAIAYgBigCHCIFQQJ0QbjSgIAAaiIEKAIARw0AIAQgADYCACAADQFBAEEAKAKM0ICAAEF+IAV3cTYCjNCAgAAMAgsgCUEQQRQgCSgCECAGRhtqIAA2AgAgAEUNAQsgACAJNgIYAkAgBigCECIERQ0AIAAgBDYCECAEIAA2AhgLIAYoAhQiBEUNACAAQRRqIAQ2AgAgBCAANgIYCyAHIANqIQMgBiAHaiIGKAIEIQQLIAYgBEF+cTYCBCACIANqIAM2AgAgAiADQQFyNgIEAkAgA0H/AUsNACADQXhxQbDQgIAAaiEEAkACQEEAKAKI0ICAACIFQQEgA0EDdnQiA3ENAEEAIAUgA3I2AojQgIAAIAQhAwwBCyAEKAIIIQMLIAMgAjYCDCAEIAI2AgggAiAENgIMIAIgAzYCCAwDC0EfIQQCQCADQf///wdLDQAgA0EIdiIEIARBgP4/akEQdkEIcSIEdCIFIAVBgOAfakEQdkEEcSIFdCIAIABBgIAPakEQdkECcSIAdEEPdiAEIAVyIAByayIEQQF0IAMgBEEVanZBAXFyQRxqIQQLIAIgBDYCHCACQgA3AhAgBEECdEG40oCAAGohBQJAQQAoAozQgIAAIgBBASAEdCIIcQ0AIAUgAjYCAEEAIAAgCHI2AozQgIAAIAIgBTYCGCACIAI2AgggAiACNgIMDAMLIANBAEEZIARBAXZrIARBH0YbdCEEIAUoAgAhAANAIAAiBSgCBEF4cSADRg0CIARBHXYhACAEQQF0IQQgBSAAQQRxakEQaiIIKAIAIgANAAsgCCACNgIAIAIgBTYCGCACIAI2AgwgAiACNgIIDAILIABBeCAAa0EPcUEAIABBCGpBD3EbIgNqIgsgBkFIaiIIIANrIgNBAXI2AgQgACAIakE4NgIEIAQgBUE3IAVrQQ9xQQAgBUFJakEPcRtqQUFqIgggCCAEQRBqSRsiCEEjNgIEQQBBACgC8NOAgAA2AqTQgIAAQQAgAzYClNCAgABBACALNgKg0ICAACAIQRBqQQApAtDTgIAANwIAIAhBACkCyNOAgAA3AghBACAIQQhqNgLQ04CAAEEAIAY2AszTgIAAQQAgADYCyNOAgABBAEEANgLU04CAACAIQSRqIQMDQCADQQc2AgAgA0EEaiIDIAVJDQALIAggBEYNAyAIIAgoAgRBfnE2AgQgCCAIIARrIgA2AgAgBCAAQQFyNgIEAkAgAEH/AUsNACAAQXhxQbDQgIAAaiEDAkACQEEAKAKI0ICAACIFQQEgAEEDdnQiAHENAEEAIAUgAHI2AojQgIAAIAMhBQwBCyADKAIIIQULIAUgBDYCDCADIAQ2AgggBCADNgIMIAQgBTYCCAwEC0EfIQMCQCAAQf///wdLDQAgAEEIdiIDIANBgP4/akEQdkEIcSIDdCIFIAVBgOAfakEQdkEEcSIFdCIIIAhBgIAPakEQdkECcSIIdEEPdiADIAVyIAhyayIDQQF0IAAgA0EVanZBAXFyQRxqIQMLIAQgAzYCHCAEQgA3AhAgA0ECdEG40oCAAGohBQJAQQAoAozQgIAAIghBASADdCIGcQ0AIAUgBDYCAEEAIAggBnI2AozQgIAAIAQgBTYCGCAEIAQ2AgggBCAENgIMDAQLIABBAEEZIANBAXZrIANBH0YbdCEDIAUoAgAhCANAIAgiBSgCBEF4cSAARg0DIANBHXYhCCADQQF0IQMgBSAIQQRxakEQaiIGKAIAIggNAAsgBiAENgIAIAQgBTYCGCAEIAQ2AgwgBCAENgIIDAMLIAUoAggiAyACNgIMIAUgAjYCCCACQQA2AhggAiAFNgIMIAIgAzYCCAsgC0EIaiEDDAULIAUoAggiAyAENgIMIAUgBDYCCCAEQQA2AhggBCAFNgIMIAQgAzYCCAtBACgClNCAgAAiAyACTQ0AQQAoAqDQgIAAIgQgAmoiBSADIAJrIgNBAXI2AgRBACADNgKU0ICAAEEAIAU2AqDQgIAAIAQgAkEDcjYCBCAEQQhqIQMMAwtBACEDQQBBMDYC+NOAgAAMAgsCQCALRQ0AAkACQCAIIAgoAhwiBUECdEG40oCAAGoiAygCAEcNACADIAA2AgAgAA0BQQAgB0F+IAV3cSIHNgKM0ICAAAwCCyALQRBBFCALKAIQIAhGG2ogADYCACAARQ0BCyAAIAs2AhgCQCAIKAIQIgNFDQAgACADNgIQIAMgADYCGAsgCEEUaigCACIDRQ0AIABBFGogAzYCACADIAA2AhgLAkACQCAEQQ9LDQAgCCAEIAJqIgNBA3I2AgQgCCADaiIDIAMoAgRBAXI2AgQMAQsgCCACaiIAIARBAXI2AgQgCCACQQNyNgIEIAAgBGogBDYCAAJAIARB/wFLDQAgBEF4cUGw0ICAAGohAwJAAkBBACgCiNCAgAAiBUEBIARBA3Z0IgRxDQBBACAFIARyNgKI0ICAACADIQQMAQsgAygCCCEECyAEIAA2AgwgAyAANgIIIAAgAzYCDCAAIAQ2AggMAQtBHyEDAkAgBEH///8HSw0AIARBCHYiAyADQYD+P2pBEHZBCHEiA3QiBSAFQYDgH2pBEHZBBHEiBXQiAiACQYCAD2pBEHZBAnEiAnRBD3YgAyAFciACcmsiA0EBdCAEIANBFWp2QQFxckEcaiEDCyAAIAM2AhwgAEIANwIQIANBAnRBuNKAgABqIQUCQCAHQQEgA3QiAnENACAFIAA2AgBBACAHIAJyNgKM0ICAACAAIAU2AhggACAANgIIIAAgADYCDAwBCyAEQQBBGSADQQF2ayADQR9GG3QhAyAFKAIAIQICQANAIAIiBSgCBEF4cSAERg0BIANBHXYhAiADQQF0IQMgBSACQQRxakEQaiIGKAIAIgINAAsgBiAANgIAIAAgBTYCGCAAIAA2AgwgACAANgIIDAELIAUoAggiAyAANgIMIAUgADYCCCAAQQA2AhggACAFNgIMIAAgAzYCCAsgCEEIaiEDDAELAkAgCkUNAAJAAkAgACAAKAIcIgVBAnRBuNKAgABqIgMoAgBHDQAgAyAINgIAIAgNAUEAIAlBfiAFd3E2AozQgIAADAILIApBEEEUIAooAhAgAEYbaiAINgIAIAhFDQELIAggCjYCGAJAIAAoAhAiA0UNACAIIAM2AhAgAyAINgIYCyAAQRRqKAIAIgNFDQAgCEEUaiADNgIAIAMgCDYCGAsCQAJAIARBD0sNACAAIAQgAmoiA0EDcjYCBCAAIANqIgMgAygCBEEBcjYCBAwBCyAAIAJqIgUgBEEBcjYCBCAAIAJBA3I2AgQgBSAEaiAENgIAAkAgB0UNACAHQXhxQbDQgIAAaiECQQAoApzQgIAAIQMCQAJAQQEgB0EDdnQiCCAGcQ0AQQAgCCAGcjYCiNCAgAAgAiEIDAELIAIoAgghCAsgCCADNgIMIAIgAzYCCCADIAI2AgwgAyAINgIIC0EAIAU2ApzQgIAAQQAgBDYCkNCAgAALIABBCGohAwsgAUEQaiSAgICAACADCwoAIAAQyYCAgAAL4g0BB38CQCAARQ0AIABBeGoiASAAQXxqKAIAIgJBeHEiAGohAwJAIAJBAXENACACQQNxRQ0BIAEgASgCACICayIBQQAoApjQgIAAIgRJDQEgAiAAaiEAAkAgAUEAKAKc0ICAAEYNAAJAIAJB/wFLDQAgASgCCCIEIAJBA3YiBUEDdEGw0ICAAGoiBkYaAkAgASgCDCICIARHDQBBAEEAKAKI0ICAAEF+IAV3cTYCiNCAgAAMAwsgAiAGRhogAiAENgIIIAQgAjYCDAwCCyABKAIYIQcCQAJAIAEoAgwiBiABRg0AIAEoAggiAiAESRogBiACNgIIIAIgBjYCDAwBCwJAIAFBFGoiAigCACIEDQAgAUEQaiICKAIAIgQNAEEAIQYMAQsDQCACIQUgBCIGQRRqIgIoAgAiBA0AIAZBEGohAiAGKAIQIgQNAAsgBUEANgIACyAHRQ0BAkACQCABIAEoAhwiBEECdEG40oCAAGoiAigCAEcNACACIAY2AgAgBg0BQQBBACgCjNCAgABBfiAEd3E2AozQgIAADAMLIAdBEEEUIAcoAhAgAUYbaiAGNgIAIAZFDQILIAYgBzYCGAJAIAEoAhAiAkUNACAGIAI2AhAgAiAGNgIYCyABKAIUIgJFDQEgBkEUaiACNgIAIAIgBjYCGAwBCyADKAIEIgJBA3FBA0cNACADIAJBfnE2AgRBACAANgKQ0ICAACABIABqIAA2AgAgASAAQQFyNgIEDwsgASADTw0AIAMoAgQiAkEBcUUNAAJAAkAgAkECcQ0AAkAgA0EAKAKg0ICAAEcNAEEAIAE2AqDQgIAAQQBBACgClNCAgAAgAGoiADYClNCAgAAgASAAQQFyNgIEIAFBACgCnNCAgABHDQNBAEEANgKQ0ICAAEEAQQA2ApzQgIAADwsCQCADQQAoApzQgIAARw0AQQAgATYCnNCAgABBAEEAKAKQ0ICAACAAaiIANgKQ0ICAACABIABBAXI2AgQgASAAaiAANgIADwsgAkF4cSAAaiEAAkACQCACQf8BSw0AIAMoAggiBCACQQN2IgVBA3RBsNCAgABqIgZGGgJAIAMoAgwiAiAERw0AQQBBACgCiNCAgABBfiAFd3E2AojQgIAADAILIAIgBkYaIAIgBDYCCCAEIAI2AgwMAQsgAygCGCEHAkACQCADKAIMIgYgA0YNACADKAIIIgJBACgCmNCAgABJGiAGIAI2AgggAiAGNgIMDAELAkAgA0EUaiICKAIAIgQNACADQRBqIgIoAgAiBA0AQQAhBgwBCwNAIAIhBSAEIgZBFGoiAigCACIEDQAgBkEQaiECIAYoAhAiBA0ACyAFQQA2AgALIAdFDQACQAJAIAMgAygCHCIEQQJ0QbjSgIAAaiICKAIARw0AIAIgBjYCACAGDQFBAEEAKAKM0ICAAEF+IAR3cTYCjNCAgAAMAgsgB0EQQRQgBygCECADRhtqIAY2AgAgBkUNAQsgBiAHNgIYAkAgAygCECICRQ0AIAYgAjYCECACIAY2AhgLIAMoAhQiAkUNACAGQRRqIAI2AgAgAiAGNgIYCyABIABqIAA2AgAgASAAQQFyNgIEIAFBACgCnNCAgABHDQFBACAANgKQ0ICAAA8LIAMgAkF+cTYCBCABIABqIAA2AgAgASAAQQFyNgIECwJAIABB/wFLDQAgAEF4cUGw0ICAAGohAgJAAkBBACgCiNCAgAAiBEEBIABBA3Z0IgBxDQBBACAEIAByNgKI0ICAACACIQAMAQsgAigCCCEACyAAIAE2AgwgAiABNgIIIAEgAjYCDCABIAA2AggPC0EfIQICQCAAQf///wdLDQAgAEEIdiICIAJBgP4/akEQdkEIcSICdCIEIARBgOAfakEQdkEEcSIEdCIGIAZBgIAPakEQdkECcSIGdEEPdiACIARyIAZyayICQQF0IAAgAkEVanZBAXFyQRxqIQILIAEgAjYCHCABQgA3AhAgAkECdEG40oCAAGohBAJAAkBBACgCjNCAgAAiBkEBIAJ0IgNxDQAgBCABNgIAQQAgBiADcjYCjNCAgAAgASAENgIYIAEgATYCCCABIAE2AgwMAQsgAEEAQRkgAkEBdmsgAkEfRht0IQIgBCgCACEGAkADQCAGIgQoAgRBeHEgAEYNASACQR12IQYgAkEBdCECIAQgBkEEcWpBEGoiAygCACIGDQALIAMgATYCACABIAQ2AhggASABNgIMIAEgATYCCAwBCyAEKAIIIgAgATYCDCAEIAE2AgggAUEANgIYIAEgBDYCDCABIAA2AggLQQBBACgCqNCAgABBf2oiAUF/IAEbNgKo0ICAAAsLBAAAAAtOAAJAIAANAD8AQRB0DwsCQCAAQf//A3ENACAAQX9MDQACQCAAQRB2QAAiAEF/Rw0AQQBBMDYC+NOAgABBfw8LIABBEHQPCxDKgICAAAAL8gICA38BfgJAIAJFDQAgACABOgAAIAIgAGoiA0F/aiABOgAAIAJBA0kNACAAIAE6AAIgACABOgABIANBfWogAToAACADQX5qIAE6AAAgAkEHSQ0AIAAgAToAAyADQXxqIAE6AAAgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIFayICQSBJDQAgAa1CgYCAgBB+IQYgAyAFaiEBA0AgASAGNwMYIAEgBjcDECABIAY3AwggASAGNwMAIAFBIGohASACQWBqIgJBH0sNAAsLIAALC45IAQBBgAgLhkgBAAAAAgAAAAMAAAAAAAAAAAAAAAQAAAAFAAAAAAAAAAAAAAAGAAAABwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEludmFsaWQgY2hhciBpbiB1cmwgcXVlcnkAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9ib2R5AENvbnRlbnQtTGVuZ3RoIG92ZXJmbG93AENodW5rIHNpemUgb3ZlcmZsb3cAUmVzcG9uc2Ugb3ZlcmZsb3cASW52YWxpZCBtZXRob2QgZm9yIEhUVFAveC54IHJlcXVlc3QASW52YWxpZCBtZXRob2QgZm9yIFJUU1AveC54IHJlcXVlc3QARXhwZWN0ZWQgU09VUkNFIG1ldGhvZCBmb3IgSUNFL3gueCByZXF1ZXN0AEludmFsaWQgY2hhciBpbiB1cmwgZnJhZ21lbnQgc3RhcnQARXhwZWN0ZWQgZG90AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fc3RhdHVzAEludmFsaWQgcmVzcG9uc2Ugc3RhdHVzAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMAVXNlciBjYWxsYmFjayBlcnJvcgBgb25fcmVzZXRgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19oZWFkZXJgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8="},2603:b=>{b.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJsbGh0dHBfc3RhdHVzX25hbWUAIRpsbGh0dHBfc2V0X2xlbmllbnRfaGVhZGVycwAiIWxsaHR0cF9zZXRfbGVuaWVudF9jaHVua2VkX2xlbmd0aAAjHWxsaHR0cF9zZXRfbGVuaWVudF9rZWVwX2FsaXZlACQkbGxodHRwX3NldF9sZW5pZW50X3RyYW5zZmVyX2VuY29kaW5nACUYbGxodHRwX21lc3NhZ2VfbmVlZHNfZW9mAD8JFwEAQQELEQECAwQFCwYHNTk3MS8tJyspCrLgAkUCAAsIABCIgICAAAsZACAAEMKAgIAAGiAAIAI2AjggACABOgAoCxwAIAAgAC8BMiAALQAuIAAQwYCAgAAQgICAgAALKgEBf0HAABDGgICAACIBEMKAgIAAGiABQYCIgIAANgI4IAEgADoAKCABCwoAIAAQyICAgAALBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LRQEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABDCgICAABogACAENgI4IAAgAzoAKCAAIAI6AC0gACABNgIYCxEAIAAgASABIAJqEMOAgIAACxAAIABBAEHcABDMgICAABoLZwEBf0EAIQECQCAAKAIMDQACQAJAAkACQCAALQAvDgMBAAMCCyAAKAI4IgFFDQAgASgCLCIBRQ0AIAAgARGAgICAAAAiAQ0DC0EADwsQyoCAgAAACyAAQcOWgIAANgIQQQ4hAQsgAQseAAJAIAAoAgwNACAAQdGbgIAANgIQIABBFTYCDAsLFgACQCAAKAIMQRVHDQAgAEEANgIMCwsWAAJAIAAoAgxBFkcNACAAQQA2AgwLCwcAIAAoAgwLBwAgACgCEAsJACAAIAE2AhALBwAgACgCFAsiAAJAIABBJEkNABDKgICAAAALIABBAnRBoLOAgABqKAIACyIAAkAgAEEuSQ0AEMqAgIAAAAsgAEECdEGwtICAAGooAgAL7gsBAX9B66iAgAAhAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABBnH9qDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0Hhp4CAAA8LQaShgIAADwtBy6yAgAAPC0H+sYCAAA8LQcCkgIAADwtBq6SAgAAPC0GNqICAAA8LQeKmgIAADwtBgLCAgAAPC0G5r4CAAA8LQdekgIAADwtB75+AgAAPC0Hhn4CAAA8LQfqfgIAADwtB8qCAgAAPC0Gor4CAAA8LQa6ygIAADwtBiLCAgAAPC0Hsp4CAAA8LQYKigIAADwtBjp2AgAAPC0HQroCAAA8LQcqjgIAADwtBxbKAgAAPC0HfnICAAA8LQdKcgIAADwtBxKCAgAAPC0HXoICAAA8LQaKfgIAADwtB7a6AgAAPC0GrsICAAA8LQdSlgIAADwtBzK6AgAAPC0H6roCAAA8LQfyrgIAADwtB0rCAgAAPC0HxnYCAAA8LQbuggIAADwtB96uAgAAPC0GQsYCAAA8LQdexgIAADwtBoq2AgAAPC0HUp4CAAA8LQeCrgIAADwtBn6yAgAAPC0HrsYCAAA8LQdWfgIAADwtByrGAgAAPC0HepYCAAA8LQdSegIAADwtB9JyAgAAPC0GnsoCAAA8LQbGdgIAADwtBoJ2AgAAPC0G5sYCAAA8LQbywgIAADwtBkqGAgAAPC0GzpoCAAA8LQemsgIAADwtBrJ6AgAAPC0HUq4CAAA8LQfemgIAADwtBgKaAgAAPC0GwoYCAAA8LQf6egIAADwtBjaOAgAAPC0GJrYCAAA8LQfeigIAADwtBoLGAgAAPC0Gun4CAAA8LQcalgIAADwtB6J6AgAAPC0GTooCAAA8LQcKvgIAADwtBw52AgAAPC0GLrICAAA8LQeGdgIAADwtBja+AgAAPC0HqoYCAAA8LQbStgIAADwtB0q+AgAAPC0HfsoCAAA8LQdKygIAADwtB8LCAgAAPC0GpooCAAA8LQfmjgIAADwtBmZ6AgAAPC0G1rICAAA8LQZuwgIAADwtBkrKAgAAPC0G2q4CAAA8LQcKigIAADwtB+LKAgAAPC0GepYCAAA8LQdCigIAADwtBup6AgAAPC0GBnoCAAA8LEMqAgIAAAAtB1qGAgAAhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAgAiBEUNACAAIAQRgICAgAAAIQMLIAMLSQECf0EAIQMCQCAAKAI4IgRFDQAgBCgCBCIERQ0AIAAgASACIAFrIAQRgYCAgAAAIgNBf0cNACAAQcaRgIAANgIQQRghAwsgAwsuAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIwIgRFDQAgACAEEYCAgIAAACEDCyADC0kBAn9BACEDAkAgACgCOCIERQ0AIAQoAggiBEUNACAAIAEgAiABayAEEYGAgIAAACIDQX9HDQAgAEH2ioCAADYCEEEYIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCNCIERQ0AIAAgBBGAgICAAAAhAwsgAwtJAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIMIgRFDQAgACABIAIgAWsgBBGBgICAAAAiA0F/Rw0AIABB7ZqAgAA2AhBBGCEDCyADCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAjgiBEUNACAAIAQRgICAgAAAIQMLIAMLSQECf0EAIQMCQCAAKAI4IgRFDQAgBCgCECIERQ0AIAAgASACIAFrIAQRgYCAgAAAIgNBf0cNACAAQZWQgIAANgIQQRghAwsgAwsuAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAI8IgRFDQAgACAEEYCAgIAAACEDCyADC0kBAn9BACEDAkAgACgCOCIERQ0AIAQoAhQiBEUNACAAIAEgAiABayAEEYGAgIAAACIDQX9HDQAgAEGqm4CAADYCEEEYIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCQCIERQ0AIAAgBBGAgICAAAAhAwsgAwtJAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIYIgRFDQAgACABIAIgAWsgBBGBgICAAAAiA0F/Rw0AIABB7ZOAgAA2AhBBGCEDCyADCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAkQiBEUNACAAIAQRgICAgAAAIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCJCIERQ0AIAAgBBGAgICAAAAhAwsgAwsuAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIsIgRFDQAgACAEEYCAgIAAACEDCyADC0kBAn9BACEDAkAgACgCOCIERQ0AIAQoAigiBEUNACAAIAEgAiABayAEEYGAgIAAACIDQX9HDQAgAEH2iICAADYCEEEYIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCUCIERQ0AIAAgBBGAgICAAAAhAwsgAwtJAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAIcIgRFDQAgACABIAIgAWsgBBGBgICAAAAiA0F/Rw0AIABBwpmAgAA2AhBBGCEDCyADCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAkgiBEUNACAAIAQRgICAgAAAIQMLIAMLSQECf0EAIQMCQCAAKAI4IgRFDQAgBCgCICIERQ0AIAAgASACIAFrIAQRgYCAgAAAIgNBf0cNACAAQZSUgIAANgIQQRghAwsgAwsuAQJ/QQAhAwJAIAAoAjgiBEUNACAEKAJMIgRFDQAgACAEEYCAgIAAACEDCyADCy4BAn9BACEDAkAgACgCOCIERQ0AIAQoAlQiBEUNACAAIAQRgICAgAAAIQMLIAMLLgECf0EAIQMCQCAAKAI4IgRFDQAgBCgCWCIERQ0AIAAgBBGAgICAAAAhAwsgAwtFAQF/AkACQCAALwEwQRRxQRRHDQBBASEDIAAtAChBAUYNASAALwEyQeUARiEDDAELIAAtAClBBUYhAwsgACADOgAuQQAL/gEBA39BASEDAkAgAC8BMCIEQQhxDQAgACkDIEIAUiEDCwJAAkAgAC0ALkUNAEEBIQUgAC0AKUEFRg0BQQEhBSAEQcAAcUUgA3FBAUcNAQtBACEFIARBwABxDQBBAiEFIARB//8DcSIDQQhxDQACQCADQYAEcUUNAAJAIAAtAChBAUcNACAALQAtQQpxDQBBBQ8LQQQPCwJAIANBIHENAAJAIAAtAChBAUYNACAALwEyQf//A3EiAEGcf2pB5ABJDQAgAEHMAUYNACAAQbACRg0AQQQhBSAEQShxRQ0CIANBiARxQYAERg0CC0EADwtBAEEDIAApAyBQGyEFCyAFC2IBAn9BACEBAkAgAC0AKEEBRg0AIAAvATJB//8DcSICQZx/akHkAEkNACACQcwBRg0AIAJBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhASAAQYgEcUGABEYNACAAQShxRSEBCyABC6cBAQN/AkACQAJAIAAtACpFDQAgAC0AK0UNAEEAIQMgAC8BMCIEQQJxRQ0BDAILQQAhAyAALwEwIgRBAXFFDQELQQEhAyAALQAoQQFGDQAgAC8BMkH//wNxIgVBnH9qQeQASQ0AIAVBzAFGDQAgBUGwAkYNACAEQcAAcQ0AQQAhAyAEQYgEcUGABEYNACAEQShxQQBHIQMLIABBADsBMCAAQQA6AC8gAwuZAQECfwJAAkACQCAALQAqRQ0AIAAtACtFDQBBACEBIAAvATAiAkECcUUNAQwCC0EAIQEgAC8BMCICQQFxRQ0BC0EBIQEgAC0AKEEBRg0AIAAvATJB//8DcSIAQZx/akHkAEkNACAAQcwBRg0AIABBsAJGDQAgAkHAAHENAEEAIQEgAkGIBHFBgARGDQAgAkEocUEARyEBCyABC0kBAXsgAEEQav0MAAAAAAAAAAAAAAAAAAAAACIB/QsDACAAIAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AcsBygG4AckBuQHIAboBuwG8Ab0BvgG/AcABwQHCAcMBxAHFAcYBANwBC0EAIRAMxgELQQ4hEAzFAQtBDSEQDMQBC0EPIRAMwwELQRAhEAzCAQtBEyEQDMEBC0EUIRAMwAELQRUhEAy/AQtBFiEQDL4BC0EXIRAMvQELQRghEAy8AQtBGSEQDLsBC0EaIRAMugELQRshEAy5AQtBHCEQDLgBC0EIIRAMtwELQR0hEAy2AQtBICEQDLUBC0EfIRAMtAELQQchEAyzAQtBISEQDLIBC0EiIRAMsQELQR4hEAywAQtBIyEQDK8BC0ESIRAMrgELQREhEAytAQtBJCEQDKwBC0ElIRAMqwELQSYhEAyqAQtBJyEQDKkBC0HDASEQDKgBC0EpIRAMpwELQSshEAymAQtBLCEQDKUBC0EtIRAMpAELQS4hEAyjAQtBLyEQDKIBC0HEASEQDKEBC0EwIRAMoAELQTQhEAyfAQtBDCEQDJ4BC0ExIRAMnQELQTIhEAycAQtBMyEQDJsBC0E5IRAMmgELQTUhEAyZAQtBxQEhEAyYAQtBCyEQDJcBC0E6IRAMlgELQTYhEAyVAQtBCiEQDJQBC0E3IRAMkwELQTghEAySAQtBPCEQDJEBC0E7IRAMkAELQT0hEAyPAQtBCSEQDI4BC0EoIRAMjQELQT4hEAyMAQtBPyEQDIsBC0HAACEQDIoBC0HBACEQDIkBC0HCACEQDIgBC0HDACEQDIcBC0HEACEQDIYBC0HFACEQDIUBC0HGACEQDIQBC0EqIRAMgwELQccAIRAMggELQcgAIRAMgQELQckAIRAMgAELQcoAIRAMfwtBywAhEAx+C0HNACEQDH0LQcwAIRAMfAtBzgAhEAx7C0HPACEQDHoLQdAAIRAMeQtB0QAhEAx4C0HSACEQDHcLQdMAIRAMdgtB1AAhEAx1C0HWACEQDHQLQdUAIRAMcwtBBiEQDHILQdcAIRAMcQtBBSEQDHALQdgAIRAMbwtBBCEQDG4LQdkAIRAMbQtB2gAhEAxsC0HbACEQDGsLQdwAIRAMagtBAyEQDGkLQd0AIRAMaAtB3gAhEAxnC0HfACEQDGYLQeEAIRAMZQtB4AAhEAxkC0HiACEQDGMLQeMAIRAMYgtBAiEQDGELQeQAIRAMYAtB5QAhEAxfC0HmACEQDF4LQecAIRAMXQtB6AAhEAxcC0HpACEQDFsLQeoAIRAMWgtB6wAhEAxZC0HsACEQDFgLQe0AIRAMVwtB7gAhEAxWC0HvACEQDFULQfAAIRAMVAtB8QAhEAxTC0HyACEQDFILQfMAIRAMUQtB9AAhEAxQC0H1ACEQDE8LQfYAIRAMTgtB9wAhEAxNC0H4ACEQDEwLQfkAIRAMSwtB+gAhEAxKC0H7ACEQDEkLQfwAIRAMSAtB/QAhEAxHC0H+ACEQDEYLQf8AIRAMRQtBgAEhEAxEC0GBASEQDEMLQYIBIRAMQgtBgwEhEAxBC0GEASEQDEALQYUBIRAMPwtBhgEhEAw+C0GHASEQDD0LQYgBIRAMPAtBiQEhEAw7C0GKASEQDDoLQYsBIRAMOQtBjAEhEAw4C0GNASEQDDcLQY4BIRAMNgtBjwEhEAw1C0GQASEQDDQLQZEBIRAMMwtBkgEhEAwyC0GTASEQDDELQZQBIRAMMAtBlQEhEAwvC0GWASEQDC4LQZcBIRAMLQtBmAEhEAwsC0GZASEQDCsLQZoBIRAMKgtBmwEhEAwpC0GcASEQDCgLQZ0BIRAMJwtBngEhEAwmC0GfASEQDCULQaABIRAMJAtBoQEhEAwjC0GiASEQDCILQaMBIRAMIQtBpAEhEAwgC0GlASEQDB8LQaYBIRAMHgtBpwEhEAwdC0GoASEQDBwLQakBIRAMGwtBqgEhEAwaC0GrASEQDBkLQawBIRAMGAtBrQEhEAwXC0GuASEQDBYLQQEhEAwVC0GvASEQDBQLQbABIRAMEwtBsQEhEAwSC0GzASEQDBELQbIBIRAMEAtBtAEhEAwPC0G1ASEQDA4LQbYBIRAMDQtBtwEhEAwMC0G4ASEQDAsLQbkBIRAMCgtBugEhEAwJC0G7ASEQDAgLQcYBIRAMBwtBvAEhEAwGC0G9ASEQDAULQb4BIRAMBAtBvwEhEAwDC0HAASEQDAILQcIBIRAMAQtBwQEhEAsDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB4fICEjJSg/QEFERUZHSElKS0xNT1BRUlPeA1dZW1xdYGJlZmdoaWprbG1vcHFyc3R1dnd4eXp7fH1+gAGCAYUBhgGHAYkBiwGMAY0BjgGPAZABkQGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHgAeEB4gHjAeQB5QHmAecB6AHpAeoB6wHsAe0B7gHvAfAB8QHyAfMBmQKkArAC/gL+AgsgASIEIAJHDfMBQd0BIRAM/wMLIAEiECACRw3dAUHDASEQDP4DCyABIgEgAkcNkAFB9wAhEAz9AwsgASIBIAJHDYYBQe8AIRAM/AMLIAEiASACRw1/QeoAIRAM+wMLIAEiASACRw17QegAIRAM+gMLIAEiASACRw14QeYAIRAM+QMLIAEiASACRw0aQRghEAz4AwsgASIBIAJHDRRBEiEQDPcDCyABIgEgAkcNWUHFACEQDPYDCyABIgEgAkcNSkE/IRAM9QMLIAEiASACRw1IQTwhEAz0AwsgASIBIAJHDUFBMSEQDPMDCyAALQAuQQFGDesDDIcCCyAAIAEiASACEMCAgIAAQQFHDeYBIABCADcDIAznAQsgACABIgEgAhC0gICAACIQDecBIAEhAQz1AgsCQCABIgEgAkcNAEEGIRAM8AMLIAAgAUEBaiIBIAIQu4CAgAAiEA3oASABIQEMMQsgAEIANwMgQRIhEAzVAwsgASIQIAJHDStBHSEQDO0DCwJAIAEiASACRg0AIAFBAWohAUEQIRAM1AMLQQchEAzsAwsgAEIAIAApAyAiESACIAEiEGutIhJ9IhMgEyARVhs3AyAgESASViIURQ3lAUEIIRAM6wMLAkAgASIBIAJGDQAgAEGJgICAADYCCCAAIAE2AgQgASEBQRQhEAzSAwtBCSEQDOoDCyABIQEgACkDIFAN5AEgASEBDPICCwJAIAEiASACRw0AQQshEAzpAwsgACABQQFqIgEgAhC2gICAACIQDeUBIAEhAQzyAgsgACABIgEgAhC4gICAACIQDeUBIAEhAQzyAgsgACABIgEgAhC4gICAACIQDeYBIAEhAQwNCyAAIAEiASACELqAgIAAIhAN5wEgASEBDPACCwJAIAEiASACRw0AQQ8hEAzlAwsgAS0AACIQQTtGDQggEEENRw3oASABQQFqIQEM7wILIAAgASIBIAIQuoCAgAAiEA3oASABIQEM8gILA0ACQCABLQAAQfC1gIAAai0AACIQQQFGDQAgEEECRw3rASAAKAIEIRAgAEEANgIEIAAgECABQQFqIgEQuYCAgAAiEA3qASABIQEM9AILIAFBAWoiASACRw0AC0ESIRAM4gMLIAAgASIBIAIQuoCAgAAiEA3pASABIQEMCgsgASIBIAJHDQZBGyEQDOADCwJAIAEiASACRw0AQRYhEAzgAwsgAEGKgICAADYCCCAAIAE2AgQgACABIAIQuICAgAAiEA3qASABIQFBICEQDMYDCwJAIAEiASACRg0AA0ACQCABLQAAQfC3gIAAai0AACIQQQJGDQACQCAQQX9qDgTlAewBAOsB7AELIAFBAWohAUEIIRAMyAMLIAFBAWoiASACRw0AC0EVIRAM3wMLQRUhEAzeAwsDQAJAIAEtAABB8LmAgABqLQAAIhBBAkYNACAQQX9qDgTeAewB4AHrAewBCyABQQFqIgEgAkcNAAtBGCEQDN0DCwJAIAEiASACRg0AIABBi4CAgAA2AgggACABNgIEIAEhAUEHIRAMxAMLQRkhEAzcAwsgAUEBaiEBDAILAkAgASIUIAJHDQBBGiEQDNsDCyAUIQECQCAULQAAQXNqDhTdAu4C7gLuAu4C7gLuAu4C7gLuAu4C7gLuAu4C7gLuAu4C7gLuAgDuAgtBACEQIABBADYCHCAAQa+LgIAANgIQIABBAjYCDCAAIBRBAWo2AhQM2gMLAkAgAS0AACIQQTtGDQAgEEENRw3oASABQQFqIQEM5QILIAFBAWohAQtBIiEQDL8DCwJAIAEiECACRw0AQRwhEAzYAwtCACERIBAhASAQLQAAQVBqDjfnAeYBAQIDBAUGBwgAAAAAAAAACQoLDA0OAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPEBESExQAC0EeIRAMvQMLQgIhEQzlAQtCAyERDOQBC0IEIREM4wELQgUhEQziAQtCBiERDOEBC0IHIREM4AELQgghEQzfAQtCCSERDN4BC0IKIREM3QELQgshEQzcAQtCDCERDNsBC0INIREM2gELQg4hEQzZAQtCDyERDNgBC0IKIREM1wELQgshEQzWAQtCDCERDNUBC0INIREM1AELQg4hEQzTAQtCDyERDNIBC0IAIRECQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAtAABBUGoON+UB5AEAAQIDBAUGB+YB5gHmAeYB5gHmAeYBCAkKCwwN5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAeYB5gHmAQ4PEBESE+YBC0ICIREM5AELQgMhEQzjAQtCBCERDOIBC0IFIREM4QELQgYhEQzgAQtCByERDN8BC0IIIREM3gELQgkhEQzdAQtCCiERDNwBC0ILIREM2wELQgwhEQzaAQtCDSERDNkBC0IOIREM2AELQg8hEQzXAQtCCiERDNYBC0ILIREM1QELQgwhEQzUAQtCDSERDNMBC0IOIREM0gELQg8hEQzRAQsgAEIAIAApAyAiESACIAEiEGutIhJ9IhMgEyARVhs3AyAgESASViIURQ3SAUEfIRAMwAMLAkAgASIBIAJGDQAgAEGJgICAADYCCCAAIAE2AgQgASEBQSQhEAynAwtBICEQDL8DCyAAIAEiECACEL6AgIAAQX9qDgW2AQDFAgHRAdIBC0ERIRAMpAMLIABBAToALyAQIQEMuwMLIAEiASACRw3SAUEkIRAMuwMLIAEiDSACRw0eQcYAIRAMugMLIAAgASIBIAIQsoCAgAAiEA3UASABIQEMtQELIAEiECACRw0mQdAAIRAMuAMLAkAgASIBIAJHDQBBKCEQDLgDCyAAQQA2AgQgAEGMgICAADYCCCAAIAEgARCxgICAACIQDdMBIAEhAQzYAQsCQCABIhAgAkcNAEEpIRAMtwMLIBAtAAAiAUEgRg0UIAFBCUcN0wEgEEEBaiEBDBULAkAgASIBIAJGDQAgAUEBaiEBDBcLQSohEAy1AwsCQCABIhAgAkcNAEErIRAMtQMLAkAgEC0AACIBQQlGDQAgAUEgRw3VAQsgAC0ALEEIRg3TASAQIQEMkQMLAkAgASIBIAJHDQBBLCEQDLQDCyABLQAAQQpHDdUBIAFBAWohAQzJAgsgASIOIAJHDdUBQS8hEAyyAwsDQAJAIAEtAAAiEEEgRg0AAkAgEEF2ag4EANwB3AEA2gELIAEhAQzgAQsgAUEBaiIBIAJHDQALQTEhEAyxAwtBMiEQIAEiFCACRg2wAyACIBRrIAAoAgAiAWohFSAUIAFrQQNqIRYCQANAIBQtAAAiF0EgciAXIBdBv39qQf8BcUEaSRtB/wFxIAFB8LuAgABqLQAARw0BAkAgAUEDRw0AQQYhAQyWAwsgAUEBaiEBIBRBAWoiFCACRw0ACyAAIBU2AgAMsQMLIABBADYCACAUIQEM2QELQTMhECABIhQgAkYNrwMgAiAUayAAKAIAIgFqIRUgFCABa0EIaiEWAkADQCAULQAAIhdBIHIgFyAXQb9/akH/AXFBGkkbQf8BcSABQfS7gIAAai0AAEcNAQJAIAFBCEcNAEEFIQEMlQMLIAFBAWohASAUQQFqIhQgAkcNAAsgACAVNgIADLADCyAAQQA2AgAgFCEBDNgBC0E0IRAgASIUIAJGDa4DIAIgFGsgACgCACIBaiEVIBQgAWtBBWohFgJAA0AgFC0AACIXQSByIBcgF0G/f2pB/wFxQRpJG0H/AXEgAUHQwoCAAGotAABHDQECQCABQQVHDQBBByEBDJQDCyABQQFqIQEgFEEBaiIUIAJHDQALIAAgFTYCAAyvAwsgAEEANgIAIBQhAQzXAQsCQCABIgEgAkYNAANAAkAgAS0AAEGAvoCAAGotAAAiEEEBRg0AIBBBAkYNCiABIQEM3QELIAFBAWoiASACRw0AC0EwIRAMrgMLQTAhEAytAwsCQCABIgEgAkYNAANAAkAgAS0AACIQQSBGDQAgEEF2ag4E2QHaAdoB2QHaAQsgAUEBaiIBIAJHDQALQTghEAytAwtBOCEQDKwDCwNAAkAgAS0AACIQQSBGDQAgEEEJRw0DCyABQQFqIgEgAkcNAAtBPCEQDKsDCwNAAkAgAS0AACIQQSBGDQACQAJAIBBBdmoOBNoBAQHaAQALIBBBLEYN2wELIAEhAQwECyABQQFqIgEgAkcNAAtBPyEQDKoDCyABIQEM2wELQcAAIRAgASIUIAJGDagDIAIgFGsgACgCACIBaiEWIBQgAWtBBmohFwJAA0AgFC0AAEEgciABQYDAgIAAai0AAEcNASABQQZGDY4DIAFBAWohASAUQQFqIhQgAkcNAAsgACAWNgIADKkDCyAAQQA2AgAgFCEBC0E2IRAMjgMLAkAgASIPIAJHDQBBwQAhEAynAwsgAEGMgICAADYCCCAAIA82AgQgDyEBIAAtACxBf2oOBM0B1QHXAdkBhwMLIAFBAWohAQzMAQsCQCABIgEgAkYNAANAAkAgAS0AACIQQSByIBAgEEG/f2pB/wFxQRpJG0H/AXEiEEEJRg0AIBBBIEYNAAJAAkACQAJAIBBBnX9qDhMAAwMDAwMDAwEDAwMDAwMDAwMCAwsgAUEBaiEBQTEhEAyRAwsgAUEBaiEBQTIhEAyQAwsgAUEBaiEBQTMhEAyPAwsgASEBDNABCyABQQFqIgEgAkcNAAtBNSEQDKUDC0E1IRAMpAMLAkAgASIBIAJGDQADQAJAIAEtAABBgLyAgABqLQAAQQFGDQAgASEBDNMBCyABQQFqIgEgAkcNAAtBPSEQDKQDC0E9IRAMowMLIAAgASIBIAIQsICAgAAiEA3WASABIQEMAQsgEEEBaiEBC0E8IRAMhwMLAkAgASIBIAJHDQBBwgAhEAygAwsCQANAAkAgAS0AAEF3ag4YAAL+Av4ChAP+Av4C/gL+Av4C/gL+Av4C/gL+Av4C/gL+Av4C/gL+Av4C/gIA/gILIAFBAWoiASACRw0AC0HCACEQDKADCyABQQFqIQEgAC0ALUEBcUUNvQEgASEBC0EsIRAMhQMLIAEiASACRw3TAUHEACEQDJ0DCwNAAkAgAS0AAEGQwICAAGotAABBAUYNACABIQEMtwILIAFBAWoiASACRw0AC0HFACEQDJwDCyANLQAAIhBBIEYNswEgEEE6Rw2BAyAAKAIEIQEgAEEANgIEIAAgASANEK+AgIAAIgEN0AEgDUEBaiEBDLMCC0HHACEQIAEiDSACRg2aAyACIA1rIAAoAgAiAWohFiANIAFrQQVqIRcDQCANLQAAIhRBIHIgFCAUQb9/akH/AXFBGkkbQf8BcSABQZDCgIAAai0AAEcNgAMgAUEFRg30AiABQQFqIQEgDUEBaiINIAJHDQALIAAgFjYCAAyaAwtByAAhECABIg0gAkYNmQMgAiANayAAKAIAIgFqIRYgDSABa0EJaiEXA0AgDS0AACIUQSByIBQgFEG/f2pB/wFxQRpJG0H/AXEgAUGWwoCAAGotAABHDf8CAkAgAUEJRw0AQQIhAQz1AgsgAUEBaiEBIA1BAWoiDSACRw0ACyAAIBY2AgAMmQMLAkAgASINIAJHDQBByQAhEAyZAwsCQAJAIA0tAAAiAUEgciABIAFBv39qQf8BcUEaSRtB/wFxQZJ/ag4HAIADgAOAA4ADgAMBgAMLIA1BAWohAUE+IRAMgAMLIA1BAWohAUE/IRAM/wILQcoAIRAgASINIAJGDZcDIAIgDWsgACgCACIBaiEWIA0gAWtBAWohFwNAIA0tAAAiFEEgciAUIBRBv39qQf8BcUEaSRtB/wFxIAFBoMKAgABqLQAARw39AiABQQFGDfACIAFBAWohASANQQFqIg0gAkcNAAsgACAWNgIADJcDC0HLACEQIAEiDSACRg2WAyACIA1rIAAoAgAiAWohFiANIAFrQQ5qIRcDQCANLQAAIhRBIHIgFCAUQb9/akH/AXFBGkkbQf8BcSABQaLCgIAAai0AAEcN/AIgAUEORg3wAiABQQFqIQEgDUEBaiINIAJHDQALIAAgFjYCAAyWAwtBzAAhECABIg0gAkYNlQMgAiANayAAKAIAIgFqIRYgDSABa0EPaiEXA0AgDS0AACIUQSByIBQgFEG/f2pB/wFxQRpJG0H/AXEgAUHAwoCAAGotAABHDfsCAkAgAUEPRw0AQQMhAQzxAgsgAUEBaiEBIA1BAWoiDSACRw0ACyAAIBY2AgAMlQMLQc0AIRAgASINIAJGDZQDIAIgDWsgACgCACIBaiEWIA0gAWtBBWohFwNAIA0tAAAiFEEgciAUIBRBv39qQf8BcUEaSRtB/wFxIAFB0MKAgABqLQAARw36AgJAIAFBBUcNAEEEIQEM8AILIAFBAWohASANQQFqIg0gAkcNAAsgACAWNgIADJQDCwJAIAEiDSACRw0AQc4AIRAMlAMLAkACQAJAAkAgDS0AACIBQSByIAEgAUG/f2pB/wFxQRpJG0H/AXFBnX9qDhMA/QL9Av0C/QL9Av0C/QL9Av0C/QL9Av0CAf0C/QL9AgID/QILIA1BAWohAUHBACEQDP0CCyANQQFqIQFBwgAhEAz8AgsgDUEBaiEBQcMAIRAM+wILIA1BAWohAUHEACEQDPoCCwJAIAEiASACRg0AIABBjYCAgAA2AgggACABNgIEIAEhAUHFACEQDPoCC0HPACEQDJIDCyAQIQECQAJAIBAtAABBdmoOBAGoAqgCAKgCCyAQQQFqIQELQSchEAz4AgsCQCABIgEgAkcNAEHRACEQDJEDCwJAIAEtAABBIEYNACABIQEMjQELIAFBAWohASAALQAtQQFxRQ3HASABIQEMjAELIAEiFyACRw3IAUHSACEQDI8DC0HTACEQIAEiFCACRg2OAyACIBRrIAAoAgAiAWohFiAUIAFrQQFqIRcDQCAULQAAIAFB1sKAgABqLQAARw3MASABQQFGDccBIAFBAWohASAUQQFqIhQgAkcNAAsgACAWNgIADI4DCwJAIAEiASACRw0AQdUAIRAMjgMLIAEtAABBCkcNzAEgAUEBaiEBDMcBCwJAIAEiASACRw0AQdYAIRAMjQMLAkACQCABLQAAQXZqDgQAzQHNAQHNAQsgAUEBaiEBDMcBCyABQQFqIQFBygAhEAzzAgsgACABIgEgAhCugICAACIQDcsBIAEhAUHNACEQDPICCyAALQApQSJGDYUDDKYCCwJAIAEiASACRw0AQdsAIRAMigMLQQAhFEEBIRdBASEWQQAhEAJAAkACQAJAAkACQAJAAkACQCABLQAAQVBqDgrUAdMBAAECAwQFBgjVAQtBAiEQDAYLQQMhEAwFC0EEIRAMBAtBBSEQDAMLQQYhEAwCC0EHIRAMAQtBCCEQC0EAIRdBACEWQQAhFAzMAQtBCSEQQQEhFEEAIRdBACEWDMsBCwJAIAEiASACRw0AQd0AIRAMiQMLIAEtAABBLkcNzAEgAUEBaiEBDKYCCyABIgEgAkcNzAFB3wAhEAyHAwsCQCABIgEgAkYNACAAQY6AgIAANgIIIAAgATYCBCABIQFB0AAhEAzuAgtB4AAhEAyGAwtB4QAhECABIgEgAkYNhQMgAiABayAAKAIAIhRqIRYgASAUa0EDaiEXA0AgAS0AACAUQeLCgIAAai0AAEcNzQEgFEEDRg3MASAUQQFqIRQgAUEBaiIBIAJHDQALIAAgFjYCAAyFAwtB4gAhECABIgEgAkYNhAMgAiABayAAKAIAIhRqIRYgASAUa0ECaiEXA0AgAS0AACAUQebCgIAAai0AAEcNzAEgFEECRg3OASAUQQFqIRQgAUEBaiIBIAJHDQALIAAgFjYCAAyEAwtB4wAhECABIgEgAkYNgwMgAiABayAAKAIAIhRqIRYgASAUa0EDaiEXA0AgAS0AACAUQenCgIAAai0AAEcNywEgFEEDRg3OASAUQQFqIRQgAUEBaiIBIAJHDQALIAAgFjYCAAyDAwsCQCABIgEgAkcNAEHlACEQDIMDCyAAIAFBAWoiASACEKiAgIAAIhANzQEgASEBQdYAIRAM6QILAkAgASIBIAJGDQADQAJAIAEtAAAiEEEgRg0AAkACQAJAIBBBuH9qDgsAAc8BzwHPAc8BzwHPAc8BzwECzwELIAFBAWohAUHSACEQDO0CCyABQQFqIQFB0wAhEAzsAgsgAUEBaiEBQdQAIRAM6wILIAFBAWoiASACRw0AC0HkACEQDIIDC0HkACEQDIEDCwNAAkAgAS0AAEHwwoCAAGotAAAiEEEBRg0AIBBBfmoOA88B0AHRAdIBCyABQQFqIgEgAkcNAAtB5gAhEAyAAwsCQCABIgEgAkYNACABQQFqIQEMAwtB5wAhEAz/AgsDQAJAIAEtAABB8MSAgABqLQAAIhBBAUYNAAJAIBBBfmoOBNIB0wHUAQDVAQsgASEBQdcAIRAM5wILIAFBAWoiASACRw0AC0HoACEQDP4CCwJAIAEiASACRw0AQekAIRAM/gILAkAgAS0AACIQQXZqDhq6AdUB1QG8AdUB1QHVAdUB1QHVAdUB1QHVAdUB1QHVAdUB1QHVAdUB1QHVAcoB1QHVAQDTAQsgAUEBaiEBC0EGIRAM4wILA0ACQCABLQAAQfDGgIAAai0AAEEBRg0AIAEhAQyeAgsgAUEBaiIBIAJHDQALQeoAIRAM+wILAkAgASIBIAJGDQAgAUEBaiEBDAMLQesAIRAM+gILAkAgASIBIAJHDQBB7AAhEAz6AgsgAUEBaiEBDAELAkAgASIBIAJHDQBB7QAhEAz5AgsgAUEBaiEBC0EEIRAM3gILAkAgASIUIAJHDQBB7gAhEAz3AgsgFCEBAkACQAJAIBQtAABB8MiAgABqLQAAQX9qDgfUAdUB1gEAnAIBAtcBCyAUQQFqIQEMCgsgFEEBaiEBDM0BC0EAIRAgAEEANgIcIABBm5KAgAA2AhAgAEEHNgIMIAAgFEEBajYCFAz2AgsCQANAAkAgAS0AAEHwyICAAGotAAAiEEEERg0AAkACQCAQQX9qDgfSAdMB1AHZAQAEAdkBCyABIQFB2gAhEAzgAgsgAUEBaiEBQdwAIRAM3wILIAFBAWoiASACRw0AC0HvACEQDPYCCyABQQFqIQEMywELAkAgASIUIAJHDQBB8AAhEAz1AgsgFC0AAEEvRw3UASAUQQFqIQEMBgsCQCABIhQgAkcNAEHxACEQDPQCCwJAIBQtAAAiAUEvRw0AIBRBAWohAUHdACEQDNsCCyABQXZqIgRBFksN0wFBASAEdEGJgIACcUUN0wEMygILAkAgASIBIAJGDQAgAUEBaiEBQd4AIRAM2gILQfIAIRAM8gILAkAgASIUIAJHDQBB9AAhEAzyAgsgFCEBAkAgFC0AAEHwzICAAGotAABBf2oOA8kClAIA1AELQeEAIRAM2AILAkAgASIUIAJGDQADQAJAIBQtAABB8MqAgABqLQAAIgFBA0YNAAJAIAFBf2oOAssCANUBCyAUIQFB3wAhEAzaAgsgFEEBaiIUIAJHDQALQfMAIRAM8QILQfMAIRAM8AILAkAgASIBIAJGDQAgAEGPgICAADYCCCAAIAE2AgQgASEBQeAAIRAM1wILQfUAIRAM7wILAkAgASIBIAJHDQBB9gAhEAzvAgsgAEGPgICAADYCCCAAIAE2AgQgASEBC0EDIRAM1AILA0AgAS0AAEEgRw3DAiABQQFqIgEgAkcNAAtB9wAhEAzsAgsCQCABIgEgAkcNAEH4ACEQDOwCCyABLQAAQSBHDc4BIAFBAWohAQzvAQsgACABIgEgAhCsgICAACIQDc4BIAEhAQyOAgsCQCABIgQgAkcNAEH6ACEQDOoCCyAELQAAQcwARw3RASAEQQFqIQFBEyEQDM8BCwJAIAEiBCACRw0AQfsAIRAM6QILIAIgBGsgACgCACIBaiEUIAQgAWtBBWohEANAIAQtAAAgAUHwzoCAAGotAABHDdABIAFBBUYNzgEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBB+wAhEAzoAgsCQCABIgQgAkcNAEH8ACEQDOgCCwJAAkAgBC0AAEG9f2oODADRAdEB0QHRAdEB0QHRAdEB0QHRAQHRAQsgBEEBaiEBQeYAIRAMzwILIARBAWohAUHnACEQDM4CCwJAIAEiBCACRw0AQf0AIRAM5wILIAIgBGsgACgCACIBaiEUIAQgAWtBAmohEAJAA0AgBC0AACABQe3PgIAAai0AAEcNzwEgAUECRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQf0AIRAM5wILIABBADYCACAQQQFqIQFBECEQDMwBCwJAIAEiBCACRw0AQf4AIRAM5gILIAIgBGsgACgCACIBaiEUIAQgAWtBBWohEAJAA0AgBC0AACABQfbOgIAAai0AAEcNzgEgAUEFRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQf4AIRAM5gILIABBADYCACAQQQFqIQFBFiEQDMsBCwJAIAEiBCACRw0AQf8AIRAM5QILIAIgBGsgACgCACIBaiEUIAQgAWtBA2ohEAJAA0AgBC0AACABQfzOgIAAai0AAEcNzQEgAUEDRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQf8AIRAM5QILIABBADYCACAQQQFqIQFBBSEQDMoBCwJAIAEiBCACRw0AQYABIRAM5AILIAQtAABB2QBHDcsBIARBAWohAUEIIRAMyQELAkAgASIEIAJHDQBBgQEhEAzjAgsCQAJAIAQtAABBsn9qDgMAzAEBzAELIARBAWohAUHrACEQDMoCCyAEQQFqIQFB7AAhEAzJAgsCQCABIgQgAkcNAEGCASEQDOICCwJAAkAgBC0AAEG4f2oOCADLAcsBywHLAcsBywEBywELIARBAWohAUHqACEQDMkCCyAEQQFqIQFB7QAhEAzIAgsCQCABIgQgAkcNAEGDASEQDOECCyACIARrIAAoAgAiAWohECAEIAFrQQJqIRQCQANAIAQtAAAgAUGAz4CAAGotAABHDckBIAFBAkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgEDYCAEGDASEQDOECC0EAIRAgAEEANgIAIBRBAWohAQzGAQsCQCABIgQgAkcNAEGEASEQDOACCyACIARrIAAoAgAiAWohFCAEIAFrQQRqIRACQANAIAQtAAAgAUGDz4CAAGotAABHDcgBIAFBBEYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGEASEQDOACCyAAQQA2AgAgEEEBaiEBQSMhEAzFAQsCQCABIgQgAkcNAEGFASEQDN8CCwJAAkAgBC0AAEG0f2oOCADIAcgByAHIAcgByAEByAELIARBAWohAUHvACEQDMYCCyAEQQFqIQFB8AAhEAzFAgsCQCABIgQgAkcNAEGGASEQDN4CCyAELQAAQcUARw3FASAEQQFqIQEMgwILAkAgASIEIAJHDQBBhwEhEAzdAgsgAiAEayAAKAIAIgFqIRQgBCABa0EDaiEQAkADQCAELQAAIAFBiM+AgABqLQAARw3FASABQQNGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBhwEhEAzdAgsgAEEANgIAIBBBAWohAUEtIRAMwgELAkAgASIEIAJHDQBBiAEhEAzcAgsgAiAEayAAKAIAIgFqIRQgBCABa0EIaiEQAkADQCAELQAAIAFB0M+AgABqLQAARw3EASABQQhGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBiAEhEAzcAgsgAEEANgIAIBBBAWohAUEpIRAMwQELAkAgASIBIAJHDQBBiQEhEAzbAgtBASEQIAEtAABB3wBHDcABIAFBAWohAQyBAgsCQCABIgQgAkcNAEGKASEQDNoCCyACIARrIAAoAgAiAWohFCAEIAFrQQFqIRADQCAELQAAIAFBjM+AgABqLQAARw3BASABQQFGDa8CIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQYoBIRAM2QILAkAgASIEIAJHDQBBiwEhEAzZAgsgAiAEayAAKAIAIgFqIRQgBCABa0ECaiEQAkADQCAELQAAIAFBjs+AgABqLQAARw3BASABQQJGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBiwEhEAzZAgsgAEEANgIAIBBBAWohAUECIRAMvgELAkAgASIEIAJHDQBBjAEhEAzYAgsgAiAEayAAKAIAIgFqIRQgBCABa0EBaiEQAkADQCAELQAAIAFB8M+AgABqLQAARw3AASABQQFGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBjAEhEAzYAgsgAEEANgIAIBBBAWohAUEfIRAMvQELAkAgASIEIAJHDQBBjQEhEAzXAgsgAiAEayAAKAIAIgFqIRQgBCABa0EBaiEQAkADQCAELQAAIAFB8s+AgABqLQAARw2/ASABQQFGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBjQEhEAzXAgsgAEEANgIAIBBBAWohAUEJIRAMvAELAkAgASIEIAJHDQBBjgEhEAzWAgsCQAJAIAQtAABBt39qDgcAvwG/Ab8BvwG/AQG/AQsgBEEBaiEBQfgAIRAMvQILIARBAWohAUH5ACEQDLwCCwJAIAEiBCACRw0AQY8BIRAM1QILIAIgBGsgACgCACIBaiEUIAQgAWtBBWohEAJAA0AgBC0AACABQZHPgIAAai0AAEcNvQEgAUEFRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQY8BIRAM1QILIABBADYCACAQQQFqIQFBGCEQDLoBCwJAIAEiBCACRw0AQZABIRAM1AILIAIgBGsgACgCACIBaiEUIAQgAWtBAmohEAJAA0AgBC0AACABQZfPgIAAai0AAEcNvAEgAUECRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQZABIRAM1AILIABBADYCACAQQQFqIQFBFyEQDLkBCwJAIAEiBCACRw0AQZEBIRAM0wILIAIgBGsgACgCACIBaiEUIAQgAWtBBmohEAJAA0AgBC0AACABQZrPgIAAai0AAEcNuwEgAUEGRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQZEBIRAM0wILIABBADYCACAQQQFqIQFBFSEQDLgBCwJAIAEiBCACRw0AQZIBIRAM0gILIAIgBGsgACgCACIBaiEUIAQgAWtBBWohEAJAA0AgBC0AACABQaHPgIAAai0AAEcNugEgAUEFRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQZIBIRAM0gILIABBADYCACAQQQFqIQFBHiEQDLcBCwJAIAEiBCACRw0AQZMBIRAM0QILIAQtAABBzABHDbgBIARBAWohAUEKIRAMtgELAkAgBCACRw0AQZQBIRAM0AILAkACQCAELQAAQb9/ag4PALkBuQG5AbkBuQG5AbkBuQG5AbkBuQG5AbkBAbkBCyAEQQFqIQFB/gAhEAy3AgsgBEEBaiEBQf8AIRAMtgILAkAgBCACRw0AQZUBIRAMzwILAkACQCAELQAAQb9/ag4DALgBAbgBCyAEQQFqIQFB/QAhEAy2AgsgBEEBaiEEQYABIRAMtQILAkAgBCACRw0AQZYBIRAMzgILIAIgBGsgACgCACIBaiEUIAQgAWtBAWohEAJAA0AgBC0AACABQafPgIAAai0AAEcNtgEgAUEBRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQZYBIRAMzgILIABBADYCACAQQQFqIQFBCyEQDLMBCwJAIAQgAkcNAEGXASEQDM0CCwJAAkACQAJAIAQtAABBU2oOIwC4AbgBuAG4AbgBuAG4AbgBuAG4AbgBuAG4AbgBuAG4AbgBuAG4AbgBuAG4AbgBAbgBuAG4AbgBuAECuAG4AbgBA7gBCyAEQQFqIQFB+wAhEAy2AgsgBEEBaiEBQfwAIRAMtQILIARBAWohBEGBASEQDLQCCyAEQQFqIQRBggEhEAyzAgsCQCAEIAJHDQBBmAEhEAzMAgsgAiAEayAAKAIAIgFqIRQgBCABa0EEaiEQAkADQCAELQAAIAFBqc+AgABqLQAARw20ASABQQRGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBmAEhEAzMAgsgAEEANgIAIBBBAWohAUEZIRAMsQELAkAgBCACRw0AQZkBIRAMywILIAIgBGsgACgCACIBaiEUIAQgAWtBBWohEAJAA0AgBC0AACABQa7PgIAAai0AAEcNswEgAUEFRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQZkBIRAMywILIABBADYCACAQQQFqIQFBBiEQDLABCwJAIAQgAkcNAEGaASEQDMoCCyACIARrIAAoAgAiAWohFCAEIAFrQQFqIRACQANAIAQtAAAgAUG0z4CAAGotAABHDbIBIAFBAUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGaASEQDMoCCyAAQQA2AgAgEEEBaiEBQRwhEAyvAQsCQCAEIAJHDQBBmwEhEAzJAgsgAiAEayAAKAIAIgFqIRQgBCABa0EBaiEQAkADQCAELQAAIAFBts+AgABqLQAARw2xASABQQFGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBmwEhEAzJAgsgAEEANgIAIBBBAWohAUEnIRAMrgELAkAgBCACRw0AQZwBIRAMyAILAkACQCAELQAAQax/ag4CAAGxAQsgBEEBaiEEQYYBIRAMrwILIARBAWohBEGHASEQDK4CCwJAIAQgAkcNAEGdASEQDMcCCyACIARrIAAoAgAiAWohFCAEIAFrQQFqIRACQANAIAQtAAAgAUG4z4CAAGotAABHDa8BIAFBAUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGdASEQDMcCCyAAQQA2AgAgEEEBaiEBQSYhEAysAQsCQCAEIAJHDQBBngEhEAzGAgsgAiAEayAAKAIAIgFqIRQgBCABa0EBaiEQAkADQCAELQAAIAFBus+AgABqLQAARw2uASABQQFGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBngEhEAzGAgsgAEEANgIAIBBBAWohAUEDIRAMqwELAkAgBCACRw0AQZ8BIRAMxQILIAIgBGsgACgCACIBaiEUIAQgAWtBAmohEAJAA0AgBC0AACABQe3PgIAAai0AAEcNrQEgAUECRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQZ8BIRAMxQILIABBADYCACAQQQFqIQFBDCEQDKoBCwJAIAQgAkcNAEGgASEQDMQCCyACIARrIAAoAgAiAWohFCAEIAFrQQNqIRACQANAIAQtAAAgAUG8z4CAAGotAABHDawBIAFBA0YNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGgASEQDMQCCyAAQQA2AgAgEEEBaiEBQQ0hEAypAQsCQCAEIAJHDQBBoQEhEAzDAgsCQAJAIAQtAABBun9qDgsArAGsAawBrAGsAawBrAGsAawBAawBCyAEQQFqIQRBiwEhEAyqAgsgBEEBaiEEQYwBIRAMqQILAkAgBCACRw0AQaIBIRAMwgILIAQtAABB0ABHDakBIARBAWohBAzpAQsCQCAEIAJHDQBBowEhEAzBAgsCQAJAIAQtAABBt39qDgcBqgGqAaoBqgGqAQCqAQsgBEEBaiEEQY4BIRAMqAILIARBAWohAUEiIRAMpgELAkAgBCACRw0AQaQBIRAMwAILIAIgBGsgACgCACIBaiEUIAQgAWtBAWohEAJAA0AgBC0AACABQcDPgIAAai0AAEcNqAEgAUEBRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQaQBIRAMwAILIABBADYCACAQQQFqIQFBHSEQDKUBCwJAIAQgAkcNAEGlASEQDL8CCwJAAkAgBC0AAEGuf2oOAwCoAQGoAQsgBEEBaiEEQZABIRAMpgILIARBAWohAUEEIRAMpAELAkAgBCACRw0AQaYBIRAMvgILAkACQAJAAkACQCAELQAAQb9/ag4VAKoBqgGqAaoBqgGqAaoBqgGqAaoBAaoBqgECqgGqAQOqAaoBBKoBCyAEQQFqIQRBiAEhEAyoAgsgBEEBaiEEQYkBIRAMpwILIARBAWohBEGKASEQDKYCCyAEQQFqIQRBjwEhEAylAgsgBEEBaiEEQZEBIRAMpAILAkAgBCACRw0AQacBIRAMvQILIAIgBGsgACgCACIBaiEUIAQgAWtBAmohEAJAA0AgBC0AACABQe3PgIAAai0AAEcNpQEgAUECRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQacBIRAMvQILIABBADYCACAQQQFqIQFBESEQDKIBCwJAIAQgAkcNAEGoASEQDLwCCyACIARrIAAoAgAiAWohFCAEIAFrQQJqIRACQANAIAQtAAAgAUHCz4CAAGotAABHDaQBIAFBAkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGoASEQDLwCCyAAQQA2AgAgEEEBaiEBQSwhEAyhAQsCQCAEIAJHDQBBqQEhEAy7AgsgAiAEayAAKAIAIgFqIRQgBCABa0EEaiEQAkADQCAELQAAIAFBxc+AgABqLQAARw2jASABQQRGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBqQEhEAy7AgsgAEEANgIAIBBBAWohAUErIRAMoAELAkAgBCACRw0AQaoBIRAMugILIAIgBGsgACgCACIBaiEUIAQgAWtBAmohEAJAA0AgBC0AACABQcrPgIAAai0AAEcNogEgAUECRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQaoBIRAMugILIABBADYCACAQQQFqIQFBFCEQDJ8BCwJAIAQgAkcNAEGrASEQDLkCCwJAAkACQAJAIAQtAABBvn9qDg8AAQKkAaQBpAGkAaQBpAGkAaQBpAGkAaQBA6QBCyAEQQFqIQRBkwEhEAyiAgsgBEEBaiEEQZQBIRAMoQILIARBAWohBEGVASEQDKACCyAEQQFqIQRBlgEhEAyfAgsCQCAEIAJHDQBBrAEhEAy4AgsgBC0AAEHFAEcNnwEgBEEBaiEEDOABCwJAIAQgAkcNAEGtASEQDLcCCyACIARrIAAoAgAiAWohFCAEIAFrQQJqIRACQANAIAQtAAAgAUHNz4CAAGotAABHDZ8BIAFBAkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEGtASEQDLcCCyAAQQA2AgAgEEEBaiEBQQ4hEAycAQsCQCAEIAJHDQBBrgEhEAy2AgsgBC0AAEHQAEcNnQEgBEEBaiEBQSUhEAybAQsCQCAEIAJHDQBBrwEhEAy1AgsgAiAEayAAKAIAIgFqIRQgBCABa0EIaiEQAkADQCAELQAAIAFB0M+AgABqLQAARw2dASABQQhGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBrwEhEAy1AgsgAEEANgIAIBBBAWohAUEqIRAMmgELAkAgBCACRw0AQbABIRAMtAILAkACQCAELQAAQat/ag4LAJ0BnQGdAZ0BnQGdAZ0BnQGdAQGdAQsgBEEBaiEEQZoBIRAMmwILIARBAWohBEGbASEQDJoCCwJAIAQgAkcNAEGxASEQDLMCCwJAAkAgBC0AAEG/f2oOFACcAZwBnAGcAZwBnAGcAZwBnAGcAZwBnAGcAZwBnAGcAZwBnAEBnAELIARBAWohBEGZASEQDJoCCyAEQQFqIQRBnAEhEAyZAgsCQCAEIAJHDQBBsgEhEAyyAgsgAiAEayAAKAIAIgFqIRQgBCABa0EDaiEQAkADQCAELQAAIAFB2c+AgABqLQAARw2aASABQQNGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBsgEhEAyyAgsgAEEANgIAIBBBAWohAUEhIRAMlwELAkAgBCACRw0AQbMBIRAMsQILIAIgBGsgACgCACIBaiEUIAQgAWtBBmohEAJAA0AgBC0AACABQd3PgIAAai0AAEcNmQEgAUEGRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQbMBIRAMsQILIABBADYCACAQQQFqIQFBGiEQDJYBCwJAIAQgAkcNAEG0ASEQDLACCwJAAkACQCAELQAAQbt/ag4RAJoBmgGaAZoBmgGaAZoBmgGaAQGaAZoBmgGaAZoBApoBCyAEQQFqIQRBnQEhEAyYAgsgBEEBaiEEQZ4BIRAMlwILIARBAWohBEGfASEQDJYCCwJAIAQgAkcNAEG1ASEQDK8CCyACIARrIAAoAgAiAWohFCAEIAFrQQVqIRACQANAIAQtAAAgAUHkz4CAAGotAABHDZcBIAFBBUYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEG1ASEQDK8CCyAAQQA2AgAgEEEBaiEBQSghEAyUAQsCQCAEIAJHDQBBtgEhEAyuAgsgAiAEayAAKAIAIgFqIRQgBCABa0ECaiEQAkADQCAELQAAIAFB6s+AgABqLQAARw2WASABQQJGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBtgEhEAyuAgsgAEEANgIAIBBBAWohAUEHIRAMkwELAkAgBCACRw0AQbcBIRAMrQILAkACQCAELQAAQbt/ag4OAJYBlgGWAZYBlgGWAZYBlgGWAZYBlgGWAQGWAQsgBEEBaiEEQaEBIRAMlAILIARBAWohBEGiASEQDJMCCwJAIAQgAkcNAEG4ASEQDKwCCyACIARrIAAoAgAiAWohFCAEIAFrQQJqIRACQANAIAQtAAAgAUHtz4CAAGotAABHDZQBIAFBAkYNASABQQFqIQEgBEEBaiIEIAJHDQALIAAgFDYCAEG4ASEQDKwCCyAAQQA2AgAgEEEBaiEBQRIhEAyRAQsCQCAEIAJHDQBBuQEhEAyrAgsgAiAEayAAKAIAIgFqIRQgBCABa0EBaiEQAkADQCAELQAAIAFB8M+AgABqLQAARw2TASABQQFGDQEgAUEBaiEBIARBAWoiBCACRw0ACyAAIBQ2AgBBuQEhEAyrAgsgAEEANgIAIBBBAWohAUEgIRAMkAELAkAgBCACRw0AQboBIRAMqgILIAIgBGsgACgCACIBaiEUIAQgAWtBAWohEAJAA0AgBC0AACABQfLPgIAAai0AAEcNkgEgAUEBRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQboBIRAMqgILIABBADYCACAQQQFqIQFBDyEQDI8BCwJAIAQgAkcNAEG7ASEQDKkCCwJAAkAgBC0AAEG3f2oOBwCSAZIBkgGSAZIBAZIBCyAEQQFqIQRBpQEhEAyQAgsgBEEBaiEEQaYBIRAMjwILAkAgBCACRw0AQbwBIRAMqAILIAIgBGsgACgCACIBaiEUIAQgAWtBB2ohEAJAA0AgBC0AACABQfTPgIAAai0AAEcNkAEgAUEHRg0BIAFBAWohASAEQQFqIgQgAkcNAAsgACAUNgIAQbwBIRAMqAILIABBADYCACAQQQFqIQFBGyEQDI0BCwJAIAQgAkcNAEG9ASEQDKcCCwJAAkACQCAELQAAQb5/ag4SAJEBkQGRAZEBkQGRAZEBkQGRAQGRAZEBkQGRAZEBkQECkQELIARBAWohBEGkASEQDI8CCyAEQQFqIQRBpwEhEAyOAgsgBEEBaiEEQagBIRAMjQILAkAgBCACRw0AQb4BIRAMpgILIAQtAABBzgBHDY0BIARBAWohBAzPAQsCQCAEIAJHDQBBvwEhEAylAgsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAELQAAQb9/ag4VAAECA5wBBAUGnAGcAZwBBwgJCgucAQwNDg+cAQsgBEEBaiEBQegAIRAMmgILIARBAWohAUHpACEQDJkCCyAEQQFqIQFB7gAhEAyYAgsgBEEBaiEBQfIAIRAMlwILIARBAWohAUHzACEQDJYCCyAEQQFqIQFB9gAhEAyVAgsgBEEBaiEBQfcAIRAMlAILIARBAWohAUH6ACEQDJMCCyAEQQFqIQRBgwEhEAySAgsgBEEBaiEEQYQBIRAMkQILIARBAWohBEGFASEQDJACCyAEQQFqIQRBkgEhEAyPAgsgBEEBaiEEQZgBIRAMjgILIARBAWohBEGgASEQDI0CCyAEQQFqIQRBowEhEAyMAgsgBEEBaiEEQaoBIRAMiwILAkAgBCACRg0AIABBkICAgAA2AgggACAENgIEQasBIRAMiwILQcABIRAMowILIAAgBSACEKqAgIAAIgENiwEgBSEBDFwLAkAgBiACRg0AIAZBAWohBQyNAQtBwgEhEAyhAgsDQAJAIBAtAABBdmoOBIwBAACPAQALIBBBAWoiECACRw0AC0HDASEQDKACCwJAIAcgAkYNACAAQZGAgIAANgIIIAAgBzYCBCAHIQFBASEQDIcCC0HEASEQDJ8CCwJAIAcgAkcNAEHFASEQDJ8CCwJAAkAgBy0AAEF2ag4EAc4BzgEAzgELIAdBAWohBgyNAQsgB0EBaiEFDIkBCwJAIAcgAkcNAEHGASEQDJ4CCwJAAkAgBy0AAEF2ag4XAY8BjwEBjwGPAY8BjwGPAY8BjwGPAY8BjwGPAY8BjwGPAY8BjwGPAY8BAI8BCyAHQQFqIQcLQbABIRAMhAILAkAgCCACRw0AQcgBIRAMnQILIAgtAABBIEcNjQEgAEEAOwEyIAhBAWohAUGzASEQDIMCCyABIRcCQANAIBciByACRg0BIActAABBUGpB/wFxIhBBCk8NzAECQCAALwEyIhRBmTNLDQAgACAUQQpsIhQ7ATIgEEH//wNzIBRB/v8DcUkNACAHQQFqIRcgACAUIBBqIhA7ATIgEEH//wNxQegHSQ0BCwtBACEQIABBADYCHCAAQcGJgIAANgIQIABBDTYCDCAAIAdBAWo2AhQMnAILQccBIRAMmwILIAAgCCACEK6AgIAAIhBFDcoBIBBBFUcNjAEgAEHIATYCHCAAIAg2AhQgAEHJl4CAADYCECAAQRU2AgxBACEQDJoCCwJAIAkgAkcNAEHMASEQDJoCC0EAIRRBASEXQQEhFkEAIRACQAJAAkACQAJAAkACQAJAAkAgCS0AAEFQag4KlgGVAQABAgMEBQYIlwELQQIhEAwGC0EDIRAMBQtBBCEQDAQLQQUhEAwDC0EGIRAMAgtBByEQDAELQQghEAtBACEXQQAhFkEAIRQMjgELQQkhEEEBIRRBACEXQQAhFgyNAQsCQCAKIAJHDQBBzgEhEAyZAgsgCi0AAEEuRw2OASAKQQFqIQkMygELIAsgAkcNjgFB0AEhEAyXAgsCQCALIAJGDQAgAEGOgICAADYCCCAAIAs2AgRBtwEhEAz+AQtB0QEhEAyWAgsCQCAEIAJHDQBB0gEhEAyWAgsgAiAEayAAKAIAIhBqIRQgBCAQa0EEaiELA0AgBC0AACAQQfzPgIAAai0AAEcNjgEgEEEERg3pASAQQQFqIRAgBEEBaiIEIAJHDQALIAAgFDYCAEHSASEQDJUCCyAAIAwgAhCsgICAACIBDY0BIAwhAQy4AQsCQCAEIAJHDQBB1AEhEAyUAgsgAiAEayAAKAIAIhBqIRQgBCAQa0EBaiEMA0AgBC0AACAQQYHQgIAAai0AAEcNjwEgEEEBRg2OASAQQQFqIRAgBEEBaiIEIAJHDQALIAAgFDYCAEHUASEQDJMCCwJAIAQgAkcNAEHWASEQDJMCCyACIARrIAAoAgAiEGohFCAEIBBrQQJqIQsDQCAELQAAIBBBg9CAgABqLQAARw2OASAQQQJGDZABIBBBAWohECAEQQFqIgQgAkcNAAsgACAUNgIAQdYBIRAMkgILAkAgBCACRw0AQdcBIRAMkgILAkACQCAELQAAQbt/ag4QAI8BjwGPAY8BjwGPAY8BjwGPAY8BjwGPAY8BjwEBjwELIARBAWohBEG7ASEQDPkBCyAEQQFqIQRBvAEhEAz4AQsCQCAEIAJHDQBB2AEhEAyRAgsgBC0AAEHIAEcNjAEgBEEBaiEEDMQBCwJAIAQgAkYNACAAQZCAgIAANgIIIAAgBDYCBEG+ASEQDPcBC0HZASEQDI8CCwJAIAQgAkcNAEHaASEQDI8CCyAELQAAQcgARg3DASAAQQE6ACgMuQELIABBAjoALyAAIAQgAhCmgICAACIQDY0BQcIBIRAM9AELIAAtAChBf2oOArcBuQG4AQsDQAJAIAQtAABBdmoOBACOAY4BAI4BCyAEQQFqIgQgAkcNAAtB3QEhEAyLAgsgAEEAOgAvIAAtAC1BBHFFDYQCCyAAQQA6AC8gAEEBOgA0IAEhAQyMAQsgEEEVRg3aASAAQQA2AhwgACABNgIUIABBp46AgAA2AhAgAEESNgIMQQAhEAyIAgsCQCAAIBAgAhC0gICAACIEDQAgECEBDIECCwJAIARBFUcNACAAQQM2AhwgACAQNgIUIABBsJiAgAA2AhAgAEEVNgIMQQAhEAyIAgsgAEEANgIcIAAgEDYCFCAAQaeOgIAANgIQIABBEjYCDEEAIRAMhwILIBBBFUYN1gEgAEEANgIcIAAgATYCFCAAQdqNgIAANgIQIABBFDYCDEEAIRAMhgILIAAoAgQhFyAAQQA2AgQgECARp2oiFiEBIAAgFyAQIBYgFBsiEBC1gICAACIURQ2NASAAQQc2AhwgACAQNgIUIAAgFDYCDEEAIRAMhQILIAAgAC8BMEGAAXI7ATAgASEBC0EqIRAM6gELIBBBFUYN0QEgAEEANgIcIAAgATYCFCAAQYOMgIAANgIQIABBEzYCDEEAIRAMggILIBBBFUYNzwEgAEEANgIcIAAgATYCFCAAQZqPgIAANgIQIABBIjYCDEEAIRAMgQILIAAoAgQhECAAQQA2AgQCQCAAIBAgARC3gICAACIQDQAgAUEBaiEBDI0BCyAAQQw2AhwgACAQNgIMIAAgAUEBajYCFEEAIRAMgAILIBBBFUYNzAEgAEEANgIcIAAgATYCFCAAQZqPgIAANgIQIABBIjYCDEEAIRAM/wELIAAoAgQhECAAQQA2AgQCQCAAIBAgARC3gICAACIQDQAgAUEBaiEBDIwBCyAAQQ02AhwgACAQNgIMIAAgAUEBajYCFEEAIRAM/gELIBBBFUYNyQEgAEEANgIcIAAgATYCFCAAQcaMgIAANgIQIABBIzYCDEEAIRAM/QELIAAoAgQhECAAQQA2AgQCQCAAIBAgARC5gICAACIQDQAgAUEBaiEBDIsBCyAAQQ42AhwgACAQNgIMIAAgAUEBajYCFEEAIRAM/AELIABBADYCHCAAIAE2AhQgAEHAlYCAADYCECAAQQI2AgxBACEQDPsBCyAQQRVGDcUBIABBADYCHCAAIAE2AhQgAEHGjICAADYCECAAQSM2AgxBACEQDPoBCyAAQRA2AhwgACABNgIUIAAgEDYCDEEAIRAM+QELIAAoAgQhBCAAQQA2AgQCQCAAIAQgARC5gICAACIEDQAgAUEBaiEBDPEBCyAAQRE2AhwgACAENgIMIAAgAUEBajYCFEEAIRAM+AELIBBBFUYNwQEgAEEANgIcIAAgATYCFCAAQcaMgIAANgIQIABBIzYCDEEAIRAM9wELIAAoAgQhECAAQQA2AgQCQCAAIBAgARC5gICAACIQDQAgAUEBaiEBDIgBCyAAQRM2AhwgACAQNgIMIAAgAUEBajYCFEEAIRAM9gELIAAoAgQhBCAAQQA2AgQCQCAAIAQgARC5gICAACIEDQAgAUEBaiEBDO0BCyAAQRQ2AhwgACAENgIMIAAgAUEBajYCFEEAIRAM9QELIBBBFUYNvQEgAEEANgIcIAAgATYCFCAAQZqPgIAANgIQIABBIjYCDEEAIRAM9AELIAAoAgQhECAAQQA2AgQCQCAAIBAgARC3gICAACIQDQAgAUEBaiEBDIYBCyAAQRY2AhwgACAQNgIMIAAgAUEBajYCFEEAIRAM8wELIAAoAgQhBCAAQQA2AgQCQCAAIAQgARC3gICAACIEDQAgAUEBaiEBDOkBCyAAQRc2AhwgACAENgIMIAAgAUEBajYCFEEAIRAM8gELIABBADYCHCAAIAE2AhQgAEHNk4CAADYCECAAQQw2AgxBACEQDPEBC0IBIRELIBBBAWohAQJAIAApAyAiEkL//////////w9WDQAgACASQgSGIBGENwMgIAEhAQyEAQsgAEEANgIcIAAgATYCFCAAQa2JgIAANgIQIABBDDYCDEEAIRAM7wELIABBADYCHCAAIBA2AhQgAEHNk4CAADYCECAAQQw2AgxBACEQDO4BCyAAKAIEIRcgAEEANgIEIBAgEadqIhYhASAAIBcgECAWIBQbIhAQtYCAgAAiFEUNcyAAQQU2AhwgACAQNgIUIAAgFDYCDEEAIRAM7QELIABBADYCHCAAIBA2AhQgAEGqnICAADYCECAAQQ82AgxBACEQDOwBCyAAIBAgAhC0gICAACIBDQEgECEBC0EOIRAM0QELAkAgAUEVRw0AIABBAjYCHCAAIBA2AhQgAEGwmICAADYCECAAQRU2AgxBACEQDOoBCyAAQQA2AhwgACAQNgIUIABBp46AgAA2AhAgAEESNgIMQQAhEAzpAQsgAUEBaiEQAkAgAC8BMCIBQYABcUUNAAJAIAAgECACELuAgIAAIgENACAQIQEMcAsgAUEVRw26ASAAQQU2AhwgACAQNgIUIABB+ZeAgAA2AhAgAEEVNgIMQQAhEAzpAQsCQCABQaAEcUGgBEcNACAALQAtQQJxDQAgAEEANgIcIAAgEDYCFCAAQZaTgIAANgIQIABBBDYCDEEAIRAM6QELIAAgECACEL2AgIAAGiAQIQECQAJAAkACQAJAIAAgECACELOAgIAADhYCAQAEBAQEBAQEBAQEBAQEBAQEBAQDBAsgAEEBOgAuCyAAIAAvATBBwAByOwEwIBAhAQtBJiEQDNEBCyAAQSM2AhwgACAQNgIUIABBpZaAgAA2AhAgAEEVNgIMQQAhEAzpAQsgAEEANgIcIAAgEDYCFCAAQdWLgIAANgIQIABBETYCDEEAIRAM6AELIAAtAC1BAXFFDQFBwwEhEAzOAQsCQCANIAJGDQADQAJAIA0tAABBIEYNACANIQEMxAELIA1BAWoiDSACRw0AC0ElIRAM5wELQSUhEAzmAQsgACgCBCEEIABBADYCBCAAIAQgDRCvgICAACIERQ2tASAAQSY2AhwgACAENgIMIAAgDUEBajYCFEEAIRAM5QELIBBBFUYNqwEgAEEANgIcIAAgATYCFCAAQf2NgIAANgIQIABBHTYCDEEAIRAM5AELIABBJzYCHCAAIAE2AhQgACAQNgIMQQAhEAzjAQsgECEBQQEhFAJAAkACQAJAAkACQAJAIAAtACxBfmoOBwYFBQMBAgAFCyAAIAAvATBBCHI7ATAMAwtBAiEUDAELQQQhFAsgAEEBOgAsIAAgAC8BMCAUcjsBMAsgECEBC0ErIRAMygELIABBADYCHCAAIBA2AhQgAEGrkoCAADYCECAAQQs2AgxBACEQDOIBCyAAQQA2AhwgACABNgIUIABB4Y+AgAA2AhAgAEEKNgIMQQAhEAzhAQsgAEEAOgAsIBAhAQy9AQsgECEBQQEhFAJAAkACQAJAAkAgAC0ALEF7ag4EAwECAAULIAAgAC8BMEEIcjsBMAwDC0ECIRQMAQtBBCEUCyAAQQE6ACwgACAALwEwIBRyOwEwCyAQIQELQSkhEAzFAQsgAEEANgIcIAAgATYCFCAAQfCUgIAANgIQIABBAzYCDEEAIRAM3QELAkAgDi0AAEENRw0AIAAoAgQhASAAQQA2AgQCQCAAIAEgDhCxgICAACIBDQAgDkEBaiEBDHULIABBLDYCHCAAIAE2AgwgACAOQQFqNgIUQQAhEAzdAQsgAC0ALUEBcUUNAUHEASEQDMMBCwJAIA4gAkcNAEEtIRAM3AELAkACQANAAkAgDi0AAEF2ag4EAgAAAwALIA5BAWoiDiACRw0AC0EtIRAM3QELIAAoAgQhASAAQQA2AgQCQCAAIAEgDhCxgICAACIBDQAgDiEBDHQLIABBLDYCHCAAIA42AhQgACABNgIMQQAhEAzcAQsgACgCBCEBIABBADYCBAJAIAAgASAOELGAgIAAIgENACAOQQFqIQEMcwsgAEEsNgIcIAAgATYCDCAAIA5BAWo2AhRBACEQDNsBCyAAKAIEIQQgAEEANgIEIAAgBCAOELGAgIAAIgQNoAEgDiEBDM4BCyAQQSxHDQEgAUEBaiEQQQEhAQJAAkACQAJAAkAgAC0ALEF7ag4EAwECBAALIBAhAQwEC0ECIQEMAQtBBCEBCyAAQQE6ACwgACAALwEwIAFyOwEwIBAhAQwBCyAAIAAvATBBCHI7ATAgECEBC0E5IRAMvwELIABBADoALCABIQELQTQhEAy9AQsgACAALwEwQSByOwEwIAEhAQwCCyAAKAIEIQQgAEEANgIEAkAgACAEIAEQsYCAgAAiBA0AIAEhAQzHAQsgAEE3NgIcIAAgATYCFCAAIAQ2AgxBACEQDNQBCyAAQQg6ACwgASEBC0EwIRAMuQELAkAgAC0AKEEBRg0AIAEhAQwECyAALQAtQQhxRQ2TASABIQEMAwsgAC0AMEEgcQ2UAUHFASEQDLcBCwJAIA8gAkYNAAJAA0ACQCAPLQAAQVBqIgFB/wFxQQpJDQAgDyEBQTUhEAy6AQsgACkDICIRQpmz5syZs+bMGVYNASAAIBFCCn4iETcDICARIAGtQv8BgyISQn+FVg0BIAAgESASfDcDICAPQQFqIg8gAkcNAAtBOSEQDNEBCyAAKAIEIQIgAEEANgIEIAAgAiAPQQFqIgQQsYCAgAAiAg2VASAEIQEMwwELQTkhEAzPAQsCQCAALwEwIgFBCHFFDQAgAC0AKEEBRw0AIAAtAC1BCHFFDZABCyAAIAFB9/sDcUGABHI7ATAgDyEBC0E3IRAMtAELIAAgAC8BMEEQcjsBMAyrAQsgEEEVRg2LASAAQQA2AhwgACABNgIUIABB8I6AgAA2AhAgAEEcNgIMQQAhEAzLAQsgAEHDADYCHCAAIAE2AgwgACANQQFqNgIUQQAhEAzKAQsCQCABLQAAQTpHDQAgACgCBCEQIABBADYCBAJAIAAgECABEK+AgIAAIhANACABQQFqIQEMYwsgAEHDADYCHCAAIBA2AgwgACABQQFqNgIUQQAhEAzKAQsgAEEANgIcIAAgATYCFCAAQbGRgIAANgIQIABBCjYCDEEAIRAMyQELIABBADYCHCAAIAE2AhQgAEGgmYCAADYCECAAQR42AgxBACEQDMgBCyAAQQA2AgALIABBgBI7ASogACAXQQFqIgEgAhCogICAACIQDQEgASEBC0HHACEQDKwBCyAQQRVHDYMBIABB0QA2AhwgACABNgIUIABB45eAgAA2AhAgAEEVNgIMQQAhEAzEAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMXgsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAzDAQsgAEEANgIcIAAgFDYCFCAAQcGogIAANgIQIABBBzYCDCAAQQA2AgBBACEQDMIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxdCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDMEBC0EAIRAgAEEANgIcIAAgATYCFCAAQYCRgIAANgIQIABBCTYCDAzAAQsgEEEVRg19IABBADYCHCAAIAE2AhQgAEGUjYCAADYCECAAQSE2AgxBACEQDL8BC0EBIRZBACEXQQAhFEEBIRALIAAgEDoAKyABQQFqIQECQAJAIAAtAC1BEHENAAJAAkACQCAALQAqDgMBAAIECyAWRQ0DDAILIBQNAQwCCyAXRQ0BCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQrYCAgAAiEA0AIAEhAQxcCyAAQdgANgIcIAAgATYCFCAAIBA2AgxBACEQDL4BCyAAKAIEIQQgAEEANgIEAkAgACAEIAEQrYCAgAAiBA0AIAEhAQytAQsgAEHZADYCHCAAIAE2AhQgACAENgIMQQAhEAy9AQsgACgCBCEEIABBADYCBAJAIAAgBCABEK2AgIAAIgQNACABIQEMqwELIABB2gA2AhwgACABNgIUIAAgBDYCDEEAIRAMvAELIAAoAgQhBCAAQQA2AgQCQCAAIAQgARCtgICAACIEDQAgASEBDKkBCyAAQdwANgIcIAAgATYCFCAAIAQ2AgxBACEQDLsBCwJAIAEtAABBUGoiEEH/AXFBCk8NACAAIBA6ACogAUEBaiEBQc8AIRAMogELIAAoAgQhBCAAQQA2AgQCQCAAIAQgARCtgICAACIEDQAgASEBDKcBCyAAQd4ANgIcIAAgATYCFCAAIAQ2AgxBACEQDLoBCyAAQQA2AgAgF0EBaiEBAkAgAC0AKUEjTw0AIAEhAQxZCyAAQQA2AhwgACABNgIUIABB04mAgAA2AhAgAEEINgIMQQAhEAy5AQsgAEEANgIAC0EAIRAgAEEANgIcIAAgATYCFCAAQZCzgIAANgIQIABBCDYCDAy3AQsgAEEANgIAIBdBAWohAQJAIAAtAClBIUcNACABIQEMVgsgAEEANgIcIAAgATYCFCAAQZuKgIAANgIQIABBCDYCDEEAIRAMtgELIABBADYCACAXQQFqIQECQCAALQApIhBBXWpBC08NACABIQEMVQsCQCAQQQZLDQBBASAQdEHKAHFFDQAgASEBDFULQQAhECAAQQA2AhwgACABNgIUIABB94mAgAA2AhAgAEEINgIMDLUBCyAQQRVGDXEgAEEANgIcIAAgATYCFCAAQbmNgIAANgIQIABBGjYCDEEAIRAMtAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDFQLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMswELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDE0LIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMsgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDE0LIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMsQELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDFELIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMsAELIABBADYCHCAAIAE2AhQgAEHGioCAADYCECAAQQc2AgxBACEQDK8BCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxJCyAAQdIANgIcIAAgATYCFCAAIBA2AgxBACEQDK4BCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxJCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDK0BCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDKwBCyAAQQA2AhwgACABNgIUIABB3IiAgAA2AhAgAEEHNgIMQQAhEAyrAQsgEEE/Rw0BIAFBAWohAQtBBSEQDJABC0EAIRAgAEEANgIcIAAgATYCFCAAQf2SgIAANgIQIABBBzYCDAyoAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMQgsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAynAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMQgsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAymAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMRgsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAylAQsgACgCBCEBIABBADYCBAJAIAAgASAUEKeAgIAAIgENACAUIQEMPwsgAEHSADYCHCAAIBQ2AhQgACABNgIMQQAhEAykAQsgACgCBCEBIABBADYCBAJAIAAgASAUEKeAgIAAIgENACAUIQEMPwsgAEHTADYCHCAAIBQ2AhQgACABNgIMQQAhEAyjAQsgACgCBCEBIABBADYCBAJAIAAgASAUEKeAgIAAIgENACAUIQEMQwsgAEHlADYCHCAAIBQ2AhQgACABNgIMQQAhEAyiAQsgAEEANgIcIAAgFDYCFCAAQcOPgIAANgIQIABBBzYCDEEAIRAMoQELIABBADYCHCAAIAE2AhQgAEHDj4CAADYCECAAQQc2AgxBACEQDKABC0EAIRAgAEEANgIcIAAgFDYCFCAAQYycgIAANgIQIABBBzYCDAyfAQsgAEEANgIcIAAgFDYCFCAAQYycgIAANgIQIABBBzYCDEEAIRAMngELIABBADYCHCAAIBQ2AhQgAEH+kYCAADYCECAAQQc2AgxBACEQDJ0BCyAAQQA2AhwgACABNgIUIABBjpuAgAA2AhAgAEEGNgIMQQAhEAycAQsgEEEVRg1XIABBADYCHCAAIAE2AhQgAEHMjoCAADYCECAAQSA2AgxBACEQDJsBCyAAQQA2AgAgEEEBaiEBQSQhEAsgACAQOgApIAAoAgQhECAAQQA2AgQgACAQIAEQq4CAgAAiEA1UIAEhAQw+CyAAQQA2AgALQQAhECAAQQA2AhwgACAENgIUIABB8ZuAgAA2AhAgAEEGNgIMDJcBCyABQRVGDVAgAEEANgIcIAAgBTYCFCAAQfCMgIAANgIQIABBGzYCDEEAIRAMlgELIAAoAgQhBSAAQQA2AgQgACAFIBAQqYCAgAAiBQ0BIBBBAWohBQtBrQEhEAx7CyAAQcEBNgIcIAAgBTYCDCAAIBBBAWo2AhRBACEQDJMBCyAAKAIEIQYgAEEANgIEIAAgBiAQEKmAgIAAIgYNASAQQQFqIQYLQa4BIRAMeAsgAEHCATYCHCAAIAY2AgwgACAQQQFqNgIUQQAhEAyQAQsgAEEANgIcIAAgBzYCFCAAQZeLgIAANgIQIABBDTYCDEEAIRAMjwELIABBADYCHCAAIAg2AhQgAEHjkICAADYCECAAQQk2AgxBACEQDI4BCyAAQQA2AhwgACAINgIUIABBlI2AgAA2AhAgAEEhNgIMQQAhEAyNAQtBASEWQQAhF0EAIRRBASEQCyAAIBA6ACsgCUEBaiEIAkACQCAALQAtQRBxDQACQAJAAkAgAC0AKg4DAQACBAsgFkUNAwwCCyAUDQEMAgsgF0UNAQsgACgCBCEQIABBADYCBCAAIBAgCBCtgICAACIQRQ09IABByQE2AhwgACAINgIUIAAgEDYCDEEAIRAMjAELIAAoAgQhBCAAQQA2AgQgACAEIAgQrYCAgAAiBEUNdiAAQcoBNgIcIAAgCDYCFCAAIAQ2AgxBACEQDIsBCyAAKAIEIQQgAEEANgIEIAAgBCAJEK2AgIAAIgRFDXQgAEHLATYCHCAAIAk2AhQgACAENgIMQQAhEAyKAQsgACgCBCEEIABBADYCBCAAIAQgChCtgICAACIERQ1yIABBzQE2AhwgACAKNgIUIAAgBDYCDEEAIRAMiQELAkAgCy0AAEFQaiIQQf8BcUEKTw0AIAAgEDoAKiALQQFqIQpBtgEhEAxwCyAAKAIEIQQgAEEANgIEIAAgBCALEK2AgIAAIgRFDXAgAEHPATYCHCAAIAs2AhQgACAENgIMQQAhEAyIAQsgAEEANgIcIAAgBDYCFCAAQZCzgIAANgIQIABBCDYCDCAAQQA2AgBBACEQDIcBCyABQRVGDT8gAEEANgIcIAAgDDYCFCAAQcyOgIAANgIQIABBIDYCDEEAIRAMhgELIABBgQQ7ASggACgCBCEQIABCADcDACAAIBAgDEEBaiIMEKuAgIAAIhBFDTggAEHTATYCHCAAIAw2AhQgACAQNgIMQQAhEAyFAQsgAEEANgIAC0EAIRAgAEEANgIcIAAgBDYCFCAAQdibgIAANgIQIABBCDYCDAyDAQsgACgCBCEQIABCADcDACAAIBAgC0EBaiILEKuAgIAAIhANAUHGASEQDGkLIABBAjoAKAxVCyAAQdUBNgIcIAAgCzYCFCAAIBA2AgxBACEQDIABCyAQQRVGDTcgAEEANgIcIAAgBDYCFCAAQaSMgIAANgIQIABBEDYCDEEAIRAMfwsgAC0ANEEBRw00IAAgBCACELyAgIAAIhBFDTQgEEEVRw01IABB3AE2AhwgACAENgIUIABB1ZaAgAA2AhAgAEEVNgIMQQAhEAx+C0EAIRAgAEEANgIcIABBr4uAgAA2AhAgAEECNgIMIAAgFEEBajYCFAx9C0EAIRAMYwtBAiEQDGILQQ0hEAxhC0EPIRAMYAtBJSEQDF8LQRMhEAxeC0EVIRAMXQtBFiEQDFwLQRchEAxbC0EYIRAMWgtBGSEQDFkLQRohEAxYC0EbIRAMVwtBHCEQDFYLQR0hEAxVC0EfIRAMVAtBISEQDFMLQSMhEAxSC0HGACEQDFELQS4hEAxQC0EvIRAMTwtBOyEQDE4LQT0hEAxNC0HIACEQDEwLQckAIRAMSwtBywAhEAxKC0HMACEQDEkLQc4AIRAMSAtB0QAhEAxHC0HVACEQDEYLQdgAIRAMRQtB2QAhEAxEC0HbACEQDEMLQeQAIRAMQgtB5QAhEAxBC0HxACEQDEALQfQAIRAMPwtBjQEhEAw+C0GXASEQDD0LQakBIRAMPAtBrAEhEAw7C0HAASEQDDoLQbkBIRAMOQtBrwEhEAw4C0GxASEQDDcLQbIBIRAMNgtBtAEhEAw1C0G1ASEQDDQLQboBIRAMMwtBvQEhEAwyC0G/ASEQDDELQcEBIRAMMAsgAEEANgIcIAAgBDYCFCAAQemLgIAANgIQIABBHzYCDEEAIRAMSAsgAEHbATYCHCAAIAQ2AhQgAEH6loCAADYCECAAQRU2AgxBACEQDEcLIABB+AA2AhwgACAMNgIUIABBypiAgAA2AhAgAEEVNgIMQQAhEAxGCyAAQdEANgIcIAAgBTYCFCAAQbCXgIAANgIQIABBFTYCDEEAIRAMRQsgAEH5ADYCHCAAIAE2AhQgACAQNgIMQQAhEAxECyAAQfgANgIcIAAgATYCFCAAQcqYgIAANgIQIABBFTYCDEEAIRAMQwsgAEHkADYCHCAAIAE2AhQgAEHjl4CAADYCECAAQRU2AgxBACEQDEILIABB1wA2AhwgACABNgIUIABByZeAgAA2AhAgAEEVNgIMQQAhEAxBCyAAQQA2AhwgACABNgIUIABBuY2AgAA2AhAgAEEaNgIMQQAhEAxACyAAQcIANgIcIAAgATYCFCAAQeOYgIAANgIQIABBFTYCDEEAIRAMPwsgAEEANgIEIAAgDyAPELGAgIAAIgRFDQEgAEE6NgIcIAAgBDYCDCAAIA9BAWo2AhRBACEQDD4LIAAoAgQhBCAAQQA2AgQCQCAAIAQgARCxgICAACIERQ0AIABBOzYCHCAAIAQ2AgwgACABQQFqNgIUQQAhEAw+CyABQQFqIQEMLQsgD0EBaiEBDC0LIABBADYCHCAAIA82AhQgAEHkkoCAADYCECAAQQQ2AgxBACEQDDsLIABBNjYCHCAAIAQ2AhQgACACNgIMQQAhEAw6CyAAQS42AhwgACAONgIUIAAgBDYCDEEAIRAMOQsgAEHQADYCHCAAIAE2AhQgAEGRmICAADYCECAAQRU2AgxBACEQDDgLIA1BAWohAQwsCyAAQRU2AhwgACABNgIUIABBgpmAgAA2AhAgAEEVNgIMQQAhEAw2CyAAQRs2AhwgACABNgIUIABBkZeAgAA2AhAgAEEVNgIMQQAhEAw1CyAAQQ82AhwgACABNgIUIABBkZeAgAA2AhAgAEEVNgIMQQAhEAw0CyAAQQs2AhwgACABNgIUIABBkZeAgAA2AhAgAEEVNgIMQQAhEAwzCyAAQRo2AhwgACABNgIUIABBgpmAgAA2AhAgAEEVNgIMQQAhEAwyCyAAQQs2AhwgACABNgIUIABBgpmAgAA2AhAgAEEVNgIMQQAhEAwxCyAAQQo2AhwgACABNgIUIABB5JaAgAA2AhAgAEEVNgIMQQAhEAwwCyAAQR42AhwgACABNgIUIABB+ZeAgAA2AhAgAEEVNgIMQQAhEAwvCyAAQQA2AhwgACAQNgIUIABB2o2AgAA2AhAgAEEUNgIMQQAhEAwuCyAAQQQ2AhwgACABNgIUIABBsJiAgAA2AhAgAEEVNgIMQQAhEAwtCyAAQQA2AgAgC0EBaiELC0G4ASEQDBILIABBADYCACAQQQFqIQFB9QAhEAwRCyABIQECQCAALQApQQVHDQBB4wAhEAwRC0HiACEQDBALQQAhECAAQQA2AhwgAEHkkYCAADYCECAAQQc2AgwgACAUQQFqNgIUDCgLIABBADYCACAXQQFqIQFBwAAhEAwOC0EBIQELIAAgAToALCAAQQA2AgAgF0EBaiEBC0EoIRAMCwsgASEBC0E4IRAMCQsCQCABIg8gAkYNAANAAkAgDy0AAEGAvoCAAGotAAAiAUEBRg0AIAFBAkcNAyAPQQFqIQEMBAsgD0EBaiIPIAJHDQALQT4hEAwiC0E+IRAMIQsgAEEAOgAsIA8hAQwBC0ELIRAMBgtBOiEQDAULIAFBAWohAUEtIRAMBAsgACABOgAsIABBADYCACAWQQFqIQFBDCEQDAMLIABBADYCACAXQQFqIQFBCiEQDAILIABBADYCAAsgAEEAOgAsIA0hAUEJIRAMAAsLQQAhECAAQQA2AhwgACALNgIUIABBzZCAgAA2AhAgAEEJNgIMDBcLQQAhECAAQQA2AhwgACAKNgIUIABB6YqAgAA2AhAgAEEJNgIMDBYLQQAhECAAQQA2AhwgACAJNgIUIABBt5CAgAA2AhAgAEEJNgIMDBULQQAhECAAQQA2AhwgACAINgIUIABBnJGAgAA2AhAgAEEJNgIMDBQLQQAhECAAQQA2AhwgACABNgIUIABBzZCAgAA2AhAgAEEJNgIMDBMLQQAhECAAQQA2AhwgACABNgIUIABB6YqAgAA2AhAgAEEJNgIMDBILQQAhECAAQQA2AhwgACABNgIUIABBt5CAgAA2AhAgAEEJNgIMDBELQQAhECAAQQA2AhwgACABNgIUIABBnJGAgAA2AhAgAEEJNgIMDBALQQAhECAAQQA2AhwgACABNgIUIABBl5WAgAA2AhAgAEEPNgIMDA8LQQAhECAAQQA2AhwgACABNgIUIABBl5WAgAA2AhAgAEEPNgIMDA4LQQAhECAAQQA2AhwgACABNgIUIABBwJKAgAA2AhAgAEELNgIMDA0LQQAhECAAQQA2AhwgACABNgIUIABBlYmAgAA2AhAgAEELNgIMDAwLQQAhECAAQQA2AhwgACABNgIUIABB4Y+AgAA2AhAgAEEKNgIMDAsLQQAhECAAQQA2AhwgACABNgIUIABB+4+AgAA2AhAgAEEKNgIMDAoLQQAhECAAQQA2AhwgACABNgIUIABB8ZmAgAA2AhAgAEECNgIMDAkLQQAhECAAQQA2AhwgACABNgIUIABBxJSAgAA2AhAgAEECNgIMDAgLQQAhECAAQQA2AhwgACABNgIUIABB8pWAgAA2AhAgAEECNgIMDAcLIABBAjYCHCAAIAE2AhQgAEGcmoCAADYCECAAQRY2AgxBACEQDAYLQQEhEAwFC0HUACEQIAEiBCACRg0EIANBCGogACAEIAJB2MKAgABBChDFgICAACADKAIMIQQgAygCCA4DAQQCAAsQyoCAgAAACyAAQQA2AhwgAEG1moCAADYCECAAQRc2AgwgACAEQQFqNgIUQQAhEAwCCyAAQQA2AhwgACAENgIUIABBypqAgAA2AhAgAEEJNgIMQQAhEAwBCwJAIAEiBCACRw0AQSIhEAwBCyAAQYmAgIAANgIIIAAgBDYCBEEhIRALIANBEGokgICAgAAgEAuvAQECfyABKAIAIQYCQAJAIAIgA0YNACAEIAZqIQQgBiADaiACayEHIAIgBkF/cyAFaiIGaiEFA0ACQCACLQAAIAQtAABGDQBBAiEEDAMLAkAgBg0AQQAhBCAFIQIMAwsgBkF/aiEGIARBAWohBCACQQFqIgIgA0cNAAsgByEGIAMhAgsgAEEBNgIAIAEgBjYCACAAIAI2AgQPCyABQQA2AgAgACAENgIAIAAgAjYCBAsKACAAEMeAgIAAC/I2AQt/I4CAgIAAQRBrIgEkgICAgAACQEEAKAKg0ICAAA0AQQAQy4CAgABBgNSEgABrIgJB2QBJDQBBACEDAkBBACgC4NOAgAAiBA0AQQBCfzcC7NOAgABBAEKAgISAgIDAADcC5NOAgABBACABQQhqQXBxQdiq1aoFcyIENgLg04CAAEEAQQA2AvTTgIAAQQBBADYCxNOAgAALQQAgAjYCzNOAgABBAEGA1ISAADYCyNOAgABBAEGA1ISAADYCmNCAgABBACAENgKs0ICAAEEAQX82AqjQgIAAA0AgA0HE0ICAAGogA0G40ICAAGoiBDYCACAEIANBsNCAgABqIgU2AgAgA0G80ICAAGogBTYCACADQczQgIAAaiADQcDQgIAAaiIFNgIAIAUgBDYCACADQdTQgIAAaiADQcjQgIAAaiIENgIAIAQgBTYCACADQdDQgIAAaiAENgIAIANBIGoiA0GAAkcNAAtBgNSEgABBeEGA1ISAAGtBD3FBAEGA1ISAAEEIakEPcRsiA2oiBEEEaiACQUhqIgUgA2siA0EBcjYCAEEAQQAoAvDTgIAANgKk0ICAAEEAIAM2ApTQgIAAQQAgBDYCoNCAgABBgNSEgAAgBWpBODYCBAsCQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEHsAUsNAAJAQQAoAojQgIAAIgZBECAAQRNqQXBxIABBC0kbIgJBA3YiBHYiA0EDcUUNAAJAAkAgA0EBcSAEckEBcyIFQQN0IgRBsNCAgABqIgMgBEG40ICAAGooAgAiBCgCCCICRw0AQQAgBkF+IAV3cTYCiNCAgAAMAQsgAyACNgIIIAIgAzYCDAsgBEEIaiEDIAQgBUEDdCIFQQNyNgIEIAQgBWoiBCAEKAIEQQFyNgIEDAwLIAJBACgCkNCAgAAiB00NAQJAIANFDQACQAJAIAMgBHRBAiAEdCIDQQAgA2tycSIDQQAgA2txQX9qIgMgA0EMdkEQcSIDdiIEQQV2QQhxIgUgA3IgBCAFdiIDQQJ2QQRxIgRyIAMgBHYiA0EBdkECcSIEciADIAR2IgNBAXZBAXEiBHIgAyAEdmoiBEEDdCIDQbDQgIAAaiIFIANBuNCAgABqKAIAIgMoAggiAEcNAEEAIAZBfiAEd3EiBjYCiNCAgAAMAQsgBSAANgIIIAAgBTYCDAsgAyACQQNyNgIEIAMgBEEDdCIEaiAEIAJrIgU2AgAgAyACaiIAIAVBAXI2AgQCQCAHRQ0AIAdBeHFBsNCAgABqIQJBACgCnNCAgAAhBAJAAkAgBkEBIAdBA3Z0IghxDQBBACAGIAhyNgKI0ICAACACIQgMAQsgAigCCCEICyAIIAQ2AgwgAiAENgIIIAQgAjYCDCAEIAg2AggLIANBCGohA0EAIAA2ApzQgIAAQQAgBTYCkNCAgAAMDAtBACgCjNCAgAAiCUUNASAJQQAgCWtxQX9qIgMgA0EMdkEQcSIDdiIEQQV2QQhxIgUgA3IgBCAFdiIDQQJ2QQRxIgRyIAMgBHYiA0EBdkECcSIEciADIAR2IgNBAXZBAXEiBHIgAyAEdmpBAnRBuNKAgABqKAIAIgAoAgRBeHEgAmshBCAAIQUCQANAAkAgBSgCECIDDQAgBUEUaigCACIDRQ0CCyADKAIEQXhxIAJrIgUgBCAFIARJIgUbIQQgAyAAIAUbIQAgAyEFDAALCyAAKAIYIQoCQCAAKAIMIgggAEYNACAAKAIIIgNBACgCmNCAgABJGiAIIAM2AgggAyAINgIMDAsLAkAgAEEUaiIFKAIAIgMNACAAKAIQIgNFDQMgAEEQaiEFCwNAIAUhCyADIghBFGoiBSgCACIDDQAgCEEQaiEFIAgoAhAiAw0ACyALQQA2AgAMCgtBfyECIABBv39LDQAgAEETaiIDQXBxIQJBACgCjNCAgAAiB0UNAEEAIQsCQCACQYACSQ0AQR8hCyACQf///wdLDQAgA0EIdiIDIANBgP4/akEQdkEIcSIDdCIEIARBgOAfakEQdkEEcSIEdCIFIAVBgIAPakEQdkECcSIFdEEPdiADIARyIAVyayIDQQF0IAIgA0EVanZBAXFyQRxqIQsLQQAgAmshBAJAAkACQAJAIAtBAnRBuNKAgABqKAIAIgUNAEEAIQNBACEIDAELQQAhAyACQQBBGSALQQF2ayALQR9GG3QhAEEAIQgDQAJAIAUoAgRBeHEgAmsiBiAETw0AIAYhBCAFIQggBg0AQQAhBCAFIQggBSEDDAMLIAMgBUEUaigCACIGIAYgBSAAQR12QQRxakEQaigCACIFRhsgAyAGGyEDIABBAXQhACAFDQALCwJAIAMgCHINAEEAIQhBAiALdCIDQQAgA2tyIAdxIgNFDQMgA0EAIANrcUF/aiIDIANBDHZBEHEiA3YiBUEFdkEIcSIAIANyIAUgAHYiA0ECdkEEcSIFciADIAV2IgNBAXZBAnEiBXIgAyAFdiIDQQF2QQFxIgVyIAMgBXZqQQJ0QbjSgIAAaigCACEDCyADRQ0BCwNAIAMoAgRBeHEgAmsiBiAESSEAAkAgAygCECIFDQAgA0EUaigCACEFCyAGIAQgABshBCADIAggABshCCAFIQMgBQ0ACwsgCEUNACAEQQAoApDQgIAAIAJrTw0AIAgoAhghCwJAIAgoAgwiACAIRg0AIAgoAggiA0EAKAKY0ICAAEkaIAAgAzYCCCADIAA2AgwMCQsCQCAIQRRqIgUoAgAiAw0AIAgoAhAiA0UNAyAIQRBqIQULA0AgBSEGIAMiAEEUaiIFKAIAIgMNACAAQRBqIQUgACgCECIDDQALIAZBADYCAAwICwJAQQAoApDQgIAAIgMgAkkNAEEAKAKc0ICAACEEAkACQCADIAJrIgVBEEkNACAEIAJqIgAgBUEBcjYCBEEAIAU2ApDQgIAAQQAgADYCnNCAgAAgBCADaiAFNgIAIAQgAkEDcjYCBAwBCyAEIANBA3I2AgQgBCADaiIDIAMoAgRBAXI2AgRBAEEANgKc0ICAAEEAQQA2ApDQgIAACyAEQQhqIQMMCgsCQEEAKAKU0ICAACIAIAJNDQBBACgCoNCAgAAiAyACaiIEIAAgAmsiBUEBcjYCBEEAIAU2ApTQgIAAQQAgBDYCoNCAgAAgAyACQQNyNgIEIANBCGohAwwKCwJAAkBBACgC4NOAgABFDQBBACgC6NOAgAAhBAwBC0EAQn83AuzTgIAAQQBCgICEgICAwAA3AuTTgIAAQQAgAUEMakFwcUHYqtWqBXM2AuDTgIAAQQBBADYC9NOAgABBAEEANgLE04CAAEGAgAQhBAtBACEDAkAgBCACQccAaiIHaiIGQQAgBGsiC3EiCCACSw0AQQBBMDYC+NOAgAAMCgsCQEEAKALA04CAACIDRQ0AAkBBACgCuNOAgAAiBCAIaiIFIARNDQAgBSADTQ0BC0EAIQNBAEEwNgL404CAAAwKC0EALQDE04CAAEEEcQ0EAkACQAJAQQAoAqDQgIAAIgRFDQBByNOAgAAhAwNAAkAgAygCACIFIARLDQAgBSADKAIEaiAESw0DCyADKAIIIgMNAAsLQQAQy4CAgAAiAEF/Rg0FIAghBgJAQQAoAuTTgIAAIgNBf2oiBCAAcUUNACAIIABrIAQgAGpBACADa3FqIQYLIAYgAk0NBSAGQf7///8HSw0FAkBBACgCwNOAgAAiA0UNAEEAKAK404CAACIEIAZqIgUgBE0NBiAFIANLDQYLIAYQy4CAgAAiAyAARw0BDAcLIAYgAGsgC3EiBkH+////B0sNBCAGEMuAgIAAIgAgAygCACADKAIEakYNAyAAIQMLAkAgA0F/Rg0AIAJByABqIAZNDQACQCAHIAZrQQAoAujTgIAAIgRqQQAgBGtxIgRB/v///wdNDQAgAyEADAcLAkAgBBDLgICAAEF/Rg0AIAQgBmohBiADIQAMBwtBACAGaxDLgICAABoMBAsgAyEAIANBf0cNBQwDC0EAIQgMBwtBACEADAULIABBf0cNAgtBAEEAKALE04CAAEEEcjYCxNOAgAALIAhB/v///wdLDQEgCBDLgICAACEAQQAQy4CAgAAhAyAAQX9GDQEgA0F/Rg0BIAAgA08NASADIABrIgYgAkE4ak0NAQtBAEEAKAK404CAACAGaiIDNgK404CAAAJAIANBACgCvNOAgABNDQBBACADNgK804CAAAsCQAJAAkACQEEAKAKg0ICAACIERQ0AQcjTgIAAIQMDQCAAIAMoAgAiBSADKAIEIghqRg0CIAMoAggiAw0ADAMLCwJAAkBBACgCmNCAgAAiA0UNACAAIANPDQELQQAgADYCmNCAgAALQQAhA0EAIAY2AszTgIAAQQAgADYCyNOAgABBAEF/NgKo0ICAAEEAQQAoAuDTgIAANgKs0ICAAEEAQQA2AtTTgIAAA0AgA0HE0ICAAGogA0G40ICAAGoiBDYCACAEIANBsNCAgABqIgU2AgAgA0G80ICAAGogBTYCACADQczQgIAAaiADQcDQgIAAaiIFNgIAIAUgBDYCACADQdTQgIAAaiADQcjQgIAAaiIENgIAIAQgBTYCACADQdDQgIAAaiAENgIAIANBIGoiA0GAAkcNAAsgAEF4IABrQQ9xQQAgAEEIakEPcRsiA2oiBCAGQUhqIgUgA2siA0EBcjYCBEEAQQAoAvDTgIAANgKk0ICAAEEAIAM2ApTQgIAAQQAgBDYCoNCAgAAgACAFakE4NgIEDAILIAMtAAxBCHENACAEIAVJDQAgBCAATw0AIARBeCAEa0EPcUEAIARBCGpBD3EbIgVqIgBBACgClNCAgAAgBmoiCyAFayIFQQFyNgIEIAMgCCAGajYCBEEAQQAoAvDTgIAANgKk0ICAAEEAIAU2ApTQgIAAQQAgADYCoNCAgAAgBCALakE4NgIEDAELAkAgAEEAKAKY0ICAACIITw0AQQAgADYCmNCAgAAgACEICyAAIAZqIQVByNOAgAAhAwJAAkACQAJAAkACQAJAA0AgAygCACAFRg0BIAMoAggiAw0ADAILCyADLQAMQQhxRQ0BC0HI04CAACEDA0ACQCADKAIAIgUgBEsNACAFIAMoAgRqIgUgBEsNAwsgAygCCCEDDAALCyADIAA2AgAgAyADKAIEIAZqNgIEIABBeCAAa0EPcUEAIABBCGpBD3EbaiILIAJBA3I2AgQgBUF4IAVrQQ9xQQAgBUEIakEPcRtqIgYgCyACaiICayEDAkAgBiAERw0AQQAgAjYCoNCAgABBAEEAKAKU0ICAACADaiIDNgKU0ICAACACIANBAXI2AgQMAwsCQCAGQQAoApzQgIAARw0AQQAgAjYCnNCAgABBAEEAKAKQ0ICAACADaiIDNgKQ0ICAACACIANBAXI2AgQgAiADaiADNgIADAMLAkAgBigCBCIEQQNxQQFHDQAgBEF4cSEHAkACQCAEQf8BSw0AIAYoAggiBSAEQQN2IghBA3RBsNCAgABqIgBGGgJAIAYoAgwiBCAFRw0AQQBBACgCiNCAgABBfiAId3E2AojQgIAADAILIAQgAEYaIAQgBTYCCCAFIAQ2AgwMAQsgBigCGCEJAkACQCAGKAIMIgAgBkYNACAGKAIIIgQgCEkaIAAgBDYCCCAEIAA2AgwMAQsCQCAGQRRqIgQoAgAiBQ0AIAZBEGoiBCgCACIFDQBBACEADAELA0AgBCEIIAUiAEEUaiIEKAIAIgUNACAAQRBqIQQgACgCECIFDQALIAhBADYCAAsgCUUNAAJAAkAgBiAGKAIcIgVBAnRBuNKAgABqIgQoAgBHDQAgBCAANgIAIAANAUEAQQAoAozQgIAAQX4gBXdxNgKM0ICAAAwCCyAJQRBBFCAJKAIQIAZGG2ogADYCACAARQ0BCyAAIAk2AhgCQCAGKAIQIgRFDQAgACAENgIQIAQgADYCGAsgBigCFCIERQ0AIABBFGogBDYCACAEIAA2AhgLIAcgA2ohAyAGIAdqIgYoAgQhBAsgBiAEQX5xNgIEIAIgA2ogAzYCACACIANBAXI2AgQCQCADQf8BSw0AIANBeHFBsNCAgABqIQQCQAJAQQAoAojQgIAAIgVBASADQQN2dCIDcQ0AQQAgBSADcjYCiNCAgAAgBCEDDAELIAQoAgghAwsgAyACNgIMIAQgAjYCCCACIAQ2AgwgAiADNgIIDAMLQR8hBAJAIANB////B0sNACADQQh2IgQgBEGA/j9qQRB2QQhxIgR0IgUgBUGA4B9qQRB2QQRxIgV0IgAgAEGAgA9qQRB2QQJxIgB0QQ92IAQgBXIgAHJrIgRBAXQgAyAEQRVqdkEBcXJBHGohBAsgAiAENgIcIAJCADcCECAEQQJ0QbjSgIAAaiEFAkBBACgCjNCAgAAiAEEBIAR0IghxDQAgBSACNgIAQQAgACAIcjYCjNCAgAAgAiAFNgIYIAIgAjYCCCACIAI2AgwMAwsgA0EAQRkgBEEBdmsgBEEfRht0IQQgBSgCACEAA0AgACIFKAIEQXhxIANGDQIgBEEddiEAIARBAXQhBCAFIABBBHFqQRBqIggoAgAiAA0ACyAIIAI2AgAgAiAFNgIYIAIgAjYCDCACIAI2AggMAgsgAEF4IABrQQ9xQQAgAEEIakEPcRsiA2oiCyAGQUhqIgggA2siA0EBcjYCBCAAIAhqQTg2AgQgBCAFQTcgBWtBD3FBACAFQUlqQQ9xG2pBQWoiCCAIIARBEGpJGyIIQSM2AgRBAEEAKALw04CAADYCpNCAgABBACADNgKU0ICAAEEAIAs2AqDQgIAAIAhBEGpBACkC0NOAgAA3AgAgCEEAKQLI04CAADcCCEEAIAhBCGo2AtDTgIAAQQAgBjYCzNOAgABBACAANgLI04CAAEEAQQA2AtTTgIAAIAhBJGohAwNAIANBBzYCACADQQRqIgMgBUkNAAsgCCAERg0DIAggCCgCBEF+cTYCBCAIIAggBGsiADYCACAEIABBAXI2AgQCQCAAQf8BSw0AIABBeHFBsNCAgABqIQMCQAJAQQAoAojQgIAAIgVBASAAQQN2dCIAcQ0AQQAgBSAAcjYCiNCAgAAgAyEFDAELIAMoAgghBQsgBSAENgIMIAMgBDYCCCAEIAM2AgwgBCAFNgIIDAQLQR8hAwJAIABB////B0sNACAAQQh2IgMgA0GA/j9qQRB2QQhxIgN0IgUgBUGA4B9qQRB2QQRxIgV0IgggCEGAgA9qQRB2QQJxIgh0QQ92IAMgBXIgCHJrIgNBAXQgACADQRVqdkEBcXJBHGohAwsgBCADNgIcIARCADcCECADQQJ0QbjSgIAAaiEFAkBBACgCjNCAgAAiCEEBIAN0IgZxDQAgBSAENgIAQQAgCCAGcjYCjNCAgAAgBCAFNgIYIAQgBDYCCCAEIAQ2AgwMBAsgAEEAQRkgA0EBdmsgA0EfRht0IQMgBSgCACEIA0AgCCIFKAIEQXhxIABGDQMgA0EddiEIIANBAXQhAyAFIAhBBHFqQRBqIgYoAgAiCA0ACyAGIAQ2AgAgBCAFNgIYIAQgBDYCDCAEIAQ2AggMAwsgBSgCCCIDIAI2AgwgBSACNgIIIAJBADYCGCACIAU2AgwgAiADNgIICyALQQhqIQMMBQsgBSgCCCIDIAQ2AgwgBSAENgIIIARBADYCGCAEIAU2AgwgBCADNgIIC0EAKAKU0ICAACIDIAJNDQBBACgCoNCAgAAiBCACaiIFIAMgAmsiA0EBcjYCBEEAIAM2ApTQgIAAQQAgBTYCoNCAgAAgBCACQQNyNgIEIARBCGohAwwDC0EAIQNBAEEwNgL404CAAAwCCwJAIAtFDQACQAJAIAggCCgCHCIFQQJ0QbjSgIAAaiIDKAIARw0AIAMgADYCACAADQFBACAHQX4gBXdxIgc2AozQgIAADAILIAtBEEEUIAsoAhAgCEYbaiAANgIAIABFDQELIAAgCzYCGAJAIAgoAhAiA0UNACAAIAM2AhAgAyAANgIYCyAIQRRqKAIAIgNFDQAgAEEUaiADNgIAIAMgADYCGAsCQAJAIARBD0sNACAIIAQgAmoiA0EDcjYCBCAIIANqIgMgAygCBEEBcjYCBAwBCyAIIAJqIgAgBEEBcjYCBCAIIAJBA3I2AgQgACAEaiAENgIAAkAgBEH/AUsNACAEQXhxQbDQgIAAaiEDAkACQEEAKAKI0ICAACIFQQEgBEEDdnQiBHENAEEAIAUgBHI2AojQgIAAIAMhBAwBCyADKAIIIQQLIAQgADYCDCADIAA2AgggACADNgIMIAAgBDYCCAwBC0EfIQMCQCAEQf///wdLDQAgBEEIdiIDIANBgP4/akEQdkEIcSIDdCIFIAVBgOAfakEQdkEEcSIFdCICIAJBgIAPakEQdkECcSICdEEPdiADIAVyIAJyayIDQQF0IAQgA0EVanZBAXFyQRxqIQMLIAAgAzYCHCAAQgA3AhAgA0ECdEG40oCAAGohBQJAIAdBASADdCICcQ0AIAUgADYCAEEAIAcgAnI2AozQgIAAIAAgBTYCGCAAIAA2AgggACAANgIMDAELIARBAEEZIANBAXZrIANBH0YbdCEDIAUoAgAhAgJAA0AgAiIFKAIEQXhxIARGDQEgA0EddiECIANBAXQhAyAFIAJBBHFqQRBqIgYoAgAiAg0ACyAGIAA2AgAgACAFNgIYIAAgADYCDCAAIAA2AggMAQsgBSgCCCIDIAA2AgwgBSAANgIIIABBADYCGCAAIAU2AgwgACADNgIICyAIQQhqIQMMAQsCQCAKRQ0AAkACQCAAIAAoAhwiBUECdEG40oCAAGoiAygCAEcNACADIAg2AgAgCA0BQQAgCUF+IAV3cTYCjNCAgAAMAgsgCkEQQRQgCigCECAARhtqIAg2AgAgCEUNAQsgCCAKNgIYAkAgACgCECIDRQ0AIAggAzYCECADIAg2AhgLIABBFGooAgAiA0UNACAIQRRqIAM2AgAgAyAINgIYCwJAAkAgBEEPSw0AIAAgBCACaiIDQQNyNgIEIAAgA2oiAyADKAIEQQFyNgIEDAELIAAgAmoiBSAEQQFyNgIEIAAgAkEDcjYCBCAFIARqIAQ2AgACQCAHRQ0AIAdBeHFBsNCAgABqIQJBACgCnNCAgAAhAwJAAkBBASAHQQN2dCIIIAZxDQBBACAIIAZyNgKI0ICAACACIQgMAQsgAigCCCEICyAIIAM2AgwgAiADNgIIIAMgAjYCDCADIAg2AggLQQAgBTYCnNCAgABBACAENgKQ0ICAAAsgAEEIaiEDCyABQRBqJICAgIAAIAMLCgAgABDJgICAAAviDQEHfwJAIABFDQAgAEF4aiIBIABBfGooAgAiAkF4cSIAaiEDAkAgAkEBcQ0AIAJBA3FFDQEgASABKAIAIgJrIgFBACgCmNCAgAAiBEkNASACIABqIQACQCABQQAoApzQgIAARg0AAkAgAkH/AUsNACABKAIIIgQgAkEDdiIFQQN0QbDQgIAAaiIGRhoCQCABKAIMIgIgBEcNAEEAQQAoAojQgIAAQX4gBXdxNgKI0ICAAAwDCyACIAZGGiACIAQ2AgggBCACNgIMDAILIAEoAhghBwJAAkAgASgCDCIGIAFGDQAgASgCCCICIARJGiAGIAI2AgggAiAGNgIMDAELAkAgAUEUaiICKAIAIgQNACABQRBqIgIoAgAiBA0AQQAhBgwBCwNAIAIhBSAEIgZBFGoiAigCACIEDQAgBkEQaiECIAYoAhAiBA0ACyAFQQA2AgALIAdFDQECQAJAIAEgASgCHCIEQQJ0QbjSgIAAaiICKAIARw0AIAIgBjYCACAGDQFBAEEAKAKM0ICAAEF+IAR3cTYCjNCAgAAMAwsgB0EQQRQgBygCECABRhtqIAY2AgAgBkUNAgsgBiAHNgIYAkAgASgCECICRQ0AIAYgAjYCECACIAY2AhgLIAEoAhQiAkUNASAGQRRqIAI2AgAgAiAGNgIYDAELIAMoAgQiAkEDcUEDRw0AIAMgAkF+cTYCBEEAIAA2ApDQgIAAIAEgAGogADYCACABIABBAXI2AgQPCyABIANPDQAgAygCBCICQQFxRQ0AAkACQCACQQJxDQACQCADQQAoAqDQgIAARw0AQQAgATYCoNCAgABBAEEAKAKU0ICAACAAaiIANgKU0ICAACABIABBAXI2AgQgAUEAKAKc0ICAAEcNA0EAQQA2ApDQgIAAQQBBADYCnNCAgAAPCwJAIANBACgCnNCAgABHDQBBACABNgKc0ICAAEEAQQAoApDQgIAAIABqIgA2ApDQgIAAIAEgAEEBcjYCBCABIABqIAA2AgAPCyACQXhxIABqIQACQAJAIAJB/wFLDQAgAygCCCIEIAJBA3YiBUEDdEGw0ICAAGoiBkYaAkAgAygCDCICIARHDQBBAEEAKAKI0ICAAEF+IAV3cTYCiNCAgAAMAgsgAiAGRhogAiAENgIIIAQgAjYCDAwBCyADKAIYIQcCQAJAIAMoAgwiBiADRg0AIAMoAggiAkEAKAKY0ICAAEkaIAYgAjYCCCACIAY2AgwMAQsCQCADQRRqIgIoAgAiBA0AIANBEGoiAigCACIEDQBBACEGDAELA0AgAiEFIAQiBkEUaiICKAIAIgQNACAGQRBqIQIgBigCECIEDQALIAVBADYCAAsgB0UNAAJAAkAgAyADKAIcIgRBAnRBuNKAgABqIgIoAgBHDQAgAiAGNgIAIAYNAUEAQQAoAozQgIAAQX4gBHdxNgKM0ICAAAwCCyAHQRBBFCAHKAIQIANGG2ogBjYCACAGRQ0BCyAGIAc2AhgCQCADKAIQIgJFDQAgBiACNgIQIAIgBjYCGAsgAygCFCICRQ0AIAZBFGogAjYCACACIAY2AhgLIAEgAGogADYCACABIABBAXI2AgQgAUEAKAKc0ICAAEcNAUEAIAA2ApDQgIAADwsgAyACQX5xNgIEIAEgAGogADYCACABIABBAXI2AgQLAkAgAEH/AUsNACAAQXhxQbDQgIAAaiECAkACQEEAKAKI0ICAACIEQQEgAEEDdnQiAHENAEEAIAQgAHI2AojQgIAAIAIhAAwBCyACKAIIIQALIAAgATYCDCACIAE2AgggASACNgIMIAEgADYCCA8LQR8hAgJAIABB////B0sNACAAQQh2IgIgAkGA/j9qQRB2QQhxIgJ0IgQgBEGA4B9qQRB2QQRxIgR0IgYgBkGAgA9qQRB2QQJxIgZ0QQ92IAIgBHIgBnJrIgJBAXQgACACQRVqdkEBcXJBHGohAgsgASACNgIcIAFCADcCECACQQJ0QbjSgIAAaiEEAkACQEEAKAKM0ICAACIGQQEgAnQiA3ENACAEIAE2AgBBACAGIANyNgKM0ICAACABIAQ2AhggASABNgIIIAEgATYCDAwBCyAAQQBBGSACQQF2ayACQR9GG3QhAiAEKAIAIQYCQANAIAYiBCgCBEF4cSAARg0BIAJBHXYhBiACQQF0IQIgBCAGQQRxakEQaiIDKAIAIgYNAAsgAyABNgIAIAEgBDYCGCABIAE2AgwgASABNgIIDAELIAQoAggiACABNgIMIAQgATYCCCABQQA2AhggASAENgIMIAEgADYCCAtBAEEAKAKo0ICAAEF/aiIBQX8gARs2AqjQgIAACwsEAAAAC04AAkAgAA0APwBBEHQPCwJAIABB//8DcQ0AIABBf0wNAAJAIABBEHZAACIAQX9HDQBBAEEwNgL404CAAEF/DwsgAEEQdA8LEMqAgIAAAAvyAgIDfwF+AkAgAkUNACAAIAE6AAAgAiAAaiIDQX9qIAE6AAAgAkEDSQ0AIAAgAToAAiAAIAE6AAEgA0F9aiABOgAAIANBfmogAToAACACQQdJDQAgACABOgADIANBfGogAToAACACQQlJDQAgAEEAIABrQQNxIgRqIgMgAUH/AXFBgYKECGwiATYCACADIAIgBGtBfHEiBGoiAkF8aiABNgIAIARBCUkNACADIAE2AgggAyABNgIEIAJBeGogATYCACACQXRqIAE2AgAgBEEZSQ0AIAMgATYCGCADIAE2AhQgAyABNgIQIAMgATYCDCACQXBqIAE2AgAgAkFsaiABNgIAIAJBaGogATYCACACQWRqIAE2AgAgBCADQQRxQRhyIgVrIgJBIEkNACABrUKBgICAEH4hBiADIAVqIQEDQCABIAY3AxggASAGNwMQIAEgBjcDCCABIAY3AwAgAUEgaiEBIAJBYGoiAkEfSw0ACwsgAAsLjkgBAEGACAuGSAEAAAACAAAAAwAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAYAAAAHAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=="},7999:(b,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:true});B.enumToMap=void 0;function enumToMap(b){const B={};Object.keys(b).forEach((F=>{const K=b[F];if(typeof K==="number"){B[F]=K}}));return B}B.enumToMap=enumToMap},4280:(b,B,F)=>{"use strict";const{kClients:K}=F(4980);const se=F(4724);const{kAgent:oe,kMockAgentSet:Qe,kMockAgentGet:Re,kDispatches:Me,kIsMockActive:Le,kNetConnect:We,kGetNetConnect:Ge,kOptions:ze,kFactory:$e}=F(7980);const Ye=F(1134);const Ke=F(723);const{matchValue:Xe,buildMockOptions:et}=F(640);const{InvalidArgumentError:rt,UndiciError:it}=F(1970);const ot=F(5872);const at=F(9376);const lt=F(135);class FakeWeakRef{constructor(b){this.value=b}deref(){return this.value}}class MockAgent extends ot{constructor(b){super(b);this[We]=true;this[Le]=true;if(b&&b.agent&&typeof b.agent.dispatch!=="function"){throw new rt("Argument opts.agent must implement Agent")}const B=b&&b.agent?b.agent:new se(b);this[oe]=B;this[K]=B[K];this[ze]=et(b)}get(b){let B=this[Re](b);if(!B){B=this[$e](b);this[Qe](b,B)}return B}dispatch(b,B){this.get(b.origin);return this[oe].dispatch(b,B)}async close(){await this[oe].close();this[K].clear()}deactivate(){this[Le]=false}activate(){this[Le]=true}enableNetConnect(b){if(typeof b==="string"||typeof b==="function"||b instanceof RegExp){if(Array.isArray(this[We])){this[We].push(b)}else{this[We]=[b]}}else if(typeof b==="undefined"){this[We]=true}else{throw new rt("Unsupported matcher. Must be one of String|Function|RegExp.")}}disableNetConnect(){this[We]=false}get isMockActive(){return this[Le]}[Qe](b,B){this[K].set(b,new FakeWeakRef(B))}[$e](b){const B=Object.assign({agent:this},this[ze]);return this[ze]&&this[ze].connections===1?new Ye(b,B):new Ke(b,B)}[Re](b){const B=this[K].get(b);if(B){return B.deref()}if(typeof b!=="string"){const B=this[$e]("http://localhost:9999");this[Qe](b,B);return B}for(const[B,F]of Array.from(this[K])){const K=F.deref();if(K&&typeof B!=="string"&&Xe(B,b)){const B=this[$e](b);this[Qe](b,B);B[Me]=K[Me];return B}}}[Ge](){return this[We]}pendingInterceptors(){const b=this[K];return Array.from(b.entries()).flatMap((([b,B])=>B.deref()[Me].map((B=>({...B,origin:b}))))).filter((({pending:b})=>b))}assertNoPendingInterceptors({pendingInterceptorsFormatter:b=new lt}={}){const B=this.pendingInterceptors();if(B.length===0){return}const F=new at("interceptor","interceptors").pluralize(B.length);throw new it(`\n${F.count} ${F.noun} ${F.is} pending:\n\n${b.format(B)}\n`.trim())}}b.exports=MockAgent},1134:(b,B,F)=>{"use strict";const{promisify:K}=F(9023);const se=F(6530);const{buildMockDispatch:oe}=F(640);const{kDispatches:Qe,kMockAgent:Re,kClose:Me,kOriginalClose:Le,kOrigin:We,kOriginalDispatch:Ge,kConnected:ze}=F(7980);const{MockInterceptor:$e}=F(4402);const Ye=F(4980);const{InvalidArgumentError:Ke}=F(1970);class MockClient extends se{constructor(b,B){super(b,B);if(!B||!B.agent||typeof B.agent.dispatch!=="function"){throw new Ke("Argument opts.agent must implement Agent")}this[Re]=B.agent;this[We]=b;this[Qe]=[];this[ze]=1;this[Ge]=this.dispatch;this[Le]=this.close.bind(this);this.dispatch=oe.call(this);this.close=this[Me]}get[Ye.kConnected](){return this[ze]}intercept(b){return new $e(b,this[Qe])}async[Me](){await K(this[Le])();this[ze]=0;this[Re][Ye.kClients].delete(this[We])}}b.exports=MockClient},8074:(b,B,F)=>{"use strict";const{UndiciError:K}=F(1970);class MockNotMatchedError extends K{constructor(b){super(b);Error.captureStackTrace(this,MockNotMatchedError);this.name="MockNotMatchedError";this.message=b||"The request does not match any registered mock dispatches";this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}}b.exports={MockNotMatchedError:MockNotMatchedError}},4402:(b,B,F)=>{"use strict";const{getResponseData:K,buildKey:se,addMockDispatch:oe}=F(640);const{kDispatches:Qe,kDispatchKey:Re,kDefaultHeaders:Me,kDefaultTrailers:Le,kContentLength:We,kMockDispatch:Ge}=F(7980);const{InvalidArgumentError:ze}=F(1970);const{buildURL:$e}=F(701);class MockScope{constructor(b){this[Ge]=b}delay(b){if(typeof b!=="number"||!Number.isInteger(b)||b<=0){throw new ze("waitInMs must be a valid integer > 0")}this[Ge].delay=b;return this}persist(){this[Ge].persist=true;return this}times(b){if(typeof b!=="number"||!Number.isInteger(b)||b<=0){throw new ze("repeatTimes must be a valid integer > 0")}this[Ge].times=b;return this}}class MockInterceptor{constructor(b,B){if(typeof b!=="object"){throw new ze("opts must be an object")}if(typeof b.path==="undefined"){throw new ze("opts.path must be defined")}if(typeof b.method==="undefined"){b.method="GET"}if(typeof b.path==="string"){if(b.query){b.path=$e(b.path,b.query)}else{const B=new URL(b.path,"data://");b.path=B.pathname+B.search}}if(typeof b.method==="string"){b.method=b.method.toUpperCase()}this[Re]=se(b);this[Qe]=B;this[Me]={};this[Le]={};this[We]=false}createMockScopeDispatchData(b,B,F={}){const se=K(B);const oe=this[We]?{"content-length":se.length}:{};const Qe={...this[Me],...oe,...F.headers};const Re={...this[Le],...F.trailers};return{statusCode:b,data:B,headers:Qe,trailers:Re}}validateReplyParameters(b,B,F){if(typeof b==="undefined"){throw new ze("statusCode must be defined")}if(typeof B==="undefined"){throw new ze("data must be defined")}if(typeof F!=="object"){throw new ze("responseOptions must be an object")}}reply(b){if(typeof b==="function"){const wrappedDefaultsCallback=B=>{const F=b(B);if(typeof F!=="object"){throw new ze("reply options callback must return an object")}const{statusCode:K,data:se="",responseOptions:oe={}}=F;this.validateReplyParameters(K,se,oe);return{...this.createMockScopeDispatchData(K,se,oe)}};const B=oe(this[Qe],this[Re],wrappedDefaultsCallback);return new MockScope(B)}const[B,F="",K={}]=[...arguments];this.validateReplyParameters(B,F,K);const se=this.createMockScopeDispatchData(B,F,K);const Me=oe(this[Qe],this[Re],se);return new MockScope(Me)}replyWithError(b){if(typeof b==="undefined"){throw new ze("error must be defined")}const B=oe(this[Qe],this[Re],{error:b});return new MockScope(B)}defaultReplyHeaders(b){if(typeof b==="undefined"){throw new ze("headers must be defined")}this[Me]=b;return this}defaultReplyTrailers(b){if(typeof b==="undefined"){throw new ze("trailers must be defined")}this[Le]=b;return this}replyContentLength(){this[We]=true;return this}}b.exports.MockInterceptor=MockInterceptor;b.exports.MockScope=MockScope},723:(b,B,F)=>{"use strict";const{promisify:K}=F(9023);const se=F(6607);const{buildMockDispatch:oe}=F(640);const{kDispatches:Qe,kMockAgent:Re,kClose:Me,kOriginalClose:Le,kOrigin:We,kOriginalDispatch:Ge,kConnected:ze}=F(7980);const{MockInterceptor:$e}=F(4402);const Ye=F(4980);const{InvalidArgumentError:Ke}=F(1970);class MockPool extends se{constructor(b,B){super(b,B);if(!B||!B.agent||typeof B.agent.dispatch!=="function"){throw new Ke("Argument opts.agent must implement Agent")}this[Re]=B.agent;this[We]=b;this[Qe]=[];this[ze]=1;this[Ge]=this.dispatch;this[Le]=this.close.bind(this);this.dispatch=oe.call(this);this.close=this[Me]}get[Ye.kConnected](){return this[ze]}intercept(b){return new $e(b,this[Qe])}async[Me](){await K(this[Le])();this[ze]=0;this[Re][Ye.kClients].delete(this[We])}}b.exports=MockPool},7980:b=>{"use strict";b.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}},640:(b,B,F)=>{"use strict";const{MockNotMatchedError:K}=F(8074);const{kDispatches:se,kMockAgent:oe,kOriginalDispatch:Qe,kOrigin:Re,kGetNetConnect:Me}=F(7980);const{buildURL:Le,nop:We}=F(701);const{STATUS_CODES:Ge}=F(8611);const{types:{isPromise:ze}}=F(9023);function matchValue(b,B){if(typeof b==="string"){return b===B}if(b instanceof RegExp){return b.test(B)}if(typeof b==="function"){return b(B)===true}return false}function lowerCaseEntries(b){return Object.fromEntries(Object.entries(b).map((([b,B])=>[b.toLocaleLowerCase(),B])))}function getHeaderByName(b,B){if(Array.isArray(b)){for(let F=0;F<b.length;F+=2){if(b[F].toLocaleLowerCase()===B.toLocaleLowerCase()){return b[F+1]}}return undefined}else if(typeof b.get==="function"){return b.get(B)}else{return lowerCaseEntries(b)[B.toLocaleLowerCase()]}}function buildHeadersFromArray(b){const B=b.slice();const F=[];for(let b=0;b<B.length;b+=2){F.push([B[b],B[b+1]])}return Object.fromEntries(F)}function matchHeaders(b,B){if(typeof b.headers==="function"){if(Array.isArray(B)){B=buildHeadersFromArray(B)}return b.headers(B?lowerCaseEntries(B):{})}if(typeof b.headers==="undefined"){return true}if(typeof B!=="object"||typeof b.headers!=="object"){return false}for(const[F,K]of Object.entries(b.headers)){const b=getHeaderByName(B,F);if(!matchValue(K,b)){return false}}return true}function safeUrl(b){if(typeof b!=="string"){return b}const B=b.split("?");if(B.length!==2){return b}const F=new URLSearchParams(B.pop());F.sort();return[...B,F.toString()].join("?")}function matchKey(b,{path:B,method:F,body:K,headers:se}){const oe=matchValue(b.path,B);const Qe=matchValue(b.method,F);const Re=typeof b.body!=="undefined"?matchValue(b.body,K):true;const Me=matchHeaders(b,se);return oe&&Qe&&Re&&Me}function getResponseData(b){if(Buffer.isBuffer(b)){return b}else if(typeof b==="object"){return JSON.stringify(b)}else{return b.toString()}}function getMockDispatch(b,B){const F=B.query?Le(B.path,B.query):B.path;const se=typeof F==="string"?safeUrl(F):F;let oe=b.filter((({consumed:b})=>!b)).filter((({path:b})=>matchValue(safeUrl(b),se)));if(oe.length===0){throw new K(`Mock dispatch not matched for path '${se}'`)}oe=oe.filter((({method:b})=>matchValue(b,B.method)));if(oe.length===0){throw new K(`Mock dispatch not matched for method '${B.method}'`)}oe=oe.filter((({body:b})=>typeof b!=="undefined"?matchValue(b,B.body):true));if(oe.length===0){throw new K(`Mock dispatch not matched for body '${B.body}'`)}oe=oe.filter((b=>matchHeaders(b,B.headers)));if(oe.length===0){throw new K(`Mock dispatch not matched for headers '${typeof B.headers==="object"?JSON.stringify(B.headers):B.headers}'`)}return oe[0]}function addMockDispatch(b,B,F){const K={timesInvoked:0,times:1,persist:false,consumed:false};const se=typeof F==="function"?{callback:F}:{...F};const oe={...K,...B,pending:true,data:{error:null,...se}};b.push(oe);return oe}function deleteMockDispatch(b,B){const F=b.findIndex((b=>{if(!b.consumed){return false}return matchKey(b,B)}));if(F!==-1){b.splice(F,1)}}function buildKey(b){const{path:B,method:F,body:K,headers:se,query:oe}=b;return{path:B,method:F,body:K,headers:se,query:oe}}function generateKeyValues(b){return Object.entries(b).reduce(((b,[B,F])=>[...b,Buffer.from(`${B}`),Array.isArray(F)?F.map((b=>Buffer.from(`${b}`))):Buffer.from(`${F}`)]),[])}function getStatusText(b){return Ge[b]||"unknown"}async function getResponse(b){const B=[];for await(const F of b){B.push(F)}return Buffer.concat(B).toString("utf8")}function mockDispatch(b,B){const F=buildKey(b);const K=getMockDispatch(this[se],F);K.timesInvoked++;if(K.data.callback){K.data={...K.data,...K.data.callback(b)}}const{data:{statusCode:oe,data:Qe,headers:Re,trailers:Me,error:Le},delay:Ge,persist:$e}=K;const{timesInvoked:Ye,times:Ke}=K;K.consumed=!$e&&Ye>=Ke;K.pending=Ye<Ke;if(Le!==null){deleteMockDispatch(this[se],F);B.onError(Le);return true}if(typeof Ge==="number"&&Ge>0){setTimeout((()=>{handleReply(this[se])}),Ge)}else{handleReply(this[se])}function handleReply(K,se=Qe){const Le=Array.isArray(b.headers)?buildHeadersFromArray(b.headers):b.headers;const Ge=typeof se==="function"?se({...b,headers:Le}):se;if(ze(Ge)){Ge.then((b=>handleReply(K,b)));return}const $e=getResponseData(Ge);const Ye=generateKeyValues(Re);const Ke=generateKeyValues(Me);B.abort=We;B.onHeaders(oe,Ye,resume,getStatusText(oe));B.onData(Buffer.from($e));B.onComplete(Ke);deleteMockDispatch(K,F)}function resume(){}return true}function buildMockDispatch(){const b=this[oe];const B=this[Re];const F=this[Qe];return function dispatch(se,oe){if(b.isMockActive){try{mockDispatch.call(this,se,oe)}catch(Qe){if(Qe instanceof K){const Re=b[Me]();if(Re===false){throw new K(`${Qe.message}: subsequent request to origin ${B} was not allowed (net.connect disabled)`)}if(checkNetConnect(Re,B)){F.call(this,se,oe)}else{throw new K(`${Qe.message}: subsequent request to origin ${B} was not allowed (net.connect is not enabled for this origin)`)}}else{throw Qe}}}else{F.call(this,se,oe)}}}function checkNetConnect(b,B){const F=new URL(B);if(b===true){return true}else if(Array.isArray(b)&&b.some((b=>matchValue(b,F.host)))){return true}return false}function buildMockOptions(b){if(b){const{agent:B,...F}=b;return F}}b.exports={getResponseData:getResponseData,getMockDispatch:getMockDispatch,addMockDispatch:addMockDispatch,deleteMockDispatch:deleteMockDispatch,buildKey:buildKey,generateKeyValues:generateKeyValues,matchValue:matchValue,getResponse:getResponse,getStatusText:getStatusText,mockDispatch:mockDispatch,buildMockDispatch:buildMockDispatch,checkNetConnect:checkNetConnect,buildMockOptions:buildMockOptions,getHeaderByName:getHeaderByName}},135:(b,B,F)=>{"use strict";const{Transform:K}=F(2203);const{Console:se}=F(4236);b.exports=class PendingInterceptorsFormatter{constructor({disableColors:b}={}){this.transform=new K({transform(b,B,F){F(null,b)}});this.logger=new se({stdout:this.transform,inspectOptions:{colors:!b&&!process.env.CI}})}format(b){const B=b.map((({method:b,path:B,data:{statusCode:F},persist:K,times:se,timesInvoked:oe,origin:Qe})=>({Method:b,Origin:Qe,Path:B,"Status code":F,Persistent:K?"":"",Invocations:oe,Remaining:K?Infinity:se-oe})));this.logger.table(B);return this.transform.read().toString()}}},9376:b=>{"use strict";const B={pronoun:"it",is:"is",was:"was",this:"this"};const F={pronoun:"they",is:"are",was:"were",this:"these"};b.exports=class Pluralizer{constructor(b,B){this.singular=b;this.plural=B}pluralize(b){const K=b===1;const se=K?B:F;const oe=K?this.singular:this.plural;return{...se,count:b,noun:oe}}}},5594:b=>{"use strict";const B=2048;const F=B-1;class FixedCircularBuffer{constructor(){this.bottom=0;this.top=0;this.list=new Array(B);this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&F)===this.bottom}push(b){this.list[this.top]=b;this.top=this.top+1&F}shift(){const b=this.list[this.bottom];if(b===undefined)return null;this.list[this.bottom]=undefined;this.bottom=this.bottom+1&F;return b}}b.exports=class FixedQueue{constructor(){this.head=this.tail=new FixedCircularBuffer}isEmpty(){return this.head.isEmpty()}push(b){if(this.head.isFull()){this.head=this.head.next=new FixedCircularBuffer}this.head.push(b)}shift(){const b=this.tail;const B=b.shift();if(b.isEmpty()&&b.next!==null){this.tail=b.next}return B}}},4005:(b,B,F)=>{"use strict";const K=F(4660);const se=F(5594);const{kConnected:oe,kSize:Qe,kRunning:Re,kPending:Me,kQueued:Le,kBusy:We,kFree:Ge,kUrl:ze,kClose:$e,kDestroy:Ye,kDispatch:Ke}=F(4980);const Xe=F(613);const et=Symbol("clients");const rt=Symbol("needDrain");const it=Symbol("queue");const ot=Symbol("closed resolve");const at=Symbol("onDrain");const lt=Symbol("onConnect");const ut=Symbol("onDisconnect");const dt=Symbol("onConnectionError");const ht=Symbol("get dispatcher");const pt=Symbol("add client");const ft=Symbol("remove client");const mt=Symbol("stats");class PoolBase extends K{constructor(){super();this[it]=new se;this[et]=[];this[Le]=0;const b=this;this[at]=function onDrain(B,F){const K=b[it];let se=false;while(!se){const B=K.shift();if(!B){break}b[Le]--;se=!this.dispatch(B.opts,B.handler)}this[rt]=se;if(!this[rt]&&b[rt]){b[rt]=false;b.emit("drain",B,[b,...F])}if(b[ot]&&K.isEmpty()){Promise.all(b[et].map((b=>b.close()))).then(b[ot])}};this[lt]=(B,F)=>{b.emit("connect",B,[b,...F])};this[ut]=(B,F,K)=>{b.emit("disconnect",B,[b,...F],K)};this[dt]=(B,F,K)=>{b.emit("connectionError",B,[b,...F],K)};this[mt]=new Xe(this)}get[We](){return this[rt]}get[oe](){return this[et].filter((b=>b[oe])).length}get[Ge](){return this[et].filter((b=>b[oe]&&!b[rt])).length}get[Me](){let b=this[Le];for(const{[Me]:B}of this[et]){b+=B}return b}get[Re](){let b=0;for(const{[Re]:B}of this[et]){b+=B}return b}get[Qe](){let b=this[Le];for(const{[Qe]:B}of this[et]){b+=B}return b}get stats(){return this[mt]}async[$e](){if(this[it].isEmpty()){return Promise.all(this[et].map((b=>b.close())))}else{return new Promise((b=>{this[ot]=b}))}}async[Ye](b){while(true){const B=this[it].shift();if(!B){break}B.handler.onError(b)}return Promise.all(this[et].map((B=>B.destroy(b))))}[Ke](b,B){const F=this[ht]();if(!F){this[rt]=true;this[it].push({opts:b,handler:B});this[Le]++}else if(!F.dispatch(b,B)){F[rt]=true;this[rt]=!this[ht]()}return!this[rt]}[pt](b){b.on("drain",this[at]).on("connect",this[lt]).on("disconnect",this[ut]).on("connectionError",this[dt]);this[et].push(b);if(this[rt]){process.nextTick((()=>{if(this[rt]){this[at](b[ze],[this,b])}}))}return this}[ft](b){b.close((()=>{const B=this[et].indexOf(b);if(B!==-1){this[et].splice(B,1)}}));this[rt]=this[et].some((b=>!b[rt]&&b.closed!==true&&b.destroyed!==true))}}b.exports={PoolBase:PoolBase,kClients:et,kNeedDrain:rt,kAddClient:pt,kRemoveClient:ft,kGetDispatcher:ht}},613:(b,B,F)=>{const{kFree:K,kConnected:se,kPending:oe,kQueued:Qe,kRunning:Re,kSize:Me}=F(4980);const Le=Symbol("pool");class PoolStats{constructor(b){this[Le]=b}get connected(){return this[Le][se]}get free(){return this[Le][K]}get pending(){return this[Le][oe]}get queued(){return this[Le][Qe]}get running(){return this[Le][Re]}get size(){return this[Le][Me]}}b.exports=PoolStats},6607:(b,B,F)=>{"use strict";const{PoolBase:K,kClients:se,kNeedDrain:oe,kAddClient:Qe,kGetDispatcher:Re}=F(4005);const Me=F(6530);const{InvalidArgumentError:Le}=F(1970);const We=F(701);const{kUrl:Ge,kInterceptors:ze}=F(4980);const $e=F(2667);const Ye=Symbol("options");const Ke=Symbol("connections");const Xe=Symbol("factory");function defaultFactory(b,B){return new Me(b,B)}class Pool extends K{constructor(b,{connections:B,factory:F=defaultFactory,connect:K,connectTimeout:oe,tls:Qe,maxCachedSessions:Re,socketPath:Me,autoSelectFamily:et,autoSelectFamilyAttemptTimeout:rt,allowH2:it,...ot}={}){super();if(B!=null&&(!Number.isFinite(B)||B<0)){throw new Le("invalid connections")}if(typeof F!=="function"){throw new Le("factory must be a function.")}if(K!=null&&typeof K!=="function"&&typeof K!=="object"){throw new Le("connect must be a function or an object")}if(typeof K!=="function"){K=$e({...Qe,maxCachedSessions:Re,allowH2:it,socketPath:Me,timeout:oe,...We.nodeHasAutoSelectFamily&&et?{autoSelectFamily:et,autoSelectFamilyAttemptTimeout:rt}:undefined,...K})}this[ze]=ot.interceptors&&ot.interceptors.Pool&&Array.isArray(ot.interceptors.Pool)?ot.interceptors.Pool:[];this[Ke]=B||null;this[Ge]=We.parseOrigin(b);this[Ye]={...We.deepClone(ot),connect:K,allowH2:it};this[Ye].interceptors=ot.interceptors?{...ot.interceptors}:undefined;this[Xe]=F;this.on("connectionError",((b,B,F)=>{for(const b of B){const B=this[se].indexOf(b);if(B!==-1){this[se].splice(B,1)}}}))}[Re](){let b=this[se].find((b=>!b[oe]));if(b){return b}if(!this[Ke]||this[se].length<this[Ke]){b=this[Xe](this[Ge],this[Ye]);this[Qe](b)}return b}}b.exports=Pool},5317:(b,B,F)=>{"use strict";const{kProxy:K,kClose:se,kDestroy:oe,kInterceptors:Qe}=F(4980);const{URL:Re}=F(7016);const Me=F(4724);const Le=F(6607);const We=F(4660);const{InvalidArgumentError:Ge,RequestAbortedError:ze}=F(1970);const $e=F(2667);const Ye=Symbol("proxy agent");const Ke=Symbol("proxy client");const Xe=Symbol("proxy headers");const et=Symbol("request tls settings");const rt=Symbol("proxy tls settings");const it=Symbol("connect endpoint function");function defaultProtocolPort(b){return b==="https:"?443:80}function buildProxyOptions(b){if(typeof b==="string"){b={uri:b}}if(!b||!b.uri){throw new Ge("Proxy opts.uri is mandatory")}return{uri:b.uri,protocol:b.protocol||"https"}}function defaultFactory(b,B){return new Le(b,B)}class ProxyAgent extends We{constructor(b){super(b);this[K]=buildProxyOptions(b);this[Ye]=new Me(b);this[Qe]=b.interceptors&&b.interceptors.ProxyAgent&&Array.isArray(b.interceptors.ProxyAgent)?b.interceptors.ProxyAgent:[];if(typeof b==="string"){b={uri:b}}if(!b||!b.uri){throw new Ge("Proxy opts.uri is mandatory")}const{clientFactory:B=defaultFactory}=b;if(typeof B!=="function"){throw new Ge("Proxy opts.clientFactory must be a function.")}this[et]=b.requestTls;this[rt]=b.proxyTls;this[Xe]=b.headers||{};const F=new Re(b.uri);const{origin:se,port:oe,host:Le,username:We,password:ot}=F;if(b.auth&&b.token){throw new Ge("opts.auth cannot be used in combination with opts.token")}else if(b.auth){this[Xe]["proxy-authorization"]=`Basic ${b.auth}`}else if(b.token){this[Xe]["proxy-authorization"]=b.token}else if(We&&ot){this[Xe]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(We)}:${decodeURIComponent(ot)}`).toString("base64")}`}const at=$e({...b.proxyTls});this[it]=$e({...b.requestTls});this[Ke]=B(F,{connect:at});this[Ye]=new Me({...b,connect:async(b,B)=>{let F=b.host;if(!b.port){F+=`:${defaultProtocolPort(b.protocol)}`}try{const{socket:K,statusCode:Qe}=await this[Ke].connect({origin:se,port:oe,path:F,signal:b.signal,headers:{...this[Xe],host:Le}});if(Qe!==200){K.on("error",(()=>{})).destroy();B(new ze(`Proxy response (${Qe}) !== 200 when HTTP Tunneling`))}if(b.protocol!=="https:"){B(null,K);return}let Re;if(this[et]){Re=this[et].servername}else{Re=b.servername}this[it]({...b,servername:Re,httpSocket:K},B)}catch(b){B(b)}}})}dispatch(b,B){const{host:F}=new Re(b.origin);const K=buildHeaders(b.headers);throwIfProxyAuthIsSent(K);return this[Ye].dispatch({...b,headers:{...K,host:F}},B)}async[se](){await this[Ye].close();await this[Ke].close()}async[oe](){await this[Ye].destroy();await this[Ke].destroy()}}function buildHeaders(b){if(Array.isArray(b)){const B={};for(let F=0;F<b.length;F+=2){B[b[F]]=b[F+1]}return B}return b}function throwIfProxyAuthIsSent(b){const B=b&&Object.keys(b).find((b=>b.toLowerCase()==="proxy-authorization"));if(B){throw new Ge("Proxy-Authorization should be sent in ProxyAgent constructor")}}b.exports=ProxyAgent},7167:b=>{"use strict";let B=Date.now();let F;const K=[];function onTimeout(){B=Date.now();let b=K.length;let F=0;while(F<b){const se=K[F];if(se.state===0){se.state=B+se.delay}else if(se.state>0&&B>=se.state){se.state=-1;se.callback(se.opaque)}if(se.state===-1){se.state=-2;if(F!==b-1){K[F]=K.pop()}else{K.pop()}b-=1}else{F+=1}}if(K.length>0){refreshTimeout()}}function refreshTimeout(){if(F&&F.refresh){F.refresh()}else{clearTimeout(F);F=setTimeout(onTimeout,1e3);if(F.unref){F.unref()}}}class Timeout{constructor(b,B,F){this.callback=b;this.delay=B;this.opaque=F;this.state=-2;this.refresh()}refresh(){if(this.state===-2){K.push(this);if(!F||K.length===1){refreshTimeout()}}this.state=0}clear(){this.state=-1}}b.exports={setTimeout(b,B,F){return B<1e3?setTimeout(b,B,F):new Timeout(b,B,F)},clearTimeout(b){if(b instanceof Timeout){b.clear()}else{clearTimeout(b)}}}},9277:(b,B,F)=>{"use strict";const K=F(1637);const{uid:se,states:oe}=F(8420);const{kReadyState:Qe,kSentClose:Re,kByteParser:Me,kReceivedClose:Le}=F(6708);const{fireEvent:We,failWebsocketConnection:Ge}=F(8829);const{CloseEvent:ze}=F(6544);const{makeRequest:$e}=F(8939);const{fetching:Ye}=F(4546);const{Headers:Ke}=F(824);const{getGlobalDispatcher:Xe}=F(4662);const{kHeadersList:et}=F(4980);const rt={};rt.open=K.channel("undici:websocket:open");rt.close=K.channel("undici:websocket:close");rt.socketError=K.channel("undici:websocket:socket_error");let it;try{it=F(6982)}catch{}function establishWebSocketConnection(b,B,F,K,oe){const Qe=b;Qe.protocol=b.protocol==="ws:"?"http:":"https:";const Re=$e({urlList:[Qe],serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(oe.headers){const b=new Ke(oe.headers)[et];Re.headersList=b}const Me=it.randomBytes(16).toString("base64");Re.headersList.append("sec-websocket-key",Me);Re.headersList.append("sec-websocket-version","13");for(const b of B){Re.headersList.append("sec-websocket-protocol",b)}const Le="";const We=Ye({request:Re,useParallelQueue:true,dispatcher:oe.dispatcher??Xe(),processResponse(b){if(b.type==="error"||b.status!==101){Ge(F,"Received network error or non-101 status code.");return}if(B.length!==0&&!b.headersList.get("Sec-WebSocket-Protocol")){Ge(F,"Server did not respond with sent protocols.");return}if(b.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){Ge(F,'Server did not set Upgrade header to "websocket".');return}if(b.headersList.get("Connection")?.toLowerCase()!=="upgrade"){Ge(F,'Server did not set Connection header to "upgrade".');return}const oe=b.headersList.get("Sec-WebSocket-Accept");const Qe=it.createHash("sha1").update(Me+se).digest("base64");if(oe!==Qe){Ge(F,"Incorrect hash received in Sec-WebSocket-Accept header.");return}const We=b.headersList.get("Sec-WebSocket-Extensions");if(We!==null&&We!==Le){Ge(F,"Received different permessage-deflate than the one set.");return}const ze=b.headersList.get("Sec-WebSocket-Protocol");if(ze!==null&&ze!==Re.headersList.get("Sec-WebSocket-Protocol")){Ge(F,"Protocol was not set in the opening handshake.");return}b.socket.on("data",onSocketData);b.socket.on("close",onSocketClose);b.socket.on("error",onSocketError);if(rt.open.hasSubscribers){rt.open.publish({address:b.socket.address(),protocol:ze,extensions:We})}K(b)}});return We}function onSocketData(b){if(!this.ws[Me].write(b)){this.pause()}}function onSocketClose(){const{ws:b}=this;const B=b[Re]&&b[Le];let F=1005;let K="";const se=b[Me].closingInfo;if(se){F=se.code??1005;K=se.reason}else if(!b[Re]){F=1006}b[Qe]=oe.CLOSED;We("close",b,ze,{wasClean:B,code:F,reason:K});if(rt.close.hasSubscribers){rt.close.publish({websocket:b,code:F,reason:K})}}function onSocketError(b){const{ws:B}=this;B[Qe]=oe.CLOSING;if(rt.socketError.hasSubscribers){rt.socketError.publish(b)}this.destroy()}b.exports={establishWebSocketConnection:establishWebSocketConnection}},8420:b=>{"use strict";const B="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";const F={enumerable:true,writable:false,configurable:false};const K={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};const se={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10};const oe=2**16-1;const Qe={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4};const Re=Buffer.allocUnsafe(0);b.exports={uid:B,staticPropertyDescriptors:F,states:K,opcodes:se,maxUnsigned16Bit:oe,parserStates:Qe,emptyBuffer:Re}},6544:(b,B,F)=>{"use strict";const{webidl:K}=F(185);const{kEnumerableProperty:se}=F(701);const{MessagePort:oe}=F(8167);class MessageEvent extends Event{#s;constructor(b,B={}){K.argumentLengthCheck(arguments,1,{header:"MessageEvent constructor"});b=K.converters.DOMString(b);B=K.converters.MessageEventInit(B);super(b,B);this.#s=B}get data(){K.brandCheck(this,MessageEvent);return this.#s.data}get origin(){K.brandCheck(this,MessageEvent);return this.#s.origin}get lastEventId(){K.brandCheck(this,MessageEvent);return this.#s.lastEventId}get source(){K.brandCheck(this,MessageEvent);return this.#s.source}get ports(){K.brandCheck(this,MessageEvent);if(!Object.isFrozen(this.#s.ports)){Object.freeze(this.#s.ports)}return this.#s.ports}initMessageEvent(b,B=false,F=false,se=null,oe="",Qe="",Re=null,Me=[]){K.brandCheck(this,MessageEvent);K.argumentLengthCheck(arguments,1,{header:"MessageEvent.initMessageEvent"});return new MessageEvent(b,{bubbles:B,cancelable:F,data:se,origin:oe,lastEventId:Qe,source:Re,ports:Me})}}class CloseEvent extends Event{#s;constructor(b,B={}){K.argumentLengthCheck(arguments,1,{header:"CloseEvent constructor"});b=K.converters.DOMString(b);B=K.converters.CloseEventInit(B);super(b,B);this.#s=B}get wasClean(){K.brandCheck(this,CloseEvent);return this.#s.wasClean}get code(){K.brandCheck(this,CloseEvent);return this.#s.code}get reason(){K.brandCheck(this,CloseEvent);return this.#s.reason}}class ErrorEvent extends Event{#s;constructor(b,B){K.argumentLengthCheck(arguments,1,{header:"ErrorEvent constructor"});super(b,B);b=K.converters.DOMString(b);B=K.converters.ErrorEventInit(B??{});this.#s=B}get message(){K.brandCheck(this,ErrorEvent);return this.#s.message}get filename(){K.brandCheck(this,ErrorEvent);return this.#s.filename}get lineno(){K.brandCheck(this,ErrorEvent);return this.#s.lineno}get colno(){K.brandCheck(this,ErrorEvent);return this.#s.colno}get error(){K.brandCheck(this,ErrorEvent);return this.#s.error}}Object.defineProperties(MessageEvent.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:true},data:se,origin:se,lastEventId:se,source:se,ports:se,initMessageEvent:se});Object.defineProperties(CloseEvent.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:true},reason:se,code:se,wasClean:se});Object.defineProperties(ErrorEvent.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:true},message:se,filename:se,lineno:se,colno:se,error:se});K.converters.MessagePort=K.interfaceConverter(oe);K.converters["sequence<MessagePort>"]=K.sequenceConverter(K.converters.MessagePort);const Qe=[{key:"bubbles",converter:K.converters.boolean,defaultValue:false},{key:"cancelable",converter:K.converters.boolean,defaultValue:false},{key:"composed",converter:K.converters.boolean,defaultValue:false}];K.converters.MessageEventInit=K.dictionaryConverter([...Qe,{key:"data",converter:K.converters.any,defaultValue:null},{key:"origin",converter:K.converters.USVString,defaultValue:""},{key:"lastEventId",converter:K.converters.DOMString,defaultValue:""},{key:"source",converter:K.nullableConverter(K.converters.MessagePort),defaultValue:null},{key:"ports",converter:K.converters["sequence<MessagePort>"],get defaultValue(){return[]}}]);K.converters.CloseEventInit=K.dictionaryConverter([...Qe,{key:"wasClean",converter:K.converters.boolean,defaultValue:false},{key:"code",converter:K.converters["unsigned short"],defaultValue:0},{key:"reason",converter:K.converters.USVString,defaultValue:""}]);K.converters.ErrorEventInit=K.dictionaryConverter([...Qe,{key:"message",converter:K.converters.DOMString,defaultValue:""},{key:"filename",converter:K.converters.USVString,defaultValue:""},{key:"lineno",converter:K.converters["unsigned long"],defaultValue:0},{key:"colno",converter:K.converters["unsigned long"],defaultValue:0},{key:"error",converter:K.converters.any}]);b.exports={MessageEvent:MessageEvent,CloseEvent:CloseEvent,ErrorEvent:ErrorEvent}},2308:(b,B,F)=>{"use strict";const{maxUnsigned16Bit:K}=F(8420);let se;try{se=F(6982)}catch{}class WebsocketFrameSend{constructor(b){this.frameData=b;this.maskKey=se.randomBytes(4)}createFrame(b){const B=this.frameData?.byteLength??0;let F=B;let se=6;if(B>K){se+=8;F=127}else if(B>125){se+=2;F=126}const oe=Buffer.allocUnsafe(B+se);oe[0]=oe[1]=0;oe[0]|=128;oe[0]=(oe[0]&240)+b;
/*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> */oe[se-4]=this.maskKey[0];oe[se-3]=this.maskKey[1];oe[se-2]=this.maskKey[2];oe[se-1]=this.maskKey[3];oe[1]=F;if(F===126){oe.writeUInt16BE(B,2)}else if(F===127){oe[2]=oe[3]=0;oe.writeUIntBE(B,4,6)}oe[1]|=128;for(let b=0;b<B;b++){oe[se+b]=this.frameData[b]^this.maskKey[b%4]}return oe}}b.exports={WebsocketFrameSend:WebsocketFrameSend}},4648:(b,B,F)=>{"use strict";const{Writable:K}=F(2203);const se=F(1637);const{parserStates:oe,opcodes:Qe,states:Re,emptyBuffer:Me}=F(8420);const{kReadyState:Le,kSentClose:We,kResponse:Ge,kReceivedClose:ze}=F(6708);const{isValidStatusCode:$e,failWebsocketConnection:Ye,websocketMessageReceived:Ke}=F(8829);const{WebsocketFrameSend:Xe}=F(2308);const et={};et.ping=se.channel("undici:websocket:ping");et.pong=se.channel("undici:websocket:pong");class ByteParser extends K{#o=[];#a=0;#l=oe.INFO;#c={};#u=[];constructor(b){super();this.ws=b}_write(b,B,F){this.#o.push(b);this.#a+=b.length;this.run(F)}run(b){while(true){if(this.#l===oe.INFO){if(this.#a<2){return b()}const B=this.consume(2);this.#c.fin=(B[0]&128)!==0;this.#c.opcode=B[0]&15;this.#c.originalOpcode??=this.#c.opcode;this.#c.fragmented=!this.#c.fin&&this.#c.opcode!==Qe.CONTINUATION;if(this.#c.fragmented&&this.#c.opcode!==Qe.BINARY&&this.#c.opcode!==Qe.TEXT){Ye(this.ws,"Invalid frame type was fragmented.");return}const F=B[1]&127;if(F<=125){this.#c.payloadLength=F;this.#l=oe.READ_DATA}else if(F===126){this.#l=oe.PAYLOADLENGTH_16}else if(F===127){this.#l=oe.PAYLOADLENGTH_64}if(this.#c.fragmented&&F>125){Ye(this.ws,"Fragmented frame exceeded 125 bytes.");return}else if((this.#c.opcode===Qe.PING||this.#c.opcode===Qe.PONG||this.#c.opcode===Qe.CLOSE)&&F>125){Ye(this.ws,"Payload length for control frame exceeded 125 bytes.");return}else if(this.#c.opcode===Qe.CLOSE){if(F===1){Ye(this.ws,"Received close frame with a 1-byte body.");return}const b=this.consume(F);this.#c.closeInfo=this.parseCloseBody(false,b);if(!this.ws[We]){const b=Buffer.allocUnsafe(2);b.writeUInt16BE(this.#c.closeInfo.code,0);const B=new Xe(b);this.ws[Ge].socket.write(B.createFrame(Qe.CLOSE),(b=>{if(!b){this.ws[We]=true}}))}this.ws[Le]=Re.CLOSING;this.ws[ze]=true;this.end();return}else if(this.#c.opcode===Qe.PING){const B=this.consume(F);if(!this.ws[ze]){const b=new Xe(B);this.ws[Ge].socket.write(b.createFrame(Qe.PONG));if(et.ping.hasSubscribers){et.ping.publish({payload:B})}}this.#l=oe.INFO;if(this.#a>0){continue}else{b();return}}else if(this.#c.opcode===Qe.PONG){const B=this.consume(F);if(et.pong.hasSubscribers){et.pong.publish({payload:B})}if(this.#a>0){continue}else{b();return}}}else if(this.#l===oe.PAYLOADLENGTH_16){if(this.#a<2){return b()}const B=this.consume(2);this.#c.payloadLength=B.readUInt16BE(0);this.#l=oe.READ_DATA}else if(this.#l===oe.PAYLOADLENGTH_64){if(this.#a<8){return b()}const B=this.consume(8);const F=B.readUInt32BE(0);if(F>2**31-1){Ye(this.ws,"Received payload length > 2^31 bytes.");return}const K=B.readUInt32BE(4);this.#c.payloadLength=(F<<8)+K;this.#l=oe.READ_DATA}else if(this.#l===oe.READ_DATA){if(this.#a<this.#c.payloadLength){return b()}else if(this.#a>=this.#c.payloadLength){const b=this.consume(this.#c.payloadLength);this.#u.push(b);if(!this.#c.fragmented||this.#c.fin&&this.#c.opcode===Qe.CONTINUATION){const b=Buffer.concat(this.#u);Ke(this.ws,this.#c.originalOpcode,b);this.#c={};this.#u.length=0}this.#l=oe.INFO}}if(this.#a>0){continue}else{b();break}}}consume(b){if(b>this.#a){return null}else if(b===0){return Me}if(this.#o[0].length===b){this.#a-=this.#o[0].length;return this.#o.shift()}const B=Buffer.allocUnsafe(b);let F=0;while(F!==b){const K=this.#o[0];const{length:se}=K;if(se+F===b){B.set(this.#o.shift(),F);break}else if(se+F>b){B.set(K.subarray(0,b-F),F);this.#o[0]=K.subarray(b-F);break}else{B.set(this.#o.shift(),F);F+=K.length}}this.#a-=b;return B}parseCloseBody(b,B){let F;if(B.length>=2){F=B.readUInt16BE(0)}if(b){if(!$e(F)){return null}return{code:F}}let K=B.subarray(2);if(K[0]===239&&K[1]===187&&K[2]===191){K=K.subarray(3)}if(F!==undefined&&!$e(F)){return null}try{K=new TextDecoder("utf-8",{fatal:true}).decode(K)}catch{return null}return{code:F,reason:K}}get closingInfo(){return this.#c.closeInfo}}b.exports={ByteParser:ByteParser}},6708:b=>{"use strict";b.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}},8829:(b,B,F)=>{"use strict";const{kReadyState:K,kController:se,kResponse:oe,kBinaryType:Qe,kWebSocketURL:Re}=F(6708);const{states:Me,opcodes:Le}=F(8420);const{MessageEvent:We,ErrorEvent:Ge}=F(6544);function isEstablished(b){return b[K]===Me.OPEN}function isClosing(b){return b[K]===Me.CLOSING}function isClosed(b){return b[K]===Me.CLOSED}function fireEvent(b,B,F=Event,K){const se=new F(b,K);B.dispatchEvent(se)}function websocketMessageReceived(b,B,F){if(b[K]!==Me.OPEN){return}let se;if(B===Le.TEXT){try{se=new TextDecoder("utf-8",{fatal:true}).decode(F)}catch{failWebsocketConnection(b,"Received invalid UTF-8 in text frame.");return}}else if(B===Le.BINARY){if(b[Qe]==="blob"){se=new Blob([F])}else{se=new Uint8Array(F).buffer}}fireEvent("message",b,We,{origin:b[Re].origin,data:se})}function isValidSubprotocol(b){if(b.length===0){return false}for(const B of b){const b=B.charCodeAt(0);if(b<33||b>126||B==="("||B===")"||B==="<"||B===">"||B==="@"||B===","||B===";"||B===":"||B==="\\"||B==='"'||B==="/"||B==="["||B==="]"||B==="?"||B==="="||B==="{"||B==="}"||b===32||b===9){return false}}return true}function isValidStatusCode(b){if(b>=1e3&&b<1015){return b!==1004&&b!==1005&&b!==1006}return b>=3e3&&b<=4999}function failWebsocketConnection(b,B){const{[se]:F,[oe]:K}=b;F.abort();if(K?.socket&&!K.socket.destroyed){K.socket.destroy()}if(B){fireEvent("error",b,Ge,{error:new Error(B)})}}b.exports={isEstablished:isEstablished,isClosing:isClosing,isClosed:isClosed,fireEvent:fireEvent,isValidSubprotocol:isValidSubprotocol,isValidStatusCode:isValidStatusCode,failWebsocketConnection:failWebsocketConnection,websocketMessageReceived:websocketMessageReceived}},7634:(b,B,F)=>{"use strict";const{webidl:K}=F(185);const{DOMException:se}=F(1411);const{URLSerializer:oe}=F(2059);const{getGlobalOrigin:Qe}=F(2071);const{staticPropertyDescriptors:Re,states:Me,opcodes:Le,emptyBuffer:We}=F(8420);const{kWebSocketURL:Ge,kReadyState:ze,kController:$e,kBinaryType:Ye,kResponse:Ke,kSentClose:Xe,kByteParser:et}=F(6708);const{isEstablished:rt,isClosing:it,isValidSubprotocol:ot,failWebsocketConnection:at,fireEvent:lt}=F(8829);const{establishWebSocketConnection:ut}=F(9277);const{WebsocketFrameSend:dt}=F(2308);const{ByteParser:ht}=F(4648);const{kEnumerableProperty:pt,isBlobLike:ft}=F(701);const{getGlobalDispatcher:mt}=F(4662);const{types:vt}=F(9023);let yt=false;class WebSocket extends EventTarget{#d={open:null,error:null,close:null,message:null};#h=0;#p="";#A="";constructor(b,B=[]){super();K.argumentLengthCheck(arguments,1,{header:"WebSocket constructor"});if(!yt){yt=true;process.emitWarning("WebSockets are experimental, expect them to change at any time.",{code:"UNDICI-WS"})}const F=K.converters["DOMString or sequence<DOMString> or WebSocketInit"](B);b=K.converters.USVString(b);B=F.protocols;const oe=Qe();let Re;try{Re=new URL(b,oe)}catch(b){throw new se(b,"SyntaxError")}if(Re.protocol==="http:"){Re.protocol="ws:"}else if(Re.protocol==="https:"){Re.protocol="wss:"}if(Re.protocol!=="ws:"&&Re.protocol!=="wss:"){throw new se(`Expected a ws: or wss: protocol, got ${Re.protocol}`,"SyntaxError")}if(Re.hash||Re.href.endsWith("#")){throw new se("Got fragment","SyntaxError")}if(typeof B==="string"){B=[B]}if(B.length!==new Set(B.map((b=>b.toLowerCase()))).size){throw new se("Invalid Sec-WebSocket-Protocol value","SyntaxError")}if(B.length>0&&!B.every((b=>ot(b)))){throw new se("Invalid Sec-WebSocket-Protocol value","SyntaxError")}this[Ge]=new URL(Re.href);this[$e]=ut(Re,B,this,(b=>this.#f(b)),F);this[ze]=WebSocket.CONNECTING;this[Ye]="blob"}close(b=undefined,B=undefined){K.brandCheck(this,WebSocket);if(b!==undefined){b=K.converters["unsigned short"](b,{clamp:true})}if(B!==undefined){B=K.converters.USVString(B)}if(b!==undefined){if(b!==1e3&&(b<3e3||b>4999)){throw new se("invalid code","InvalidAccessError")}}let F=0;if(B!==undefined){F=Buffer.byteLength(B);if(F>123){throw new se(`Reason must be less than 123 bytes; received ${F}`,"SyntaxError")}}if(this[ze]===WebSocket.CLOSING||this[ze]===WebSocket.CLOSED){}else if(!rt(this)){at(this,"Connection was closed before it was established.");this[ze]=WebSocket.CLOSING}else if(!it(this)){const K=new dt;if(b!==undefined&&B===undefined){K.frameData=Buffer.allocUnsafe(2);K.frameData.writeUInt16BE(b,0)}else if(b!==undefined&&B!==undefined){K.frameData=Buffer.allocUnsafe(2+F);K.frameData.writeUInt16BE(b,0);K.frameData.write(B,2,"utf-8")}else{K.frameData=We}const se=this[Ke].socket;se.write(K.createFrame(Le.CLOSE),(b=>{if(!b){this[Xe]=true}}));this[ze]=Me.CLOSING}else{this[ze]=WebSocket.CLOSING}}send(b){K.brandCheck(this,WebSocket);K.argumentLengthCheck(arguments,1,{header:"WebSocket.send"});b=K.converters.WebSocketSendData(b);if(this[ze]===WebSocket.CONNECTING){throw new se("Sent before connected.","InvalidStateError")}if(!rt(this)||it(this)){return}const B=this[Ke].socket;if(typeof b==="string"){const F=Buffer.from(b);const K=new dt(F);const se=K.createFrame(Le.TEXT);this.#h+=F.byteLength;B.write(se,(()=>{this.#h-=F.byteLength}))}else if(vt.isArrayBuffer(b)){const F=Buffer.from(b);const K=new dt(F);const se=K.createFrame(Le.BINARY);this.#h+=F.byteLength;B.write(se,(()=>{this.#h-=F.byteLength}))}else if(ArrayBuffer.isView(b)){const F=Buffer.from(b,b.byteOffset,b.byteLength);const K=new dt(F);const se=K.createFrame(Le.BINARY);this.#h+=F.byteLength;B.write(se,(()=>{this.#h-=F.byteLength}))}else if(ft(b)){const F=new dt;b.arrayBuffer().then((b=>{const K=Buffer.from(b);F.frameData=K;const se=F.createFrame(Le.BINARY);this.#h+=K.byteLength;B.write(se,(()=>{this.#h-=K.byteLength}))}))}}get readyState(){K.brandCheck(this,WebSocket);return this[ze]}get bufferedAmount(){K.brandCheck(this,WebSocket);return this.#h}get url(){K.brandCheck(this,WebSocket);return oe(this[Ge])}get extensions(){K.brandCheck(this,WebSocket);return this.#A}get protocol(){K.brandCheck(this,WebSocket);return this.#p}get onopen(){K.brandCheck(this,WebSocket);return this.#d.open}set onopen(b){K.brandCheck(this,WebSocket);if(this.#d.open){this.removeEventListener("open",this.#d.open)}if(typeof b==="function"){this.#d.open=b;this.addEventListener("open",b)}else{this.#d.open=null}}get onerror(){K.brandCheck(this,WebSocket);return this.#d.error}set onerror(b){K.brandCheck(this,WebSocket);if(this.#d.error){this.removeEventListener("error",this.#d.error)}if(typeof b==="function"){this.#d.error=b;this.addEventListener("error",b)}else{this.#d.error=null}}get onclose(){K.brandCheck(this,WebSocket);return this.#d.close}set onclose(b){K.brandCheck(this,WebSocket);if(this.#d.close){this.removeEventListener("close",this.#d.close)}if(typeof b==="function"){this.#d.close=b;this.addEventListener("close",b)}else{this.#d.close=null}}get onmessage(){K.brandCheck(this,WebSocket);return this.#d.message}set onmessage(b){K.brandCheck(this,WebSocket);if(this.#d.message){this.removeEventListener("message",this.#d.message)}if(typeof b==="function"){this.#d.message=b;this.addEventListener("message",b)}else{this.#d.message=null}}get binaryType(){K.brandCheck(this,WebSocket);return this[Ye]}set binaryType(b){K.brandCheck(this,WebSocket);if(b!=="blob"&&b!=="arraybuffer"){this[Ye]="blob"}else{this[Ye]=b}}#f(b){this[Ke]=b;const B=new ht(this);B.on("drain",(function onParserDrain(){this.ws[Ke].socket.resume()}));b.socket.ws=this;this[et]=B;this[ze]=Me.OPEN;const F=b.headersList.get("sec-websocket-extensions");if(F!==null){this.#A=F}const K=b.headersList.get("sec-websocket-protocol");if(K!==null){this.#p=K}lt("open",this)}}WebSocket.CONNECTING=WebSocket.prototype.CONNECTING=Me.CONNECTING;WebSocket.OPEN=WebSocket.prototype.OPEN=Me.OPEN;WebSocket.CLOSING=WebSocket.prototype.CLOSING=Me.CLOSING;WebSocket.CLOSED=WebSocket.prototype.CLOSED=Me.CLOSED;Object.defineProperties(WebSocket.prototype,{CONNECTING:Re,OPEN:Re,CLOSING:Re,CLOSED:Re,url:pt,readyState:pt,bufferedAmount:pt,onopen:pt,onerror:pt,onclose:pt,close:pt,onmessage:pt,binaryType:pt,send:pt,extensions:pt,protocol:pt,[Symbol.toStringTag]:{value:"WebSocket",writable:false,enumerable:false,configurable:true}});Object.defineProperties(WebSocket,{CONNECTING:Re,OPEN:Re,CLOSING:Re,CLOSED:Re});K.converters["sequence<DOMString>"]=K.sequenceConverter(K.converters.DOMString);K.converters["DOMString or sequence<DOMString>"]=function(b){if(K.util.Type(b)==="Object"&&Symbol.iterator in b){return K.converters["sequence<DOMString>"](b)}return K.converters.DOMString(b)};K.converters.WebSocketInit=K.dictionaryConverter([{key:"protocols",converter:K.converters["DOMString or sequence<DOMString>"],get defaultValue(){return[]}},{key:"dispatcher",converter:b=>b,get defaultValue(){return mt()}},{key:"headers",converter:K.nullableConverter(K.converters.HeadersInit)}]);K.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(b){if(K.util.Type(b)==="Object"&&!(Symbol.iterator in b)){return K.converters.WebSocketInit(b)}return{protocols:K.converters["DOMString or sequence<DOMString>"](b)}};K.converters.WebSocketSendData=function(b){if(K.util.Type(b)==="Object"){if(ft(b)){return K.converters.Blob(b,{strict:false})}if(ArrayBuffer.isView(b)||vt.isAnyArrayBuffer(b)){return K.converters.BufferSource(b)}}return K.converters.USVString(b)};b.exports={WebSocket:WebSocket}},6866:function(b,B,F){"use strict";var K=this&&this.__createBinding||(Object.create?function(b,B,F,K){if(K===undefined)K=F;var se=Object.getOwnPropertyDescriptor(B,F);if(!se||("get"in se?!B.__esModule:se.writable||se.configurable)){se={enumerable:true,get:function(){return B[F]}}}Object.defineProperty(b,K,se)}:function(b,B,F,K){if(K===undefined)K=F;b[K]=B[F]});var se=this&&this.__setModuleDefault||(Object.create?function(b,B){Object.defineProperty(b,"default",{enumerable:true,value:B})}:function(b,B){b["default"]=B});var oe=this&&this.__importStar||function(){var ownKeys=function(b){ownKeys=Object.getOwnPropertyNames||function(b){var B=[];for(var F in b)if(Object.prototype.hasOwnProperty.call(b,F))B[B.length]=F;return B};return ownKeys(b)};return function(b){if(b&&b.__esModule)return b;var B={};if(b!=null)for(var F=ownKeys(b),oe=0;oe<F.length;oe++)if(F[oe]!=="default")K(B,b,F[oe]);se(B,b);return B}}();var Qe=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(B,"__esModule",{value:true});const Re=oe(F(6966));const Me=F(2851);const Le=Qe(F(1943));const We=Qe(F(6928));const Ge=F(8162);async function ensurePlaywrightBrowsers(){try{Re.startGroup("Installing Playwright browsers");Re.info("Checking and installing Chromium browser...");await(0,Me.exec)("npx",["playwright","install","chromium","--with-deps"]);Re.endGroup()}catch(b){Re.warning("Failed to install Playwright browsers, trying to continue...");throw b}}async function waitForStructurizr(){for(let b=0;b<30;b++){try{const b=await fetch("http://localhost:8080");if(b.ok)return}catch{}await new Promise((b=>setTimeout(b,2e3)))}throw new Error("Timeout waiting for Structurizr Lite to start")}async function exportDiagrams(b){const B=await Ge.chromium.launch({headless:true});const F=await B.newPage();Re.info("Opening Structurizr Lite in browser...");await F.goto("http://localhost:8080",{waitUntil:"networkidle"});const K=await F.evaluate((()=>window.structurizr?.scripting?.getViews()?.map((b=>b.key))||[]));if(K.length===0){throw new Error("No diagrams found in Structurizr workspace")}await Le.default.mkdir(b,{recursive:true});let se=0;const oe=[];for(const B of K){Re.info(`Exporting diagram: ${B}`);await F.evaluate((b=>window.structurizr.scripting.changeView(b)),B);await F.waitForTimeout(500);const K=await F.evaluate((()=>window.structurizr.scripting.exportCurrentDiagramToSVG({includeMetadata:true})));if(K){await Le.default.writeFile(We.default.join(b,`${B}.svg`),K);se++}else{oe.push(B)}}await B.close();if(oe.length>0){Re.warning(`Failed to export ${oe.length} diagrams: ${oe.join(", ")}`)}Re.info(`Successfully exported ${se} diagrams to ${b}`)}async function main(){const b=Re.getInput("structurizr-path")||"docs/structurizr";const B=Re.getInput("output-path")||"docs/images";const F=Re.getInput("structurizr-version")||"latest";try{await ensurePlaywrightBrowsers();Re.startGroup("Starting Structurizr Lite");await(0,Me.exec)("docker",["run","-d","--rm","-p","8080:8080","-v",`${process.cwd()}/${b}:/usr/local/structurizr`,`structurizr/lite:${F}`]);Re.endGroup();await waitForStructurizr();Re.startGroup("Exporting diagrams");await exportDiagrams(B);Re.endGroup()}catch(b){Re.setFailed(b.message)}finally{Re.startGroup("Stopping Structurizr Lite");try{await(0,Me.exec)("bash",["-c","docker stop $(docker ps -q --filter ancestor=structurizr/lite) || true"])}catch{Re.warning("Failed to stop Structurizr container, but continuing")}Re.endGroup()}}main()},8340:module=>{module.exports=eval("require")("bufferutil")},1478:module=>{module.exports=eval("require")("chromium-bidi/lib/cjs/bidiMapper/BidiMapper")},434:module=>{module.exports=eval("require")("chromium-bidi/lib/cjs/cdp/CdpConnection")},8375:module=>{module.exports=eval("require")("electron")},8280:module=>{module.exports=eval("require")("electron/index.js")},2461:module=>{module.exports=eval("require")("utf-8-validate")},2613:b=>{"use strict";b.exports=require("assert")},290:b=>{"use strict";b.exports=require("async_hooks")},181:b=>{"use strict";b.exports=require("buffer")},7698:b=>{"use strict";b.exports=require("child_process")},4236:b=>{"use strict";b.exports=require("console")},9140:b=>{"use strict";b.exports=require("constants")},6982:b=>{"use strict";b.exports=require("crypto")},1637:b=>{"use strict";b.exports=require("diagnostics_channel")},2250:b=>{"use strict";b.exports=require("dns")},4434:b=>{"use strict";b.exports=require("events")},9896:b=>{"use strict";b.exports=require("fs")},1943:b=>{"use strict";b.exports=require("fs/promises")},8611:b=>{"use strict";b.exports=require("http")},5675:b=>{"use strict";b.exports=require("http2")},5692:b=>{"use strict";b.exports=require("https")},264:b=>{"use strict";b.exports=require("inspector")},9278:b=>{"use strict";b.exports=require("net")},1421:b=>{"use strict";b.exports=require("node:child_process")},7598:b=>{"use strict";b.exports=require("node:crypto")},8474:b=>{"use strict";b.exports=require("node:events")},3024:b=>{"use strict";b.exports=require("node:fs")},6760:b=>{"use strict";b.exports=require("node:path")},1708:b=>{"use strict";b.exports=require("node:process")},7075:b=>{"use strict";b.exports=require("node:stream")},7975:b=>{"use strict";b.exports=require("node:util")},857:b=>{"use strict";b.exports=require("os")},6928:b=>{"use strict";b.exports=require("path")},2987:b=>{"use strict";b.exports=require("perf_hooks")},3480:b=>{"use strict";b.exports=require("querystring")},3785:b=>{"use strict";b.exports=require("readline")},2203:b=>{"use strict";b.exports=require("stream")},3774:b=>{"use strict";b.exports=require("stream/web")},3193:b=>{"use strict";b.exports=require("string_decoder")},3557:b=>{"use strict";b.exports=require("timers")},4756:b=>{"use strict";b.exports=require("tls")},2018:b=>{"use strict";b.exports=require("tty")},7016:b=>{"use strict";b.exports=require("url")},9023:b=>{"use strict";b.exports=require("util")},8253:b=>{"use strict";b.exports=require("util/types")},8167:b=>{"use strict";b.exports=require("worker_threads")},3106:b=>{"use strict";b.exports=require("zlib")},2682:(b,B,F)=>{"use strict";const K=F(7075).Writable;const se=F(7975).inherits;const oe=F(5868);const Qe=F(2424);const Re=F(2035);const Me=45;const Le=Buffer.from("-");const We=Buffer.from("\r\n");const EMPTY_FN=function(){};function Dicer(b){if(!(this instanceof Dicer)){return new Dicer(b)}K.call(this,b);if(!b||!b.headerFirst&&typeof b.boundary!=="string"){throw new TypeError("Boundary required")}if(typeof b.boundary==="string"){this.setBoundary(b.boundary)}else{this._bparser=undefined}this._headerFirst=b.headerFirst;this._dashes=0;this._parts=0;this._finished=false;this._realFinish=false;this._isPreamble=true;this._justMatched=false;this._firstWrite=true;this._inHeader=true;this._part=undefined;this._cb=undefined;this._ignoreData=false;this._partOpts={highWaterMark:b.partHwm};this._pause=false;const B=this;this._hparser=new Re(b);this._hparser.on("header",(function(b){B._inHeader=false;B._part.emit("header",b)}))}se(Dicer,K);Dicer.prototype.emit=function(b){if(b==="finish"&&!this._realFinish){if(!this._finished){const b=this;process.nextTick((function(){b.emit("error",new Error("Unexpected end of multipart data"));if(b._part&&!b._ignoreData){const B=b._isPreamble?"Preamble":"Part";b._part.emit("error",new Error(B+" terminated early due to unexpected end of multipart data"));b._part.push(null);process.nextTick((function(){b._realFinish=true;b.emit("finish");b._realFinish=false}));return}b._realFinish=true;b.emit("finish");b._realFinish=false}))}}else{K.prototype.emit.apply(this,arguments)}};Dicer.prototype._write=function(b,B,F){if(!this._hparser&&!this._bparser){return F()}if(this._headerFirst&&this._isPreamble){if(!this._part){this._part=new Qe(this._partOpts);if(this.listenerCount("preamble")!==0){this.emit("preamble",this._part)}else{this._ignore()}}const B=this._hparser.push(b);if(!this._inHeader&&B!==undefined&&B<b.length){b=b.slice(B)}else{return F()}}if(this._firstWrite){this._bparser.push(We);this._firstWrite=false}this._bparser.push(b);if(this._pause){this._cb=F}else{F()}};Dicer.prototype.reset=function(){this._part=undefined;this._bparser=undefined;this._hparser=undefined};Dicer.prototype.setBoundary=function(b){const B=this;this._bparser=new oe("\r\n--"+b);this._bparser.on("info",(function(b,F,K,se){B._oninfo(b,F,K,se)}))};Dicer.prototype._ignore=function(){if(this._part&&!this._ignoreData){this._ignoreData=true;this._part.on("error",EMPTY_FN);this._part.resume()}};Dicer.prototype._oninfo=function(b,B,F,K){let se;const oe=this;let Re=0;let We;let Ge=true;if(!this._part&&this._justMatched&&B){while(this._dashes<2&&F+Re<K){if(B[F+Re]===Me){++Re;++this._dashes}else{if(this._dashes){se=Le}this._dashes=0;break}}if(this._dashes===2){if(F+Re<K&&this.listenerCount("trailer")!==0){this.emit("trailer",B.slice(F+Re,K))}this.reset();this._finished=true;if(oe._parts===0){oe._realFinish=true;oe.emit("finish");oe._realFinish=false}}if(this._dashes){return}}if(this._justMatched){this._justMatched=false}if(!this._part){this._part=new Qe(this._partOpts);this._part._read=function(b){oe._unpause()};if(this._isPreamble&&this.listenerCount("preamble")!==0){this.emit("preamble",this._part)}else if(this._isPreamble!==true&&this.listenerCount("part")!==0){this.emit("part",this._part)}else{this._ignore()}if(!this._isPreamble){this._inHeader=true}}if(B&&F<K&&!this._ignoreData){if(this._isPreamble||!this._inHeader){if(se){Ge=this._part.push(se)}Ge=this._part.push(B.slice(F,K));if(!Ge){this._pause=true}}else if(!this._isPreamble&&this._inHeader){if(se){this._hparser.push(se)}We=this._hparser.push(B.slice(F,K));if(!this._inHeader&&We!==undefined&&We<K){this._oninfo(false,B,F+We,K)}}}if(b){this._hparser.reset();if(this._isPreamble){this._isPreamble=false}else{if(F!==K){++this._parts;this._part.on("end",(function(){if(--oe._parts===0){if(oe._finished){oe._realFinish=true;oe.emit("finish");oe._realFinish=false}else{oe._unpause()}}}))}}this._part.push(null);this._part=undefined;this._ignoreData=false;this._justMatched=true;this._dashes=0}};Dicer.prototype._unpause=function(){if(!this._pause){return}this._pause=false;if(this._cb){const b=this._cb;this._cb=undefined;b()}};b.exports=Dicer},2035:(b,B,F)=>{"use strict";const K=F(8474).EventEmitter;const se=F(7975).inherits;const oe=F(4165);const Qe=F(5868);const Re=Buffer.from("\r\n\r\n");const Me=/\r\n/g;const Le=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function HeaderParser(b){K.call(this);b=b||{};const B=this;this.nread=0;this.maxed=false;this.npairs=0;this.maxHeaderPairs=oe(b,"maxHeaderPairs",2e3);this.maxHeaderSize=oe(b,"maxHeaderSize",80*1024);this.buffer="";this.header={};this.finished=false;this.ss=new Qe(Re);this.ss.on("info",(function(b,F,K,se){if(F&&!B.maxed){if(B.nread+se-K>=B.maxHeaderSize){se=B.maxHeaderSize-B.nread+K;B.nread=B.maxHeaderSize;B.maxed=true}else{B.nread+=se-K}B.buffer+=F.toString("binary",K,se)}if(b){B._finish()}}))}se(HeaderParser,K);HeaderParser.prototype.push=function(b){const B=this.ss.push(b);if(this.finished){return B}};HeaderParser.prototype.reset=function(){this.finished=false;this.buffer="";this.header={};this.ss.reset()};HeaderParser.prototype._finish=function(){if(this.buffer){this._parseHeader()}this.ss.matches=this.ss.maxMatches;const b=this.header;this.header={};this.buffer="";this.finished=true;this.nread=this.npairs=0;this.maxed=false;this.emit("header",b)};HeaderParser.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs){return}const b=this.buffer.split(Me);const B=b.length;let F,K;for(var se=0;se<B;++se){if(b[se].length===0){continue}if(b[se][0]==="\t"||b[se][0]===" "){if(K){this.header[K][this.header[K].length-1]+=b[se];continue}}const B=b[se].indexOf(":");if(B===-1||B===0){return}F=Le.exec(b[se]);K=F[1].toLowerCase();this.header[K]=this.header[K]||[];this.header[K].push(F[2]||"");if(++this.npairs===this.maxHeaderPairs){break}}};b.exports=HeaderParser},2424:(b,B,F)=>{"use strict";const K=F(7975).inherits;const se=F(7075).Readable;function PartStream(b){se.call(this,b)}K(PartStream,se);PartStream.prototype._read=function(b){};b.exports=PartStream},5868:(b,B,F)=>{"use strict";const K=F(8474).EventEmitter;const se=F(7975).inherits;function SBMH(b){if(typeof b==="string"){b=Buffer.from(b)}if(!Buffer.isBuffer(b)){throw new TypeError("The needle has to be a String or a Buffer.")}const B=b.length;if(B===0){throw new Error("The needle cannot be an empty String/Buffer.")}if(B>256){throw new Error("The needle cannot have a length bigger than 256.")}this.maxMatches=Infinity;this.matches=0;this._occ=new Array(256).fill(B);this._lookbehind_size=0;this._needle=b;this._bufpos=0;this._lookbehind=Buffer.alloc(B);for(var F=0;F<B-1;++F){this._occ[b[F]]=B-1-F}}se(SBMH,K);SBMH.prototype.reset=function(){this._lookbehind_size=0;this.matches=0;this._bufpos=0};SBMH.prototype.push=function(b,B){if(!Buffer.isBuffer(b)){b=Buffer.from(b,"binary")}const F=b.length;this._bufpos=B||0;let K;while(K!==F&&this.matches<this.maxMatches){K=this._sbmh_feed(b)}return K};SBMH.prototype._sbmh_feed=function(b){const B=b.length;const F=this._needle;const K=F.length;const se=F[K-1];let oe=-this._lookbehind_size;let Qe;if(oe<0){while(oe<0&&oe<=B-K){Qe=this._sbmh_lookup_char(b,oe+K-1);if(Qe===se&&this._sbmh_memcmp(b,oe,K-1)){this._lookbehind_size=0;++this.matches;this.emit("info",true);return this._bufpos=oe+K}oe+=this._occ[Qe]}if(oe<0){while(oe<0&&!this._sbmh_memcmp(b,oe,B-oe)){++oe}}if(oe>=0){this.emit("info",false,this._lookbehind,0,this._lookbehind_size);this._lookbehind_size=0}else{const F=this._lookbehind_size+oe;if(F>0){this.emit("info",false,this._lookbehind,0,F)}this._lookbehind.copy(this._lookbehind,0,F,this._lookbehind_size-F);this._lookbehind_size-=F;b.copy(this._lookbehind,this._lookbehind_size);this._lookbehind_size+=B;this._bufpos=B;return B}}oe+=(oe>=0)*this._bufpos;if(b.indexOf(F,oe)!==-1){oe=b.indexOf(F,oe);++this.matches;if(oe>0){this.emit("info",true,b,this._bufpos,oe)}else{this.emit("info",true)}return this._bufpos=oe+K}else{oe=B-K}while(oe<B&&(b[oe]!==F[0]||Buffer.compare(b.subarray(oe,oe+B-oe),F.subarray(0,B-oe))!==0)){++oe}if(oe<B){b.copy(this._lookbehind,0,oe,oe+(B-oe));this._lookbehind_size=B-oe}if(oe>0){this.emit("info",false,b,this._bufpos,oe<B?oe:B)}this._bufpos=B;return B};SBMH.prototype._sbmh_lookup_char=function(b,B){return B<0?this._lookbehind[this._lookbehind_size+B]:b[B]};SBMH.prototype._sbmh_memcmp=function(b,B,F){for(var K=0;K<F;++K){if(this._sbmh_lookup_char(b,B+K)!==this._needle[K]){return false}}return true};b.exports=SBMH},2105:(b,B,F)=>{"use strict";const K=F(7075).Writable;const{inherits:se}=F(7975);const oe=F(2682);const Qe=F(3548);const Re=F(5915);const Me=F(1493);function Busboy(b){if(!(this instanceof Busboy)){return new Busboy(b)}if(typeof b!=="object"){throw new TypeError("Busboy expected an options-Object.")}if(typeof b.headers!=="object"){throw new TypeError("Busboy expected an options-Object with headers-attribute.")}if(typeof b.headers["content-type"]!=="string"){throw new TypeError("Missing Content-Type-header.")}const{headers:B,...F}=b;this.opts={autoDestroy:false,...F};K.call(this,this.opts);this._done=false;this._parser=this.getParserByHeaders(B);this._finished=false}se(Busboy,K);Busboy.prototype.emit=function(b){if(b==="finish"){if(!this._done){this._parser?.end();return}else if(this._finished){return}this._finished=true}K.prototype.emit.apply(this,arguments)};Busboy.prototype.getParserByHeaders=function(b){const B=Me(b["content-type"]);const F={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:b,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:B,preservePath:this.opts.preservePath};if(Qe.detect.test(B[0])){return new Qe(this,F)}if(Re.detect.test(B[0])){return new Re(this,F)}throw new Error("Unsupported Content-Type.")};Busboy.prototype._write=function(b,B,F){this._parser.write(b,F)};b.exports=Busboy;b.exports["default"]=Busboy;b.exports.Busboy=Busboy;b.exports.Dicer=oe},3548:(b,B,F)=>{"use strict";const{Readable:K}=F(7075);const{inherits:se}=F(7975);const oe=F(2682);const Qe=F(1493);const Re=F(7015);const Me=F(1744);const Le=F(4165);const We=/^boundary$/i;const Ge=/^form-data$/i;const ze=/^charset$/i;const $e=/^filename$/i;const Ye=/^name$/i;Multipart.detect=/^multipart\/form-data/i;function Multipart(b,B){let F;let K;const se=this;let Ke;const Xe=B.limits;const et=B.isPartAFile||((b,B,F)=>B==="application/octet-stream"||F!==undefined);const rt=B.parsedConType||[];const it=B.defCharset||"utf8";const ot=B.preservePath;const at={highWaterMark:B.fileHwm};for(F=0,K=rt.length;F<K;++F){if(Array.isArray(rt[F])&&We.test(rt[F][0])){Ke=rt[F][1];break}}function checkFinished(){if(wt===0&&xt&&!b._done){xt=false;se.end()}}if(typeof Ke!=="string"){throw new Error("Multipart: Boundary not found")}const lt=Le(Xe,"fieldSize",1*1024*1024);const ut=Le(Xe,"fileSize",Infinity);const dt=Le(Xe,"files",Infinity);const ht=Le(Xe,"fields",Infinity);const pt=Le(Xe,"parts",Infinity);const ft=Le(Xe,"headerPairs",2e3);const mt=Le(Xe,"headerSize",80*1024);let vt=0;let yt=0;let wt=0;let _t;let It;let xt=false;this._needDrain=false;this._pause=false;this._cb=undefined;this._nparts=0;this._boy=b;const Qt={boundary:Ke,maxHeaderPairs:ft,maxHeaderSize:mt,partHwm:at.highWaterMark,highWaterMark:B.highWaterMark};this.parser=new oe(Qt);this.parser.on("drain",(function(){se._needDrain=false;if(se._cb&&!se._pause){const b=se._cb;se._cb=undefined;b()}})).on("part",(function onPart(B){if(++se._nparts>pt){se.parser.removeListener("part",onPart);se.parser.on("part",skipPart);b.hitPartsLimit=true;b.emit("partsLimit");return skipPart(B)}if(It){const b=It;b.emit("end");b.removeAllListeners("end")}B.on("header",(function(oe){let Le;let We;let Ke;let Xe;let rt;let pt;let ft=0;if(oe["content-type"]){Ke=Qe(oe["content-type"][0]);if(Ke[0]){Le=Ke[0].toLowerCase();for(F=0,K=Ke.length;F<K;++F){if(ze.test(Ke[F][0])){Xe=Ke[F][1].toLowerCase();break}}}}if(Le===undefined){Le="text/plain"}if(Xe===undefined){Xe=it}if(oe["content-disposition"]){Ke=Qe(oe["content-disposition"][0]);if(!Ge.test(Ke[0])){return skipPart(B)}for(F=0,K=Ke.length;F<K;++F){if(Ye.test(Ke[F][0])){We=Ke[F][1]}else if($e.test(Ke[F][0])){pt=Ke[F][1];if(!ot){pt=Me(pt)}}}}else{return skipPart(B)}if(oe["content-transfer-encoding"]){rt=oe["content-transfer-encoding"][0].toLowerCase()}else{rt="7bit"}let mt,xt;if(et(We,Le,pt)){if(vt===dt){if(!b.hitFilesLimit){b.hitFilesLimit=true;b.emit("filesLimit")}return skipPart(B)}++vt;if(b.listenerCount("file")===0){se.parser._ignore();return}++wt;const F=new FileStream(at);_t=F;F.on("end",(function(){--wt;se._pause=false;checkFinished();if(se._cb&&!se._needDrain){const b=se._cb;se._cb=undefined;b()}}));F._read=function(b){if(!se._pause){return}se._pause=false;if(se._cb&&!se._needDrain){const b=se._cb;se._cb=undefined;b()}};b.emit("file",We,F,pt,rt,Le);mt=function(b){if((ft+=b.length)>ut){const K=ut-ft+b.length;if(K>0){F.push(b.slice(0,K))}F.truncated=true;F.bytesRead=ut;B.removeAllListeners("data");F.emit("limit");return}else if(!F.push(b)){se._pause=true}F.bytesRead=ft};xt=function(){_t=undefined;F.push(null)}}else{if(yt===ht){if(!b.hitFieldsLimit){b.hitFieldsLimit=true;b.emit("fieldsLimit")}return skipPart(B)}++yt;++wt;let F="";let K=false;It=B;mt=function(b){if((ft+=b.length)>lt){const se=lt-(ft-b.length);F+=b.toString("binary",0,se);K=true;B.removeAllListeners("data")}else{F+=b.toString("binary")}};xt=function(){It=undefined;if(F.length){F=Re(F,"binary",Xe)}b.emit("field",We,F,false,K,rt,Le);--wt;checkFinished()}}B._readableState.sync=false;B.on("data",mt);B.on("end",xt)})).on("error",(function(b){if(_t){_t.emit("error",b)}}))})).on("error",(function(B){b.emit("error",B)})).on("finish",(function(){xt=true;checkFinished()}))}Multipart.prototype.write=function(b,B){const F=this.parser.write(b);if(F&&!this._pause){B()}else{this._needDrain=!F;this._cb=B}};Multipart.prototype.end=function(){const b=this;if(b.parser.writable){b.parser.end()}else if(!b._boy._done){process.nextTick((function(){b._boy._done=true;b._boy.emit("finish")}))}};function skipPart(b){b.resume()}function FileStream(b){K.call(this,b);this.bytesRead=0;this.truncated=false}se(FileStream,K);FileStream.prototype._read=function(b){};b.exports=Multipart},5915:(b,B,F)=>{"use strict";const K=F(5332);const se=F(7015);const oe=F(4165);const Qe=/^charset$/i;UrlEncoded.detect=/^application\/x-www-form-urlencoded/i;function UrlEncoded(b,B){const F=B.limits;const se=B.parsedConType;this.boy=b;this.fieldSizeLimit=oe(F,"fieldSize",1*1024*1024);this.fieldNameSizeLimit=oe(F,"fieldNameSize",100);this.fieldsLimit=oe(F,"fields",Infinity);let Re;for(var Me=0,Le=se.length;Me<Le;++Me){if(Array.isArray(se[Me])&&Qe.test(se[Me][0])){Re=se[Me][1].toLowerCase();break}}if(Re===undefined){Re=B.defCharset||"utf8"}this.decoder=new K;this.charset=Re;this._fields=0;this._state="key";this._checkingBytes=true;this._bytesKey=0;this._bytesVal=0;this._key="";this._val="";this._keyTrunc=false;this._valTrunc=false;this._hitLimit=false}UrlEncoded.prototype.write=function(b,B){if(this._fields===this.fieldsLimit){if(!this.boy.hitFieldsLimit){this.boy.hitFieldsLimit=true;this.boy.emit("fieldsLimit")}return B()}let F;let K;let oe;let Qe=0;const Re=b.length;while(Qe<Re){if(this._state==="key"){F=K=undefined;for(oe=Qe;oe<Re;++oe){if(!this._checkingBytes){++Qe}if(b[oe]===61){F=oe;break}else if(b[oe]===38){K=oe;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=true;break}else if(this._checkingBytes){++this._bytesKey}}if(F!==undefined){if(F>Qe){this._key+=this.decoder.write(b.toString("binary",Qe,F))}this._state="val";this._hitLimit=false;this._checkingBytes=true;this._val="";this._bytesVal=0;this._valTrunc=false;this.decoder.reset();Qe=F+1}else if(K!==undefined){++this._fields;let F;const oe=this._keyTrunc;if(K>Qe){F=this._key+=this.decoder.write(b.toString("binary",Qe,K))}else{F=this._key}this._hitLimit=false;this._checkingBytes=true;this._key="";this._bytesKey=0;this._keyTrunc=false;this.decoder.reset();if(F.length){this.boy.emit("field",se(F,"binary",this.charset),"",oe,false)}Qe=K+1;if(this._fields===this.fieldsLimit){return B()}}else if(this._hitLimit){if(oe>Qe){this._key+=this.decoder.write(b.toString("binary",Qe,oe))}Qe=oe;if((this._bytesKey=this._key.length)===this.fieldNameSizeLimit){this._checkingBytes=false;this._keyTrunc=true}}else{if(Qe<Re){this._key+=this.decoder.write(b.toString("binary",Qe))}Qe=Re}}else{K=undefined;for(oe=Qe;oe<Re;++oe){if(!this._checkingBytes){++Qe}if(b[oe]===38){K=oe;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=true;break}else if(this._checkingBytes){++this._bytesVal}}if(K!==undefined){++this._fields;if(K>Qe){this._val+=this.decoder.write(b.toString("binary",Qe,K))}this.boy.emit("field",se(this._key,"binary",this.charset),se(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc);this._state="key";this._hitLimit=false;this._checkingBytes=true;this._key="";this._bytesKey=0;this._keyTrunc=false;this.decoder.reset();Qe=K+1;if(this._fields===this.fieldsLimit){return B()}}else if(this._hitLimit){if(oe>Qe){this._val+=this.decoder.write(b.toString("binary",Qe,oe))}Qe=oe;if(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit){this._checkingBytes=false;this._valTrunc=true}}else{if(Qe<Re){this._val+=this.decoder.write(b.toString("binary",Qe))}Qe=Re}}}B()};UrlEncoded.prototype.end=function(){if(this.boy._done){return}if(this._state==="key"&&this._key.length>0){this.boy.emit("field",se(this._key,"binary",this.charset),"",this._keyTrunc,false)}else if(this._state==="val"){this.boy.emit("field",se(this._key,"binary",this.charset),se(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc)}this.boy._done=true;this.boy.emit("finish")};b.exports=UrlEncoded},5332:b=>{"use strict";const B=/\+/g;const F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Decoder(){this.buffer=undefined}Decoder.prototype.write=function(b){b=b.replace(B," ");let K="";let se=0;let oe=0;const Qe=b.length;for(;se<Qe;++se){if(this.buffer!==undefined){if(!F[b.charCodeAt(se)]){K+="%"+this.buffer;this.buffer=undefined;--se}else{this.buffer+=b[se];++oe;if(this.buffer.length===2){K+=String.fromCharCode(parseInt(this.buffer,16));this.buffer=undefined}}}else if(b[se]==="%"){if(se>oe){K+=b.substring(oe,se);oe=se}this.buffer="";++oe}}if(oe<Qe&&this.buffer===undefined){K+=b.substring(oe)}return K};Decoder.prototype.reset=function(){this.buffer=undefined};b.exports=Decoder},1744:b=>{"use strict";b.exports=function basename(b){if(typeof b!=="string"){return""}for(var B=b.length-1;B>=0;--B){switch(b.charCodeAt(B)){case 47:case 92:b=b.slice(B+1);return b===".."||b==="."?"":b}}return b===".."||b==="."?"":b}},7015:function(b){"use strict";const B=new TextDecoder("utf-8");const F=new Map([["utf-8",B],["utf8",B]]);function getDecoder(b){let B;while(true){switch(b){case"utf-8":case"utf8":return K.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return K.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return K.utf16le;case"base64":return K.base64;default:if(B===undefined){B=true;b=b.toLowerCase();continue}return K.other.bind(b)}}}const K={utf8:(b,B)=>{if(b.length===0){return""}if(typeof b==="string"){b=Buffer.from(b,B)}return b.utf8Slice(0,b.length)},latin1:(b,B)=>{if(b.length===0){return""}if(typeof b==="string"){return b}return b.latin1Slice(0,b.length)},utf16le:(b,B)=>{if(b.length===0){return""}if(typeof b==="string"){b=Buffer.from(b,B)}return b.ucs2Slice(0,b.length)},base64:(b,B)=>{if(b.length===0){return""}if(typeof b==="string"){b=Buffer.from(b,B)}return b.base64Slice(0,b.length)},other:(b,B)=>{if(b.length===0){return""}if(typeof b==="string"){b=Buffer.from(b,B)}if(F.has(this.toString())){try{return F.get(this).decode(b)}catch{}}return typeof b==="string"?b:b.toString()}};function decodeText(b,B,F){if(b){return getDecoder(F)(b,B)}return b}b.exports=decodeText},4165:b=>{"use strict";b.exports=function getLimit(b,B,F){if(!b||b[B]===undefined||b[B]===null){return F}if(typeof b[B]!=="number"||isNaN(b[B])){throw new TypeError("Limit "+B+" is not a valid number")}return b[B]}},1493:(b,B,F)=>{"use strict";const K=F(7015);const se=/%[a-fA-F0-9][a-fA-F0-9]/g;const oe={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"","%08":"\b","%09":"\t","%0a":"\n","%0A":"\n","%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"","%1B":"","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"","%7F":"","%80":"","%81":"","%82":"","%83":"","%84":"","%85":"","%86":"","%87":"","%88":"","%89":"","%8a":"","%8A":"","%8b":"","%8B":"","%8c":"","%8C":"","%8d":"","%8D":"","%8e":"","%8E":"","%8f":"","%8F":"","%90":"","%91":"","%92":"","%93":"","%94":"","%95":"","%96":"","%97":"","%98":"","%99":"","%9a":"","%9A":"","%9b":"","%9B":"","%9c":"","%9C":"","%9d":"","%9D":"","%9e":"","%9E":"","%9f":"","%9F":"","%a0":"","%A0":"","%a1":"","%A1":"","%a2":"","%A2":"","%a3":"","%A3":"","%a4":"","%A4":"","%a5":"","%A5":"","%a6":"","%A6":"","%a7":"","%A7":"","%a8":"","%A8":"","%a9":"","%A9":"","%aa":"","%Aa":"","%aA":"","%AA":"","%ab":"","%Ab":"","%aB":"","%AB":"","%ac":"","%Ac":"","%aC":"","%AC":"","%ad":"","%Ad":"","%aD":"","%AD":"","%ae":"","%Ae":"","%aE":"","%AE":"","%af":"","%Af":"","%aF":"","%AF":"","%b0":"","%B0":"","%b1":"","%B1":"","%b2":"","%B2":"","%b3":"","%B3":"","%b4":"","%B4":"","%b5":"","%B5":"","%b6":"","%B6":"","%b7":"","%B7":"","%b8":"","%B8":"","%b9":"","%B9":"","%ba":"","%Ba":"","%bA":"","%BA":"","%bb":"","%Bb":"","%bB":"","%BB":"","%bc":"","%Bc":"","%bC":"","%BC":"","%bd":"","%Bd":"","%bD":"","%BD":"","%be":"","%Be":"","%bE":"","%BE":"","%bf":"","%Bf":"","%bF":"","%BF":"","%c0":"","%C0":"","%c1":"","%C1":"","%c2":"","%C2":"","%c3":"","%C3":"","%c4":"","%C4":"","%c5":"","%C5":"","%c6":"","%C6":"","%c7":"","%C7":"","%c8":"","%C8":"","%c9":"","%C9":"","%ca":"","%Ca":"","%cA":"","%CA":"","%cb":"","%Cb":"","%cB":"","%CB":"","%cc":"","%Cc":"","%cC":"","%CC":"","%cd":"","%Cd":"","%cD":"","%CD":"","%ce":"","%Ce":"","%cE":"","%CE":"","%cf":"","%Cf":"","%cF":"","%CF":"","%d0":"","%D0":"","%d1":"","%D1":"","%d2":"","%D2":"","%d3":"","%D3":"","%d4":"","%D4":"","%d5":"","%D5":"","%d6":"","%D6":"","%d7":"","%D7":"","%d8":"","%D8":"","%d9":"","%D9":"","%da":"","%Da":"","%dA":"","%DA":"","%db":"","%Db":"","%dB":"","%DB":"","%dc":"","%Dc":"","%dC":"","%DC":"","%dd":"","%Dd":"","%dD":"","%DD":"","%de":"","%De":"","%dE":"","%DE":"","%df":"","%Df":"","%dF":"","%DF":"","%e0":"","%E0":"","%e1":"","%E1":"","%e2":"","%E2":"","%e3":"","%E3":"","%e4":"","%E4":"","%e5":"","%E5":"","%e6":"","%E6":"","%e7":"","%E7":"","%e8":"","%E8":"","%e9":"","%E9":"","%ea":"","%Ea":"","%eA":"","%EA":"","%eb":"","%Eb":"","%eB":"","%EB":"","%ec":"","%Ec":"","%eC":"","%EC":"","%ed":"","%Ed":"","%eD":"","%ED":"","%ee":"","%Ee":"","%eE":"","%EE":"","%ef":"","%Ef":"","%eF":"","%EF":"","%f0":"","%F0":"","%f1":"","%F1":"","%f2":"","%F2":"","%f3":"","%F3":"","%f4":"","%F4":"","%f5":"","%F5":"","%f6":"","%F6":"","%f7":"","%F7":"","%f8":"","%F8":"","%f9":"","%F9":"","%fa":"","%Fa":"","%fA":"","%FA":"","%fb":"","%Fb":"","%fB":"","%FB":"","%fc":"","%Fc":"","%fC":"","%FC":"","%fd":"","%Fd":"","%fD":"","%FD":"","%fe":"","%Fe":"","%fE":"","%FE":"","%ff":"","%Ff":"","%fF":"","%FF":""};function encodedReplacer(b){return oe[b]}const Qe=0;const Re=1;const Me=2;const Le=3;function parseParams(b){const B=[];let F=Qe;let oe="";let We=false;let Ge=false;let ze=0;let $e="";const Ye=b.length;for(var Ke=0;Ke<Ye;++Ke){const Ye=b[Ke];if(Ye==="\\"&&We){if(Ge){Ge=false}else{Ge=true;continue}}else if(Ye==='"'){if(!Ge){if(We){We=false;F=Qe}else{We=true}continue}else{Ge=false}}else{if(Ge&&We){$e+="\\"}Ge=false;if((F===Me||F===Le)&&Ye==="'"){if(F===Me){F=Le;oe=$e.substring(1)}else{F=Re}$e="";continue}else if(F===Qe&&(Ye==="*"||Ye==="=")&&B.length){F=Ye==="*"?Me:Re;B[ze]=[$e,undefined];$e="";continue}else if(!We&&Ye===";"){F=Qe;if(oe){if($e.length){$e=K($e.replace(se,encodedReplacer),"binary",oe)}oe=""}else if($e.length){$e=K($e,"binary","utf8")}if(B[ze]===undefined){B[ze]=$e}else{B[ze][1]=$e}$e="";++ze;continue}else if(!We&&(Ye===" "||Ye==="\t")){continue}}$e+=Ye}if(oe&&$e.length){$e=K($e.replace(se,encodedReplacer),"binary",oe)}else if($e){$e=K($e,"binary","utf8")}if(B[ze]===undefined){if($e){B[ze]=$e}}else{B[ze][1]=$e}return B}b.exports=parseParams},3816:b=>{"use strict";b.exports=JSON.parse('{"comment":"Do not edit this file, use utils/roll_browser.js","browsers":[{"name":"chromium","revision":"1200","installByDefault":true,"browserVersion":"143.0.7499.4"},{"name":"chromium-headless-shell","revision":"1200","installByDefault":true,"browserVersion":"143.0.7499.4"},{"name":"chromium-tip-of-tree","revision":"1380","installByDefault":false,"browserVersion":"143.0.7488.0"},{"name":"chromium-tip-of-tree-headless-shell","revision":"1380","installByDefault":false,"browserVersion":"143.0.7488.0"},{"name":"firefox","revision":"1497","installByDefault":true,"browserVersion":"144.0.2"},{"name":"firefox-beta","revision":"1493","installByDefault":false,"browserVersion":"145.0b10"},{"name":"webkit","revision":"2227","installByDefault":true,"revisionOverrides":{"debian11-x64":"2105","debian11-arm64":"2105","mac10.14":"1446","mac10.15":"1616","mac11":"1816","mac11-arm64":"1816","mac12":"2009","mac12-arm64":"2009","mac13":"2140","mac13-arm64":"2140","ubuntu20.04-x64":"2092","ubuntu20.04-arm64":"2092"},"browserVersion":"26.0"},{"name":"ffmpeg","revision":"1011","installByDefault":true,"revisionOverrides":{"mac12":"1010","mac12-arm64":"1010"}},{"name":"winldd","revision":"1007","installByDefault":false},{"name":"android","revision":"1001","installByDefault":false}]}')},756:b=>{"use strict";b.exports=JSON.parse('{"Blackberry PlayBook":{"userAgent":"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/26.0 Safari/536.2+","viewport":{"width":600,"height":1024},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Blackberry PlayBook landscape":{"userAgent":"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/26.0 Safari/536.2+","viewport":{"width":1024,"height":600},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"BlackBerry Z30":{"userAgent":"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/26.0 Mobile Safari/537.10+","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"BlackBerry Z30 landscape":{"userAgent":"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/26.0 Mobile Safari/537.10+","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note 3":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note 3 landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note II":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note II landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S III":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S III landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S5":{"userAgent":"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S8":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":360,"height":740},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S8 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":740,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S9+":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":320,"height":658},"deviceScaleFactor":4.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S9+ landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":658,"height":320},"deviceScaleFactor":4.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S24":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-S921U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":360,"height":780},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S24 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-S921U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":780,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy A55":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-A556B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":480,"height":1040},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy A55 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-A556B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":1040,"height":480},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S4":{"userAgent":"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","viewport":{"width":712,"height":1138},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","viewport":{"width":1138,"height":712},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S9":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-X710) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","viewport":{"width":640,"height":1024},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S9 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-X710) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","viewport":{"width":1024,"height":640},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"iPad (gen 5)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 5) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 6)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 6) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 7)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":810,"height":1080},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 7) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1080,"height":810},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 11)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/604.1","viewport":{"width":656,"height":944},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 11) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/604.1","viewport":{"width":944,"height":656},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Mini":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Mini landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Pro 11":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":834,"height":1194},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Pro 11 landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1194,"height":834},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/14E304 Safari/602.1","viewport":{"width":320,"height":568},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/14E304 Safari/602.1","viewport":{"width":568,"height":320},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE (3rd gen)":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/602.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE (3rd gen) landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/602.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone X":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":812},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone X landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":812,"height":375},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone XR":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":414,"height":896},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone XR landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":896,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":414,"height":715},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":800,"height":364},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":635},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":724,"height":325},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":414,"height":715},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":808,"height":364},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":378},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Mini":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":629},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Mini landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":712,"height":325},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":342},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":342},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Mini":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":629},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Mini landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":712,"height":327},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":378},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":660},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":740},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":659},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":739},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":659},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":739},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Kindle Fire HDX":{"userAgent":"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true","viewport":{"width":800,"height":1280},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Kindle Fire HDX landscape":{"userAgent":"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true","viewport":{"width":1280,"height":800},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"LG Optimus L70":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":384,"height":640},"deviceScaleFactor":1.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"LG Optimus L70 landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":640,"height":384},"deviceScaleFactor":1.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 550":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 550 landscape":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 950":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":360,"height":640},"deviceScaleFactor":4,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 950 landscape":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":640,"height":360},"deviceScaleFactor":4,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 10":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","viewport":{"width":800,"height":1280},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 10 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","viewport":{"width":1280,"height":800},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 4":{"userAgent":"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":384,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":640,"height":384},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5X":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5X landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6":{"userAgent":"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6P":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6P landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 7":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","viewport":{"width":600,"height":960},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 7 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","viewport":{"width":960,"height":600},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia Lumia 520":{"userAgent":"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)","viewport":{"width":320,"height":533},"deviceScaleFactor":1.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia Lumia 520 landscape":{"userAgent":"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)","viewport":{"width":533,"height":320},"deviceScaleFactor":1.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia N9":{"userAgent":"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13","viewport":{"width":480,"height":854},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Nokia N9 landscape":{"userAgent":"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13","viewport":{"width":854,"height":480},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Pixel 2":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":411,"height":731},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":731,"height":411},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 XL":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":411,"height":823},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 XL landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":823,"height":411},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 3":{"userAgent":"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":393,"height":786},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 3 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":786,"height":393},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4":{"userAgent":"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":353,"height":745},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":745,"height":353},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4a (5G)":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","screen":{"width":412,"height":892},"viewport":{"width":412,"height":765},"deviceScaleFactor":2.63,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4a (5G) landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","screen":{"height":892,"width":412},"viewport":{"width":840,"height":312},"deviceScaleFactor":2.63,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 5":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","screen":{"width":393,"height":851},"viewport":{"width":393,"height":727},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","screen":{"width":851,"height":393},"viewport":{"width":802,"height":293},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 7":{"userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","screen":{"width":412,"height":915},"viewport":{"width":412,"height":839},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 7 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","screen":{"width":915,"height":412},"viewport":{"width":863,"height":360},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Moto G4":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Moto G4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Desktop Chrome HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Edge HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36 Edg/143.0.7499.4","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Firefox HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0.2) Gecko/20100101 Firefox/144.0.2","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"firefox"},"Desktop Safari":{"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Safari/605.1.15","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"webkit"},"Desktop Chrome":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Edge":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.7499.4 Safari/537.36 Edg/143.0.7499.4","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Firefox":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0.2) Gecko/20100101 Firefox/144.0.2","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"firefox"}}')},9975:b=>{"use strict";b.exports={rE:"1.57.0"}}};var __webpack_module_cache__={};function __nccwpck_require__(b){var B=__webpack_module_cache__[b];if(B!==undefined){return B.exports}var F=__webpack_module_cache__[b]={exports:{}};var K=true;try{__webpack_modules__[b].call(F.exports,F,F.exports,__nccwpck_require__);K=false}finally{if(K)delete __webpack_module_cache__[b]}return F.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__=__nccwpck_require__(6866);module.exports=__webpack_exports__})();