(()=>{var __webpack_modules__={4568:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;var pe=Object.getOwnPropertyDescriptor(B,G);if(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable)){pe={enumerable:true,get:function(){return B[G]}}}Object.defineProperty(w,K,pe)}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.prototype.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};Object.defineProperty(B,"__esModule",{value:true});B.issue=B.issueCommand=void 0;const Se=ye(G(857));const Be=G(6924);function issueCommand(w,B,G){const K=new Command(w,B,G);process.stdout.write(K.toString()+Se.EOL)}B.issueCommand=issueCommand;function issue(w,B=""){issueCommand(w,{},B)}B.issue=issue;const Qe="::";class Command{constructor(w,B,G){if(!w){w="missing.command"}this.command=w;this.properties=B;this.message=G}toString(){let w=Qe+this.command;if(this.properties&&Object.keys(this.properties).length>0){w+=" ";let B=true;for(const G in this.properties){if(this.properties.hasOwnProperty(G)){const K=this.properties[G];if(K){if(B){B=false}else{w+=","}w+=`${G}=${escapeProperty(K)}`}}}}w+=`${Qe}${escapeData(this.message)}`;return w}}function escapeData(w){return(0,Be.toCommandValue)(w).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(w){return(0,Be.toCommandValue)(w).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},6966:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;var pe=Object.getOwnPropertyDescriptor(B,G);if(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable)){pe={enumerable:true,get:function(){return B[G]}}}Object.defineProperty(w,K,pe)}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.prototype.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};var Se=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.platform=B.toPlatformPath=B.toWin32Path=B.toPosixPath=B.markdownSummary=B.summary=B.getIDToken=B.getState=B.saveState=B.group=B.endGroup=B.startGroup=B.info=B.notice=B.warning=B.error=B.debug=B.isDebug=B.setFailed=B.setCommandEcho=B.setOutput=B.getBooleanInput=B.getMultilineInput=B.getInput=B.addPath=B.setSecret=B.exportVariable=B.ExitCode=void 0;const Be=G(4568);const Qe=G(2751);const Pe=G(6924);const Fe=ye(G(857));const Me=ye(G(6928));const Le=G(8492);var je;(function(w){w[w["Success"]=0]="Success";w[w["Failure"]=1]="Failure"})(je||(B.ExitCode=je={}));function exportVariable(w,B){const G=(0,Pe.toCommandValue)(B);process.env[w]=G;const K=process.env["GITHUB_ENV"]||"";if(K){return(0,Qe.issueFileCommand)("ENV",(0,Qe.prepareKeyValueMessage)(w,B))}(0,Be.issueCommand)("set-env",{name:w},G)}B.exportVariable=exportVariable;function setSecret(w){(0,Be.issueCommand)("add-mask",{},w)}B.setSecret=setSecret;function addPath(w){const B=process.env["GITHUB_PATH"]||"";if(B){(0,Qe.issueFileCommand)("PATH",w)}else{(0,Be.issueCommand)("add-path",{},w)}process.env["PATH"]=`${w}${Me.delimiter}${process.env["PATH"]}`}B.addPath=addPath;function getInput(w,B){const G=process.env[`INPUT_${w.replace(/ /g,"_").toUpperCase()}`]||"";if(B&&B.required&&!G){throw new Error(`Input required and not supplied: ${w}`)}if(B&&B.trimWhitespace===false){return G}return G.trim()}B.getInput=getInput;function getMultilineInput(w,B){const G=getInput(w,B).split("\n").filter((w=>w!==""));if(B&&B.trimWhitespace===false){return G}return G.map((w=>w.trim()))}B.getMultilineInput=getMultilineInput;function getBooleanInput(w,B){const G=["true","True","TRUE"];const K=["false","False","FALSE"];const pe=getInput(w,B);if(G.includes(pe))return true;if(K.includes(pe))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${w}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}B.getBooleanInput=getBooleanInput;function setOutput(w,B){const G=process.env["GITHUB_OUTPUT"]||"";if(G){return(0,Qe.issueFileCommand)("OUTPUT",(0,Qe.prepareKeyValueMessage)(w,B))}process.stdout.write(Fe.EOL);(0,Be.issueCommand)("set-output",{name:w},(0,Pe.toCommandValue)(B))}B.setOutput=setOutput;function setCommandEcho(w){(0,Be.issue)("echo",w?"on":"off")}B.setCommandEcho=setCommandEcho;function setFailed(w){process.exitCode=je.Failure;error(w)}B.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}B.isDebug=isDebug;function debug(w){(0,Be.issueCommand)("debug",{},w)}B.debug=debug;function error(w,B={}){(0,Be.issueCommand)("error",(0,Pe.toCommandProperties)(B),w instanceof Error?w.toString():w)}B.error=error;function warning(w,B={}){(0,Be.issueCommand)("warning",(0,Pe.toCommandProperties)(B),w instanceof Error?w.toString():w)}B.warning=warning;function notice(w,B={}){(0,Be.issueCommand)("notice",(0,Pe.toCommandProperties)(B),w instanceof Error?w.toString():w)}B.notice=notice;function info(w){process.stdout.write(w+Fe.EOL)}B.info=info;function startGroup(w){(0,Be.issue)("group",w)}B.startGroup=startGroup;function endGroup(){(0,Be.issue)("endgroup")}B.endGroup=endGroup;function group(w,B){return Se(this,void 0,void 0,(function*(){startGroup(w);let G;try{G=yield B()}finally{endGroup()}return G}))}B.group=group;function saveState(w,B){const G=process.env["GITHUB_STATE"]||"";if(G){return(0,Qe.issueFileCommand)("STATE",(0,Qe.prepareKeyValueMessage)(w,B))}(0,Be.issueCommand)("save-state",{name:w},(0,Pe.toCommandValue)(B))}B.saveState=saveState;function getState(w){return process.env[`STATE_${w}`]||""}B.getState=getState;function getIDToken(w){return Se(this,void 0,void 0,(function*(){return yield Le.OidcClient.getIDToken(w)}))}B.getIDToken=getIDToken;var qe=G(2905);Object.defineProperty(B,"summary",{enumerable:true,get:function(){return qe.summary}});var We=G(2905);Object.defineProperty(B,"markdownSummary",{enumerable:true,get:function(){return We.markdownSummary}});var Ge=G(1746);Object.defineProperty(B,"toPosixPath",{enumerable:true,get:function(){return Ge.toPosixPath}});Object.defineProperty(B,"toWin32Path",{enumerable:true,get:function(){return Ge.toWin32Path}});Object.defineProperty(B,"toPlatformPath",{enumerable:true,get:function(){return Ge.toPlatformPath}});B.platform=ye(G(9866))},2751:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;var pe=Object.getOwnPropertyDescriptor(B,G);if(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable)){pe={enumerable:true,get:function(){return B[G]}}}Object.defineProperty(w,K,pe)}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.prototype.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};Object.defineProperty(B,"__esModule",{value:true});B.prepareKeyValueMessage=B.issueFileCommand=void 0;const Se=ye(G(6982));const Be=ye(G(9896));const Qe=ye(G(857));const Pe=G(6924);function issueFileCommand(w,B){const G=process.env[`GITHUB_${w}`];if(!G){throw new Error(`Unable to find environment variable for file command ${w}`)}if(!Be.existsSync(G)){throw new Error(`Missing file at path: ${G}`)}Be.appendFileSync(G,`${(0,Pe.toCommandValue)(B)}${Qe.EOL}`,{encoding:"utf8"})}B.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(w,B){const G=`ghadelimiter_${Se.randomUUID()}`;const K=(0,Pe.toCommandValue)(B);if(w.includes(G)){throw new Error(`Unexpected input: name should not contain the delimiter "${G}"`)}if(K.includes(G)){throw new Error(`Unexpected input: value should not contain the delimiter "${G}"`)}return`${w}<<${G}${Qe.EOL}${K}${Qe.EOL}${G}`}B.prepareKeyValueMessage=prepareKeyValueMessage},8492:function(w,B,G){"use strict";var K=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.OidcClient=void 0;const pe=G(1966);const ye=G(9418);const Se=G(6966);class OidcClient{static createHttpClient(w=true,B=10){const G={allowRetries:w,maxRetries:B};return new pe.HttpClient("actions/oidc-client",[new ye.BearerCredentialHandler(OidcClient.getRequestToken())],G)}static getRequestToken(){const w=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!w){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return w}static getIDTokenUrl(){const w=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!w){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return w}static getCall(w){var B;return K(this,void 0,void 0,(function*(){const G=OidcClient.createHttpClient();const K=yield G.getJson(w).catch((w=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${w.statusCode}\n \n        Error Message: ${w.message}`)}));const pe=(B=K.result)===null||B===void 0?void 0:B.value;if(!pe){throw new Error("Response json body do not have ID Token field")}return pe}))}static getIDToken(w){return K(this,void 0,void 0,(function*(){try{let B=OidcClient.getIDTokenUrl();if(w){const G=encodeURIComponent(w);B=`${B}&audience=${G}`}(0,Se.debug)(`ID token url is ${B}`);const G=yield OidcClient.getCall(B);(0,Se.setSecret)(G);return G}catch(w){throw new Error(`Error message: ${w.message}`)}}))}}B.OidcClient=OidcClient},1746:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;var pe=Object.getOwnPropertyDescriptor(B,G);if(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable)){pe={enumerable:true,get:function(){return B[G]}}}Object.defineProperty(w,K,pe)}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.prototype.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};Object.defineProperty(B,"__esModule",{value:true});B.toPlatformPath=B.toWin32Path=B.toPosixPath=void 0;const Se=ye(G(6928));function toPosixPath(w){return w.replace(/[\\]/g,"/")}B.toPosixPath=toPosixPath;function toWin32Path(w){return w.replace(/[/]/g,"\\")}B.toWin32Path=toWin32Path;function toPlatformPath(w){return w.replace(/[/\\]/g,Se.sep)}B.toPlatformPath=toPlatformPath},9866:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;var pe=Object.getOwnPropertyDescriptor(B,G);if(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable)){pe={enumerable:true,get:function(){return B[G]}}}Object.defineProperty(w,K,pe)}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.prototype.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};var Se=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};var Be=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(B,"__esModule",{value:true});B.getDetails=B.isLinux=B.isMacOS=B.isWindows=B.arch=B.platform=void 0;const Qe=Be(G(857));const Pe=ye(G(2851));const getWindowsInfo=()=>Se(void 0,void 0,void 0,(function*(){const{stdout:w}=yield Pe.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Version"',undefined,{silent:true});const{stdout:B}=yield Pe.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Caption"',undefined,{silent:true});return{name:B.trim(),version:w.trim()}}));const getMacOsInfo=()=>Se(void 0,void 0,void 0,(function*(){var w,B,G,K;const{stdout:pe}=yield Pe.getExecOutput("sw_vers",undefined,{silent:true});const ye=(B=(w=pe.match(/ProductVersion:\s*(.+)/))===null||w===void 0?void 0:w[1])!==null&&B!==void 0?B:"";const Se=(K=(G=pe.match(/ProductName:\s*(.+)/))===null||G===void 0?void 0:G[1])!==null&&K!==void 0?K:"";return{name:Se,version:ye}}));const getLinuxInfo=()=>Se(void 0,void 0,void 0,(function*(){const{stdout:w}=yield Pe.getExecOutput("lsb_release",["-i","-r","-s"],{silent:true});const[B,G]=w.trim().split("\n");return{name:B,version:G}}));B.platform=Qe.default.platform();B.arch=Qe.default.arch();B.isWindows=B.platform==="win32";B.isMacOS=B.platform==="darwin";B.isLinux=B.platform==="linux";function getDetails(){return Se(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},yield B.isWindows?getWindowsInfo():B.isMacOS?getMacOsInfo():getLinuxInfo()),{platform:B.platform,arch:B.arch,isWindows:B.isWindows,isMacOS:B.isMacOS,isLinux:B.isLinux})}))}B.getDetails=getDetails},2905:function(w,B,G){"use strict";var K=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.summary=B.markdownSummary=B.SUMMARY_DOCS_URL=B.SUMMARY_ENV_VAR=void 0;const pe=G(857);const ye=G(9896);const{access:Se,appendFile:Be,writeFile:Qe}=ye.promises;B.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";B.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return K(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const w=process.env[B.SUMMARY_ENV_VAR];if(!w){throw new Error(`Unable to find environment variable for $${B.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield Se(w,ye.constants.R_OK|ye.constants.W_OK)}catch(B){throw new Error(`Unable to access summary file: '${w}'. Check if the file has correct read/write permissions.`)}this._filePath=w;return this._filePath}))}wrap(w,B,G={}){const K=Object.entries(G).map((([w,B])=>` ${w}="${B}"`)).join("");if(!B){return`<${w}${K}>`}return`<${w}${K}>${B}</${w}>`}write(w){return K(this,void 0,void 0,(function*(){const B=!!(w===null||w===void 0?void 0:w.overwrite);const G=yield this.filePath();const K=B?Qe:Be;yield K(G,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return K(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(w,B=false){this._buffer+=w;return B?this.addEOL():this}addEOL(){return this.addRaw(pe.EOL)}addCodeBlock(w,B){const G=Object.assign({},B&&{lang:B});const K=this.wrap("pre",this.wrap("code",w),G);return this.addRaw(K).addEOL()}addList(w,B=false){const G=B?"ol":"ul";const K=w.map((w=>this.wrap("li",w))).join("");const pe=this.wrap(G,K);return this.addRaw(pe).addEOL()}addTable(w){const B=w.map((w=>{const B=w.map((w=>{if(typeof w==="string"){return this.wrap("td",w)}const{header:B,data:G,colspan:K,rowspan:pe}=w;const ye=B?"th":"td";const Se=Object.assign(Object.assign({},K&&{colspan:K}),pe&&{rowspan:pe});return this.wrap(ye,G,Se)})).join("");return this.wrap("tr",B)})).join("");const G=this.wrap("table",B);return this.addRaw(G).addEOL()}addDetails(w,B){const G=this.wrap("details",this.wrap("summary",w)+B);return this.addRaw(G).addEOL()}addImage(w,B,G){const{width:K,height:pe}=G||{};const ye=Object.assign(Object.assign({},K&&{width:K}),pe&&{height:pe});const Se=this.wrap("img",null,Object.assign({src:w,alt:B},ye));return this.addRaw(Se).addEOL()}addHeading(w,B){const G=`h${B}`;const K=["h1","h2","h3","h4","h5","h6"].includes(G)?G:"h1";const pe=this.wrap(K,w);return this.addRaw(pe).addEOL()}addSeparator(){const w=this.wrap("hr",null);return this.addRaw(w).addEOL()}addBreak(){const w=this.wrap("br",null);return this.addRaw(w).addEOL()}addQuote(w,B){const G=Object.assign({},B&&{cite:B});const K=this.wrap("blockquote",w,G);return this.addRaw(K).addEOL()}addLink(w,B){const G=this.wrap("a",w,{href:B});return this.addRaw(G).addEOL()}}const Pe=new Summary;B.markdownSummary=Pe;B.summary=Pe},6924:(w,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:true});B.toCommandProperties=B.toCommandValue=void 0;function toCommandValue(w){if(w===null||w===undefined){return""}else if(typeof w==="string"||w instanceof String){return w}return JSON.stringify(w)}B.toCommandValue=toCommandValue;function toCommandProperties(w){if(!Object.keys(w).length){return{}}return{title:w.title,file:w.file,line:w.startLine,endLine:w.endLine,col:w.startColumn,endColumn:w.endColumn}}B.toCommandProperties=toCommandProperties},2851:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;Object.defineProperty(w,K,{enumerable:true,get:function(){return B[G]}})}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};var Se=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.getExecOutput=B.exec=void 0;const Be=G(3193);const Qe=ye(G(9390));function exec(w,B,G){return Se(this,void 0,void 0,(function*(){const K=Qe.argStringToArray(w);if(K.length===0){throw new Error(`Parameter 'commandLine' cannot be null or empty.`)}const pe=K[0];B=K.slice(1).concat(B||[]);const ye=new Qe.ToolRunner(pe,B,G);return ye.exec()}))}B.exec=exec;function getExecOutput(w,B,G){var K,pe;return Se(this,void 0,void 0,(function*(){let ye="";let Se="";const Qe=new Be.StringDecoder("utf8");const Pe=new Be.StringDecoder("utf8");const Fe=(K=G===null||G===void 0?void 0:G.listeners)===null||K===void 0?void 0:K.stdout;const Me=(pe=G===null||G===void 0?void 0:G.listeners)===null||pe===void 0?void 0:pe.stderr;const stdErrListener=w=>{Se+=Pe.write(w);if(Me){Me(w)}};const stdOutListener=w=>{ye+=Qe.write(w);if(Fe){Fe(w)}};const Le=Object.assign(Object.assign({},G===null||G===void 0?void 0:G.listeners),{stdout:stdOutListener,stderr:stdErrListener});const je=yield exec(w,B,Object.assign(Object.assign({},G),{listeners:Le}));ye+=Qe.end();Se+=Pe.end();return{exitCode:je,stdout:ye,stderr:Se}}))}B.getExecOutput=getExecOutput},9390:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;Object.defineProperty(w,K,{enumerable:true,get:function(){return B[G]}})}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};var Se=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.argStringToArray=B.ToolRunner=void 0;const Be=ye(G(857));const Qe=ye(G(4434));const Pe=ye(G(7698));const Fe=ye(G(6928));const Me=ye(G(378));const Le=ye(G(527));const je=G(3557);const qe=process.platform==="win32";class ToolRunner extends Qe.EventEmitter{constructor(w,B,G){super();if(!w){throw new Error("Parameter 'toolPath' cannot be null or empty.")}this.toolPath=w;this.args=B||[];this.options=G||{}}_debug(w){if(this.options.listeners&&this.options.listeners.debug){this.options.listeners.debug(w)}}_getCommandString(w,B){const G=this._getSpawnFileName();const K=this._getSpawnArgs(w);let pe=B?"":"[command]";if(qe){if(this._isCmdFile()){pe+=G;for(const w of K){pe+=` ${w}`}}else if(w.windowsVerbatimArguments){pe+=`"${G}"`;for(const w of K){pe+=` ${w}`}}else{pe+=this._windowsQuoteCmdArg(G);for(const w of K){pe+=` ${this._windowsQuoteCmdArg(w)}`}}}else{pe+=G;for(const w of K){pe+=` ${w}`}}return pe}_processLineBuffer(w,B,G){try{let K=B+w.toString();let pe=K.indexOf(Be.EOL);while(pe>-1){const w=K.substring(0,pe);G(w);K=K.substring(pe+Be.EOL.length);pe=K.indexOf(Be.EOL)}return K}catch(w){this._debug(`error processing line. Failed with error ${w}`);return""}}_getSpawnFileName(){if(qe){if(this._isCmdFile()){return process.env["COMSPEC"]||"cmd.exe"}}return this.toolPath}_getSpawnArgs(w){if(qe){if(this._isCmdFile()){let B=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const G of this.args){B+=" ";B+=w.windowsVerbatimArguments?G:this._windowsQuoteCmdArg(G)}B+='"';return[B]}}return this.args}_endsWith(w,B){return w.endsWith(B)}_isCmdFile(){const w=this.toolPath.toUpperCase();return this._endsWith(w,".CMD")||this._endsWith(w,".BAT")}_windowsQuoteCmdArg(w){if(!this._isCmdFile()){return this._uvQuoteCmdArg(w)}if(!w){return'""'}const B=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let G=false;for(const K of w){if(B.some((w=>w===K))){G=true;break}}if(!G){return w}let K='"';let pe=true;for(let B=w.length;B>0;B--){K+=w[B-1];if(pe&&w[B-1]==="\\"){K+="\\"}else if(w[B-1]==='"'){pe=true;K+='"'}else{pe=false}}K+='"';return K.split("").reverse().join("")}_uvQuoteCmdArg(w){if(!w){return'""'}if(!w.includes(" ")&&!w.includes("\t")&&!w.includes('"')){return w}if(!w.includes('"')&&!w.includes("\\")){return`"${w}"`}let B='"';let G=true;for(let K=w.length;K>0;K--){B+=w[K-1];if(G&&w[K-1]==="\\"){B+="\\"}else if(w[K-1]==='"'){G=true;B+="\\"}else{G=false}}B+='"';return B.split("").reverse().join("")}_cloneExecOptions(w){w=w||{};const B={cwd:w.cwd||process.cwd(),env:w.env||process.env,silent:w.silent||false,windowsVerbatimArguments:w.windowsVerbatimArguments||false,failOnStdErr:w.failOnStdErr||false,ignoreReturnCode:w.ignoreReturnCode||false,delay:w.delay||1e4};B.outStream=w.outStream||process.stdout;B.errStream=w.errStream||process.stderr;return B}_getSpawnOptions(w,B){w=w||{};const G={};G.cwd=w.cwd;G.env=w.env;G["windowsVerbatimArguments"]=w.windowsVerbatimArguments||this._isCmdFile();if(w.windowsVerbatimArguments){G.argv0=`"${B}"`}return G}exec(){return Se(this,void 0,void 0,(function*(){if(!Le.isRooted(this.toolPath)&&(this.toolPath.includes("/")||qe&&this.toolPath.includes("\\"))){this.toolPath=Fe.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)}this.toolPath=yield Me.which(this.toolPath,true);return new Promise(((w,B)=>Se(this,void 0,void 0,(function*(){this._debug(`exec tool: ${this.toolPath}`);this._debug("arguments:");for(const w of this.args){this._debug(`   ${w}`)}const G=this._cloneExecOptions(this.options);if(!G.silent&&G.outStream){G.outStream.write(this._getCommandString(G)+Be.EOL)}const K=new ExecState(G,this.toolPath);K.on("debug",(w=>{this._debug(w)}));if(this.options.cwd&&!(yield Le.exists(this.options.cwd))){return B(new Error(`The cwd: ${this.options.cwd} does not exist!`))}const pe=this._getSpawnFileName();const ye=Pe.spawn(pe,this._getSpawnArgs(G),this._getSpawnOptions(this.options,pe));let Se="";if(ye.stdout){ye.stdout.on("data",(w=>{if(this.options.listeners&&this.options.listeners.stdout){this.options.listeners.stdout(w)}if(!G.silent&&G.outStream){G.outStream.write(w)}Se=this._processLineBuffer(w,Se,(w=>{if(this.options.listeners&&this.options.listeners.stdline){this.options.listeners.stdline(w)}}))}))}let Qe="";if(ye.stderr){ye.stderr.on("data",(w=>{K.processStderr=true;if(this.options.listeners&&this.options.listeners.stderr){this.options.listeners.stderr(w)}if(!G.silent&&G.errStream&&G.outStream){const B=G.failOnStdErr?G.errStream:G.outStream;B.write(w)}Qe=this._processLineBuffer(w,Qe,(w=>{if(this.options.listeners&&this.options.listeners.errline){this.options.listeners.errline(w)}}))}))}ye.on("error",(w=>{K.processError=w.message;K.processExited=true;K.processClosed=true;K.CheckComplete()}));ye.on("exit",(w=>{K.processExitCode=w;K.processExited=true;this._debug(`Exit code ${w} received from tool '${this.toolPath}'`);K.CheckComplete()}));ye.on("close",(w=>{K.processExitCode=w;K.processExited=true;K.processClosed=true;this._debug(`STDIO streams have closed for tool '${this.toolPath}'`);K.CheckComplete()}));K.on("done",((G,K)=>{if(Se.length>0){this.emit("stdline",Se)}if(Qe.length>0){this.emit("errline",Qe)}ye.removeAllListeners();if(G){B(G)}else{w(K)}}));if(this.options.input){if(!ye.stdin){throw new Error("child process missing stdin")}ye.stdin.end(this.options.input)}}))))}))}}B.ToolRunner=ToolRunner;function argStringToArray(w){const B=[];let G=false;let K=false;let pe="";function append(w){if(K&&w!=='"'){pe+="\\"}pe+=w;K=false}for(let ye=0;ye<w.length;ye++){const Se=w.charAt(ye);if(Se==='"'){if(!K){G=!G}else{append(Se)}continue}if(Se==="\\"&&K){append(Se);continue}if(Se==="\\"&&G){K=true;continue}if(Se===" "&&!G){if(pe.length>0){B.push(pe);pe=""}continue}append(Se)}if(pe.length>0){B.push(pe.trim())}return B}B.argStringToArray=argStringToArray;class ExecState extends Qe.EventEmitter{constructor(w,B){super();this.processClosed=false;this.processError="";this.processExitCode=0;this.processExited=false;this.processStderr=false;this.delay=1e4;this.done=false;this.timeout=null;if(!B){throw new Error("toolPath must not be empty")}this.options=w;this.toolPath=B;if(w.delay){this.delay=w.delay}}CheckComplete(){if(this.done){return}if(this.processClosed){this._setResult()}else if(this.processExited){this.timeout=je.setTimeout(ExecState.HandleTimeout,this.delay,this)}}_debug(w){this.emit("debug",w)}_setResult(){let w;if(this.processExited){if(this.processError){w=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`)}else if(this.processExitCode!==0&&!this.options.ignoreReturnCode){w=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)}else if(this.processStderr&&this.options.failOnStdErr){w=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)}}if(this.timeout){clearTimeout(this.timeout);this.timeout=null}this.done=true;this.emit("done",w,this.processExitCode)}static HandleTimeout(w){if(w.done){return}if(!w.processClosed&&w.processExited){const B=`The STDIO streams did not close within ${w.delay/1e3} seconds of the exit event from process '${w.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;w._debug(B)}w._setResult()}}},9418:function(w,B){"use strict";var G=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.PersonalAccessTokenCredentialHandler=B.BearerCredentialHandler=B.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(w,B){this.username=w;this.password=B}prepareRequest(w){if(!w.headers){throw Error("The request has no headers")}w.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return G(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}B.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(w){this.token=w}prepareRequest(w){if(!w.headers){throw Error("The request has no headers")}w.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return G(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}B.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(w){this.token=w}prepareRequest(w){if(!w.headers){throw Error("The request has no headers")}w.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return G(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}B.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},1966:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;var pe=Object.getOwnPropertyDescriptor(B,G);if(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable)){pe={enumerable:true,get:function(){return B[G]}}}Object.defineProperty(w,K,pe)}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.prototype.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};var Se=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.HttpClient=B.isHttps=B.HttpClientResponse=B.HttpClientError=B.getProxyUrl=B.MediaTypes=B.Headers=B.HttpCodes=void 0;const Be=ye(G(8611));const Qe=ye(G(5692));const Pe=ye(G(6474));const Fe=ye(G(329));const Me=G(6017);var Le;(function(w){w[w["OK"]=200]="OK";w[w["MultipleChoices"]=300]="MultipleChoices";w[w["MovedPermanently"]=301]="MovedPermanently";w[w["ResourceMoved"]=302]="ResourceMoved";w[w["SeeOther"]=303]="SeeOther";w[w["NotModified"]=304]="NotModified";w[w["UseProxy"]=305]="UseProxy";w[w["SwitchProxy"]=306]="SwitchProxy";w[w["TemporaryRedirect"]=307]="TemporaryRedirect";w[w["PermanentRedirect"]=308]="PermanentRedirect";w[w["BadRequest"]=400]="BadRequest";w[w["Unauthorized"]=401]="Unauthorized";w[w["PaymentRequired"]=402]="PaymentRequired";w[w["Forbidden"]=403]="Forbidden";w[w["NotFound"]=404]="NotFound";w[w["MethodNotAllowed"]=405]="MethodNotAllowed";w[w["NotAcceptable"]=406]="NotAcceptable";w[w["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";w[w["RequestTimeout"]=408]="RequestTimeout";w[w["Conflict"]=409]="Conflict";w[w["Gone"]=410]="Gone";w[w["TooManyRequests"]=429]="TooManyRequests";w[w["InternalServerError"]=500]="InternalServerError";w[w["NotImplemented"]=501]="NotImplemented";w[w["BadGateway"]=502]="BadGateway";w[w["ServiceUnavailable"]=503]="ServiceUnavailable";w[w["GatewayTimeout"]=504]="GatewayTimeout"})(Le||(B.HttpCodes=Le={}));var je;(function(w){w["Accept"]="accept";w["ContentType"]="content-type"})(je||(B.Headers=je={}));var qe;(function(w){w["ApplicationJson"]="application/json"})(qe||(B.MediaTypes=qe={}));function getProxyUrl(w){const B=Pe.getProxyUrl(new URL(w));return B?B.href:""}B.getProxyUrl=getProxyUrl;const We=[Le.MovedPermanently,Le.ResourceMoved,Le.SeeOther,Le.TemporaryRedirect,Le.PermanentRedirect];const Ge=[Le.BadGateway,Le.ServiceUnavailable,Le.GatewayTimeout];const ze=["OPTIONS","GET","DELETE","HEAD"];const Ye=10;const Ke=5;class HttpClientError extends Error{constructor(w,B){super(w);this.name="HttpClientError";this.statusCode=B;Object.setPrototypeOf(this,HttpClientError.prototype)}}B.HttpClientError=HttpClientError;class HttpClientResponse{constructor(w){this.message=w}readBody(){return Se(this,void 0,void 0,(function*(){return new Promise((w=>Se(this,void 0,void 0,(function*(){let B=Buffer.alloc(0);this.message.on("data",(w=>{B=Buffer.concat([B,w])}));this.message.on("end",(()=>{w(B.toString())}))}))))}))}readBodyBuffer(){return Se(this,void 0,void 0,(function*(){return new Promise((w=>Se(this,void 0,void 0,(function*(){const B=[];this.message.on("data",(w=>{B.push(w)}));this.message.on("end",(()=>{w(Buffer.concat(B))}))}))))}))}}B.HttpClientResponse=HttpClientResponse;function isHttps(w){const B=new URL(w);return B.protocol==="https:"}B.isHttps=isHttps;class HttpClient{constructor(w,B,G){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=w;this.handlers=B||[];this.requestOptions=G;if(G){if(G.ignoreSslError!=null){this._ignoreSslError=G.ignoreSslError}this._socketTimeout=G.socketTimeout;if(G.allowRedirects!=null){this._allowRedirects=G.allowRedirects}if(G.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=G.allowRedirectDowngrade}if(G.maxRedirects!=null){this._maxRedirects=Math.max(G.maxRedirects,0)}if(G.keepAlive!=null){this._keepAlive=G.keepAlive}if(G.allowRetries!=null){this._allowRetries=G.allowRetries}if(G.maxRetries!=null){this._maxRetries=G.maxRetries}}}options(w,B){return Se(this,void 0,void 0,(function*(){return this.request("OPTIONS",w,null,B||{})}))}get(w,B){return Se(this,void 0,void 0,(function*(){return this.request("GET",w,null,B||{})}))}del(w,B){return Se(this,void 0,void 0,(function*(){return this.request("DELETE",w,null,B||{})}))}post(w,B,G){return Se(this,void 0,void 0,(function*(){return this.request("POST",w,B,G||{})}))}patch(w,B,G){return Se(this,void 0,void 0,(function*(){return this.request("PATCH",w,B,G||{})}))}put(w,B,G){return Se(this,void 0,void 0,(function*(){return this.request("PUT",w,B,G||{})}))}head(w,B){return Se(this,void 0,void 0,(function*(){return this.request("HEAD",w,null,B||{})}))}sendStream(w,B,G,K){return Se(this,void 0,void 0,(function*(){return this.request(w,B,G,K)}))}getJson(w,B={}){return Se(this,void 0,void 0,(function*(){B[je.Accept]=this._getExistingOrDefaultHeader(B,je.Accept,qe.ApplicationJson);const G=yield this.get(w,B);return this._processResponse(G,this.requestOptions)}))}postJson(w,B,G={}){return Se(this,void 0,void 0,(function*(){const K=JSON.stringify(B,null,2);G[je.Accept]=this._getExistingOrDefaultHeader(G,je.Accept,qe.ApplicationJson);G[je.ContentType]=this._getExistingOrDefaultHeader(G,je.ContentType,qe.ApplicationJson);const pe=yield this.post(w,K,G);return this._processResponse(pe,this.requestOptions)}))}putJson(w,B,G={}){return Se(this,void 0,void 0,(function*(){const K=JSON.stringify(B,null,2);G[je.Accept]=this._getExistingOrDefaultHeader(G,je.Accept,qe.ApplicationJson);G[je.ContentType]=this._getExistingOrDefaultHeader(G,je.ContentType,qe.ApplicationJson);const pe=yield this.put(w,K,G);return this._processResponse(pe,this.requestOptions)}))}patchJson(w,B,G={}){return Se(this,void 0,void 0,(function*(){const K=JSON.stringify(B,null,2);G[je.Accept]=this._getExistingOrDefaultHeader(G,je.Accept,qe.ApplicationJson);G[je.ContentType]=this._getExistingOrDefaultHeader(G,je.ContentType,qe.ApplicationJson);const pe=yield this.patch(w,K,G);return this._processResponse(pe,this.requestOptions)}))}request(w,B,G,K){return Se(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const pe=new URL(B);let ye=this._prepareRequest(w,pe,K);const Se=this._allowRetries&&ze.includes(w)?this._maxRetries+1:1;let Be=0;let Qe;do{Qe=yield this.requestRaw(ye,G);if(Qe&&Qe.message&&Qe.message.statusCode===Le.Unauthorized){let w;for(const B of this.handlers){if(B.canHandleAuthentication(Qe)){w=B;break}}if(w){return w.handleAuthentication(this,ye,G)}else{return Qe}}let B=this._maxRedirects;while(Qe.message.statusCode&&We.includes(Qe.message.statusCode)&&this._allowRedirects&&B>0){const Se=Qe.message.headers["location"];if(!Se){break}const Be=new URL(Se);if(pe.protocol==="https:"&&pe.protocol!==Be.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield Qe.readBody();if(Be.hostname!==pe.hostname){for(const w in K){if(w.toLowerCase()==="authorization"){delete K[w]}}}ye=this._prepareRequest(w,Be,K);Qe=yield this.requestRaw(ye,G);B--}if(!Qe.message.statusCode||!Ge.includes(Qe.message.statusCode)){return Qe}Be+=1;if(Be<Se){yield Qe.readBody();yield this._performExponentialBackoff(Be)}}while(Be<Se);return Qe}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(w,B){return Se(this,void 0,void 0,(function*(){return new Promise(((G,K)=>{function callbackForResult(w,B){if(w){K(w)}else if(!B){K(new Error("Unknown error"))}else{G(B)}}this.requestRawWithCallback(w,B,callbackForResult)}))}))}requestRawWithCallback(w,B,G){if(typeof B==="string"){if(!w.options.headers){w.options.headers={}}w.options.headers["Content-Length"]=Buffer.byteLength(B,"utf8")}let K=false;function handleResult(w,B){if(!K){K=true;G(w,B)}}const pe=w.httpModule.request(w.options,(w=>{const B=new HttpClientResponse(w);handleResult(undefined,B)}));let ye;pe.on("socket",(w=>{ye=w}));pe.setTimeout(this._socketTimeout||3*6e4,(()=>{if(ye){ye.end()}handleResult(new Error(`Request timeout: ${w.options.path}`))}));pe.on("error",(function(w){handleResult(w)}));if(B&&typeof B==="string"){pe.write(B,"utf8")}if(B&&typeof B!=="string"){B.on("close",(function(){pe.end()}));B.pipe(pe)}else{pe.end()}}getAgent(w){const B=new URL(w);return this._getAgent(B)}getAgentDispatcher(w){const B=new URL(w);const G=Pe.getProxyUrl(B);const K=G&&G.hostname;if(!K){return}return this._getProxyAgentDispatcher(B,G)}_prepareRequest(w,B,G){const K={};K.parsedUrl=B;const pe=K.parsedUrl.protocol==="https:";K.httpModule=pe?Qe:Be;const ye=pe?443:80;K.options={};K.options.host=K.parsedUrl.hostname;K.options.port=K.parsedUrl.port?parseInt(K.parsedUrl.port):ye;K.options.path=(K.parsedUrl.pathname||"")+(K.parsedUrl.search||"");K.options.method=w;K.options.headers=this._mergeHeaders(G);if(this.userAgent!=null){K.options.headers["user-agent"]=this.userAgent}K.options.agent=this._getAgent(K.parsedUrl);if(this.handlers){for(const w of this.handlers){w.prepareRequest(K.options)}}return K}_mergeHeaders(w){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(w||{}))}return lowercaseKeys(w||{})}_getExistingOrDefaultHeader(w,B,G){let K;if(this.requestOptions&&this.requestOptions.headers){K=lowercaseKeys(this.requestOptions.headers)[B]}return w[B]||K||G}_getAgent(w){let B;const G=Pe.getProxyUrl(w);const K=G&&G.hostname;if(this._keepAlive&&K){B=this._proxyAgent}if(!K){B=this._agent}if(B){return B}const pe=w.protocol==="https:";let ye=100;if(this.requestOptions){ye=this.requestOptions.maxSockets||Be.globalAgent.maxSockets}if(G&&G.hostname){const w={maxSockets:ye,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(G.username||G.password)&&{proxyAuth:`${G.username}:${G.password}`}),{host:G.hostname,port:G.port})};let K;const Se=G.protocol==="https:";if(pe){K=Se?Fe.httpsOverHttps:Fe.httpsOverHttp}else{K=Se?Fe.httpOverHttps:Fe.httpOverHttp}B=K(w);this._proxyAgent=B}if(!B){const w={keepAlive:this._keepAlive,maxSockets:ye};B=pe?new Qe.Agent(w):new Be.Agent(w);this._agent=B}if(pe&&this._ignoreSslError){B.options=Object.assign(B.options||{},{rejectUnauthorized:false})}return B}_getProxyAgentDispatcher(w,B){let G;if(this._keepAlive){G=this._proxyAgentDispatcher}if(G){return G}const K=w.protocol==="https:";G=new Me.ProxyAgent(Object.assign({uri:B.href,pipelining:!this._keepAlive?0:1},(B.username||B.password)&&{token:`Basic ${Buffer.from(`${B.username}:${B.password}`).toString("base64")}`}));this._proxyAgentDispatcher=G;if(K&&this._ignoreSslError){G.options=Object.assign(G.options.requestTls||{},{rejectUnauthorized:false})}return G}_performExponentialBackoff(w){return Se(this,void 0,void 0,(function*(){w=Math.min(Ye,w);const B=Ke*Math.pow(2,w);return new Promise((w=>setTimeout((()=>w()),B)))}))}_processResponse(w,B){return Se(this,void 0,void 0,(function*(){return new Promise(((G,K)=>Se(this,void 0,void 0,(function*(){const pe=w.message.statusCode||0;const ye={statusCode:pe,result:null,headers:{}};if(pe===Le.NotFound){G(ye)}function dateTimeDeserializer(w,B){if(typeof B==="string"){const w=new Date(B);if(!isNaN(w.valueOf())){return w}}return B}let Se;let Be;try{Be=yield w.readBody();if(Be&&Be.length>0){if(B&&B.deserializeDates){Se=JSON.parse(Be,dateTimeDeserializer)}else{Se=JSON.parse(Be)}ye.result=Se}ye.headers=w.message.headers}catch(w){}if(pe>299){let w;if(Se&&Se.message){w=Se.message}else if(Be&&Be.length>0){w=Be}else{w=`Failed request: (${pe})`}const B=new HttpClientError(w,pe);B.result=ye.result;K(B)}else{G(ye)}}))))}))}}B.HttpClient=HttpClient;const lowercaseKeys=w=>Object.keys(w).reduce(((B,G)=>(B[G.toLowerCase()]=w[G],B)),{})},6474:(w,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:true});B.checkBypass=B.getProxyUrl=void 0;function getProxyUrl(w){const B=w.protocol==="https:";if(checkBypass(w)){return undefined}const G=(()=>{if(B){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(G){try{return new DecodedURL(G)}catch(w){if(!G.startsWith("http://")&&!G.startsWith("https://"))return new DecodedURL(`http://${G}`)}}else{return undefined}}B.getProxyUrl=getProxyUrl;function checkBypass(w){if(!w.hostname){return false}const B=w.hostname;if(isLoopbackAddress(B)){return true}const G=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!G){return false}let K;if(w.port){K=Number(w.port)}else if(w.protocol==="http:"){K=80}else if(w.protocol==="https:"){K=443}const pe=[w.hostname.toUpperCase()];if(typeof K==="number"){pe.push(`${pe[0]}:${K}`)}for(const w of G.split(",").map((w=>w.trim().toUpperCase())).filter((w=>w))){if(w==="*"||pe.some((B=>B===w||B.endsWith(`.${w}`)||w.startsWith(".")&&B.endsWith(`${w}`)))){return true}}return false}B.checkBypass=checkBypass;function isLoopbackAddress(w){const B=w.toLowerCase();return B==="localhost"||B.startsWith("127.")||B.startsWith("[::1]")||B.startsWith("[0:0:0:0:0:0:0:1]")}class DecodedURL extends URL{constructor(w,B){super(w,B);this._decodedUsername=decodeURIComponent(super.username);this._decodedPassword=decodeURIComponent(super.password)}get username(){return this._decodedUsername}get password(){return this._decodedPassword}}},527:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;Object.defineProperty(w,K,{enumerable:true,get:function(){return B[G]}})}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};var Se=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};var Be;Object.defineProperty(B,"__esModule",{value:true});B.getCmdPath=B.tryGetExecutablePath=B.isRooted=B.isDirectory=B.exists=B.READONLY=B.UV_FS_O_EXLOCK=B.IS_WINDOWS=B.unlink=B.symlink=B.stat=B.rmdir=B.rm=B.rename=B.readlink=B.readdir=B.open=B.mkdir=B.lstat=B.copyFile=B.chmod=void 0;const Qe=ye(G(9896));const Pe=ye(G(6928));Be=Qe.promises,B.chmod=Be.chmod,B.copyFile=Be.copyFile,B.lstat=Be.lstat,B.mkdir=Be.mkdir,B.open=Be.open,B.readdir=Be.readdir,B.readlink=Be.readlink,B.rename=Be.rename,B.rm=Be.rm,B.rmdir=Be.rmdir,B.stat=Be.stat,B.symlink=Be.symlink,B.unlink=Be.unlink;B.IS_WINDOWS=process.platform==="win32";B.UV_FS_O_EXLOCK=268435456;B.READONLY=Qe.constants.O_RDONLY;function exists(w){return Se(this,void 0,void 0,(function*(){try{yield B.stat(w)}catch(w){if(w.code==="ENOENT"){return false}throw w}return true}))}B.exists=exists;function isDirectory(w,G=false){return Se(this,void 0,void 0,(function*(){const K=G?yield B.stat(w):yield B.lstat(w);return K.isDirectory()}))}B.isDirectory=isDirectory;function isRooted(w){w=normalizeSeparators(w);if(!w){throw new Error('isRooted() parameter "p" cannot be empty')}if(B.IS_WINDOWS){return w.startsWith("\\")||/^[A-Z]:/i.test(w)}return w.startsWith("/")}B.isRooted=isRooted;function tryGetExecutablePath(w,G){return Se(this,void 0,void 0,(function*(){let K=undefined;try{K=yield B.stat(w)}catch(B){if(B.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${w}': ${B}`)}}if(K&&K.isFile()){if(B.IS_WINDOWS){const B=Pe.extname(w).toUpperCase();if(G.some((w=>w.toUpperCase()===B))){return w}}else{if(isUnixExecutable(K)){return w}}}const pe=w;for(const ye of G){w=pe+ye;K=undefined;try{K=yield B.stat(w)}catch(B){if(B.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${w}': ${B}`)}}if(K&&K.isFile()){if(B.IS_WINDOWS){try{const G=Pe.dirname(w);const K=Pe.basename(w).toUpperCase();for(const pe of yield B.readdir(G)){if(K===pe.toUpperCase()){w=Pe.join(G,pe);break}}}catch(B){console.log(`Unexpected error attempting to determine the actual case of the file '${w}': ${B}`)}return w}else{if(isUnixExecutable(K)){return w}}}}return""}))}B.tryGetExecutablePath=tryGetExecutablePath;function normalizeSeparators(w){w=w||"";if(B.IS_WINDOWS){w=w.replace(/\//g,"\\");return w.replace(/\\\\+/g,"\\")}return w.replace(/\/\/+/g,"/")}function isUnixExecutable(w){return(w.mode&1)>0||(w.mode&8)>0&&w.gid===process.getgid()||(w.mode&64)>0&&w.uid===process.getuid()}function getCmdPath(){var w;return(w=process.env["COMSPEC"])!==null&&w!==void 0?w:`cmd.exe`}B.getCmdPath=getCmdPath},378:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;Object.defineProperty(w,K,{enumerable:true,get:function(){return B[G]}})}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G in w)if(G!=="default"&&Object.hasOwnProperty.call(w,G))K(B,w,G);pe(B,w);return B};var Se=this&&this.__awaiter||function(w,B,G,K){function adopt(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function fulfilled(w){try{step(K.next(w))}catch(w){pe(w)}}function rejected(w){try{step(K["throw"](w))}catch(w){pe(w)}}function step(w){w.done?G(w.value):adopt(w.value).then(fulfilled,rejected)}step((K=K.apply(w,B||[])).next())}))};Object.defineProperty(B,"__esModule",{value:true});B.findInPath=B.which=B.mkdirP=B.rmRF=B.mv=B.cp=void 0;const Be=G(2613);const Qe=ye(G(6928));const Pe=ye(G(527));function cp(w,B,G={}){return Se(this,void 0,void 0,(function*(){const{force:K,recursive:pe,copySourceDirectory:ye}=readCopyOptions(G);const Se=(yield Pe.exists(B))?yield Pe.stat(B):null;if(Se&&Se.isFile()&&!K){return}const Be=Se&&Se.isDirectory()&&ye?Qe.join(B,Qe.basename(w)):B;if(!(yield Pe.exists(w))){throw new Error(`no such file or directory: ${w}`)}const Fe=yield Pe.stat(w);if(Fe.isDirectory()){if(!pe){throw new Error(`Failed to copy. ${w} is a directory, but tried to copy without recursive flag.`)}else{yield cpDirRecursive(w,Be,0,K)}}else{if(Qe.relative(w,Be)===""){throw new Error(`'${Be}' and '${w}' are the same file`)}yield copyFile(w,Be,K)}}))}B.cp=cp;function mv(w,B,G={}){return Se(this,void 0,void 0,(function*(){if(yield Pe.exists(B)){let K=true;if(yield Pe.isDirectory(B)){B=Qe.join(B,Qe.basename(w));K=yield Pe.exists(B)}if(K){if(G.force==null||G.force){yield rmRF(B)}else{throw new Error("Destination already exists")}}}yield mkdirP(Qe.dirname(B));yield Pe.rename(w,B)}))}B.mv=mv;function rmRF(w){return Se(this,void 0,void 0,(function*(){if(Pe.IS_WINDOWS){if(/[*"<>|]/.test(w)){throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows')}}try{yield Pe.rm(w,{force:true,maxRetries:3,recursive:true,retryDelay:300})}catch(w){throw new Error(`File was unable to be removed ${w}`)}}))}B.rmRF=rmRF;function mkdirP(w){return Se(this,void 0,void 0,(function*(){Be.ok(w,"a path argument must be provided");yield Pe.mkdir(w,{recursive:true})}))}B.mkdirP=mkdirP;function which(w,B){return Se(this,void 0,void 0,(function*(){if(!w){throw new Error("parameter 'tool' is required")}if(B){const B=yield which(w,false);if(!B){if(Pe.IS_WINDOWS){throw new Error(`Unable to locate executable file: ${w}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`)}else{throw new Error(`Unable to locate executable file: ${w}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`)}}return B}const G=yield findInPath(w);if(G&&G.length>0){return G[0]}return""}))}B.which=which;function findInPath(w){return Se(this,void 0,void 0,(function*(){if(!w){throw new Error("parameter 'tool' is required")}const B=[];if(Pe.IS_WINDOWS&&process.env["PATHEXT"]){for(const w of process.env["PATHEXT"].split(Qe.delimiter)){if(w){B.push(w)}}}if(Pe.isRooted(w)){const G=yield Pe.tryGetExecutablePath(w,B);if(G){return[G]}return[]}if(w.includes(Qe.sep)){return[]}const G=[];if(process.env.PATH){for(const w of process.env.PATH.split(Qe.delimiter)){if(w){G.push(w)}}}const K=[];for(const pe of G){const G=yield Pe.tryGetExecutablePath(Qe.join(pe,w),B);if(G){K.push(G)}}return K}))}B.findInPath=findInPath;function readCopyOptions(w){const B=w.force==null?true:w.force;const G=Boolean(w.recursive);const K=w.copySourceDirectory==null?true:Boolean(w.copySourceDirectory);return{force:B,recursive:G,copySourceDirectory:K}}function cpDirRecursive(w,B,G,K){return Se(this,void 0,void 0,(function*(){if(G>=255)return;G++;yield mkdirP(B);const pe=yield Pe.readdir(w);for(const ye of pe){const pe=`${w}/${ye}`;const Se=`${B}/${ye}`;const Be=yield Pe.lstat(pe);if(Be.isDirectory()){yield cpDirRecursive(pe,Se,G,K)}else{yield copyFile(pe,Se,K)}}yield Pe.chmod(B,(yield Pe.stat(w)).mode)}))}function copyFile(w,B,G){return Se(this,void 0,void 0,(function*(){if((yield Pe.lstat(w)).isSymbolicLink()){try{yield Pe.lstat(B);yield Pe.unlink(B)}catch(w){if(w.code==="EPERM"){yield Pe.chmod(B,"0666");yield Pe.unlink(B)}}const G=yield Pe.readlink(w);yield Pe.symlink(G,B,Pe.IS_WINDOWS?"junction":null)}else if(!(yield Pe.exists(B))||G){yield Pe.copyFile(w,B)}}))}},8206:(w,B,G)=>{const K=18;const pe=process.versions.node;const ye=pe.split(".");const[Se]=[+ye[0]];if(Se<K){console.error("You are running Node.js "+pe+".\n"+`Playwright requires Node.js ${K} or higher. \n`+"Please update your version of Node.js.");process.exit(1)}w.exports=G(9902)},7660:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{AndroidServerLauncherImpl:()=>AndroidServerLauncherImpl});w.exports=__toCommonJS(Be);var Qe=G(3833);var Pe=G(1409);var Fe=G(6741);var Me=G(4331);var Le=G(6665);class AndroidServerLauncherImpl{async launchServer(w={}){const B=(0,Pe.createPlaywright)({sdkLanguage:"javascript",isServer:true});const G=new Le.ProgressController;let K=await G.run((G=>B.android.devices(G,{host:w.adbHost,port:w.adbPort,omitDriverInstall:w.omitDriverInstall})));if(K.length===0)throw new Error("No devices found");if(w.deviceSerialNumber){K=K.filter((B=>B.serial===w.deviceSerialNumber));if(K.length===0)throw new Error(`No device with serial number '${w.deviceSerialNumber}' was found`)}if(K.length>1)throw new Error(`More than one device found. Please specify deviceSerialNumber`);const pe=K[0];const ye=w.wsPath?w.wsPath.startsWith("/")?w.wsPath:`/${w.wsPath}`:`/${(0,Fe.createGuid)()}`;const Se=new Qe.PlaywrightServer({mode:"launchServer",path:ye,maxConnections:1,preLaunchedAndroidDevice:pe});const Be=await Se.listen(w.port,w.host);const je=new Me.ws.EventEmitter;je.wsEndpoint=()=>Be;je.close=()=>pe.close();je.kill=()=>pe.close();pe.on("close",(()=>{Se.close();je.emit("close")}));return je}}0&&0},4635:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BrowserServerLauncherImpl:()=>BrowserServerLauncherImpl});w.exports=__toCommonJS(Pe);var Fe=G(3833);var Me=G(3062);var Le=G(1409);var je=G(6741);var qe=G(5749);var We=G(3559);var Ge=G(3647);var ze=G(4331);var Ye=__toESM(G(7919));var Ke=G(6665);class BrowserServerLauncherImpl{constructor(w){this._browserName=w}async launchServer(w={}){const B=(0,Le.createPlaywright)({sdkLanguage:"javascript",isServer:true});const G={id:"",startTime:0,endTime:0,type:"Internal",method:"",params:{},log:[],internal:true};const K={tChannelImpl:(w,B,G)=>{throw new Ye.ValidationError(`${G}: channels are not expected in launchServer`)},binary:"buffer",isUnderTest:qe.isUnderTest};let pe={...w,ignoreDefaultArgs:Array.isArray(w.ignoreDefaultArgs)?w.ignoreDefaultArgs:void 0,ignoreAllDefaultArgs:!!w.ignoreDefaultArgs&&!Array.isArray(w.ignoreDefaultArgs),env:w.env?envObjectToArray(w.env):void 0,timeout:w.timeout??Ge.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT};let ye;try{const Se=new Ke.ProgressController(G);ye=await Se.run((async G=>{if(w._userDataDir!==void 0){const ye=Ye.scheme["BrowserTypeLaunchPersistentContextParams"];pe=ye({...pe,userDataDir:w._userDataDir},"",K);const Se=await B[this._browserName].launchPersistentContext(G,w._userDataDir,pe);return Se._browser}else{const ye=Ye.scheme["BrowserTypeLaunchParams"];pe=ye(pe,"",K);return await B[this._browserName].launch(G,pe,toProtocolLogger(w.logger))}}))}catch(w){const B=Me.helper.formatBrowserLogs(G.log);(0,We.rewriteErrorMessage)(w,`${w.message} Failed to launch browser.${B}`);throw w}const Se=w.wsPath?w.wsPath.startsWith("/")?w.wsPath:`/${w.wsPath}`:`/${(0,je.createGuid)()}`;const Be=new Fe.PlaywrightServer({mode:w._sharedBrowser?"launchServerShared":"launchServer",path:Se,maxConnections:Infinity,preLaunchedBrowser:ye});const Qe=await Be.listen(w.port,w.host);const Pe=new ze.ws.EventEmitter;Pe.process=()=>ye.options.browserProcess.process;Pe.wsEndpoint=()=>Qe;Pe.close=()=>ye.options.browserProcess.close();Pe[Symbol.asyncDispose]=Pe.close;Pe.kill=()=>ye.options.browserProcess.kill();Pe._disconnectForTest=()=>Be.close();Pe._userDataDirForTest=ye._userDataDirForTest;ye.options.browserProcess.onclose=(w,B)=>{Be.close();Pe.emit("close",w,B)};return Pe}}function toProtocolLogger(w){return w?(B,G)=>{if(w.isEnabled("protocol","verbose"))w.log("protocol","verbose",(B==="send"?"SEND  ":" RECV ")+JSON.stringify(G),[],{})}:void 0}function envObjectToArray(w){const B=[];for(const G in w){if(!Object.is(w[G],void 0))B.push({name:G,value:String(w[G])})}return B}0&&0},1456:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{Accessibility:()=>Accessibility});w.exports=__toCommonJS(ye);function axNodeFromProtocol(w){const B={...w,value:w.valueNumber!==void 0?w.valueNumber:w.valueString,checked:w.checked==="checked"?true:w.checked==="unchecked"?false:w.checked,pressed:w.pressed==="pressed"?true:w.pressed==="released"?false:w.pressed,children:w.children?w.children.map(axNodeFromProtocol):void 0};delete B.valueNumber;delete B.valueString;return B}class Accessibility{constructor(w){this._channel=w}async snapshot(w={}){const B=w.root?w.root._elementChannel:void 0;const G=await this._channel.accessibilitySnapshot({interestingOnly:w.interestingOnly,root:B});return G.rootAXNode?axNodeFromProtocol(G.rootAXNode):null}}0&&0},3047:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Android:()=>Android,AndroidDevice:()=>AndroidDevice,AndroidInput:()=>AndroidInput,AndroidSocket:()=>AndroidSocket,AndroidWebView:()=>AndroidWebView});w.exports=__toCommonJS(Be);var Qe=G(4624);var Pe=G(549);var Fe=G(1884);var Me=G(8677);var Le=G(9548);var je=G(3112);var qe=G(8381);var We=G(1407);var Ge=G(3647);var ze=G(4233);var Ye=G(7427);class Android extends Fe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K);this._timeoutSettings=new qe.TimeoutSettings(this._platform)}setDefaultTimeout(w){this._timeoutSettings.setDefaultTimeout(w)}async devices(w={}){const{devices:B}=await this._channel.devices(w);return B.map((w=>AndroidDevice.from(w)))}async launchServer(w={}){if(!this._serverLauncher)throw new Error("Launching server is not supported");return await this._serverLauncher.launchServer(w)}async connect(w,B={}){return await this._wrapApiCall((async()=>{const G=B.timeout?(0,Ge.monotonicTime)()+B.timeout:0;const K={"x-playwright-browser":"android",...B.headers};const pe={wsEndpoint:w,headers:K,slowMo:B.slowMo,timeout:B.timeout||0};const ye=await(0,Ye.connectOverWebSocket)(this._connection,pe);let Se;ye.on("close",(()=>{Se?._didClose()}));const Be=await(0,ze.raceAgainstDeadline)((async()=>{const w=await ye.initializePlaywright();if(!w._initializer.preConnectedAndroidDevice){ye.close();throw new Error("Malformed endpoint. Did you use Android.launchServer method?")}Se=AndroidDevice.from(w._initializer.preConnectedAndroidDevice);Se._shouldCloseConnectionOnClose=true;Se.on(Le.Events.AndroidDevice.Close,(()=>ye.close()));return Se}),G);if(!Be.timedOut){return Be.result}else{ye.close();throw new Error(`Timeout ${B.timeout}ms exceeded`)}}))}}class AndroidDevice extends Fe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._webViews=new Map;this._shouldCloseConnectionOnClose=false;this._android=w;this.input=new AndroidInput(this);this._timeoutSettings=new qe.TimeoutSettings(this._platform,w._timeoutSettings);this._channel.on("webViewAdded",(({webView:w})=>this._onWebViewAdded(w)));this._channel.on("webViewRemoved",(({socketName:w})=>this._onWebViewRemoved(w)));this._channel.on("close",(()=>this._didClose()))}static from(w){return w._object}_onWebViewAdded(w){const B=new AndroidWebView(this,w);this._webViews.set(w.socketName,B);this.emit(Le.Events.AndroidDevice.WebView,B)}_onWebViewRemoved(w){const B=this._webViews.get(w);this._webViews.delete(w);if(B)B.emit(Le.Events.AndroidWebView.Close)}setDefaultTimeout(w){this._timeoutSettings.setDefaultTimeout(w)}serial(){return this._initializer.serial}model(){return this._initializer.model}webViews(){return[...this._webViews.values()]}async webView(w,B){const predicate=B=>{if(w.pkg)return B.pkg()===w.pkg;if(w.socketName)return B._socketName()===w.socketName;return false};const G=[...this._webViews.values()].find(predicate);if(G)return G;return await this.waitForEvent("webview",{...B,predicate:predicate})}async wait(w,B={}){await this._channel.wait({androidSelector:toSelectorChannel(w),...B,timeout:this._timeoutSettings.timeout(B)})}async fill(w,B,G={}){await this._channel.fill({androidSelector:toSelectorChannel(w),text:B,...G,timeout:this._timeoutSettings.timeout(G)})}async press(w,B,G={}){await this.tap(w,G);await this.input.press(B)}async tap(w,B={}){await this._channel.tap({androidSelector:toSelectorChannel(w),...B,timeout:this._timeoutSettings.timeout(B)})}async drag(w,B,G={}){await this._channel.drag({androidSelector:toSelectorChannel(w),dest:B,...G,timeout:this._timeoutSettings.timeout(G)})}async fling(w,B,G={}){await this._channel.fling({androidSelector:toSelectorChannel(w),direction:B,...G,timeout:this._timeoutSettings.timeout(G)})}async longTap(w,B={}){await this._channel.longTap({androidSelector:toSelectorChannel(w),...B,timeout:this._timeoutSettings.timeout(B)})}async pinchClose(w,B,G={}){await this._channel.pinchClose({androidSelector:toSelectorChannel(w),percent:B,...G,timeout:this._timeoutSettings.timeout(G)})}async pinchOpen(w,B,G={}){await this._channel.pinchOpen({androidSelector:toSelectorChannel(w),percent:B,...G,timeout:this._timeoutSettings.timeout(G)})}async scroll(w,B,G,K={}){await this._channel.scroll({androidSelector:toSelectorChannel(w),direction:B,percent:G,...K,timeout:this._timeoutSettings.timeout(K)})}async swipe(w,B,G,K={}){await this._channel.swipe({androidSelector:toSelectorChannel(w),direction:B,percent:G,...K,timeout:this._timeoutSettings.timeout(K)})}async info(w){return(await this._channel.info({androidSelector:toSelectorChannel(w)})).info}async screenshot(w={}){const{binary:B}=await this._channel.screenshot();if(w.path)await this._platform.fs().promises.writeFile(w.path,B);return B}async[Symbol.asyncDispose](){await this.close()}async close(){try{if(this._shouldCloseConnectionOnClose)this._connection.close();else await this._channel.close()}catch(w){if((0,Me.isTargetClosedError)(w))return;throw w}}_didClose(){this.emit(Le.Events.AndroidDevice.Close,this)}async shell(w){const{result:B}=await this._channel.shell({command:w});return B}async open(w){return AndroidSocket.from((await this._channel.open({command:w})).socket)}async installApk(w,B){await this._channel.installApk({file:await loadFile(this._platform,w),args:B&&B.args})}async push(w,B,G){await this._channel.push({file:await loadFile(this._platform,w),path:B,mode:G?G.mode:void 0})}async launchBrowser(w={}){const B=await(0,Pe.prepareBrowserContextParams)(this._platform,w);const G=await this._channel.launchBrowser(B);const K=Pe.BrowserContext.from(G.context);const pe=this._android._playwright.selectors;pe._contextsForSelectors.add(K);K.once(Le.Events.BrowserContext.Close,(()=>pe._contextsForSelectors.delete(K)));await K._initializeHarFromOptions(w.recordHar);return K}async waitForEvent(w,B={}){return await this._wrapApiCall((async()=>{const G=this._timeoutSettings.timeout(typeof B==="function"?{}:B);const K=typeof B==="function"?B:B.predicate;const pe=je.Waiter.createForEvent(this,w);pe.rejectOnTimeout(G,`Timeout ${G}ms exceeded while waiting for event "${w}"`);if(w!==Le.Events.AndroidDevice.Close)pe.rejectOnEvent(this,Le.Events.AndroidDevice.Close,(()=>new Me.TargetClosedError));const ye=await pe.waitForEvent(this,w,K);pe.dispose();return ye}))}}class AndroidSocket extends Fe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K);this._channel.on("data",(({data:w})=>this.emit(Le.Events.AndroidSocket.Data,w)));this._channel.on("close",(()=>this.emit(Le.Events.AndroidSocket.Close)))}async write(w){await this._channel.write({data:w})}async close(){await this._channel.close()}async[Symbol.asyncDispose](){await this.close()}}async function loadFile(w,B){if((0,We.isString)(B))return await w.fs().promises.readFile(B);return B}class AndroidInput{constructor(w){this._device=w}async type(w){await this._device._channel.inputType({text:w})}async press(w){await this._device._channel.inputPress({key:w})}async tap(w){await this._device._channel.inputTap({point:w})}async swipe(w,B,G){await this._device._channel.inputSwipe({segments:B,steps:G})}async drag(w,B,G){await this._device._channel.inputDrag({from:w,to:B,steps:G})}}function toSelectorChannel(w){const{checkable:B,checked:G,clazz:K,clickable:pe,depth:ye,desc:Se,enabled:Be,focusable:Qe,focused:Pe,hasChild:Fe,hasDescendant:Me,longClickable:Le,pkg:je,res:qe,scrollable:Ge,selected:ze,text:Ye}=w;const toRegex=w=>{if(w===void 0)return void 0;if((0,We.isRegExp)(w))return w.source;return"^"+w.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")+"$"};return{checkable:B,checked:G,clazz:toRegex(K),pkg:toRegex(je),desc:toRegex(Se),res:toRegex(qe),text:toRegex(Ye),clickable:pe,depth:ye,enabled:Be,focusable:Qe,focused:Pe,hasChild:Fe?{androidSelector:toSelectorChannel(Fe.selector)}:void 0,hasDescendant:Me?{androidSelector:toSelectorChannel(Me.selector),maxDepth:Me.maxDepth}:void 0,longClickable:Le,scrollable:Ge,selected:ze}}class AndroidWebView extends Qe.EventEmitter{constructor(w,B){super(w._platform);this._device=w;this._data=B}pid(){return this._data.pid}pkg(){return this._data.pkg}_socketName(){return this._data.socketName}async page(){if(!this._pagePromise)this._pagePromise=this._fetchPage();return await this._pagePromise}async _fetchPage(){const{context:w}=await this._device._channel.connectToWebView({socketName:this._data.socketName});return Pe.BrowserContext.from(w).pages()[0]}}0&&0},1404:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Artifact:()=>Artifact});w.exports=__toCommonJS(Be);var Qe=G(1884);var Pe=G(1930);var Fe=G(2647);class Artifact extends Qe.ChannelOwner{static from(w){return w._object}async pathAfterFinished(){if(this._connection.isRemote())throw new Error(`Path is not available when connecting remotely. Use saveAs() to save a local copy.`);return(await this._channel.pathAfterFinished()).value}async saveAs(w){if(!this._connection.isRemote()){await this._channel.saveAs({path:w});return}const B=await this._channel.saveAsStream();const G=Pe.Stream.from(B.stream);await(0,Fe.mkdirIfNeeded)(this._platform,w);await new Promise(((B,K)=>{G.stream().pipe(this._platform.fs().createWriteStream(w)).on("finish",B).on("error",K)}))}async failure(){return(await this._channel.failure()).error||null}async createReadStream(){const w=await this._channel.stream();const B=Pe.Stream.from(w.stream);return B.stream()}async readIntoBuffer(){const w=await this.createReadStream();return await new Promise(((B,G)=>{const K=[];w.on("data",(w=>{K.push(w)}));w.on("end",(()=>{B(Buffer.concat(K))}));w.on("error",G)}))}async cancel(){return await this._channel.cancel()}async delete(){return await this._channel.delete()}}0&&0},4128:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Browser:()=>Browser});w.exports=__toCommonJS(Be);var Qe=G(1404);var Pe=G(549);var Fe=G(3153);var Me=G(1884);var Le=G(8677);var je=G(9548);var qe=G(2647);class Browser extends Me.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._contexts=new Set;this._isConnected=true;this._shouldCloseConnectionOnClose=false;this._options={};this._name=K.name;this._channel.on("context",(({context:w})=>this._didCreateContext(Pe.BrowserContext.from(w))));this._channel.on("close",(()=>this._didClose()));this._closedPromise=new Promise((w=>this.once(je.Events.Browser.Disconnected,w)))}static from(w){return w._object}browserType(){return this._browserType}async newContext(w={}){return await this._innerNewContext(w,false)}async _newContextForReuse(w={}){return await this._innerNewContext(w,true)}async _disconnectFromReusedContext(w){const B=[...this._contexts].find((w=>w._forReuse));if(!B)return;await this._instrumentation.runBeforeCloseBrowserContext(B);for(const w of B.pages())w._onClose();B._onClose();await this._channel.disconnectFromReusedContext({reason:w})}async _innerNewContext(w={},B){w=this._browserType._playwright.selectors._withSelectorOptions({...this._browserType._playwright._defaultContextOptions,...w});const G=await(0,Pe.prepareBrowserContextParams)(this._platform,w);const K=B?await this._channel.newContextForReuse(G):await this._channel.newContext(G);const pe=Pe.BrowserContext.from(K.context);if(B)pe._forReuse=true;if(w.logger)pe._logger=w.logger;await pe._initializeHarFromOptions(w.recordHar);await this._instrumentation.runAfterCreateBrowserContext(pe);return pe}_connectToBrowserType(w,B,G){this._browserType=w;this._options=B;this._logger=G;for(const w of this._contexts)this._setupBrowserContext(w)}_didCreateContext(w){w._browser=this;this._contexts.add(w);if(this._browserType)this._setupBrowserContext(w)}_setupBrowserContext(w){w._logger=this._logger;w.tracing._tracesDir=this._options.tracesDir;this._browserType._contexts.add(w);this._browserType._playwright.selectors._contextsForSelectors.add(w);w.setDefaultTimeout(this._browserType._playwright._defaultContextTimeout);w.setDefaultNavigationTimeout(this._browserType._playwright._defaultContextNavigationTimeout)}contexts(){return[...this._contexts]}version(){return this._initializer.version}async newPage(w={}){return await this._wrapApiCall((async()=>{const B=await this.newContext(w);const G=await B.newPage();G._ownedContext=B;B._ownerPage=G;return G}),{title:"Create page"})}isConnected(){return this._isConnected}async newBrowserCDPSession(){return Fe.CDPSession.from((await this._channel.newBrowserCDPSession()).session)}async startTracing(w,B={}){this._path=B.path;await this._channel.startTracing({...B,page:w?w._channel:void 0})}async stopTracing(){const w=Qe.Artifact.from((await this._channel.stopTracing()).artifact);const B=await w.readIntoBuffer();await w.delete();if(this._path){await(0,qe.mkdirIfNeeded)(this._platform,this._path);await this._platform.fs().promises.writeFile(this._path,B);this._path=void 0}return B}async[Symbol.asyncDispose](){await this.close()}async close(w={}){this._closeReason=w.reason;try{if(this._shouldCloseConnectionOnClose)this._connection.close();else await this._channel.close(w);await this._closedPromise}catch(w){if((0,Le.isTargetClosedError)(w))return;throw w}}_didClose(){this._isConnected=false;this.emit(je.Events.Browser.Disconnected,this)}}0&&0},549:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BrowserContext:()=>BrowserContext,prepareBrowserContextParams:()=>prepareBrowserContextParams,toClientCertificatesProtocol:()=>toClientCertificatesProtocol});w.exports=__toCommonJS(Pe);var Fe=G(1404);var Me=G(3153);var Le=G(1884);var je=G(1025);var qe=G(9506);var We=G(8657);var Ge=G(8118);var ze=G(8677);var Ye=G(9548);var Ke=G(412);var Xe=G(5205);var rt=G(9874);var it=__toESM(G(9482));var ot=G(309);var at=G(3593);var lt=G(3112);var ct=G(922);var ut=G(8216);var ft=G(8381);var gt=G(2647);var mt=G(8390);var wt=G(4376);var vt=G(1407);var _t=G(3559);class BrowserContext extends Le.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._pages=new Set;this._routes=[];this._webSocketRoutes=[];this._browser=null;this._bindings=new Map;this._forReuse=false;this._serviceWorkers=new Set;this._harRecorders=new Map;this._closingStatus="none";this._harRouters=[];this._options=K.options;this._timeoutSettings=new ft.TimeoutSettings(this._platform);this.tracing=at.Tracing.from(K.tracing);this.request=Ke.APIRequestContext.from(K.requestContext);this.request._timeoutSettings=this._timeoutSettings;this.clock=new qe.Clock(this);this._channel.on("bindingCall",(({binding:w})=>this._onBinding(ot.BindingCall.from(w))));this._channel.on("close",(()=>this._onClose()));this._channel.on("page",(({page:w})=>this._onPage(ot.Page.from(w))));this._channel.on("route",(({route:w})=>this._onRoute(it.Route.from(w))));this._channel.on("webSocketRoute",(({webSocketRoute:w})=>this._onWebSocketRoute(it.WebSocketRoute.from(w))));this._channel.on("serviceWorker",(({worker:w})=>{const B=ut.Worker.from(w);B._context=this;this._serviceWorkers.add(B);this.emit(Ye.Events.BrowserContext.ServiceWorker,B)}));this._channel.on("console",(w=>{const B=new We.ConsoleMessage(this._platform,w,ot.Page.fromNullable(w.page));this.emit(Ye.Events.BrowserContext.Console,B);const G=B.page();if(G)G.emit(Ye.Events.Page.Console,B)}));this._channel.on("pageError",(({error:w,page:B})=>{const G=ot.Page.from(B);const K=(0,ze.parseError)(w);this.emit(Ye.Events.BrowserContext.WebError,new ct.WebError(G,K));if(G)G.emit(Ye.Events.Page.PageError,K)}));this._channel.on("dialog",(({dialog:w})=>{const B=Ge.Dialog.from(w);let G=this.emit(Ye.Events.BrowserContext.Dialog,B);const K=B.page();if(K)G=K.emit(Ye.Events.Page.Dialog,B)||G;if(!G){if(B.type()==="beforeunload")w.accept({}).catch((()=>{}));else w.dismiss().catch((()=>{}))}}));this._channel.on("request",(({request:w,page:B})=>this._onRequest(it.Request.from(w),ot.Page.fromNullable(B))));this._channel.on("requestFailed",(({request:w,failureText:B,responseEndTiming:G,page:K})=>this._onRequestFailed(it.Request.from(w),G,B,ot.Page.fromNullable(K))));this._channel.on("requestFinished",(w=>this._onRequestFinished(w)));this._channel.on("response",(({response:w,page:B})=>this._onResponse(it.Response.from(w),ot.Page.fromNullable(B))));this._channel.on("recorderEvent",(({event:w,data:B,page:G,code:K})=>{if(w==="actionAdded")this._onRecorderEventSink?.actionAdded?.(ot.Page.from(G),B,K);else if(w==="actionUpdated")this._onRecorderEventSink?.actionUpdated?.(ot.Page.from(G),B,K);else if(w==="signalAdded")this._onRecorderEventSink?.signalAdded?.(ot.Page.from(G),B)}));this._closedPromise=new Promise((w=>this.once(Ye.Events.BrowserContext.Close,w)));this._setEventToSubscriptionMapping(new Map([[Ye.Events.BrowserContext.Console,"console"],[Ye.Events.BrowserContext.Dialog,"dialog"],[Ye.Events.BrowserContext.Request,"request"],[Ye.Events.BrowserContext.Response,"response"],[Ye.Events.BrowserContext.RequestFinished,"requestFinished"],[Ye.Events.BrowserContext.RequestFailed,"requestFailed"]]))}static from(w){return w._object}static fromNullable(w){return w?BrowserContext.from(w):null}async _initializeHarFromOptions(w){if(!w)return;const B=w.path.endsWith(".zip")?"attach":"embed";await this._recordIntoHAR(w.path,null,{url:w.urlFilter,updateContent:w.content??(w.omitContent?"omit":B),updateMode:w.mode??"full"})}_onPage(w){this._pages.add(w);this.emit(Ye.Events.BrowserContext.Page,w);if(w._opener&&!w._opener.isClosed())w._opener.emit(Ye.Events.Page.Popup,w)}_onRequest(w,B){this.emit(Ye.Events.BrowserContext.Request,w);if(B)B.emit(Ye.Events.Page.Request,w)}_onResponse(w,B){this.emit(Ye.Events.BrowserContext.Response,w);if(B)B.emit(Ye.Events.Page.Response,w)}_onRequestFailed(w,B,G,K){w._failureText=G||null;w._setResponseEndTiming(B);this.emit(Ye.Events.BrowserContext.RequestFailed,w);if(K)K.emit(Ye.Events.Page.RequestFailed,w)}_onRequestFinished(w){const{responseEndTiming:B}=w;const G=it.Request.from(w.request);const K=it.Response.fromNullable(w.response);const pe=ot.Page.fromNullable(w.page);G._setResponseEndTiming(B);this.emit(Ye.Events.BrowserContext.RequestFinished,G);if(pe)pe.emit(Ye.Events.Page.RequestFinished,G);if(K)K._finishedPromise.resolve(null)}async _onRoute(w){w._context=this;const B=w.request()._safePage();const G=this._routes.slice();for(const K of G){if(B?._closeWasCalled||this._closingStatus!=="none")return;if(!K.matches(w.request().url()))continue;const G=this._routes.indexOf(K);if(G===-1)continue;if(K.willExpire())this._routes.splice(G,1);const pe=await K.handle(w);if(!this._routes.length)this._updateInterceptionPatterns({internal:true}).catch((()=>{}));if(pe)return}await w._innerContinue(true).catch((()=>{}))}async _onWebSocketRoute(w){const B=this._webSocketRoutes.find((B=>B.matches(w.url())));if(B)await B.handle(w);else w.connectToServer()}async _onBinding(w){const B=this._bindings.get(w._initializer.name);if(!B)return;await w.call(B)}setDefaultNavigationTimeout(w){this._timeoutSettings.setDefaultNavigationTimeout(w)}setDefaultTimeout(w){this._timeoutSettings.setDefaultTimeout(w)}browser(){return this._browser}pages(){return[...this._pages]}async newPage(){if(this._ownerPage)throw new Error("Please use browser.newContext()");return ot.Page.from((await this._channel.newPage()).page)}async cookies(w){if(!w)w=[];if(w&&typeof w==="string")w=[w];return(await this._channel.cookies({urls:w})).cookies}async addCookies(w){await this._channel.addCookies({cookies:w})}async clearCookies(w={}){await this._channel.clearCookies({name:(0,vt.isString)(w.name)?w.name:void 0,nameRegexSource:(0,vt.isRegExp)(w.name)?w.name.source:void 0,nameRegexFlags:(0,vt.isRegExp)(w.name)?w.name.flags:void 0,domain:(0,vt.isString)(w.domain)?w.domain:void 0,domainRegexSource:(0,vt.isRegExp)(w.domain)?w.domain.source:void 0,domainRegexFlags:(0,vt.isRegExp)(w.domain)?w.domain.flags:void 0,path:(0,vt.isString)(w.path)?w.path:void 0,pathRegexSource:(0,vt.isRegExp)(w.path)?w.path.source:void 0,pathRegexFlags:(0,vt.isRegExp)(w.path)?w.path.flags:void 0})}async grantPermissions(w,B){await this._channel.grantPermissions({permissions:w,...B})}async clearPermissions(){await this._channel.clearPermissions()}async setGeolocation(w){await this._channel.setGeolocation({geolocation:w||void 0})}async setExtraHTTPHeaders(w){it.validateHeaders(w);await this._channel.setExtraHTTPHeaders({headers:(0,mt.headersObjectToArray)(w)})}async setOffline(w){await this._channel.setOffline({offline:w})}async setHTTPCredentials(w){await this._channel.setHTTPCredentials({httpCredentials:w||void 0})}async addInitScript(w,B){const G=await(0,je.evaluationScript)(this._platform,w,B);await this._channel.addInitScript({source:G})}async exposeBinding(w,B,G={}){await this._channel.exposeBinding({name:w,needsHandle:G.handle});this._bindings.set(w,B)}async exposeFunction(w,B){await this._channel.exposeBinding({name:w});const binding=(w,...G)=>B(...G);this._bindings.set(w,binding)}async route(w,B,G={}){this._routes.unshift(new it.RouteHandler(this._platform,this._options.baseURL,w,B,G.times));await this._updateInterceptionPatterns({title:"Route requests"})}async routeWebSocket(w,B){this._webSocketRoutes.unshift(new it.WebSocketRouteHandler(this._options.baseURL,w,B));await this._updateWebSocketInterceptionPatterns({title:"Route WebSockets"})}async _recordIntoHAR(w,B,G={}){const{harId:K}=await this._channel.harStart({page:B?._channel,options:{zip:w.endsWith(".zip"),content:G.updateContent??"attach",urlGlob:(0,vt.isString)(G.url)?G.url:void 0,urlRegexSource:(0,vt.isRegExp)(G.url)?G.url.source:void 0,urlRegexFlags:(0,vt.isRegExp)(G.url)?G.url.flags:void 0,mode:G.updateMode??"minimal"}});this._harRecorders.set(K,{path:w,content:G.updateContent??"attach"})}async routeFromHAR(w,B={}){const G=this._connection.localUtils();if(!G)throw new Error("Route from har is not supported in thin clients");if(B.update){await this._recordIntoHAR(w,null,B);return}const K=await rt.HarRouter.create(G,w,B.notFound||"abort",{urlMatch:B.url});this._harRouters.push(K);await K.addContextRoute(this)}_disposeHarRouters(){this._harRouters.forEach((w=>w.dispose()));this._harRouters=[]}async unrouteAll(w){await this._unrouteInternal(this._routes,[],w?.behavior);this._disposeHarRouters()}async unroute(w,B){const G=[];const K=[];for(const pe of this._routes){if((0,wt.urlMatchesEqual)(pe.url,w)&&(!B||pe.handler===B))G.push(pe);else K.push(pe)}await this._unrouteInternal(G,K,"default")}async _unrouteInternal(w,B,G){this._routes=B;if(G&&G!=="default"){const B=w.map((w=>w.stop(G)));await Promise.all(B)}await this._updateInterceptionPatterns({title:"Unroute requests"})}async _updateInterceptionPatterns(w){const B=it.RouteHandler.prepareInterceptionPatterns(this._routes);await this._wrapApiCall((()=>this._channel.setNetworkInterceptionPatterns({patterns:B})),w)}async _updateWebSocketInterceptionPatterns(w){const B=it.WebSocketRouteHandler.prepareInterceptionPatterns(this._webSocketRoutes);await this._wrapApiCall((()=>this._channel.setWebSocketInterceptionPatterns({patterns:B})),w)}_effectiveCloseReason(){return this._closeReason||this._browser?._closeReason}async waitForEvent(w,B={}){return await this._wrapApiCall((async()=>{const G=this._timeoutSettings.timeout(typeof B==="function"?{}:B);const K=typeof B==="function"?B:B.predicate;const pe=lt.Waiter.createForEvent(this,w);pe.rejectOnTimeout(G,`Timeout ${G}ms exceeded while waiting for event "${w}"`);if(w!==Ye.Events.BrowserContext.Close)pe.rejectOnEvent(this,Ye.Events.BrowserContext.Close,(()=>new ze.TargetClosedError(this._effectiveCloseReason())));const ye=await pe.waitForEvent(this,w,K);pe.dispose();return ye}))}async storageState(w={}){const B=await this._channel.storageState({indexedDB:w.indexedDB});if(w.path){await(0,gt.mkdirIfNeeded)(this._platform,w.path);await this._platform.fs().promises.writeFile(w.path,JSON.stringify(B,void 0,2),"utf8")}return B}backgroundPages(){return[]}serviceWorkers(){return[...this._serviceWorkers]}async newCDPSession(w){if(!(w instanceof ot.Page)&&!(w instanceof Xe.Frame))throw new Error("page: expected Page or Frame");const B=await this._channel.newCDPSession(w instanceof ot.Page?{page:w._channel}:{frame:w._channel});return Me.CDPSession.from(B.session)}_onClose(){this._closingStatus="closed";this._browser?._contexts.delete(this);this._browser?._browserType._contexts.delete(this);this._browser?._browserType._playwright.selectors._contextsForSelectors.delete(this);this._disposeHarRouters();this.tracing._resetStackCounter();this.emit(Ye.Events.BrowserContext.Close,this)}async[Symbol.asyncDispose](){await this.close()}async close(w={}){if(this._closingStatus!=="none")return;this._closeReason=w.reason;this._closingStatus="closing";await this.request.dispose(w);await this._instrumentation.runBeforeCloseBrowserContext(this);await this._wrapApiCall((async()=>{for(const[w,B]of this._harRecorders){const G=await this._channel.harExport({harId:w});const K=Fe.Artifact.from(G.artifact);const pe=B.content==="attach"||B.path.endsWith(".zip");const ye=B.path.endsWith(".zip");if(pe&&!ye){const w=this._connection.localUtils();if(!w)throw new Error("Uncompressed har is not supported in thin clients");await K.saveAs(B.path+".tmp");await w.harUnzip({zipFile:B.path+".tmp",harFile:B.path})}else{await K.saveAs(B.path)}await K.delete()}}),{internal:true});await this._channel.close(w);await this._closedPromise}async _enableRecorder(w,B){if(B)this._onRecorderEventSink=B;await this._channel.enableRecorder(w)}async _disableRecorder(){this._onRecorderEventSink=void 0;await this._channel.disableRecorder()}}async function prepareStorageState(w,B){if(typeof B!=="string")return B;try{return JSON.parse(await w.fs().promises.readFile(B,"utf8"))}catch(w){(0,_t.rewriteErrorMessage)(w,`Error reading storage state from ${B}:\n`+w.message);throw w}}async function prepareBrowserContextParams(w,B){if(B.videoSize&&!B.videosPath)throw new Error(`"videoSize" option requires "videosPath" to be specified`);if(B.extraHTTPHeaders)it.validateHeaders(B.extraHTTPHeaders);const G={...B,viewport:B.viewport===null?void 0:B.viewport,noDefaultViewport:B.viewport===null,extraHTTPHeaders:B.extraHTTPHeaders?(0,mt.headersObjectToArray)(B.extraHTTPHeaders):void 0,storageState:B.storageState?await prepareStorageState(w,B.storageState):void 0,serviceWorkers:B.serviceWorkers,colorScheme:B.colorScheme===null?"no-override":B.colorScheme,reducedMotion:B.reducedMotion===null?"no-override":B.reducedMotion,forcedColors:B.forcedColors===null?"no-override":B.forcedColors,contrast:B.contrast===null?"no-override":B.contrast,acceptDownloads:toAcceptDownloadsProtocol(B.acceptDownloads),clientCertificates:await toClientCertificatesProtocol(w,B.clientCertificates)};if(!G.recordVideo&&B.videosPath){G.recordVideo={dir:B.videosPath,size:B.videoSize}}if(G.recordVideo&&G.recordVideo.dir)G.recordVideo.dir=w.path().resolve(G.recordVideo.dir);return G}function toAcceptDownloadsProtocol(w){if(w===void 0)return void 0;if(w)return"accept";return"deny"}async function toClientCertificatesProtocol(w,B){if(!B)return void 0;const bufferizeContent=async(B,G)=>{if(B)return B;if(G)return await w.fs().promises.readFile(G)};return await Promise.all(B.map((async w=>({origin:w.origin,cert:await bufferizeContent(w.cert,w.certPath),key:await bufferizeContent(w.key,w.keyPath),pfx:await bufferizeContent(w.pfx,w.pfxPath),passphrase:w.passphrase}))))}0&&0},8488:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{BrowserType:()=>BrowserType});w.exports=__toCommonJS(Be);var Qe=G(4128);var Pe=G(549);var Fe=G(1884);var Me=G(1025);var Le=G(9548);var je=G(8164);var qe=G(8390);var We=G(3647);var Ge=G(4233);var ze=G(7427);var Ye=G(8381);class BrowserType extends Fe.ChannelOwner{constructor(){super(...arguments);this._contexts=new Set}static from(w){return w._object}executablePath(){if(!this._initializer.executablePath)throw new Error("Browser is not supported on current platform");return this._initializer.executablePath}name(){return this._initializer.name}async launch(w={}){(0,je.assert)(!w.userDataDir,"userDataDir option is not supported in `browserType.launch`. Use `browserType.launchPersistentContext` instead");(0,je.assert)(!w.port,"Cannot specify a port without launching as a server.");const B=w.logger||this._playwright._defaultLaunchOptions?.logger;w={...this._playwright._defaultLaunchOptions,...w};const G={...w,ignoreDefaultArgs:Array.isArray(w.ignoreDefaultArgs)?w.ignoreDefaultArgs:void 0,ignoreAllDefaultArgs:!!w.ignoreDefaultArgs&&!Array.isArray(w.ignoreDefaultArgs),env:w.env?(0,Me.envObjectToArray)(w.env):void 0,timeout:new Ye.TimeoutSettings(this._platform).launchTimeout(w)};return await this._wrapApiCall((async()=>{const K=Qe.Browser.from((await this._channel.launch(G)).browser);K._connectToBrowserType(this,w,B);return K}))}async launchServer(w={}){if(!this._serverLauncher)throw new Error("Launching server is not supported");w={...this._playwright._defaultLaunchOptions,...w};return await this._serverLauncher.launchServer(w)}async launchPersistentContext(w,B={}){const G=B.logger||this._playwright._defaultLaunchOptions?.logger;(0,je.assert)(!B.port,"Cannot specify a port without launching as a server.");B=this._playwright.selectors._withSelectorOptions({...this._playwright._defaultLaunchOptions,...this._playwright._defaultContextOptions,...B});const K=await(0,Pe.prepareBrowserContextParams)(this._platform,B);const pe={...K,ignoreDefaultArgs:Array.isArray(B.ignoreDefaultArgs)?B.ignoreDefaultArgs:void 0,ignoreAllDefaultArgs:!!B.ignoreDefaultArgs&&!Array.isArray(B.ignoreDefaultArgs),env:B.env?(0,Me.envObjectToArray)(B.env):void 0,channel:B.channel,userDataDir:this._platform.path().isAbsolute(w)||!w?w:this._platform.path().resolve(w),timeout:new Ye.TimeoutSettings(this._platform).launchTimeout(B)};const ye=await this._wrapApiCall((async()=>{const w=await this._channel.launchPersistentContext(pe);const K=Qe.Browser.from(w.browser);K._connectToBrowserType(this,B,G);const ye=Pe.BrowserContext.from(w.context);await ye._initializeHarFromOptions(B.recordHar);return ye}));await this._instrumentation.runAfterCreateBrowserContext(ye);return ye}async connect(w,B){if(typeof w==="string")return await this._connect({...B,wsEndpoint:w});(0,je.assert)(w.wsEndpoint,"options.wsEndpoint is required");return await this._connect(w)}async _connect(w){const B=w.logger;return await this._wrapApiCall((async()=>{const G=w.timeout?(0,We.monotonicTime)()+w.timeout:0;const K={"x-playwright-browser":this.name(),...w.headers};const pe={wsEndpoint:w.wsEndpoint,headers:K,exposeNetwork:w.exposeNetwork??w._exposeNetwork,slowMo:w.slowMo,timeout:w.timeout||0};if(w.__testHookRedirectPortForwarding)pe.socksProxyRedirectPortForTest=w.__testHookRedirectPortForwarding;const ye=await(0,ze.connectOverWebSocket)(this._connection,pe);let Se;ye.on("close",(()=>{for(const w of Se?.contexts()||[]){for(const B of w.pages())B._onClose();w._onClose()}setTimeout((()=>Se?._didClose()),0)}));const Be=await(0,Ge.raceAgainstDeadline)((async()=>{if(w.__testHookBeforeCreateBrowser)await w.__testHookBeforeCreateBrowser();const G=await ye.initializePlaywright();if(!G._initializer.preLaunchedBrowser){ye.close();throw new Error("Malformed endpoint. Did you use BrowserType.launchServer method?")}G.selectors=this._playwright.selectors;Se=Qe.Browser.from(G._initializer.preLaunchedBrowser);Se._connectToBrowserType(this,{},B);Se._shouldCloseConnectionOnClose=true;Se.on(Le.Events.Browser.Disconnected,(()=>ye.close()));return Se}),G);if(!Be.timedOut){return Be.result}else{ye.close();throw new Error(`Timeout ${w.timeout}ms exceeded`)}}))}async connectOverCDP(w,B){if(typeof w==="string")return await this._connectOverCDP(w,B);const G="endpointURL"in w?w.endpointURL:w.wsEndpoint;(0,je.assert)(G,"Cannot connect over CDP without wsEndpoint.");return await this.connectOverCDP(G,w)}async _connectOverCDP(w,B={}){if(this.name()!=="chromium")throw new Error("Connecting over CDP is only supported in Chromium.");const G=B.headers?(0,qe.headersObjectToArray)(B.headers):void 0;const K=await this._channel.connectOverCDP({endpointURL:w,headers:G,slowMo:B.slowMo,timeout:new Ye.TimeoutSettings(this._platform).timeout(B)});const pe=Qe.Browser.from(K.browser);pe._connectToBrowserType(this,{},B.logger);if(K.defaultContext)await this._instrumentation.runAfterCreateBrowserContext(Pe.BrowserContext.from(K.defaultContext));return pe}}0&&0},3153:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{CDPSession:()=>CDPSession});w.exports=__toCommonJS(Be);var Qe=G(1884);class CDPSession extends Qe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K);this._channel.on("event",(({method:w,params:B})=>{this.emit(w,B)}));this.on=super.on;this.addListener=super.addListener;this.off=super.removeListener;this.removeListener=super.removeListener;this.once=super.once}async send(w,B){const G=await this._channel.send({method:w,params:B});return G.result}async detach(){return await this._channel.detach()}}0&&0},1884:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ChannelOwner:()=>ChannelOwner});w.exports=__toCommonJS(Be);var Qe=G(4624);var Pe=G(8873);var Fe=G(5295);var Me=G(332);var Le=G(3559);class ChannelOwner extends Qe.EventEmitter{constructor(w,B,G,K){const pe=w instanceof ChannelOwner?w._connection:w;super(pe._platform);this._objects=new Map;this._eventToSubscriptionMapping=new Map;this._wasCollected=false;this.setMaxListeners(0);this._connection=pe;this._type=B;this._guid=G;this._parent=w instanceof ChannelOwner?w:void 0;this._instrumentation=this._connection._instrumentation;this._connection._objects.set(G,this);if(this._parent){this._parent._objects.set(G,this);this._logger=this._parent._logger}this._channel=this._createChannel(new Qe.EventEmitter(pe._platform));this._initializer=K}_setEventToSubscriptionMapping(w){this._eventToSubscriptionMapping=w}_updateSubscription(w,B){const G=this._eventToSubscriptionMapping.get(String(w));if(G)this._channel.updateSubscription({event:G,enabled:B}).catch((()=>{}))}on(w,B){if(!this.listenerCount(w))this._updateSubscription(w,true);super.on(w,B);return this}addListener(w,B){if(!this.listenerCount(w))this._updateSubscription(w,true);super.addListener(w,B);return this}prependListener(w,B){if(!this.listenerCount(w))this._updateSubscription(w,true);super.prependListener(w,B);return this}off(w,B){super.off(w,B);if(!this.listenerCount(w))this._updateSubscription(w,false);return this}removeListener(w,B){super.removeListener(w,B);if(!this.listenerCount(w))this._updateSubscription(w,false);return this}_adopt(w){w._parent._objects.delete(w._guid);this._objects.set(w._guid,w);w._parent=this}_dispose(w){if(this._parent)this._parent._objects.delete(this._guid);this._connection._objects.delete(this._guid);this._wasCollected=w==="gc";for(const B of[...this._objects.values()])B._dispose(w);this._objects.clear()}_debugScopeState(){return{_guid:this._guid,objects:Array.from(this._objects.values()).map((w=>w._debugScopeState()))}}_validatorToWireContext(){return{tChannelImpl:tChannelImplToWire,binary:this._connection.rawBuffers()?"buffer":"toBase64",isUnderTest:()=>this._platform.isUnderTest()}}_createChannel(w){const B=new Proxy(w,{get:(w,B)=>{if(typeof B==="string"){const w=(0,Pe.maybeFindValidator)(this._type,B,"Params");const{internal:G}=Fe.methodMetainfo.get(this._type+"."+B)||{};if(w){return async K=>await this._wrapApiCall((async G=>{const pe=w(K,"",this._validatorToWireContext());if(!G.internal&&!G.reported){G.reported=true;this._instrumentation.onApiCallBegin(G,{type:this._type,method:B,params:K});logApiCall(this._platform,this._logger,`=> ${G.apiName} started`);return await this._connection.sendMessageToServer(this,B,pe,G)}return await this._connection.sendMessageToServer(this,B,pe,{internal:true})}),{internal:G})}}return w[B]}});B._object=this;return B}async _wrapApiCall(w,B){const G=this._logger;const K=this._platform.zones.current().data();if(K)return await w(K);const pe=(0,Me.captureLibraryStackTrace)(this._platform);const ye={title:B?.title,apiName:pe.apiName,frames:pe.frames,internal:B?.internal??false,reported:false,userData:void 0,stepId:void 0};try{const K=await this._platform.zones.current().push(ye).run((async()=>await w(ye)));if(!B?.internal){logApiCall(this._platform,G,`<= ${ye.apiName} succeeded`);this._instrumentation.onApiCallEnd(ye)}return K}catch(w){const K=(this._platform.showInternalStackFrames()||this._platform.isUnderTest())&&w.stack?"\n<inner error>\n"+w.stack:"";if(ye.apiName&&!ye.apiName.includes("<anonymous>"))w.message=ye.apiName+": "+w.message;const Se="\n"+(0,Le.stringifyStackFrames)(pe.frames).join("\n")+K;if(Se.trim())w.stack=w.message+Se;else w.stack="";if(!B?.internal){ye.error=w;logApiCall(this._platform,G,`<= ${ye.apiName} failed`);this._instrumentation.onApiCallEnd(ye)}throw w}}toJSON(){return{_type:this._type,_guid:this._guid}}}function logApiCall(w,B,G){if(B&&B.isEnabled("api","info"))B.log("api","info",G,[],{color:"cyan"});w.log("api",G)}function tChannelImplToWire(w,B,G,K){if(B._object instanceof ChannelOwner&&(w==="*"||w.includes(B._object._type)))return{guid:B._object._guid};throw new Pe.ValidationError(`${G}: expected channel ${w.toString()}`)}0&&0},1025:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{addSourceUrlToScript:()=>addSourceUrlToScript,envObjectToArray:()=>envObjectToArray,evaluationScript:()=>evaluationScript});w.exports=__toCommonJS(Be);var Qe=G(1407);function envObjectToArray(w){const B=[];for(const G in w){if(!Object.is(w[G],void 0))B.push({name:G,value:String(w[G])})}return B}async function evaluationScript(w,B,G,K=true){if(typeof B==="function"){const w=B.toString();const K=Object.is(G,void 0)?"undefined":JSON.stringify(G);return`(${w})(${K})`}if(G!==void 0)throw new Error("Cannot evaluate a string with arguments");if((0,Qe.isString)(B))return B;if(B.content!==void 0)return B.content;if(B.path!==void 0){let G=await w.fs().promises.readFile(B.path,"utf8");if(K)G=addSourceUrlToScript(G,B.path);return G}throw new Error("Either path or content property must be present")}function addSourceUrlToScript(w,B){return`${w}\n//# sourceURL=${B.replace(/\n/g,"")}`}0&&0},2591:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{createInstrumentation:()=>createInstrumentation});w.exports=__toCommonJS(ye);function createInstrumentation(){const w=[];return new Proxy({},{get:(B,G)=>{if(typeof G!=="string")return B[G];if(G==="addListener")return B=>w.push(B);if(G==="removeListener")return B=>w.splice(w.indexOf(B),1);if(G==="removeAllListeners")return()=>w.splice(0,w.length);if(G.startsWith("run")){return async(...B)=>{for(const K of w)await(K[G]?.(...B))}}if(G.startsWith("on")){return(...B)=>{for(const K of w)K[G]?.(...B)}}return B[G]}})}0&&0},332:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{captureLibraryStackTrace:()=>captureLibraryStackTrace});w.exports=__toCommonJS(Be);var Qe=G(3559);function captureLibraryStackTrace(w){const B=(0,Qe.captureRawStack)();let G=B.map((B=>{const G=(0,Qe.parseStackFrame)(B,w.pathSeparator,w.showInternalStackFrames());if(!G||!G.file)return null;const K=!!w.coreDir&&G.file.startsWith(w.coreDir);const pe={frame:G,frameText:B,isPlaywrightLibrary:K};return pe})).filter(Boolean);let K="";for(let w=0;w<G.length-1;w++){const B=G[w];if(B.isPlaywrightLibrary&&!G[w+1].isPlaywrightLibrary){K=K||normalizeAPIName(B.frame.function);break}}function normalizeAPIName(w){if(!w)return"";const B=w.match(/(API|JS|CDP|[A-Z])(.*)/);if(!B)return w;return B[1].toLowerCase()+B[2]}const pe=w.boxedStackPrefixes();G=G.filter((w=>{if(pe.some((B=>w.frame.file.startsWith(B))))return false;return true}));return{frames:G.map((w=>w.frame)),apiName:K}}0&&0},9506:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{Clock:()=>Clock});w.exports=__toCommonJS(ye);class Clock{constructor(w){this._browserContext=w}async install(w={}){await this._browserContext._channel.clockInstall(w.time!==void 0?parseTime(w.time):{})}async fastForward(w){await this._browserContext._channel.clockFastForward(parseTicks(w))}async pauseAt(w){await this._browserContext._channel.clockPauseAt(parseTime(w))}async resume(){await this._browserContext._channel.clockResume({})}async runFor(w){await this._browserContext._channel.clockRunFor(parseTicks(w))}async setFixedTime(w){await this._browserContext._channel.clockSetFixedTime(parseTime(w))}async setSystemTime(w){await this._browserContext._channel.clockSetSystemTime(parseTime(w))}}function parseTime(w){if(typeof w==="number")return{timeNumber:w};if(typeof w==="string")return{timeString:w};if(!isFinite(w.getTime()))throw new Error(`Invalid date: ${w}`);return{timeNumber:w.getTime()}}function parseTicks(w){return{ticksNumber:typeof w==="number"?w:void 0,ticksString:typeof w==="string"?w:void 0}}0&&0},3894:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Connection:()=>Connection});w.exports=__toCommonJS(Be);var Qe=G(4624);var Pe=G(3047);var Fe=G(1404);var Me=G(4128);var Le=G(549);var je=G(8488);var qe=G(3153);var We=G(1884);var Ge=G(2591);var ze=G(8118);var Ye=G(6028);var Ke=G(6902);var Xe=G(8677);var rt=G(412);var it=G(5205);var ot=G(159);var at=G(6704);var lt=G(8266);var ct=G(9482);var ut=G(309);var ft=G(709);var gt=G(1930);var mt=G(3593);var wt=G(8216);var vt=G(6582);var _t=G(8873);var It=G(3559);class Root extends We.ChannelOwner{constructor(w){super(w,"Root","",{})}async initialize(){return ft.Playwright.from((await this._channel.initialize({sdkLanguage:"javascript"})).playwright)}}class DummyChannelOwner extends We.ChannelOwner{}class Connection extends Qe.EventEmitter{constructor(w,B,G,K=[]){super(w);this._objects=new Map;this.onmessage=w=>{};this._lastId=0;this._callbacks=new Map;this._isRemote=false;this._rawBuffers=false;this._tracingCount=0;this._instrumentation=G||(0,Ge.createInstrumentation)();this._localUtils=B;this._rootObject=new Root(this);this.headers=K}markAsRemote(){this._isRemote=true}isRemote(){return this._isRemote}useRawBuffers(){this._rawBuffers=true}rawBuffers(){return this._rawBuffers}localUtils(){return this._localUtils}async initializePlaywright(){return await this._rootObject.initialize()}getObjectWithKnownName(w){return this._objects.get(w)}setIsTracing(w){if(w)this._tracingCount++;else this._tracingCount--}async sendMessageToServer(w,B,G,K){if(this._closedError)throw this._closedError;if(w._wasCollected)throw new Error("The object has been collected to prevent unbounded heap growth.");const pe=w._guid;const ye=w._type;const Se=++this._lastId;const Be={id:Se,guid:pe,method:B,params:G};if(this._platform.isLogEnabled("channel")){this._platform.log("channel","SEND> "+JSON.stringify(Be))}const Qe=K.frames?.[0]?{file:K.frames[0].file,line:K.frames[0].line,column:K.frames[0].column}:void 0;const Pe={title:K.title,location:Qe,internal:K.internal,stepId:K.stepId};if(this._tracingCount&&K.frames&&ye!=="LocalUtils")this._localUtils?.addStackToTracingNoReply({callData:{stack:K.frames??[],id:Se}}).catch((()=>{}));this._platform.zones.empty.run((()=>this.onmessage({...Be,metadata:Pe})));return await new Promise(((w,G)=>this._callbacks.set(Se,{resolve:w,reject:G,title:K.title,type:ye,method:B})))}_validatorFromWireContext(){return{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._rawBuffers?"buffer":"fromBase64",isUnderTest:()=>this._platform.isUnderTest()}}dispatch(w){if(this._closedError)return;const{id:B,guid:G,method:K,params:pe,result:ye,error:Se,log:Be}=w;if(B){if(this._platform.isLogEnabled("channel"))this._platform.log("channel","<RECV "+JSON.stringify(w));const G=this._callbacks.get(B);if(!G)throw new Error(`Cannot find command to respond: ${B}`);this._callbacks.delete(B);if(Se&&!ye){const w=(0,Xe.parseError)(Se);(0,It.rewriteErrorMessage)(w,w.message+formatCallLog(this._platform,Be));G.reject(w)}else{const w=(0,_t.findValidator)(G.type,G.method,"Result");G.resolve(w(ye,"",this._validatorFromWireContext()))}return}if(this._platform.isLogEnabled("channel"))this._platform.log("channel","<EVENT "+JSON.stringify(w));if(K==="__create__"){this._createRemoteObject(G,pe.type,pe.guid,pe.initializer);return}const Qe=this._objects.get(G);if(!Qe)throw new Error(`Cannot find object to "${K}": ${G}`);if(K==="__adopt__"){const w=this._objects.get(pe.guid);if(!w)throw new Error(`Unknown new child: ${pe.guid}`);Qe._adopt(w);return}if(K==="__dispose__"){Qe._dispose(pe.reason);return}const Pe=(0,_t.findValidator)(Qe._type,K,"Event");Qe._channel.emit(K,Pe(pe,"",this._validatorFromWireContext()))}close(w){if(this._closedError)return;this._closedError=new Xe.TargetClosedError(w);for(const w of this._callbacks.values())w.reject(this._closedError);this._callbacks.clear();this.emit("close")}_tChannelImplFromWire(w,B,G,K){if(B&&typeof B==="object"&&typeof B.guid==="string"){const K=this._objects.get(B.guid);if(!K)throw new Error(`Object with guid ${B.guid} was not bound in the connection`);if(w!=="*"&&!w.includes(K._type))throw new _t.ValidationError(`${G}: expected channel ${w.toString()}`);return K._channel}throw new _t.ValidationError(`${G}: expected channel ${w.toString()}`)}_createRemoteObject(w,B,G,K){const pe=this._objects.get(w);if(!pe)throw new Error(`Cannot find parent object ${w} to create ${G}`);let ye;const Se=(0,_t.findValidator)(B,"","Initializer");K=Se(K,"",this._validatorFromWireContext());switch(B){case"Android":ye=new Pe.Android(pe,B,G,K);break;case"AndroidSocket":ye=new Pe.AndroidSocket(pe,B,G,K);break;case"AndroidDevice":ye=new Pe.AndroidDevice(pe,B,G,K);break;case"APIRequestContext":ye=new rt.APIRequestContext(pe,B,G,K);break;case"Artifact":ye=new Fe.Artifact(pe,B,G,K);break;case"BindingCall":ye=new ut.BindingCall(pe,B,G,K);break;case"Browser":ye=new Me.Browser(pe,B,G,K);break;case"BrowserContext":ye=new Le.BrowserContext(pe,B,G,K);break;case"BrowserType":ye=new je.BrowserType(pe,B,G,K);break;case"CDPSession":ye=new qe.CDPSession(pe,B,G,K);break;case"Dialog":ye=new ze.Dialog(pe,B,G,K);break;case"Electron":ye=new Ye.Electron(pe,B,G,K);break;case"ElectronApplication":ye=new Ye.ElectronApplication(pe,B,G,K);break;case"ElementHandle":ye=new Ke.ElementHandle(pe,B,G,K);break;case"Frame":ye=new it.Frame(pe,B,G,K);break;case"JSHandle":ye=new ot.JSHandle(pe,B,G,K);break;case"JsonPipe":ye=new at.JsonPipe(pe,B,G,K);break;case"LocalUtils":ye=new lt.LocalUtils(pe,B,G,K);if(!this._localUtils)this._localUtils=ye;break;case"Page":ye=new ut.Page(pe,B,G,K);break;case"Playwright":ye=new ft.Playwright(pe,B,G,K);break;case"Request":ye=new ct.Request(pe,B,G,K);break;case"Response":ye=new ct.Response(pe,B,G,K);break;case"Route":ye=new ct.Route(pe,B,G,K);break;case"Stream":ye=new gt.Stream(pe,B,G,K);break;case"SocksSupport":ye=new DummyChannelOwner(pe,B,G,K);break;case"Tracing":ye=new mt.Tracing(pe,B,G,K);break;case"WebSocket":ye=new ct.WebSocket(pe,B,G,K);break;case"WebSocketRoute":ye=new ct.WebSocketRoute(pe,B,G,K);break;case"Worker":ye=new wt.Worker(pe,B,G,K);break;case"WritableStream":ye=new vt.WritableStream(pe,B,G,K);break;default:throw new Error("Missing type "+B)}return ye}}function formatCallLog(w,B){if(!B||!B.some((w=>!!w)))return"";return`\nCall log:\n${w.colors.dim(B.join("\n"))}\n`}0&&0},8657:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ConsoleMessage:()=>ConsoleMessage});w.exports=__toCommonJS(Be);var Qe=G(159);class ConsoleMessage{constructor(w,B,G){this._page=G;this._event=B;if(w.inspectCustom)this[w.inspectCustom]=()=>this._inspect()}page(){return this._page}type(){return this._event.type}text(){return this._event.text}args(){return this._event.args.map(Qe.JSHandle.from)}location(){return this._event.location}_inspect(){return this.text()}}0&&0},1812:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{Coverage:()=>Coverage});w.exports=__toCommonJS(ye);class Coverage{constructor(w){this._channel=w}async startJSCoverage(w={}){await this._channel.startJSCoverage(w)}async stopJSCoverage(){return(await this._channel.stopJSCoverage()).entries}async startCSSCoverage(w={}){await this._channel.startCSSCoverage(w)}async stopCSSCoverage(){return(await this._channel.stopCSSCoverage()).entries}}0&&0},8118:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Dialog:()=>Dialog});w.exports=__toCommonJS(Be);var Qe=G(1884);var Pe=G(309);class Dialog extends Qe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K);this._page=Pe.Page.fromNullable(K.page)}page(){return this._page}type(){return this._initializer.type}message(){return this._initializer.message}defaultValue(){return this._initializer.defaultValue}async accept(w){await this._channel.accept({promptText:w})}async dismiss(){await this._channel.dismiss()}}0&&0},8246:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{Download:()=>Download});w.exports=__toCommonJS(ye);class Download{constructor(w,B,G,K){this._page=w;this._url=B;this._suggestedFilename=G;this._artifact=K}page(){return this._page}url(){return this._url}suggestedFilename(){return this._suggestedFilename}async path(){return await this._artifact.pathAfterFinished()}async saveAs(w){return await this._artifact.saveAs(w)}async failure(){return await this._artifact.failure()}async createReadStream(){return await this._artifact.createReadStream()}async cancel(){return await this._artifact.cancel()}async delete(){return await this._artifact.delete()}}0&&0},6028:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Electron:()=>Electron,ElectronApplication:()=>ElectronApplication});w.exports=__toCommonJS(Be);var Qe=G(549);var Pe=G(1884);var Fe=G(1025);var Me=G(8657);var Le=G(8677);var je=G(9548);var qe=G(159);var We=G(3112);var Ge=G(8381);class Electron extends Pe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K)}async launch(w={}){w=this._playwright.selectors._withSelectorOptions(w);const B={...await(0,Qe.prepareBrowserContextParams)(this._platform,w),env:(0,Fe.envObjectToArray)(w.env?w.env:this._platform.env),tracesDir:w.tracesDir,timeout:new Ge.TimeoutSettings(this._platform).launchTimeout(w)};const G=ElectronApplication.from((await this._channel.launch(B)).electronApplication);this._playwright.selectors._contextsForSelectors.add(G._context);G.once(je.Events.ElectronApplication.Close,(()=>this._playwright.selectors._contextsForSelectors.delete(G._context)));await G._context._initializeHarFromOptions(w.recordHar);G._context.tracing._tracesDir=w.tracesDir;return G}}class ElectronApplication extends Pe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._windows=new Set;this._timeoutSettings=new Ge.TimeoutSettings(this._platform);this._context=Qe.BrowserContext.from(K.context);for(const w of this._context._pages)this._onPage(w);this._context.on(je.Events.BrowserContext.Page,(w=>this._onPage(w)));this._channel.on("close",(()=>{this.emit(je.Events.ElectronApplication.Close)}));this._channel.on("console",(w=>this.emit(je.Events.ElectronApplication.Console,new Me.ConsoleMessage(this._platform,w,null))));this._setEventToSubscriptionMapping(new Map([[je.Events.ElectronApplication.Console,"console"]]))}static from(w){return w._object}process(){return this._connection.toImpl?.(this)?.process()}_onPage(w){this._windows.add(w);this.emit(je.Events.ElectronApplication.Window,w);w.once(je.Events.Page.Close,(()=>this._windows.delete(w)))}windows(){return[...this._windows]}async firstWindow(w){if(this._windows.size)return this._windows.values().next().value;return await this.waitForEvent("window",w)}context(){return this._context}async[Symbol.asyncDispose](){await this.close()}async close(){try{await this._context.close()}catch(w){if((0,Le.isTargetClosedError)(w))return;throw w}}async waitForEvent(w,B={}){return await this._wrapApiCall((async()=>{const G=this._timeoutSettings.timeout(typeof B==="function"?{}:B);const K=typeof B==="function"?B:B.predicate;const pe=We.Waiter.createForEvent(this,w);pe.rejectOnTimeout(G,`Timeout ${G}ms exceeded while waiting for event "${w}"`);if(w!==je.Events.ElectronApplication.Close)pe.rejectOnEvent(this,je.Events.ElectronApplication.Close,(()=>new Le.TargetClosedError));const ye=await pe.waitForEvent(this,w,K);pe.dispose();return ye}))}async browserWindow(w){const B=await this._channel.browserWindow({page:w._channel});return qe.JSHandle.from(B.handle)}async evaluate(w,B){const G=await this._channel.evaluateExpression({expression:String(w),isFunction:typeof w==="function",arg:(0,qe.serializeArgument)(B)});return(0,qe.parseResult)(G.value)}async evaluateHandle(w,B){const G=await this._channel.evaluateExpressionHandle({expression:String(w),isFunction:typeof w==="function",arg:(0,qe.serializeArgument)(B)});return qe.JSHandle.from(G.handle)}}0&&0},6902:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ElementHandle:()=>ElementHandle,convertInputFiles:()=>convertInputFiles,convertSelectOptionValues:()=>convertSelectOptionValues,determineScreenshotType:()=>determineScreenshotType});w.exports=__toCommonJS(Be);var Qe=G(5205);var Pe=G(159);var Fe=G(8164);var Me=G(2647);var Le=G(1407);var je=G(6582);var qe=G(9498);class ElementHandle extends Pe.JSHandle{static from(w){return w._object}static fromNullable(w){return w?ElementHandle.from(w):null}constructor(w,B,G,K){super(w,B,G,K);this._frame=w;this._elementChannel=this._channel}asElement(){return this}async ownerFrame(){return Qe.Frame.fromNullable((await this._elementChannel.ownerFrame()).frame)}async contentFrame(){return Qe.Frame.fromNullable((await this._elementChannel.contentFrame()).frame)}async getAttribute(w){const B=(await this._elementChannel.getAttribute({name:w})).value;return B===void 0?null:B}async inputValue(){return(await this._elementChannel.inputValue()).value}async textContent(){const w=(await this._elementChannel.textContent()).value;return w===void 0?null:w}async innerText(){return(await this._elementChannel.innerText()).value}async innerHTML(){return(await this._elementChannel.innerHTML()).value}async isChecked(){return(await this._elementChannel.isChecked()).value}async isDisabled(){return(await this._elementChannel.isDisabled()).value}async isEditable(){return(await this._elementChannel.isEditable()).value}async isEnabled(){return(await this._elementChannel.isEnabled()).value}async isHidden(){return(await this._elementChannel.isHidden()).value}async isVisible(){return(await this._elementChannel.isVisible()).value}async dispatchEvent(w,B={}){await this._elementChannel.dispatchEvent({type:w,eventInit:(0,Pe.serializeArgument)(B)})}async scrollIntoViewIfNeeded(w={}){await this._elementChannel.scrollIntoViewIfNeeded({...w,timeout:this._frame._timeout(w)})}async hover(w={}){await this._elementChannel.hover({...w,timeout:this._frame._timeout(w)})}async click(w={}){return await this._elementChannel.click({...w,timeout:this._frame._timeout(w)})}async dblclick(w={}){return await this._elementChannel.dblclick({...w,timeout:this._frame._timeout(w)})}async tap(w={}){return await this._elementChannel.tap({...w,timeout:this._frame._timeout(w)})}async selectOption(w,B={}){const G=await this._elementChannel.selectOption({...convertSelectOptionValues(w),...B,timeout:this._frame._timeout(B)});return G.values}async fill(w,B={}){return await this._elementChannel.fill({value:w,...B,timeout:this._frame._timeout(B)})}async selectText(w={}){await this._elementChannel.selectText({...w,timeout:this._frame._timeout(w)})}async setInputFiles(w,B={}){const G=await this.ownerFrame();if(!G)throw new Error("Cannot set input files to detached element");const K=await convertInputFiles(this._platform,w,G.page().context());await this._elementChannel.setInputFiles({...K,...B,timeout:this._frame._timeout(B)})}async focus(){await this._elementChannel.focus()}async type(w,B={}){await this._elementChannel.type({text:w,...B,timeout:this._frame._timeout(B)})}async press(w,B={}){await this._elementChannel.press({key:w,...B,timeout:this._frame._timeout(B)})}async check(w={}){return await this._elementChannel.check({...w,timeout:this._frame._timeout(w)})}async uncheck(w={}){return await this._elementChannel.uncheck({...w,timeout:this._frame._timeout(w)})}async setChecked(w,B){if(w)await this.check(B);else await this.uncheck(B)}async boundingBox(){const w=(await this._elementChannel.boundingBox()).value;return w===void 0?null:w}async screenshot(w={}){const B=w.mask;const G={...w,mask:void 0,timeout:this._frame._timeout(w)};if(!G.type)G.type=determineScreenshotType(w);if(B){G.mask=B.map((w=>({frame:w._frame._channel,selector:w._selector})))}const K=await this._elementChannel.screenshot(G);if(w.path){await(0,Me.mkdirIfNeeded)(this._platform,w.path);await this._platform.fs().promises.writeFile(w.path,K.binary)}return K.binary}async $(w){return ElementHandle.fromNullable((await this._elementChannel.querySelector({selector:w})).element)}async $$(w){const B=await this._elementChannel.querySelectorAll({selector:w});return B.elements.map((w=>ElementHandle.from(w)))}async $eval(w,B,G){const K=await this._elementChannel.evalOnSelector({selector:w,expression:String(B),isFunction:typeof B==="function",arg:(0,Pe.serializeArgument)(G)});return(0,Pe.parseResult)(K.value)}async $$eval(w,B,G){const K=await this._elementChannel.evalOnSelectorAll({selector:w,expression:String(B),isFunction:typeof B==="function",arg:(0,Pe.serializeArgument)(G)});return(0,Pe.parseResult)(K.value)}async waitForElementState(w,B={}){return await this._elementChannel.waitForElementState({state:w,...B,timeout:this._frame._timeout(B)})}async waitForSelector(w,B={}){const G=await this._elementChannel.waitForSelector({selector:w,...B,timeout:this._frame._timeout(B)});return ElementHandle.fromNullable(G.element)}}function convertSelectOptionValues(w){if(w===null)return{};if(!Array.isArray(w))w=[w];if(!w.length)return{};for(let B=0;B<w.length;B++)(0,Fe.assert)(w[B]!==null,`options[${B}]: expected object, got null`);if(w[0]instanceof ElementHandle)return{elements:w.map((w=>w._elementChannel))};if((0,Le.isString)(w[0]))return{options:w.map((w=>({valueOrLabel:w})))};return{options:w}}function filePayloadExceedsSizeLimit(w){return w.reduce(((w,B)=>w+(B.buffer?B.buffer.byteLength:0)),0)>=Me.fileUploadSizeLimit}async function resolvePathsAndDirectoryForInputFiles(w,B){let G;let K;for(const pe of B){const B=await w.fs().promises.stat(pe);if(B.isDirectory()){if(K)throw new Error("Multiple directories are not supported");K=w.path().resolve(pe)}else{G??=[];G.push(w.path().resolve(pe))}}if(G?.length&&K)throw new Error("File paths must be all files or a single directory");return[G,K]}async function convertInputFiles(w,B,G){const K=Array.isArray(B)?B.slice():[B];if(K.some((w=>typeof w==="string"))){if(!K.every((w=>typeof w==="string")))throw new Error("File paths cannot be mixed with buffers");const[B,pe]=await resolvePathsAndDirectoryForInputFiles(w,K);if(G._connection.isRemote()){const K=pe?(await w.fs().promises.readdir(pe,{withFileTypes:true,recursive:true})).filter((w=>w.isFile())).map((B=>w.path().join(B.path,B.name))):B;const{writableStreams:ye,rootDir:Se}=await G._wrapApiCall((async()=>G._channel.createTempFiles({rootDirName:pe?w.path().basename(pe):void 0,items:await Promise.all(K.map((async B=>{const G=(await w.fs().promises.stat(B)).mtimeMs;return{name:pe?w.path().relative(pe,B):w.path().basename(B),lastModifiedMs:G}})))})),{internal:true});for(let B=0;B<K.length;B++){const G=je.WritableStream.from(ye[B]);await w.streamFile(K[B],G.stream())}return{directoryStream:Se,streams:pe?void 0:ye}}return{localPaths:B,localDirectory:pe}}const pe=K;if(filePayloadExceedsSizeLimit(pe))throw new Error("Cannot set buffer larger than 50Mb, please write it to a file and pass its path instead.");return{payloads:pe}}function determineScreenshotType(w){if(w.path){const B=(0,qe.getMimeTypeForPath)(w.path);if(B==="image/png")return"png";else if(B==="image/jpeg")return"jpeg";throw new Error(`path: unsupported mime type "${B}"`)}return w.type}0&&0},8677:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{TargetClosedError:()=>TargetClosedError,TimeoutError:()=>TimeoutError,isTargetClosedError:()=>isTargetClosedError,parseError:()=>parseError,serializeError:()=>serializeError});w.exports=__toCommonJS(Be);var Qe=G(1038);var Pe=G(1407);class TimeoutError extends Error{constructor(w){super(w);this.name="TimeoutError"}}class TargetClosedError extends Error{constructor(w){super(w||"Target page, context or browser has been closed")}}function isTargetClosedError(w){return w instanceof TargetClosedError}function serializeError(w){if((0,Pe.isError)(w))return{error:{message:w.message,stack:w.stack,name:w.name}};return{value:(0,Qe.serializeValue)(w,(w=>({fallThrough:w})))}}function parseError(w){if(!w.error){if(w.value===void 0)throw new Error("Serialized error must have either an error or a value");return(0,Qe.parseSerializedValue)(w.value,void 0)}if(w.error.name==="TimeoutError"){const B=new TimeoutError(w.error.message);B.stack=w.error.stack||"";return B}if(w.error.name==="TargetClosedError"){const B=new TargetClosedError(w.error.message);B.stack=w.error.stack||"";return B}const B=new Error(w.error.message);B.stack=w.error.stack||"";B.name=w.error.name;return B}0&&0},4624:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{EventEmitter:()=>EventEmitter});w.exports=__toCommonJS(ye);class EventEmitter{constructor(w){this._events=void 0;this._eventsCount=0;this._maxListeners=void 0;this._pendingHandlers=new Map;this._platform=w;if(this._events===void 0||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||void 0;this.on=this.addListener;this.off=this.removeListener}setMaxListeners(w){if(typeof w!=="number"||w<0||Number.isNaN(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");this._maxListeners=w;return this}getMaxListeners(){return this._maxListeners===void 0?this._platform.defaultMaxListeners():this._maxListeners}emit(w,...B){const G=this._events;if(G===void 0)return false;const K=G?.[w];if(K===void 0)return false;if(typeof K==="function"){this._callHandler(w,K,B)}else{const G=K.length;const pe=K.slice();for(let K=0;K<G;++K)this._callHandler(w,pe[K],B)}return true}_callHandler(w,B,G){const K=Reflect.apply(B,this,G);if(!(K instanceof Promise))return;let pe=this._pendingHandlers.get(w);if(!pe){pe=new Set;this._pendingHandlers.set(w,pe)}pe.add(K);K.catch((w=>{if(this._rejectionHandler)this._rejectionHandler(w);else throw w})).finally((()=>pe.delete(K)))}addListener(w,B){return this._addListener(w,B,false)}on(w,B){return this._addListener(w,B,false)}_addListener(w,B,G){checkListener(B);let K=this._events;let pe;if(K===void 0){K=this._events=Object.create(null);this._eventsCount=0}else{if(K.newListener!==void 0){this.emit("newListener",w,unwrapListener(B));K=this._events}pe=K[w]}if(pe===void 0){pe=K[w]=B;++this._eventsCount}else{if(typeof pe==="function"){pe=K[w]=G?[B,pe]:[pe,B]}else if(G){pe.unshift(B)}else{pe.push(B)}const ye=this.getMaxListeners();if(ye>0&&pe.length>ye&&!pe.warned){pe.warned=true;const B=new Error("Possible EventEmitter memory leak detected. "+pe.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning";B.emitter=this;B.type=w;B.count=pe.length;if(!this._platform.isUnderTest()){console.warn(B)}}}return this}prependListener(w,B){return this._addListener(w,B,true)}once(w,B){checkListener(B);this.on(w,new OnceWrapper(this,w,B).wrapperFunction);return this}prependOnceListener(w,B){checkListener(B);this.prependListener(w,new OnceWrapper(this,w,B).wrapperFunction);return this}removeListener(w,B){checkListener(B);const G=this._events;if(G===void 0)return this;const K=G[w];if(K===void 0)return this;if(K===B||K.listener===B){if(--this._eventsCount===0){this._events=Object.create(null)}else{delete G[w];if(G.removeListener)this.emit("removeListener",w,K.listener??B)}}else if(typeof K!=="function"){let pe=-1;let ye;for(let w=K.length-1;w>=0;w--){if(K[w]===B||wrappedListener(K[w])===B){ye=wrappedListener(K[w]);pe=w;break}}if(pe<0)return this;if(pe===0)K.shift();else K.splice(pe,1);if(K.length===1)G[w]=K[0];if(G.removeListener!==void 0)this.emit("removeListener",w,ye||B)}return this}off(w,B){return this.removeListener(w,B)}removeAllListeners(w,B){this._removeAllListeners(w);if(!B)return this;if(B.behavior==="wait"){const B=[];this._rejectionHandler=w=>B.push(w);return this._waitFor(w).then((()=>{if(B.length)throw B[0]}))}if(B.behavior==="ignoreErrors")this._rejectionHandler=()=>{};return Promise.resolve()}_removeAllListeners(w){const B=this._events;if(!B)return;if(!B.removeListener){if(w===void 0){this._events=Object.create(null);this._eventsCount=0}else if(B[w]!==void 0){if(--this._eventsCount===0)this._events=Object.create(null);else delete B[w]}return}if(w===void 0){const w=Object.keys(B);let G;for(let B=0;B<w.length;++B){G=w[B];if(G==="removeListener")continue;this._removeAllListeners(G)}this._removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return}const G=B[w];if(typeof G==="function"){this.removeListener(w,G)}else if(G!==void 0){for(let B=G.length-1;B>=0;B--)this.removeListener(w,G[B])}}listeners(w){return this._listeners(this,w,true)}rawListeners(w){return this._listeners(this,w,false)}listenerCount(w){const B=this._events;if(B!==void 0){const G=B[w];if(typeof G==="function")return 1;if(G!==void 0)return G.length}return 0}eventNames(){return this._eventsCount>0&&this._events?Reflect.ownKeys(this._events):[]}async _waitFor(w){let B=[];if(w){B=[...this._pendingHandlers.get(w)||[]]}else{B=[];for(const[,w]of this._pendingHandlers)B.push(...w)}await Promise.all(B)}_listeners(w,B,G){const K=w._events;if(K===void 0)return[];const pe=K[B];if(pe===void 0)return[];if(typeof pe==="function")return G?[unwrapListener(pe)]:[pe];return G?unwrapListeners(pe):pe.slice()}}function checkListener(w){if(typeof w!=="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}class OnceWrapper{constructor(w,B,G){this._fired=false;this._eventEmitter=w;this._eventType=B;this._listener=G;this.wrapperFunction=this._handle.bind(this);this.wrapperFunction.listener=G}_handle(...w){if(this._fired)return;this._fired=true;this._eventEmitter.removeListener(this._eventType,this.wrapperFunction);return this._listener.apply(this._eventEmitter,w)}}function unwrapListener(w){return wrappedListener(w)??w}function unwrapListeners(w){return w.map((w=>wrappedListener(w)??w))}function wrappedListener(w){return w.listener}0&&0},9548:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{Events:()=>Se});w.exports=__toCommonJS(ye);const Se={AndroidDevice:{WebView:"webview",Close:"close"},AndroidSocket:{Data:"data",Close:"close"},AndroidWebView:{Close:"close"},Browser:{Disconnected:"disconnected"},BrowserContext:{Console:"console",Close:"close",Dialog:"dialog",Page:"page",WebError:"weberror",BackgroundPage:"backgroundpage",ServiceWorker:"serviceworker",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished"},BrowserServer:{Close:"close"},Page:{Close:"close",Crash:"crash",Console:"console",Dialog:"dialog",Download:"download",FileChooser:"filechooser",DOMContentLoaded:"domcontentloaded",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",FrameAttached:"frameattached",FrameDetached:"framedetached",FrameNavigated:"framenavigated",Load:"load",Popup:"popup",WebSocket:"websocket",Worker:"worker"},WebSocket:{Close:"close",Error:"socketerror",FrameReceived:"framereceived",FrameSent:"framesent"},Worker:{Close:"close"},ElectronApplication:{Close:"close",Console:"console",Window:"window"}};0&&0},412:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{APIRequest:()=>APIRequest,APIRequestContext:()=>APIRequestContext,APIResponse:()=>APIResponse});w.exports=__toCommonJS(Be);var Qe=G(549);var Pe=G(1884);var Fe=G(8677);var Me=G(9482);var Le=G(3593);var je=G(8164);var qe=G(2647);var We=G(8390);var Ge=G(1407);var ze=G(8381);class APIRequest{constructor(w){this._contexts=new Set;this._playwright=w}async newContext(w={}){w={...this._playwright._defaultContextOptions,...w};const B=typeof w.storageState==="string"?JSON.parse(await this._playwright._platform.fs().promises.readFile(w.storageState,"utf8")):w.storageState;const G=APIRequestContext.from((await this._playwright._channel.newRequest({...w,extraHTTPHeaders:w.extraHTTPHeaders?(0,We.headersObjectToArray)(w.extraHTTPHeaders):void 0,storageState:B,tracesDir:this._playwright._defaultLaunchOptions?.tracesDir,clientCertificates:await(0,Qe.toClientCertificatesProtocol)(this._playwright._platform,w.clientCertificates)})).request);this._contexts.add(G);G._request=this;G._timeoutSettings.setDefaultTimeout(w.timeout??this._playwright._defaultContextTimeout);G._tracing._tracesDir=this._playwright._defaultLaunchOptions?.tracesDir;await G._instrumentation.runAfterCreateRequestContext(G);return G}}class APIRequestContext extends Pe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K);this._tracing=Le.Tracing.from(K.tracing);this._timeoutSettings=new ze.TimeoutSettings(this._platform)}async[Symbol.asyncDispose](){await this.dispose()}async dispose(w={}){this._closeReason=w.reason;await this._instrumentation.runBeforeCloseRequestContext(this);try{await this._channel.dispose(w)}catch(w){if((0,Fe.isTargetClosedError)(w))return;throw w}this._tracing._resetStackCounter();this._request?._contexts.delete(this)}async delete(w,B){return await this.fetch(w,{...B,method:"DELETE"})}async head(w,B){return await this.fetch(w,{...B,method:"HEAD"})}async get(w,B){return await this.fetch(w,{...B,method:"GET"})}async patch(w,B){return await this.fetch(w,{...B,method:"PATCH"})}async post(w,B){return await this.fetch(w,{...B,method:"POST"})}async put(w,B){return await this.fetch(w,{...B,method:"PUT"})}async fetch(w,B={}){const G=(0,Ge.isString)(w)?w:void 0;const K=(0,Ge.isString)(w)?void 0:w;return await this._innerFetch({url:G,request:K,...B})}async _innerFetch(w={}){return await this._wrapApiCall((async()=>{if(this._closeReason)throw new Fe.TargetClosedError(this._closeReason);(0,je.assert)(w.request||typeof w.url==="string","First argument must be either URL string or Request");(0,je.assert)((w.data===void 0?0:1)+(w.form===void 0?0:1)+(w.multipart===void 0?0:1)<=1,`Only one of 'data', 'form' or 'multipart' can be specified`);(0,je.assert)(w.maxRedirects===void 0||w.maxRedirects>=0,`'maxRedirects' must be greater than or equal to '0'`);(0,je.assert)(w.maxRetries===void 0||w.maxRetries>=0,`'maxRetries' must be greater than or equal to '0'`);const B=w.url!==void 0?w.url:w.request.url();const G=w.method||w.request?.method();let K=void 0;if(typeof w.params==="string")K=w.params;else if(w.params instanceof URLSearchParams)K=w.params.toString();const pe=w.headers||w.request?.headers();const ye=pe?(0,We.headersObjectToArray)(pe):void 0;let Se;let Be;let Qe;let Pe;if(w.data!==void 0){if((0,Ge.isString)(w.data)){if(isJsonContentType(ye))Se=isJsonParsable(w.data)?w.data:JSON.stringify(w.data);else Pe=Buffer.from(w.data,"utf8")}else if(Buffer.isBuffer(w.data)){Pe=w.data}else if(typeof w.data==="object"||typeof w.data==="number"||typeof w.data==="boolean"){Se=JSON.stringify(w.data)}else{throw new Error(`Unexpected 'data' type`)}}else if(w.form){if(globalThis.FormData&&w.form instanceof FormData){Be=[];for(const[B,G]of w.form.entries()){if(typeof G!=="string")throw new Error(`Expected string for options.form["${B}"], found File. Please use options.multipart instead.`);Be.push({name:B,value:G})}}else{Be=objectToArray(w.form)}}else if(w.multipart){Qe=[];if(globalThis.FormData&&w.multipart instanceof FormData){const B=w.multipart;for(const[w,G]of B.entries()){if((0,Ge.isString)(G)){Qe.push({name:w,value:G})}else{const B={name:G.name,mimeType:G.type,buffer:Buffer.from(await G.arrayBuffer())};Qe.push({name:w,file:B})}}}else{for(const[B,G]of Object.entries(w.multipart))Qe.push(await toFormField(this._platform,B,G))}}if(Pe===void 0&&Se===void 0&&Be===void 0&&Qe===void 0)Pe=w.request?.postDataBuffer()||void 0;const Me={__testHookLookup:w.__testHookLookup};const Le=await this._channel.fetch({url:B,params:typeof w.params==="object"?objectToArray(w.params):void 0,encodedParams:K,method:G,headers:ye,postData:Pe,jsonData:Se,formData:Be,multipartData:Qe,timeout:this._timeoutSettings.timeout(w),failOnStatusCode:w.failOnStatusCode,ignoreHTTPSErrors:w.ignoreHTTPSErrors,maxRedirects:w.maxRedirects,maxRetries:w.maxRetries,...Me});return new APIResponse(this,Le.response)}))}async storageState(w={}){const B=await this._channel.storageState({indexedDB:w.indexedDB});if(w.path){await(0,qe.mkdirIfNeeded)(this._platform,w.path);await this._platform.fs().promises.writeFile(w.path,JSON.stringify(B,void 0,2),"utf8")}return B}}async function toFormField(w,B,G){const K=typeof G;if(isFilePayload(G)){const w=G;if(!Buffer.isBuffer(w.buffer))throw new Error(`Unexpected buffer type of 'data.${B}'`);return{name:B,file:filePayloadToJson(w)}}else if(K==="string"||K==="number"||K==="boolean"){return{name:B,value:String(G)}}else{return{name:B,file:await readStreamToJson(w,G)}}}function isJsonParsable(w){if(typeof w!=="string")return false;try{JSON.parse(w);return true}catch(w){if(w instanceof SyntaxError)return false;else throw w}}class APIResponse{constructor(w,B){this._request=w;this._initializer=B;this._headers=new Me.RawHeaders(this._initializer.headers);if(w._platform.inspectCustom)this[w._platform.inspectCustom]=()=>this._inspect()}ok(){return this._initializer.status>=200&&this._initializer.status<=299}url(){return this._initializer.url}status(){return this._initializer.status}statusText(){return this._initializer.statusText}headers(){return this._headers.headers()}headersArray(){return this._headers.headersArray()}async body(){return await this._request._wrapApiCall((async()=>{try{const w=await this._request._channel.fetchResponseBody({fetchUid:this._fetchUid()});if(w.binary===void 0)throw new Error("Response has been disposed");return w.binary}catch(w){if((0,Fe.isTargetClosedError)(w))throw new Error("Response has been disposed");throw w}}),{internal:true})}async text(){const w=await this.body();return w.toString("utf8")}async json(){const w=await this.text();return JSON.parse(w)}async[Symbol.asyncDispose](){await this.dispose()}async dispose(){await this._request._channel.disposeAPIResponse({fetchUid:this._fetchUid()})}_inspect(){const w=this.headersArray().map((({name:w,value:B})=>`  ${w}: ${B}`));return`APIResponse: ${this.status()} ${this.statusText()}\n${w.join("\n")}`}_fetchUid(){return this._initializer.fetchUid}async _fetchLog(){const{log:w}=await this._request._channel.fetchLog({fetchUid:this._fetchUid()});return w}}function filePayloadToJson(w){return{name:w.name,mimeType:w.mimeType,buffer:w.buffer}}async function readStreamToJson(w,B){const G=await new Promise(((w,G)=>{const K=[];B.on("data",(w=>K.push(w)));B.on("end",(()=>w(Buffer.concat(K))));B.on("error",(w=>G(w)))}));const K=Buffer.isBuffer(B.path)?B.path.toString("utf8"):B.path;return{name:w.path().basename(K),buffer:G}}function isJsonContentType(w){if(!w)return false;for(const{name:B,value:G}of w){if(B.toLocaleLowerCase()==="content-type")return G==="application/json"}return false}function objectToArray(w){if(!w)return void 0;const B=[];for(const[G,K]of Object.entries(w)){if(K!==void 0)B.push({name:G,value:String(K)})}return B}function isFilePayload(w){return typeof w==="object"&&w["name"]&&w["mimeType"]&&w["buffer"]}0&&0},823:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{FileChooser:()=>FileChooser});w.exports=__toCommonJS(ye);class FileChooser{constructor(w,B,G){this._page=w;this._elementHandle=B;this._isMultiple=G}element(){return this._elementHandle}isMultiple(){return this._isMultiple}page(){return this._page}async setFiles(w,B){return await this._elementHandle.setInputFiles(w,B)}}0&&0},2647:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{fileUploadSizeLimit:()=>Se,mkdirIfNeeded:()=>mkdirIfNeeded});w.exports=__toCommonJS(ye);const Se=50*1024*1024;async function mkdirIfNeeded(w,B){await w.fs().promises.mkdir(w.path().dirname(B),{recursive:true}).catch((()=>{}))}0&&0},5205:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Frame:()=>Frame,verifyLoadState:()=>verifyLoadState});w.exports=__toCommonJS(Pe);var Fe=G(4624);var Me=G(1884);var Le=G(1025);var je=G(6902);var qe=G(9548);var We=G(159);var Ge=G(1202);var ze=__toESM(G(9482));var Ye=G(8385);var Ke=G(3112);var Xe=G(8164);var rt=G(677);var it=G(4376);var ot=G(8381);class Frame extends Me.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._parentFrame=null;this._url="";this._name="";this._detached=false;this._childFrames=new Set;this._eventEmitter=new Fe.EventEmitter(w._platform);this._eventEmitter.setMaxListeners(0);this._parentFrame=Frame.fromNullable(K.parentFrame);if(this._parentFrame)this._parentFrame._childFrames.add(this);this._name=K.name;this._url=K.url;this._loadStates=new Set(K.loadStates);this._channel.on("loadstate",(w=>{if(w.add){this._loadStates.add(w.add);this._eventEmitter.emit("loadstate",w.add)}if(w.remove)this._loadStates.delete(w.remove);if(!this._parentFrame&&w.add==="load"&&this._page)this._page.emit(qe.Events.Page.Load,this._page);if(!this._parentFrame&&w.add==="domcontentloaded"&&this._page)this._page.emit(qe.Events.Page.DOMContentLoaded,this._page)}));this._channel.on("navigated",(w=>{this._url=w.url;this._name=w.name;this._eventEmitter.emit("navigated",w);if(!w.error&&this._page)this._page.emit(qe.Events.Page.FrameNavigated,this)}))}static from(w){return w._object}static fromNullable(w){return w?Frame.from(w):null}page(){return this._page}_timeout(w){const B=this._page?._timeoutSettings||new ot.TimeoutSettings(this._platform);return B.timeout(w||{})}_navigationTimeout(w){const B=this._page?._timeoutSettings||new ot.TimeoutSettings(this._platform);return B.navigationTimeout(w||{})}async goto(w,B={}){const G=verifyLoadState("waitUntil",B.waitUntil===void 0?"load":B.waitUntil);return ze.Response.fromNullable((await this._channel.goto({url:w,...B,waitUntil:G,timeout:this._navigationTimeout(B)})).response)}_setupNavigationWaiter(w){const B=new Ke.Waiter(this._page,"");if(this._page.isClosed())B.rejectImmediately(this._page._closeErrorWithReason());B.rejectOnEvent(this._page,qe.Events.Page.Close,(()=>this._page._closeErrorWithReason()));B.rejectOnEvent(this._page,qe.Events.Page.Crash,new Error("Navigation failed because page crashed!"));B.rejectOnEvent(this._page,qe.Events.Page.FrameDetached,new Error("Navigating frame was detached!"),(w=>w===this));const G=this._page._timeoutSettings.navigationTimeout(w);B.rejectOnTimeout(G,`Timeout ${G}ms exceeded.`);return B}async waitForNavigation(w={}){return await this._page._wrapApiCall((async()=>{const B=verifyLoadState("waitUntil",w.waitUntil===void 0?"load":w.waitUntil);const G=this._setupNavigationWaiter(w);const K=typeof w.url==="string"?` to "${w.url}"`:"";G.log(`waiting for navigation${K} until "${B}"`);const pe=await G.waitForEvent(this._eventEmitter,"navigated",(B=>{if(B.error)return true;G.log(`  navigated to "${B.url}"`);return(0,it.urlMatches)(this._page?.context()._options.baseURL,B.url,w.url)}));if(pe.error){const w=new Error(pe.error);w.stack="";await G.waitForPromise(Promise.reject(w))}if(!this._loadStates.has(B)){await G.waitForEvent(this._eventEmitter,"loadstate",(w=>{G.log(`  "${w}" event fired`);return w===B}))}const ye=pe.newDocument?ze.Request.fromNullable(pe.newDocument.request):null;const Se=ye?await G.waitForPromise(ye._finalRequest()._internalResponse()):null;G.dispose();return Se}),{title:"Wait for navigation"})}async waitForLoadState(w="load",B={}){w=verifyLoadState("state",w);return await this._page._wrapApiCall((async()=>{const G=this._setupNavigationWaiter(B);if(this._loadStates.has(w)){G.log(`  not waiting, "${w}" event already fired`)}else{await G.waitForEvent(this._eventEmitter,"loadstate",(B=>{G.log(`  "${B}" event fired`);return B===w}))}G.dispose()}),{title:`Wait for load state "${w}"`})}async waitForURL(w,B={}){if((0,it.urlMatches)(this._page?.context()._options.baseURL,this.url(),w))return await this.waitForLoadState(B.waitUntil,B);await this.waitForNavigation({url:w,...B})}async frameElement(){return je.ElementHandle.from((await this._channel.frameElement()).element)}async evaluateHandle(w,B){(0,We.assertMaxArguments)(arguments.length,2);const G=await this._channel.evaluateExpressionHandle({expression:String(w),isFunction:typeof w==="function",arg:(0,We.serializeArgument)(B)});return We.JSHandle.from(G.handle)}async evaluate(w,B){(0,We.assertMaxArguments)(arguments.length,2);const G=await this._channel.evaluateExpression({expression:String(w),isFunction:typeof w==="function",arg:(0,We.serializeArgument)(B)});return(0,We.parseResult)(G.value)}async _evaluateFunction(w){const B=await this._channel.evaluateExpression({expression:w,isFunction:true,arg:(0,We.serializeArgument)(void 0)});return(0,We.parseResult)(B.value)}async _evaluateExposeUtilityScript(w,B){(0,We.assertMaxArguments)(arguments.length,2);const G=await this._channel.evaluateExpression({expression:String(w),isFunction:typeof w==="function",arg:(0,We.serializeArgument)(B)});return(0,We.parseResult)(G.value)}async $(w,B){const G=await this._channel.querySelector({selector:w,...B});return je.ElementHandle.fromNullable(G.element)}async waitForSelector(w,B={}){if(B.visibility)throw new Error("options.visibility is not supported, did you mean options.state?");if(B.waitFor&&B.waitFor!=="visible")throw new Error("options.waitFor is not supported, did you mean options.state?");const G=await this._channel.waitForSelector({selector:w,...B,timeout:this._timeout(B)});return je.ElementHandle.fromNullable(G.element)}async dispatchEvent(w,B,G,K={}){await this._channel.dispatchEvent({selector:w,type:B,eventInit:(0,We.serializeArgument)(G),...K,timeout:this._timeout(K)})}async $eval(w,B,G){(0,We.assertMaxArguments)(arguments.length,3);const K=await this._channel.evalOnSelector({selector:w,expression:String(B),isFunction:typeof B==="function",arg:(0,We.serializeArgument)(G)});return(0,We.parseResult)(K.value)}async $$eval(w,B,G){(0,We.assertMaxArguments)(arguments.length,3);const K=await this._channel.evalOnSelectorAll({selector:w,expression:String(B),isFunction:typeof B==="function",arg:(0,We.serializeArgument)(G)});return(0,We.parseResult)(K.value)}async $$(w){const B=await this._channel.querySelectorAll({selector:w});return B.elements.map((w=>je.ElementHandle.from(w)))}async _queryCount(w,B){return(await this._channel.queryCount({selector:w,...B})).value}async content(){return(await this._channel.content()).value}async setContent(w,B={}){const G=verifyLoadState("waitUntil",B.waitUntil===void 0?"load":B.waitUntil);await this._channel.setContent({html:w,...B,waitUntil:G,timeout:this._navigationTimeout(B)})}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(w={}){const B={...w};if(B.path){B.content=(await this._platform.fs().promises.readFile(B.path)).toString();B.content=(0,Le.addSourceUrlToScript)(B.content,B.path)}return je.ElementHandle.from((await this._channel.addScriptTag({...B})).element)}async addStyleTag(w={}){const B={...w};if(B.path){B.content=(await this._platform.fs().promises.readFile(B.path)).toString();B.content+="/*# sourceURL="+B.path.replace(/\n/g,"")+"*/"}return je.ElementHandle.from((await this._channel.addStyleTag({...B})).element)}async click(w,B={}){return await this._channel.click({selector:w,...B,timeout:this._timeout(B)})}async dblclick(w,B={}){return await this._channel.dblclick({selector:w,...B,timeout:this._timeout(B)})}async dragAndDrop(w,B,G={}){return await this._channel.dragAndDrop({source:w,target:B,...G,timeout:this._timeout(G)})}async tap(w,B={}){return await this._channel.tap({selector:w,...B,timeout:this._timeout(B)})}async fill(w,B,G={}){return await this._channel.fill({selector:w,value:B,...G,timeout:this._timeout(G)})}async _highlight(w){return await this._channel.highlight({selector:w})}locator(w,B){return new Ge.Locator(this,w,B)}getByTestId(w){return this.locator((0,rt.getByTestIdSelector)((0,Ge.testIdAttributeName)(),w))}getByAltText(w,B){return this.locator((0,rt.getByAltTextSelector)(w,B))}getByLabel(w,B){return this.locator((0,rt.getByLabelSelector)(w,B))}getByPlaceholder(w,B){return this.locator((0,rt.getByPlaceholderSelector)(w,B))}getByText(w,B){return this.locator((0,rt.getByTextSelector)(w,B))}getByTitle(w,B){return this.locator((0,rt.getByTitleSelector)(w,B))}getByRole(w,B={}){return this.locator((0,rt.getByRoleSelector)(w,B))}frameLocator(w){return new Ge.FrameLocator(this,w)}async focus(w,B={}){await this._channel.focus({selector:w,...B,timeout:this._timeout(B)})}async textContent(w,B={}){const G=(await this._channel.textContent({selector:w,...B,timeout:this._timeout(B)})).value;return G===void 0?null:G}async innerText(w,B={}){return(await this._channel.innerText({selector:w,...B,timeout:this._timeout(B)})).value}async innerHTML(w,B={}){return(await this._channel.innerHTML({selector:w,...B,timeout:this._timeout(B)})).value}async getAttribute(w,B,G={}){const K=(await this._channel.getAttribute({selector:w,name:B,...G,timeout:this._timeout(G)})).value;return K===void 0?null:K}async inputValue(w,B={}){return(await this._channel.inputValue({selector:w,...B,timeout:this._timeout(B)})).value}async isChecked(w,B={}){return(await this._channel.isChecked({selector:w,...B,timeout:this._timeout(B)})).value}async isDisabled(w,B={}){return(await this._channel.isDisabled({selector:w,...B,timeout:this._timeout(B)})).value}async isEditable(w,B={}){return(await this._channel.isEditable({selector:w,...B,timeout:this._timeout(B)})).value}async isEnabled(w,B={}){return(await this._channel.isEnabled({selector:w,...B,timeout:this._timeout(B)})).value}async isHidden(w,B={}){return(await this._channel.isHidden({selector:w,...B})).value}async isVisible(w,B={}){return(await this._channel.isVisible({selector:w,...B})).value}async hover(w,B={}){await this._channel.hover({selector:w,...B,timeout:this._timeout(B)})}async selectOption(w,B,G={}){return(await this._channel.selectOption({selector:w,...(0,je.convertSelectOptionValues)(B),...G,timeout:this._timeout(G)})).values}async setInputFiles(w,B,G={}){const K=await(0,je.convertInputFiles)(this._platform,B,this.page().context());await this._channel.setInputFiles({selector:w,...K,...G,timeout:this._timeout(G)})}async type(w,B,G={}){await this._channel.type({selector:w,text:B,...G,timeout:this._timeout(G)})}async press(w,B,G={}){await this._channel.press({selector:w,key:B,...G,timeout:this._timeout(G)})}async check(w,B={}){await this._channel.check({selector:w,...B,timeout:this._timeout(B)})}async uncheck(w,B={}){await this._channel.uncheck({selector:w,...B,timeout:this._timeout(B)})}async setChecked(w,B,G){if(B)await this.check(w,G);else await this.uncheck(w,G)}async waitForTimeout(w){await this._channel.waitForTimeout({waitTimeout:w})}async waitForFunction(w,B,G={}){if(typeof G.polling==="string")(0,Xe.assert)(G.polling==="raf","Unknown polling option: "+G.polling);const K=await this._channel.waitForFunction({...G,pollingInterval:G.polling==="raf"?void 0:G.polling,expression:String(w),isFunction:typeof w==="function",arg:(0,We.serializeArgument)(B),timeout:this._timeout(G)});return We.JSHandle.from(K.handle)}async title(){return(await this._channel.title()).value}async _expect(w,B){const G={expression:w,...B,isNot:!!B.isNot};G.expectedValue=(0,We.serializeArgument)(B.expectedValue);const K=await this._channel.expect(G);if(K.received!==void 0)K.received=(0,We.parseResult)(K.received);return K}}function verifyLoadState(w,B){if(B==="networkidle0")B="networkidle";if(!Ye.kLifecycleEvents.has(B))throw new Error(`${w}: expected one of (load|domcontentloaded|networkidle|commit)`);return B}0&&0},9874:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{HarRouter:()=>HarRouter});w.exports=__toCommonJS(ye);class HarRouter{static async create(w,B,G,K){const{harId:pe,error:ye}=await w.harOpen({file:B});if(ye)throw new Error(ye);return new HarRouter(w,pe,G,K)}constructor(w,B,G,K){this._localUtils=w;this._harId=B;this._options=K;this._notFoundAction=G}async _handle(w){const B=w.request();const G=await this._localUtils.harLookup({harId:this._harId,url:B.url(),method:B.method(),headers:await B.headersArray(),postData:B.postDataBuffer()||void 0,isNavigationRequest:B.isNavigationRequest()});if(G.action==="redirect"){w._platform.log("api",`HAR: ${w.request().url()} redirected to ${G.redirectURL}`);await w._redirectNavigationRequest(G.redirectURL);return}if(G.action==="fulfill"){if(G.status===-1)return;await w.fulfill({status:G.status,headers:Object.fromEntries(G.headers.map((w=>[w.name,w.value]))),body:G.body});return}if(G.action==="error")w._platform.log("api","HAR: "+G.message);if(this._notFoundAction==="abort"){await w.abort();return}await w.fallback()}async addContextRoute(w){await w.route(this._options.urlMatch||"**/*",(w=>this._handle(w)))}async addPageRoute(w){await w.route(this._options.urlMatch||"**/*",(w=>this._handle(w)))}async[Symbol.asyncDispose](){await this.dispose()}dispose(){this._localUtils.harClose({harId:this._harId}).catch((()=>{}))}}0&&0},9044:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{Keyboard:()=>Keyboard,Mouse:()=>Mouse,Touchscreen:()=>Touchscreen});w.exports=__toCommonJS(ye);class Keyboard{constructor(w){this._page=w}async down(w){await this._page._channel.keyboardDown({key:w})}async up(w){await this._page._channel.keyboardUp({key:w})}async insertText(w){await this._page._channel.keyboardInsertText({text:w})}async type(w,B={}){await this._page._channel.keyboardType({text:w,...B})}async press(w,B={}){await this._page._channel.keyboardPress({key:w,...B})}}class Mouse{constructor(w){this._page=w}async move(w,B,G={}){await this._page._channel.mouseMove({x:w,y:B,...G})}async down(w={}){await this._page._channel.mouseDown({...w})}async up(w={}){await this._page._channel.mouseUp(w)}async click(w,B,G={}){await this._page._channel.mouseClick({x:w,y:B,...G})}async dblclick(w,B,G={}){await this._page._wrapApiCall((async()=>{await this.click(w,B,{...G,clickCount:2})}),{title:"Double click"})}async wheel(w,B){await this._page._channel.mouseWheel({deltaX:w,deltaY:B})}}class Touchscreen{constructor(w){this._page=w}async tap(w,B){await this._page._channel.touchscreenTap({x:w,y:B})}}0&&0},159:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{JSHandle:()=>JSHandle,assertMaxArguments:()=>assertMaxArguments,parseResult:()=>parseResult,serializeArgument:()=>serializeArgument});w.exports=__toCommonJS(Be);var Qe=G(1884);var Pe=G(8677);var Fe=G(1038);class JSHandle extends Qe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K);this._preview=this._initializer.preview;this._channel.on("previewUpdated",(({preview:w})=>this._preview=w))}async evaluate(w,B){const G=await this._channel.evaluateExpression({expression:String(w),isFunction:typeof w==="function",arg:serializeArgument(B)});return parseResult(G.value)}async _evaluateFunction(w){const B=await this._channel.evaluateExpression({expression:w,isFunction:true,arg:serializeArgument(void 0)});return parseResult(B.value)}async evaluateHandle(w,B){const G=await this._channel.evaluateExpressionHandle({expression:String(w),isFunction:typeof w==="function",arg:serializeArgument(B)});return JSHandle.from(G.handle)}async getProperty(w){const B=await this._channel.getProperty({name:w});return JSHandle.from(B.handle)}async getProperties(){const w=new Map;for(const{name:B,value:G}of(await this._channel.getPropertyList()).properties)w.set(B,JSHandle.from(G));return w}async jsonValue(){return parseResult((await this._channel.jsonValue()).value)}asElement(){return null}async[Symbol.asyncDispose](){await this.dispose()}async dispose(){try{await this._channel.dispose()}catch(w){if((0,Pe.isTargetClosedError)(w))return;throw w}}toString(){return this._preview}}function serializeArgument(w){const B=[];const pushHandle=w=>{B.push(w);return B.length-1};const G=(0,Fe.serializeValue)(w,(w=>{if(w instanceof JSHandle)return{h:pushHandle(w._channel)};return{fallThrough:w}}));return{value:G,handles:B}}function parseResult(w){return(0,Fe.parseSerializedValue)(w,void 0)}function assertMaxArguments(w,B){if(w>B)throw new Error("Too many arguments. If you need to pass more than 1 argument to the function wrap them in an object.")}0&&0},6704:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{JsonPipe:()=>JsonPipe});w.exports=__toCommonJS(Be);var Qe=G(1884);class JsonPipe extends Qe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K)}channel(){return this._channel}}0&&0},8266:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{LocalUtils:()=>LocalUtils});w.exports=__toCommonJS(Be);var Qe=G(1884);class LocalUtils extends Qe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this.devices={};for(const{name:w,descriptor:B}of K.deviceDescriptors)this.devices[w]=B}async zip(w){return await this._channel.zip(w)}async harOpen(w){return await this._channel.harOpen(w)}async harLookup(w){return await this._channel.harLookup(w)}async harClose(w){return await this._channel.harClose(w)}async harUnzip(w){return await this._channel.harUnzip(w)}async tracingStarted(w){return await this._channel.tracingStarted(w)}async traceDiscarded(w){return await this._channel.traceDiscarded(w)}async addStackToTracingNoReply(w){return await this._channel.addStackToTracingNoReply(w)}}0&&0},1202:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{FrameLocator:()=>FrameLocator,Locator:()=>Locator,setTestIdAttribute:()=>setTestIdAttribute,testIdAttributeName:()=>testIdAttributeName});w.exports=__toCommonJS(Be);var Qe=G(6902);var Pe=G(3780);var Fe=G(677);var Me=G(9658);var Le=G(1407);var je=G(3647);class Locator{constructor(w,B,G){this._frame=w;this._selector=B;if(G?.hasText)this._selector+=` >> internal:has-text=${(0,Me.escapeForTextSelector)(G.hasText,false)}`;if(G?.hasNotText)this._selector+=` >> internal:has-not-text=${(0,Me.escapeForTextSelector)(G.hasNotText,false)}`;if(G?.has){const B=G.has;if(B._frame!==w)throw new Error(`Inner "has" locator must belong to the same frame.`);this._selector+=` >> internal:has=`+JSON.stringify(B._selector)}if(G?.hasNot){const B=G.hasNot;if(B._frame!==w)throw new Error(`Inner "hasNot" locator must belong to the same frame.`);this._selector+=` >> internal:has-not=`+JSON.stringify(B._selector)}if(G?.visible!==void 0)this._selector+=` >> visible=${G.visible?"true":"false"}`;if(this._frame._platform.inspectCustom)this[this._frame._platform.inspectCustom]=()=>this._inspect()}async _withElement(w,B){const G=this._frame._timeout({timeout:B.timeout});const K=G?(0,je.monotonicTime)()+G:0;return await this._frame._wrapApiCall((async()=>{const B=await this._frame._channel.waitForSelector({selector:this._selector,strict:true,state:"attached",timeout:G});const pe=Qe.ElementHandle.fromNullable(B.element);if(!pe)throw new Error(`Could not resolve ${this._selector} to DOM Element`);try{return await w(pe,K?K-(0,je.monotonicTime)():0)}finally{await pe.dispose()}}),{title:B.title,internal:B.internal})}_equals(w){return this._frame===w._frame&&this._selector===w._selector}page(){return this._frame.page()}async boundingBox(w){return await this._withElement((w=>w.boundingBox()),{title:"Bounding box",timeout:w?.timeout})}async check(w={}){return await this._frame.check(this._selector,{strict:true,...w})}async click(w={}){return await this._frame.click(this._selector,{strict:true,...w})}async dblclick(w={}){await this._frame.dblclick(this._selector,{strict:true,...w})}async dispatchEvent(w,B={},G){return await this._frame.dispatchEvent(this._selector,w,B,{strict:true,...G})}async dragTo(w,B={}){return await this._frame.dragAndDrop(this._selector,w._selector,{strict:true,...B})}async evaluate(w,B,G){return await this._withElement((G=>G.evaluate(w,B)),{title:"Evaluate",timeout:G?.timeout})}async _evaluateFunction(w,B){return await this._withElement((B=>B._evaluateFunction(w)),{title:"Evaluate",timeout:B?.timeout})}async evaluateAll(w,B){return await this._frame.$$eval(this._selector,w,B)}async evaluateHandle(w,B,G){return await this._withElement((G=>G.evaluateHandle(w,B)),{title:"Evaluate",timeout:G?.timeout})}async fill(w,B={}){return await this._frame.fill(this._selector,w,{strict:true,...B})}async clear(w={}){await this._frame._wrapApiCall((()=>this.fill("",w)),{title:"Clear"})}async _highlight(){return await this._frame._highlight(this._selector)}async highlight(){return await this._frame._highlight(this._selector)}locator(w,B){if((0,Le.isString)(w))return new Locator(this._frame,this._selector+" >> "+w,B);if(w._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._selector+" >> internal:chain="+JSON.stringify(w._selector),B)}getByTestId(w){return this.locator((0,Fe.getByTestIdSelector)(testIdAttributeName(),w))}getByAltText(w,B){return this.locator((0,Fe.getByAltTextSelector)(w,B))}getByLabel(w,B){return this.locator((0,Fe.getByLabelSelector)(w,B))}getByPlaceholder(w,B){return this.locator((0,Fe.getByPlaceholderSelector)(w,B))}getByText(w,B){return this.locator((0,Fe.getByTextSelector)(w,B))}getByTitle(w,B){return this.locator((0,Fe.getByTitleSelector)(w,B))}getByRole(w,B={}){return this.locator((0,Fe.getByRoleSelector)(w,B))}frameLocator(w){return new FrameLocator(this._frame,this._selector+" >> "+w)}filter(w){return new Locator(this._frame,this._selector,w)}async elementHandle(w){return await this._frame.waitForSelector(this._selector,{strict:true,state:"attached",...w})}async elementHandles(){return await this._frame.$$(this._selector)}contentFrame(){return new FrameLocator(this._frame,this._selector)}describe(w){return new Locator(this._frame,this._selector+" >> internal:describe="+JSON.stringify(w))}first(){return new Locator(this._frame,this._selector+" >> nth=0")}last(){return new Locator(this._frame,this._selector+` >> nth=-1`)}nth(w){return new Locator(this._frame,this._selector+` >> nth=${w}`)}and(w){if(w._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._selector+` >> internal:and=`+JSON.stringify(w._selector))}or(w){if(w._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._selector+` >> internal:or=`+JSON.stringify(w._selector))}async focus(w){return await this._frame.focus(this._selector,{strict:true,...w})}async blur(w){await this._frame._channel.blur({selector:this._selector,strict:true,...w,timeout:this._frame._timeout(w)})}async count(w){return await this._frame._queryCount(this._selector,w)}async _resolveSelector(){return await this._frame._channel.resolveSelector({selector:this._selector})}async getAttribute(w,B){return await this._frame.getAttribute(this._selector,w,{strict:true,...B})}async hover(w={}){return await this._frame.hover(this._selector,{strict:true,...w})}async innerHTML(w){return await this._frame.innerHTML(this._selector,{strict:true,...w})}async innerText(w){return await this._frame.innerText(this._selector,{strict:true,...w})}async inputValue(w){return await this._frame.inputValue(this._selector,{strict:true,...w})}async isChecked(w){return await this._frame.isChecked(this._selector,{strict:true,...w})}async isDisabled(w){return await this._frame.isDisabled(this._selector,{strict:true,...w})}async isEditable(w){return await this._frame.isEditable(this._selector,{strict:true,...w})}async isEnabled(w){return await this._frame.isEnabled(this._selector,{strict:true,...w})}async isHidden(w){return await this._frame.isHidden(this._selector,{strict:true,...w})}async isVisible(w){return await this._frame.isVisible(this._selector,{strict:true,...w})}async press(w,B={}){return await this._frame.press(this._selector,w,{strict:true,...B})}async screenshot(w={}){const B=w.mask;return await this._withElement(((G,K)=>G.screenshot({...w,mask:B,timeout:K})),{title:"Screenshot",timeout:w.timeout})}async ariaSnapshot(w){const B=await this._frame._channel.ariaSnapshot({...w,selector:this._selector,timeout:this._frame._timeout(w)});return B.snapshot}async scrollIntoViewIfNeeded(w={}){return await this._withElement(((B,G)=>B.scrollIntoViewIfNeeded({...w,timeout:G})),{title:"Scroll into view",timeout:w.timeout})}async selectOption(w,B={}){return await this._frame.selectOption(this._selector,w,{strict:true,...B})}async selectText(w={}){return await this._withElement(((B,G)=>B.selectText({...w,timeout:G})),{title:"Select text",timeout:w.timeout})}async setChecked(w,B){if(w)await this.check(B);else await this.uncheck(B)}async setInputFiles(w,B={}){return await this._frame.setInputFiles(this._selector,w,{strict:true,...B})}async tap(w={}){return await this._frame.tap(this._selector,{strict:true,...w})}async textContent(w){return await this._frame.textContent(this._selector,{strict:true,...w})}async type(w,B={}){return await this._frame.type(this._selector,w,{strict:true,...B})}async pressSequentially(w,B={}){return await this.type(w,B)}async uncheck(w={}){return await this._frame.uncheck(this._selector,{strict:true,...w})}async all(){return new Array(await this.count()).fill(0).map(((w,B)=>this.nth(B)))}async allInnerTexts(){return await this._frame.$$eval(this._selector,(w=>w.map((w=>w.innerText))))}async allTextContents(){return await this._frame.$$eval(this._selector,(w=>w.map((w=>w.textContent||""))))}async waitFor(w){await this._frame._channel.waitForSelector({selector:this._selector,strict:true,omitReturnValue:true,...w,timeout:this._frame._timeout(w)})}async _expect(w,B){return this._frame._expect(w,{...B,selector:this._selector})}_inspect(){return this.toString()}toString(){return(0,Pe.asLocator)("javascript",this._selector)}}class FrameLocator{constructor(w,B){this._frame=w;this._frameSelector=B}locator(w,B){if((0,Le.isString)(w))return new Locator(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+w,B);if(w._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+w._selector,B)}getByTestId(w){return this.locator((0,Fe.getByTestIdSelector)(testIdAttributeName(),w))}getByAltText(w,B){return this.locator((0,Fe.getByAltTextSelector)(w,B))}getByLabel(w,B){return this.locator((0,Fe.getByLabelSelector)(w,B))}getByPlaceholder(w,B){return this.locator((0,Fe.getByPlaceholderSelector)(w,B))}getByText(w,B){return this.locator((0,Fe.getByTextSelector)(w,B))}getByTitle(w,B){return this.locator((0,Fe.getByTitleSelector)(w,B))}getByRole(w,B={}){return this.locator((0,Fe.getByRoleSelector)(w,B))}owner(){return new Locator(this._frame,this._frameSelector)}frameLocator(w){return new FrameLocator(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+w)}first(){return new FrameLocator(this._frame,this._frameSelector+" >> nth=0")}last(){return new FrameLocator(this._frame,this._frameSelector+` >> nth=-1`)}nth(w){return new FrameLocator(this._frame,this._frameSelector+` >> nth=${w}`)}}let qe="data-testid";function testIdAttributeName(){return qe}function setTestIdAttribute(w){qe=w}0&&0},9482:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{RawHeaders:()=>RawHeaders,Request:()=>Request,Response:()=>Response,Route:()=>Route,RouteHandler:()=>RouteHandler,WebSocket:()=>WebSocket,WebSocketRoute:()=>WebSocketRoute,WebSocketRouteHandler:()=>WebSocketRouteHandler,validateHeaders:()=>validateHeaders});w.exports=__toCommonJS(Be);var Qe=G(1884);var Pe=G(8677);var Fe=G(9548);var Me=G(412);var Le=G(5205);var je=G(3112);var qe=G(8216);var We=G(8164);var Ge=G(8390);var ze=G(4376);var Ye=G(3587);var Ke=G(5543);var Xe=G(1407);var rt=G(3559);var it=G(9498);class Request extends Qe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._redirectedFrom=null;this._redirectedTo=null;this._failureText=null;this._fallbackOverrides={};this._hasResponse=false;this._redirectedFrom=Request.fromNullable(K.redirectedFrom);if(this._redirectedFrom)this._redirectedFrom._redirectedTo=this;this._provisionalHeaders=new RawHeaders(K.headers);this._timing={startTime:0,domainLookupStart:-1,domainLookupEnd:-1,connectStart:-1,secureConnectionStart:-1,connectEnd:-1,requestStart:-1,responseStart:-1,responseEnd:-1};this._hasResponse=this._initializer.hasResponse;this._channel.on("response",(()=>this._hasResponse=true))}static from(w){return w._object}static fromNullable(w){return w?Request.from(w):null}url(){return this._fallbackOverrides.url||this._initializer.url}resourceType(){return this._initializer.resourceType}method(){return this._fallbackOverrides.method||this._initializer.method}postData(){return(this._fallbackOverrides.postDataBuffer||this._initializer.postData)?.toString("utf-8")||null}postDataBuffer(){return this._fallbackOverrides.postDataBuffer||this._initializer.postData||null}postDataJSON(){const w=this.postData();if(!w)return null;const B=this.headers()["content-type"];if(B?.includes("application/x-www-form-urlencoded")){const B={};const G=new URLSearchParams(w);for(const[w,K]of G.entries())B[w]=K;return B}try{return JSON.parse(w)}catch(B){throw new Error("POST data is not a valid JSON object: "+w)}}headers(){if(this._fallbackOverrides.headers)return RawHeaders._fromHeadersObjectLossy(this._fallbackOverrides.headers).headers();return this._provisionalHeaders.headers()}async _actualHeaders(){if(this._fallbackOverrides.headers)return RawHeaders._fromHeadersObjectLossy(this._fallbackOverrides.headers);if(!this._actualHeadersPromise){this._actualHeadersPromise=this._wrapApiCall((async()=>new RawHeaders((await this._channel.rawRequestHeaders()).headers)),{internal:true})}return await this._actualHeadersPromise}async allHeaders(){return(await this._actualHeaders()).headers()}async headersArray(){return(await this._actualHeaders()).headersArray()}async headerValue(w){return(await this._actualHeaders()).get(w)}async response(){return Response.fromNullable((await this._channel.response()).response)}async _internalResponse(){return Response.fromNullable((await this._channel.response()).response)}frame(){if(!this._initializer.frame){(0,We.assert)(this.serviceWorker());throw new Error("Service Worker requests do not have an associated frame.")}const w=Le.Frame.from(this._initializer.frame);if(!w._page){throw new Error(["Frame for this navigation request is not available, because the request","was issued before the frame is created. You can check whether the request","is a navigation request by calling isNavigationRequest() method."].join("\n"))}return w}_safePage(){return Le.Frame.fromNullable(this._initializer.frame)?._page||null}serviceWorker(){return this._initializer.serviceWorker?qe.Worker.from(this._initializer.serviceWorker):null}isNavigationRequest(){return this._initializer.isNavigationRequest}redirectedFrom(){return this._redirectedFrom}redirectedTo(){return this._redirectedTo}failure(){if(this._failureText===null)return null;return{errorText:this._failureText}}timing(){return this._timing}async sizes(){const w=await this.response();if(!w)throw new Error("Unable to fetch sizes for failed request");return(await w._channel.sizes()).sizes}_setResponseEndTiming(w){this._timing.responseEnd=w;if(this._timing.responseStart===-1)this._timing.responseStart=w}_finalRequest(){return this._redirectedTo?this._redirectedTo._finalRequest():this}_applyFallbackOverrides(w){if(w.url)this._fallbackOverrides.url=w.url;if(w.method)this._fallbackOverrides.method=w.method;if(w.headers)this._fallbackOverrides.headers=w.headers;if((0,Xe.isString)(w.postData))this._fallbackOverrides.postDataBuffer=Buffer.from(w.postData,"utf-8");else if(w.postData instanceof Buffer)this._fallbackOverrides.postDataBuffer=w.postData;else if(w.postData)this._fallbackOverrides.postDataBuffer=Buffer.from(JSON.stringify(w.postData),"utf-8")}_fallbackOverridesForContinue(){return this._fallbackOverrides}_targetClosedScope(){return this.serviceWorker()?._closedScope||this._safePage()?._closedOrCrashedScope||new Ye.LongStandingScope}}class Route extends Qe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._handlingPromise=null;this._didThrow=false}static from(w){return w._object}request(){return Request.from(this._initializer.request)}async _raceWithTargetClose(w){return await this.request()._targetClosedScope().safeRace(w)}async _startHandling(){this._handlingPromise=new Ye.ManualPromise;return await this._handlingPromise}async fallback(w={}){this._checkNotHandled();this.request()._applyFallbackOverrides(w);this._reportHandled(false)}async abort(w){await this._handleRoute((async()=>{await this._raceWithTargetClose(this._channel.abort({errorCode:w}))}))}async _redirectNavigationRequest(w){await this._handleRoute((async()=>{await this._raceWithTargetClose(this._channel.redirectNavigationRequest({url:w}))}))}async fetch(w={}){return await this._wrapApiCall((async()=>await this._context.request._innerFetch({request:this.request(),data:w.postData,...w})))}async fulfill(w={}){await this._handleRoute((async()=>{await this._innerFulfill(w)}))}async _handleRoute(w){this._checkNotHandled();try{await w();this._reportHandled(true)}catch(w){this._didThrow=true;throw w}}async _innerFulfill(w={}){let B;let{status:G,headers:K,body:pe}=w;if(w.json!==void 0){(0,We.assert)(w.body===void 0,"Can specify either body or json parameters");pe=JSON.stringify(w.json)}if(w.response instanceof Me.APIResponse){G??=w.response.status();K??=w.response.headers();if(pe===void 0&&w.path===void 0){if(w.response._request._connection===this._connection)B=w.response._fetchUid();else pe=await w.response.body()}}let ye=false;let Se=0;if(w.path){const B=await this._platform.fs().promises.readFile(w.path);pe=B.toString("base64");ye=true;Se=B.length}else if((0,Xe.isString)(pe)){ye=false;Se=Buffer.byteLength(pe)}else if(pe){Se=pe.length;pe=pe.toString("base64");ye=true}const Be={};for(const w of Object.keys(K||{}))Be[w.toLowerCase()]=String(K[w]);if(w.contentType)Be["content-type"]=String(w.contentType);else if(w.json)Be["content-type"]="application/json";else if(w.path)Be["content-type"]=(0,it.getMimeTypeForPath)(w.path)||"application/octet-stream";if(Se&&!("content-length"in Be))Be["content-length"]=String(Se);await this._raceWithTargetClose(this._channel.fulfill({status:G||200,headers:(0,Ge.headersObjectToArray)(Be),body:pe,isBase64:ye,fetchResponseUid:B}))}async continue(w={}){await this._handleRoute((async()=>{this.request()._applyFallbackOverrides(w);await this._innerContinue(false)}))}_checkNotHandled(){if(!this._handlingPromise)throw new Error("Route is already handled!")}_reportHandled(w){const B=this._handlingPromise;this._handlingPromise=null;B.resolve(w)}async _innerContinue(w){const B=this.request()._fallbackOverridesForContinue();return await this._raceWithTargetClose(this._channel.continue({url:B.url,method:B.method,headers:B.headers?(0,Ge.headersObjectToArray)(B.headers):void 0,postData:B.postDataBuffer,isFallback:w}))}}class WebSocketRoute extends Qe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._connected=false;this._server={onMessage:w=>{this._onServerMessage=w},onClose:w=>{this._onServerClose=w},connectToServer:()=>{throw new Error(`connectToServer must be called on the page-side WebSocketRoute`)},url:()=>this._initializer.url,close:async(w={})=>{await this._channel.closeServer({...w,wasClean:true}).catch((()=>{}))},send:w=>{if((0,Xe.isString)(w))this._channel.sendToServer({message:w,isBase64:false}).catch((()=>{}));else this._channel.sendToServer({message:w.toString("base64"),isBase64:true}).catch((()=>{}))},async[Symbol.asyncDispose](){await this.close()}};this._channel.on("messageFromPage",(({message:w,isBase64:B})=>{if(this._onPageMessage)this._onPageMessage(B?Buffer.from(w,"base64"):w);else if(this._connected)this._channel.sendToServer({message:w,isBase64:B}).catch((()=>{}))}));this._channel.on("messageFromServer",(({message:w,isBase64:B})=>{if(this._onServerMessage)this._onServerMessage(B?Buffer.from(w,"base64"):w);else this._channel.sendToPage({message:w,isBase64:B}).catch((()=>{}))}));this._channel.on("closePage",(({code:w,reason:B,wasClean:G})=>{if(this._onPageClose)this._onPageClose(w,B);else this._channel.closeServer({code:w,reason:B,wasClean:G}).catch((()=>{}))}));this._channel.on("closeServer",(({code:w,reason:B,wasClean:G})=>{if(this._onServerClose)this._onServerClose(w,B);else this._channel.closePage({code:w,reason:B,wasClean:G}).catch((()=>{}))}))}static from(w){return w._object}url(){return this._initializer.url}async close(w={}){await this._channel.closePage({...w,wasClean:true}).catch((()=>{}))}connectToServer(){if(this._connected)throw new Error("Already connected to the server");this._connected=true;this._channel.connect().catch((()=>{}));return this._server}send(w){if((0,Xe.isString)(w))this._channel.sendToPage({message:w,isBase64:false}).catch((()=>{}));else this._channel.sendToPage({message:w.toString("base64"),isBase64:true}).catch((()=>{}))}onMessage(w){this._onPageMessage=w}onClose(w){this._onPageClose=w}async[Symbol.asyncDispose](){await this.close()}async _afterHandle(){if(this._connected)return;await this._channel.ensureOpened().catch((()=>{}))}}class WebSocketRouteHandler{constructor(w,B,G){this._baseURL=w;this.url=B;this.handler=G}static prepareInterceptionPatterns(w){const B=[];let G=false;for(const K of w){if((0,Xe.isString)(K.url))B.push({glob:K.url});else if((0,Xe.isRegExp)(K.url))B.push({regexSource:K.url.source,regexFlags:K.url.flags});else G=true}if(G)return[{glob:"**/*"}];return B}matches(w){return(0,ze.urlMatches)(this._baseURL,w,this.url,true)}async handle(w){const B=this.handler;await B(w);await w._afterHandle()}}class Response extends Qe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._finishedPromise=new Ye.ManualPromise;this._provisionalHeaders=new RawHeaders(K.headers);this._request=Request.from(this._initializer.request);Object.assign(this._request._timing,this._initializer.timing)}static from(w){return w._object}static fromNullable(w){return w?Response.from(w):null}url(){return this._initializer.url}ok(){return this._initializer.status===0||this._initializer.status>=200&&this._initializer.status<=299}status(){return this._initializer.status}statusText(){return this._initializer.statusText}fromServiceWorker(){return this._initializer.fromServiceWorker}headers(){return this._provisionalHeaders.headers()}async _actualHeaders(){if(!this._actualHeadersPromise){this._actualHeadersPromise=(async()=>new RawHeaders((await this._channel.rawResponseHeaders()).headers))()}return await this._actualHeadersPromise}async allHeaders(){return(await this._actualHeaders()).headers()}async headersArray(){return(await this._actualHeaders()).headersArray().slice()}async headerValue(w){return(await this._actualHeaders()).get(w)}async headerValues(w){return(await this._actualHeaders()).getAll(w)}async finished(){return await this.request()._targetClosedScope().race(this._finishedPromise)}async body(){return(await this._channel.body()).binary}async text(){const w=await this.body();return w.toString("utf8")}async json(){const w=await this.text();return JSON.parse(w)}request(){return this._request}frame(){return this._request.frame()}async serverAddr(){return(await this._channel.serverAddr()).value||null}async securityDetails(){return(await this._channel.securityDetails()).value||null}}class WebSocket extends Qe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K);this._isClosed=false;this._page=w;this._channel.on("frameSent",(w=>{if(w.opcode===1)this.emit(Fe.Events.WebSocket.FrameSent,{payload:w.data});else if(w.opcode===2)this.emit(Fe.Events.WebSocket.FrameSent,{payload:Buffer.from(w.data,"base64")})}));this._channel.on("frameReceived",(w=>{if(w.opcode===1)this.emit(Fe.Events.WebSocket.FrameReceived,{payload:w.data});else if(w.opcode===2)this.emit(Fe.Events.WebSocket.FrameReceived,{payload:Buffer.from(w.data,"base64")})}));this._channel.on("socketError",(({error:w})=>this.emit(Fe.Events.WebSocket.Error,w)));this._channel.on("close",(()=>{this._isClosed=true;this.emit(Fe.Events.WebSocket.Close,this)}))}url(){return this._initializer.url}isClosed(){return this._isClosed}async waitForEvent(w,B={}){return await this._wrapApiCall((async()=>{const G=this._page._timeoutSettings.timeout(typeof B==="function"?{}:B);const K=typeof B==="function"?B:B.predicate;const pe=je.Waiter.createForEvent(this,w);pe.rejectOnTimeout(G,`Timeout ${G}ms exceeded while waiting for event "${w}"`);if(w!==Fe.Events.WebSocket.Error)pe.rejectOnEvent(this,Fe.Events.WebSocket.Error,new Error("Socket error"));if(w!==Fe.Events.WebSocket.Close)pe.rejectOnEvent(this,Fe.Events.WebSocket.Close,new Error("Socket closed"));pe.rejectOnEvent(this._page,Fe.Events.Page.Close,(()=>this._page._closeErrorWithReason()));const ye=await pe.waitForEvent(this,w,K);pe.dispose();return ye}))}}function validateHeaders(w){for(const B of Object.keys(w)){const G=w[B];if(!Object.is(G,void 0)&&!(0,Xe.isString)(G))throw new Error(`Expected value of header "${B}" to be String, but "${typeof G}" is found.`)}}class RouteHandler{constructor(w,B,G,K,pe=Number.MAX_SAFE_INTEGER){this.handledCount=0;this._ignoreException=false;this._activeInvocations=new Set;this._baseURL=B;this._times=pe;this.url=G;this.handler=K;this._savedZone=w.zones.current().pop()}static prepareInterceptionPatterns(w){const B=[];let G=false;for(const K of w){if((0,Xe.isString)(K.url))B.push({glob:K.url});else if((0,Xe.isRegExp)(K.url))B.push({regexSource:K.url.source,regexFlags:K.url.flags});else G=true}if(G)return[{glob:"**/*"}];return B}matches(w){return(0,ze.urlMatches)(this._baseURL,w,this.url)}async handle(w){return await this._savedZone.run((async()=>this._handleImpl(w)))}async _handleImpl(w){const B={complete:new Ye.ManualPromise,route:w};this._activeInvocations.add(B);try{return await this._handleInternal(w)}catch(w){if(this._ignoreException)return false;if((0,Pe.isTargetClosedError)(w)){(0,rt.rewriteErrorMessage)(w,`"${w.message}" while running route callback.\nConsider awaiting \`await page.unrouteAll({ behavior: 'ignoreErrors' })\`\nbefore the end of the test to ignore remaining routes in flight.`)}throw w}finally{B.complete.resolve();this._activeInvocations.delete(B)}}async stop(w){if(w==="ignoreErrors"){this._ignoreException=true}else{const w=[];for(const B of this._activeInvocations){if(!B.route._didThrow)w.push(B.complete)}await Promise.all(w)}}async _handleInternal(w){++this.handledCount;const B=w._startHandling();const G=this.handler;const[K]=await Promise.all([B,G(w,w.request())]);return K}willExpire(){return this.handledCount+1>=this._times}}class RawHeaders{constructor(w){this._headersMap=new Ke.MultiMap;this._headersArray=w;for(const B of w)this._headersMap.set(B.name.toLowerCase(),B.value)}static _fromHeadersObjectLossy(w){const B=Object.entries(w).map((([w,B])=>({name:w,value:B}))).filter((w=>w.value!==void 0));return new RawHeaders(B)}get(w){const B=this.getAll(w);if(!B||!B.length)return null;return B.join(w.toLowerCase()==="set-cookie"?"\n":", ")}getAll(w){return[...this._headersMap.get(w.toLowerCase())]}headers(){const w={};for(const B of this._headersMap.keys())w[B]=this.get(B);return w}headersArray(){return this._headersArray}}0&&0},309:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{BindingCall:()=>BindingCall,Page:()=>Page});w.exports=__toCommonJS(Be);var Qe=G(1456);var Pe=G(1404);var Fe=G(1884);var Me=G(1025);var Le=G(1812);var je=G(8246);var qe=G(6902);var We=G(8677);var Ge=G(9548);var ze=G(823);var Ye=G(5205);var Ke=G(9874);var Xe=G(9044);var rt=G(159);var it=G(9482);var ot=G(6727);var at=G(3112);var lt=G(8216);var ct=G(8381);var ut=G(8164);var ft=G(2647);var gt=G(8390);var mt=G(9658);var wt=G(4376);var vt=G(3587);var _t=G(1407);var It=G(8657);class Page extends Fe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._frames=new Set;this._workers=new Set;this._closed=false;this._closedOrCrashedScope=new vt.LongStandingScope;this._routes=[];this._webSocketRoutes=[];this._bindings=new Map;this._video=null;this._closeWasCalled=false;this._harRouters=[];this._locatorHandlers=new Map;this._browserContext=w;this._timeoutSettings=new ct.TimeoutSettings(this._platform,this._browserContext._timeoutSettings);this.accessibility=new Qe.Accessibility(this._channel);this.keyboard=new Xe.Keyboard(this);this.mouse=new Xe.Mouse(this);this.request=this._browserContext.request;this.touchscreen=new Xe.Touchscreen(this);this.clock=this._browserContext.clock;this._mainFrame=Ye.Frame.from(K.mainFrame);this._mainFrame._page=this;this._frames.add(this._mainFrame);this._viewportSize=K.viewportSize;this._closed=K.isClosed;this._opener=Page.fromNullable(K.opener);this._channel.on("bindingCall",(({binding:w})=>this._onBinding(BindingCall.from(w))));this._channel.on("close",(()=>this._onClose()));this._channel.on("crash",(()=>this._onCrash()));this._channel.on("download",(({url:w,suggestedFilename:B,artifact:G})=>{const K=Pe.Artifact.from(G);this.emit(Ge.Events.Page.Download,new je.Download(this,w,B,K))}));this._channel.on("fileChooser",(({element:w,isMultiple:B})=>this.emit(Ge.Events.Page.FileChooser,new ze.FileChooser(this,qe.ElementHandle.from(w),B))));this._channel.on("frameAttached",(({frame:w})=>this._onFrameAttached(Ye.Frame.from(w))));this._channel.on("frameDetached",(({frame:w})=>this._onFrameDetached(Ye.Frame.from(w))));this._channel.on("locatorHandlerTriggered",(({uid:w})=>this._onLocatorHandlerTriggered(w)));this._channel.on("route",(({route:w})=>this._onRoute(it.Route.from(w))));this._channel.on("webSocketRoute",(({webSocketRoute:w})=>this._onWebSocketRoute(it.WebSocketRoute.from(w))));this._channel.on("video",(({artifact:w})=>{const B=Pe.Artifact.from(w);this._forceVideo()._artifactReady(B)}));this._channel.on("viewportSizeChanged",(({viewportSize:w})=>this._viewportSize=w));this._channel.on("webSocket",(({webSocket:w})=>this.emit(Ge.Events.Page.WebSocket,it.WebSocket.from(w))));this._channel.on("worker",(({worker:w})=>this._onWorker(lt.Worker.from(w))));this.coverage=new Le.Coverage(this._channel);this.once(Ge.Events.Page.Close,(()=>this._closedOrCrashedScope.close(this._closeErrorWithReason())));this.once(Ge.Events.Page.Crash,(()=>this._closedOrCrashedScope.close(new We.TargetClosedError)));this._setEventToSubscriptionMapping(new Map([[Ge.Events.Page.Console,"console"],[Ge.Events.Page.Dialog,"dialog"],[Ge.Events.Page.Request,"request"],[Ge.Events.Page.Response,"response"],[Ge.Events.Page.RequestFinished,"requestFinished"],[Ge.Events.Page.RequestFailed,"requestFailed"],[Ge.Events.Page.FileChooser,"fileChooser"]]))}static from(w){return w._object}static fromNullable(w){return w?Page.from(w):null}_onFrameAttached(w){w._page=this;this._frames.add(w);if(w._parentFrame)w._parentFrame._childFrames.add(w);this.emit(Ge.Events.Page.FrameAttached,w)}_onFrameDetached(w){this._frames.delete(w);w._detached=true;if(w._parentFrame)w._parentFrame._childFrames.delete(w);this.emit(Ge.Events.Page.FrameDetached,w)}async _onRoute(w){w._context=this.context();const B=this._routes.slice();for(const G of B){if(this._closeWasCalled||this._browserContext._closingStatus!=="none")return;if(!G.matches(w.request().url()))continue;const B=this._routes.indexOf(G);if(B===-1)continue;if(G.willExpire())this._routes.splice(B,1);const K=await G.handle(w);if(!this._routes.length)this._updateInterceptionPatterns({internal:true}).catch((()=>{}));if(K)return}await this._browserContext._onRoute(w)}async _onWebSocketRoute(w){const B=this._webSocketRoutes.find((B=>B.matches(w.url())));if(B)await B.handle(w);else await this._browserContext._onWebSocketRoute(w)}async _onBinding(w){const B=this._bindings.get(w._initializer.name);if(B){await w.call(B);return}await this._browserContext._onBinding(w)}_onWorker(w){this._workers.add(w);w._page=this;this.emit(Ge.Events.Page.Worker,w)}_onClose(){this._closed=true;this._browserContext._pages.delete(this);this._disposeHarRouters();this.emit(Ge.Events.Page.Close,this)}_onCrash(){this.emit(Ge.Events.Page.Crash,this)}context(){return this._browserContext}async opener(){if(!this._opener||this._opener.isClosed())return null;return this._opener}mainFrame(){return this._mainFrame}frame(w){const B=(0,_t.isString)(w)?w:w.name;const G=(0,_t.isObject)(w)?w.url:void 0;(0,ut.assert)(B||G,"Either name or url matcher should be specified");return this.frames().find((w=>{if(B)return w.name()===B;return(0,wt.urlMatches)(this._browserContext._options.baseURL,w.url(),G)}))||null}frames(){return[...this._frames]}setDefaultNavigationTimeout(w){this._timeoutSettings.setDefaultNavigationTimeout(w)}setDefaultTimeout(w){this._timeoutSettings.setDefaultTimeout(w)}_forceVideo(){if(!this._video)this._video=new ot.Video(this,this._connection);return this._video}video(){if(!this._browserContext._options.recordVideo)return null;return this._forceVideo()}async $(w,B){return await this._mainFrame.$(w,B)}async waitForSelector(w,B){return await this._mainFrame.waitForSelector(w,B)}async dispatchEvent(w,B,G,K){return await this._mainFrame.dispatchEvent(w,B,G,K)}async evaluateHandle(w,B){(0,rt.assertMaxArguments)(arguments.length,2);return await this._mainFrame.evaluateHandle(w,B)}async $eval(w,B,G){(0,rt.assertMaxArguments)(arguments.length,3);return await this._mainFrame.$eval(w,B,G)}async $$eval(w,B,G){(0,rt.assertMaxArguments)(arguments.length,3);return await this._mainFrame.$$eval(w,B,G)}async $$(w){return await this._mainFrame.$$(w)}async addScriptTag(w={}){return await this._mainFrame.addScriptTag(w)}async addStyleTag(w={}){return await this._mainFrame.addStyleTag(w)}async exposeFunction(w,B){await this._channel.exposeBinding({name:w});const binding=(w,...G)=>B(...G);this._bindings.set(w,binding)}async exposeBinding(w,B,G={}){await this._channel.exposeBinding({name:w,needsHandle:G.handle});this._bindings.set(w,B)}async setExtraHTTPHeaders(w){(0,it.validateHeaders)(w);await this._channel.setExtraHTTPHeaders({headers:(0,gt.headersObjectToArray)(w)})}url(){return this._mainFrame.url()}async content(){return await this._mainFrame.content()}async setContent(w,B){return await this._mainFrame.setContent(w,B)}async goto(w,B){return await this._mainFrame.goto(w,B)}async reload(w={}){const B=(0,Ye.verifyLoadState)("waitUntil",w.waitUntil===void 0?"load":w.waitUntil);return it.Response.fromNullable((await this._channel.reload({...w,waitUntil:B,timeout:this._timeoutSettings.navigationTimeout(w)})).response)}async addLocatorHandler(w,B,G={}){if(w._frame!==this._mainFrame)throw new Error(`Locator must belong to the main frame of this page`);if(G.times===0)return;const{uid:K}=await this._channel.registerLocatorHandler({selector:w._selector,noWaitAfter:G.noWaitAfter});this._locatorHandlers.set(K,{locator:w,handler:B,times:G.times})}async _onLocatorHandlerTriggered(w){let B=false;try{const G=this._locatorHandlers.get(w);if(G&&G.times!==0){if(G.times!==void 0)G.times--;await G.handler(G.locator)}B=G?.times===0}finally{if(B)this._locatorHandlers.delete(w);this._channel.resolveLocatorHandlerNoReply({uid:w,remove:B}).catch((()=>{}))}}async removeLocatorHandler(w){for(const[B,G]of this._locatorHandlers){if(G.locator._equals(w)){this._locatorHandlers.delete(B);await this._channel.unregisterLocatorHandler({uid:B}).catch((()=>{}))}}}async waitForLoadState(w,B){return await this._mainFrame.waitForLoadState(w,B)}async waitForNavigation(w){return await this._mainFrame.waitForNavigation(w)}async waitForURL(w,B){return await this._mainFrame.waitForURL(w,B)}async waitForRequest(w,B={}){const predicate=async B=>{if((0,_t.isString)(w)||(0,_t.isRegExp)(w))return(0,wt.urlMatches)(this._browserContext._options.baseURL,B.url(),w);return await w(B)};const G=trimUrl(w);const K=G?`waiting for request ${G}`:void 0;return await this._waitForEvent(Ge.Events.Page.Request,{predicate:predicate,timeout:B.timeout},K)}async waitForResponse(w,B={}){const predicate=async B=>{if((0,_t.isString)(w)||(0,_t.isRegExp)(w))return(0,wt.urlMatches)(this._browserContext._options.baseURL,B.url(),w);return await w(B)};const G=trimUrl(w);const K=G?`waiting for response ${G}`:void 0;return await this._waitForEvent(Ge.Events.Page.Response,{predicate:predicate,timeout:B.timeout},K)}async waitForEvent(w,B={}){return await this._waitForEvent(w,B,`waiting for event "${w}"`)}_closeErrorWithReason(){return new We.TargetClosedError(this._closeReason||this._browserContext._effectiveCloseReason())}async _waitForEvent(w,B,G){return await this._wrapApiCall((async()=>{const K=this._timeoutSettings.timeout(typeof B==="function"?{}:B);const pe=typeof B==="function"?B:B.predicate;const ye=at.Waiter.createForEvent(this,w);if(G)ye.log(G);ye.rejectOnTimeout(K,`Timeout ${K}ms exceeded while waiting for event "${w}"`);if(w!==Ge.Events.Page.Crash)ye.rejectOnEvent(this,Ge.Events.Page.Crash,new Error("Page crashed"));if(w!==Ge.Events.Page.Close)ye.rejectOnEvent(this,Ge.Events.Page.Close,(()=>this._closeErrorWithReason()));const Se=await ye.waitForEvent(this,w,pe);ye.dispose();return Se}))}async goBack(w={}){const B=(0,Ye.verifyLoadState)("waitUntil",w.waitUntil===void 0?"load":w.waitUntil);return it.Response.fromNullable((await this._channel.goBack({...w,waitUntil:B,timeout:this._timeoutSettings.navigationTimeout(w)})).response)}async goForward(w={}){const B=(0,Ye.verifyLoadState)("waitUntil",w.waitUntil===void 0?"load":w.waitUntil);return it.Response.fromNullable((await this._channel.goForward({...w,waitUntil:B,timeout:this._timeoutSettings.navigationTimeout(w)})).response)}async requestGC(){await this._channel.requestGC()}async emulateMedia(w={}){await this._channel.emulateMedia({media:w.media===null?"no-override":w.media,colorScheme:w.colorScheme===null?"no-override":w.colorScheme,reducedMotion:w.reducedMotion===null?"no-override":w.reducedMotion,forcedColors:w.forcedColors===null?"no-override":w.forcedColors,contrast:w.contrast===null?"no-override":w.contrast})}async setViewportSize(w){this._viewportSize=w;await this._channel.setViewportSize({viewportSize:w})}viewportSize(){return this._viewportSize||null}async evaluate(w,B){(0,rt.assertMaxArguments)(arguments.length,2);return await this._mainFrame.evaluate(w,B)}async _evaluateFunction(w){return this._mainFrame._evaluateFunction(w)}async addInitScript(w,B){const G=await(0,Me.evaluationScript)(this._platform,w,B);await this._channel.addInitScript({source:G})}async route(w,B,G={}){this._routes.unshift(new it.RouteHandler(this._platform,this._browserContext._options.baseURL,w,B,G.times));await this._updateInterceptionPatterns({title:"Route requests"})}async routeFromHAR(w,B={}){const G=this._connection.localUtils();if(!G)throw new Error("Route from har is not supported in thin clients");if(B.update){await this._browserContext._recordIntoHAR(w,this,B);return}const K=await Ke.HarRouter.create(G,w,B.notFound||"abort",{urlMatch:B.url});this._harRouters.push(K);await K.addPageRoute(this)}async routeWebSocket(w,B){this._webSocketRoutes.unshift(new it.WebSocketRouteHandler(this._browserContext._options.baseURL,w,B));await this._updateWebSocketInterceptionPatterns({title:"Route WebSockets"})}_disposeHarRouters(){this._harRouters.forEach((w=>w.dispose()));this._harRouters=[]}async unrouteAll(w){await this._unrouteInternal(this._routes,[],w?.behavior);this._disposeHarRouters()}async unroute(w,B){const G=[];const K=[];for(const pe of this._routes){if((0,wt.urlMatchesEqual)(pe.url,w)&&(!B||pe.handler===B))G.push(pe);else K.push(pe)}await this._unrouteInternal(G,K,"default")}async _unrouteInternal(w,B,G){this._routes=B;if(G&&G!=="default"){const B=w.map((w=>w.stop(G)));await Promise.all(B)}await this._updateInterceptionPatterns({title:"Unroute requests"})}async _updateInterceptionPatterns(w){const B=it.RouteHandler.prepareInterceptionPatterns(this._routes);await this._wrapApiCall((()=>this._channel.setNetworkInterceptionPatterns({patterns:B})),w)}async _updateWebSocketInterceptionPatterns(w){const B=it.WebSocketRouteHandler.prepareInterceptionPatterns(this._webSocketRoutes);await this._wrapApiCall((()=>this._channel.setWebSocketInterceptionPatterns({patterns:B})),w)}async screenshot(w={}){const B=w.mask;const G={...w,mask:void 0,timeout:this._timeoutSettings.timeout(w)};if(!G.type)G.type=(0,qe.determineScreenshotType)(w);if(B){G.mask=B.map((w=>({frame:w._frame._channel,selector:w._selector})))}const K=await this._channel.screenshot(G);if(w.path){await(0,ft.mkdirIfNeeded)(this._platform,w.path);await this._platform.fs().promises.writeFile(w.path,K.binary)}return K.binary}async _expectScreenshot(w){const B=w?.mask?w?.mask.map((w=>({frame:w._frame._channel,selector:w._selector}))):void 0;const G=w.locator?{frame:w.locator._frame._channel,selector:w.locator._selector}:void 0;return await this._channel.expectScreenshot({...w,isNot:!!w.isNot,locator:G,mask:B})}async title(){return await this._mainFrame.title()}async bringToFront(){await this._channel.bringToFront()}async[Symbol.asyncDispose](){await this.close()}async close(w={}){this._closeReason=w.reason;this._closeWasCalled=true;try{if(this._ownedContext)await this._ownedContext.close();else await this._channel.close(w)}catch(B){if((0,We.isTargetClosedError)(B)&&!w.runBeforeUnload)return;throw B}}isClosed(){return this._closed}async click(w,B){return await this._mainFrame.click(w,B)}async dragAndDrop(w,B,G){return await this._mainFrame.dragAndDrop(w,B,G)}async dblclick(w,B){await this._mainFrame.dblclick(w,B)}async tap(w,B){return await this._mainFrame.tap(w,B)}async fill(w,B,G){return await this._mainFrame.fill(w,B,G)}async consoleMessages(){const{messages:w}=await this._channel.consoleMessages();return w.map((w=>new It.ConsoleMessage(this._platform,w,this)))}async pageErrors(){const{errors:w}=await this._channel.pageErrors();return w.map((w=>(0,We.parseError)(w)))}locator(w,B){return this.mainFrame().locator(w,B)}getByTestId(w){return this.mainFrame().getByTestId(w)}getByAltText(w,B){return this.mainFrame().getByAltText(w,B)}getByLabel(w,B){return this.mainFrame().getByLabel(w,B)}getByPlaceholder(w,B){return this.mainFrame().getByPlaceholder(w,B)}getByText(w,B){return this.mainFrame().getByText(w,B)}getByTitle(w,B){return this.mainFrame().getByTitle(w,B)}getByRole(w,B={}){return this.mainFrame().getByRole(w,B)}frameLocator(w){return this.mainFrame().frameLocator(w)}async focus(w,B){return await this._mainFrame.focus(w,B)}async textContent(w,B){return await this._mainFrame.textContent(w,B)}async innerText(w,B){return await this._mainFrame.innerText(w,B)}async innerHTML(w,B){return await this._mainFrame.innerHTML(w,B)}async getAttribute(w,B,G){return await this._mainFrame.getAttribute(w,B,G)}async inputValue(w,B){return await this._mainFrame.inputValue(w,B)}async isChecked(w,B){return await this._mainFrame.isChecked(w,B)}async isDisabled(w,B){return await this._mainFrame.isDisabled(w,B)}async isEditable(w,B){return await this._mainFrame.isEditable(w,B)}async isEnabled(w,B){return await this._mainFrame.isEnabled(w,B)}async isHidden(w,B){return await this._mainFrame.isHidden(w,B)}async isVisible(w,B){return await this._mainFrame.isVisible(w,B)}async hover(w,B){return await this._mainFrame.hover(w,B)}async selectOption(w,B,G){return await this._mainFrame.selectOption(w,B,G)}async setInputFiles(w,B,G){return await this._mainFrame.setInputFiles(w,B,G)}async type(w,B,G){return await this._mainFrame.type(w,B,G)}async press(w,B,G){return await this._mainFrame.press(w,B,G)}async check(w,B){return await this._mainFrame.check(w,B)}async uncheck(w,B){return await this._mainFrame.uncheck(w,B)}async setChecked(w,B,G){return await this._mainFrame.setChecked(w,B,G)}async waitForTimeout(w){return await this._mainFrame.waitForTimeout(w)}async waitForFunction(w,B,G){return await this._mainFrame.waitForFunction(w,B,G)}async requests(){const{requests:w}=await this._channel.requests();return w.map((w=>it.Request.from(w)))}workers(){return[...this._workers]}async pause(w){if(this._platform.isJSDebuggerAttached())return;const B=this._browserContext._timeoutSettings.defaultNavigationTimeout();const G=this._browserContext._timeoutSettings.defaultTimeout();this._browserContext.setDefaultNavigationTimeout(0);this._browserContext.setDefaultTimeout(0);this._instrumentation?.onWillPause({keepTestTimeout:!!w?.__testHookKeepTestTimeout});await this._closedOrCrashedScope.safeRace(this.context()._channel.pause());this._browserContext.setDefaultNavigationTimeout(B);this._browserContext.setDefaultTimeout(G)}async pdf(w={}){const B={...w};if(B.margin)B.margin={...B.margin};if(typeof w.width==="number")B.width=w.width+"px";if(typeof w.height==="number")B.height=w.height+"px";for(const G of["top","right","bottom","left"]){const K=G;if(w.margin&&typeof w.margin[K]==="number")B.margin[K]=B.margin[K]+"px"}const G=await this._channel.pdf(B);if(w.path){const B=this._platform;await B.fs().promises.mkdir(B.path().dirname(w.path),{recursive:true});await B.fs().promises.writeFile(w.path,G.pdf)}return G.pdf}async _snapshotForAI(w={}){const B=await this._channel.snapshotForAI({timeout:this._timeoutSettings.timeout(w)});return B.snapshot}}class BindingCall extends Fe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K)}async call(w){try{const B=Ye.Frame.from(this._initializer.frame);const G={context:B._page.context(),page:B._page,frame:B};let K;if(this._initializer.handle)K=await w(G,rt.JSHandle.from(this._initializer.handle));else K=await w(G,...this._initializer.args.map(rt.parseResult));this._channel.resolve({result:(0,rt.serializeArgument)(K)}).catch((()=>{}))}catch(w){this._channel.reject({error:(0,We.serializeError)(w)}).catch((()=>{}))}}}function trimUrl(w){if((0,_t.isRegExp)(w))return`/${(0,mt.trimStringWithEllipsis)(w.source,50)}/${w.flags}`;if((0,_t.isString)(w))return`"${(0,mt.trimStringWithEllipsis)(w,50)}"`}0&&0},709:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Playwright:()=>Playwright});w.exports=__toCommonJS(Be);var Qe=G(3047);var Pe=G(4128);var Fe=G(8488);var Me=G(1884);var Le=G(6028);var je=G(8677);var qe=G(412);var We=G(2642);class Playwright extends Me.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this.request=new qe.APIRequest(this);this.chromium=Fe.BrowserType.from(K.chromium);this.chromium._playwright=this;this.firefox=Fe.BrowserType.from(K.firefox);this.firefox._playwright=this;this.webkit=Fe.BrowserType.from(K.webkit);this.webkit._playwright=this;this._android=Qe.Android.from(K.android);this._android._playwright=this;this._electron=Le.Electron.from(K.electron);this._electron._playwright=this;this._bidiChromium=Fe.BrowserType.from(K._bidiChromium);this._bidiChromium._playwright=this;this._bidiFirefox=Fe.BrowserType.from(K._bidiFirefox);this._bidiFirefox._playwright=this;this.devices=this._connection.localUtils()?.devices??{};this.selectors=new We.Selectors(this._connection._platform);this.errors={TimeoutError:je.TimeoutError}}static from(w){return w._object}_browserTypes(){return[this.chromium,this.firefox,this.webkit,this._bidiChromium,this._bidiFirefox]}_preLaunchedBrowser(){const w=Pe.Browser.from(this._initializer.preLaunchedBrowser);w._connectToBrowserType(this[w._name],{},void 0);return w}_allContexts(){return this._browserTypes().flatMap((w=>[...w._contexts]))}_allPages(){return this._allContexts().flatMap((w=>w.pages()))}}0&&0},2642:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Selectors:()=>Selectors});w.exports=__toCommonJS(Be);var Qe=G(1025);var Pe=G(1202);class Selectors{constructor(w){this._selectorEngines=[];this._contextsForSelectors=new Set;this._platform=w}async register(w,B,G={}){if(this._selectorEngines.some((B=>B.name===w)))throw new Error(`selectors.register: "${w}" selector engine has been already registered`);const K=await(0,Qe.evaluationScript)(this._platform,B,void 0,false);const pe={...G,name:w,source:K};for(const w of this._contextsForSelectors)await w._channel.registerSelectorEngine({selectorEngine:pe});this._selectorEngines.push(pe)}setTestIdAttribute(w){this._testIdAttributeName=w;(0,Pe.setTestIdAttribute)(w);for(const B of this._contextsForSelectors)B._channel.setTestIdAttributeName({testIdAttributeName:w}).catch((()=>{}))}_withSelectorOptions(w){return{...w,selectorEngines:this._selectorEngines,testIdAttributeName:this._testIdAttributeName}}}0&&0},1930:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Stream:()=>Stream});w.exports=__toCommonJS(Be);var Qe=G(1884);class Stream extends Qe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K)}stream(){return this._platform.streamReadable(this._channel)}}0&&0},8381:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{TimeoutSettings:()=>TimeoutSettings});w.exports=__toCommonJS(Be);var Qe=G(3647);class TimeoutSettings{constructor(w,B){this._parent=B;this._platform=w}setDefaultTimeout(w){this._defaultTimeout=w}setDefaultNavigationTimeout(w){this._defaultNavigationTimeout=w}defaultNavigationTimeout(){return this._defaultNavigationTimeout}defaultTimeout(){return this._defaultTimeout}navigationTimeout(w){if(typeof w.timeout==="number")return w.timeout;if(this._defaultNavigationTimeout!==void 0)return this._defaultNavigationTimeout;if(this._platform.isDebugMode())return 0;if(this._defaultTimeout!==void 0)return this._defaultTimeout;if(this._parent)return this._parent.navigationTimeout(w);return Qe.DEFAULT_PLAYWRIGHT_TIMEOUT}timeout(w){if(typeof w.timeout==="number")return w.timeout;if(this._platform.isDebugMode())return 0;if(this._defaultTimeout!==void 0)return this._defaultTimeout;if(this._parent)return this._parent.timeout(w);return Qe.DEFAULT_PLAYWRIGHT_TIMEOUT}launchTimeout(w){if(typeof w.timeout==="number")return w.timeout;if(this._platform.isDebugMode())return 0;if(this._parent)return this._parent.launchTimeout(w);return Qe.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT}}0&&0},3593:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Tracing:()=>Tracing});w.exports=__toCommonJS(Be);var Qe=G(1404);var Pe=G(1884);class Tracing extends Pe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._includeSources=false;this._isTracing=false}static from(w){return w._object}async start(w={}){await this._wrapApiCall((async()=>{this._includeSources=!!w.sources;await this._channel.tracingStart({name:w.name,snapshots:w.snapshots,screenshots:w.screenshots,live:w._live});const{traceName:B}=await this._channel.tracingStartChunk({name:w.name,title:w.title});await this._startCollectingStacks(B)}))}async startChunk(w={}){await this._wrapApiCall((async()=>{const{traceName:B}=await this._channel.tracingStartChunk(w);await this._startCollectingStacks(B)}))}async group(w,B={}){await this._channel.tracingGroup({name:w,location:B.location})}async groupEnd(){await this._channel.tracingGroupEnd()}async _startCollectingStacks(w){if(!this._isTracing){this._isTracing=true;this._connection.setIsTracing(true)}const B=await(this._connection.localUtils()?.tracingStarted({tracesDir:this._tracesDir,traceName:w}));this._stacksId=B?.stacksId}async stopChunk(w={}){await this._wrapApiCall((async()=>{await this._doStopChunk(w.path)}))}async stop(w={}){await this._wrapApiCall((async()=>{await this._doStopChunk(w.path);await this._channel.tracingStop()}))}async _doStopChunk(w){this._resetStackCounter();if(!w){await this._channel.tracingStopChunk({mode:"discard"});if(this._stacksId)await this._connection.localUtils().traceDiscarded({stacksId:this._stacksId});return}const B=this._connection.localUtils();if(!B)throw new Error("Cannot save trace in thin clients");const G=!this._connection.isRemote();if(G){const G=await this._channel.tracingStopChunk({mode:"entries"});await B.zip({zipFile:w,entries:G.entries,mode:"write",stacksId:this._stacksId,includeSources:this._includeSources});return}const K=await this._channel.tracingStopChunk({mode:"archive"});if(!K.artifact){if(this._stacksId)await B.traceDiscarded({stacksId:this._stacksId});return}const pe=Qe.Artifact.from(K.artifact);await pe.saveAs(w);await pe.delete();await B.zip({zipFile:w,entries:[],mode:"append",stacksId:this._stacksId,includeSources:this._includeSources})}_resetStackCounter(){if(this._isTracing){this._isTracing=false;this._connection.setIsTracing(false)}}}0&&0},8385:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{kLifecycleEvents:()=>Se});w.exports=__toCommonJS(ye);const Se=new Set(["load","domcontentloaded","networkidle","commit"]);0&&0},6727:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Video:()=>Video});w.exports=__toCommonJS(Be);var Qe=G(3587);class Video{constructor(w,B){this._artifact=null;this._artifactReadyPromise=new Qe.ManualPromise;this._isRemote=false;this._isRemote=B.isRemote();this._artifact=w._closedOrCrashedScope.safeRace(this._artifactReadyPromise)}_artifactReady(w){this._artifactReadyPromise.resolve(w)}async path(){if(this._isRemote)throw new Error(`Path is not available when connecting remotely. Use saveAs() to save a local copy.`);const w=await this._artifact;if(!w)throw new Error("Page did not produce any video frames");return w._initializer.absolutePath}async saveAs(w){const B=await this._artifact;if(!B)throw new Error("Page did not produce any video frames");return await B.saveAs(w)}async delete(){const w=await this._artifact;if(w)await w.delete()}}0&&0},3112:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Waiter:()=>Waiter});w.exports=__toCommonJS(Be);var Qe=G(8677);var Pe=G(3559);class Waiter{constructor(w,B){this._failures=[];this._logs=[];this._waitId=w._platform.createGuid();this._channelOwner=w;this._savedZone=w._platform.zones.current().pop();this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"before",event:B}}).catch((()=>{}));this._dispose=[()=>this._channelOwner._wrapApiCall((async()=>{await this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"after",error:this._error}})}),{internal:true}).catch((()=>{}))]}static createForEvent(w,B){return new Waiter(w,B)}async waitForEvent(w,B,G){const{promise:K,dispose:pe}=waitForEvent(w,B,this._savedZone,G);return await this.waitForPromise(K,pe)}rejectOnEvent(w,B,G,K){const{promise:pe,dispose:ye}=waitForEvent(w,B,this._savedZone,K);this._rejectOn(pe.then((()=>{throw typeof G==="function"?G():G})),ye)}rejectOnTimeout(w,B){if(!w)return;const{promise:G,dispose:K}=waitForTimeout(w);this._rejectOn(G.then((()=>{throw new Qe.TimeoutError(B)})),K)}rejectImmediately(w){this._immediateError=w}dispose(){for(const w of this._dispose)w()}async waitForPromise(w,B){try{if(this._immediateError)throw this._immediateError;const G=await Promise.race([w,...this._failures]);if(B)B();return G}catch(w){if(B)B();this._error=w.message;this.dispose();(0,Pe.rewriteErrorMessage)(w,w.message+formatLogRecording(this._logs));throw w}}log(w){this._logs.push(w);this._channelOwner._wrapApiCall((async()=>{await this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"log",message:w}})}),{internal:true}).catch((()=>{}))}_rejectOn(w,B){this._failures.push(w);if(B)this._dispose.push(B)}}function waitForEvent(w,B,G,K){let pe;const ye=new Promise(((ye,Se)=>{pe=async Be=>{await G.run((async()=>{try{if(K&&!await K(Be))return;w.removeListener(B,pe);ye(Be)}catch(G){w.removeListener(B,pe);Se(G)}}))};w.addListener(B,pe)}));const dispose=()=>w.removeListener(B,pe);return{promise:ye,dispose:dispose}}function waitForTimeout(w){let B;const G=new Promise((G=>B=setTimeout(G,w)));const dispose=()=>clearTimeout(B);return{promise:G,dispose:dispose}}function formatLogRecording(w){if(!w.length)return"";const B=` logs `;const G=60;const K=(G-B.length)/2;const pe=G-B.length-K;return`\n${"=".repeat(K)}${B}${"=".repeat(pe)}\n${w.join("\n")}\n${"=".repeat(G)}`}0&&0},922:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{WebError:()=>WebError});w.exports=__toCommonJS(ye);class WebError{constructor(w,B){this._page=w;this._error=B}page(){return this._page}error(){return this._error}}0&&0},7427:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{connectOverWebSocket:()=>connectOverWebSocket});w.exports=__toCommonJS(Be);var Qe=G(3894);async function connectOverWebSocket(w,B){const G=w.localUtils();const K=G?new JsonPipeTransport(G):new WebSocketTransport;const pe=await K.connect(B);const ye=new Qe.Connection(w._platform,G,w._instrumentation,pe);ye.markAsRemote();ye.on("close",(()=>K.close()));let Se;const onTransportClosed=w=>{ye.close(w||Se)};K.onClose((w=>onTransportClosed(w)));ye.onmessage=w=>K.send(w).catch((()=>onTransportClosed()));K.onMessage((w=>{try{ye.dispatch(w)}catch(w){Se=String(w);K.close().catch((()=>{}))}}));return ye}class JsonPipeTransport{constructor(w){this._owner=w}async connect(w){const{pipe:B,headers:G}=await this._owner._channel.connect(w);this._pipe=B;return G}async send(w){await this._pipe.send({message:w})}onMessage(w){this._pipe.on("message",(({message:B})=>w(B)))}onClose(w){this._pipe.on("closed",(({reason:B})=>w(B)))}async close(){await this._pipe.close().catch((()=>{}))}}class WebSocketTransport{async connect(w){this._ws=new window.WebSocket(w.wsEndpoint);return[]}async send(w){this._ws.send(JSON.stringify(w))}onMessage(w){this._ws.addEventListener("message",(B=>w(JSON.parse(B.data))))}onClose(w){this._ws.addEventListener("close",(()=>w()))}async close(){this._ws.close()}}0&&0},8216:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Worker:()=>Worker});w.exports=__toCommonJS(Be);var Qe=G(1884);var Pe=G(8677);var Fe=G(9548);var Me=G(159);var Le=G(3587);class Worker extends Qe.ChannelOwner{constructor(w,B,G,K){super(w,B,G,K);this._closedScope=new Le.LongStandingScope;this._channel.on("close",(()=>{if(this._page)this._page._workers.delete(this);if(this._context)this._context._serviceWorkers.delete(this);this.emit(Fe.Events.Worker.Close,this)}));this.once(Fe.Events.Worker.Close,(()=>this._closedScope.close(this._page?._closeErrorWithReason()||new Pe.TargetClosedError)))}static from(w){return w._object}url(){return this._initializer.url}async evaluate(w,B){(0,Me.assertMaxArguments)(arguments.length,2);const G=await this._channel.evaluateExpression({expression:String(w),isFunction:typeof w==="function",arg:(0,Me.serializeArgument)(B)});return(0,Me.parseResult)(G.value)}async evaluateHandle(w,B){(0,Me.assertMaxArguments)(arguments.length,2);const G=await this._channel.evaluateExpressionHandle({expression:String(w),isFunction:typeof w==="function",arg:(0,Me.serializeArgument)(B)});return Me.JSHandle.from(G.handle)}}0&&0},6582:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{WritableStream:()=>WritableStream});w.exports=__toCommonJS(Be);var Qe=G(1884);class WritableStream extends Qe.ChannelOwner{static from(w){return w._object}constructor(w,B,G,K){super(w,B,G,K)}stream(){return this._platform.streamWritable(this._channel)}}0&&0},8477:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{source:()=>Se});w.exports=__toCommonJS(ye);const Se='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/bindingsController.ts\nvar bindingsController_exports = {};\n__export(bindingsController_exports, {\n  BindingsController: () => BindingsController\n});\nmodule.exports = __toCommonJS(bindingsController_exports);\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/bindingsController.ts\nvar BindingsController = class {\n  constructor(global, globalBindingName) {\n    this._bindings = /* @__PURE__ */ new Map();\n    this._global = global;\n    this._globalBindingName = globalBindingName;\n  }\n  addBinding(bindingName, needsHandle) {\n    const data = {\n      callbacks: /* @__PURE__ */ new Map(),\n      lastSeq: 0,\n      handles: /* @__PURE__ */ new Map(),\n      removed: false\n    };\n    this._bindings.set(bindingName, data);\n    this._global[bindingName] = (...args) => {\n      if (data.removed)\n        throw new Error(`binding "${bindingName}" has been removed`);\n      if (needsHandle && args.slice(1).some((arg) => arg !== void 0))\n        throw new Error(`exposeBindingHandle supports a single argument, ${args.length} received`);\n      const seq = ++data.lastSeq;\n      const promise = new Promise((resolve, reject) => data.callbacks.set(seq, { resolve, reject }));\n      let payload;\n      if (needsHandle) {\n        data.handles.set(seq, args[0]);\n        payload = { name: bindingName, seq };\n      } else {\n        const serializedArgs = [];\n        for (let i = 0; i < args.length; i++) {\n          serializedArgs[i] = serializeAsCallArgument(args[i], (v) => {\n            return { fallThrough: v };\n          });\n        }\n        payload = { name: bindingName, seq, serializedArgs };\n      }\n      this._global[this._globalBindingName](JSON.stringify(payload));\n      return promise;\n    };\n  }\n  removeBinding(bindingName) {\n    const data = this._bindings.get(bindingName);\n    if (data)\n      data.removed = true;\n    this._bindings.delete(bindingName);\n    delete this._global[bindingName];\n  }\n  takeBindingHandle(arg) {\n    const handles = this._bindings.get(arg.name).handles;\n    const handle = handles.get(arg.seq);\n    handles.delete(arg.seq);\n    return handle;\n  }\n  deliverBindingResult(arg) {\n    const callbacks = this._bindings.get(arg.name).callbacks;\n    if ("error" in arg)\n      callbacks.get(arg.seq).reject(arg.error);\n    else\n      callbacks.get(arg.seq).resolve(arg.result);\n    callbacks.delete(arg.seq);\n  }\n};\n';0&&0},9631:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{source:()=>Se});w.exports=__toCommonJS(ye);const Se='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/clock.ts\nvar clock_exports = {};\n__export(clock_exports, {\n  ClockController: () => ClockController,\n  createClock: () => createClock,\n  inject: () => inject,\n  install: () => install\n});\nmodule.exports = __toCommonJS(clock_exports);\nvar ClockController = class {\n  constructor(embedder) {\n    this._duringTick = false;\n    this._uniqueTimerId = idCounterStart;\n    this.disposables = [];\n    this._log = [];\n    this._timers = /* @__PURE__ */ new Map();\n    this._now = { time: asWallTime(0), isFixedTime: false, ticks: 0, origin: asWallTime(-1) };\n    this._embedder = embedder;\n  }\n  uninstall() {\n    this.disposables.forEach((dispose) => dispose());\n    this.disposables.length = 0;\n  }\n  now() {\n    this._replayLogOnce();\n    this._syncRealTime();\n    return this._now.time;\n  }\n  install(time) {\n    this._replayLogOnce();\n    this._innerSetTime(asWallTime(time));\n  }\n  setSystemTime(time) {\n    this._replayLogOnce();\n    this._innerSetTime(asWallTime(time));\n  }\n  setFixedTime(time) {\n    this._replayLogOnce();\n    this._innerSetFixedTime(asWallTime(time));\n  }\n  performanceNow() {\n    this._replayLogOnce();\n    this._syncRealTime();\n    return this._now.ticks;\n  }\n  _syncRealTime() {\n    if (!this._realTime)\n      return;\n    const now = this._embedder.performanceNow();\n    const sinceLastSync = now - this._realTime.lastSyncTicks;\n    if (sinceLastSync > 0) {\n      this._advanceNow(shiftTicks(this._now.ticks, sinceLastSync));\n      this._realTime.lastSyncTicks = now;\n    }\n  }\n  _innerSetTime(time) {\n    this._now.time = time;\n    this._now.isFixedTime = false;\n    if (this._now.origin < 0)\n      this._now.origin = this._now.time;\n  }\n  _innerSetFixedTime(time) {\n    this._innerSetTime(time);\n    this._now.isFixedTime = true;\n  }\n  _advanceNow(to) {\n    if (!this._now.isFixedTime)\n      this._now.time = asWallTime(this._now.time + to - this._now.ticks);\n    this._now.ticks = to;\n  }\n  async log(type, time, param) {\n    this._log.push({ type, time, param });\n  }\n  async runFor(ticks) {\n    this._replayLogOnce();\n    if (ticks < 0)\n      throw new TypeError("Negative ticks are not supported");\n    await this._runTo(shiftTicks(this._now.ticks, ticks));\n  }\n  async _runTo(to) {\n    to = Math.ceil(to);\n    if (this._now.ticks > to)\n      return;\n    let firstException;\n    while (true) {\n      const result = await this._callFirstTimer(to);\n      if (!result.timerFound)\n        break;\n      firstException = firstException || result.error;\n    }\n    this._advanceNow(to);\n    if (firstException)\n      throw firstException;\n  }\n  async pauseAt(time) {\n    this._replayLogOnce();\n    this._innerPause();\n    const toConsume = time - this._now.time;\n    await this._innerFastForwardTo(shiftTicks(this._now.ticks, toConsume));\n    return toConsume;\n  }\n  _innerPause() {\n    this._realTime = void 0;\n    this._updateRealTimeTimer();\n  }\n  resume() {\n    this._replayLogOnce();\n    this._innerResume();\n  }\n  _innerResume() {\n    const now = this._embedder.performanceNow();\n    this._realTime = { startTicks: now, lastSyncTicks: now };\n    this._updateRealTimeTimer();\n  }\n  _updateRealTimeTimer() {\n    var _a;\n    if (!this._realTime) {\n      (_a = this._currentRealTimeTimer) == null ? void 0 : _a.dispose();\n      this._currentRealTimeTimer = void 0;\n      return;\n    }\n    const firstTimer = this._firstTimer();\n    const callAt = Math.min(firstTimer ? firstTimer.callAt : this._now.ticks + maxTimeout, this._now.ticks + 100);\n    if (this._currentRealTimeTimer && this._currentRealTimeTimer.callAt < callAt)\n      return;\n    if (this._currentRealTimeTimer) {\n      this._currentRealTimeTimer.dispose();\n      this._currentRealTimeTimer = void 0;\n    }\n    this._currentRealTimeTimer = {\n      callAt,\n      dispose: this._embedder.setTimeout(() => {\n        this._currentRealTimeTimer = void 0;\n        this._syncRealTime();\n        void this._runTo(this._now.ticks).catch((e) => console.error(e)).then(() => this._updateRealTimeTimer());\n      }, callAt - this._now.ticks)\n    };\n  }\n  async fastForward(ticks) {\n    this._replayLogOnce();\n    await this._innerFastForwardTo(shiftTicks(this._now.ticks, ticks | 0));\n  }\n  async _innerFastForwardTo(to) {\n    if (to < this._now.ticks)\n      throw new Error("Cannot fast-forward to the past");\n    for (const timer of this._timers.values()) {\n      if (to > timer.callAt)\n        timer.callAt = to;\n    }\n    await this._runTo(to);\n  }\n  addTimer(options) {\n    this._replayLogOnce();\n    if (options.type === "AnimationFrame" /* AnimationFrame */ && !options.func)\n      throw new Error("Callback must be provided to requestAnimationFrame calls");\n    if (options.type === "IdleCallback" /* IdleCallback */ && !options.func)\n      throw new Error("Callback must be provided to requestIdleCallback calls");\n    if (["Timeout" /* Timeout */, "Interval" /* Interval */].includes(options.type) && !options.func && options.delay === void 0)\n      throw new Error("Callback must be provided to timer calls");\n    let delay = options.delay ? +options.delay : 0;\n    if (!Number.isFinite(delay))\n      delay = 0;\n    delay = delay > maxTimeout ? 1 : delay;\n    delay = Math.max(0, delay);\n    const timer = {\n      type: options.type,\n      func: options.func,\n      args: options.args || [],\n      delay,\n      callAt: shiftTicks(this._now.ticks, delay || (this._duringTick ? 1 : 0)),\n      createdAt: this._now.ticks,\n      id: this._uniqueTimerId++,\n      error: new Error()\n    };\n    this._timers.set(timer.id, timer);\n    if (this._realTime)\n      this._updateRealTimeTimer();\n    return timer.id;\n  }\n  countTimers() {\n    return this._timers.size;\n  }\n  _firstTimer(beforeTick) {\n    let firstTimer = null;\n    for (const timer of this._timers.values()) {\n      const isInRange = beforeTick === void 0 || timer.callAt <= beforeTick;\n      if (isInRange && (!firstTimer || compareTimers(firstTimer, timer) === 1))\n        firstTimer = timer;\n    }\n    return firstTimer;\n  }\n  _takeFirstTimer(beforeTick) {\n    const timer = this._firstTimer(beforeTick);\n    if (!timer)\n      return null;\n    this._advanceNow(timer.callAt);\n    if (timer.type === "Interval" /* Interval */)\n      timer.callAt = shiftTicks(timer.callAt, timer.delay);\n    else\n      this._timers.delete(timer.id);\n    return timer;\n  }\n  async _callFirstTimer(beforeTick) {\n    const timer = this._takeFirstTimer(beforeTick);\n    if (!timer)\n      return { timerFound: false };\n    this._duringTick = true;\n    try {\n      if (typeof timer.func !== "function") {\n        let error2;\n        try {\n          (() => {\n            globalThis.eval(timer.func);\n          })();\n        } catch (e) {\n          error2 = e;\n        }\n        await new Promise((f) => this._embedder.setTimeout(f));\n        return { timerFound: true, error: error2 };\n      }\n      let args = timer.args;\n      if (timer.type === "AnimationFrame" /* AnimationFrame */)\n        args = [this._now.ticks];\n      else if (timer.type === "IdleCallback" /* IdleCallback */)\n        args = [{ didTimeout: false, timeRemaining: () => 0 }];\n      let error;\n      try {\n        timer.func.apply(null, args);\n      } catch (e) {\n        error = e;\n      }\n      await new Promise((f) => this._embedder.setTimeout(f));\n      return { timerFound: true, error };\n    } finally {\n      this._duringTick = false;\n    }\n  }\n  getTimeToNextFrame() {\n    return 16 - this._now.ticks % 16;\n  }\n  clearTimer(timerId, type) {\n    this._replayLogOnce();\n    if (!timerId) {\n      return;\n    }\n    const id = Number(timerId);\n    if (Number.isNaN(id) || id < idCounterStart) {\n      const handlerName = getClearHandler(type);\n      new Error(`Clock: ${handlerName} was invoked to clear a native timer instead of one created by the clock library.`);\n    }\n    const timer = this._timers.get(id);\n    if (timer) {\n      if (timer.type === type || timer.type === "Timeout" && type === "Interval" || timer.type === "Interval" && type === "Timeout") {\n        this._timers.delete(id);\n      } else {\n        const clear = getClearHandler(type);\n        const schedule = getScheduleHandler(timer.type);\n        throw new Error(\n          `Cannot clear timer: timer created with ${schedule}() but cleared with ${clear}()`\n        );\n      }\n    }\n  }\n  _replayLogOnce() {\n    if (!this._log.length)\n      return;\n    let lastLogTime = -1;\n    let isPaused = false;\n    for (const { type, time, param } of this._log) {\n      if (!isPaused && lastLogTime !== -1)\n        this._advanceNow(shiftTicks(this._now.ticks, time - lastLogTime));\n      lastLogTime = time;\n      if (type === "install") {\n        this._innerSetTime(asWallTime(param));\n      } else if (type === "fastForward" || type === "runFor") {\n        this._advanceNow(shiftTicks(this._now.ticks, param));\n      } else if (type === "pauseAt") {\n        isPaused = true;\n        this._innerPause();\n        this._innerSetTime(asWallTime(param));\n      } else if (type === "resume") {\n        this._innerResume();\n        isPaused = false;\n      } else if (type === "setFixedTime") {\n        this._innerSetFixedTime(asWallTime(param));\n      } else if (type === "setSystemTime") {\n        this._innerSetTime(asWallTime(param));\n      }\n    }\n    if (!isPaused && lastLogTime > 0)\n      this._advanceNow(shiftTicks(this._now.ticks, this._embedder.dateNow() - lastLogTime));\n    this._log.length = 0;\n  }\n};\nfunction mirrorDateProperties(target, source) {\n  for (const prop in source) {\n    if (source.hasOwnProperty(prop))\n      target[prop] = source[prop];\n  }\n  target.toString = () => source.toString();\n  target.prototype = source.prototype;\n  target.parse = source.parse;\n  target.UTC = source.UTC;\n  target.prototype.toUTCString = source.prototype.toUTCString;\n  target.isFake = true;\n  return target;\n}\nfunction createDate(clock, NativeDate) {\n  function ClockDate(year, month, date, hour, minute, second, ms) {\n    if (!(this instanceof ClockDate))\n      return new NativeDate(clock.now()).toString();\n    switch (arguments.length) {\n      case 0:\n        return new NativeDate(clock.now());\n      case 1:\n        return new NativeDate(year);\n      case 2:\n        return new NativeDate(year, month);\n      case 3:\n        return new NativeDate(year, month, date);\n      case 4:\n        return new NativeDate(year, month, date, hour);\n      case 5:\n        return new NativeDate(year, month, date, hour, minute);\n      case 6:\n        return new NativeDate(\n          year,\n          month,\n          date,\n          hour,\n          minute,\n          second\n        );\n      default:\n        return new NativeDate(\n          year,\n          month,\n          date,\n          hour,\n          minute,\n          second,\n          ms\n        );\n    }\n  }\n  ClockDate.now = () => clock.now();\n  return mirrorDateProperties(ClockDate, NativeDate);\n}\nfunction createIntl(clock, NativeIntl) {\n  const ClockIntl = {};\n  for (const key of Object.getOwnPropertyNames(NativeIntl))\n    ClockIntl[key] = NativeIntl[key];\n  ClockIntl.DateTimeFormat = function(...args) {\n    const realFormatter = new NativeIntl.DateTimeFormat(...args);\n    const formatter = {\n      formatRange: realFormatter.formatRange.bind(realFormatter),\n      formatRangeToParts: realFormatter.formatRangeToParts.bind(realFormatter),\n      resolvedOptions: realFormatter.resolvedOptions.bind(realFormatter),\n      format: (date) => realFormatter.format(date || clock.now()),\n      formatToParts: (date) => realFormatter.formatToParts(date || clock.now())\n    };\n    return formatter;\n  };\n  ClockIntl.DateTimeFormat.prototype = Object.create(\n    NativeIntl.DateTimeFormat.prototype\n  );\n  ClockIntl.DateTimeFormat.supportedLocalesOf = NativeIntl.DateTimeFormat.supportedLocalesOf;\n  return ClockIntl;\n}\nfunction compareTimers(a, b) {\n  if (a.callAt < b.callAt)\n    return -1;\n  if (a.callAt > b.callAt)\n    return 1;\n  if (a.type === "Immediate" /* Immediate */ && b.type !== "Immediate" /* Immediate */)\n    return -1;\n  if (a.type !== "Immediate" /* Immediate */ && b.type === "Immediate" /* Immediate */)\n    return 1;\n  if (a.createdAt < b.createdAt)\n    return -1;\n  if (a.createdAt > b.createdAt)\n    return 1;\n  if (a.id < b.id)\n    return -1;\n  if (a.id > b.id)\n    return 1;\n}\nvar maxTimeout = Math.pow(2, 31) - 1;\nvar idCounterStart = 1e12;\nfunction platformOriginals(globalObject) {\n  const raw = {\n    setTimeout: globalObject.setTimeout,\n    clearTimeout: globalObject.clearTimeout,\n    setInterval: globalObject.setInterval,\n    clearInterval: globalObject.clearInterval,\n    requestAnimationFrame: globalObject.requestAnimationFrame ? globalObject.requestAnimationFrame : void 0,\n    cancelAnimationFrame: globalObject.cancelAnimationFrame ? globalObject.cancelAnimationFrame : void 0,\n    requestIdleCallback: globalObject.requestIdleCallback ? globalObject.requestIdleCallback : void 0,\n    cancelIdleCallback: globalObject.cancelIdleCallback ? globalObject.cancelIdleCallback : void 0,\n    Date: globalObject.Date,\n    performance: globalObject.performance,\n    Intl: globalObject.Intl\n  };\n  const bound = { ...raw };\n  for (const key of Object.keys(bound)) {\n    if (key !== "Date" && typeof bound[key] === "function")\n      bound[key] = bound[key].bind(globalObject);\n  }\n  return { raw, bound };\n}\nfunction getScheduleHandler(type) {\n  if (type === "IdleCallback" || type === "AnimationFrame")\n    return `request${type}`;\n  return `set${type}`;\n}\nfunction createApi(clock, originals) {\n  return {\n    setTimeout: (func, timeout, ...args) => {\n      const delay = timeout ? +timeout : timeout;\n      return clock.addTimer({\n        type: "Timeout" /* Timeout */,\n        func,\n        args,\n        delay\n      });\n    },\n    clearTimeout: (timerId) => {\n      if (timerId)\n        clock.clearTimer(timerId, "Timeout" /* Timeout */);\n    },\n    setInterval: (func, timeout, ...args) => {\n      const delay = timeout ? +timeout : timeout;\n      return clock.addTimer({\n        type: "Interval" /* Interval */,\n        func,\n        args,\n        delay\n      });\n    },\n    clearInterval: (timerId) => {\n      if (timerId)\n        return clock.clearTimer(timerId, "Interval" /* Interval */);\n    },\n    requestAnimationFrame: (callback) => {\n      return clock.addTimer({\n        type: "AnimationFrame" /* AnimationFrame */,\n        func: callback,\n        delay: clock.getTimeToNextFrame()\n      });\n    },\n    cancelAnimationFrame: (timerId) => {\n      if (timerId)\n        return clock.clearTimer(timerId, "AnimationFrame" /* AnimationFrame */);\n    },\n    requestIdleCallback: (callback, options) => {\n      let timeToNextIdlePeriod = 0;\n      if (clock.countTimers() > 0)\n        timeToNextIdlePeriod = 50;\n      return clock.addTimer({\n        type: "IdleCallback" /* IdleCallback */,\n        func: callback,\n        delay: (options == null ? void 0 : options.timeout) ? Math.min(options == null ? void 0 : options.timeout, timeToNextIdlePeriod) : timeToNextIdlePeriod\n      });\n    },\n    cancelIdleCallback: (timerId) => {\n      if (timerId)\n        return clock.clearTimer(timerId, "IdleCallback" /* IdleCallback */);\n    },\n    Intl: originals.Intl ? createIntl(clock, originals.Intl) : void 0,\n    Date: createDate(clock, originals.Date),\n    performance: originals.performance ? fakePerformance(clock, originals.performance) : void 0\n  };\n}\nfunction getClearHandler(type) {\n  if (type === "IdleCallback" || type === "AnimationFrame")\n    return `cancel${type}`;\n  return `clear${type}`;\n}\nfunction fakePerformance(clock, performance) {\n  const result = {\n    now: () => clock.performanceNow()\n  };\n  result.__defineGetter__("timeOrigin", () => clock._now.origin || 0);\n  for (const key of Object.keys(performance.__proto__)) {\n    if (key === "now" || key === "timeOrigin")\n      continue;\n    if (key === "getEntries" || key === "getEntriesByName" || key === "getEntriesByType")\n      result[key] = () => [];\n    else\n      result[key] = () => {\n      };\n  }\n  return result;\n}\nfunction createClock(globalObject) {\n  const originals = platformOriginals(globalObject);\n  const embedder = {\n    dateNow: () => originals.raw.Date.now(),\n    performanceNow: () => Math.ceil(originals.raw.performance.now()),\n    setTimeout: (task, timeout) => {\n      const timerId = originals.bound.setTimeout(task, timeout);\n      return () => originals.bound.clearTimeout(timerId);\n    },\n    setInterval: (task, delay) => {\n      const intervalId = originals.bound.setInterval(task, delay);\n      return () => originals.bound.clearInterval(intervalId);\n    }\n  };\n  const clock = new ClockController(embedder);\n  const api = createApi(clock, originals.bound);\n  return { clock, api, originals: originals.raw };\n}\nfunction install(globalObject, config = {}) {\n  var _a, _b;\n  if ((_a = globalObject.Date) == null ? void 0 : _a.isFake) {\n    throw new TypeError(`Can\'t install fake timers twice on the same global object.`);\n  }\n  const { clock, api, originals } = createClock(globalObject);\n  const toFake = ((_b = config.toFake) == null ? void 0 : _b.length) ? config.toFake : Object.keys(originals);\n  for (const method of toFake) {\n    if (method === "Date") {\n      globalObject.Date = mirrorDateProperties(api.Date, globalObject.Date);\n    } else if (method === "Intl") {\n      globalObject.Intl = api[method];\n    } else if (method === "performance") {\n      globalObject.performance = api[method];\n      const kEventTimeStamp = Symbol("playwrightEventTimeStamp");\n      Object.defineProperty(Event.prototype, "timeStamp", {\n        get() {\n          var _a2;\n          if (!this[kEventTimeStamp])\n            this[kEventTimeStamp] = (_a2 = api.performance) == null ? void 0 : _a2.now();\n          return this[kEventTimeStamp];\n        }\n      });\n    } else {\n      globalObject[method] = (...args) => {\n        return api[method].apply(api, args);\n      };\n    }\n    clock.disposables.push(() => {\n      globalObject[method] = originals[method];\n    });\n  }\n  return { clock, api, originals };\n}\nfunction inject(globalObject) {\n  const builtins = platformOriginals(globalObject).bound;\n  const { clock: controller } = install(globalObject);\n  controller.resume();\n  return {\n    controller,\n    builtins\n  };\n}\nfunction asWallTime(n) {\n  return n;\n}\nfunction shiftTicks(ticks, ms) {\n  return ticks + ms;\n}\n';0&&0},780:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{source:()=>Se});w.exports=__toCommonJS(ye);const Se='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/injectedScript.ts\nvar injectedScript_exports = {};\n__export(injectedScript_exports, {\n  InjectedScript: () => InjectedScript\n});\nmodule.exports = __toCommonJS(injectedScript_exports);\n\n// packages/playwright-core/src/utils/isomorphic/ariaSnapshot.ts\nfunction parseAriaSnapshot(yaml, text, options = {}) {\n  var _a;\n  const lineCounter = new yaml.LineCounter();\n  const parseOptions = {\n    keepSourceTokens: true,\n    lineCounter,\n    ...options\n  };\n  const yamlDoc = yaml.parseDocument(text, parseOptions);\n  const errors = [];\n  const convertRange = (range) => {\n    return [lineCounter.linePos(range[0]), lineCounter.linePos(range[1])];\n  };\n  const addError = (error) => {\n    errors.push({\n      message: error.message,\n      range: [lineCounter.linePos(error.pos[0]), lineCounter.linePos(error.pos[1])]\n    });\n  };\n  const convertSeq = (container, seq) => {\n    for (const item of seq.items) {\n      const itemIsString = item instanceof yaml.Scalar && typeof item.value === "string";\n      if (itemIsString) {\n        const childNode = KeyParser.parse(item, parseOptions, errors);\n        if (childNode) {\n          container.children = container.children || [];\n          container.children.push(childNode);\n        }\n        continue;\n      }\n      const itemIsMap = item instanceof yaml.YAMLMap;\n      if (itemIsMap) {\n        convertMap(container, item);\n        continue;\n      }\n      errors.push({\n        message: "Sequence items should be strings or maps",\n        range: convertRange(item.range || seq.range)\n      });\n    }\n  };\n  const convertMap = (container, map) => {\n    var _a2;\n    for (const entry of map.items) {\n      container.children = container.children || [];\n      const keyIsString = entry.key instanceof yaml.Scalar && typeof entry.key.value === "string";\n      if (!keyIsString) {\n        errors.push({\n          message: "Only string keys are supported",\n          range: convertRange(entry.key.range || map.range)\n        });\n        continue;\n      }\n      const key = entry.key;\n      const value = entry.value;\n      if (key.value === "text") {\n        const valueIsString = value instanceof yaml.Scalar && typeof value.value === "string";\n        if (!valueIsString) {\n          errors.push({\n            message: "Text value should be a string",\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.children.push({\n          kind: "text",\n          text: textValue(value.value)\n        });\n        continue;\n      }\n      if (key.value === "/children") {\n        const valueIsString = value instanceof yaml.Scalar && typeof value.value === "string";\n        if (!valueIsString || value.value !== "contain" && value.value !== "equal" && value.value !== "deep-equal") {\n          errors.push({\n            message: \'Strict value should be "contain", "equal" or "deep-equal"\',\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.containerMode = value.value;\n        continue;\n      }\n      if (key.value.startsWith("/")) {\n        const valueIsString = value instanceof yaml.Scalar && typeof value.value === "string";\n        if (!valueIsString) {\n          errors.push({\n            message: "Property value should be a string",\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.props = (_a2 = container.props) != null ? _a2 : {};\n        container.props[key.value.slice(1)] = textValue(value.value);\n        continue;\n      }\n      const childNode = KeyParser.parse(key, parseOptions, errors);\n      if (!childNode)\n        continue;\n      const valueIsScalar = value instanceof yaml.Scalar;\n      if (valueIsScalar) {\n        const type = typeof value.value;\n        if (type !== "string" && type !== "number" && type !== "boolean") {\n          errors.push({\n            message: "Node value should be a string or a sequence",\n            range: convertRange(entry.value.range || map.range)\n          });\n          continue;\n        }\n        container.children.push({\n          ...childNode,\n          children: [{\n            kind: "text",\n            text: textValue(String(value.value))\n          }]\n        });\n        continue;\n      }\n      const valueIsSequence = value instanceof yaml.YAMLSeq;\n      if (valueIsSequence) {\n        container.children.push(childNode);\n        convertSeq(childNode, value);\n        continue;\n      }\n      errors.push({\n        message: "Map values should be strings or sequences",\n        range: convertRange(entry.value.range || map.range)\n      });\n    }\n  };\n  const fragment = { kind: "role", role: "fragment" };\n  yamlDoc.errors.forEach(addError);\n  if (errors.length)\n    return { errors, fragment };\n  if (!(yamlDoc.contents instanceof yaml.YAMLSeq)) {\n    errors.push({\n      message: \'Aria snapshot must be a YAML sequence, elements starting with " -"\',\n      range: yamlDoc.contents ? convertRange(yamlDoc.contents.range) : [{ line: 0, col: 0 }, { line: 0, col: 0 }]\n    });\n  }\n  if (errors.length)\n    return { errors, fragment };\n  convertSeq(fragment, yamlDoc.contents);\n  if (errors.length)\n    return { errors, fragment: emptyFragment };\n  if (((_a = fragment.children) == null ? void 0 : _a.length) === 1 && (!fragment.containerMode || fragment.containerMode === "contain"))\n    return { fragment: fragment.children[0], errors: [] };\n  return { fragment, errors: [] };\n}\nvar emptyFragment = { kind: "role", role: "fragment" };\nfunction normalizeWhitespace(text) {\n  return text.replace(/[\\u200b\\u00ad]/g, "").replace(/[\\r\\n\\s\\t]+/g, " ").trim();\n}\nfunction textValue(value) {\n  return {\n    raw: value,\n    normalized: normalizeWhitespace(value)\n  };\n}\nvar KeyParser = class _KeyParser {\n  static parse(text, options, errors) {\n    try {\n      return new _KeyParser(text.value)._parse();\n    } catch (e) {\n      if (e instanceof ParserError) {\n        const message = options.prettyErrors === false ? e.message : e.message + ":\\n\\n" + text.value + "\\n" + " ".repeat(e.pos) + "^\\n";\n        errors.push({\n          message,\n          range: [options.lineCounter.linePos(text.range[0]), options.lineCounter.linePos(text.range[0] + e.pos)]\n        });\n        return null;\n      }\n      throw e;\n    }\n  }\n  constructor(input) {\n    this._input = input;\n    this._pos = 0;\n    this._length = input.length;\n  }\n  _peek() {\n    return this._input[this._pos] || "";\n  }\n  _next() {\n    if (this._pos < this._length)\n      return this._input[this._pos++];\n    return null;\n  }\n  _eof() {\n    return this._pos >= this._length;\n  }\n  _isWhitespace() {\n    return !this._eof() && /\\s/.test(this._peek());\n  }\n  _skipWhitespace() {\n    while (this._isWhitespace())\n      this._pos++;\n  }\n  _readIdentifier(type) {\n    if (this._eof())\n      this._throwError(`Unexpected end of input when expecting ${type}`);\n    const start = this._pos;\n    while (!this._eof() && /[a-zA-Z]/.test(this._peek()))\n      this._pos++;\n    return this._input.slice(start, this._pos);\n  }\n  _readString() {\n    let result = "";\n    let escaped = false;\n    while (!this._eof()) {\n      const ch = this._next();\n      if (escaped) {\n        result += ch;\n        escaped = false;\n      } else if (ch === "\\\\") {\n        escaped = true;\n      } else if (ch === \'"\') {\n        return result;\n      } else {\n        result += ch;\n      }\n    }\n    this._throwError("Unterminated string");\n  }\n  _throwError(message, offset = 0) {\n    throw new ParserError(message, offset || this._pos);\n  }\n  _readRegex() {\n    let result = "";\n    let escaped = false;\n    let insideClass = false;\n    while (!this._eof()) {\n      const ch = this._next();\n      if (escaped) {\n        result += ch;\n        escaped = false;\n      } else if (ch === "\\\\") {\n        escaped = true;\n        result += ch;\n      } else if (ch === "/" && !insideClass) {\n        return { pattern: result };\n      } else if (ch === "[") {\n        insideClass = true;\n        result += ch;\n      } else if (ch === "]" && insideClass) {\n        result += ch;\n        insideClass = false;\n      } else {\n        result += ch;\n      }\n    }\n    this._throwError("Unterminated regex");\n  }\n  _readStringOrRegex() {\n    const ch = this._peek();\n    if (ch === \'"\') {\n      this._next();\n      return normalizeWhitespace(this._readString());\n    }\n    if (ch === "/") {\n      this._next();\n      return this._readRegex();\n    }\n    return null;\n  }\n  _readAttributes(result) {\n    let errorPos = this._pos;\n    while (true) {\n      this._skipWhitespace();\n      if (this._peek() === "[") {\n        this._next();\n        this._skipWhitespace();\n        errorPos = this._pos;\n        const flagName = this._readIdentifier("attribute");\n        this._skipWhitespace();\n        let flagValue = "";\n        if (this._peek() === "=") {\n          this._next();\n          this._skipWhitespace();\n          errorPos = this._pos;\n          while (this._peek() !== "]" && !this._isWhitespace() && !this._eof())\n            flagValue += this._next();\n        }\n        this._skipWhitespace();\n        if (this._peek() !== "]")\n          this._throwError("Expected ]");\n        this._next();\n        this._applyAttribute(result, flagName, flagValue || "true", errorPos);\n      } else {\n        break;\n      }\n    }\n  }\n  _parse() {\n    this._skipWhitespace();\n    const role = this._readIdentifier("role");\n    this._skipWhitespace();\n    const name = this._readStringOrRegex() || "";\n    const result = { kind: "role", role, name };\n    this._readAttributes(result);\n    this._skipWhitespace();\n    if (!this._eof())\n      this._throwError("Unexpected input");\n    return result;\n  }\n  _applyAttribute(node, key, value, errorPos) {\n    if (key === "checked") {\n      this._assert(value === "true" || value === "false" || value === "mixed", \'Value of "checked" attribute must be a boolean or "mixed"\', errorPos);\n      node.checked = value === "true" ? true : value === "false" ? false : "mixed";\n      return;\n    }\n    if (key === "disabled") {\n      this._assert(value === "true" || value === "false", \'Value of "disabled" attribute must be a boolean\', errorPos);\n      node.disabled = value === "true";\n      return;\n    }\n    if (key === "expanded") {\n      this._assert(value === "true" || value === "false", \'Value of "expanded" attribute must be a boolean\', errorPos);\n      node.expanded = value === "true";\n      return;\n    }\n    if (key === "active") {\n      this._assert(value === "true" || value === "false", \'Value of "active" attribute must be a boolean\', errorPos);\n      node.active = value === "true";\n      return;\n    }\n    if (key === "level") {\n      this._assert(!isNaN(Number(value)), \'Value of "level" attribute must be a number\', errorPos);\n      node.level = Number(value);\n      return;\n    }\n    if (key === "pressed") {\n      this._assert(value === "true" || value === "false" || value === "mixed", \'Value of "pressed" attribute must be a boolean or "mixed"\', errorPos);\n      node.pressed = value === "true" ? true : value === "false" ? false : "mixed";\n      return;\n    }\n    if (key === "selected") {\n      this._assert(value === "true" || value === "false", \'Value of "selected" attribute must be a boolean\', errorPos);\n      node.selected = value === "true";\n      return;\n    }\n    this._assert(false, `Unsupported attribute [${key}]`, errorPos);\n  }\n  _assert(value, message, valuePos) {\n    if (!value)\n      this._throwError(message || "Assertion error", valuePos);\n  }\n};\nvar ParserError = class extends Error {\n  constructor(message, pos) {\n    super(message);\n    this.pos = pos;\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/cssTokenizer.ts\nvar between = function(num, first, last) {\n  return num >= first && num <= last;\n};\nfunction digit(code) {\n  return between(code, 48, 57);\n}\nfunction hexdigit(code) {\n  return digit(code) || between(code, 65, 70) || between(code, 97, 102);\n}\nfunction uppercaseletter(code) {\n  return between(code, 65, 90);\n}\nfunction lowercaseletter(code) {\n  return between(code, 97, 122);\n}\nfunction letter(code) {\n  return uppercaseletter(code) || lowercaseletter(code);\n}\nfunction nonascii(code) {\n  return code >= 128;\n}\nfunction namestartchar(code) {\n  return letter(code) || nonascii(code) || code === 95;\n}\nfunction namechar(code) {\n  return namestartchar(code) || digit(code) || code === 45;\n}\nfunction nonprintable(code) {\n  return between(code, 0, 8) || code === 11 || between(code, 14, 31) || code === 127;\n}\nfunction newline(code) {\n  return code === 10;\n}\nfunction whitespace(code) {\n  return newline(code) || code === 9 || code === 32;\n}\nvar maximumallowedcodepoint = 1114111;\nvar InvalidCharacterError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = "InvalidCharacterError";\n  }\n};\nfunction preprocess(str) {\n  const codepoints = [];\n  for (let i = 0; i < str.length; i++) {\n    let code = str.charCodeAt(i);\n    if (code === 13 && str.charCodeAt(i + 1) === 10) {\n      code = 10;\n      i++;\n    }\n    if (code === 13 || code === 12)\n      code = 10;\n    if (code === 0)\n      code = 65533;\n    if (between(code, 55296, 56319) && between(str.charCodeAt(i + 1), 56320, 57343)) {\n      const lead = code - 55296;\n      const trail = str.charCodeAt(i + 1) - 56320;\n      code = Math.pow(2, 16) + lead * Math.pow(2, 10) + trail;\n      i++;\n    }\n    codepoints.push(code);\n  }\n  return codepoints;\n}\nfunction stringFromCode(code) {\n  if (code <= 65535)\n    return String.fromCharCode(code);\n  code -= Math.pow(2, 16);\n  const lead = Math.floor(code / Math.pow(2, 10)) + 55296;\n  const trail = code % Math.pow(2, 10) + 56320;\n  return String.fromCharCode(lead) + String.fromCharCode(trail);\n}\nfunction tokenize(str1) {\n  const str = preprocess(str1);\n  let i = -1;\n  const tokens = [];\n  let code;\n  let line = 0;\n  let column = 0;\n  let lastLineLength = 0;\n  const incrLineno = function() {\n    line += 1;\n    lastLineLength = column;\n    column = 0;\n  };\n  const locStart = { line, column };\n  const codepoint = function(i2) {\n    if (i2 >= str.length)\n      return -1;\n    return str[i2];\n  };\n  const next = function(num) {\n    if (num === void 0)\n      num = 1;\n    if (num > 3)\n      throw "Spec Error: no more than three codepoints of lookahead.";\n    return codepoint(i + num);\n  };\n  const consume = function(num) {\n    if (num === void 0)\n      num = 1;\n    i += num;\n    code = codepoint(i);\n    if (newline(code))\n      incrLineno();\n    else\n      column += num;\n    return true;\n  };\n  const reconsume = function() {\n    i -= 1;\n    if (newline(code)) {\n      line -= 1;\n      column = lastLineLength;\n    } else {\n      column -= 1;\n    }\n    locStart.line = line;\n    locStart.column = column;\n    return true;\n  };\n  const eof = function(codepoint2) {\n    if (codepoint2 === void 0)\n      codepoint2 = code;\n    return codepoint2 === -1;\n  };\n  const donothing = function() {\n  };\n  const parseerror = function() {\n  };\n  const consumeAToken = function() {\n    consumeComments();\n    consume();\n    if (whitespace(code)) {\n      while (whitespace(next()))\n        consume();\n      return new WhitespaceToken();\n    } else if (code === 34) {\n      return consumeAStringToken();\n    } else if (code === 35) {\n      if (namechar(next()) || areAValidEscape(next(1), next(2))) {\n        const token = new HashToken("");\n        if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n          token.type = "id";\n        token.value = consumeAName();\n        return token;\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 36) {\n      if (next() === 61) {\n        consume();\n        return new SuffixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 39) {\n      return consumeAStringToken();\n    } else if (code === 40) {\n      return new OpenParenToken();\n    } else if (code === 41) {\n      return new CloseParenToken();\n    } else if (code === 42) {\n      if (next() === 61) {\n        consume();\n        return new SubstringMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 43) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 44) {\n      return new CommaToken();\n    } else if (code === 45) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else if (next(1) === 45 && next(2) === 62) {\n        consume(2);\n        return new CDCToken();\n      } else if (startsWithAnIdentifier()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 46) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 58) {\n      return new ColonToken();\n    } else if (code === 59) {\n      return new SemicolonToken();\n    } else if (code === 60) {\n      if (next(1) === 33 && next(2) === 45 && next(3) === 45) {\n        consume(3);\n        return new CDOToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 64) {\n      if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n        return new AtKeywordToken(consumeAName());\n      else\n        return new DelimToken(code);\n    } else if (code === 91) {\n      return new OpenSquareToken();\n    } else if (code === 92) {\n      if (startsWithAValidEscape()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        parseerror();\n        return new DelimToken(code);\n      }\n    } else if (code === 93) {\n      return new CloseSquareToken();\n    } else if (code === 94) {\n      if (next() === 61) {\n        consume();\n        return new PrefixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 123) {\n      return new OpenCurlyToken();\n    } else if (code === 124) {\n      if (next() === 61) {\n        consume();\n        return new DashMatchToken();\n      } else if (next() === 124) {\n        consume();\n        return new ColumnToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 125) {\n      return new CloseCurlyToken();\n    } else if (code === 126) {\n      if (next() === 61) {\n        consume();\n        return new IncludeMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (digit(code)) {\n      reconsume();\n      return consumeANumericToken();\n    } else if (namestartchar(code)) {\n      reconsume();\n      return consumeAnIdentlikeToken();\n    } else if (eof()) {\n      return new EOFToken();\n    } else {\n      return new DelimToken(code);\n    }\n  };\n  const consumeComments = function() {\n    while (next(1) === 47 && next(2) === 42) {\n      consume(2);\n      while (true) {\n        consume();\n        if (code === 42 && next() === 47) {\n          consume();\n          break;\n        } else if (eof()) {\n          parseerror();\n          return;\n        }\n      }\n    }\n  };\n  const consumeANumericToken = function() {\n    const num = consumeANumber();\n    if (wouldStartAnIdentifier(next(1), next(2), next(3))) {\n      const token = new DimensionToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      token.unit = consumeAName();\n      return token;\n    } else if (next() === 37) {\n      consume();\n      const token = new PercentageToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      return token;\n    } else {\n      const token = new NumberToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      return token;\n    }\n  };\n  const consumeAnIdentlikeToken = function() {\n    const str2 = consumeAName();\n    if (str2.toLowerCase() === "url" && next() === 40) {\n      consume();\n      while (whitespace(next(1)) && whitespace(next(2)))\n        consume();\n      if (next() === 34 || next() === 39)\n        return new FunctionToken(str2);\n      else if (whitespace(next()) && (next(2) === 34 || next(2) === 39))\n        return new FunctionToken(str2);\n      else\n        return consumeAURLToken();\n    } else if (next() === 40) {\n      consume();\n      return new FunctionToken(str2);\n    } else {\n      return new IdentToken(str2);\n    }\n  };\n  const consumeAStringToken = function(endingCodePoint) {\n    if (endingCodePoint === void 0)\n      endingCodePoint = code;\n    let string = "";\n    while (consume()) {\n      if (code === endingCodePoint || eof()) {\n        return new StringToken(string);\n      } else if (newline(code)) {\n        parseerror();\n        reconsume();\n        return new BadStringToken();\n      } else if (code === 92) {\n        if (eof(next()))\n          donothing();\n        else if (newline(next()))\n          consume();\n        else\n          string += stringFromCode(consumeEscape());\n      } else {\n        string += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeAURLToken = function() {\n    const token = new URLToken("");\n    while (whitespace(next()))\n      consume();\n    if (eof(next()))\n      return token;\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return token;\n      } else if (whitespace(code)) {\n        while (whitespace(next()))\n          consume();\n        if (next() === 41 || eof(next())) {\n          consume();\n          return token;\n        } else {\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else if (code === 34 || code === 39 || code === 40 || nonprintable(code)) {\n        parseerror();\n        consumeTheRemnantsOfABadURL();\n        return new BadURLToken();\n      } else if (code === 92) {\n        if (startsWithAValidEscape()) {\n          token.value += stringFromCode(consumeEscape());\n        } else {\n          parseerror();\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else {\n        token.value += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeEscape = function() {\n    consume();\n    if (hexdigit(code)) {\n      const digits = [code];\n      for (let total = 0; total < 5; total++) {\n        if (hexdigit(next())) {\n          consume();\n          digits.push(code);\n        } else {\n          break;\n        }\n      }\n      if (whitespace(next()))\n        consume();\n      let value = parseInt(digits.map(function(x) {\n        return String.fromCharCode(x);\n      }).join(""), 16);\n      if (value > maximumallowedcodepoint)\n        value = 65533;\n      return value;\n    } else if (eof()) {\n      return 65533;\n    } else {\n      return code;\n    }\n  };\n  const areAValidEscape = function(c1, c2) {\n    if (c1 !== 92)\n      return false;\n    if (newline(c2))\n      return false;\n    return true;\n  };\n  const startsWithAValidEscape = function() {\n    return areAValidEscape(code, next());\n  };\n  const wouldStartAnIdentifier = function(c1, c2, c3) {\n    if (c1 === 45)\n      return namestartchar(c2) || c2 === 45 || areAValidEscape(c2, c3);\n    else if (namestartchar(c1))\n      return true;\n    else if (c1 === 92)\n      return areAValidEscape(c1, c2);\n    else\n      return false;\n  };\n  const startsWithAnIdentifier = function() {\n    return wouldStartAnIdentifier(code, next(1), next(2));\n  };\n  const wouldStartANumber = function(c1, c2, c3) {\n    if (c1 === 43 || c1 === 45) {\n      if (digit(c2))\n        return true;\n      if (c2 === 46 && digit(c3))\n        return true;\n      return false;\n    } else if (c1 === 46) {\n      if (digit(c2))\n        return true;\n      return false;\n    } else if (digit(c1)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const startsWithANumber = function() {\n    return wouldStartANumber(code, next(1), next(2));\n  };\n  const consumeAName = function() {\n    let result = "";\n    while (consume()) {\n      if (namechar(code)) {\n        result += stringFromCode(code);\n      } else if (startsWithAValidEscape()) {\n        result += stringFromCode(consumeEscape());\n      } else {\n        reconsume();\n        return result;\n      }\n    }\n    throw new Error("Internal parse error");\n  };\n  const consumeANumber = function() {\n    let repr = "";\n    let type = "integer";\n    if (next() === 43 || next() === 45) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    while (digit(next())) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    if (next(1) === 46 && digit(next(2))) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const c1 = next(1), c2 = next(2), c3 = next(3);\n    if ((c1 === 69 || c1 === 101) && digit(c2)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    } else if ((c1 === 69 || c1 === 101) && (c2 === 43 || c2 === 45) && digit(c3)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const value = convertAStringToANumber(repr);\n    return { type, value, repr };\n  };\n  const convertAStringToANumber = function(string) {\n    return +string;\n  };\n  const consumeTheRemnantsOfABadURL = function() {\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return;\n      } else if (startsWithAValidEscape()) {\n        consumeEscape();\n        donothing();\n      } else {\n        donothing();\n      }\n    }\n  };\n  let iterationCount = 0;\n  while (!eof(next())) {\n    tokens.push(consumeAToken());\n    iterationCount++;\n    if (iterationCount > str.length * 2)\n      throw new Error("I\'m infinite-looping!");\n  }\n  return tokens;\n}\nvar CSSParserToken = class {\n  constructor() {\n    this.tokenType = "";\n  }\n  toJSON() {\n    return { token: this.tokenType };\n  }\n  toString() {\n    return this.tokenType;\n  }\n  toSource() {\n    return "" + this;\n  }\n};\nvar BadStringToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADSTRING";\n  }\n};\nvar BadURLToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADURL";\n  }\n};\nvar WhitespaceToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "WHITESPACE";\n  }\n  toString() {\n    return "WS";\n  }\n  toSource() {\n    return " ";\n  }\n};\nvar CDOToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDO";\n  }\n  toSource() {\n    return "\x3c!--";\n  }\n};\nvar CDCToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDC";\n  }\n  toSource() {\n    return "--\x3e";\n  }\n};\nvar ColonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ":";\n  }\n};\nvar SemicolonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ";";\n  }\n};\nvar CommaToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ",";\n  }\n};\nvar GroupingToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n    this.mirror = "";\n  }\n};\nvar OpenCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "{";\n    this.value = "{";\n    this.mirror = "}";\n  }\n};\nvar CloseCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "}";\n    this.value = "}";\n    this.mirror = "{";\n  }\n};\nvar OpenSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "[";\n    this.value = "[";\n    this.mirror = "]";\n  }\n};\nvar CloseSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "]";\n    this.value = "]";\n    this.mirror = "[";\n  }\n};\nvar OpenParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "(";\n    this.value = "(";\n    this.mirror = ")";\n  }\n};\nvar CloseParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = ")";\n    this.value = ")";\n    this.mirror = "(";\n  }\n};\nvar IncludeMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "~=";\n  }\n};\nvar DashMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "|=";\n  }\n};\nvar PrefixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "^=";\n  }\n};\nvar SuffixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "$=";\n  }\n};\nvar SubstringMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "*=";\n  }\n};\nvar ColumnToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "||";\n  }\n};\nvar EOFToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "EOF";\n  }\n  toSource() {\n    return "";\n  }\n};\nvar DelimToken = class extends CSSParserToken {\n  constructor(code) {\n    super();\n    this.tokenType = "DELIM";\n    this.value = "";\n    this.value = stringFromCode(code);\n  }\n  toString() {\n    return "DELIM(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n  toSource() {\n    if (this.value === "\\\\")\n      return "\\\\\\n";\n    else\n      return this.value;\n  }\n};\nvar StringValuedToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n  }\n  ASCIIMatch(str) {\n    return this.value.toLowerCase() === str.toLowerCase();\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n};\nvar IdentToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "IDENT";\n    this.value = val;\n  }\n  toString() {\n    return "IDENT(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value);\n  }\n};\nvar FunctionToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "FUNCTION";\n    this.value = val;\n    this.mirror = ")";\n  }\n  toString() {\n    return "FUNCTION(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value) + "(";\n  }\n};\nvar AtKeywordToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "AT-KEYWORD";\n    this.value = val;\n  }\n  toString() {\n    return "AT(" + this.value + ")";\n  }\n  toSource() {\n    return "@" + escapeIdent(this.value);\n  }\n};\nvar HashToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "HASH";\n    this.value = val;\n    this.type = "unrestricted";\n  }\n  toString() {\n    return "HASH(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    return json;\n  }\n  toSource() {\n    if (this.type === "id")\n      return "#" + escapeIdent(this.value);\n    else\n      return "#" + escapeHash(this.value);\n  }\n};\nvar StringToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "STRING";\n    this.value = val;\n  }\n  toString() {\n    return \'"\' + escapeString(this.value) + \'"\';\n  }\n};\nvar URLToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "URL";\n    this.value = val;\n  }\n  toString() {\n    return "URL(" + this.value + ")";\n  }\n  toSource() {\n    return \'url("\' + escapeString(this.value) + \'")\';\n  }\n};\nvar NumberToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "NUMBER";\n    this.type = "integer";\n    this.repr = "";\n  }\n  toString() {\n    if (this.type === "integer")\n      return "INT(" + this.value + ")";\n    return "NUMBER(" + this.value + ")";\n  }\n  toJSON() {\n    const json = super.toJSON();\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr;\n  }\n};\nvar PercentageToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "PERCENTAGE";\n    this.repr = "";\n  }\n  toString() {\n    return "PERCENTAGE(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr + "%";\n  }\n};\nvar DimensionToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "DIMENSION";\n    this.type = "integer";\n    this.repr = "";\n    this.unit = "";\n  }\n  toString() {\n    return "DIM(" + this.value + "," + this.unit + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    json.unit = this.unit;\n    return json;\n  }\n  toSource() {\n    const source = this.repr;\n    let unit = escapeIdent(this.unit);\n    if (unit[0].toLowerCase() === "e" && (unit[1] === "-" || between(unit.charCodeAt(1), 48, 57))) {\n      unit = "\\\\65 " + unit.slice(1, unit.length);\n    }\n    return source + unit;\n  }\n};\nfunction escapeIdent(string) {\n  string = "" + string;\n  let result = "";\n  const firstcode = string.charCodeAt(0);\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127 || i === 0 && between(code, 48, 57) || i === 1 && between(code, 48, 57) && firstcode === 45)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + string[i];\n  }\n  return result;\n}\nfunction escapeHash(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + code.toString(16) + " ";\n  }\n  return result;\n}\nfunction escapeString(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code === 34 || code === 92)\n      result += "\\\\" + string[i];\n    else\n      result += string[i];\n  }\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/cssParser.ts\nvar InvalidSelectorError = class extends Error {\n};\nfunction parseCSS(selector, customNames) {\n  let tokens;\n  try {\n    tokens = tokenize(selector);\n    if (!(tokens[tokens.length - 1] instanceof EOFToken))\n      tokens.push(new EOFToken());\n  } catch (e) {\n    const newMessage = e.message + ` while parsing css selector "${selector}". Did you mean to CSS.escape it?`;\n    const index = (e.stack || "").indexOf(e.message);\n    if (index !== -1)\n      e.stack = e.stack.substring(0, index) + newMessage + e.stack.substring(index + e.message.length);\n    e.message = newMessage;\n    throw e;\n  }\n  const unsupportedToken = tokens.find((token) => {\n    return token instanceof AtKeywordToken || token instanceof BadStringToken || token instanceof BadURLToken || token instanceof ColumnToken || token instanceof CDOToken || token instanceof CDCToken || token instanceof SemicolonToken || // TODO: Consider using these for something, e.g. to escape complex strings.\n    // For example :xpath{ (//div/bar[@attr="foo"])[2]/baz }\n    // Or this way :xpath( {complex-xpath-goes-here("hello")} )\n    token instanceof OpenCurlyToken || token instanceof CloseCurlyToken || // TODO: Consider treating these as strings?\n    token instanceof URLToken || token instanceof PercentageToken;\n  });\n  if (unsupportedToken)\n    throw new InvalidSelectorError(`Unsupported token "${unsupportedToken.toSource()}" while parsing css selector "${selector}". Did you mean to CSS.escape it?`);\n  let pos = 0;\n  const names = /* @__PURE__ */ new Set();\n  function unexpected() {\n    return new InvalidSelectorError(`Unexpected token "${tokens[pos].toSource()}" while parsing css selector "${selector}". Did you mean to CSS.escape it?`);\n  }\n  function skipWhitespace() {\n    while (tokens[pos] instanceof WhitespaceToken)\n      pos++;\n  }\n  function isIdent(p = pos) {\n    return tokens[p] instanceof IdentToken;\n  }\n  function isString(p = pos) {\n    return tokens[p] instanceof StringToken;\n  }\n  function isNumber(p = pos) {\n    return tokens[p] instanceof NumberToken;\n  }\n  function isComma(p = pos) {\n    return tokens[p] instanceof CommaToken;\n  }\n  function isOpenParen(p = pos) {\n    return tokens[p] instanceof OpenParenToken;\n  }\n  function isCloseParen(p = pos) {\n    return tokens[p] instanceof CloseParenToken;\n  }\n  function isFunction(p = pos) {\n    return tokens[p] instanceof FunctionToken;\n  }\n  function isStar(p = pos) {\n    return tokens[p] instanceof DelimToken && tokens[p].value === "*";\n  }\n  function isEOF(p = pos) {\n    return tokens[p] instanceof EOFToken;\n  }\n  function isClauseCombinator(p = pos) {\n    return tokens[p] instanceof DelimToken && [">", "+", "~"].includes(tokens[p].value);\n  }\n  function isSelectorClauseEnd(p = pos) {\n    return isComma(p) || isCloseParen(p) || isEOF(p) || isClauseCombinator(p) || tokens[p] instanceof WhitespaceToken;\n  }\n  function consumeFunctionArguments() {\n    const result2 = [consumeArgument()];\n    while (true) {\n      skipWhitespace();\n      if (!isComma())\n        break;\n      pos++;\n      result2.push(consumeArgument());\n    }\n    return result2;\n  }\n  function consumeArgument() {\n    skipWhitespace();\n    if (isNumber())\n      return tokens[pos++].value;\n    if (isString())\n      return tokens[pos++].value;\n    return consumeComplexSelector();\n  }\n  function consumeComplexSelector() {\n    const result2 = { simples: [] };\n    skipWhitespace();\n    if (isClauseCombinator()) {\n      result2.simples.push({ selector: { functions: [{ name: "scope", args: [] }] }, combinator: "" });\n    } else {\n      result2.simples.push({ selector: consumeSimpleSelector(), combinator: "" });\n    }\n    while (true) {\n      skipWhitespace();\n      if (isClauseCombinator()) {\n        result2.simples[result2.simples.length - 1].combinator = tokens[pos++].value;\n        skipWhitespace();\n      } else if (isSelectorClauseEnd()) {\n        break;\n      }\n      result2.simples.push({ combinator: "", selector: consumeSimpleSelector() });\n    }\n    return result2;\n  }\n  function consumeSimpleSelector() {\n    let rawCSSString = "";\n    const functions = [];\n    while (!isSelectorClauseEnd()) {\n      if (isIdent() || isStar()) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof HashToken) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof DelimToken && tokens[pos].value === ".") {\n        pos++;\n        if (isIdent())\n          rawCSSString += "." + tokens[pos++].toSource();\n        else\n          throw unexpected();\n      } else if (tokens[pos] instanceof ColonToken) {\n        pos++;\n        if (isIdent()) {\n          if (!customNames.has(tokens[pos].value.toLowerCase())) {\n            rawCSSString += ":" + tokens[pos++].toSource();\n          } else {\n            const name = tokens[pos++].value.toLowerCase();\n            functions.push({ name, args: [] });\n            names.add(name);\n          }\n        } else if (isFunction()) {\n          const name = tokens[pos++].value.toLowerCase();\n          if (!customNames.has(name)) {\n            rawCSSString += `:${name}(${consumeBuiltinFunctionArguments()})`;\n          } else {\n            functions.push({ name, args: consumeFunctionArguments() });\n            names.add(name);\n          }\n          skipWhitespace();\n          if (!isCloseParen())\n            throw unexpected();\n          pos++;\n        } else {\n          throw unexpected();\n        }\n      } else if (tokens[pos] instanceof OpenSquareToken) {\n        rawCSSString += "[";\n        pos++;\n        while (!(tokens[pos] instanceof CloseSquareToken) && !isEOF())\n          rawCSSString += tokens[pos++].toSource();\n        if (!(tokens[pos] instanceof CloseSquareToken))\n          throw unexpected();\n        rawCSSString += "]";\n        pos++;\n      } else {\n        throw unexpected();\n      }\n    }\n    if (!rawCSSString && !functions.length)\n      throw unexpected();\n    return { css: rawCSSString || void 0, functions };\n  }\n  function consumeBuiltinFunctionArguments() {\n    let s = "";\n    let balance = 1;\n    while (!isEOF()) {\n      if (isOpenParen() || isFunction())\n        balance++;\n      if (isCloseParen())\n        balance--;\n      if (!balance)\n        break;\n      s += tokens[pos++].toSource();\n    }\n    return s;\n  }\n  const result = consumeFunctionArguments();\n  if (!isEOF())\n    throw unexpected();\n  if (result.some((arg) => typeof arg !== "object" || !("simples" in arg)))\n    throw new InvalidSelectorError(`Error while parsing css selector "${selector}". Did you mean to CSS.escape it?`);\n  return { selector: result, names: Array.from(names) };\n}\n\n// packages/playwright-core/src/utils/isomorphic/selectorParser.ts\nvar kNestedSelectorNames = /* @__PURE__ */ new Set(["internal:has", "internal:has-not", "internal:and", "internal:or", "internal:chain", "left-of", "right-of", "above", "below", "near"]);\nvar kNestedSelectorNamesWithDistance = /* @__PURE__ */ new Set(["left-of", "right-of", "above", "below", "near"]);\nvar customCSSNames = /* @__PURE__ */ new Set(["not", "is", "where", "has", "scope", "light", "visible", "text", "text-matches", "text-is", "has-text", "above", "below", "right-of", "left-of", "near", "nth-match"]);\nfunction parseSelector(selector) {\n  const parsedStrings = parseSelectorString(selector);\n  const parts = [];\n  for (const part of parsedStrings.parts) {\n    if (part.name === "css" || part.name === "css:light") {\n      if (part.name === "css:light")\n        part.body = ":light(" + part.body + ")";\n      const parsedCSS = parseCSS(part.body, customCSSNames);\n      parts.push({\n        name: "css",\n        body: parsedCSS.selector,\n        source: part.body\n      });\n      continue;\n    }\n    if (kNestedSelectorNames.has(part.name)) {\n      let innerSelector;\n      let distance;\n      try {\n        const unescaped = JSON.parse("[" + part.body + "]");\n        if (!Array.isArray(unescaped) || unescaped.length < 1 || unescaped.length > 2 || typeof unescaped[0] !== "string")\n          throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n        innerSelector = unescaped[0];\n        if (unescaped.length === 2) {\n          if (typeof unescaped[1] !== "number" || !kNestedSelectorNamesWithDistance.has(part.name))\n            throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n          distance = unescaped[1];\n        }\n      } catch (e) {\n        throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n      }\n      const nested = { name: part.name, source: part.body, body: { parsed: parseSelector(innerSelector), distance } };\n      const lastFrame = [...nested.body.parsed.parts].reverse().find((part2) => part2.name === "internal:control" && part2.body === "enter-frame");\n      const lastFrameIndex = lastFrame ? nested.body.parsed.parts.indexOf(lastFrame) : -1;\n      if (lastFrameIndex !== -1 && selectorPartsEqual(nested.body.parsed.parts.slice(0, lastFrameIndex + 1), parts.slice(0, lastFrameIndex + 1)))\n        nested.body.parsed.parts.splice(0, lastFrameIndex + 1);\n      parts.push(nested);\n      continue;\n    }\n    parts.push({ ...part, source: part.body });\n  }\n  if (kNestedSelectorNames.has(parts[0].name))\n    throw new InvalidSelectorError(`"${parts[0].name}" selector cannot be first`);\n  return {\n    capture: parsedStrings.capture,\n    parts\n  };\n}\nfunction selectorPartsEqual(list1, list2) {\n  return stringifySelector({ parts: list1 }) === stringifySelector({ parts: list2 });\n}\nfunction stringifySelector(selector, forceEngineName) {\n  if (typeof selector === "string")\n    return selector;\n  return selector.parts.map((p, i) => {\n    let includeEngine = true;\n    if (!forceEngineName && i !== selector.capture) {\n      if (p.name === "css")\n        includeEngine = false;\n      else if (p.name === "xpath" && p.source.startsWith("//") || p.source.startsWith(".."))\n        includeEngine = false;\n    }\n    const prefix = includeEngine ? p.name + "=" : "";\n    return `${i === selector.capture ? "*" : ""}${prefix}${p.source}`;\n  }).join(" >> ");\n}\nfunction visitAllSelectorParts(selector, visitor) {\n  const visit = (selector2, nested) => {\n    for (const part of selector2.parts) {\n      visitor(part, nested);\n      if (kNestedSelectorNames.has(part.name))\n        visit(part.body.parsed, true);\n    }\n  };\n  visit(selector, false);\n}\nfunction parseSelectorString(selector) {\n  let index = 0;\n  let quote;\n  let start = 0;\n  const result = { parts: [] };\n  const append = () => {\n    const part = selector.substring(start, index).trim();\n    const eqIndex = part.indexOf("=");\n    let name;\n    let body;\n    if (eqIndex !== -1 && part.substring(0, eqIndex).trim().match(/^[a-zA-Z_0-9-+:*]+$/)) {\n      name = part.substring(0, eqIndex).trim();\n      body = part.substring(eqIndex + 1);\n    } else if (part.length > 1 && part[0] === \'"\' && part[part.length - 1] === \'"\') {\n      name = "text";\n      body = part;\n    } else if (part.length > 1 && part[0] === "\'" && part[part.length - 1] === "\'") {\n      name = "text";\n      body = part;\n    } else if (/^\\(*\\/\\//.test(part) || part.startsWith("..")) {\n      name = "xpath";\n      body = part;\n    } else {\n      name = "css";\n      body = part;\n    }\n    let capture = false;\n    if (name[0] === "*") {\n      capture = true;\n      name = name.substring(1);\n    }\n    result.parts.push({ name, body });\n    if (capture) {\n      if (result.capture !== void 0)\n        throw new InvalidSelectorError(`Only one of the selectors can capture using * modifier`);\n      result.capture = result.parts.length - 1;\n    }\n  };\n  if (!selector.includes(">>")) {\n    index = selector.length;\n    append();\n    return result;\n  }\n  const shouldIgnoreTextSelectorQuote = () => {\n    const prefix = selector.substring(start, index);\n    const match = prefix.match(/^\\s*text\\s*=(.*)$/);\n    return !!match && !!match[1];\n  };\n  while (index < selector.length) {\n    const c = selector[index];\n    if (c === "\\\\" && index + 1 < selector.length) {\n      index += 2;\n    } else if (c === quote) {\n      quote = void 0;\n      index++;\n    } else if (!quote && (c === \'"\' || c === "\'" || c === "`") && !shouldIgnoreTextSelectorQuote()) {\n      quote = c;\n      index++;\n    } else if (!quote && c === ">" && selector[index + 1] === ">") {\n      append();\n      index += 2;\n      start = index;\n    } else {\n      index++;\n    }\n  }\n  append();\n  return result;\n}\nfunction parseAttributeSelector(selector, allowUnquotedStrings) {\n  let wp = 0;\n  let EOL = selector.length === 0;\n  const next = () => selector[wp] || "";\n  const eat1 = () => {\n    const result2 = next();\n    ++wp;\n    EOL = wp >= selector.length;\n    return result2;\n  };\n  const syntaxError = (stage) => {\n    if (EOL)\n      throw new InvalidSelectorError(`Unexpected end of selector while parsing selector \\`${selector}\\``);\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - unexpected symbol "${next()}" at position ${wp}` + (stage ? " during " + stage : ""));\n  };\n  function skipSpaces() {\n    while (!EOL && /\\s/.test(next()))\n      eat1();\n  }\n  function isCSSNameChar(char) {\n    return char >= "\\x80" || char >= "0" && char <= "9" || char >= "A" && char <= "Z" || char >= "a" && char <= "z" || char >= "0" && char <= "9" || char === "_" || char === "-";\n  }\n  function readIdentifier() {\n    let result2 = "";\n    skipSpaces();\n    while (!EOL && isCSSNameChar(next()))\n      result2 += eat1();\n    return result2;\n  }\n  function readQuotedString(quote) {\n    let result2 = eat1();\n    if (result2 !== quote)\n      syntaxError("parsing quoted string");\n    while (!EOL && next() !== quote) {\n      if (next() === "\\\\")\n        eat1();\n      result2 += eat1();\n    }\n    if (next() !== quote)\n      syntaxError("parsing quoted string");\n    result2 += eat1();\n    return result2;\n  }\n  function readRegularExpression() {\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let source = "";\n    let inClass = false;\n    while (!EOL) {\n      if (next() === "\\\\") {\n        source += eat1();\n        if (EOL)\n          syntaxError("parsing regular expression");\n      } else if (inClass && next() === "]") {\n        inClass = false;\n      } else if (!inClass && next() === "[") {\n        inClass = true;\n      } else if (!inClass && next() === "/") {\n        break;\n      }\n      source += eat1();\n    }\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let flags = "";\n    while (!EOL && next().match(/[dgimsuy]/))\n      flags += eat1();\n    try {\n      return new RegExp(source, flags);\n    } catch (e) {\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\`: ${e.message}`);\n    }\n  }\n  function readAttributeToken() {\n    let token = "";\n    skipSpaces();\n    if (next() === `\'` || next() === `"`)\n      token = readQuotedString(next()).slice(1, -1);\n    else\n      token = readIdentifier();\n    if (!token)\n      syntaxError("parsing property path");\n    return token;\n  }\n  function readOperator() {\n    skipSpaces();\n    let op = "";\n    if (!EOL)\n      op += eat1();\n    if (!EOL && op !== "=")\n      op += eat1();\n    if (!["=", "*=", "^=", "$=", "|=", "~="].includes(op))\n      syntaxError("parsing operator");\n    return op;\n  }\n  function readAttribute() {\n    eat1();\n    const jsonPath = [];\n    jsonPath.push(readAttributeToken());\n    skipSpaces();\n    while (next() === ".") {\n      eat1();\n      jsonPath.push(readAttributeToken());\n      skipSpaces();\n    }\n    if (next() === "]") {\n      eat1();\n      return { name: jsonPath.join("."), jsonPath, op: "<truthy>", value: null, caseSensitive: false };\n    }\n    const operator = readOperator();\n    let value = void 0;\n    let caseSensitive = true;\n    skipSpaces();\n    if (next() === "/") {\n      if (operator !== "=")\n        throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with regular expression`);\n      value = readRegularExpression();\n    } else if (next() === `\'` || next() === `"`) {\n      value = readQuotedString(next()).slice(1, -1);\n      skipSpaces();\n      if (next() === "i" || next() === "I") {\n        caseSensitive = false;\n        eat1();\n      } else if (next() === "s" || next() === "S") {\n        caseSensitive = true;\n        eat1();\n      }\n    } else {\n      value = "";\n      while (!EOL && (isCSSNameChar(next()) || next() === "+" || next() === "."))\n        value += eat1();\n      if (value === "true") {\n        value = true;\n      } else if (value === "false") {\n        value = false;\n      } else {\n        if (!allowUnquotedStrings) {\n          value = +value;\n          if (Number.isNaN(value))\n            syntaxError("parsing attribute value");\n        }\n      }\n    }\n    skipSpaces();\n    if (next() !== "]")\n      syntaxError("parsing attribute value");\n    eat1();\n    if (operator !== "=" && typeof value !== "string")\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with non-string matching value - ${value}`);\n    return { name: jsonPath.join("."), jsonPath, op: operator, value, caseSensitive };\n  }\n  const result = {\n    name: "",\n    attributes: []\n  };\n  result.name = readIdentifier();\n  skipSpaces();\n  while (next() === "[") {\n    result.attributes.push(readAttribute());\n    skipSpaces();\n  }\n  if (!EOL)\n    syntaxError(void 0);\n  if (!result.name && !result.attributes.length)\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - selector cannot be empty`);\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/stringUtils.ts\nfunction escapeWithQuotes(text, char = "\'") {\n  const stringified = JSON.stringify(text);\n  const escapedText = stringified.substring(1, stringified.length - 1).replace(/\\\\"/g, \'"\');\n  if (char === "\'")\n    return char + escapedText.replace(/[\']/g, "\\\\\'") + char;\n  if (char === \'"\')\n    return char + escapedText.replace(/["]/g, \'\\\\"\') + char;\n  if (char === "`")\n    return char + escapedText.replace(/[`]/g, "\\\\`") + char;\n  throw new Error("Invalid escape char");\n}\nfunction toTitleCase(name) {\n  return name.charAt(0).toUpperCase() + name.substring(1);\n}\nfunction toSnakeCase(name) {\n  return name.replace(/([a-z0-9])([A-Z])/g, "$1_$2").replace(/([A-Z])([A-Z][a-z])/g, "$1_$2").toLowerCase();\n}\nfunction quoteCSSAttributeValue(text) {\n  return `"${text.replace(/["\\\\]/g, (char) => "\\\\" + char)}"`;\n}\nvar normalizedWhitespaceCache;\nfunction cacheNormalizedWhitespaces() {\n  normalizedWhitespaceCache = /* @__PURE__ */ new Map();\n}\nfunction normalizeWhiteSpace(text) {\n  let result = normalizedWhitespaceCache == null ? void 0 : normalizedWhitespaceCache.get(text);\n  if (result === void 0) {\n    result = text.replace(/[\\u200b\\u00ad]/g, "").trim().replace(/\\s+/g, " ");\n    normalizedWhitespaceCache == null ? void 0 : normalizedWhitespaceCache.set(text, result);\n  }\n  return result;\n}\nfunction normalizeEscapedRegexQuotes(source) {\n  return source.replace(/(^|[^\\\\])(\\\\\\\\)*\\\\([\'"`])/g, "$1$2$3");\n}\nfunction escapeRegexForSelector(re) {\n  if (re.unicode || re.unicodeSets)\n    return String(re);\n  return String(re).replace(/(^|[^\\\\])(\\\\\\\\)*(["\'`])/g, "$1$2\\\\$3").replace(/>>/g, "\\\\>\\\\>");\n}\nfunction escapeForTextSelector(text, exact) {\n  if (typeof text !== "string")\n    return escapeRegexForSelector(text);\n  return `${JSON.stringify(text)}${exact ? "s" : "i"}`;\n}\nfunction escapeForAttributeSelector(value, exact) {\n  if (typeof value !== "string")\n    return escapeRegexForSelector(value);\n  return `"${value.replace(/\\\\/g, "\\\\\\\\").replace(/["]/g, \'\\\\"\')}"${exact ? "s" : "i"}`;\n}\nfunction trimString(input, cap, suffix = "") {\n  if (input.length <= cap)\n    return input;\n  const chars = [...input];\n  if (chars.length > cap)\n    return chars.slice(0, cap - suffix.length).join("") + suffix;\n  return chars.join("");\n}\nfunction trimStringWithEllipsis(input, cap) {\n  return trimString(input, cap, "\\u2026");\n}\nfunction escapeRegExp(s) {\n  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, "\\\\$&");\n}\nfunction longestCommonSubstring(s1, s2) {\n  const n = s1.length;\n  const m = s2.length;\n  let maxLen = 0;\n  let endingIndex = 0;\n  const dp = Array(n + 1).fill(null).map(() => Array(m + 1).fill(0));\n  for (let i = 1; i <= n; i++) {\n    for (let j = 1; j <= m; j++) {\n      if (s1[i - 1] === s2[j - 1]) {\n        dp[i][j] = dp[i - 1][j - 1] + 1;\n        if (dp[i][j] > maxLen) {\n          maxLen = dp[i][j];\n          endingIndex = i;\n        }\n      }\n    }\n  }\n  return s1.slice(endingIndex - maxLen, endingIndex);\n}\n\n// packages/playwright-core/src/utils/isomorphic/locatorGenerators.ts\nfunction asLocator(lang, selector, isFrameLocator = false) {\n  return asLocators(lang, selector, isFrameLocator, 1)[0];\n}\nfunction asLocators(lang, selector, isFrameLocator = false, maxOutputSize = 20, preferredQuote) {\n  try {\n    return innerAsLocators(new generators[lang](preferredQuote), parseSelector(selector), isFrameLocator, maxOutputSize);\n  } catch (e) {\n    return [selector];\n  }\n}\nfunction innerAsLocators(factory, parsed, isFrameLocator = false, maxOutputSize = 20) {\n  const parts = [...parsed.parts];\n  const tokens = [];\n  let nextBase = isFrameLocator ? "frame-locator" : "page";\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const base = nextBase;\n    nextBase = "locator";\n    if (part.name === "internal:describe")\n      continue;\n    if (part.name === "nth") {\n      if (part.body === "0")\n        tokens.push([factory.generateLocator(base, "first", ""), factory.generateLocator(base, "nth", "0")]);\n      else if (part.body === "-1")\n        tokens.push([factory.generateLocator(base, "last", ""), factory.generateLocator(base, "nth", "-1")]);\n      else\n        tokens.push([factory.generateLocator(base, "nth", part.body)]);\n      continue;\n    }\n    if (part.name === "visible") {\n      tokens.push([factory.generateLocator(base, "visible", part.body), factory.generateLocator(base, "default", `visible=${part.body}`)]);\n      continue;\n    }\n    if (part.name === "internal:text") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "text", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:has-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has-not-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-not-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "has", inner)));\n      continue;\n    }\n    if (part.name === "internal:has-not") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "hasNot", inner)));\n      continue;\n    }\n    if (part.name === "internal:and") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "and", inner)));\n      continue;\n    }\n    if (part.name === "internal:or") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "or", inner)));\n      continue;\n    }\n    if (part.name === "internal:chain") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "chain", inner)));\n      continue;\n    }\n    if (part.name === "internal:label") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "label", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:role") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const options = { attrs: [] };\n      for (const attr of attrSelector.attributes) {\n        if (attr.name === "name") {\n          options.exact = attr.caseSensitive;\n          options.name = attr.value;\n        } else {\n          if (attr.name === "level" && typeof attr.value === "string")\n            attr.value = +attr.value;\n          options.attrs.push({ name: attr.name === "include-hidden" ? "includeHidden" : attr.name, value: attr.value });\n        }\n      }\n      tokens.push([factory.generateLocator(base, "role", attrSelector.name, options)]);\n      continue;\n    }\n    if (part.name === "internal:testid") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { value } = attrSelector.attributes[0];\n      tokens.push([factory.generateLocator(base, "test-id", value)]);\n      continue;\n    }\n    if (part.name === "internal:attr") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { name, value, caseSensitive } = attrSelector.attributes[0];\n      const text = value;\n      const exact = !!caseSensitive;\n      if (name === "placeholder") {\n        tokens.push([factory.generateLocator(base, "placeholder", text, { exact })]);\n        continue;\n      }\n      if (name === "alt") {\n        tokens.push([factory.generateLocator(base, "alt", text, { exact })]);\n        continue;\n      }\n      if (name === "title") {\n        tokens.push([factory.generateLocator(base, "title", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:control" && part.body === "enter-frame") {\n      const lastTokens = tokens[tokens.length - 1];\n      const lastPart = parts[index - 1];\n      const transformed = lastTokens.map((token) => factory.chainLocators([token, factory.generateLocator(base, "frame", "")]));\n      if (["xpath", "css"].includes(lastPart.name)) {\n        transformed.push(\n          factory.generateLocator(base, "frame-locator", stringifySelector({ parts: [lastPart] })),\n          factory.generateLocator(base, "frame-locator", stringifySelector({ parts: [lastPart] }, true))\n        );\n      }\n      lastTokens.splice(0, lastTokens.length, ...transformed);\n      nextBase = "frame-locator";\n      continue;\n    }\n    const nextPart = parts[index + 1];\n    const selectorPart = stringifySelector({ parts: [part] });\n    const locatorPart = factory.generateLocator(base, "default", selectorPart);\n    if (nextPart && ["internal:has-text", "internal:has-not-text"].includes(nextPart.name)) {\n      const { exact, text } = detectExact(nextPart.body);\n      if (!exact) {\n        const nextLocatorPart = factory.generateLocator("locator", nextPart.name === "internal:has-text" ? "has-text" : "has-not-text", text, { exact });\n        const options = {};\n        if (nextPart.name === "internal:has-text")\n          options.hasText = text;\n        else\n          options.hasNotText = text;\n        const combinedPart = factory.generateLocator(base, "default", selectorPart, options);\n        tokens.push([factory.chainLocators([locatorPart, nextLocatorPart]), combinedPart]);\n        index++;\n        continue;\n      }\n    }\n    let locatorPartWithEngine;\n    if (["xpath", "css"].includes(part.name)) {\n      const selectorPart2 = stringifySelector(\n        { parts: [part] },\n        /* forceEngineName */\n        true\n      );\n      locatorPartWithEngine = factory.generateLocator(base, "default", selectorPart2);\n    }\n    tokens.push([locatorPart, locatorPartWithEngine].filter(Boolean));\n  }\n  return combineTokens(factory, tokens, maxOutputSize);\n}\nfunction combineTokens(factory, tokens, maxOutputSize) {\n  const currentTokens = tokens.map(() => "");\n  const result = [];\n  const visit = (index) => {\n    if (index === tokens.length) {\n      result.push(factory.chainLocators(currentTokens));\n      return result.length < maxOutputSize;\n    }\n    for (const taken of tokens[index]) {\n      currentTokens[index] = taken;\n      if (!visit(index + 1))\n        return false;\n    }\n    return true;\n  };\n  visit(0);\n  return result;\n}\nfunction detectExact(text) {\n  let exact = false;\n  const match = text.match(/^\\/(.*)\\/([igm]*)$/);\n  if (match)\n    return { text: new RegExp(match[1], match[2]) };\n  if (text.endsWith(\'"\')) {\n    text = JSON.parse(text);\n    exact = true;\n  } else if (text.endsWith(\'"s\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = true;\n  } else if (text.endsWith(\'"i\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = false;\n  }\n  return { exact, text };\n}\nvar JavaScriptLocatorFactory = class {\n  constructor(preferredQuote) {\n    this.preferredQuote = preferredQuote;\n  }\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, { hasText: ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, { hasNotText: ${this.toHasText(options.hasNotText)} })`;\n        return `locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `frameLocator(${this.quote(body)})`;\n      case "frame":\n        return `contentFrame()`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "visible":\n        return `filter({ visible: ${body === "true" ? "true" : "false"} })`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name: ${this.regexToSourceString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name: ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact: true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${name}: ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, { ${attrs.join(", ")} }` : "";\n        return `getByRole(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter({ hasText: ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `filter({ hasNotText: ${this.toHasText(body)} })`;\n      case "has":\n        return `filter({ has: ${body} })`;\n      case "hasNot":\n        return `filter({ hasNot: ${body} })`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToSourceString(re) {\n    return normalizeEscapedRegexQuotes(String(re));\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToSourceString(body)})`;\n    return exact ? `${method}(${this.quote(body)}, { exact: true })` : `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToSourceString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToSourceString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    var _a;\n    return escapeWithQuotes(text, (_a = this.preferredQuote) != null ? _a : "\'");\n  }\n};\nvar PythonLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, has_text=${this.toHasText(options.hasText)})`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, has_not_text=${this.toHasText(options.hasNotText)})`;\n        return `locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `frame_locator(${this.quote(body)})`;\n      case "frame":\n        return `content_frame`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first`;\n      case "last":\n        return `last`;\n      case "visible":\n        return `filter(visible=${body === "true" ? "True" : "False"})`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name=${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name=${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact=True`);\n        }\n        for (const { name, value } of options.attrs) {\n          let valueString = typeof value === "string" ? this.quote(value) : value;\n          if (typeof value === "boolean")\n            valueString = value ? "True" : "False";\n          attrs.push(`${toSnakeCase(name)}=${valueString}`);\n        }\n        const attrString = attrs.length ? `, ${attrs.join(", ")}` : "";\n        return `get_by_role(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter(has_text=${this.toHasText(body)})`;\n      case "has-not-text":\n        return `filter(has_not_text=${this.toHasText(body)})`;\n      case "has":\n        return `filter(has=${body})`;\n      case "hasNot":\n        return `filter(has_not=${body})`;\n      case "and":\n        return `and_(${body})`;\n      case "or":\n        return `or_(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `get_by_test_id(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("get_by_text", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("get_by_alt_text", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("get_by_placeholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("get_by_label", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("get_by_title", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", re.IGNORECASE" : "";\n    return `re.compile(r"${normalizeEscapedRegexQuotes(body.source).replace(/\\\\\\//, "/").replace(/"/g, \'\\\\"\')}"${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, exact=True)`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return `${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JavaLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    let clazz;\n    switch (base) {\n      case "page":\n        clazz = "Page";\n        break;\n      case "frame-locator":\n        clazz = "FrameLocator";\n        break;\n      case "locator":\n        clazz = "Locator";\n        break;\n    }\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasText(${this.toHasText(options.hasText)}))`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasNotText(${this.toHasText(options.hasNotText)}))`;\n        return `locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `frameLocator(${this.quote(body)})`;\n      case "frame":\n        return `contentFrame()`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "visible":\n        return `filter(new ${clazz}.FilterOptions().setVisible(${body === "true" ? "true" : "false"}))`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`.setName(${this.regexToString(options.name)})`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`.setName(${this.quote(options.name)})`);\n          if (options.exact)\n            attrs.push(`.setExact(true)`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`.set${toTitleCase(name)}(${typeof value === "string" ? this.quote(value) : value})`);\n        const attrString = attrs.length ? `, new ${clazz}.GetByRoleOptions()${attrs.join("")}` : "";\n        return `getByRole(AriaRole.${toSnakeCase(body).toUpperCase()}${attrString})`;\n      case "has-text":\n        return `filter(new ${clazz}.FilterOptions().setHasText(${this.toHasText(body)}))`;\n      case "has-not-text":\n        return `filter(new ${clazz}.FilterOptions().setHasNotText(${this.toHasText(body)}))`;\n      case "has":\n        return `filter(new ${clazz}.FilterOptions().setHas(${body}))`;\n      case "hasNot":\n        return `filter(new ${clazz}.FilterOptions().setHasNot(${body}))`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact(clazz, "getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact(clazz, "getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact(clazz, "getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact(clazz, "getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact(clazz, "getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", Pattern.CASE_INSENSITIVE" : "";\n    return `Pattern.compile(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(clazz, method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new ${clazz}.${toTitleCase(method)}Options().setExact(true))`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar CSharpLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasNotText(options.hasNotText)} })`;\n        return `Locator(${this.quote(body)})`;\n      case "frame-locator":\n        return `FrameLocator(${this.quote(body)})`;\n      case "frame":\n        return `ContentFrame`;\n      case "nth":\n        return `Nth(${body})`;\n      case "first":\n        return `First`;\n      case "last":\n        return `Last`;\n      case "visible":\n        return `Filter(new() { Visible = ${body === "true" ? "true" : "false"} })`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`NameRegex = ${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`Name = ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`Exact = true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${toTitleCase(name)} = ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, new() { ${attrs.join(", ")} }` : "";\n        return `GetByRole(AriaRole.${toTitleCase(body)}${attrString})`;\n      case "has-text":\n        return `Filter(new() { ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `Filter(new() { ${this.toHasNotText(body)} })`;\n      case "has":\n        return `Filter(new() { Has = ${body} })`;\n      case "hasNot":\n        return `Filter(new() { HasNot = ${body} })`;\n      case "and":\n        return `And(${body})`;\n      case "or":\n        return `Or(${body})`;\n      case "chain":\n        return `Locator(${body})`;\n      case "test-id":\n        return `GetByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("GetByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("GetByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("GetByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("GetByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("GetByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", RegexOptions.IgnoreCase" : "";\n    return `new Regex(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new() { Exact = true })`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return `HasTextRegex = ${this.regexToString(body)}`;\n    return `HasText = ${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  toHasNotText(body) {\n    if (isRegExp(body))\n      return `HasNotTextRegex = ${this.regexToString(body)}`;\n    return `HasNotText = ${this.quote(body)}`;\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JsonlLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    return JSON.stringify({\n      kind,\n      body,\n      options\n    });\n  }\n  chainLocators(locators) {\n    const objects = locators.map((l) => JSON.parse(l));\n    for (let i = 0; i < objects.length - 1; ++i)\n      objects[i].next = objects[i + 1];\n    return JSON.stringify(objects[0]);\n  }\n};\nvar generators = {\n  javascript: JavaScriptLocatorFactory,\n  python: PythonLocatorFactory,\n  java: JavaLocatorFactory,\n  csharp: CSharpLocatorFactory,\n  jsonl: JsonlLocatorFactory\n};\nfunction isRegExp(obj) {\n  return obj instanceof RegExp;\n}\n\n// packages/injected/src/domUtils.ts\nvar globalOptions = {};\nfunction setGlobalOptions(options) {\n  globalOptions = options;\n}\nfunction isInsideScope(scope, element) {\n  while (element) {\n    if (scope.contains(element))\n      return true;\n    element = enclosingShadowHost(element);\n  }\n  return false;\n}\nfunction parentElementOrShadowHost(element) {\n  if (element.parentElement)\n    return element.parentElement;\n  if (!element.parentNode)\n    return;\n  if (element.parentNode.nodeType === 11 && element.parentNode.host)\n    return element.parentNode.host;\n}\nfunction enclosingShadowRootOrDocument(element) {\n  let node = element;\n  while (node.parentNode)\n    node = node.parentNode;\n  if (node.nodeType === 11 || node.nodeType === 9)\n    return node;\n}\nfunction enclosingShadowHost(element) {\n  while (element.parentElement)\n    element = element.parentElement;\n  return parentElementOrShadowHost(element);\n}\nfunction closestCrossShadow(element, css, scope) {\n  while (element) {\n    const closest = element.closest(css);\n    if (scope && closest !== scope && (closest == null ? void 0 : closest.contains(scope)))\n      return;\n    if (closest)\n      return closest;\n    element = enclosingShadowHost(element);\n  }\n}\nfunction getElementComputedStyle(element, pseudo) {\n  const cache = pseudo === "::before" ? cacheStyleBefore : pseudo === "::after" ? cacheStyleAfter : cacheStyle;\n  if (cache && cache.has(element))\n    return cache.get(element);\n  const style = element.ownerDocument && element.ownerDocument.defaultView ? element.ownerDocument.defaultView.getComputedStyle(element, pseudo) : void 0;\n  cache == null ? void 0 : cache.set(element, style);\n  return style;\n}\nfunction isElementStyleVisibilityVisible(element, style) {\n  style = style != null ? style : getElementComputedStyle(element);\n  if (!style)\n    return true;\n  if (Element.prototype.checkVisibility && globalOptions.browserNameForWorkarounds !== "webkit") {\n    if (!element.checkVisibility())\n      return false;\n  } else {\n    const detailsOrSummary = element.closest("details,summary");\n    if (detailsOrSummary !== element && (detailsOrSummary == null ? void 0 : detailsOrSummary.nodeName) === "DETAILS" && !detailsOrSummary.open)\n      return false;\n  }\n  if (style.visibility !== "visible")\n    return false;\n  return true;\n}\nfunction computeBox(element) {\n  const style = getElementComputedStyle(element);\n  if (!style)\n    return { visible: true, inline: false };\n  if (style.display === "contents") {\n    for (let child = element.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 1 && isElementVisible(child))\n        return { visible: true, inline: false, style };\n      if (child.nodeType === 3 && isVisibleTextNode(child))\n        return { visible: true, inline: true, style };\n    }\n    return { visible: false, inline: false, style };\n  }\n  if (!isElementStyleVisibilityVisible(element, style))\n    return { style, visible: false, inline: false };\n  const rect = element.getBoundingClientRect();\n  return { rect, style, visible: rect.width > 0 && rect.height > 0, inline: style.display === "inline" };\n}\nfunction isElementVisible(element) {\n  return computeBox(element).visible;\n}\nfunction isVisibleTextNode(node) {\n  const range = node.ownerDocument.createRange();\n  range.selectNode(node);\n  const rect = range.getBoundingClientRect();\n  return rect.width > 0 && rect.height > 0;\n}\nfunction elementSafeTagName(element) {\n  const tagName = element.tagName;\n  if (typeof tagName === "string")\n    return tagName.toUpperCase();\n  if (element instanceof HTMLFormElement)\n    return "FORM";\n  return element.tagName.toUpperCase();\n}\nvar cacheStyle;\nvar cacheStyleBefore;\nvar cacheStyleAfter;\nvar cachesCounter = 0;\nfunction beginDOMCaches() {\n  ++cachesCounter;\n  cacheStyle != null ? cacheStyle : cacheStyle = /* @__PURE__ */ new Map();\n  cacheStyleBefore != null ? cacheStyleBefore : cacheStyleBefore = /* @__PURE__ */ new Map();\n  cacheStyleAfter != null ? cacheStyleAfter : cacheStyleAfter = /* @__PURE__ */ new Map();\n}\nfunction endDOMCaches() {\n  if (!--cachesCounter) {\n    cacheStyle = void 0;\n    cacheStyleBefore = void 0;\n    cacheStyleAfter = void 0;\n  }\n}\n\n// packages/injected/src/roleUtils.ts\nfunction hasExplicitAccessibleName(e) {\n  return e.hasAttribute("aria-label") || e.hasAttribute("aria-labelledby");\n}\nvar kAncestorPreventingLandmark = "article:not([role]), aside:not([role]), main:not([role]), nav:not([role]), section:not([role]), [role=article], [role=complementary], [role=main], [role=navigation], [role=region]";\nvar kGlobalAriaAttributes = [\n  ["aria-atomic", void 0],\n  ["aria-busy", void 0],\n  ["aria-controls", void 0],\n  ["aria-current", void 0],\n  ["aria-describedby", void 0],\n  ["aria-details", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-disabled\', undefined],\n  ["aria-dropeffect", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-errormessage\', undefined],\n  ["aria-flowto", void 0],\n  ["aria-grabbed", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-haspopup\', undefined],\n  ["aria-hidden", void 0],\n  // Global use deprecated in ARIA 1.2\n  // [\'aria-invalid\', undefined],\n  ["aria-keyshortcuts", void 0],\n  ["aria-label", ["caption", "code", "deletion", "emphasis", "generic", "insertion", "paragraph", "presentation", "strong", "subscript", "superscript"]],\n  ["aria-labelledby", ["caption", "code", "deletion", "emphasis", "generic", "insertion", "paragraph", "presentation", "strong", "subscript", "superscript"]],\n  ["aria-live", void 0],\n  ["aria-owns", void 0],\n  ["aria-relevant", void 0],\n  ["aria-roledescription", ["generic"]]\n];\nfunction hasGlobalAriaAttribute(element, forRole) {\n  return kGlobalAriaAttributes.some(([attr, prohibited]) => {\n    return !(prohibited == null ? void 0 : prohibited.includes(forRole || "")) && element.hasAttribute(attr);\n  });\n}\nfunction hasTabIndex(element) {\n  return !Number.isNaN(Number(String(element.getAttribute("tabindex"))));\n}\nfunction isFocusable(element) {\n  return !isNativelyDisabled(element) && (isNativelyFocusable(element) || hasTabIndex(element));\n}\nfunction isNativelyFocusable(element) {\n  const tagName = elementSafeTagName(element);\n  if (["BUTTON", "DETAILS", "SELECT", "TEXTAREA"].includes(tagName))\n    return true;\n  if (tagName === "A" || tagName === "AREA")\n    return element.hasAttribute("href");\n  if (tagName === "INPUT")\n    return !element.hidden;\n  return false;\n}\nvar kImplicitRoleByTagName = {\n  "A": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "AREA": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "ARTICLE": () => "article",\n  "ASIDE": () => "complementary",\n  "BLOCKQUOTE": () => "blockquote",\n  "BUTTON": () => "button",\n  "CAPTION": () => "caption",\n  "CODE": () => "code",\n  "DATALIST": () => "listbox",\n  "DD": () => "definition",\n  "DEL": () => "deletion",\n  "DETAILS": () => "group",\n  "DFN": () => "term",\n  "DIALOG": () => "dialog",\n  "DT": () => "term",\n  "EM": () => "emphasis",\n  "FIELDSET": () => "group",\n  "FIGURE": () => "figure",\n  "FOOTER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "contentinfo",\n  "FORM": (e) => hasExplicitAccessibleName(e) ? "form" : null,\n  "H1": () => "heading",\n  "H2": () => "heading",\n  "H3": () => "heading",\n  "H4": () => "heading",\n  "H5": () => "heading",\n  "H6": () => "heading",\n  "HEADER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "banner",\n  "HR": () => "separator",\n  "HTML": () => "document",\n  "IMG": (e) => e.getAttribute("alt") === "" && !e.getAttribute("title") && !hasGlobalAriaAttribute(e) && !hasTabIndex(e) ? "presentation" : "img",\n  "INPUT": (e) => {\n    const type = e.type.toLowerCase();\n    if (type === "search")\n      return e.hasAttribute("list") ? "combobox" : "searchbox";\n    if (["email", "tel", "text", "url", ""].includes(type)) {\n      const list = getIdRefs(e, e.getAttribute("list"))[0];\n      return list && elementSafeTagName(list) === "DATALIST" ? "combobox" : "textbox";\n    }\n    if (type === "hidden")\n      return null;\n    if (type === "file")\n      return "button";\n    return inputTypeToRole[type] || "textbox";\n  },\n  "INS": () => "insertion",\n  "LI": () => "listitem",\n  "MAIN": () => "main",\n  "MARK": () => "mark",\n  "MATH": () => "math",\n  "MENU": () => "list",\n  "METER": () => "meter",\n  "NAV": () => "navigation",\n  "OL": () => "list",\n  "OPTGROUP": () => "group",\n  "OPTION": () => "option",\n  "OUTPUT": () => "status",\n  "P": () => "paragraph",\n  "PROGRESS": () => "progressbar",\n  "SEARCH": () => "search",\n  "SECTION": (e) => hasExplicitAccessibleName(e) ? "region" : null,\n  "SELECT": (e) => e.hasAttribute("multiple") || e.size > 1 ? "listbox" : "combobox",\n  "STRONG": () => "strong",\n  "SUB": () => "subscript",\n  "SUP": () => "superscript",\n  // For <svg> we default to Chrome behavior:\n  // - Chrome reports \'img\'.\n  // - Firefox reports \'diagram\' that is not in official ARIA spec yet.\n  // - Safari reports \'no role\', but still computes accessible name.\n  "SVG": () => "img",\n  "TABLE": () => "table",\n  "TBODY": () => "rowgroup",\n  "TD": (e) => {\n    const table = closestCrossShadow(e, "table");\n    const role = table ? getExplicitAriaRole(table) : "";\n    return role === "grid" || role === "treegrid" ? "gridcell" : "cell";\n  },\n  "TEXTAREA": () => "textbox",\n  "TFOOT": () => "rowgroup",\n  "TH": (e) => {\n    if (e.getAttribute("scope") === "col")\n      return "columnheader";\n    if (e.getAttribute("scope") === "row")\n      return "rowheader";\n    const table = closestCrossShadow(e, "table");\n    const role = table ? getExplicitAriaRole(table) : "";\n    return role === "grid" || role === "treegrid" ? "gridcell" : "cell";\n  },\n  "THEAD": () => "rowgroup",\n  "TIME": () => "time",\n  "TR": () => "row",\n  "UL": () => "list"\n};\nvar kPresentationInheritanceParents = {\n  "DD": ["DL", "DIV"],\n  "DIV": ["DL"],\n  "DT": ["DL", "DIV"],\n  "LI": ["OL", "UL"],\n  "TBODY": ["TABLE"],\n  "TD": ["TR"],\n  "TFOOT": ["TABLE"],\n  "TH": ["TR"],\n  "THEAD": ["TABLE"],\n  "TR": ["THEAD", "TBODY", "TFOOT", "TABLE"]\n};\nfunction getImplicitAriaRole(element) {\n  var _a;\n  const implicitRole = ((_a = kImplicitRoleByTagName[elementSafeTagName(element)]) == null ? void 0 : _a.call(kImplicitRoleByTagName, element)) || "";\n  if (!implicitRole)\n    return null;\n  let ancestor = element;\n  while (ancestor) {\n    const parent = parentElementOrShadowHost(ancestor);\n    const parents = kPresentationInheritanceParents[elementSafeTagName(ancestor)];\n    if (!parents || !parent || !parents.includes(elementSafeTagName(parent)))\n      break;\n    const parentExplicitRole = getExplicitAriaRole(parent);\n    if ((parentExplicitRole === "none" || parentExplicitRole === "presentation") && !hasPresentationConflictResolution(parent, parentExplicitRole))\n      return parentExplicitRole;\n    ancestor = parent;\n  }\n  return implicitRole;\n}\nvar validRoles = [\n  "alert",\n  "alertdialog",\n  "application",\n  "article",\n  "banner",\n  "blockquote",\n  "button",\n  "caption",\n  "cell",\n  "checkbox",\n  "code",\n  "columnheader",\n  "combobox",\n  "complementary",\n  "contentinfo",\n  "definition",\n  "deletion",\n  "dialog",\n  "directory",\n  "document",\n  "emphasis",\n  "feed",\n  "figure",\n  "form",\n  "generic",\n  "grid",\n  "gridcell",\n  "group",\n  "heading",\n  "img",\n  "insertion",\n  "link",\n  "list",\n  "listbox",\n  "listitem",\n  "log",\n  "main",\n  "mark",\n  "marquee",\n  "math",\n  "meter",\n  "menu",\n  "menubar",\n  "menuitem",\n  "menuitemcheckbox",\n  "menuitemradio",\n  "navigation",\n  "none",\n  "note",\n  "option",\n  "paragraph",\n  "presentation",\n  "progressbar",\n  "radio",\n  "radiogroup",\n  "region",\n  "row",\n  "rowgroup",\n  "rowheader",\n  "scrollbar",\n  "search",\n  "searchbox",\n  "separator",\n  "slider",\n  "spinbutton",\n  "status",\n  "strong",\n  "subscript",\n  "superscript",\n  "switch",\n  "tab",\n  "table",\n  "tablist",\n  "tabpanel",\n  "term",\n  "textbox",\n  "time",\n  "timer",\n  "toolbar",\n  "tooltip",\n  "tree",\n  "treegrid",\n  "treeitem"\n];\nfunction getExplicitAriaRole(element) {\n  const roles = (element.getAttribute("role") || "").split(" ").map((role) => role.trim());\n  return roles.find((role) => validRoles.includes(role)) || null;\n}\nfunction hasPresentationConflictResolution(element, role) {\n  return hasGlobalAriaAttribute(element, role) || isFocusable(element);\n}\nfunction getAriaRole(element) {\n  const explicitRole = getExplicitAriaRole(element);\n  if (!explicitRole)\n    return getImplicitAriaRole(element);\n  if (explicitRole === "none" || explicitRole === "presentation") {\n    const implicitRole = getImplicitAriaRole(element);\n    if (hasPresentationConflictResolution(element, implicitRole))\n      return implicitRole;\n  }\n  return explicitRole;\n}\nfunction getAriaBoolean(attr) {\n  return attr === null ? void 0 : attr.toLowerCase() === "true";\n}\nfunction isElementIgnoredForAria(element) {\n  return ["STYLE", "SCRIPT", "NOSCRIPT", "TEMPLATE"].includes(elementSafeTagName(element));\n}\nfunction isElementHiddenForAria(element) {\n  if (isElementIgnoredForAria(element))\n    return true;\n  const style = getElementComputedStyle(element);\n  const isSlot = element.nodeName === "SLOT";\n  if ((style == null ? void 0 : style.display) === "contents" && !isSlot) {\n    for (let child = element.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 1 && !isElementHiddenForAria(child))\n        return false;\n      if (child.nodeType === 3 && isVisibleTextNode(child))\n        return false;\n    }\n    return true;\n  }\n  const isOptionInsideSelect = element.nodeName === "OPTION" && !!element.closest("select");\n  if (!isOptionInsideSelect && !isSlot && !isElementStyleVisibilityVisible(element, style))\n    return true;\n  return belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element);\n}\nfunction belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element) {\n  let hidden = cacheIsHidden == null ? void 0 : cacheIsHidden.get(element);\n  if (hidden === void 0) {\n    hidden = false;\n    if (element.parentElement && element.parentElement.shadowRoot && !element.assignedSlot)\n      hidden = true;\n    if (!hidden) {\n      const style = getElementComputedStyle(element);\n      hidden = !style || style.display === "none" || getAriaBoolean(element.getAttribute("aria-hidden")) === true;\n    }\n    if (!hidden) {\n      const parent = parentElementOrShadowHost(element);\n      if (parent)\n        hidden = belongsToDisplayNoneOrAriaHiddenOrNonSlotted(parent);\n    }\n    cacheIsHidden == null ? void 0 : cacheIsHidden.set(element, hidden);\n  }\n  return hidden;\n}\nfunction getIdRefs(element, ref) {\n  if (!ref)\n    return [];\n  const root = enclosingShadowRootOrDocument(element);\n  if (!root)\n    return [];\n  try {\n    const ids = ref.split(" ").filter((id) => !!id);\n    const result = [];\n    for (const id of ids) {\n      const firstElement = root.querySelector("#" + CSS.escape(id));\n      if (firstElement && !result.includes(firstElement))\n        result.push(firstElement);\n    }\n    return result;\n  } catch (e) {\n    return [];\n  }\n}\nfunction trimFlatString(s) {\n  return s.trim();\n}\nfunction asFlatString(s) {\n  return s.split("\\xA0").map((chunk) => chunk.replace(/\\r\\n/g, "\\n").replace(/[\\u200b\\u00ad]/g, "").replace(/\\s\\s*/g, " ")).join("\\xA0").trim();\n}\nfunction queryInAriaOwned(element, selector) {\n  const result = [...element.querySelectorAll(selector)];\n  for (const owned of getIdRefs(element, element.getAttribute("aria-owns"))) {\n    if (owned.matches(selector))\n      result.push(owned);\n    result.push(...owned.querySelectorAll(selector));\n  }\n  return result;\n}\nfunction getCSSContent(element, pseudo) {\n  const cache = pseudo === "::before" ? cachePseudoContentBefore : pseudo === "::after" ? cachePseudoContentAfter : cachePseudoContent;\n  if (cache == null ? void 0 : cache.has(element))\n    return cache == null ? void 0 : cache.get(element);\n  const style = getElementComputedStyle(element, pseudo);\n  let content;\n  if (style) {\n    const contentValue = style.content;\n    if (contentValue && contentValue !== "none" && contentValue !== "normal") {\n      if (style.display !== "none" && style.visibility !== "hidden") {\n        content = parseCSSContentPropertyAsString(element, contentValue, !!pseudo);\n      }\n    }\n  }\n  if (pseudo && content !== void 0) {\n    const display = (style == null ? void 0 : style.display) || "inline";\n    if (display !== "inline")\n      content = " " + content + " ";\n  }\n  if (cache)\n    cache.set(element, content);\n  return content;\n}\nfunction parseCSSContentPropertyAsString(element, content, isPseudo) {\n  if (!content || content === "none" || content === "normal") {\n    return;\n  }\n  try {\n    let tokens = tokenize(content).filter((token) => !(token instanceof WhitespaceToken));\n    const delimIndex = tokens.findIndex((token) => token instanceof DelimToken && token.value === "/");\n    if (delimIndex !== -1) {\n      tokens = tokens.slice(delimIndex + 1);\n    } else if (!isPseudo) {\n      return;\n    }\n    const accumulated = [];\n    let index = 0;\n    while (index < tokens.length) {\n      if (tokens[index] instanceof StringToken) {\n        accumulated.push(tokens[index].value);\n        index++;\n      } else if (index + 2 < tokens.length && tokens[index] instanceof FunctionToken && tokens[index].value === "attr" && tokens[index + 1] instanceof IdentToken && tokens[index + 2] instanceof CloseParenToken) {\n        const attrName = tokens[index + 1].value;\n        accumulated.push(element.getAttribute(attrName) || "");\n        index += 3;\n      } else {\n        return;\n      }\n    }\n    return accumulated.join("");\n  } catch {\n  }\n}\nfunction getAriaLabelledByElements(element) {\n  const ref = element.getAttribute("aria-labelledby");\n  if (ref === null)\n    return null;\n  const refs = getIdRefs(element, ref);\n  return refs.length ? refs : null;\n}\nfunction allowsNameFromContent(role, targetDescendant) {\n  const alwaysAllowsNameFromContent = ["button", "cell", "checkbox", "columnheader", "gridcell", "heading", "link", "menuitem", "menuitemcheckbox", "menuitemradio", "option", "radio", "row", "rowheader", "switch", "tab", "tooltip", "treeitem"].includes(role);\n  const descendantAllowsNameFromContent = targetDescendant && ["", "caption", "code", "contentinfo", "definition", "deletion", "emphasis", "insertion", "list", "listitem", "mark", "none", "paragraph", "presentation", "region", "row", "rowgroup", "section", "strong", "subscript", "superscript", "table", "term", "time"].includes(role);\n  return alwaysAllowsNameFromContent || descendantAllowsNameFromContent;\n}\nfunction getElementAccessibleName(element, includeHidden) {\n  const cache = includeHidden ? cacheAccessibleNameHidden : cacheAccessibleName;\n  let accessibleName = cache == null ? void 0 : cache.get(element);\n  if (accessibleName === void 0) {\n    accessibleName = "";\n    const elementProhibitsNaming = ["caption", "code", "definition", "deletion", "emphasis", "generic", "insertion", "mark", "paragraph", "presentation", "strong", "subscript", "suggestion", "superscript", "term", "time"].includes(getAriaRole(element) || "");\n    if (!elementProhibitsNaming) {\n      accessibleName = asFlatString(getTextAlternativeInternal(element, {\n        includeHidden,\n        visitedElements: /* @__PURE__ */ new Set(),\n        embeddedInTargetElement: "self"\n      }));\n    }\n    cache == null ? void 0 : cache.set(element, accessibleName);\n  }\n  return accessibleName;\n}\nfunction getElementAccessibleDescription(element, includeHidden) {\n  const cache = includeHidden ? cacheAccessibleDescriptionHidden : cacheAccessibleDescription;\n  let accessibleDescription = cache == null ? void 0 : cache.get(element);\n  if (accessibleDescription === void 0) {\n    accessibleDescription = "";\n    if (element.hasAttribute("aria-describedby")) {\n      const describedBy = getIdRefs(element, element.getAttribute("aria-describedby"));\n      accessibleDescription = asFlatString(describedBy.map((ref) => getTextAlternativeInternal(ref, {\n        includeHidden,\n        visitedElements: /* @__PURE__ */ new Set(),\n        embeddedInDescribedBy: { element: ref, hidden: isElementHiddenForAria(ref) }\n      })).join(" "));\n    } else if (element.hasAttribute("aria-description")) {\n      accessibleDescription = asFlatString(element.getAttribute("aria-description") || "");\n    } else {\n      accessibleDescription = asFlatString(element.getAttribute("title") || "");\n    }\n    cache == null ? void 0 : cache.set(element, accessibleDescription);\n  }\n  return accessibleDescription;\n}\nfunction getAriaInvalid(element) {\n  const ariaInvalid = element.getAttribute("aria-invalid");\n  if (!ariaInvalid || ariaInvalid.trim() === "" || ariaInvalid.toLocaleLowerCase() === "false")\n    return "false";\n  if (ariaInvalid === "true" || ariaInvalid === "grammar" || ariaInvalid === "spelling")\n    return ariaInvalid;\n  return "true";\n}\nfunction getValidityInvalid(element) {\n  if ("validity" in element) {\n    const validity = element.validity;\n    return (validity == null ? void 0 : validity.valid) === false;\n  }\n  return false;\n}\nfunction getElementAccessibleErrorMessage(element) {\n  const cache = cacheAccessibleErrorMessage;\n  let accessibleErrorMessage = cacheAccessibleErrorMessage == null ? void 0 : cacheAccessibleErrorMessage.get(element);\n  if (accessibleErrorMessage === void 0) {\n    accessibleErrorMessage = "";\n    const isAriaInvalid = getAriaInvalid(element) !== "false";\n    const isValidityInvalid = getValidityInvalid(element);\n    if (isAriaInvalid || isValidityInvalid) {\n      const errorMessageId = element.getAttribute("aria-errormessage");\n      const errorMessages = getIdRefs(element, errorMessageId);\n      const parts = errorMessages.map((errorMessage) => asFlatString(\n        getTextAlternativeInternal(errorMessage, {\n          visitedElements: /* @__PURE__ */ new Set(),\n          embeddedInDescribedBy: { element: errorMessage, hidden: isElementHiddenForAria(errorMessage) }\n        })\n      ));\n      accessibleErrorMessage = parts.join(" ").trim();\n    }\n    cache == null ? void 0 : cache.set(element, accessibleErrorMessage);\n  }\n  return accessibleErrorMessage;\n}\nfunction getTextAlternativeInternal(element, options) {\n  var _a, _b, _c, _d;\n  if (options.visitedElements.has(element))\n    return "";\n  const childOptions = {\n    ...options,\n    embeddedInTargetElement: options.embeddedInTargetElement === "self" ? "descendant" : options.embeddedInTargetElement\n  };\n  if (!options.includeHidden) {\n    const isEmbeddedInHiddenReferenceTraversal = !!((_a = options.embeddedInLabelledBy) == null ? void 0 : _a.hidden) || !!((_b = options.embeddedInDescribedBy) == null ? void 0 : _b.hidden) || !!((_c = options.embeddedInNativeTextAlternative) == null ? void 0 : _c.hidden) || !!((_d = options.embeddedInLabel) == null ? void 0 : _d.hidden);\n    if (isElementIgnoredForAria(element) || !isEmbeddedInHiddenReferenceTraversal && isElementHiddenForAria(element)) {\n      options.visitedElements.add(element);\n      return "";\n    }\n  }\n  const labelledBy = getAriaLabelledByElements(element);\n  if (!options.embeddedInLabelledBy) {\n    const accessibleName = (labelledBy || []).map((ref) => getTextAlternativeInternal(ref, {\n      ...options,\n      embeddedInLabelledBy: { element: ref, hidden: isElementHiddenForAria(ref) },\n      embeddedInDescribedBy: void 0,\n      embeddedInTargetElement: void 0,\n      embeddedInLabel: void 0,\n      embeddedInNativeTextAlternative: void 0\n    })).join(" ");\n    if (accessibleName)\n      return accessibleName;\n  }\n  const role = getAriaRole(element) || "";\n  const tagName = elementSafeTagName(element);\n  if (!!options.embeddedInLabel || !!options.embeddedInLabelledBy || options.embeddedInTargetElement === "descendant") {\n    const isOwnLabel = [...element.labels || []].includes(element);\n    const isOwnLabelledBy = (labelledBy || []).includes(element);\n    if (!isOwnLabel && !isOwnLabelledBy) {\n      if (role === "textbox") {\n        options.visitedElements.add(element);\n        if (tagName === "INPUT" || tagName === "TEXTAREA")\n          return element.value;\n        return element.textContent || "";\n      }\n      if (["combobox", "listbox"].includes(role)) {\n        options.visitedElements.add(element);\n        let selectedOptions;\n        if (tagName === "SELECT") {\n          selectedOptions = [...element.selectedOptions];\n          if (!selectedOptions.length && element.options.length)\n            selectedOptions.push(element.options[0]);\n        } else {\n          const listbox = role === "combobox" ? queryInAriaOwned(element, "*").find((e) => getAriaRole(e) === "listbox") : element;\n          selectedOptions = listbox ? queryInAriaOwned(listbox, \'[aria-selected="true"]\').filter((e) => getAriaRole(e) === "option") : [];\n        }\n        if (!selectedOptions.length && tagName === "INPUT") {\n          return element.value;\n        }\n        return selectedOptions.map((option) => getTextAlternativeInternal(option, childOptions)).join(" ");\n      }\n      if (["progressbar", "scrollbar", "slider", "spinbutton", "meter"].includes(role)) {\n        options.visitedElements.add(element);\n        if (element.hasAttribute("aria-valuetext"))\n          return element.getAttribute("aria-valuetext") || "";\n        if (element.hasAttribute("aria-valuenow"))\n          return element.getAttribute("aria-valuenow") || "";\n        return element.getAttribute("value") || "";\n      }\n      if (["menu"].includes(role)) {\n        options.visitedElements.add(element);\n        return "";\n      }\n    }\n  }\n  const ariaLabel = element.getAttribute("aria-label") || "";\n  if (trimFlatString(ariaLabel)) {\n    options.visitedElements.add(element);\n    return ariaLabel;\n  }\n  if (!["presentation", "none"].includes(role)) {\n    if (tagName === "INPUT" && ["button", "submit", "reset"].includes(element.type)) {\n      options.visitedElements.add(element);\n      const value = element.value || "";\n      if (trimFlatString(value))\n        return value;\n      if (element.type === "submit")\n        return "Submit";\n      if (element.type === "reset")\n        return "Reset";\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "INPUT" && element.type === "file") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length && !options.embeddedInLabelledBy)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      return "Choose File";\n    }\n    if (tagName === "INPUT" && element.type === "image") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length && !options.embeddedInLabelledBy)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const alt = element.getAttribute("alt") || "";\n      if (trimFlatString(alt))\n        return alt;\n      const title = element.getAttribute("title") || "";\n      if (trimFlatString(title))\n        return title;\n      return "Submit";\n    }\n    if (!labelledBy && tagName === "BUTTON") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n    }\n    if (!labelledBy && tagName === "OUTPUT") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      return element.getAttribute("title") || "";\n    }\n    if (!labelledBy && (tagName === "TEXTAREA" || tagName === "SELECT" || tagName === "INPUT")) {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const usePlaceholder = tagName === "INPUT" && ["text", "password", "search", "tel", "email", "url"].includes(element.type) || tagName === "TEXTAREA";\n      const placeholder = element.getAttribute("placeholder") || "";\n      const title = element.getAttribute("title") || "";\n      if (!usePlaceholder || title)\n        return title;\n      return placeholder;\n    }\n    if (!labelledBy && tagName === "FIELDSET") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "LEGEND") {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInNativeTextAlternative: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (!labelledBy && tagName === "FIGURE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "FIGCAPTION") {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInNativeTextAlternative: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "IMG") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (trimFlatString(alt))\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "TABLE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "CAPTION") {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInNativeTextAlternative: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n      const summary = element.getAttribute("summary") || "";\n      if (summary)\n        return summary;\n    }\n    if (tagName === "AREA") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (trimFlatString(alt))\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (tagName === "SVG" || element.ownerSVGElement) {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (elementSafeTagName(child) === "TITLE" && child.ownerSVGElement) {\n          return getTextAlternativeInternal(child, {\n            ...childOptions,\n            embeddedInLabelledBy: { element: child, hidden: isElementHiddenForAria(child) }\n          });\n        }\n      }\n    }\n    if (element.ownerSVGElement && tagName === "A") {\n      const title = element.getAttribute("xlink:title") || "";\n      if (trimFlatString(title)) {\n        options.visitedElements.add(element);\n        return title;\n      }\n    }\n  }\n  const shouldNameFromContentForSummary = tagName === "SUMMARY" && !["presentation", "none"].includes(role);\n  if (allowsNameFromContent(role, options.embeddedInTargetElement === "descendant") || shouldNameFromContentForSummary || !!options.embeddedInLabelledBy || !!options.embeddedInDescribedBy || !!options.embeddedInLabel || !!options.embeddedInNativeTextAlternative) {\n    options.visitedElements.add(element);\n    const accessibleName = innerAccumulatedElementText(element, childOptions);\n    const maybeTrimmedAccessibleName = options.embeddedInTargetElement === "self" ? trimFlatString(accessibleName) : accessibleName;\n    if (maybeTrimmedAccessibleName)\n      return accessibleName;\n  }\n  if (!["presentation", "none"].includes(role) || tagName === "IFRAME") {\n    options.visitedElements.add(element);\n    const title = element.getAttribute("title") || "";\n    if (trimFlatString(title))\n      return title;\n  }\n  options.visitedElements.add(element);\n  return "";\n}\nfunction innerAccumulatedElementText(element, options) {\n  const tokens = [];\n  const visit = (node, skipSlotted) => {\n    var _a;\n    if (skipSlotted && node.assignedSlot)\n      return;\n    if (node.nodeType === 1) {\n      const display = ((_a = getElementComputedStyle(node)) == null ? void 0 : _a.display) || "inline";\n      let token = getTextAlternativeInternal(node, options);\n      if (display !== "inline" || node.nodeName === "BR")\n        token = " " + token + " ";\n      tokens.push(token);\n    } else if (node.nodeType === 3) {\n      tokens.push(node.textContent || "");\n    }\n  };\n  tokens.push(getCSSContent(element, "::before") || "");\n  const content = getCSSContent(element);\n  if (content !== void 0) {\n    tokens.push(content);\n  } else {\n    const assignedNodes = element.nodeName === "SLOT" ? element.assignedNodes() : [];\n    if (assignedNodes.length) {\n      for (const child of assignedNodes)\n        visit(child, false);\n    } else {\n      for (let child = element.firstChild; child; child = child.nextSibling)\n        visit(child, true);\n      if (element.shadowRoot) {\n        for (let child = element.shadowRoot.firstChild; child; child = child.nextSibling)\n          visit(child, true);\n      }\n      for (const owned of getIdRefs(element, element.getAttribute("aria-owns")))\n        visit(owned, true);\n    }\n  }\n  tokens.push(getCSSContent(element, "::after") || "");\n  return tokens.join("");\n}\nvar kAriaSelectedRoles = ["gridcell", "option", "row", "tab", "rowheader", "columnheader", "treeitem"];\nfunction getAriaSelected(element) {\n  if (elementSafeTagName(element) === "OPTION")\n    return element.selected;\n  if (kAriaSelectedRoles.includes(getAriaRole(element) || ""))\n    return getAriaBoolean(element.getAttribute("aria-selected")) === true;\n  return false;\n}\nvar kAriaCheckedRoles = ["checkbox", "menuitemcheckbox", "option", "radio", "switch", "menuitemradio", "treeitem"];\nfunction getAriaChecked(element) {\n  const result = getChecked(element, true);\n  return result === "error" ? false : result;\n}\nfunction getCheckedAllowMixed(element) {\n  return getChecked(element, true);\n}\nfunction getCheckedWithoutMixed(element) {\n  const result = getChecked(element, false);\n  return result;\n}\nfunction getChecked(element, allowMixed) {\n  const tagName = elementSafeTagName(element);\n  if (allowMixed && tagName === "INPUT" && element.indeterminate)\n    return "mixed";\n  if (tagName === "INPUT" && ["checkbox", "radio"].includes(element.type))\n    return element.checked;\n  if (kAriaCheckedRoles.includes(getAriaRole(element) || "")) {\n    const checked = element.getAttribute("aria-checked");\n    if (checked === "true")\n      return true;\n    if (allowMixed && checked === "mixed")\n      return "mixed";\n    return false;\n  }\n  return "error";\n}\nvar kAriaReadonlyRoles = ["checkbox", "combobox", "grid", "gridcell", "listbox", "radiogroup", "slider", "spinbutton", "textbox", "columnheader", "rowheader", "searchbox", "switch", "treegrid"];\nfunction getReadonly(element) {\n  const tagName = elementSafeTagName(element);\n  if (["INPUT", "TEXTAREA", "SELECT"].includes(tagName))\n    return element.hasAttribute("readonly");\n  if (kAriaReadonlyRoles.includes(getAriaRole(element) || ""))\n    return element.getAttribute("aria-readonly") === "true";\n  if (element.isContentEditable)\n    return false;\n  return "error";\n}\nvar kAriaPressedRoles = ["button"];\nfunction getAriaPressed(element) {\n  if (kAriaPressedRoles.includes(getAriaRole(element) || "")) {\n    const pressed = element.getAttribute("aria-pressed");\n    if (pressed === "true")\n      return true;\n    if (pressed === "mixed")\n      return "mixed";\n  }\n  return false;\n}\nvar kAriaExpandedRoles = ["application", "button", "checkbox", "combobox", "gridcell", "link", "listbox", "menuitem", "row", "rowheader", "tab", "treeitem", "columnheader", "menuitemcheckbox", "menuitemradio", "rowheader", "switch"];\nfunction getAriaExpanded(element) {\n  if (elementSafeTagName(element) === "DETAILS")\n    return element.open;\n  if (kAriaExpandedRoles.includes(getAriaRole(element) || "")) {\n    const expanded = element.getAttribute("aria-expanded");\n    if (expanded === null)\n      return void 0;\n    if (expanded === "true")\n      return true;\n    return false;\n  }\n  return void 0;\n}\nvar kAriaLevelRoles = ["heading", "listitem", "row", "treeitem"];\nfunction getAriaLevel(element) {\n  const native = { "H1": 1, "H2": 2, "H3": 3, "H4": 4, "H5": 5, "H6": 6 }[elementSafeTagName(element)];\n  if (native)\n    return native;\n  if (kAriaLevelRoles.includes(getAriaRole(element) || "")) {\n    const attr = element.getAttribute("aria-level");\n    const value = attr === null ? Number.NaN : Number(attr);\n    if (Number.isInteger(value) && value >= 1)\n      return value;\n  }\n  return 0;\n}\nvar kAriaDisabledRoles = ["application", "button", "composite", "gridcell", "group", "input", "link", "menuitem", "scrollbar", "separator", "tab", "checkbox", "columnheader", "combobox", "grid", "listbox", "menu", "menubar", "menuitemcheckbox", "menuitemradio", "option", "radio", "radiogroup", "row", "rowheader", "searchbox", "select", "slider", "spinbutton", "switch", "tablist", "textbox", "toolbar", "tree", "treegrid", "treeitem"];\nfunction getAriaDisabled(element) {\n  return isNativelyDisabled(element) || hasExplicitAriaDisabled(element);\n}\nfunction isNativelyDisabled(element) {\n  const isNativeFormControl = ["BUTTON", "INPUT", "SELECT", "TEXTAREA", "OPTION", "OPTGROUP"].includes(elementSafeTagName(element));\n  return isNativeFormControl && (element.hasAttribute("disabled") || belongsToDisabledOptGroup(element) || belongsToDisabledFieldSet(element));\n}\nfunction belongsToDisabledOptGroup(element) {\n  return elementSafeTagName(element) === "OPTION" && !!element.closest("OPTGROUP[DISABLED]");\n}\nfunction belongsToDisabledFieldSet(element) {\n  const fieldSetElement = element == null ? void 0 : element.closest("FIELDSET[DISABLED]");\n  if (!fieldSetElement)\n    return false;\n  const legendElement = fieldSetElement.querySelector(":scope > LEGEND");\n  return !legendElement || !legendElement.contains(element);\n}\nfunction hasExplicitAriaDisabled(element, isAncestor = false) {\n  if (!element)\n    return false;\n  if (isAncestor || kAriaDisabledRoles.includes(getAriaRole(element) || "")) {\n    const attribute = (element.getAttribute("aria-disabled") || "").toLowerCase();\n    if (attribute === "true")\n      return true;\n    if (attribute === "false")\n      return false;\n    return hasExplicitAriaDisabled(parentElementOrShadowHost(element), true);\n  }\n  return false;\n}\nfunction getAccessibleNameFromAssociatedLabels(labels, options) {\n  return [...labels].map((label) => getTextAlternativeInternal(label, {\n    ...options,\n    embeddedInLabel: { element: label, hidden: isElementHiddenForAria(label) },\n    embeddedInNativeTextAlternative: void 0,\n    embeddedInLabelledBy: void 0,\n    embeddedInDescribedBy: void 0,\n    embeddedInTargetElement: void 0\n  })).filter((accessibleName) => !!accessibleName).join(" ");\n}\nfunction receivesPointerEvents(element) {\n  const cache = cachePointerEvents;\n  let e = element;\n  let result;\n  const parents = [];\n  for (; e; e = parentElementOrShadowHost(e)) {\n    const cached = cache.get(e);\n    if (cached !== void 0) {\n      result = cached;\n      break;\n    }\n    parents.push(e);\n    const style = getElementComputedStyle(e);\n    if (!style) {\n      result = true;\n      break;\n    }\n    const value = style.pointerEvents;\n    if (value) {\n      result = value !== "none";\n      break;\n    }\n  }\n  if (result === void 0)\n    result = true;\n  for (const parent of parents)\n    cache.set(parent, result);\n  return result;\n}\nvar cacheAccessibleName;\nvar cacheAccessibleNameHidden;\nvar cacheAccessibleDescription;\nvar cacheAccessibleDescriptionHidden;\nvar cacheAccessibleErrorMessage;\nvar cacheIsHidden;\nvar cachePseudoContent;\nvar cachePseudoContentBefore;\nvar cachePseudoContentAfter;\nvar cachePointerEvents;\nvar cachesCounter2 = 0;\nfunction beginAriaCaches() {\n  beginDOMCaches();\n  ++cachesCounter2;\n  cacheAccessibleName != null ? cacheAccessibleName : cacheAccessibleName = /* @__PURE__ */ new Map();\n  cacheAccessibleNameHidden != null ? cacheAccessibleNameHidden : cacheAccessibleNameHidden = /* @__PURE__ */ new Map();\n  cacheAccessibleDescription != null ? cacheAccessibleDescription : cacheAccessibleDescription = /* @__PURE__ */ new Map();\n  cacheAccessibleDescriptionHidden != null ? cacheAccessibleDescriptionHidden : cacheAccessibleDescriptionHidden = /* @__PURE__ */ new Map();\n  cacheAccessibleErrorMessage != null ? cacheAccessibleErrorMessage : cacheAccessibleErrorMessage = /* @__PURE__ */ new Map();\n  cacheIsHidden != null ? cacheIsHidden : cacheIsHidden = /* @__PURE__ */ new Map();\n  cachePseudoContent != null ? cachePseudoContent : cachePseudoContent = /* @__PURE__ */ new Map();\n  cachePseudoContentBefore != null ? cachePseudoContentBefore : cachePseudoContentBefore = /* @__PURE__ */ new Map();\n  cachePseudoContentAfter != null ? cachePseudoContentAfter : cachePseudoContentAfter = /* @__PURE__ */ new Map();\n  cachePointerEvents != null ? cachePointerEvents : cachePointerEvents = /* @__PURE__ */ new Map();\n}\nfunction endAriaCaches() {\n  if (!--cachesCounter2) {\n    cacheAccessibleName = void 0;\n    cacheAccessibleNameHidden = void 0;\n    cacheAccessibleDescription = void 0;\n    cacheAccessibleDescriptionHidden = void 0;\n    cacheAccessibleErrorMessage = void 0;\n    cacheIsHidden = void 0;\n    cachePseudoContent = void 0;\n    cachePseudoContentBefore = void 0;\n    cachePseudoContentAfter = void 0;\n    cachePointerEvents = void 0;\n  }\n  endDOMCaches();\n}\nvar inputTypeToRole = {\n  "button": "button",\n  "checkbox": "checkbox",\n  "image": "button",\n  "number": "spinbutton",\n  "radio": "radio",\n  "range": "slider",\n  "reset": "button",\n  "submit": "button"\n};\n\n// packages/injected/src/yaml.ts\nfunction yamlEscapeKeyIfNeeded(str) {\n  if (!yamlStringNeedsQuotes(str))\n    return str;\n  return `\'` + str.replace(/\'/g, `\'\'`) + `\'`;\n}\nfunction yamlEscapeValueIfNeeded(str) {\n  if (!yamlStringNeedsQuotes(str))\n    return str;\n  return \'"\' + str.replace(/[\\\\"\\x00-\\x1f\\x7f-\\x9f]/g, (c) => {\n    switch (c) {\n      case "\\\\":\n        return "\\\\\\\\";\n      case \'"\':\n        return \'\\\\"\';\n      case "\\b":\n        return "\\\\b";\n      case "\\f":\n        return "\\\\f";\n      case "\\n":\n        return "\\\\n";\n      case "\\r":\n        return "\\\\r";\n      case "\t":\n        return "\\\\t";\n      default:\n        const code = c.charCodeAt(0);\n        return "\\\\x" + code.toString(16).padStart(2, "0");\n    }\n  }) + \'"\';\n}\nfunction yamlStringNeedsQuotes(str) {\n  if (str.length === 0)\n    return true;\n  if (/^\\s|\\s$/.test(str))\n    return true;\n  if (/[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f-\\x9f]/.test(str))\n    return true;\n  if (/^-/.test(str))\n    return true;\n  if (/[\\n:](\\s|$)/.test(str))\n    return true;\n  if (/\\s#/.test(str))\n    return true;\n  if (/[\\n\\r]/.test(str))\n    return true;\n  if (/^[&*\\],?!>|@"\'#%]/.test(str))\n    return true;\n  if (/[{}`]/.test(str))\n    return true;\n  if (/^\\[/.test(str))\n    return true;\n  if (!isNaN(Number(str)) || ["y", "n", "yes", "no", "true", "false", "on", "off", "null"].includes(str.toLowerCase()))\n    return true;\n  return false;\n}\n\n// packages/injected/src/ariaSnapshot.ts\nvar lastRef = 0;\nfunction toInternalOptions(options) {\n  if (options.mode === "ai") {\n    return {\n      visibility: "ariaOrVisible",\n      refs: "interactable",\n      refPrefix: options.refPrefix,\n      includeGenericRole: true,\n      renderActive: true,\n      renderCursorPointer: true\n    };\n  }\n  if (options.mode === "autoexpect") {\n    return { visibility: "ariaAndVisible", refs: "none" };\n  }\n  if (options.mode === "codegen") {\n    return { visibility: "aria", refs: "none", renderStringsAsRegex: true };\n  }\n  return { visibility: "aria", refs: "none" };\n}\nfunction generateAriaTree(rootElement, publicOptions) {\n  const options = toInternalOptions(publicOptions);\n  const visited = /* @__PURE__ */ new Set();\n  const snapshot = {\n    root: { role: "fragment", name: "", children: [], element: rootElement, props: {}, box: computeBox(rootElement), receivesPointerEvents: true },\n    elements: /* @__PURE__ */ new Map(),\n    refs: /* @__PURE__ */ new Map()\n  };\n  const visit = (ariaNode, node, parentElementVisible) => {\n    if (visited.has(node))\n      return;\n    visited.add(node);\n    if (node.nodeType === Node.TEXT_NODE && node.nodeValue) {\n      if (!parentElementVisible)\n        return;\n      const text = node.nodeValue;\n      if (ariaNode.role !== "textbox" && text)\n        ariaNode.children.push(node.nodeValue || "");\n      return;\n    }\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return;\n    const element = node;\n    const isElementVisibleForAria = !isElementHiddenForAria(element);\n    let visible = isElementVisibleForAria;\n    if (options.visibility === "ariaOrVisible")\n      visible = isElementVisibleForAria || isElementVisible(element);\n    if (options.visibility === "ariaAndVisible")\n      visible = isElementVisibleForAria && isElementVisible(element);\n    if (options.visibility === "aria" && !visible)\n      return;\n    const ariaChildren = [];\n    if (element.hasAttribute("aria-owns")) {\n      const ids = element.getAttribute("aria-owns").split(/\\s+/);\n      for (const id of ids) {\n        const ownedElement = rootElement.ownerDocument.getElementById(id);\n        if (ownedElement)\n          ariaChildren.push(ownedElement);\n      }\n    }\n    const childAriaNode = visible ? toAriaNode(element, options) : null;\n    if (childAriaNode) {\n      if (childAriaNode.ref) {\n        snapshot.elements.set(childAriaNode.ref, element);\n        snapshot.refs.set(element, childAriaNode.ref);\n      }\n      ariaNode.children.push(childAriaNode);\n    }\n    processElement(childAriaNode || ariaNode, element, ariaChildren, visible);\n  };\n  function processElement(ariaNode, element, ariaChildren, parentElementVisible) {\n    var _a;\n    const display = ((_a = getElementComputedStyle(element)) == null ? void 0 : _a.display) || "inline";\n    const treatAsBlock = display !== "inline" || element.nodeName === "BR" ? " " : "";\n    if (treatAsBlock)\n      ariaNode.children.push(treatAsBlock);\n    ariaNode.children.push(getCSSContent(element, "::before") || "");\n    const assignedNodes = element.nodeName === "SLOT" ? element.assignedNodes() : [];\n    if (assignedNodes.length) {\n      for (const child of assignedNodes)\n        visit(ariaNode, child, parentElementVisible);\n    } else {\n      for (let child = element.firstChild; child; child = child.nextSibling) {\n        if (!child.assignedSlot)\n          visit(ariaNode, child, parentElementVisible);\n      }\n      if (element.shadowRoot) {\n        for (let child = element.shadowRoot.firstChild; child; child = child.nextSibling)\n          visit(ariaNode, child, parentElementVisible);\n      }\n    }\n    for (const child of ariaChildren)\n      visit(ariaNode, child, parentElementVisible);\n    ariaNode.children.push(getCSSContent(element, "::after") || "");\n    if (treatAsBlock)\n      ariaNode.children.push(treatAsBlock);\n    if (ariaNode.children.length === 1 && ariaNode.name === ariaNode.children[0])\n      ariaNode.children = [];\n    if (ariaNode.role === "link" && element.hasAttribute("href")) {\n      const href = element.getAttribute("href");\n      ariaNode.props["url"] = href;\n    }\n    if (ariaNode.role === "textbox" && element.hasAttribute("placeholder") && element.getAttribute("placeholder") !== ariaNode.name) {\n      const placeholder = element.getAttribute("placeholder");\n      ariaNode.props["placeholder"] = placeholder;\n    }\n  }\n  beginAriaCaches();\n  try {\n    visit(snapshot.root, rootElement, true);\n  } finally {\n    endAriaCaches();\n  }\n  normalizeStringChildren(snapshot.root);\n  normalizeGenericRoles(snapshot.root);\n  return snapshot;\n}\nfunction computeAriaRef(ariaNode, options) {\n  var _a;\n  if (options.refs === "none")\n    return;\n  if (options.refs === "interactable" && (!ariaNode.box.visible || !ariaNode.receivesPointerEvents))\n    return;\n  let ariaRef;\n  ariaRef = ariaNode.element._ariaRef;\n  if (!ariaRef || ariaRef.role !== ariaNode.role || ariaRef.name !== ariaNode.name) {\n    ariaRef = { role: ariaNode.role, name: ariaNode.name, ref: ((_a = options.refPrefix) != null ? _a : "") + "e" + ++lastRef };\n    ariaNode.element._ariaRef = ariaRef;\n  }\n  ariaNode.ref = ariaRef.ref;\n}\nfunction toAriaNode(element, options) {\n  var _a;\n  const active = element.ownerDocument.activeElement === element;\n  if (element.nodeName === "IFRAME") {\n    const ariaNode = {\n      role: "iframe",\n      name: "",\n      children: [],\n      props: {},\n      element,\n      box: computeBox(element),\n      receivesPointerEvents: true,\n      active\n    };\n    computeAriaRef(ariaNode, options);\n    return ariaNode;\n  }\n  const defaultRole = options.includeGenericRole ? "generic" : null;\n  const role = (_a = getAriaRole(element)) != null ? _a : defaultRole;\n  if (!role || role === "presentation" || role === "none")\n    return null;\n  const name = normalizeWhiteSpace(getElementAccessibleName(element, false) || "");\n  const receivesPointerEvents2 = receivesPointerEvents(element);\n  const box = computeBox(element);\n  if (role === "generic" && box.inline && element.childNodes.length === 1 && element.childNodes[0].nodeType === Node.TEXT_NODE)\n    return null;\n  const result = {\n    role,\n    name,\n    children: [],\n    props: {},\n    element,\n    box,\n    receivesPointerEvents: receivesPointerEvents2,\n    active\n  };\n  computeAriaRef(result, options);\n  if (kAriaCheckedRoles.includes(role))\n    result.checked = getAriaChecked(element);\n  if (kAriaDisabledRoles.includes(role))\n    result.disabled = getAriaDisabled(element);\n  if (kAriaExpandedRoles.includes(role))\n    result.expanded = getAriaExpanded(element);\n  if (kAriaLevelRoles.includes(role))\n    result.level = getAriaLevel(element);\n  if (kAriaPressedRoles.includes(role))\n    result.pressed = getAriaPressed(element);\n  if (kAriaSelectedRoles.includes(role))\n    result.selected = getAriaSelected(element);\n  if (element instanceof HTMLInputElement || element instanceof HTMLTextAreaElement) {\n    if (element.type !== "checkbox" && element.type !== "radio" && element.type !== "file")\n      result.children = [element.value];\n  }\n  return result;\n}\nfunction normalizeGenericRoles(node) {\n  const normalizeChildren = (node2) => {\n    const result = [];\n    for (const child of node2.children || []) {\n      if (typeof child === "string") {\n        result.push(child);\n        continue;\n      }\n      const normalized = normalizeChildren(child);\n      result.push(...normalized);\n    }\n    const removeSelf = node2.role === "generic" && !node2.name && result.length <= 1 && result.every((c) => typeof c !== "string" && !!c.ref);\n    if (removeSelf)\n      return result;\n    node2.children = result;\n    return [node2];\n  };\n  normalizeChildren(node);\n}\nfunction normalizeStringChildren(rootA11yNode) {\n  const flushChildren = (buffer, normalizedChildren) => {\n    if (!buffer.length)\n      return;\n    const text = normalizeWhiteSpace(buffer.join(""));\n    if (text)\n      normalizedChildren.push(text);\n    buffer.length = 0;\n  };\n  const visit = (ariaNode) => {\n    const normalizedChildren = [];\n    const buffer = [];\n    for (const child of ariaNode.children || []) {\n      if (typeof child === "string") {\n        buffer.push(child);\n      } else {\n        flushChildren(buffer, normalizedChildren);\n        visit(child);\n        normalizedChildren.push(child);\n      }\n    }\n    flushChildren(buffer, normalizedChildren);\n    ariaNode.children = normalizedChildren.length ? normalizedChildren : [];\n    if (ariaNode.children.length === 1 && ariaNode.children[0] === ariaNode.name)\n      ariaNode.children = [];\n  };\n  visit(rootA11yNode);\n}\nfunction matchesStringOrRegex(text, template) {\n  if (!template)\n    return true;\n  if (!text)\n    return false;\n  if (typeof template === "string")\n    return text === template;\n  return !!text.match(new RegExp(template.pattern));\n}\nfunction matchesTextValue(text, template) {\n  if (!(template == null ? void 0 : template.normalized))\n    return true;\n  if (!text)\n    return false;\n  if (text === template.normalized)\n    return true;\n  if (text === template.raw)\n    return true;\n  const regex = cachedRegex(template);\n  if (regex)\n    return !!text.match(regex);\n  return false;\n}\nvar cachedRegexSymbol = Symbol("cachedRegex");\nfunction cachedRegex(template) {\n  if (template[cachedRegexSymbol] !== void 0)\n    return template[cachedRegexSymbol];\n  const { raw } = template;\n  const canBeRegex = raw.startsWith("/") && raw.endsWith("/") && raw.length > 1;\n  let regex;\n  try {\n    regex = canBeRegex ? new RegExp(raw.slice(1, -1)) : null;\n  } catch (e) {\n    regex = null;\n  }\n  template[cachedRegexSymbol] = regex;\n  return regex;\n}\nfunction matchesExpectAriaTemplate(rootElement, template) {\n  const snapshot = generateAriaTree(rootElement, { mode: "expect" });\n  const matches = matchesNodeDeep(snapshot.root, template, false, false);\n  return {\n    matches,\n    received: {\n      raw: renderAriaTree(snapshot, { mode: "expect" }),\n      regex: renderAriaTree(snapshot, { mode: "codegen" })\n    }\n  };\n}\nfunction getAllElementsMatchingExpectAriaTemplate(rootElement, template) {\n  const root = generateAriaTree(rootElement, { mode: "expect" }).root;\n  const matches = matchesNodeDeep(root, template, true, false);\n  return matches.map((n) => n.element);\n}\nfunction matchesNode(node, template, isDeepEqual) {\n  var _a;\n  if (typeof node === "string" && template.kind === "text")\n    return matchesTextValue(node, template.text);\n  if (node === null || typeof node !== "object" || template.kind !== "role")\n    return false;\n  if (template.role !== "fragment" && template.role !== node.role)\n    return false;\n  if (template.checked !== void 0 && template.checked !== node.checked)\n    return false;\n  if (template.disabled !== void 0 && template.disabled !== node.disabled)\n    return false;\n  if (template.expanded !== void 0 && template.expanded !== node.expanded)\n    return false;\n  if (template.level !== void 0 && template.level !== node.level)\n    return false;\n  if (template.pressed !== void 0 && template.pressed !== node.pressed)\n    return false;\n  if (template.selected !== void 0 && template.selected !== node.selected)\n    return false;\n  if (!matchesStringOrRegex(node.name, template.name))\n    return false;\n  if (!matchesTextValue(node.props.url, (_a = template.props) == null ? void 0 : _a.url))\n    return false;\n  if (template.containerMode === "contain")\n    return containsList(node.children || [], template.children || []);\n  if (template.containerMode === "equal")\n    return listEqual(node.children || [], template.children || [], false);\n  if (template.containerMode === "deep-equal" || isDeepEqual)\n    return listEqual(node.children || [], template.children || [], true);\n  return containsList(node.children || [], template.children || []);\n}\nfunction listEqual(children, template, isDeepEqual) {\n  if (template.length !== children.length)\n    return false;\n  for (let i = 0; i < template.length; ++i) {\n    if (!matchesNode(children[i], template[i], isDeepEqual))\n      return false;\n  }\n  return true;\n}\nfunction containsList(children, template) {\n  if (template.length > children.length)\n    return false;\n  const cc = children.slice();\n  const tt = template.slice();\n  for (const t of tt) {\n    let c = cc.shift();\n    while (c) {\n      if (matchesNode(c, t, false))\n        break;\n      c = cc.shift();\n    }\n    if (!c)\n      return false;\n  }\n  return true;\n}\nfunction matchesNodeDeep(root, template, collectAll, isDeepEqual) {\n  const results = [];\n  const visit = (node, parent) => {\n    if (matchesNode(node, template, isDeepEqual)) {\n      const result = typeof node === "string" ? parent : node;\n      if (result)\n        results.push(result);\n      return !collectAll;\n    }\n    if (typeof node === "string")\n      return false;\n    for (const child of node.children || []) {\n      if (visit(child, node))\n        return true;\n    }\n    return false;\n  };\n  visit(root, null);\n  return results;\n}\nfunction renderAriaTree(ariaSnapshot, publicOptions) {\n  const options = toInternalOptions(publicOptions);\n  const lines = [];\n  const includeText = options.renderStringsAsRegex ? textContributesInfo : () => true;\n  const renderString = options.renderStringsAsRegex ? convertToBestGuessRegex : (str) => str;\n  const visit = (ariaNode2, parentAriaNode, indent, renderCursorPointer) => {\n    if (typeof ariaNode2 === "string") {\n      if (parentAriaNode && !includeText(parentAriaNode, ariaNode2))\n        return;\n      const text = yamlEscapeValueIfNeeded(renderString(ariaNode2));\n      if (text)\n        lines.push(indent + "- text: " + text);\n      return;\n    }\n    let key = ariaNode2.role;\n    if (ariaNode2.name && ariaNode2.name.length <= 900) {\n      const name = renderString(ariaNode2.name);\n      if (name) {\n        const stringifiedName = name.startsWith("/") && name.endsWith("/") ? name : JSON.stringify(name);\n        key += " " + stringifiedName;\n      }\n    }\n    if (ariaNode2.checked === "mixed")\n      key += ` [checked=mixed]`;\n    if (ariaNode2.checked === true)\n      key += ` [checked]`;\n    if (ariaNode2.disabled)\n      key += ` [disabled]`;\n    if (ariaNode2.expanded)\n      key += ` [expanded]`;\n    if (ariaNode2.active && options.renderActive)\n      key += ` [active]`;\n    if (ariaNode2.level)\n      key += ` [level=${ariaNode2.level}]`;\n    if (ariaNode2.pressed === "mixed")\n      key += ` [pressed=mixed]`;\n    if (ariaNode2.pressed === true)\n      key += ` [pressed]`;\n    if (ariaNode2.selected === true)\n      key += ` [selected]`;\n    let inCursorPointer = false;\n    if (ariaNode2.ref) {\n      key += ` [ref=${ariaNode2.ref}]`;\n      if (renderCursorPointer && hasPointerCursor(ariaNode2)) {\n        inCursorPointer = true;\n        key += " [cursor=pointer]";\n      }\n    }\n    const escapedKey = indent + "- " + yamlEscapeKeyIfNeeded(key);\n    const hasProps = !!Object.keys(ariaNode2.props).length;\n    if (!ariaNode2.children.length && !hasProps) {\n      lines.push(escapedKey);\n    } else if (ariaNode2.children.length === 1 && typeof ariaNode2.children[0] === "string" && !hasProps) {\n      const text = includeText(ariaNode2, ariaNode2.children[0]) ? renderString(ariaNode2.children[0]) : null;\n      if (text)\n        lines.push(escapedKey + ": " + yamlEscapeValueIfNeeded(text));\n      else\n        lines.push(escapedKey);\n    } else {\n      lines.push(escapedKey + ":");\n      for (const [name, value] of Object.entries(ariaNode2.props))\n        lines.push(indent + "  - /" + name + ": " + yamlEscapeValueIfNeeded(value));\n      for (const child of ariaNode2.children || [])\n        visit(child, ariaNode2, indent + "  ", renderCursorPointer && !inCursorPointer);\n    }\n  };\n  const ariaNode = ariaSnapshot.root;\n  if (ariaNode.role === "fragment") {\n    for (const child of ariaNode.children || [])\n      visit(child, ariaNode, "", !!options.renderCursorPointer);\n  } else {\n    visit(ariaNode, null, "", !!options.renderCursorPointer);\n  }\n  return lines.join("\\n");\n}\nfunction convertToBestGuessRegex(text) {\n  const dynamicContent = [\n    // 2mb\n    { regex: /\\b[\\d,.]+[bkmBKM]+\\b/, replacement: "[\\\\d,.]+[bkmBKM]+" },\n    // 2ms, 20s\n    { regex: /\\b\\d+[hmsp]+\\b/, replacement: "\\\\d+[hmsp]+" },\n    { regex: /\\b[\\d,.]+[hmsp]+\\b/, replacement: "[\\\\d,.]+[hmsp]+" },\n    // Do not replace single digits with regex by default.\n    // 2+ digits: [Issue 22, 22.3, 2.33, 2,333]\n    { regex: /\\b\\d+,\\d+\\b/, replacement: "\\\\d+,\\\\d+" },\n    { regex: /\\b\\d+\\.\\d{2,}\\b/, replacement: "\\\\d+\\\\.\\\\d+" },\n    { regex: /\\b\\d{2,}\\.\\d+\\b/, replacement: "\\\\d+\\\\.\\\\d+" },\n    { regex: /\\b\\d{2,}\\b/, replacement: "\\\\d+" }\n  ];\n  let pattern = "";\n  let lastIndex = 0;\n  const combinedRegex = new RegExp(dynamicContent.map((r) => "(" + r.regex.source + ")").join("|"), "g");\n  text.replace(combinedRegex, (match, ...args) => {\n    const offset = args[args.length - 2];\n    const groups = args.slice(0, -2);\n    pattern += escapeRegExp(text.slice(lastIndex, offset));\n    for (let i = 0; i < groups.length; i++) {\n      if (groups[i]) {\n        const { replacement } = dynamicContent[i];\n        pattern += replacement;\n        break;\n      }\n    }\n    lastIndex = offset + match.length;\n    return match;\n  });\n  if (!pattern)\n    return text;\n  pattern += escapeRegExp(text.slice(lastIndex));\n  return String(new RegExp(pattern));\n}\nfunction textContributesInfo(node, text) {\n  if (!text.length)\n    return false;\n  if (!node.name)\n    return true;\n  if (node.name.length > text.length)\n    return false;\n  const substr = text.length <= 200 && node.name.length <= 200 ? longestCommonSubstring(text, node.name) : "";\n  let filtered = text;\n  while (substr && filtered.includes(substr))\n    filtered = filtered.replace(substr, "");\n  return filtered.trim().length / text.length > 0.1;\n}\nfunction hasPointerCursor(ariaNode) {\n  var _a;\n  return ((_a = ariaNode.box.style) == null ? void 0 : _a.cursor) === "pointer";\n}\n\n// packages/injected/src/highlight.css?inline\nvar highlight_default = ":host{font-size:13px;font-family:system-ui,Ubuntu,Droid Sans,sans-serif;color:#333}svg{position:absolute;height:0}x-pw-tooltip{backdrop-filter:blur(5px);background-color:#fff;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:none;font-size:12.8px;font-weight:400;left:0;line-height:1.5;max-width:600px;position:absolute;top:0;padding:0;flex-direction:column;overflow:hidden}x-pw-tooltip-line{display:flex;max-width:600px;padding:6px;user-select:none;cursor:pointer}x-pw-tooltip-footer{display:flex;max-width:600px;padding:6px;user-select:none;color:#777}x-pw-dialog{background-color:#fff;pointer-events:auto;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:flex;flex-direction:column;position:absolute;z-index:10;font-size:13px}x-pw-dialog:not(.autosize){width:400px;height:150px}x-pw-dialog-body{display:flex;flex-direction:column;flex:auto}x-pw-dialog-body label{margin:5px 8px;display:flex;flex-direction:row;align-items:center}x-pw-highlight{position:absolute;top:0;left:0;width:0;height:0}x-pw-action-point{position:absolute;width:20px;height:20px;background:red;border-radius:10px;margin:-10px 0 0 -10px;z-index:2}x-pw-separator{height:1px;margin:6px 9px;background:#949494e5}x-pw-tool-gripper{height:28px;width:24px;margin:2px 0;cursor:grab}x-pw-tool-gripper:active{cursor:grabbing}x-pw-tool-gripper>x-div{width:16px;height:16px;margin:6px 4px;clip-path:url(#icon-gripper);background-color:#555}x-pw-tools-list>label{display:flex;align-items:center;margin:0 10px;user-select:none}x-pw-tools-list{display:flex;width:100%;border-bottom:1px solid #dddddd}x-pw-tool-item{pointer-events:auto;height:28px;width:28px;border-radius:3px}x-pw-tool-item:not(.disabled){cursor:pointer}x-pw-tool-item:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.toggled{background-color:#8acae480}x-pw-tool-item.toggled:not(.disabled):hover{background-color:#8acae4c4}x-pw-tool-item>x-div{width:16px;height:16px;margin:6px;background-color:#3a3a3a}x-pw-tool-item.disabled>x-div{background-color:#61616180;cursor:default}x-pw-tool-item.record.toggled{background-color:transparent}x-pw-tool-item.record.toggled:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.record.toggled>x-div{background-color:#a1260d}x-pw-tool-item.record.disabled.toggled>x-div{opacity:.8}x-pw-tool-item.accept>x-div{background-color:#388a34}x-pw-tool-item.record>x-div{clip-path:url(#icon-circle-large-filled)}x-pw-tool-item.record.toggled>x-div{clip-path:url(#icon-stop-circle)}x-pw-tool-item.pick-locator>x-div{clip-path:url(#icon-inspect)}x-pw-tool-item.text>x-div{clip-path:url(#icon-whole-word)}x-pw-tool-item.visibility>x-div{clip-path:url(#icon-eye)}x-pw-tool-item.value>x-div{clip-path:url(#icon-symbol-constant)}x-pw-tool-item.snapshot>x-div{clip-path:url(#icon-gist)}x-pw-tool-item.accept>x-div{clip-path:url(#icon-check)}x-pw-tool-item.cancel>x-div{clip-path:url(#icon-close)}x-pw-tool-item.succeeded>x-div{clip-path:url(#icon-pass);background-color:#388a34!important}x-pw-overlay{position:absolute;top:0;max-width:min-content;z-index:2147483647;background:transparent;pointer-events:auto}x-pw-overlay x-pw-tools-list{background-color:#fffd;box-shadow:#0000001a 0 5px 5px;border-radius:3px;border-bottom:none}x-pw-overlay x-pw-tool-item{margin:2px}textarea.text-editor{font-family:system-ui,Ubuntu,Droid Sans,sans-serif;flex:auto;border:none;margin:6px 10px;color:#333;outline:1px solid transparent!important;resize:none;padding:0;font-size:13px}textarea.text-editor.does-not-match{outline:1px solid red!important}x-div{display:block}x-spacer{flex:auto}*{box-sizing:border-box}*[hidden]{display:none!important}x-locator-editor{flex:none;width:100%;height:60px;padding:4px;border-bottom:1px solid #dddddd;outline:1px solid transparent}x-locator-editor.does-not-match{outline:1px solid red}.CodeMirror{width:100%!important;height:100%!important}x-pw-action-list{flex:auto;display:flex;flex-direction:column;user-select:none}x-pw-action-item{padding:6px 10px;cursor:pointer;overflow:hidden}x-pw-action-item:hover{background-color:#f2f2f2}x-pw-action-item:last-child{border-bottom-left-radius:6px;border-bottom-right-radius:6px}\\n";\n\n// packages/injected/src/highlight.ts\nvar Highlight = class {\n  constructor(injectedScript) {\n    this._renderedEntries = [];\n    this._language = "javascript";\n    this._injectedScript = injectedScript;\n    const document = injectedScript.document;\n    this._isUnderTest = injectedScript.isUnderTest;\n    this._glassPaneElement = document.createElement("x-pw-glass");\n    this._glassPaneElement.style.position = "fixed";\n    this._glassPaneElement.style.top = "0";\n    this._glassPaneElement.style.right = "0";\n    this._glassPaneElement.style.bottom = "0";\n    this._glassPaneElement.style.left = "0";\n    this._glassPaneElement.style.zIndex = "2147483647";\n    this._glassPaneElement.style.pointerEvents = "none";\n    this._glassPaneElement.style.display = "flex";\n    this._glassPaneElement.style.backgroundColor = "transparent";\n    this._actionPointElement = document.createElement("x-pw-action-point");\n    this._actionPointElement.setAttribute("hidden", "true");\n    this._glassPaneShadow = this._glassPaneElement.attachShadow({ mode: this._isUnderTest ? "open" : "closed" });\n    if (typeof this._glassPaneShadow.adoptedStyleSheets.push === "function") {\n      const sheet = new this._injectedScript.window.CSSStyleSheet();\n      sheet.replaceSync(highlight_default);\n      this._glassPaneShadow.adoptedStyleSheets.push(sheet);\n    } else {\n      const styleElement = this._injectedScript.document.createElement("style");\n      styleElement.textContent = highlight_default;\n      this._glassPaneShadow.appendChild(styleElement);\n    }\n    this._glassPaneShadow.appendChild(this._actionPointElement);\n  }\n  install() {\n    if (!this._injectedScript.document.documentElement)\n      return;\n    if (!this._injectedScript.document.documentElement.contains(this._glassPaneElement) || this._glassPaneElement.nextElementSibling)\n      this._injectedScript.document.documentElement.appendChild(this._glassPaneElement);\n  }\n  setLanguage(language) {\n    this._language = language;\n  }\n  runHighlightOnRaf(selector) {\n    if (this._rafRequest)\n      this._injectedScript.utils.builtins.cancelAnimationFrame(this._rafRequest);\n    const elements = this._injectedScript.querySelectorAll(selector, this._injectedScript.document.documentElement);\n    const locator = asLocator(this._language, stringifySelector(selector));\n    const color = elements.length > 1 ? "#f6b26b7f" : "#6fa8dc7f";\n    this.updateHighlight(elements.map((element, index) => {\n      const suffix = elements.length > 1 ? ` [${index + 1} of ${elements.length}]` : "";\n      return { element, color, tooltipText: locator + suffix };\n    }));\n    this._rafRequest = this._injectedScript.utils.builtins.requestAnimationFrame(() => this.runHighlightOnRaf(selector));\n  }\n  uninstall() {\n    if (this._rafRequest)\n      this._injectedScript.utils.builtins.cancelAnimationFrame(this._rafRequest);\n    this._glassPaneElement.remove();\n  }\n  showActionPoint(x, y) {\n    this._actionPointElement.style.top = y + "px";\n    this._actionPointElement.style.left = x + "px";\n    this._actionPointElement.hidden = false;\n  }\n  hideActionPoint() {\n    this._actionPointElement.hidden = true;\n  }\n  clearHighlight() {\n    var _a, _b;\n    for (const entry of this._renderedEntries) {\n      (_a = entry.highlightElement) == null ? void 0 : _a.remove();\n      (_b = entry.tooltipElement) == null ? void 0 : _b.remove();\n    }\n    this._renderedEntries = [];\n  }\n  maskElements(elements, color) {\n    this.updateHighlight(elements.map((element) => ({ element, color })));\n  }\n  updateHighlight(entries) {\n    if (this._highlightIsUpToDate(entries))\n      return;\n    this.clearHighlight();\n    for (const entry of entries) {\n      const highlightElement = this._createHighlightElement();\n      this._glassPaneShadow.appendChild(highlightElement);\n      let tooltipElement;\n      if (entry.tooltipText) {\n        tooltipElement = this._injectedScript.document.createElement("x-pw-tooltip");\n        this._glassPaneShadow.appendChild(tooltipElement);\n        tooltipElement.style.top = "0";\n        tooltipElement.style.left = "0";\n        tooltipElement.style.display = "flex";\n        const lineElement = this._injectedScript.document.createElement("x-pw-tooltip-line");\n        lineElement.textContent = entry.tooltipText;\n        tooltipElement.appendChild(lineElement);\n      }\n      this._renderedEntries.push({ targetElement: entry.element, color: entry.color, tooltipElement, highlightElement });\n    }\n    for (const entry of this._renderedEntries) {\n      entry.box = entry.targetElement.getBoundingClientRect();\n      if (!entry.tooltipElement)\n        continue;\n      const { anchorLeft, anchorTop } = this.tooltipPosition(entry.box, entry.tooltipElement);\n      entry.tooltipTop = anchorTop;\n      entry.tooltipLeft = anchorLeft;\n    }\n    for (const entry of this._renderedEntries) {\n      if (entry.tooltipElement) {\n        entry.tooltipElement.style.top = entry.tooltipTop + "px";\n        entry.tooltipElement.style.left = entry.tooltipLeft + "px";\n      }\n      const box = entry.box;\n      entry.highlightElement.style.backgroundColor = entry.color;\n      entry.highlightElement.style.left = box.x + "px";\n      entry.highlightElement.style.top = box.y + "px";\n      entry.highlightElement.style.width = box.width + "px";\n      entry.highlightElement.style.height = box.height + "px";\n      entry.highlightElement.style.display = "block";\n      if (this._isUnderTest)\n        console.error("Highlight box for test: " + JSON.stringify({ x: box.x, y: box.y, width: box.width, height: box.height }));\n    }\n  }\n  firstBox() {\n    var _a;\n    return (_a = this._renderedEntries[0]) == null ? void 0 : _a.box;\n  }\n  firstTooltipBox() {\n    const entry = this._renderedEntries[0];\n    if (!entry || !entry.tooltipElement || entry.tooltipLeft === void 0 || entry.tooltipTop === void 0)\n      return;\n    return {\n      x: entry.tooltipLeft,\n      y: entry.tooltipTop,\n      left: entry.tooltipLeft,\n      top: entry.tooltipTop,\n      width: entry.tooltipElement.offsetWidth,\n      height: entry.tooltipElement.offsetHeight,\n      bottom: entry.tooltipTop + entry.tooltipElement.offsetHeight,\n      right: entry.tooltipLeft + entry.tooltipElement.offsetWidth,\n      toJSON: () => {\n      }\n    };\n  }\n  // Note: there is a copy of this method in dialog.tsx. Please fix bugs in both places.\n  tooltipPosition(box, tooltipElement) {\n    const tooltipWidth = tooltipElement.offsetWidth;\n    const tooltipHeight = tooltipElement.offsetHeight;\n    const totalWidth = this._glassPaneElement.offsetWidth;\n    const totalHeight = this._glassPaneElement.offsetHeight;\n    let anchorLeft = Math.max(5, box.left);\n    if (anchorLeft + tooltipWidth > totalWidth - 5)\n      anchorLeft = totalWidth - tooltipWidth - 5;\n    let anchorTop = Math.max(0, box.bottom) + 5;\n    if (anchorTop + tooltipHeight > totalHeight - 5) {\n      if (Math.max(0, box.top) > tooltipHeight + 5) {\n        anchorTop = Math.max(0, box.top) - tooltipHeight - 5;\n      } else {\n        anchorTop = totalHeight - 5 - tooltipHeight;\n      }\n    }\n    return { anchorLeft, anchorTop };\n  }\n  _highlightIsUpToDate(entries) {\n    if (entries.length !== this._renderedEntries.length)\n      return false;\n    for (let i = 0; i < this._renderedEntries.length; ++i) {\n      if (entries[i].element !== this._renderedEntries[i].targetElement)\n        return false;\n      if (entries[i].color !== this._renderedEntries[i].color)\n        return false;\n      const oldBox = this._renderedEntries[i].box;\n      if (!oldBox)\n        return false;\n      const box = entries[i].element.getBoundingClientRect();\n      if (box.top !== oldBox.top || box.right !== oldBox.right || box.bottom !== oldBox.bottom || box.left !== oldBox.left)\n        return false;\n    }\n    return true;\n  }\n  _createHighlightElement() {\n    return this._injectedScript.document.createElement("x-pw-highlight");\n  }\n  appendChild(element) {\n    this._glassPaneShadow.appendChild(element);\n  }\n  onGlassPaneClick(handler) {\n    this._glassPaneElement.style.pointerEvents = "auto";\n    this._glassPaneElement.style.backgroundColor = "rgba(0, 0, 0, 0.3)";\n    this._glassPaneElement.addEventListener("click", handler);\n  }\n  offGlassPaneClick(handler) {\n    this._glassPaneElement.style.pointerEvents = "none";\n    this._glassPaneElement.style.backgroundColor = "transparent";\n    this._glassPaneElement.removeEventListener("click", handler);\n  }\n};\n\n// packages/injected/src/layoutSelectorUtils.ts\nfunction boxRightOf(box1, box2, maxDistance) {\n  const distance = box1.left - box2.right;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box2.bottom - box1.bottom, 0) + Math.max(box1.top - box2.top, 0);\n}\nfunction boxLeftOf(box1, box2, maxDistance) {\n  const distance = box2.left - box1.right;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box2.bottom - box1.bottom, 0) + Math.max(box1.top - box2.top, 0);\n}\nfunction boxAbove(box1, box2, maxDistance) {\n  const distance = box2.top - box1.bottom;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box1.left - box2.left, 0) + Math.max(box2.right - box1.right, 0);\n}\nfunction boxBelow(box1, box2, maxDistance) {\n  const distance = box1.top - box2.bottom;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box1.left - box2.left, 0) + Math.max(box2.right - box1.right, 0);\n}\nfunction boxNear(box1, box2, maxDistance) {\n  const kThreshold = maxDistance === void 0 ? 50 : maxDistance;\n  let score = 0;\n  if (box1.left - box2.right >= 0)\n    score += box1.left - box2.right;\n  if (box2.left - box1.right >= 0)\n    score += box2.left - box1.right;\n  if (box2.top - box1.bottom >= 0)\n    score += box2.top - box1.bottom;\n  if (box1.top - box2.bottom >= 0)\n    score += box1.top - box2.bottom;\n  return score > kThreshold ? void 0 : score;\n}\nvar kLayoutSelectorNames = ["left-of", "right-of", "above", "below", "near"];\nfunction layoutSelectorScore(name, element, inner, maxDistance) {\n  const box = element.getBoundingClientRect();\n  const scorer = { "left-of": boxLeftOf, "right-of": boxRightOf, "above": boxAbove, "below": boxBelow, "near": boxNear }[name];\n  let bestScore;\n  for (const e of inner) {\n    if (e === element)\n      continue;\n    const score = scorer(box, e.getBoundingClientRect(), maxDistance);\n    if (score === void 0)\n      continue;\n    if (bestScore === void 0 || score < bestScore)\n      bestScore = score;\n  }\n  return bestScore;\n}\n\n// packages/injected/src/selectorUtils.ts\nfunction matchesComponentAttribute(obj, attr) {\n  for (const token of attr.jsonPath) {\n    if (obj !== void 0 && obj !== null)\n      obj = obj[token];\n  }\n  return matchesAttributePart(obj, attr);\n}\nfunction matchesAttributePart(value, attr) {\n  const objValue = typeof value === "string" && !attr.caseSensitive ? value.toUpperCase() : value;\n  const attrValue = typeof attr.value === "string" && !attr.caseSensitive ? attr.value.toUpperCase() : attr.value;\n  if (attr.op === "<truthy>")\n    return !!objValue;\n  if (attr.op === "=") {\n    if (attrValue instanceof RegExp)\n      return typeof objValue === "string" && !!objValue.match(attrValue);\n    return objValue === attrValue;\n  }\n  if (typeof objValue !== "string" || typeof attrValue !== "string")\n    return false;\n  if (attr.op === "*=")\n    return objValue.includes(attrValue);\n  if (attr.op === "^=")\n    return objValue.startsWith(attrValue);\n  if (attr.op === "$=")\n    return objValue.endsWith(attrValue);\n  if (attr.op === "|=")\n    return objValue === attrValue || objValue.startsWith(attrValue + "-");\n  if (attr.op === "~=")\n    return objValue.split(" ").includes(attrValue);\n  return false;\n}\nfunction shouldSkipForTextMatching(element) {\n  const document = element.ownerDocument;\n  return element.nodeName === "SCRIPT" || element.nodeName === "NOSCRIPT" || element.nodeName === "STYLE" || document.head && document.head.contains(element);\n}\nfunction elementText(cache, root) {\n  let value = cache.get(root);\n  if (value === void 0) {\n    value = { full: "", normalized: "", immediate: [] };\n    if (!shouldSkipForTextMatching(root)) {\n      let currentImmediate = "";\n      if (root instanceof HTMLInputElement && (root.type === "submit" || root.type === "button")) {\n        value = { full: root.value, normalized: normalizeWhiteSpace(root.value), immediate: [root.value] };\n      } else {\n        for (let child = root.firstChild; child; child = child.nextSibling) {\n          if (child.nodeType === Node.TEXT_NODE) {\n            value.full += child.nodeValue || "";\n            currentImmediate += child.nodeValue || "";\n          } else if (child.nodeType === Node.COMMENT_NODE) {\n            continue;\n          } else {\n            if (currentImmediate)\n              value.immediate.push(currentImmediate);\n            currentImmediate = "";\n            if (child.nodeType === Node.ELEMENT_NODE)\n              value.full += elementText(cache, child).full;\n          }\n        }\n        if (currentImmediate)\n          value.immediate.push(currentImmediate);\n        if (root.shadowRoot)\n          value.full += elementText(cache, root.shadowRoot).full;\n        if (value.full)\n          value.normalized = normalizeWhiteSpace(value.full);\n      }\n    }\n    cache.set(root, value);\n  }\n  return value;\n}\nfunction elementMatchesText(cache, element, matcher) {\n  if (shouldSkipForTextMatching(element))\n    return "none";\n  if (!matcher(elementText(cache, element)))\n    return "none";\n  for (let child = element.firstChild; child; child = child.nextSibling) {\n    if (child.nodeType === Node.ELEMENT_NODE && matcher(elementText(cache, child)))\n      return "selfAndChildren";\n  }\n  if (element.shadowRoot && matcher(elementText(cache, element.shadowRoot)))\n    return "selfAndChildren";\n  return "self";\n}\nfunction getElementLabels(textCache, element) {\n  const labels = getAriaLabelledByElements(element);\n  if (labels)\n    return labels.map((label) => elementText(textCache, label));\n  const ariaLabel = element.getAttribute("aria-label");\n  if (ariaLabel !== null && !!ariaLabel.trim())\n    return [{ full: ariaLabel, normalized: normalizeWhiteSpace(ariaLabel), immediate: [ariaLabel] }];\n  const isNonHiddenInput = element.nodeName === "INPUT" && element.type !== "hidden";\n  if (["BUTTON", "METER", "OUTPUT", "PROGRESS", "SELECT", "TEXTAREA"].includes(element.nodeName) || isNonHiddenInput) {\n    const labels2 = element.labels;\n    if (labels2)\n      return [...labels2].map((label) => elementText(textCache, label));\n  }\n  return [];\n}\n\n// packages/injected/src/reactSelectorEngine.ts\nfunction getFunctionComponentName(component) {\n  return component.displayName || component.name || "Anonymous";\n}\nfunction getComponentName(reactElement) {\n  if (reactElement.type) {\n    switch (typeof reactElement.type) {\n      case "function":\n        return getFunctionComponentName(reactElement.type);\n      case "string":\n        return reactElement.type;\n      case "object":\n        return reactElement.type.displayName || (reactElement.type.render ? getFunctionComponentName(reactElement.type.render) : "");\n    }\n  }\n  if (reactElement._currentElement) {\n    const elementType = reactElement._currentElement.type;\n    if (typeof elementType === "string")\n      return elementType;\n    if (typeof elementType === "function")\n      return elementType.displayName || elementType.name || "Anonymous";\n  }\n  return "";\n}\nfunction getComponentKey(reactElement) {\n  var _a, _b;\n  return (_b = reactElement.key) != null ? _b : (_a = reactElement._currentElement) == null ? void 0 : _a.key;\n}\nfunction getChildren(reactElement) {\n  if (reactElement.child) {\n    const children = [];\n    for (let child = reactElement.child; child; child = child.sibling)\n      children.push(child);\n    return children;\n  }\n  if (!reactElement._currentElement)\n    return [];\n  const isKnownElement = (reactElement2) => {\n    var _a;\n    const elementType = (_a = reactElement2._currentElement) == null ? void 0 : _a.type;\n    return typeof elementType === "function" || typeof elementType === "string";\n  };\n  if (reactElement._renderedComponent) {\n    const child = reactElement._renderedComponent;\n    return isKnownElement(child) ? [child] : [];\n  }\n  if (reactElement._renderedChildren)\n    return [...Object.values(reactElement._renderedChildren)].filter(isKnownElement);\n  return [];\n}\nfunction getProps(reactElement) {\n  var _a;\n  const props = (\n    /* React 16+ */\n    reactElement.memoizedProps || /* React 15 */\n    ((_a = reactElement._currentElement) == null ? void 0 : _a.props)\n  );\n  if (!props || typeof props === "string")\n    return props;\n  const result = { ...props };\n  delete result.children;\n  return result;\n}\nfunction buildComponentsTree(reactElement) {\n  var _a;\n  const treeNode = {\n    key: getComponentKey(reactElement),\n    name: getComponentName(reactElement),\n    children: getChildren(reactElement).map(buildComponentsTree),\n    rootElements: [],\n    props: getProps(reactElement)\n  };\n  const rootElement = (\n    /* React 16+ */\n    reactElement.stateNode || /* React 15 */\n    reactElement._hostNode || /* React 15 */\n    ((_a = reactElement._renderedComponent) == null ? void 0 : _a._hostNode)\n  );\n  if (rootElement instanceof Element) {\n    treeNode.rootElements.push(rootElement);\n  } else {\n    for (const child of treeNode.children)\n      treeNode.rootElements.push(...child.rootElements);\n  }\n  return treeNode;\n}\nfunction filterComponentsTree(treeNode, searchFn, result = []) {\n  if (searchFn(treeNode))\n    result.push(treeNode);\n  for (const child of treeNode.children)\n    filterComponentsTree(child, searchFn, result);\n  return result;\n}\nfunction findReactRoots(root, roots = []) {\n  const document = root.ownerDocument || root;\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);\n  do {\n    const node = walker.currentNode;\n    const reactNode = node;\n    const rootKey = Object.keys(reactNode).find((key) => key.startsWith("__reactContainer") && reactNode[key] !== null);\n    if (rootKey) {\n      roots.push(reactNode[rootKey].stateNode.current);\n    } else {\n      const legacyRootKey = "_reactRootContainer";\n      if (reactNode.hasOwnProperty(legacyRootKey) && reactNode[legacyRootKey] !== null) {\n        roots.push(reactNode[legacyRootKey]._internalRoot.current);\n      }\n    }\n    if (node instanceof Element && node.hasAttribute("data-reactroot")) {\n      for (const key of Object.keys(node)) {\n        if (key.startsWith("__reactInternalInstance") || key.startsWith("__reactFiber"))\n          roots.push(node[key]);\n      }\n    }\n    const shadowRoot = node instanceof Element ? node.shadowRoot : null;\n    if (shadowRoot)\n      findReactRoots(shadowRoot, roots);\n  } while (walker.nextNode());\n  return roots;\n}\nvar createReactEngine = () => ({\n  queryAll(scope, selector) {\n    const { name, attributes } = parseAttributeSelector(selector, false);\n    const reactRoots = findReactRoots(scope.ownerDocument || scope);\n    const trees = reactRoots.map((reactRoot) => buildComponentsTree(reactRoot));\n    const treeNodes = trees.map((tree) => filterComponentsTree(tree, (treeNode) => {\n      var _a;\n      const props = (_a = treeNode.props) != null ? _a : {};\n      if (treeNode.key !== void 0)\n        props.key = treeNode.key;\n      if (name && treeNode.name !== name)\n        return false;\n      if (treeNode.rootElements.some((domNode) => !isInsideScope(scope, domNode)))\n        return false;\n      for (const attr of attributes) {\n        if (!matchesComponentAttribute(props, attr))\n          return false;\n      }\n      return true;\n    })).flat();\n    const allRootElements = /* @__PURE__ */ new Set();\n    for (const treeNode of treeNodes) {\n      for (const domNode of treeNode.rootElements)\n        allRootElements.add(domNode);\n    }\n    return [...allRootElements];\n  }\n});\n\n// packages/injected/src/roleSelectorEngine.ts\nvar kSupportedAttributes = ["selected", "checked", "pressed", "expanded", "level", "disabled", "name", "include-hidden"];\nkSupportedAttributes.sort();\nfunction validateSupportedRole(attr, roles, role) {\n  if (!roles.includes(role))\n    throw new Error(`"${attr}" attribute is only supported for roles: ${roles.slice().sort().map((role2) => `"${role2}"`).join(", ")}`);\n}\nfunction validateSupportedValues(attr, values) {\n  if (attr.op !== "<truthy>" && !values.includes(attr.value))\n    throw new Error(`"${attr.name}" must be one of ${values.map((v) => JSON.stringify(v)).join(", ")}`);\n}\nfunction validateSupportedOp(attr, ops) {\n  if (!ops.includes(attr.op))\n    throw new Error(`"${attr.name}" does not support "${attr.op}" matcher`);\n}\nfunction validateAttributes(attrs, role) {\n  const options = { role };\n  for (const attr of attrs) {\n    switch (attr.name) {\n      case "checked": {\n        validateSupportedRole(attr.name, kAriaCheckedRoles, role);\n        validateSupportedValues(attr, [true, false, "mixed"]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.checked = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "pressed": {\n        validateSupportedRole(attr.name, kAriaPressedRoles, role);\n        validateSupportedValues(attr, [true, false, "mixed"]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.pressed = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "selected": {\n        validateSupportedRole(attr.name, kAriaSelectedRoles, role);\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.selected = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "expanded": {\n        validateSupportedRole(attr.name, kAriaExpandedRoles, role);\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.expanded = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "level": {\n        validateSupportedRole(attr.name, kAriaLevelRoles, role);\n        if (typeof attr.value === "string")\n          attr.value = +attr.value;\n        if (attr.op !== "=" || typeof attr.value !== "number" || Number.isNaN(attr.value))\n          throw new Error(`"level" attribute must be compared to a number`);\n        options.level = attr.value;\n        break;\n      }\n      case "disabled": {\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.disabled = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "name": {\n        if (attr.op === "<truthy>")\n          throw new Error(`"name" attribute must have a value`);\n        if (typeof attr.value !== "string" && !(attr.value instanceof RegExp))\n          throw new Error(`"name" attribute must be a string or a regular expression`);\n        options.name = attr.value;\n        options.nameOp = attr.op;\n        options.exact = attr.caseSensitive;\n        break;\n      }\n      case "include-hidden": {\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.includeHidden = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      default: {\n        throw new Error(`Unknown attribute "${attr.name}", must be one of ${kSupportedAttributes.map((a) => `"${a}"`).join(", ")}.`);\n      }\n    }\n  }\n  return options;\n}\nfunction queryRole(scope, options, internal) {\n  const result = [];\n  const match = (element) => {\n    if (getAriaRole(element) !== options.role)\n      return;\n    if (options.selected !== void 0 && getAriaSelected(element) !== options.selected)\n      return;\n    if (options.checked !== void 0 && getAriaChecked(element) !== options.checked)\n      return;\n    if (options.pressed !== void 0 && getAriaPressed(element) !== options.pressed)\n      return;\n    if (options.expanded !== void 0 && getAriaExpanded(element) !== options.expanded)\n      return;\n    if (options.level !== void 0 && getAriaLevel(element) !== options.level)\n      return;\n    if (options.disabled !== void 0 && getAriaDisabled(element) !== options.disabled)\n      return;\n    if (!options.includeHidden) {\n      const isHidden = isElementHiddenForAria(element);\n      if (isHidden)\n        return;\n    }\n    if (options.name !== void 0) {\n      const accessibleName = normalizeWhiteSpace(getElementAccessibleName(element, !!options.includeHidden));\n      if (typeof options.name === "string")\n        options.name = normalizeWhiteSpace(options.name);\n      if (internal && !options.exact && options.nameOp === "=")\n        options.nameOp = "*=";\n      if (!matchesAttributePart(accessibleName, { name: "", jsonPath: [], op: options.nameOp || "=", value: options.name, caseSensitive: !!options.exact }))\n        return;\n    }\n    result.push(element);\n  };\n  const query = (root) => {\n    const shadows = [];\n    if (root.shadowRoot)\n      shadows.push(root.shadowRoot);\n    for (const element of root.querySelectorAll("*")) {\n      match(element);\n      if (element.shadowRoot)\n        shadows.push(element.shadowRoot);\n    }\n    shadows.forEach(query);\n  };\n  query(scope);\n  return result;\n}\nfunction createRoleEngine(internal) {\n  return {\n    queryAll: (scope, selector) => {\n      const parsed = parseAttributeSelector(selector, true);\n      const role = parsed.name.toLowerCase();\n      if (!role)\n        throw new Error(`Role must not be empty`);\n      const options = validateAttributes(parsed.attributes, role);\n      beginAriaCaches();\n      try {\n        return queryRole(scope, options, internal);\n      } finally {\n        endAriaCaches();\n      }\n    }\n  };\n}\n\n// packages/injected/src/selectorEvaluator.ts\nvar SelectorEvaluatorImpl = class {\n  constructor() {\n    this._retainCacheCounter = 0;\n    this._cacheText = /* @__PURE__ */ new Map();\n    this._cacheQueryCSS = /* @__PURE__ */ new Map();\n    this._cacheMatches = /* @__PURE__ */ new Map();\n    this._cacheQuery = /* @__PURE__ */ new Map();\n    this._cacheMatchesSimple = /* @__PURE__ */ new Map();\n    this._cacheMatchesParents = /* @__PURE__ */ new Map();\n    this._cacheCallMatches = /* @__PURE__ */ new Map();\n    this._cacheCallQuery = /* @__PURE__ */ new Map();\n    this._cacheQuerySimple = /* @__PURE__ */ new Map();\n    this._engines = /* @__PURE__ */ new Map();\n    this._engines.set("not", notEngine);\n    this._engines.set("is", isEngine);\n    this._engines.set("where", isEngine);\n    this._engines.set("has", hasEngine);\n    this._engines.set("scope", scopeEngine);\n    this._engines.set("light", lightEngine);\n    this._engines.set("visible", visibleEngine);\n    this._engines.set("text", textEngine);\n    this._engines.set("text-is", textIsEngine);\n    this._engines.set("text-matches", textMatchesEngine);\n    this._engines.set("has-text", hasTextEngine);\n    this._engines.set("right-of", createLayoutEngine("right-of"));\n    this._engines.set("left-of", createLayoutEngine("left-of"));\n    this._engines.set("above", createLayoutEngine("above"));\n    this._engines.set("below", createLayoutEngine("below"));\n    this._engines.set("near", createLayoutEngine("near"));\n    this._engines.set("nth-match", nthMatchEngine);\n    const allNames = [...this._engines.keys()];\n    allNames.sort();\n    const parserNames = [...customCSSNames];\n    parserNames.sort();\n    if (allNames.join("|") !== parserNames.join("|"))\n      throw new Error(`Please keep customCSSNames in sync with evaluator engines: ${allNames.join("|")} vs ${parserNames.join("|")}`);\n  }\n  begin() {\n    ++this._retainCacheCounter;\n  }\n  end() {\n    --this._retainCacheCounter;\n    if (!this._retainCacheCounter) {\n      this._cacheQueryCSS.clear();\n      this._cacheMatches.clear();\n      this._cacheQuery.clear();\n      this._cacheMatchesSimple.clear();\n      this._cacheMatchesParents.clear();\n      this._cacheCallMatches.clear();\n      this._cacheCallQuery.clear();\n      this._cacheQuerySimple.clear();\n      this._cacheText.clear();\n    }\n  }\n  _cached(cache, main, rest, cb) {\n    if (!cache.has(main))\n      cache.set(main, []);\n    const entries = cache.get(main);\n    const entry = entries.find((e) => rest.every((value, index) => e.rest[index] === value));\n    if (entry)\n      return entry.result;\n    const result = cb();\n    entries.push({ rest, result });\n    return result;\n  }\n  _checkSelector(s) {\n    const wellFormed = typeof s === "object" && s && (Array.isArray(s) || "simples" in s && s.simples.length);\n    if (!wellFormed)\n      throw new Error(`Malformed selector "${s}"`);\n    return s;\n  }\n  matches(element, s, context) {\n    const selector = this._checkSelector(s);\n    this.begin();\n    try {\n      return this._cached(this._cacheMatches, element, [selector, context.scope, context.pierceShadow, context.originalScope], () => {\n        if (Array.isArray(selector))\n          return this._matchesEngine(isEngine, element, selector, context);\n        if (this._hasScopeClause(selector))\n          context = this._expandContextForScopeMatching(context);\n        if (!this._matchesSimple(element, selector.simples[selector.simples.length - 1].selector, context))\n          return false;\n        return this._matchesParents(element, selector, selector.simples.length - 2, context);\n      });\n    } finally {\n      this.end();\n    }\n  }\n  query(context, s) {\n    const selector = this._checkSelector(s);\n    this.begin();\n    try {\n      return this._cached(this._cacheQuery, selector, [context.scope, context.pierceShadow, context.originalScope], () => {\n        if (Array.isArray(selector))\n          return this._queryEngine(isEngine, context, selector);\n        if (this._hasScopeClause(selector))\n          context = this._expandContextForScopeMatching(context);\n        const previousScoreMap = this._scoreMap;\n        this._scoreMap = /* @__PURE__ */ new Map();\n        let elements = this._querySimple(context, selector.simples[selector.simples.length - 1].selector);\n        elements = elements.filter((element) => this._matchesParents(element, selector, selector.simples.length - 2, context));\n        if (this._scoreMap.size) {\n          elements.sort((a, b) => {\n            const aScore = this._scoreMap.get(a);\n            const bScore = this._scoreMap.get(b);\n            if (aScore === bScore)\n              return 0;\n            if (aScore === void 0)\n              return 1;\n            if (bScore === void 0)\n              return -1;\n            return aScore - bScore;\n          });\n        }\n        this._scoreMap = previousScoreMap;\n        return elements;\n      });\n    } finally {\n      this.end();\n    }\n  }\n  _markScore(element, score) {\n    if (this._scoreMap)\n      this._scoreMap.set(element, score);\n  }\n  _hasScopeClause(selector) {\n    return selector.simples.some((simple) => simple.selector.functions.some((f) => f.name === "scope"));\n  }\n  _expandContextForScopeMatching(context) {\n    if (context.scope.nodeType !== 1)\n      return context;\n    const scope = parentElementOrShadowHost(context.scope);\n    if (!scope)\n      return context;\n    return { ...context, scope, originalScope: context.originalScope || context.scope };\n  }\n  _matchesSimple(element, simple, context) {\n    return this._cached(this._cacheMatchesSimple, element, [simple, context.scope, context.pierceShadow, context.originalScope], () => {\n      if (element === context.scope)\n        return false;\n      if (simple.css && !this._matchesCSS(element, simple.css))\n        return false;\n      for (const func of simple.functions) {\n        if (!this._matchesEngine(this._getEngine(func.name), element, func.args, context))\n          return false;\n      }\n      return true;\n    });\n  }\n  _querySimple(context, simple) {\n    if (!simple.functions.length)\n      return this._queryCSS(context, simple.css || "*");\n    return this._cached(this._cacheQuerySimple, simple, [context.scope, context.pierceShadow, context.originalScope], () => {\n      let css = simple.css;\n      const funcs = simple.functions;\n      if (css === "*" && funcs.length)\n        css = void 0;\n      let elements;\n      let firstIndex = -1;\n      if (css !== void 0) {\n        elements = this._queryCSS(context, css);\n      } else {\n        firstIndex = funcs.findIndex((func) => this._getEngine(func.name).query !== void 0);\n        if (firstIndex === -1)\n          firstIndex = 0;\n        elements = this._queryEngine(this._getEngine(funcs[firstIndex].name), context, funcs[firstIndex].args);\n      }\n      for (let i = 0; i < funcs.length; i++) {\n        if (i === firstIndex)\n          continue;\n        const engine = this._getEngine(funcs[i].name);\n        if (engine.matches !== void 0)\n          elements = elements.filter((e) => this._matchesEngine(engine, e, funcs[i].args, context));\n      }\n      for (let i = 0; i < funcs.length; i++) {\n        if (i === firstIndex)\n          continue;\n        const engine = this._getEngine(funcs[i].name);\n        if (engine.matches === void 0)\n          elements = elements.filter((e) => this._matchesEngine(engine, e, funcs[i].args, context));\n      }\n      return elements;\n    });\n  }\n  _matchesParents(element, complex, index, context) {\n    if (index < 0)\n      return true;\n    return this._cached(this._cacheMatchesParents, element, [complex, index, context.scope, context.pierceShadow, context.originalScope], () => {\n      const { selector: simple, combinator } = complex.simples[index];\n      if (combinator === ">") {\n        const parent = parentElementOrShadowHostInContext(element, context);\n        if (!parent || !this._matchesSimple(parent, simple, context))\n          return false;\n        return this._matchesParents(parent, complex, index - 1, context);\n      }\n      if (combinator === "+") {\n        const previousSibling = previousSiblingInContext(element, context);\n        if (!previousSibling || !this._matchesSimple(previousSibling, simple, context))\n          return false;\n        return this._matchesParents(previousSibling, complex, index - 1, context);\n      }\n      if (combinator === "") {\n        let parent = parentElementOrShadowHostInContext(element, context);\n        while (parent) {\n          if (this._matchesSimple(parent, simple, context)) {\n            if (this._matchesParents(parent, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "")\n              break;\n          }\n          parent = parentElementOrShadowHostInContext(parent, context);\n        }\n        return false;\n      }\n      if (combinator === "~") {\n        let previousSibling = previousSiblingInContext(element, context);\n        while (previousSibling) {\n          if (this._matchesSimple(previousSibling, simple, context)) {\n            if (this._matchesParents(previousSibling, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "~")\n              break;\n          }\n          previousSibling = previousSiblingInContext(previousSibling, context);\n        }\n        return false;\n      }\n      if (combinator === ">=") {\n        let parent = element;\n        while (parent) {\n          if (this._matchesSimple(parent, simple, context)) {\n            if (this._matchesParents(parent, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "")\n              break;\n          }\n          parent = parentElementOrShadowHostInContext(parent, context);\n        }\n        return false;\n      }\n      throw new Error(`Unsupported combinator "${combinator}"`);\n    });\n  }\n  _matchesEngine(engine, element, args, context) {\n    if (engine.matches)\n      return this._callMatches(engine, element, args, context);\n    if (engine.query)\n      return this._callQuery(engine, args, context).includes(element);\n    throw new Error(`Selector engine should implement "matches" or "query"`);\n  }\n  _queryEngine(engine, context, args) {\n    if (engine.query)\n      return this._callQuery(engine, args, context);\n    if (engine.matches)\n      return this._queryCSS(context, "*").filter((element) => this._callMatches(engine, element, args, context));\n    throw new Error(`Selector engine should implement "matches" or "query"`);\n  }\n  _callMatches(engine, element, args, context) {\n    return this._cached(this._cacheCallMatches, element, [engine, context.scope, context.pierceShadow, context.originalScope, ...args], () => {\n      return engine.matches(element, args, context, this);\n    });\n  }\n  _callQuery(engine, args, context) {\n    return this._cached(this._cacheCallQuery, engine, [context.scope, context.pierceShadow, context.originalScope, ...args], () => {\n      return engine.query(context, args, this);\n    });\n  }\n  _matchesCSS(element, css) {\n    return element.matches(css);\n  }\n  _queryCSS(context, css) {\n    return this._cached(this._cacheQueryCSS, css, [context.scope, context.pierceShadow, context.originalScope], () => {\n      let result = [];\n      function query(root) {\n        result = result.concat([...root.querySelectorAll(css)]);\n        if (!context.pierceShadow)\n          return;\n        if (root.shadowRoot)\n          query(root.shadowRoot);\n        for (const element of root.querySelectorAll("*")) {\n          if (element.shadowRoot)\n            query(element.shadowRoot);\n        }\n      }\n      query(context.scope);\n      return result;\n    });\n  }\n  _getEngine(name) {\n    const engine = this._engines.get(name);\n    if (!engine)\n      throw new Error(`Unknown selector engine "${name}"`);\n    return engine;\n  }\n};\nvar isEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"is" engine expects non-empty selector list`);\n    return args.some((selector) => evaluator.matches(element, selector, context));\n  },\n  query(context, args, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"is" engine expects non-empty selector list`);\n    let elements = [];\n    for (const arg of args)\n      elements = elements.concat(evaluator.query(context, arg));\n    return args.length === 1 ? elements : sortInDOMOrder(elements);\n  }\n};\nvar hasEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"has" engine expects non-empty selector list`);\n    return evaluator.query({ ...context, scope: element }, args).length > 0;\n  }\n  // TODO: we can implement efficient "query" by matching "args" and returning\n  // all parents/descendants, just have to be careful with the ":scope" matching.\n};\nvar scopeEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 0)\n      throw new Error(`"scope" engine expects no arguments`);\n    const actualScope = context.originalScope || context.scope;\n    if (actualScope.nodeType === 9)\n      return element === actualScope.documentElement;\n    return element === actualScope;\n  },\n  query(context, args, evaluator) {\n    if (args.length !== 0)\n      throw new Error(`"scope" engine expects no arguments`);\n    const actualScope = context.originalScope || context.scope;\n    if (actualScope.nodeType === 9) {\n      const root = actualScope.documentElement;\n      return root ? [root] : [];\n    }\n    if (actualScope.nodeType === 1)\n      return [actualScope];\n    return [];\n  }\n};\nvar notEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"not" engine expects non-empty selector list`);\n    return !evaluator.matches(element, args, context);\n  }\n};\nvar lightEngine = {\n  query(context, args, evaluator) {\n    return evaluator.query({ ...context, pierceShadow: false }, args);\n  },\n  matches(element, args, context, evaluator) {\n    return evaluator.matches(element, args, { ...context, pierceShadow: false });\n  }\n};\nvar visibleEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length)\n      throw new Error(`"visible" engine expects no arguments`);\n    return isElementVisible(element);\n  }\n};\nvar textEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"text" engine expects a single string`);\n    const text = normalizeWhiteSpace(args[0]).toLowerCase();\n    const matcher = (elementText2) => elementText2.normalized.toLowerCase().includes(text);\n    return elementMatchesText(evaluator._cacheText, element, matcher) === "self";\n  }\n};\nvar textIsEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"text-is" engine expects a single string`);\n    const text = normalizeWhiteSpace(args[0]);\n    const matcher = (elementText2) => {\n      if (!text && !elementText2.immediate.length)\n        return true;\n      return elementText2.immediate.some((s) => normalizeWhiteSpace(s) === text);\n    };\n    return elementMatchesText(evaluator._cacheText, element, matcher) !== "none";\n  }\n};\nvar textMatchesEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0 || typeof args[0] !== "string" || args.length > 2 || args.length === 2 && typeof args[1] !== "string")\n      throw new Error(`"text-matches" engine expects a regexp body and optional regexp flags`);\n    const re = new RegExp(args[0], args.length === 2 ? args[1] : void 0);\n    const matcher = (elementText2) => re.test(elementText2.full);\n    return elementMatchesText(evaluator._cacheText, element, matcher) === "self";\n  }\n};\nvar hasTextEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"has-text" engine expects a single string`);\n    if (shouldSkipForTextMatching(element))\n      return false;\n    const text = normalizeWhiteSpace(args[0]).toLowerCase();\n    const matcher = (elementText2) => elementText2.normalized.toLowerCase().includes(text);\n    return matcher(elementText(evaluator._cacheText, element));\n  }\n};\nfunction createLayoutEngine(name) {\n  return {\n    matches(element, args, context, evaluator) {\n      const maxDistance = args.length && typeof args[args.length - 1] === "number" ? args[args.length - 1] : void 0;\n      const queryArgs = maxDistance === void 0 ? args : args.slice(0, args.length - 1);\n      if (args.length < 1 + (maxDistance === void 0 ? 0 : 1))\n        throw new Error(`"${name}" engine expects a selector list and optional maximum distance in pixels`);\n      const inner = evaluator.query(context, queryArgs);\n      const score = layoutSelectorScore(name, element, inner, maxDistance);\n      if (score === void 0)\n        return false;\n      evaluator._markScore(element, score);\n      return true;\n    }\n  };\n}\nvar nthMatchEngine = {\n  query(context, args, evaluator) {\n    let index = args[args.length - 1];\n    if (args.length < 2)\n      throw new Error(`"nth-match" engine expects non-empty selector list and an index argument`);\n    if (typeof index !== "number" || index < 1)\n      throw new Error(`"nth-match" engine expects a one-based index as the last argument`);\n    const elements = isEngine.query(context, args.slice(0, args.length - 1), evaluator);\n    index--;\n    return index < elements.length ? [elements[index]] : [];\n  }\n};\nfunction parentElementOrShadowHostInContext(element, context) {\n  if (element === context.scope)\n    return;\n  if (!context.pierceShadow)\n    return element.parentElement || void 0;\n  return parentElementOrShadowHost(element);\n}\nfunction previousSiblingInContext(element, context) {\n  if (element === context.scope)\n    return;\n  return element.previousElementSibling || void 0;\n}\nfunction sortInDOMOrder(elements) {\n  const elementToEntry = /* @__PURE__ */ new Map();\n  const roots = [];\n  const result = [];\n  function append(element) {\n    let entry = elementToEntry.get(element);\n    if (entry)\n      return entry;\n    const parent = parentElementOrShadowHost(element);\n    if (parent) {\n      const parentEntry = append(parent);\n      parentEntry.children.push(element);\n    } else {\n      roots.push(element);\n    }\n    entry = { children: [], taken: false };\n    elementToEntry.set(element, entry);\n    return entry;\n  }\n  for (const e of elements)\n    append(e).taken = true;\n  function visit(element) {\n    const entry = elementToEntry.get(element);\n    if (entry.taken)\n      result.push(element);\n    if (entry.children.length > 1) {\n      const set = new Set(entry.children);\n      entry.children = [];\n      let child = element.firstElementChild;\n      while (child && entry.children.length < set.size) {\n        if (set.has(child))\n          entry.children.push(child);\n        child = child.nextElementSibling;\n      }\n      child = element.shadowRoot ? element.shadowRoot.firstElementChild : null;\n      while (child && entry.children.length < set.size) {\n        if (set.has(child))\n          entry.children.push(child);\n        child = child.nextElementSibling;\n      }\n    }\n    entry.children.forEach(visit);\n  }\n  roots.forEach(visit);\n  return result;\n}\n\n// packages/injected/src/selectorGenerator.ts\nvar kTextScoreRange = 10;\nvar kExactPenalty = kTextScoreRange / 2;\nvar kTestIdScore = 1;\nvar kOtherTestIdScore = 2;\nvar kIframeByAttributeScore = 10;\nvar kBeginPenalizedScore = 50;\nvar kRoleWithNameScore = 100;\nvar kPlaceholderScore = 120;\nvar kLabelScore = 140;\nvar kAltTextScore = 160;\nvar kTextScore = 180;\nvar kTitleScore = 200;\nvar kTextScoreRegex = 250;\nvar kPlaceholderScoreExact = kPlaceholderScore + kExactPenalty;\nvar kLabelScoreExact = kLabelScore + kExactPenalty;\nvar kRoleWithNameScoreExact = kRoleWithNameScore + kExactPenalty;\nvar kAltTextScoreExact = kAltTextScore + kExactPenalty;\nvar kTextScoreExact = kTextScore + kExactPenalty;\nvar kTitleScoreExact = kTitleScore + kExactPenalty;\nvar kEndPenalizedScore = 300;\nvar kCSSIdScore = 500;\nvar kRoleWithoutNameScore = 510;\nvar kCSSInputTypeNameScore = 520;\nvar kCSSTagNameScore = 530;\nvar kNthScore = 1e4;\nvar kCSSFallbackScore = 1e7;\nvar kScoreThresholdForTextExpect = 1e3;\nfunction generateSelector(injectedScript, targetElement, options) {\n  var _a;\n  injectedScript._evaluator.begin();\n  const cache = { allowText: /* @__PURE__ */ new Map(), disallowText: /* @__PURE__ */ new Map() };\n  beginAriaCaches();\n  beginDOMCaches();\n  try {\n    let selectors = [];\n    if (options.forTextExpect) {\n      let targetTokens = cssFallback(injectedScript, targetElement.ownerDocument.documentElement, options);\n      for (let element = targetElement; element; element = parentElementOrShadowHost(element)) {\n        const tokens = generateSelectorFor(cache, injectedScript, element, { ...options, noText: true });\n        if (!tokens)\n          continue;\n        const score = combineScores(tokens);\n        if (score <= kScoreThresholdForTextExpect) {\n          targetTokens = tokens;\n          break;\n        }\n      }\n      selectors = [joinTokens(targetTokens)];\n    } else {\n      if (!targetElement.matches("input,textarea,select") && !targetElement.isContentEditable) {\n        const interactiveParent = closestCrossShadow(targetElement, "button,select,input,[role=button],[role=checkbox],[role=radio],a,[role=link]", options.root);\n        if (interactiveParent && isElementVisible(interactiveParent))\n          targetElement = interactiveParent;\n      }\n      if (options.multiple) {\n        const withText = generateSelectorFor(cache, injectedScript, targetElement, options);\n        const withoutText = generateSelectorFor(cache, injectedScript, targetElement, { ...options, noText: true });\n        let tokens = [withText, withoutText];\n        cache.allowText.clear();\n        cache.disallowText.clear();\n        if (withText && hasCSSIdToken(withText))\n          tokens.push(generateSelectorFor(cache, injectedScript, targetElement, { ...options, noCSSId: true }));\n        if (withoutText && hasCSSIdToken(withoutText))\n          tokens.push(generateSelectorFor(cache, injectedScript, targetElement, { ...options, noText: true, noCSSId: true }));\n        tokens = tokens.filter(Boolean);\n        if (!tokens.length) {\n          const css = cssFallback(injectedScript, targetElement, options);\n          tokens.push(css);\n          if (hasCSSIdToken(css))\n            tokens.push(cssFallback(injectedScript, targetElement, { ...options, noCSSId: true }));\n        }\n        selectors = [...new Set(tokens.map((t) => joinTokens(t)))];\n      } else {\n        const targetTokens = generateSelectorFor(cache, injectedScript, targetElement, options) || cssFallback(injectedScript, targetElement, options);\n        selectors = [joinTokens(targetTokens)];\n      }\n    }\n    const selector = selectors[0];\n    const parsedSelector = injectedScript.parseSelector(selector);\n    return {\n      selector,\n      selectors,\n      elements: injectedScript.querySelectorAll(parsedSelector, (_a = options.root) != null ? _a : targetElement.ownerDocument)\n    };\n  } finally {\n    endDOMCaches();\n    endAriaCaches();\n    injectedScript._evaluator.end();\n  }\n}\nfunction generateSelectorFor(cache, injectedScript, targetElement, options) {\n  var _a;\n  if (options.root && !isInsideScope(options.root, targetElement))\n    throw new Error(`Target element must belong to the root\'s subtree`);\n  if (targetElement === options.root)\n    return [{ engine: "css", selector: ":scope", score: 1 }];\n  if (targetElement.ownerDocument.documentElement === targetElement)\n    return [{ engine: "css", selector: "html", score: 1 }];\n  let result = null;\n  const updateResult = (candidate) => {\n    if (!result || combineScores(candidate) < combineScores(result))\n      result = candidate;\n  };\n  const candidates = [];\n  if (!options.noText) {\n    for (const candidate of buildTextCandidates(injectedScript, targetElement, !options.isRecursive))\n      candidates.push({ candidate, isTextCandidate: true });\n  }\n  for (const token of buildNoTextCandidates(injectedScript, targetElement, options)) {\n    if (options.omitInternalEngines && token.engine.startsWith("internal:"))\n      continue;\n    candidates.push({ candidate: [token], isTextCandidate: false });\n  }\n  candidates.sort((a, b) => combineScores(a.candidate) - combineScores(b.candidate));\n  for (const { candidate, isTextCandidate } of candidates) {\n    const elements = injectedScript.querySelectorAll(injectedScript.parseSelector(joinTokens(candidate)), (_a = options.root) != null ? _a : targetElement.ownerDocument);\n    if (!elements.includes(targetElement)) {\n      continue;\n    }\n    if (elements.length === 1) {\n      updateResult(candidate);\n      break;\n    }\n    const index = elements.indexOf(targetElement);\n    if (index > 5) {\n      continue;\n    }\n    updateResult([...candidate, { engine: "nth", selector: String(index), score: kNthScore }]);\n    if (options.isRecursive) {\n      continue;\n    }\n    for (let parent = parentElementOrShadowHost(targetElement); parent && parent !== options.root; parent = parentElementOrShadowHost(parent)) {\n      const filtered = elements.filter((e) => isInsideScope(parent, e) && e !== parent);\n      const newIndex = filtered.indexOf(targetElement);\n      if (filtered.length > 5 || newIndex === -1 || newIndex === index && filtered.length > 1) {\n        continue;\n      }\n      const inParent = filtered.length === 1 ? candidate : [...candidate, { engine: "nth", selector: String(newIndex), score: kNthScore }];\n      const idealSelectorForParent = { engine: "", selector: "", score: 1 };\n      if (result && combineScores([idealSelectorForParent, ...inParent]) >= combineScores(result)) {\n        continue;\n      }\n      const noText = !!options.noText || isTextCandidate;\n      const cacheMap = noText ? cache.disallowText : cache.allowText;\n      let parentTokens = cacheMap.get(parent);\n      if (parentTokens === void 0) {\n        parentTokens = generateSelectorFor(cache, injectedScript, parent, { ...options, isRecursive: true, noText }) || cssFallback(injectedScript, parent, options);\n        cacheMap.set(parent, parentTokens);\n      }\n      if (!parentTokens)\n        continue;\n      updateResult([...parentTokens, ...inParent]);\n    }\n  }\n  return result;\n}\nfunction buildNoTextCandidates(injectedScript, element, options) {\n  const candidates = [];\n  {\n    for (const attr of ["data-testid", "data-test-id", "data-test"]) {\n      if (attr !== options.testIdAttributeName && element.getAttribute(attr))\n        candidates.push({ engine: "css", selector: `[${attr}=${quoteCSSAttributeValue(element.getAttribute(attr))}]`, score: kOtherTestIdScore });\n    }\n    if (!options.noCSSId) {\n      const idAttr = element.getAttribute("id");\n      if (idAttr && !isGuidLike(idAttr))\n        candidates.push({ engine: "css", selector: makeSelectorForId(idAttr), score: kCSSIdScore });\n    }\n    candidates.push({ engine: "css", selector: escapeNodeName(element), score: kCSSTagNameScore });\n  }\n  if (element.nodeName === "IFRAME") {\n    for (const attribute of ["name", "title"]) {\n      if (element.getAttribute(attribute))\n        candidates.push({ engine: "css", selector: `${escapeNodeName(element)}[${attribute}=${quoteCSSAttributeValue(element.getAttribute(attribute))}]`, score: kIframeByAttributeScore });\n    }\n    if (element.getAttribute(options.testIdAttributeName))\n      candidates.push({ engine: "css", selector: `[${options.testIdAttributeName}=${quoteCSSAttributeValue(element.getAttribute(options.testIdAttributeName))}]`, score: kTestIdScore });\n    penalizeScoreForLength([candidates]);\n    return candidates;\n  }\n  if (element.getAttribute(options.testIdAttributeName))\n    candidates.push({ engine: "internal:testid", selector: `[${options.testIdAttributeName}=${escapeForAttributeSelector(element.getAttribute(options.testIdAttributeName), true)}]`, score: kTestIdScore });\n  if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {\n    const input = element;\n    if (input.placeholder) {\n      candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(input.placeholder, true)}]`, score: kPlaceholderScoreExact });\n      for (const alternative of suitableTextAlternatives(input.placeholder))\n        candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(alternative.text, false)}]`, score: kPlaceholderScore - alternative.scoreBonus });\n    }\n  }\n  const labels = getElementLabels(injectedScript._evaluator._cacheText, element);\n  for (const label of labels) {\n    const labelText = label.normalized;\n    candidates.push({ engine: "internal:label", selector: escapeForTextSelector(labelText, true), score: kLabelScoreExact });\n    for (const alternative of suitableTextAlternatives(labelText))\n      candidates.push({ engine: "internal:label", selector: escapeForTextSelector(alternative.text, false), score: kLabelScore - alternative.scoreBonus });\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole))\n    candidates.push({ engine: "internal:role", selector: ariaRole, score: kRoleWithoutNameScore });\n  if (element.getAttribute("name") && ["BUTTON", "FORM", "FIELDSET", "FRAME", "IFRAME", "INPUT", "KEYGEN", "OBJECT", "OUTPUT", "SELECT", "TEXTAREA", "MAP", "META", "PARAM"].includes(element.nodeName))\n    candidates.push({ engine: "css", selector: `${escapeNodeName(element)}[name=${quoteCSSAttributeValue(element.getAttribute("name"))}]`, score: kCSSInputTypeNameScore });\n  if (["INPUT", "TEXTAREA"].includes(element.nodeName) && element.getAttribute("type") !== "hidden") {\n    if (element.getAttribute("type"))\n      candidates.push({ engine: "css", selector: `${escapeNodeName(element)}[type=${quoteCSSAttributeValue(element.getAttribute("type"))}]`, score: kCSSInputTypeNameScore });\n  }\n  if (["INPUT", "TEXTAREA", "SELECT"].includes(element.nodeName) && element.getAttribute("type") !== "hidden")\n    candidates.push({ engine: "css", selector: escapeNodeName(element), score: kCSSInputTypeNameScore + 1 });\n  penalizeScoreForLength([candidates]);\n  return candidates;\n}\nfunction buildTextCandidates(injectedScript, element, isTargetNode) {\n  if (element.nodeName === "SELECT")\n    return [];\n  const candidates = [];\n  const title = element.getAttribute("title");\n  if (title) {\n    candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(title, true)}]`, score: kTitleScoreExact }]);\n    for (const alternative of suitableTextAlternatives(title))\n      candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(alternative.text, false)}]`, score: kTitleScore - alternative.scoreBonus }]);\n  }\n  const alt = element.getAttribute("alt");\n  if (alt && ["APPLET", "AREA", "IMG", "INPUT"].includes(element.nodeName)) {\n    candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alt, true)}]`, score: kAltTextScoreExact }]);\n    for (const alternative of suitableTextAlternatives(alt))\n      candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alternative.text, false)}]`, score: kAltTextScore - alternative.scoreBonus }]);\n  }\n  const text = elementText(injectedScript._evaluator._cacheText, element).normalized;\n  const textAlternatives = text ? suitableTextAlternatives(text) : [];\n  if (text) {\n    if (isTargetNode) {\n      if (text.length <= 80)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(text, true), score: kTextScoreExact }]);\n      for (const alternative of textAlternatives)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBonus }]);\n    }\n    const cssToken = { engine: "css", selector: escapeNodeName(element), score: kCSSTagNameScore };\n    for (const alternative of textAlternatives)\n      candidates.push([cssToken, { engine: "internal:has-text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBonus }]);\n    if (isTargetNode && text.length <= 80) {\n      const re = new RegExp("^" + escapeRegExp(text) + "$");\n      candidates.push([cssToken, { engine: "internal:has-text", selector: escapeForTextSelector(re, false), score: kTextScoreRegex }]);\n    }\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole)) {\n    const ariaName = getElementAccessibleName(element, false);\n    if (ariaName) {\n      const roleToken = { engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(ariaName, true)}]`, score: kRoleWithNameScoreExact };\n      candidates.push([roleToken]);\n      for (const alternative of suitableTextAlternatives(ariaName))\n        candidates.push([{ engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(alternative.text, false)}]`, score: kRoleWithNameScore - alternative.scoreBonus }]);\n    } else {\n      const roleToken = { engine: "internal:role", selector: `${ariaRole}`, score: kRoleWithoutNameScore };\n      for (const alternative of textAlternatives)\n        candidates.push([roleToken, { engine: "internal:has-text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBonus }]);\n      if (isTargetNode && text.length <= 80) {\n        const re = new RegExp("^" + escapeRegExp(text) + "$");\n        candidates.push([roleToken, { engine: "internal:has-text", selector: escapeForTextSelector(re, false), score: kTextScoreRegex }]);\n      }\n    }\n  }\n  penalizeScoreForLength(candidates);\n  return candidates;\n}\nfunction makeSelectorForId(id) {\n  return /^[a-zA-Z][a-zA-Z0-9\\-\\_]+$/.test(id) ? "#" + id : `[id=${quoteCSSAttributeValue(id)}]`;\n}\nfunction hasCSSIdToken(tokens) {\n  return tokens.some((token) => token.engine === "css" && (token.selector.startsWith("#") || token.selector.startsWith(\'[id="\')));\n}\nfunction cssFallback(injectedScript, targetElement, options) {\n  var _a;\n  const root = (_a = options.root) != null ? _a : targetElement.ownerDocument;\n  const tokens = [];\n  function uniqueCSSSelector(prefix) {\n    const path = tokens.slice();\n    if (prefix)\n      path.unshift(prefix);\n    const selector = path.join(" > ");\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const node = injectedScript.querySelector(parsedSelector, root, false);\n    return node === targetElement ? selector : void 0;\n  }\n  function makeStrict(selector) {\n    const token = { engine: "css", selector, score: kCSSFallbackScore };\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const elements = injectedScript.querySelectorAll(parsedSelector, root);\n    if (elements.length === 1)\n      return [token];\n    const nth = { engine: "nth", selector: String(elements.indexOf(targetElement)), score: kNthScore };\n    return [token, nth];\n  }\n  for (let element = targetElement; element && element !== root; element = parentElementOrShadowHost(element)) {\n    let bestTokenForLevel = "";\n    if (element.id && !options.noCSSId) {\n      const token = makeSelectorForId(element.id);\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      bestTokenForLevel = token;\n    }\n    const parent = element.parentNode;\n    const classes = [...element.classList].map(escapeClassName);\n    for (let i = 0; i < classes.length; ++i) {\n      const token = "." + classes.slice(0, i + 1).join(".");\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel && parent) {\n        const sameClassSiblings = parent.querySelectorAll(token);\n        if (sameClassSiblings.length === 1)\n          bestTokenForLevel = token;\n      }\n    }\n    if (parent) {\n      const siblings = [...parent.children];\n      const nodeName = element.nodeName;\n      const sameTagSiblings = siblings.filter((sibling) => sibling.nodeName === nodeName);\n      const token = sameTagSiblings.indexOf(element) === 0 ? escapeNodeName(element) : `${escapeNodeName(element)}:nth-child(${1 + siblings.indexOf(element)})`;\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel)\n        bestTokenForLevel = token;\n    } else if (!bestTokenForLevel) {\n      bestTokenForLevel = escapeNodeName(element);\n    }\n    tokens.unshift(bestTokenForLevel);\n  }\n  return makeStrict(uniqueCSSSelector());\n}\nfunction penalizeScoreForLength(groups) {\n  for (const group of groups) {\n    for (const token of group) {\n      if (token.score > kBeginPenalizedScore && token.score < kEndPenalizedScore)\n        token.score += Math.min(kTextScoreRange, token.selector.length / 10 | 0);\n    }\n  }\n}\nfunction joinTokens(tokens) {\n  const parts = [];\n  let lastEngine = "";\n  for (const { engine, selector } of tokens) {\n    if (parts.length && (lastEngine !== "css" || engine !== "css" || selector.startsWith(":nth-match(")))\n      parts.push(">>");\n    lastEngine = engine;\n    if (engine === "css")\n      parts.push(selector);\n    else\n      parts.push(`${engine}=${selector}`);\n  }\n  return parts.join(" ");\n}\nfunction combineScores(tokens) {\n  let score = 0;\n  for (let i = 0; i < tokens.length; i++)\n    score += tokens[i].score * (tokens.length - i);\n  return score;\n}\nfunction isGuidLike(id) {\n  let lastCharacterType;\n  let transitionCount = 0;\n  for (let i = 0; i < id.length; ++i) {\n    const c = id[i];\n    let characterType;\n    if (c === "-" || c === "_")\n      continue;\n    if (c >= "a" && c <= "z")\n      characterType = "lower";\n    else if (c >= "A" && c <= "Z")\n      characterType = "upper";\n    else if (c >= "0" && c <= "9")\n      characterType = "digit";\n    else\n      characterType = "other";\n    if (characterType === "lower" && lastCharacterType === "upper") {\n      lastCharacterType = characterType;\n      continue;\n    }\n    if (lastCharacterType && lastCharacterType !== characterType)\n      ++transitionCount;\n    lastCharacterType = characterType;\n  }\n  return transitionCount >= id.length / 4;\n}\nfunction trimWordBoundary(text, maxLength) {\n  if (text.length <= maxLength)\n    return text;\n  text = text.substring(0, maxLength);\n  const match = text.match(/^(.*)\\b(.+?)$/);\n  if (!match)\n    return "";\n  return match[1].trimEnd();\n}\nfunction suitableTextAlternatives(text) {\n  let result = [];\n  {\n    const match = text.match(/^([\\d.,]+)[^.,\\w]/);\n    const leadingNumberLength = match ? match[1].length : 0;\n    if (leadingNumberLength) {\n      const alt = trimWordBoundary(text.substring(leadingNumberLength).trimStart(), 80);\n      result.push({ text: alt, scoreBonus: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  {\n    const match = text.match(/[^.,\\w]([\\d.,]+)$/);\n    const trailingNumberLength = match ? match[1].length : 0;\n    if (trailingNumberLength) {\n      const alt = trimWordBoundary(text.substring(0, text.length - trailingNumberLength).trimEnd(), 80);\n      result.push({ text: alt, scoreBonus: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  if (text.length <= 30) {\n    result.push({ text, scoreBonus: 0 });\n  } else {\n    result.push({ text: trimWordBoundary(text, 80), scoreBonus: 0 });\n    result.push({ text: trimWordBoundary(text, 30), scoreBonus: 1 });\n  }\n  result = result.filter((r) => r.text);\n  if (!result.length)\n    result.push({ text: text.substring(0, 80), scoreBonus: 0 });\n  return result;\n}\nfunction escapeNodeName(node) {\n  return node.nodeName.toLocaleLowerCase().replace(/[:\\.]/g, (char) => "\\\\" + char);\n}\nfunction escapeClassName(className) {\n  let result = "";\n  for (let i = 0; i < className.length; i++)\n    result += cssEscapeCharacter(className, i);\n  return result;\n}\nfunction cssEscapeCharacter(s, i) {\n  const c = s.charCodeAt(i);\n  if (c === 0)\n    return "\\uFFFD";\n  if (c >= 1 && c <= 31 || c >= 48 && c <= 57 && (i === 0 || i === 1 && s.charCodeAt(0) === 45))\n    return "\\\\" + c.toString(16) + " ";\n  if (i === 0 && c === 45 && s.length === 1)\n    return "\\\\" + s.charAt(i);\n  if (c >= 128 || c === 45 || c === 95 || c >= 48 && c <= 57 || c >= 65 && c <= 90 || c >= 97 && c <= 122)\n    return s.charAt(i);\n  return "\\\\" + s.charAt(i);\n}\n\n// packages/injected/src/vueSelectorEngine.ts\nfunction basename(filename, ext) {\n  const normalized = filename.replace(/^[a-zA-Z]:/, "").replace(/\\\\/g, "/");\n  let result = normalized.substring(normalized.lastIndexOf("/") + 1);\n  if (ext && result.endsWith(ext))\n    result = result.substring(0, result.length - ext.length);\n  return result;\n}\nfunction toUpper(_, c) {\n  return c ? c.toUpperCase() : "";\n}\nvar classifyRE = /(?:^|[-_/])(\\w)/g;\nvar classify = (str) => {\n  return str && str.replace(classifyRE, toUpper);\n};\nfunction buildComponentsTreeVue3(instance) {\n  function getComponentTypeName(options) {\n    const name = options.name || options._componentTag || options.__playwright_guessedName;\n    if (name)\n      return name;\n    const file = options.__file;\n    if (file)\n      return classify(basename(file, ".vue"));\n  }\n  function saveComponentName(instance2, key) {\n    instance2.type.__playwright_guessedName = key;\n    return key;\n  }\n  function getInstanceName(instance2) {\n    var _a, _b, _c, _d;\n    const name = getComponentTypeName(instance2.type || {});\n    if (name)\n      return name;\n    if (instance2.root === instance2)\n      return "Root";\n    for (const key in (_b = (_a = instance2.parent) == null ? void 0 : _a.type) == null ? void 0 : _b.components) {\n      if (((_c = instance2.parent) == null ? void 0 : _c.type.components[key]) === instance2.type)\n        return saveComponentName(instance2, key);\n    }\n    for (const key in (_d = instance2.appContext) == null ? void 0 : _d.components) {\n      if (instance2.appContext.components[key] === instance2.type)\n        return saveComponentName(instance2, key);\n    }\n    return "Anonymous Component";\n  }\n  function isBeingDestroyed(instance2) {\n    return instance2._isBeingDestroyed || instance2.isUnmounted;\n  }\n  function isFragment(instance2) {\n    return instance2.subTree.type.toString() === "Symbol(Fragment)";\n  }\n  function getInternalInstanceChildren(subTree) {\n    const list = [];\n    if (subTree.component)\n      list.push(subTree.component);\n    if (subTree.suspense)\n      list.push(...getInternalInstanceChildren(subTree.suspense.activeBranch));\n    if (Array.isArray(subTree.children)) {\n      subTree.children.forEach((childSubTree) => {\n        if (childSubTree.component)\n          list.push(childSubTree.component);\n        else\n          list.push(...getInternalInstanceChildren(childSubTree));\n      });\n    }\n    return list.filter((child) => {\n      var _a;\n      return !isBeingDestroyed(child) && !((_a = child.type.devtools) == null ? void 0 : _a.hide);\n    });\n  }\n  function getRootElementsFromComponentInstance(instance2) {\n    if (isFragment(instance2))\n      return getFragmentRootElements(instance2.subTree);\n    return [instance2.subTree.el];\n  }\n  function getFragmentRootElements(vnode) {\n    if (!vnode.children)\n      return [];\n    const list = [];\n    for (let i = 0, l = vnode.children.length; i < l; i++) {\n      const childVnode = vnode.children[i];\n      if (childVnode.component)\n        list.push(...getRootElementsFromComponentInstance(childVnode.component));\n      else if (childVnode.el)\n        list.push(childVnode.el);\n    }\n    return list;\n  }\n  function buildComponentsTree2(instance2) {\n    return {\n      name: getInstanceName(instance2),\n      children: getInternalInstanceChildren(instance2.subTree).map(buildComponentsTree2),\n      rootElements: getRootElementsFromComponentInstance(instance2),\n      props: instance2.props\n    };\n  }\n  return buildComponentsTree2(instance);\n}\nfunction buildComponentsTreeVue2(instance) {\n  function getComponentName2(options) {\n    const name = options.displayName || options.name || options._componentTag;\n    if (name)\n      return name;\n    const file = options.__file;\n    if (file)\n      return classify(basename(file, ".vue"));\n  }\n  function getInstanceName(instance2) {\n    const name = getComponentName2(instance2.$options || instance2.fnOptions || {});\n    if (name)\n      return name;\n    return instance2.$root === instance2 ? "Root" : "Anonymous Component";\n  }\n  function getInternalInstanceChildren(instance2) {\n    if (instance2.$children)\n      return instance2.$children;\n    if (Array.isArray(instance2.subTree.children))\n      return instance2.subTree.children.filter((vnode) => !!vnode.component).map((vnode) => vnode.component);\n    return [];\n  }\n  function buildComponentsTree2(instance2) {\n    return {\n      name: getInstanceName(instance2),\n      children: getInternalInstanceChildren(instance2).map(buildComponentsTree2),\n      rootElements: [instance2.$el],\n      props: instance2._props\n    };\n  }\n  return buildComponentsTree2(instance);\n}\nfunction filterComponentsTree2(treeNode, searchFn, result = []) {\n  if (searchFn(treeNode))\n    result.push(treeNode);\n  for (const child of treeNode.children)\n    filterComponentsTree2(child, searchFn, result);\n  return result;\n}\nfunction findVueRoots(root, roots = []) {\n  const document = root.ownerDocument || root;\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);\n  const vue2Roots = /* @__PURE__ */ new Set();\n  do {\n    const node = walker.currentNode;\n    if (node.__vue__)\n      vue2Roots.add(node.__vue__.$root);\n    if (node.__vue_app__ && node._vnode && node._vnode.component)\n      roots.push({ root: node._vnode.component, version: 3 });\n    const shadowRoot = node instanceof Element ? node.shadowRoot : null;\n    if (shadowRoot)\n      findVueRoots(shadowRoot, roots);\n  } while (walker.nextNode());\n  for (const vue2root of vue2Roots) {\n    roots.push({\n      version: 2,\n      root: vue2root\n    });\n  }\n  return roots;\n}\nvar createVueEngine = () => ({\n  queryAll(scope, selector) {\n    const document = scope.ownerDocument || scope;\n    const { name, attributes } = parseAttributeSelector(selector, false);\n    const vueRoots = findVueRoots(document);\n    const trees = vueRoots.map((vueRoot) => vueRoot.version === 3 ? buildComponentsTreeVue3(vueRoot.root) : buildComponentsTreeVue2(vueRoot.root));\n    const treeNodes = trees.map((tree) => filterComponentsTree2(tree, (treeNode) => {\n      if (name && treeNode.name !== name)\n        return false;\n      if (treeNode.rootElements.some((rootElement) => !isInsideScope(scope, rootElement)))\n        return false;\n      for (const attr of attributes) {\n        if (!matchesComponentAttribute(treeNode.props, attr))\n          return false;\n      }\n      return true;\n    })).flat();\n    const allRootElements = /* @__PURE__ */ new Set();\n    for (const treeNode of treeNodes) {\n      for (const rootElement of treeNode.rootElements)\n        allRootElements.add(rootElement);\n    }\n    return [...allRootElements];\n  }\n});\n\n// packages/injected/src/xpathSelectorEngine.ts\nvar XPathEngine = {\n  queryAll(root, selector) {\n    if (selector.startsWith("/") && root.nodeType !== Node.DOCUMENT_NODE)\n      selector = "." + selector;\n    const result = [];\n    const document = root.ownerDocument || root;\n    if (!document)\n      return result;\n    const it = document.evaluate(selector, root, null, XPathResult.ORDERED_NODE_ITERATOR_TYPE);\n    for (let node = it.iterateNext(); node; node = it.iterateNext()) {\n      if (node.nodeType === Node.ELEMENT_NODE)\n        result.push(node);\n    }\n    return result;\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/locatorUtils.ts\nfunction getByAttributeTextSelector(attrName, text, options) {\n  return `internal:attr=[${attrName}=${escapeForAttributeSelector(text, (options == null ? void 0 : options.exact) || false)}]`;\n}\nfunction getByTestIdSelector(testIdAttributeName, testId) {\n  return `internal:testid=[${testIdAttributeName}=${escapeForAttributeSelector(testId, true)}]`;\n}\nfunction getByLabelSelector(text, options) {\n  return "internal:label=" + escapeForTextSelector(text, !!(options == null ? void 0 : options.exact));\n}\nfunction getByAltTextSelector(text, options) {\n  return getByAttributeTextSelector("alt", text, options);\n}\nfunction getByTitleSelector(text, options) {\n  return getByAttributeTextSelector("title", text, options);\n}\nfunction getByPlaceholderSelector(text, options) {\n  return getByAttributeTextSelector("placeholder", text, options);\n}\nfunction getByTextSelector(text, options) {\n  return "internal:text=" + escapeForTextSelector(text, !!(options == null ? void 0 : options.exact));\n}\nfunction getByRoleSelector(role, options = {}) {\n  const props = [];\n  if (options.checked !== void 0)\n    props.push(["checked", String(options.checked)]);\n  if (options.disabled !== void 0)\n    props.push(["disabled", String(options.disabled)]);\n  if (options.selected !== void 0)\n    props.push(["selected", String(options.selected)]);\n  if (options.expanded !== void 0)\n    props.push(["expanded", String(options.expanded)]);\n  if (options.includeHidden !== void 0)\n    props.push(["include-hidden", String(options.includeHidden)]);\n  if (options.level !== void 0)\n    props.push(["level", String(options.level)]);\n  if (options.name !== void 0)\n    props.push(["name", escapeForAttributeSelector(options.name, !!options.exact)]);\n  if (options.pressed !== void 0)\n    props.push(["pressed", String(options.pressed)]);\n  return `internal:role=${role}${props.map(([n, v]) => `[${n}=${v}]`).join("")}`;\n}\n\n// packages/injected/src/consoleApi.ts\nvar selectorSymbol = Symbol("selector");\nselectorSymbol;\nvar _Locator = class _Locator {\n  constructor(injectedScript, selector, options) {\n    if (options == null ? void 0 : options.hasText)\n      selector += ` >> internal:has-text=${escapeForTextSelector(options.hasText, false)}`;\n    if (options == null ? void 0 : options.hasNotText)\n      selector += ` >> internal:has-not-text=${escapeForTextSelector(options.hasNotText, false)}`;\n    if (options == null ? void 0 : options.has)\n      selector += ` >> internal:has=` + JSON.stringify(options.has[selectorSymbol]);\n    if (options == null ? void 0 : options.hasNot)\n      selector += ` >> internal:has-not=` + JSON.stringify(options.hasNot[selectorSymbol]);\n    if ((options == null ? void 0 : options.visible) !== void 0)\n      selector += ` >> visible=${options.visible ? "true" : "false"}`;\n    this[selectorSymbol] = selector;\n    if (selector) {\n      const parsed = injectedScript.parseSelector(selector);\n      this.element = injectedScript.querySelector(parsed, injectedScript.document, false);\n      this.elements = injectedScript.querySelectorAll(parsed, injectedScript.document);\n    }\n    const selectorBase = selector;\n    const self = this;\n    self.locator = (selector2, options2) => {\n      return new _Locator(injectedScript, selectorBase ? selectorBase + " >> " + selector2 : selector2, options2);\n    };\n    self.getByTestId = (testId) => self.locator(getByTestIdSelector(injectedScript.testIdAttributeNameForStrictErrorAndConsoleCodegen(), testId));\n    self.getByAltText = (text, options2) => self.locator(getByAltTextSelector(text, options2));\n    self.getByLabel = (text, options2) => self.locator(getByLabelSelector(text, options2));\n    self.getByPlaceholder = (text, options2) => self.locator(getByPlaceholderSelector(text, options2));\n    self.getByText = (text, options2) => self.locator(getByTextSelector(text, options2));\n    self.getByTitle = (text, options2) => self.locator(getByTitleSelector(text, options2));\n    self.getByRole = (role, options2 = {}) => self.locator(getByRoleSelector(role, options2));\n    self.filter = (options2) => new _Locator(injectedScript, selector, options2);\n    self.first = () => self.locator("nth=0");\n    self.last = () => self.locator("nth=-1");\n    self.nth = (index) => self.locator(`nth=${index}`);\n    self.and = (locator) => new _Locator(injectedScript, selectorBase + ` >> internal:and=` + JSON.stringify(locator[selectorSymbol]));\n    self.or = (locator) => new _Locator(injectedScript, selectorBase + ` >> internal:or=` + JSON.stringify(locator[selectorSymbol]));\n  }\n};\nvar Locator = _Locator;\nvar ConsoleAPI = class {\n  constructor(injectedScript) {\n    this._injectedScript = injectedScript;\n  }\n  install() {\n    if (this._injectedScript.window.playwright)\n      return;\n    this._injectedScript.window.playwright = {\n      $: (selector, strict) => this._querySelector(selector, !!strict),\n      $$: (selector) => this._querySelectorAll(selector),\n      inspect: (selector) => this._inspect(selector),\n      selector: (element) => this._selector(element),\n      generateLocator: (element, language) => this._generateLocator(element, language),\n      ariaSnapshot: (element, options) => {\n        return this._injectedScript.ariaSnapshot(element || this._injectedScript.document.body, options || { mode: "expect" });\n      },\n      resume: () => this._resume(),\n      ...new Locator(this._injectedScript, "")\n    };\n    delete this._injectedScript.window.playwright.filter;\n    delete this._injectedScript.window.playwright.first;\n    delete this._injectedScript.window.playwright.last;\n    delete this._injectedScript.window.playwright.nth;\n    delete this._injectedScript.window.playwright.and;\n    delete this._injectedScript.window.playwright.or;\n  }\n  _querySelector(selector, strict) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.query(\'Playwright >> selector\').`);\n    const parsed = this._injectedScript.parseSelector(selector);\n    return this._injectedScript.querySelector(parsed, this._injectedScript.document, strict);\n  }\n  _querySelectorAll(selector) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.$$(\'Playwright >> selector\').`);\n    const parsed = this._injectedScript.parseSelector(selector);\n    return this._injectedScript.querySelectorAll(parsed, this._injectedScript.document);\n  }\n  _inspect(selector) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.inspect(\'Playwright >> selector\').`);\n    this._injectedScript.window.inspect(this._querySelector(selector, false));\n  }\n  _selector(element) {\n    if (!(element instanceof Element))\n      throw new Error(`Usage: playwright.selector(element).`);\n    return this._injectedScript.generateSelectorSimple(element);\n  }\n  _generateLocator(element, language) {\n    if (!(element instanceof Element))\n      throw new Error(`Usage: playwright.locator(element).`);\n    const selector = this._injectedScript.generateSelectorSimple(element);\n    return asLocator(language || "javascript", selector);\n  }\n  _resume() {\n    if (!this._injectedScript.window.__pw_resume)\n      return false;\n    this._injectedScript.window.__pw_resume().catch(() => {\n    });\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp2(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction base64ToTypedArray(base64, TypedArrayConstructor) {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++)\n    bytes[i] = binary.charCodeAt(i);\n  return new TypedArrayConstructor(bytes.buffer);\n}\nfunction parseEvaluationResultValue(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n  if (Object.is(value, void 0))\n    return void 0;\n  if (typeof value === "object" && value) {\n    if ("ref" in value)\n      return refs.get(value.ref);\n    if ("v" in value) {\n      if (value.v === "undefined")\n        return void 0;\n      if (value.v === "null")\n        return null;\n      if (value.v === "NaN")\n        return NaN;\n      if (value.v === "Infinity")\n        return Infinity;\n      if (value.v === "-Infinity")\n        return -Infinity;\n      if (value.v === "-0")\n        return -0;\n      return void 0;\n    }\n    if ("d" in value) {\n      return new Date(value.d);\n    }\n    if ("u" in value)\n      return new URL(value.u);\n    if ("bi" in value)\n      return BigInt(value.bi);\n    if ("e" in value) {\n      const error = new Error(value.e.m);\n      error.name = value.e.n;\n      error.stack = value.e.s;\n      return error;\n    }\n    if ("r" in value)\n      return new RegExp(value.r.p, value.r.f);\n    if ("a" in value) {\n      const result = [];\n      refs.set(value.id, result);\n      for (const a of value.a)\n        result.push(parseEvaluationResultValue(a, handles, refs));\n      return result;\n    }\n    if ("o" in value) {\n      const result = {};\n      refs.set(value.id, result);\n      for (const { k, v } of value.o) {\n        if (k === "__proto__")\n          continue;\n        result[k] = parseEvaluationResultValue(v, handles, refs);\n      }\n      return result;\n    }\n    if ("h" in value)\n      return handles[value.h];\n    if ("ta" in value)\n      return base64ToTypedArray(value.ta.b, typedArrayConstructors[value.ta.k]);\n  }\n  return value;\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp2(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/utilityScript.ts\nvar UtilityScript = class {\n  constructor(global, isUnderTest) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    this.global = global;\n    this.isUnderTest = isUnderTest;\n    if (global.__pwClock) {\n      this.builtins = global.__pwClock.builtins;\n    } else {\n      this.builtins = {\n        setTimeout: (_a = global.setTimeout) == null ? void 0 : _a.bind(global),\n        clearTimeout: (_b = global.clearTimeout) == null ? void 0 : _b.bind(global),\n        setInterval: (_c = global.setInterval) == null ? void 0 : _c.bind(global),\n        clearInterval: (_d = global.clearInterval) == null ? void 0 : _d.bind(global),\n        requestAnimationFrame: (_e = global.requestAnimationFrame) == null ? void 0 : _e.bind(global),\n        cancelAnimationFrame: (_f = global.cancelAnimationFrame) == null ? void 0 : _f.bind(global),\n        requestIdleCallback: (_g = global.requestIdleCallback) == null ? void 0 : _g.bind(global),\n        cancelIdleCallback: (_h = global.cancelIdleCallback) == null ? void 0 : _h.bind(global),\n        performance: global.performance,\n        Intl: global.Intl,\n        Date: global.Date\n      };\n    }\n    if (this.isUnderTest)\n      global.builtins = this.builtins;\n  }\n  evaluate(isFunction, returnByValue, expression, argCount, ...argsAndHandles) {\n    const args = argsAndHandles.slice(0, argCount);\n    const handles = argsAndHandles.slice(argCount);\n    const parameters = [];\n    for (let i = 0; i < args.length; i++)\n      parameters[i] = parseEvaluationResultValue(args[i], handles);\n    let result = this.global.eval(expression);\n    if (isFunction === true) {\n      result = result(...parameters);\n    } else if (isFunction === false) {\n      result = result;\n    } else {\n      if (typeof result === "function")\n        result = result(...parameters);\n    }\n    return returnByValue ? this._promiseAwareJsonValueNoThrow(result) : result;\n  }\n  jsonValue(returnByValue, value) {\n    if (value === void 0)\n      return void 0;\n    return serializeAsCallArgument(value, (value2) => ({ fallThrough: value2 }));\n  }\n  _promiseAwareJsonValueNoThrow(value) {\n    const safeJson = (value2) => {\n      try {\n        return this.jsonValue(true, value2);\n      } catch (e) {\n        return void 0;\n      }\n    };\n    if (value && typeof value === "object" && typeof value.then === "function") {\n      return (async () => {\n        const promiseValue = await value;\n        return safeJson(promiseValue);\n      })();\n    }\n    return safeJson(value);\n  }\n};\n\n// packages/injected/src/injectedScript.ts\nvar InjectedScript = class {\n  constructor(window, options) {\n    this._testIdAttributeNameForStrictErrorAndConsoleCodegen = "data-testid";\n    // Recorder must use any external dependencies through InjectedScript.\n    // Otherwise it will end up with a copy of all modules it uses, and any\n    // module-level globals will be duplicated, which leads to subtle bugs.\n    this.utils = {\n      asLocator,\n      cacheNormalizedWhitespaces,\n      elementText,\n      getAriaRole,\n      getElementAccessibleDescription,\n      getElementAccessibleName,\n      isElementVisible,\n      isInsideScope,\n      normalizeWhiteSpace,\n      parseAriaSnapshot,\n      generateAriaTree,\n      // Builtins protect injected code from clock emulation.\n      builtins: null\n    };\n    this.window = window;\n    this.document = window.document;\n    this.isUnderTest = options.isUnderTest;\n    this.utils.builtins = new UtilityScript(window, options.isUnderTest).builtins;\n    this._sdkLanguage = options.sdkLanguage;\n    this._testIdAttributeNameForStrictErrorAndConsoleCodegen = options.testIdAttributeName;\n    this._evaluator = new SelectorEvaluatorImpl();\n    this.consoleApi = new ConsoleAPI(this);\n    this.onGlobalListenersRemoved = /* @__PURE__ */ new Set();\n    this._autoClosingTags = /* @__PURE__ */ new Set(["AREA", "BASE", "BR", "COL", "COMMAND", "EMBED", "HR", "IMG", "INPUT", "KEYGEN", "LINK", "MENUITEM", "META", "PARAM", "SOURCE", "TRACK", "WBR"]);\n    this._booleanAttributes = /* @__PURE__ */ new Set(["checked", "selected", "disabled", "readonly", "multiple"]);\n    this._eventTypes = /* @__PURE__ */ new Map([\n      ["auxclick", "mouse"],\n      ["click", "mouse"],\n      ["dblclick", "mouse"],\n      ["mousedown", "mouse"],\n      ["mouseeenter", "mouse"],\n      ["mouseleave", "mouse"],\n      ["mousemove", "mouse"],\n      ["mouseout", "mouse"],\n      ["mouseover", "mouse"],\n      ["mouseup", "mouse"],\n      ["mouseleave", "mouse"],\n      ["mousewheel", "mouse"],\n      ["keydown", "keyboard"],\n      ["keyup", "keyboard"],\n      ["keypress", "keyboard"],\n      ["textInput", "keyboard"],\n      ["touchstart", "touch"],\n      ["touchmove", "touch"],\n      ["touchend", "touch"],\n      ["touchcancel", "touch"],\n      ["pointerover", "pointer"],\n      ["pointerout", "pointer"],\n      ["pointerenter", "pointer"],\n      ["pointerleave", "pointer"],\n      ["pointerdown", "pointer"],\n      ["pointerup", "pointer"],\n      ["pointermove", "pointer"],\n      ["pointercancel", "pointer"],\n      ["gotpointercapture", "pointer"],\n      ["lostpointercapture", "pointer"],\n      ["focus", "focus"],\n      ["blur", "focus"],\n      ["drag", "drag"],\n      ["dragstart", "drag"],\n      ["dragend", "drag"],\n      ["dragover", "drag"],\n      ["dragenter", "drag"],\n      ["dragleave", "drag"],\n      ["dragexit", "drag"],\n      ["drop", "drag"],\n      ["wheel", "wheel"],\n      ["deviceorientation", "deviceorientation"],\n      ["deviceorientationabsolute", "deviceorientation"],\n      ["devicemotion", "devicemotion"]\n    ]);\n    this._hoverHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["mousemove"]);\n    this._tapHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["pointerdown", "pointerup", "touchstart", "touchend", "touchcancel"]);\n    this._mouseHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["mousedown", "mouseup", "pointerdown", "pointerup", "click", "auxclick", "dblclick", "contextmenu"]);\n    this._allHitTargetInterceptorEvents = /* @__PURE__ */ new Set([...this._hoverHitTargetInterceptorEvents, ...this._tapHitTargetInterceptorEvents, ...this._mouseHitTargetInterceptorEvents]);\n    this._engines = /* @__PURE__ */ new Map();\n    this._engines.set("xpath", XPathEngine);\n    this._engines.set("xpath:light", XPathEngine);\n    this._engines.set("_react", createReactEngine());\n    this._engines.set("_vue", createVueEngine());\n    this._engines.set("role", createRoleEngine(false));\n    this._engines.set("text", this._createTextEngine(true, false));\n    this._engines.set("text:light", this._createTextEngine(false, false));\n    this._engines.set("id", this._createAttributeEngine("id", true));\n    this._engines.set("id:light", this._createAttributeEngine("id", false));\n    this._engines.set("data-testid", this._createAttributeEngine("data-testid", true));\n    this._engines.set("data-testid:light", this._createAttributeEngine("data-testid", false));\n    this._engines.set("data-test-id", this._createAttributeEngine("data-test-id", true));\n    this._engines.set("data-test-id:light", this._createAttributeEngine("data-test-id", false));\n    this._engines.set("data-test", this._createAttributeEngine("data-test", true));\n    this._engines.set("data-test:light", this._createAttributeEngine("data-test", false));\n    this._engines.set("css", this._createCSSEngine());\n    this._engines.set("nth", { queryAll: () => [] });\n    this._engines.set("visible", this._createVisibleEngine());\n    this._engines.set("internal:control", this._createControlEngine());\n    this._engines.set("internal:has", this._createHasEngine());\n    this._engines.set("internal:has-not", this._createHasNotEngine());\n    this._engines.set("internal:and", { queryAll: () => [] });\n    this._engines.set("internal:or", { queryAll: () => [] });\n    this._engines.set("internal:chain", this._createInternalChainEngine());\n    this._engines.set("internal:label", this._createInternalLabelEngine());\n    this._engines.set("internal:text", this._createTextEngine(true, true));\n    this._engines.set("internal:has-text", this._createInternalHasTextEngine());\n    this._engines.set("internal:has-not-text", this._createInternalHasNotTextEngine());\n    this._engines.set("internal:attr", this._createNamedAttributeEngine());\n    this._engines.set("internal:testid", this._createNamedAttributeEngine());\n    this._engines.set("internal:role", createRoleEngine(true));\n    this._engines.set("internal:describe", this._createDescribeEngine());\n    this._engines.set("aria-ref", this._createAriaRefEngine());\n    for (const { name, source } of options.customEngines)\n      this._engines.set(name, this.eval(source));\n    this._stableRafCount = options.stableRafCount;\n    this._browserName = options.browserName;\n    this._isUtilityWorld = !!options.isUtilityWorld;\n    setGlobalOptions({ browserNameForWorkarounds: options.browserName });\n    this._setupGlobalListenersRemovalDetection();\n    this._setupHitTargetInterceptors();\n    if (this.isUnderTest)\n      this.window.__injectedScript = this;\n  }\n  eval(expression) {\n    return this.window.eval(expression);\n  }\n  testIdAttributeNameForStrictErrorAndConsoleCodegen() {\n    return this._testIdAttributeNameForStrictErrorAndConsoleCodegen;\n  }\n  parseSelector(selector) {\n    const result = parseSelector(selector);\n    visitAllSelectorParts(result, (part) => {\n      if (!this._engines.has(part.name))\n        throw this.createStacklessError(`Unknown engine "${part.name}" while parsing selector ${selector}`);\n    });\n    return result;\n  }\n  generateSelector(targetElement, options) {\n    return generateSelector(this, targetElement, options);\n  }\n  generateSelectorSimple(targetElement, options) {\n    return generateSelector(this, targetElement, { ...options, testIdAttributeName: this._testIdAttributeNameForStrictErrorAndConsoleCodegen }).selector;\n  }\n  querySelector(selector, root, strict) {\n    const result = this.querySelectorAll(selector, root);\n    if (strict && result.length > 1)\n      throw this.strictModeViolationError(selector, result);\n    return result[0];\n  }\n  _queryNth(elements, part) {\n    const list = [...elements];\n    let nth = +part.body;\n    if (nth === -1)\n      nth = list.length - 1;\n    return new Set(list.slice(nth, nth + 1));\n  }\n  _queryLayoutSelector(elements, part, originalRoot) {\n    const name = part.name;\n    const body = part.body;\n    const result = [];\n    const inner = this.querySelectorAll(body.parsed, originalRoot);\n    for (const element of elements) {\n      const score = layoutSelectorScore(name, element, inner, body.distance);\n      if (score !== void 0)\n        result.push({ element, score });\n    }\n    result.sort((a, b) => a.score - b.score);\n    return new Set(result.map((r) => r.element));\n  }\n  ariaSnapshot(node, options) {\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Can only capture aria snapshot of Element nodes.");\n    this._lastAriaSnapshot = generateAriaTree(node, options);\n    return renderAriaTree(this._lastAriaSnapshot, options);\n  }\n  ariaSnapshotForRecorder() {\n    const tree = generateAriaTree(this.document.body, { mode: "ai" });\n    const ariaSnapshot = renderAriaTree(tree, { mode: "ai" });\n    return { ariaSnapshot, refs: tree.refs };\n  }\n  getAllElementsMatchingExpectAriaTemplate(document, template) {\n    return getAllElementsMatchingExpectAriaTemplate(document.documentElement, template);\n  }\n  querySelectorAll(selector, root) {\n    if (selector.capture !== void 0) {\n      if (selector.parts.some((part) => part.name === "nth"))\n        throw this.createStacklessError(`Can\'t query n-th element in a request with the capture.`);\n      const withHas = { parts: selector.parts.slice(0, selector.capture + 1) };\n      if (selector.capture < selector.parts.length - 1) {\n        const parsed = { parts: selector.parts.slice(selector.capture + 1) };\n        const has = { name: "internal:has", body: { parsed }, source: stringifySelector(parsed) };\n        withHas.parts.push(has);\n      }\n      return this.querySelectorAll(withHas, root);\n    }\n    if (!root["querySelectorAll"])\n      throw this.createStacklessError("Node is not queryable.");\n    if (selector.capture !== void 0) {\n      throw this.createStacklessError("Internal error: there should not be a capture in the selector.");\n    }\n    if (root.nodeType === 11 && selector.parts.length === 1 && selector.parts[0].name === "css" && selector.parts[0].source === ":scope")\n      return [root];\n    this._evaluator.begin();\n    try {\n      let roots = /* @__PURE__ */ new Set([root]);\n      for (const part of selector.parts) {\n        if (part.name === "nth") {\n          roots = this._queryNth(roots, part);\n        } else if (part.name === "internal:and") {\n          const andElements = this.querySelectorAll(part.body.parsed, root);\n          roots = new Set(andElements.filter((e) => roots.has(e)));\n        } else if (part.name === "internal:or") {\n          const orElements = this.querySelectorAll(part.body.parsed, root);\n          roots = new Set(sortInDOMOrder(/* @__PURE__ */ new Set([...roots, ...orElements])));\n        } else if (kLayoutSelectorNames.includes(part.name)) {\n          roots = this._queryLayoutSelector(roots, part, root);\n        } else {\n          const next = /* @__PURE__ */ new Set();\n          for (const root2 of roots) {\n            const all = this._queryEngineAll(part, root2);\n            for (const one of all)\n              next.add(one);\n          }\n          roots = next;\n        }\n      }\n      return [...roots];\n    } finally {\n      this._evaluator.end();\n    }\n  }\n  _queryEngineAll(part, root) {\n    const result = this._engines.get(part.name).queryAll(root, part.body);\n    for (const element of result) {\n      if (!("nodeName" in element))\n        throw this.createStacklessError(`Expected a Node but got ${Object.prototype.toString.call(element)}`);\n    }\n    return result;\n  }\n  _createAttributeEngine(attribute, shadow) {\n    const toCSS = (selector) => {\n      const css = `[${attribute}=${JSON.stringify(selector)}]`;\n      return [{ simples: [{ selector: { css, functions: [] }, combinator: "" }] }];\n    };\n    return {\n      queryAll: (root, selector) => {\n        return this._evaluator.query({ scope: root, pierceShadow: shadow }, toCSS(selector));\n      }\n    };\n  }\n  _createCSSEngine() {\n    return {\n      queryAll: (root, body) => {\n        return this._evaluator.query({ scope: root, pierceShadow: true }, body);\n      }\n    };\n  }\n  _createTextEngine(shadow, internal) {\n    const queryAll = (root, selector) => {\n      const { matcher, kind } = createTextMatcher(selector, internal);\n      const result = [];\n      let lastDidNotMatchSelf = null;\n      const appendElement = (element) => {\n        if (kind === "lax" && lastDidNotMatchSelf && lastDidNotMatchSelf.contains(element))\n          return false;\n        const matches = elementMatchesText(this._evaluator._cacheText, element, matcher);\n        if (matches === "none")\n          lastDidNotMatchSelf = element;\n        if (matches === "self" || matches === "selfAndChildren" && kind === "strict" && !internal)\n          result.push(element);\n      };\n      if (root.nodeType === Node.ELEMENT_NODE)\n        appendElement(root);\n      const elements = this._evaluator._queryCSS({ scope: root, pierceShadow: shadow }, "*");\n      for (const element of elements)\n        appendElement(element);\n      return result;\n    };\n    return { queryAll };\n  }\n  _createInternalHasTextEngine() {\n    return {\n      queryAll: (root, selector) => {\n        if (root.nodeType !== 1)\n          return [];\n        const element = root;\n        const text = elementText(this._evaluator._cacheText, element);\n        const { matcher } = createTextMatcher(selector, true);\n        return matcher(text) ? [element] : [];\n      }\n    };\n  }\n  _createInternalHasNotTextEngine() {\n    return {\n      queryAll: (root, selector) => {\n        if (root.nodeType !== 1)\n          return [];\n        const element = root;\n        const text = elementText(this._evaluator._cacheText, element);\n        const { matcher } = createTextMatcher(selector, true);\n        return matcher(text) ? [] : [element];\n      }\n    };\n  }\n  _createInternalLabelEngine() {\n    return {\n      queryAll: (root, selector) => {\n        const { matcher } = createTextMatcher(selector, true);\n        const allElements = this._evaluator._queryCSS({ scope: root, pierceShadow: true }, "*");\n        return allElements.filter((element) => {\n          return getElementLabels(this._evaluator._cacheText, element).some((label) => matcher(label));\n        });\n      }\n    };\n  }\n  _createNamedAttributeEngine() {\n    const queryAll = (root, selector) => {\n      const parsed = parseAttributeSelector(selector, true);\n      if (parsed.name || parsed.attributes.length !== 1)\n        throw new Error("Malformed attribute selector: " + selector);\n      const { name, value, caseSensitive } = parsed.attributes[0];\n      const lowerCaseValue = caseSensitive ? null : value.toLowerCase();\n      let matcher;\n      if (value instanceof RegExp)\n        matcher = (s) => !!s.match(value);\n      else if (caseSensitive)\n        matcher = (s) => s === value;\n      else\n        matcher = (s) => s.toLowerCase().includes(lowerCaseValue);\n      const elements = this._evaluator._queryCSS({ scope: root, pierceShadow: true }, `[${name}]`);\n      return elements.filter((e) => matcher(e.getAttribute(name)));\n    };\n    return { queryAll };\n  }\n  _createDescribeEngine() {\n    const queryAll = (root) => {\n      if (root.nodeType !== 1)\n        return [];\n      return [root];\n    };\n    return { queryAll };\n  }\n  _createControlEngine() {\n    return {\n      queryAll(root, body) {\n        if (body === "enter-frame")\n          return [];\n        if (body === "return-empty")\n          return [];\n        if (body === "component") {\n          if (root.nodeType !== 1)\n            return [];\n          return [root.childElementCount === 1 ? root.firstElementChild : root];\n        }\n        throw new Error(`Internal error, unknown internal:control selector ${body}`);\n      }\n    };\n  }\n  _createHasEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const has = !!this.querySelector(body.parsed, root, false);\n      return has ? [root] : [];\n    };\n    return { queryAll };\n  }\n  _createHasNotEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const has = !!this.querySelector(body.parsed, root, false);\n      return has ? [] : [root];\n    };\n    return { queryAll };\n  }\n  _createVisibleEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const visible = body === "true";\n      return isElementVisible(root) === visible ? [root] : [];\n    };\n    return { queryAll };\n  }\n  _createInternalChainEngine() {\n    const queryAll = (root, body) => {\n      return this.querySelectorAll(body.parsed, root);\n    };\n    return { queryAll };\n  }\n  extend(source, params) {\n    const constrFunction = this.window.eval(`\n    (() => {\n      const module = {};\n      ${source}\n      return module.exports.default();\n    })()`);\n    return new constrFunction(this, params);\n  }\n  async viewportRatio(element) {\n    return await new Promise((resolve) => {\n      const observer = new IntersectionObserver((entries) => {\n        resolve(entries[0].intersectionRatio);\n        observer.disconnect();\n      });\n      observer.observe(element);\n      this.utils.builtins.requestAnimationFrame(() => {\n      });\n    });\n  }\n  getElementBorderWidth(node) {\n    if (node.nodeType !== Node.ELEMENT_NODE || !node.ownerDocument || !node.ownerDocument.defaultView)\n      return { left: 0, top: 0 };\n    const style = node.ownerDocument.defaultView.getComputedStyle(node);\n    return { left: parseInt(style.borderLeftWidth || "", 10), top: parseInt(style.borderTopWidth || "", 10) };\n  }\n  describeIFrameStyle(iframe) {\n    if (!iframe.ownerDocument || !iframe.ownerDocument.defaultView)\n      return "error:notconnected";\n    const defaultView = iframe.ownerDocument.defaultView;\n    for (let e = iframe; e; e = parentElementOrShadowHost(e)) {\n      if (defaultView.getComputedStyle(e).transform !== "none")\n        return "transformed";\n    }\n    const iframeStyle = defaultView.getComputedStyle(iframe);\n    return {\n      left: parseInt(iframeStyle.borderLeftWidth || "", 10) + parseInt(iframeStyle.paddingLeft || "", 10),\n      top: parseInt(iframeStyle.borderTopWidth || "", 10) + parseInt(iframeStyle.paddingTop || "", 10)\n    };\n  }\n  retarget(node, behavior) {\n    let element = node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;\n    if (!element)\n      return null;\n    if (behavior === "none")\n      return element;\n    if (!element.matches("input, textarea, select") && !element.isContentEditable) {\n      if (behavior === "button-link")\n        element = element.closest("button, [role=button], a, [role=link]") || element;\n      else\n        element = element.closest("button, [role=button], [role=checkbox], [role=radio]") || element;\n    }\n    if (behavior === "follow-label") {\n      if (!element.matches("a, input, textarea, button, select, [role=link], [role=button], [role=checkbox], [role=radio]") && !element.isContentEditable) {\n        const enclosingLabel = element.closest("label");\n        if (enclosingLabel && enclosingLabel.control)\n          element = enclosingLabel.control;\n      }\n    }\n    return element;\n  }\n  async checkElementStates(node, states) {\n    if (states.includes("stable")) {\n      const stableResult = await this._checkElementIsStable(node);\n      if (stableResult === false)\n        return { missingState: "stable" };\n      if (stableResult === "error:notconnected")\n        return "error:notconnected";\n    }\n    for (const state of states) {\n      if (state !== "stable") {\n        const result = this.elementState(node, state);\n        if (result.received === "error:notconnected")\n          return "error:notconnected";\n        if (!result.matches)\n          return { missingState: state };\n      }\n    }\n  }\n  async _checkElementIsStable(node) {\n    const continuePolling = Symbol("continuePolling");\n    let lastRect;\n    let stableRafCounter = 0;\n    let lastTime = 0;\n    const check = () => {\n      const element = this.retarget(node, "no-follow-label");\n      if (!element)\n        return "error:notconnected";\n      const time = this.utils.builtins.performance.now();\n      if (this._stableRafCount > 1 && time - lastTime < 15)\n        return continuePolling;\n      lastTime = time;\n      const clientRect = element.getBoundingClientRect();\n      const rect = { x: clientRect.top, y: clientRect.left, width: clientRect.width, height: clientRect.height };\n      if (lastRect) {\n        const samePosition = rect.x === lastRect.x && rect.y === lastRect.y && rect.width === lastRect.width && rect.height === lastRect.height;\n        if (!samePosition)\n          return false;\n        if (++stableRafCounter >= this._stableRafCount)\n          return true;\n      }\n      lastRect = rect;\n      return continuePolling;\n    };\n    let fulfill;\n    let reject;\n    const result = new Promise((f, r) => {\n      fulfill = f;\n      reject = r;\n    });\n    const raf = () => {\n      try {\n        const success = check();\n        if (success !== continuePolling)\n          fulfill(success);\n        else\n          this.utils.builtins.requestAnimationFrame(raf);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    this.utils.builtins.requestAnimationFrame(raf);\n    return result;\n  }\n  _createAriaRefEngine() {\n    const queryAll = (root, selector) => {\n      var _a, _b;\n      const result = (_b = (_a = this._lastAriaSnapshot) == null ? void 0 : _a.elements) == null ? void 0 : _b.get(selector);\n      return result && result.isConnected ? [result] : [];\n    };\n    return { queryAll };\n  }\n  elementState(node, state) {\n    const element = this.retarget(node, ["visible", "hidden"].includes(state) ? "none" : "follow-label");\n    if (!element || !element.isConnected) {\n      if (state === "hidden")\n        return { matches: true, received: "hidden" };\n      return { matches: false, received: "error:notconnected" };\n    }\n    if (state === "visible" || state === "hidden") {\n      const visible = isElementVisible(element);\n      return {\n        matches: state === "visible" ? visible : !visible,\n        received: visible ? "visible" : "hidden"\n      };\n    }\n    if (state === "disabled" || state === "enabled") {\n      const disabled = getAriaDisabled(element);\n      return {\n        matches: state === "disabled" ? disabled : !disabled,\n        received: disabled ? "disabled" : "enabled"\n      };\n    }\n    if (state === "editable") {\n      const disabled = getAriaDisabled(element);\n      const readonly = getReadonly(element);\n      if (readonly === "error")\n        throw this.createStacklessError("Element is not an <input>, <textarea>, <select> or [contenteditable] and does not have a role allowing [aria-readonly]");\n      return {\n        matches: !disabled && !readonly,\n        received: disabled ? "disabled" : readonly ? "readOnly" : "editable"\n      };\n    }\n    if (state === "checked" || state === "unchecked") {\n      const need = state === "checked";\n      const checked = getCheckedWithoutMixed(element);\n      if (checked === "error")\n        throw this.createStacklessError("Not a checkbox or radio button");\n      const isRadio = element.nodeName === "INPUT" && element.type === "radio";\n      return {\n        matches: need === checked,\n        received: checked ? "checked" : "unchecked",\n        isRadio\n      };\n    }\n    if (state === "indeterminate") {\n      const checked = getCheckedAllowMixed(element);\n      if (checked === "error")\n        throw this.createStacklessError("Not a checkbox or radio button");\n      return {\n        matches: checked === "mixed",\n        received: checked === true ? "checked" : checked === false ? "unchecked" : "mixed"\n      };\n    }\n    throw this.createStacklessError(`Unexpected element state "${state}"`);\n  }\n  selectOptions(node, optionsToSelect) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() !== "select")\n      throw this.createStacklessError("Element is not a <select> element");\n    const select = element;\n    const options = [...select.options];\n    const selectedOptions = [];\n    let remainingOptionsToSelect = optionsToSelect.slice();\n    for (let index = 0; index < options.length; index++) {\n      const option = options[index];\n      const filter = (optionToSelect) => {\n        if (optionToSelect instanceof Node)\n          return option === optionToSelect;\n        let matches = true;\n        if (optionToSelect.valueOrLabel !== void 0)\n          matches = matches && (optionToSelect.valueOrLabel === option.value || optionToSelect.valueOrLabel === option.label);\n        if (optionToSelect.value !== void 0)\n          matches = matches && optionToSelect.value === option.value;\n        if (optionToSelect.label !== void 0)\n          matches = matches && optionToSelect.label === option.label;\n        if (optionToSelect.index !== void 0)\n          matches = matches && optionToSelect.index === index;\n        return matches;\n      };\n      if (!remainingOptionsToSelect.some(filter))\n        continue;\n      if (!this.elementState(option, "enabled").matches)\n        return "error:optionnotenabled";\n      selectedOptions.push(option);\n      if (select.multiple) {\n        remainingOptionsToSelect = remainingOptionsToSelect.filter((o) => !filter(o));\n      } else {\n        remainingOptionsToSelect = [];\n        break;\n      }\n    }\n    if (remainingOptionsToSelect.length)\n      return "error:optionsnotfound";\n    select.value = void 0;\n    selectedOptions.forEach((option) => option.selected = true);\n    select.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n    select.dispatchEvent(new Event("change", { bubbles: true }));\n    return selectedOptions.map((option) => option.value);\n  }\n  fill(node, value) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() === "input") {\n      const input = element;\n      const type = input.type.toLowerCase();\n      const kInputTypesToSetValue = /* @__PURE__ */ new Set(["color", "date", "time", "datetime-local", "month", "range", "week"]);\n      const kInputTypesToTypeInto = /* @__PURE__ */ new Set(["", "email", "number", "password", "search", "tel", "text", "url"]);\n      if (!kInputTypesToTypeInto.has(type) && !kInputTypesToSetValue.has(type))\n        throw this.createStacklessError(`Input of type "${type}" cannot be filled`);\n      if (type === "number") {\n        value = value.trim();\n        if (isNaN(Number(value)))\n          throw this.createStacklessError("Cannot type text into input[type=number]");\n      }\n      if (kInputTypesToSetValue.has(type)) {\n        value = value.trim();\n        input.focus();\n        input.value = value;\n        if (input.value !== value)\n          throw this.createStacklessError("Malformed value");\n        element.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n        element.dispatchEvent(new Event("change", { bubbles: true }));\n        return "done";\n      }\n    } else if (element.nodeName.toLowerCase() === "textarea") {\n    } else if (!element.isContentEditable) {\n      throw this.createStacklessError("Element is not an <input>, <textarea> or [contenteditable] element");\n    }\n    this.selectText(element);\n    return "needsinput";\n  }\n  selectText(node) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() === "input") {\n      const input = element;\n      input.select();\n      input.focus();\n      return "done";\n    }\n    if (element.nodeName.toLowerCase() === "textarea") {\n      const textarea = element;\n      textarea.selectionStart = 0;\n      textarea.selectionEnd = textarea.value.length;\n      textarea.focus();\n      return "done";\n    }\n    const range = element.ownerDocument.createRange();\n    range.selectNodeContents(element);\n    const selection = element.ownerDocument.defaultView.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n    element.focus();\n    return "done";\n  }\n  _activelyFocused(node) {\n    const activeElement = node.getRootNode().activeElement;\n    const isFocused = activeElement === node && !!node.ownerDocument && node.ownerDocument.hasFocus();\n    return { activeElement, isFocused };\n  }\n  focusNode(node, resetSelectionIfNotFocused) {\n    if (!node.isConnected)\n      return "error:notconnected";\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Node is not an element");\n    const { activeElement, isFocused: wasFocused } = this._activelyFocused(node);\n    if (node.isContentEditable && !wasFocused && activeElement && activeElement.blur) {\n      activeElement.blur();\n    }\n    node.focus();\n    node.focus();\n    if (resetSelectionIfNotFocused && !wasFocused && node.nodeName.toLowerCase() === "input") {\n      try {\n        const input = node;\n        input.setSelectionRange(0, 0);\n      } catch (e) {\n      }\n    }\n    return "done";\n  }\n  blurNode(node) {\n    if (!node.isConnected)\n      return "error:notconnected";\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Node is not an element");\n    node.blur();\n    return "done";\n  }\n  setInputFiles(node, payloads) {\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return "Node is not of type HTMLElement";\n    const element = node;\n    if (element.nodeName !== "INPUT")\n      return "Not an <input> element";\n    const input = element;\n    const type = (input.getAttribute("type") || "").toLowerCase();\n    if (type !== "file")\n      return "Not an input[type=file] element";\n    const files = payloads.map((file) => {\n      const bytes = Uint8Array.from(atob(file.buffer), (c) => c.charCodeAt(0));\n      return new File([bytes], file.name, { type: file.mimeType, lastModified: file.lastModifiedMs });\n    });\n    const dt = new DataTransfer();\n    for (const file of files)\n      dt.items.add(file);\n    input.files = dt.files;\n    input.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n    input.dispatchEvent(new Event("change", { bubbles: true }));\n  }\n  expectHitTarget(hitPoint, targetElement) {\n    const roots = [];\n    let parentElement = targetElement;\n    while (parentElement) {\n      const root = enclosingShadowRootOrDocument(parentElement);\n      if (!root)\n        break;\n      roots.push(root);\n      if (root.nodeType === 9)\n        break;\n      parentElement = root.host;\n    }\n    let hitElement;\n    for (let index = roots.length - 1; index >= 0; index--) {\n      const root = roots[index];\n      const elements = root.elementsFromPoint(hitPoint.x, hitPoint.y);\n      const singleElement = root.elementFromPoint(hitPoint.x, hitPoint.y);\n      if (singleElement && elements[0] && parentElementOrShadowHost(singleElement) === elements[0]) {\n        const style = this.window.getComputedStyle(singleElement);\n        if ((style == null ? void 0 : style.display) === "contents") {\n          elements.unshift(singleElement);\n        }\n      }\n      if (elements[0] && elements[0].shadowRoot === root && elements[1] === singleElement) {\n        elements.shift();\n      }\n      const innerElement = elements[0];\n      if (!innerElement)\n        break;\n      hitElement = innerElement;\n      if (index && innerElement !== roots[index - 1].host)\n        break;\n    }\n    const hitParents = [];\n    while (hitElement && hitElement !== targetElement) {\n      hitParents.push(hitElement);\n      hitElement = parentElementOrShadowHost(hitElement);\n    }\n    if (hitElement === targetElement)\n      return "done";\n    const hitTargetDescription = this.previewNode(hitParents[0] || this.document.documentElement);\n    let rootHitTargetDescription;\n    let element = targetElement;\n    while (element) {\n      const index = hitParents.indexOf(element);\n      if (index !== -1) {\n        if (index > 1)\n          rootHitTargetDescription = this.previewNode(hitParents[index - 1]);\n        break;\n      }\n      element = parentElementOrShadowHost(element);\n    }\n    if (rootHitTargetDescription)\n      return { hitTargetDescription: `${hitTargetDescription} from ${rootHitTargetDescription} subtree` };\n    return { hitTargetDescription };\n  }\n  // Life of a pointer action, for example click.\n  //\n  // 0. Retry items 1 and 2 while action fails due to navigation or element being detached.\n  //   1. Resolve selector to an element.\n  //   2. Retry the following steps until the element is detached or frame navigates away.\n  //     2a. Wait for the element to be stable (not moving), visible and enabled.\n  //     2b. Scroll element into view. Scrolling alternates between:\n  //         - Built-in protocol scrolling.\n  //         - Anchoring to the top/left, bottom/right and center/center.\n  //         This is to scroll elements from under sticky headers/footers.\n  //     2c. Click point is calculated, either based on explicitly specified position,\n  //         or some visible point of the element based on protocol content quads.\n  //     2d. Click point relative to page viewport is converted relative to the target iframe\n  //         for the next hit-point check.\n  //     2e. (injected) Hit target at the click point must be a descendant of the target element.\n  //         This prevents mis-clicking in edge cases like <iframe> overlaying the target.\n  //     2f. (injected) Events specific for click (or some other action type) are intercepted on\n  //         the Window with capture:true. See 2i for details.\n  //         Note: this step is skipped for drag&drop (see inline comments for the reason).\n  //     2g. Necessary keyboard modifiers are pressed.\n  //     2h. Click event is issued (mousemove + mousedown + mouseup).\n  //     2i. (injected) For each event, we check that hit target at the event point\n  //         is a descendant of the target element.\n  //         This guarantees no race between issuing the event and handling it in the page,\n  //         for example due to layout shift.\n  //         When hit target check fails, we block all future events in the page.\n  //     2j. Keyboard modifiers are restored.\n  //     2k. (injected) Event interceptor is removed.\n  //     2l. All navigations triggered between 2g-2k are awaited to be either committed or canceled.\n  //     2m. If failed, wait for increasing amount of time before the next retry.\n  setupHitTargetInterceptor(node, action, hitPoint, blockAllEvents) {\n    const element = this.retarget(node, "button-link");\n    if (!element || !element.isConnected)\n      return "error:notconnected";\n    if (hitPoint) {\n      const preliminaryResult = this.expectHitTarget(hitPoint, element);\n      if (preliminaryResult !== "done")\n        return preliminaryResult.hitTargetDescription;\n    }\n    if (action === "drag")\n      return { stop: () => "done" };\n    const events = {\n      "hover": this._hoverHitTargetInterceptorEvents,\n      "tap": this._tapHitTargetInterceptorEvents,\n      "mouse": this._mouseHitTargetInterceptorEvents\n    }[action];\n    let result;\n    const listener = (event) => {\n      if (!events.has(event.type))\n        return;\n      if (!event.isTrusted)\n        return;\n      const point = !!this.window.TouchEvent && event instanceof this.window.TouchEvent ? event.touches[0] : event;\n      if (result === void 0 && point)\n        result = this.expectHitTarget({ x: point.clientX, y: point.clientY }, element);\n      if (blockAllEvents || result !== "done" && result !== void 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        event.stopImmediatePropagation();\n      }\n    };\n    const stop = () => {\n      if (this._hitTargetInterceptor === listener)\n        this._hitTargetInterceptor = void 0;\n      return result || "done";\n    };\n    this._hitTargetInterceptor = listener;\n    return { stop };\n  }\n  dispatchEvent(node, type, eventInitObj) {\n    var _a, _b, _c, _d, _e;\n    let event;\n    const eventInit = { bubbles: true, cancelable: true, composed: true, ...eventInitObj };\n    switch (this._eventTypes.get(type)) {\n      case "mouse":\n        event = new MouseEvent(type, eventInit);\n        break;\n      case "keyboard":\n        event = new KeyboardEvent(type, eventInit);\n        break;\n      case "touch": {\n        if (this._browserName === "webkit") {\n          const createTouch = (t) => {\n            var _a2, _b2, _c2;\n            if (t instanceof Touch)\n              return t;\n            let pageX = t.pageX;\n            if (pageX === void 0 && t.clientX !== void 0)\n              pageX = t.clientX + (((_a2 = this.document.scrollingElement) == null ? void 0 : _a2.scrollLeft) || 0);\n            let pageY = t.pageY;\n            if (pageY === void 0 && t.clientY !== void 0)\n              pageY = t.clientY + (((_b2 = this.document.scrollingElement) == null ? void 0 : _b2.scrollTop) || 0);\n            return this.document.createTouch(this.window, (_c2 = t.target) != null ? _c2 : node, t.identifier, pageX, pageY, t.screenX, t.screenY, t.radiusX, t.radiusY, t.rotationAngle, t.force);\n          };\n          const createTouchList = (touches) => {\n            if (touches instanceof TouchList || !touches)\n              return touches;\n            return this.document.createTouchList(...touches.map(createTouch));\n          };\n          (_a = eventInit.target) != null ? _a : eventInit.target = node;\n          eventInit.touches = createTouchList(eventInit.touches);\n          eventInit.targetTouches = createTouchList(eventInit.targetTouches);\n          eventInit.changedTouches = createTouchList(eventInit.changedTouches);\n          event = new TouchEvent(type, eventInit);\n        } else {\n          (_b = eventInit.target) != null ? _b : eventInit.target = node;\n          eventInit.touches = (_c = eventInit.touches) == null ? void 0 : _c.map((t) => {\n            var _a2;\n            return t instanceof Touch ? t : new Touch({ ...t, target: (_a2 = t.target) != null ? _a2 : node });\n          });\n          eventInit.targetTouches = (_d = eventInit.targetTouches) == null ? void 0 : _d.map((t) => {\n            var _a2;\n            return t instanceof Touch ? t : new Touch({ ...t, target: (_a2 = t.target) != null ? _a2 : node });\n          });\n          eventInit.changedTouches = (_e = eventInit.changedTouches) == null ? void 0 : _e.map((t) => {\n            var _a2;\n            return t instanceof Touch ? t : new Touch({ ...t, target: (_a2 = t.target) != null ? _a2 : node });\n          });\n          event = new TouchEvent(type, eventInit);\n        }\n        break;\n      }\n      case "pointer":\n        event = new PointerEvent(type, eventInit);\n        break;\n      case "focus":\n        event = new FocusEvent(type, eventInit);\n        break;\n      case "drag":\n        event = new DragEvent(type, eventInit);\n        break;\n      case "wheel":\n        event = new WheelEvent(type, eventInit);\n        break;\n      case "deviceorientation":\n        try {\n          event = new DeviceOrientationEvent(type, eventInit);\n        } catch {\n          const { bubbles, cancelable, alpha, beta, gamma, absolute } = eventInit;\n          event = this.document.createEvent("DeviceOrientationEvent");\n          event.initDeviceOrientationEvent(type, bubbles, cancelable, alpha, beta, gamma, absolute);\n        }\n        break;\n      case "devicemotion":\n        try {\n          event = new DeviceMotionEvent(type, eventInit);\n        } catch {\n          const { bubbles, cancelable, acceleration, accelerationIncludingGravity, rotationRate, interval } = eventInit;\n          event = this.document.createEvent("DeviceMotionEvent");\n          event.initDeviceMotionEvent(type, bubbles, cancelable, acceleration, accelerationIncludingGravity, rotationRate, interval);\n        }\n        break;\n      default:\n        event = new Event(type, eventInit);\n        break;\n    }\n    node.dispatchEvent(event);\n  }\n  previewNode(node) {\n    if (node.nodeType === Node.TEXT_NODE)\n      return oneLine(`#text=${node.nodeValue || ""}`);\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return oneLine(`<${node.nodeName.toLowerCase()} />`);\n    const element = node;\n    const attrs = [];\n    for (let i = 0; i < element.attributes.length; i++) {\n      const { name, value } = element.attributes[i];\n      if (name === "style")\n        continue;\n      if (!value && this._booleanAttributes.has(name))\n        attrs.push(` ${name}`);\n      else\n        attrs.push(` ${name}="${value}"`);\n    }\n    attrs.sort((a, b) => a.length - b.length);\n    const attrText = trimStringWithEllipsis(attrs.join(""), 500);\n    if (this._autoClosingTags.has(element.nodeName))\n      return oneLine(`<${element.nodeName.toLowerCase()}${attrText}/>`);\n    const children = element.childNodes;\n    let onlyText = false;\n    if (children.length <= 5) {\n      onlyText = true;\n      for (let i = 0; i < children.length; i++)\n        onlyText = onlyText && children[i].nodeType === Node.TEXT_NODE;\n    }\n    const text = onlyText ? element.textContent || "" : children.length ? "\\u2026" : "";\n    return oneLine(`<${element.nodeName.toLowerCase()}${attrText}>${trimStringWithEllipsis(text, 50)}</${element.nodeName.toLowerCase()}>`);\n  }\n  strictModeViolationError(selector, matches) {\n    this._evaluator.begin();\n    beginAriaCaches();\n    beginDOMCaches();\n    try {\n      const maxElements = this._isUtilityWorld && this._browserName === "firefox" ? 2 : 10;\n      const infos = matches.slice(0, maxElements).map((m) => ({\n        preview: this.previewNode(m),\n        selector: this.generateSelectorSimple(m)\n      }));\n      const lines = infos.map((info, i) => `\n    ${i + 1}) ${info.preview} aka ${asLocator(this._sdkLanguage, info.selector)}`);\n      if (infos.length < matches.length)\n        lines.push("\\n    ...");\n      return this.createStacklessError(`strict mode violation: ${asLocator(this._sdkLanguage, stringifySelector(selector))} resolved to ${matches.length} elements:${lines.join("")}\n`);\n    } finally {\n      endDOMCaches();\n      endAriaCaches();\n      this._evaluator.end();\n    }\n  }\n  createStacklessError(message) {\n    if (this._browserName === "firefox") {\n      const error2 = new Error("Error: " + message);\n      error2.stack = "";\n      return error2;\n    }\n    const error = new Error(message);\n    delete error.stack;\n    return error;\n  }\n  createHighlight() {\n    return new Highlight(this);\n  }\n  maskSelectors(selectors, color) {\n    if (this._highlight)\n      this.hideHighlight();\n    this._highlight = new Highlight(this);\n    this._highlight.install();\n    const elements = [];\n    for (const selector of selectors)\n      elements.push(this.querySelectorAll(selector, this.document.documentElement));\n    this._highlight.maskElements(elements.flat(), color);\n  }\n  highlight(selector) {\n    if (!this._highlight) {\n      this._highlight = new Highlight(this);\n      this._highlight.install();\n    }\n    this._highlight.runHighlightOnRaf(selector);\n  }\n  hideHighlight() {\n    if (this._highlight) {\n      this._highlight.uninstall();\n      delete this._highlight;\n    }\n  }\n  markTargetElements(markedElements, callId) {\n    var _a, _b;\n    if (((_a = this._markedElements) == null ? void 0 : _a.callId) !== callId)\n      this._markedElements = void 0;\n    const previous = ((_b = this._markedElements) == null ? void 0 : _b.elements) || /* @__PURE__ */ new Set();\n    const unmarkEvent = new CustomEvent("__playwright_unmark_target__", {\n      bubbles: true,\n      cancelable: true,\n      detail: callId,\n      composed: true\n    });\n    for (const element of previous) {\n      if (!markedElements.has(element))\n        element.dispatchEvent(unmarkEvent);\n    }\n    const markEvent = new CustomEvent("__playwright_mark_target__", {\n      bubbles: true,\n      cancelable: true,\n      detail: callId,\n      composed: true\n    });\n    for (const element of markedElements) {\n      if (!previous.has(element))\n        element.dispatchEvent(markEvent);\n    }\n    this._markedElements = { callId, elements: markedElements };\n  }\n  _setupGlobalListenersRemovalDetection() {\n    const customEventName = "__playwright_global_listeners_check__";\n    let seenEvent = false;\n    const handleCustomEvent = () => seenEvent = true;\n    this.window.addEventListener(customEventName, handleCustomEvent);\n    new MutationObserver((entries) => {\n      const newDocumentElement = entries.some((entry) => Array.from(entry.addedNodes).includes(this.document.documentElement));\n      if (!newDocumentElement)\n        return;\n      seenEvent = false;\n      this.window.dispatchEvent(new CustomEvent(customEventName));\n      if (seenEvent)\n        return;\n      this.window.addEventListener(customEventName, handleCustomEvent);\n      for (const callback of this.onGlobalListenersRemoved)\n        callback();\n    }).observe(this.document, { childList: true });\n  }\n  _setupHitTargetInterceptors() {\n    const listener = (event) => {\n      var _a;\n      return (_a = this._hitTargetInterceptor) == null ? void 0 : _a.call(this, event);\n    };\n    const addHitTargetInterceptorListeners = () => {\n      for (const event of this._allHitTargetInterceptorEvents)\n        this.window.addEventListener(event, listener, { capture: true, passive: false });\n    };\n    addHitTargetInterceptorListeners();\n    this.onGlobalListenersRemoved.add(addHitTargetInterceptorListeners);\n  }\n  async expect(element, options, elements) {\n    var _a, _b;\n    const isArray = options.expression === "to.have.count" || options.expression.endsWith(".array");\n    if (isArray)\n      return this.expectArray(elements, options);\n    if (!element) {\n      if (!options.isNot && options.expression === "to.be.hidden")\n        return { matches: true };\n      if (options.isNot && options.expression === "to.be.visible")\n        return { matches: false };\n      if (!options.isNot && options.expression === "to.be.detached")\n        return { matches: true };\n      if (options.isNot && options.expression === "to.be.attached")\n        return { matches: false };\n      if (options.isNot && options.expression === "to.be.in.viewport")\n        return { matches: false };\n      if (options.expression === "to.have.title" && ((_a = options == null ? void 0 : options.expectedText) == null ? void 0 : _a[0])) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        const received = this.document.title;\n        return { received, matches: matcher.matches(received) };\n      }\n      if (options.expression === "to.have.url" && ((_b = options == null ? void 0 : options.expectedText) == null ? void 0 : _b[0])) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        const received = this.document.location.href;\n        return { received, matches: matcher.matches(received) };\n      }\n      return { matches: options.isNot, missingReceived: true };\n    }\n    return await this.expectSingleElement(element, options);\n  }\n  async expectSingleElement(element, options) {\n    var _a, _b;\n    const expression = options.expression;\n    {\n      let result;\n      if (expression === "to.have.attribute") {\n        const hasAttribute = element.hasAttribute(options.expressionArg);\n        result = {\n          matches: hasAttribute,\n          received: hasAttribute ? "attribute present" : "attribute not present"\n        };\n      } else if (expression === "to.be.checked") {\n        const { checked, indeterminate } = options.expectedValue;\n        if (indeterminate) {\n          if (checked !== void 0)\n            throw this.createStacklessError("Can\'t assert indeterminate and checked at the same time");\n          result = this.elementState(element, "indeterminate");\n        } else {\n          result = this.elementState(element, checked === false ? "unchecked" : "checked");\n        }\n      } else if (expression === "to.be.disabled") {\n        result = this.elementState(element, "disabled");\n      } else if (expression === "to.be.editable") {\n        result = this.elementState(element, "editable");\n      } else if (expression === "to.be.readonly") {\n        result = this.elementState(element, "editable");\n        result.matches = !result.matches;\n      } else if (expression === "to.be.empty") {\n        if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {\n          const value = element.value;\n          result = { matches: !value, received: value ? "notEmpty" : "empty" };\n        } else {\n          const text = (_a = element.textContent) == null ? void 0 : _a.trim();\n          result = { matches: !text, received: text ? "notEmpty" : "empty" };\n        }\n      } else if (expression === "to.be.enabled") {\n        result = this.elementState(element, "enabled");\n      } else if (expression === "to.be.focused") {\n        const focused = this._activelyFocused(element).isFocused;\n        result = {\n          matches: focused,\n          received: focused ? "focused" : "inactive"\n        };\n      } else if (expression === "to.be.hidden") {\n        result = this.elementState(element, "hidden");\n      } else if (expression === "to.be.visible") {\n        result = this.elementState(element, "visible");\n      } else if (expression === "to.be.attached") {\n        result = {\n          matches: true,\n          received: "attached"\n        };\n      } else if (expression === "to.be.detached") {\n        result = {\n          matches: false,\n          received: "attached"\n        };\n      }\n      if (result) {\n        if (result.received === "error:notconnected")\n          throw this.createStacklessError("Element is not connected");\n        return result;\n      }\n    }\n    {\n      if (expression === "to.have.property") {\n        let target = element;\n        const properties = options.expressionArg.split(".");\n        for (let i = 0; i < properties.length - 1; i++) {\n          if (typeof target !== "object" || !(properties[i] in target))\n            return { received: void 0, matches: false };\n          target = target[properties[i]];\n        }\n        const received = target[properties[properties.length - 1]];\n        const matches = deepEquals(received, options.expectedValue);\n        return { received, matches };\n      }\n    }\n    {\n      if (expression === "to.be.in.viewport") {\n        const ratio = await this.viewportRatio(element);\n        return { received: `viewport ratio ${ratio}`, matches: ratio > 0 && ratio > ((_b = options.expectedNumber) != null ? _b : 0) - 1e-9 };\n      }\n    }\n    {\n      if (expression === "to.have.values") {\n        element = this.retarget(element, "follow-label");\n        if (element.nodeName !== "SELECT" || !element.multiple)\n          throw this.createStacklessError("Not a select element with a multiple attribute");\n        const received = [...element.selectedOptions].map((o) => o.value);\n        if (received.length !== options.expectedText.length)\n          return { received, matches: false };\n        return { received, matches: received.map((r, i) => new ExpectedTextMatcher(options.expectedText[i]).matches(r)).every(Boolean) };\n      }\n    }\n    {\n      if (expression === "to.match.aria") {\n        const result = matchesExpectAriaTemplate(element, options.expectedValue);\n        return {\n          received: result.received,\n          matches: !!result.matches.length\n        };\n      }\n    }\n    {\n      let received;\n      if (expression === "to.have.attribute.value") {\n        const value = element.getAttribute(options.expressionArg);\n        if (value === null)\n          return { received: null, matches: false };\n        received = value;\n      } else if (["to.have.class", "to.contain.class"].includes(expression)) {\n        if (!options.expectedText)\n          throw this.createStacklessError("Expected text is not provided for " + expression);\n        return {\n          received: element.classList.toString(),\n          matches: new ExpectedTextMatcher(options.expectedText[0]).matchesClassList(\n            this,\n            element.classList,\n            /* partial */\n            expression === "to.contain.class"\n          )\n        };\n      } else if (expression === "to.have.css") {\n        received = this.window.getComputedStyle(element).getPropertyValue(options.expressionArg);\n      } else if (expression === "to.have.id") {\n        received = element.id;\n      } else if (expression === "to.have.text") {\n        received = options.useInnerText ? element.innerText : elementText(/* @__PURE__ */ new Map(), element).full;\n      } else if (expression === "to.have.accessible.name") {\n        received = getElementAccessibleName(\n          element,\n          false\n          /* includeHidden */\n        );\n      } else if (expression === "to.have.accessible.description") {\n        received = getElementAccessibleDescription(\n          element,\n          false\n          /* includeHidden */\n        );\n      } else if (expression === "to.have.accessible.error.message") {\n        received = getElementAccessibleErrorMessage(element);\n      } else if (expression === "to.have.role") {\n        received = getAriaRole(element) || "";\n      } else if (expression === "to.have.value") {\n        element = this.retarget(element, "follow-label");\n        if (element.nodeName !== "INPUT" && element.nodeName !== "TEXTAREA" && element.nodeName !== "SELECT")\n          throw this.createStacklessError("Not an input element");\n        received = element.value;\n      }\n      if (received !== void 0 && options.expectedText) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        return { received, matches: matcher.matches(received) };\n      }\n    }\n    throw this.createStacklessError("Unknown expect matcher: " + expression);\n  }\n  expectArray(elements, options) {\n    const expression = options.expression;\n    if (expression === "to.have.count") {\n      const received2 = elements.length;\n      const matches2 = received2 === options.expectedNumber;\n      return { received: received2, matches: matches2 };\n    }\n    if (!options.expectedText)\n      throw this.createStacklessError("Expected text is not provided for " + expression);\n    if (["to.have.class.array", "to.contain.class.array"].includes(expression)) {\n      const receivedClassLists = elements.map((e) => e.classList);\n      const received2 = receivedClassLists.map(String);\n      if (receivedClassLists.length !== options.expectedText.length)\n        return { received: received2, matches: false };\n      const matches2 = this._matchSequentially(\n        options.expectedText,\n        receivedClassLists,\n        (matcher, r) => matcher.matchesClassList(\n          this,\n          r,\n          /* partial */\n          expression === "to.contain.class.array"\n        )\n      );\n      return {\n        received: received2,\n        matches: matches2\n      };\n    }\n    if (!["to.contain.text.array", "to.have.text.array"].includes(expression))\n      throw this.createStacklessError("Unknown expect matcher: " + expression);\n    const received = elements.map((e) => options.useInnerText ? e.innerText : elementText(/* @__PURE__ */ new Map(), e).full);\n    const lengthShouldMatch = expression !== "to.contain.text.array";\n    const matchesLength = received.length === options.expectedText.length || !lengthShouldMatch;\n    if (!matchesLength)\n      return { received, matches: false };\n    const matches = this._matchSequentially(options.expectedText, received, (matcher, r) => matcher.matches(r));\n    return { received, matches };\n  }\n  _matchSequentially(expectedText, received, matchFn) {\n    const matchers = expectedText.map((e) => new ExpectedTextMatcher(e));\n    let mIndex = 0;\n    let rIndex = 0;\n    while (mIndex < matchers.length && rIndex < received.length) {\n      if (matchFn(matchers[mIndex], received[rIndex]))\n        ++mIndex;\n      ++rIndex;\n    }\n    return mIndex === matchers.length;\n  }\n};\nfunction oneLine(s) {\n  return s.replace(/\\n/g, "\\u21B5").replace(/\\t/g, "\\u21C6");\n}\nfunction cssUnquote(s) {\n  s = s.substring(1, s.length - 1);\n  if (!s.includes("\\\\"))\n    return s;\n  const r = [];\n  let i = 0;\n  while (i < s.length) {\n    if (s[i] === "\\\\" && i + 1 < s.length)\n      i++;\n    r.push(s[i++]);\n  }\n  return r.join("");\n}\nfunction createTextMatcher(selector, internal) {\n  if (selector[0] === "/" && selector.lastIndexOf("/") > 0) {\n    const lastSlash = selector.lastIndexOf("/");\n    const re = new RegExp(selector.substring(1, lastSlash), selector.substring(lastSlash + 1));\n    return { matcher: (elementText2) => re.test(elementText2.full), kind: "regex" };\n  }\n  const unquote = internal ? JSON.parse.bind(JSON) : cssUnquote;\n  let strict = false;\n  if (selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 1] === \'"\') {\n    selector = unquote(selector);\n    strict = true;\n  } else if (internal && selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 2] === \'"\' && selector[selector.length - 1] === "i") {\n    selector = unquote(selector.substring(0, selector.length - 1));\n    strict = false;\n  } else if (internal && selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 2] === \'"\' && selector[selector.length - 1] === "s") {\n    selector = unquote(selector.substring(0, selector.length - 1));\n    strict = true;\n  } else if (selector.length > 1 && selector[0] === "\'" && selector[selector.length - 1] === "\'") {\n    selector = unquote(selector);\n    strict = true;\n  }\n  selector = normalizeWhiteSpace(selector);\n  if (strict) {\n    if (internal)\n      return { kind: "strict", matcher: (elementText2) => elementText2.normalized === selector };\n    const strictTextNodeMatcher = (elementText2) => {\n      if (!selector && !elementText2.immediate.length)\n        return true;\n      return elementText2.immediate.some((s) => normalizeWhiteSpace(s) === selector);\n    };\n    return { matcher: strictTextNodeMatcher, kind: "strict" };\n  }\n  selector = selector.toLowerCase();\n  return { kind: "lax", matcher: (elementText2) => elementText2.normalized.toLowerCase().includes(selector) };\n}\nvar ExpectedTextMatcher = class {\n  constructor(expected) {\n    this._normalizeWhiteSpace = expected.normalizeWhiteSpace;\n    this._ignoreCase = expected.ignoreCase;\n    this._string = expected.matchSubstring ? void 0 : this.normalize(expected.string);\n    this._substring = expected.matchSubstring ? this.normalize(expected.string) : void 0;\n    if (expected.regexSource) {\n      const flags = new Set((expected.regexFlags || "").split(""));\n      if (expected.ignoreCase === false)\n        flags.delete("i");\n      if (expected.ignoreCase === true)\n        flags.add("i");\n      this._regex = new RegExp(expected.regexSource, [...flags].join(""));\n    }\n  }\n  matches(text) {\n    if (!this._regex)\n      text = this.normalize(text);\n    if (this._string !== void 0)\n      return text === this._string;\n    if (this._substring !== void 0)\n      return text.includes(this._substring);\n    if (this._regex)\n      return !!this._regex.test(text);\n    return false;\n  }\n  matchesClassList(injectedScript, classList, partial) {\n    if (partial) {\n      if (this._regex)\n        throw injectedScript.createStacklessError("Partial matching does not support regular expressions. Please provide a string value.");\n      return this._string.split(/\\s+/g).filter(Boolean).every((className) => classList.contains(className));\n    }\n    return this.matches(classList.toString());\n  }\n  normalize(s) {\n    if (!s)\n      return s;\n    if (this._normalizeWhiteSpace)\n      s = normalizeWhiteSpace(s);\n    if (this._ignoreCase)\n      s = s.toLocaleLowerCase();\n    return s;\n  }\n};\nfunction deepEquals(a, b) {\n  if (a === b)\n    return true;\n  if (a && b && typeof a === "object" && typeof b === "object") {\n    if (a.constructor !== b.constructor)\n      return false;\n    if (Array.isArray(a)) {\n      if (a.length !== b.length)\n        return false;\n      for (let i = 0; i < a.length; ++i) {\n        if (!deepEquals(a[i], b[i]))\n          return false;\n      }\n      return true;\n    }\n    if (a instanceof RegExp)\n      return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf)\n      return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString)\n      return a.toString() === b.toString();\n    const keys = Object.keys(a);\n    if (keys.length !== Object.keys(b).length)\n      return false;\n    for (let i = 0; i < keys.length; ++i) {\n      if (!b.hasOwnProperty(keys[i]))\n        return false;\n    }\n    for (const key of keys) {\n      if (!deepEquals(a[key], b[key]))\n        return false;\n    }\n    return true;\n  }\n  if (typeof a === "number" && typeof b === "number")\n    return isNaN(a) && isNaN(b);\n  return false;\n}\n';0&&0},9816:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{source:()=>Se});w.exports=__toCommonJS(ye);const Se='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/recorder/pollingRecorder.ts\nvar pollingRecorder_exports = {};\n__export(pollingRecorder_exports, {\n  PollingRecorder: () => PollingRecorder,\n  default: () => pollingRecorder_default\n});\nmodule.exports = __toCommonJS(pollingRecorder_exports);\n\n// packages/injected/src/recorder/clipPaths.ts\nvar svgJson = { "tagName": "svg", "children": [{ "tagName": "defs", "children": [{ "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-gripper" }, "children": [{ "tagName": "path", "attrs": { "d": "M5 3h2v2H5zm0 4h2v2H5zm0 4h2v2H5zm4-8h2v2H9zm0 4h2v2H9zm0 4h2v2H9z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-circle-large-filled" }, "children": [{ "tagName": "path", "attrs": { "d": "M8 1a6.8 6.8 0 0 1 1.86.253 6.899 6.899 0 0 1 3.083 1.805 6.903 6.903 0 0 1 1.804 3.083C14.916 6.738 15 7.357 15 8s-.084 1.262-.253 1.86a6.9 6.9 0 0 1-.704 1.674 7.157 7.157 0 0 1-2.516 2.509 6.966 6.966 0 0 1-1.668.71A6.984 6.984 0 0 1 8 15a6.984 6.984 0 0 1-1.86-.246 7.098 7.098 0 0 1-1.674-.711 7.3 7.3 0 0 1-1.415-1.094 7.295 7.295 0 0 1-1.094-1.415 7.098 7.098 0 0 1-.71-1.675A6.985 6.985 0 0 1 1 8c0-.643.082-1.262.246-1.86a6.968 6.968 0 0 1 .711-1.667 7.156 7.156 0 0 1 2.509-2.516 6.895 6.895 0 0 1 1.675-.704A6.808 6.808 0 0 1 8 1z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-stop-circle" }, "children": [{ "tagName": "path", "attrs": { "d": "M6 6h4v4H6z" } }, { "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-inspect" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M1 3l1-1h12l1 1v6h-1V3H2v8h5v1H2l-1-1V3zm14.707 9.707L9 6v9.414l2.707-2.707h4zM10 13V8.414l3.293 3.293h-2L10 13z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-whole-word" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M0 11H1V13H15V11H16V14H15H1H0V11Z" } }, { "tagName": "path", "attrs": { "d": "M6.84048 11H5.95963V10.1406H5.93814C5.555 10.7995 4.99104 11.1289 4.24625 11.1289C3.69839 11.1289 3.26871 10.9839 2.95718 10.6938C2.64924 10.4038 2.49527 10.0189 2.49527 9.53906C2.49527 8.51139 3.10041 7.91341 4.3107 7.74512L5.95963 7.51416C5.95963 6.57959 5.58186 6.1123 4.82632 6.1123C4.16389 6.1123 3.56591 6.33789 3.03238 6.78906V5.88672C3.57307 5.54297 4.19612 5.37109 4.90152 5.37109C6.19416 5.37109 6.84048 6.05501 6.84048 7.42285V11ZM5.95963 8.21777L4.63297 8.40039C4.22476 8.45768 3.91682 8.55973 3.70914 8.70654C3.50145 8.84977 3.39761 9.10579 3.39761 9.47461C3.39761 9.74316 3.4925 9.96338 3.68228 10.1353C3.87564 10.3035 4.13166 10.3877 4.45035 10.3877C4.8872 10.3877 5.24706 10.2355 5.52994 9.93115C5.8164 9.62321 5.95963 9.2347 5.95963 8.76562V8.21777Z" } }, { "tagName": "path", "attrs": { "d": "M9.3475 10.2051H9.32601V11H8.44515V2.85742H9.32601V6.4668H9.3475C9.78076 5.73633 10.4146 5.37109 11.2489 5.37109C11.9543 5.37109 12.5057 5.61816 12.9032 6.1123C13.3042 6.60286 13.5047 7.26172 13.5047 8.08887C13.5047 9.00911 13.2809 9.74674 12.8333 10.3018C12.3857 10.8532 11.7734 11.1289 10.9964 11.1289C10.2695 11.1289 9.71989 10.821 9.3475 10.2051ZM9.32601 7.98682V8.75488C9.32601 9.20964 9.47282 9.59635 9.76644 9.91504C10.0636 10.2301 10.4396 10.3877 10.8944 10.3877C11.4279 10.3877 11.8451 10.1836 12.1458 9.77539C12.4502 9.36719 12.6024 8.79964 12.6024 8.07275C12.6024 7.46045 12.4609 6.98063 12.1781 6.6333C11.8952 6.28597 11.512 6.1123 11.0286 6.1123C10.5166 6.1123 10.1048 6.29134 9.7933 6.64941C9.48177 7.00391 9.32601 7.44971 9.32601 7.98682Z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-eye" }, "children": [{ "tagName": "path", "attrs": { "d": "M7.99993 6.00316C9.47266 6.00316 10.6666 7.19708 10.6666 8.66981C10.6666 10.1426 9.47266 11.3365 7.99993 11.3365C6.52715 11.3365 5.33324 10.1426 5.33324 8.66981C5.33324 7.19708 6.52715 6.00316 7.99993 6.00316ZM7.99993 7.00315C7.07946 7.00315 6.33324 7.74935 6.33324 8.66981C6.33324 9.59028 7.07946 10.3365 7.99993 10.3365C8.9204 10.3365 9.6666 9.59028 9.6666 8.66981C9.6666 7.74935 8.9204 7.00315 7.99993 7.00315ZM7.99993 3.66675C11.0756 3.66675 13.7307 5.76675 14.4673 8.70968C14.5344 8.97755 14.3716 9.24908 14.1037 9.31615C13.8358 9.38315 13.5643 9.22041 13.4973 8.95248C12.8713 6.45205 10.6141 4.66675 7.99993 4.66675C5.38454 4.66675 3.12664 6.45359 2.50182 8.95555C2.43491 9.22341 2.16348 9.38635 1.89557 9.31948C1.62766 9.25255 1.46471 8.98115 1.53162 8.71321C2.26701 5.76856 4.9229 3.66675 7.99993 3.66675Z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-symbol-constant" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M4 6h8v1H4V6zm8 3H4v1h8V9z" } }, { "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M1 4l1-1h12l1 1v8l-1 1H2l-1-1V4zm1 0v8h12V4H2z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-check" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-close" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-pass" }, "children": [{ "tagName": "path", "attrs": { "d": "M6.27 10.87h.71l4.56-4.56-.71-.71-4.2 4.21-1.92-1.92L4 8.6l2.27 2.27z" } }, { "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z" } }] }, { "tagName": "clipPath", "attrs": { "width": "16", "height": "16", "viewBox": "0 0 16 16", "fill": "currentColor", "id": "icon-gist" }, "children": [{ "tagName": "path", "attrs": { "fill-rule": "evenodd", "clip-rule": "evenodd", "d": "M10.57 1.14l3.28 3.3.15.36v9.7l-.5.5h-11l-.5-.5v-13l.5-.5h7.72l.35.14zM10 5h3l-3-3v3zM3 2v12h10V6H9.5L9 5.5V2H3zm2.062 7.533l1.817-1.828L6.17 7 4 9.179v.707l2.171 2.174.707-.707-1.816-1.82zM8.8 7.714l.7-.709 2.189 2.175v.709L9.5 12.062l-.705-.709 1.831-1.82L8.8 7.714z" } }] }] }] };\nvar clipPaths_default = svgJson;\n\n// packages/injected/src/recorder/recorder.ts\nvar HighlightColors = {\n  multiple: "#f6b26b7f",\n  single: "#6fa8dc7f",\n  assert: "#8acae480",\n  action: "#dc6f6f7f"\n};\nvar NoneTool = class {\n};\nvar InspectTool = class {\n  constructor(recorder, assertVisibility) {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._recorder = recorder;\n    this._assertVisibility = assertVisibility;\n  }\n  cursor() {\n    return "pointer";\n  }\n  uninstall() {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n  }\n  onClick(event) {\n    var _a;\n    consumeEvent(event);\n    if (event.button !== 0)\n      return;\n    if ((_a = this._hoveredModel) == null ? void 0 : _a.selector)\n      this._commit(this._hoveredModel.selector, this._hoveredModel);\n  }\n  onPointerDown(event) {\n    consumeEvent(event);\n  }\n  onPointerUp(event) {\n    consumeEvent(event);\n  }\n  onMouseDown(event) {\n    consumeEvent(event);\n  }\n  onMouseUp(event) {\n    consumeEvent(event);\n  }\n  onMouseMove(event) {\n    var _a;\n    consumeEvent(event);\n    let target = this._recorder.deepEventTarget(event);\n    if (!target.isConnected)\n      target = null;\n    if (this._hoveredElement === target)\n      return;\n    this._hoveredElement = target;\n    let model = null;\n    if (this._hoveredElement) {\n      const generated = this._recorder.injectedScript.generateSelector(this._hoveredElement, { testIdAttributeName: this._recorder.state.testIdAttributeName, multiple: false });\n      model = {\n        selector: generated.selector,\n        elements: generated.elements,\n        tooltipText: this._recorder.injectedScript.utils.asLocator(this._recorder.state.language, generated.selector),\n        color: this._assertVisibility ? HighlightColors.assert : HighlightColors.single\n      };\n    }\n    if (((_a = this._hoveredModel) == null ? void 0 : _a.selector) === (model == null ? void 0 : model.selector))\n      return;\n    this._hoveredModel = model;\n    this._recorder.updateHighlight(model, true);\n  }\n  onMouseEnter(event) {\n    consumeEvent(event);\n  }\n  onMouseLeave(event) {\n    consumeEvent(event);\n    const window = this._recorder.injectedScript.window;\n    if (window.top !== window && this._recorder.deepEventTarget(event).nodeType === Node.DOCUMENT_NODE)\n      this._reset(true);\n  }\n  onKeyDown(event) {\n    consumeEvent(event);\n    if (event.key === "Escape") {\n      if (this._assertVisibility)\n        this._recorder.setMode("recording");\n    }\n  }\n  onKeyUp(event) {\n    consumeEvent(event);\n  }\n  onScroll(event) {\n    this._reset(false);\n  }\n  _commit(selector, model) {\n    var _a;\n    if (this._assertVisibility) {\n      this._recorder.recordAction({\n        name: "assertVisible",\n        selector,\n        signals: []\n      });\n      this._recorder.setMode("recording");\n      (_a = this._recorder.overlay) == null ? void 0 : _a.flashToolSucceeded("assertingVisibility");\n    } else {\n      this._recorder.elementPicked(selector, model);\n    }\n  }\n  _reset(userGesture) {\n    this._hoveredElement = null;\n    this._hoveredModel = null;\n    this._recorder.updateHighlight(null, userGesture);\n  }\n};\nvar RecordActionTool = class {\n  constructor(recorder) {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._activeModel = null;\n    this._expectProgrammaticKeyUp = false;\n    this._observer = null;\n    this._recorder = recorder;\n    this._performingActions = /* @__PURE__ */ new Set();\n    this._dialog = new Dialog(recorder);\n  }\n  cursor() {\n    return "pointer";\n  }\n  _installObserverIfNeeded() {\n    var _a;\n    if (this._observer)\n      return;\n    if (!((_a = this._recorder.injectedScript.document) == null ? void 0 : _a.body))\n      return;\n    this._observer = new MutationObserver((mutations) => {\n      if (!this._hoveredElement)\n        return;\n      for (const mutation of mutations) {\n        for (const node of mutation.removedNodes) {\n          if (node === this._hoveredElement || node.contains(this._hoveredElement))\n            this._resetHoveredModel();\n        }\n      }\n    });\n    this._observer.observe(this._recorder.injectedScript.document.body, { childList: true, subtree: true });\n  }\n  uninstall() {\n    var _a;\n    (_a = this._observer) == null ? void 0 : _a.disconnect();\n    this._observer = null;\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._activeModel = null;\n    this._expectProgrammaticKeyUp = false;\n    this._dialog.close();\n  }\n  onClick(event) {\n    if (this._dialog.isShowing()) {\n      if (event.button === 2 && event.type === "auxclick") {\n        consumeEvent(event);\n      }\n      return;\n    }\n    if (isRangeInput(this._hoveredElement))\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    if (event.button === 2 && event.type === "auxclick") {\n      this._showActionListDialog(this._hoveredModel, event);\n      return;\n    }\n    const checkbox = asCheckbox(this._recorder.deepEventTarget(event));\n    if (checkbox && event.detail === 1) {\n      this._performAction({\n        name: checkbox.checked ? "check" : "uncheck",\n        selector: this._hoveredModel.selector,\n        signals: []\n      });\n      return;\n    }\n    this._cancelPendingClickAction();\n    if (event.detail === 1) {\n      this._pendingClickAction = {\n        action: {\n          name: "click",\n          selector: this._hoveredModel.selector,\n          position: positionForEvent(event),\n          signals: [],\n          button: buttonForEvent(event),\n          modifiers: modifiersForEvent(event),\n          clickCount: event.detail\n        },\n        timeout: this._recorder.injectedScript.utils.builtins.setTimeout(() => this._commitPendingClickAction(), 200)\n      };\n    }\n  }\n  onDblClick(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (isRangeInput(this._hoveredElement))\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    this._cancelPendingClickAction();\n    this._performAction({\n      name: "click",\n      selector: this._hoveredModel.selector,\n      position: positionForEvent(event),\n      signals: [],\n      button: buttonForEvent(event),\n      modifiers: modifiersForEvent(event),\n      clickCount: event.detail\n    });\n  }\n  _commitPendingClickAction() {\n    if (this._pendingClickAction)\n      this._performAction(this._pendingClickAction.action);\n    this._cancelPendingClickAction();\n  }\n  _cancelPendingClickAction() {\n    if (this._pendingClickAction)\n      this._recorder.injectedScript.utils.builtins.clearTimeout(this._pendingClickAction.timeout);\n    this._pendingClickAction = void 0;\n  }\n  onContextMenu(event) {\n    if (this._dialog.isShowing()) {\n      consumeEvent(event);\n      return;\n    }\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    this._showActionListDialog(this._hoveredModel, event);\n  }\n  onPointerDown(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n  }\n  onPointerUp(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n  }\n  onMouseDown(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n    this._activeModel = this._hoveredModel;\n  }\n  onMouseUp(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    this._consumeWhenAboutToPerform(event);\n  }\n  onMouseMove(event) {\n    if (this._dialog.isShowing())\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (this._hoveredElement === target)\n      return;\n    this._hoveredElement = target;\n    this._updateModelForHoveredElement();\n  }\n  onMouseLeave(event) {\n    if (this._dialog.isShowing())\n      return;\n    const window = this._recorder.injectedScript.window;\n    if (window.top !== window && this._recorder.deepEventTarget(event).nodeType === Node.DOCUMENT_NODE) {\n      this._hoveredElement = null;\n      this._updateModelForHoveredElement();\n    }\n  }\n  onFocus(event) {\n    if (this._dialog.isShowing())\n      return;\n    this._onFocus(true);\n  }\n  onInput(event) {\n    if (this._dialog.isShowing())\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (target.nodeName === "INPUT" && target.type.toLowerCase() === "file") {\n      this._recordAction({\n        name: "setInputFiles",\n        selector: this._activeModel.selector,\n        signals: [],\n        files: [...target.files || []].map((file) => file.name)\n      });\n      return;\n    }\n    if (isRangeInput(target)) {\n      this._recordAction({\n        name: "fill",\n        // must use hoveredModel instead of activeModel for it to work in webkit\n        selector: this._hoveredModel.selector,\n        signals: [],\n        text: target.value\n      });\n      return;\n    }\n    if (["INPUT", "TEXTAREA"].includes(target.nodeName) || target.isContentEditable) {\n      if (target.nodeName === "INPUT" && ["checkbox", "radio"].includes(target.type.toLowerCase())) {\n        return;\n      }\n      if (this._consumedDueWrongTarget(event))\n        return;\n      this._recordAction({\n        name: "fill",\n        selector: this._activeModel.selector,\n        signals: [],\n        text: target.isContentEditable ? target.innerText : target.value\n      });\n    }\n    if (target.nodeName === "SELECT") {\n      const selectElement = target;\n      this._recordAction({\n        name: "select",\n        selector: this._activeModel.selector,\n        options: [...selectElement.selectedOptions].map((option) => option.value),\n        signals: []\n      });\n    }\n  }\n  onKeyDown(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    if (this._actionInProgress(event)) {\n      this._expectProgrammaticKeyUp = true;\n      return;\n    }\n    if (this._consumedDueWrongTarget(event))\n      return;\n    if (event.key === " ") {\n      const checkbox = asCheckbox(this._recorder.deepEventTarget(event));\n      if (checkbox && event.detail === 0) {\n        this._performAction({\n          name: checkbox.checked ? "uncheck" : "check",\n          selector: this._activeModel.selector,\n          signals: []\n        });\n        return;\n      }\n    }\n    this._performAction({\n      name: "press",\n      selector: this._activeModel.selector,\n      signals: [],\n      key: event.key,\n      modifiers: modifiersForEvent(event)\n    });\n  }\n  onKeyUp(event) {\n    if (this._dialog.isShowing())\n      return;\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    if (!this._expectProgrammaticKeyUp) {\n      consumeEvent(event);\n      return;\n    }\n    this._expectProgrammaticKeyUp = false;\n  }\n  onScroll(event) {\n    if (this._dialog.isShowing())\n      return;\n    this._resetHoveredModel();\n  }\n  _showActionListDialog(model, event) {\n    consumeEvent(event);\n    const actionPosition = positionForEvent(event);\n    const actions = [\n      {\n        title: "Click",\n        cb: () => this._performAction({\n          name: "click",\n          selector: model.selector,\n          position: actionPosition,\n          signals: [],\n          button: "left",\n          modifiers: 0,\n          clickCount: 0\n        })\n      },\n      {\n        title: "Right click",\n        cb: () => this._performAction({\n          name: "click",\n          selector: model.selector,\n          position: actionPosition,\n          signals: [],\n          button: "right",\n          modifiers: 0,\n          clickCount: 0\n        })\n      },\n      {\n        title: "Double click",\n        cb: () => this._performAction({\n          name: "click",\n          selector: model.selector,\n          position: actionPosition,\n          signals: [],\n          button: "left",\n          modifiers: 0,\n          clickCount: 2\n        })\n      },\n      {\n        title: "Hover",\n        cb: () => this._performAction({\n          name: "hover",\n          selector: model.selector,\n          position: actionPosition,\n          signals: []\n        })\n      },\n      {\n        title: "Pick locator",\n        cb: () => this._recorder.elementPicked(model.selector, model)\n      }\n    ];\n    const listElement = this._recorder.document.createElement("x-pw-action-list");\n    listElement.setAttribute("role", "list");\n    listElement.setAttribute("aria-label", "Choose action");\n    for (const action of actions) {\n      const actionElement = this._recorder.document.createElement("x-pw-action-item");\n      actionElement.setAttribute("role", "listitem");\n      actionElement.textContent = action.title;\n      actionElement.setAttribute("aria-label", action.title);\n      actionElement.addEventListener("click", () => {\n        this._dialog.close();\n        action.cb();\n      });\n      listElement.appendChild(actionElement);\n    }\n    const dialogElement = this._dialog.show({\n      label: "Choose action",\n      body: listElement,\n      autosize: true\n    });\n    const anchorBox = this._recorder.highlight.firstTooltipBox() || model.elements[0].getBoundingClientRect();\n    const dialogPosition = this._recorder.highlight.tooltipPosition(anchorBox, dialogElement);\n    this._dialog.moveTo(dialogPosition.anchorTop, dialogPosition.anchorLeft);\n  }\n  _resetHoveredModel() {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._updateHighlight(false);\n  }\n  _onFocus(userGesture) {\n    const activeElement = deepActiveElement(this._recorder.document);\n    if (userGesture && activeElement === this._recorder.document.body)\n      return;\n    const result = activeElement ? this._recorder.injectedScript.generateSelector(activeElement, { testIdAttributeName: this._recorder.state.testIdAttributeName }) : null;\n    this._activeModel = result && result.selector ? { ...result, color: HighlightColors.action } : null;\n    if (userGesture) {\n      this._hoveredElement = activeElement;\n      this._updateModelForHoveredElement();\n    }\n  }\n  _shouldIgnoreMouseEvent(event) {\n    const target = this._recorder.deepEventTarget(event);\n    const nodeName = target.nodeName;\n    if (nodeName === "SELECT" || nodeName === "OPTION")\n      return true;\n    if (nodeName === "INPUT" && ["date", "range"].includes(target.type))\n      return true;\n    return false;\n  }\n  _actionInProgress(event) {\n    const isKeyEvent = event instanceof KeyboardEvent;\n    const isMouseOrPointerEvent = event instanceof MouseEvent || event instanceof PointerEvent;\n    for (const action of this._performingActions) {\n      if (isKeyEvent && action.name === "press" && event.key === action.key)\n        return true;\n      if (isMouseOrPointerEvent && (action.name === "click" || action.name === "hover" || action.name === "check" || action.name === "uncheck"))\n        return true;\n    }\n    consumeEvent(event);\n    return false;\n  }\n  _consumedDueToNoModel(event, model) {\n    if (model)\n      return false;\n    consumeEvent(event);\n    return true;\n  }\n  _consumedDueWrongTarget(event) {\n    if (this._activeModel && this._activeModel.elements[0] === this._recorder.deepEventTarget(event))\n      return false;\n    consumeEvent(event);\n    return true;\n  }\n  _consumeWhenAboutToPerform(event) {\n    if (!this._performingActions.size)\n      consumeEvent(event);\n  }\n  _recordAction(action) {\n    this._recorder.recordAction(action);\n  }\n  _performAction(action) {\n    this._recorder.updateHighlight(null, false);\n    this._performingActions.add(action);\n    const promise = this._recorder.performAction(action).then(() => {\n      this._performingActions.delete(action);\n      this._onFocus(false);\n    });\n    if (!this._recorder.injectedScript.isUnderTest)\n      return;\n    void promise.then(() => {\n      console.error("Action performed for test: " + JSON.stringify({\n        // eslint-disable-line no-console\n        hovered: this._hoveredModel ? this._hoveredModel.selector : null,\n        active: this._activeModel ? this._activeModel.selector : null\n      }));\n    });\n  }\n  _shouldGenerateKeyPressFor(event) {\n    if (typeof event.key !== "string")\n      return false;\n    if (event.key === "Enter" && (this._recorder.deepEventTarget(event).nodeName === "TEXTAREA" || this._recorder.deepEventTarget(event).isContentEditable))\n      return false;\n    if (["Backspace", "Delete", "AltGraph"].includes(event.key))\n      return false;\n    if (event.key === "@" && event.code === "KeyL")\n      return false;\n    if (navigator.platform.includes("Mac")) {\n      if (event.key === "v" && event.metaKey)\n        return false;\n    } else {\n      if (event.key === "v" && event.ctrlKey)\n        return false;\n      if (event.key === "Insert" && event.shiftKey)\n        return false;\n    }\n    if (["Shift", "Control", "Meta", "Alt", "Process"].includes(event.key))\n      return false;\n    const hasModifier = event.ctrlKey || event.altKey || event.metaKey;\n    if (event.key.length === 1 && !hasModifier)\n      return !!asCheckbox(this._recorder.deepEventTarget(event));\n    return true;\n  }\n  _updateModelForHoveredElement() {\n    this._installObserverIfNeeded();\n    if (this._performingActions.size)\n      return;\n    if (!this._hoveredElement || !this._hoveredElement.isConnected) {\n      this._hoveredModel = null;\n      this._hoveredElement = null;\n      this._updateHighlight(true);\n      return;\n    }\n    const { selector, elements } = this._recorder.injectedScript.generateSelector(this._hoveredElement, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n    if (this._hoveredModel && this._hoveredModel.selector === selector)\n      return;\n    this._hoveredModel = selector ? { selector, elements, color: HighlightColors.action } : null;\n    this._updateHighlight(true);\n  }\n  _updateHighlight(userGesture) {\n    this._recorder.updateHighlight(this._hoveredModel, userGesture);\n  }\n};\nvar JsonRecordActionTool = class {\n  constructor(recorder) {\n    this._recorder = recorder;\n  }\n  install() {\n    this._recorder.highlight.uninstall();\n  }\n  uninstall() {\n    this._recorder.highlight.install();\n  }\n  onClick(event) {\n    const element = this._recorder.deepEventTarget(event);\n    if (isRangeInput(element))\n      return;\n    if (event.button === 2 && event.type === "auxclick")\n      return;\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    const checkbox = asCheckbox(element);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    if (checkbox && event.detail === 1) {\n      this._recorder.recordAction({\n        name: checkbox.checked ? "check" : "uncheck",\n        selector,\n        ref,\n        signals: [],\n        ariaSnapshot\n      });\n      return;\n    }\n    this._recorder.recordAction({\n      name: "click",\n      selector,\n      ref,\n      ariaSnapshot,\n      position: positionForEvent(event),\n      signals: [],\n      button: buttonForEvent(event),\n      modifiers: modifiersForEvent(event),\n      clickCount: event.detail\n    });\n  }\n  onContextMenu(event) {\n    const element = this._recorder.deepEventTarget(event);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    this._recorder.recordAction({\n      name: "click",\n      selector,\n      ref,\n      ariaSnapshot,\n      position: positionForEvent(event),\n      signals: [],\n      button: "right",\n      modifiers: modifiersForEvent(event),\n      clickCount: 1\n    });\n  }\n  onInput(event) {\n    const element = this._recorder.deepEventTarget(event);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    if (isRangeInput(element)) {\n      this._recorder.recordAction({\n        name: "fill",\n        selector,\n        ref,\n        ariaSnapshot,\n        signals: [],\n        text: element.value\n      });\n      return;\n    }\n    if (["INPUT", "TEXTAREA"].includes(element.nodeName) || element.isContentEditable) {\n      if (element.nodeName === "INPUT" && ["checkbox", "radio"].includes(element.type.toLowerCase())) {\n        return;\n      }\n      this._recorder.recordAction({\n        name: "fill",\n        ref,\n        selector,\n        ariaSnapshot,\n        signals: [],\n        text: element.isContentEditable ? element.innerText : element.value\n      });\n      return;\n    }\n    if (element.nodeName === "SELECT") {\n      const selectElement = element;\n      this._recorder.recordAction({\n        name: "select",\n        selector,\n        ref,\n        ariaSnapshot,\n        options: [...selectElement.selectedOptions].map((option) => option.value),\n        signals: []\n      });\n      return;\n    }\n  }\n  onKeyDown(event) {\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    const element = this._recorder.deepEventTarget(event);\n    const { ariaSnapshot, selector, ref } = this._ariaSnapshot(element);\n    if (event.key === " ") {\n      const checkbox = asCheckbox(element);\n      if (checkbox && event.detail === 0) {\n        this._recorder.recordAction({\n          name: checkbox.checked ? "uncheck" : "check",\n          selector,\n          ref,\n          ariaSnapshot,\n          signals: []\n        });\n        return;\n      }\n    }\n    this._recorder.recordAction({\n      name: "press",\n      selector,\n      ref,\n      ariaSnapshot,\n      signals: [],\n      key: event.key,\n      modifiers: modifiersForEvent(event)\n    });\n  }\n  _shouldIgnoreMouseEvent(event) {\n    const target = this._recorder.deepEventTarget(event);\n    const nodeName = target.nodeName;\n    if (nodeName === "SELECT" || nodeName === "OPTION")\n      return true;\n    if (nodeName === "INPUT" && ["date", "range"].includes(target.type))\n      return true;\n    return false;\n  }\n  _shouldGenerateKeyPressFor(event) {\n    if (typeof event.key !== "string")\n      return false;\n    if (event.key === "Enter" && (this._recorder.deepEventTarget(event).nodeName === "TEXTAREA" || this._recorder.deepEventTarget(event).isContentEditable))\n      return false;\n    if (["Backspace", "Delete", "AltGraph"].includes(event.key))\n      return false;\n    if (event.key === "@" && event.code === "KeyL")\n      return false;\n    if (navigator.platform.includes("Mac")) {\n      if (event.key === "v" && event.metaKey)\n        return false;\n    } else {\n      if (event.key === "v" && event.ctrlKey)\n        return false;\n      if (event.key === "Insert" && event.shiftKey)\n        return false;\n    }\n    if (["Shift", "Control", "Meta", "Alt", "Process"].includes(event.key))\n      return false;\n    const hasModifier = event.ctrlKey || event.altKey || event.metaKey;\n    if (event.key.length === 1 && !hasModifier)\n      return !this._isEditable(this._recorder.deepEventTarget(event));\n    return true;\n  }\n  _isEditable(element) {\n    if (element.nodeName === "TEXTAREA" || element.nodeName === "INPUT")\n      return true;\n    if (element.isContentEditable)\n      return true;\n    return false;\n  }\n  _ariaSnapshot(element) {\n    const { ariaSnapshot, refs } = this._recorder.injectedScript.ariaSnapshotForRecorder();\n    const ref = element ? refs.get(element) : void 0;\n    const elementInfo = element ? this._recorder.injectedScript.generateSelector(element, { testIdAttributeName: this._recorder.state.testIdAttributeName }) : void 0;\n    return { ariaSnapshot, selector: elementInfo == null ? void 0 : elementInfo.selector, ref };\n  }\n};\nvar TextAssertionTool = class {\n  constructor(recorder, kind) {\n    this._hoverHighlight = null;\n    this._action = null;\n    this._recorder = recorder;\n    this._textCache = /* @__PURE__ */ new Map();\n    this._kind = kind;\n    this._dialog = new Dialog(recorder);\n  }\n  cursor() {\n    return "pointer";\n  }\n  uninstall() {\n    this._dialog.close();\n    this._hoverHighlight = null;\n  }\n  onClick(event) {\n    consumeEvent(event);\n    if (this._kind === "value") {\n      this._commitAssertValue();\n    } else {\n      if (!this._dialog.isShowing())\n        this._showDialog();\n    }\n  }\n  onMouseDown(event) {\n    const target = this._recorder.deepEventTarget(event);\n    if (this._elementHasValue(target))\n      event.preventDefault();\n  }\n  onPointerUp(event) {\n    var _a;\n    const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n    if (this._kind === "value" && target && (target.nodeName === "INPUT" || target.nodeName === "SELECT") && target.disabled) {\n      this._commitAssertValue();\n    }\n  }\n  onMouseMove(event) {\n    var _a;\n    if (this._dialog.isShowing())\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (((_a = this._hoverHighlight) == null ? void 0 : _a.elements[0]) === target)\n      return;\n    if (this._kind === "text" || this._kind === "snapshot") {\n      this._hoverHighlight = this._recorder.injectedScript.utils.elementText(this._textCache, target).full ? { elements: [target], selector: "", color: HighlightColors.assert } : null;\n    } else if (this._elementHasValue(target)) {\n      const generated = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n      this._hoverHighlight = { selector: generated.selector, elements: generated.elements, color: HighlightColors.assert };\n    } else {\n      this._hoverHighlight = null;\n    }\n    this._recorder.updateHighlight(this._hoverHighlight, true);\n  }\n  onKeyDown(event) {\n    if (event.key === "Escape")\n      this._recorder.setMode("recording");\n    consumeEvent(event);\n  }\n  onScroll(event) {\n    this._recorder.updateHighlight(this._hoverHighlight, false);\n  }\n  _elementHasValue(element) {\n    return element.nodeName === "TEXTAREA" || element.nodeName === "SELECT" || element.nodeName === "INPUT" && !["button", "image", "reset", "submit"].includes(element.type);\n  }\n  _generateAction() {\n    var _a;\n    this._textCache.clear();\n    const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n    if (!target)\n      return null;\n    if (this._kind === "value") {\n      if (!this._elementHasValue(target))\n        return null;\n      const { selector } = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n      if (target.nodeName === "INPUT" && ["checkbox", "radio"].includes(target.type.toLowerCase())) {\n        return {\n          name: "assertChecked",\n          selector,\n          signals: [],\n          // Interestingly, inputElement.checked is reversed inside this event handler.\n          checked: !target.checked\n        };\n      } else {\n        return {\n          name: "assertValue",\n          selector,\n          signals: [],\n          value: target.value\n        };\n      }\n    } else if (this._kind === "snapshot") {\n      const generated = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName, forTextExpect: true });\n      this._hoverHighlight = { selector: generated.selector, elements: generated.elements, color: HighlightColors.assert };\n      this._recorder.updateHighlight(this._hoverHighlight, true);\n      return {\n        name: "assertSnapshot",\n        selector: this._hoverHighlight.selector,\n        signals: [],\n        ariaSnapshot: this._recorder.injectedScript.ariaSnapshot(target, { mode: "codegen" })\n      };\n    } else {\n      const generated = this._recorder.injectedScript.generateSelector(target, { testIdAttributeName: this._recorder.state.testIdAttributeName, forTextExpect: true });\n      this._hoverHighlight = { selector: generated.selector, elements: generated.elements, color: HighlightColors.assert };\n      this._recorder.updateHighlight(this._hoverHighlight, true);\n      return {\n        name: "assertText",\n        selector: this._hoverHighlight.selector,\n        signals: [],\n        text: this._recorder.injectedScript.utils.elementText(this._textCache, target).normalized,\n        substring: true\n      };\n    }\n  }\n  _renderValue(action) {\n    if ((action == null ? void 0 : action.name) === "assertText")\n      return this._recorder.injectedScript.utils.normalizeWhiteSpace(action.text);\n    if ((action == null ? void 0 : action.name) === "assertChecked")\n      return String(action.checked);\n    if ((action == null ? void 0 : action.name) === "assertValue")\n      return action.value;\n    if ((action == null ? void 0 : action.name) === "assertSnapshot")\n      return action.ariaSnapshot;\n    return "";\n  }\n  _commit() {\n    if (!this._action || !this._dialog.isShowing())\n      return;\n    this._dialog.close();\n    this._recorder.recordAction(this._action);\n    this._recorder.setMode("recording");\n  }\n  _showDialog() {\n    var _a, _b, _c, _d;\n    if (!((_a = this._hoverHighlight) == null ? void 0 : _a.elements[0]))\n      return;\n    this._action = this._generateAction();\n    if (((_b = this._action) == null ? void 0 : _b.name) === "assertText") {\n      this._showTextDialog(this._action);\n    } else if (((_c = this._action) == null ? void 0 : _c.name) === "assertSnapshot") {\n      this._recorder.recordAction(this._action);\n      this._recorder.setMode("recording");\n      (_d = this._recorder.overlay) == null ? void 0 : _d.flashToolSucceeded("assertingSnapshot");\n    }\n  }\n  _showTextDialog(action) {\n    const textElement = this._recorder.document.createElement("textarea");\n    textElement.setAttribute("spellcheck", "false");\n    textElement.value = this._renderValue(action);\n    textElement.classList.add("text-editor");\n    const updateAndValidate = () => {\n      var _a;\n      const newValue = this._recorder.injectedScript.utils.normalizeWhiteSpace(textElement.value);\n      const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n      if (!target)\n        return;\n      action.text = newValue;\n      const targetText = this._recorder.injectedScript.utils.elementText(this._textCache, target).normalized;\n      const matches = newValue && targetText.includes(newValue);\n      textElement.classList.toggle("does-not-match", !matches);\n    };\n    textElement.addEventListener("input", updateAndValidate);\n    const label = "Assert that element contains text";\n    const dialogElement = this._dialog.show({\n      label,\n      body: textElement,\n      onCommit: () => this._commit()\n    });\n    const position = this._recorder.highlight.tooltipPosition(this._recorder.highlight.firstBox(), dialogElement);\n    this._dialog.moveTo(position.anchorTop, position.anchorLeft);\n    textElement.focus();\n  }\n  _commitAssertValue() {\n    var _a;\n    if (this._kind !== "value")\n      return;\n    const action = this._generateAction();\n    if (!action)\n      return;\n    this._recorder.recordAction(action);\n    this._recorder.setMode("recording");\n    (_a = this._recorder.overlay) == null ? void 0 : _a.flashToolSucceeded("assertingValue");\n  }\n};\nvar Overlay = class {\n  constructor(recorder) {\n    this._listeners = [];\n    this._offsetX = 0;\n    this._measure = { width: 0, height: 0 };\n    this._recorder = recorder;\n    const document = this._recorder.document;\n    this._overlayElement = document.createElement("x-pw-overlay");\n    const toolsListElement = document.createElement("x-pw-tools-list");\n    this._overlayElement.appendChild(toolsListElement);\n    this._dragHandle = document.createElement("x-pw-tool-gripper");\n    this._dragHandle.appendChild(document.createElement("x-div"));\n    toolsListElement.appendChild(this._dragHandle);\n    this._recordToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._recordToggle.title = "Record";\n    this._recordToggle.classList.add("record");\n    this._recordToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._recordToggle);\n    this._pickLocatorToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._pickLocatorToggle.title = "Pick locator";\n    this._pickLocatorToggle.classList.add("pick-locator");\n    this._pickLocatorToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._pickLocatorToggle);\n    this._assertVisibilityToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertVisibilityToggle.title = "Assert visibility";\n    this._assertVisibilityToggle.classList.add("visibility");\n    this._assertVisibilityToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertVisibilityToggle);\n    this._assertTextToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertTextToggle.title = "Assert text";\n    this._assertTextToggle.classList.add("text");\n    this._assertTextToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertTextToggle);\n    this._assertValuesToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertValuesToggle.title = "Assert value";\n    this._assertValuesToggle.classList.add("value");\n    this._assertValuesToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertValuesToggle);\n    this._assertSnapshotToggle = this._recorder.document.createElement("x-pw-tool-item");\n    this._assertSnapshotToggle.title = "Assert snapshot";\n    this._assertSnapshotToggle.classList.add("snapshot");\n    this._assertSnapshotToggle.appendChild(this._recorder.document.createElement("x-div"));\n    toolsListElement.appendChild(this._assertSnapshotToggle);\n    this._updateVisualPosition();\n    this._refreshListeners();\n  }\n  _refreshListeners() {\n    removeEventListeners(this._listeners);\n    this._listeners = [\n      addEventListener(this._dragHandle, "mousedown", (event) => {\n        this._dragState = { offsetX: this._offsetX, dragStart: { x: event.clientX, y: 0 } };\n      }),\n      addEventListener(this._recordToggle, "click", () => {\n        if (this._recordToggle.classList.contains("disabled"))\n          return;\n        this._recorder.setMode(this._recorder.state.mode === "none" || this._recorder.state.mode === "standby" || this._recorder.state.mode === "inspecting" ? "recording" : "standby");\n      }),\n      addEventListener(this._pickLocatorToggle, "click", () => {\n        if (this._pickLocatorToggle.classList.contains("disabled"))\n          return;\n        const newMode = {\n          "inspecting": "standby",\n          "none": "inspecting",\n          "standby": "inspecting",\n          "recording": "recording-inspecting",\n          "recording-inspecting": "recording",\n          "assertingText": "recording-inspecting",\n          "assertingVisibility": "recording-inspecting",\n          "assertingValue": "recording-inspecting",\n          "assertingSnapshot": "recording-inspecting"\n        };\n        this._recorder.setMode(newMode[this._recorder.state.mode]);\n      }),\n      addEventListener(this._assertVisibilityToggle, "click", () => {\n        if (!this._assertVisibilityToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingVisibility" ? "recording" : "assertingVisibility");\n      }),\n      addEventListener(this._assertTextToggle, "click", () => {\n        if (!this._assertTextToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingText" ? "recording" : "assertingText");\n      }),\n      addEventListener(this._assertValuesToggle, "click", () => {\n        if (!this._assertValuesToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingValue" ? "recording" : "assertingValue");\n      }),\n      addEventListener(this._assertSnapshotToggle, "click", () => {\n        if (!this._assertSnapshotToggle.classList.contains("disabled"))\n          this._recorder.setMode(this._recorder.state.mode === "assertingSnapshot" ? "recording" : "assertingSnapshot");\n      })\n    ];\n  }\n  install() {\n    this._recorder.highlight.appendChild(this._overlayElement);\n    this._refreshListeners();\n    this._updateVisualPosition();\n  }\n  contains(element) {\n    return this._recorder.injectedScript.utils.isInsideScope(this._overlayElement, element);\n  }\n  setUIState(state) {\n    const isRecording = state.mode === "recording" || state.mode === "assertingText" || state.mode === "assertingVisibility" || state.mode === "assertingValue" || state.mode === "assertingSnapshot" || state.mode === "recording-inspecting";\n    this._recordToggle.classList.toggle("toggled", isRecording);\n    this._recordToggle.title = isRecording ? "Stop Recording" : "Start Recording";\n    this._pickLocatorToggle.classList.toggle("toggled", state.mode === "inspecting" || state.mode === "recording-inspecting");\n    this._assertVisibilityToggle.classList.toggle("toggled", state.mode === "assertingVisibility");\n    this._assertVisibilityToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertTextToggle.classList.toggle("toggled", state.mode === "assertingText");\n    this._assertTextToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertValuesToggle.classList.toggle("toggled", state.mode === "assertingValue");\n    this._assertValuesToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertSnapshotToggle.classList.toggle("toggled", state.mode === "assertingSnapshot");\n    this._assertSnapshotToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    if (this._offsetX !== state.overlay.offsetX) {\n      this._offsetX = state.overlay.offsetX;\n      this._updateVisualPosition();\n    }\n    if (state.mode === "none")\n      this._hideOverlay();\n    else\n      this._showOverlay();\n  }\n  flashToolSucceeded(tool) {\n    let element;\n    if (tool === "assertingVisibility")\n      element = this._assertVisibilityToggle;\n    else if (tool === "assertingSnapshot")\n      element = this._assertSnapshotToggle;\n    else\n      element = this._assertValuesToggle;\n    element.classList.add("succeeded");\n    this._recorder.injectedScript.utils.builtins.setTimeout(() => element.classList.remove("succeeded"), 2e3);\n  }\n  _hideOverlay() {\n    this._overlayElement.setAttribute("hidden", "true");\n  }\n  _showOverlay() {\n    if (!this._overlayElement.hasAttribute("hidden"))\n      return;\n    this._overlayElement.removeAttribute("hidden");\n    this._updateVisualPosition();\n  }\n  _updateVisualPosition() {\n    this._measure = this._overlayElement.getBoundingClientRect();\n    this._overlayElement.style.left = (this._recorder.injectedScript.window.innerWidth - this._measure.width) / 2 + this._offsetX + "px";\n  }\n  onMouseMove(event) {\n    if (!event.buttons) {\n      this._dragState = void 0;\n      return false;\n    }\n    if (this._dragState) {\n      this._offsetX = this._dragState.offsetX + event.clientX - this._dragState.dragStart.x;\n      const halfGapSize = (this._recorder.injectedScript.window.innerWidth - this._measure.width) / 2 - 10;\n      this._offsetX = Math.max(-halfGapSize, Math.min(halfGapSize, this._offsetX));\n      this._updateVisualPosition();\n      this._recorder.setOverlayState({ offsetX: this._offsetX });\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onMouseUp(event) {\n    if (this._dragState) {\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onClick(event) {\n    if (this._dragState) {\n      this._dragState = void 0;\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onDblClick(event) {\n    return false;\n  }\n};\nvar Recorder = class {\n  constructor(injectedScript, options) {\n    this._listeners = [];\n    this._lastHighlightedSelector = void 0;\n    this._lastHighlightedAriaTemplateJSON = "undefined";\n    this.state = {\n      mode: "none",\n      testIdAttributeName: "data-testid",\n      language: "javascript",\n      overlay: { offsetX: 0 }\n    };\n    this._delegate = {};\n    var _a, _b;\n    this.document = injectedScript.document;\n    this.injectedScript = injectedScript;\n    this.highlight = injectedScript.createHighlight();\n    this._tools = {\n      "none": new NoneTool(),\n      "standby": new NoneTool(),\n      "inspecting": new InspectTool(this, false),\n      "recording": (options == null ? void 0 : options.recorderMode) === "api" ? new JsonRecordActionTool(this) : new RecordActionTool(this),\n      "recording-inspecting": new InspectTool(this, false),\n      "assertingText": new TextAssertionTool(this, "text"),\n      "assertingVisibility": new InspectTool(this, true),\n      "assertingValue": new TextAssertionTool(this, "value"),\n      "assertingSnapshot": new TextAssertionTool(this, "snapshot")\n    };\n    this._currentTool = this._tools.none;\n    (_b = (_a = this._currentTool).install) == null ? void 0 : _b.call(_a);\n    if (injectedScript.window.top === injectedScript.window) {\n      this.overlay = new Overlay(this);\n      this.overlay.setUIState(this.state);\n    }\n    this._stylesheet = new injectedScript.window.CSSStyleSheet();\n    this._stylesheet.replaceSync(`\n      body[data-pw-cursor=pointer] *, body[data-pw-cursor=pointer] *::after { cursor: pointer !important; }\n      body[data-pw-cursor=text] *, body[data-pw-cursor=text] *::after { cursor: text !important; }\n    `);\n    this.installListeners();\n    injectedScript.utils.cacheNormalizedWhitespaces();\n    if (injectedScript.isUnderTest)\n      console.error("Recorder script ready for test");\n    injectedScript.consoleApi.install();\n  }\n  installListeners() {\n    var _a, _b, _c;\n    removeEventListeners(this._listeners);\n    this._listeners = [\n      addEventListener(this.document, "click", (event) => this._onClick(event), true),\n      addEventListener(this.document, "auxclick", (event) => this._onClick(event), true),\n      addEventListener(this.document, "dblclick", (event) => this._onDblClick(event), true),\n      addEventListener(this.document, "contextmenu", (event) => this._onContextMenu(event), true),\n      addEventListener(this.document, "dragstart", (event) => this._onDragStart(event), true),\n      addEventListener(this.document, "input", (event) => this._onInput(event), true),\n      addEventListener(this.document, "keydown", (event) => this._onKeyDown(event), true),\n      addEventListener(this.document, "keyup", (event) => this._onKeyUp(event), true),\n      addEventListener(this.document, "pointerdown", (event) => this._onPointerDown(event), true),\n      addEventListener(this.document, "pointerup", (event) => this._onPointerUp(event), true),\n      addEventListener(this.document, "mousedown", (event) => this._onMouseDown(event), true),\n      addEventListener(this.document, "mouseup", (event) => this._onMouseUp(event), true),\n      addEventListener(this.document, "mousemove", (event) => this._onMouseMove(event), true),\n      addEventListener(this.document, "mouseleave", (event) => this._onMouseLeave(event), true),\n      addEventListener(this.document, "mouseenter", (event) => this._onMouseEnter(event), true),\n      addEventListener(this.document, "focus", (event) => this._onFocus(event), true),\n      addEventListener(this.document, "scroll", (event) => this._onScroll(event), true)\n    ];\n    this.highlight.install();\n    let recreationInterval;\n    const recreate = () => {\n      this.highlight.install();\n      recreationInterval = this.injectedScript.utils.builtins.setTimeout(recreate, 500);\n    };\n    recreationInterval = this.injectedScript.utils.builtins.setTimeout(recreate, 500);\n    this._listeners.push(() => this.injectedScript.utils.builtins.clearTimeout(recreationInterval));\n    this.highlight.appendChild(createSvgElement(this.document, clipPaths_default));\n    (_a = this.overlay) == null ? void 0 : _a.install();\n    (_c = (_b = this._currentTool) == null ? void 0 : _b.install) == null ? void 0 : _c.call(_b);\n    this.document.adoptedStyleSheets.push(this._stylesheet);\n  }\n  _switchCurrentTool() {\n    var _a, _b, _c, _d, _e, _f;\n    const newTool = this._tools[this.state.mode];\n    if (newTool === this._currentTool)\n      return;\n    (_b = (_a = this._currentTool).uninstall) == null ? void 0 : _b.call(_a);\n    this.clearHighlight();\n    this._currentTool = newTool;\n    (_d = (_c = this._currentTool).install) == null ? void 0 : _d.call(_c);\n    const cursor = (_e = newTool.cursor) == null ? void 0 : _e.call(newTool);\n    if (cursor)\n      (_f = this.injectedScript.document.body) == null ? void 0 : _f.setAttribute("data-pw-cursor", cursor);\n  }\n  setUIState(state, delegate) {\n    var _a;\n    this._delegate = delegate;\n    if (state.actionPoint && this.state.actionPoint && state.actionPoint.x === this.state.actionPoint.x && state.actionPoint.y === this.state.actionPoint.y) {\n    } else if (!state.actionPoint && !this.state.actionPoint) {\n    } else {\n      if (state.actionPoint)\n        this.highlight.showActionPoint(state.actionPoint.x, state.actionPoint.y);\n      else\n        this.highlight.hideActionPoint();\n    }\n    this.state = state;\n    this.highlight.setLanguage(state.language);\n    this._switchCurrentTool();\n    (_a = this.overlay) == null ? void 0 : _a.setUIState(state);\n    let highlight = "noop";\n    if (state.actionSelector !== this._lastHighlightedSelector) {\n      const entries = state.actionSelector ? entriesForSelectorHighlight(this.injectedScript, state.language, state.actionSelector, this.document) : null;\n      highlight = (entries == null ? void 0 : entries.length) ? entries : "clear";\n      this._lastHighlightedSelector = (entries == null ? void 0 : entries.length) ? state.actionSelector : void 0;\n    }\n    const ariaTemplateJSON = JSON.stringify(state.ariaTemplate);\n    if (this._lastHighlightedAriaTemplateJSON !== ariaTemplateJSON) {\n      const elements = state.ariaTemplate ? this.injectedScript.getAllElementsMatchingExpectAriaTemplate(this.document, state.ariaTemplate) : [];\n      if (elements.length) {\n        const color = elements.length > 1 ? HighlightColors.multiple : HighlightColors.single;\n        highlight = elements.map((element) => ({ element, color }));\n        this._lastHighlightedAriaTemplateJSON = ariaTemplateJSON;\n      } else {\n        if (!this._lastHighlightedSelector)\n          highlight = "clear";\n        this._lastHighlightedAriaTemplateJSON = "undefined";\n      }\n    }\n    if (highlight === "clear")\n      this.highlight.clearHighlight();\n    else if (highlight !== "noop")\n      this.highlight.updateHighlight(highlight);\n  }\n  clearHighlight() {\n    this.updateHighlight(null, false);\n  }\n  _onClick(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onClick(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onClick) == null ? void 0 : _c.call(_b, event);\n  }\n  _onDblClick(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onDblClick(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onDblClick) == null ? void 0 : _c.call(_b, event);\n  }\n  _onContextMenu(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    (_b = (_a = this._currentTool).onContextMenu) == null ? void 0 : _b.call(_a, event);\n  }\n  _onDragStart(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onDragStart) == null ? void 0 : _b.call(_a, event);\n  }\n  _onPointerDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onPointerDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onPointerUp(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onPointerUp) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseUp(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onMouseUp(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onMouseUp) == null ? void 0 : _c.call(_b, event);\n  }\n  _onMouseMove(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onMouseMove(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onMouseMove) == null ? void 0 : _c.call(_b, event);\n  }\n  _onMouseEnter(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseEnter) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseLeave(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseLeave) == null ? void 0 : _b.call(_a, event);\n  }\n  _onFocus(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onFocus) == null ? void 0 : _b.call(_a, event);\n  }\n  _onScroll(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    this._lastHighlightedSelector = void 0;\n    this._lastHighlightedAriaTemplateJSON = "undefined";\n    this.highlight.hideActionPoint();\n    (_b = (_a = this._currentTool).onScroll) == null ? void 0 : _b.call(_a, event);\n  }\n  _onInput(event) {\n    var _a, _b;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onInput) == null ? void 0 : _b.call(_a, event);\n  }\n  _onKeyDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onKeyDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onKeyUp(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onKeyUp) == null ? void 0 : _b.call(_a, event);\n  }\n  updateHighlight(model, userGesture) {\n    this._lastHighlightedSelector = void 0;\n    this._lastHighlightedAriaTemplateJSON = "undefined";\n    this._updateHighlight(model, userGesture);\n  }\n  _updateHighlight(model, userGesture) {\n    var _a, _b;\n    let tooltipText = model == null ? void 0 : model.tooltipText;\n    if (tooltipText === void 0 && (model == null ? void 0 : model.selector))\n      tooltipText = this.injectedScript.utils.asLocator(this.state.language, model.selector);\n    if (model)\n      this.highlight.updateHighlight(model.elements.map((element) => ({ element, color: model.color, tooltipText })));\n    else\n      this.highlight.clearHighlight();\n    if (userGesture)\n      (_b = (_a = this._delegate).highlightUpdated) == null ? void 0 : _b.call(_a);\n  }\n  _ignoreOverlayEvent(event) {\n    return event.composedPath().some((e) => {\n      const nodeName = e.nodeName || "";\n      return nodeName.toLowerCase() === "x-pw-glass";\n    });\n  }\n  deepEventTarget(event) {\n    var _a;\n    for (const element of event.composedPath()) {\n      if (!((_a = this.overlay) == null ? void 0 : _a.contains(element)))\n        return element;\n    }\n    return event.composedPath()[0];\n  }\n  setMode(mode) {\n    var _a, _b;\n    void ((_b = (_a = this._delegate).setMode) == null ? void 0 : _b.call(_a, mode));\n  }\n  _captureAutoExpectSnapshot() {\n    const documentElement = this.injectedScript.document.documentElement;\n    return documentElement ? this.injectedScript.utils.generateAriaTree(documentElement, { mode: "autoexpect" }) : void 0;\n  }\n  async performAction(action) {\n    var _a, _b;\n    const previousSnapshot = this._lastActionAutoexpectSnapshot;\n    this._lastActionAutoexpectSnapshot = this._captureAutoExpectSnapshot();\n    if (!isAssertAction(action) && this._lastActionAutoexpectSnapshot) {\n      const element = findNewElement(previousSnapshot, this._lastActionAutoexpectSnapshot);\n      action.preconditionSelector = element ? this.injectedScript.generateSelector(element, { testIdAttributeName: this.state.testIdAttributeName }).selector : void 0;\n      if (action.preconditionSelector === action.selector)\n        action.preconditionSelector = void 0;\n    }\n    await ((_b = (_a = this._delegate).performAction) == null ? void 0 : _b.call(_a, action).catch(() => {\n    }));\n  }\n  recordAction(action) {\n    var _a, _b;\n    this._lastActionAutoexpectSnapshot = this._captureAutoExpectSnapshot();\n    void ((_b = (_a = this._delegate).recordAction) == null ? void 0 : _b.call(_a, action));\n  }\n  setOverlayState(state) {\n    var _a, _b;\n    void ((_b = (_a = this._delegate).setOverlayState) == null ? void 0 : _b.call(_a, state));\n  }\n  elementPicked(selector, model) {\n    var _a, _b;\n    const ariaSnapshot = this.injectedScript.ariaSnapshot(model.elements[0], { mode: "expect" });\n    void ((_b = (_a = this._delegate).elementPicked) == null ? void 0 : _b.call(_a, { selector, ariaSnapshot }));\n  }\n};\nvar Dialog = class {\n  constructor(recorder) {\n    this._dialogElement = null;\n    this._recorder = recorder;\n  }\n  isShowing() {\n    return !!this._dialogElement;\n  }\n  show(options) {\n    const acceptButton = this._recorder.document.createElement("x-pw-tool-item");\n    acceptButton.title = "Accept";\n    acceptButton.classList.add("accept");\n    acceptButton.appendChild(this._recorder.document.createElement("x-div"));\n    acceptButton.addEventListener("click", () => {\n      var _a;\n      return (_a = options.onCommit) == null ? void 0 : _a.call(options);\n    });\n    const cancelButton = this._recorder.document.createElement("x-pw-tool-item");\n    cancelButton.title = "Close";\n    cancelButton.classList.add("cancel");\n    cancelButton.appendChild(this._recorder.document.createElement("x-div"));\n    cancelButton.addEventListener("click", () => {\n      var _a;\n      this.close();\n      (_a = options.onCancel) == null ? void 0 : _a.call(options);\n    });\n    this._dialogElement = this._recorder.document.createElement("x-pw-dialog");\n    if (options.autosize)\n      this._dialogElement.classList.add("autosize");\n    this._keyboardListener = (event) => {\n      var _a;\n      if (event.key === "Escape") {\n        this.close();\n        (_a = options.onCancel) == null ? void 0 : _a.call(options);\n        return;\n      }\n      if (options.onCommit && event.key === "Enter" && (event.ctrlKey || event.metaKey)) {\n        if (this._dialogElement)\n          options.onCommit();\n        return;\n      }\n    };\n    this._onGlassPaneClickHandler = (event) => {\n      var _a;\n      this.close();\n      (_a = options.onCancel) == null ? void 0 : _a.call(options);\n    };\n    const toolbarElement = this._recorder.document.createElement("x-pw-tools-list");\n    const labelElement = this._recorder.document.createElement("label");\n    labelElement.textContent = options.label;\n    toolbarElement.appendChild(labelElement);\n    toolbarElement.appendChild(this._recorder.document.createElement("x-spacer"));\n    if (options.onCommit)\n      toolbarElement.appendChild(acceptButton);\n    toolbarElement.appendChild(cancelButton);\n    this._dialogElement.appendChild(toolbarElement);\n    const bodyElement = this._recorder.document.createElement("x-pw-dialog-body");\n    bodyElement.appendChild(options.body);\n    this._dialogElement.appendChild(bodyElement);\n    this._recorder.highlight.appendChild(this._dialogElement);\n    this._recorder.highlight.onGlassPaneClick(this._onGlassPaneClickHandler);\n    this._recorder.document.addEventListener("keydown", this._keyboardListener, true);\n    return this._dialogElement;\n  }\n  moveTo(top, left) {\n    if (!this._dialogElement)\n      return;\n    this._dialogElement.style.top = top + "px";\n    this._dialogElement.style.left = left + "px";\n  }\n  close() {\n    if (!this._dialogElement)\n      return;\n    this._dialogElement.remove();\n    this._recorder.highlight.offGlassPaneClick(this._onGlassPaneClickHandler);\n    this._recorder.document.removeEventListener("keydown", this._keyboardListener);\n    this._dialogElement = null;\n  }\n};\nfunction deepActiveElement(document) {\n  let activeElement = document.activeElement;\n  while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n    activeElement = activeElement.shadowRoot.activeElement;\n  return activeElement;\n}\nfunction modifiersForEvent(event) {\n  return (event.altKey ? 1 : 0) | (event.ctrlKey ? 2 : 0) | (event.metaKey ? 4 : 0) | (event.shiftKey ? 8 : 0);\n}\nfunction buttonForEvent(event) {\n  switch (event.which) {\n    case 1:\n      return "left";\n    case 2:\n      return "middle";\n    case 3:\n      return "right";\n  }\n  return "left";\n}\nfunction positionForEvent(event) {\n  const targetElement = event.target;\n  if (targetElement.nodeName !== "CANVAS")\n    return;\n  return {\n    x: event.offsetX,\n    y: event.offsetY\n  };\n}\nfunction consumeEvent(e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n}\nfunction asCheckbox(node) {\n  if (!node || node.nodeName !== "INPUT")\n    return null;\n  const inputElement = node;\n  return ["checkbox", "radio"].includes(inputElement.type) ? inputElement : null;\n}\nfunction isRangeInput(node) {\n  if (!node || node.nodeName !== "INPUT")\n    return false;\n  const inputElement = node;\n  return inputElement.type.toLowerCase() === "range";\n}\nfunction addEventListener(target, eventName, listener, useCapture) {\n  target.addEventListener(eventName, listener, useCapture);\n  const remove = () => {\n    target.removeEventListener(eventName, listener, useCapture);\n  };\n  return remove;\n}\nfunction removeEventListeners(listeners) {\n  for (const listener of listeners)\n    listener();\n  listeners.splice(0, listeners.length);\n}\nfunction entriesForSelectorHighlight(injectedScript, language, selector, ownerDocument) {\n  try {\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const elements = injectedScript.querySelectorAll(parsedSelector, ownerDocument);\n    const color = elements.length > 1 ? HighlightColors.multiple : HighlightColors.single;\n    const locator = injectedScript.utils.asLocator(language, selector);\n    return elements.map((element, index) => {\n      const suffix = elements.length > 1 ? ` [${index + 1} of ${elements.length}]` : "";\n      return { element, color, tooltipText: locator + suffix };\n    });\n  } catch (e) {\n    return [];\n  }\n}\nfunction createSvgElement(doc, { tagName, attrs, children }) {\n  const elem = doc.createElementNS("http://www.w3.org/2000/svg", tagName);\n  if (attrs) {\n    for (const [k, v] of Object.entries(attrs))\n      elem.setAttribute(k, v);\n  }\n  if (children) {\n    for (const c of children)\n      elem.appendChild(createSvgElement(doc, c));\n  }\n  return elem;\n}\nfunction isAssertAction(action) {\n  return action.name.startsWith("assert");\n}\nfunction findNewElement(from, to) {\n  var _a, _b;\n  function fillMap(root, map, position) {\n    let size = 1;\n    let childPosition = position + size;\n    for (const child of root.children || []) {\n      if (typeof child === "string") {\n        size++;\n        childPosition++;\n      } else {\n        size += fillMap(child, map, childPosition);\n        childPosition += size;\n      }\n    }\n    if (!["none", "presentation", "fragment", "iframe", "generic"].includes(root.role) && root.name) {\n      let byRole = map.get(root.role);\n      if (!byRole) {\n        byRole = /* @__PURE__ */ new Map();\n        map.set(root.role, byRole);\n      }\n      const existing = byRole.get(root.name);\n      const sizeAndPosition = size * 100 - position;\n      if (!existing || existing.sizeAndPosition < sizeAndPosition)\n        byRole.set(root.name, { node: root, sizeAndPosition });\n    }\n    return size;\n  }\n  const fromMap = /* @__PURE__ */ new Map();\n  if (from)\n    fillMap(from.root, fromMap, 0);\n  const toMap = /* @__PURE__ */ new Map();\n  fillMap(to.root, toMap, 0);\n  const result = [];\n  for (const [role, byRole] of toMap) {\n    for (const [name, byName] of byRole) {\n      const inFrom = (_a = fromMap.get(role)) == null ? void 0 : _a.get(name);\n      if (!inFrom)\n        result.push(byName);\n    }\n  }\n  result.sort((a, b) => b.sizeAndPosition - a.sizeAndPosition);\n  return (_b = result[0]) == null ? void 0 : _b.node.element;\n}\n\n// packages/injected/src/recorder/pollingRecorder.ts\nvar PollingRecorder = class {\n  constructor(injectedScript, options) {\n    this._recorder = new Recorder(injectedScript, options);\n    this._embedder = injectedScript.window;\n    injectedScript.onGlobalListenersRemoved.add(() => this._recorder.installListeners());\n    const refreshOverlay = () => {\n      this._lastStateJSON = void 0;\n      this._pollRecorderMode().catch((e) => console.log(e));\n    };\n    this._embedder.__pw_refreshOverlay = refreshOverlay;\n    refreshOverlay();\n  }\n  async _pollRecorderMode() {\n    const pollPeriod = 1e3;\n    if (this._pollRecorderModeTimer)\n      this._recorder.injectedScript.utils.builtins.clearTimeout(this._pollRecorderModeTimer);\n    const state = await this._embedder.__pw_recorderState().catch(() => null);\n    if (!state) {\n      this._pollRecorderModeTimer = this._recorder.injectedScript.utils.builtins.setTimeout(() => this._pollRecorderMode(), pollPeriod);\n      return;\n    }\n    const stringifiedState = JSON.stringify(state);\n    if (this._lastStateJSON !== stringifiedState) {\n      this._lastStateJSON = stringifiedState;\n      const win = this._recorder.document.defaultView;\n      if (win.top !== win) {\n        state.actionPoint = void 0;\n      }\n      this._recorder.setUIState(state, this);\n    }\n    this._pollRecorderModeTimer = this._recorder.injectedScript.utils.builtins.setTimeout(() => this._pollRecorderMode(), pollPeriod);\n  }\n  async performAction(action) {\n    await this._embedder.__pw_recorderPerformAction(action);\n  }\n  async recordAction(action) {\n    await this._embedder.__pw_recorderRecordAction(action);\n  }\n  async elementPicked(elementInfo) {\n    await this._embedder.__pw_recorderElementPicked(elementInfo);\n  }\n  async setMode(mode) {\n    await this._embedder.__pw_recorderSetMode(mode);\n  }\n  async setOverlayState(state) {\n    await this._embedder.__pw_recorderSetOverlayState(state);\n  }\n};\nvar pollingRecorder_default = PollingRecorder;\n';0&&0},495:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{source:()=>Se});w.exports=__toCommonJS(ye);const Se='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/storageScript.ts\nvar storageScript_exports = {};\n__export(storageScript_exports, {\n  StorageScript: () => StorageScript\n});\nmodule.exports = __toCommonJS(storageScript_exports);\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction base64ToTypedArray(base64, TypedArrayConstructor) {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++)\n    bytes[i] = binary.charCodeAt(i);\n  return new TypedArrayConstructor(bytes.buffer);\n}\nfunction parseEvaluationResultValue(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n  if (Object.is(value, void 0))\n    return void 0;\n  if (typeof value === "object" && value) {\n    if ("ref" in value)\n      return refs.get(value.ref);\n    if ("v" in value) {\n      if (value.v === "undefined")\n        return void 0;\n      if (value.v === "null")\n        return null;\n      if (value.v === "NaN")\n        return NaN;\n      if (value.v === "Infinity")\n        return Infinity;\n      if (value.v === "-Infinity")\n        return -Infinity;\n      if (value.v === "-0")\n        return -0;\n      return void 0;\n    }\n    if ("d" in value) {\n      return new Date(value.d);\n    }\n    if ("u" in value)\n      return new URL(value.u);\n    if ("bi" in value)\n      return BigInt(value.bi);\n    if ("e" in value) {\n      const error = new Error(value.e.m);\n      error.name = value.e.n;\n      error.stack = value.e.s;\n      return error;\n    }\n    if ("r" in value)\n      return new RegExp(value.r.p, value.r.f);\n    if ("a" in value) {\n      const result = [];\n      refs.set(value.id, result);\n      for (const a of value.a)\n        result.push(parseEvaluationResultValue(a, handles, refs));\n      return result;\n    }\n    if ("o" in value) {\n      const result = {};\n      refs.set(value.id, result);\n      for (const { k, v } of value.o) {\n        if (k === "__proto__")\n          continue;\n        result[k] = parseEvaluationResultValue(v, handles, refs);\n      }\n      return result;\n    }\n    if ("h" in value)\n      return handles[value.h];\n    if ("ta" in value)\n      return base64ToTypedArray(value.ta.b, typedArrayConstructors[value.ta.k]);\n  }\n  return value;\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/storageScript.ts\nvar StorageScript = class {\n  constructor(isFirefox) {\n    this._isFirefox = isFirefox;\n    this._global = globalThis;\n  }\n  _idbRequestToPromise(request) {\n    return new Promise((resolve, reject) => {\n      request.addEventListener("success", () => resolve(request.result));\n      request.addEventListener("error", () => reject(request.error));\n    });\n  }\n  _isPlainObject(v) {\n    const ctor = v == null ? void 0 : v.constructor;\n    if (this._isFirefox) {\n      const constructorImpl = ctor == null ? void 0 : ctor.toString();\n      if ((constructorImpl == null ? void 0 : constructorImpl.startsWith("function Object() {")) && (constructorImpl == null ? void 0 : constructorImpl.includes("[native code]")))\n        return true;\n    }\n    return ctor === Object;\n  }\n  _trySerialize(value) {\n    let trivial = true;\n    const encoded = serializeAsCallArgument(value, (v) => {\n      const isTrivial = this._isPlainObject(v) || Array.isArray(v) || typeof v === "string" || typeof v === "number" || typeof v === "boolean" || Object.is(v, null);\n      if (!isTrivial)\n        trivial = false;\n      return { fallThrough: v };\n    });\n    if (trivial)\n      return { trivial: value };\n    return { encoded };\n  }\n  async _collectDB(dbInfo) {\n    if (!dbInfo.name)\n      throw new Error("Database name is empty");\n    if (!dbInfo.version)\n      throw new Error("Database version is unset");\n    const db = await this._idbRequestToPromise(indexedDB.open(dbInfo.name));\n    if (db.objectStoreNames.length === 0)\n      return { name: dbInfo.name, version: dbInfo.version, stores: [] };\n    const transaction = db.transaction(db.objectStoreNames, "readonly");\n    const stores = await Promise.all([...db.objectStoreNames].map(async (storeName) => {\n      const objectStore = transaction.objectStore(storeName);\n      const keys = await this._idbRequestToPromise(objectStore.getAllKeys());\n      const records = await Promise.all(keys.map(async (key) => {\n        const record = {};\n        if (objectStore.keyPath === null) {\n          const { encoded: encoded2, trivial: trivial2 } = this._trySerialize(key);\n          if (trivial2)\n            record.key = trivial2;\n          else\n            record.keyEncoded = encoded2;\n        }\n        const value = await this._idbRequestToPromise(objectStore.get(key));\n        const { encoded, trivial } = this._trySerialize(value);\n        if (trivial)\n          record.value = trivial;\n        else\n          record.valueEncoded = encoded;\n        return record;\n      }));\n      const indexes = [...objectStore.indexNames].map((indexName) => {\n        const index = objectStore.index(indexName);\n        return {\n          name: index.name,\n          keyPath: typeof index.keyPath === "string" ? index.keyPath : void 0,\n          keyPathArray: Array.isArray(index.keyPath) ? index.keyPath : void 0,\n          multiEntry: index.multiEntry,\n          unique: index.unique\n        };\n      });\n      return {\n        name: storeName,\n        records,\n        indexes,\n        autoIncrement: objectStore.autoIncrement,\n        keyPath: typeof objectStore.keyPath === "string" ? objectStore.keyPath : void 0,\n        keyPathArray: Array.isArray(objectStore.keyPath) ? objectStore.keyPath : void 0\n      };\n    }));\n    return {\n      name: dbInfo.name,\n      version: dbInfo.version,\n      stores\n    };\n  }\n  async collect(recordIndexedDB) {\n    const localStorage = Object.keys(this._global.localStorage).map((name) => ({ name, value: this._global.localStorage.getItem(name) }));\n    if (!recordIndexedDB)\n      return { localStorage };\n    try {\n      const databases = await this._global.indexedDB.databases();\n      const indexedDB2 = await Promise.all(databases.map((db) => this._collectDB(db)));\n      return { localStorage, indexedDB: indexedDB2 };\n    } catch (e) {\n      throw new Error("Unable to serialize IndexedDB: " + e.message);\n    }\n  }\n  async _restoreDB(dbInfo) {\n    const openRequest = this._global.indexedDB.open(dbInfo.name, dbInfo.version);\n    openRequest.addEventListener("upgradeneeded", () => {\n      var _a, _b;\n      const db2 = openRequest.result;\n      for (const store of dbInfo.stores) {\n        const objectStore = db2.createObjectStore(store.name, { autoIncrement: store.autoIncrement, keyPath: (_a = store.keyPathArray) != null ? _a : store.keyPath });\n        for (const index of store.indexes)\n          objectStore.createIndex(index.name, (_b = index.keyPathArray) != null ? _b : index.keyPath, { unique: index.unique, multiEntry: index.multiEntry });\n      }\n    });\n    const db = await this._idbRequestToPromise(openRequest);\n    if (db.objectStoreNames.length === 0)\n      return;\n    const transaction = db.transaction(db.objectStoreNames, "readwrite");\n    await Promise.all(dbInfo.stores.map(async (store) => {\n      const objectStore = transaction.objectStore(store.name);\n      await Promise.all(store.records.map(async (record) => {\n        var _a, _b;\n        await this._idbRequestToPromise(\n          objectStore.add(\n            (_a = record.value) != null ? _a : parseEvaluationResultValue(record.valueEncoded),\n            (_b = record.key) != null ? _b : parseEvaluationResultValue(record.keyEncoded)\n          )\n        );\n      }));\n    }));\n  }\n  async restore(originState) {\n    var _a, _b, _c;\n    const registrations = this._global.navigator.serviceWorker ? await this._global.navigator.serviceWorker.getRegistrations() : [];\n    await Promise.all(registrations.map(async (r) => {\n      if (!r.installing && !r.waiting && !r.active)\n        r.unregister().catch(() => {\n        });\n      else\n        await r.unregister().catch(() => {\n        });\n    }));\n    try {\n      for (const db of await ((_b = (_a = this._global.indexedDB).databases) == null ? void 0 : _b.call(_a)) || []) {\n        if (db.name)\n          this._global.indexedDB.deleteDatabase(db.name);\n      }\n      await Promise.all(((_c = originState == null ? void 0 : originState.indexedDB) != null ? _c : []).map((dbInfo) => this._restoreDB(dbInfo)));\n    } catch (e) {\n      throw new Error("Unable to restore IndexedDB: " + e.message);\n    }\n    this._global.sessionStorage.clear();\n    this._global.localStorage.clear();\n    for (const { name, value } of (originState == null ? void 0 : originState.localStorage) || [])\n      this._global.localStorage.setItem(name, value);\n  }\n};\n';0&&0},2182:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{source:()=>Se});w.exports=__toCommonJS(ye);const Se='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/utilityScript.ts\nvar utilityScript_exports = {};\n__export(utilityScript_exports, {\n  UtilityScript: () => UtilityScript\n});\nmodule.exports = __toCommonJS(utilityScript_exports);\n\n// packages/playwright-core/src/utils/isomorphic/utilityScriptSerializers.ts\nfunction isRegExp(obj) {\n  try {\n    return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isDate(obj) {\n  try {\n    return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isURL(obj) {\n  try {\n    return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isError(obj) {\n  var _a;\n  try {\n    return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n  } catch (error) {\n    return false;\n  }\n}\nfunction isTypedArray(obj, constructor) {\n  try {\n    return obj instanceof constructor || Object.prototype.toString.call(obj) === `[object ${constructor.name}]`;\n  } catch (error) {\n    return false;\n  }\n}\nvar typedArrayConstructors = {\n  i8: Int8Array,\n  ui8: Uint8Array,\n  ui8c: Uint8ClampedArray,\n  i16: Int16Array,\n  ui16: Uint16Array,\n  i32: Int32Array,\n  ui32: Uint32Array,\n  // TODO: add Float16Array once it\'s in baseline\n  f32: Float32Array,\n  f64: Float64Array,\n  bi64: BigInt64Array,\n  bui64: BigUint64Array\n};\nfunction typedArrayToBase64(array) {\n  if ("toBase64" in array)\n    return array.toBase64();\n  const binary = Array.from(new Uint8Array(array.buffer, array.byteOffset, array.byteLength)).map((b) => String.fromCharCode(b)).join("");\n  return btoa(binary);\n}\nfunction base64ToTypedArray(base64, TypedArrayConstructor) {\n  const binary = atob(base64);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i++)\n    bytes[i] = binary.charCodeAt(i);\n  return new TypedArrayConstructor(bytes.buffer);\n}\nfunction parseEvaluationResultValue(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n  if (Object.is(value, void 0))\n    return void 0;\n  if (typeof value === "object" && value) {\n    if ("ref" in value)\n      return refs.get(value.ref);\n    if ("v" in value) {\n      if (value.v === "undefined")\n        return void 0;\n      if (value.v === "null")\n        return null;\n      if (value.v === "NaN")\n        return NaN;\n      if (value.v === "Infinity")\n        return Infinity;\n      if (value.v === "-Infinity")\n        return -Infinity;\n      if (value.v === "-0")\n        return -0;\n      return void 0;\n    }\n    if ("d" in value) {\n      return new Date(value.d);\n    }\n    if ("u" in value)\n      return new URL(value.u);\n    if ("bi" in value)\n      return BigInt(value.bi);\n    if ("e" in value) {\n      const error = new Error(value.e.m);\n      error.name = value.e.n;\n      error.stack = value.e.s;\n      return error;\n    }\n    if ("r" in value)\n      return new RegExp(value.r.p, value.r.f);\n    if ("a" in value) {\n      const result = [];\n      refs.set(value.id, result);\n      for (const a of value.a)\n        result.push(parseEvaluationResultValue(a, handles, refs));\n      return result;\n    }\n    if ("o" in value) {\n      const result = {};\n      refs.set(value.id, result);\n      for (const { k, v } of value.o) {\n        if (k === "__proto__")\n          continue;\n        result[k] = parseEvaluationResultValue(v, handles, refs);\n      }\n      return result;\n    }\n    if ("h" in value)\n      return handles[value.h];\n    if ("ta" in value)\n      return base64ToTypedArray(value.ta.b, typedArrayConstructors[value.ta.k]);\n  }\n  return value;\n}\nfunction serializeAsCallArgument(value, handleSerializer) {\n  return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n}\nfunction serialize(value, handleSerializer, visitorInfo) {\n  if (value && typeof value === "object") {\n    if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n      return "ref: <Window>";\n    if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n      return "ref: <Document>";\n    if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n      return "ref: <Node>";\n  }\n  return innerSerialize(value, handleSerializer, visitorInfo);\n}\nfunction innerSerialize(value, handleSerializer, visitorInfo) {\n  var _a;\n  const result = handleSerializer(value);\n  if ("fallThrough" in result)\n    value = result.fallThrough;\n  else\n    return result;\n  if (typeof value === "symbol")\n    return { v: "undefined" };\n  if (Object.is(value, void 0))\n    return { v: "undefined" };\n  if (Object.is(value, null))\n    return { v: "null" };\n  if (Object.is(value, NaN))\n    return { v: "NaN" };\n  if (Object.is(value, Infinity))\n    return { v: "Infinity" };\n  if (Object.is(value, -Infinity))\n    return { v: "-Infinity" };\n  if (Object.is(value, -0))\n    return { v: "-0" };\n  if (typeof value === "boolean")\n    return value;\n  if (typeof value === "number")\n    return value;\n  if (typeof value === "string")\n    return value;\n  if (typeof value === "bigint")\n    return { bi: value.toString() };\n  if (isError(value)) {\n    let stack;\n    if ((_a = value.stack) == null ? void 0 : _a.startsWith(value.name + ": " + value.message)) {\n      stack = value.stack;\n    } else {\n      stack = `${value.name}: ${value.message}\n${value.stack}`;\n    }\n    return { e: { n: value.name, m: value.message, s: stack } };\n  }\n  if (isDate(value))\n    return { d: value.toJSON() };\n  if (isURL(value))\n    return { u: value.toJSON() };\n  if (isRegExp(value))\n    return { r: { p: value.source, f: value.flags } };\n  for (const [k, ctor] of Object.entries(typedArrayConstructors)) {\n    if (isTypedArray(value, ctor))\n      return { ta: { b: typedArrayToBase64(value), k } };\n  }\n  const id = visitorInfo.visited.get(value);\n  if (id)\n    return { ref: id };\n  if (Array.isArray(value)) {\n    const a = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (let i = 0; i < value.length; ++i)\n      a.push(serialize(value[i], handleSerializer, visitorInfo));\n    return { a, id: id2 };\n  }\n  if (typeof value === "object") {\n    const o = [];\n    const id2 = ++visitorInfo.lastId;\n    visitorInfo.visited.set(value, id2);\n    for (const name of Object.keys(value)) {\n      let item;\n      try {\n        item = value[name];\n      } catch (e) {\n        continue;\n      }\n      if (name === "toJSON" && typeof item === "function")\n        o.push({ k: name, v: { o: [], id: 0 } });\n      else\n        o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n    }\n    let jsonWrapper;\n    try {\n      if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n        jsonWrapper = { value: value.toJSON() };\n    } catch (e) {\n    }\n    if (jsonWrapper)\n      return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n    return { o, id: id2 };\n  }\n}\n\n// packages/injected/src/utilityScript.ts\nvar UtilityScript = class {\n  constructor(global, isUnderTest) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    this.global = global;\n    this.isUnderTest = isUnderTest;\n    if (global.__pwClock) {\n      this.builtins = global.__pwClock.builtins;\n    } else {\n      this.builtins = {\n        setTimeout: (_a = global.setTimeout) == null ? void 0 : _a.bind(global),\n        clearTimeout: (_b = global.clearTimeout) == null ? void 0 : _b.bind(global),\n        setInterval: (_c = global.setInterval) == null ? void 0 : _c.bind(global),\n        clearInterval: (_d = global.clearInterval) == null ? void 0 : _d.bind(global),\n        requestAnimationFrame: (_e = global.requestAnimationFrame) == null ? void 0 : _e.bind(global),\n        cancelAnimationFrame: (_f = global.cancelAnimationFrame) == null ? void 0 : _f.bind(global),\n        requestIdleCallback: (_g = global.requestIdleCallback) == null ? void 0 : _g.bind(global),\n        cancelIdleCallback: (_h = global.cancelIdleCallback) == null ? void 0 : _h.bind(global),\n        performance: global.performance,\n        Intl: global.Intl,\n        Date: global.Date\n      };\n    }\n    if (this.isUnderTest)\n      global.builtins = this.builtins;\n  }\n  evaluate(isFunction, returnByValue, expression, argCount, ...argsAndHandles) {\n    const args = argsAndHandles.slice(0, argCount);\n    const handles = argsAndHandles.slice(argCount);\n    const parameters = [];\n    for (let i = 0; i < args.length; i++)\n      parameters[i] = parseEvaluationResultValue(args[i], handles);\n    let result = this.global.eval(expression);\n    if (isFunction === true) {\n      result = result(...parameters);\n    } else if (isFunction === false) {\n      result = result;\n    } else {\n      if (typeof result === "function")\n        result = result(...parameters);\n    }\n    return returnByValue ? this._promiseAwareJsonValueNoThrow(result) : result;\n  }\n  jsonValue(returnByValue, value) {\n    if (value === void 0)\n      return void 0;\n    return serializeAsCallArgument(value, (value2) => ({ fallThrough: value2 }));\n  }\n  _promiseAwareJsonValueNoThrow(value) {\n    const safeJson = (value2) => {\n      try {\n        return this.jsonValue(true, value2);\n      } catch (e) {\n        return void 0;\n      }\n    };\n    if (value && typeof value === "object" && typeof value.then === "function") {\n      return (async () => {\n        const promiseValue = await value;\n        return safeJson(promiseValue);\n      })();\n    }\n    return safeJson(value);\n  }\n};\n';0&&0},7632:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{source:()=>Se});w.exports=__toCommonJS(ye);const Se=`\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, 'default': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/injected/src/webSocketMock.ts\nvar webSocketMock_exports = {};\n__export(webSocketMock_exports, {\n  inject: () => inject\n});\nmodule.exports = __toCommonJS(webSocketMock_exports);\nfunction inject(globalThis) {\n  if (globalThis.__pwWebSocketDispatch)\n    return;\n  function generateId() {\n    const bytes = new Uint8Array(32);\n    globalThis.crypto.getRandomValues(bytes);\n    const hex = "0123456789abcdef";\n    return [...bytes].map((value) => {\n      const high = Math.floor(value / 16);\n      const low = value % 16;\n      return hex[high] + hex[low];\n    }).join("");\n  }\n  function bufferToData(b) {\n    let s = "";\n    for (let i = 0; i < b.length; i++)\n      s += String.fromCharCode(b[i]);\n    return { data: globalThis.btoa(s), isBase64: true };\n  }\n  function stringToBuffer(s) {\n    s = globalThis.atob(s);\n    const b = new Uint8Array(s.length);\n    for (let i = 0; i < s.length; i++)\n      b[i] = s.charCodeAt(i);\n    return b.buffer;\n  }\n  function messageToData(message, cb) {\n    if (message instanceof globalThis.Blob)\n      return message.arrayBuffer().then((buffer) => cb(bufferToData(new Uint8Array(buffer))));\n    if (typeof message === "string")\n      return cb({ data: message, isBase64: false });\n    if (ArrayBuffer.isView(message))\n      return cb(bufferToData(new Uint8Array(message.buffer, message.byteOffset, message.byteLength)));\n    return cb(bufferToData(new Uint8Array(message)));\n  }\n  function dataToMessage(data, binaryType) {\n    if (!data.isBase64)\n      return data.data;\n    const buffer = stringToBuffer(data.data);\n    return binaryType === "arraybuffer" ? buffer : new Blob([buffer]);\n  }\n  const binding = globalThis.__pwWebSocketBinding;\n  const NativeWebSocket = globalThis.WebSocket;\n  const idToWebSocket = /* @__PURE__ */ new Map();\n  globalThis.__pwWebSocketDispatch = (request) => {\n    const ws = idToWebSocket.get(request.id);\n    if (!ws)\n      return;\n    if (request.type === "connect")\n      ws._apiConnect();\n    if (request.type === "passthrough")\n      ws._apiPassThrough();\n    if (request.type === "ensureOpened")\n      ws._apiEnsureOpened();\n    if (request.type === "sendToPage")\n      ws._apiSendToPage(dataToMessage(request.data, ws.binaryType));\n    if (request.type === "closePage")\n      ws._apiClosePage(request.code, request.reason, request.wasClean);\n    if (request.type === "sendToServer")\n      ws._apiSendToServer(dataToMessage(request.data, ws.binaryType));\n    if (request.type === "closeServer")\n      ws._apiCloseServer(request.code, request.reason, request.wasClean);\n  };\n  const _WebSocketMock = class _WebSocketMock extends EventTarget {\n    constructor(url, protocols) {\n      var _a, _b;\n      super();\n      // WebSocket.CLOSED\n      this.CONNECTING = 0;\n      // WebSocket.CONNECTING\n      this.OPEN = 1;\n      // WebSocket.OPEN\n      this.CLOSING = 2;\n      // WebSocket.CLOSING\n      this.CLOSED = 3;\n      // WebSocket.CLOSED\n      this._oncloseListener = null;\n      this._onerrorListener = null;\n      this._onmessageListener = null;\n      this._onopenListener = null;\n      this.bufferedAmount = 0;\n      this.extensions = "";\n      this.protocol = "";\n      this.readyState = 0;\n      this._origin = "";\n      this._passthrough = false;\n      this._wsBufferedMessages = [];\n      this._binaryType = "blob";\n      this.url = new URL(url, globalThis.window.document.baseURI).href.replace(/^http/, "ws");\n      this._origin = (_b = (_a = URL.parse(this.url)) == null ? void 0 : _a.origin) != null ? _b : "";\n      this._protocols = protocols;\n      this._id = generateId();\n      idToWebSocket.set(this._id, this);\n      binding({ type: "onCreate", id: this._id, url: this.url });\n    }\n    // --- native WebSocket implementation ---\n    get binaryType() {\n      return this._binaryType;\n    }\n    set binaryType(type) {\n      this._binaryType = type;\n      if (this._ws)\n        this._ws.binaryType = type;\n    }\n    get onclose() {\n      return this._oncloseListener;\n    }\n    set onclose(listener) {\n      if (this._oncloseListener)\n        this.removeEventListener("close", this._oncloseListener);\n      this._oncloseListener = listener;\n      if (this._oncloseListener)\n        this.addEventListener("close", this._oncloseListener);\n    }\n    get onerror() {\n      return this._onerrorListener;\n    }\n    set onerror(listener) {\n      if (this._onerrorListener)\n        this.removeEventListener("error", this._onerrorListener);\n      this._onerrorListener = listener;\n      if (this._onerrorListener)\n        this.addEventListener("error", this._onerrorListener);\n    }\n    get onopen() {\n      return this._onopenListener;\n    }\n    set onopen(listener) {\n      if (this._onopenListener)\n        this.removeEventListener("open", this._onopenListener);\n      this._onopenListener = listener;\n      if (this._onopenListener)\n        this.addEventListener("open", this._onopenListener);\n    }\n    get onmessage() {\n      return this._onmessageListener;\n    }\n    set onmessage(listener) {\n      if (this._onmessageListener)\n        this.removeEventListener("message", this._onmessageListener);\n      this._onmessageListener = listener;\n      if (this._onmessageListener)\n        this.addEventListener("message", this._onmessageListener);\n    }\n    send(message) {\n      if (this.readyState === _WebSocketMock.CONNECTING)\n        throw new DOMException(\`Failed to execute 'send' on 'WebSocket': Still in CONNECTING state.\`);\n      if (this.readyState !== _WebSocketMock.OPEN)\n        throw new DOMException(\`WebSocket is already in CLOSING or CLOSED state.\`);\n      if (this._passthrough) {\n        if (this._ws)\n          this._apiSendToServer(message);\n      } else {\n        messageToData(message, (data) => binding({ type: "onMessageFromPage", id: this._id, data }));\n      }\n    }\n    close(code, reason) {\n      if (code !== void 0 && code !== 1e3 && (code < 3e3 || code > 4999))\n        throw new DOMException(\`Failed to execute 'close' on 'WebSocket': The close code must be either 1000, or between 3000 and 4999. \${code} is neither.\`);\n      if (this.readyState === _WebSocketMock.OPEN || this.readyState === _WebSocketMock.CONNECTING)\n        this.readyState = _WebSocketMock.CLOSING;\n      if (this._passthrough)\n        this._apiCloseServer(code, reason, true);\n      else\n        binding({ type: "onClosePage", id: this._id, code, reason, wasClean: true });\n    }\n    // --- methods called from the routing API ---\n    _apiEnsureOpened() {\n      if (!this._ws)\n        this._ensureOpened();\n    }\n    _apiSendToPage(message) {\n      this._ensureOpened();\n      if (this.readyState !== _WebSocketMock.OPEN)\n        throw new DOMException(\`WebSocket is already in CLOSING or CLOSED state.\`);\n      this.dispatchEvent(new MessageEvent("message", { data: message, origin: this._origin, cancelable: true }));\n    }\n    _apiSendToServer(message) {\n      if (!this._ws)\n        throw new Error("Cannot send a message before connecting to the server");\n      if (this._ws.readyState === _WebSocketMock.CONNECTING)\n        this._wsBufferedMessages.push(message);\n      else\n        this._ws.send(message);\n    }\n    _apiConnect() {\n      if (this._ws)\n        throw new Error("Can only connect to the server once");\n      this._ws = new NativeWebSocket(this.url, this._protocols);\n      this._ws.binaryType = this._binaryType;\n      this._ws.onopen = () => {\n        for (const message of this._wsBufferedMessages)\n          this._ws.send(message);\n        this._wsBufferedMessages = [];\n        this._ensureOpened();\n      };\n      this._ws.onclose = (event) => {\n        this._onWSClose(event.code, event.reason, event.wasClean);\n      };\n      this._ws.onmessage = (event) => {\n        if (this._passthrough)\n          this._apiSendToPage(event.data);\n        else\n          messageToData(event.data, (data) => binding({ type: "onMessageFromServer", id: this._id, data }));\n      };\n      this._ws.onerror = () => {\n        const event = new Event("error", { cancelable: true });\n        this.dispatchEvent(event);\n      };\n    }\n    // This method connects to the server, and passes all messages through,\n    // as if WebSocketMock was not engaged.\n    _apiPassThrough() {\n      this._passthrough = true;\n      this._apiConnect();\n    }\n    _apiCloseServer(code, reason, wasClean) {\n      if (!this._ws) {\n        this._onWSClose(code, reason, wasClean);\n        return;\n      }\n      if (this._ws.readyState === _WebSocketMock.CONNECTING || this._ws.readyState === _WebSocketMock.OPEN)\n        this._ws.close(code, reason);\n    }\n    _apiClosePage(code, reason, wasClean) {\n      if (this.readyState === _WebSocketMock.CLOSED)\n        return;\n      this.readyState = _WebSocketMock.CLOSED;\n      this.dispatchEvent(new CloseEvent("close", { code, reason, wasClean, cancelable: true }));\n      this._maybeCleanup();\n      if (this._passthrough)\n        this._apiCloseServer(code, reason, wasClean);\n      else\n        binding({ type: "onClosePage", id: this._id, code, reason, wasClean });\n    }\n    // --- internals ---\n    _ensureOpened() {\n      var _a;\n      if (this.readyState !== _WebSocketMock.CONNECTING)\n        return;\n      this.extensions = ((_a = this._ws) == null ? void 0 : _a.extensions) || "";\n      if (this._ws)\n        this.protocol = this._ws.protocol;\n      else if (Array.isArray(this._protocols))\n        this.protocol = this._protocols[0] || "";\n      else\n        this.protocol = this._protocols || "";\n      this.readyState = _WebSocketMock.OPEN;\n      this.dispatchEvent(new Event("open", { cancelable: true }));\n    }\n    _onWSClose(code, reason, wasClean) {\n      if (this._passthrough)\n        this._apiClosePage(code, reason, wasClean);\n      else\n        binding({ type: "onCloseServer", id: this._id, code, reason, wasClean });\n      if (this._ws) {\n        this._ws.onopen = null;\n        this._ws.onclose = null;\n        this._ws.onmessage = null;\n        this._ws.onerror = null;\n        this._ws = void 0;\n        this._wsBufferedMessages = [];\n      }\n      this._maybeCleanup();\n    }\n    _maybeCleanup() {\n      if (this.readyState === _WebSocketMock.CLOSED && !this._ws)\n        idToWebSocket.delete(this._id);\n    }\n  };\n  _WebSocketMock.CONNECTING = 0;\n  // WebSocket.CONNECTING\n  _WebSocketMock.OPEN = 1;\n  // WebSocket.OPEN\n  _WebSocketMock.CLOSING = 2;\n  // WebSocket.CLOSING\n  _WebSocketMock.CLOSED = 3;\n  let WebSocketMock = _WebSocketMock;\n  globalThis.WebSocket = class WebSocket extends WebSocketMock {\n  };\n}\n`;0&&0},8790:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{createInProcessPlaywright:()=>createInProcessPlaywright});w.exports=__toCommonJS(Be);var Qe=G(7660);var Pe=G(4635);var Fe=G(4160);var Me=G(1371);var Le=G(3894);function createInProcessPlaywright(){const w=(0,Fe.createPlaywright)({sdkLanguage:process.env.PW_LANG_NAME||"javascript"});const B=new Le.Connection(Me.nodePlatform);B.useRawBuffers();const G=new Fe.DispatcherConnection(true);G.onmessage=w=>B.dispatch(w);B.onmessage=w=>G.dispatch(w);const K=new Fe.RootDispatcher(G);new Fe.PlaywrightDispatcher(K,w);const pe=B.getObjectWithKnownName("Playwright");pe.chromium._serverLauncher=new Pe.BrowserServerLauncherImpl("chromium");pe.firefox._serverLauncher=new Pe.BrowserServerLauncherImpl("firefox");pe.webkit._serverLauncher=new Pe.BrowserServerLauncherImpl("webkit");pe._android._serverLauncher=new Qe.AndroidServerLauncherImpl;pe._bidiChromium._serverLauncher=new Pe.BrowserServerLauncherImpl("_bidiChromium");pe._bidiFirefox._serverLauncher=new Pe.BrowserServerLauncherImpl("_bidiFirefox");G.onmessage=w=>setImmediate((()=>B.dispatch(w)));B.onmessage=w=>setImmediate((()=>G.dispatch(w)));B.toImpl=w=>{if(w instanceof Le.Connection)return w===B?G:void 0;if(!w)return G._dispatcherByGuid.get("");return G._dispatcherByGuid.get(w._guid)._object};return pe}0&&0},9902:(w,B,G)=>{"use strict";var K=G(8790);w.exports=(0,K.createInProcessPlaywright)()},1038:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{parseSerializedValue:()=>parseSerializedValue,serializeValue:()=>serializeValue});w.exports=__toCommonJS(ye);function parseSerializedValue(w,B){return innerParseSerializedValue(w,B,new Map,[])}function innerParseSerializedValue(w,B,G,K){if(w.ref!==void 0)return G.get(w.ref);if(w.n!==void 0)return w.n;if(w.s!==void 0)return w.s;if(w.b!==void 0)return w.b;if(w.v!==void 0){if(w.v==="undefined")return void 0;if(w.v==="null")return null;if(w.v==="NaN")return NaN;if(w.v==="Infinity")return Infinity;if(w.v==="-Infinity")return-Infinity;if(w.v==="-0")return-0}if(w.d!==void 0)return new Date(w.d);if(w.u!==void 0)return new URL(w.u);if(w.bi!==void 0)return BigInt(w.bi);if(w.e!==void 0){const B=new Error(w.e.m);B.name=w.e.n;B.stack=w.e.s;return B}if(w.r!==void 0)return new RegExp(w.r.p,w.r.f);if(w.ta!==void 0){const B=Se[w.ta.k];return new B(w.ta.b.buffer,w.ta.b.byteOffset,w.ta.b.length/B.BYTES_PER_ELEMENT)}if(w.a!==void 0){const pe=[];G.set(w.id,pe);for(let ye=0;ye<w.a.length;ye++)pe.push(innerParseSerializedValue(w.a[ye],B,G,[...K,ye]));return pe}if(w.o!==void 0){const pe={};G.set(w.id,pe);for(const{k:ye,v:Se}of w.o)pe[ye]=innerParseSerializedValue(Se,B,G,[...K,ye]);return pe}if(w.h!==void 0){if(B===void 0)throw new Error("Unexpected handle");return B[w.h]}throw new Error(`Attempting to deserialize unexpected value${accessChainToDisplayString(K)}: ${w}`)}function serializeValue(w,B){return innerSerializeValue(w,B,{lastId:0,visited:new Map},[])}function innerSerializeValue(w,B,G,K){const pe=B(w);if("fallThrough"in pe)w=pe.fallThrough;else return pe;if(typeof w==="symbol")return{v:"undefined"};if(Object.is(w,void 0))return{v:"undefined"};if(Object.is(w,null))return{v:"null"};if(Object.is(w,NaN))return{v:"NaN"};if(Object.is(w,Infinity))return{v:"Infinity"};if(Object.is(w,-Infinity))return{v:"-Infinity"};if(Object.is(w,-0))return{v:"-0"};if(typeof w==="boolean")return{b:w};if(typeof w==="number")return{n:w};if(typeof w==="string")return{s:w};if(typeof w==="bigint")return{bi:w.toString()};if(isError(w))return{e:{n:w.name,m:w.message,s:w.stack||""}};if(isDate(w))return{d:w.toJSON()};if(isURL(w))return{u:w.toJSON()};if(isRegExp(w))return{r:{p:w.source,f:w.flags}};const ye=Be.get(w.constructor);if(ye)return{ta:{b:Buffer.from(w.buffer,w.byteOffset,w.byteLength),k:ye}};const Se=G.visited.get(w);if(Se)return{ref:Se};if(Array.isArray(w)){const pe=[];const ye=++G.lastId;G.visited.set(w,ye);for(let ye=0;ye<w.length;++ye)pe.push(innerSerializeValue(w[ye],B,G,[...K,ye]));return{a:pe,id:ye}}if(typeof w==="object"){const pe=[];const ye=++G.lastId;G.visited.set(w,ye);for(const ye of Object.keys(w))pe.push({k:ye,v:innerSerializeValue(w[ye],B,G,[...K,ye])});return{o:pe,id:ye}}throw new Error(`Attempting to serialize unexpected value${accessChainToDisplayString(K)}: ${w}`)}function accessChainToDisplayString(w){const B=w.map(((w,B)=>{if(typeof w==="string")return B?`.${w}`:w;return`[${w}]`})).join("");return B.length>0?` at position "${B}"`:""}function isRegExp(w){return w instanceof RegExp||Object.prototype.toString.call(w)==="[object RegExp]"}function isDate(w){return w instanceof Date||Object.prototype.toString.call(w)==="[object Date]"}function isURL(w){return w instanceof URL||Object.prototype.toString.call(w)==="[object URL]"}function isError(w){const B=w?Object.getPrototypeOf(w):null;return w instanceof Error||B?.name==="Error"||B&&isError(B)}const Se={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,bi64:BigInt64Array,bui64:BigUint64Array};const Be=new Map(Object.entries(Se).map((([w,B])=>[B,w])));0&&0},8873:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ValidationError:()=>Pe.ValidationError,createMetadataValidator:()=>Pe.createMetadataValidator,findValidator:()=>Pe.findValidator,maybeFindValidator:()=>Pe.maybeFindValidator});w.exports=__toCommonJS(Be);var Qe=G(7919);var Pe=G(7919);Qe.scheme.StackFrame=(0,Qe.tObject)({file:Qe.tString,line:Qe.tInt,column:Qe.tInt,function:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.Metadata=(0,Qe.tObject)({location:(0,Qe.tOptional)((0,Qe.tObject)({file:Qe.tString,line:(0,Qe.tOptional)(Qe.tInt),column:(0,Qe.tOptional)(Qe.tInt)})),title:(0,Qe.tOptional)(Qe.tString),internal:(0,Qe.tOptional)(Qe.tBoolean),stepId:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.ClientSideCallMetadata=(0,Qe.tObject)({id:Qe.tInt,stack:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("StackFrame")))});Qe.scheme.Point=(0,Qe.tObject)({x:Qe.tFloat,y:Qe.tFloat});Qe.scheme.Rect=(0,Qe.tObject)({x:Qe.tFloat,y:Qe.tFloat,width:Qe.tFloat,height:Qe.tFloat});Qe.scheme.SerializedValue=(0,Qe.tObject)({n:(0,Qe.tOptional)(Qe.tFloat),b:(0,Qe.tOptional)(Qe.tBoolean),s:(0,Qe.tOptional)(Qe.tString),v:(0,Qe.tOptional)((0,Qe.tEnum)(["null","undefined","NaN","Infinity","-Infinity","-0"])),d:(0,Qe.tOptional)(Qe.tString),u:(0,Qe.tOptional)(Qe.tString),bi:(0,Qe.tOptional)(Qe.tString),ta:(0,Qe.tOptional)((0,Qe.tObject)({b:Qe.tBinary,k:(0,Qe.tEnum)(["i8","ui8","ui8c","i16","ui16","i32","ui32","f32","f64","bi64","bui64"])})),e:(0,Qe.tOptional)((0,Qe.tObject)({m:Qe.tString,n:Qe.tString,s:Qe.tString})),r:(0,Qe.tOptional)((0,Qe.tObject)({p:Qe.tString,f:Qe.tString})),a:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SerializedValue"))),o:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({k:Qe.tString,v:(0,Qe.tType)("SerializedValue")}))),h:(0,Qe.tOptional)(Qe.tInt),id:(0,Qe.tOptional)(Qe.tInt),ref:(0,Qe.tOptional)(Qe.tInt)});Qe.scheme.SerializedArgument=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue"),handles:(0,Qe.tArray)((0,Qe.tChannel)("*"))});Qe.scheme.ExpectedTextValue=(0,Qe.tObject)({string:(0,Qe.tOptional)(Qe.tString),regexSource:(0,Qe.tOptional)(Qe.tString),regexFlags:(0,Qe.tOptional)(Qe.tString),matchSubstring:(0,Qe.tOptional)(Qe.tBoolean),ignoreCase:(0,Qe.tOptional)(Qe.tBoolean),normalizeWhiteSpace:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.SelectorEngine=(0,Qe.tObject)({name:Qe.tString,source:Qe.tString,contentScript:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.AXNode=(0,Qe.tObject)({role:Qe.tString,name:Qe.tString,valueString:(0,Qe.tOptional)(Qe.tString),valueNumber:(0,Qe.tOptional)(Qe.tFloat),description:(0,Qe.tOptional)(Qe.tString),keyshortcuts:(0,Qe.tOptional)(Qe.tString),roledescription:(0,Qe.tOptional)(Qe.tString),valuetext:(0,Qe.tOptional)(Qe.tString),disabled:(0,Qe.tOptional)(Qe.tBoolean),expanded:(0,Qe.tOptional)(Qe.tBoolean),focused:(0,Qe.tOptional)(Qe.tBoolean),modal:(0,Qe.tOptional)(Qe.tBoolean),multiline:(0,Qe.tOptional)(Qe.tBoolean),multiselectable:(0,Qe.tOptional)(Qe.tBoolean),readonly:(0,Qe.tOptional)(Qe.tBoolean),required:(0,Qe.tOptional)(Qe.tBoolean),selected:(0,Qe.tOptional)(Qe.tBoolean),checked:(0,Qe.tOptional)((0,Qe.tEnum)(["checked","unchecked","mixed"])),pressed:(0,Qe.tOptional)((0,Qe.tEnum)(["pressed","released","mixed"])),level:(0,Qe.tOptional)(Qe.tInt),valuemin:(0,Qe.tOptional)(Qe.tFloat),valuemax:(0,Qe.tOptional)(Qe.tFloat),autocomplete:(0,Qe.tOptional)(Qe.tString),haspopup:(0,Qe.tOptional)(Qe.tString),invalid:(0,Qe.tOptional)(Qe.tString),orientation:(0,Qe.tOptional)(Qe.tString),children:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("AXNode")))});Qe.scheme.SetNetworkCookie=(0,Qe.tObject)({name:Qe.tString,value:Qe.tString,url:(0,Qe.tOptional)(Qe.tString),domain:(0,Qe.tOptional)(Qe.tString),path:(0,Qe.tOptional)(Qe.tString),expires:(0,Qe.tOptional)(Qe.tFloat),httpOnly:(0,Qe.tOptional)(Qe.tBoolean),secure:(0,Qe.tOptional)(Qe.tBoolean),sameSite:(0,Qe.tOptional)((0,Qe.tEnum)(["Strict","Lax","None"])),partitionKey:(0,Qe.tOptional)(Qe.tString),_crHasCrossSiteAncestor:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.NetworkCookie=(0,Qe.tObject)({name:Qe.tString,value:Qe.tString,domain:Qe.tString,path:Qe.tString,expires:Qe.tFloat,httpOnly:Qe.tBoolean,secure:Qe.tBoolean,sameSite:(0,Qe.tEnum)(["Strict","Lax","None"]),partitionKey:(0,Qe.tOptional)(Qe.tString),_crHasCrossSiteAncestor:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.NameValue=(0,Qe.tObject)({name:Qe.tString,value:Qe.tString});Qe.scheme.IndexedDBDatabase=(0,Qe.tObject)({name:Qe.tString,version:Qe.tInt,stores:(0,Qe.tArray)((0,Qe.tObject)({name:Qe.tString,autoIncrement:Qe.tBoolean,keyPath:(0,Qe.tOptional)(Qe.tString),keyPathArray:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),records:(0,Qe.tArray)((0,Qe.tObject)({key:(0,Qe.tOptional)(Qe.tAny),keyEncoded:(0,Qe.tOptional)(Qe.tAny),value:(0,Qe.tOptional)(Qe.tAny),valueEncoded:(0,Qe.tOptional)(Qe.tAny)})),indexes:(0,Qe.tArray)((0,Qe.tObject)({name:Qe.tString,keyPath:(0,Qe.tOptional)(Qe.tString),keyPathArray:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),multiEntry:Qe.tBoolean,unique:Qe.tBoolean}))}))});Qe.scheme.SetOriginStorage=(0,Qe.tObject)({origin:Qe.tString,localStorage:(0,Qe.tArray)((0,Qe.tType)("NameValue")),indexedDB:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("IndexedDBDatabase")))});Qe.scheme.OriginStorage=(0,Qe.tObject)({origin:Qe.tString,localStorage:(0,Qe.tArray)((0,Qe.tType)("NameValue")),indexedDB:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("IndexedDBDatabase")))});Qe.scheme.SerializedError=(0,Qe.tObject)({error:(0,Qe.tOptional)((0,Qe.tObject)({message:Qe.tString,name:Qe.tString,stack:(0,Qe.tOptional)(Qe.tString)})),value:(0,Qe.tOptional)((0,Qe.tType)("SerializedValue"))});Qe.scheme.RecordHarOptions=(0,Qe.tObject)({zip:(0,Qe.tOptional)(Qe.tBoolean),content:(0,Qe.tOptional)((0,Qe.tEnum)(["embed","attach","omit"])),mode:(0,Qe.tOptional)((0,Qe.tEnum)(["full","minimal"])),urlGlob:(0,Qe.tOptional)(Qe.tString),urlRegexSource:(0,Qe.tOptional)(Qe.tString),urlRegexFlags:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.FormField=(0,Qe.tObject)({name:Qe.tString,value:(0,Qe.tOptional)(Qe.tString),file:(0,Qe.tOptional)((0,Qe.tObject)({name:Qe.tString,mimeType:(0,Qe.tOptional)(Qe.tString),buffer:Qe.tBinary}))});Qe.scheme.SDKLanguage=(0,Qe.tEnum)(["javascript","python","java","csharp"]);Qe.scheme.APIRequestContextInitializer=(0,Qe.tObject)({tracing:(0,Qe.tChannel)(["Tracing"])});Qe.scheme.APIRequestContextFetchParams=(0,Qe.tObject)({url:Qe.tString,encodedParams:(0,Qe.tOptional)(Qe.tString),params:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),method:(0,Qe.tOptional)(Qe.tString),headers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),postData:(0,Qe.tOptional)(Qe.tBinary),jsonData:(0,Qe.tOptional)(Qe.tString),formData:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),multipartData:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("FormField"))),timeout:Qe.tFloat,failOnStatusCode:(0,Qe.tOptional)(Qe.tBoolean),ignoreHTTPSErrors:(0,Qe.tOptional)(Qe.tBoolean),maxRedirects:(0,Qe.tOptional)(Qe.tInt),maxRetries:(0,Qe.tOptional)(Qe.tInt)});Qe.scheme.APIRequestContextFetchResult=(0,Qe.tObject)({response:(0,Qe.tType)("APIResponse")});Qe.scheme.APIRequestContextFetchResponseBodyParams=(0,Qe.tObject)({fetchUid:Qe.tString});Qe.scheme.APIRequestContextFetchResponseBodyResult=(0,Qe.tObject)({binary:(0,Qe.tOptional)(Qe.tBinary)});Qe.scheme.APIRequestContextFetchLogParams=(0,Qe.tObject)({fetchUid:Qe.tString});Qe.scheme.APIRequestContextFetchLogResult=(0,Qe.tObject)({log:(0,Qe.tArray)(Qe.tString)});Qe.scheme.APIRequestContextStorageStateParams=(0,Qe.tObject)({indexedDB:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.APIRequestContextStorageStateResult=(0,Qe.tObject)({cookies:(0,Qe.tArray)((0,Qe.tType)("NetworkCookie")),origins:(0,Qe.tArray)((0,Qe.tType)("OriginStorage"))});Qe.scheme.APIRequestContextDisposeAPIResponseParams=(0,Qe.tObject)({fetchUid:Qe.tString});Qe.scheme.APIRequestContextDisposeAPIResponseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.APIRequestContextDisposeParams=(0,Qe.tObject)({reason:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.APIRequestContextDisposeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.APIResponse=(0,Qe.tObject)({fetchUid:Qe.tString,url:Qe.tString,status:Qe.tInt,statusText:Qe.tString,headers:(0,Qe.tArray)((0,Qe.tType)("NameValue"))});Qe.scheme.LifecycleEvent=(0,Qe.tEnum)(["load","domcontentloaded","networkidle","commit"]);Qe.scheme.LocalUtilsInitializer=(0,Qe.tObject)({deviceDescriptors:(0,Qe.tArray)((0,Qe.tObject)({name:Qe.tString,descriptor:(0,Qe.tObject)({userAgent:Qe.tString,viewport:(0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt}),screen:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),deviceScaleFactor:Qe.tFloat,isMobile:Qe.tBoolean,hasTouch:Qe.tBoolean,defaultBrowserType:(0,Qe.tEnum)(["chromium","firefox","webkit"])})}))});Qe.scheme.LocalUtilsZipParams=(0,Qe.tObject)({zipFile:Qe.tString,entries:(0,Qe.tArray)((0,Qe.tType)("NameValue")),stacksId:(0,Qe.tOptional)(Qe.tString),mode:(0,Qe.tEnum)(["write","append"]),includeSources:Qe.tBoolean});Qe.scheme.LocalUtilsZipResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.LocalUtilsHarOpenParams=(0,Qe.tObject)({file:Qe.tString});Qe.scheme.LocalUtilsHarOpenResult=(0,Qe.tObject)({harId:(0,Qe.tOptional)(Qe.tString),error:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.LocalUtilsHarLookupParams=(0,Qe.tObject)({harId:Qe.tString,url:Qe.tString,method:Qe.tString,headers:(0,Qe.tArray)((0,Qe.tType)("NameValue")),postData:(0,Qe.tOptional)(Qe.tBinary),isNavigationRequest:Qe.tBoolean});Qe.scheme.LocalUtilsHarLookupResult=(0,Qe.tObject)({action:(0,Qe.tEnum)(["error","redirect","fulfill","noentry"]),message:(0,Qe.tOptional)(Qe.tString),redirectURL:(0,Qe.tOptional)(Qe.tString),status:(0,Qe.tOptional)(Qe.tInt),headers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),body:(0,Qe.tOptional)(Qe.tBinary)});Qe.scheme.LocalUtilsHarCloseParams=(0,Qe.tObject)({harId:Qe.tString});Qe.scheme.LocalUtilsHarCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.LocalUtilsHarUnzipParams=(0,Qe.tObject)({zipFile:Qe.tString,harFile:Qe.tString});Qe.scheme.LocalUtilsHarUnzipResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.LocalUtilsConnectParams=(0,Qe.tObject)({wsEndpoint:Qe.tString,headers:(0,Qe.tOptional)(Qe.tAny),exposeNetwork:(0,Qe.tOptional)(Qe.tString),slowMo:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat,socksProxyRedirectPortForTest:(0,Qe.tOptional)(Qe.tInt)});Qe.scheme.LocalUtilsConnectResult=(0,Qe.tObject)({pipe:(0,Qe.tChannel)(["JsonPipe"]),headers:(0,Qe.tArray)((0,Qe.tType)("NameValue"))});Qe.scheme.LocalUtilsTracingStartedParams=(0,Qe.tObject)({tracesDir:(0,Qe.tOptional)(Qe.tString),traceName:Qe.tString});Qe.scheme.LocalUtilsTracingStartedResult=(0,Qe.tObject)({stacksId:Qe.tString});Qe.scheme.LocalUtilsAddStackToTracingNoReplyParams=(0,Qe.tObject)({callData:(0,Qe.tType)("ClientSideCallMetadata")});Qe.scheme.LocalUtilsAddStackToTracingNoReplyResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.LocalUtilsTraceDiscardedParams=(0,Qe.tObject)({stacksId:Qe.tString});Qe.scheme.LocalUtilsTraceDiscardedResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.LocalUtilsGlobToRegexParams=(0,Qe.tObject)({glob:Qe.tString,baseURL:(0,Qe.tOptional)(Qe.tString),webSocketUrl:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.LocalUtilsGlobToRegexResult=(0,Qe.tObject)({regex:Qe.tString});Qe.scheme.RootInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.RootInitializeParams=(0,Qe.tObject)({sdkLanguage:(0,Qe.tType)("SDKLanguage")});Qe.scheme.RootInitializeResult=(0,Qe.tObject)({playwright:(0,Qe.tChannel)(["Playwright"])});Qe.scheme.PlaywrightInitializer=(0,Qe.tObject)({chromium:(0,Qe.tChannel)(["BrowserType"]),firefox:(0,Qe.tChannel)(["BrowserType"]),webkit:(0,Qe.tChannel)(["BrowserType"]),_bidiChromium:(0,Qe.tChannel)(["BrowserType"]),_bidiFirefox:(0,Qe.tChannel)(["BrowserType"]),android:(0,Qe.tChannel)(["Android"]),electron:(0,Qe.tChannel)(["Electron"]),utils:(0,Qe.tOptional)((0,Qe.tChannel)(["LocalUtils"])),preLaunchedBrowser:(0,Qe.tOptional)((0,Qe.tChannel)(["Browser"])),preConnectedAndroidDevice:(0,Qe.tOptional)((0,Qe.tChannel)(["AndroidDevice"])),socksSupport:(0,Qe.tOptional)((0,Qe.tChannel)(["SocksSupport"]))});Qe.scheme.PlaywrightNewRequestParams=(0,Qe.tObject)({baseURL:(0,Qe.tOptional)(Qe.tString),userAgent:(0,Qe.tOptional)(Qe.tString),ignoreHTTPSErrors:(0,Qe.tOptional)(Qe.tBoolean),extraHTTPHeaders:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),failOnStatusCode:(0,Qe.tOptional)(Qe.tBoolean),clientCertificates:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({origin:Qe.tString,cert:(0,Qe.tOptional)(Qe.tBinary),key:(0,Qe.tOptional)(Qe.tBinary),passphrase:(0,Qe.tOptional)(Qe.tString),pfx:(0,Qe.tOptional)(Qe.tBinary)}))),maxRedirects:(0,Qe.tOptional)(Qe.tInt),httpCredentials:(0,Qe.tOptional)((0,Qe.tObject)({username:Qe.tString,password:Qe.tString,origin:(0,Qe.tOptional)(Qe.tString),send:(0,Qe.tOptional)((0,Qe.tEnum)(["always","unauthorized"]))})),proxy:(0,Qe.tOptional)((0,Qe.tObject)({server:Qe.tString,bypass:(0,Qe.tOptional)(Qe.tString),username:(0,Qe.tOptional)(Qe.tString),password:(0,Qe.tOptional)(Qe.tString)})),storageState:(0,Qe.tOptional)((0,Qe.tObject)({cookies:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NetworkCookie"))),origins:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SetOriginStorage")))})),tracesDir:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.PlaywrightNewRequestResult=(0,Qe.tObject)({request:(0,Qe.tChannel)(["APIRequestContext"])});Qe.scheme.RecorderSource=(0,Qe.tObject)({isRecorded:Qe.tBoolean,id:Qe.tString,label:Qe.tString,text:Qe.tString,language:Qe.tString,highlight:(0,Qe.tArray)((0,Qe.tObject)({line:Qe.tInt,type:Qe.tString})),revealLine:(0,Qe.tOptional)(Qe.tInt),group:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.DebugControllerInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerInspectRequestedEvent=(0,Qe.tObject)({selector:Qe.tString,locator:Qe.tString,ariaSnapshot:Qe.tString});Qe.scheme.DebugControllerSetModeRequestedEvent=(0,Qe.tObject)({mode:Qe.tString});Qe.scheme.DebugControllerStateChangedEvent=(0,Qe.tObject)({pageCount:Qe.tInt});Qe.scheme.DebugControllerSourceChangedEvent=(0,Qe.tObject)({text:Qe.tString,header:(0,Qe.tOptional)(Qe.tString),footer:(0,Qe.tOptional)(Qe.tString),actions:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString))});Qe.scheme.DebugControllerPausedEvent=(0,Qe.tObject)({paused:Qe.tBoolean});Qe.scheme.DebugControllerInitializeParams=(0,Qe.tObject)({codegenId:Qe.tString,sdkLanguage:(0,Qe.tType)("SDKLanguage")});Qe.scheme.DebugControllerInitializeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerSetReportStateChangedParams=(0,Qe.tObject)({enabled:Qe.tBoolean});Qe.scheme.DebugControllerSetReportStateChangedResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerSetRecorderModeParams=(0,Qe.tObject)({mode:(0,Qe.tEnum)(["inspecting","recording","none"]),testIdAttributeName:(0,Qe.tOptional)(Qe.tString),generateAutoExpect:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.DebugControllerSetRecorderModeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerHighlightParams=(0,Qe.tObject)({selector:(0,Qe.tOptional)(Qe.tString),ariaTemplate:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.DebugControllerHighlightResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerHideHighlightParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerHideHighlightResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerResumeParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerResumeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerKillParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DebugControllerKillResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.SocksSupportInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.SocksSupportSocksRequestedEvent=(0,Qe.tObject)({uid:Qe.tString,host:Qe.tString,port:Qe.tInt});Qe.scheme.SocksSupportSocksDataEvent=(0,Qe.tObject)({uid:Qe.tString,data:Qe.tBinary});Qe.scheme.SocksSupportSocksClosedEvent=(0,Qe.tObject)({uid:Qe.tString});Qe.scheme.SocksSupportSocksConnectedParams=(0,Qe.tObject)({uid:Qe.tString,host:Qe.tString,port:Qe.tInt});Qe.scheme.SocksSupportSocksConnectedResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.SocksSupportSocksFailedParams=(0,Qe.tObject)({uid:Qe.tString,errorCode:Qe.tString});Qe.scheme.SocksSupportSocksFailedResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.SocksSupportSocksDataParams=(0,Qe.tObject)({uid:Qe.tString,data:Qe.tBinary});Qe.scheme.SocksSupportSocksDataResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.SocksSupportSocksErrorParams=(0,Qe.tObject)({uid:Qe.tString,error:Qe.tString});Qe.scheme.SocksSupportSocksErrorResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.SocksSupportSocksEndParams=(0,Qe.tObject)({uid:Qe.tString});Qe.scheme.SocksSupportSocksEndResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserTypeInitializer=(0,Qe.tObject)({executablePath:Qe.tString,name:Qe.tString});Qe.scheme.BrowserTypeLaunchParams=(0,Qe.tObject)({channel:(0,Qe.tOptional)(Qe.tString),executablePath:(0,Qe.tOptional)(Qe.tString),args:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),ignoreAllDefaultArgs:(0,Qe.tOptional)(Qe.tBoolean),ignoreDefaultArgs:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),assistantMode:(0,Qe.tOptional)(Qe.tBoolean),handleSIGINT:(0,Qe.tOptional)(Qe.tBoolean),handleSIGTERM:(0,Qe.tOptional)(Qe.tBoolean),handleSIGHUP:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat,env:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),headless:(0,Qe.tOptional)(Qe.tBoolean),devtools:(0,Qe.tOptional)(Qe.tBoolean),proxy:(0,Qe.tOptional)((0,Qe.tObject)({server:Qe.tString,bypass:(0,Qe.tOptional)(Qe.tString),username:(0,Qe.tOptional)(Qe.tString),password:(0,Qe.tOptional)(Qe.tString)})),downloadsPath:(0,Qe.tOptional)(Qe.tString),tracesDir:(0,Qe.tOptional)(Qe.tString),chromiumSandbox:(0,Qe.tOptional)(Qe.tBoolean),firefoxUserPrefs:(0,Qe.tOptional)(Qe.tAny),cdpPort:(0,Qe.tOptional)(Qe.tInt),slowMo:(0,Qe.tOptional)(Qe.tFloat)});Qe.scheme.BrowserTypeLaunchResult=(0,Qe.tObject)({browser:(0,Qe.tChannel)(["Browser"])});Qe.scheme.BrowserTypeLaunchPersistentContextParams=(0,Qe.tObject)({channel:(0,Qe.tOptional)(Qe.tString),executablePath:(0,Qe.tOptional)(Qe.tString),args:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),ignoreAllDefaultArgs:(0,Qe.tOptional)(Qe.tBoolean),ignoreDefaultArgs:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),assistantMode:(0,Qe.tOptional)(Qe.tBoolean),handleSIGINT:(0,Qe.tOptional)(Qe.tBoolean),handleSIGTERM:(0,Qe.tOptional)(Qe.tBoolean),handleSIGHUP:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat,env:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),headless:(0,Qe.tOptional)(Qe.tBoolean),devtools:(0,Qe.tOptional)(Qe.tBoolean),proxy:(0,Qe.tOptional)((0,Qe.tObject)({server:Qe.tString,bypass:(0,Qe.tOptional)(Qe.tString),username:(0,Qe.tOptional)(Qe.tString),password:(0,Qe.tOptional)(Qe.tString)})),downloadsPath:(0,Qe.tOptional)(Qe.tString),tracesDir:(0,Qe.tOptional)(Qe.tString),chromiumSandbox:(0,Qe.tOptional)(Qe.tBoolean),firefoxUserPrefs:(0,Qe.tOptional)(Qe.tAny),cdpPort:(0,Qe.tOptional)(Qe.tInt),noDefaultViewport:(0,Qe.tOptional)(Qe.tBoolean),viewport:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),screen:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),ignoreHTTPSErrors:(0,Qe.tOptional)(Qe.tBoolean),clientCertificates:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({origin:Qe.tString,cert:(0,Qe.tOptional)(Qe.tBinary),key:(0,Qe.tOptional)(Qe.tBinary),passphrase:(0,Qe.tOptional)(Qe.tString),pfx:(0,Qe.tOptional)(Qe.tBinary)}))),javaScriptEnabled:(0,Qe.tOptional)(Qe.tBoolean),bypassCSP:(0,Qe.tOptional)(Qe.tBoolean),userAgent:(0,Qe.tOptional)(Qe.tString),locale:(0,Qe.tOptional)(Qe.tString),timezoneId:(0,Qe.tOptional)(Qe.tString),geolocation:(0,Qe.tOptional)((0,Qe.tObject)({longitude:Qe.tFloat,latitude:Qe.tFloat,accuracy:(0,Qe.tOptional)(Qe.tFloat)})),permissions:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),extraHTTPHeaders:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),offline:(0,Qe.tOptional)(Qe.tBoolean),httpCredentials:(0,Qe.tOptional)((0,Qe.tObject)({username:Qe.tString,password:Qe.tString,origin:(0,Qe.tOptional)(Qe.tString),send:(0,Qe.tOptional)((0,Qe.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Qe.tOptional)(Qe.tFloat),isMobile:(0,Qe.tOptional)(Qe.tBoolean),hasTouch:(0,Qe.tOptional)(Qe.tBoolean),colorScheme:(0,Qe.tOptional)((0,Qe.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Qe.tOptional)((0,Qe.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Qe.tOptional)((0,Qe.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Qe.tOptional)((0,Qe.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Qe.tOptional)((0,Qe.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Qe.tOptional)(Qe.tString),recordVideo:(0,Qe.tOptional)((0,Qe.tObject)({dir:Qe.tString,size:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt}))})),strictSelectors:(0,Qe.tOptional)(Qe.tBoolean),serviceWorkers:(0,Qe.tOptional)((0,Qe.tEnum)(["allow","block"])),selectorEngines:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SelectorEngine"))),testIdAttributeName:(0,Qe.tOptional)(Qe.tString),userDataDir:Qe.tString,slowMo:(0,Qe.tOptional)(Qe.tFloat)});Qe.scheme.BrowserTypeLaunchPersistentContextResult=(0,Qe.tObject)({browser:(0,Qe.tChannel)(["Browser"]),context:(0,Qe.tChannel)(["BrowserContext"])});Qe.scheme.BrowserTypeConnectOverCDPParams=(0,Qe.tObject)({endpointURL:Qe.tString,headers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),slowMo:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.BrowserTypeConnectOverCDPResult=(0,Qe.tObject)({browser:(0,Qe.tChannel)(["Browser"]),defaultContext:(0,Qe.tOptional)((0,Qe.tChannel)(["BrowserContext"]))});Qe.scheme.BrowserInitializer=(0,Qe.tObject)({version:Qe.tString,name:Qe.tString});Qe.scheme.BrowserContextEvent=(0,Qe.tObject)({context:(0,Qe.tChannel)(["BrowserContext"])});Qe.scheme.BrowserCloseEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserCloseParams=(0,Qe.tObject)({reason:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserKillForTestsParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserKillForTestsResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserDefaultUserAgentForTestParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserDefaultUserAgentForTestResult=(0,Qe.tObject)({userAgent:Qe.tString});Qe.scheme.BrowserNewContextParams=(0,Qe.tObject)({noDefaultViewport:(0,Qe.tOptional)(Qe.tBoolean),viewport:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),screen:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),ignoreHTTPSErrors:(0,Qe.tOptional)(Qe.tBoolean),clientCertificates:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({origin:Qe.tString,cert:(0,Qe.tOptional)(Qe.tBinary),key:(0,Qe.tOptional)(Qe.tBinary),passphrase:(0,Qe.tOptional)(Qe.tString),pfx:(0,Qe.tOptional)(Qe.tBinary)}))),javaScriptEnabled:(0,Qe.tOptional)(Qe.tBoolean),bypassCSP:(0,Qe.tOptional)(Qe.tBoolean),userAgent:(0,Qe.tOptional)(Qe.tString),locale:(0,Qe.tOptional)(Qe.tString),timezoneId:(0,Qe.tOptional)(Qe.tString),geolocation:(0,Qe.tOptional)((0,Qe.tObject)({longitude:Qe.tFloat,latitude:Qe.tFloat,accuracy:(0,Qe.tOptional)(Qe.tFloat)})),permissions:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),extraHTTPHeaders:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),offline:(0,Qe.tOptional)(Qe.tBoolean),httpCredentials:(0,Qe.tOptional)((0,Qe.tObject)({username:Qe.tString,password:Qe.tString,origin:(0,Qe.tOptional)(Qe.tString),send:(0,Qe.tOptional)((0,Qe.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Qe.tOptional)(Qe.tFloat),isMobile:(0,Qe.tOptional)(Qe.tBoolean),hasTouch:(0,Qe.tOptional)(Qe.tBoolean),colorScheme:(0,Qe.tOptional)((0,Qe.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Qe.tOptional)((0,Qe.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Qe.tOptional)((0,Qe.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Qe.tOptional)((0,Qe.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Qe.tOptional)((0,Qe.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Qe.tOptional)(Qe.tString),recordVideo:(0,Qe.tOptional)((0,Qe.tObject)({dir:Qe.tString,size:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt}))})),strictSelectors:(0,Qe.tOptional)(Qe.tBoolean),serviceWorkers:(0,Qe.tOptional)((0,Qe.tEnum)(["allow","block"])),selectorEngines:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SelectorEngine"))),testIdAttributeName:(0,Qe.tOptional)(Qe.tString),proxy:(0,Qe.tOptional)((0,Qe.tObject)({server:Qe.tString,bypass:(0,Qe.tOptional)(Qe.tString),username:(0,Qe.tOptional)(Qe.tString),password:(0,Qe.tOptional)(Qe.tString)})),storageState:(0,Qe.tOptional)((0,Qe.tObject)({cookies:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SetNetworkCookie"))),origins:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SetOriginStorage")))}))});Qe.scheme.BrowserNewContextResult=(0,Qe.tObject)({context:(0,Qe.tChannel)(["BrowserContext"])});Qe.scheme.BrowserNewContextForReuseParams=(0,Qe.tObject)({noDefaultViewport:(0,Qe.tOptional)(Qe.tBoolean),viewport:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),screen:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),ignoreHTTPSErrors:(0,Qe.tOptional)(Qe.tBoolean),clientCertificates:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({origin:Qe.tString,cert:(0,Qe.tOptional)(Qe.tBinary),key:(0,Qe.tOptional)(Qe.tBinary),passphrase:(0,Qe.tOptional)(Qe.tString),pfx:(0,Qe.tOptional)(Qe.tBinary)}))),javaScriptEnabled:(0,Qe.tOptional)(Qe.tBoolean),bypassCSP:(0,Qe.tOptional)(Qe.tBoolean),userAgent:(0,Qe.tOptional)(Qe.tString),locale:(0,Qe.tOptional)(Qe.tString),timezoneId:(0,Qe.tOptional)(Qe.tString),geolocation:(0,Qe.tOptional)((0,Qe.tObject)({longitude:Qe.tFloat,latitude:Qe.tFloat,accuracy:(0,Qe.tOptional)(Qe.tFloat)})),permissions:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),extraHTTPHeaders:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),offline:(0,Qe.tOptional)(Qe.tBoolean),httpCredentials:(0,Qe.tOptional)((0,Qe.tObject)({username:Qe.tString,password:Qe.tString,origin:(0,Qe.tOptional)(Qe.tString),send:(0,Qe.tOptional)((0,Qe.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Qe.tOptional)(Qe.tFloat),isMobile:(0,Qe.tOptional)(Qe.tBoolean),hasTouch:(0,Qe.tOptional)(Qe.tBoolean),colorScheme:(0,Qe.tOptional)((0,Qe.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Qe.tOptional)((0,Qe.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Qe.tOptional)((0,Qe.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Qe.tOptional)((0,Qe.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Qe.tOptional)((0,Qe.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Qe.tOptional)(Qe.tString),recordVideo:(0,Qe.tOptional)((0,Qe.tObject)({dir:Qe.tString,size:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt}))})),strictSelectors:(0,Qe.tOptional)(Qe.tBoolean),serviceWorkers:(0,Qe.tOptional)((0,Qe.tEnum)(["allow","block"])),selectorEngines:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SelectorEngine"))),testIdAttributeName:(0,Qe.tOptional)(Qe.tString),proxy:(0,Qe.tOptional)((0,Qe.tObject)({server:Qe.tString,bypass:(0,Qe.tOptional)(Qe.tString),username:(0,Qe.tOptional)(Qe.tString),password:(0,Qe.tOptional)(Qe.tString)})),storageState:(0,Qe.tOptional)((0,Qe.tObject)({cookies:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SetNetworkCookie"))),origins:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SetOriginStorage")))}))});Qe.scheme.BrowserNewContextForReuseResult=(0,Qe.tObject)({context:(0,Qe.tChannel)(["BrowserContext"])});Qe.scheme.BrowserDisconnectFromReusedContextParams=(0,Qe.tObject)({reason:Qe.tString});Qe.scheme.BrowserDisconnectFromReusedContextResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserNewBrowserCDPSessionParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserNewBrowserCDPSessionResult=(0,Qe.tObject)({session:(0,Qe.tChannel)(["CDPSession"])});Qe.scheme.BrowserStartTracingParams=(0,Qe.tObject)({page:(0,Qe.tOptional)((0,Qe.tChannel)(["Page"])),screenshots:(0,Qe.tOptional)(Qe.tBoolean),categories:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString))});Qe.scheme.BrowserStartTracingResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserStopTracingParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserStopTracingResult=(0,Qe.tObject)({artifact:(0,Qe.tChannel)(["Artifact"])});Qe.scheme.EventTargetInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.EventTargetWaitForEventInfoParams=(0,Qe.tObject)({info:(0,Qe.tObject)({waitId:Qe.tString,phase:(0,Qe.tEnum)(["before","after","log"]),event:(0,Qe.tOptional)(Qe.tString),message:(0,Qe.tOptional)(Qe.tString),error:(0,Qe.tOptional)(Qe.tString)})});Qe.scheme.BrowserContextWaitForEventInfoParams=(0,Qe.tType)("EventTargetWaitForEventInfoParams");Qe.scheme.PageWaitForEventInfoParams=(0,Qe.tType)("EventTargetWaitForEventInfoParams");Qe.scheme.WebSocketWaitForEventInfoParams=(0,Qe.tType)("EventTargetWaitForEventInfoParams");Qe.scheme.ElectronApplicationWaitForEventInfoParams=(0,Qe.tType)("EventTargetWaitForEventInfoParams");Qe.scheme.AndroidDeviceWaitForEventInfoParams=(0,Qe.tType)("EventTargetWaitForEventInfoParams");Qe.scheme.EventTargetWaitForEventInfoResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextWaitForEventInfoResult=(0,Qe.tType)("EventTargetWaitForEventInfoResult");Qe.scheme.PageWaitForEventInfoResult=(0,Qe.tType)("EventTargetWaitForEventInfoResult");Qe.scheme.WebSocketWaitForEventInfoResult=(0,Qe.tType)("EventTargetWaitForEventInfoResult");Qe.scheme.ElectronApplicationWaitForEventInfoResult=(0,Qe.tType)("EventTargetWaitForEventInfoResult");Qe.scheme.AndroidDeviceWaitForEventInfoResult=(0,Qe.tType)("EventTargetWaitForEventInfoResult");Qe.scheme.BrowserContextInitializer=(0,Qe.tObject)({isChromium:Qe.tBoolean,requestContext:(0,Qe.tChannel)(["APIRequestContext"]),tracing:(0,Qe.tChannel)(["Tracing"]),options:(0,Qe.tObject)({noDefaultViewport:(0,Qe.tOptional)(Qe.tBoolean),viewport:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),screen:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),ignoreHTTPSErrors:(0,Qe.tOptional)(Qe.tBoolean),clientCertificates:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({origin:Qe.tString,cert:(0,Qe.tOptional)(Qe.tBinary),key:(0,Qe.tOptional)(Qe.tBinary),passphrase:(0,Qe.tOptional)(Qe.tString),pfx:(0,Qe.tOptional)(Qe.tBinary)}))),javaScriptEnabled:(0,Qe.tOptional)(Qe.tBoolean),bypassCSP:(0,Qe.tOptional)(Qe.tBoolean),userAgent:(0,Qe.tOptional)(Qe.tString),locale:(0,Qe.tOptional)(Qe.tString),timezoneId:(0,Qe.tOptional)(Qe.tString),geolocation:(0,Qe.tOptional)((0,Qe.tObject)({longitude:Qe.tFloat,latitude:Qe.tFloat,accuracy:(0,Qe.tOptional)(Qe.tFloat)})),permissions:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),extraHTTPHeaders:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),offline:(0,Qe.tOptional)(Qe.tBoolean),httpCredentials:(0,Qe.tOptional)((0,Qe.tObject)({username:Qe.tString,password:Qe.tString,origin:(0,Qe.tOptional)(Qe.tString),send:(0,Qe.tOptional)((0,Qe.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Qe.tOptional)(Qe.tFloat),isMobile:(0,Qe.tOptional)(Qe.tBoolean),hasTouch:(0,Qe.tOptional)(Qe.tBoolean),colorScheme:(0,Qe.tOptional)((0,Qe.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Qe.tOptional)((0,Qe.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Qe.tOptional)((0,Qe.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Qe.tOptional)((0,Qe.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Qe.tOptional)((0,Qe.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Qe.tOptional)(Qe.tString),recordVideo:(0,Qe.tOptional)((0,Qe.tObject)({dir:Qe.tString,size:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt}))})),strictSelectors:(0,Qe.tOptional)(Qe.tBoolean),serviceWorkers:(0,Qe.tOptional)((0,Qe.tEnum)(["allow","block"])),selectorEngines:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SelectorEngine"))),testIdAttributeName:(0,Qe.tOptional)(Qe.tString)})});Qe.scheme.BrowserContextBindingCallEvent=(0,Qe.tObject)({binding:(0,Qe.tChannel)(["BindingCall"])});Qe.scheme.BrowserContextConsoleEvent=(0,Qe.tObject)({type:Qe.tString,text:Qe.tString,args:(0,Qe.tArray)((0,Qe.tChannel)(["ElementHandle","JSHandle"])),location:(0,Qe.tObject)({url:Qe.tString,lineNumber:Qe.tInt,columnNumber:Qe.tInt}),page:(0,Qe.tChannel)(["Page"])});Qe.scheme.BrowserContextCloseEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextDialogEvent=(0,Qe.tObject)({dialog:(0,Qe.tChannel)(["Dialog"])});Qe.scheme.BrowserContextPageEvent=(0,Qe.tObject)({page:(0,Qe.tChannel)(["Page"])});Qe.scheme.BrowserContextPageErrorEvent=(0,Qe.tObject)({error:(0,Qe.tType)("SerializedError"),page:(0,Qe.tChannel)(["Page"])});Qe.scheme.BrowserContextRouteEvent=(0,Qe.tObject)({route:(0,Qe.tChannel)(["Route"])});Qe.scheme.BrowserContextWebSocketRouteEvent=(0,Qe.tObject)({webSocketRoute:(0,Qe.tChannel)(["WebSocketRoute"])});Qe.scheme.BrowserContextVideoEvent=(0,Qe.tObject)({artifact:(0,Qe.tChannel)(["Artifact"])});Qe.scheme.BrowserContextServiceWorkerEvent=(0,Qe.tObject)({worker:(0,Qe.tChannel)(["Worker"])});Qe.scheme.BrowserContextRequestEvent=(0,Qe.tObject)({request:(0,Qe.tChannel)(["Request"]),page:(0,Qe.tOptional)((0,Qe.tChannel)(["Page"]))});Qe.scheme.BrowserContextRequestFailedEvent=(0,Qe.tObject)({request:(0,Qe.tChannel)(["Request"]),failureText:(0,Qe.tOptional)(Qe.tString),responseEndTiming:Qe.tFloat,page:(0,Qe.tOptional)((0,Qe.tChannel)(["Page"]))});Qe.scheme.BrowserContextRequestFinishedEvent=(0,Qe.tObject)({request:(0,Qe.tChannel)(["Request"]),response:(0,Qe.tOptional)((0,Qe.tChannel)(["Response"])),responseEndTiming:Qe.tFloat,page:(0,Qe.tOptional)((0,Qe.tChannel)(["Page"]))});Qe.scheme.BrowserContextResponseEvent=(0,Qe.tObject)({response:(0,Qe.tChannel)(["Response"]),page:(0,Qe.tOptional)((0,Qe.tChannel)(["Page"]))});Qe.scheme.BrowserContextRecorderEventEvent=(0,Qe.tObject)({event:(0,Qe.tEnum)(["actionAdded","actionUpdated","signalAdded"]),data:Qe.tAny,page:(0,Qe.tChannel)(["Page"]),code:Qe.tString});Qe.scheme.BrowserContextAddCookiesParams=(0,Qe.tObject)({cookies:(0,Qe.tArray)((0,Qe.tType)("SetNetworkCookie"))});Qe.scheme.BrowserContextAddCookiesResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextAddInitScriptParams=(0,Qe.tObject)({source:Qe.tString});Qe.scheme.BrowserContextAddInitScriptResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClearCookiesParams=(0,Qe.tObject)({name:(0,Qe.tOptional)(Qe.tString),nameRegexSource:(0,Qe.tOptional)(Qe.tString),nameRegexFlags:(0,Qe.tOptional)(Qe.tString),domain:(0,Qe.tOptional)(Qe.tString),domainRegexSource:(0,Qe.tOptional)(Qe.tString),domainRegexFlags:(0,Qe.tOptional)(Qe.tString),path:(0,Qe.tOptional)(Qe.tString),pathRegexSource:(0,Qe.tOptional)(Qe.tString),pathRegexFlags:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextClearCookiesResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClearPermissionsParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClearPermissionsResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextCloseParams=(0,Qe.tObject)({reason:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextCookiesParams=(0,Qe.tObject)({urls:(0,Qe.tArray)(Qe.tString)});Qe.scheme.BrowserContextCookiesResult=(0,Qe.tObject)({cookies:(0,Qe.tArray)((0,Qe.tType)("NetworkCookie"))});Qe.scheme.BrowserContextExposeBindingParams=(0,Qe.tObject)({name:Qe.tString,needsHandle:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.BrowserContextExposeBindingResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextGrantPermissionsParams=(0,Qe.tObject)({permissions:(0,Qe.tArray)(Qe.tString),origin:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextGrantPermissionsResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextNewPageParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextNewPageResult=(0,Qe.tObject)({page:(0,Qe.tChannel)(["Page"])});Qe.scheme.BrowserContextRegisterSelectorEngineParams=(0,Qe.tObject)({selectorEngine:(0,Qe.tType)("SelectorEngine")});Qe.scheme.BrowserContextRegisterSelectorEngineResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextSetTestIdAttributeNameParams=(0,Qe.tObject)({testIdAttributeName:Qe.tString});Qe.scheme.BrowserContextSetTestIdAttributeNameResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextSetExtraHTTPHeadersParams=(0,Qe.tObject)({headers:(0,Qe.tArray)((0,Qe.tType)("NameValue"))});Qe.scheme.BrowserContextSetExtraHTTPHeadersResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextSetGeolocationParams=(0,Qe.tObject)({geolocation:(0,Qe.tOptional)((0,Qe.tObject)({longitude:Qe.tFloat,latitude:Qe.tFloat,accuracy:(0,Qe.tOptional)(Qe.tFloat)}))});Qe.scheme.BrowserContextSetGeolocationResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextSetHTTPCredentialsParams=(0,Qe.tObject)({httpCredentials:(0,Qe.tOptional)((0,Qe.tObject)({username:Qe.tString,password:Qe.tString,origin:(0,Qe.tOptional)(Qe.tString)}))});Qe.scheme.BrowserContextSetHTTPCredentialsResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextSetNetworkInterceptionPatternsParams=(0,Qe.tObject)({patterns:(0,Qe.tArray)((0,Qe.tObject)({glob:(0,Qe.tOptional)(Qe.tString),regexSource:(0,Qe.tOptional)(Qe.tString),regexFlags:(0,Qe.tOptional)(Qe.tString)}))});Qe.scheme.BrowserContextSetNetworkInterceptionPatternsResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextSetWebSocketInterceptionPatternsParams=(0,Qe.tObject)({patterns:(0,Qe.tArray)((0,Qe.tObject)({glob:(0,Qe.tOptional)(Qe.tString),regexSource:(0,Qe.tOptional)(Qe.tString),regexFlags:(0,Qe.tOptional)(Qe.tString)}))});Qe.scheme.BrowserContextSetWebSocketInterceptionPatternsResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextSetOfflineParams=(0,Qe.tObject)({offline:Qe.tBoolean});Qe.scheme.BrowserContextSetOfflineResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextStorageStateParams=(0,Qe.tObject)({indexedDB:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.BrowserContextStorageStateResult=(0,Qe.tObject)({cookies:(0,Qe.tArray)((0,Qe.tType)("NetworkCookie")),origins:(0,Qe.tArray)((0,Qe.tType)("OriginStorage"))});Qe.scheme.BrowserContextPauseParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextPauseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextEnableRecorderParams=(0,Qe.tObject)({language:(0,Qe.tOptional)(Qe.tString),mode:(0,Qe.tOptional)((0,Qe.tEnum)(["inspecting","recording"])),recorderMode:(0,Qe.tOptional)((0,Qe.tEnum)(["default","api"])),pauseOnNextStatement:(0,Qe.tOptional)(Qe.tBoolean),testIdAttributeName:(0,Qe.tOptional)(Qe.tString),launchOptions:(0,Qe.tOptional)(Qe.tAny),contextOptions:(0,Qe.tOptional)(Qe.tAny),device:(0,Qe.tOptional)(Qe.tString),saveStorage:(0,Qe.tOptional)(Qe.tString),outputFile:(0,Qe.tOptional)(Qe.tString),handleSIGINT:(0,Qe.tOptional)(Qe.tBoolean),omitCallTracking:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.BrowserContextEnableRecorderResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextDisableRecorderParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextDisableRecorderResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextNewCDPSessionParams=(0,Qe.tObject)({page:(0,Qe.tOptional)((0,Qe.tChannel)(["Page"])),frame:(0,Qe.tOptional)((0,Qe.tChannel)(["Frame"]))});Qe.scheme.BrowserContextNewCDPSessionResult=(0,Qe.tObject)({session:(0,Qe.tChannel)(["CDPSession"])});Qe.scheme.BrowserContextHarStartParams=(0,Qe.tObject)({page:(0,Qe.tOptional)((0,Qe.tChannel)(["Page"])),options:(0,Qe.tType)("RecordHarOptions")});Qe.scheme.BrowserContextHarStartResult=(0,Qe.tObject)({harId:Qe.tString});Qe.scheme.BrowserContextHarExportParams=(0,Qe.tObject)({harId:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextHarExportResult=(0,Qe.tObject)({artifact:(0,Qe.tChannel)(["Artifact"])});Qe.scheme.BrowserContextCreateTempFilesParams=(0,Qe.tObject)({rootDirName:(0,Qe.tOptional)(Qe.tString),items:(0,Qe.tArray)((0,Qe.tObject)({name:Qe.tString,lastModifiedMs:(0,Qe.tOptional)(Qe.tFloat)}))});Qe.scheme.BrowserContextCreateTempFilesResult=(0,Qe.tObject)({rootDir:(0,Qe.tOptional)((0,Qe.tChannel)(["WritableStream"])),writableStreams:(0,Qe.tArray)((0,Qe.tChannel)(["WritableStream"]))});Qe.scheme.BrowserContextUpdateSubscriptionParams=(0,Qe.tObject)({event:(0,Qe.tEnum)(["console","dialog","request","response","requestFinished","requestFailed"]),enabled:Qe.tBoolean});Qe.scheme.BrowserContextUpdateSubscriptionResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClockFastForwardParams=(0,Qe.tObject)({ticksNumber:(0,Qe.tOptional)(Qe.tFloat),ticksString:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextClockFastForwardResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClockInstallParams=(0,Qe.tObject)({timeNumber:(0,Qe.tOptional)(Qe.tFloat),timeString:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextClockInstallResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClockPauseAtParams=(0,Qe.tObject)({timeNumber:(0,Qe.tOptional)(Qe.tFloat),timeString:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextClockPauseAtResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClockResumeParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClockResumeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClockRunForParams=(0,Qe.tObject)({ticksNumber:(0,Qe.tOptional)(Qe.tFloat),ticksString:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextClockRunForResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClockSetFixedTimeParams=(0,Qe.tObject)({timeNumber:(0,Qe.tOptional)(Qe.tFloat),timeString:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextClockSetFixedTimeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BrowserContextClockSetSystemTimeParams=(0,Qe.tObject)({timeNumber:(0,Qe.tOptional)(Qe.tFloat),timeString:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.BrowserContextClockSetSystemTimeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageInitializer=(0,Qe.tObject)({mainFrame:(0,Qe.tChannel)(["Frame"]),viewportSize:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),isClosed:Qe.tBoolean,opener:(0,Qe.tOptional)((0,Qe.tChannel)(["Page"]))});Qe.scheme.PageBindingCallEvent=(0,Qe.tObject)({binding:(0,Qe.tChannel)(["BindingCall"])});Qe.scheme.PageCloseEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageCrashEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageDownloadEvent=(0,Qe.tObject)({url:Qe.tString,suggestedFilename:Qe.tString,artifact:(0,Qe.tChannel)(["Artifact"])});Qe.scheme.PageViewportSizeChangedEvent=(0,Qe.tObject)({viewportSize:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt}))});Qe.scheme.PageFileChooserEvent=(0,Qe.tObject)({element:(0,Qe.tChannel)(["ElementHandle"]),isMultiple:Qe.tBoolean});Qe.scheme.PageFrameAttachedEvent=(0,Qe.tObject)({frame:(0,Qe.tChannel)(["Frame"])});Qe.scheme.PageFrameDetachedEvent=(0,Qe.tObject)({frame:(0,Qe.tChannel)(["Frame"])});Qe.scheme.PageLocatorHandlerTriggeredEvent=(0,Qe.tObject)({uid:Qe.tInt});Qe.scheme.PageRouteEvent=(0,Qe.tObject)({route:(0,Qe.tChannel)(["Route"])});Qe.scheme.PageWebSocketRouteEvent=(0,Qe.tObject)({webSocketRoute:(0,Qe.tChannel)(["WebSocketRoute"])});Qe.scheme.PageVideoEvent=(0,Qe.tObject)({artifact:(0,Qe.tChannel)(["Artifact"])});Qe.scheme.PageWebSocketEvent=(0,Qe.tObject)({webSocket:(0,Qe.tChannel)(["WebSocket"])});Qe.scheme.PageWorkerEvent=(0,Qe.tObject)({worker:(0,Qe.tChannel)(["Worker"])});Qe.scheme.PageAddInitScriptParams=(0,Qe.tObject)({source:Qe.tString});Qe.scheme.PageAddInitScriptResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageCloseParams=(0,Qe.tObject)({runBeforeUnload:(0,Qe.tOptional)(Qe.tBoolean),reason:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.PageCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageConsoleMessagesParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageConsoleMessagesResult=(0,Qe.tObject)({messages:(0,Qe.tArray)((0,Qe.tObject)({type:Qe.tString,text:Qe.tString,args:(0,Qe.tArray)((0,Qe.tChannel)(["ElementHandle","JSHandle"])),location:(0,Qe.tObject)({url:Qe.tString,lineNumber:Qe.tInt,columnNumber:Qe.tInt})}))});Qe.scheme.PageEmulateMediaParams=(0,Qe.tObject)({media:(0,Qe.tOptional)((0,Qe.tEnum)(["screen","print","no-override"])),colorScheme:(0,Qe.tOptional)((0,Qe.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Qe.tOptional)((0,Qe.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Qe.tOptional)((0,Qe.tEnum)(["active","none","no-override"])),contrast:(0,Qe.tOptional)((0,Qe.tEnum)(["no-preference","more","no-override"]))});Qe.scheme.PageEmulateMediaResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageExposeBindingParams=(0,Qe.tObject)({name:Qe.tString,needsHandle:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.PageExposeBindingResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageGoBackParams=(0,Qe.tObject)({timeout:Qe.tFloat,waitUntil:(0,Qe.tOptional)((0,Qe.tType)("LifecycleEvent"))});Qe.scheme.PageGoBackResult=(0,Qe.tObject)({response:(0,Qe.tOptional)((0,Qe.tChannel)(["Response"]))});Qe.scheme.PageGoForwardParams=(0,Qe.tObject)({timeout:Qe.tFloat,waitUntil:(0,Qe.tOptional)((0,Qe.tType)("LifecycleEvent"))});Qe.scheme.PageGoForwardResult=(0,Qe.tObject)({response:(0,Qe.tOptional)((0,Qe.tChannel)(["Response"]))});Qe.scheme.PageRequestGCParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageRequestGCResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageRegisterLocatorHandlerParams=(0,Qe.tObject)({selector:Qe.tString,noWaitAfter:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.PageRegisterLocatorHandlerResult=(0,Qe.tObject)({uid:Qe.tInt});Qe.scheme.PageResolveLocatorHandlerNoReplyParams=(0,Qe.tObject)({uid:Qe.tInt,remove:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.PageResolveLocatorHandlerNoReplyResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageUnregisterLocatorHandlerParams=(0,Qe.tObject)({uid:Qe.tInt});Qe.scheme.PageUnregisterLocatorHandlerResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageReloadParams=(0,Qe.tObject)({timeout:Qe.tFloat,waitUntil:(0,Qe.tOptional)((0,Qe.tType)("LifecycleEvent"))});Qe.scheme.PageReloadResult=(0,Qe.tObject)({response:(0,Qe.tOptional)((0,Qe.tChannel)(["Response"]))});Qe.scheme.PageExpectScreenshotParams=(0,Qe.tObject)({expected:(0,Qe.tOptional)(Qe.tBinary),timeout:Qe.tFloat,isNot:Qe.tBoolean,locator:(0,Qe.tOptional)((0,Qe.tObject)({frame:(0,Qe.tChannel)(["Frame"]),selector:Qe.tString})),comparator:(0,Qe.tOptional)(Qe.tString),maxDiffPixels:(0,Qe.tOptional)(Qe.tInt),maxDiffPixelRatio:(0,Qe.tOptional)(Qe.tFloat),threshold:(0,Qe.tOptional)(Qe.tFloat),fullPage:(0,Qe.tOptional)(Qe.tBoolean),clip:(0,Qe.tOptional)((0,Qe.tType)("Rect")),omitBackground:(0,Qe.tOptional)(Qe.tBoolean),caret:(0,Qe.tOptional)((0,Qe.tEnum)(["hide","initial"])),animations:(0,Qe.tOptional)((0,Qe.tEnum)(["disabled","allow"])),scale:(0,Qe.tOptional)((0,Qe.tEnum)(["css","device"])),mask:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({frame:(0,Qe.tChannel)(["Frame"]),selector:Qe.tString}))),maskColor:(0,Qe.tOptional)(Qe.tString),style:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.PageExpectScreenshotResult=(0,Qe.tObject)({diff:(0,Qe.tOptional)(Qe.tBinary),errorMessage:(0,Qe.tOptional)(Qe.tString),actual:(0,Qe.tOptional)(Qe.tBinary),previous:(0,Qe.tOptional)(Qe.tBinary),timedOut:(0,Qe.tOptional)(Qe.tBoolean),log:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString))});Qe.scheme.PageScreenshotParams=(0,Qe.tObject)({timeout:Qe.tFloat,type:(0,Qe.tOptional)((0,Qe.tEnum)(["png","jpeg"])),quality:(0,Qe.tOptional)(Qe.tInt),fullPage:(0,Qe.tOptional)(Qe.tBoolean),clip:(0,Qe.tOptional)((0,Qe.tType)("Rect")),omitBackground:(0,Qe.tOptional)(Qe.tBoolean),caret:(0,Qe.tOptional)((0,Qe.tEnum)(["hide","initial"])),animations:(0,Qe.tOptional)((0,Qe.tEnum)(["disabled","allow"])),scale:(0,Qe.tOptional)((0,Qe.tEnum)(["css","device"])),mask:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({frame:(0,Qe.tChannel)(["Frame"]),selector:Qe.tString}))),maskColor:(0,Qe.tOptional)(Qe.tString),style:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.PageScreenshotResult=(0,Qe.tObject)({binary:Qe.tBinary});Qe.scheme.PageSetExtraHTTPHeadersParams=(0,Qe.tObject)({headers:(0,Qe.tArray)((0,Qe.tType)("NameValue"))});Qe.scheme.PageSetExtraHTTPHeadersResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageSetNetworkInterceptionPatternsParams=(0,Qe.tObject)({patterns:(0,Qe.tArray)((0,Qe.tObject)({glob:(0,Qe.tOptional)(Qe.tString),regexSource:(0,Qe.tOptional)(Qe.tString),regexFlags:(0,Qe.tOptional)(Qe.tString)}))});Qe.scheme.PageSetNetworkInterceptionPatternsResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageSetWebSocketInterceptionPatternsParams=(0,Qe.tObject)({patterns:(0,Qe.tArray)((0,Qe.tObject)({glob:(0,Qe.tOptional)(Qe.tString),regexSource:(0,Qe.tOptional)(Qe.tString),regexFlags:(0,Qe.tOptional)(Qe.tString)}))});Qe.scheme.PageSetWebSocketInterceptionPatternsResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageSetViewportSizeParams=(0,Qe.tObject)({viewportSize:(0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})});Qe.scheme.PageSetViewportSizeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageKeyboardDownParams=(0,Qe.tObject)({key:Qe.tString});Qe.scheme.PageKeyboardDownResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageKeyboardUpParams=(0,Qe.tObject)({key:Qe.tString});Qe.scheme.PageKeyboardUpResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageKeyboardInsertTextParams=(0,Qe.tObject)({text:Qe.tString});Qe.scheme.PageKeyboardInsertTextResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageKeyboardTypeParams=(0,Qe.tObject)({text:Qe.tString,delay:(0,Qe.tOptional)(Qe.tFloat)});Qe.scheme.PageKeyboardTypeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageKeyboardPressParams=(0,Qe.tObject)({key:Qe.tString,delay:(0,Qe.tOptional)(Qe.tFloat)});Qe.scheme.PageKeyboardPressResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageMouseMoveParams=(0,Qe.tObject)({x:Qe.tFloat,y:Qe.tFloat,steps:(0,Qe.tOptional)(Qe.tInt)});Qe.scheme.PageMouseMoveResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageMouseDownParams=(0,Qe.tObject)({button:(0,Qe.tOptional)((0,Qe.tEnum)(["left","right","middle"])),clickCount:(0,Qe.tOptional)(Qe.tInt)});Qe.scheme.PageMouseDownResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageMouseUpParams=(0,Qe.tObject)({button:(0,Qe.tOptional)((0,Qe.tEnum)(["left","right","middle"])),clickCount:(0,Qe.tOptional)(Qe.tInt)});Qe.scheme.PageMouseUpResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageMouseClickParams=(0,Qe.tObject)({x:Qe.tFloat,y:Qe.tFloat,delay:(0,Qe.tOptional)(Qe.tFloat),button:(0,Qe.tOptional)((0,Qe.tEnum)(["left","right","middle"])),clickCount:(0,Qe.tOptional)(Qe.tInt)});Qe.scheme.PageMouseClickResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageMouseWheelParams=(0,Qe.tObject)({deltaX:Qe.tFloat,deltaY:Qe.tFloat});Qe.scheme.PageMouseWheelResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageTouchscreenTapParams=(0,Qe.tObject)({x:Qe.tFloat,y:Qe.tFloat});Qe.scheme.PageTouchscreenTapResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageAccessibilitySnapshotParams=(0,Qe.tObject)({interestingOnly:(0,Qe.tOptional)(Qe.tBoolean),root:(0,Qe.tOptional)((0,Qe.tChannel)(["ElementHandle"]))});Qe.scheme.PageAccessibilitySnapshotResult=(0,Qe.tObject)({rootAXNode:(0,Qe.tOptional)((0,Qe.tType)("AXNode"))});Qe.scheme.PagePageErrorsParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PagePageErrorsResult=(0,Qe.tObject)({errors:(0,Qe.tArray)((0,Qe.tType)("SerializedError"))});Qe.scheme.PagePdfParams=(0,Qe.tObject)({scale:(0,Qe.tOptional)(Qe.tFloat),displayHeaderFooter:(0,Qe.tOptional)(Qe.tBoolean),headerTemplate:(0,Qe.tOptional)(Qe.tString),footerTemplate:(0,Qe.tOptional)(Qe.tString),printBackground:(0,Qe.tOptional)(Qe.tBoolean),landscape:(0,Qe.tOptional)(Qe.tBoolean),pageRanges:(0,Qe.tOptional)(Qe.tString),format:(0,Qe.tOptional)(Qe.tString),width:(0,Qe.tOptional)(Qe.tString),height:(0,Qe.tOptional)(Qe.tString),preferCSSPageSize:(0,Qe.tOptional)(Qe.tBoolean),margin:(0,Qe.tOptional)((0,Qe.tObject)({top:(0,Qe.tOptional)(Qe.tString),bottom:(0,Qe.tOptional)(Qe.tString),left:(0,Qe.tOptional)(Qe.tString),right:(0,Qe.tOptional)(Qe.tString)})),tagged:(0,Qe.tOptional)(Qe.tBoolean),outline:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.PagePdfResult=(0,Qe.tObject)({pdf:Qe.tBinary});Qe.scheme.PageRequestsParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageRequestsResult=(0,Qe.tObject)({requests:(0,Qe.tArray)((0,Qe.tChannel)(["Request"]))});Qe.scheme.PageSnapshotForAIParams=(0,Qe.tObject)({timeout:Qe.tFloat});Qe.scheme.PageSnapshotForAIResult=(0,Qe.tObject)({snapshot:Qe.tString});Qe.scheme.PageStartJSCoverageParams=(0,Qe.tObject)({resetOnNavigation:(0,Qe.tOptional)(Qe.tBoolean),reportAnonymousScripts:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.PageStartJSCoverageResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageStopJSCoverageParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageStopJSCoverageResult=(0,Qe.tObject)({entries:(0,Qe.tArray)((0,Qe.tObject)({url:Qe.tString,scriptId:Qe.tString,source:(0,Qe.tOptional)(Qe.tString),functions:(0,Qe.tArray)((0,Qe.tObject)({functionName:Qe.tString,isBlockCoverage:Qe.tBoolean,ranges:(0,Qe.tArray)((0,Qe.tObject)({startOffset:Qe.tInt,endOffset:Qe.tInt,count:Qe.tInt}))}))}))});Qe.scheme.PageStartCSSCoverageParams=(0,Qe.tObject)({resetOnNavigation:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.PageStartCSSCoverageResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageStopCSSCoverageParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageStopCSSCoverageResult=(0,Qe.tObject)({entries:(0,Qe.tArray)((0,Qe.tObject)({url:Qe.tString,text:(0,Qe.tOptional)(Qe.tString),ranges:(0,Qe.tArray)((0,Qe.tObject)({start:Qe.tInt,end:Qe.tInt}))}))});Qe.scheme.PageBringToFrontParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageBringToFrontResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.PageUpdateSubscriptionParams=(0,Qe.tObject)({event:(0,Qe.tEnum)(["console","dialog","fileChooser","request","response","requestFinished","requestFailed"]),enabled:Qe.tBoolean});Qe.scheme.PageUpdateSubscriptionResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameInitializer=(0,Qe.tObject)({url:Qe.tString,name:Qe.tString,parentFrame:(0,Qe.tOptional)((0,Qe.tChannel)(["Frame"])),loadStates:(0,Qe.tArray)((0,Qe.tType)("LifecycleEvent"))});Qe.scheme.FrameLoadstateEvent=(0,Qe.tObject)({add:(0,Qe.tOptional)((0,Qe.tType)("LifecycleEvent")),remove:(0,Qe.tOptional)((0,Qe.tType)("LifecycleEvent"))});Qe.scheme.FrameNavigatedEvent=(0,Qe.tObject)({url:Qe.tString,name:Qe.tString,newDocument:(0,Qe.tOptional)((0,Qe.tObject)({request:(0,Qe.tOptional)((0,Qe.tChannel)(["Request"]))})),error:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.FrameEvalOnSelectorParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.FrameEvalOnSelectorResult=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue")});Qe.scheme.FrameEvalOnSelectorAllParams=(0,Qe.tObject)({selector:Qe.tString,expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.FrameEvalOnSelectorAllResult=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue")});Qe.scheme.FrameAddScriptTagParams=(0,Qe.tObject)({url:(0,Qe.tOptional)(Qe.tString),content:(0,Qe.tOptional)(Qe.tString),type:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.FrameAddScriptTagResult=(0,Qe.tObject)({element:(0,Qe.tChannel)(["ElementHandle"])});Qe.scheme.FrameAddStyleTagParams=(0,Qe.tObject)({url:(0,Qe.tOptional)(Qe.tString),content:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.FrameAddStyleTagResult=(0,Qe.tObject)({element:(0,Qe.tChannel)(["ElementHandle"])});Qe.scheme.FrameAriaSnapshotParams=(0,Qe.tObject)({selector:Qe.tString,timeout:Qe.tFloat});Qe.scheme.FrameAriaSnapshotResult=(0,Qe.tObject)({snapshot:Qe.tString});Qe.scheme.FrameBlurParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameBlurResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameCheckParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),force:(0,Qe.tOptional)(Qe.tBoolean),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameCheckResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameClickParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),force:(0,Qe.tOptional)(Qe.tBoolean),noWaitAfter:(0,Qe.tOptional)(Qe.tBoolean),modifiers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),delay:(0,Qe.tOptional)(Qe.tFloat),button:(0,Qe.tOptional)((0,Qe.tEnum)(["left","right","middle"])),clickCount:(0,Qe.tOptional)(Qe.tInt),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameClickResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameContentParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameContentResult=(0,Qe.tObject)({value:Qe.tString});Qe.scheme.FrameDragAndDropParams=(0,Qe.tObject)({source:Qe.tString,target:Qe.tString,force:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean),sourcePosition:(0,Qe.tOptional)((0,Qe.tType)("Point")),targetPosition:(0,Qe.tOptional)((0,Qe.tType)("Point")),strict:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameDragAndDropResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameDblclickParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),force:(0,Qe.tOptional)(Qe.tBoolean),modifiers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),delay:(0,Qe.tOptional)(Qe.tFloat),button:(0,Qe.tOptional)((0,Qe.tEnum)(["left","right","middle"])),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameDblclickResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameDispatchEventParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),type:Qe.tString,eventInit:(0,Qe.tType)("SerializedArgument"),timeout:Qe.tFloat});Qe.scheme.FrameDispatchEventResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameEvaluateExpressionParams=(0,Qe.tObject)({expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.FrameEvaluateExpressionResult=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue")});Qe.scheme.FrameEvaluateExpressionHandleParams=(0,Qe.tObject)({expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.FrameEvaluateExpressionHandleResult=(0,Qe.tObject)({handle:(0,Qe.tChannel)(["ElementHandle","JSHandle"])});Qe.scheme.FrameFillParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),value:Qe.tString,force:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameFillResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameFocusParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameFocusResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameFrameElementParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameFrameElementResult=(0,Qe.tObject)({element:(0,Qe.tChannel)(["ElementHandle"])});Qe.scheme.FrameResolveSelectorParams=(0,Qe.tObject)({selector:Qe.tString});Qe.scheme.FrameResolveSelectorResult=(0,Qe.tObject)({resolvedSelector:Qe.tString});Qe.scheme.FrameHighlightParams=(0,Qe.tObject)({selector:Qe.tString});Qe.scheme.FrameHighlightResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameGetAttributeParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),name:Qe.tString,timeout:Qe.tFloat});Qe.scheme.FrameGetAttributeResult=(0,Qe.tObject)({value:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.FrameGotoParams=(0,Qe.tObject)({url:Qe.tString,timeout:Qe.tFloat,waitUntil:(0,Qe.tOptional)((0,Qe.tType)("LifecycleEvent")),referer:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.FrameGotoResult=(0,Qe.tObject)({response:(0,Qe.tOptional)((0,Qe.tChannel)(["Response"]))});Qe.scheme.FrameHoverParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),force:(0,Qe.tOptional)(Qe.tBoolean),modifiers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameHoverResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameInnerHTMLParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameInnerHTMLResult=(0,Qe.tObject)({value:Qe.tString});Qe.scheme.FrameInnerTextParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameInnerTextResult=(0,Qe.tObject)({value:Qe.tString});Qe.scheme.FrameInputValueParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameInputValueResult=(0,Qe.tObject)({value:Qe.tString});Qe.scheme.FrameIsCheckedParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameIsCheckedResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.FrameIsDisabledParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameIsDisabledResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.FrameIsEnabledParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameIsEnabledResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.FrameIsHiddenParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameIsHiddenResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.FrameIsVisibleParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameIsVisibleResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.FrameIsEditableParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameIsEditableResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.FramePressParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),key:Qe.tString,delay:(0,Qe.tOptional)(Qe.tFloat),noWaitAfter:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FramePressResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameQuerySelectorParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameQuerySelectorResult=(0,Qe.tObject)({element:(0,Qe.tOptional)((0,Qe.tChannel)(["ElementHandle"]))});Qe.scheme.FrameQuerySelectorAllParams=(0,Qe.tObject)({selector:Qe.tString});Qe.scheme.FrameQuerySelectorAllResult=(0,Qe.tObject)({elements:(0,Qe.tArray)((0,Qe.tChannel)(["ElementHandle"]))});Qe.scheme.FrameQueryCountParams=(0,Qe.tObject)({selector:Qe.tString});Qe.scheme.FrameQueryCountResult=(0,Qe.tObject)({value:Qe.tInt});Qe.scheme.FrameSelectOptionParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),elements:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tChannel)(["ElementHandle"]))),options:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({valueOrLabel:(0,Qe.tOptional)(Qe.tString),value:(0,Qe.tOptional)(Qe.tString),label:(0,Qe.tOptional)(Qe.tString),index:(0,Qe.tOptional)(Qe.tInt)}))),force:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameSelectOptionResult=(0,Qe.tObject)({values:(0,Qe.tArray)(Qe.tString)});Qe.scheme.FrameSetContentParams=(0,Qe.tObject)({html:Qe.tString,timeout:Qe.tFloat,waitUntil:(0,Qe.tOptional)((0,Qe.tType)("LifecycleEvent"))});Qe.scheme.FrameSetContentResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameSetInputFilesParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),payloads:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({name:Qe.tString,mimeType:(0,Qe.tOptional)(Qe.tString),buffer:Qe.tBinary}))),localDirectory:(0,Qe.tOptional)(Qe.tString),directoryStream:(0,Qe.tOptional)((0,Qe.tChannel)(["WritableStream"])),localPaths:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),streams:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tChannel)(["WritableStream"]))),timeout:Qe.tFloat});Qe.scheme.FrameSetInputFilesResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameTapParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),force:(0,Qe.tOptional)(Qe.tBoolean),modifiers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameTapResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameTextContentParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.FrameTextContentResult=(0,Qe.tObject)({value:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.FrameTitleParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameTitleResult=(0,Qe.tObject)({value:Qe.tString});Qe.scheme.FrameTypeParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),text:Qe.tString,delay:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.FrameTypeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameUncheckParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),force:(0,Qe.tOptional)(Qe.tBoolean),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameUncheckResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameWaitForTimeoutParams=(0,Qe.tObject)({waitTimeout:Qe.tFloat});Qe.scheme.FrameWaitForTimeoutResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.FrameWaitForFunctionParams=(0,Qe.tObject)({expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument"),timeout:Qe.tFloat,pollingInterval:(0,Qe.tOptional)(Qe.tFloat)});Qe.scheme.FrameWaitForFunctionResult=(0,Qe.tObject)({handle:(0,Qe.tChannel)(["ElementHandle","JSHandle"])});Qe.scheme.FrameWaitForSelectorParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat,state:(0,Qe.tOptional)((0,Qe.tEnum)(["attached","detached","visible","hidden"])),omitReturnValue:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.FrameWaitForSelectorResult=(0,Qe.tObject)({element:(0,Qe.tOptional)((0,Qe.tChannel)(["ElementHandle"]))});Qe.scheme.FrameExpectParams=(0,Qe.tObject)({selector:(0,Qe.tOptional)(Qe.tString),expression:Qe.tString,expressionArg:(0,Qe.tOptional)(Qe.tAny),expectedText:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("ExpectedTextValue"))),expectedNumber:(0,Qe.tOptional)(Qe.tFloat),expectedValue:(0,Qe.tOptional)((0,Qe.tType)("SerializedArgument")),useInnerText:(0,Qe.tOptional)(Qe.tBoolean),isNot:Qe.tBoolean,timeout:Qe.tFloat});Qe.scheme.FrameExpectResult=(0,Qe.tObject)({matches:Qe.tBoolean,received:(0,Qe.tOptional)((0,Qe.tType)("SerializedValue")),timedOut:(0,Qe.tOptional)(Qe.tBoolean),errorMessage:(0,Qe.tOptional)(Qe.tString),log:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString))});Qe.scheme.WorkerInitializer=(0,Qe.tObject)({url:Qe.tString});Qe.scheme.WorkerCloseEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WorkerEvaluateExpressionParams=(0,Qe.tObject)({expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.WorkerEvaluateExpressionResult=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue")});Qe.scheme.WorkerEvaluateExpressionHandleParams=(0,Qe.tObject)({expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.WorkerEvaluateExpressionHandleResult=(0,Qe.tObject)({handle:(0,Qe.tChannel)(["ElementHandle","JSHandle"])});Qe.scheme.JSHandleInitializer=(0,Qe.tObject)({preview:Qe.tString});Qe.scheme.JSHandlePreviewUpdatedEvent=(0,Qe.tObject)({preview:Qe.tString});Qe.scheme.ElementHandlePreviewUpdatedEvent=(0,Qe.tType)("JSHandlePreviewUpdatedEvent");Qe.scheme.JSHandleDisposeParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleDisposeParams=(0,Qe.tType)("JSHandleDisposeParams");Qe.scheme.JSHandleDisposeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleDisposeResult=(0,Qe.tType)("JSHandleDisposeResult");Qe.scheme.JSHandleEvaluateExpressionParams=(0,Qe.tObject)({expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.ElementHandleEvaluateExpressionParams=(0,Qe.tType)("JSHandleEvaluateExpressionParams");Qe.scheme.JSHandleEvaluateExpressionResult=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue")});Qe.scheme.ElementHandleEvaluateExpressionResult=(0,Qe.tType)("JSHandleEvaluateExpressionResult");Qe.scheme.JSHandleEvaluateExpressionHandleParams=(0,Qe.tObject)({expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.ElementHandleEvaluateExpressionHandleParams=(0,Qe.tType)("JSHandleEvaluateExpressionHandleParams");Qe.scheme.JSHandleEvaluateExpressionHandleResult=(0,Qe.tObject)({handle:(0,Qe.tChannel)(["ElementHandle","JSHandle"])});Qe.scheme.ElementHandleEvaluateExpressionHandleResult=(0,Qe.tType)("JSHandleEvaluateExpressionHandleResult");Qe.scheme.JSHandleGetPropertyListParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleGetPropertyListParams=(0,Qe.tType)("JSHandleGetPropertyListParams");Qe.scheme.JSHandleGetPropertyListResult=(0,Qe.tObject)({properties:(0,Qe.tArray)((0,Qe.tObject)({name:Qe.tString,value:(0,Qe.tChannel)(["ElementHandle","JSHandle"])}))});Qe.scheme.ElementHandleGetPropertyListResult=(0,Qe.tType)("JSHandleGetPropertyListResult");Qe.scheme.JSHandleGetPropertyParams=(0,Qe.tObject)({name:Qe.tString});Qe.scheme.ElementHandleGetPropertyParams=(0,Qe.tType)("JSHandleGetPropertyParams");Qe.scheme.JSHandleGetPropertyResult=(0,Qe.tObject)({handle:(0,Qe.tChannel)(["ElementHandle","JSHandle"])});Qe.scheme.ElementHandleGetPropertyResult=(0,Qe.tType)("JSHandleGetPropertyResult");Qe.scheme.JSHandleJsonValueParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleJsonValueParams=(0,Qe.tType)("JSHandleJsonValueParams");Qe.scheme.JSHandleJsonValueResult=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue")});Qe.scheme.ElementHandleJsonValueResult=(0,Qe.tType)("JSHandleJsonValueResult");Qe.scheme.ElementHandleInitializer=(0,Qe.tObject)({preview:Qe.tString});Qe.scheme.ElementHandleEvalOnSelectorParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.ElementHandleEvalOnSelectorResult=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue")});Qe.scheme.ElementHandleEvalOnSelectorAllParams=(0,Qe.tObject)({selector:Qe.tString,expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.ElementHandleEvalOnSelectorAllResult=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue")});Qe.scheme.ElementHandleBoundingBoxParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleBoundingBoxResult=(0,Qe.tObject)({value:(0,Qe.tOptional)((0,Qe.tType)("Rect"))});Qe.scheme.ElementHandleCheckParams=(0,Qe.tObject)({force:(0,Qe.tOptional)(Qe.tBoolean),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.ElementHandleCheckResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleClickParams=(0,Qe.tObject)({force:(0,Qe.tOptional)(Qe.tBoolean),noWaitAfter:(0,Qe.tOptional)(Qe.tBoolean),modifiers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),delay:(0,Qe.tOptional)(Qe.tFloat),button:(0,Qe.tOptional)((0,Qe.tEnum)(["left","right","middle"])),clickCount:(0,Qe.tOptional)(Qe.tInt),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.ElementHandleClickResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleContentFrameParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleContentFrameResult=(0,Qe.tObject)({frame:(0,Qe.tOptional)((0,Qe.tChannel)(["Frame"]))});Qe.scheme.ElementHandleDblclickParams=(0,Qe.tObject)({force:(0,Qe.tOptional)(Qe.tBoolean),modifiers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),delay:(0,Qe.tOptional)(Qe.tFloat),button:(0,Qe.tOptional)((0,Qe.tEnum)(["left","right","middle"])),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.ElementHandleDblclickResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleDispatchEventParams=(0,Qe.tObject)({type:Qe.tString,eventInit:(0,Qe.tType)("SerializedArgument")});Qe.scheme.ElementHandleDispatchEventResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleFillParams=(0,Qe.tObject)({value:Qe.tString,force:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.ElementHandleFillResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleFocusParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleFocusResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleGetAttributeParams=(0,Qe.tObject)({name:Qe.tString});Qe.scheme.ElementHandleGetAttributeResult=(0,Qe.tObject)({value:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.ElementHandleHoverParams=(0,Qe.tObject)({force:(0,Qe.tOptional)(Qe.tBoolean),modifiers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.ElementHandleHoverResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleInnerHTMLParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleInnerHTMLResult=(0,Qe.tObject)({value:Qe.tString});Qe.scheme.ElementHandleInnerTextParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleInnerTextResult=(0,Qe.tObject)({value:Qe.tString});Qe.scheme.ElementHandleInputValueParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleInputValueResult=(0,Qe.tObject)({value:Qe.tString});Qe.scheme.ElementHandleIsCheckedParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleIsCheckedResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.ElementHandleIsDisabledParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleIsDisabledResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.ElementHandleIsEditableParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleIsEditableResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.ElementHandleIsEnabledParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleIsEnabledResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.ElementHandleIsHiddenParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleIsHiddenResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.ElementHandleIsVisibleParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleIsVisibleResult=(0,Qe.tObject)({value:Qe.tBoolean});Qe.scheme.ElementHandleOwnerFrameParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleOwnerFrameResult=(0,Qe.tObject)({frame:(0,Qe.tOptional)((0,Qe.tChannel)(["Frame"]))});Qe.scheme.ElementHandlePressParams=(0,Qe.tObject)({key:Qe.tString,delay:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat,noWaitAfter:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.ElementHandlePressResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleQuerySelectorParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.ElementHandleQuerySelectorResult=(0,Qe.tObject)({element:(0,Qe.tOptional)((0,Qe.tChannel)(["ElementHandle"]))});Qe.scheme.ElementHandleQuerySelectorAllParams=(0,Qe.tObject)({selector:Qe.tString});Qe.scheme.ElementHandleQuerySelectorAllResult=(0,Qe.tObject)({elements:(0,Qe.tArray)((0,Qe.tChannel)(["ElementHandle"]))});Qe.scheme.ElementHandleScreenshotParams=(0,Qe.tObject)({timeout:Qe.tFloat,type:(0,Qe.tOptional)((0,Qe.tEnum)(["png","jpeg"])),quality:(0,Qe.tOptional)(Qe.tInt),omitBackground:(0,Qe.tOptional)(Qe.tBoolean),caret:(0,Qe.tOptional)((0,Qe.tEnum)(["hide","initial"])),animations:(0,Qe.tOptional)((0,Qe.tEnum)(["disabled","allow"])),scale:(0,Qe.tOptional)((0,Qe.tEnum)(["css","device"])),mask:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({frame:(0,Qe.tChannel)(["Frame"]),selector:Qe.tString}))),maskColor:(0,Qe.tOptional)(Qe.tString),style:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.ElementHandleScreenshotResult=(0,Qe.tObject)({binary:Qe.tBinary});Qe.scheme.ElementHandleScrollIntoViewIfNeededParams=(0,Qe.tObject)({timeout:Qe.tFloat});Qe.scheme.ElementHandleScrollIntoViewIfNeededResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleSelectOptionParams=(0,Qe.tObject)({elements:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tChannel)(["ElementHandle"]))),options:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({valueOrLabel:(0,Qe.tOptional)(Qe.tString),value:(0,Qe.tOptional)(Qe.tString),label:(0,Qe.tOptional)(Qe.tString),index:(0,Qe.tOptional)(Qe.tInt)}))),force:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.ElementHandleSelectOptionResult=(0,Qe.tObject)({values:(0,Qe.tArray)(Qe.tString)});Qe.scheme.ElementHandleSelectTextParams=(0,Qe.tObject)({force:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat});Qe.scheme.ElementHandleSelectTextResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleSetInputFilesParams=(0,Qe.tObject)({payloads:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({name:Qe.tString,mimeType:(0,Qe.tOptional)(Qe.tString),buffer:Qe.tBinary}))),localDirectory:(0,Qe.tOptional)(Qe.tString),directoryStream:(0,Qe.tOptional)((0,Qe.tChannel)(["WritableStream"])),localPaths:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),streams:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tChannel)(["WritableStream"]))),timeout:Qe.tFloat});Qe.scheme.ElementHandleSetInputFilesResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleTapParams=(0,Qe.tObject)({force:(0,Qe.tOptional)(Qe.tBoolean),modifiers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tEnum)(["Alt","Control","ControlOrMeta","Meta","Shift"]))),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.ElementHandleTapResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleTextContentParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleTextContentResult=(0,Qe.tObject)({value:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.ElementHandleTypeParams=(0,Qe.tObject)({text:Qe.tString,delay:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.ElementHandleTypeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleUncheckParams=(0,Qe.tObject)({force:(0,Qe.tOptional)(Qe.tBoolean),position:(0,Qe.tOptional)((0,Qe.tType)("Point")),timeout:Qe.tFloat,trial:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.ElementHandleUncheckResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleWaitForElementStateParams=(0,Qe.tObject)({state:(0,Qe.tEnum)(["visible","hidden","stable","enabled","disabled","editable"]),timeout:Qe.tFloat});Qe.scheme.ElementHandleWaitForElementStateResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElementHandleWaitForSelectorParams=(0,Qe.tObject)({selector:Qe.tString,strict:(0,Qe.tOptional)(Qe.tBoolean),timeout:Qe.tFloat,state:(0,Qe.tOptional)((0,Qe.tEnum)(["attached","detached","visible","hidden"]))});Qe.scheme.ElementHandleWaitForSelectorResult=(0,Qe.tObject)({element:(0,Qe.tOptional)((0,Qe.tChannel)(["ElementHandle"]))});Qe.scheme.RequestInitializer=(0,Qe.tObject)({frame:(0,Qe.tOptional)((0,Qe.tChannel)(["Frame"])),serviceWorker:(0,Qe.tOptional)((0,Qe.tChannel)(["Worker"])),url:Qe.tString,resourceType:Qe.tString,method:Qe.tString,postData:(0,Qe.tOptional)(Qe.tBinary),headers:(0,Qe.tArray)((0,Qe.tType)("NameValue")),isNavigationRequest:Qe.tBoolean,redirectedFrom:(0,Qe.tOptional)((0,Qe.tChannel)(["Request"])),hasResponse:Qe.tBoolean});Qe.scheme.RequestResponseEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.RequestResponseParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.RequestResponseResult=(0,Qe.tObject)({response:(0,Qe.tOptional)((0,Qe.tChannel)(["Response"]))});Qe.scheme.RequestRawRequestHeadersParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.RequestRawRequestHeadersResult=(0,Qe.tObject)({headers:(0,Qe.tArray)((0,Qe.tType)("NameValue"))});Qe.scheme.RouteInitializer=(0,Qe.tObject)({request:(0,Qe.tChannel)(["Request"])});Qe.scheme.RouteRedirectNavigationRequestParams=(0,Qe.tObject)({url:Qe.tString});Qe.scheme.RouteRedirectNavigationRequestResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.RouteAbortParams=(0,Qe.tObject)({errorCode:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.RouteAbortResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.RouteContinueParams=(0,Qe.tObject)({url:(0,Qe.tOptional)(Qe.tString),method:(0,Qe.tOptional)(Qe.tString),headers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),postData:(0,Qe.tOptional)(Qe.tBinary),isFallback:Qe.tBoolean});Qe.scheme.RouteContinueResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.RouteFulfillParams=(0,Qe.tObject)({status:(0,Qe.tOptional)(Qe.tInt),headers:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),body:(0,Qe.tOptional)(Qe.tString),isBase64:(0,Qe.tOptional)(Qe.tBoolean),fetchResponseUid:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.RouteFulfillResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WebSocketRouteInitializer=(0,Qe.tObject)({url:Qe.tString});Qe.scheme.WebSocketRouteMessageFromPageEvent=(0,Qe.tObject)({message:Qe.tString,isBase64:Qe.tBoolean});Qe.scheme.WebSocketRouteMessageFromServerEvent=(0,Qe.tObject)({message:Qe.tString,isBase64:Qe.tBoolean});Qe.scheme.WebSocketRouteClosePageEvent=(0,Qe.tObject)({code:(0,Qe.tOptional)(Qe.tInt),reason:(0,Qe.tOptional)(Qe.tString),wasClean:Qe.tBoolean});Qe.scheme.WebSocketRouteCloseServerEvent=(0,Qe.tObject)({code:(0,Qe.tOptional)(Qe.tInt),reason:(0,Qe.tOptional)(Qe.tString),wasClean:Qe.tBoolean});Qe.scheme.WebSocketRouteConnectParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WebSocketRouteConnectResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WebSocketRouteEnsureOpenedParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WebSocketRouteEnsureOpenedResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WebSocketRouteSendToPageParams=(0,Qe.tObject)({message:Qe.tString,isBase64:Qe.tBoolean});Qe.scheme.WebSocketRouteSendToPageResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WebSocketRouteSendToServerParams=(0,Qe.tObject)({message:Qe.tString,isBase64:Qe.tBoolean});Qe.scheme.WebSocketRouteSendToServerResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WebSocketRouteClosePageParams=(0,Qe.tObject)({code:(0,Qe.tOptional)(Qe.tInt),reason:(0,Qe.tOptional)(Qe.tString),wasClean:Qe.tBoolean});Qe.scheme.WebSocketRouteClosePageResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WebSocketRouteCloseServerParams=(0,Qe.tObject)({code:(0,Qe.tOptional)(Qe.tInt),reason:(0,Qe.tOptional)(Qe.tString),wasClean:Qe.tBoolean});Qe.scheme.WebSocketRouteCloseServerResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ResourceTiming=(0,Qe.tObject)({startTime:Qe.tFloat,domainLookupStart:Qe.tFloat,domainLookupEnd:Qe.tFloat,connectStart:Qe.tFloat,secureConnectionStart:Qe.tFloat,connectEnd:Qe.tFloat,requestStart:Qe.tFloat,responseStart:Qe.tFloat});Qe.scheme.ResponseInitializer=(0,Qe.tObject)({request:(0,Qe.tChannel)(["Request"]),url:Qe.tString,status:Qe.tInt,statusText:Qe.tString,headers:(0,Qe.tArray)((0,Qe.tType)("NameValue")),timing:(0,Qe.tType)("ResourceTiming"),fromServiceWorker:Qe.tBoolean});Qe.scheme.ResponseBodyParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ResponseBodyResult=(0,Qe.tObject)({binary:Qe.tBinary});Qe.scheme.ResponseSecurityDetailsParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ResponseSecurityDetailsResult=(0,Qe.tObject)({value:(0,Qe.tOptional)((0,Qe.tType)("SecurityDetails"))});Qe.scheme.ResponseServerAddrParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ResponseServerAddrResult=(0,Qe.tObject)({value:(0,Qe.tOptional)((0,Qe.tType)("RemoteAddr"))});Qe.scheme.ResponseRawResponseHeadersParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ResponseRawResponseHeadersResult=(0,Qe.tObject)({headers:(0,Qe.tArray)((0,Qe.tType)("NameValue"))});Qe.scheme.ResponseSizesParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ResponseSizesResult=(0,Qe.tObject)({sizes:(0,Qe.tType)("RequestSizes")});Qe.scheme.SecurityDetails=(0,Qe.tObject)({issuer:(0,Qe.tOptional)(Qe.tString),protocol:(0,Qe.tOptional)(Qe.tString),subjectName:(0,Qe.tOptional)(Qe.tString),validFrom:(0,Qe.tOptional)(Qe.tFloat),validTo:(0,Qe.tOptional)(Qe.tFloat)});Qe.scheme.RequestSizes=(0,Qe.tObject)({requestBodySize:Qe.tInt,requestHeadersSize:Qe.tInt,responseBodySize:Qe.tInt,responseHeadersSize:Qe.tInt});Qe.scheme.RemoteAddr=(0,Qe.tObject)({ipAddress:Qe.tString,port:Qe.tInt});Qe.scheme.WebSocketInitializer=(0,Qe.tObject)({url:Qe.tString});Qe.scheme.WebSocketOpenEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WebSocketFrameSentEvent=(0,Qe.tObject)({opcode:Qe.tInt,data:Qe.tString});Qe.scheme.WebSocketFrameReceivedEvent=(0,Qe.tObject)({opcode:Qe.tInt,data:Qe.tString});Qe.scheme.WebSocketSocketErrorEvent=(0,Qe.tObject)({error:Qe.tString});Qe.scheme.WebSocketCloseEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BindingCallInitializer=(0,Qe.tObject)({frame:(0,Qe.tChannel)(["Frame"]),name:Qe.tString,args:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SerializedValue"))),handle:(0,Qe.tOptional)((0,Qe.tChannel)(["ElementHandle","JSHandle"]))});Qe.scheme.BindingCallRejectParams=(0,Qe.tObject)({error:(0,Qe.tType)("SerializedError")});Qe.scheme.BindingCallRejectResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.BindingCallResolveParams=(0,Qe.tObject)({result:(0,Qe.tType)("SerializedArgument")});Qe.scheme.BindingCallResolveResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DialogInitializer=(0,Qe.tObject)({page:(0,Qe.tOptional)((0,Qe.tChannel)(["Page"])),type:Qe.tString,message:Qe.tString,defaultValue:Qe.tString});Qe.scheme.DialogAcceptParams=(0,Qe.tObject)({promptText:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.DialogAcceptResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DialogDismissParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.DialogDismissResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.TracingInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.TracingTracingStartParams=(0,Qe.tObject)({name:(0,Qe.tOptional)(Qe.tString),snapshots:(0,Qe.tOptional)(Qe.tBoolean),screenshots:(0,Qe.tOptional)(Qe.tBoolean),live:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.TracingTracingStartResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.TracingTracingStartChunkParams=(0,Qe.tObject)({name:(0,Qe.tOptional)(Qe.tString),title:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.TracingTracingStartChunkResult=(0,Qe.tObject)({traceName:Qe.tString});Qe.scheme.TracingTracingGroupParams=(0,Qe.tObject)({name:Qe.tString,location:(0,Qe.tOptional)((0,Qe.tObject)({file:Qe.tString,line:(0,Qe.tOptional)(Qe.tInt),column:(0,Qe.tOptional)(Qe.tInt)}))});Qe.scheme.TracingTracingGroupResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.TracingTracingGroupEndParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.TracingTracingGroupEndResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.TracingTracingStopChunkParams=(0,Qe.tObject)({mode:(0,Qe.tEnum)(["archive","discard","entries"])});Qe.scheme.TracingTracingStopChunkResult=(0,Qe.tObject)({artifact:(0,Qe.tOptional)((0,Qe.tChannel)(["Artifact"])),entries:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue")))});Qe.scheme.TracingTracingStopParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.TracingTracingStopResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ArtifactInitializer=(0,Qe.tObject)({absolutePath:Qe.tString});Qe.scheme.ArtifactPathAfterFinishedParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ArtifactPathAfterFinishedResult=(0,Qe.tObject)({value:Qe.tString});Qe.scheme.ArtifactSaveAsParams=(0,Qe.tObject)({path:Qe.tString});Qe.scheme.ArtifactSaveAsResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ArtifactSaveAsStreamParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ArtifactSaveAsStreamResult=(0,Qe.tObject)({stream:(0,Qe.tChannel)(["Stream"])});Qe.scheme.ArtifactFailureParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ArtifactFailureResult=(0,Qe.tObject)({error:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.ArtifactStreamParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ArtifactStreamResult=(0,Qe.tObject)({stream:(0,Qe.tChannel)(["Stream"])});Qe.scheme.ArtifactCancelParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ArtifactCancelResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ArtifactDeleteParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ArtifactDeleteResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.StreamInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.StreamReadParams=(0,Qe.tObject)({size:(0,Qe.tOptional)(Qe.tInt)});Qe.scheme.StreamReadResult=(0,Qe.tObject)({binary:Qe.tBinary});Qe.scheme.StreamCloseParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.StreamCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WritableStreamInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WritableStreamWriteParams=(0,Qe.tObject)({binary:Qe.tBinary});Qe.scheme.WritableStreamWriteResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WritableStreamCloseParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.WritableStreamCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.CDPSessionInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.CDPSessionEventEvent=(0,Qe.tObject)({method:Qe.tString,params:(0,Qe.tOptional)(Qe.tAny)});Qe.scheme.CDPSessionSendParams=(0,Qe.tObject)({method:Qe.tString,params:(0,Qe.tOptional)(Qe.tAny)});Qe.scheme.CDPSessionSendResult=(0,Qe.tObject)({result:Qe.tAny});Qe.scheme.CDPSessionDetachParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.CDPSessionDetachResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElectronInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElectronLaunchParams=(0,Qe.tObject)({executablePath:(0,Qe.tOptional)(Qe.tString),args:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),cwd:(0,Qe.tOptional)(Qe.tString),env:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),timeout:Qe.tFloat,acceptDownloads:(0,Qe.tOptional)((0,Qe.tEnum)(["accept","deny","internal-browser-default"])),bypassCSP:(0,Qe.tOptional)(Qe.tBoolean),colorScheme:(0,Qe.tOptional)((0,Qe.tEnum)(["dark","light","no-preference","no-override"])),extraHTTPHeaders:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),geolocation:(0,Qe.tOptional)((0,Qe.tObject)({longitude:Qe.tFloat,latitude:Qe.tFloat,accuracy:(0,Qe.tOptional)(Qe.tFloat)})),httpCredentials:(0,Qe.tOptional)((0,Qe.tObject)({username:Qe.tString,password:Qe.tString,origin:(0,Qe.tOptional)(Qe.tString)})),ignoreHTTPSErrors:(0,Qe.tOptional)(Qe.tBoolean),locale:(0,Qe.tOptional)(Qe.tString),offline:(0,Qe.tOptional)(Qe.tBoolean),recordVideo:(0,Qe.tOptional)((0,Qe.tObject)({dir:Qe.tString,size:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt}))})),strictSelectors:(0,Qe.tOptional)(Qe.tBoolean),timezoneId:(0,Qe.tOptional)(Qe.tString),tracesDir:(0,Qe.tOptional)(Qe.tString),selectorEngines:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SelectorEngine"))),testIdAttributeName:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.ElectronLaunchResult=(0,Qe.tObject)({electronApplication:(0,Qe.tChannel)(["ElectronApplication"])});Qe.scheme.ElectronApplicationInitializer=(0,Qe.tObject)({context:(0,Qe.tChannel)(["BrowserContext"])});Qe.scheme.ElectronApplicationCloseEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.ElectronApplicationConsoleEvent=(0,Qe.tObject)({type:Qe.tString,text:Qe.tString,args:(0,Qe.tArray)((0,Qe.tChannel)(["ElementHandle","JSHandle"])),location:(0,Qe.tObject)({url:Qe.tString,lineNumber:Qe.tInt,columnNumber:Qe.tInt})});Qe.scheme.ElectronApplicationBrowserWindowParams=(0,Qe.tObject)({page:(0,Qe.tChannel)(["Page"])});Qe.scheme.ElectronApplicationBrowserWindowResult=(0,Qe.tObject)({handle:(0,Qe.tChannel)(["ElementHandle","JSHandle"])});Qe.scheme.ElectronApplicationEvaluateExpressionParams=(0,Qe.tObject)({expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.ElectronApplicationEvaluateExpressionResult=(0,Qe.tObject)({value:(0,Qe.tType)("SerializedValue")});Qe.scheme.ElectronApplicationEvaluateExpressionHandleParams=(0,Qe.tObject)({expression:Qe.tString,isFunction:(0,Qe.tOptional)(Qe.tBoolean),arg:(0,Qe.tType)("SerializedArgument")});Qe.scheme.ElectronApplicationEvaluateExpressionHandleResult=(0,Qe.tObject)({handle:(0,Qe.tChannel)(["ElementHandle","JSHandle"])});Qe.scheme.ElectronApplicationUpdateSubscriptionParams=(0,Qe.tObject)({event:(0,Qe.tEnum)(["console"]),enabled:Qe.tBoolean});Qe.scheme.ElectronApplicationUpdateSubscriptionResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDevicesParams=(0,Qe.tObject)({host:(0,Qe.tOptional)(Qe.tString),port:(0,Qe.tOptional)(Qe.tInt),omitDriverInstall:(0,Qe.tOptional)(Qe.tBoolean)});Qe.scheme.AndroidDevicesResult=(0,Qe.tObject)({devices:(0,Qe.tArray)((0,Qe.tChannel)(["AndroidDevice"]))});Qe.scheme.AndroidSocketInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidSocketDataEvent=(0,Qe.tObject)({data:Qe.tBinary});Qe.scheme.AndroidSocketCloseEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidSocketWriteParams=(0,Qe.tObject)({data:Qe.tBinary});Qe.scheme.AndroidSocketWriteResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidSocketCloseParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidSocketCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceInitializer=(0,Qe.tObject)({model:Qe.tString,serial:Qe.tString});Qe.scheme.AndroidDeviceCloseEvent=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceWebViewAddedEvent=(0,Qe.tObject)({webView:(0,Qe.tType)("AndroidWebView")});Qe.scheme.AndroidDeviceWebViewRemovedEvent=(0,Qe.tObject)({socketName:Qe.tString});Qe.scheme.AndroidDeviceWaitParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),state:(0,Qe.tOptional)((0,Qe.tEnum)(["gone"])),timeout:Qe.tFloat});Qe.scheme.AndroidDeviceWaitResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceFillParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),text:Qe.tString,timeout:Qe.tFloat});Qe.scheme.AndroidDeviceFillResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceTapParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),duration:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.AndroidDeviceTapResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceDragParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),dest:(0,Qe.tType)("Point"),speed:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.AndroidDeviceDragResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceFlingParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),direction:(0,Qe.tEnum)(["up","down","left","right"]),speed:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.AndroidDeviceFlingResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceLongTapParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),timeout:Qe.tFloat});Qe.scheme.AndroidDeviceLongTapResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDevicePinchCloseParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),percent:Qe.tFloat,speed:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.AndroidDevicePinchCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDevicePinchOpenParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),percent:Qe.tFloat,speed:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.AndroidDevicePinchOpenResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceScrollParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),direction:(0,Qe.tEnum)(["up","down","left","right"]),percent:Qe.tFloat,speed:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.AndroidDeviceScrollResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceSwipeParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),direction:(0,Qe.tEnum)(["up","down","left","right"]),percent:Qe.tFloat,speed:(0,Qe.tOptional)(Qe.tFloat),timeout:Qe.tFloat});Qe.scheme.AndroidDeviceSwipeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceInfoParams=(0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector")});Qe.scheme.AndroidDeviceInfoResult=(0,Qe.tObject)({info:(0,Qe.tType)("AndroidElementInfo")});Qe.scheme.AndroidDeviceScreenshotParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceScreenshotResult=(0,Qe.tObject)({binary:Qe.tBinary});Qe.scheme.AndroidDeviceInputTypeParams=(0,Qe.tObject)({text:Qe.tString});Qe.scheme.AndroidDeviceInputTypeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceInputPressParams=(0,Qe.tObject)({key:Qe.tString});Qe.scheme.AndroidDeviceInputPressResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceInputTapParams=(0,Qe.tObject)({point:(0,Qe.tType)("Point")});Qe.scheme.AndroidDeviceInputTapResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceInputSwipeParams=(0,Qe.tObject)({segments:(0,Qe.tArray)((0,Qe.tType)("Point")),steps:Qe.tInt});Qe.scheme.AndroidDeviceInputSwipeResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceInputDragParams=(0,Qe.tObject)({from:(0,Qe.tType)("Point"),to:(0,Qe.tType)("Point"),steps:Qe.tInt});Qe.scheme.AndroidDeviceInputDragResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceLaunchBrowserParams=(0,Qe.tObject)({noDefaultViewport:(0,Qe.tOptional)(Qe.tBoolean),viewport:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),screen:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt})),ignoreHTTPSErrors:(0,Qe.tOptional)(Qe.tBoolean),clientCertificates:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tObject)({origin:Qe.tString,cert:(0,Qe.tOptional)(Qe.tBinary),key:(0,Qe.tOptional)(Qe.tBinary),passphrase:(0,Qe.tOptional)(Qe.tString),pfx:(0,Qe.tOptional)(Qe.tBinary)}))),javaScriptEnabled:(0,Qe.tOptional)(Qe.tBoolean),bypassCSP:(0,Qe.tOptional)(Qe.tBoolean),userAgent:(0,Qe.tOptional)(Qe.tString),locale:(0,Qe.tOptional)(Qe.tString),timezoneId:(0,Qe.tOptional)(Qe.tString),geolocation:(0,Qe.tOptional)((0,Qe.tObject)({longitude:Qe.tFloat,latitude:Qe.tFloat,accuracy:(0,Qe.tOptional)(Qe.tFloat)})),permissions:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),extraHTTPHeaders:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("NameValue"))),offline:(0,Qe.tOptional)(Qe.tBoolean),httpCredentials:(0,Qe.tOptional)((0,Qe.tObject)({username:Qe.tString,password:Qe.tString,origin:(0,Qe.tOptional)(Qe.tString),send:(0,Qe.tOptional)((0,Qe.tEnum)(["always","unauthorized"]))})),deviceScaleFactor:(0,Qe.tOptional)(Qe.tFloat),isMobile:(0,Qe.tOptional)(Qe.tBoolean),hasTouch:(0,Qe.tOptional)(Qe.tBoolean),colorScheme:(0,Qe.tOptional)((0,Qe.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,Qe.tOptional)((0,Qe.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,Qe.tOptional)((0,Qe.tEnum)(["active","none","no-override"])),acceptDownloads:(0,Qe.tOptional)((0,Qe.tEnum)(["accept","deny","internal-browser-default"])),contrast:(0,Qe.tOptional)((0,Qe.tEnum)(["no-preference","more","no-override"])),baseURL:(0,Qe.tOptional)(Qe.tString),recordVideo:(0,Qe.tOptional)((0,Qe.tObject)({dir:Qe.tString,size:(0,Qe.tOptional)((0,Qe.tObject)({width:Qe.tInt,height:Qe.tInt}))})),strictSelectors:(0,Qe.tOptional)(Qe.tBoolean),serviceWorkers:(0,Qe.tOptional)((0,Qe.tEnum)(["allow","block"])),selectorEngines:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("SelectorEngine"))),testIdAttributeName:(0,Qe.tOptional)(Qe.tString),pkg:(0,Qe.tOptional)(Qe.tString),args:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString)),proxy:(0,Qe.tOptional)((0,Qe.tObject)({server:Qe.tString,bypass:(0,Qe.tOptional)(Qe.tString),username:(0,Qe.tOptional)(Qe.tString),password:(0,Qe.tOptional)(Qe.tString)}))});Qe.scheme.AndroidDeviceLaunchBrowserResult=(0,Qe.tObject)({context:(0,Qe.tChannel)(["BrowserContext"])});Qe.scheme.AndroidDeviceOpenParams=(0,Qe.tObject)({command:Qe.tString});Qe.scheme.AndroidDeviceOpenResult=(0,Qe.tObject)({socket:(0,Qe.tChannel)(["AndroidSocket"])});Qe.scheme.AndroidDeviceShellParams=(0,Qe.tObject)({command:Qe.tString});Qe.scheme.AndroidDeviceShellResult=(0,Qe.tObject)({result:Qe.tBinary});Qe.scheme.AndroidDeviceInstallApkParams=(0,Qe.tObject)({file:Qe.tBinary,args:(0,Qe.tOptional)((0,Qe.tArray)(Qe.tString))});Qe.scheme.AndroidDeviceInstallApkResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDevicePushParams=(0,Qe.tObject)({file:Qe.tBinary,path:Qe.tString,mode:(0,Qe.tOptional)(Qe.tInt)});Qe.scheme.AndroidDevicePushResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceConnectToWebViewParams=(0,Qe.tObject)({socketName:Qe.tString});Qe.scheme.AndroidDeviceConnectToWebViewResult=(0,Qe.tObject)({context:(0,Qe.tChannel)(["BrowserContext"])});Qe.scheme.AndroidDeviceCloseParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidDeviceCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.AndroidWebView=(0,Qe.tObject)({pid:Qe.tInt,pkg:Qe.tString,socketName:Qe.tString});Qe.scheme.AndroidSelector=(0,Qe.tObject)({checkable:(0,Qe.tOptional)(Qe.tBoolean),checked:(0,Qe.tOptional)(Qe.tBoolean),clazz:(0,Qe.tOptional)(Qe.tString),clickable:(0,Qe.tOptional)(Qe.tBoolean),depth:(0,Qe.tOptional)(Qe.tInt),desc:(0,Qe.tOptional)(Qe.tString),enabled:(0,Qe.tOptional)(Qe.tBoolean),focusable:(0,Qe.tOptional)(Qe.tBoolean),focused:(0,Qe.tOptional)(Qe.tBoolean),hasChild:(0,Qe.tOptional)((0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector")})),hasDescendant:(0,Qe.tOptional)((0,Qe.tObject)({androidSelector:(0,Qe.tType)("AndroidSelector"),maxDepth:(0,Qe.tOptional)(Qe.tInt)})),longClickable:(0,Qe.tOptional)(Qe.tBoolean),pkg:(0,Qe.tOptional)(Qe.tString),res:(0,Qe.tOptional)(Qe.tString),scrollable:(0,Qe.tOptional)(Qe.tBoolean),selected:(0,Qe.tOptional)(Qe.tBoolean),text:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.AndroidElementInfo=(0,Qe.tObject)({children:(0,Qe.tOptional)((0,Qe.tArray)((0,Qe.tType)("AndroidElementInfo"))),clazz:Qe.tString,desc:Qe.tString,res:Qe.tString,pkg:Qe.tString,text:Qe.tString,bounds:(0,Qe.tType)("Rect"),checkable:Qe.tBoolean,checked:Qe.tBoolean,clickable:Qe.tBoolean,enabled:Qe.tBoolean,focusable:Qe.tBoolean,focused:Qe.tBoolean,longClickable:Qe.tBoolean,scrollable:Qe.tBoolean,selected:Qe.tBoolean});Qe.scheme.JsonPipeInitializer=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.JsonPipeMessageEvent=(0,Qe.tObject)({message:Qe.tAny});Qe.scheme.JsonPipeClosedEvent=(0,Qe.tObject)({reason:(0,Qe.tOptional)(Qe.tString)});Qe.scheme.JsonPipeSendParams=(0,Qe.tObject)({message:Qe.tAny});Qe.scheme.JsonPipeSendResult=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.JsonPipeCloseParams=(0,Qe.tOptional)((0,Qe.tObject)({}));Qe.scheme.JsonPipeCloseResult=(0,Qe.tOptional)((0,Qe.tObject)({}));0&&0},7919:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{ValidationError:()=>ValidationError,createMetadataValidator:()=>createMetadataValidator,findValidator:()=>findValidator,maybeFindValidator:()=>maybeFindValidator,scheme:()=>Se,tAny:()=>tAny,tArray:()=>tArray,tBinary:()=>tBinary,tBoolean:()=>tBoolean,tChannel:()=>tChannel,tEnum:()=>tEnum,tFloat:()=>tFloat,tInt:()=>tInt,tObject:()=>tObject,tOptional:()=>tOptional,tString:()=>tString,tType:()=>tType,tUndefined:()=>tUndefined});w.exports=__toCommonJS(ye);class ValidationError extends Error{}const Se={};function findValidator(w,B,G){const K=maybeFindValidator(w,B,G);if(!K)throw new ValidationError(`Unknown scheme for ${G}: ${w}.${B}`);return K}function maybeFindValidator(w,B,G){const K=w+(G==="Initializer"?"":B[0].toUpperCase()+B.substring(1))+G;return Se[K]}function createMetadataValidator(){return tOptional(Se["Metadata"])}const tFloat=(w,B,G)=>{if(w instanceof Number)return w.valueOf();if(typeof w==="number")return w;throw new ValidationError(`${B}: expected float, got ${typeof w}`)};const tInt=(w,B,G)=>{let K;if(w instanceof Number)K=w.valueOf();else if(typeof w==="number")K=w;else throw new ValidationError(`${B}: expected integer, got ${typeof w}`);if(!Number.isInteger(K))throw new ValidationError(`${B}: expected integer, got float ${K}`);return K};const tBoolean=(w,B,G)=>{if(w instanceof Boolean)return w.valueOf();if(typeof w==="boolean")return w;throw new ValidationError(`${B}: expected boolean, got ${typeof w}`)};const tString=(w,B,G)=>{if(w instanceof String)return w.valueOf();if(typeof w==="string")return w;throw new ValidationError(`${B}: expected string, got ${typeof w}`)};const tBinary=(w,B,G)=>{if(G.binary==="fromBase64"){if(w instanceof String)return Buffer.from(w.valueOf(),"base64");if(typeof w==="string")return Buffer.from(w,"base64");throw new ValidationError(`${B}: expected base64-encoded buffer, got ${typeof w}`)}if(G.binary==="toBase64"){if(!(w instanceof Buffer))throw new ValidationError(`${B}: expected Buffer, got ${typeof w}`);return w.toString("base64")}if(G.binary==="buffer"){if(!(w instanceof Buffer))throw new ValidationError(`${B}: expected Buffer, got ${typeof w}`);return w}throw new ValidationError(`Unsupported binary behavior "${G.binary}"`)};const tUndefined=(w,B,G)=>{if(Object.is(w,void 0))return w;throw new ValidationError(`${B}: expected undefined, got ${typeof w}`)};const tAny=(w,B,G)=>w;const tOptional=w=>(B,G,K)=>{if(Object.is(B,void 0))return B;return w(B,G,K)};const tArray=w=>(B,G,K)=>{if(!Array.isArray(B))throw new ValidationError(`${G}: expected array, got ${typeof B}`);return B.map(((B,pe)=>w(B,G+"["+pe+"]",K)))};const tObject=w=>(B,G,K)=>{if(Object.is(B,null))throw new ValidationError(`${G}: expected object, got null`);if(typeof B!=="object")throw new ValidationError(`${G}: expected object, got ${typeof B}`);const pe={};for(const[ye,Se]of Object.entries(w)){const w=Se(B[ye],G?G+"."+ye:ye,K);if(!Object.is(w,void 0))pe[ye]=w}if(K.isUnderTest()){for(const[w,G]of Object.entries(B)){if(w.startsWith("__testHook"))pe[w]=G}}return pe};const tEnum=w=>(B,G,K)=>{if(!w.includes(B))throw new ValidationError(`${G}: expected one of (${w.join("|")})`);return B};const tChannel=w=>(B,G,K)=>K.tChannelImpl(w,B,G,K);const tType=w=>(B,G,K)=>{const pe=Se[w];if(!pe)throw new ValidationError(G+': unknown type "'+w+'"');return pe(B,G,K)};0&&0},438:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{PlaywrightConnection:()=>PlaywrightConnection});w.exports=__toCommonJS(Be);var Qe=G(4160);var Pe=G(423);var Fe=G(9612);var Me=G(3891);var Le=G(4397);var je=G(7651);var qe=G(5809);class PlaywrightConnection{constructor(w,B,G,K,pe,ye){this._cleanups=[];this._disconnected=false;this._ws=B;this._semaphore=w;this._id=ye;this._profileName=(new Date).toISOString();const Se=this._semaphore.acquire();this._dispatcherConnection=new Qe.DispatcherConnection;this._dispatcherConnection.onmessage=async w=>{await Se;if(B.readyState!==B.CLOSING){const G=JSON.stringify(w);if(qe.debugLogger.isEnabled("server:channel"))qe.debugLogger.log("server:channel",`[${this._id}] ${(0,je.monotonicTime)()*1e3} SEND  ${G}`);if(qe.debugLogger.isEnabled("server:metadata"))this.logServerMetadata(w,G,"SEND");B.send(G)}};B.on("message",(async w=>{await Se;const B=Buffer.from(w).toString();const G=JSON.parse(B);if(qe.debugLogger.isEnabled("server:channel"))qe.debugLogger.log("server:channel",`[${this._id}] ${(0,je.monotonicTime)()*1e3}  RECV ${B}`);if(qe.debugLogger.isEnabled("server:metadata"))this.logServerMetadata(G,B,"RECV");this._dispatcherConnection.dispatch(G)}));B.on("close",(()=>this._onDisconnect()));B.on("error",(w=>this._onDisconnect(w)));if(G){qe.debugLogger.log("server",`[${this._id}] engaged reuse controller mode`);this._root=new Me.DebugControllerDispatcher(this._dispatcherConnection,K.debugController);return}this._root=new Qe.RootDispatcher(this._dispatcherConnection,(async(w,B)=>{await(0,Le.startProfiling)();const G=await pe();if(G.preLaunchedBrowser){const w=G.preLaunchedBrowser;w.options.sdkLanguage=B.sdkLanguage;w.on(Fe.Browser.Events.Disconnected,(()=>{this.close({code:1001,reason:"Browser closed"})}))}if(G.preLaunchedAndroidDevice){const w=G.preLaunchedAndroidDevice;w.on(Pe.AndroidDevice.Events.Close,(()=>{this.close({code:1001,reason:"Android device disconnected"})}))}if(G.dispose)this._cleanups.push(G.dispose);const ye=new Qe.PlaywrightDispatcher(w,K,G);this._cleanups.push((()=>ye.cleanup()));return ye}))}async _onDisconnect(w){this._disconnected=true;qe.debugLogger.log("server",`[${this._id}] disconnected. error: ${w}`);await this._root.stopPendingOperations(new Error("Disconnected")).catch((()=>{}));this._root._dispose();qe.debugLogger.log("server",`[${this._id}] starting cleanup`);for(const w of this._cleanups)await w().catch((()=>{}));await(0,Le.stopProfiling)(this._profileName);this._semaphore.release();qe.debugLogger.log("server",`[${this._id}] finished cleanup`)}logServerMetadata(w,B,G){const K={wallTime:Date.now(),id:w.id,guid:w.guid,method:w.method,payloadSizeInBytes:Buffer.byteLength(B,"utf-8")};qe.debugLogger.log("server:metadata",(G==="SEND"?"SEND  ":" RECV ")+JSON.stringify(K))}async close(w){if(this._disconnected)return;qe.debugLogger.log("server",`[${this._id}] force closing connection: ${w?.reason||""} (${w?.code||0})`);try{this._ws.close(w?.code,w?.reason)}catch(w){}}}0&&0},3833:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{PlaywrightServer:()=>PlaywrightServer});w.exports=__toCommonJS(Be);var Qe=G(438);var Pe=G(1409);var Fe=G(9586);var Me=G(3647);var Le=G(285);var je=G(3701);var qe=G(818);var We=G(7651);var Ge=G(863);var ze=G(9612);var Ye=G(6665);class PlaywrightServer{constructor(w){this._dontReuseBrowsers=new Set;this._options=w;if(w.preLaunchedBrowser){this._playwright=w.preLaunchedBrowser.attribution.playwright;this._dontReuse(w.preLaunchedBrowser)}if(w.preLaunchedAndroidDevice)this._playwright=w.preLaunchedAndroidDevice._android.attribution.playwright;this._playwright??=(0,Pe.createPlaywright)({sdkLanguage:"javascript",isServer:true});const B=new Fe.Semaphore(this._options.maxConnections);const G=new Fe.Semaphore(1);const K=new Fe.Semaphore(1);this._wsServer=new Le.WSServer({onRequest:(w,B)=>{if(w.method==="GET"&&w.url==="/json"){B.setHeader("Content-Type","application/json");B.end(JSON.stringify({wsEndpointPath:this._options.path}));return}B.end("Running")},onUpgrade:(w,B)=>{const G=userAgentVersionMatchesErrorMessage(w.headers["user-agent"]||"");if(G)return{error:`HTTP/${w.httpVersion} 428 Precondition Required\r\n\r\n${G}`}},onHeaders:w=>{if(process.env.PWTEST_SERVER_WS_HEADERS)w.push(process.env.PWTEST_SERVER_WS_HEADERS)},onConnection:(w,pe,ye,Se)=>{const Be=w.headers["x-playwright-browser"];const Pe=pe.searchParams.get("browser")||(Array.isArray(Be)?Be[0]:Be)||null;const Fe=w.headers["x-playwright-proxy"];const Le=pe.searchParams.get("proxy")||(Array.isArray(Fe)?Fe[0]:Fe);const je=w.headers["x-playwright-launch-options"]||"";const qe=Array.isArray(je)?je[0]:je;const We=pe.searchParams.get("launch-options");let Ge={timeout:Me.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT};try{Ge=JSON.parse(We||qe);if(!Ge.timeout)Ge.timeout=Me.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT}catch(w){}const ze=this._options.mode==="extension";const Ye=ze;Ge=filterLaunchOptions(Ge,Ye);if(ze){const w=pe.searchParams.get("connect");if(w){if(w!=="first")throw new Error(`Unknown connect filter: ${w}`);return new Qe.PlaywrightConnection(B,ye,false,this._playwright,(()=>this._initConnectMode(Se,w,Pe,Ge)),Se)}if(pe.searchParams.has("debug-controller")){return new Qe.PlaywrightConnection(G,ye,true,this._playwright,(async()=>{throw new Error("shouldnt be used")}),Se)}return new Qe.PlaywrightConnection(K,ye,false,this._playwright,(()=>this._initReuseBrowsersMode(Pe,Ge,Se)),Se)}if(this._options.mode==="launchServer"||this._options.mode==="launchServerShared"){if(this._options.preLaunchedBrowser){return new Qe.PlaywrightConnection(B,ye,false,this._playwright,(()=>this._initPreLaunchedBrowserMode(Se)),Se)}return new Qe.PlaywrightConnection(B,ye,false,this._playwright,(()=>this._initPreLaunchedAndroidMode(Se)),Se)}return new Qe.PlaywrightConnection(B,ye,false,this._playwright,(()=>this._initLaunchBrowserMode(Pe,Le,Ge,Se)),Se)}})}async _initReuseBrowsersMode(w,B,G){We.debugLogger.log("server",`[${G}] engaged reuse browsers mode for ${w}`);const K=launchOptionsHash(B);let pe=this._playwright.allBrowsers().find((B=>{if(B.options.name!==w)return false;if(this._dontReuseBrowsers.has(B))return false;const G=launchOptionsHash({...B.options.originalLaunchOptions,timeout:Me.DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT});return G===K}));for(const G of this._playwright.allBrowsers()){if(G===pe)continue;if(this._dontReuseBrowsers.has(G))continue;if(G.options.name===w&&G.options.channel===B.channel)await G.close({reason:"Connection terminated"})}if(!pe){const G=this._playwright[w||"chromium"];const K=new Ye.ProgressController;pe=await K.run((w=>G.launch(w,{...B,headless:!!process.env.PW_DEBUG_CONTROLLER_HEADLESS})),B.timeout)}return{preLaunchedBrowser:pe,denyLaunch:true,dispose:async()=>{for(const w of pe.contexts()){if(!w.pages().length)await w.close({reason:"Connection terminated"})}}}}async _initConnectMode(w,B,G,K){G??="chromium";We.debugLogger.log("server",`[${w}] engaged connect mode`);let pe=this._playwright.allBrowsers().find((w=>w.options.name===G));if(!pe){const w=this._playwright[G];const B=new Ye.ProgressController;pe=await B.run((B=>w.launch(B,K)),K.timeout);this._dontReuse(pe)}return{preLaunchedBrowser:pe,denyLaunch:true,sharedBrowser:true}}async _initPreLaunchedBrowserMode(w){We.debugLogger.log("server",`[${w}] engaged pre-launched (browser) mode`);const B=this._options.preLaunchedBrowser;for(const w of this._playwright.allBrowsers()){if(w!==B)await w.close({reason:"Connection terminated"})}return{preLaunchedBrowser:B,socksProxy:this._options.preLaunchedSocksProxy,sharedBrowser:this._options.mode==="launchServerShared",denyLaunch:true}}async _initPreLaunchedAndroidMode(w){We.debugLogger.log("server",`[${w}] engaged pre-launched (Android) mode`);const B=this._options.preLaunchedAndroidDevice;return{preLaunchedAndroidDevice:B,denyLaunch:true}}async _initLaunchBrowserMode(w,B,G,K){We.debugLogger.log("server",`[${K}] engaged launch mode for "${w}"`);let pe;if(B){pe=new Ge.SocksProxy;pe.setPattern(B);G.socksProxyPort=await pe.listen(0);We.debugLogger.log("server",`[${K}] started socks proxy on port ${G.socksProxyPort}`)}else{G.socksProxyPort=void 0}const ye=this._playwright[w];const Se=new Ye.ProgressController;const Be=await Se.run((w=>ye.launch(w,G)),G.timeout);this._dontReuseBrowsers.add(Be);return{preLaunchedBrowser:Be,socksProxy:pe,denyLaunch:true,dispose:async()=>{await Be.close({reason:"Connection terminated"});pe?.close()}}}_dontReuse(w){this._dontReuseBrowsers.add(w);w.on(ze.Browser.Events.Disconnected,(()=>{this._dontReuseBrowsers.delete(w)}))}async listen(w=0,B){return this._wsServer.listen(w,B,this._options.path)}async close(){await this._wsServer.close()}}function userAgentVersionMatchesErrorMessage(w){const B=w.match(/^Playwright\/(\d+\.\d+\.\d+)/);if(!B){return}const G=B[1].split(".").slice(0,2).join(".");const K=(0,qe.getPlaywrightVersion)(true);if(G!==K){return(0,je.wrapInASCIIBox)([`Playwright version mismatch:`,`  - server version: v${K}`,`  - client version: v${G}`,``,`If you are using VSCode extension, restart VSCode.`,``,`If you are connecting to a remote service,`,`keep your local Playwright version in sync`,`with the remote service version.`,``,`<3 Playwright Team`].join("\n"),1)}}function launchOptionsHash(w){const B={...w};for(const w of Object.keys(B)){const G=w;if(B[G]===Ke[G])delete B[G]}for(const w of Xe)delete B[w];return JSON.stringify(B)}function filterLaunchOptions(w,B){return{channel:w.channel,args:w.args,ignoreAllDefaultArgs:w.ignoreAllDefaultArgs,ignoreDefaultArgs:w.ignoreDefaultArgs,timeout:w.timeout,headless:w.headless,proxy:w.proxy,chromiumSandbox:w.chromiumSandbox,firefoxUserPrefs:w.firefoxUserPrefs,slowMo:w.slowMo,executablePath:(0,We.isUnderTest)()||B?w.executablePath:void 0,downloadsPath:B?w.downloadsPath:void 0}}const Ke={ignoreAllDefaultArgs:false,handleSIGINT:false,handleSIGTERM:false,handleSIGHUP:false,headless:true,devtools:false};const Xe=["headless","timeout","tracesDir"];0&&0},2764:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{Accessibility:()=>Accessibility});w.exports=__toCommonJS(ye);class Accessibility{constructor(w){this._getAXTree=w}async snapshot(w={}){const{interestingOnly:B=true,root:G=null}=w;const{tree:K,needle:pe}=await this._getAXTree(G||void 0);if(!B){if(G)return pe&&serializeTree(pe)[0];return serializeTree(K)[0]}const ye=new Set;collectInterestingNodes(ye,K,false);if(G&&(!pe||!ye.has(pe)))return null;return serializeTree(pe||K,ye)[0]}}function collectInterestingNodes(w,B,G){if(B.isInteresting(G))w.add(B);if(B.isLeafNode())return;G=G||B.isControl();for(const K of B.children())collectInterestingNodes(w,K,G)}function serializeTree(w,B){const G=[];for(const K of w.children())G.push(...serializeTree(K,B));if(B&&!B.has(w))return G;const K=w.serialize();if(G.length)K.children=G;return[K]}0&&0},423:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Android:()=>Android,AndroidDevice:()=>AndroidDevice});w.exports=__toCommonJS(Pe);var Fe=G(4434);var Me=__toESM(G(9896));var Le=__toESM(G(857));var je=__toESM(G(6928));var qe=G(9059);var We=G(6741);var Ge=G(5749);var ze=G(4529);var Ye=G(509);var Ke=G(5809);var Xe=G(4331);var rt=G(4331);var it=G(6609);var ot=G(7213);var at=G(2986);var lt=G(3449);var ct=G(3062);var ut=G(9814);var ft=G(8719);var gt=G(6665);var mt=G(586);const wt=je.default.join(Le.default.tmpdir(),"playwright-artifacts-");class Android extends ut.SdkObject{constructor(w,B){super(w,"android");this._devices=new Map;this._backend=B}async devices(w,B){const G=(await w.race(this._backend.devices(B))).filter((w=>w.status==="device"));const K=new Set;for(const pe of G){K.add(pe.serial);if(this._devices.has(pe.serial))continue;await w.race(AndroidDevice.create(this,pe,B).then((w=>this._devices.set(pe.serial,w))))}for(const w of this._devices.keys()){if(!K.has(w))this._devices.delete(w)}return[...this._devices.values()]}_deviceClosed(w){this._devices.delete(w.serial)}}class AndroidDevice extends ut.SdkObject{constructor(w,B,G,K){super(w,"android-device");this._lastId=0;this._callbacks=new Map;this._webViews=new Map;this._browserConnections=new Set;this._isClosed=false;this._android=w;this._backend=B;this.model=G;this.serial=B.serial;this._options=K;this.logName="browser"}static{this.Events={WebViewAdded:"webViewAdded",WebViewRemoved:"webViewRemoved",Close:"close"}}static async create(w,B,G){await B.init();const K=await B.runCommand("shell:getprop ro.product.model");const pe=new AndroidDevice(w,B,K.toString().trim(),G);await pe._init();return pe}async _init(){await this._refreshWebViews();const poll=()=>{this._pollingWebViews=setTimeout((()=>this._refreshWebViews().then(poll).catch((()=>{this.close().catch((()=>{}))}))),500)};poll()}async shell(w){const B=await this._backend.runCommand(`shell:${w}`);await this._refreshWebViews();return B}async open(w,B){return await this._open(w,B)}async screenshot(){return await this._backend.runCommand(`shell:screencap -p`)}async _driver(){if(this._isClosed)return;if(!this._driverPromise){const w=new gt.ProgressController;this._driverPromise=w.run((w=>this._installDriver(w)))}return this._driverPromise}async _installDriver(w){(0,Xe.debug)("pw:android")("Stopping the old driver");await w.race(this.shell(`am force-stop com.microsoft.playwright.androiddriver`));if(!this._options.omitDriverInstall){(0,Xe.debug)("pw:android")("Uninstalling the old driver");await w.race(this.shell(`cmd package uninstall com.microsoft.playwright.androiddriver`));await w.race(this.shell(`cmd package uninstall com.microsoft.playwright.androiddriver.test`));(0,Xe.debug)("pw:android")("Installing the new driver");const B=mt.registry.findExecutable("android");const G=(0,ze.getPackageManagerExecCommand)();for(const K of["android-driver.apk","android-driver-target.apk"]){const pe=je.default.join(B.directory,K);if(!Me.default.existsSync(pe))throw new Error(`Please install Android driver apk using '${G} playwright install android'`);await this.installApk(w,await w.race(Me.default.promises.readFile(pe)))}}else{(0,Xe.debug)("pw:android")("Skipping the driver installation")}(0,Xe.debug)("pw:android")("Starting the new driver");this.shell("am instrument -w com.microsoft.playwright.androiddriver.test/androidx.test.runner.AndroidJUnitRunner").catch((w=>(0,Xe.debug)("pw:android")(w)));const B=await this._waitForLocalAbstract(w,"playwright_android_driver_socket");const G=new qe.PipeTransport(B,B,B,"be");G.onmessage=w=>{const B=JSON.parse(w);const{id:G,result:K,error:pe}=B;const ye=this._callbacks.get(G);if(!ye)return;if(pe)ye.reject(new Error(pe));else ye.fulfill(K);this._callbacks.delete(G)};return G}async _waitForLocalAbstract(w,B){let G;(0,Xe.debug)("pw:android")(`Polling the socket localabstract:${B}`);while(!G){try{G=await this._open(w,`localabstract:${B}`)}catch(B){if((0,gt.isAbortError)(B))throw B;await w.wait(250)}}(0,Xe.debug)("pw:android")(`Connected to localabstract:${B}`);return G}async send(w,B={}){B={...B,timeout:B.timeout||0};if(B.androidSelector){B.selector=B.androidSelector;delete B.androidSelector}const G=await this._driver();if(!G)throw new Error("Device is closed");const K=++this._lastId;const pe=new Promise(((w,B)=>this._callbacks.set(K,{fulfill:w,reject:B})));G.send(JSON.stringify({id:K,method:w,params:B}));return pe}async close(){if(this._isClosed)return;this._isClosed=true;if(this._pollingWebViews)clearTimeout(this._pollingWebViews);for(const w of this._browserConnections)await w.close();if(this._driverPromise){const w=await this._driver();w?.close()}await this._backend.close();this._android._deviceClosed(this);this.emit(AndroidDevice.Events.Close)}async launchBrowser(w,B="com.android.chrome",G){(0,Xe.debug)("pw:android")("Force-stopping",B);await this._backend.runCommand(`shell:am force-stop ${B}`);const K=(0,Ge.isUnderTest)()?"webview_devtools_remote_playwright_test":"playwright_"+(0,We.createGuid)()+"_devtools_remote";const pe=this._defaultArgs(G,K).join(" ");(0,Xe.debug)("pw:android")("Starting",B,pe);await w.race(this._backend.runCommand(`shell:echo "${Buffer.from(pe).toString("base64")}" | base64 -d > /data/local/tmp/chrome-command-line`));await w.race(this._backend.runCommand(`shell:am start -a android.intent.action.VIEW -d about:blank ${B}`));const ye=await this._connectToBrowser(w,K,G);try{await w.race(this._backend.runCommand(`shell:rm /data/local/tmp/chrome-command-line`));return ye}catch(w){await ye.close({reason:"Failed to launch"}).catch((()=>{}));throw w}}_defaultArgs(w,B){const G=["_","--disable-fre","--no-default-browser-check",`--remote-debugging-socket-name=${B}`,...(0,ot.chromiumSwitches)(),...this._innerDefaultArgs(w)];return G}_innerDefaultArgs(w){const{args:B=[],proxy:G}=w;const K=[];if(G){K.push(`--proxy-server=${G.server}`);const w=[];if(G.bypass)w.push(...G.bypass.split(",").map((w=>w.trim())).map((w=>w.startsWith(".")?"*"+w:w)));if(!process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK&&!w.includes("<-loopback>"))w.push("<-loopback>");if(w.length>0)K.push(`--proxy-bypass-list=${w.join(";")}`)}K.push(...B);return K}async connectToWebView(w,B){const G=this._webViews.get(B);if(!G)throw new Error("WebView has been closed");return await this._connectToBrowser(w,B)}async _connectToBrowser(w,B,G={}){const K=await this._waitForLocalAbstract(w,B);try{const B=new AndroidBrowser(this,K);await w.race(B._init());this._browserConnections.add(B);const pe=await w.race(Me.default.promises.mkdtemp(wt));const cleanupArtifactsDir=async()=>{const w=(await(0,lt.removeFolders)([pe])).filter(Boolean);for(let B=0;B<(w||[]).length;++B)(0,Xe.debug)("pw:android")(`exception while removing ${pe}: ${w[B]}`)};ft.gracefullyCloseSet.add(cleanupArtifactsDir);K.on("close",(async()=>{ft.gracefullyCloseSet.delete(cleanupArtifactsDir);cleanupArtifactsDir().catch((w=>(0,Xe.debug)("pw:android")(`could not cleanup artifacts dir: ${w}`)))}));const ye={name:"clank",isChromium:true,slowMo:0,persistent:{...G,noDefaultViewport:true},artifactsDir:pe,downloadsPath:pe,tracesDir:pe,browserProcess:new ClankBrowserProcess(B),proxy:G.proxy,protocolLogger:ct.helper.debugProtocolLogger(),browserLogsCollector:new Ke.RecentLogsCollector,originalLaunchOptions:{}};(0,it.validateBrowserContextOptions)(G,ye);const Se=await w.race(at.CRBrowser.connect(this.attribution.playwright,B,ye));const Be=Se._defaultContext;await Be._loadDefaultContextAsIs(w);return Be}catch(w){K.close();throw w}}_open(w,B){return(0,gt.raceUncancellableOperationWithCleanup)(w,(()=>this._backend.open(B)),(w=>w.close()))}webViews(){return[...this._webViews.values()]}async installApk(w,B,G){const K=G&&G.args?G.args:["-r","-t","-S"];(0,Xe.debug)("pw:android")("Opening install socket");const pe=await this._open(w,`shell:cmd package install ${K.join(" ")} ${B.length}`);(0,Xe.debug)("pw:android")("Writing driver bytes: "+B.length);await w.race(pe.write(B));const ye=await w.race(new Promise((w=>pe.on("data",w))));(0,Xe.debug)("pw:android")("Written driver bytes: "+ye);pe.close()}async push(w,B,G,K=420){const pe=await this._open(w,`sync:`);const sendHeader=async(B,G)=>{const K=Buffer.alloc(B.length+4);K.write(B,0);K.writeUInt32LE(G,B.length);await w.race(pe.write(K))};const send=async(B,G)=>{await sendHeader(B,G.length);await w.race(pe.write(G))};await send("SEND",Buffer.from(`${G},${K}`));const ye=65535;for(let w=0;w<B.length;w+=ye)await send("DATA",B.slice(w,w+ye));await sendHeader("DONE",Date.now()/1e3|0);const Se=await w.race(new Promise((w=>pe.once("data",w))));const Be=Se.slice(0,4).toString();if(Be!=="OKAY")throw new Error("Could not push: "+Be);pe.close()}async _refreshWebViews(){const w=(await this._backend.runCommand(`shell:cat /proc/net/unix | grep webview_devtools_remote`)).toString().split("\n");if(this._isClosed)return;const B=new Set;for(const G of w){const w=G.match(/[^@]+@(.*?webview_devtools_remote_?.*)/);if(!w)continue;const K=w[1];B.add(K);if(this._webViews.has(K))continue;const pe=G.match(/[^@]+@.*?webview_devtools_remote_?(\d*)/);let ye=-1;if(pe&&pe[1])ye=+pe[1];const Se=await this._extractPkg(ye);if(this._isClosed)return;const Be={pid:ye,pkg:Se,socketName:K};this._webViews.set(K,Be);this.emit(AndroidDevice.Events.WebViewAdded,Be)}for(const w of this._webViews.keys()){if(!B.has(w)){this._webViews.delete(w);this.emit(AndroidDevice.Events.WebViewRemoved,w)}}}async _extractPkg(w){let B="";if(w===-1)return B;const G=(await this._backend.runCommand(`shell:ps -A | grep ${w}`)).toString().split("\n");for(const w of G){const G=w.match(/[^\s]+\s+(\d+).*$/);if(!G)continue;B=w.substring(w.lastIndexOf(" ")+1)}return B}}class AndroidBrowser extends Fe.EventEmitter{constructor(w,B){super();this._waitForNextTask=(0,Ye.makeWaitForNextTask)();this.setMaxListeners(0);this.device=w;this._socket=B;this._socket.on("close",(()=>{this._waitForNextTask((()=>{if(this.onclose)this.onclose()}))}));this._receiver=new rt.wsReceiver;this._receiver.on("message",(w=>{this._waitForNextTask((()=>{if(this.onmessage)this.onmessage(JSON.parse(w))}))}))}async _init(){await this._socket.write(Buffer.from(`GET /devtools/browser HTTP/1.1\r\nUpgrade: WebSocket\r\nConnection: Upgrade\r\nSec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==\r\nSec-WebSocket-Version: 13\r\n\r\n`));await new Promise((w=>this._socket.once("data",w)));this._socket.on("data",(w=>this._receiver._write(w,"binary",(()=>{}))))}async send(w){await this._socket.write(encodeWebFrame(JSON.stringify(w)))}async close(){this._socket.close()}}function encodeWebFrame(w){return rt.wsSender.frame(Buffer.from(w),{opcode:1,mask:true,fin:true,readOnly:true})[0]}class ClankBrowserProcess{constructor(w){this._browser=w}async kill(){}async close(){await this._browser.close()}}0&&0},475:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{AdbBackend:()=>AdbBackend});w.exports=__toCommonJS(Pe);var Fe=G(4434);var Me=__toESM(G(9278));var Le=G(8164);var je=G(4331);class AdbBackend{async devices(w={}){const B=await runCommand("host:devices",w.host,w.port);const G=B.toString().trim().split("\n");return G.map((B=>{const[G,K]=B.trim().split("\t");return new AdbDevice(G,K,w.host,w.port)}))}}class AdbDevice{constructor(w,B,G,K){this._closed=false;this.serial=w;this.status=B;this.host=G;this.port=K}async init(){}async close(){this._closed=true}runCommand(w){if(this._closed)throw new Error("Device is closed");return runCommand(w,this.host,this.port,this.serial)}async open(w){if(this._closed)throw new Error("Device is closed");const B=await open(w,this.host,this.port,this.serial);B.becomeSocket();return B}}async function runCommand(w,B="127.0.0.1",G=5037,K){(0,je.debug)("pw:adb:runCommand")(w,K);const pe=new BufferedSocketWrapper(w,Me.default.createConnection({host:B,port:G}));try{if(K){await pe.write(encodeMessage(`host:transport:${K}`));const w=await pe.read(4);(0,Le.assert)(w.toString()==="OKAY",w.toString())}await pe.write(encodeMessage(w));const B=await pe.read(4);(0,Le.assert)(B.toString()==="OKAY",B.toString());let G;if(!w.startsWith("shell:")){const w=parseInt((await pe.read(4)).toString(),16);G=await pe.read(w)}else{G=await pe.readAll()}return G}finally{pe.close()}}async function open(w,B="127.0.0.1",G=5037,K){const pe=new BufferedSocketWrapper(w,Me.default.createConnection({host:B,port:G}));if(K){await pe.write(encodeMessage(`host:transport:${K}`));const w=await pe.read(4);(0,Le.assert)(w.toString()==="OKAY",w.toString())}await pe.write(encodeMessage(w));const ye=await pe.read(4);(0,Le.assert)(ye.toString()==="OKAY",ye.toString());return pe}function encodeMessage(w){let B=w.length.toString(16);B="0".repeat(4-B.length)+B;return Buffer.from(B+w)}class BufferedSocketWrapper extends Fe.EventEmitter{constructor(w,B){super();this._buffer=Buffer.from([]);this._isSocket=false;this._isClosed=false;this._command=w;this._socket=B;this._connectPromise=new Promise((w=>this._socket.on("connect",w)));this._socket.on("data",(w=>{(0,je.debug)("pw:adb:data")(w.toString());if(this._isSocket){this.emit("data",w);return}this._buffer=Buffer.concat([this._buffer,w]);if(this._notifyReader)this._notifyReader()}));this._socket.on("close",(()=>{this._isClosed=true;if(this._notifyReader)this._notifyReader();this.close();this.emit("close")}));this._socket.on("error",(w=>this.emit("error",w)))}async write(w){(0,je.debug)("pw:adb:send")(w.toString().substring(0,100)+"...");await this._connectPromise;await new Promise((B=>this._socket.write(w,B)))}close(){if(this._isClosed)return;(0,je.debug)("pw:adb")("Close "+this._command);this._socket.destroy()}async read(w){await this._connectPromise;(0,Le.assert)(!this._isSocket,"Can not read by length in socket mode");while(this._buffer.length<w)await new Promise((w=>this._notifyReader=w));const B=this._buffer.slice(0,w);this._buffer=this._buffer.slice(w);(0,je.debug)("pw:adb:recv")(B.toString().substring(0,100)+"...");return B}async readAll(){while(!this._isClosed)await new Promise((w=>this._notifyReader=w));return this._buffer}becomeSocket(){(0,Le.assert)(!this._buffer.length);this._isSocket=true}}0&&0},4960:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Artifact:()=>Artifact});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=G(7651);var Le=G(1009);var je=G(9814);var qe=G(3587);class Artifact extends je.SdkObject{constructor(w,B,G,K){super(w,"artifact");this._finishedPromise=new qe.ManualPromise;this._saveCallbacks=[];this._finished=false;this._deleted=false;this._localPath=B;this._unaccessibleErrorMessage=G;this._cancelCallback=K}finishedPromise(){return this._finishedPromise}localPath(){return this._localPath}async localPathAfterFinished(){if(this._unaccessibleErrorMessage)throw new Error(this._unaccessibleErrorMessage);await this._finishedPromise;if(this._failureError)throw this._failureError;return this._localPath}saveAs(w){if(this._unaccessibleErrorMessage)throw new Error(this._unaccessibleErrorMessage);if(this._deleted)throw new Error(`File already deleted. Save before deleting.`);if(this._failureError)throw this._failureError;if(this._finished){w(this._localPath).catch((()=>{}));return}this._saveCallbacks.push(w)}async failureError(){if(this._unaccessibleErrorMessage)return this._unaccessibleErrorMessage;await this._finishedPromise;return this._failureError?.message||null}async cancel(){(0,Me.assert)(this._cancelCallback!==void 0);return this._cancelCallback()}async delete(){if(this._unaccessibleErrorMessage)return;const w=await this.localPathAfterFinished();if(this._deleted)return;this._deleted=true;if(w)await Fe.default.promises.unlink(w).catch((w=>{}))}async deleteOnContextClose(){if(this._deleted)return;this._deleted=true;if(!this._unaccessibleErrorMessage)await Fe.default.promises.unlink(this._localPath).catch((w=>{}));await this.reportFinished(new Le.TargetClosedError)}async reportFinished(w){if(this._finished)return;this._finished=true;this._failureError=w;if(w){for(const B of this._saveCallbacks)await B("",w)}else{for(const w of this._saveCallbacks)await w(this._localPath)}this._saveCallbacks=[];this._finishedPromise.resolve()}}0&&0},8841:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BidiBrowser:()=>BidiBrowser,BidiBrowserContext:()=>BidiBrowserContext,Network:()=>Ke,getScreenOrientation:()=>getScreenOrientation});w.exports=__toCommonJS(Pe);var Fe=G(6037);var Me=G(9612);var Le=G(6609);var je=__toESM(G(6182));var qe=G(9793);var We=G(556);var Ge=G(4093);var ze=G(1921);var Ye=__toESM(G(4274));class BidiBrowser extends Me.Browser{constructor(w,B,G){super(w,G);this._contexts=new Map;this._bidiPages=new Map;this._connection=new qe.BidiConnection(B,this._onDisconnect.bind(this),G.protocolLogger,G.browserLogsCollector);this._browserSession=this._connection.browserSession;this._eventListeners=[Fe.eventsHelper.addEventListener(this._browserSession,"browsingContext.contextCreated",this._onBrowsingContextCreated.bind(this)),Fe.eventsHelper.addEventListener(this._browserSession,"script.realmDestroyed",this._onScriptRealmDestroyed.bind(this))]}static async connect(w,B,G){const K=new BidiBrowser(w,B,G);if(G.__testHookOnConnectToBrowser)await G.__testHookOnConnectToBrowser();K._bidiSessionInfo=await K._browserSession.send("session.new",{capabilities:{alwaysMatch:{acceptInsecureCerts:G.persistent?.internalIgnoreHTTPSErrors||G.persistent?.ignoreHTTPSErrors,proxy:getProxyConfiguration(G.originalLaunchOptions.proxyOverride??G.proxy),unhandledPromptBehavior:{default:Ye.Session.UserPromptHandlerType.Ignore},webSocketUrl:true}}});await K._browserSession.send("session.subscribe",{events:["browsingContext","network","log","script"]});await K._browserSession.send("network.addDataCollector",{dataTypes:[Ye.Network.DataType.Response],maxEncodedDataSize:2e7});if(G.persistent){const w=new BidiBrowserContext(K,void 0,G.persistent);K._defaultContext=w;await w._initialize();const B=await K._defaultContext.doCreateNewPage();await B.waitForInitializedOrError()}return K}_onDisconnect(){this._didClose()}async doCreateNewContext(w){const B=w.proxyOverride||w.proxy;const{userContext:G}=await this._browserSession.send("browser.createUserContext",{acceptInsecureCerts:w.internalIgnoreHTTPSErrors||w.ignoreHTTPSErrors,proxy:getProxyConfiguration(B)});const K=new BidiBrowserContext(this,G,w);await K._initialize();this._contexts.set(G,K);return K}contexts(){return Array.from(this._contexts.values())}version(){return this._bidiSessionInfo.capabilities.browserVersion}userAgent(){return this._bidiSessionInfo.capabilities.userAgent}isConnected(){return!this._connection.isClosed()}_onBrowsingContextCreated(w){if(w.parent){const B=w.parent;for(const G of this._bidiPages.values()){const K=G._page.frameManager.frame(B);if(!K)continue;G._session.addFrameBrowsingContext(w.context);G._page.frameManager.frameAttached(w.context,B);const pe=G._page.frameManager.frame(w.context);if(pe)pe._url=w.url;return}return}let B=this._contexts.get(w.userContext);if(!B)B=this._defaultContext;if(!B)return;const G=this._connection.createMainFrameBrowsingContextSession(w.context);const K=w.originalOpener&&this._bidiPages.get(w.originalOpener);const pe=new Ge.BidiPage(B,G,K||null);pe._page.mainFrame()._url=w.url;this._bidiPages.set(w.context,pe)}_onBrowsingContextDestroyed(w){if(w.parent){this._browserSession.removeFrameBrowsingContext(w.context);const B=w.parent;for(const G of this._bidiPages.values()){const K=G._page.frameManager.frame(B);if(!K)continue;G._page.frameManager.frameDetached(w.context);return}return}const B=this._bidiPages.get(w.context);if(!B)return;B.didClose();this._bidiPages.delete(w.context)}_onScriptRealmDestroyed(w){for(const B of this._bidiPages.values()){if(B._onRealmDestroyed(w))return}}}class BidiBrowserContext extends Le.BrowserContext{constructor(w,B,G){super(w,G,B);this._originToPermissions=new Map;this._initScriptIds=new Map;this._authenticateProxyViaHeader()}_bidiPages(){return[...this._browser._bidiPages.values()].filter((w=>w._browserContext===this))}async _initialize(){const w=[super._initialize()];w.push(this.doUpdateDefaultViewport());if(this._options.geolocation)w.push(this.setGeolocation(this._options.geolocation));if(this._options.locale){w.push(this._browser._browserSession.send("emulation.setLocaleOverride",{locale:this._options.locale,userContexts:[this._userContextId()]}))}if(this._options.timezoneId){w.push(this._browser._browserSession.send("emulation.setTimezoneOverride",{timezone:this._options.timezoneId,userContexts:[this._userContextId()]}))}if(this._options.userAgent){w.push(this._browser._browserSession.send("emulation.setUserAgentOverride",{userAgent:this._options.userAgent,userContexts:[this._userContextId()]}))}await Promise.all(w)}possiblyUninitializedPages(){return this._bidiPages().map((w=>w._page))}async doCreateNewPage(){const{context:w}=await this._browser._browserSession.send("browsingContext.create",{type:Ye.BrowsingContext.CreateType.Window,userContext:this._browserContextId});return this._browser._bidiPages.get(w)._page}async doGetCookies(w){const{cookies:B}=await this._browser._browserSession.send("storage.getCookies",{partition:{type:"storageKey",userContext:this._browserContextId}});return je.filterCookies(B.map((w=>{const B={name:w.name,value:(0,We.bidiBytesValueToString)(w.value),domain:w.domain,path:w.path,httpOnly:w.httpOnly,secure:w.secure,expires:w.expiry??-1,sameSite:w.sameSite?fromBidiSameSite(w.sameSite):"None"};return B})),w)}async addCookies(w){w=je.rewriteCookies(w);const B=w.map((w=>{const B={name:w.name,value:{type:"string",value:w.value},domain:w.domain,path:w.path,httpOnly:w.httpOnly,secure:w.secure,sameSite:w.sameSite&&toBidiSameSite(w.sameSite),expiry:w.expires===-1||w.expires===void 0?void 0:Math.round(w.expires)};return this._browser._browserSession.send("storage.setCookie",{cookie:B,partition:{type:"storageKey",userContext:this._browserContextId}})}));await Promise.all(B)}async doClearCookies(){await this._browser._browserSession.send("storage.deleteCookies",{partition:{type:"storageKey",userContext:this._browserContextId}})}async doGrantPermissions(w,B){const G=this._originToPermissions.get(w)||[];const K=B.filter((w=>!G.includes(w)));this._originToPermissions.set(w,[...G,...K]);await Promise.all(K.map((B=>this._setPermission(w,B,Ye.Permissions.PermissionState.Granted))))}async doClearPermissions(){const w=[...this._originToPermissions.entries()];this._originToPermissions=new Map;await Promise.all(w.map((([w,B])=>B.map((B=>this._setPermission(w,B,Ye.Permissions.PermissionState.Prompt))))))}async _setPermission(w,B,G){await this._browser._browserSession.send("permissions.setPermission",{descriptor:{name:B},state:G,origin:w,userContext:this._userContextId()})}async setGeolocation(w){(0,Le.verifyGeolocation)(w);this._options.geolocation=w;await this._browser._browserSession.send("emulation.setGeolocationOverride",{coordinates:w?{latitude:w.latitude,longitude:w.longitude,accuracy:w.accuracy}:null,userContexts:[this._userContextId()]})}async doUpdateExtraHTTPHeaders(){}async setUserAgent(w){this._options.userAgent=w;await this._browser._browserSession.send("emulation.setUserAgentOverride",{userAgent:w??null,userContexts:[this._userContextId()]})}async doUpdateOffline(){}async doSetHTTPCredentials(w){this._options.httpCredentials=w;for(const w of this.pages())await w.delegate.updateHttpCredentials()}async doAddInitScript(w){const{script:B}=await this._browser._browserSession.send("script.addPreloadScript",{functionDeclaration:`() => { return ${w.source} }`,userContexts:[this._userContextId()]});this._initScriptIds.set(w,B)}async doRemoveInitScripts(w){const B=[];for(const G of w){const w=this._initScriptIds.get(G);if(w)B.push(w);this._initScriptIds.delete(G)}await Promise.all(B.map((w=>this._browser._browserSession.send("script.removePreloadScript",{script:w}))))}async doUpdateRequestInterception(){}async doUpdateDefaultViewport(){if(!this._options.viewport)return;await Promise.all([this._browser._browserSession.send("browsingContext.setViewport",{viewport:{width:this._options.viewport.width,height:this._options.viewport.height},devicePixelRatio:this._options.deviceScaleFactor||1,userContexts:[this._userContextId()]}),this._browser._browserSession.send("emulation.setScreenOrientationOverride",{screenOrientation:getScreenOrientation(!!this._options.isMobile,this._options.viewport),userContexts:[this._userContextId()]})])}async doUpdateDefaultEmulatedMedia(){}async doExposePlaywrightBinding(){const w=[{type:"channel",value:{channel:Ge.kPlaywrightBindingChannel,ownership:Ye.Script.ResultOwnership.Root}}];const B=`function addMainBinding(callback) { globalThis['${ze.PageBinding.kBindingName}'] = callback; }`;const G=[];G.push(this._browser._browserSession.send("script.addPreloadScript",{functionDeclaration:B,arguments:w,userContexts:[this._userContextId()]}));G.push(...this._bidiPages().map((G=>{const K=[...G._realmToContext].filter((([w,B])=>B.world==="main")).map((([w,B])=>w));return Promise.all(K.map((K=>G._session.send("script.callFunction",{functionDeclaration:B,arguments:w,target:{realm:K},awaitPromise:false,userActivation:false}))))})));await Promise.all(G)}onClosePersistent(){}async clearCache(){}async doClose(w){if(!this._browserContextId){await this._browser.close({reason:w});return}await this._browser._browserSession.send("browser.removeUserContext",{userContext:this._browserContextId});this._browser._contexts.delete(this._browserContextId)}async cancelDownload(w){}_userContextId(){if(this._browserContextId)return this._browserContextId;return"default"}}function fromBidiSameSite(w){switch(w){case"strict":return"Strict";case"lax":return"Lax";case"none":return"None";case"default":return"Lax"}return"None"}function toBidiSameSite(w){switch(w){case"Strict":return Ye.Network.SameSite.Strict;case"Lax":return Ye.Network.SameSite.Lax;case"None":return Ye.Network.SameSite.None}return Ye.Network.SameSite.None}function getProxyConfiguration(w){if(!w)return void 0;const B={proxyType:"manual"};const G=new URL(w.server);switch(G.protocol){case"http:":B.httpProxy=G.host;break;case"https:":B.sslProxy=G.host;break;case"socks4:":B.socksProxy=G.host;B.socksVersion=4;break;case"socks5:":B.socksProxy=G.host;B.socksVersion=5;break;default:throw new Error("Invalid proxy server protocol: "+w.server)}const K=w.bypass??process.env.PLAYWRIGHT_PROXY_BYPASS_FOR_TESTING;if(K)B.noProxy=K.split(",");return B}function getScreenOrientation(w,B){const G={type:"landscape-primary",natural:Ye.Emulation.ScreenOrientationNatural.Landscape};if(w){G.natural=Ye.Emulation.ScreenOrientationNatural.Portrait;if(B.width<=B.height)G.type="portrait-primary"}return G}var Ke;(w=>{let B;(w=>{w["Strict"]="strict";w["Lax"]="lax";w["None"]="none"})(B=w.SameSite||(w.SameSite={}))})(Ke||(Ke={}));0&&0},4317:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BidiChromium:()=>BidiChromium});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(857));var Me=G(3701);var Le=G(7684);var je=G(8841);var qe=G(9793);var We=G(7213);var Ge=G(9101);class BidiChromium extends Le.BrowserType{constructor(w){super(w,"_bidiChromium")}async connectToTransport(w,B,K){const pe=await G(5062).connectBidiOverCdp(w);w[ze]=pe;try{return je.BidiBrowser.connect(this.attribution.playwright,pe,B)}catch(w){if(K.recentLogs().some((w=>w.includes("Failed to create a ProcessSingleton for your profile directory.")))){throw new Error("Failed to create a ProcessSingleton for your profile directory. This usually means that the profile is already in use by another instance of Chromium.")}throw w}}doRewriteStartupLog(w){if(!w.logs)return w;if(w.logs.includes("Missing X server"))w.logs="\n"+(0,Me.wrapInASCIIBox)(Le.kNoXServerRunningError,1);if(!w.logs.includes("crbug.com/357670")&&!w.logs.includes("No usable sandbox!")&&!w.logs.includes("crbug.com/638180"))return w;w.logs=[`Chromium sandboxing failed!`,`================================`,`To avoid the sandboxing issue, do either of the following:`,`  - (preferred): Configure your environment to support sandboxing`,`  - (alternative): Launch Chromium without sandbox using 'chromiumSandbox: false' option`,`================================`,``].join("\n");return w}amendEnvironment(w){return w}attemptToGracefullyCloseBrowser(w){const B=w[ze];if(B)w=B;w.send({method:"browser.close",params:{},id:qe.kBrowserCloseMessageId})}supportsPipeTransport(){return false}async defaultArgs(w,B,G){const K=this._innerDefaultArgs(w);K.push(`--user-data-dir=${G}`);K.push("--remote-debugging-port=0");if(B)K.push("about:blank");else K.push("--no-startup-window");return K}async waitForReadyState(w,B){return(0,Ge.waitForReadyState)({...w,cdpPort:0},B)}_innerDefaultArgs(w){const{args:B=[]}=w;const G=B.find((w=>w.startsWith("--user-data-dir")));if(G)throw this._createUserDataDirArgMisuseError("--user-data-dir");if(B.find((w=>w.startsWith("--remote-debugging-pipe"))))throw new Error("Playwright manages remote debugging connection itself.");if(B.find((w=>!w.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const K=[...(0,We.chromiumSwitches)(w.assistantMode)];if(Fe.default.platform()==="darwin"){K.push("--enable-unsafe-swiftshader")}if(w.devtools)K.push("--auto-open-devtools-for-tabs");if(w.headless){K.push("--headless");K.push("--hide-scrollbars","--mute-audio","--blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4")}if(w.chromiumSandbox!==true)K.push("--no-sandbox");const pe=w.proxyOverride||w.proxy;if(pe){const B=new URL(pe.server);const G=B.protocol==="socks5:";if(G&&!w.socksProxyPort){K.push(`--host-resolver-rules="MAP * ~NOTFOUND , EXCLUDE ${B.hostname}"`)}K.push(`--proxy-server=${pe.server}`);const ye=[];if(w.socksProxyPort)ye.push("<-loopback>");if(pe.bypass)ye.push(...pe.bypass.split(",").map((w=>w.trim())).map((w=>w.startsWith(".")?"*"+w:w)));if(!process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK&&!ye.includes("<-loopback>"))ye.push("<-loopback>");if(ye.length>0)K.push(`--proxy-bypass-list=${ye.join(";")}`)}K.push(...B);return K}}const ze=Symbol("kBidiConnectionWrapper");0&&0},9793:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{BidiConnection:()=>BidiConnection,BidiSession:()=>BidiSession,kBrowserCloseMessageId:()=>Le,kShutdownSessionNewMessageId:()=>je});w.exports=__toCommonJS(Be);var Qe=G(4434);var Pe=G(5809);var Fe=G(3062);var Me=G(4506);const Le=Number.MAX_SAFE_INTEGER-1;const je=Le-1;class BidiConnection{constructor(w,B,G,K){this._lastId=0;this._closed=false;this._browsingContextToSession=new Map;this._realmToBrowsingContext=new Map;this._realmToOwnerRealm=new Map;this._transport=w;this._onDisconnect=B;this._protocolLogger=G;this._browserLogsCollector=K;this.browserSession=new BidiSession(this,"",(w=>{this.rawSend(w)}));this._transport.onmessage=this._dispatchMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}rawSend(w){this._protocolLogger("send",w);this._transport.send(w)}_dispatchMessage(w){this._protocolLogger("receive",w);const B=w;if(B.type==="event"){if(B.method==="script.realmCreated"){if("context"in B.params)this._realmToBrowsingContext.set(B.params.realm,B.params.context);if(B.params.type==="dedicated-worker")this._realmToOwnerRealm.set(B.params.realm,B.params.owners[0])}else if(B.method==="script.realmDestroyed"){this._realmToBrowsingContext.delete(B.params.realm);this._realmToOwnerRealm.delete(B.params.realm)}let G;let K;if("context"in B.params){G=B.params.context}else if(B.method==="log.entryAdded"||B.method==="script.message"){G=B.params.source?.context;K=B.params.source?.realm}else if(B.method==="script.realmCreated"&&B.params.type==="dedicated-worker"){K=B.params.owners[0]}if(!G&&K){while(this._realmToOwnerRealm.get(K))K=this._realmToOwnerRealm.get(K);G=this._realmToBrowsingContext.get(K)}if(G){const B=this._browsingContextToSession.get(G);if(B){B.dispatchMessage(w);return}}}else if(w.id){for(const B of this._browsingContextToSession.values()){if(B.hasCallback(w.id)){B.dispatchMessage(w);return}}}this.browserSession.dispatchMessage(w)}_onClose(w){this._closed=true;this._transport.onmessage=void 0;this._transport.onclose=void 0;this._browserDisconnectedLogs=Fe.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),w);this.browserSession.dispose();this._onDisconnect()}isClosed(){return this._closed}close(){if(!this._closed)this._transport.close()}createMainFrameBrowsingContextSession(w){const B=new BidiSession(this,w,(w=>this.rawSend(w)));this._browsingContextToSession.set(w,B);return B}}class BidiSession extends Qe.EventEmitter{constructor(w,B,G){super();this._disposed=false;this._callbacks=new Map;this._crashed=false;this._browsingContexts=new Set;this.setMaxListeners(0);this.connection=w;this.sessionId=B;this._rawSend=G;this.on=super.on;this.off=super.removeListener;this.addListener=super.addListener;this.removeListener=super.removeListener;this.once=super.once}addFrameBrowsingContext(w){this._browsingContexts.add(w);this.connection._browsingContextToSession.set(w,this)}removeFrameBrowsingContext(w){this._browsingContexts.delete(w);this.connection._browsingContextToSession.delete(w)}async send(w,B){if(this._crashed||this._disposed||this.connection._browserDisconnectedLogs)throw new Me.ProtocolError(this._crashed?"crashed":"closed",void 0,this.connection._browserDisconnectedLogs);const G=this.connection.nextMessageId();const K={id:G,method:w,params:B};this._rawSend(K);return new Promise(((B,K)=>{this._callbacks.set(G,{resolve:B,reject:K,error:new Me.ProtocolError("error",w)})}))}sendMayFail(w,B){return this.send(w,B).catch((w=>Pe.debugLogger.log("error",w)))}markAsCrashed(){this._crashed=true}isDisposed(){return this._disposed}dispose(){this._disposed=true;this.connection._browsingContextToSession.delete(this.sessionId);for(const w of this._browsingContexts)this.connection._browsingContextToSession.delete(w);this._browsingContexts.clear();for(const w of this._callbacks.values()){w.error.type=this._crashed?"crashed":"closed";w.error.logs=this.connection._browserDisconnectedLogs;w.reject(w.error)}this._callbacks.clear()}hasCallback(w){return this._callbacks.has(w)}dispatchMessage(w){const B=w;if(B.id===Le||B.id===je)return;if(B.id&&this._callbacks.has(B.id)){const w=this._callbacks.get(B.id);this._callbacks.delete(B.id);if(B.type==="error"){w.error.setMessage(B.error+"\nMessage: "+B.message);w.reject(w.error)}else if(B.type==="success"){w.resolve(B.result)}else{w.error.setMessage("Internal error, unexpected response type: "+JSON.stringify(B));w.reject(w.error)}}else if(B.id){}else{Promise.resolve().then((()=>this.emit(B.method,B.params)))}}}0&&0},7304:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BidiExecutionContext:()=>BidiExecutionContext,createHandle:()=>createHandle});w.exports=__toCommonJS(Pe);var Fe=G(7651);var Me=G(3642);var Le=__toESM(G(1485));var je=__toESM(G(7392));var qe=G(7277);var We=__toESM(G(4274));var Ge=G(9406);class BidiExecutionContext{constructor(w,B){this._session=w;if(B.type==="window"){this._target={context:B.context,sandbox:B.sandbox}}else{this._target={realm:B.realm}}}async rawEvaluateJSON(w){const B=await this._session.send("script.evaluate",{expression:w,target:this._target,serializationOptions:{maxObjectDepth:10,maxDomDepth:10},awaitPromise:true,userActivation:true});if(B.type==="success")return qe.BidiDeserializer.deserialize(B.result);if(B.type==="exception")throw new Le.JavaScriptErrorInEvaluate(B.exceptionDetails.text);throw new Le.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(B))}async rawEvaluateHandle(w,B){const G=await this._session.send("script.evaluate",{expression:B,target:this._target,resultOwnership:We.Script.ResultOwnership.Root,serializationOptions:{maxObjectDepth:0,maxDomDepth:0},awaitPromise:true,userActivation:true});if(G.type==="success"){if("handle"in G.result)return createHandle(w,G.result);throw new Le.JavaScriptErrorInEvaluate("Cannot get handle: "+JSON.stringify(G.result))}if(G.type==="exception")throw new Le.JavaScriptErrorInEvaluate(G.exceptionDetails.text);throw new Le.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(G))}async evaluateWithArguments(w,B,G,K,pe){const ye=await this._session.send("script.callFunction",{functionDeclaration:w,target:this._target,arguments:[{handle:G._objectId},...K.map(Ge.BidiSerializer.serialize),...pe.map((w=>({handle:w._objectId})))],resultOwnership:B?void 0:We.Script.ResultOwnership.Root,serializationOptions:B?{}:{maxObjectDepth:0,maxDomDepth:0},awaitPromise:true,userActivation:true});if(ye.type==="exception")throw new Le.JavaScriptErrorInEvaluate(ye.exceptionDetails.text);if(ye.type==="success"){if(B)return(0,Me.parseEvaluationResultValue)(qe.BidiDeserializer.deserialize(ye.result));return createHandle(G._context,ye.result)}throw new Le.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(ye))}async getProperties(w){const B=await w.evaluate((w=>{const B=[];const G=Object.getOwnPropertyDescriptors(w);for(const w in G){if(G[w]?.enumerable)B.push(w)}return B}));const G=await Promise.all(B.map((B=>w.evaluateHandle(((w,B)=>w[B]),B))));const K=new Map;for(let w=0;w<B.length;w++)K.set(B[w],G[w]);return K}async releaseHandle(w){if(!w._objectId)return;await this._session.send("script.disown",{target:this._target,handles:[w._objectId]})}async nodeIdForElementHandle(w){const B=await this._remoteValueForReference({handle:w._objectId});if(!("sharedId"in B))throw new Error("Element is not a node");return{sharedId:B.sharedId}}async remoteObjectForNodeId(w,B){const G=await this._remoteValueForReference(B,true);if(!("handle"in G))throw new Error("Can't get remote object for nodeId");return createHandle(w,G)}async contentFrameIdForFrame(w){const B=await this._rawCallFunction("e => e.contentWindow",{handle:w._objectId});if(B?.type==="window")return B.value.context;return null}async frameIdForWindowHandle(w){if(!w._objectId)throw new Error("JSHandle is not a DOM node handle");const B=await this._remoteValueForReference({handle:w._objectId});if(B.type==="window")return B.value.context;return null}async _remoteValueForReference(w,B){return await this._rawCallFunction("e => e",w,B)}async _rawCallFunction(w,B,G){const K=await this._session.send("script.callFunction",{functionDeclaration:w,target:this._target,arguments:[B],resultOwnership:G?We.Script.ResultOwnership.Root:We.Script.ResultOwnership.None,serializationOptions:{maxObjectDepth:0,maxDomDepth:0},awaitPromise:true,userActivation:true});if(K.type==="exception")throw new Le.JavaScriptErrorInEvaluate(K.exceptionDetails.text);if(K.type==="success")return K.result;throw new Le.JavaScriptErrorInEvaluate("Unexpected response type: "+JSON.stringify(K))}}function renderPreview(w){if(w.type==="undefined")return"undefined";if(w.type==="null")return"null";if("value"in w)return String(w.value);return`<${w.type}>`}function remoteObjectValue(w){if(w.type==="undefined")return void 0;if(w.type==="null")return null;if(w.type==="number"&&typeof w.value==="string")return Le.parseUnserializableValue(w.value);if("value"in w)return w.value;return void 0}function createHandle(w,B){if(B.type==="node"){(0,Fe.assert)(w instanceof je.FrameExecutionContext);return new je.ElementHandle(w,B.handle)}const G="handle"in B?B.handle:void 0;return new Le.JSHandle(w,B.type,renderPreview(B),G,remoteObjectValue(B))}0&&0},5244:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BidiFirefox:()=>BidiFirefox});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(857));var Me=__toESM(G(6928));var Le=G(3701);var je=G(7684);var qe=G(8841);var We=G(9793);var Ge=G(3874);var ze=G(3587);class BidiFirefox extends je.BrowserType{constructor(w){super(w,"_bidiFirefox")}executablePath(){return""}async connectToTransport(w,B){return qe.BidiBrowser.connect(this.attribution.playwright,w,B)}doRewriteStartupLog(w){if(!w.logs)return w;if(w.logs.includes(`as root in a regular user's session is not supported.`))w.logs="\n"+(0,Le.wrapInASCIIBox)(`Firefox is unable to launch if the $HOME folder isn't owned by the current user.\nWorkaround: Set the HOME=/root environment variable${process.env.GITHUB_ACTION?" in your GitHub Actions workflow file":""} when running Playwright.`,1);if(w.logs.includes("no DISPLAY environment variable specified"))w.logs="\n"+(0,Le.wrapInASCIIBox)(je.kNoXServerRunningError,1);return w}amendEnvironment(w){if(!Me.default.isAbsolute(Fe.default.homedir()))throw new Error(`Cannot launch Firefox with relative home directory. Did you set ${Fe.default.platform()==="win32"?"USERPROFILE":"HOME"} to a relative path?`);w={...w,MOZ_CRASHREPORTER:"1",MOZ_CRASHREPORTER_NO_REPORT:"1",MOZ_CRASHREPORTER_SHUTDOWN:"1"};if(Fe.default.platform()==="linux"){return{...w,SNAP_NAME:void 0,SNAP_INSTANCE_NAME:void 0}}return w}attemptToGracefullyCloseBrowser(w){this._attemptToGracefullyCloseBrowser(w).catch((()=>{}))}async _attemptToGracefullyCloseBrowser(w){if(!w.onmessage){w.send({method:"session.new",params:{capabilities:{}},id:We.kShutdownSessionNewMessageId});await new Promise((B=>{w.onmessage=w=>{if(w.id===We.kShutdownSessionNewMessageId)B(true)}}))}w.send({method:"browser.close",params:{},id:We.kBrowserCloseMessageId})}supportsPipeTransport(){return false}async prepareUserDataDir(w,B){await(0,Ge.createProfile)({path:B,preferences:w.firefoxUserPrefs||{}})}async defaultArgs(w,B,G){const{args:K=[],headless:pe}=w;const ye=K.find((w=>w.startsWith("-profile")||w.startsWith("--profile")));if(ye)throw this._createUserDataDirArgMisuseError("--profile");if(K.find((w=>!w.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const Se=["--remote-debugging-port=0"];if(pe)Se.push("--headless");else Se.push("--foreground");Se.push(`--profile`,G);Se.push(...K);return Se}async waitForReadyState(w,B){const G=new ze.ManualPromise;B.onMessage((w=>{const B=w.match(/WebDriver BiDi listening on (ws:\/\/.*)$/);if(B)G.resolve({wsEndpoint:B[1]+"/session"})}));return G}}0&&0},6809:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{RawKeyboardImpl:()=>RawKeyboardImpl,RawMouseImpl:()=>RawMouseImpl,RawTouchscreenImpl:()=>RawTouchscreenImpl});w.exports=__toCommonJS(Pe);var Fe=G(912);var Me=G(1399);var Le=__toESM(G(4274));class RawKeyboardImpl{constructor(w){this._session=w}setSession(w){this._session=w}async keydown(w,B,G,K,pe){G=(0,Fe.resolveSmartModifierString)(G);const ye=[];ye.push({type:"keyDown",value:(0,Me.getBidiKeyValue)(G)});await this._performActions(w,ye)}async keyup(w,B,G,K){G=(0,Fe.resolveSmartModifierString)(G);const pe=[];pe.push({type:"keyUp",value:(0,Me.getBidiKeyValue)(G)});await this._performActions(w,pe)}async sendText(w,B){const G=[];for(const w of B){const B=(0,Me.getBidiKeyValue)(w);G.push({type:"keyDown",value:B});G.push({type:"keyUp",value:B})}await this._performActions(w,G)}async _performActions(w,B){await w.race(this._session.send("input.performActions",{context:this._session.sessionId,actions:[{type:"key",id:"pw_keyboard",actions:B}]}))}}class RawMouseImpl{constructor(w){this._session=w}async move(w,B,G,K,pe,ye,Se){await this._performActions(w,[{type:"pointerMove",x:B,y:G}])}async down(w,B,G,K,pe,ye,Se){await this._performActions(w,[{type:"pointerDown",button:toBidiButton(K)}])}async up(w,B,G,K,pe,ye,Se){await this._performActions(w,[{type:"pointerUp",button:toBidiButton(K)}])}async wheel(w,B,G,K,pe,ye,Se){B=Math.floor(B);G=Math.floor(G);await w.race(this._session.send("input.performActions",{context:this._session.sessionId,actions:[{type:"wheel",id:"pw_mouse_wheel",actions:[{type:"scroll",x:B,y:G,deltaX:ye,deltaY:Se}]}]}))}async _performActions(w,B){await w.race(this._session.send("input.performActions",{context:this._session.sessionId,actions:[{type:"pointer",id:"pw_mouse",parameters:{pointerType:Le.Input.PointerType.Mouse},actions:B}]}))}}class RawTouchscreenImpl{constructor(w){this._session=w}async tap(w,B,G,K){}}function toBidiButton(w){switch(w){case"left":return 0;case"right":return 2;case"middle":return 1}throw new Error("Unknown button: "+w)}0&&0},556:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BidiNetworkManager:()=>BidiNetworkManager,bidiBytesValueToString:()=>bidiBytesValueToString});w.exports=__toCommonJS(Pe);var Fe=G(6037);var Me=G(7407);var Le=__toESM(G(6182));var je=__toESM(G(4274));class BidiNetworkManager{constructor(w,B){this._userRequestInterceptionEnabled=false;this._protocolRequestInterceptionEnabled=false;this._attemptedAuthentications=new Set;this._session=w;this._requests=new Map;this._page=B;this._eventListeners=[Fe.eventsHelper.addEventListener(w,"network.beforeRequestSent",this._onBeforeRequestSent.bind(this)),Fe.eventsHelper.addEventListener(w,"network.responseStarted",this._onResponseStarted.bind(this)),Fe.eventsHelper.addEventListener(w,"network.responseCompleted",this._onResponseCompleted.bind(this)),Fe.eventsHelper.addEventListener(w,"network.fetchError",this._onFetchError.bind(this)),Fe.eventsHelper.addEventListener(w,"network.authRequired",this._onAuthRequired.bind(this))]}dispose(){Fe.eventsHelper.removeEventListeners(this._eventListeners)}_onBeforeRequestSent(w){if(w.request.url.startsWith("data:"))return;const B=w.redirectCount?this._requests.get(w.request.request)||null:null;const G=B?B.request.frame():w.context?this._page.frameManager.frame(w.context):null;if(!G)return;if(B)this._deleteRequest(B._id);let K;if(w.intercepts){if(B){let G={};if(B._originalRequestRoute?._alreadyContinuedHeaders)G=toBidiRequestHeaders(B._originalRequestRoute._alreadyContinuedHeaders??[]);this._session.sendMayFail("network.continueRequest",{request:w.request.request,...G})}else{K=new BidiRouteImpl(this._session,w.request.request)}}const pe=new BidiRequest(G,B,w,K);this._requests.set(pe._id,pe);this._page.frameManager.requestStarted(pe.request,K)}_onResponseStarted(w){const B=this._requests.get(w.request.request);if(!B)return;const getResponseBody=async()=>{const{bytes:B}=await this._session.send("network.getData",{request:w.request.request,dataType:je.Network.DataType.Response});const G=B.type==="base64"?"base64":"utf8";return Buffer.from(B.value,G)};const G=w.request.timings;const K=G.requestTime;function relativeToStart(w){if(!w)return-1;return w-K}const pe={startTime:K,requestStart:relativeToStart(G.requestStart),responseStart:relativeToStart(G.responseStart),domainLookupStart:relativeToStart(G.dnsStart),domainLookupEnd:relativeToStart(G.dnsEnd),connectStart:relativeToStart(G.connectStart),secureConnectionStart:relativeToStart(G.tlsStart),connectEnd:relativeToStart(G.connectEnd)};const ye=new Le.Response(B.request,w.response.status,w.response.statusText,fromBidiHeaders(w.response.headers),pe,getResponseBody,false);ye._serverAddrFinished();ye._securityDetailsFinished();ye.setRawResponseHeaders(null);ye.setResponseHeadersSize(w.response.headersSize);this._page.frameManager.requestReceivedResponse(ye)}_onResponseCompleted(w){const B=this._requests.get(w.request.request);if(!B)return;const G=B.request._existingResponse();G.setTransferSize(w.response.bodySize);G.setEncodedBodySize(w.response.bodySize);const K=G.status()>=300&&G.status()<=399;const pe=w.request.timings.responseEnd-G.timing().startTime;if(K){G._requestFinished(pe)}else{this._deleteRequest(B._id);G._requestFinished(pe)}G._setHttpVersion(w.response.protocol);this._page.frameManager.reportRequestFinished(B.request,G)}_onFetchError(w){const B=this._requests.get(w.request.request);if(!B)return;this._deleteRequest(B._id);const G=B.request._existingResponse();if(G){G.setTransferSize(null);G.setEncodedBodySize(null);G._requestFinished(-1)}B.request._setFailureText(w.errorText);this._page.frameManager.requestFailed(B.request,w.errorText==="NS_BINDING_ABORTED")}_onAuthRequired(w){const B=w.response.authChallenges?.some((w=>w.scheme.startsWith("Basic")));const G=this._page.browserContext._options.httpCredentials;if(B&&G&&(!G.origin||new URL(w.request.url).origin.toLowerCase()===G.origin.toLowerCase())){if(this._attemptedAuthentications.has(w.request.request)){this._session.sendMayFail("network.continueWithAuth",{request:w.request.request,action:"cancel"})}else{this._attemptedAuthentications.add(w.request.request);this._session.sendMayFail("network.continueWithAuth",{request:w.request.request,action:"provideCredentials",credentials:{type:"password",username:G.username,password:G.password}})}}else{this._session.sendMayFail("network.continueWithAuth",{request:w.request.request,action:"cancel"})}}_deleteRequest(w){this._requests.delete(w);this._attemptedAuthentications.delete(w)}async setRequestInterception(w){this._userRequestInterceptionEnabled=w;await this._updateProtocolRequestInterception()}async setCredentials(w){this._credentials=w;await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(w){const B=this._userRequestInterceptionEnabled||!!this._credentials;if(B===this._protocolRequestInterceptionEnabled)return;this._protocolRequestInterceptionEnabled=B;if(w&&!B)return;const G=this._session.send("network.setCacheBehavior",{cacheBehavior:B?"bypass":"default"});let K=Promise.resolve(void 0);if(B){K=this._session.send("network.addIntercept",{phases:[je.Network.InterceptPhase.AuthRequired,je.Network.InterceptPhase.BeforeRequestSent],urlPatterns:[{type:"pattern"}]}).then((w=>{this._intercepId=w.intercept}))}else if(this._intercepId){K=this._session.send("network.removeIntercept",{intercept:this._intercepId});this._intercepId=void 0}await Promise.all([G,K])}}class BidiRequest{constructor(w,B,G,K){this._id=G.request.request;if(B)B._redirectedTo=this;const pe=null;this.request=new Le.Request(w._page.browserContext,w,null,B?B.request:null,G.navigation??void 0,G.request.url,resourceTypeFromBidi(G.request.destination,G.request.initiatorType,G.initiator?.type),G.request.method,pe,fromBidiHeaders(G.request.headers));this.request.setRawRequestHeaders(null);this.request._setBodySize(G.request.bodySize||0);this._originalRequestRoute=K??B?._originalRequestRoute;K?._setRequest(this.request)}_finalRequest(){let w=this;while(w._redirectedTo)w=w._redirectedTo;return w}}class BidiRouteImpl{constructor(w,B){this._session=w;this._requestId=B}_setRequest(w){this._request=w}async continue(w){let B=w.headers||this._request.headers();if(w.postData&&B){B=B.map((B=>{if(B.name.toLowerCase()==="content-length")return{name:B.name,value:w.postData.byteLength.toString()};return B}))}this._alreadyContinuedHeaders=B;await this._session.sendMayFail("network.continueRequest",{request:this._requestId,url:w.url,method:w.method,...toBidiRequestHeaders(this._alreadyContinuedHeaders),body:w.postData?{type:"base64",value:Buffer.from(w.postData).toString("base64")}:void 0})}async fulfill(w){const B=w.isBase64?w.body:Buffer.from(w.body).toString("base64");await this._session.sendMayFail("network.provideResponse",{request:this._requestId,statusCode:w.status,reasonPhrase:Le.statusText(w.status),...toBidiResponseHeaders(w.headers),body:{type:"base64",value:B}})}async abort(w){await this._session.sendMayFail("network.failRequest",{request:this._requestId})}}function fromBidiHeaders(w){const B=[];for(const{name:G,value:K}of w)B.push({name:G,value:bidiBytesValueToString(K)});return B}function toBidiRequestHeaders(w){const B=toBidiHeaders(w);return{headers:B}}function toBidiResponseHeaders(w){const B=w.filter((w=>w.name.toLowerCase()==="set-cookie"));const G=w.filter((w=>w.name.toLowerCase()!=="set-cookie"));const K=B.map((w=>(0,Me.parseRawCookie)(w.value)));const pe=K.filter(Boolean).map((w=>({...w,value:{type:"string",value:w.value},sameSite:toBidiSameSite(w.sameSite)})));return{cookies:pe,headers:toBidiHeaders(G)}}function toBidiHeaders(w){return w.map((({name:w,value:B})=>({name:w,value:{type:"string",value:B}})))}function bidiBytesValueToString(w){if(w.type==="string")return w.value;if(w.type==="base64")return Buffer.from(w.type,"base64").toString("binary");return"unknown value type: "+w.type}function toBidiSameSite(w){if(!w)return void 0;if(w==="Strict")return je.Network.SameSite.Strict;if(w==="Lax")return je.Network.SameSite.Lax;return je.Network.SameSite.None}function resourceTypeFromBidi(w,B,G){switch(w){case"audio":return"media";case"audioworklet":return"script";case"document":return"document";case"font":return"font";case"frame":return"document";case"iframe":return"document";case"image":return"image";case"object":return"object";case"paintworklet":return"script";case"script":return"script";case"serviceworker":return"script";case"sharedworker":return"script";case"style":return"stylesheet";case"track":return"texttrack";case"video":return"media";case"worker":return"script";case"":switch(B){case"fetch":return"fetch";case"font":return"font";case"xmlhttprequest":return"xhr";case null:return G==="script"?"xhr":"document";default:return"other"}default:return"other"}}0&&0},5062:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{connectBidiOverCdp:()=>connectBidiOverCdp});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(1478));var Me=__toESM(G(434));var Le=G(5809);const bidiServerLogger=(w,...B)=>{Le.debugLogger.log(w,B)};async function connectBidiOverCdp(w){let B=void 0;const G=new BidiTransportImpl;const K=new BidiConnection(G,(()=>B?.close()));const pe=new CdpTransportImpl(w);const ye=new Me.MapperCdpConnection(pe,bidiServerLogger);w.onclose=()=>K.onclose?.();B=await Fe.BidiServer.createAndStart(G,ye,await ye.createBrowserSession(),"",void 0,bidiServerLogger);return K}class BidiTransportImpl{setOnMessage(w){this._handler=w}sendMessage(w){return this._bidiConnection.onmessage?.(w)}close(){this._bidiConnection.onclose?.()}}class BidiConnection{constructor(w,B){this._bidiTransport=w;this._bidiTransport._bidiConnection=this;this._closeCallback=B}send(w){this._bidiTransport._handler?.(w)}close(){this._closeCallback()}}class CdpTransportImpl{constructor(w){this._connection=w;this._connection.onmessage=w=>{this._handler?.(JSON.stringify(w))}}setOnMessage(w){this._handler=w}sendMessage(w){return this._connection.send(JSON.parse(w))}close(){this._connection.close()}}0&&0},4093:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BidiPage:()=>BidiPage,kPlaywrightBindingChannel:()=>rt});w.exports=__toCommonJS(Pe);var Fe=G(6037);var Me=__toESM(G(9666));var Le=__toESM(G(7392));var je=G(8841);var qe=G(1921);var We=G(7304);var Ge=G(6809);var ze=G(556);var Ye=G(1311);var Ke=__toESM(G(4274));const Xe="__playwright_utility_world__";const rt="playwrightChannel";class BidiPage{constructor(w,B,G){this._realmToWorkerContext=new Map;this._sessionListeners=[];this._initScriptIds=new Map;this._session=B;this._opener=G;this.rawKeyboard=new Ge.RawKeyboardImpl(B);this.rawMouse=new Ge.RawMouseImpl(B);this.rawTouchscreen=new Ge.RawTouchscreenImpl(B);this._realmToContext=new Map;this._page=new qe.Page(this,w);this._browserContext=w;this._networkManager=new ze.BidiNetworkManager(this._session,this._page);this._pdf=new Ye.BidiPDF(this._session);this._page.on(qe.Page.Events.FrameDetached,(w=>this._removeContextsForFrame(w,false)));this._sessionListeners=[Fe.eventsHelper.addEventListener(B,"script.realmCreated",this._onRealmCreated.bind(this)),Fe.eventsHelper.addEventListener(B,"script.message",this._onScriptMessage.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.contextDestroyed",this._onBrowsingContextDestroyed.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.navigationStarted",this._onNavigationStarted.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.navigationCommitted",this._onNavigationCommitted.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.navigationAborted",this._onNavigationAborted.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.navigationFailed",this._onNavigationFailed.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.fragmentNavigated",this._onFragmentNavigated.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.historyUpdated",this._onHistoryUpdated.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.domContentLoaded",this._onDomContentLoaded.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.load",this._onLoad.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.downloadWillBegin",this._onDownloadWillBegin.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.downloadEnd",this._onDownloadEnded.bind(this)),Fe.eventsHelper.addEventListener(B,"browsingContext.userPromptOpened",this._onUserPromptOpened.bind(this)),Fe.eventsHelper.addEventListener(B,"log.entryAdded",this._onLogEntryAdded.bind(this))];this._initialize().then((()=>this._page.reportAsNew(this._opener?._page)),(w=>this._page.reportAsNew(this._opener?._page,w)))}async _initialize(){this._onFrameAttached(this._session.sessionId,null);await Promise.all([this.updateHttpCredentials(),this.updateRequestInterception()])}didClose(){this._session.dispose();Fe.eventsHelper.removeEventListeners(this._sessionListeners);this._page._didClose()}_onFrameAttached(w,B){return this._page.frameManager.frameAttached(w,B)}_removeContextsForFrame(w,B){for(const[G,K]of this._realmToContext){if(K.frame===w){this._realmToContext.delete(G);if(B)w._contextDestroyed(K)}}}_onRealmCreated(w){if(w.type==="dedicated-worker"){const B=new We.BidiExecutionContext(this._session,w);const G=new qe.Worker(this._page,w.origin);this._realmToWorkerContext.set(w.realm,G.createExecutionContext(B));this._page.addWorker(w.realm,G);return}if(this._realmToContext.has(w.realm))return;if(w.type!=="window")return;const B=this._page.frameManager.frame(w.context);if(!B)return;let G;if(!w.sandbox){G="main";this._touchUtilityWorld(w.context)}else if(w.sandbox===Xe){G="utility"}else{return}const K=new We.BidiExecutionContext(this._session,w);const pe=new Le.FrameExecutionContext(K,B,G);B._contextCreated(G,pe);this._realmToContext.set(w.realm,pe)}async _touchUtilityWorld(w){await this._session.sendMayFail("script.evaluate",{expression:"1 + 1",target:{context:w,sandbox:Xe},serializationOptions:{maxObjectDepth:10,maxDomDepth:10},awaitPromise:true,userActivation:true})}_onRealmDestroyed(w){const B=this._realmToContext.get(w.realm);if(B){this._realmToContext.delete(w.realm);B.frame._contextDestroyed(B);return true}const G=this._realmToWorkerContext.delete(w.realm);if(G){this._page.removeWorker(w.realm);return true}return false}_onBrowsingContextDestroyed(w){this._browserContext._browser._onBrowsingContextDestroyed(w)}_onNavigationStarted(w){const B=w.context;this._page.frameManager.frameRequestedNavigation(B,w.navigation)}_onNavigationCommitted(w){const B=w.context;this._page.frameManager.frameCommittedNewDocumentNavigation(B,w.url,"",w.navigation,false)}_onDomContentLoaded(w){const B=w.context;this._page.frameManager.frameLifecycleEvent(B,"domcontentloaded")}_onLoad(w){this._page.frameManager.frameLifecycleEvent(w.context,"load")}_onNavigationAborted(w){this._page.frameManager.frameAbortedNavigation(w.context,"Navigation aborted",w.navigation||void 0)}_onNavigationFailed(w){this._page.frameManager.frameAbortedNavigation(w.context,"Navigation failed",w.navigation||void 0)}_onFragmentNavigated(w){this._page.frameManager.frameCommittedSameDocumentNavigation(w.context,w.url)}_onHistoryUpdated(w){this._page.frameManager.frameCommittedSameDocumentNavigation(w.context,w.url)}_onUserPromptOpened(w){this._page.browserContext.dialogManager.dialogDidOpen(new Me.Dialog(this._page,w.type,w.message,(async(B,G)=>{await this._session.send("browsingContext.handleUserPrompt",{context:w.context,accept:B,userText:G})}),w.defaultValue))}_onDownloadWillBegin(w){if(!w.navigation)return;this._page.frameManager.frameAbortedNavigation(w.context,"Download is starting");let B=this._page.initializedOrUndefined();if(!B&&this._opener)B=this._opener._page.initializedOrUndefined();if(!B)return;this._browserContext._browser._downloadCreated(B,w.navigation,w.url,w.suggestedFilename)}_onDownloadEnded(w){if(!w.navigation)return;this._browserContext._browser._downloadFinished(w.navigation,w.status==="canceled"?"canceled":void 0)}_onLogEntryAdded(w){if(w.type==="javascript"&&w.level==="error"){let B="";let G;if(w.text?.includes(": ")){const K=w.text.indexOf(": ");B=w.text.substring(0,K);G=w.text.substring(K+2)}else{G=w.text??void 0}const K=new Error(G);K.name=B;K.stack=`${w.text}\n${w.stackTrace?.callFrames.map((w=>{const B=`${w.url}:${w.lineNumber+1}:${w.columnNumber+1}`;return w.functionName?`    at ${w.functionName} (${B})`:`    at ${B}`})).join("\n")}`;this._page.addPageError(K);return}if(w.type!=="console")return;const B=w;const G=this._realmToContext.get(w.source.realm)??this._realmToWorkerContext.get(w.source.realm);if(!G)return;const K=w.stackTrace?.callFrames[0];const pe=K??{url:"",lineNumber:1,columnNumber:1};this._page.addConsoleMessage(B.method,B.args.map((w=>(0,We.createHandle)(G,w))),pe,w.text||void 0)}async navigateFrame(w,B,G){const{navigation:K}=await this._session.send("browsingContext.navigate",{context:w._id,url:B});return{newDocumentId:K||void 0}}async updateExtraHTTPHeaders(){}async updateEmulateMedia(){}async updateUserAgent(){}async bringToFront(){await this._session.send("browsingContext.activate",{context:this._session.sessionId})}async updateEmulatedViewportSize(){const w=this._browserContext._options;const B=this._page.emulatedSize();if(!B)return;const G=B.viewport;await Promise.all([this._session.send("browsingContext.setViewport",{context:this._session.sessionId,viewport:{width:G.width,height:G.height},devicePixelRatio:w.deviceScaleFactor||1}),this._session.send("emulation.setScreenOrientationOverride",{contexts:[this._session.sessionId],screenOrientation:(0,je.getScreenOrientation)(!!w.isMobile,G)})])}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateOffline(){}async updateHttpCredentials(){await this._networkManager.setCredentials(this._browserContext._options.httpCredentials)}async updateFileChooserInterception(){}async reload(){await this._session.send("browsingContext.reload",{context:this._session.sessionId,wait:Ke.BrowsingContext.ReadinessState.Interactive})}async goBack(){return await this._session.send("browsingContext.traverseHistory",{context:this._session.sessionId,delta:-1}).then((()=>true)).catch((()=>false))}async goForward(){return await this._session.send("browsingContext.traverseHistory",{context:this._session.sessionId,delta:1}).then((()=>true)).catch((()=>false))}async requestGC(){throw new Error("Method not implemented.")}async _onScriptMessage(w){if(w.channel!==rt)return;const B=await this._page.waitForInitializedOrError();if(B instanceof Error)return;const G=this._realmToContext.get(w.source.realm);if(!G)return;if(w.data.type!=="string")return;await this._page.onBindingCalled(w.data.value,G)}async addInitScript(w){const{script:B}=await this._session.send("script.addPreloadScript",{functionDeclaration:`() => { return ${w.source} }`,contexts:[this._session.sessionId]});this._initScriptIds.set(w,B)}async removeInitScripts(w){const B=[];for(const G of w){const w=this._initScriptIds.get(G);if(w)B.push(w);this._initScriptIds.delete(G)}await Promise.all(B.map((w=>this._session.send("script.removePreloadScript",{script:w}))))}async closePage(w){if(w){this._session.sendMayFail("browsingContext.close",{context:this._session.sessionId,promptUnload:w})}else{await this._session.send("browsingContext.close",{context:this._session.sessionId,promptUnload:w})}}async setBackgroundColor(w){}async takeScreenshot(w,B,G,K,pe,ye,Se){const Be=G||K;const{data:Qe}=await w.race(this._session.send("browsingContext.captureScreenshot",{context:this._session.sessionId,format:{type:`image/${B==="png"?"png":"jpeg"}`,quality:pe?pe/100:.8},origin:G?"document":"viewport",clip:{type:"box",...Be}}));return Buffer.from(Qe,"base64")}async getContentFrame(w){const B=toBidiExecutionContext(w._context);const G=await B.contentFrameIdForFrame(w);if(!G)return null;return this._page.frameManager.frame(G)}async getOwnerFrame(w){const B=await w.evaluateHandle((w=>{const B=w.ownerDocument??w;return B.defaultView}));if(!B)return null;const G=toBidiExecutionContext(w._context);return G.frameIdForWindowHandle(B)}async getBoundingBox(w){const B=await w.evaluate((w=>{if(!(w instanceof Element))return null;const B=w.getBoundingClientRect();return{x:B.x,y:B.y,width:B.width,height:B.height}}));if(!B)return null;const G=await this._framePosition(w._frame);if(!G)return null;B.x+=G.x;B.y+=G.y;return B}async _framePosition(w){if(w===this._page.mainFrame())return{x:0,y:0};const B=await w.frameElement();const G=await B.boundingBox();if(!G)return null;const K=await B.evaluateInUtility((([w,B])=>w.describeIFrameStyle(B)),{}).catch((w=>"error:notconnected"));if(K==="error:notconnected"||K==="transformed")return null;G.x+=K.left;G.y+=K.top;return G}async scrollRectIntoViewIfNeeded(w,B){return await w.evaluateInUtility((([w,B])=>{B.scrollIntoView({block:"center",inline:"center",behavior:"instant"})}),null).then((()=>"done")).catch((w=>{if(w instanceof Error&&w.message.includes("Node is detached from document"))return"error:notconnected";if(w instanceof Error&&w.message.includes("Node does not have a layout object"))return"error:notvisible";throw w}))}async setScreencastOptions(w){}rafCountForStablePosition(){return 1}async getContentQuads(w){const B=await w.evaluateInUtility((([w,B])=>{if(!B.isConnected)return"error:notconnected";const G=B.getClientRects();if(!G)return null;return[...G].map((w=>[{x:w.left,y:w.top},{x:w.right,y:w.top},{x:w.right,y:w.bottom},{x:w.left,y:w.bottom}]))}),null);if(!B||B==="error:notconnected")return B;const G=await this._framePosition(w._frame);if(!G)return null;B.forEach((w=>w.forEach((w=>{w.x+=G.x;w.y+=G.y}))));return B}async setInputFilePaths(w,B){const G=toBidiExecutionContext(w._context);await this._session.send("input.setFiles",{context:this._session.sessionId,element:await G.nodeIdForElementHandle(w),files:B})}async adoptElementHandle(w,B){const G=toBidiExecutionContext(w._context);const K=await G.nodeIdForElementHandle(w);const pe=toBidiExecutionContext(B);return await pe.remoteObjectForNodeId(B,K)}async getAccessibilityTree(w){throw new Error("Method not implemented.")}async inputActionEpilogue(){}async resetForReuse(w){}async pdf(w){return this._pdf.generate(w)}async getFrameElement(w){const B=w.parentFrame();if(!B)throw new Error("Frame has been detached.");const G=await B._mainContext();const K=await G.evaluateHandle((()=>[...document.querySelectorAll("iframe,frame")]));const pe=await K.evaluate((w=>w.length));let ye=null;for(let B=0;B<pe;B++){const G=await K.evaluateHandle(((w,B)=>w[B]),B);const pe=await G.contentFrame();if(w===pe){ye=G;break}else{G.dispose()}}K.dispose();if(!ye)throw new Error("Frame has been detached.");return ye}shouldToggleStyleSheetToSyncAnimations(){return true}}function toBidiExecutionContext(w){return w.delegate}0&&0},1311:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{BidiPDF:()=>BidiPDF});w.exports=__toCommonJS(Be);var Qe=G(7651);const Pe={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}};const Fe={px:1,in:96,cm:37.8,mm:3.78};function convertPrintParameterToInches(w){if(w===void 0)return void 0;let B=w.substring(w.length-2).toLowerCase();let G="";if(Fe.hasOwnProperty(B)){G=w.substring(0,w.length-2)}else{B="px";G=w}const K=Number(G);(0,Qe.assert)(!isNaN(K),"Failed to parse parameter value: "+w);const pe=K*Fe[B];return pe/96}class BidiPDF{constructor(w){this._session=w}async generate(w){const{scale:B=1,printBackground:G=false,landscape:K=false,pageRanges:pe="",margin:ye={}}=w;let Se=8.5;let Be=11;if(w.format){const B=Pe[w.format.toLowerCase()];(0,Qe.assert)(B,"Unknown paper format: "+w.format);Se=B.width;Be=B.height}else{Se=convertPrintParameterToInches(w.width)||Se;Be=convertPrintParameterToInches(w.height)||Be}const{data:Fe}=await this._session.send("browsingContext.print",{context:this._session.sessionId,background:G,margin:{bottom:convertPrintParameterToInches(ye.bottom)||0,left:convertPrintParameterToInches(ye.left)||0,right:convertPrintParameterToInches(ye.right)||0,top:convertPrintParameterToInches(ye.top)||0},orientation:K?"landscape":"portrait",page:{width:Se,height:Be},pageRanges:pe?pe.split(",").map((w=>w.trim())):void 0,scale:B});return Buffer.from(Fe,"base64")}}0&&0},7277:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{BidiDeserializer:()=>BidiDeserializer});w.exports=__toCommonJS(ye);
/**
 * @license
 * Copyright 2024 Google Inc.
 * Modifications copyright (c) Microsoft Corporation.
 * SPDX-License-Identifier: Apache-2.0
 */class BidiDeserializer{static deserialize(w){if(!w)return void 0;switch(w.type){case"array":return w.value?.map((w=>BidiDeserializer.deserialize(w)));case"set":return w.value?.reduce(((w,B)=>w.add(BidiDeserializer.deserialize(B))),new Set);case"object":return w.value?.reduce(((w,B)=>{const{key:G,value:K}=BidiDeserializer._deserializeTuple(B);w[G]=K;return w}),{});case"map":return w.value?.reduce(((w,B)=>{const{key:G,value:K}=BidiDeserializer._deserializeTuple(B);return w.set(G,K)}),new Map);case"promise":return{};case"regexp":return new RegExp(w.value.pattern,w.value.flags);case"date":return new Date(w.value);case"undefined":return void 0;case"null":return null;case"number":return BidiDeserializer._deserializeNumber(w.value);case"bigint":return BigInt(w.value);case"boolean":return Boolean(w.value);case"string":return w.value}throw new Error(`Deserialization of type ${w.type} not supported.`)}static _deserializeNumber(w){switch(w){case"-0":return-0;case"NaN":return NaN;case"Infinity":return Infinity;case"-Infinity":return-Infinity;default:return w}}static _deserializeTuple([w,B]){const G=typeof w==="string"?w:BidiDeserializer.deserialize(w);const K=BidiDeserializer.deserialize(B);return{key:G,value:K}}}0&&0},1399:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{getBidiKeyValue:()=>getBidiKeyValue});w.exports=__toCommonJS(ye);
/**
 * @license
 * Copyright 2024 Google Inc.
 * Modifications copyright (c) Microsoft Corporation.
 * SPDX-License-Identifier: Apache-2.0
 */const getBidiKeyValue=w=>{switch(w){case"\r":case"\n":w="Enter";break}if([...w].length===1){return w}switch(w){case"Cancel":return"";case"Help":return"";case"Backspace":return"";case"Tab":return"";case"Clear":return"";case"Enter":return"";case"Shift":case"ShiftLeft":return"";case"Control":case"ControlLeft":return"";case"Alt":case"AltLeft":return"";case"Pause":return"";case"Escape":return"";case"PageUp":return"";case"PageDown":return"";case"End":return"";case"Home":return"";case"ArrowLeft":return"";case"ArrowUp":return"";case"ArrowRight":return"";case"ArrowDown":return"";case"Insert":return"";case"Delete":return"";case"NumpadEqual":return"";case"Numpad0":return"";case"Numpad1":return"";case"Numpad2":return"";case"Numpad3":return"";case"Numpad4":return"";case"Numpad5":return"";case"Numpad6":return"";case"Numpad7":return"";case"Numpad8":return"";case"Numpad9":return"";case"NumpadMultiply":return"";case"NumpadAdd":return"";case"NumpadSubtract":return"";case"NumpadDecimal":return"";case"NumpadDivide":return"";case"F1":return"";case"F2":return"";case"F3":return"";case"F4":return"";case"F5":return"";case"F6":return"";case"F7":return"";case"F8":return"";case"F9":return"";case"F10":return"";case"F11":return"";case"F12":return"";case"Meta":case"MetaLeft":return"";case"ShiftRight":return"";case"ControlRight":return"";case"AltRight":return"";case"MetaRight":return"";case"Space":return" ";case"Digit0":return"0";case"Digit1":return"1";case"Digit2":return"2";case"Digit3":return"3";case"Digit4":return"4";case"Digit5":return"5";case"Digit6":return"6";case"Digit7":return"7";case"Digit8":return"8";case"Digit9":return"9";case"KeyA":return"a";case"KeyB":return"b";case"KeyC":return"c";case"KeyD":return"d";case"KeyE":return"e";case"KeyF":return"f";case"KeyG":return"g";case"KeyH":return"h";case"KeyI":return"i";case"KeyJ":return"j";case"KeyK":return"k";case"KeyL":return"l";case"KeyM":return"m";case"KeyN":return"n";case"KeyO":return"o";case"KeyP":return"p";case"KeyQ":return"q";case"KeyR":return"r";case"KeyS":return"s";case"KeyT":return"t";case"KeyU":return"u";case"KeyV":return"v";case"KeyW":return"w";case"KeyX":return"x";case"KeyY":return"y";case"KeyZ":return"z";case"Semicolon":return";";case"Equal":return"=";case"Comma":return",";case"Minus":return"-";case"Period":return".";case"Slash":return"/";case"Backquote":return"`";case"BracketLeft":return"[";case"Backslash":return"\\";case"BracketRight":return"]";case"Quote":return'"';default:throw new Error(`Unknown key: "${w}"`)}};0&&0},4274:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __reExport=(w,B,G)=>(__copyProps(w,B,"default"),G&&__copyProps(G,B,"default"));var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};w.exports=__toCommonJS(Be);__reExport(Be,G(85),w.exports);__reExport(Be,G(9636),w.exports);0&&0},85:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{BrowsingContext:()=>Qe,Emulation:()=>Pe,ErrorCode:()=>Se,Input:()=>je,Log:()=>Le,Network:()=>Fe,Script:()=>Me,Session:()=>Be});w.exports=__toCommonJS(ye);var Se=(w=>{w["InvalidArgument"]="invalid argument";w["InvalidSelector"]="invalid selector";w["InvalidSessionId"]="invalid session id";w["InvalidWebExtension"]="invalid web extension";w["MoveTargetOutOfBounds"]="move target out of bounds";w["NoSuchAlert"]="no such alert";w["NoSuchNetworkCollector"]="no such network collector";w["NoSuchElement"]="no such element";w["NoSuchFrame"]="no such frame";w["NoSuchHandle"]="no such handle";w["NoSuchHistoryEntry"]="no such history entry";w["NoSuchIntercept"]="no such intercept";w["NoSuchNetworkData"]="no such network data";w["NoSuchNode"]="no such node";w["NoSuchRequest"]="no such request";w["NoSuchScript"]="no such script";w["NoSuchStoragePartition"]="no such storage partition";w["NoSuchUserContext"]="no such user context";w["NoSuchWebExtension"]="no such web extension";w["SessionNotCreated"]="session not created";w["UnableToCaptureScreen"]="unable to capture screen";w["UnableToCloseBrowser"]="unable to close browser";w["UnableToSetCookie"]="unable to set cookie";w["UnableToSetFileInput"]="unable to set file input";w["UnavailableNetworkData"]="unavailable network data";w["UnderspecifiedStoragePartition"]="underspecified storage partition";w["UnknownCommand"]="unknown command";w["UnknownError"]="unknown error";w["UnsupportedOperation"]="unsupported operation";return w})(Se||{});var Be;(w=>{let B;(w=>{w["Accept"]="accept";w["Dismiss"]="dismiss";w["Ignore"]="ignore"})(B=w.UserPromptHandlerType||(w.UserPromptHandlerType={}))})(Be||(Be={}));var Qe;(w=>{let B;(w=>{w["None"]="none";w["Interactive"]="interactive";w["Complete"]="complete"})(B=w.ReadinessState||(w.ReadinessState={}))})(Qe||(Qe={}));(w=>{let B;(w=>{w["Alert"]="alert";w["Beforeunload"]="beforeunload";w["Confirm"]="confirm";w["Prompt"]="prompt"})(B=w.UserPromptType||(w.UserPromptType={}))})(Qe||(Qe={}));(w=>{let B;(w=>{w["Tab"]="tab";w["Window"]="window"})(B=w.CreateType||(w.CreateType={}))})(Qe||(Qe={}));var Pe;(w=>{let B;(w=>{w["Light"]="light";w["Dark"]="dark"})(B=w.ForcedColorsModeTheme||(w.ForcedColorsModeTheme={}))})(Pe||(Pe={}));(w=>{let B;(w=>{w["Portrait"]="portrait";w["Landscape"]="landscape"})(B=w.ScreenOrientationNatural||(w.ScreenOrientationNatural={}))})(Pe||(Pe={}));var Fe;(w=>{let B;(w=>{w["Blob"]="blob"})(B=w.CollectorType||(w.CollectorType={}))})(Fe||(Fe={}));(w=>{let B;(w=>{w["Strict"]="strict";w["Lax"]="lax";w["None"]="none";w["Default"]="default"})(B=w.SameSite||(w.SameSite={}))})(Fe||(Fe={}));(w=>{let B;(w=>{w["Response"]="response"})(B=w.DataType||(w.DataType={}))})(Fe||(Fe={}));(w=>{let B;(w=>{w["BeforeRequestSent"]="beforeRequestSent";w["ResponseStarted"]="responseStarted";w["AuthRequired"]="authRequired"})(B=w.InterceptPhase||(w.InterceptPhase={}))})(Fe||(Fe={}));var Me;(w=>{let B;(w=>{w["Root"]="root";w["None"]="none"})(B=w.ResultOwnership||(w.ResultOwnership={}))})(Me||(Me={}));var Le;(w=>{let B;(w=>{w["Debug"]="debug";w["Info"]="info";w["Warn"]="warn";w["Error"]="error"})(B=w.Level||(w.Level={}))})(Le||(Le={}));var je;(w=>{let B;(w=>{w["Mouse"]="mouse";w["Pen"]="pen";w["Touch"]="touch"})(B=w.PointerType||(w.PointerType={}))})(je||(je={}));0&&0},9636:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{Permissions:()=>Se});w.exports=__toCommonJS(ye);
/**
 * @license
 * Copyright 2024 Google Inc.
 * Modifications copyright (c) Microsoft Corporation.
 * SPDX-License-Identifier: Apache-2.0
 */var Se;(w=>{let B;(w=>{w["Granted"]="granted";w["Denied"]="denied";w["Prompt"]="prompt"})(B=w.PermissionState||(w.PermissionState={}))})(Se||(Se={}));0&&0},9406:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{BidiSerializer:()=>BidiSerializer,isDate:()=>isDate,isPlainObject:()=>isPlainObject,isRegExp:()=>isRegExp});w.exports=__toCommonJS(ye);
/**
 * @license
 * Copyright 2024 Google Inc.
 * Modifications copyright (c) Microsoft Corporation.
 * SPDX-License-Identifier: Apache-2.0
 */class UnserializableError extends Error{}class BidiSerializer{static serialize(w){switch(typeof w){case"symbol":case"function":throw new UnserializableError(`Unable to serializable ${typeof w}`);case"object":return BidiSerializer._serializeObject(w);case"undefined":return{type:"undefined"};case"number":return BidiSerializer._serializeNumber(w);case"bigint":return{type:"bigint",value:w.toString()};case"string":return{type:"string",value:w};case"boolean":return{type:"boolean",value:w}}}static _serializeNumber(w){let B;if(Object.is(w,-0)){B="-0"}else if(Object.is(w,Infinity)){B="Infinity"}else if(Object.is(w,-Infinity)){B="-Infinity"}else if(Object.is(w,NaN)){B="NaN"}else{B=w}return{type:"number",value:B}}static _serializeObject(w){if(w===null){return{type:"null"}}else if(Array.isArray(w)){const B=w.map((w=>BidiSerializer.serialize(w)));return{type:"array",value:B}}else if(isPlainObject(w)){try{JSON.stringify(w)}catch(w){if(w instanceof TypeError&&w.message.startsWith("Converting circular structure to JSON")){w.message+=" Recursive objects are not allowed."}throw w}const B=[];for(const G in w){B.push([BidiSerializer.serialize(G),BidiSerializer.serialize(w[G])])}return{type:"object",value:B}}else if(isRegExp(w)){return{type:"regexp",value:{pattern:w.source,flags:w.flags}}}else if(isDate(w)){return{type:"date",value:w.toISOString()}}throw new UnserializableError("Custom object serialization not possible. Use plain objects instead.")}}const isPlainObject=w=>typeof w==="object"&&w?.constructor===Object;const isRegExp=w=>typeof w==="object"&&w?.constructor===RegExp;const isDate=w=>typeof w==="object"&&w?.constructor===Date;0&&0},3874:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{createProfile:()=>createProfile});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));
/**
 * @license
 * Copyright 2023 Google Inc.
 * SPDX-License-Identifier: Apache-2.0
 */async function createProfile(w){if(!Fe.default.existsSync(w.path)){await Fe.default.promises.mkdir(w.path,{recursive:true})}await writePreferences({preferences:{...defaultProfilePreferences(w.preferences),...w.preferences},path:w.path})}function defaultProfilePreferences(w){const B="dummy.test";const G={"app.normandy.api_url":"","app.update.checkInstallTime":false,"app.update.disabledForTesting":true,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":true,"browser.newtabpage.activity-stream.discoverystream.region-weather-config":"","browser.newtabpage.activity-stream.newtabWallpapers.enabled":false,"browser.newtabpage.activity-stream.newtabWallpapers.v2.enabled":false,"browser.newtabpage.activity-stream.showSponsoredTopSites":false,"browser.newtabpage.activity-stream.feeds.system.topstories":false,"browser.newtabpage.enabled":false,"browser.pagethumbnails.capturing_disabled":true,"browser.safebrowsing.blockedURIs.enabled":false,"browser.safebrowsing.downloads.enabled":false,"browser.safebrowsing.malware.enabled":false,"browser.safebrowsing.phishing.enabled":false,"browser.search.update":false,"browser.sessionstore.resume_from_crash":false,"browser.shell.checkDefaultBrowser":false,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":false,"browser.tabs.warnOnCloseOtherTabs":false,"browser.tabs.warnOnOpen":false,"browser.translations.automaticallyPopup":false,"browser.uitour.enabled":false,"browser.urlbar.suggest.searches":false,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":false,"datareporting.healthreport.documentServerURI":`http://${B}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":false,"datareporting.healthreport.service.enabled":false,"datareporting.healthreport.service.firstRun":false,"datareporting.healthreport.uploadEnabled":false,"datareporting.policy.dataSubmissionEnabled":false,"datareporting.policy.dataSubmissionPolicyBypassNotification":true,"devtools.jsonview.enabled":false,"dom.disable_open_during_load":false,"dom.file.createInChild":true,"dom.ipc.reportProcessHangs":false,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"dom.min_background_timeout_value":0,"dom.min_background_timeout_value_without_budget_throttling":0,"dom.timeout.enable_budget_timer_throttling":false,"dom.security.https_first":false,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":false,"extensions.installDistroAddons":false,"extensions.screenshots.disabled":true,"extensions.update.enabled":false,"extensions.update.notifyUser":false,"extensions.webservice.discoverURL":`http://${B}/dummy/discoveryURL`,"focusmanager.testmode":true,"general.useragent.updates.enabled":false,"geo.provider.testing":true,"geo.wifi.scan":false,"hangmonitor.timeout":0,"javascript.options.showInConsole":true,"layout.testing.top-level-always-active":true,"media.gmp-manager.updateEnabled":false,"media.sanity-test.disabled":true,"network.connectivity-service.enabled":false,"network.cookie.sameSite.laxByDefault":false,"network.http.prompt-temp-redirect":false,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":false,"network.sntp.pools":B,"plugin.state.flash":0,"privacy.trackingprotection.enabled":false,"remote.enabled":true,"security.certerrors.mitm.priming.enabled":false,"security.fileuri.strict_origin_policy":false,"security.notification_enable_delay":0,"signon.autofillForms":false,"signon.rememberSignons":false,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":false,"toolkit.startup.max_resumed_crashes":-1};return Object.assign(G,w)}async function writePreferences(w){const B=Me.default.join(w.path,"prefs.js");const G=Object.entries(w.preferences).map((([w,B])=>`user_pref(${JSON.stringify(w)}, ${JSON.stringify(B)});`));const K=await Promise.allSettled([Fe.default.promises.writeFile(Me.default.join(w.path,"user.js"),G.join("\n")),Fe.default.promises.access(B,Fe.default.constants.F_OK).then((async()=>{await Fe.default.promises.copyFile(B,Me.default.join(w.path,"prefs.js.playwright"))}),(()=>{}))]);for(const w of K){if(w.status==="rejected"){throw w.reason}}}0&&0},9612:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Browser:()=>Browser});w.exports=__toCommonJS(Be);var Qe=G(4960);var Pe=G(6609);var Fe=G(4954);var Me=G(9814);var Le=G(1921);var je=G(8451);class Browser extends Me.SdkObject{constructor(w,B){super(w,"browser");this._downloads=new Map;this._defaultContext=null;this._startedClosing=false;this._idToVideo=new Map;this._isCollocatedWithServer=true;this.attribution.browser=this;this.options=B;this.instrumentation.onBrowserOpen(this)}static{this.Events={Context:"context",Disconnected:"disconnected"}}sdkLanguage(){return this.options.sdkLanguage||this.attribution.playwright.options.sdkLanguage}async newContext(w,B){(0,Pe.validateBrowserContextOptions)(B,this.options);let G;let K;try{if(B.clientCertificates?.length){G=await je.ClientCertificatesProxy.create(w,B);B={...B};B.proxyOverride=G.proxySettings();B.internalIgnoreHTTPSErrors=true}K=await w.race(this.doCreateNewContext(B));K._clientCertificatesProxy=G;if(B.__testHookBeforeSetStorageState)await w.race(B.__testHookBeforeSetStorageState());await K.setStorageState(w,B.storageState,"initial");this.emit(Browser.Events.Context,K);return K}catch(w){await(K?.close({reason:"Failed to create context"}).catch((()=>{})));await(G?.close().catch((()=>{})));throw w}}async newContextForReuse(w,B){const G=Pe.BrowserContext.reusableContextHash(B);if(!this._contextForReuse||G!==this._contextForReuse.hash||!this._contextForReuse.context.canResetForReuse()){if(this._contextForReuse)await this._contextForReuse.context.close({reason:"Context reused"});this._contextForReuse={context:await this.newContext(w,B),hash:G};return this._contextForReuse.context}await this._contextForReuse.context.resetForReuse(w,B);return this._contextForReuse.context}contextForReuse(){return this._contextForReuse?.context}_downloadCreated(w,B,G,K){const pe=new Fe.Download(w,this.options.downloadsPath||"",B,G,K);this._downloads.set(B,pe)}_downloadFilenameSuggested(w,B){const G=this._downloads.get(w);if(!G)return;G._filenameSuggested(B)}_downloadFinished(w,B){const G=this._downloads.get(w);if(!G)return;G.artifact.reportFinished(B?new Error(B):void 0);this._downloads.delete(w)}_videoStarted(w,B,G,K){const pe=new Qe.Artifact(w,G);this._idToVideo.set(B,{context:w,artifact:pe});K.then((w=>{if(w instanceof Le.Page){w.video=pe;w.emitOnContext(Pe.BrowserContext.Events.VideoStarted,pe);w.emit(Le.Page.Events.Video,pe)}}))}_takeVideo(w){const B=this._idToVideo.get(w);this._idToVideo.delete(w);return B?.artifact}_didClose(){for(const w of this.contexts())w._browserClosed();if(this._defaultContext)this._defaultContext._browserClosed();this.emit(Browser.Events.Disconnected);this.instrumentation.onBrowserClose(this)}async close(w){if(!this._startedClosing){if(w.reason)this._closeReason=w.reason;this._startedClosing=true;await this.options.browserProcess.close()}if(this.isConnected())await new Promise((w=>this.once(Browser.Events.Disconnected,w)))}async killForTests(){await this.options.browserProcess.kill()}}0&&0},6609:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BrowserContext:()=>BrowserContext,normalizeProxySettings:()=>normalizeProxySettings,validateBrowserContextOptions:()=>validateBrowserContextOptions,verifyClientCertificates:()=>verifyClientCertificates,verifyGeolocation:()=>verifyGeolocation});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(6741);var je=G(5749);var qe=G(742);var We=G(8793);var Ge=G(9666);var ze=G(3736);var Ye=G(3449);var Ke=G(3559);var Xe=G(6441);var rt=G(3062);var it=G(9814);var ot=__toESM(G(6182));var at=G(1921);var lt=G(1921);var ct=G(1442);var ut=G(9614);var ft=G(5235);var gt=__toESM(G(495));class BrowserContext extends it.SdkObject{constructor(w,B,G){super(w,"browser-context");this._pageBindings=new Map;this.requestInterceptors=[];this._closedStatus="open";this._permissions=new Map;this._downloads=new Set;this._origins=new Set;this._harRecorders=new Map;this._tempDirs=[];this._creatingStorageStatePage=false;this.initScripts=[];this._routesInFlight=new Set;this._playwrightBindingExposed=false;this.attribution.context=this;this._browser=w;this._options=B;this._browserContextId=G;this._isPersistentContext=!G;this._closePromise=new Promise((w=>this._closePromiseFulfill=w));this._selectors=new ut.Selectors(B.selectorEngines||[],B.testIdAttributeName);this.fetchRequest=new ze.BrowserContextAPIRequestContext(this);this.tracing=new ft.Tracing(this,w.options.tracesDir);this.clock=new qe.Clock(this);this.dialogManager=new Ge.DialogManager(this.instrumentation)}static{this.Events={Console:"console",Close:"close",Page:"page",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",RequestAborted:"requestaborted",RequestFulfilled:"requestfulfilled",RequestContinued:"requestcontinued",BeforeClose:"beforeclose",VideoStarted:"videostarted",RecorderEvent:"recorderevent"}}isPersistentContext(){return this._isPersistentContext}selectors(){return this._selectors}async _initialize(){if(this.attribution.playwright.options.isInternalPlaywright)return;this._debugger=new We.Debugger(this);if((0,je.debugMode)()==="inspector")await ct.RecorderApp.show(this,{pauseOnNextStatement:true});if(this._debugger.isPaused())ct.RecorderApp.showInspectorNoReply(this);this._debugger.on(We.Debugger.Events.PausedStateChanged,(()=>{if(this._debugger.isPaused())ct.RecorderApp.showInspectorNoReply(this)}));if((0,je.debugMode)()==="console"){await this.extendInjectedScript(`\n        function installConsoleApi(injectedScript) { injectedScript.consoleApi.install(); }\n        module.exports = { default: () => installConsoleApi };\n      `)}if(this._options.serviceWorkers==="block")await this.addInitScript(void 0,`\nif (navigator.serviceWorker) navigator.serviceWorker.register = async () => { console.warn('Service Worker registration blocked by Playwright'); };\n`);if(this._options.permissions)await this.grantPermissions(this._options.permissions)}debugger(){return this._debugger}async _ensureVideosPath(){if(this._options.recordVideo)await(0,Ye.mkdirIfNeeded)(Me.default.join(this._options.recordVideo.dir,"dummy"))}canResetForReuse(){if(this._closedStatus!=="open")return false;return true}static reusableContextHash(w){const B={...w};if(B.selectorEngines?.length===0)delete B.selectorEngines;for(const w of Object.keys(B)){const G=w;if(B[G]===wt[G])delete B[G]}for(const w of mt)delete B[w];return JSON.stringify(B)}async resetForReuse(w,B){await this.tracing.resetForReuse(w);if(B){for(const w of mt)this._options[w]=B[w];if(B.testIdAttributeName)this.selectors().setTestIdAttributeName(B.testIdAttributeName)}let G=this.pages()[0];const K=this.possiblyUninitializedPages().filter((w=>w!==G));for(const w of K)await w.close();if(G&&G.hasCrashed()){await G.close();G=void 0}await(G?.mainFrame().gotoImpl(w,"about:blank",{}));await this.clock.uninstall(w);await w.race(this.setUserAgent(this._options.userAgent));await w.race(this.doUpdateDefaultEmulatedMedia());await w.race(this.doUpdateDefaultViewport());await this.setStorageState(w,this._options.storageState,"resetForReuse");await(G?.resetForReuse(w))}_browserClosed(){for(const w of this.pages())w._didClose();this._didCloseInternal()}_didCloseInternal(){if(this._closedStatus==="closed"){return}this._clientCertificatesProxy?.close().catch((()=>{}));this.tracing.abort();if(this._isPersistentContext)this.onClosePersistent();this._closePromiseFulfill(new Error("Context closed"));this.emit(BrowserContext.Events.Close)}pages(){return this.possiblyUninitializedPages().filter((w=>w.initializedOrUndefined()))}async cookies(w=[]){if(w&&!Array.isArray(w))w=[w];return await this.doGetCookies(w)}async clearCookies(w){const B=await this.cookies();await this.doClearCookies();const matches=(w,B,G)=>{if(!G)return true;if(G instanceof RegExp){G.lastIndex=0;return G.test(w[B])}return w[B]===G};const G=B.filter((B=>!matches(B,"name",w.name)||!matches(B,"domain",w.domain)||!matches(B,"path",w.path)));await this.addCookies(G)}setHTTPCredentials(w){return this.doSetHTTPCredentials(w)}getBindingClient(w){return this._pageBindings.get(w)?.forClient}async exposePlaywrightBindingIfNeeded(){if(this._playwrightBindingExposed)return;this._playwrightBindingExposed=true;await this.doExposePlaywrightBinding();this.bindingsInitScript=lt.PageBinding.createInitScript();this.initScripts.push(this.bindingsInitScript);await this.doAddInitScript(this.bindingsInitScript);await this.safeNonStallingEvaluateInAllFrames(this.bindingsInitScript.source,"main")}needsPlaywrightBinding(){return this._playwrightBindingExposed}async exposeBinding(w,B,G,K,pe){if(this._pageBindings.has(B))throw new Error(`Function "${B}" has been already registered`);for(const w of this.pages()){if(w.getBinding(B))throw new Error(`Function "${B}" has been already registered in one of the pages`)}await w.race(this.exposePlaywrightBindingIfNeeded());const ye=new lt.PageBinding(B,K,G);ye.forClient=pe;this._pageBindings.set(B,ye);try{await w.race(this.doAddInitScript(ye.initScript));await w.race(this.safeNonStallingEvaluateInAllFrames(ye.initScript.source,"main"));return ye}catch(w){this._pageBindings.delete(B);throw w}}async removeExposedBindings(w){w=w.filter((w=>this._pageBindings.get(w.name)===w));for(const B of w)this._pageBindings.delete(B.name);await this.doRemoveInitScripts(w.map((w=>w.initScript)));const B=w.map((w=>`{ ${w.cleanupScript} };\n`)).join("");await this.safeNonStallingEvaluateInAllFrames(B,"main")}async grantPermissions(w,B){let G="*";if(B){const w=new URL(B);G=w.origin}const K=new Set(this._permissions.get(G)||[]);w.forEach((w=>K.add(w)));const pe=[...K.values()];this._permissions.set(G,pe);await this.doGrantPermissions(G,pe)}async clearPermissions(){this._permissions.clear();await this.doClearPermissions()}async setExtraHTTPHeaders(w,B){const G=this._options.extraHTTPHeaders;this._options.extraHTTPHeaders=B;try{await w.race(this.doUpdateExtraHTTPHeaders())}catch(w){this._options.extraHTTPHeaders=G;this.doUpdateExtraHTTPHeaders().catch((()=>{}));throw w}}async setOffline(w,B){const G=this._options.offline;this._options.offline=B;try{await w.race(this.doUpdateOffline())}catch(w){this._options.offline=G;this.doUpdateOffline().catch((()=>{}));throw w}}async _loadDefaultContextAsIs(w){if(!this.possiblyUninitializedPages().length){const B=rt.helper.waitForEvent(w,this,BrowserContext.Events.Page);await Promise.race([B.promise,this._closePromise])}const B=this.possiblyUninitializedPages()[0];if(!B)return;const G=await w.race(B.waitForInitializedOrError());if(G instanceof Error)throw G;await B.mainFrame()._waitForLoadState(w,"load");return B}async _loadDefaultContext(w){const B=await this._loadDefaultContextAsIs(w);if(!B)return;const G=this._browser.options.name;if(this._options.isMobile&&G==="chromium"||this._options.locale&&G==="webkit"){await this.newPage(w);await B.close()}}_authenticateProxyViaHeader(){const w=this._options.proxy||this._browser.options.proxy||{username:void 0,password:void 0};const{username:B,password:G}=w;if(B){this._options.httpCredentials={username:B,password:G};const w=Buffer.from(`${B}:${G}`).toString("base64");this._options.extraHTTPHeaders=ot.mergeHeaders([this._options.extraHTTPHeaders,ot.singleHeader("Proxy-Authorization",`Basic ${w}`)])}}_authenticateProxyViaCredentials(){const w=this._options.proxy||this._browser.options.proxy;if(!w)return;const{username:B,password:G}=w;if(B)this._options.httpCredentials={username:B,password:G||""}}async addInitScript(w,B){const G=new at.InitScript(B);this.initScripts.push(G);try{const B=this.doAddInitScript(G);if(w)await w.race(B);else await B;return G}catch(w){this.removeInitScripts([G]).catch((()=>{}));throw w}}async removeInitScripts(w){const B=new Set(w);this.initScripts=this.initScripts.filter((w=>!B.has(w)));await this.doRemoveInitScripts(w)}async addRequestInterceptor(w,B){this.requestInterceptors.push(B);await this.doUpdateRequestInterception()}async removeRequestInterceptor(w){const B=this.requestInterceptors.indexOf(w);if(B===-1)return;this.requestInterceptors.splice(B,1);await this.notifyRoutesInFlightAboutRemovedHandler(w);await this.doUpdateRequestInterception()}isClosingOrClosed(){return this._closedStatus!=="open"}async _deleteAllDownloads(){await Promise.all(Array.from(this._downloads).map((w=>w.artifact.deleteOnContextClose())))}async _deleteAllTempDirs(){await Promise.all(this._tempDirs.map((async w=>await Fe.default.promises.unlink(w).catch((w=>{})))))}setCustomCloseHandler(w){this._customCloseHandler=w}async close(w){if(this._closedStatus==="open"){if(w.reason)this._closeReason=w.reason;this.emit(BrowserContext.Events.BeforeClose);this._closedStatus="closing";for(const w of this._harRecorders.values())await w.flush();await this.tracing.flush();const B=[];for(const{context:w,artifact:G}of this._browser._idToVideo.values()){if(w===this)B.push(G.finishedPromise())}if(this._customCloseHandler){await this._customCloseHandler()}else{await this.doClose(w.reason)}B.push(this._deleteAllDownloads());B.push(this._deleteAllTempDirs());await Promise.all(B);if(!this._customCloseHandler)this._didCloseInternal()}await this._closePromise}async newPage(w,B){let G;try{this._creatingStorageStatePage=!!B;G=await w.race(this.doCreateNewPage());const K=await w.race(G.waitForInitializedOrError());if(K instanceof lt.Page){if(K.isClosed())throw new Error("Page has been closed.");return K}throw K}catch(w){await(G?.close({reason:"Failed to create page"}).catch((()=>{})));throw w}finally{this._creatingStorageStatePage=false}}addVisitedOrigin(w){this._origins.add(w)}async storageState(w,B=false){const G={cookies:await this.cookies(),origins:[]};const K=new Set(this._origins);const pe=`(() => {\n      const module = {};\n      ${gt.source}\n      const script = new (module.exports.StorageScript())(${this._browser.options.name==="firefox"});\n      return script.collect(${B});\n    })()`;for(const w of this.pages()){const B=w.mainFrame().origin();if(!B||!K.has(B))continue;try{const ye=await w.mainFrame().nonStallingEvaluateInExistingContext(pe,"utility");if(ye.localStorage.length||ye.indexedDB?.length)G.origins.push({origin:B,localStorage:ye.localStorage,indexedDB:ye.indexedDB});K.delete(B)}catch{}}if(K.size){const B=await this.newPage(w,true);try{await B.addRequestInterceptor(w,(w=>{w.fulfill({body:"<html></html>"}).catch((()=>{}))}),"prepend");for(const ye of K){const K=B.mainFrame();await K.gotoImpl(w,ye,{});const Se=await w.race(K.evaluateExpression(pe,{world:"utility"}));if(Se.localStorage.length||Se.indexedDB?.length)G.origins.push({origin:ye,localStorage:Se.localStorage,indexedDB:Se.indexedDB})}}finally{await B.close()}}return G}isCreatingStorageStatePage(){return this._creatingStorageStatePage}async setStorageState(w,B,G){let K;let pe;try{if(G!=="initial"){await w.race(this.clearCache());await w.race(this.doClearCookies())}if(B?.cookies)await w.race(this.addCookies(B.cookies));const ye=new Map(B?.origins?.map((w=>[w.origin,w]))||[]);const Se=new Set([...this._origins,...ye.keys()]);if(Se.size){if(G==="resetForReuse")K=this.pages()[0];if(!K)K=await this.newPage(w,G!=="resetForReuse");pe=w=>{w.fulfill({body:"<html></html>"}).catch((()=>{}))};await K.addRequestInterceptor(w,pe,"prepend");for(const B of Se){const G=K.mainFrame();await G.gotoImpl(w,B,{});const pe=`(() => {\n            const module = {};\n            ${gt.source}\n            const script = new (module.exports.StorageScript())(${this._browser.options.name==="firefox"});\n            return script.restore(${JSON.stringify(ye.get(B))});\n          })()`;await w.race(G.evaluateExpression(pe,{world:"utility"}))}}this._origins=new Set([...ye.keys()])}catch(w){(0,Ke.rewriteErrorMessage)(w,`Error setting storage state:\n`+w.message);throw w}finally{if(G!=="resetForReuse")await(K?.close());else if(pe)await(K?.removeRequestInterceptor(pe))}}async extendInjectedScript(w,B){const installInFrame=G=>G.extendInjectedScript(w,B).catch((()=>{}));const installInPage=w=>{w.on(lt.Page.Events.InternalFrameNavigatedToNewDocument,installInFrame);return Promise.all(w.frames().map(installInFrame))};this.on(BrowserContext.Events.Page,installInPage);return Promise.all(this.pages().map(installInPage))}async safeNonStallingEvaluateInAllFrames(w,B,G={}){await Promise.all(this.pages().map((K=>K.safeNonStallingEvaluateInAllFrames(w,B,G))))}harStart(w,B){const G=(0,Le.createGuid)();this._harRecorders.set(G,new Xe.HarRecorder(this,w,B));return G}async harExport(w){const B=this._harRecorders.get(w||"");return B.export()}addRouteInFlight(w){this._routesInFlight.add(w)}removeRouteInFlight(w){this._routesInFlight.delete(w)}async notifyRoutesInFlightAboutRemovedHandler(w){await Promise.all([...this._routesInFlight].map((B=>B.removeHandler(w))))}}function validateBrowserContextOptions(w,B){if(w.noDefaultViewport&&w.deviceScaleFactor!==void 0)throw new Error(`"deviceScaleFactor" option is not supported with null "viewport"`);if(w.noDefaultViewport&&!!w.isMobile)throw new Error(`"isMobile" option is not supported with null "viewport"`);if(w.acceptDownloads===void 0&&B.name!=="electron")w.acceptDownloads="accept";else if(w.acceptDownloads===void 0&&B.name==="electron")w.acceptDownloads="internal-browser-default";if(!w.viewport&&!w.noDefaultViewport)w.viewport={width:1280,height:720};if(w.recordVideo){if(!w.recordVideo.size){if(w.noDefaultViewport){w.recordVideo.size={width:800,height:600}}else{const B=w.viewport;const G=Math.min(1,800/Math.max(B.width,B.height));w.recordVideo.size={width:Math.floor(B.width*G),height:Math.floor(B.height*G)}}}w.recordVideo.size.width&=~1;w.recordVideo.size.height&=~1}if(w.proxy)w.proxy=normalizeProxySettings(w.proxy);verifyGeolocation(w.geolocation)}function verifyGeolocation(w){if(!w)return;w.accuracy=w.accuracy||0;const{longitude:B,latitude:G,accuracy:K}=w;if(B<-180||B>180)throw new Error(`geolocation.longitude: precondition -180 <= LONGITUDE <= 180 failed.`);if(G<-90||G>90)throw new Error(`geolocation.latitude: precondition -90 <= LATITUDE <= 90 failed.`);if(K<0)throw new Error(`geolocation.accuracy: precondition 0 <= ACCURACY failed.`)}function verifyClientCertificates(w){if(!w)return;for(const B of w){if(!B.origin)throw new Error(`clientCertificates.origin is required`);if(!B.cert&&!B.key&&!B.passphrase&&!B.pfx)throw new Error("None of cert, key, passphrase or pfx is specified");if(B.cert&&!B.key)throw new Error("cert is specified without key");if(!B.cert&&B.key)throw new Error("key is specified without cert");if(B.pfx&&(B.cert||B.key))throw new Error("pfx is specified together with cert, key or passphrase")}}function normalizeProxySettings(w){let{server:B,bypass:G}=w;let K;try{K=new URL(B);if(!K.host||!K.protocol)K=new URL("http://"+B)}catch(w){K=new URL("http://"+B)}if(K.protocol==="socks4:"&&(w.username||w.password))throw new Error(`Socks4 proxy protocol does not support authentication`);if(K.protocol==="socks5:"&&(w.username||w.password))throw new Error(`Browser does not support socks5 proxy authentication`);B=K.protocol+"//"+K.host;if(G)G=G.split(",").map((w=>w.trim())).join(",");return{...w,server:B,bypass:G}}const mt=["colorScheme","forcedColors","reducedMotion","contrast","screen","userAgent","viewport","testIdAttributeName"];const wt={noDefaultViewport:false,ignoreHTTPSErrors:false,javaScriptEnabled:true,bypassCSP:false,offline:false,isMobile:false,hasTouch:false,acceptDownloads:"accept",strictSelectors:false,serviceWorkers:"allow",locale:"en-US"};0&&0},7684:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BrowserType:()=>BrowserType,kNoXServerRunningError:()=>ft});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(857));var Le=__toESM(G(6928));var je=G(6609);var qe=G(5749);var We=G(8164);var Ge=G(3587);var ze=G(3647);var Ye=G(3449);var Ke=G(3062);var Xe=G(9814);var rt=G(8969);var it=G(8719);var ot=G(4506);var at=G(586);var lt=G(8451);var ct=G(189);var ut=G(5809);const ft="Looks like you launched a headed browser without having a XServer running.\nSet either 'headless: true' or use 'xvfb-run <your-playwright-app>' before running Playwright.\n\n<3 Playwright Team";class BrowserType extends Xe.SdkObject{constructor(w,B){super(w,"browser-type");this.attribution.browserType=this;this._name=B;this.logName="browser"}executablePath(){return at.registry.findExecutable(this._name).executablePath(this.attribution.playwright.options.sdkLanguage)||""}name(){return this._name}async launch(w,B,G){B=this._validateLaunchOptions(B);const K=B.__testHookSeleniumRemoteURL||process.env.SELENIUM_REMOTE_URL;if(K)return this._launchWithSeleniumHub(w,K,B);return this._innerLaunchWithRetries(w,B,void 0,Ke.helper.debugProtocolLogger(G)).catch((w=>{throw this._rewriteStartupLog(w)}))}async launchPersistentContext(w,B,G){const K=this._validateLaunchOptions(G);let pe;if(G.clientCertificates?.length){pe=await lt.ClientCertificatesProxy.create(w,G);K.proxyOverride=pe.proxySettings();G={...G};G.internalIgnoreHTTPSErrors=true}try{const ye=await this._innerLaunchWithRetries(w,K,G,Ke.helper.debugProtocolLogger(),B).catch((w=>{throw this._rewriteStartupLog(w)}));ye._defaultContext._clientCertificatesProxy=pe;return ye._defaultContext}catch(w){await(pe?.close().catch((()=>{})));throw w}}async _innerLaunchWithRetries(w,B,G,K,pe){try{return await this._innerLaunch(w,B,G,K,pe)}catch(ye){const Se=typeof ye==="object"&&typeof ye.message==="string"?ye.message:"";if(Se.includes("Inconsistency detected by ld.so")){w.log(`<restarting browser due to hitting race condition in glibc>`);return this._innerLaunch(w,B,G,K,pe)}throw ye}}async _innerLaunch(w,B,G,K,pe){B.proxy=B.proxy?(0,je.normalizeProxySettings)(B.proxy):void 0;const ye=new ut.RecentLogsCollector;const{browserProcess:Se,userDataDir:Be,artifactsDir:Qe,transport:Pe}=await this._launchProcess(w,B,!!G,ye,pe);try{if(B.__testHookBeforeCreateBrowser)await w.race(B.__testHookBeforeCreateBrowser());const pe={name:this._name,isChromium:this._name==="chromium",channel:B.channel,slowMo:B.slowMo,persistent:G,headful:!B.headless,artifactsDir:Qe,downloadsPath:B.downloadsPath||Qe,tracesDir:B.tracesDir||Qe,browserProcess:Se,customExecutablePath:B.executablePath,proxy:B.proxy,protocolLogger:K,browserLogsCollector:ye,wsEndpoint:Pe instanceof ct.WebSocketTransport?Pe.wsEndpoint:void 0,originalLaunchOptions:B};if(G)(0,je.validateBrowserContextOptions)(G,pe);copyTestHooks(B,pe);const Fe=await w.race(this.connectToTransport(Pe,pe,ye));Fe._userDataDirForTest=Be;if(G&&!B.ignoreAllDefaultArgs)await Fe._defaultContext._loadDefaultContext(w);return Fe}catch(w){await Se.close().catch((()=>{}));throw w}}async _prepareToLaunch(w,B,G){const{ignoreDefaultArgs:K,ignoreAllDefaultArgs:pe,args:ye=[],executablePath:Se=null}=w;await this._createArtifactDirs(w);const Be=[];const Qe=await Fe.default.promises.mkdtemp(Le.default.join(Me.default.tmpdir(),"playwright-artifacts-"));Be.push(Qe);if(G){(0,We.assert)(Le.default.isAbsolute(G),"userDataDir must be an absolute path");if(!await(0,Ye.existsAsync)(G))await Fe.default.promises.mkdir(G,{recursive:true,mode:448})}else{G=await Fe.default.promises.mkdtemp(Le.default.join(Me.default.tmpdir(),`playwright_${this._name}dev_profile-`));Be.push(G)}await this.prepareUserDataDir(w,G);const Pe=[];if(pe)Pe.push(...ye);else if(K)Pe.push(...(await this.defaultArgs(w,B,G)).filter((w=>K.indexOf(w)===-1)));else Pe.push(...await this.defaultArgs(w,B,G));let je;if(Se){if(!await(0,Ye.existsAsync)(Se))throw new Error(`Failed to launch ${this._name} because executable doesn't exist at ${Se}`);je=Se}else{const B=at.registry.findExecutable(this.getExecutableName(w));if(!B||B.browserName!==this._name)throw new Error(`Unsupported ${this._name} channel "${w.channel}"`);je=B.executablePathOrDie(this.attribution.playwright.options.sdkLanguage);await at.registry.validateHostRequirementsForExecutablesIfNeeded([B],this.attribution.playwright.options.sdkLanguage)}return{executable:je,browserArguments:Pe,userDataDir:G,artifactsDir:Qe,tempDirectories:Be}}async _launchProcess(w,B,G,K,pe){const{handleSIGINT:ye=true,handleSIGTERM:Se=true,handleSIGHUP:Be=true}=B;const Qe=B.env?(0,it.envArrayToObject)(B.env):process.env;const Pe=await w.race(this._prepareToLaunch(B,G,pe));let Fe=void 0;let Me=void 0;const Le=new Ge.ManualPromise;const{launchedProcess:je,gracefullyClose:qe,kill:We}=await(0,it.launchProcess)({command:Pe.executable,args:Pe.browserArguments,env:this.amendEnvironment(Qe,Pe.userDataDir,G,B),handleSIGINT:ye,handleSIGTERM:Se,handleSIGHUP:Be,log:B=>{w.log(B);K.log(B)},stdio:"pipe",tempDirectories:Pe.tempDirectories,attemptToGracefullyClose:async()=>{if(B.__testHookGracefullyClose)await B.__testHookGracefullyClose();if(Fe){this.attemptToGracefullyCloseBrowser(Fe)}else{throw new Error("Force-killing the browser because no transport is available to gracefully close it.")}},onExit:(w,B)=>{Le.resolve();if(Me&&Me.onclose)Me.onclose(w,B)}});async function closeOrKill(w){let B;try{await Promise.race([qe(),new Promise(((G,K)=>B=setTimeout(K,w)))])}catch(w){await We().catch((w=>{}))}finally{clearTimeout(B)}}Me={onclose:void 0,process:je,close:()=>closeOrKill(B.__testHookBrowserCloseTimeout||ze.DEFAULT_PLAYWRIGHT_TIMEOUT),kill:We};try{const{wsEndpoint:G}=await w.race([this.waitForReadyState(B,K),Le.then((()=>({wsEndpoint:void 0})))]);if(B.cdpPort!==void 0||!this.supportsPipeTransport()){Fe=await ct.WebSocketTransport.connect(w,G)}else{const w=je.stdio;Fe=new rt.PipeTransport(w[3],w[4])}return{browserProcess:Me,artifactsDir:Pe.artifactsDir,userDataDir:Pe.userDataDir,transport:Fe}}catch(w){await closeOrKill(ze.DEFAULT_PLAYWRIGHT_TIMEOUT).catch((()=>{}));throw w}}async _createArtifactDirs(w){if(w.downloadsPath)await Fe.default.promises.mkdir(w.downloadsPath,{recursive:true});if(w.tracesDir)await Fe.default.promises.mkdir(w.tracesDir,{recursive:true})}async connectOverCDP(w,B,G){throw new Error("CDP connections are only supported by Chromium")}async _launchWithSeleniumHub(w,B,G){throw new Error("Connecting to SELENIUM_REMOTE_URL is only supported by Chromium")}_validateLaunchOptions(w){const{devtools:B=false}=w;let{headless:G=!B,downloadsPath:K,proxy:pe}=w;if((0,qe.debugMode)()==="inspector")G=false;if(K&&!Le.default.isAbsolute(K))K=Le.default.join(process.cwd(),K);if(w.socksProxyPort)pe={server:`socks5://127.0.0.1:${w.socksProxyPort}`};return{...w,devtools:B,headless:G,downloadsPath:K,proxy:pe}}_createUserDataDirArgMisuseError(w){switch(this.attribution.playwright.options.sdkLanguage){case"java":return new Error(`Pass userDataDir parameter to 'BrowserType.launchPersistentContext(userDataDir, options)' instead of specifying '${w}' argument`);case"python":return new Error(`Pass user_data_dir parameter to 'browser_type.launch_persistent_context(user_data_dir, **kwargs)' instead of specifying '${w}' argument`);case"csharp":return new Error(`Pass userDataDir parameter to 'BrowserType.LaunchPersistentContextAsync(userDataDir, options)' instead of specifying '${w}' argument`);default:return new Error(`Pass userDataDir parameter to 'browserType.launchPersistentContext(userDataDir, options)' instead of specifying '${w}' argument`)}}_rewriteStartupLog(w){if(!(0,ot.isProtocolError)(w))return w;return this.doRewriteStartupLog(w)}async waitForReadyState(w,B){return{}}async prepareUserDataDir(w,B){}supportsPipeTransport(){return true}getExecutableName(w){return w.channel||this._name}}function copyTestHooks(w,B){for(const[G,K]of Object.entries(w)){if(G.startsWith("__testHook"))B[G]=K}}0&&0},358:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{compressCallLog:()=>compressCallLog,findRepeatedSubsequencesForTest:()=>Se});w.exports=__toCommonJS(ye);function compressCallLog(w){const B=[];for(const G of findRepeatedSubsequences(w)){for(let w=0;w<G.sequence.length;w++){const K=G.sequence[w];const pe=K.match(/^\s*/);const ye="  "+pe?.[0]||0;const Se=`${G.count}  `;if(G.count>1&&w===0)B.push(ye+Se+K.trim());else if(G.count>1)B.push(ye+" ".repeat(Se.length-2)+"- "+K.trim());else B.push(ye+"- "+K.trim())}}return B}function findRepeatedSubsequences(w){const B=w.length;const G=[];let K=0;const arraysEqual=(w,B)=>{if(w.length!==B.length)return false;for(let G=0;G<w.length;G++){if(w[G]!==B[G])return false}return true};while(K<B){let pe=1;let ye=[w[K]];let Se=1;for(let G=1;G<=B-K;G++){const Be=w.slice(K,K+G);let Qe=1;while(K+G*Qe<=B&&arraysEqual(w.slice(K+G*(Qe-1),K+G*Qe),Be))Qe+=1;Qe-=1;if(Qe>1&&Qe*G>pe*Se){pe=Qe;ye=Be;Se=G}}G.push({sequence:ye,count:pe});K+=Se*pe}return G}const Se=findRepeatedSubsequences;0&&0},9101:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Chromium:()=>Chromium,waitForReadyState:()=>waitForReadyState});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(857));var Le=__toESM(G(6928));var je=G(7213);var qe=G(2986);var We=G(8443);var Ge=G(7651);var ze=G(3701);var Ye=G(5809);var Ke=G(3587);var Xe=G(864);var rt=G(818);var it=G(6609);var ot=G(7684);var at=G(3062);var lt=G(586);var ct=G(189);var ut=G(2302);var ft=G(9612);var gt=G(3449);var mt=G(8719);const wt=Le.default.join(Me.default.tmpdir(),"playwright-artifacts-");class Chromium extends ot.BrowserType{constructor(w){super(w,"chromium");if((0,Ge.debugMode)()==="inspector")this._devtools=this._createDevTools()}async connectOverCDP(w,B,G){return await this._connectOverCDPInternal(w,B,G)}async _connectOverCDPInternal(w,B,G,K){let pe;if(G.headers)pe=(0,Ge.headersArrayToObject)(G.headers,false);if(!pe)pe={"User-Agent":(0,rt.getUserAgent)()};else if(pe&&!Object.keys(pe).some((w=>w.toLowerCase()==="user-agent")))pe["User-Agent"]=(0,rt.getUserAgent)();const ye=await w.race(Fe.default.promises.mkdtemp(wt));const doCleanup=async()=>{await(0,gt.removeFolders)([ye]);const w=K;K=void 0;await(w?.())};let Se;const doClose=async()=>{await(Se?.closeAndWait());await doCleanup()};try{const K=await urlToWSEndpoint(w,B,pe);Se=await ct.WebSocketTransport.connect(w,K,{headers:pe});const Be={close:doClose,kill:doClose};const Qe={noDefaultViewport:true};const Pe={slowMo:G.slowMo,name:"chromium",isChromium:true,persistent:Qe,browserProcess:Be,protocolLogger:at.helper.debugProtocolLogger(),browserLogsCollector:new Ye.RecentLogsCollector,artifactsDir:ye,downloadsPath:G.downloadsPath||ye,tracesDir:G.tracesDir||ye,originalLaunchOptions:{}};(0,it.validateBrowserContextOptions)(Qe,Pe);const Fe=await w.race(qe.CRBrowser.connect(this.attribution.playwright,Se,Pe));Fe._isCollocatedWithServer=false;Fe.on(ft.Browser.Events.Disconnected,doCleanup);return Fe}catch(w){await doClose().catch((()=>{}));throw w}}_createDevTools(){const w=lt.registry.findExecutable("chromium").directory;return w?new ut.CRDevTools(Le.default.join(w,"devtools-preferences.json")):void 0}async connectToTransport(w,B,G){let K=this._devtools;if(B.__testHookForDevTools){K=this._createDevTools();await B.__testHookForDevTools(K)}try{return await qe.CRBrowser.connect(this.attribution.playwright,w,B,K)}catch(w){if(G.recentLogs().some((w=>w.includes("Failed to create a ProcessSingleton for your profile directory.")))){throw new Error("Failed to create a ProcessSingleton for your profile directory. This usually means that the profile is already in use by another instance of Chromium.")}throw w}}doRewriteStartupLog(w){if(!w.logs)return w;if(w.logs.includes("Missing X server"))w.logs="\n"+(0,ze.wrapInASCIIBox)(ot.kNoXServerRunningError,1);if(!w.logs.includes("crbug.com/357670")&&!w.logs.includes("No usable sandbox!")&&!w.logs.includes("crbug.com/638180"))return w;w.logs=[`Chromium sandboxing failed!`,`================================`,`To avoid the sandboxing issue, do either of the following:`,`  - (preferred): Configure your environment to support sandboxing`,`  - (alternative): Launch Chromium without sandbox using 'chromiumSandbox: false' option`,`================================`,``].join("\n");return w}amendEnvironment(w){return w}attemptToGracefullyCloseBrowser(w){const B={method:"Browser.close",id:We.kBrowserCloseMessageId,params:{}};w.send(B)}async _launchWithSeleniumHub(w,B,G){await w.race(this._createArtifactDirs(G));if(!B.endsWith("/"))B=B+"/";const K=this._innerDefaultArgs(G);K.push("--remote-debugging-port=0");const pe=G.channel&&G.channel.startsWith("msedge");let ye={browserName:pe?"MicrosoftEdge":"chrome",[pe?"ms:edgeOptions":"goog:chromeOptions"]:{args:K}};if(process.env.SELENIUM_REMOTE_CAPABILITIES){const B=parseSeleniumRemoteParams({name:"capabilities",value:process.env.SELENIUM_REMOTE_CAPABILITIES},w);if(B)ye={...ye,...B}}let Se={};if(process.env.SELENIUM_REMOTE_HEADERS){const B=parseSeleniumRemoteParams({name:"headers",value:process.env.SELENIUM_REMOTE_HEADERS},w);if(B)Se=B}w.log(`<selenium> connecting to ${B}`);const Be=await(0,Xe.fetchData)(w,{url:B+"session",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",...Se},data:JSON.stringify({capabilities:{alwaysMatch:ye}})},seleniumErrorHandler);const Qe=JSON.parse(Be).value;const Pe=Qe.sessionId;w.log(`<selenium> connected to sessionId=${Pe}`);const disconnectFromSelenium=async()=>{w.log(`<selenium> disconnecting from sessionId=${Pe}`);await(0,Xe.fetchData)(void 0,{url:B+"session/"+Pe,method:"DELETE",headers:Se}).catch((B=>w.log(`<error disconnecting from selenium>: ${B}`)));w.log(`<selenium> disconnected from sessionId=${Pe}`);mt.gracefullyCloseSet.delete(disconnectFromSelenium)};mt.gracefullyCloseSet.add(disconnectFromSelenium);try{const K=Qe.capabilities;let pe;if(K["se:cdp"]){w.log(`<selenium> using selenium v4`);const G=addProtocol(K["se:cdp"]);pe=new URL(G);if(pe.hostname==="localhost"||pe.hostname==="127.0.0.1")pe.hostname=new URL(B).hostname;w.log(`<selenium> retrieved endpoint ${pe.toString()} for sessionId=${Pe}`)}else{w.log(`<selenium> using selenium v3`);const G=K["goog:chromeOptions"];const ye=G&&typeof G==="object"?G:void 0;const Be=ye&&typeof ye.debuggerAddress==="string"?ye.debuggerAddress:void 0;const Qe=typeof G==="string"?G:void 0;const Fe=addProtocol(Be||Qe).replace("localhost","127.0.0.1");w.log(`<selenium> retrieved endpoint ${Fe} for sessionId=${Pe}`);pe=new URL(Fe);if(pe.hostname==="localhost"||pe.hostname==="127.0.0.1"){const G=new URL(B).origin+"/grid/api/testsession?session="+Pe;try{const B=await(0,Xe.fetchData)(w,{url:G,method:"GET",headers:Se},seleniumErrorHandler);const K=JSON.parse(B).proxyId;pe.hostname=new URL(K).hostname;w.log(`<selenium> resolved endpoint ip ${pe.toString()} for sessionId=${Pe}`)}catch(B){w.log(`<selenium> unable to resolve endpoint ip for sessionId=${Pe}, running in standalone?`)}}}return await this._connectOverCDPInternal(w,pe.toString(),{...G,headers:(0,Ge.headersObjectToArray)(Se)},disconnectFromSelenium)}catch(w){await disconnectFromSelenium();throw w}}async defaultArgs(w,B,G){const K=this._innerDefaultArgs(w);K.push(`--user-data-dir=${G}`);if(w.cdpPort!==void 0)K.push(`--remote-debugging-port=${w.cdpPort}`);else K.push("--remote-debugging-pipe");if(B)K.push("about:blank");else K.push("--no-startup-window");return K}_innerDefaultArgs(w){const{args:B=[]}=w;const G=B.find((w=>w.startsWith("--user-data-dir")));if(G)throw this._createUserDataDirArgMisuseError("--user-data-dir");if(B.find((w=>w.startsWith("--remote-debugging-pipe"))))throw new Error("Playwright manages remote debugging connection itself.");if(B.find((w=>!w.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const K=[...(0,je.chromiumSwitches)(w.assistantMode,w.channel)];if(Me.default.platform()==="darwin"){K.push("--enable-unsafe-swiftshader")}if(w.devtools)K.push("--auto-open-devtools-for-tabs");if(w.headless){K.push("--headless");K.push("--hide-scrollbars","--mute-audio","--blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4")}if(w.chromiumSandbox!==true)K.push("--no-sandbox");const pe=w.proxyOverride||w.proxy;if(pe){const B=new URL(pe.server);const G=B.protocol==="socks5:";if(G&&!w.socksProxyPort){K.push(`--host-resolver-rules="MAP * ~NOTFOUND , EXCLUDE ${B.hostname}"`)}K.push(`--proxy-server=${pe.server}`);const ye=[];if(w.socksProxyPort)ye.push("<-loopback>");if(pe.bypass)ye.push(...pe.bypass.split(",").map((w=>w.trim())).map((w=>w.startsWith(".")?"*"+w:w)));if(!process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK&&!ye.includes("<-loopback>"))ye.push("<-loopback>");if(ye.length>0)K.push(`--proxy-bypass-list=${ye.join(";")}`)}K.push(...B);return K}async waitForReadyState(w,B){return waitForReadyState(w,B)}getExecutableName(w){if(w.channel)return w.channel;return w.headless?"chromium-headless-shell":"chromium"}}async function waitForReadyState(w,B){if(w.cdpPort===void 0&&!w.args?.some((w=>w.startsWith("--remote-debugging-port"))))return{};const G=new Ke.ManualPromise;B.onMessage((w=>{if(w.includes("Failed to create a ProcessSingleton for your profile directory.")){G.reject(new Error("Failed to create a ProcessSingleton for your profile directory. This usually means that the profile is already in use by another instance of Chromium."))}const B=w.match(/DevTools listening on (.*)/);if(B)G.resolve({wsEndpoint:B[1]})}));return G}async function urlToWSEndpoint(w,B,G){if(B.startsWith("ws"))return B;w.log(`<ws preparing> retrieving websocket url from ${B}`);const K=new URL(B);if(!K.pathname.endsWith("/"))K.pathname+="/";K.pathname+="json/version/";const pe=K.toString();const ye=await(0,Xe.fetchData)(w,{url:pe,headers:G},(async(w,B)=>new Error(`Unexpected status ${B.statusCode} when connecting to ${pe}.\nThis does not look like a DevTools server, try connecting via ws://.`)));return JSON.parse(ye).webSocketDebuggerUrl}async function seleniumErrorHandler(w,B){const G=await streamToString(B);let K=G;try{const w=JSON.parse(G);K=w.value.localizedMessage||w.value.message}catch(w){}return new Error(`Error connecting to Selenium at ${w.url}: ${K}`)}function addProtocol(w){if(!["ws://","wss://","http://","https://"].some((B=>w.startsWith(B))))return"http://"+w;return w}function streamToString(w){return new Promise(((B,G)=>{const K=[];w.on("data",(w=>K.push(Buffer.from(w))));w.on("error",G);w.on("end",(()=>B(Buffer.concat(K).toString("utf8"))))}))}function parseSeleniumRemoteParams(w,B){try{const G=JSON.parse(w.value);B.log(`<selenium> using additional ${w.name} "${w.value}"`);return G}catch(G){B.log(`<selenium> ignoring additional ${w.name} "${w.value}": ${G}`)}}0&&0},7213:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{chromiumSwitches:()=>chromiumSwitches});w.exports=__toCommonJS(ye);const disabledFeatures=w=>["AcceptCHFrame","AvoidUnnecessaryBeforeUnloadCheckSync","DestroyProfileOnBrowserClose","DialMediaRouteProvider","GlobalMediaControls","HttpsUpgrades","LensOverlay","MediaRouter","PaintHolding","ThirdPartyStoragePartitioning","Translate","AutoDeElevate","RenderDocument",w?"AutomationControlled":""].filter(Boolean);const chromiumSwitches=(w,B)=>["--disable-field-trial-config","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-back-forward-cache","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-component-update","--no-default-browser-check","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features="+disabledFeatures(w).join(","),process.env.PLAYWRIGHT_LEGACY_SCREENSHOT?"":"--enable-features=CDPScreenshotNewSurface","--allow-pre-commit-input","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--password-store=basic","--use-mock-keychain","--no-service-autorun","--export-tagged-pdf","--disable-search-engine-choice-screen","--unsafely-disable-devtools-self-xss-warnings","--edge-skip-compat-layer-relaunch",w?"":"--enable-automation"].filter(Boolean);0&&0},3486:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{getAccessibilityTree:()=>getAccessibilityTree});w.exports=__toCommonJS(ye);async function getAccessibilityTree(w,B){const{nodes:G}=await w.send("Accessibility.getFullAXTree");const K=CRAXNode.createTree(w,G);return{tree:K,needle:B?await K._findElement(B):null}}class CRAXNode{constructor(w,B){this._children=[];this._richlyEditable=false;this._editable=false;this._focusable=false;this._expanded=false;this._hidden=false;this._client=w;this._payload=B;this._name=this._payload.name?this._payload.name.value:"";this._role=this._payload.role?this._payload.role.value:"Unknown";for(const w of this._payload.properties||[]){if(w.name==="editable"){this._richlyEditable=w.value.value==="richtext";this._editable=true}if(w.name==="focusable")this._focusable=w.value.value;if(w.name==="expanded")this._expanded=w.value.value;if(w.name==="hidden")this._hidden=w.value.value}}_isPlainTextField(){if(this._richlyEditable)return false;if(this._editable)return true;return this._role==="textbox"||this._role==="ComboBox"||this._role==="searchbox"}_isTextOnlyObject(){const w=this._role;return w==="LineBreak"||w==="text"||w==="InlineTextBox"||w==="StaticText"}_hasFocusableChild(){if(this._cachedHasFocusableChild===void 0){this._cachedHasFocusableChild=false;for(const w of this._children){if(w._focusable||w._hasFocusableChild()){this._cachedHasFocusableChild=true;break}}}return this._cachedHasFocusableChild}children(){return this._children}async _findElement(w){const B=w._objectId;const{node:{backendNodeId:G}}=await this._client.send("DOM.describeNode",{objectId:B});const K=this.find((w=>w._payload.backendDOMNodeId===G));return K||null}find(w){if(w(this))return this;for(const B of this._children){const G=B.find(w);if(G)return G}return null}isLeafNode(){if(!this._children.length)return true;if(this._isPlainTextField()||this._isTextOnlyObject())return true;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return true;default:break}if(this._hasFocusableChild())return false;if(this._focusable&&this._role!=="WebArea"&&this._role!=="RootWebArea"&&this._name)return true;if(this._role==="heading"&&this._name)return true;return false}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":return true;default:return false}}isInteresting(w){const B=this._role;if(B==="Ignored"||this._hidden)return false;if(this._focusable||this._richlyEditable)return true;if(this.isControl())return true;if(w)return false;return this.isLeafNode()&&!!this._name}normalizedRole(){switch(this._role){case"RootWebArea":return"WebArea";case"StaticText":return"text";default:return this._role}}serialize(){const w=new Map;for(const B of this._payload.properties||[])w.set(B.name.toLowerCase(),B.value.value);if(this._payload.description)w.set("description",this._payload.description.value);const B={role:this.normalizedRole(),name:this._payload.name?this._payload.name.value||"":""};const G=["description","keyshortcuts","roledescription","valuetext"];for(const K of G){if(!w.has(K))continue;B[K]=w.get(K)}const K=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"];for(const G of K){if(G==="focused"&&(this._role==="WebArea"||this._role==="RootWebArea"))continue;const K=w.get(G);if(!K)continue;B[G]=K}const pe=["level","valuemax","valuemin"];for(const G of pe){if(!w.has(G))continue;B[G]=w.get(G)}const ye=["autocomplete","haspopup","invalid","orientation"];for(const G of ye){const K=w.get(G);if(!K||K==="false")continue;B[G]=K}const Se=B;if(this._payload.value){if(typeof this._payload.value.value==="string")Se.valueString=this._payload.value.value;if(typeof this._payload.value.value==="number")Se.valueNumber=this._payload.value.value}if(w.has("checked"))Se.checked=w.get("checked")==="true"?"checked":w.get("checked")==="false"?"unchecked":"mixed";if(w.has("pressed"))Se.pressed=w.get("pressed")==="true"?"pressed":w.get("pressed")==="false"?"released":"mixed";return Se}static createTree(w,B){const G=new Map;for(const K of B)G.set(K.nodeId,new CRAXNode(w,K));for(const w of G.values()){for(const B of w._payload.childIds||[])w._children.push(G.get(B))}return G.values().next().value}}0&&0},2986:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{CRBrowser:()=>CRBrowser,CRBrowserContext:()=>CRBrowserContext});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(6928));var Me=G(8164);var Le=G(6741);var je=G(4960);var qe=G(9612);var We=G(6609);var Ge=G(3300);var ze=__toESM(G(6182));var Ye=G(1921);var Ke=G(8443);var Xe=G(5823);var rt=G(4080);var it=G(7495);class CRBrowser extends qe.Browser{constructor(w,B,G){super(w,G);this._clientRootSessionPromise=null;this._contexts=new Map;this._crPages=new Map;this._serviceWorkers=new Map;this._version="";this._tracingRecording=false;this._userAgent="";this._connection=B;this._session=this._connection.rootSession;this._connection.on(Ke.ConnectionEvents.Disconnected,(()=>this._didDisconnect()));this._session.on("Target.attachedToTarget",this._onAttachedToTarget.bind(this));this._session.on("Target.detachedFromTarget",this._onDetachedFromTarget.bind(this));this._session.on("Browser.downloadWillBegin",this._onDownloadWillBegin.bind(this));this._session.on("Browser.downloadProgress",this._onDownloadProgress.bind(this))}static async connect(w,B,G,K){G={...G};const pe=new Ke.CRConnection(w,B,G.protocolLogger,G.browserLogsCollector);const ye=new CRBrowser(w,pe,G);ye._devtools=K;if(ye.isClank())ye._isCollocatedWithServer=false;const Se=pe.rootSession;if(G.__testHookOnConnectToBrowser)await G.__testHookOnConnectToBrowser();const Be=await Se.send("Browser.getVersion");ye._version=Be.product.substring(Be.product.indexOf("/")+1);ye._userAgent=Be.userAgent;ye.options.headful=!Be.userAgent.includes("Headless");if(!G.persistent){await Se.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true});return ye}ye._defaultContext=new CRBrowserContext(ye,void 0,G.persistent);await Promise.all([Se.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true}).then((async()=>{await Se.send("Target.getTargetInfo")})),ye._defaultContext._initialize()]);await ye._waitForAllPagesToBeInitialized();return ye}async doCreateNewContext(w){const B=w.proxyOverride||w.proxy;let G=void 0;if(B){if(process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK)G=B.bypass;else G="<-loopback>"+(B.bypass?`,${B.bypass}`:"")}const{browserContextId:K}=await this._session.send("Target.createBrowserContext",{disposeOnDetach:true,proxyServer:B?B.server:void 0,proxyBypassList:G});const pe=new CRBrowserContext(this,K,w);await pe._initialize();this._contexts.set(K,pe);return pe}contexts(){return Array.from(this._contexts.values())}version(){return this._version}userAgent(){return this._userAgent}_platform(){if(this._userAgent.includes("Windows"))return"win";if(this._userAgent.includes("Macintosh"))return"mac";return"linux"}isClank(){return this.options.name==="clank"}async _waitForAllPagesToBeInitialized(){await Promise.all([...this._crPages.values()].map((w=>w._page.waitForInitializedOrError())))}_onAttachedToTarget({targetInfo:w,sessionId:B,waitingForDebugger:G}){if(w.type==="browser")return;const K=this._session.createChildSession(B);(0,Me.assert)(w.browserContextId,"targetInfo: "+JSON.stringify(w,null,2));let pe=this._contexts.get(w.browserContextId)||null;if(!pe){pe=this._defaultContext}if(w.type==="other"&&w.url.startsWith("devtools://devtools")&&this._devtools){this._devtools.install(K);return}const ye=w.type==="other"&&process.env.PW_CHROMIUM_ATTACH_TO_OTHER;if(!pe||w.type==="other"&&!ye){K.detach().catch((()=>{}));return}(0,Me.assert)(!this._crPages.has(w.targetId),"Duplicate target "+w.targetId);(0,Me.assert)(!this._serviceWorkers.has(w.targetId),"Duplicate target "+w.targetId);if(w.type==="page"||ye){const B=w.openerId?this._crPages.get(w.openerId)||null:null;const G=new Xe.CRPage(K,w.targetId,pe,B,{hasUIWindow:w.type==="page"});this._crPages.set(w.targetId,G);return}if(w.type==="service_worker"){const B=new it.CRServiceWorker(pe,K,w.url);this._serviceWorkers.set(w.targetId,B);pe.emit(CRBrowserContext.CREvents.ServiceWorker,B);return}K.detach().catch((()=>{}))}_onDetachedFromTarget(w){const B=w.targetId;const G=this._crPages.get(B);if(G){this._crPages.delete(B);G.didClose();return}const K=this._serviceWorkers.get(B);if(K){this._serviceWorkers.delete(B);K.didClose();return}}_didDisconnect(){for(const w of this._crPages.values())w.didClose();this._crPages.clear();for(const w of this._serviceWorkers.values())w.didClose();this._serviceWorkers.clear();this._didClose()}_findOwningPage(w){for(const B of this._crPages.values()){const G=B._page.frameManager.frame(w);if(G)return B}return null}_onDownloadWillBegin(w){const B=this._findOwningPage(w.frameId);if(!B){return}B.willBeginDownload();let G=B._page.initializedOrUndefined();if(!G&&B._opener)G=B._opener._page.initializedOrUndefined();if(!G)return;this._downloadCreated(G,w.guid,w.url,w.suggestedFilename)}_onDownloadProgress(w){if(w.state==="completed")this._downloadFinished(w.guid,"");if(w.state==="canceled")this._downloadFinished(w.guid,this._closeReason||"canceled")}async _closePage(w){await this._session.send("Target.closeTarget",{targetId:w._targetId})}async newBrowserCDPSession(){return await this._connection.createBrowserSession()}async startTracing(w,B={}){(0,Me.assert)(!this._tracingRecording,"Cannot start recording trace while already recording trace.");this._tracingClient=w?w.delegate._mainFrameSession._client:this._session;const G=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"];const{screenshots:K=false,categories:pe=G}=B;if(K)pe.push("disabled-by-default-devtools.screenshot");this._tracingRecording=true;await this._tracingClient.send("Tracing.start",{transferMode:"ReturnAsStream",categories:pe.join(",")})}async stopTracing(){(0,Me.assert)(this._tracingClient,"Tracing was not started.");const[w]=await Promise.all([new Promise((w=>this._tracingClient.once("Tracing.tracingComplete",w))),this._tracingClient.send("Tracing.end")]);const B=Fe.default.join(this.options.artifactsDir,(0,Le.createGuid)()+".crtrace");await(0,rt.saveProtocolStream)(this._tracingClient,w.stream,B);this._tracingRecording=false;const G=new je.Artifact(this,B);G.reportFinished();return G}isConnected(){return!this._connection._closed}async _clientRootSession(){if(!this._clientRootSessionPromise)this._clientRootSessionPromise=this._connection.createBrowserSession();return this._clientRootSessionPromise}}class CRBrowserContext extends We.BrowserContext{static{this.CREvents={ServiceWorker:"serviceworker"}}constructor(w,B,G){super(w,G,B);this._authenticateProxyViaCredentials()}async _initialize(){(0,Me.assert)(!Array.from(this._browser._crPages.values()).some((w=>w._browserContext===this)));const w=[super._initialize()];if(this._browser.options.name!=="clank"&&this._options.acceptDownloads!=="internal-browser-default"){w.push(this._browser._session.send("Browser.setDownloadBehavior",{behavior:this._options.acceptDownloads==="accept"?"allowAndName":"deny",browserContextId:this._browserContextId,downloadPath:this._browser.options.downloadsPath,eventsEnabled:true}))}await Promise.all(w)}_crPages(){return[...this._browser._crPages.values()].filter((w=>w._browserContext===this))}possiblyUninitializedPages(){return this._crPages().map((w=>w._page))}async doCreateNewPage(){const{targetId:w}=await this._browser._session.send("Target.createTarget",{url:"about:blank",browserContextId:this._browserContextId});return this._browser._crPages.get(w)._page}async doGetCookies(w){const{cookies:B}=await this._browser._session.send("Storage.getCookies",{browserContextId:this._browserContextId});return ze.filterCookies(B.map((w=>{const{name:B,value:G,domain:K,path:pe,expires:ye,httpOnly:Se,secure:Be,sameSite:Qe}=w;const Pe={name:B,value:G,domain:K,path:pe,expires:ye,httpOnly:Se,secure:Be,sameSite:Qe??"Lax"};if(w.partitionKey){Pe._crHasCrossSiteAncestor=w.partitionKey.hasCrossSiteAncestor;Pe.partitionKey=w.partitionKey.topLevelSite}return Pe})),w)}async addCookies(w){function toChromiumCookie(w){const{name:B,value:G,url:K,domain:pe,path:ye,expires:Se,httpOnly:Be,secure:Qe,sameSite:Pe,partitionKey:Fe,_crHasCrossSiteAncestor:Me}=w;const Le={name:B,value:G,url:K,domain:pe,path:ye,expires:Se,httpOnly:Be,secure:Qe,sameSite:Pe};if(Fe){Le.partitionKey={topLevelSite:Fe,hasCrossSiteAncestor:Me??true}}return Le}await this._browser._session.send("Storage.setCookies",{cookies:ze.rewriteCookies(w).map(toChromiumCookie),browserContextId:this._browserContextId})}async doClearCookies(){await this._browser._session.send("Storage.clearCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(w,B){const G=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardSanitizedWrite"],["payment-handler","paymentHandler"],["midi-sysex","midiSysex"],["storage-access","storageAccess"],["local-fonts","localFonts"],["local-network-access","localNetworkAccess"]]);const K=B.map((w=>{const B=G.get(w);if(!B)throw new Error("Unknown permission: "+w);return B}));await this._browser._session.send("Browser.grantPermissions",{origin:w==="*"?void 0:w,browserContextId:this._browserContextId,permissions:K})}async doClearPermissions(){await this._browser._session.send("Browser.resetPermissions",{browserContextId:this._browserContextId})}async setGeolocation(w){(0,We.verifyGeolocation)(w);this._options.geolocation=w;for(const w of this.pages())await w.delegate.updateGeolocation()}async doUpdateExtraHTTPHeaders(){for(const w of this.pages())await w.delegate.updateExtraHTTPHeaders();for(const w of this.serviceWorkers())await w.updateExtraHTTPHeaders()}async setUserAgent(w){this._options.userAgent=w;for(const w of this.pages())await w.delegate.updateUserAgent()}async doUpdateOffline(){for(const w of this.pages())await w.delegate.updateOffline();for(const w of this.serviceWorkers())await w.updateOffline()}async doSetHTTPCredentials(w){this._options.httpCredentials=w;for(const w of this.pages())await w.delegate.updateHttpCredentials();for(const w of this.serviceWorkers())await w.updateHttpCredentials()}async doAddInitScript(w){for(const B of this.pages())await B.delegate.addInitScript(w)}async doRemoveInitScripts(w){for(const B of this.pages())await B.delegate.removeInitScripts(w)}async doUpdateRequestInterception(){for(const w of this.pages())await w.delegate.updateRequestInterception();for(const w of this.serviceWorkers())await w.updateRequestInterception()}async doUpdateDefaultViewport(){}async doUpdateDefaultEmulatedMedia(){}async doExposePlaywrightBinding(){for(const w of this._crPages())await w.exposePlaywrightBinding()}async doClose(w){await this.dialogManager.closeBeforeUnloadDialogs();if(!this._browserContextId){await this.stopVideoRecording();await this._browser.close({reason:w});return}await this._browser._session.send("Target.disposeBrowserContext",{browserContextId:this._browserContextId});this._browser._contexts.delete(this._browserContextId);for(const[w,B]of this._browser._serviceWorkers){if(B.browserContext!==this)continue;B.didClose();this._browser._serviceWorkers.delete(w)}}async stopVideoRecording(){await Promise.all(this._crPages().map((w=>w._mainFrameSession._stopVideoRecording())))}onClosePersistent(){}async clearCache(){for(const w of this._crPages())await w._networkManager.clearCache()}async cancelDownload(w){await this._browser._session.send("Browser.cancelDownload",{guid:w,browserContextId:this._browserContextId})}serviceWorkers(){return Array.from(this._browser._serviceWorkers.values()).filter((w=>w.browserContext===this))}async newCDPSession(w){let B=null;if(w instanceof Ye.Page){B=w.delegate._targetId}else if(w instanceof Ge.Frame){const G=w._page.delegate._sessions.get(w._id);if(!G)throw new Error(`This frame does not have a separate CDP session, it is a part of the parent frame's session`);B=G._targetId}else{throw new Error("page: expected Page or Frame")}const G=await this._browser._clientRootSession();return G.attachToTarget(B)}}0&&0},8443:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{CDPSession:()=>CDPSession,CRConnection:()=>CRConnection,CRSession:()=>CRSession,ConnectionEvents:()=>je,kBrowserCloseMessageId:()=>qe});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(5809);var Fe=G(3062);var Me=G(4506);var Le=G(9814);const je={Disconnected:Symbol("ConnectionEvents.Disconnected")};const qe=-9999;class CRConnection extends Le.SdkObject{constructor(w,B,G,K){super(w,"cr-connection");this._lastId=0;this._sessions=new Map;this._closed=false;this.setMaxListeners(0);this._transport=B;this._protocolLogger=G;this._browserLogsCollector=K;this.rootSession=new CRSession(this,null,"");this._sessions.set("",this.rootSession);this._transport.onmessage=this._onMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}_rawSend(w,B,G){const K=++this._lastId;const pe={id:K,method:B,params:G};if(w)pe.sessionId=w;this._protocolLogger("send",pe);this._transport.send(pe);return K}async _onMessage(w){this._protocolLogger("receive",w);if(w.id===qe)return;const B=this._sessions.get(w.sessionId||"");if(B)B._onMessage(w)}_onClose(w){this._closed=true;this._transport.onmessage=void 0;this._transport.onclose=void 0;this._browserDisconnectedLogs=Fe.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),w);this.rootSession.dispose();Promise.resolve().then((()=>this.emit(je.Disconnected)))}close(){if(!this._closed)this._transport.close()}async createBrowserSession(){const{sessionId:w}=await this.rootSession.send("Target.attachToBrowserTarget");return new CDPSession(this.rootSession,w)}}class CRSession extends Le.SdkObject{constructor(w,B,G,K){super(w,"cr-session");this._callbacks=new Map;this._crashed=false;this._closed=false;this.setMaxListeners(0);this._connection=w;this._parentSession=B;this._sessionId=G;this._eventListener=K;this.on=super.on;this.addListener=super.addListener;this.off=super.removeListener;this.removeListener=super.removeListener;this.once=super.once}_markAsCrashed(){this._crashed=true}createChildSession(w,B){const G=new CRSession(this._connection,this,w,B);this._connection._sessions.set(w,G);return G}async send(w,B){if(this._crashed||this._closed||this._connection._closed||this._connection._browserDisconnectedLogs)throw new Me.ProtocolError(this._crashed?"crashed":"closed",void 0,this._connection._browserDisconnectedLogs);const G=this._connection._rawSend(this._sessionId,w,B);return new Promise(((B,K)=>{this._callbacks.set(G,{resolve:B,reject:K,error:new Me.ProtocolError("error",w)})}))}_sendMayFail(w,B){return this.send(w,B).catch((w=>Pe.debugLogger.log("error",w)))}_onMessage(w){if(w.id&&this._callbacks.has(w.id)){const B=this._callbacks.get(w.id);this._callbacks.delete(w.id);if(w.error){B.error.setMessage(w.error.message);B.reject(B.error)}else{B.resolve(w.result)}}else if(w.id&&w.error?.code===-32001){}else{(0,Qe.assert)(!w.id,w?.error?.message||void 0);Promise.resolve().then((()=>{if(this._eventListener)this._eventListener(w.method,w.params);this.emit(w.method,w.params)}))}}async detach(){if(this._closed)throw new Error(`Session already detached. Most likely the page has been closed.`);if(!this._parentSession)throw new Error("Root session cannot be closed");await this._sendMayFail("Runtime.runIfWaitingForDebugger");await this._parentSession.send("Target.detachFromTarget",{sessionId:this._sessionId});this.dispose()}dispose(){this._closed=true;this._connection._sessions.delete(this._sessionId);for(const w of this._callbacks.values()){w.error.setMessage(`Internal server error, session closed.`);w.error.type=this._crashed?"crashed":"closed";w.error.logs=this._connection._browserDisconnectedLogs;w.reject(w.error)}this._callbacks.clear()}}class CDPSession extends Le.SdkObject{constructor(w,B){super(w,"cdp-session");this._listeners=[];this._session=w.createChildSession(B,((w,B)=>this.emit(CDPSession.Events.Event,{method:w,params:B})));this._listeners=[Qe.eventsHelper.addEventListener(w,"Target.detachedFromTarget",(w=>{if(w.sessionId===B)this._onClose()}))]}static{this.Events={Event:"event",Closed:"close"}}async send(w,B){return await this._session.send(w,B)}async detach(){return await this._session.detach()}async attachToTarget(w){const{sessionId:B}=await this.send("Target.attachToTarget",{targetId:w,flatten:true});return new CDPSession(this._session,B)}_onClose(){Qe.eventsHelper.removeEventListeners(this._listeners);this._session.dispose();this.emit(CDPSession.Events.Closed)}}0&&0},8870:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{CRCoverage:()=>CRCoverage});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(6037);var Fe=G(6665);class CRCoverage{constructor(w){this._jsCoverage=new JSCoverage(w);this._cssCoverage=new CSSCoverage(w)}async startJSCoverage(w,B){await(0,Fe.raceUncancellableOperationWithCleanup)(w,(()=>this._jsCoverage.start(B)),(()=>this._jsCoverage.stop()))}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(w,B){await(0,Fe.raceUncancellableOperationWithCleanup)(w,(()=>this._cssCoverage.start(B)),(()=>this._cssCoverage.stop()))}async stopCSSCoverage(){return await this._cssCoverage.stop()}}class JSCoverage{constructor(w){this._reportAnonymousScripts=false;this._client=w;this._enabled=false;this._scriptIds=new Set;this._scriptSources=new Map;this._eventListeners=[];this._resetOnNavigation=false}async start(w){(0,Qe.assert)(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:B=true,reportAnonymousScripts:G=false}=w;this._resetOnNavigation=B;this._reportAnonymousScripts=G;this._enabled=true;this._scriptIds.clear();this._scriptSources.clear();this._eventListeners=[Pe.eventsHelper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),Pe.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this)),Pe.eventsHelper.addEventListener(this._client,"Debugger.paused",this._onDebuggerPaused.bind(this))];await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:true,detailed:true}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:true})])}_onDebuggerPaused(){this._client.send("Debugger.resume")}_onExecutionContextsCleared(){if(!this._resetOnNavigation)return;this._scriptIds.clear();this._scriptSources.clear()}async _onScriptParsed(w){this._scriptIds.add(w.scriptId);if(!w.url&&!this._reportAnonymousScripts)return;const B=await this._client._sendMayFail("Debugger.getScriptSource",{scriptId:w.scriptId});if(B)this._scriptSources.set(w.scriptId,B.scriptSource)}async stop(){if(!this._enabled)return{entries:[]};const[w]=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);Pe.eventsHelper.removeEventListeners(this._eventListeners);this._enabled=false;const B={entries:[]};for(const G of w.result){if(!this._scriptIds.has(G.scriptId))continue;if(!G.url&&!this._reportAnonymousScripts)continue;const w=this._scriptSources.get(G.scriptId);if(w)B.entries.push({...G,source:w});else B.entries.push(G)}return B}}class CSSCoverage{constructor(w){this._client=w;this._enabled=false;this._stylesheetURLs=new Map;this._stylesheetSources=new Map;this._eventListeners=[];this._resetOnNavigation=false}async start(w){(0,Qe.assert)(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:B=true}=w;this._resetOnNavigation=B;this._enabled=true;this._stylesheetURLs.clear();this._stylesheetSources.clear();this._eventListeners=[Pe.eventsHelper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),Pe.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))];await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){if(!this._resetOnNavigation)return;this._stylesheetURLs.clear();this._stylesheetSources.clear()}async _onStyleSheet(w){const B=w.header;if(!B.sourceURL)return;const G=await this._client._sendMayFail("CSS.getStyleSheetText",{styleSheetId:B.styleSheetId});if(G){this._stylesheetURLs.set(B.styleSheetId,B.sourceURL);this._stylesheetSources.set(B.styleSheetId,G.text)}}async stop(){if(!this._enabled)return{entries:[]};const w=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]);Pe.eventsHelper.removeEventListeners(this._eventListeners);this._enabled=false;const B=new Map;for(const G of w.ruleUsage){let w=B.get(G.styleSheetId);if(!w){w=[];B.set(G.styleSheetId,w)}w.push({startOffset:G.startOffset,endOffset:G.endOffset,count:G.used?1:0})}const G={entries:[]};for(const w of this._stylesheetURLs.keys()){const K=this._stylesheetURLs.get(w);const pe=this._stylesheetSources.get(w);const ye=convertToDisjointRanges(B.get(w)||[]);G.entries.push({url:K,ranges:ye,text:pe})}return G}}function convertToDisjointRanges(w){const B=[];for(const G of w){B.push({offset:G.startOffset,type:0,range:G});B.push({offset:G.endOffset,type:1,range:G})}B.sort(((w,B)=>{if(w.offset!==B.offset)return w.offset-B.offset;if(w.type!==B.type)return B.type-w.type;const G=w.range.endOffset-w.range.startOffset;const K=B.range.endOffset-B.range.startOffset;if(w.type===0)return K-G;return G-K}));const G=[];const K=[];let pe=0;for(const w of B){if(G.length&&pe<w.offset&&G[G.length-1]>0){const B=K.length?K[K.length-1]:null;if(B&&B.end===pe)B.end=w.offset;else K.push({start:pe,end:w.offset})}pe=w.offset;if(w.type===0)G.push(w.range.count);else G.pop()}return K.filter((w=>w.end-w.start>1))}0&&0},2302:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{CRDevTools:()=>CRDevTools});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));const Me="__pw_devtools__";class CRDevTools{constructor(w){this._preferencesPath=w;this._savePromise=Promise.resolve()}install(w){w.on("Runtime.bindingCalled",(async B=>{if(B.name!==Me)return;const G=JSON.parse(B.payload);let K=void 0;if(this.__testHookOnBinding)this.__testHookOnBinding(G);if(G.method==="getPreferences"){if(this._prefs===void 0){try{const w=await Fe.default.promises.readFile(this._preferencesPath,"utf8");this._prefs=JSON.parse(w)}catch(w){this._prefs={}}}K=this._prefs}else if(G.method==="setPreference"){this._prefs[G.params[0]]=G.params[1];this._save()}else if(G.method==="removePreference"){delete this._prefs[G.params[0]];this._save()}else if(G.method==="clearPreferences"){this._prefs={};this._save()}w.send("Runtime.evaluate",{expression:`window.DevToolsAPI.embedderMessageAck(${G.id}, ${JSON.stringify(K)})`,contextId:B.executionContextId}).catch((w=>null))}));Promise.all([w.send("Runtime.enable"),w.send("Runtime.addBinding",{name:Me}),w.send("Page.enable"),w.send("Page.addScriptToEvaluateOnNewDocument",{source:`\n        (() => {\n          const init = () => {\n            // Lazy init happens when InspectorFrontendHost is initialized.\n            // At this point DevToolsHost is ready to be used.\n            const host = window.DevToolsHost;\n            const old = host.sendMessageToEmbedder.bind(host);\n            host.sendMessageToEmbedder = message => {\n              if (['getPreferences', 'setPreference', 'removePreference', 'clearPreferences'].includes(JSON.parse(message).method))\n                window.${Me}(message);\n              else\n                old(message);\n            };\n          };\n          let value;\n          Object.defineProperty(window, 'InspectorFrontendHost', {\n            configurable: true,\n            enumerable: true,\n            get() { return value; },\n            set(v) { value = v; init(); },\n          });\n        })()\n      `}),w.send("Runtime.runIfWaitingForDebugger")]).catch((w=>null))}_save(){this._savePromise=this._savePromise.then((async()=>{await Fe.default.promises.writeFile(this._preferencesPath,JSON.stringify(this._prefs)).catch((w=>null))}))}}0&&0},8783:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{DragManager:()=>DragManager});w.exports=__toCommonJS(Be);var Qe=G(4080);var Pe=G(7651);class DragManager{constructor(w){this._dragState=null;this._lastPosition={x:0,y:0};this._crPage=w}async cancelDrag(){if(!this._dragState)return false;await this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragCancel",x:this._lastPosition.x,y:this._lastPosition.y,data:{items:[],dragOperationsMask:65535}});this._dragState=null;return true}async interceptDragCausedByMove(w,B,G,K,pe,ye,Se){this._lastPosition={x:B,y:G};if(this._dragState){await w.race(this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragOver",x:B,y:G,data:this._dragState,modifiers:(0,Qe.toModifiersMask)(ye)}));return}if(K!=="left")return Se();const Be=this._crPage._mainFrameSession._client;let Pe;const Fe=new Promise((w=>Pe=w));function setupDragListeners(){let w=Promise.resolve(false);let B=null;const dragListener=w=>B=w;const mouseListener=()=>{w=new Promise((w=>{window.addEventListener("dragstart",dragListener,{once:true,capture:true});setTimeout((()=>w(B?!B.defaultPrevented:false)),0)}))};window.addEventListener("mousemove",mouseListener,{once:true,capture:true});window.__cleanupDrag=async()=>{const B=await w;window.removeEventListener("mousemove",mouseListener,{capture:true});window.removeEventListener("dragstart",dragListener,{capture:true});delete window.__cleanupDrag;return B}}try{let B=false;await w.race(this._crPage._page.safeNonStallingEvaluateInAllFrames(`(${setupDragListeners.toString()})()`,"utility"));Be.on("Input.dragIntercepted",Pe);await Be.send("Input.setInterceptDrags",{enabled:true});try{await w.race(Se());B=(await Promise.all(this._crPage._page.frames().map((async w=>w.nonStallingEvaluateInExistingContext("window.__cleanupDrag?.()","utility").catch((()=>false)))))).some((w=>w))}finally{Be.off("Input.dragIntercepted",Pe);await Be.send("Input.setInterceptDrags",{enabled:false})}this._dragState=B?(await Fe).data:null}catch(w){this._crPage._page.safeNonStallingEvaluateInAllFrames("window.__cleanupDrag?.()","utility").catch((()=>{}));throw w}if(this._dragState){await w.race(this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragEnter",x:B,y:G,data:this._dragState,modifiers:(0,Qe.toModifiersMask)(ye)}))}}isDragging(){return!!this._dragState}async drop(w,B,G,K){(0,Pe.assert)(this._dragState,"missing drag state");await w.race(this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"drop",x:B,y:G,data:this._dragState,modifiers:(0,Qe.toModifiersMask)(K)}));this._dragState=null}}0&&0},5853:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{CRExecutionContext:()=>CRExecutionContext,createHandle:()=>createHandle});w.exports=__toCommonJS(Pe);var Fe=G(8164);var Me=G(4080);var Le=G(3559);var je=G(3642);var qe=__toESM(G(1485));var We=__toESM(G(7392));var Ge=G(4506);class CRExecutionContext{constructor(w,B){this._client=w;this._contextId=B.id}async rawEvaluateJSON(w){const{exceptionDetails:B,result:G}=await this._client.send("Runtime.evaluate",{expression:w,contextId:this._contextId,returnByValue:true}).catch(rewriteError);if(B)throw new qe.JavaScriptErrorInEvaluate((0,Me.getExceptionMessage)(B));return G.value}async rawEvaluateHandle(w,B){const{exceptionDetails:G,result:K}=await this._client.send("Runtime.evaluate",{expression:B,contextId:this._contextId}).catch(rewriteError);if(G)throw new qe.JavaScriptErrorInEvaluate((0,Me.getExceptionMessage)(G));return createHandle(w,K)}async evaluateWithArguments(w,B,G,K,pe){const{exceptionDetails:ye,result:Se}=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:w,objectId:G._objectId,arguments:[{objectId:G._objectId},...K.map((w=>({value:w}))),...pe.map((w=>({objectId:w._objectId})))],returnByValue:B,awaitPromise:true,userGesture:true}).catch(rewriteError);if(ye)throw new qe.JavaScriptErrorInEvaluate((0,Me.getExceptionMessage)(ye));return B?(0,je.parseEvaluationResultValue)(Se.value):createHandle(G._context,Se)}async getProperties(w){const B=await this._client.send("Runtime.getProperties",{objectId:w._objectId,ownProperties:true});const G=new Map;for(const K of B.result){if(!K.enumerable||!K.value)continue;G.set(K.name,createHandle(w._context,K.value))}return G}async releaseHandle(w){if(!w._objectId)return;await(0,Me.releaseObject)(this._client,w._objectId)}}function rewriteError(w){if(w.message.includes("Object reference chain is too long"))throw new Error("Cannot serialize result: object reference chain is too long.");if(w.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};if(w instanceof TypeError&&w.message.startsWith("Converting circular structure to JSON"))(0,Le.rewriteErrorMessage)(w,w.message+" Are you passing a nested JSHandle?");if(!qe.isJavaScriptErrorInEvaluate(w)&&!(0,Ge.isSessionClosedError)(w))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw w}function potentiallyUnserializableValue(w){const B=w.value;const G=w.unserializableValue;return G?qe.parseUnserializableValue(G):B}function renderPreview(w){if(w.type==="undefined")return"undefined";if("value"in w)return String(w.value);if(w.unserializableValue)return String(w.unserializableValue);if(w.description==="Object"&&w.preview){const B=[];for(const{name:G,value:K}of w.preview.properties)B.push(`${G}: ${K}`);return`{${B.join(", ")}}`}if(w.subtype==="array"&&w.preview)return qe.sparseArrayToString(w.preview.properties);return w.description}function createHandle(w,B){if(B.subtype==="node"){(0,Fe.assert)(w instanceof We.FrameExecutionContext);return new We.ElementHandle(w,B.objectId)}return new qe.JSHandle(w,B.subtype||B.type,renderPreview(B),B.objectId,potentiallyUnserializableValue(B))}0&&0},3810:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{RawKeyboardImpl:()=>RawKeyboardImpl,RawMouseImpl:()=>RawMouseImpl,RawTouchscreenImpl:()=>RawTouchscreenImpl});w.exports=__toCommonJS(Pe);var Fe=G(7651);var Me=__toESM(G(912));var Le=G(1661);var je=G(4080);class RawKeyboardImpl{constructor(w,B,G){this._client=w;this._isMac=B;this._dragManger=G}_commandsForCode(w,B){if(!this._isMac)return[];const G=[];for(const w of["Shift","Control","Alt","Meta"]){if(B.has(w))G.push(w)}G.push(w);const K=G.join("+");let pe=Le.macEditingCommands[K]||[];if((0,Fe.isString)(pe))pe=[pe];pe=pe.filter((w=>!w.startsWith("insert")));return pe.map((w=>w.substring(0,w.length-1)))}async keydown(w,B,G,K,pe){const{code:ye,key:Se,location:Be,text:Qe}=K;if(ye==="Escape"&&await w.race(this._dragManger.cancelDrag()))return;const Pe=this._commandsForCode(ye,B);await w.race(this._client.send("Input.dispatchKeyEvent",{type:Qe?"keyDown":"rawKeyDown",modifiers:(0,je.toModifiersMask)(B),windowsVirtualKeyCode:K.keyCodeWithoutLocation,code:ye,commands:Pe,key:Se,text:Qe,unmodifiedText:Qe,autoRepeat:pe,location:Be,isKeypad:Be===Me.keypadLocation}))}async keyup(w,B,G,K){const{code:pe,key:ye,location:Se}=K;await w.race(this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:(0,je.toModifiersMask)(B),key:ye,windowsVirtualKeyCode:K.keyCodeWithoutLocation,code:pe,location:Se}))}async sendText(w,B){await w.race(this._client.send("Input.insertText",{text:B}))}}class RawMouseImpl{constructor(w,B,G){this._page=w;this._client=B;this._dragManager=G}async move(w,B,G,K,pe,ye,Se){const actualMove=async()=>{await w.race(this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:K,buttons:(0,je.toButtonsMask)(pe),x:B,y:G,modifiers:(0,je.toModifiersMask)(ye),force:pe.size>0?.5:0}))};if(Se){await actualMove();return}await this._dragManager.interceptDragCausedByMove(w,B,G,K,pe,ye,actualMove)}async down(w,B,G,K,pe,ye,Se){if(this._dragManager.isDragging())return;await w.race(this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:K,buttons:(0,je.toButtonsMask)(pe),x:B,y:G,modifiers:(0,je.toModifiersMask)(ye),clickCount:Se,force:pe.size>0?.5:0}))}async up(w,B,G,K,pe,ye,Se){if(this._dragManager.isDragging()){await this._dragManager.drop(w,B,G,ye);return}await w.race(this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:K,buttons:(0,je.toButtonsMask)(pe),x:B,y:G,modifiers:(0,je.toModifiersMask)(ye),clickCount:Se}))}async wheel(w,B,G,K,pe,ye,Se){await w.race(this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:B,y:G,modifiers:(0,je.toModifiersMask)(pe),deltaX:ye,deltaY:Se}))}}class RawTouchscreenImpl{constructor(w){this._client=w}async tap(w,B,G,K){await w.race(Promise.all([this._client.send("Input.dispatchTouchEvent",{type:"touchStart",modifiers:(0,je.toModifiersMask)(K),touchPoints:[{x:B,y:G}]}),this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",modifiers:(0,je.toModifiersMask)(K),touchPoints:[]})]))}}0&&0},6877:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{CRNetworkManager:()=>CRNetworkManager});w.exports=__toCommonJS(Pe);var Fe=G(7651);var Me=G(6037);var Le=G(3062);var je=__toESM(G(6182));var qe=G(4506);class CRNetworkManager{constructor(w,B){this._requestIdToRequest=new Map;this._requestIdToRequestWillBeSentEvent=new Map;this._credentials=null;this._attemptedAuthentications=new Set;this._userRequestInterceptionEnabled=false;this._protocolRequestInterceptionEnabled=false;this._offline=false;this._extraHTTPHeaders=[];this._requestIdToRequestPausedEvent=new Map;this._responseExtraInfoTracker=new ResponseExtraInfoTracker;this._sessions=new Map;this._page=w;this._serviceWorker=B}async addSession(w,B,G){const K={session:w,isMain:G,workerFrame:B,eventListeners:[]};K.eventListeners=[Me.eventsHelper.addEventListener(w,"Fetch.requestPaused",this._onRequestPaused.bind(this,K)),Me.eventsHelper.addEventListener(w,"Fetch.authRequired",this._onAuthRequired.bind(this,K)),Me.eventsHelper.addEventListener(w,"Network.requestWillBeSent",this._onRequestWillBeSent.bind(this,K)),Me.eventsHelper.addEventListener(w,"Network.requestWillBeSentExtraInfo",this._onRequestWillBeSentExtraInfo.bind(this)),Me.eventsHelper.addEventListener(w,"Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),Me.eventsHelper.addEventListener(w,"Network.responseReceived",this._onResponseReceived.bind(this,K)),Me.eventsHelper.addEventListener(w,"Network.responseReceivedExtraInfo",this._onResponseReceivedExtraInfo.bind(this)),Me.eventsHelper.addEventListener(w,"Network.loadingFinished",this._onLoadingFinished.bind(this,K)),Me.eventsHelper.addEventListener(w,"Network.loadingFailed",this._onLoadingFailed.bind(this,K))];if(this._page){K.eventListeners.push(...[Me.eventsHelper.addEventListener(w,"Network.webSocketCreated",(w=>this._page.frameManager.onWebSocketCreated(w.requestId,w.url))),Me.eventsHelper.addEventListener(w,"Network.webSocketWillSendHandshakeRequest",(w=>this._page.frameManager.onWebSocketRequest(w.requestId))),Me.eventsHelper.addEventListener(w,"Network.webSocketHandshakeResponseReceived",(w=>this._page.frameManager.onWebSocketResponse(w.requestId,w.response.status,w.response.statusText))),Me.eventsHelper.addEventListener(w,"Network.webSocketFrameSent",(w=>w.response.payloadData&&this._page.frameManager.onWebSocketFrameSent(w.requestId,w.response.opcode,w.response.payloadData))),Me.eventsHelper.addEventListener(w,"Network.webSocketFrameReceived",(w=>w.response.payloadData&&this._page.frameManager.webSocketFrameReceived(w.requestId,w.response.opcode,w.response.payloadData))),Me.eventsHelper.addEventListener(w,"Network.webSocketClosed",(w=>this._page.frameManager.webSocketClosed(w.requestId))),Me.eventsHelper.addEventListener(w,"Network.webSocketFrameError",(w=>this._page.frameManager.webSocketError(w.requestId,w.errorMessage)))])}this._sessions.set(w,K);await Promise.all([w.send("Network.enable"),this._updateProtocolRequestInterceptionForSession(K,true),this._setOfflineForSession(K,true),this._setExtraHTTPHeadersForSession(K,true)])}removeSession(w){const B=this._sessions.get(w);if(B)Me.eventsHelper.removeEventListeners(B.eventListeners);this._sessions.delete(w)}async _forEachSession(w){await Promise.all([...this._sessions.values()].map((B=>{if(B.isMain)return w(B);return w(B).catch((w=>{if((0,qe.isSessionClosedError)(w))return;throw w}))})))}async authenticate(w){this._credentials=w;await this._updateProtocolRequestInterception()}async setOffline(w){if(w===this._offline)return;this._offline=w;await this._forEachSession((w=>this._setOfflineForSession(w)))}async _setOfflineForSession(w,B){if(B&&!this._offline)return;if(w.workerFrame)return;await w.session.send("Network.emulateNetworkConditions",{offline:this._offline,latency:0,downloadThroughput:-1,uploadThroughput:-1})}async setRequestInterception(w){this._userRequestInterceptionEnabled=w;await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const w=this._userRequestInterceptionEnabled||!!this._credentials;if(w===this._protocolRequestInterceptionEnabled)return;this._protocolRequestInterceptionEnabled=w;await this._forEachSession((w=>this._updateProtocolRequestInterceptionForSession(w)))}async _updateProtocolRequestInterceptionForSession(w,B){const G=this._protocolRequestInterceptionEnabled;if(B&&!G)return;const K=w.session.send("Network.setCacheDisabled",{cacheDisabled:G});let pe=Promise.resolve(void 0);if(!w.workerFrame){if(G)pe=w.session.send("Fetch.enable",{handleAuthRequests:true,patterns:[{urlPattern:"*",requestStage:"Request"}]});else pe=w.session.send("Fetch.disable")}await Promise.all([K,pe])}async setExtraHTTPHeaders(w){if(!this._extraHTTPHeaders.length&&!w.length)return;this._extraHTTPHeaders=w;await this._forEachSession((w=>this._setExtraHTTPHeadersForSession(w)))}async _setExtraHTTPHeadersForSession(w,B){if(B&&!this._extraHTTPHeaders.length)return;await w.session.send("Network.setExtraHTTPHeaders",{headers:(0,Fe.headersArrayToObject)(this._extraHTTPHeaders,false)})}async clearCache(){await this._forEachSession((async w=>{await w.session.send("Network.setCacheDisabled",{cacheDisabled:true});if(!this._protocolRequestInterceptionEnabled)await w.session.send("Network.setCacheDisabled",{cacheDisabled:false});if(!w.workerFrame)await w.session.send("Network.clearBrowserCache")}))}_onRequestWillBeSent(w,B){if(this._protocolRequestInterceptionEnabled&&!B.request.url.startsWith("data:")){const G=B.requestId;const K=this._requestIdToRequestPausedEvent.get(G);if(K){this._onRequest(w,B,K.sessionInfo,K.event);this._requestIdToRequestPausedEvent.delete(G)}else{this._requestIdToRequestWillBeSentEvent.set(B.requestId,{sessionInfo:w,event:B})}}else{this._onRequest(w,B,void 0,void 0)}}_onRequestServedFromCache(w){this._responseExtraInfoTracker.requestServedFromCache(w)}_onRequestWillBeSentExtraInfo(w){this._responseExtraInfoTracker.requestWillBeSentExtraInfo(w)}_onAuthRequired(w,B){let G="Default";const K=this._shouldProvideCredentials(B.request.url);if(this._attemptedAuthentications.has(B.requestId)){G="CancelAuth"}else if(K){G="ProvideCredentials";this._attemptedAuthentications.add(B.requestId)}const{username:pe,password:ye}=K&&this._credentials?this._credentials:{username:void 0,password:void 0};w.session._sendMayFail("Fetch.continueWithAuth",{requestId:B.requestId,authChallengeResponse:{response:G,username:pe,password:ye}})}_shouldProvideCredentials(w){if(!this._credentials)return false;return!this._credentials.origin||new URL(w).origin.toLowerCase()===this._credentials.origin.toLowerCase()}_onRequestPaused(w,B){if(!B.networkId){w.session._sendMayFail("Fetch.continueRequest",{requestId:B.requestId});return}if(B.request.url.startsWith("data:"))return;const G=B.networkId;const K=this._requestIdToRequestWillBeSentEvent.get(G);if(K){this._onRequest(K.sessionInfo,K.event,w,B);this._requestIdToRequestWillBeSentEvent.delete(G)}else{const K=this._requestIdToRequest.get(G);const pe=K?._route?._alreadyContinuedParams;if(pe&&!B.redirectedRequestId){w.session._sendMayFail("Fetch.continueRequest",{...pe,requestId:B.requestId});return}this._requestIdToRequestPausedEvent.set(G,{sessionInfo:w,event:B})}}_onRequest(w,B,G,K){if(B.request.url.startsWith("data:"))return;let pe=null;if(B.redirectResponse){const w=this._requestIdToRequest.get(B.requestId);if(w){this._handleRequestRedirect(w,B.redirectResponse,B.timestamp,B.redirectHasExtraInfo);pe=w}}let ye=B.frameId?this._page?.frameManager.frame(B.frameId):w.workerFrame;if(!ye&&this._page&&K&&K.frameId)ye=this._page.frameManager.frame(K.frameId);if(!ye&&this._page&&B.frameId===(this._page?.delegate)._targetId){ye=this._page.frameManager.frameAttached(B.frameId,null)}const Se=!!K&&K.request.method==="OPTIONS"&&B.initiator.type==="preflight";if(Se&&(this._page||this._serviceWorker).needsRequestInterception()){const w=K.request.headers;const B=[{name:"Access-Control-Allow-Origin",value:w["Origin"]||"*"},{name:"Access-Control-Allow-Methods",value:w["Access-Control-Request-Method"]||"GET, POST, OPTIONS, DELETE"},{name:"Access-Control-Allow-Credentials",value:"true"}];if(w["Access-Control-Request-Headers"])B.push({name:"Access-Control-Allow-Headers",value:w["Access-Control-Request-Headers"]});G.session._sendMayFail("Fetch.fulfillRequest",{requestId:K.requestId,responseCode:204,responsePhrase:je.statusText(204),responseHeaders:B,body:""});return}if(!ye&&!this._serviceWorker){if(K)G.session._sendMayFail("Fetch.continueRequest",{requestId:K.requestId});return}let Be=null;let Qe;if(K){if(pe||!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled){Qe=pe?._originalRequestRoute?._alreadyContinuedParams?.headers;G.session._sendMayFail("Fetch.continueRequest",{requestId:K.requestId,headers:Qe})}else{Be=new RouteImpl(G.session,K.requestId)}}const Pe=B.requestId===B.loaderId&&B.type==="Document";const Me=Pe?B.loaderId:void 0;const Le=new InterceptableRequest({session:w.session,context:(this._page||this._serviceWorker).browserContext,frame:ye||null,serviceWorker:this._serviceWorker||null,documentId:Me,route:Be,requestWillBeSentEvent:B,requestPausedEvent:K,redirectedFrom:pe,headersOverride:Qe||null});this._requestIdToRequest.set(B.requestId,Le);if(Be){Le.request.setRawRequestHeaders((0,Fe.headersObjectToArray)(K.request.headers,"\n"))}(this._page?.frameManager||this._serviceWorker).requestStarted(Le.request,Be||void 0)}_createResponse(w,B,G){const getResponseBody=async()=>{const G=Object.entries(B.headers).find((w=>w[0].toLowerCase()==="content-length"));const K=G?+G[1]:void 0;const pe=w.session;const ye=await pe.send("Network.getResponseBody",{requestId:w._requestId});if(ye.body||!K)return Buffer.from(ye.body,ye.base64Encoded?"base64":"utf8");if(w._route?._fulfilled)return Buffer.from("");const Se=await pe.send("Network.loadNetworkResource",{url:w.request.url(),frameId:this._serviceWorker?void 0:w.request.frame()._id,options:{disableCache:false,includeCredentials:true}});const Be=[];while(Se.resource.stream){const w=await pe.send("IO.read",{handle:Se.resource.stream});Be.push(Buffer.from(w.data,w.base64Encoded?"base64":"utf-8"));if(w.eof){await pe.send("IO.close",{handle:Se.resource.stream});break}}return Buffer.concat(Be)};const K=B.timing;let pe;if(K&&!this._responseExtraInfoTracker.servedFromCache(w._requestId)){pe={startTime:(K.requestTime-w._timestamp+w._wallTime)*1e3,domainLookupStart:K.dnsStart,domainLookupEnd:K.dnsEnd,connectStart:K.connectStart,secureConnectionStart:K.sslStart,connectEnd:K.connectEnd,requestStart:K.sendStart,responseStart:K.receiveHeadersEnd}}else{pe={startTime:w._wallTime*1e3,domainLookupStart:-1,domainLookupEnd:-1,connectStart:-1,secureConnectionStart:-1,connectEnd:-1,requestStart:-1,responseStart:-1}}const ye=new je.Response(w.request,B.status,B.statusText,(0,Fe.headersObjectToArray)(B.headers),pe,getResponseBody,!!B.fromServiceWorker,B.protocol);if(B?.remoteIPAddress&&typeof B?.remotePort==="number"){ye._serverAddrFinished({ipAddress:B.remoteIPAddress,port:B.remotePort})}else{ye._serverAddrFinished()}ye._securityDetailsFinished({protocol:B?.securityDetails?.protocol,subjectName:B?.securityDetails?.subjectName,issuer:B?.securityDetails?.issuer,validFrom:B?.securityDetails?.validFrom,validTo:B?.securityDetails?.validTo});this._responseExtraInfoTracker.processResponse(w._requestId,ye,G);return ye}_deleteRequest(w){this._requestIdToRequest.delete(w._requestId);if(w._interceptionId)this._attemptedAuthentications.delete(w._interceptionId)}_handleRequestRedirect(w,B,G,K){const pe=this._createResponse(w,B,K);pe.setTransferSize(null);pe.setEncodedBodySize(null);pe._requestFinished((G-w._timestamp)*1e3);this._deleteRequest(w);(this._page?.frameManager||this._serviceWorker).requestReceivedResponse(pe);(this._page?.frameManager||this._serviceWorker).reportRequestFinished(w.request,pe)}_onResponseReceivedExtraInfo(w){this._responseExtraInfoTracker.responseReceivedExtraInfo(w)}_onResponseReceived(w,B){let G=this._requestIdToRequest.get(B.requestId);if(!G&&B.response.fromServiceWorker){const K=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(K){this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(w,K.event,void 0,void 0);G=this._requestIdToRequest.get(B.requestId)}}if(!G)return;const K=this._createResponse(G,B.response,B.hasExtraInfo);(this._page?.frameManager||this._serviceWorker).requestReceivedResponse(K)}_onLoadingFinished(w,B){this._responseExtraInfoTracker.loadingFinished(B);const G=this._requestIdToRequest.get(B.requestId);if(!G)return;this._maybeUpdateRequestSession(w,G);const K=G.request._existingResponse();if(K){K.setTransferSize(B.encodedDataLength);K.responseHeadersSize().then((w=>K.setEncodedBodySize(B.encodedDataLength-w)));K._requestFinished(Le.helper.secondsToRoundishMillis(B.timestamp-G._timestamp))}this._deleteRequest(G);(this._page?.frameManager||this._serviceWorker).reportRequestFinished(G.request,K)}_onLoadingFailed(w,B){this._responseExtraInfoTracker.loadingFailed(B);let G=this._requestIdToRequest.get(B.requestId);if(!G){const K=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(K){this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(w,K.event,void 0,void 0);G=this._requestIdToRequest.get(B.requestId)}}if(!G)return;this._maybeUpdateRequestSession(w,G);const K=G.request._existingResponse();if(K){K.setTransferSize(null);K.setEncodedBodySize(null);K._requestFinished(Le.helper.secondsToRoundishMillis(B.timestamp-G._timestamp))}else{G.request.setRawRequestHeaders(null)}this._deleteRequest(G);G.request._setFailureText(B.errorText||B.blockedReason||"");(this._page?.frameManager||this._serviceWorker).requestFailed(G.request,!!B.canceled)}_maybeUpdateRequestSession(w,B){if(B.session!==w.session&&!w.isMain&&(B._documentId===B._requestId||w.workerFrame))B.session=w.session}}class InterceptableRequest{constructor(w){const{session:B,context:G,frame:K,documentId:pe,route:ye,requestWillBeSentEvent:Se,requestPausedEvent:Be,redirectedFrom:Qe,serviceWorker:Pe,headersOverride:Me}=w;this.session=B;this._timestamp=Se.timestamp;this._wallTime=Se.wallTime;this._requestId=Se.requestId;this._interceptionId=Be&&Be.requestId;this._documentId=pe;this._route=ye;this._originalRequestRoute=ye??Qe?._originalRequestRoute;const{headers:Le,method:qe,url:We,postDataEntries:Ge=null}=Be?Be.request:Se.request;const ze=(Se.type||"").toLowerCase();let Ye=null;const Ke=Ge?.filter((w=>w.bytes));if(Ke&&Ke.length)Ye=Buffer.concat(Ke.map((w=>Buffer.from(w.bytes,"base64"))));this.request=new je.Request(G,K,Pe,Qe?.request||null,pe,We,ze,qe,Ye,Me||(0,Fe.headersObjectToArray)(Le))}}class RouteImpl{constructor(w,B){this._fulfilled=false;this._session=w;this._interceptionId=B}async continue(w){this._alreadyContinuedParams={requestId:this._interceptionId,url:w.url,headers:w.headers,method:w.method,postData:w.postData?w.postData.toString("base64"):void 0};await catchDisallowedErrors((async()=>{await this._session.send("Fetch.continueRequest",this._alreadyContinuedParams)}))}async fulfill(w){this._fulfilled=true;const B=w.isBase64?w.body:Buffer.from(w.body).toString("base64");const G=splitSetCookieHeader(w.headers);await catchDisallowedErrors((async()=>{await this._session.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:w.status,responsePhrase:je.statusText(w.status),responseHeaders:G,body:B})}))}async abort(w="failed"){const B=We[w];(0,Fe.assert)(B,"Unknown error code: "+w);await catchDisallowedErrors((async()=>{await this._session.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:B})}))}}async function catchDisallowedErrors(w){try{return await w()}catch(w){if((0,qe.isProtocolError)(w)&&w.message.includes("Invalid http status code or phrase"))throw w;if((0,qe.isProtocolError)(w)&&w.message.includes("Unsafe header"))throw w}}function splitSetCookieHeader(w){const B=w.findIndex((({name:w})=>w.toLowerCase()==="set-cookie"));if(B===-1)return w;const G=w[B];const K=G.value.split("\n");if(K.length===1)return w;const pe=w.slice();pe.splice(B,1,...K.map((w=>({name:G.name,value:w}))));return pe}const We={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};class ResponseExtraInfoTracker{constructor(){this._requests=new Map}requestWillBeSentExtraInfo(w){const B=this._getOrCreateEntry(w.requestId);B.requestWillBeSentExtraInfo.push(w);this._patchHeaders(B,B.requestWillBeSentExtraInfo.length-1);this._checkFinished(B)}requestServedFromCache(w){const B=this._getOrCreateEntry(w.requestId);B.servedFromCache=true}servedFromCache(w){const B=this._requests.get(w);return!!B?.servedFromCache}responseReceivedExtraInfo(w){const B=this._getOrCreateEntry(w.requestId);B.responseReceivedExtraInfo.push(w);this._patchHeaders(B,B.responseReceivedExtraInfo.length-1);this._checkFinished(B)}processResponse(w,B,G){let K=this._requests.get(w);if(!G||K?.servedFromCache){B.request().setRawRequestHeaders(null);B.setResponseHeadersSize(null);B.setRawResponseHeaders(null);return}K=this._getOrCreateEntry(w);K.responses.push(B);this._patchHeaders(K,K.responses.length-1)}loadingFinished(w){const B=this._requests.get(w.requestId);if(!B)return;B.loadingFinished=w;this._checkFinished(B)}loadingFailed(w){const B=this._requests.get(w.requestId);if(!B)return;B.loadingFailed=w;this._checkFinished(B)}_getOrCreateEntry(w){let B=this._requests.get(w);if(!B){B={requestId:w,requestWillBeSentExtraInfo:[],responseReceivedExtraInfo:[],responses:[]};this._requests.set(w,B)}return B}_patchHeaders(w,B){const G=w.responses[B];const K=w.requestWillBeSentExtraInfo[B];if(G&&K){G.request().setRawRequestHeaders((0,Fe.headersObjectToArray)(K.headers,"\n"));w.requestWillBeSentExtraInfo[B]=void 0}const pe=w.responseReceivedExtraInfo[B];if(G&&pe){G.setResponseHeadersSize(pe.headersText?.length||0);G.setRawResponseHeaders((0,Fe.headersObjectToArray)(pe.headers,"\n"));w.responseReceivedExtraInfo[B]=void 0}}_checkFinished(w){if(!w.loadingFinished&&!w.loadingFailed)return;if(w.responses.length<=w.responseReceivedExtraInfo.length){this._stopTracking(w.requestId);return}}_stopTracking(w){this._requests.delete(w)}}0&&0},5823:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{CRPage:()=>CRPage});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(6928));var Me=G(8164);var Le=G(6741);var je=G(6037);var qe=G(3559);var We=__toESM(G(9666));var Ge=__toESM(G(7392));var ze=__toESM(G(3300));var Ye=G(3062);var Ke=__toESM(G(6182));var Xe=G(1921);var rt=G(586);var it=G(3486);var ot=G(8870);var at=G(8783);var lt=G(5853);var ct=G(3810);var ut=G(6877);var ft=G(6376);var gt=G(4080);var mt=G(4994);var wt=G(5756);var vt=G(1009);var _t=G(4506);class CRPage{constructor(w,B,G,K,pe){this._sessions=new Map;this._nextWindowOpenPopupFeatures=[];this._targetId=B;this._opener=K;const ye=new at.DragManager(this);this.rawKeyboard=new ct.RawKeyboardImpl(w,G._browser._platform()==="mac",ye);this.rawMouse=new ct.RawMouseImpl(this,w,ye);this.rawTouchscreen=new ct.RawTouchscreenImpl(w);this._pdf=new ft.CRPDF(w);this._coverage=new ot.CRCoverage(w);this._browserContext=G;this._page=new Xe.Page(this,G);this.utilityWorldName=`__playwright_utility_world_${this._page.guid}`;this._networkManager=new ut.CRNetworkManager(this._page,null);this.updateOffline();this.updateExtraHTTPHeaders();this.updateHttpCredentials();this.updateRequestInterception();this._mainFrameSession=new FrameSession(this,w,B,null);this._sessions.set(B,this._mainFrameSession);if(K&&!G._options.noDefaultViewport){const w=K._nextWindowOpenPopupFeatures.shift()||[];const B=Ye.helper.getViewportSizeFromWindowFeatures(w);if(B)this._page.setEmulatedSizeFromWindowOpen({viewport:B,screen:B})}this._mainFrameSession._initialize(pe.hasUIWindow).then((()=>this._page.reportAsNew(this._opener?._page,void 0)),(w=>this._page.reportAsNew(this._opener?._page,w)))}static mainFrameSession(w){const B=w.delegate;return B._mainFrameSession}async _forAllFrameSessions(w){const B=Array.from(this._sessions.values());await Promise.all(B.map((B=>{if(B._isMainFrame())return w(B);return w(B).catch((w=>{if((0,_t.isSessionClosedError)(w))return;throw w}))})))}_sessionForFrame(w){while(!this._sessions.has(w._id)){const B=w.parentFrame();if(!B)throw new Error(`Frame has been detached.`);w=B}return this._sessions.get(w._id)}_sessionForHandle(w){const B=w._context.frame;return this._sessionForFrame(B)}willBeginDownload(){this._mainFrameSession._willBeginDownload()}didClose(){for(const w of this._sessions.values())w.dispose();this._page._didClose()}async navigateFrame(w,B,G){return this._sessionForFrame(w)._navigate(w,B,G)}async updateExtraHTTPHeaders(){const w=Ke.mergeHeaders([this._browserContext._options.extraHTTPHeaders,this._page.extraHTTPHeaders()]);await this._networkManager.setExtraHTTPHeaders(w)}async updateGeolocation(){await this._forAllFrameSessions((w=>w._updateGeolocation(false)))}async updateOffline(){await this._networkManager.setOffline(!!this._browserContext._options.offline)}async updateHttpCredentials(){await this._networkManager.authenticate(this._browserContext._options.httpCredentials||null)}async updateEmulatedViewportSize(w){await this._mainFrameSession._updateViewport(w)}async bringToFront(){await this._mainFrameSession._client.send("Page.bringToFront")}async updateEmulateMedia(){await this._forAllFrameSessions((w=>w._updateEmulateMedia()))}async updateUserAgent(){await this._forAllFrameSessions((w=>w._updateUserAgent()))}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateFileChooserInterception(){await this._forAllFrameSessions((w=>w._updateFileChooserInterception(false)))}async reload(){await this._mainFrameSession._client.send("Page.reload")}async _go(w){const B=await this._mainFrameSession._client.send("Page.getNavigationHistory");const G=B.entries[B.currentIndex+w];if(!G)return false;await this._mainFrameSession._client.send("Page.navigateToHistoryEntry",{entryId:G.id});return true}goBack(){return this._go(-1)}goForward(){return this._go(1)}async requestGC(){await this._mainFrameSession._client.send("HeapProfiler.collectGarbage")}async addInitScript(w,B="main"){await this._forAllFrameSessions((G=>G._evaluateOnNewDocument(w,B)))}async exposePlaywrightBinding(){await this._forAllFrameSessions((w=>w.exposePlaywrightBinding()))}async removeInitScripts(w){await this._forAllFrameSessions((B=>B._removeEvaluatesOnNewDocument(w)))}async closePage(w){if(w)await this._mainFrameSession._client.send("Page.close");else await this._browserContext._browser._closePage(this)}async setBackgroundColor(w){await this._mainFrameSession._client.send("Emulation.setDefaultBackgroundColorOverride",{color:w})}async takeScreenshot(w,B,G,K,pe,ye,Se){const{visualViewport:Be}=await w.race(this._mainFrameSession._client.send("Page.getLayoutMetrics"));if(!G){G={x:Be.pageX+K.x,y:Be.pageY+K.y,...Ye.helper.enclosingIntSize({width:K.width/Be.scale,height:K.height/Be.scale})}}const Qe={...G,scale:K?Be.scale:1};if(Se==="css"){const w=this._browserContext._options.deviceScaleFactor||1;Qe.scale/=w}const Pe=await w.race(this._mainFrameSession._client.send("Page.captureScreenshot",{format:B,quality:pe,clip:Qe,captureBeyondViewport:!ye}));return Buffer.from(Pe.data,"base64")}async getContentFrame(w){return this._sessionForHandle(w)._getContentFrame(w)}async getOwnerFrame(w){return this._sessionForHandle(w)._getOwnerFrame(w)}async getBoundingBox(w){return this._sessionForHandle(w)._getBoundingBox(w)}async scrollRectIntoViewIfNeeded(w,B){return this._sessionForHandle(w)._scrollRectIntoViewIfNeeded(w,B)}async setScreencastOptions(w){if(w){await this._mainFrameSession._startScreencast(this,{format:"jpeg",quality:w.quality,maxWidth:w.width,maxHeight:w.height})}else{await this._mainFrameSession._stopScreencast(this)}}rafCountForStablePosition(){return 1}async getContentQuads(w){return this._sessionForHandle(w)._getContentQuads(w)}async setInputFilePaths(w,B){const G=await w.ownerFrame();if(!G)throw new Error("Cannot set input files to detached input element");const K=this._sessionForFrame(G);await K._client.send("DOM.setFileInputFiles",{objectId:w._objectId,files:B})}async adoptElementHandle(w,B){return this._sessionForHandle(w)._adoptElementHandle(w,B)}async getAccessibilityTree(w){return(0,it.getAccessibilityTree)(this._mainFrameSession._client,w)}async inputActionEpilogue(){await this._mainFrameSession._client.send("Page.enable").catch((w=>{}))}async resetForReuse(w){await this.rawMouse.move(w,-1,-1,"none",new Set,new Set,true)}async pdf(w){return this._pdf.generate(w)}coverage(){return this._coverage}async getFrameElement(w){let B=w.parentFrame();if(!B)throw new Error("Frame has been detached.");const G=this._sessionForFrame(B);const{backendNodeId:K}=await G._client.send("DOM.getFrameOwner",{frameId:w._id}).catch((w=>{if(w instanceof Error&&w.message.includes("Frame with the given id was not found."))(0,qe.rewriteErrorMessage)(w,"Frame has been detached.");throw w}));B=w.parentFrame();if(!B)throw new Error("Frame has been detached.");return G._adoptBackendNodeId(K,await B._mainContext())}shouldToggleStyleSheetToSyncAnimations(){return false}}class FrameSession{constructor(w,B,G,K){this._childSessions=new Set;this._contextIdToContext=new Map;this._eventListeners=[];this._firstNonInitialNavigationCommittedFulfill=()=>{};this._firstNonInitialNavigationCommittedReject=w=>{};this._swappedIn=false;this._videoRecorder=null;this._screencastId=null;this._screencastClients=new Set;this._workerSessions=new Map;this._initScriptIds=new Map;this._client=B;this._crPage=w;this._page=w._page;this._targetId=G;this._parentSession=K;if(K)K._childSessions.add(this);this._firstNonInitialNavigationCommittedPromise=new Promise(((w,B)=>{this._firstNonInitialNavigationCommittedFulfill=w;this._firstNonInitialNavigationCommittedReject=B}));this._firstNonInitialNavigationCommittedPromise.catch((()=>{}))}_isMainFrame(){return this._targetId===this._crPage._targetId}_addRendererListeners(){this._eventListeners.push(...[je.eventsHelper.addEventListener(this._client,"Log.entryAdded",(w=>this._onLogEntryAdded(w))),je.eventsHelper.addEventListener(this._client,"Page.fileChooserOpened",(w=>this._onFileChooserOpened(w))),je.eventsHelper.addEventListener(this._client,"Page.frameAttached",(w=>this._onFrameAttached(w.frameId,w.parentFrameId))),je.eventsHelper.addEventListener(this._client,"Page.frameDetached",(w=>this._onFrameDetached(w.frameId,w.reason))),je.eventsHelper.addEventListener(this._client,"Page.frameNavigated",(w=>this._onFrameNavigated(w.frame,false))),je.eventsHelper.addEventListener(this._client,"Page.frameRequestedNavigation",(w=>this._onFrameRequestedNavigation(w))),je.eventsHelper.addEventListener(this._client,"Page.javascriptDialogOpening",(w=>this._onDialog(w))),je.eventsHelper.addEventListener(this._client,"Page.navigatedWithinDocument",(w=>this._onFrameNavigatedWithinDocument(w.frameId,w.url))),je.eventsHelper.addEventListener(this._client,"Runtime.bindingCalled",(w=>this._onBindingCalled(w))),je.eventsHelper.addEventListener(this._client,"Runtime.consoleAPICalled",(w=>this._onConsoleAPI(w))),je.eventsHelper.addEventListener(this._client,"Runtime.exceptionThrown",(w=>this._handleException(w.exceptionDetails))),je.eventsHelper.addEventListener(this._client,"Runtime.executionContextCreated",(w=>this._onExecutionContextCreated(w.context))),je.eventsHelper.addEventListener(this._client,"Runtime.executionContextDestroyed",(w=>this._onExecutionContextDestroyed(w.executionContextId))),je.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",(w=>this._onExecutionContextsCleared()))])}_addBrowserListeners(){this._eventListeners.push(...[je.eventsHelper.addEventListener(this._client,"Target.attachedToTarget",(w=>this._onAttachedToTarget(w))),je.eventsHelper.addEventListener(this._client,"Target.detachedFromTarget",(w=>this._onDetachedFromTarget(w))),je.eventsHelper.addEventListener(this._client,"Inspector.targetCrashed",(w=>this._onTargetCrashed())),je.eventsHelper.addEventListener(this._client,"Page.screencastFrame",(w=>this._onScreencastFrame(w))),je.eventsHelper.addEventListener(this._client,"Page.windowOpen",(w=>this._onWindowOpen(w)))])}async _initialize(w){if(!this._page.isStorageStatePage&&w&&!this._crPage._browserContext._browser.isClank()&&!this._crPage._browserContext._options.noDefaultViewport){const{windowId:w}=await this._client.send("Browser.getWindowForTarget");this._windowId=w}let B;if(!this._page.isStorageStatePage&&this._isMainFrame()&&this._crPage._browserContext._options.recordVideo&&w){const w=(0,Le.createGuid)();const G=Fe.default.join(this._crPage._browserContext._options.recordVideo.dir,w+".webm");B={...this._crPage._browserContext._options.recordVideo.size,outputFile:G};await this._crPage._browserContext._ensureVideosPath();await this._createVideoRecorder(w,B);this._crPage._page.waitForInitializedOrError().then((w=>{if(w instanceof Error)this._stopVideoRecording().catch((()=>{}))}))}let G;if(!this._isMainFrame())this._addRendererListeners();this._addBrowserListeners();this._bufferedAttachedToTargetEvents=[];const K=[this._client.send("Page.enable"),this._client.send("Page.getFrameTree").then((({frameTree:w})=>{if(this._isMainFrame()){this._handleFrameTree(w);this._addRendererListeners()}const B=this._bufferedAttachedToTargetEvents||[];this._bufferedAttachedToTargetEvents=void 0;for(const w of B)this._onAttachedToTarget(w);const K=this._isMainFrame()?this._page.frames():[this._page.frameManager.frame(this._targetId)];for(const w of K){this._client._sendMayFail("Page.createIsolatedWorld",{frameId:w._id,grantUniveralAccess:true,worldName:this._crPage.utilityWorldName})}const pe=this._isMainFrame()&&this._page.mainFrame().url()===":";if(pe){G.catch((w=>{})).then((()=>{this._eventListeners.push(je.eventsHelper.addEventListener(this._client,"Page.lifecycleEvent",(w=>this._onLifecycleEvent(w))))}))}else{this._firstNonInitialNavigationCommittedFulfill();this._eventListeners.push(je.eventsHelper.addEventListener(this._client,"Page.lifecycleEvent",(w=>this._onLifecycleEvent(w))))}})),this._client.send("Log.enable",{}),G=this._client.send("Page.setLifecycleEventsEnabled",{enabled:true}),this._client.send("Runtime.enable",{}),this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:"",worldName:this._crPage.utilityWorldName}),this._crPage._networkManager.addSession(this._client,void 0,this._isMainFrame()),this._client.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true})];if(!this._page.isStorageStatePage){if(this._crPage._browserContext.needsPlaywrightBinding())K.push(this.exposePlaywrightBinding());if(this._isMainFrame())K.push(this._client.send("Emulation.setFocusEmulationEnabled",{enabled:true}));const w=this._crPage._browserContext._options;if(w.bypassCSP)K.push(this._client.send("Page.setBypassCSP",{enabled:true}));if(w.ignoreHTTPSErrors||w.internalIgnoreHTTPSErrors)K.push(this._client.send("Security.setIgnoreCertificateErrors",{ignore:true}));if(this._isMainFrame())K.push(this._updateViewport());if(w.hasTouch)K.push(this._client.send("Emulation.setTouchEmulationEnabled",{enabled:true}));if(w.javaScriptEnabled===false)K.push(this._client.send("Emulation.setScriptExecutionDisabled",{value:true}));if(w.userAgent||w.locale)K.push(this._updateUserAgent());if(w.locale)K.push(emulateLocale(this._client,w.locale));if(w.timezoneId)K.push(emulateTimezone(this._client,w.timezoneId));if(!this._crPage._browserContext._browser.options.headful)K.push(this._setDefaultFontFamilies(this._client));K.push(this._updateGeolocation(true));K.push(this._updateEmulateMedia());K.push(this._updateFileChooserInterception(true));for(const w of this._crPage._page.allInitScripts())K.push(this._evaluateOnNewDocument(w,"main",true));if(B)K.push(this._startVideoRecording(B))}K.push(this._client.send("Runtime.runIfWaitingForDebugger"));K.push(this._firstNonInitialNavigationCommittedPromise);await Promise.all(K)}dispose(){this._firstNonInitialNavigationCommittedReject(new vt.TargetClosedError);for(const w of this._childSessions)w.dispose();if(this._parentSession)this._parentSession._childSessions.delete(this);je.eventsHelper.removeEventListeners(this._eventListeners);this._crPage._networkManager.removeSession(this._client);this._crPage._sessions.delete(this._targetId);this._client.dispose()}async _navigate(w,B,G){const K=await this._client.send("Page.navigate",{url:B,referrer:G,frameId:w._id,referrerPolicy:"unsafeUrl"});if(K.isDownload)throw new ze.NavigationAbortedError(K.loaderId,"Download is starting");if(K.errorText)throw new ze.NavigationAbortedError(K.loaderId,`${K.errorText} at ${B}`);return{newDocumentId:K.loaderId}}_onLifecycleEvent(w){if(this._eventBelongsToStaleFrame(w.frameId))return;if(w.name==="load")this._page.frameManager.frameLifecycleEvent(w.frameId,"load");else if(w.name==="DOMContentLoaded")this._page.frameManager.frameLifecycleEvent(w.frameId,"domcontentloaded")}_handleFrameTree(w){this._onFrameAttached(w.frame.id,w.frame.parentId||null);this._onFrameNavigated(w.frame,true);if(!w.childFrames)return;for(const B of w.childFrames)this._handleFrameTree(B)}_eventBelongsToStaleFrame(w){const B=this._page.frameManager.frame(w);if(!B)return true;const G=this._crPage._sessionForFrame(B);return G&&G!==this&&!G._swappedIn}_onFrameAttached(w,B){const G=this._crPage._sessions.get(w);if(G&&w!==this._targetId){G._swappedIn=true;const B=this._page.frameManager.frame(w);if(B)this._page.frameManager.removeChildFramesRecursively(B);return}if(B&&!this._page.frameManager.frame(B)){return}this._page.frameManager.frameAttached(w,B)}_onFrameNavigated(w,B){if(this._eventBelongsToStaleFrame(w.id))return;this._page.frameManager.frameCommittedNewDocumentNavigation(w.id,w.url+(w.urlFragment||""),w.name||"",w.loaderId,B);if(!B)this._firstNonInitialNavigationCommittedFulfill()}_onFrameRequestedNavigation(w){if(this._eventBelongsToStaleFrame(w.frameId))return;if(w.disposition==="currentTab")this._page.frameManager.frameRequestedNavigation(w.frameId)}_onFrameNavigatedWithinDocument(w,B){if(this._eventBelongsToStaleFrame(w))return;this._page.frameManager.frameCommittedSameDocumentNavigation(w,B)}_onFrameDetached(w,B){if(this._crPage._sessions.has(w)){return}if(B==="swap"){const B=this._page.frameManager.frame(w);if(B)this._page.frameManager.removeChildFramesRecursively(B);return}this._page.frameManager.frameDetached(w)}_onExecutionContextCreated(w){const B=w.auxData?this._page.frameManager.frame(w.auxData.frameId):null;if(!B||this._eventBelongsToStaleFrame(B._id))return;const G=new lt.CRExecutionContext(this._client,w);let K=null;if(w.auxData&&!!w.auxData.isDefault)K="main";else if(w.name===this._crPage.utilityWorldName)K="utility";const pe=new Ge.FrameExecutionContext(G,B,K);if(K)B._contextCreated(K,pe);this._contextIdToContext.set(w.id,pe)}_onExecutionContextDestroyed(w){const B=this._contextIdToContext.get(w);if(!B)return;this._contextIdToContext.delete(w);B.frame._contextDestroyed(B)}_onExecutionContextsCleared(){for(const w of Array.from(this._contextIdToContext.keys()))this._onExecutionContextDestroyed(w)}_onAttachedToTarget(w){if(this._bufferedAttachedToTargetEvents){this._bufferedAttachedToTargetEvents.push(w);return}const B=this._client.createChildSession(w.sessionId);if(w.targetInfo.type==="iframe"){const G=w.targetInfo.targetId;let K=this._page.frameManager.frame(G);if(!K&&w.targetInfo.parentFrameId){K=this._page.frameManager.frameAttached(G,w.targetInfo.parentFrameId)}if(!K)return;this._page.frameManager.removeChildFramesRecursively(K);for(const[w,B]of this._contextIdToContext){if(B.frame===K)this._onExecutionContextDestroyed(w)}const pe=new FrameSession(this._crPage,B,G,this);this._crPage._sessions.set(G,pe);pe._initialize(false).catch((w=>w));return}if(w.targetInfo.type!=="worker"){B.detach().catch((()=>{}));return}const G=w.targetInfo.url;const K=new Xe.Worker(this._page,G);this._page.addWorker(w.sessionId,K);this._workerSessions.set(w.sessionId,B);B.once("Runtime.executionContextCreated",(async w=>{K.createExecutionContext(new lt.CRExecutionContext(B,w.context))}));B._sendMayFail("Runtime.enable");this._crPage._networkManager.addSession(B,this._page.frameManager.frame(this._targetId)??void 0).catch((()=>{}));B._sendMayFail("Runtime.runIfWaitingForDebugger");B._sendMayFail("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true});B.on("Target.attachedToTarget",(w=>this._onAttachedToTarget(w)));B.on("Target.detachedFromTarget",(w=>this._onDetachedFromTarget(w)));B.on("Runtime.consoleAPICalled",(w=>{const B=w.args.map((w=>(0,lt.createHandle)(K.existingExecutionContext,w)));this._page.addConsoleMessage(w.type,B,(0,gt.toConsoleMessageLocation)(w.stackTrace))}));B.on("Runtime.exceptionThrown",(w=>this._page.addPageError((0,gt.exceptionToError)(w.exceptionDetails))))}_onDetachedFromTarget(w){const B=this._workerSessions.get(w.sessionId);if(B){B.dispose();this._page.removeWorker(w.sessionId);return}const G=this._crPage._sessions.get(w.targetId);if(!G)return;if(G._swappedIn){G.dispose();return}this._client.send("Page.enable").catch((w=>null)).then((()=>{if(!G._swappedIn)this._page.frameManager.frameDetached(w.targetId);G.dispose()}))}_onWindowOpen(w){this._crPage._nextWindowOpenPopupFeatures.push(w.windowFeatures)}async _onConsoleAPI(w){if(w.executionContextId===0){return}const B=this._contextIdToContext.get(w.executionContextId);if(!B)return;const G=w.args.map((w=>(0,lt.createHandle)(B,w)));this._page.addConsoleMessage(w.type,G,(0,gt.toConsoleMessageLocation)(w.stackTrace))}async _onBindingCalled(w){const B=await this._crPage._page.waitForInitializedOrError();if(!(B instanceof Error)){const B=this._contextIdToContext.get(w.executionContextId);if(B)await this._page.onBindingCalled(w.payload,B)}}_onDialog(w){if(!this._page.frameManager.frame(this._targetId))return;this._page.browserContext.dialogManager.dialogDidOpen(new We.Dialog(this._page,w.type,w.message,(async(B,G)=>{if(this._isMainFrame()&&w.type==="beforeunload"&&!B)this._page.frameManager.frameAbortedNavigation(this._page.mainFrame()._id,"navigation cancelled by beforeunload dialog");await this._client.send("Page.handleJavaScriptDialog",{accept:B,promptText:G})}),w.defaultPrompt))}_handleException(w){this._page.addPageError((0,gt.exceptionToError)(w))}async _onTargetCrashed(){this._client._markAsCrashed();this._page._didCrash()}_onLogEntryAdded(w){const{level:B,text:G,args:K,source:pe,url:ye,lineNumber:Se}=w.entry;if(K)K.map((w=>(0,gt.releaseObject)(this._client,w.objectId)));if(pe!=="worker"){const w={url:ye||"",lineNumber:Se||0,columnNumber:0};this._page.addConsoleMessage(B,[],w,G)}}async _onFileChooserOpened(w){if(!w.backendNodeId)return;const B=this._page.frameManager.frame(w.frameId);if(!B)return;let G;try{const K=await B._utilityContext();G=await this._adoptBackendNodeId(w.backendNodeId,K)}catch(w){return}await this._page._onFileChooserOpened(G)}_willBeginDownload(){if(!this._crPage._page.initializedOrUndefined()){this._firstNonInitialNavigationCommittedReject(new Error("Starting new page download"))}}_onScreencastFrame(w){this._page.throttleScreencastFrameAck((()=>{this._client.send("Page.screencastFrameAck",{sessionId:w.sessionId}).catch((()=>{}))}));const B=Buffer.from(w.data,"base64");this._page.emit(Xe.Page.Events.ScreencastFrame,{buffer:B,frameSwapWallTime:w.metadata.timestamp?w.metadata.timestamp*1e3:void 0,width:w.metadata.deviceWidth,height:w.metadata.deviceHeight})}async _createVideoRecorder(w,B){(0,Me.assert)(!this._screencastId);const G=rt.registry.findExecutable("ffmpeg").executablePathOrDie(this._page.browserContext._browser.sdkLanguage());this._videoRecorder=await wt.VideoRecorder.launch(this._crPage._page,G,B);this._screencastId=w}async _startVideoRecording(w){const B=this._screencastId;(0,Me.assert)(B);this._page.once(Xe.Page.Events.Close,(()=>this._stopVideoRecording().catch((()=>{}))));const G=new Promise((w=>this._client.once("Page.screencastFrame",w)));await this._startScreencast(this._videoRecorder,{format:"jpeg",quality:90,maxWidth:w.width,maxHeight:w.height});G.then((()=>{this._crPage._browserContext._browser._videoStarted(this._crPage._browserContext,B,w.outputFile,this._crPage._page.waitForInitializedOrError())}))}async _stopVideoRecording(){if(!this._screencastId)return;const w=this._screencastId;this._screencastId=null;const B=this._videoRecorder;this._videoRecorder=null;await this._stopScreencast(B);await B.stop().catch((()=>{}));const G=this._crPage._browserContext._browser._takeVideo(w);G?.reportFinished()}async _startScreencast(w,B={}){this._screencastClients.add(w);if(this._screencastClients.size===1)await this._client.send("Page.startScreencast",B)}async _stopScreencast(w){this._screencastClients.delete(w);if(!this._screencastClients.size)await this._client._sendMayFail("Page.stopScreencast")}async _updateGeolocation(w){const B=this._crPage._browserContext._options.geolocation;if(!w||B)await this._client.send("Emulation.setGeolocationOverride",B||{})}async _updateViewport(w){if(this._crPage._browserContext._browser.isClank())return;(0,Me.assert)(this._isMainFrame());const B=this._crPage._browserContext._options;const G=this._page.emulatedSize();if(!G)return;const K=G.viewport;const pe=G.screen;const ye=pe.width>pe.height;const Se={mobile:!!B.isMobile,width:K.width,height:K.height,screenWidth:pe.width,screenHeight:pe.height,deviceScaleFactor:B.deviceScaleFactor||1,screenOrientation:!!B.isMobile?ye?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"}:{angle:0,type:"landscapePrimary"},dontSetVisibleSize:w};if(JSON.stringify(this._metricsOverride)===JSON.stringify(Se))return;const Be=[];if(!w&&this._windowId){let w={width:0,height:0};if(this._crPage._browserContext._browser.options.headful){w={width:24,height:88};if(process.platform==="win32")w={width:16,height:88};else if(process.platform==="linux")w={width:8,height:85};else if(process.platform==="darwin")w={width:2,height:80};if(this._crPage._browserContext.isPersistentContext()){w.height+=46}}Be.push(this.setWindowBounds({width:K.width+w.width,height:K.height+w.height}))}Be.push(this._client.send("Emulation.setDeviceMetricsOverride",Se));await Promise.all(Be);this._metricsOverride=Se}async windowBounds(){const{bounds:w}=await this._client.send("Browser.getWindowBounds",{windowId:this._windowId});return w}async setWindowBounds(w){return await this._client.send("Browser.setWindowBounds",{windowId:this._windowId,bounds:w})}async _updateEmulateMedia(){const w=this._page.emulatedMedia();const B=w.media==="no-override"?"":w.media;const G=w.colorScheme==="no-override"?"":w.colorScheme;const K=w.reducedMotion==="no-override"?"":w.reducedMotion;const pe=w.forcedColors==="no-override"?"":w.forcedColors;const ye=w.contrast==="no-override"?"":w.contrast;const Se=[{name:"prefers-color-scheme",value:G},{name:"prefers-reduced-motion",value:K},{name:"forced-colors",value:pe},{name:"prefers-contrast",value:ye}];await this._client.send("Emulation.setEmulatedMedia",{media:B,features:Se})}async _updateUserAgent(){const w=this._crPage._browserContext._options;await this._client.send("Emulation.setUserAgentOverride",{userAgent:w.userAgent||"",acceptLanguage:w.locale,userAgentMetadata:calculateUserAgentMetadata(w)})}async _setDefaultFontFamilies(w){const B=mt.platformToFontFamilies[this._crPage._browserContext._browser._platform()];await w.send("Page.setFontFamilies",B)}async _updateFileChooserInterception(w){const B=this._page.fileChooserIntercepted();if(w&&!B)return;await this._client.send("Page.setInterceptFileChooserDialog",{enabled:B}).catch((()=>{}))}async _evaluateOnNewDocument(w,B,G){const K=B==="utility"?this._crPage.utilityWorldName:void 0;const{identifier:pe}=await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:w.source,worldName:K,runImmediately:G});this._initScriptIds.set(w,pe)}async _removeEvaluatesOnNewDocument(w){const B=[];for(const G of w){const w=this._initScriptIds.get(G);if(w)B.push(w);this._initScriptIds.delete(G)}await Promise.all(B.map((w=>this._client.send("Page.removeScriptToEvaluateOnNewDocument",{identifier:w}).catch((()=>{})))))}async exposePlaywrightBinding(){await this._client.send("Runtime.addBinding",{name:Xe.PageBinding.kBindingName})}async _getContentFrame(w){const B=await this._client.send("DOM.describeNode",{objectId:w._objectId});if(!B||typeof B.node.frameId!=="string")return null;return this._page.frameManager.frame(B.node.frameId)}async _getOwnerFrame(w){const B=await w.evaluateHandle((w=>{const B=w;if(B.documentElement&&B.documentElement.ownerDocument===B)return B.documentElement;return w.ownerDocument?w.ownerDocument.documentElement:null}));if(!B)return null;if(!B._objectId)return null;const G=await this._client.send("DOM.describeNode",{objectId:B._objectId});const K=G&&typeof G.node.frameId==="string"?G.node.frameId:null;B.dispose();return K}async _getBoundingBox(w){const B=await this._client._sendMayFail("DOM.getBoxModel",{objectId:w._objectId});if(!B)return null;const G=B.model.border;const K=Math.min(G[0],G[2],G[4],G[6]);const pe=Math.min(G[1],G[3],G[5],G[7]);const ye=Math.max(G[0],G[2],G[4],G[6])-K;const Se=Math.max(G[1],G[3],G[5],G[7])-pe;const Be=await this._framePosition();if(!Be)return null;return{x:K+Be.x,y:pe+Be.y,width:ye,height:Se}}async _framePosition(){const w=this._page.frameManager.frame(this._targetId);if(!w)return null;if(w===this._page.mainFrame())return{x:0,y:0};const B=await w.frameElement();const G=await B.boundingBox();return G}async _scrollRectIntoViewIfNeeded(w,B){return await this._client.send("DOM.scrollIntoViewIfNeeded",{objectId:w._objectId,rect:B}).then((()=>"done")).catch((w=>{if(w instanceof Error&&w.message.includes("Node does not have a layout object"))return"error:notvisible";if(w instanceof Error&&w.message.includes("Node is detached from document"))return"error:notconnected";throw w}))}async _getContentQuads(w){const B=await this._client._sendMayFail("DOM.getContentQuads",{objectId:w._objectId});if(!B)return null;const G=await this._framePosition();if(!G)return null;return B.quads.map((w=>[{x:w[0]+G.x,y:w[1]+G.y},{x:w[2]+G.x,y:w[3]+G.y},{x:w[4]+G.x,y:w[5]+G.y},{x:w[6]+G.x,y:w[7]+G.y}]))}async _adoptElementHandle(w,B){const G=await this._client.send("DOM.describeNode",{objectId:w._objectId});return this._adoptBackendNodeId(G.node.backendNodeId,B)}async _adoptBackendNodeId(w,B){const G=await this._client._sendMayFail("DOM.resolveNode",{backendNodeId:w,executionContextId:B.delegate._contextId});if(!G||G.object.subtype==="null")throw new Error(Ge.kUnableToAdoptErrorMessage);return(0,lt.createHandle)(B,G.object).asElement()}}async function emulateLocale(w,B){try{await w.send("Emulation.setLocaleOverride",{locale:B})}catch(w){if(w.message.includes("Another locale override is already in effect"))return;throw w}}async function emulateTimezone(w,B){try{await w.send("Emulation.setTimezoneOverride",{timezoneId:B})}catch(w){if(w.message.includes("Timezone override is already in effect"))return;if(w.message.includes("Invalid timezone"))throw new Error(`Invalid timezone ID: ${B}`);throw w}}function calculateUserAgentMetadata(w){const B=w.userAgent;if(!B)return void 0;const G={mobile:!!w.isMobile,model:"",architecture:"x86",platform:"Windows",platformVersion:""};const K=B.match(/Android (\d+(\.\d+)?(\.\d+)?)/);const pe=B.match(/iPhone OS (\d+(_\d+)?)/);const ye=B.match(/iPad; CPU OS (\d+(_\d+)?)/);const Se=B.match(/Mac OS X (\d+(_\d+)?(_\d+)?)/);const Be=B.match(/Windows\D+(\d+(\.\d+)?(\.\d+)?)/);if(K){G.platform="Android";G.platformVersion=K[1];G.architecture="arm"}else if(pe){G.platform="iOS";G.platformVersion=pe[1];G.architecture="arm"}else if(ye){G.platform="iOS";G.platformVersion=ye[1];G.architecture="arm"}else if(Se){G.platform="macOS";G.platformVersion=Se[1];if(!B.includes("Intel"))G.architecture="arm"}else if(Be){G.platform="Windows";G.platformVersion=Be[1]}else if(B.toLowerCase().includes("linux")){G.platform="Linux"}if(B.includes("ARM"))G.architecture="arm";return G}0&&0},6376:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{CRPDF:()=>CRPDF});w.exports=__toCommonJS(Be);var Qe=G(4080);var Pe=G(7651);const Fe={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}};const Me={px:1,in:96,cm:37.8,mm:3.78};function convertPrintParameterToInches(w){if(w===void 0)return void 0;let B=w.substring(w.length-2).toLowerCase();let G="";if(Me.hasOwnProperty(B)){G=w.substring(0,w.length-2)}else{B="px";G=w}const K=Number(G);(0,Pe.assert)(!isNaN(K),"Failed to parse parameter value: "+w);const pe=K*Me[B];return pe/96}class CRPDF{constructor(w){this._client=w}async generate(w){const{scale:B=1,displayHeaderFooter:G=false,headerTemplate:K="",footerTemplate:pe="",printBackground:ye=false,landscape:Se=false,pageRanges:Be="",preferCSSPageSize:Me=false,margin:Le={},tagged:je=false,outline:qe=false}=w;let We=8.5;let Ge=11;if(w.format){const B=Fe[w.format.toLowerCase()];(0,Pe.assert)(B,"Unknown paper format: "+w.format);We=B.width;Ge=B.height}else{We=convertPrintParameterToInches(w.width)||We;Ge=convertPrintParameterToInches(w.height)||Ge}const ze=convertPrintParameterToInches(Le.top)||0;const Ye=convertPrintParameterToInches(Le.left)||0;const Ke=convertPrintParameterToInches(Le.bottom)||0;const Xe=convertPrintParameterToInches(Le.right)||0;const rt=qe;const it=je;const ot=await this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:Se,displayHeaderFooter:G,headerTemplate:K,footerTemplate:pe,printBackground:ye,scale:B,paperWidth:We,paperHeight:Ge,marginTop:ze,marginBottom:Ke,marginLeft:Ye,marginRight:Xe,pageRanges:Be,preferCSSPageSize:Me,generateTaggedPDF:it,generateDocumentOutline:rt});return await(0,Qe.readProtocolStream)(this._client,ot.stream)}}0&&0},4080:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{exceptionToError:()=>exceptionToError,getExceptionMessage:()=>getExceptionMessage,readProtocolStream:()=>readProtocolStream,releaseObject:()=>releaseObject,saveProtocolStream:()=>saveProtocolStream,toButtonsMask:()=>toButtonsMask,toConsoleMessageLocation:()=>toConsoleMessageLocation,toModifiersMask:()=>toModifiersMask});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=G(3559);var Le=G(3449);function getExceptionMessage(w){if(w.exception)return w.exception.description||String(w.exception.value);let B=w.text;if(w.stackTrace){for(const G of w.stackTrace.callFrames){const w=G.url+":"+G.lineNumber+":"+G.columnNumber;const K=G.functionName||"<anonymous>";B+=`\n    at ${K} (${w})`}}return B}async function releaseObject(w,B){await w.send("Runtime.releaseObject",{objectId:B}).catch((w=>{}))}async function saveProtocolStream(w,B,G){let K=false;await(0,Le.mkdirIfNeeded)(G);const pe=await Fe.default.promises.open(G,"w");while(!K){const G=await w.send("IO.read",{handle:B});K=G.eof;const ye=Buffer.from(G.data,G.base64Encoded?"base64":void 0);await pe.write(ye)}await pe.close();await w.send("IO.close",{handle:B})}async function readProtocolStream(w,B){let G=false;const K=[];while(!G){const pe=await w.send("IO.read",{handle:B});G=pe.eof;const ye=Buffer.from(pe.data,pe.base64Encoded?"base64":void 0);K.push(ye)}await w.send("IO.close",{handle:B});return Buffer.concat(K)}function toConsoleMessageLocation(w){return w&&w.callFrames.length?{url:w.callFrames[0].url,lineNumber:w.callFrames[0].lineNumber,columnNumber:w.callFrames[0].columnNumber}:{url:"",lineNumber:0,columnNumber:0}}function exceptionToError(w){const B=getExceptionMessage(w);const G=B.split("\n");const K=G.findIndex((w=>w.startsWith("    at")));let pe="";let ye="";if(K===-1){pe=B}else{pe=G.slice(0,K).join("\n");ye=B}const{name:Se,message:Be}=(0,Me.splitErrorMessage)(pe);const Qe=new Error(Be);Qe.stack=ye;const Pe=w.exception?.preview?.properties.find((w=>w.name==="name"));Qe.name=Pe?Pe.value??"Error":Se;return Qe}function toModifiersMask(w){let B=0;if(w.has("Alt"))B|=1;if(w.has("Control"))B|=2;if(w.has("Meta"))B|=4;if(w.has("Shift"))B|=8;return B}function toButtonsMask(w){let B=0;if(w.has("left"))B|=1;if(w.has("right"))B|=2;if(w.has("middle"))B|=4;return B}0&&0},7495:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{CRServiceWorker:()=>CRServiceWorker});w.exports=__toCommonJS(Pe);var Fe=G(1921);var Me=G(5853);var Le=G(6877);var je=G(6609);var qe=__toESM(G(6182));class CRServiceWorker extends Fe.Worker{constructor(w,B,G){super(w,G);this._session=B;this.browserContext=w;if(!!process.env.PW_EXPERIMENTAL_SERVICE_WORKER_NETWORK_EVENTS)this._networkManager=new Le.CRNetworkManager(null,this);B.once("Runtime.executionContextCreated",(w=>{this.createExecutionContext(new Me.CRExecutionContext(B,w.context))}));if(this._networkManager&&this._isNetworkInspectionEnabled()){this.updateRequestInterception();this.updateExtraHTTPHeaders();this.updateHttpCredentials();this.updateOffline();this._networkManager.addSession(B,void 0,true).catch((()=>{}))}B.send("Runtime.enable",{}).catch((w=>{}));B.send("Runtime.runIfWaitingForDebugger").catch((w=>{}));B.on("Inspector.targetReloadedAfterCrash",(()=>{B._sendMayFail("Runtime.runIfWaitingForDebugger",{})}))}didClose(){this._networkManager?.removeSession(this._session);this._session.dispose();super.didClose()}async updateOffline(){if(!this._isNetworkInspectionEnabled())return;await(this._networkManager?.setOffline(!!this.browserContext._options.offline).catch((()=>{})))}async updateHttpCredentials(){if(!this._isNetworkInspectionEnabled())return;await(this._networkManager?.authenticate(this.browserContext._options.httpCredentials||null).catch((()=>{})))}async updateExtraHTTPHeaders(){if(!this._isNetworkInspectionEnabled())return;await(this._networkManager?.setExtraHTTPHeaders(this.browserContext._options.extraHTTPHeaders||[]).catch((()=>{})))}async updateRequestInterception(){if(!this._isNetworkInspectionEnabled())return;await(this._networkManager?.setRequestInterception(this.needsRequestInterception()).catch((()=>{})))}needsRequestInterception(){return this._isNetworkInspectionEnabled()&&this.browserContext.requestInterceptors.length>0}reportRequestFinished(w,B){this.browserContext.emit(je.BrowserContext.Events.RequestFinished,{request:w,response:B})}requestFailed(w,B){this.browserContext.emit(je.BrowserContext.Events.RequestFailed,w)}requestReceivedResponse(w){this.browserContext.emit(je.BrowserContext.Events.Response,w)}requestStarted(w,B){this.browserContext.emit(je.BrowserContext.Events.Request,w);if(B)new qe.Route(w,B).handle(this.browserContext.requestInterceptors)}_isNetworkInspectionEnabled(){return this.browserContext._options.serviceWorkers!=="block"}}0&&0},4994:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{platformToFontFamilies:()=>Se});w.exports=__toCommonJS(ye);const Se={linux:{fontFamilies:{standard:"Times New Roman",fixed:"Monospace",serif:"Times New Roman",sansSerif:"Arial",cursive:"Comic Sans MS",fantasy:"Impact"}},mac:{fontFamilies:{standard:"Times",fixed:"Courier",serif:"Times",sansSerif:"Helvetica",cursive:"Apple Chancery",fantasy:"Papyrus"},forScripts:[{script:"jpan",fontFamilies:{standard:"Hiragino Kaku Gothic ProN",fixed:"Osaka-Mono",serif:"Hiragino Mincho ProN",sansSerif:"Hiragino Kaku Gothic ProN"}},{script:"hang",fontFamilies:{standard:"Apple SD Gothic Neo",serif:"AppleMyungjo",sansSerif:"Apple SD Gothic Neo"}},{script:"hans",fontFamilies:{standard:",PingFang SC,STHeiti",serif:"Songti SC",sansSerif:",PingFang SC,STHeiti",cursive:"Kaiti SC"}},{script:"hant",fontFamilies:{standard:",PingFang TC,Heiti TC",serif:"Songti TC",sansSerif:",PingFang TC,Heiti TC",cursive:"Kaiti TC"}}]},win:{fontFamilies:{standard:"Times New Roman",fixed:"Consolas",serif:"Times New Roman",sansSerif:"Arial",cursive:"Comic Sans MS",fantasy:"Impact"},forScripts:[{script:"cyrl",fontFamilies:{standard:"Times New Roman",fixed:"Courier New",serif:"Times New Roman",sansSerif:"Arial"}},{script:"arab",fontFamilies:{fixed:"Courier New",sansSerif:"Segoe UI"}},{script:"grek",fontFamilies:{standard:"Times New Roman",fixed:"Courier New",serif:"Times New Roman",sansSerif:"Arial"}},{script:"jpan",fontFamilies:{standard:",Meiryo,Yu Gothic",fixed:"MS Gothic",serif:",Yu Mincho,MS PMincho",sansSerif:",Meiryo,Yu Gothic"}},{script:"hang",fontFamilies:{standard:"Malgun Gothic",fixed:"Gulimche",serif:"Batang",sansSerif:"Malgun Gothic",cursive:"Gungsuh"}},{script:"hans",fontFamilies:{standard:"Microsoft YaHei",fixed:"NSimsun",serif:"Simsun",sansSerif:"Microsoft YaHei",cursive:"KaiTi"}},{script:"hant",fontFamilies:{standard:"Microsoft JhengHei",fixed:"MingLiU",serif:"PMingLiU",sansSerif:"Microsoft JhengHei",cursive:"DFKai-SB"}}]}};0&&0},5756:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{VideoRecorder:()=>VideoRecorder});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(1921);var Fe=G(8719);const Me=25;class VideoRecorder{constructor(w,B){this._process=null;this._gracefullyClose=null;this._lastWritePromise=Promise.resolve();this._lastFrameTimestamp=0;this._lastFrameBuffer=null;this._lastWriteTimestamp=0;this._frameQueue=[];this._isStopped=false;this._ffmpegPath=B;w.on(Pe.Page.Events.ScreencastFrame,(w=>this.writeFrame(w.buffer,w.frameSwapWallTime/1e3)))}static async launch(w,B,G){if(!G.outputFile.endsWith(".webm"))throw new Error("File must have .webm extension");const K=new VideoRecorder(w,B);await K._launch(G);return K}async _launch(w){const B=w.width;const G=w.height;const K=`-loglevel error -f image2pipe -avioflags direct -fpsprobesize 0 -probesize 32 -analyzeduration 0 -c:v mjpeg -i pipe:0 -y -an -r ${Me} -c:v vp8 -qmin 0 -qmax 50 -crf 8 -deadline realtime -speed 8 -b:v 1M -threads 1 -vf pad=${B}:${G}:0:0:gray,crop=${B}:${G}:0:0`.split(" ");K.push(w.outputFile);const{launchedProcess:pe,gracefullyClose:ye}=await(0,Fe.launchProcess)({command:this._ffmpegPath,args:K,stdio:"stdin",log:w=>Qe.debugLogger.log("browser",w),tempDirectories:[],attemptToGracefullyClose:async()=>{Qe.debugLogger.log("browser","Closing stdin...");pe.stdin.end()},onExit:(w,B)=>{Qe.debugLogger.log("browser",`ffmpeg onkill exitCode=${w} signal=${B}`)}});pe.stdin.on("finish",(()=>{Qe.debugLogger.log("browser","ffmpeg finished input.")}));pe.stdin.on("error",(()=>{Qe.debugLogger.log("browser","ffmpeg error.")}));this._process=pe;this._gracefullyClose=ye}writeFrame(w,B){(0,Qe.assert)(this._process);if(this._isStopped)return;if(this._lastFrameBuffer){const w=B-this._lastFrameTimestamp;const G=Math.max(1,Math.round(Me*w));for(let w=0;w<G;++w)this._frameQueue.push(this._lastFrameBuffer);this._lastWritePromise=this._lastWritePromise.then((()=>this._sendFrames()))}this._lastFrameBuffer=w;this._lastFrameTimestamp=B;this._lastWriteTimestamp=(0,Qe.monotonicTime)()}async _sendFrames(){while(this._frameQueue.length)await this._sendFrame(this._frameQueue.shift())}async _sendFrame(w){return new Promise((B=>this._process.stdin.write(w,B))).then((w=>{if(w)Qe.debugLogger.log("browser",`ffmpeg failed to write: ${String(w)}`)}))}async stop(){if(this._isStopped)return;this.writeFrame(Buffer.from([]),this._lastFrameTimestamp+((0,Qe.monotonicTime)()-this._lastWriteTimestamp)/1e3);this._isStopped=true;await this._lastWritePromise;await this._gracefullyClose()}}0&&0},742:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Clock:()=>Clock});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9631));class Clock{constructor(w){this._initScripts=[];this._browserContext=w}async uninstall(w){await w.race(this._browserContext.removeInitScripts(this._initScripts));this._initScripts=[]}async fastForward(w,B){await this._installIfNeeded(w);const G=parseTicks(B);this._initScripts.push(await this._browserContext.addInitScript(w,`globalThis.__pwClock.controller.log('fastForward', ${Date.now()}, ${G})`));await w.race(this._evaluateInFrames(`globalThis.__pwClock.controller.fastForward(${G})`))}async install(w,B){await this._installIfNeeded(w);const G=B!==void 0?parseTime(B):Date.now();this._initScripts.push(await this._browserContext.addInitScript(w,`globalThis.__pwClock.controller.log('install', ${Date.now()}, ${G})`));await w.race(this._evaluateInFrames(`globalThis.__pwClock.controller.install(${G})`))}async pauseAt(w,B){await this._installIfNeeded(w);const G=parseTime(B);this._initScripts.push(await this._browserContext.addInitScript(w,`globalThis.__pwClock.controller.log('pauseAt', ${Date.now()}, ${G})`));await w.race(this._evaluateInFrames(`globalThis.__pwClock.controller.pauseAt(${G})`))}resumeNoReply(){if(!this._initScripts.length)return;const doResume=async()=>{this._initScripts.push(await this._browserContext.addInitScript(void 0,`globalThis.__pwClock.controller.log('resume', ${Date.now()})`));await this._evaluateInFrames(`globalThis.__pwClock.controller.resume()`)};doResume().catch((()=>{}))}async resume(w){await this._installIfNeeded(w);this._initScripts.push(await this._browserContext.addInitScript(w,`globalThis.__pwClock.controller.log('resume', ${Date.now()})`));await w.race(this._evaluateInFrames(`globalThis.__pwClock.controller.resume()`))}async setFixedTime(w,B){await this._installIfNeeded(w);const G=parseTime(B);this._initScripts.push(await this._browserContext.addInitScript(w,`globalThis.__pwClock.controller.log('setFixedTime', ${Date.now()}, ${G})`));await w.race(this._evaluateInFrames(`globalThis.__pwClock.controller.setFixedTime(${G})`))}async setSystemTime(w,B){await this._installIfNeeded(w);const G=parseTime(B);this._initScripts.push(await this._browserContext.addInitScript(w,`globalThis.__pwClock.controller.log('setSystemTime', ${Date.now()}, ${G})`));await w.race(this._evaluateInFrames(`globalThis.__pwClock.controller.setSystemTime(${G})`))}async runFor(w,B){await this._installIfNeeded(w);const G=parseTicks(B);this._initScripts.push(await this._browserContext.addInitScript(w,`globalThis.__pwClock.controller.log('runFor', ${Date.now()}, ${G})`));await w.race(this._evaluateInFrames(`globalThis.__pwClock.controller.runFor(${G})`))}async _installIfNeeded(w){if(this._initScripts.length)return;const B=`(() => {\n      const module = {};\n      ${Fe.source}\n      if (!globalThis.__pwClock)\n        globalThis.__pwClock = (module.exports.inject())(globalThis);\n    })();`;const G=await this._browserContext.addInitScript(w,B);await w.race(this._evaluateInFrames(B));this._initScripts.push(G)}async _evaluateInFrames(w){await this._browserContext.safeNonStallingEvaluateInAllFrames(w,"main",{throwOnJSErrors:true})}}function parseTicks(w){if(typeof w==="number")return w;if(!w)return 0;const B=w;const G=B.split(":");const K=G.length;let pe=K;let ye=0;let Se;if(K>3||!/^(\d\d:){0,2}\d\d?$/.test(B)){throw new Error(`Clock only understands numbers, 'mm:ss' and 'hh:mm:ss'`)}while(pe--){Se=parseInt(G[pe],10);if(Se>=60)throw new Error(`Invalid time ${B}`);ye+=Se*Math.pow(60,K-pe-1)}return ye*1e3}function parseTime(w){if(!w)return 0;if(typeof w==="number")return w;const B=new Date(w);if(!isFinite(B.getTime()))throw new Error(`Invalid date: ${w}`);return B.getTime()}0&&0},8979:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{CSharpLanguageGenerator:()=>CSharpLanguageGenerator});w.exports=__toCommonJS(Be);var Qe=G(7902);var Pe=G(7651);var Fe=G(1792);class CSharpLanguageGenerator{constructor(w){this.groupName=".NET C#";this.highlighter="csharp";if(w==="library"){this.name="Library";this.id="csharp"}else if(w==="mstest"){this.name="MSTest";this.id="csharp-mstest"}else if(w==="nunit"){this.name="NUnit";this.id="csharp-nunit"}else{throw new Error(`Unknown C# language mode: ${w}`)}this._mode=w}generateAction(w){const B=this._generateActionInner(w);if(B)return B;return""}_generateActionInner(w){const B=w.action;if(this._mode!=="library"&&(B.name==="openPage"||B.name==="closePage"))return"";const G=this._formatPageAlias(w.frame.pageAlias);const K=new CSharpFormatter(this._mode==="library"?0:8);if(B.name==="openPage"){K.add(`var ${G} = await context.NewPageAsync();`);if(B.url&&B.url!=="about:blank"&&B.url!=="chrome://newtab/")K.add(`await ${G}.GotoAsync(${quote(B.url)});`);return K.format()}const pe=w.frame.framePath.map((w=>`.${this._asLocator(w)}.ContentFrame`));const ye=`${G}${pe.join("")}`;const Se=(0,Qe.toSignalMap)(B);if(Se.dialog){K.add(`    void ${G}_Dialog${Se.dialog.dialogAlias}_EventHandler(object sender, IDialog dialog)\n      {\n          Console.WriteLine($"Dialog message: {dialog.Message}");\n          dialog.DismissAsync();\n          ${G}.Dialog -= ${G}_Dialog${Se.dialog.dialogAlias}_EventHandler;\n      }\n      ${G}.Dialog += ${G}_Dialog${Se.dialog.dialogAlias}_EventHandler;`)}const Be=[];Be.push(this._generateActionCall(ye,w));if(Se.download){Be.unshift(`var download${Se.download.downloadAlias} = await ${G}.RunAndWaitForDownloadAsync(async () =>\n{`);Be.push(`});`)}if(Se.popup){Be.unshift(`var ${this._formatPageAlias(Se.popup.popupAlias)} = await ${G}.RunAndWaitForPopupAsync(async () =>\n{`);Be.push(`});`)}for(const w of Be)K.add(w);return K.format()}_formatPageAlias(w){if(this._mode==="library")return w;if(w==="page")return"Page";return w}_generateActionCall(w,B){const G=B.action;switch(G.name){case"openPage":throw Error("Not reached");case"closePage":return`await ${w}.CloseAsync();`;case"click":{let B="Click";if(G.clickCount===2)B="DblClick";const K=(0,Qe.toClickOptionsForSourceCode)(G);if(!Object.entries(K).length)return`await ${w}.${this._asLocator(G.selector)}.${B}Async();`;const pe=formatObject(K,"    ");return`await ${w}.${this._asLocator(G.selector)}.${B}Async(${pe});`}case"hover":{const B=G.position?formatObject({position:G.position},"    "):"";return`await ${w}.${this._asLocator(G.selector)}.HoverAsync(${B});`}case"check":return`await ${w}.${this._asLocator(G.selector)}.CheckAsync();`;case"uncheck":return`await ${w}.${this._asLocator(G.selector)}.UncheckAsync();`;case"fill":return`await ${w}.${this._asLocator(G.selector)}.FillAsync(${quote(G.text)});`;case"setInputFiles":return`await ${w}.${this._asLocator(G.selector)}.SetInputFilesAsync(${formatObject(G.files)});`;case"press":{const B=(0,Qe.toKeyboardModifiers)(G.modifiers);const K=[...B,G.key].join("+");return`await ${w}.${this._asLocator(G.selector)}.PressAsync(${quote(K)});`}case"navigate":return`await ${w}.GotoAsync(${quote(G.url)});`;case"select":return`await ${w}.${this._asLocator(G.selector)}.SelectOptionAsync(${formatObject(G.options)});`;case"assertText":return`await Expect(${w}.${this._asLocator(G.selector)}).${G.substring?"ToContainTextAsync":"ToHaveTextAsync"}(${quote(G.text)});`;case"assertChecked":return`await Expect(${w}.${this._asLocator(G.selector)})${G.checked?"":".Not"}.ToBeCheckedAsync();`;case"assertVisible":return`await Expect(${w}.${this._asLocator(G.selector)}).ToBeVisibleAsync();`;case"assertValue":{const B=G.value?`ToHaveValueAsync(${quote(G.value)})`:`ToBeEmptyAsync()`;return`await Expect(${w}.${this._asLocator(G.selector)}).${B};`}case"assertSnapshot":return`await Expect(${w}.${this._asLocator(G.selector)}).ToMatchAriaSnapshotAsync(${quote(G.ariaSnapshot)});`}}_asLocator(w){return(0,Pe.asLocator)("csharp",w)}generateHeader(w){if(this._mode==="library")return this.generateStandaloneHeader(w);return this.generateTestRunnerHeader(w)}generateStandaloneHeader(w){const B=new CSharpFormatter(0);B.add(`\n      using Microsoft.Playwright;\n      using System;\n      using System.Threading.Tasks;\n\n      using var playwright = await Playwright.CreateAsync();\n      await using var browser = await playwright.${toPascal(w.browserName)}.LaunchAsync(${formatObject(w.launchOptions,"    ")});\n      var context = await browser.NewContextAsync(${formatContextOptions(w.contextOptions,w.deviceName)});`);if(w.contextOptions.recordHar){const G=w.contextOptions.recordHar.urlFilter;B.add(`      await context.RouteFromHARAsync(${quote(w.contextOptions.recordHar.path)}${G?`, ${formatObject({url:G},"    ")}`:""});`)}B.newLine();return B.format()}generateTestRunnerHeader(w){const B=new CSharpFormatter(0);B.add(`\n      using Microsoft.Playwright.${this._mode==="nunit"?"NUnit":"MSTest"};\n      using Microsoft.Playwright;\n\n      ${this._mode==="nunit"?`[Parallelizable(ParallelScope.Self)]\n      [TestFixture]`:"[TestClass]"}\n      public class Tests : PageTest\n      {`);const G=formatContextOptions(w.contextOptions,w.deviceName);if(G){B.add(`public override BrowserNewContextOptions ContextOptions()\n      {\n          return ${G};\n      }`);B.newLine()}B.add(`    [${this._mode==="nunit"?"Test":"TestMethod"}]\n    public async Task MyTest()\n    {`);if(w.contextOptions.recordHar){const G=w.contextOptions.recordHar.urlFilter;B.add(`    await Context.RouteFromHARAsync(${quote(w.contextOptions.recordHar.path)}${G?`, ${formatObject({url:G},"    ")}`:""});`)}return B.format()}generateFooter(w){const B=this._mode==="library"?"":"        ";let G=w?`\n${B}await context.StorageStateAsync(new()\n${B}{\n${B}    Path = ${quote(w)}\n${B}});\n`:"";if(this._mode!=="library")G+=`    }\n}\n`;return G}}function formatObject(w,B="    ",G=""){if(typeof w==="string"){if(["colorScheme","modifiers","button","recordHarContent","recordHarMode","serviceWorkers"].includes(G))return`${getEnumName(G)}.${toPascal(w)}`;return quote(w)}if(Array.isArray(w))return`new[] { ${w.map((w=>formatObject(w,B,G))).join(", ")} }`;if(typeof w==="object"){const G=Object.keys(w).filter((B=>w[B]!==void 0)).sort();if(!G.length)return`new()`;const K=[];for(const pe of G){const G=getPropertyName(pe);K.push(`${G} = ${formatObject(w[pe],B,pe)},`)}return`new()\n{\n${B}${K.join(`\n${B}`)}\n${B}}`}if(G==="latitude"||G==="longitude")return String(w)+"m";return String(w)}function getEnumName(w){switch(w){case"modifiers":return"KeyboardModifier";case"button":return"MouseButton";case"recordHarMode":return"HarMode";case"recordHarContent":return"HarContentPolicy";case"serviceWorkers":return"ServiceWorkerPolicy";default:return toPascal(w)}}function getPropertyName(w){switch(w){case"storageState":return"StorageStatePath";case"viewport":return"ViewportSize";default:return toPascal(w)}}function toPascal(w){return w[0].toUpperCase()+w.slice(1)}function formatContextOptions(w,B){const G={...w};delete G.recordHar;const K=B&&Fe.deviceDescriptors[B];if(!K){if(!Object.entries(G).length)return"";return formatObject(G,"    ")}if(!Object.entries((0,Qe.sanitizeDeviceOptions)(K,G)).length)return`playwright.Devices[${quote(B)}]`;delete G["defaultBrowserType"];return formatObject(G,"    ")}class CSharpFormatter{constructor(w=0){this._lines=[];this._baseIndent=" ".repeat(4);this._baseOffset=" ".repeat(w)}prepend(w){this._lines=w.trim().split("\n").map((w=>w.trim())).concat(this._lines)}add(w){this._lines.push(...w.trim().split("\n").map((w=>w.trim())))}newLine(){this._lines.push("")}format(){let w="";let B="";return this._lines.map((G=>{if(G==="")return G;if(G.startsWith("}")||G.startsWith("]")||G.includes("});")||G===");")w=w.substring(this._baseIndent.length);const K=/^(for|while|if).*\(.*\)$/.test(B)?this._baseIndent:"";B=G;G=w+K+G;if(G.endsWith("{")||G.endsWith("[")||G.endsWith("("))w+=this._baseIndent;if(G.endsWith("));"))w=w.substring(this._baseIndent.length);return this._baseOffset+G})).join("\n")}}function quote(w){return(0,Pe.escapeWithQuotes)(w,'"')}0&&0},5632:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{JavaLanguageGenerator:()=>JavaLanguageGenerator});w.exports=__toCommonJS(Be);var Qe=G(7902);var Pe=G(1792);var Fe=G(4955);var Me=G(7651);class JavaLanguageGenerator{constructor(w){this.groupName="Java";this.highlighter="java";if(w==="library"){this.name="Library";this.id="java"}else if(w==="junit"){this.name="JUnit";this.id="java-junit"}else{throw new Error(`Unknown Java language mode: ${w}`)}this._mode=w}generateAction(w){const B=w.action;const G=w.frame.pageAlias;const K=this._mode==="junit"?4:6;const pe=new Fe.JavaScriptFormatter(K);if(this._mode!=="library"&&(B.name==="openPage"||B.name==="closePage"))return"";if(B.name==="openPage"){pe.add(`Page ${G} = context.newPage();`);if(B.url&&B.url!=="about:blank"&&B.url!=="chrome://newtab/")pe.add(`${G}.navigate(${quote(B.url)});`);return pe.format()}const ye=w.frame.framePath.map((w=>`.${this._asLocator(w,false)}.contentFrame()`));const Se=`${G}${ye.join("")}`;const Be=(0,Qe.toSignalMap)(B);if(Be.dialog){pe.add(`  ${G}.onceDialog(dialog -> {\n        System.out.println(String.format("Dialog message: %s", dialog.message()));\n        dialog.dismiss();\n      });`)}let Pe=this._generateActionCall(Se,w,!!w.frame.framePath.length);if(Be.popup){Pe=`Page ${Be.popup.popupAlias} = ${G}.waitForPopup(() -> {\n        ${Pe}\n      });`}if(Be.download){Pe=`Download download${Be.download.downloadAlias} = ${G}.waitForDownload(() -> {\n        ${Pe}\n      });`}pe.add(Pe);return pe.format()}_generateActionCall(w,B,G){const K=B.action;switch(K.name){case"openPage":throw Error("Not reached");case"closePage":return`${w}.close();`;case"click":{let B="click";if(K.clickCount===2)B="dblclick";const pe=(0,Qe.toClickOptionsForSourceCode)(K);const ye=formatClickOptions(pe);return`${w}.${this._asLocator(K.selector,G)}.${B}(${ye});`}case"hover":{const B=K.position?`new Locator.HoverOptions().setPosition(${K.position.x}, ${K.position.y})`:"";return`${w}.${this._asLocator(K.selector,G)}.hover(${B});`}case"check":return`${w}.${this._asLocator(K.selector,G)}.check();`;case"uncheck":return`${w}.${this._asLocator(K.selector,G)}.uncheck();`;case"fill":return`${w}.${this._asLocator(K.selector,G)}.fill(${quote(K.text)});`;case"setInputFiles":return`${w}.${this._asLocator(K.selector,G)}.setInputFiles(${formatPath(K.files.length===1?K.files[0]:K.files)});`;case"press":{const B=(0,Qe.toKeyboardModifiers)(K.modifiers);const pe=[...B,K.key].join("+");return`${w}.${this._asLocator(K.selector,G)}.press(${quote(pe)});`}case"navigate":return`${w}.navigate(${quote(K.url)});`;case"select":return`${w}.${this._asLocator(K.selector,G)}.selectOption(${formatSelectOption(K.options.length===1?K.options[0]:K.options)});`;case"assertText":return`assertThat(${w}.${this._asLocator(K.selector,G)}).${K.substring?"containsText":"hasText"}(${quote(K.text)});`;case"assertChecked":return`assertThat(${w}.${this._asLocator(K.selector,G)})${K.checked?"":".not()"}.isChecked();`;case"assertVisible":return`assertThat(${w}.${this._asLocator(K.selector,G)}).isVisible();`;case"assertValue":{const B=K.value?`hasValue(${quote(K.value)})`:`isEmpty()`;return`assertThat(${w}.${this._asLocator(K.selector,G)}).${B};`}case"assertSnapshot":return`assertThat(${w}.${this._asLocator(K.selector,G)}).matchesAriaSnapshot(${quote(K.ariaSnapshot)});`}}_asLocator(w,B){return(0,Me.asLocator)("java",w,B)}generateHeader(w){const B=new Fe.JavaScriptFormatter;if(this._mode==="junit"){B.add(`\n      import com.microsoft.playwright.junit.UsePlaywright;\n      import com.microsoft.playwright.Page;\n      import com.microsoft.playwright.options.*;\n\n      ${w.contextOptions.recordHar?`import java.nio.file.Paths;\n`:""}import org.junit.jupiter.api.*;\n      import static com.microsoft.playwright.assertions.PlaywrightAssertions.*;\n\n      @UsePlaywright\n      public class TestExample {\n        @Test\n        void test(Page page) {`);if(w.contextOptions.recordHar){const G=w.contextOptions.recordHar.urlFilter;const K=typeof G==="string"?`, new Page.RouteFromHAROptions()\n            .setUrl(${quote(G)})`:"";B.add(`          page.routeFromHAR(Paths.get(${quote(w.contextOptions.recordHar.path)})${K});`)}return B.format()}B.add(`\n    import com.microsoft.playwright.*;\n    import com.microsoft.playwright.options.*;\n    import static com.microsoft.playwright.assertions.PlaywrightAssertions.assertThat;\n    ${w.contextOptions.recordHar?`import java.nio.file.Paths;\n`:""}import java.util.*;\n\n    public class Example {\n      public static void main(String[] args) {\n        try (Playwright playwright = Playwright.create()) {\n          Browser browser = playwright.${w.browserName}().launch(${formatLaunchOptions(w.launchOptions)});\n          BrowserContext context = browser.newContext(${formatContextOptions(w.contextOptions,w.deviceName)});`);if(w.contextOptions.recordHar){const G=w.contextOptions.recordHar.urlFilter;const K=typeof G==="string"?`, new BrowserContext.RouteFromHAROptions()\n          .setUrl(${quote(G)})`:"";B.add(`          context.routeFromHAR(Paths.get(${quote(w.contextOptions.recordHar.path)})${K});`)}return B.format()}generateFooter(w){const B=w?`\n      context.storageState(new BrowserContext.StorageStateOptions().setPath(${quote(w)}));\n`:"";if(this._mode==="junit"){return`${B}  }\n}`}return`${B}    }\n  }\n}`}}function formatPath(w){if(Array.isArray(w)){if(w.length===0)return"new Path[0]";return`new Path[] {${w.map((w=>"Paths.get("+quote(w)+")")).join(", ")}}`}return`Paths.get(${quote(w)})`}function formatSelectOption(w){if(Array.isArray(w)){if(w.length===0)return"new String[0]";return`new String[] {${w.map((w=>quote(w))).join(", ")}}`}return quote(w)}function formatLaunchOptions(w){const B=[];if(!Object.keys(w).filter((B=>w[B]!==void 0)).length)return"";B.push("new BrowserType.LaunchOptions()");if(w.channel)B.push(`  .setChannel(${quote(w.channel)})`);if(typeof w.headless==="boolean")B.push(`  .setHeadless(false)`);return B.join("\n")}function formatContextOptions(w,B){const G=[];if(!Object.keys(w).length&&!B)return"";const K=B?Pe.deviceDescriptors[B]:{};const pe={...K,...w};G.push("new Browser.NewContextOptions()");if(pe.acceptDownloads)G.push(`  .setAcceptDownloads(true)`);if(pe.bypassCSP)G.push(`  .setBypassCSP(true)`);if(pe.colorScheme)G.push(`  .setColorScheme(ColorScheme.${pe.colorScheme.toUpperCase()})`);if(pe.deviceScaleFactor)G.push(`  .setDeviceScaleFactor(${pe.deviceScaleFactor})`);if(pe.geolocation)G.push(`  .setGeolocation(${pe.geolocation.latitude}, ${pe.geolocation.longitude})`);if(pe.hasTouch)G.push(`  .setHasTouch(${pe.hasTouch})`);if(pe.isMobile)G.push(`  .setIsMobile(${pe.isMobile})`);if(pe.locale)G.push(`  .setLocale(${quote(pe.locale)})`);if(pe.proxy)G.push(`  .setProxy(new Proxy(${quote(pe.proxy.server)}))`);if(pe.serviceWorkers)G.push(`  .setServiceWorkers(ServiceWorkerPolicy.${pe.serviceWorkers.toUpperCase()})`);if(pe.storageState)G.push(`  .setStorageStatePath(Paths.get(${quote(pe.storageState)}))`);if(pe.timezoneId)G.push(`  .setTimezoneId(${quote(pe.timezoneId)})`);if(pe.userAgent)G.push(`  .setUserAgent(${quote(pe.userAgent)})`);if(pe.viewport)G.push(`  .setViewportSize(${pe.viewport.width}, ${pe.viewport.height})`);return G.join("\n")}function formatClickOptions(w){const B=[];if(w.button)B.push(`  .setButton(MouseButton.${w.button.toUpperCase()})`);if(w.modifiers)B.push(`  .setModifiers(Arrays.asList(${w.modifiers.map((w=>`KeyboardModifier.${w.toUpperCase()}`)).join(", ")}))`);if(w.clickCount)B.push(`  .setClickCount(${w.clickCount})`);if(w.position)B.push(`  .setPosition(${w.position.x}, ${w.position.y})`);if(!B.length)return"";B.unshift(`new Locator.ClickOptions()`);return B.join("\n")}function quote(w){return(0,Me.escapeWithQuotes)(w,'"')}0&&0},4955:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{JavaScriptFormatter:()=>JavaScriptFormatter,JavaScriptLanguageGenerator:()=>JavaScriptLanguageGenerator,quoteMultiline:()=>quoteMultiline});w.exports=__toCommonJS(Be);var Qe=G(7902);var Pe=G(7651);var Fe=G(1792);class JavaScriptLanguageGenerator{constructor(w){this.groupName="Node.js";this.highlighter="javascript";this.id=w?"playwright-test":"javascript";this.name=w?"Test Runner":"Library";this._isTest=w}generateAction(w){const B=w.action;if(this._isTest&&(B.name==="openPage"||B.name==="closePage"))return"";const G=w.frame.pageAlias;const K=new JavaScriptFormatter(2);if(B.name==="openPage"){K.add(`const ${G} = await context.newPage();`);if(B.url&&B.url!=="about:blank"&&B.url!=="chrome://newtab/")K.add(`await ${G}.goto(${quote(B.url)});`);return K.format()}const pe=w.frame.framePath.map((w=>`.${this._asLocator(w)}.contentFrame()`));const ye=`${G}${pe.join("")}`;const Se=(0,Qe.toSignalMap)(B);if(Se.dialog){K.add(`  ${G}.once('dialog', dialog => {\n    console.log(\`Dialog message: \${dialog.message()}\`);\n    dialog.dismiss().catch(() => {});\n  });`)}if(Se.popup)K.add(`const ${Se.popup.popupAlias}Promise = ${G}.waitForEvent('popup');`);if(Se.download)K.add(`const download${Se.download.downloadAlias}Promise = ${G}.waitForEvent('download');`);K.add(wrapWithStep(w.description,this._generateActionCall(ye,w)));if(Se.popup)K.add(`const ${Se.popup.popupAlias} = await ${Se.popup.popupAlias}Promise;`);if(Se.download)K.add(`const download${Se.download.downloadAlias} = await download${Se.download.downloadAlias}Promise;`);return K.format()}_generateActionCall(w,B){const G=B.action;switch(G.name){case"openPage":throw Error("Not reached");case"closePage":return`await ${w}.close();`;case"click":{let B="click";if(G.clickCount===2)B="dblclick";const K=(0,Qe.toClickOptionsForSourceCode)(G);const pe=formatOptions(K,false);return`await ${w}.${this._asLocator(G.selector)}.${B}(${pe});`}case"hover":return`await ${w}.${this._asLocator(G.selector)}.hover(${formatOptions({position:G.position},false)});`;case"check":return`await ${w}.${this._asLocator(G.selector)}.check();`;case"uncheck":return`await ${w}.${this._asLocator(G.selector)}.uncheck();`;case"fill":return`await ${w}.${this._asLocator(G.selector)}.fill(${quote(G.text)});`;case"setInputFiles":return`await ${w}.${this._asLocator(G.selector)}.setInputFiles(${formatObject(G.files.length===1?G.files[0]:G.files)});`;case"press":{const B=(0,Qe.toKeyboardModifiers)(G.modifiers);const K=[...B,G.key].join("+");return`await ${w}.${this._asLocator(G.selector)}.press(${quote(K)});`}case"navigate":return`await ${w}.goto(${quote(G.url)});`;case"select":return`await ${w}.${this._asLocator(G.selector)}.selectOption(${formatObject(G.options.length===1?G.options[0]:G.options)});`;case"assertText":return`${this._isTest?"":"// "}await expect(${w}.${this._asLocator(G.selector)}).${G.substring?"toContainText":"toHaveText"}(${quote(G.text)});`;case"assertChecked":return`${this._isTest?"":"// "}await expect(${w}.${this._asLocator(G.selector)})${G.checked?"":".not"}.toBeChecked();`;case"assertVisible":return`${this._isTest?"":"// "}await expect(${w}.${this._asLocator(G.selector)}).toBeVisible();`;case"assertValue":{const B=G.value?`toHaveValue(${quote(G.value)})`:`toBeEmpty()`;return`${this._isTest?"":"// "}await expect(${w}.${this._asLocator(G.selector)}).${B};`}case"assertSnapshot":{const B=this._isTest?"":"// ";return`${B}await expect(${w}.${this._asLocator(G.selector)}).toMatchAriaSnapshot(${quoteMultiline(G.ariaSnapshot,`${B}  `)});`}}}_asLocator(w){return(0,Pe.asLocator)("javascript",w)}generateHeader(w){if(this._isTest)return this.generateTestHeader(w);return this.generateStandaloneHeader(w)}generateFooter(w){if(this._isTest)return this.generateTestFooter(w);return this.generateStandaloneFooter(w)}generateTestHeader(w){const B=new JavaScriptFormatter;const G=formatContextOptions(w.contextOptions,w.deviceName,this._isTest);B.add(`\n      import { test, expect${w.deviceName?", devices":""} } from '@playwright/test';\n${G?"\ntest.use("+G+");\n":""}\n      test('test', async ({ page }) => {`);if(w.contextOptions.recordHar){const G=w.contextOptions.recordHar.urlFilter;B.add(`  await page.routeFromHAR(${quote(w.contextOptions.recordHar.path)}${G?`, ${formatOptions({url:G},false)}`:""});`)}return B.format()}generateTestFooter(w){return`});`}generateStandaloneHeader(w){const B=new JavaScriptFormatter;B.add(`\n      const { ${w.browserName}${w.deviceName?", devices":""} } = require('playwright');\n\n      (async () => {\n        const browser = await ${w.browserName}.launch(${formatObjectOrVoid(w.launchOptions)});\n        const context = await browser.newContext(${formatContextOptions(w.contextOptions,w.deviceName,false)});`);if(w.contextOptions.recordHar)B.add(`        await context.routeFromHAR(${quote(w.contextOptions.recordHar.path)});`);return B.format()}generateStandaloneFooter(w){const B=w?`\n  await context.storageState({ path: ${quote(w)} });`:"";return`\n  // ---------------------${B}\n  await context.close();\n  await browser.close();\n})();`}}function formatOptions(w,B){const G=Object.keys(w).filter((B=>w[B]!==void 0));if(!G.length)return"";return(B?", ":"")+formatObject(w)}function formatObject(w,B="  "){if(typeof w==="string")return quote(w);if(Array.isArray(w))return`[${w.map((w=>formatObject(w))).join(", ")}]`;if(typeof w==="object"){const G=Object.keys(w).filter((B=>w[B]!==void 0)).sort();if(!G.length)return"{}";const K=[];for(const B of G)K.push(`${B}: ${formatObject(w[B])}`);return`{\n${B}${K.join(`,\n${B}`)}\n}`}return String(w)}function formatObjectOrVoid(w,B="  "){const G=formatObject(w,B);return G==="{}"?"":G}function formatContextOptions(w,B,G){const K=B&&Fe.deviceDescriptors[B];w={...w,recordHar:void 0};if(!K)return formatObjectOrVoid(w);let pe=formatObjectOrVoid((0,Qe.sanitizeDeviceOptions)(K,w));if(!pe)pe="{\n}";const ye=pe.split("\n");ye.splice(1,0,`...devices[${quote(B)}],`);return ye.join("\n")}class JavaScriptFormatter{constructor(w=0){this._lines=[];this._baseIndent=" ".repeat(2);this._baseOffset=" ".repeat(w)}prepend(w){const B=isMultilineString(w)?w=>w:w=>w.trim();this._lines=w.trim().split("\n").map(B).concat(this._lines)}add(w){const B=isMultilineString(w)?w=>w:w=>w.trim();this._lines.push(...w.trim().split("\n").map(B))}newLine(){this._lines.push("")}format(){let w="";let B="";return this._lines.map((G=>{if(G==="")return G;if(G.startsWith("}")||G.startsWith("]"))w=w.substring(this._baseIndent.length);const K=/^(for|while|if|try).*\(.*\)$/.test(B)?this._baseIndent:"";B=G;const pe=G.startsWith(".set");G=w+K+(pe?this._baseIndent:"")+G;if(G.endsWith("{")||G.endsWith("["))w+=this._baseIndent;return this._baseOffset+G})).join("\n")}}function quote(w){return(0,Pe.escapeWithQuotes)(w,"'")}function wrapWithStep(w,B){return w?`await test.step(\`${w}\`, async () => {\n${B}\n});`:B}function quoteMultiline(w,B="  "){const escape=w=>w.replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/\$\{/g,"\\${");const G=w.split("\n");if(G.length===1)return"`"+escape(w)+"`";return"`\n"+G.map((w=>B+escape(w).replace(/\${/g,"\\${"))).join("\n")+`\n${B}\``}function isMultilineString(w){return w.match(/`[\S\s]*`/)?.[0].includes("\n")}0&&0},7020:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{JsonlLanguageGenerator:()=>JsonlLanguageGenerator});w.exports=__toCommonJS(Be);var Qe=G(7651);class JsonlLanguageGenerator{constructor(){this.id="jsonl";this.groupName="";this.name="JSONL";this.highlighter="javascript"}generateAction(w){const B=w.action.selector?JSON.parse((0,Qe.asLocator)("jsonl",w.action.selector)):void 0;const G={...w.action,...w.frame,locator:B,ariaSnapshot:void 0};return JSON.stringify(G)}generateHeader(w){return JSON.stringify(w)}generateFooter(w){return""}}0&&0},7902:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{fromKeyboardModifiers:()=>fromKeyboardModifiers,generateCode:()=>generateCode,sanitizeDeviceOptions:()=>sanitizeDeviceOptions,toClickOptionsForSourceCode:()=>toClickOptionsForSourceCode,toKeyboardModifiers:()=>toKeyboardModifiers,toSignalMap:()=>toSignalMap});w.exports=__toCommonJS(ye);function generateCode(w,B,G){const K=B.generateHeader(G);const pe=B.generateFooter(G.saveStorage);const ye=w.map((w=>generateActionText(B,w,!!G.generateAutoExpect))).filter(Boolean);const Se=[K,...ye,pe].join("\n");return{header:K,footer:pe,actionTexts:ye,text:Se}}function generateActionText(w,B,G){let K=w.generateAction(B);if(!K)return;if(G&&B.action.preconditionSelector){const G={frame:B.frame,startTime:B.startTime,endTime:B.startTime,action:{name:"assertVisible",selector:B.action.preconditionSelector,signals:[]}};const pe=w.generateAction(G);if(pe)K=pe+"\n\n"+K}return K}function sanitizeDeviceOptions(w,B){const G={};for(const K in B){if(JSON.stringify(w[K])!==JSON.stringify(B[K]))G[K]=B[K]}return G}function toSignalMap(w){let B;let G;let K;for(const pe of w.signals){if(pe.name==="popup")B=pe;else if(pe.name==="download")G=pe;else if(pe.name==="dialog")K=pe}return{popup:B,download:G,dialog:K}}function toKeyboardModifiers(w){const B=[];if(w&1)B.push("Alt");if(w&2)B.push("ControlOrMeta");if(w&4)B.push("ControlOrMeta");if(w&8)B.push("Shift");return B}function fromKeyboardModifiers(w){let B=0;if(!w)return B;if(w.includes("Alt"))B|=1;if(w.includes("Control"))B|=2;if(w.includes("ControlOrMeta"))B|=2;if(w.includes("Meta"))B|=4;if(w.includes("Shift"))B|=8;return B}function toClickOptionsForSourceCode(w){const B=toKeyboardModifiers(w.modifiers);const G={};if(w.button!=="left")G.button=w.button;if(B.length)G.modifiers=B;if(w.clickCount>2)G.clickCount=w.clickCount;if(w.position)G.position=w.position;return G}0&&0},229:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{languageSet:()=>languageSet});w.exports=__toCommonJS(Be);var Qe=G(8979);var Pe=G(5632);var Fe=G(4955);var Me=G(7020);var Le=G(7638);function languageSet(){return new Set([new Fe.JavaScriptLanguageGenerator(true),new Fe.JavaScriptLanguageGenerator(false),new Le.PythonLanguageGenerator(false,true),new Le.PythonLanguageGenerator(false,false),new Le.PythonLanguageGenerator(true,false),new Qe.CSharpLanguageGenerator("mstest"),new Qe.CSharpLanguageGenerator("nunit"),new Qe.CSharpLanguageGenerator("library"),new Pe.JavaLanguageGenerator("junit"),new Pe.JavaLanguageGenerator("library"),new Me.JsonlLanguageGenerator])}0&&0},7638:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{PythonLanguageGenerator:()=>PythonLanguageGenerator});w.exports=__toCommonJS(Be);var Qe=G(7902);var Pe=G(7651);var Fe=G(1792);class PythonLanguageGenerator{constructor(w,B){this.groupName="Python";this.highlighter="python";this.id=B?"python-pytest":w?"python-async":"python";this.name=B?"Pytest":w?"Library Async":"Library";this._isAsync=w;this._isPyTest=B;this._awaitPrefix=w?"await ":"";this._asyncPrefix=w?"async ":""}generateAction(w){const B=w.action;if(this._isPyTest&&(B.name==="openPage"||B.name==="closePage"))return"";const G=w.frame.pageAlias;const K=new PythonFormatter(4);if(B.name==="openPage"){K.add(`${G} = ${this._awaitPrefix}context.new_page()`);if(B.url&&B.url!=="about:blank"&&B.url!=="chrome://newtab/")K.add(`${this._awaitPrefix}${G}.goto(${quote(B.url)})`);return K.format()}const pe=w.frame.framePath.map((w=>`.${this._asLocator(w)}.content_frame`));const ye=`${G}${pe.join("")}`;const Se=(0,Qe.toSignalMap)(B);if(Se.dialog)K.add(`  ${G}.once("dialog", lambda dialog: dialog.dismiss())`);let Be=`${this._awaitPrefix}${this._generateActionCall(ye,w)}`;if(Se.popup){Be=`${this._asyncPrefix}with ${G}.expect_popup() as ${Se.popup.popupAlias}_info {\n        ${Be}\n      }\n      ${Se.popup.popupAlias} = ${this._awaitPrefix}${Se.popup.popupAlias}_info.value`}if(Se.download){Be=`${this._asyncPrefix}with ${G}.expect_download() as download${Se.download.downloadAlias}_info {\n        ${Be}\n      }\n      download${Se.download.downloadAlias} = ${this._awaitPrefix}download${Se.download.downloadAlias}_info.value`}K.add(Be);return K.format()}_generateActionCall(w,B){const G=B.action;switch(G.name){case"openPage":throw Error("Not reached");case"closePage":return`${w}.close()`;case"click":{let B="click";if(G.clickCount===2)B="dblclick";const K=(0,Qe.toClickOptionsForSourceCode)(G);const pe=formatOptions(K,false);return`${w}.${this._asLocator(G.selector)}.${B}(${pe})`}case"hover":return`${w}.${this._asLocator(G.selector)}.hover(${formatOptions({position:G.position},false)})`;case"check":return`${w}.${this._asLocator(G.selector)}.check()`;case"uncheck":return`${w}.${this._asLocator(G.selector)}.uncheck()`;case"fill":return`${w}.${this._asLocator(G.selector)}.fill(${quote(G.text)})`;case"setInputFiles":return`${w}.${this._asLocator(G.selector)}.set_input_files(${formatValue(G.files.length===1?G.files[0]:G.files)})`;case"press":{const B=(0,Qe.toKeyboardModifiers)(G.modifiers);const K=[...B,G.key].join("+");return`${w}.${this._asLocator(G.selector)}.press(${quote(K)})`}case"navigate":return`${w}.goto(${quote(G.url)})`;case"select":return`${w}.${this._asLocator(G.selector)}.select_option(${formatValue(G.options.length===1?G.options[0]:G.options)})`;case"assertText":return`expect(${w}.${this._asLocator(G.selector)}).${G.substring?"to_contain_text":"to_have_text"}(${quote(G.text)})`;case"assertChecked":return`expect(${w}.${this._asLocator(G.selector)}).${G.checked?"to_be_checked()":"not_to_be_checked()"}`;case"assertVisible":return`expect(${w}.${this._asLocator(G.selector)}).to_be_visible()`;case"assertValue":{const B=G.value?`to_have_value(${quote(G.value)})`:`to_be_empty()`;return`expect(${w}.${this._asLocator(G.selector)}).${B};`}case"assertSnapshot":return`expect(${w}.${this._asLocator(G.selector)}).to_match_aria_snapshot(${quote(G.ariaSnapshot)})`}}_asLocator(w){return(0,Pe.asLocator)("python",w)}generateHeader(w){const B=new PythonFormatter;const G=w.contextOptions.recordHar;if(this._isPyTest){const K=formatContextOptions(w.contextOptions,w.deviceName,true);const pe=K?`\n\n@pytest.fixture(scope="session")\ndef browser_context_args(browser_context_args, playwright) {\n    return {${K}}\n}\n`:"";B.add(`${w.deviceName||K?"import pytest\n":""}import re\nfrom playwright.sync_api import Page, expect\n${pe}\n\ndef test_example(page: Page) -> None {`);if(G)B.add(`    page.route_from_har(${quote(G.path)}${typeof G.urlFilter==="string"?`, url=${quote(G.urlFilter)}`:""})`)}else if(this._isAsync){B.add(`\nimport asyncio\nimport re\nfrom playwright.async_api import Playwright, async_playwright, expect\n\n\nasync def run(playwright: Playwright) -> None {\n    browser = await playwright.${w.browserName}.launch(${formatOptions(w.launchOptions,false)})\n    context = await browser.new_context(${formatContextOptions(w.contextOptions,w.deviceName)})`);if(G)B.add(`    await context.route_from_har(${quote(G.path)}${typeof G.urlFilter==="string"?`, url=${quote(G.urlFilter)}`:""})`)}else{B.add(`\nimport re\nfrom playwright.sync_api import Playwright, sync_playwright, expect\n\n\ndef run(playwright: Playwright) -> None {\n    browser = playwright.${w.browserName}.launch(${formatOptions(w.launchOptions,false)})\n    context = browser.new_context(${formatContextOptions(w.contextOptions,w.deviceName)})`);if(G)B.add(`    context.route_from_har(${quote(G.path)}${typeof G.urlFilter==="string"?`, url=${quote(G.urlFilter)}`:""})`)}return B.format()}generateFooter(w){if(this._isPyTest){return""}else if(this._isAsync){const B=w?`\n    await context.storage_state(path=${quote(w)})`:"";return`\n    # ---------------------${B}\n    await context.close()\n    await browser.close()\n\n\nasync def main() -> None:\n    async with async_playwright() as playwright:\n        await run(playwright)\n\n\nasyncio.run(main())\n`}else{const B=w?`\n    context.storage_state(path=${quote(w)})`:"";return`\n    # ---------------------${B}\n    context.close()\n    browser.close()\n\n\nwith sync_playwright() as playwright:\n    run(playwright)\n`}}}function formatValue(w){if(w===false)return"False";if(w===true)return"True";if(w===void 0)return"None";if(Array.isArray(w))return`[${w.map(formatValue).join(", ")}]`;if(typeof w==="string")return quote(w);if(typeof w==="object")return JSON.stringify(w);return String(w)}function formatOptions(w,B,G){const K=Object.keys(w).filter((B=>w[B]!==void 0)).sort();if(!K.length)return"";return(B?", ":"")+K.map((B=>{if(G)return`"${(0,Pe.toSnakeCase)(B)}": ${formatValue(w[B])}`;return`${(0,Pe.toSnakeCase)(B)}=${formatValue(w[B])}`})).join(", ")}function formatContextOptions(w,B,G){w={...w,recordHar:void 0};const K=B&&Fe.deviceDescriptors[B];if(!K)return formatOptions(w,false,G);return`**playwright.devices[${quote(B)}]`+formatOptions((0,Qe.sanitizeDeviceOptions)(K,w),true,G)}class PythonFormatter{constructor(w=0){this._lines=[];this._baseIndent=" ".repeat(4);this._baseOffset=" ".repeat(w)}prepend(w){this._lines=w.trim().split("\n").map((w=>w.trim())).concat(this._lines)}add(w){this._lines.push(...w.trim().split("\n").map((w=>w.trim())))}newLine(){this._lines.push("")}format(){let w="";const B=[];this._lines.forEach((G=>{if(G==="")return B.push(G);if(G==="}"){w=w.substring(this._baseIndent.length);return}G=w+G;if(G.endsWith("{")){w+=this._baseIndent;G=G.substring(0,G.length-1).trimEnd()+":"}return B.push(this._baseOffset+G)}));return B.join("\n")}}function quote(w){return(0,Pe.escapeWithQuotes)(w,'"')}0&&0},9117:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{ConsoleMessage:()=>ConsoleMessage});w.exports=__toCommonJS(ye);class ConsoleMessage{constructor(w,B,G,K,pe){this._page=w;this._type=B;this._text=G;this._args=K;this._location=pe||{url:"",lineNumber:0,columnNumber:0}}page(){return this._page}type(){return this._type}text(){if(this._text===void 0)this._text=this._args.map((w=>w.preview())).join(" ");return this._text}args(){return this._args}location(){return this._location}}0&&0},7407:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Cookie:()=>Cookie,CookieStore:()=>CookieStore,domainMatches:()=>domainMatches,parseRawCookie:()=>parseRawCookie});w.exports=__toCommonJS(Be);var Qe=G(6182);class Cookie{constructor(w){this._raw=w}name(){return this._raw.name}matches(w){if(this._raw.secure&&(w.protocol!=="https:"&&!(0,Qe.isLocalHostname)(w.hostname)))return false;if(!domainMatches(w.hostname,this._raw.domain))return false;if(!pathMatches(w.pathname,this._raw.path))return false;return true}equals(w){return this._raw.name===w._raw.name&&this._raw.domain===w._raw.domain&&this._raw.path===w._raw.path}networkCookie(){return this._raw}updateExpiresFrom(w){this._raw.expires=w._raw.expires}expired(){if(this._raw.expires===-1)return false;return this._raw.expires*1e3<Date.now()}}class CookieStore{constructor(){this._nameToCookies=new Map}addCookies(w){for(const B of w)this._addCookie(new Cookie(B))}cookies(w){const B=[];for(const G of this._cookiesIterator()){if(G.matches(w))B.push(G.networkCookie())}return B}allCookies(){const w=[];for(const B of this._cookiesIterator())w.push(B.networkCookie());return w}_addCookie(w){let B=this._nameToCookies.get(w.name());if(!B){B=new Set;this._nameToCookies.set(w.name(),B)}for(const G of B){if(G.equals(w))B.delete(G)}B.add(w);CookieStore.pruneExpired(B)}*_cookiesIterator(){for(const[w,B]of this._nameToCookies){CookieStore.pruneExpired(B);for(const w of B)yield w;if(B.size===0)this._nameToCookies.delete(w)}}static pruneExpired(w){for(const B of w){if(B.expired())w.delete(B)}}}function parseRawCookie(w){const B=w.split(";").filter((w=>w.trim().length>0)).map((w=>{let B="";let G="";const K=w.indexOf("=");if(K===-1){B=w.trim()}else{B=w.slice(0,K).trim();G=w.slice(K+1).trim()}return[B,G]}));if(!B.length)return null;const[G,K]=B[0];const pe={name:G,value:K};for(let w=1;w<B.length;w++){const[G,K]=B[w];switch(G.toLowerCase()){case"expires":const w=+new Date(K);if(isFinite(w)){if(w<=0)pe.expires=0;else pe.expires=Math.min(w/1e3,Qe.kMaxCookieExpiresDateInSeconds)}break;case"max-age":const B=parseInt(K,10);if(isFinite(B)){if(B<=0)pe.expires=0;else pe.expires=Math.min(Date.now()/1e3+B,Qe.kMaxCookieExpiresDateInSeconds)}break;case"domain":pe.domain=K.toLocaleLowerCase()||"";if(pe.domain&&!pe.domain.startsWith(".")&&pe.domain.includes("."))pe.domain="."+pe.domain;break;case"path":pe.path=K||"";break;case"secure":pe.secure=true;break;case"httponly":pe.httpOnly=true;break;case"samesite":switch(K.toLowerCase()){case"none":pe.sameSite="None";break;case"lax":pe.sameSite="Lax";break;case"strict":pe.sameSite="Strict";break}break}}return pe}function domainMatches(w,B){if(w===B)return true;if(!B.startsWith("."))return false;w="."+w;return w.endsWith(B)}function pathMatches(w,B){if(w===B)return true;if(!w.endsWith("/"))w=w+"/";if(!B.endsWith("/"))B=B+"/";return w.startsWith(B)}0&&0},655:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{DebugController:()=>DebugController});w.exports=__toCommonJS(Be);var Qe=G(9814);var Pe=G(8719);var Fe=G(2192);var Me=G(7651);var Le=G(599);var je=G(4331);var qe=G(7337);var We=G(7902);var Ge=G(3180);var ze=G(4955);class DebugController extends Qe.SdkObject{constructor(w){super({attribution:{isInternalPlaywright:true},instrumentation:(0,Qe.createInstrumentation)()},void 0,"DebugController");this._sdkLanguage="javascript";this._generateAutoExpect=false;this._playwright=w}static{this.Events={StateChanged:"stateChanged",InspectRequested:"inspectRequested",SourceChanged:"sourceChanged",Paused:"paused",SetModeRequested:"setModeRequested"}}initialize(w,B){this._sdkLanguage=B}dispose(){this.setReportStateChanged(false)}setReportStateChanged(w){if(w&&!this._trackHierarchyListener){this._trackHierarchyListener={onPageOpen:()=>this._emitSnapshot(false),onPageClose:()=>this._emitSnapshot(false)};this._playwright.instrumentation.addListener(this._trackHierarchyListener,null);this._emitSnapshot(true)}else if(!w&&this._trackHierarchyListener){this._playwright.instrumentation.removeListener(this._trackHierarchyListener);this._trackHierarchyListener=void 0}}async setRecorderMode(w,B){await w.race(this._closeBrowsersWithoutPages());this._generateAutoExpect=!!B.generateAutoExpect;if(B.mode==="none"){for(const B of await w.race(this._allRecorders())){B.hideHighlightedSelector();B.setMode("none")}return}if(!this._playwright.allBrowsers().length)await this._playwright.chromium.launch(w,{headless:!!process.env.PW_DEBUG_CONTROLLER_HEADLESS});const G=this._playwright.allPages();if(!G.length){const[B]=this._playwright.allBrowsers();const G=await B.newContextForReuse(w,{});await G.newPage(w)}if(B.testIdAttributeName){for(const w of this._playwright.allPages())w.browserContext.selectors().setTestIdAttributeName(B.testIdAttributeName)}for(const G of await w.race(this._allRecorders())){G.hideHighlightedSelector();G.setMode(B.mode)}}async highlight(w,B){if(B.selector)(0,qe.unsafeLocatorOrSelectorAsSelector)(this._sdkLanguage,B.selector,"data-testid");const G=B.ariaTemplate?(0,Le.parseAriaSnapshotUnsafe)(je.yaml,B.ariaTemplate):void 0;for(const K of await w.race(this._allRecorders())){if(G)K.setHighlightedAriaTemplate(G);else if(B.selector)K.setHighlightedSelector(B.selector)}}async hideHighlight(w){for(const B of await w.race(this._allRecorders()))B.hideHighlightedSelector();await Promise.all(this._playwright.allPages().map((w=>w.hideHighlight().catch((()=>{})))))}async resume(w){for(const B of await w.race(this._allRecorders()))B.resume()}kill(){(0,Pe.gracefullyProcessExitDoNotHang)(0)}_emitSnapshot(w){const B=this._playwright.allPages().length;if(w&&!B)return;this.emit(DebugController.Events.StateChanged,{pageCount:B})}async _allRecorders(){const w=new Set;for(const B of this._playwright.allPages())w.add(B.browserContext);const B=await Promise.all([...w].map((w=>Fe.Recorder.forContext(w,{omitCallTracking:true}))));const G=B.filter(Boolean);for(const w of B)wireListeners(w,this);return G}async _closeBrowsersWithoutPages(){for(const w of this._playwright.allBrowsers()){for(const B of w.contexts()){if(!B.pages().length)await B.close({reason:"Browser collected"})}if(!w.contexts())await w.close({reason:"Browser collected"})}}}const Ye=Symbol("wired");function wireListeners(w,B){if(w[Ye])return;w[Ye]=true;const G=[];const K=new ze.JavaScriptLanguageGenerator(true);const actionsChanged=()=>{const w=(0,Ge.collapseActions)(G);const{header:pe,footer:ye,text:Se,actionTexts:Be}=(0,We.generateCode)(w,K,{browserName:"chromium",launchOptions:{},contextOptions:{},generateAutoExpect:B._generateAutoExpect});B.emit(DebugController.Events.SourceChanged,{text:Se,header:pe,footer:ye,actions:Be})};w.on(Fe.RecorderEvent.ElementPicked,(w=>{const G=(0,Me.asLocator)(B._sdkLanguage,w.selector);B.emit(DebugController.Events.InspectRequested,{selector:w.selector,locator:G,ariaSnapshot:w.ariaSnapshot})}));w.on(Fe.RecorderEvent.PausedStateChanged,(w=>{B.emit(DebugController.Events.Paused,{paused:w})}));w.on(Fe.RecorderEvent.ModeChanged,(w=>{B.emit(DebugController.Events.SetModeRequested,{mode:w})}));w.on(Fe.RecorderEvent.ActionAdded,(w=>{G.push(w);actionsChanged()}));w.on(Fe.RecorderEvent.SignalAdded,(w=>{const B=G.findLast((B=>B.frame.pageGuid===w.frame.pageGuid));if(B)B.action.signals.push(w.signal);actionsChanged()}))}0&&0},8793:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Debugger:()=>Debugger});w.exports=__toCommonJS(Be);var Qe=G(4434);var Pe=G(7651);var Fe=G(6609);var Me=G(5295);const Le=Symbol("Debugger");class Debugger extends Qe.EventEmitter{constructor(w){super();this._pauseOnNextStatement=false;this._pausedCallsMetadata=new Map;this._muted=false;this._context=w;this._context[Le]=this;this._enabled=(0,Pe.debugMode)()==="inspector";if(this._enabled)this.pauseOnNextStatement();w.instrumentation.addListener(this,w);this._context.once(Fe.BrowserContext.Events.Close,(()=>{this._context.instrumentation.removeListener(this)}))}static{this.Events={PausedStateChanged:"pausedstatechanged"}}async setMuted(w){this._muted=w}async onBeforeCall(w,B){if(this._muted)return;if(shouldPauseOnCall(w,B)||this._pauseOnNextStatement&&shouldPauseBeforeStep(B))await this.pause(w,B)}async onBeforeInputAction(w,B){if(this._muted)return;if(this._enabled&&this._pauseOnNextStatement)await this.pause(w,B)}async pause(w,B){if(this._muted)return;this._enabled=true;B.pauseStartTime=(0,Pe.monotonicTime)();const G=new Promise((G=>{this._pausedCallsMetadata.set(B,{resolve:G,sdkObject:w})}));this.emit(Debugger.Events.PausedStateChanged);return G}resume(w){if(!this.isPaused())return;this._pauseOnNextStatement=w;const B=(0,Pe.monotonicTime)();for(const[w,{resolve:G}]of this._pausedCallsMetadata){w.pauseEndTime=B;G()}this._pausedCallsMetadata.clear();this.emit(Debugger.Events.PausedStateChanged)}pauseOnNextStatement(){this._pauseOnNextStatement=true}isPaused(w){if(w)return this._pausedCallsMetadata.has(w);return!!this._pausedCallsMetadata.size}pausedDetails(){const w=[];for(const[B,{sdkObject:G}]of this._pausedCallsMetadata)w.push({metadata:B,sdkObject:G});return w}}function shouldPauseOnCall(w,B){if(w.attribution.playwright.options.isServer)return false;if(!w.attribution.browser?.options.headful&&!(0,Pe.isUnderTest)())return false;return B.method==="pause"}function shouldPauseBeforeStep(w){if(w.internal)return false;const B=Me.methodMetainfo.get(w.type+"."+w.method);return!!B?.pausesBeforeAction}0&&0},1792:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{deviceDescriptors:()=>Me});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(1640));const Me=Fe.default;0&&0},9666:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Dialog:()=>Dialog,DialogManager:()=>DialogManager});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(9814);class Dialog extends Pe.SdkObject{constructor(w,B,G,K,pe){super(w,"dialog");this._handled=false;this._page=w;this._type=B;this._message=G;this._onHandle=K;this._defaultValue=pe||""}page(){return this._page}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(w){(0,Qe.assert)(!this._handled,"Cannot accept dialog which is already handled!");this._handled=true;this._page.browserContext.dialogManager.dialogWillClose(this);await this._onHandle(true,w)}async dismiss(){(0,Qe.assert)(!this._handled,"Cannot dismiss dialog which is already handled!");this._handled=true;this._page.browserContext.dialogManager.dialogWillClose(this);await this._onHandle(false)}async close(){if(this._type==="beforeunload")await this.accept();else await this.dismiss()}}class DialogManager{constructor(w){this._dialogHandlers=new Set;this._openedDialogs=new Set;this._instrumentation=w}dialogDidOpen(w){for(const B of w.page().frameManager.frames())B._invalidateNonStallingEvaluations("JavaScript dialog interrupted evaluation");this._openedDialogs.add(w);this._instrumentation.onDialog(w);let B=false;for(const G of this._dialogHandlers){if(G(w))B=true}if(!B)w.close().then((()=>{}))}dialogWillClose(w){this._openedDialogs.delete(w)}addDialogHandler(w){this._dialogHandlers.add(w)}removeDialogHandler(w){this._dialogHandlers.delete(w);if(!this._dialogHandlers.size){for(const w of this._openedDialogs)w.close().catch((()=>{}))}}hasOpenDialogsForPage(w){return[...this._openedDialogs].some((B=>B.page()===w))}async closeBeforeUnloadDialogs(){await Promise.all([...this._openedDialogs].map((async w=>{if(w.type()==="beforeunload")await w.dismiss()})))}}0&&0},4451:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{AndroidDeviceDispatcher:()=>AndroidDeviceDispatcher,AndroidDispatcher:()=>AndroidDispatcher,AndroidSocketDispatcher:()=>AndroidSocketDispatcher});w.exports=__toCommonJS(Be);var Qe=G(9571);var Pe=G(208);var Fe=G(423);var Me=G(6037);var Le=G(9814);class AndroidDispatcher extends Pe.Dispatcher{constructor(w,B){super(w,B,"Android",{});this._type_Android=true}async devices(w,B){const G=await this._object.devices(B,w);return{devices:G.map((w=>AndroidDeviceDispatcher.from(this,w)))}}}class AndroidDeviceDispatcher extends Pe.Dispatcher{constructor(w,B){super(w,B,"AndroidDevice",{model:B.model,serial:B.serial});this._type_EventTarget=true;this._type_AndroidDevice=true;for(const w of B.webViews())this._dispatchEvent("webViewAdded",{webView:w});this.addObjectListener(Fe.AndroidDevice.Events.WebViewAdded,(w=>this._dispatchEvent("webViewAdded",{webView:w})));this.addObjectListener(Fe.AndroidDevice.Events.WebViewRemoved,(w=>this._dispatchEvent("webViewRemoved",{socketName:w})));this.addObjectListener(Fe.AndroidDevice.Events.Close,(()=>this._dispatchEvent("close")))}static from(w,B){const G=w.connection.existingDispatcher(B);return G||new AndroidDeviceDispatcher(w,B)}async wait(w,B){await B.race(this._object.send("wait",w))}async fill(w,B){await B.race(this._object.send("click",{selector:w.androidSelector}));await B.race(this._object.send("fill",w))}async tap(w,B){await B.race(this._object.send("click",w))}async drag(w,B){await B.race(this._object.send("drag",w))}async fling(w,B){await B.race(this._object.send("fling",w))}async longTap(w,B){await B.race(this._object.send("longClick",w))}async pinchClose(w,B){await B.race(this._object.send("pinchClose",w))}async pinchOpen(w,B){await B.race(this._object.send("pinchOpen",w))}async scroll(w,B){await B.race(this._object.send("scroll",w))}async swipe(w,B){await B.race(this._object.send("swipe",w))}async info(w,B){const G=await B.race(this._object.send("info",w));fixupAndroidElementInfo(G);return{info:G}}async inputType(w,B){const G=w.text;const K=[];for(let w=0;w<G.length;++w){const B=je.get(G[w].toUpperCase());if(B===void 0)throw new Error("No mapping for "+G[w]+" found");K.push(B)}await B.race(Promise.all(K.map((w=>this._object.send("inputPress",{keyCode:w})))))}async inputPress(w,B){if(!je.has(w.key))throw new Error("Unknown key: "+w.key);await B.race(this._object.send("inputPress",{keyCode:je.get(w.key)}))}async inputTap(w,B){await B.race(this._object.send("inputClick",w))}async inputSwipe(w,B){await B.race(this._object.send("inputSwipe",w))}async inputDrag(w,B){await B.race(this._object.send("inputDrag",w))}async screenshot(w,B){return{binary:await B.race(this._object.screenshot())}}async shell(w,B){return{result:await B.race(this._object.shell(w.command))}}async open(w,B){const G=await this._object.open(B,w.command);return{socket:new AndroidSocketDispatcher(this,new SocketSdkObject(this._object,G))}}async installApk(w,B){await this._object.installApk(B,w.file,{args:w.args})}async push(w,B){await B.race(this._object.push(B,w.file,w.path,w.mode))}async launchBrowser(w,B){const G=await this._object.launchBrowser(B,w.pkg,w);return{context:Qe.BrowserContextDispatcher.from(this,G)}}async close(w,B){await this._object.close()}async connectToWebView(w,B){return{context:Qe.BrowserContextDispatcher.from(this,await this._object.connectToWebView(B,w.socketName))}}}class SocketSdkObject extends Le.SdkObject{constructor(w,B){super(w,"socket");this._socket=B;this._eventListeners=[Me.eventsHelper.addEventListener(B,"data",(w=>this.emit("data",w))),Me.eventsHelper.addEventListener(B,"close",(()=>{Me.eventsHelper.removeEventListeners(this._eventListeners);this.emit("close")}))]}async write(w){await this._socket.write(w)}close(){this._socket.close()}}class AndroidSocketDispatcher extends Pe.Dispatcher{constructor(w,B){super(w,B,"AndroidSocket",{});this._type_AndroidSocket=true;this.addObjectListener("data",(w=>this._dispatchEvent("data",{data:w})));this.addObjectListener("close",(()=>{this._dispatchEvent("close");this._dispose()}))}async write(w,B){await B.race(this._object.write(w.data))}async close(w,B){this._object.close()}}const je=new Map([["Unknown",0],["SoftLeft",1],["SoftRight",2],["Home",3],["Back",4],["Call",5],["EndCall",6],["0",7],["1",8],["2",9],["3",10],["4",11],["5",12],["6",13],["7",14],["8",15],["9",16],["Star",17],["*",17],["Pound",18],["#",18],["DialUp",19],["DialDown",20],["DialLeft",21],["DialRight",22],["DialCenter",23],["VolumeUp",24],["VolumeDown",25],["Power",26],["Camera",27],["Clear",28],["A",29],["B",30],["C",31],["D",32],["E",33],["F",34],["G",35],["H",36],["I",37],["J",38],["K",39],["L",40],["M",41],["N",42],["O",43],["P",44],["Q",45],["R",46],["S",47],["T",48],["U",49],["V",50],["W",51],["X",52],["Y",53],["Z",54],["Comma",55],[",",55],["Period",56],[".",56],["AltLeft",57],["AltRight",58],["ShiftLeft",59],["ShiftRight",60],["Tab",61],["\t",61],["Space",62],[" ",62],["Sym",63],["Explorer",64],["Envelop",65],["Enter",66],["Del",67],["Grave",68],["Minus",69],["-",69],["Equals",70],["=",70],["LeftBracket",71],["(",71],["RightBracket",72],[")",72],["Backslash",73],["\\",73],["Semicolon",74],[";",74],["Apostrophe",75],["`",75],["Slash",76],["/",76],["At",77],["@",77],["Num",78],["HeadsetHook",79],["Focus",80],["Plus",81],["Menu",82],["Notification",83],["Search",84],["MediaPlayPause",85],["MediaStop",86],["MediaNext",87],["MediaPrevious",88],["MediaRewind",89],["MediaFastForward",90],["MediaPlay",126],["MediaPause",127],["MediaClose",128],["MediaEject",129],["MediaRecord",130],["ChannelUp",166],["ChannelDown",167],["AppSwitch",187],["Assist",219],["MediaAudioTrack",222],["MediaTopMenu",226],["MediaSkipForward",272],["MediaSkipBackward",273],["MediaStepForward",274],["MediaStepBackward",275],["Cut",277],["Copy",278],["Paste",279]]);function fixupAndroidElementInfo(w){w.clazz=w.clazz||"";w.pkg=w.pkg||"";w.res=w.res||"";w.desc=w.desc||"";w.text=w.text||"";for(const B of w.children||[])fixupAndroidElementInfo(B)}0&&0},7830:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{ArtifactDispatcher:()=>ArtifactDispatcher});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=G(208);var Le=G(2304);var je=G(3449);class ArtifactDispatcher extends Me.Dispatcher{constructor(w,B){super(w,B,"Artifact",{absolutePath:B.localPath()});this._type_Artifact=true}static from(w,B){return ArtifactDispatcher.fromNullable(w,B)}static fromNullable(w,B){if(!B)return void 0;const G=w.connection.existingDispatcher(B);return G||new ArtifactDispatcher(w,B)}async pathAfterFinished(w,B){const G=await B.race(this._object.localPathAfterFinished());return{value:G}}async saveAs(w,B){return await B.race(new Promise(((B,G)=>{this._object.saveAs((async(K,pe)=>{if(pe){G(pe);return}try{await(0,je.mkdirIfNeeded)(w.path);await Fe.default.promises.copyFile(K,w.path);B()}catch(w){G(w)}}))})))}async saveAsStream(w,B){return await B.race(new Promise(((w,B)=>{this._object.saveAs((async(G,K)=>{if(K){B(K);return}try{const B=Fe.default.createReadStream(G,{highWaterMark:1024*1024});const K=new Le.StreamDispatcher(this,B);w({stream:K});await new Promise((w=>{B.on("close",w);B.on("end",w);B.on("error",w)}))}catch(w){B(w)}}))})))}async stream(w,B){const G=await B.race(this._object.localPathAfterFinished());const K=Fe.default.createReadStream(G,{highWaterMark:1024*1024});return{stream:new Le.StreamDispatcher(this,K)}}async failure(w,B){const G=await B.race(this._object.failureError());return{error:G||void 0}}async cancel(w,B){await B.race(this._object.cancel())}async delete(w,B){B.metadata.potentiallyClosesScope=true;await B.race(this._object.delete());this._dispose()}}0&&0},9571:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{BrowserContextDispatcher:()=>BrowserContextDispatcher});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(6609);var je=G(7830);var qe=G(7259);var We=G(6800);var Ge=G(208);var ze=G(5581);var Ye=G(1995);var Ke=G(2986);var Xe=G(1009);var rt=G(1054);var it=G(4100);var ot=G(6100);var at=G(6741);var lt=G(4376);var ct=G(2192);var ut=G(1442);class BrowserContextDispatcher extends Ge.Dispatcher{constructor(w,B){const G=ze.APIRequestContextDispatcher.from(w,B.fetchRequest);const K=rt.TracingDispatcher.from(w,B.tracing);super(w,B,"BrowserContext",{isChromium:B._browser.options.isChromium,requestContext:G,tracing:K,options:B._options});this._type_EventTarget=true;this._type_BrowserContext=true;this._subscriptions=new Set;this._webSocketInterceptionPatterns=[];this._bindings=[];this._initScripts=[];this._clockPaused=false;this._interceptionUrlMatchers=[];this.adopt(G);this.adopt(K);this._requestInterceptor=(w,B)=>{const G=this._interceptionUrlMatchers.some((w=>(0,lt.urlMatches)(this._context._options.baseURL,B.url(),w)));const K=this.connection.existingDispatcher(w);if(!G||K){w.continue({isFallback:true}).catch((()=>{}));return}this._dispatchEvent("route",{route:new ze.RouteDispatcher(ze.RequestDispatcher.from(this,B),w)})};this._context=B;const onVideo=B=>{const G=je.ArtifactDispatcher.from(w,B);this._dispatchEvent("video",{artifact:G})};this.addObjectListener(Le.BrowserContext.Events.VideoStarted,onVideo);for(const w of B._browser._idToVideo.values()){if(w.context===B)onVideo(w.artifact)}for(const w of B.pages())this._dispatchEvent("page",{page:Ye.PageDispatcher.from(this,w)});this.addObjectListener(Le.BrowserContext.Events.Page,(w=>{this._dispatchEvent("page",{page:Ye.PageDispatcher.from(this,w)})}));this.addObjectListener(Le.BrowserContext.Events.Close,(()=>{this._dispatchEvent("close");this._dispose()}));this.addObjectListener(Le.BrowserContext.Events.PageError,((w,B)=>{this._dispatchEvent("pageError",{error:(0,Xe.serializeError)(w),page:Ye.PageDispatcher.from(this,B)})}));this.addObjectListener(Le.BrowserContext.Events.Console,(w=>{const B=w.page();if(this._shouldDispatchEvent(B,"console")){const G=Ye.PageDispatcher.from(this,B);this._dispatchEvent("console",{page:G,...G.serializeConsoleMessage(w)})}}));this._dialogHandler=w=>{if(!this._shouldDispatchEvent(w.page(),"dialog"))return false;this._dispatchEvent("dialog",{dialog:new We.DialogDispatcher(this,w)});return true};B.dialogManager.addDialogHandler(this._dialogHandler);if(B._browser.options.name==="chromium"){for(const w of B.serviceWorkers())this._dispatchEvent("serviceWorker",{worker:new Ye.WorkerDispatcher(this,w)});this.addObjectListener(Ke.CRBrowserContext.CREvents.ServiceWorker,(w=>this._dispatchEvent("serviceWorker",{worker:new Ye.WorkerDispatcher(this,w)})))}this.addObjectListener(Le.BrowserContext.Events.Request,(w=>{const B=w.redirectedFrom()&&this.connection.existingDispatcher(w.redirectedFrom());if(!B&&!this._shouldDispatchNetworkEvent(w,"request")&&!w.isNavigationRequest())return;const G=ze.RequestDispatcher.from(this,w);this._dispatchEvent("request",{request:G,page:Ye.PageDispatcher.fromNullable(this,w.frame()?._page.initializedOrUndefined())})}));this.addObjectListener(Le.BrowserContext.Events.Response,(w=>{const B=this.connection.existingDispatcher(w.request());if(!B&&!this._shouldDispatchNetworkEvent(w.request(),"response"))return;this._dispatchEvent("response",{response:ze.ResponseDispatcher.from(this,w),page:Ye.PageDispatcher.fromNullable(this,w.frame()?._page.initializedOrUndefined())})}));this.addObjectListener(Le.BrowserContext.Events.RequestFailed,(w=>{const B=this.connection.existingDispatcher(w);if(!B&&!this._shouldDispatchNetworkEvent(w,"requestFailed"))return;this._dispatchEvent("requestFailed",{request:ze.RequestDispatcher.from(this,w),failureText:w._failureText||void 0,responseEndTiming:w._responseEndTiming,page:Ye.PageDispatcher.fromNullable(this,w.frame()?._page.initializedOrUndefined())})}));this.addObjectListener(Le.BrowserContext.Events.RequestFinished,(({request:w,response:B})=>{const G=this.connection.existingDispatcher(w);if(!G&&!this._shouldDispatchNetworkEvent(w,"requestFinished"))return;this._dispatchEvent("requestFinished",{request:ze.RequestDispatcher.from(this,w),response:ze.ResponseDispatcher.fromNullable(this,B),responseEndTiming:w._responseEndTiming,page:Ye.PageDispatcher.fromNullable(this,w.frame()?._page.initializedOrUndefined())})}));this.addObjectListener(Le.BrowserContext.Events.RecorderEvent,(({event:w,data:B,page:G,code:K})=>{this._dispatchEvent("recorderEvent",{event:w,data:B,code:K,page:Ye.PageDispatcher.from(this,G)})}))}static from(w,B){const G=w.connection.existingDispatcher(B);return G||new BrowserContextDispatcher(w,B)}_shouldDispatchNetworkEvent(w,B){return this._shouldDispatchEvent(w.frame()?._page?.initializedOrUndefined(),B)}_shouldDispatchEvent(w,B){if(this._subscriptions.has(B))return true;const G=w?this.connection.existingDispatcher(w):void 0;if(G?._subscriptions.has(B))return true;return false}async createTempFiles(w,B){const G=this._context._browser.options.artifactsDir;const K=Me.default.join(G,"upload-"+(0,at.createGuid)());const pe=w.rootDirName?Me.default.join(K,Me.default.basename(w.rootDirName)):K;await B.race(Fe.default.promises.mkdir(pe,{recursive:true}));this._context._tempDirs.push(K);return{rootDir:w.rootDirName?new ot.WritableStreamDispatcher(this,pe):void 0,writableStreams:await Promise.all(w.items.map((async w=>{await B.race(Fe.default.promises.mkdir(Me.default.dirname(Me.default.join(pe,w.name)),{recursive:true}));const G=Fe.default.createWriteStream(Me.default.join(pe,w.name));return new ot.WritableStreamDispatcher(this,G,w.lastModifiedMs)})))}}async exposeBinding(w,B){const G=await this._context.exposeBinding(B,w.name,!!w.needsHandle,((B,...G)=>{if(this._disposed)return;const K=Ye.PageDispatcher.from(this,B.page);const pe=new Ye.BindingCallDispatcher(K,w.name,!!w.needsHandle,B,G);this._dispatchEvent("bindingCall",{binding:pe});return pe.promise()}));this._bindings.push(G)}async newPage(w,B){return{page:Ye.PageDispatcher.from(this,await this._context.newPage(B))}}async cookies(w,B){return{cookies:await B.race(this._context.cookies(w.urls))}}async addCookies(w,B){await this._context.addCookies(w.cookies)}async clearCookies(w,B){const G=w.nameRegexSource!==void 0&&w.nameRegexFlags!==void 0?new RegExp(w.nameRegexSource,w.nameRegexFlags):void 0;const K=w.domainRegexSource!==void 0&&w.domainRegexFlags!==void 0?new RegExp(w.domainRegexSource,w.domainRegexFlags):void 0;const pe=w.pathRegexSource!==void 0&&w.pathRegexFlags!==void 0?new RegExp(w.pathRegexSource,w.pathRegexFlags):void 0;await this._context.clearCookies({name:G||w.name,domain:K||w.domain,path:pe||w.path})}async grantPermissions(w,B){await this._context.grantPermissions(w.permissions,w.origin)}async clearPermissions(w,B){await this._context.clearPermissions()}async setGeolocation(w,B){await this._context.setGeolocation(w.geolocation)}async setExtraHTTPHeaders(w,B){await this._context.setExtraHTTPHeaders(B,w.headers)}async setOffline(w,B){await this._context.setOffline(B,w.offline)}async setHTTPCredentials(w,B){await B.race(this._context.setHTTPCredentials(w.httpCredentials))}async addInitScript(w,B){this._initScripts.push(await this._context.addInitScript(B,w.source))}async setNetworkInterceptionPatterns(w,B){const G=this._interceptionUrlMatchers.length>0;if(!w.patterns.length){if(G)await this._context.removeRequestInterceptor(this._requestInterceptor);this._interceptionUrlMatchers=[]}else{this._interceptionUrlMatchers=w.patterns.map((w=>w.regexSource?new RegExp(w.regexSource,w.regexFlags):w.glob));if(!G)await this._context.addRequestInterceptor(B,this._requestInterceptor)}}async setWebSocketInterceptionPatterns(w,B){this._webSocketInterceptionPatterns=w.patterns;if(w.patterns.length&&!this._routeWebSocketInitScript)this._routeWebSocketInitScript=await it.WebSocketRouteDispatcher.install(B,this.connection,this._context)}async storageState(w,B){return await B.race(this._context.storageState(B,w.indexedDB))}async close(w,B){B.metadata.potentiallyClosesScope=true;await this._context.close(w)}async enableRecorder(w,B){await ut.RecorderApp.show(this._context,w)}async disableRecorder(w,B){const G=ct.Recorder.existingForContext(this._context);if(G)G.setMode("none")}async pause(w,B){}async newCDPSession(w,B){if(!this._object._browser.options.isChromium)throw new Error(`CDP session is only available in Chromium`);if(!w.page&&!w.frame||w.page&&w.frame)throw new Error(`CDP session must be initiated with either Page or Frame, not none or both`);const G=this._object;return{session:new qe.CDPSessionDispatcher(this,await B.race(G.newCDPSession((w.page?w.page:w.frame)._object)))}}async harStart(w,B){const G=this._context.harStart(w.page?w.page._object:null,w.options);return{harId:G}}async harExport(w,B){const G=await B.race(this._context.harExport(w.harId));if(!G)throw new Error("No HAR artifact. Ensure record.harPath is set.");return{artifact:je.ArtifactDispatcher.from(this,G)}}async clockFastForward(w,B){await this._context.clock.fastForward(B,w.ticksString??w.ticksNumber??0)}async clockInstall(w,B){await this._context.clock.install(B,w.timeString??w.timeNumber??void 0)}async clockPauseAt(w,B){await this._context.clock.pauseAt(B,w.timeString??w.timeNumber??0);this._clockPaused=true}async clockResume(w,B){await this._context.clock.resume(B);this._clockPaused=false}async clockRunFor(w,B){await this._context.clock.runFor(B,w.ticksString??w.ticksNumber??0)}async clockSetFixedTime(w,B){await this._context.clock.setFixedTime(B,w.timeString??w.timeNumber??0)}async clockSetSystemTime(w,B){await this._context.clock.setSystemTime(B,w.timeString??w.timeNumber??0)}async updateSubscription(w,B){if(w.enabled)this._subscriptions.add(w.event);else this._subscriptions.delete(w.event)}async registerSelectorEngine(w,B){this._object.selectors().register(w.selectorEngine)}async setTestIdAttributeName(w,B){this._object.selectors().setTestIdAttributeName(w.testIdAttributeName)}_onDispose(){if(this._context.isClosingOrClosed())return;this._context.dialogManager.removeDialogHandler(this._dialogHandler);this._interceptionUrlMatchers=[];this._context.removeRequestInterceptor(this._requestInterceptor).catch((()=>{}));this._context.removeExposedBindings(this._bindings).catch((()=>{}));this._bindings=[];this._context.removeInitScripts(this._initScripts).catch((()=>{}));this._initScripts=[];if(this._routeWebSocketInitScript)it.WebSocketRouteDispatcher.uninstall(this.connection,this._context,this._routeWebSocketInitScript).catch((()=>{}));this._routeWebSocketInitScript=void 0;if(this._clockPaused)this._context.clock.resumeNoReply();this._clockPaused=false}}0&&0},7799:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{BrowserDispatcher:()=>BrowserDispatcher});w.exports=__toCommonJS(Be);var Qe=G(9612);var Pe=G(9571);var Fe=G(7259);var Me=G(208);var Le=G(6609);var je=G(7830);class BrowserDispatcher extends Me.Dispatcher{constructor(w,B,G={}){super(w,B,"Browser",{version:B.version(),name:B.options.name});this._type_Browser=true;this._isolatedContexts=new Set;this._options=G;if(!G.isolateContexts){this.addObjectListener(Qe.Browser.Events.Context,(w=>this._dispatchEvent("context",{context:Pe.BrowserContextDispatcher.from(this,w)})));this.addObjectListener(Qe.Browser.Events.Disconnected,(()=>this._didClose()));if(B._defaultContext)this._dispatchEvent("context",{context:Pe.BrowserContextDispatcher.from(this,B._defaultContext)});for(const w of B.contexts())this._dispatchEvent("context",{context:Pe.BrowserContextDispatcher.from(this,w)})}}_didClose(){this._dispatchEvent("close");this._dispose()}async newContext(w,B){if(w.recordVideo&&this._object.attribution.playwright.options.isServer)w.recordVideo.dir=this._object.options.artifactsDir;if(!this._options.isolateContexts){const G=await this._object.newContext(B,w);const K=Pe.BrowserContextDispatcher.from(this,G);return{context:K}}const G=await this._object.newContext(B,w);this._isolatedContexts.add(G);G.on(Le.BrowserContext.Events.Close,(()=>this._isolatedContexts.delete(G)));const K=Pe.BrowserContextDispatcher.from(this,G);this._dispatchEvent("context",{context:K});return{context:K}}async newContextForReuse(w,B){const G=await this._object.newContextForReuse(B,w);const K=Pe.BrowserContextDispatcher.from(this,G);this._dispatchEvent("context",{context:K});return{context:K}}async disconnectFromReusedContext(w,B){const G=this._object.contextForReuse();const K=G?this.connection.existingDispatcher(G):void 0;if(K){await K.stopPendingOperations(new Error(w.reason));K._dispose()}}async close(w,B){if(this._options.ignoreStopAndKill)return;B.metadata.potentiallyClosesScope=true;await this._object.close(w)}async killForTests(w,B){if(this._options.ignoreStopAndKill)return;B.metadata.potentiallyClosesScope=true;await this._object.killForTests()}async defaultUserAgentForTest(){return{userAgent:this._object.userAgent()}}async newBrowserCDPSession(w,B){if(!this._object.options.isChromium)throw new Error(`CDP session is only available in Chromium`);const G=this._object;return{session:new Fe.CDPSessionDispatcher(this,await G.newBrowserCDPSession())}}async startTracing(w,B){if(!this._object.options.isChromium)throw new Error(`Tracing is only available in Chromium`);const G=this._object;await G.startTracing(w.page?w.page._object:void 0,w)}async stopTracing(w,B){if(!this._object.options.isChromium)throw new Error(`Tracing is only available in Chromium`);const G=this._object;return{artifact:je.ArtifactDispatcher.from(this,await G.stopTracing())}}async cleanupContexts(){await Promise.all(Array.from(this._isolatedContexts).map((w=>w.close({reason:"Global context cleanup (connection terminated)"}))))}}0&&0},1332:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{BrowserTypeDispatcher:()=>BrowserTypeDispatcher});w.exports=__toCommonJS(Be);var Qe=G(9571);var Pe=G(7799);var Fe=G(208);class BrowserTypeDispatcher extends Fe.Dispatcher{constructor(w,B,G){super(w,B,"BrowserType",{executablePath:B.executablePath(),name:B.name()});this._type_BrowserType=true;this._denyLaunch=G}async launch(w,B){if(this._denyLaunch)throw new Error(`Launching more browsers is not allowed.`);const G=await this._object.launch(B,w);return{browser:new Pe.BrowserDispatcher(this,G)}}async launchPersistentContext(w,B){if(this._denyLaunch)throw new Error(`Launching more browsers is not allowed.`);const G=await this._object.launchPersistentContext(B,w.userDataDir,w);const K=new Pe.BrowserDispatcher(this,G._browser);const pe=Qe.BrowserContextDispatcher.from(K,G);return{browser:K,context:pe}}async connectOverCDP(w,B){if(this._denyLaunch)throw new Error(`Launching more browsers is not allowed.`);const G=await this._object.connectOverCDP(B,w.endpointURL,w);const K=new Pe.BrowserDispatcher(this,G);return{browser:K,defaultContext:G._defaultContext?Qe.BrowserContextDispatcher.from(K,G._defaultContext):void 0}}}0&&0},7259:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{CDPSessionDispatcher:()=>CDPSessionDispatcher});w.exports=__toCommonJS(Be);var Qe=G(208);var Pe=G(8443);class CDPSessionDispatcher extends Qe.Dispatcher{constructor(w,B){super(w,B,"CDPSession",{});this._type_CDPSession=true;this.addObjectListener(Pe.CDPSession.Events.Event,(({method:w,params:B})=>this._dispatchEvent("event",{method:w,params:B})));this.addObjectListener(Pe.CDPSession.Events.Closed,(()=>this._dispose()))}async send(w,B){return{result:await B.race(this._object.send(w.method,w.params))}}async detach(w,B){B.metadata.potentiallyClosesScope=true;await this._object.detach()}}0&&0},3891:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{DebugControllerDispatcher:()=>DebugControllerDispatcher});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(655);var Fe=G(208);class DebugControllerDispatcher extends Fe.Dispatcher{constructor(w,B){super(w,B,"DebugController",{});this._type_DebugController=true;this._listeners=[Qe.eventsHelper.addEventListener(this._object,Pe.DebugController.Events.StateChanged,(w=>{this._dispatchEvent("stateChanged",w)})),Qe.eventsHelper.addEventListener(this._object,Pe.DebugController.Events.InspectRequested,(({selector:w,locator:B,ariaSnapshot:G})=>{this._dispatchEvent("inspectRequested",{selector:w,locator:B,ariaSnapshot:G})})),Qe.eventsHelper.addEventListener(this._object,Pe.DebugController.Events.SourceChanged,(({text:w,header:B,footer:G,actions:K})=>{this._dispatchEvent("sourceChanged",{text:w,header:B,footer:G,actions:K})})),Qe.eventsHelper.addEventListener(this._object,Pe.DebugController.Events.Paused,(({paused:w})=>{this._dispatchEvent("paused",{paused:w})})),Qe.eventsHelper.addEventListener(this._object,Pe.DebugController.Events.SetModeRequested,(({mode:w})=>{this._dispatchEvent("setModeRequested",{mode:w})}))]}async initialize(w,B){this._object.initialize(w.codegenId,w.sdkLanguage)}async setReportStateChanged(w,B){this._object.setReportStateChanged(w.enabled)}async setRecorderMode(w,B){await this._object.setRecorderMode(B,w)}async highlight(w,B){await this._object.highlight(B,w)}async hideHighlight(w,B){await this._object.hideHighlight(B)}async resume(w,B){await this._object.resume(B)}async kill(w,B){this._object.kill()}_onDispose(){Qe.eventsHelper.removeEventListeners(this._listeners);this._object.dispose()}}0&&0},6800:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{DialogDispatcher:()=>DialogDispatcher});w.exports=__toCommonJS(Be);var Qe=G(208);var Pe=G(1995);class DialogDispatcher extends Qe.Dispatcher{constructor(w,B){const G=Pe.PageDispatcher.fromNullable(w,B.page().initializedOrUndefined());super(G||w,B,"Dialog",{page:G,type:B.type(),message:B.message(),defaultValue:B.defaultValue()});this._type_Dialog=true}async accept(w,B){await B.race(this._object.accept(w.promptText))}async dismiss(w,B){await B.race(this._object.dismiss())}}0&&0},208:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Dispatcher:()=>Dispatcher,DispatcherConnection:()=>DispatcherConnection,RootDispatcher:()=>RootDispatcher,setMaxDispatchersForTest:()=>setMaxDispatchersForTest});w.exports=__toCommonJS(Be);var Qe=G(4434);var Pe=G(6037);var Fe=G(8873);var Me=G(7651);var Le=G(5749);var je=G(1009);var qe=G(9814);var We=G(4506);var Ge=G(358);var ze=G(5295);var Ye=G(6665);const Ke=(0,Fe.createMetadataValidator)();let Xe;function setMaxDispatchersForTest(w){Xe=w}function maxDispatchersForBucket(w){return Xe??{JSHandle:1e5,ElementHandle:1e5}[w]??1e4}class Dispatcher extends Qe.EventEmitter{constructor(w,B,G,K,pe){super();this._dispatchers=new Map;this._disposed=false;this._eventListeners=[];this._activeProgressControllers=new Set;this.connection=w instanceof DispatcherConnection?w:w.connection;this._parent=w instanceof DispatcherConnection?void 0:w;const ye=B.guid;this._guid=ye;this._type=G;this._object=B;this._gcBucket=pe??G;this.connection.registerDispatcher(this);if(this._parent){(0,Me.assert)(!this._parent._dispatchers.has(ye));this._parent._dispatchers.set(ye,this)}if(this._parent)this.connection.sendCreate(this._parent,G,ye,K);this.connection.maybeDisposeStaleDispatchers(this._gcBucket)}parentScope(){return this._parent}addObjectListener(w,B){this._eventListeners.push(Pe.eventsHelper.addEventListener(this._object,w,B))}adopt(w){if(w._parent===this)return;const B=w._parent;B._dispatchers.delete(w._guid);this._dispatchers.set(w._guid,w);w._parent=this;this.connection.sendAdopt(this,w)}async _runCommand(w,B,G){const K=new Ye.ProgressController(w,(B=>{const G=this._object.logName||"api";Me.debugLogger.log(G,B);this._object.instrumentation.onCallLog(this._object,w,G,B)}));this._activeProgressControllers.add(K);try{return await K.run((w=>this[B](G,w)),G?.timeout)}finally{this._activeProgressControllers.delete(K)}}_dispatchEvent(w,B){if(this._disposed){if((0,Le.isUnderTest)())throw new Error(`${this._guid} is sending "${String(w)}" event after being disposed`);return}this.connection.sendEvent(this,w,B)}_dispose(w){this._disposeRecursively(new je.TargetClosedError);this.connection.sendDispose(this,w)}_onDispose(){}async stopPendingOperations(w){const B=[];const collect=w=>{B.push(...w._activeProgressControllers);for(const B of[...w._dispatchers.values()])collect(B)};collect(this);await Promise.all(B.map((B=>B.abort(w))))}_disposeRecursively(w){(0,Me.assert)(!this._disposed,`${this._guid} is disposed more than once`);for(const B of this._activeProgressControllers){if(!B.metadata.potentiallyClosesScope)B.abort(w).catch((()=>{}))}this._onDispose();this._disposed=true;Pe.eventsHelper.removeEventListeners(this._eventListeners);this._parent?._dispatchers.delete(this._guid);const B=this.connection._dispatchersByBucket.get(this._gcBucket);B?.delete(this._guid);this.connection._dispatcherByGuid.delete(this._guid);this.connection._dispatcherByObject.delete(this._object);for(const B of[...this._dispatchers.values()])B._disposeRecursively(w);this._dispatchers.clear()}_debugScopeState(){return{_guid:this._guid,objects:Array.from(this._dispatchers.values()).map((w=>w._debugScopeState()))}}async waitForEventInfo(){}}class RootDispatcher extends Dispatcher{constructor(w,B){super(w,(0,qe.createRootSdkObject)(),"Root",{});this.createPlaywright=B;this._initialized=false}async initialize(w,B){(0,Me.assert)(this.createPlaywright);(0,Me.assert)(!this._initialized);this._initialized=true;return{playwright:await this.createPlaywright(this,w)}}}class DispatcherConnection{constructor(w){this._dispatcherByGuid=new Map;this._dispatcherByObject=new Map;this._dispatchersByBucket=new Map;this.onmessage=w=>{};this._waitOperations=new Map;this._isLocal=!!w}sendEvent(w,B,G){const K=(0,Fe.findValidator)(w._type,B,"Event");G=K(G,"",this._validatorToWireContext());this.onmessage({guid:w._guid,method:B,params:G})}sendCreate(w,B,G,K){const pe=(0,Fe.findValidator)(B,"","Initializer");K=pe(K,"",this._validatorToWireContext());this.onmessage({guid:w._guid,method:"__create__",params:{type:B,initializer:K,guid:G}})}sendAdopt(w,B){this.onmessage({guid:w._guid,method:"__adopt__",params:{guid:B._guid}})}sendDispose(w,B){this.onmessage({guid:w._guid,method:"__dispose__",params:{reason:B}})}_validatorToWireContext(){return{tChannelImpl:this._tChannelImplToWire.bind(this),binary:this._isLocal?"buffer":"toBase64",isUnderTest:Le.isUnderTest}}_validatorFromWireContext(){return{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._isLocal?"buffer":"fromBase64",isUnderTest:Le.isUnderTest}}_tChannelImplFromWire(w,B,G,K){if(B&&typeof B==="object"&&typeof B.guid==="string"){const K=B.guid;const pe=this._dispatcherByGuid.get(K);if(!pe)throw new Fe.ValidationError(`${G}: no object with guid ${K}`);if(w!=="*"&&!w.includes(pe._type))throw new Fe.ValidationError(`${G}: object with guid ${K} has type ${pe._type}, expected ${w.toString()}`);return pe}throw new Fe.ValidationError(`${G}: expected guid for ${w.toString()}`)}_tChannelImplToWire(w,B,G,K){if(B instanceof Dispatcher){if(w!=="*"&&!w.includes(B._type))throw new Fe.ValidationError(`${G}: dispatcher with guid ${B._guid} has type ${B._type}, expected ${w.toString()}`);return{guid:B._guid}}throw new Fe.ValidationError(`${G}: expected dispatcher ${w.toString()}`)}existingDispatcher(w){return this._dispatcherByObject.get(w)}registerDispatcher(w){(0,Me.assert)(!this._dispatcherByGuid.has(w._guid));this._dispatcherByGuid.set(w._guid,w);this._dispatcherByObject.set(w._object,w);let B=this._dispatchersByBucket.get(w._gcBucket);if(!B){B=new Set;this._dispatchersByBucket.set(w._gcBucket,B)}B.add(w._guid)}maybeDisposeStaleDispatchers(w){const B=maxDispatchersForBucket(w);const G=this._dispatchersByBucket.get(w);if(!G||G.size<=B)return;const K=[...G];const pe=B/10|0;this._dispatchersByBucket.set(w,new Set(K.slice(pe)));for(let w=0;w<pe;++w){const B=this._dispatcherByGuid.get(K[w]);if(!B)continue;B._dispose("gc")}}async dispatch(w){const{id:B,guid:G,method:K,params:pe,metadata:ye}=w;const Se=this._dispatcherByGuid.get(G);if(!Se){this.onmessage({id:B,error:(0,je.serializeError)(new je.TargetClosedError)});return}let Be;let Qe;try{const w=(0,Fe.findValidator)(Se._type,K,"Params");const B=this._validatorFromWireContext();Be=w(pe,"",B);Qe=Ke(ye,"",B);if(typeof Se[K]!=="function")throw new Error(`Mismatching dispatcher: "${Se._type}" does not implement "${K}"`)}catch(w){this.onmessage({id:B,error:(0,je.serializeError)(w)});return}const Pe=ze.methodMetainfo.get(Se._type+"."+K);if(Pe?.internal){Qe.internal=true}const Le=Se._object;const qe={id:`call@${B}`,location:Qe.location,title:Qe.title,internal:Qe.internal,stepId:Qe.stepId,objectId:Le.guid,pageId:Le.attribution?.page?.guid,frameId:Le.attribution?.frame?.guid,startTime:(0,Me.monotonicTime)(),endTime:0,type:Se._type,method:K,params:pe||{},log:[]};if(pe?.info?.waitId){const w=pe.info;switch(w.phase){case"before":{this._waitOperations.set(w.waitId,qe);await Le.instrumentation.onBeforeCall(Le,qe);this.onmessage({id:B});return}case"log":{const G=this._waitOperations.get(w.waitId);G.log.push(w.message);Le.instrumentation.onCallLog(Le,G,"api",w.message);this.onmessage({id:B});return}case"after":{const G=this._waitOperations.get(w.waitId);G.endTime=(0,Me.monotonicTime)();G.error=w.error?{error:{name:"Error",message:w.error}}:void 0;this._waitOperations.delete(w.waitId);await Le.instrumentation.onAfterCall(Le,G);this.onmessage({id:B});return}}}await Le.instrumentation.onBeforeCall(Le,qe);const Ye={id:B};try{if(this._dispatcherByGuid.get(G)!==Se)throw new je.TargetClosedError(closeReason(Le));const w=await Se._runCommand(qe,K,Be);const B=(0,Fe.findValidator)(Se._type,K,"Result");Ye.result=B(w,"",this._validatorToWireContext());qe.result=w}catch(w){if((0,je.isTargetClosedError)(w)){const B=closeReason(Le);if(B)(0,Me.rewriteErrorMessage)(w,B)}else if((0,We.isProtocolError)(w)){if(w.type==="closed")w=new je.TargetClosedError(closeReason(Le),w.browserLogMessage());else if(w.type==="crashed")(0,Me.rewriteErrorMessage)(w,"Target crashed "+w.browserLogMessage())}Ye.error=(0,je.serializeError)(w);qe.error=Ye.error}finally{qe.endTime=(0,Me.monotonicTime)();await Le.instrumentation.onAfterCall(Le,qe);if(Pe?.slowMo)await this._doSlowMo(Le)}if(Ye.error)Ye.log=(0,Ge.compressCallLog)(qe.log);this.onmessage(Ye)}async _doSlowMo(w){const B=w.attribution.browser?.options.slowMo;if(B)await new Promise((w=>setTimeout(w,B)))}}function closeReason(w){return w.attribution.page?.closeReason||w.attribution.context?._closeReason||w.attribution.browser?._closeReason}0&&0},6030:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ElectronApplicationDispatcher:()=>ElectronApplicationDispatcher,ElectronDispatcher:()=>ElectronDispatcher});w.exports=__toCommonJS(Be);var Qe=G(9571);var Pe=G(208);var Fe=G(5697);var Me=G(79);class ElectronDispatcher extends Pe.Dispatcher{constructor(w,B,G){super(w,B,"Electron",{});this._type_Electron=true;this._denyLaunch=G}async launch(w,B){if(this._denyLaunch)throw new Error(`Launching more browsers is not allowed.`);const G=await this._object.launch(B,w);return{electronApplication:new ElectronApplicationDispatcher(this,G)}}}class ElectronApplicationDispatcher extends Pe.Dispatcher{constructor(w,B){super(w,B,"ElectronApplication",{context:Qe.BrowserContextDispatcher.from(w,B.context())});this._type_EventTarget=true;this._type_ElectronApplication=true;this._subscriptions=new Set;this.addObjectListener(Me.ElectronApplication.Events.Close,(()=>{this._dispatchEvent("close");this._dispose()}));this.addObjectListener(Me.ElectronApplication.Events.Console,(w=>{if(!this._subscriptions.has("console"))return;this._dispatchEvent("console",{type:w.type(),text:w.text(),args:w.args().map((w=>Fe.JSHandleDispatcher.fromJSHandle(this,w))),location:w.location()})}))}async browserWindow(w,B){const G=await B.race(this._object.browserWindow(w.page.page()));return{handle:Fe.JSHandleDispatcher.fromJSHandle(this,G)}}async evaluateExpression(w,B){const G=await B.race(this._object._nodeElectronHandlePromise);return{value:(0,Fe.serializeResult)(await B.race(G.evaluateExpression(w.expression,{isFunction:w.isFunction},(0,Fe.parseArgument)(w.arg))))}}async evaluateExpressionHandle(w,B){const G=await B.race(this._object._nodeElectronHandlePromise);const K=await B.race(G.evaluateExpressionHandle(w.expression,{isFunction:w.isFunction},(0,Fe.parseArgument)(w.arg)));return{handle:Fe.JSHandleDispatcher.fromJSHandle(this,K)}}async updateSubscription(w,B){if(w.enabled)this._subscriptions.add(w.event);else this._subscriptions.delete(w.event)}}0&&0},1352:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ElementHandleDispatcher:()=>ElementHandleDispatcher});w.exports=__toCommonJS(Be);var Qe=G(9571);var Pe=G(5733);var Fe=G(5697);class ElementHandleDispatcher extends Fe.JSHandleDispatcher{constructor(w,B){super(w,B);this._type_ElementHandle=true;this._elementHandle=B}static from(w,B){return w.connection.existingDispatcher(B)||new ElementHandleDispatcher(w,B)}static fromNullable(w,B){if(!B)return void 0;return w.connection.existingDispatcher(B)||new ElementHandleDispatcher(w,B)}static fromJSOrElementHandle(w,B){const G=w.connection.existingDispatcher(B);if(G)return G;const K=B.asElement();if(!K)return new Fe.JSHandleDispatcher(w,B);return new ElementHandleDispatcher(w,K)}async ownerFrame(w,B){const G=await this._elementHandle.ownerFrame();return{frame:G?Pe.FrameDispatcher.from(this._browserContextDispatcher(),G):void 0}}async contentFrame(w,B){const G=await B.race(this._elementHandle.contentFrame());return{frame:G?Pe.FrameDispatcher.from(this._browserContextDispatcher(),G):void 0}}async getAttribute(w,B){const G=await this._elementHandle.getAttribute(B,w.name);return{value:G===null?void 0:G}}async inputValue(w,B){const G=await this._elementHandle.inputValue(B);return{value:G}}async textContent(w,B){const G=await this._elementHandle.textContent(B);return{value:G===null?void 0:G}}async innerText(w,B){return{value:await this._elementHandle.innerText(B)}}async innerHTML(w,B){return{value:await this._elementHandle.innerHTML(B)}}async isChecked(w,B){return{value:await this._elementHandle.isChecked(B)}}async isDisabled(w,B){return{value:await this._elementHandle.isDisabled(B)}}async isEditable(w,B){return{value:await this._elementHandle.isEditable(B)}}async isEnabled(w,B){return{value:await this._elementHandle.isEnabled(B)}}async isHidden(w,B){return{value:await this._elementHandle.isHidden(B)}}async isVisible(w,B){return{value:await this._elementHandle.isVisible(B)}}async dispatchEvent(w,B){await this._elementHandle.dispatchEvent(B,w.type,(0,Fe.parseArgument)(w.eventInit))}async scrollIntoViewIfNeeded(w,B){await this._elementHandle.scrollIntoViewIfNeeded(B)}async hover(w,B){return await this._elementHandle.hover(B,w)}async click(w,B){return await this._elementHandle.click(B,w)}async dblclick(w,B){return await this._elementHandle.dblclick(B,w)}async tap(w,B){return await this._elementHandle.tap(B,w)}async selectOption(w,B){const G=(w.elements||[]).map((w=>w._elementHandle));return{values:await this._elementHandle.selectOption(B,G,w.options||[],w)}}async fill(w,B){return await this._elementHandle.fill(B,w.value,w)}async selectText(w,B){await this._elementHandle.selectText(B,w)}async setInputFiles(w,B){return await this._elementHandle.setInputFiles(B,w)}async focus(w,B){await this._elementHandle.focus(B)}async type(w,B){return await this._elementHandle.type(B,w.text,w)}async press(w,B){return await this._elementHandle.press(B,w.key,w)}async check(w,B){return await this._elementHandle.check(B,w)}async uncheck(w,B){return await this._elementHandle.uncheck(B,w)}async boundingBox(w,B){const G=await B.race(this._elementHandle.boundingBox());return{value:G||void 0}}async screenshot(w,B){const G=(w.mask||[]).map((({frame:w,selector:B})=>({frame:w._object,selector:B})));return{binary:await this._elementHandle.screenshot(B,{...w,mask:G})}}async querySelector(w,B){const G=await B.race(this._elementHandle.querySelector(w.selector,w));return{element:ElementHandleDispatcher.fromNullable(this.parentScope(),G)}}async querySelectorAll(w,B){const G=await B.race(this._elementHandle.querySelectorAll(w.selector));return{elements:G.map((w=>ElementHandleDispatcher.from(this.parentScope(),w)))}}async evalOnSelector(w,B){return{value:(0,Fe.serializeResult)(await B.race(this._elementHandle.evalOnSelector(w.selector,!!w.strict,w.expression,w.isFunction,(0,Fe.parseArgument)(w.arg))))}}async evalOnSelectorAll(w,B){return{value:(0,Fe.serializeResult)(await B.race(this._elementHandle.evalOnSelectorAll(w.selector,w.expression,w.isFunction,(0,Fe.parseArgument)(w.arg))))}}async waitForElementState(w,B){await this._elementHandle.waitForElementState(B,w.state)}async waitForSelector(w,B){return{element:ElementHandleDispatcher.fromNullable(this.parentScope(),await this._elementHandle.waitForSelector(B,w.selector,w))}}_browserContextDispatcher(){const w=this.parentScope().parentScope();if(w instanceof Qe.BrowserContextDispatcher)return w;return w.parentScope()}}0&&0},5733:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{FrameDispatcher:()=>FrameDispatcher});w.exports=__toCommonJS(Be);var Qe=G(3300);var Pe=G(208);var Fe=G(1352);var Me=G(5697);var Le=G(5581);var je=G(5581);var qe=G(599);var We=G(4331);class FrameDispatcher extends Pe.Dispatcher{constructor(w,B){const G=B._page.mainFrame()===B?"MainFrame":"Frame";const K=w.connection.existingDispatcher(B._page);super(K||w,B,"Frame",{url:B.url(),name:B.name(),parentFrame:FrameDispatcher.fromNullable(w,B.parentFrame()),loadStates:Array.from(B._firedLifecycleEvents)},G);this._type_Frame=true;this._browserContextDispatcher=w;this._frame=B;this.addObjectListener(Qe.Frame.Events.AddLifecycle,(w=>{this._dispatchEvent("loadstate",{add:w})}));this.addObjectListener(Qe.Frame.Events.RemoveLifecycle,(w=>{this._dispatchEvent("loadstate",{remove:w})}));this.addObjectListener(Qe.Frame.Events.InternalNavigation,(w=>{if(!w.isPublic)return;const B={url:w.url,name:w.name,error:w.error?w.error.message:void 0};if(w.newDocument)B.newDocument={request:je.RequestDispatcher.fromNullable(this._browserContextDispatcher,w.newDocument.request||null)};this._dispatchEvent("navigated",B)}))}static from(w,B){const G=w.connection.existingDispatcher(B);return G||new FrameDispatcher(w,B)}static fromNullable(w,B){if(!B)return;return FrameDispatcher.from(w,B)}async goto(w,B){return{response:Le.ResponseDispatcher.fromNullable(this._browserContextDispatcher,await this._frame.goto(B,w.url,w))}}async frameElement(w,B){return{element:Fe.ElementHandleDispatcher.from(this,await B.race(this._frame.frameElement()))}}async evaluateExpression(w,B){return{value:(0,Me.serializeResult)(await B.race(this._frame.evaluateExpression(w.expression,{isFunction:w.isFunction},(0,Me.parseArgument)(w.arg))))}}async evaluateExpressionHandle(w,B){return{handle:Fe.ElementHandleDispatcher.fromJSOrElementHandle(this,await B.race(this._frame.evaluateExpressionHandle(w.expression,{isFunction:w.isFunction},(0,Me.parseArgument)(w.arg))))}}async waitForSelector(w,B){return{element:Fe.ElementHandleDispatcher.fromNullable(this,await this._frame.waitForSelector(B,w.selector,true,w))}}async dispatchEvent(w,B){return this._frame.dispatchEvent(B,w.selector,w.type,(0,Me.parseArgument)(w.eventInit),w)}async evalOnSelector(w,B){return{value:(0,Me.serializeResult)(await B.race(this._frame.evalOnSelector(w.selector,!!w.strict,w.expression,w.isFunction,(0,Me.parseArgument)(w.arg))))}}async evalOnSelectorAll(w,B){return{value:(0,Me.serializeResult)(await B.race(this._frame.evalOnSelectorAll(w.selector,w.expression,w.isFunction,(0,Me.parseArgument)(w.arg))))}}async querySelector(w,B){return{element:Fe.ElementHandleDispatcher.fromNullable(this,await B.race(this._frame.querySelector(w.selector,w)))}}async querySelectorAll(w,B){const G=await B.race(this._frame.querySelectorAll(w.selector));return{elements:G.map((w=>Fe.ElementHandleDispatcher.from(this,w)))}}async queryCount(w,B){return{value:await B.race(this._frame.queryCount(w.selector,w))}}async content(w,B){return{value:await B.race(this._frame.content())}}async setContent(w,B){return await this._frame.setContent(B,w.html,w)}async addScriptTag(w,B){return{element:Fe.ElementHandleDispatcher.from(this,await B.race(this._frame.addScriptTag(w)))}}async addStyleTag(w,B){return{element:Fe.ElementHandleDispatcher.from(this,await B.race(this._frame.addStyleTag(w)))}}async click(w,B){B.metadata.potentiallyClosesScope=true;return await this._frame.click(B,w.selector,w)}async dblclick(w,B){return await this._frame.dblclick(B,w.selector,w)}async dragAndDrop(w,B){return await this._frame.dragAndDrop(B,w.source,w.target,w)}async tap(w,B){return await this._frame.tap(B,w.selector,w)}async fill(w,B){return await this._frame.fill(B,w.selector,w.value,w)}async focus(w,B){await this._frame.focus(B,w.selector,w)}async blur(w,B){await this._frame.blur(B,w.selector,w)}async textContent(w,B){const G=await this._frame.textContent(B,w.selector,w);return{value:G===null?void 0:G}}async innerText(w,B){return{value:await this._frame.innerText(B,w.selector,w)}}async innerHTML(w,B){return{value:await this._frame.innerHTML(B,w.selector,w)}}async resolveSelector(w,B){return await this._frame.resolveSelector(B,w.selector)}async getAttribute(w,B){const G=await this._frame.getAttribute(B,w.selector,w.name,w);return{value:G===null?void 0:G}}async inputValue(w,B){const G=await this._frame.inputValue(B,w.selector,w);return{value:G}}async isChecked(w,B){return{value:await this._frame.isChecked(B,w.selector,w)}}async isDisabled(w,B){return{value:await this._frame.isDisabled(B,w.selector,w)}}async isEditable(w,B){return{value:await this._frame.isEditable(B,w.selector,w)}}async isEnabled(w,B){return{value:await this._frame.isEnabled(B,w.selector,w)}}async isHidden(w,B){return{value:await this._frame.isHidden(B,w.selector,w)}}async isVisible(w,B){return{value:await this._frame.isVisible(B,w.selector,w)}}async hover(w,B){return await this._frame.hover(B,w.selector,w)}async selectOption(w,B){const G=(w.elements||[]).map((w=>w._elementHandle));return{values:await this._frame.selectOption(B,w.selector,G,w.options||[],w)}}async setInputFiles(w,B){return await this._frame.setInputFiles(B,w.selector,w)}async type(w,B){return await this._frame.type(B,w.selector,w.text,w)}async press(w,B){return await this._frame.press(B,w.selector,w.key,w)}async check(w,B){return await this._frame.check(B,w.selector,w)}async uncheck(w,B){return await this._frame.uncheck(B,w.selector,w)}async waitForTimeout(w,B){return await this._frame.waitForTimeout(B,w.waitTimeout)}async waitForFunction(w,B){return{handle:Fe.ElementHandleDispatcher.fromJSOrElementHandle(this,await this._frame.waitForFunctionExpression(B,w.expression,w.isFunction,(0,Me.parseArgument)(w.arg),w))}}async title(w,B){return{value:await B.race(this._frame.title())}}async highlight(w,B){return await this._frame.highlight(B,w.selector)}async expect(w,B){B.metadata.potentiallyClosesScope=true;let G=w.expectedValue?(0,Me.parseArgument)(w.expectedValue):void 0;if(w.expression==="to.match.aria"&&G)G=(0,qe.parseAriaSnapshotUnsafe)(We.yaml,G);const K=await this._frame.expect(B,w.selector,{...w,expectedValue:G},w.timeout);if(K.received!==void 0)K.received=(0,Me.serializeResult)(K.received);return K}async ariaSnapshot(w,B){return{snapshot:await this._frame.ariaSnapshot(B,w.selector)}}}0&&0},5697:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{JSHandleDispatcher:()=>JSHandleDispatcher,parseArgument:()=>parseArgument,parseValue:()=>parseValue,serializeResult:()=>serializeResult});w.exports=__toCommonJS(Be);var Qe=G(208);var Pe=G(1352);var Fe=G(1038);class JSHandleDispatcher extends Qe.Dispatcher{constructor(w,B){super(w,B,B.asElement()?"ElementHandle":"JSHandle",{preview:B.toString()});this._type_JSHandle=true;B._setPreviewCallback((w=>this._dispatchEvent("previewUpdated",{preview:w})))}static fromJSHandle(w,B){return w.connection.existingDispatcher(B)||new JSHandleDispatcher(w,B)}async evaluateExpression(w,B){const G=await B.race(this._object.evaluateExpression(w.expression,{isFunction:w.isFunction},parseArgument(w.arg)));return{value:serializeResult(G)}}async evaluateExpressionHandle(w,B){const G=await B.race(this._object.evaluateExpressionHandle(w.expression,{isFunction:w.isFunction},parseArgument(w.arg)));return{handle:Pe.ElementHandleDispatcher.fromJSOrElementHandle(this.parentScope(),G)}}async getProperty(w,B){const G=await B.race(this._object.getProperty(w.name));return{handle:Pe.ElementHandleDispatcher.fromJSOrElementHandle(this.parentScope(),G)}}async getPropertyList(w,B){const G=await B.race(this._object.getProperties());const K=[];for(const[w,B]of G){K.push({name:w,value:Pe.ElementHandleDispatcher.fromJSOrElementHandle(this.parentScope(),B)})}return{properties:K}}async jsonValue(w,B){return{value:serializeResult(await B.race(this._object.jsonValue()))}}async dispose(w,B){B.metadata.potentiallyClosesScope=true;this._object.dispose();this._dispose()}}function parseArgument(w){return(0,Fe.parseSerializedValue)(w.value,w.handles.map((w=>w._object)))}function parseValue(w){return(0,Fe.parseSerializedValue)(w,[])}function serializeResult(w){return(0,Fe.serializeValue)(w,(w=>({fallThrough:w})))}0&&0},6750:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{JsonPipeDispatcher:()=>JsonPipeDispatcher});w.exports=__toCommonJS(Be);var Qe=G(208);var Pe=G(9814);class JsonPipeDispatcher extends Qe.Dispatcher{constructor(w){super(w,new Pe.SdkObject(w._object,"jsonPipe"),"JsonPipe",{});this._type_JsonPipe=true}async send(w,B){this.emit("message",w.message)}async close(w,B){this.emit("close");if(!this._disposed){this._dispatchEvent("closed",{});this._dispose()}}dispatch(w){if(!this._disposed)this._dispatchEvent("message",{message:w})}wasClosed(w){if(!this._disposed){this._dispatchEvent("closed",{reason:w});this._dispose()}}dispose(){this._dispose()}}0&&0},9520:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{LocalUtilsDispatcher:()=>LocalUtilsDispatcher});w.exports=__toCommonJS(Pe);var Fe=G(208);var Me=G(9814);var Le=__toESM(G(1462));var je=G(818);var qe=G(1792);var We=G(6750);var Ge=G(5449);var ze=G(189);var Ye=G(864);var Ke=G(4376);class LocalUtilsDispatcher extends Fe.Dispatcher{constructor(w,B){const G=new Me.SdkObject(B,"localUtils","localUtils");G.logName="browser";const K=Object.entries(qe.deviceDescriptors).map((([w,B])=>({name:w,descriptor:B})));super(w,G,"LocalUtils",{deviceDescriptors:K});this._harBackends=new Map;this._stackSessions=new Map;this._type_LocalUtils=true}async zip(w,B){return await Le.zip(B,this._stackSessions,w)}async harOpen(w,B){return await Le.harOpen(B,this._harBackends,w)}async harLookup(w,B){return await Le.harLookup(B,this._harBackends,w)}async harClose(w,B){Le.harClose(this._harBackends,w)}async harUnzip(w,B){return await Le.harUnzip(B,w)}async tracingStarted(w,B){return await Le.tracingStarted(B,this._stackSessions,w)}async traceDiscarded(w,B){return await Le.traceDiscarded(B,this._stackSessions,w)}async addStackToTracingNoReply(w,B){Le.addStackToTracingNoReply(this._stackSessions,w)}async connect(w,B){const G={"User-Agent":(0,je.getUserAgent)(),"x-playwright-proxy":w.exposeNetwork??"",...w.headers};const K=await urlToWSEndpoint(B,w.wsEndpoint);const pe=await ze.WebSocketTransport.connect(B,K,{headers:G,followRedirects:true,debugLogHeader:"x-playwright-debug-log"});const ye=new Ge.SocksInterceptor(pe,w.exposeNetwork,w.socksProxyRedirectPortForTest);const Se=new We.JsonPipeDispatcher(this);pe.onmessage=B=>{if(ye.interceptMessage(B))return;const cb=()=>{try{Se.dispatch(B)}catch(w){pe.close()}};if(w.slowMo)setTimeout(cb,w.slowMo);else cb()};Se.on("message",(w=>{pe.send(w)}));pe.onclose=w=>{ye?.cleanup();Se.wasClosed(w)};Se.on("close",(()=>pe.close()));return{pipe:Se,headers:pe.headers}}async globToRegex(w,B){const G=(0,Ke.resolveGlobToRegexPattern)(w.baseURL,w.glob,w.webSocketUrl);return{regex:G}}}async function urlToWSEndpoint(w,B){if(B.startsWith("ws"))return B;w.log(`<ws preparing> retrieving websocket url from ${B}`);const G=new URL(B);if(!G.pathname.endsWith("/"))G.pathname+="/";G.pathname+="json";const K=await(0,Ye.fetchData)(w,{url:G.toString(),method:"GET",headers:{"User-Agent":(0,je.getUserAgent)()}},(async(w,B)=>new Error(`Unexpected status ${B.statusCode} when connecting to ${G.toString()}.\nThis does not look like a Playwright server, try connecting via ws://.`)));const pe=new URL(B);let ye=JSON.parse(K).wsEndpointPath;if(ye.startsWith("/"))ye=ye.substring(1);if(!pe.pathname.endsWith("/"))pe.pathname+="/";pe.pathname+=ye;pe.protocol=pe.protocol==="https:"?"wss:":"ws:";return pe.toString()}0&&0},5581:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{APIRequestContextDispatcher:()=>APIRequestContextDispatcher,RequestDispatcher:()=>RequestDispatcher,ResponseDispatcher:()=>ResponseDispatcher,RouteDispatcher:()=>RouteDispatcher,WebSocketDispatcher:()=>WebSocketDispatcher});w.exports=__toCommonJS(Be);var Qe=G(6182);var Pe=G(208);var Fe=G(5733);var Me=G(1995);var Le=G(1054);var je=G(6182);class RequestDispatcher extends Pe.Dispatcher{static from(w,B){const G=w.connection.existingDispatcher(B);return G||new RequestDispatcher(w,B)}static fromNullable(w,B){return B?RequestDispatcher.from(w,B):void 0}constructor(w,B){const G=B.postDataBuffer();const K=B.frame();const pe=B.frame()?._page;const ye=pe?w.connection.existingDispatcher(pe):null;const Se=Fe.FrameDispatcher.fromNullable(w,K);super(ye||Se||w,B,"Request",{frame:Se,serviceWorker:Me.WorkerDispatcher.fromNullable(w,B.serviceWorker()),url:B.url(),resourceType:B.resourceType(),method:B.method(),postData:G===null?void 0:G,headers:B.headers(),isNavigationRequest:B.isNavigationRequest(),redirectedFrom:RequestDispatcher.fromNullable(w,B.redirectedFrom()),hasResponse:!!B._existingResponse()});this._type_Request=true;this._browserContextDispatcher=w;this.addObjectListener(je.Request.Events.Response,(()=>this._dispatchEvent("response",{})))}async rawRequestHeaders(w,B){return{headers:await B.race(this._object.rawRequestHeaders())}}async response(w,B){return{response:ResponseDispatcher.fromNullable(this._browserContextDispatcher,await B.race(this._object.response()))}}}class ResponseDispatcher extends Pe.Dispatcher{constructor(w,B){super(w,B,"Response",{request:w,url:B.url(),status:B.status(),statusText:B.statusText(),headers:B.headers(),timing:B.timing(),fromServiceWorker:B.fromServiceWorker()});this._type_Response=true}static from(w,B){const G=w.connection.existingDispatcher(B);const K=RequestDispatcher.from(w,B.request());return G||new ResponseDispatcher(K,B)}static fromNullable(w,B){return B?ResponseDispatcher.from(w,B):void 0}async body(w,B){return{binary:await B.race(this._object.body())}}async securityDetails(w,B){return{value:await B.race(this._object.securityDetails())||void 0}}async serverAddr(w,B){return{value:await B.race(this._object.serverAddr())||void 0}}async rawResponseHeaders(w,B){return{headers:await B.race(this._object.rawResponseHeaders())}}async sizes(w,B){return{sizes:await B.race(this._object.sizes())}}}class RouteDispatcher extends Pe.Dispatcher{constructor(w,B){super(w,B,"Route",{request:w});this._type_Route=true;this._handled=false}_checkNotHandled(){if(this._handled)throw new Error("Route is already handled!");this._handled=true}async continue(w,B){this._checkNotHandled();await this._object.continue({url:w.url,method:w.method,headers:w.headers,postData:w.postData,isFallback:w.isFallback})}async fulfill(w,B){this._checkNotHandled();await this._object.fulfill(w)}async abort(w,B){this._checkNotHandled();await this._object.abort(w.errorCode||"failed")}async redirectNavigationRequest(w,B){this._checkNotHandled();this._object.redirectNavigationRequest(w.url)}}class WebSocketDispatcher extends Pe.Dispatcher{constructor(w,B){super(w,B,"WebSocket",{url:B.url()});this._type_EventTarget=true;this._type_WebSocket=true;this.addObjectListener(Qe.WebSocket.Events.FrameSent,(w=>this._dispatchEvent("frameSent",w)));this.addObjectListener(Qe.WebSocket.Events.FrameReceived,(w=>this._dispatchEvent("frameReceived",w)));this.addObjectListener(Qe.WebSocket.Events.SocketError,(w=>this._dispatchEvent("socketError",{error:w})));this.addObjectListener(Qe.WebSocket.Events.Close,(()=>this._dispatchEvent("close",{})))}}class APIRequestContextDispatcher extends Pe.Dispatcher{constructor(w,B){const G=Le.TracingDispatcher.from(w,B.tracing());super(w,B,"APIRequestContext",{tracing:G});this._type_APIRequestContext=true;this.adopt(G)}static from(w,B){const G=w.connection.existingDispatcher(B);return G||new APIRequestContextDispatcher(w,B)}static fromNullable(w,B){return B?APIRequestContextDispatcher.from(w,B):void 0}async storageState(w,B){return await this._object.storageState(B,w.indexedDB)}async dispose(w,B){B.metadata.potentiallyClosesScope=true;await this._object.dispose(w);this._dispose()}async fetch(w,B){const G=await this._object.fetch(B,w);return{response:{url:G.url,status:G.status,statusText:G.statusText,headers:G.headers,fetchUid:G.fetchUid}}}async fetchResponseBody(w,B){return{binary:this._object.fetchResponses.get(w.fetchUid)}}async fetchLog(w,B){const G=this._object.fetchLog.get(w.fetchUid)||[];return{log:G}}async disposeAPIResponse(w,B){this._object.disposeResponse(w.fetchUid)}}0&&0},1995:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{BindingCallDispatcher:()=>BindingCallDispatcher,PageDispatcher:()=>PageDispatcher,WorkerDispatcher:()=>WorkerDispatcher});w.exports=__toCommonJS(Be);var Qe=G(1921);var Pe=G(208);var Fe=G(1009);var Me=G(7830);var Le=G(1352);var je=G(5733);var qe=G(5697);var We=G(5581);var Ge=G(5581);var ze=G(5581);var Ye=G(4100);var Ke=G(9814);var Xe=G(4376);class PageDispatcher extends Pe.Dispatcher{constructor(w,B){const G=je.FrameDispatcher.from(w,B.mainFrame());super(w,B,"Page",{mainFrame:G,viewportSize:B.emulatedSize()?.viewport,isClosed:B.isClosed(),opener:PageDispatcher.fromNullable(w,B.opener())});this._type_EventTarget=true;this._type_Page=true;this._subscriptions=new Set;this._webSocketInterceptionPatterns=[];this._bindings=[];this._initScripts=[];this._interceptionUrlMatchers=[];this._locatorHandlers=new Set;this._jsCoverageActive=false;this._cssCoverageActive=false;this.adopt(G);this._page=B;this._requestInterceptor=(w,B)=>{const G=this._interceptionUrlMatchers.some((w=>(0,Xe.urlMatches)(this._page.browserContext._options.baseURL,B.url(),w)));if(!G){w.continue({isFallback:true}).catch((()=>{}));return}this._dispatchEvent("route",{route:new ze.RouteDispatcher(We.RequestDispatcher.from(this.parentScope(),B),w)})};this.addObjectListener(Qe.Page.Events.Close,(()=>{this._dispatchEvent("close");this._dispose()}));this.addObjectListener(Qe.Page.Events.Crash,(()=>this._dispatchEvent("crash")));this.addObjectListener(Qe.Page.Events.Download,(B=>{this._dispatchEvent("download",{url:B.url,suggestedFilename:B.suggestedFilename(),artifact:Me.ArtifactDispatcher.from(w,B.artifact)})}));this.addObjectListener(Qe.Page.Events.EmulatedSizeChanged,(()=>this._dispatchEvent("viewportSizeChanged",{viewportSize:B.emulatedSize()?.viewport})));this.addObjectListener(Qe.Page.Events.FileChooser,(w=>this._dispatchEvent("fileChooser",{element:Le.ElementHandleDispatcher.from(G,w.element()),isMultiple:w.isMultiple()})));this.addObjectListener(Qe.Page.Events.FrameAttached,(w=>this._onFrameAttached(w)));this.addObjectListener(Qe.Page.Events.FrameDetached,(w=>this._onFrameDetached(w)));this.addObjectListener(Qe.Page.Events.LocatorHandlerTriggered,(w=>this._dispatchEvent("locatorHandlerTriggered",{uid:w})));this.addObjectListener(Qe.Page.Events.WebSocket,(w=>this._dispatchEvent("webSocket",{webSocket:new ze.WebSocketDispatcher(this,w)})));this.addObjectListener(Qe.Page.Events.Worker,(w=>this._dispatchEvent("worker",{worker:new WorkerDispatcher(this,w)})));this.addObjectListener(Qe.Page.Events.Video,(B=>this._dispatchEvent("video",{artifact:Me.ArtifactDispatcher.from(w,B)})));if(B.video)this._dispatchEvent("video",{artifact:Me.ArtifactDispatcher.from(this.parentScope(),B.video)});const K=B.frameManager.frames();for(let w=1;w<K.length;w++)this._onFrameAttached(K[w])}static from(w,B){return PageDispatcher.fromNullable(w,B)}static fromNullable(w,B){if(!B)return void 0;const G=w.connection.existingDispatcher(B);return G||new PageDispatcher(w,B)}page(){return this._page}serializeConsoleMessage(w){return{type:w.type(),text:w.text(),args:w.args().map((w=>{const B=w.asElement();if(B)return Le.ElementHandleDispatcher.from(je.FrameDispatcher.from(this.parentScope(),B._frame),B);return qe.JSHandleDispatcher.fromJSHandle(this,w)})),location:w.location()}}async exposeBinding(w,B){const G=await this._page.exposeBinding(B,w.name,!!w.needsHandle,((B,...G)=>{if(this._disposed)return;const K=new BindingCallDispatcher(this,w.name,!!w.needsHandle,B,G);this._dispatchEvent("bindingCall",{binding:K});return K.promise()}));this._bindings.push(G)}async setExtraHTTPHeaders(w,B){await this._page.setExtraHTTPHeaders(B,w.headers)}async reload(w,B){return{response:Ge.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.reload(B,w))}}async goBack(w,B){return{response:Ge.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.goBack(B,w))}}async goForward(w,B){return{response:Ge.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.goForward(B,w))}}async requestGC(w,B){await B.race(this._page.requestGC())}async registerLocatorHandler(w,B){const G=this._page.registerLocatorHandler(w.selector,w.noWaitAfter);this._locatorHandlers.add(G);return{uid:G}}async resolveLocatorHandlerNoReply(w,B){this._page.resolveLocatorHandler(w.uid,w.remove)}async unregisterLocatorHandler(w,B){this._page.unregisterLocatorHandler(w.uid);this._locatorHandlers.delete(w.uid)}async emulateMedia(w,B){await this._page.emulateMedia(B,{media:w.media,colorScheme:w.colorScheme,reducedMotion:w.reducedMotion,forcedColors:w.forcedColors,contrast:w.contrast})}async setViewportSize(w,B){await this._page.setViewportSize(B,w.viewportSize)}async addInitScript(w,B){this._initScripts.push(await this._page.addInitScript(B,w.source))}async setNetworkInterceptionPatterns(w,B){const G=this._interceptionUrlMatchers.length>0;if(!w.patterns.length){if(G)await this._page.removeRequestInterceptor(this._requestInterceptor);this._interceptionUrlMatchers=[]}else{this._interceptionUrlMatchers=w.patterns.map((w=>w.regexSource?new RegExp(w.regexSource,w.regexFlags):w.glob));if(!G)await this._page.addRequestInterceptor(B,this._requestInterceptor)}}async setWebSocketInterceptionPatterns(w,B){this._webSocketInterceptionPatterns=w.patterns;if(w.patterns.length&&!this._routeWebSocketInitScript)this._routeWebSocketInitScript=await Ye.WebSocketRouteDispatcher.install(B,this.connection,this._page)}async expectScreenshot(w,B){const G=(w.mask||[]).map((({frame:w,selector:B})=>({frame:w._object,selector:B})));const K=w.locator?{frame:w.locator.frame._object,selector:w.locator.selector}:void 0;return await this._page.expectScreenshot(B,{...w,locator:K,mask:G})}async screenshot(w,B){const G=(w.mask||[]).map((({frame:w,selector:B})=>({frame:w._object,selector:B})));return{binary:await this._page.screenshot(B,{...w,mask:G})}}async close(w,B){if(!w.runBeforeUnload)B.metadata.potentiallyClosesScope=true;await this._page.close(w)}async updateSubscription(w,B){if(w.event==="fileChooser")await this._page.setFileChooserInterceptedBy(w.enabled,this);if(w.enabled)this._subscriptions.add(w.event);else this._subscriptions.delete(w.event)}async keyboardDown(w,B){await this._page.keyboard.down(B,w.key)}async keyboardUp(w,B){await this._page.keyboard.up(B,w.key)}async keyboardInsertText(w,B){await this._page.keyboard.insertText(B,w.text)}async keyboardType(w,B){await this._page.keyboard.type(B,w.text,w)}async keyboardPress(w,B){await this._page.keyboard.press(B,w.key,w)}async consoleMessages(w,B){this._subscriptions.add("console");return{messages:this._page.consoleMessages().map((w=>this.serializeConsoleMessage(w)))}}async pageErrors(w,B){return{errors:this._page.pageErrors().map((w=>(0,Fe.serializeError)(w)))}}async mouseMove(w,B){B.metadata.point={x:w.x,y:w.y};await this._page.mouse.move(B,w.x,w.y,w)}async mouseDown(w,B){B.metadata.point=this._page.mouse.currentPoint();await this._page.mouse.down(B,w)}async mouseUp(w,B){B.metadata.point=this._page.mouse.currentPoint();await this._page.mouse.up(B,w)}async mouseClick(w,B){B.metadata.point={x:w.x,y:w.y};await this._page.mouse.click(B,w.x,w.y,w)}async mouseWheel(w,B){await this._page.mouse.wheel(B,w.deltaX,w.deltaY)}async touchscreenTap(w,B){B.metadata.point={x:w.x,y:w.y};await this._page.touchscreen.tap(B,w.x,w.y)}async accessibilitySnapshot(w,B){const G=await B.race(this._page.accessibility.snapshot({interestingOnly:w.interestingOnly,root:w.root?w.root._elementHandle:void 0}));return{rootAXNode:G||void 0}}async pdf(w,B){if(!this._page.pdf)throw new Error("PDF generation is only supported for Headless Chromium");const G=await B.race(this._page.pdf(w));return{pdf:G}}async requests(w,B){this._subscriptions.add("request");return{requests:this._page.networkRequests().map((w=>We.RequestDispatcher.from(this.parentScope(),w)))}}async snapshotForAI(w,B){return{snapshot:await this._page.snapshotForAI(B)}}async bringToFront(w,B){await B.race(this._page.bringToFront())}async startJSCoverage(w,B){const G=this._page.coverage;await G.startJSCoverage(B,w);this._jsCoverageActive=true}async stopJSCoverage(w,B){this._jsCoverageActive=false;const G=this._page.coverage;return await G.stopJSCoverage()}async startCSSCoverage(w,B){const G=this._page.coverage;await G.startCSSCoverage(B,w);this._cssCoverageActive=true}async stopCSSCoverage(w,B){this._cssCoverageActive=false;const G=this._page.coverage;return await G.stopCSSCoverage()}_onFrameAttached(w){this._dispatchEvent("frameAttached",{frame:je.FrameDispatcher.from(this.parentScope(),w)})}_onFrameDetached(w){this._dispatchEvent("frameDetached",{frame:je.FrameDispatcher.from(this.parentScope(),w)})}_onDispose(){if(this._page.isClosedOrClosingOrCrashed())return;this._interceptionUrlMatchers=[];this._page.removeRequestInterceptor(this._requestInterceptor).catch((()=>{}));this._page.removeExposedBindings(this._bindings).catch((()=>{}));this._bindings=[];this._page.removeInitScripts(this._initScripts).catch((()=>{}));this._initScripts=[];if(this._routeWebSocketInitScript)Ye.WebSocketRouteDispatcher.uninstall(this.connection,this._page,this._routeWebSocketInitScript).catch((()=>{}));this._routeWebSocketInitScript=void 0;for(const w of this._locatorHandlers)this._page.unregisterLocatorHandler(w);this._locatorHandlers.clear();this._page.setFileChooserInterceptedBy(false,this).catch((()=>{}));if(this._jsCoverageActive)this._page.coverage.stopJSCoverage().catch((()=>{}));this._jsCoverageActive=false;if(this._cssCoverageActive)this._page.coverage.stopCSSCoverage().catch((()=>{}));this._cssCoverageActive=false}}class WorkerDispatcher extends Pe.Dispatcher{constructor(w,B){super(w,B,"Worker",{url:B.url});this._type_Worker=true;this.addObjectListener(Qe.Worker.Events.Close,(()=>this._dispatchEvent("close")))}static fromNullable(w,B){if(!B)return void 0;const G=w.connection.existingDispatcher(B);return G||new WorkerDispatcher(w,B)}async evaluateExpression(w,B){return{value:(0,qe.serializeResult)(await B.race(this._object.evaluateExpression(w.expression,w.isFunction,(0,qe.parseArgument)(w.arg))))}}async evaluateExpressionHandle(w,B){return{handle:qe.JSHandleDispatcher.fromJSHandle(this,await B.race(this._object.evaluateExpressionHandle(w.expression,w.isFunction,(0,qe.parseArgument)(w.arg))))}}}class BindingCallDispatcher extends Pe.Dispatcher{constructor(w,B,G,K,pe){const ye=je.FrameDispatcher.from(w.parentScope(),K.frame);super(w,new Ke.SdkObject(w._object,"bindingCall"),"BindingCall",{frame:ye,name:B,args:G?void 0:pe.map(qe.serializeResult),handle:G?Le.ElementHandleDispatcher.fromJSOrElementHandle(ye,pe[0]):void 0});this._type_BindingCall=true;this._promise=new Promise(((w,B)=>{this._resolve=w;this._reject=B}))}promise(){return this._promise}async resolve(w,B){this._resolve((0,qe.parseArgument)(w.result));this._dispose()}async reject(w,B){this._reject((0,Fe.parseError)(w.error));this._dispose()}}0&&0},4603:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{PlaywrightDispatcher:()=>PlaywrightDispatcher});w.exports=__toCommonJS(Be);var Qe=G(863);var Pe=G(3736);var Fe=G(4451);var Me=G(4451);var Le=G(7799);var je=G(1332);var qe=G(208);var We=G(6030);var Ge=G(9520);var ze=G(5581);var Ye=G(9814);var Ke=G(6037);class PlaywrightDispatcher extends qe.Dispatcher{constructor(w,B,G={}){const K=G.denyLaunch??false;const pe=new je.BrowserTypeDispatcher(w,B.chromium,K);const ye=new je.BrowserTypeDispatcher(w,B.firefox,K);const Se=new je.BrowserTypeDispatcher(w,B.webkit,K);const Be=new je.BrowserTypeDispatcher(w,B._bidiChromium,K);const Qe=new je.BrowserTypeDispatcher(w,B._bidiFirefox,K);const Pe=new Fe.AndroidDispatcher(w,B.android);const qe={chromium:pe,firefox:ye,webkit:Se,_bidiChromium:Be,_bidiFirefox:Qe,android:Pe,electron:new We.ElectronDispatcher(w,B.electron,K),utils:B.options.isServer?void 0:new Ge.LocalUtilsDispatcher(w,B),socksSupport:G.socksProxy?new SocksSupportDispatcher(w,B,G.socksProxy):void 0};let ze;if(G.preLaunchedBrowser){const w=qe[G.preLaunchedBrowser.options.name];ze=new Le.BrowserDispatcher(w,G.preLaunchedBrowser,{ignoreStopAndKill:true,isolateContexts:!G.sharedBrowser});qe.preLaunchedBrowser=ze}if(G.preLaunchedAndroidDevice)qe.preConnectedAndroidDevice=new Me.AndroidDeviceDispatcher(Pe,G.preLaunchedAndroidDevice);super(w,B,"Playwright",qe);this._type_Playwright=true;this._browserDispatcher=ze}async newRequest(w,B){const G=new Pe.GlobalAPIRequestContext(this._object,w);return{request:ze.APIRequestContextDispatcher.from(this.parentScope(),G)}}async cleanup(){await(this._browserDispatcher?.cleanupContexts())}}class SocksSupportDispatcher extends qe.Dispatcher{constructor(w,B,G){super(w,new Ye.SdkObject(B,"socksSupport"),"SocksSupport",{});this._type_SocksSupport=true;this._socksProxy=G;this._socksListeners=[Ke.eventsHelper.addEventListener(G,Qe.SocksProxy.Events.SocksRequested,(w=>this._dispatchEvent("socksRequested",w))),Ke.eventsHelper.addEventListener(G,Qe.SocksProxy.Events.SocksData,(w=>this._dispatchEvent("socksData",w))),Ke.eventsHelper.addEventListener(G,Qe.SocksProxy.Events.SocksClosed,(w=>this._dispatchEvent("socksClosed",w)))]}async socksConnected(w,B){this._socksProxy?.socketConnected(w)}async socksFailed(w,B){this._socksProxy?.socketFailed(w)}async socksData(w,B){this._socksProxy?.sendSocketData(w)}async socksError(w,B){this._socksProxy?.sendSocketError(w)}async socksEnd(w,B){this._socksProxy?.sendSocketEnd(w)}_onDispose(){Ke.eventsHelper.removeEventListeners(this._socksListeners)}}0&&0},2304:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{StreamDispatcher:()=>StreamDispatcher});w.exports=__toCommonJS(Be);var Qe=G(208);var Pe=G(3587);var Fe=G(9814);class StreamSdkObject extends Fe.SdkObject{constructor(w,B){super(w,"stream");this.stream=B}}class StreamDispatcher extends Qe.Dispatcher{constructor(w,B){super(w,new StreamSdkObject(w._object,B),"Stream",{});this._type_Stream=true;this._ended=false;B.once("end",(()=>this._ended=true));B.once("error",(()=>this._ended=true))}async read(w,B){const G=this._object.stream;if(this._ended)return{binary:Buffer.from("")};if(!G.readableLength){const w=new Pe.ManualPromise;const done=()=>w.resolve();G.on("readable",done);G.on("end",done);G.on("error",done);await B.race(w).finally((()=>{G.off("readable",done);G.off("end",done);G.off("error",done)}))}const K=G.read(Math.min(G.readableLength,w.size||G.readableLength));return{binary:K||Buffer.from("")}}async close(w,B){this._object.stream.destroy()}}0&&0},1054:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{TracingDispatcher:()=>TracingDispatcher});w.exports=__toCommonJS(Be);var Qe=G(7830);var Pe=G(208);class TracingDispatcher extends Pe.Dispatcher{constructor(w,B){super(w,B,"Tracing",{});this._type_Tracing=true;this._started=false}static from(w,B){const G=w.connection.existingDispatcher(B);return G||new TracingDispatcher(w,B)}async tracingStart(w,B){this._object.start(w);this._started=true}async tracingStartChunk(w,B){return await this._object.startChunk(B,w)}async tracingGroup(w,B){const{name:G,location:K}=w;this._object.group(G,K,B.metadata)}async tracingGroupEnd(w,B){this._object.groupEnd()}async tracingStopChunk(w,B){const{artifact:G,entries:K}=await this._object.stopChunk(B,w);return{artifact:G?Qe.ArtifactDispatcher.from(this,G):void 0,entries:K}}async tracingStop(w,B){this._started=false;await this._object.stop(B)}_onDispose(){if(this._started)this._object.stopChunk(void 0,{mode:"discard"}).then((()=>this._object.stop(void 0))).catch((()=>{}));this._started=false}}0&&0},4100:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{WebSocketRouteDispatcher:()=>WebSocketRouteDispatcher});w.exports=__toCommonJS(Pe);var Fe=G(1921);var Me=G(208);var Le=G(1995);var je=__toESM(G(7632));var qe=G(9814);var We=G(4376);var Ge=G(6037);class WebSocketRouteDispatcher extends Me.Dispatcher{constructor(w,B,G,K){super(w,new qe.SdkObject(w._object,"webSocketRoute"),"WebSocketRoute",{url:G});this._type_WebSocketRoute=true;this._id=B;this._frame=K;this._eventListeners.push(Ge.eventsHelper.addEventListener(K._page,Fe.Page.Events.InternalFrameNavigatedToNewDocument,(w=>{if(w===this._frame)this._executionContextGone()})),Ge.eventsHelper.addEventListener(K._page,Fe.Page.Events.FrameDetached,(w=>{if(w===this._frame)this._executionContextGone()})),Ge.eventsHelper.addEventListener(K._page,Fe.Page.Events.Close,(()=>this._executionContextGone())),Ge.eventsHelper.addEventListener(K._page,Fe.Page.Events.Crash,(()=>this._executionContextGone())));WebSocketRouteDispatcher._idToDispatcher.set(this._id,this);w._dispatchEvent("webSocketRoute",{webSocketRoute:this})}static{this._idToDispatcher=new Map}static async install(w,B,G){const K=G instanceof Fe.Page?G.browserContext:G;let pe=K.getBindingClient(ze);if(pe&&pe.connection!==B)throw new Error("Another client is already routing WebSockets");if(!pe){pe={counter:0,connection:B,binding:null};pe.binding=await K.exposeBinding(w,ze,false,((w,G)=>{if(G.type==="onCreate"){const pe=B.existingDispatcher(K);const ye=pe?Le.PageDispatcher.fromNullable(pe,w.page):void 0;let Se;if(ye&&matchesPattern(ye,K._options.baseURL,G.url))Se=ye;else if(pe&&matchesPattern(pe,K._options.baseURL,G.url))Se=pe;if(Se){new WebSocketRouteDispatcher(Se,G.id,G.url,w.frame)}else{const B={id:G.id,type:"passthrough"};w.frame.evaluateExpression(`globalThis.__pwWebSocketDispatch(${JSON.stringify(B)})`).catch((()=>{}))}return}const pe=WebSocketRouteDispatcher._idToDispatcher.get(G.id);if(G.type==="onMessageFromPage")pe?._dispatchEvent("messageFromPage",{message:G.data.data,isBase64:G.data.isBase64});if(G.type==="onMessageFromServer")pe?._dispatchEvent("messageFromServer",{message:G.data.data,isBase64:G.data.isBase64});if(G.type==="onClosePage")pe?._dispatchEvent("closePage",{code:G.code,reason:G.reason,wasClean:G.wasClean});if(G.type==="onCloseServer")pe?._dispatchEvent("closeServer",{code:G.code,reason:G.reason,wasClean:G.wasClean})}),pe)}++pe.counter;return await G.addInitScript(w,`\n      (() => {\n        const module = {};\n        ${je.source}\n        (module.exports.inject())(globalThis);\n      })();\n    `)}static async uninstall(w,B,G){const K=B instanceof Fe.Page?B.browserContext:B;const pe=K.getBindingClient(ze);if(!pe||pe.connection!==w)return;if(--pe.counter<=0)await K.removeExposedBindings([pe.binding]);await B.removeInitScripts([G])}async connect(w,B){await this._evaluateAPIRequest(B,{id:this._id,type:"connect"})}async ensureOpened(w,B){await this._evaluateAPIRequest(B,{id:this._id,type:"ensureOpened"})}async sendToPage(w,B){await this._evaluateAPIRequest(B,{id:this._id,type:"sendToPage",data:{data:w.message,isBase64:w.isBase64}})}async sendToServer(w,B){await this._evaluateAPIRequest(B,{id:this._id,type:"sendToServer",data:{data:w.message,isBase64:w.isBase64}})}async closePage(w,B){await this._evaluateAPIRequest(B,{id:this._id,type:"closePage",code:w.code,reason:w.reason,wasClean:w.wasClean})}async closeServer(w,B){await this._evaluateAPIRequest(B,{id:this._id,type:"closeServer",code:w.code,reason:w.reason,wasClean:w.wasClean})}async _evaluateAPIRequest(w,B){await w.race(this._frame.evaluateExpression(`globalThis.__pwWebSocketDispatch(${JSON.stringify(B)})`).catch((()=>{})))}_onDispose(){WebSocketRouteDispatcher._idToDispatcher.delete(this._id)}_executionContextGone(){if(!this._disposed){this._dispatchEvent("closePage",{wasClean:true});this._dispatchEvent("closeServer",{wasClean:true})}}}function matchesPattern(w,B,G){for(const K of w._webSocketInterceptionPatterns||[]){const w=K.regexSource?new RegExp(K.regexSource,K.regexFlags):K.glob;if((0,We.urlMatches)(B,G,w,true))return true}return false}const ze="__pwWebSocketBinding";0&&0},6100:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{WritableStreamDispatcher:()=>WritableStreamDispatcher});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=G(208);var Le=G(9814);class WritableStreamSdkObject extends Le.SdkObject{constructor(w,B,G){super(w,"stream");this.streamOrDirectory=B;this.lastModifiedMs=G}}class WritableStreamDispatcher extends Me.Dispatcher{constructor(w,B,G){super(w,new WritableStreamSdkObject(w._object,B,G),"WritableStream",{});this._type_WritableStream=true}async write(w,B){if(typeof this._object.streamOrDirectory==="string")throw new Error("Cannot write to a directory");const G=this._object.streamOrDirectory;await B.race(new Promise(((B,K)=>{G.write(w.binary,(w=>{if(w)K(w);else B()}))})))}async close(w,B){if(typeof this._object.streamOrDirectory==="string")throw new Error("Cannot close a directory");const G=this._object.streamOrDirectory;await B.race(new Promise((w=>G.end(w))));if(this._object.lastModifiedMs)await B.race(Fe.default.promises.utimes(this.path(),new Date(this._object.lastModifiedMs),new Date(this._object.lastModifiedMs)))}path(){if(typeof this._object.streamOrDirectory==="string")return this._object.streamOrDirectory;return this._object.streamOrDirectory.path}}0&&0},7392:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{ElementHandle:()=>ElementHandle,FrameExecutionContext:()=>FrameExecutionContext,NonRecoverableDOMError:()=>NonRecoverableDOMError,assertDone:()=>assertDone,isNonRecoverableDOMError:()=>isNonRecoverableDOMError,kUnableToAdoptErrorMessage:()=>We,throwElementIsNotAttached:()=>throwElementIsNotAttached,throwRetargetableDOMError:()=>throwRetargetableDOMError});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(1485));var Le=G(7651);var je=G(7184);var qe=__toESM(G(780));class NonRecoverableDOMError extends Error{}function isNonRecoverableDOMError(w){return w instanceof NonRecoverableDOMError}class FrameExecutionContext extends Me.ExecutionContext{constructor(w,B,G){super(B,w,G||"content-script");this.frame=B;this.world=G}adoptIfNeeded(w){if(w instanceof ElementHandle&&w._context!==this)return this.frame._page.delegate.adoptElementHandle(w,this);return null}async evaluate(w,B){return Me.evaluate(this,true,w,B)}async evaluateHandle(w,B){return Me.evaluate(this,false,w,B)}async evaluateExpression(w,B,G){return Me.evaluateExpression(this,w,{...B,returnByValue:true},G)}async evaluateExpressionHandle(w,B,G){return Me.evaluateExpression(this,w,{...B,returnByValue:false},G)}injectedScript(){if(!this._injectedScriptPromise){const w=[];const B=this.frame._page.browserContext.selectors();for(const[G,{source:K}]of B._engines)w.push({name:G,source:`(${K})`});const G=this.frame._page.browserContext._browser.sdkLanguage();const K={isUnderTest:(0,Le.isUnderTest)(),sdkLanguage:G,testIdAttributeName:B.testIdAttributeName(),stableRafCount:this.frame._page.delegate.rafCountForStablePosition(),browserName:this.frame._page.browserContext._browser.options.name,isUtilityWorld:this.world==="utility",customEngines:w};const pe=`\n        (() => {\n        const module = {};\n        ${qe.source}\n        return new (module.exports.InjectedScript())(globalThis, ${JSON.stringify(K)});\n        })();\n      `;this._injectedScriptPromise=this.rawEvaluateHandle(pe).then((w=>{w._setPreview("InjectedScript");return w}))}return this._injectedScriptPromise}}class ElementHandle extends Me.JSHandle{constructor(w,B){super(w,"node",void 0,B);this.__elementhandle=true;this._page=w.frame._page;this._frame=w.frame;this._initializePreview().catch((w=>{}))}async _initializePreview(){const w=await this._context.injectedScript();this._setPreview(await w.evaluate(((w,B)=>"JSHandle@"+w.previewNode(B)),this))}asElement(){return this}async evaluateInUtility(w,B){try{const G=await this._frame._utilityContext();return await G.evaluate(w,[await G.injectedScript(),this,B])}catch(w){if(this._frame.isNonRetriableError(w))throw w;return"error:notconnected"}}async evaluateHandleInUtility(w,B){try{const G=await this._frame._utilityContext();return await G.evaluateHandle(w,[await G.injectedScript(),this,B])}catch(w){if(this._frame.isNonRetriableError(w))throw w;return"error:notconnected"}}async ownerFrame(){const w=await this._page.delegate.getOwnerFrame(this);if(!w)return null;const B=this._page.frameManager.frame(w);if(B)return B;for(const B of this._page.browserContext.pages()){const G=B.frameManager.frame(w);if(G)return G}return null}async isIframeElement(){return this.evaluateInUtility((([w,B])=>B&&(B.nodeName==="IFRAME"||B.nodeName==="FRAME")),{})}async contentFrame(){const w=throwRetargetableDOMError(await this.isIframeElement());if(!w)return null;return this._page.delegate.getContentFrame(this)}async getAttribute(w,B){return this._frame.getAttribute(w,":scope",B,{},this)}async inputValue(w){return this._frame.inputValue(w,":scope",{},this)}async textContent(w){return this._frame.textContent(w,":scope",{},this)}async innerText(w){return this._frame.innerText(w,":scope",{},this)}async innerHTML(w){return this._frame.innerHTML(w,":scope",{},this)}async dispatchEvent(w,B,G={}){return this._frame.dispatchEvent(w,":scope",B,G,{},this)}async _scrollRectIntoViewIfNeeded(w,B){return await w.race(this._page.delegate.scrollRectIntoViewIfNeeded(this,B))}async _waitAndScrollIntoViewIfNeeded(w,B){const G=await this._retryAction(w,"scroll into view",(async()=>{w.log(`  waiting for element to be stable`);const G=await w.race(this.evaluateInUtility((async([w,B,{waitForVisible:G}])=>await w.checkElementStates(B,G?["visible","stable"]:["stable"])),{waitForVisible:B}));if(G)return G;return await this._scrollRectIntoViewIfNeeded(w)}),{});assertDone(throwRetargetableDOMError(G))}async scrollIntoViewIfNeeded(w){await this._waitAndScrollIntoViewIfNeeded(w,false)}async _clickablePoint(){const intersectQuadWithViewport=w=>w.map((w=>({x:Math.min(Math.max(w.x,0),B.width),y:Math.min(Math.max(w.y,0),B.height)})));const computeQuadArea=w=>{let B=0;for(let G=0;G<w.length;++G){const K=w[G];const pe=w[(G+1)%w.length];B+=(K.x*pe.y-pe.x*K.y)/2}return Math.abs(B)};const[w,B]=await Promise.all([this._page.delegate.getContentQuads(this),this._page.mainFrame()._utilityContext().then((w=>w.evaluate((()=>({width:innerWidth,height:innerHeight})))))]);if(w==="error:notconnected")return w;if(!w||!w.length)return"error:notvisible";const G=w.map((w=>intersectQuadWithViewport(w))).filter((w=>computeQuadArea(w)>.99));if(!G.length)return"error:notinviewport";if(this._page.browserContext._browser.options.name==="firefox"){for(const w of G){const B=findIntegerPointInsideQuad(w);if(B)return B}}return quadMiddlePoint(G[0])}async _offsetPoint(w){const[B,G]=await Promise.all([this.boundingBox(),this.evaluateInUtility((([w,B])=>w.getElementBorderWidth(B)),{}).catch((w=>{}))]);if(!B||!G)return"error:notvisible";if(G==="error:notconnected")return G;return{x:B.x+G.left+w.x,y:B.y+G.top+w.y}}async _retryAction(w,B,G,K){let pe=0;const ye=[0,20,100,100,500];while(true){if(pe){w.log(`retrying ${B} action${K.trial?" (trial run)":""}`);const G=ye[Math.min(pe-1,ye.length-1)];if(G){w.log(`  waiting ${G}ms`);const B=await w.race(this.evaluateInUtility((([w,B,G])=>new Promise((w=>setTimeout(w,G)))),G));if(B==="error:notconnected")return B}}else{w.log(`attempting ${B} action${K.trial?" (trial run)":""}`)}if(!K.skipActionPreChecks&&!K.force)await this._frame._page.performActionPreChecks(w);const Se=await G(pe);++pe;if(Se==="error:notvisible"){if(K.force)throw new NonRecoverableDOMError("Element is not visible");w.log("  element is not visible");continue}if(Se==="error:notinviewport"){if(K.force)throw new NonRecoverableDOMError("Element is outside of the viewport");w.log("  element is outside of the viewport");continue}if(Se==="error:optionsnotfound"){w.log("  did not find some options");continue}if(Se==="error:optionnotenabled"){w.log("  option being selected is not enabled");continue}if(typeof Se==="object"&&"hitTargetDescription"in Se){w.log(`  ${Se.hitTargetDescription} intercepts pointer events`);continue}if(typeof Se==="object"&&"missingState"in Se){w.log(`  element is not ${Se.missingState}`);continue}return Se}}async _retryPointerAction(w,B,G,K,pe){const ye=B==="move and up";return await this._retryAction(w,B,(async ye=>{const Se=[void 0,{block:"end",inline:"end"},{block:"center",inline:"center"},{block:"start",inline:"start"}];const Be=Se[ye%Se.length];return await this._performPointerAction(w,B,G,K,Be,pe)}),{...pe,skipActionPreChecks:ye})}async _performPointerAction(w,B,G,K,pe,ye){const{force:Se=false,position:Be}=ye;const doScrollIntoView=async()=>{if(pe){return await this.evaluateInUtility((([w,B,G])=>{if(B.nodeType===1)B.scrollIntoView(G);return"done"}),pe)}return await this._scrollRectIntoViewIfNeeded(w,Be?{x:Be.x,y:Be.y,width:0,height:0}:void 0)};if(this._frame.parentFrame()){await w.race(doScrollIntoView().catch((()=>{})))}if(ye.__testHookBeforeStable)await w.race(ye.__testHookBeforeStable());if(!Se){const B=G?["visible","enabled","stable"]:["visible","stable"];w.log(`  waiting for element to be ${G?"visible, enabled and stable":"visible and stable"}`);const K=await w.race(this.evaluateInUtility((async([w,B,{elementStates:G}])=>await w.checkElementStates(B,G)),{elementStates:B}));if(K)return K;w.log(`  element is ${G?"visible, enabled and stable":"visible and stable"}`)}if(ye.__testHookAfterStable)await w.race(ye.__testHookAfterStable());w.log("  scrolling into view if needed");const Qe=await w.race(doScrollIntoView());if(Qe!=="done")return Qe;w.log("  done scrolling");const Pe=Be?await w.race(this._offsetPoint(Be)):await w.race(this._clickablePoint());if(typeof Pe==="string")return Pe;const Fe=roundPoint(Pe);w.metadata.point=Fe;await w.race(this.instrumentation.onBeforeInputAction(this,w.metadata));let Me;if(Se){w.log(`  forcing action`)}else{if(ye.__testHookBeforeHitTarget)await w.race(ye.__testHookBeforeHitTarget());const G=await w.race(this._checkFrameIsHitTarget(Fe));if(G==="error:notconnected"||"hitTargetDescription"in G)return G;const K=G.framePoint;const pe=B==="move and up"?"drag":B==="hover"||B==="tap"?B:"mouse";const Se=await w.race(this.evaluateHandleInUtility((([w,B,{actionType:G,hitPoint:K,trial:pe}])=>w.setupHitTargetInterceptor(B,G,K,pe)),{actionType:pe,hitPoint:K,trial:!!ye.trial}));if(Se==="error:notconnected")return Se;if(!Se._objectId){const w=Se.rawValue();if(w==="error:notconnected")return w;return{hitTargetDescription:w}}Me=Se}const Le=await this._page.frameManager.waitForSignalsCreatedBy(w,ye.waitAfter===true,(async()=>{if(ye.__testHookBeforePointerAction)await w.race(ye.__testHookBeforePointerAction());let G;if(ye&&ye.modifiers)G=await this._page.keyboard.ensureModifiers(w,ye.modifiers);w.log(`  performing ${B} action`);await K(Fe);if(G)await this._page.keyboard.ensureModifiers(w,G);if(Me){const B=this._frame.raceAgainstEvaluationStallingEvents((()=>Me.evaluate((w=>w.stop())))).catch((w=>"done")).finally((()=>{Me?.dispose()}));if(ye.waitAfter!==false){const G=await w.race(B);if(G!=="done")return G}}w.log(`  ${ye.trial?"trial ":""}${B} action done`);w.log("  waiting for scheduled navigations to finish");if(ye.__testHookAfterPointerAction)await w.race(ye.__testHookAfterPointerAction());return"done"})).finally((()=>{const w=Me?.evaluate((w=>w.stop())).catch((()=>{}));w?.then((()=>Me?.dispose()))}));if(Le!=="done")return Le;w.log("  navigations have finished");return"done"}async _markAsTargetElement(w){if(!w.metadata.id)return;await w.race(this.evaluateInUtility((([w,B,G])=>{if(B.nodeType===1)w.markTargetElements(new Set([B]),G)}),w.metadata.id))}async hover(w,B){await this._markAsTargetElement(w);const G=await this._hover(w,B);return assertDone(throwRetargetableDOMError(G))}_hover(w,B){return this._retryPointerAction(w,"hover",false,(B=>this._page.mouse.move(w,B.x,B.y)),{...B,waitAfter:"disabled"})}async click(w,B){await this._markAsTargetElement(w);const G=await this._click(w,{...B,waitAfter:!B.noWaitAfter});return assertDone(throwRetargetableDOMError(G))}_click(w,B){return this._retryPointerAction(w,"click",true,(G=>this._page.mouse.click(w,G.x,G.y,B)),B)}async dblclick(w,B){await this._markAsTargetElement(w);const G=await this._dblclick(w,B);return assertDone(throwRetargetableDOMError(G))}_dblclick(w,B){return this._retryPointerAction(w,"dblclick",true,(G=>this._page.mouse.click(w,G.x,G.y,{...B,clickCount:2})),{...B,waitAfter:"disabled"})}async tap(w,B){await this._markAsTargetElement(w);const G=await this._tap(w,B);return assertDone(throwRetargetableDOMError(G))}_tap(w,B){return this._retryPointerAction(w,"tap",true,(B=>this._page.touchscreen.tap(w,B.x,B.y)),{...B,waitAfter:"disabled"})}async selectOption(w,B,G,K){await this._markAsTargetElement(w);const pe=await this._selectOption(w,B,G,K);return throwRetargetableDOMError(pe)}async _selectOption(w,B,G,K){let pe=[];const ye=await this._retryAction(w,"select option",(async()=>{await w.race(this.instrumentation.onBeforeInputAction(this,w.metadata));if(!K.force)w.log(`  waiting for element to be visible and enabled`);const ye=[...B,...G];const Se=await w.race(this.evaluateInUtility((async([w,B,{optionsToSelect:G,force:K}])=>{if(!K){const G=await w.checkElementStates(B,["visible","enabled"]);if(G)return G}return w.selectOptions(B,G)}),{optionsToSelect:ye,force:K.force}));if(Array.isArray(Se)){w.log("  selected specified option(s)");pe=Se;return"done"}return Se}),K);if(ye==="error:notconnected")return ye;return pe}async fill(w,B,G){await this._markAsTargetElement(w);const K=await this._fill(w,B,G);assertDone(throwRetargetableDOMError(K))}async _fill(w,B,G){w.log(`  fill("${B}")`);return await this._retryAction(w,"fill",(async()=>{await w.race(this.instrumentation.onBeforeInputAction(this,w.metadata));if(!G.force)w.log("  waiting for element to be visible, enabled and editable");const K=await w.race(this.evaluateInUtility((async([w,B,{value:G,force:K}])=>{if(!K){const G=await w.checkElementStates(B,["visible","enabled","editable"]);if(G)return G}return w.fill(B,G)}),{value:B,force:G.force}));if(K==="needsinput"){if(B)await this._page.keyboard.insertText(w,B);else await this._page.keyboard.press(w,"Delete");return"done"}else{return K}}),G)}async selectText(w,B){const G=await this._retryAction(w,"selectText",(async()=>{if(!B.force)w.log("  waiting for element to be visible");return await w.race(this.evaluateInUtility((async([w,B,{force:G}])=>{if(!G){const G=await w.checkElementStates(B,["visible"]);if(G)return G}return w.selectText(B)}),{force:B.force}))}),B);assertDone(throwRetargetableDOMError(G))}async setInputFiles(w,B){const G=await w.race((0,je.prepareFilesForUpload)(this._frame,B));await this._markAsTargetElement(w);const K=await this._setInputFiles(w,G);return assertDone(throwRetargetableDOMError(K))}async _setInputFiles(w,B){const{filePayloads:G,localPaths:K,localDirectory:pe}=B;const ye=G&&G.length>1||K&&K.length>1;const Se=await w.race(this.evaluateHandleInUtility((([w,B,{multiple:G,directoryUpload:K}])=>{const pe=w.retarget(B,"follow-label");if(!pe)return;if(pe.tagName!=="INPUT")throw w.createStacklessError("Node is not an HTMLInputElement");const ye=pe;if(G&&!ye.multiple&&!ye.webkitdirectory)throw w.createStacklessError("Non-multiple file input can only accept single file");if(K&&!ye.webkitdirectory)throw w.createStacklessError("File input does not support directories, pass individual files instead");if(!K&&ye.webkitdirectory)throw w.createStacklessError("[webkitdirectory] input requires passing a path to a directory");return ye}),{multiple:ye,directoryUpload:!!pe}));if(Se==="error:notconnected"||!Se.asElement())return"error:notconnected";const Be=Se.asElement();await w.race(this.instrumentation.onBeforeInputAction(this,w.metadata));if(K||pe){const B=pe?[pe]:K;await w.race(Promise.all(B.map((w=>Fe.default.promises.access(w,Fe.default.constants.F_OK)))));const G=pe?this.evaluate((w=>new Promise((B=>{w.addEventListener("input",B,{once:true})})))).catch((()=>{})):Promise.resolve();await w.race(this._page.delegate.setInputFilePaths(Be,B));await w.race(G)}else{await w.race(Be.evaluateInUtility((([w,B,G])=>w.setInputFiles(B,G)),G))}return"done"}async focus(w){await this._markAsTargetElement(w);const B=await this._focus(w);return assertDone(throwRetargetableDOMError(B))}async _focus(w,B){return await w.race(this.evaluateInUtility((([w,B,G])=>w.focusNode(B,G)),B))}async _blur(w){return await w.race(this.evaluateInUtility((([w,B])=>w.blurNode(B)),{}))}async type(w,B,G){await this._markAsTargetElement(w);const K=await this._type(w,B,G);return assertDone(throwRetargetableDOMError(K))}async _type(w,B,G){w.log(`elementHandle.type("${B}")`);await w.race(this.instrumentation.onBeforeInputAction(this,w.metadata));const K=await this._focus(w,true);if(K!=="done")return K;await this._page.keyboard.type(w,B,G);return"done"}async press(w,B,G){await this._markAsTargetElement(w);const K=await this._press(w,B,G);return assertDone(throwRetargetableDOMError(K))}async _press(w,B,G){w.log(`elementHandle.press("${B}")`);await w.race(this.instrumentation.onBeforeInputAction(this,w.metadata));return this._page.frameManager.waitForSignalsCreatedBy(w,!G.noWaitAfter,(async()=>{const K=await this._focus(w,true);if(K!=="done")return K;await this._page.keyboard.press(w,B,G);return"done"}))}async check(w,B){const G=await this._setChecked(w,true,B);return assertDone(throwRetargetableDOMError(G))}async uncheck(w,B){const G=await this._setChecked(w,false,B);return assertDone(throwRetargetableDOMError(G))}async _setChecked(w,B,G){const isChecked=async()=>{const B=await w.race(this.evaluateInUtility((([w,B])=>w.elementState(B,"checked")),{}));if(B==="error:notconnected"||B.received==="error:notconnected")throwElementIsNotAttached();return{matches:B.matches,isRadio:B.isRadio}};await this._markAsTargetElement(w);const K=await isChecked();if(K.matches===B)return"done";if(!B&&K.isRadio)throw new NonRecoverableDOMError("Cannot uncheck radio button. Radio buttons can only be unchecked by selecting another radio button in the same group.");const pe=await this._click(w,{...G,waitAfter:"disabled"});if(pe!=="done")return pe;if(G.trial)return"done";const ye=await isChecked();if(ye.matches!==B)throw new NonRecoverableDOMError("Clicking the checkbox did not change its state");return"done"}async boundingBox(){return this._page.delegate.getBoundingBox(this)}async ariaSnapshot(){return await this.evaluateInUtility((([w,B])=>w.ariaSnapshot(B,{mode:"expect"})),{})}async screenshot(w,B){return await this._page.screenshotter.screenshotElement(w,this,B)}async querySelector(w,B){return this._frame.selectors.query(w,B,this)}async querySelectorAll(w){return this._frame.selectors.queryAll(w,this)}async evalOnSelector(w,B,G,K,pe){return this._frame.evalOnSelector(w,B,G,K,pe,this)}async evalOnSelectorAll(w,B,G,K){return this._frame.evalOnSelectorAll(w,B,G,K,this)}async isVisible(w){return this._frame.isVisible(w,":scope",{},this)}async isHidden(w){return this._frame.isHidden(w,":scope",{},this)}async isEnabled(w){return this._frame.isEnabled(w,":scope",{},this)}async isDisabled(w){return this._frame.isDisabled(w,":scope",{},this)}async isEditable(w){return this._frame.isEditable(w,":scope",{},this)}async isChecked(w){return this._frame.isChecked(w,":scope",{},this)}async waitForElementState(w,B){const G=`wait for ${B}`;const K=await this._retryAction(w,G,(async()=>await w.race(this.evaluateInUtility((async([w,B,G])=>await w.checkElementStates(B,[G])||"done"),B))),{});assertDone(throwRetargetableDOMError(K))}async waitForSelector(w,B,G){return await this._frame.waitForSelector(w,B,true,G,this)}async _adoptTo(w){if(this._context!==w){const B=await this._page.delegate.adoptElementHandle(this,w);this.dispose();return B}return this}async _checkFrameIsHitTarget(w){let B=this._frame;const G=[];while(B.parentFrame()){const K=await B.frameElement();const pe=await K.boundingBox();const ye=await K.evaluateInUtility((([w,B])=>w.describeIFrameStyle(B)),{}).catch((w=>"error:notconnected"));if(!pe||ye==="error:notconnected")return"error:notconnected";if(ye==="transformed"){return{framePoint:void 0}}const Se={x:w.x-pe.x-ye.left,y:w.y-pe.y-ye.top};G.push({frame:B,frameElement:K,pointInFrame:Se});B=B.parentFrame()}G.push({frame:B,frameElement:null,pointInFrame:w});for(let w=G.length-1;w>0;w--){const B=G[w-1].frameElement;const K=G[w].pointInFrame;const pe=await B.evaluateInUtility((([w,B,G])=>w.expectHitTarget(G,B)),K);if(pe!=="done")return pe}return{framePoint:G[0].pointInFrame}}}function throwRetargetableDOMError(w){if(w==="error:notconnected")throwElementIsNotAttached();return w}function throwElementIsNotAttached(){throw new Error("Element is not attached to the DOM")}function assertDone(w){}function roundPoint(w){return{x:(w.x*100|0)/100,y:(w.y*100|0)/100}}function quadMiddlePoint(w){const B={x:0,y:0};for(const G of w){B.x+=G.x/4;B.y+=G.y/4}return B}function triangleArea(w,B,G){return Math.abs(w.x*(B.y-G.y)+B.x*(G.y-w.y)+G.x*(w.y-B.y))/2}function isPointInsideQuad(w,B){const G=triangleArea(w,B[0],B[1])+triangleArea(w,B[1],B[2])+triangleArea(w,B[2],B[3])+triangleArea(w,B[3],B[0]);const K=triangleArea(B[0],B[1],B[2])+triangleArea(B[1],B[2],B[3]);if(Math.abs(G-K)>.1)return false;return w.x<Math.max(B[0].x,B[1].x,B[2].x,B[3].x)&&w.y<Math.max(B[0].y,B[1].y,B[2].y,B[3].y)}function findIntegerPointInsideQuad(w){const B=quadMiddlePoint(w);B.x=Math.floor(B.x);B.y=Math.floor(B.y);if(isPointInsideQuad(B,w))return B;B.x+=1;if(isPointInsideQuad(B,w))return B;B.y+=1;if(isPointInsideQuad(B,w))return B;B.x-=1;if(isPointInsideQuad(B,w))return B}const We="Unable to adopt element handle from a different document";0&&0},4954:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Download:()=>Download});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(6928));var Me=G(1921);var Le=G(7651);var je=G(4960);class Download{constructor(w,B,G,K,pe){const ye=w.browserContext._options.acceptDownloads==="deny"?"Pass { acceptDownloads: true } when you are creating your browser context.":void 0;this.artifact=new je.Artifact(w,Fe.default.join(B,G),ye,(()=>this._page.browserContext.cancelDownload(G)));this._page=w;this.url=K;this._suggestedFilename=pe;w.browserContext._downloads.add(this);if(pe!==void 0)this._fireDownloadEvent()}page(){return this._page}_filenameSuggested(w){(0,Le.assert)(this._suggestedFilename===void 0);this._suggestedFilename=w;this._fireDownloadEvent()}suggestedFilename(){return this._suggestedFilename}_fireDownloadEvent(){this._page.instrumentation.onDownload(this._page,this);this._page.emit(Me.Page.Events.Download,this)}}0&&0},79:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Electron:()=>Electron,ElectronApplication:()=>ElectronApplication});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(857));var Le=__toESM(G(6928));var je=__toESM(G(3785));var qe=G(7651);var We=G(3701);var Ge=G(5809);var ze=G(6037);var Ye=G(6609);var Ke=G(2986);var Xe=G(8443);var rt=G(5853);var it=G(4080);var ot=G(9117);var at=G(3062);var lt=G(9814);var ct=__toESM(G(1485));var ut=G(8719);var ft=G(189);const gt=Le.default.join(Me.default.tmpdir(),"playwright-artifacts-");class ElectronApplication extends lt.SdkObject{constructor(w,B,G,K){super(w,"electron-app");this._nodeElectronHandlePromise=new qe.ManualPromise;this._process=K;this._browserContext=B._defaultContext;this._nodeConnection=G;this._nodeSession=G.rootSession;this._nodeSession.on("Runtime.executionContextCreated",(async w=>{if(!w.context.auxData||!w.context.auxData.isDefault)return;const B=new rt.CRExecutionContext(this._nodeSession,w.context);this._nodeExecutionContext=new ct.ExecutionContext(this,B,"electron");const{result:G}=await B._client.send("Runtime.evaluate",{expression:`require('electron')`,contextId:w.context.id,includeCommandLineAPI:true});this._nodeElectronHandlePromise.resolve(new ct.JSHandle(this._nodeExecutionContext,"object","ElectronModule",G.objectId))}));this._nodeSession.on("Runtime.consoleAPICalled",(w=>this._onConsoleAPI(w)));const pe=new Promise((w=>this.once(ElectronApplication.Events.Close,w)));this._browserContext.setCustomCloseHandler((async()=>{await this._browserContext.stopVideoRecording();const w=await this._nodeElectronHandlePromise;await w.evaluate((({app:w})=>w.quit())).catch((()=>{}));this._nodeConnection.close();await pe}))}static{this.Events={Close:"close",Console:"console"}}async _onConsoleAPI(w){if(w.executionContextId===0){return}if(!this._nodeExecutionContext)return;const B=w.args.map((w=>(0,rt.createHandle)(this._nodeExecutionContext,w)));const G=new ot.ConsoleMessage(null,w.type,void 0,B,(0,it.toConsoleMessageLocation)(w.stackTrace));this.emit(ElectronApplication.Events.Console,G)}async initialize(){await this._nodeSession.send("Runtime.enable",{});await this._nodeSession.send("Runtime.evaluate",{expression:"__playwright_run()"})}process(){return this._process}context(){return this._browserContext}async close(){await this._browserContext.close({reason:"Application exited"})}async browserWindow(w){const B=w.delegate._targetId;const G=await this._nodeElectronHandlePromise;return await G.evaluateHandle((({BrowserWindow:w,webContents:B},G)=>{const K=B.fromDevToolsTargetId(G);return w.fromWebContents(K)}),B)}}class Electron extends lt.SdkObject{constructor(w){super(w,"electron");this.logName="browser"}async launch(w,B){let K=void 0;let pe=["--inspect=0","--remote-debugging-port=0",...B.args||[]];if(Me.default.platform()==="linux"){const w=process.geteuid&&process.geteuid()===0;if(w&&pe.indexOf("--no-sandbox")===-1)pe.unshift("--no-sandbox")}const ye=await w.race(Fe.default.promises.mkdtemp(gt));const Se=new Ge.RecentLogsCollector;const Be=B.env?(0,ut.envArrayToObject)(B.env):process.env;let Qe;if(B.executablePath){Qe=B.executablePath}else{try{Qe=G(8280)}catch(w){if(w?.code==="MODULE_NOT_FOUND"){throw new Error("\n"+(0,We.wrapInASCIIBox)(["Electron executablePath not found!","Please install it using `npm install -D electron` or set the executablePath to your Electron executable."].join("\n"),1))}throw w}pe.unshift("-r",4380)}let Pe=false;if(process.platform==="win32"){Pe=true;Qe=`"${Qe}"`;pe=pe.map((w=>`"${w}"`))}delete Be.NODE_OPTIONS;const{launchedProcess:Le,gracefullyClose:je,kill:qe}=await(0,ut.launchProcess)({command:Qe,args:pe,env:Be,log:B=>{w.log(B);Se.log(B)},shell:Pe,stdio:"pipe",cwd:B.cwd,tempDirectories:[ye],attemptToGracefullyClose:()=>K.close(),handleSIGINT:true,handleSIGTERM:true,handleSIGHUP:true,onExit:()=>K?.emit(ElectronApplication.Events.Close)});const ze=waitForLine(w,Le,/Unable to open X display/).then((()=>{throw new Error(["Unable to open X display!",`================================`,"Most likely this is because there is no X server available.","Use 'xvfb-run' on Linux to launch your tests with an emulated display server.","For example: 'xvfb-run npm run test:e2e'",`================================`,w.metadata.log].join("\n"))}));const rt=waitForLine(w,Le,/^Debugger listening on (ws:\/\/.*)$/);const it=waitForLine(w,Le,/^DevTools listening on (ws:\/\/.*)$/);const ot=waitForLine(w,Le,/Waiting for the debugger to disconnect\.\.\./);try{const G=await rt;const pe=await ft.WebSocketTransport.connect(w,G[1]);const Be=new Xe.CRConnection(this,pe,at.helper.debugProtocolLogger(),Se);ot.then((()=>{pe.close()})).catch((()=>{}));const Qe=await Promise.race([it,ze]);const Pe=await ft.WebSocketTransport.connect(w,Qe[1]);const Fe={onclose:void 0,process:Le,close:je,kill:qe};const Me={...B,noDefaultViewport:true};const We={name:"electron",isChromium:true,headful:true,persistent:Me,browserProcess:Fe,protocolLogger:at.helper.debugProtocolLogger(),browserLogsCollector:Se,artifactsDir:ye,downloadsPath:ye,tracesDir:B.tracesDir||ye,originalLaunchOptions:{}};(0,Ye.validateBrowserContextOptions)(Me,We);const Ge=await w.race(Ke.CRBrowser.connect(this.attribution.playwright,Pe,We));K=new ElectronApplication(this,Ge,Be,Le);await w.race(K.initialize());return K}catch(w){await qe();throw w}}}async function waitForLine(w,B,G){const K=new qe.ManualPromise;const pe=je.createInterface({input:B.stderr});const ye=new Error("Process failed to launch!");const Se=[ze.eventsHelper.addEventListener(pe,"line",onLine),ze.eventsHelper.addEventListener(pe,"close",(()=>K.reject(ye))),ze.eventsHelper.addEventListener(B,"exit",(()=>K.reject(ye))),ze.eventsHelper.addEventListener(B,"error",(()=>K.reject(ye)))];function onLine(w){const B=w.match(G);if(B)K.resolve(B)}try{return await w.race(K)}finally{ze.eventsHelper.removeEventListeners(Se)}}0&&0},4380:(w,B,G)=>{"use strict";const{app:K}=G(756);const{chromiumSwitches:pe}=G(7213);process.argv.splice(1,process.argv.indexOf("--remote-debugging-port=0"));for(const w of pe()){const B=w.match(/--([^=]*)=?(.*)/);K.commandLine.appendSwitch(B[1],B[2])}const ye=K.whenReady();const Se=K.emit.bind(K);let Be;K.emit=(w,...B)=>{if(w==="ready"){Be=B;return K.listenerCount("ready")>0}return Se(w,...B)};let Qe=false;let Pe;const Fe=new Promise((w=>Pe=w));K.isReady=()=>Qe;K.whenReady=()=>Fe;globalThis.__playwright_run=async()=>{const w=await ye;Qe=true;Pe(w);Se("ready",...Be)}},1009:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{TargetClosedError:()=>TargetClosedError,TimeoutError:()=>TimeoutError,isTargetClosedError:()=>isTargetClosedError,parseError:()=>parseError,serializeError:()=>serializeError});w.exports=__toCommonJS(Be);var Qe=G(1038);var Pe=G(7651);class CustomError extends Error{constructor(w){super(w);this.name=this.constructor.name}}class TimeoutError extends CustomError{}class TargetClosedError extends CustomError{constructor(w,B){super((w||"Target page, context or browser has been closed")+(B||""))}}function isTargetClosedError(w){return w instanceof TargetClosedError||w.name==="TargetClosedError"}function serializeError(w){if((0,Pe.isError)(w))return{error:{message:w.message,stack:w.stack,name:w.name}};return{value:(0,Qe.serializeValue)(w,(w=>({fallThrough:w})))}}function parseError(w){if(!w.error){if(w.value===void 0)throw new Error("Serialized error must have either an error or a value");return(0,Qe.parseSerializedValue)(w.value,void 0)}const B=new Error(w.error.message);B.stack=w.error.stack||"";B.name=w.error.name;return B}0&&0},3736:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{APIRequestContext:()=>APIRequestContext,BrowserContextAPIRequestContext:()=>BrowserContextAPIRequestContext,GlobalAPIRequestContext:()=>GlobalAPIRequestContext});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(8611));var Me=__toESM(G(5692));var Le=G(2203);var je=G(4756);var qe=__toESM(G(3106));var We=G(7651);var Ge=G(6741);var ze=G(818);var Ye=G(6609);var Ke=G(7407);var Xe=G(5604);var rt=G(9814);var it=G(6665);var ot=G(8451);var at=G(3217);var lt=G(5235);class APIRequestContext extends rt.SdkObject{constructor(w){super(w,"request-context");this.fetchResponses=new Map;this.fetchLog=new Map;APIRequestContext.allInstances.add(this)}static{this.Events={Dispose:"dispose",Request:"request",RequestFinished:"requestfinished"}}static{this.allInstances=new Set}static findResponseBody(w){for(const B of APIRequestContext.allInstances){const G=B.fetchResponses.get(w);if(G)return G}return void 0}_disposeImpl(){APIRequestContext.allInstances.delete(this);this.fetchResponses.clear();this.fetchLog.clear();this.emit(APIRequestContext.Events.Dispose)}disposeResponse(w){this.fetchResponses.delete(w);this.fetchLog.delete(w)}_storeResponseBody(w){const B=(0,Ge.createGuid)();this.fetchResponses.set(B,w);return B}async fetch(w,B){const G=this._defaultOptions();const K={"user-agent":G.userAgent,accept:"*/*","accept-encoding":"gzip,deflate,br"};if(G.extraHTTPHeaders){for(const{name:w,value:B}of G.extraHTTPHeaders)setHeader(K,w,B)}if(B.headers){for(const{name:w,value:G}of B.headers)setHeader(K,w,G)}const pe=new URL((0,We.constructURLBasedOnBaseURL)(G.baseURL,B.url));if(B.encodedParams){pe.search=B.encodedParams}else if(B.params){for(const{name:w,value:G}of B.params)pe.searchParams.append(w,G)}const ye=this._getHttpCredentials(pe);if(ye?.send==="always")setBasicAuthorizationHeader(K,ye);const Se=B.method?.toUpperCase()||"GET";const Be=G.proxy;let Qe;if(Be?.server!=="per-context")Qe=(0,We.createProxyAgent)(Be,pe);let Pe=B.maxRedirects??(G.maxRedirects??20);Pe=Pe===0?-1:Pe;const Fe={method:Se,headers:K,agent:Qe,maxRedirects:Pe,...(0,ot.getMatchingTLSOptionsForOrigin)(this._defaultOptions().clientCertificates,pe.origin),__testHookLookup:B.__testHookLookup};if(B.ignoreHTTPSErrors||G.ignoreHTTPSErrors)Fe.rejectUnauthorized=false;const Me=serializePostData(B,K);if(Me)setHeader(K,"content-length",String(Me.byteLength));const Le=await this._sendRequestWithRetries(w,pe,Fe,Me,B.maxRetries);const je=this._storeResponseBody(Le.body);this.fetchLog.set(je,w.metadata.log);const qe=B.failOnStatusCode!==void 0?B.failOnStatusCode:!!G.failOnStatusCode;if(qe&&(Le.status<200||Le.status>=400)){let w="";if(Le.body.byteLength){let B=Le.body.toString("utf8");if(B.length>1e3)B=B.substring(0,997)+"...";w=`\nResponse text:\n${B}`}throw new Error(`${Le.status} ${Le.statusText}${w}`)}return{...Le,fetchUid:je}}_parseSetCookieHeader(w,B){if(!B)return[];const G=new URL(w);const K="/"+G.pathname.substr(1).split("/").slice(0,-1).join("/");const pe=[];for(const w of B){const B=parseCookie(w);if(!B)continue;if(!B.domain)B.domain=G.hostname;else(0,We.assert)(B.domain.startsWith(".")||!B.domain.includes("."));if(!(0,Ke.domainMatches)(G.hostname,B.domain))continue;if(!B.path||!B.path.startsWith("/"))B.path=K;pe.push(B)}return pe}async _updateRequestCookieHeader(w,B,G){if(getHeader(G,"cookie")!==void 0)return;const K=await w.race(this._cookies(B));const pe=K.filter((w=>new Ke.Cookie(w).matches(B)));if(pe.length){const w=pe.map((w=>`${w.name}=${w.value}`));setHeader(G,"cookie",w.join("; "))}}async _sendRequestWithRetries(w,B,G,K,pe){pe??=0;let ye=250;for(let Se=0;Se<=pe;Se++){try{return await this._sendRequest(w,B,G,K)}catch(B){if((0,it.isAbortError)(B))throw B;B=(0,ot.rewriteOpenSSLErrorIfNeeded)(B);if(pe===0)throw B;if(Se===pe)throw new Error(`Failed after ${Se+1} attempt(s): ${B}`);if(B.code!=="ECONNRESET")throw B;w.log(`  Received ECONNRESET, will retry after ${ye}ms.`);await w.wait(ye);ye*=2}}throw new Error("Unreachable")}async _sendRequest(w,B,G,K){await this._updateRequestCookieHeader(w,B,G.headers);const pe=getHeader(G.headers,"cookie")?.split(";").map((w=>{const[B,G]=w.split("=").map((w=>w.trim()));return{name:B,value:G}}))||[];const ye={url:B,method:G.method,headers:G.headers,cookies:pe,postData:K};this.emit(APIRequestContext.Events.Request,ye);let Se;const Be=new Promise(((pe,Be)=>{const Qe=(B.protocol==="https:"?Me.default:Fe.default).request;const Pe=G.agent||(B.protocol==="https:"?at.httpsHappyEyeballsAgent:at.httpHappyEyeballsAgent);const Ge={...G,agent:Pe};const ze=(0,We.monotonicTime)();let Ye;let Ke;let Xe;let rt;let it;let lt;let ut;let ft;const gt=[];const mt=Qe(B,Ge,(async Se=>{const Qe=(0,We.monotonicTime)();const notifyRequestFinished=w=>{const B=(0,We.monotonicTime)();const G=rt??Xe;const K={send:it-ze,wait:Qe-it,receive:B-Qe,dns:Ke?Ke-ze:-1,connect:G?G-ze:-1,ssl:rt?rt-Xe:-1,blocked:Ye?Ye-ze:-1};const pe={requestEvent:ye,httpVersion:Se.httpVersion,statusCode:Se.statusCode||0,statusMessage:Se.statusMessage||"",headers:Se.headers,rawHeaders:Se.rawHeaders,cookies:Pe,body:w,timings:K,serverIPAddress:lt,serverPort:ut,securityDetails:ft};this.emit(APIRequestContext.Events.RequestFinished,pe)};w.log(` ${Se.statusCode} ${Se.statusMessage}`);for(const[B,G]of Object.entries(Se.headers))w.log(`  ${B}: ${G}`);const Pe=this._parseSetCookieHeader(Se.url||B.toString(),Se.headers["set-cookie"]);if(Pe.length){try{await this._addCookies(Pe)}catch(w){await Promise.all(Pe.map((w=>this._addCookies([w]).catch((()=>{})))))}}if(ct.includes(Se.statusCode)&&G.maxRedirects>=0){if(G.maxRedirects===0){Be(new Error("Max redirect count exceeded"));mt.destroy();return}const ye={...G.headers};removeHeader(ye,`cookie`);const Qe=Se.statusCode;let Pe=G.method;if((Qe===301||Qe===302)&&Pe==="POST"||Qe===303&&!["GET","HEAD"].includes(Pe)){Pe="GET";K=void 0;removeHeader(ye,`content-encoding`);removeHeader(ye,`content-language`);removeHeader(ye,`content-length`);removeHeader(ye,`content-location`);removeHeader(ye,`content-type`)}const Fe={method:Pe,headers:ye,agent:G.agent,maxRedirects:G.maxRedirects-1,...(0,ot.getMatchingTLSOptionsForOrigin)(this._defaultOptions().clientCertificates,B.origin),__testHookLookup:G.__testHookLookup};if(G.rejectUnauthorized===false)Fe.rejectUnauthorized=false;const Me=Buffer.from(Se.headers.location??"","latin1").toString("utf8");if(Me){let G;try{G=new URL(Me,B)}catch(w){Be(new Error(`uri requested responds with an invalid redirect URL: ${Me}`));mt.destroy();return}if(ye["host"])ye["host"]=G.host;notifyRequestFinished();pe(this._sendRequest(w,G,Fe,K));mt.destroy();return}}if(Se.statusCode===401&&!getHeader(G.headers,"authorization")){const ye=Se.headers["www-authenticate"];const Be=this._getHttpCredentials(B);if(ye?.trim().startsWith("Basic")&&Be){setBasicAuthorizationHeader(G.headers,Be);notifyRequestFinished();pe(this._sendRequest(w,B,G,K));mt.destroy();return}}Se.on("aborted",(()=>Be(new Error("aborted"))));const Fe=[];const notifyBodyFinished=()=>{const w=Buffer.concat(Fe);notifyRequestFinished(w);pe({url:Se.url||B.toString(),status:Se.statusCode||0,statusText:Se.statusMessage||"",headers:toHeadersArray(Se.rawHeaders),body:w})};let Me=Se;let je;const Ge=Se.headers["content-encoding"];if(Ge==="gzip"||Ge==="x-gzip"){je=qe.createGunzip({flush:qe.constants.Z_SYNC_FLUSH,finishFlush:qe.constants.Z_SYNC_FLUSH})}else if(Ge==="br"){je=qe.createBrotliDecompress({flush:qe.constants.BROTLI_OPERATION_FLUSH,finishFlush:qe.constants.BROTLI_OPERATION_FLUSH})}else if(Ge==="deflate"){je=qe.createInflate()}if(je){const w=new SafeEmptyStreamTransform(notifyBodyFinished);Me=(0,Le.pipeline)(Se,w,je,(w=>{if(w)Be(new Error(`failed to decompress '${Ge}' encoding: ${w.message}`))}));Me.on("error",(w=>Be(new Error(`failed to decompress '${Ge}' encoding: ${w}`))))}else{Me.on("error",Be)}Me.on("data",(w=>Fe.push(w)));Me.on("end",notifyBodyFinished)}));mt.on("error",Be);Se=()=>mt.destroy();gt.push(We.eventsHelper.addEventListener(this,APIRequestContext.Events.Dispose,(()=>{Be(new Error("Request context disposed."));mt.destroy()})));mt.on("close",(()=>We.eventsHelper.removeEventListeners(gt)));mt.on("socket",(w=>{if(mt.reusedSocket){Ye=(0,We.monotonicTime)();return}const B=(0,at.timingForSocket)(w);Ke=B.dnsLookupAt;Xe=B.tcpConnectionAt;gt.push(We.eventsHelper.addEventListener(w,"lookup",(()=>{Ke=(0,We.monotonicTime)()})),We.eventsHelper.addEventListener(w,"connect",(()=>{Xe=(0,We.monotonicTime)()})),We.eventsHelper.addEventListener(w,"secureConnect",(()=>{rt=(0,We.monotonicTime)();if(w instanceof je.TLSSocket){const B=w.getPeerCertificate();ft={protocol:w.getProtocol()??void 0,subjectName:B.subject.CN,validFrom:new Date(B.valid_from).getTime()/1e3,validTo:new Date(B.valid_to).getTime()/1e3,issuer:B.issuer.CN}}})));lt=w.remoteAddress;ut=w.remotePort}));mt.on("finish",(()=>{it=(0,We.monotonicTime)()}));w.log(` ${G.method} ${B.toString()}`);if(G.headers){for(const[B,K]of Object.entries(G.headers))w.log(`  ${B}: ${K}`)}if(K)mt.write(K);mt.end()}));return w.race(Be).catch((w=>{Se?.();throw w}))}_getHttpCredentials(w){if(!this._defaultOptions().httpCredentials?.origin||w.origin.toLowerCase()===this._defaultOptions().httpCredentials?.origin?.toLowerCase())return this._defaultOptions().httpCredentials;return void 0}}class SafeEmptyStreamTransform extends Le.Transform{constructor(w){super();this._receivedSomeData=false;this._onEmptyStreamCallback=w}_transform(w,B,G){this._receivedSomeData=true;G(null,w)}_flush(w){if(this._receivedSomeData)w(null);else this._onEmptyStreamCallback()}}class BrowserContextAPIRequestContext extends APIRequestContext{constructor(w){super(w);this._context=w;w.once(Ye.BrowserContext.Events.Close,(()=>this._disposeImpl()))}tracing(){return this._context.tracing}async dispose(w){this._closeReason=w.reason;this.fetchResponses.clear()}_defaultOptions(){return{userAgent:this._context._options.userAgent||this._context._browser.userAgent(),extraHTTPHeaders:this._context._options.extraHTTPHeaders,failOnStatusCode:void 0,httpCredentials:this._context._options.httpCredentials,proxy:this._context._options.proxy||this._context._browser.options.proxy,ignoreHTTPSErrors:this._context._options.ignoreHTTPSErrors,baseURL:this._context._options.baseURL,clientCertificates:this._context._options.clientCertificates}}async _addCookies(w){await this._context.addCookies(w)}async _cookies(w){return await this._context.cookies(w.toString())}async storageState(w,B){return this._context.storageState(w,B)}}class GlobalAPIRequestContext extends APIRequestContext{constructor(w,B){super(w);this._cookieStore=new Ke.CookieStore;this.attribution.context=this;if(B.storageState){this._origins=B.storageState.origins?.map((w=>({indexedDB:[],...w})));this._cookieStore.addCookies(B.storageState.cookies||[])}(0,Ye.verifyClientCertificates)(B.clientCertificates);this._options={baseURL:B.baseURL,userAgent:B.userAgent||(0,ze.getUserAgent)(),extraHTTPHeaders:B.extraHTTPHeaders,failOnStatusCode:!!B.failOnStatusCode,ignoreHTTPSErrors:!!B.ignoreHTTPSErrors,maxRedirects:B.maxRedirects,httpCredentials:B.httpCredentials,clientCertificates:B.clientCertificates,proxy:B.proxy};this._tracing=new lt.Tracing(this,B.tracesDir)}tracing(){return this._tracing}async dispose(w){this._closeReason=w.reason;await this._tracing.flush();await this._tracing.deleteTmpTracesDir();this._disposeImpl()}_defaultOptions(){return this._options}async _addCookies(w){this._cookieStore.addCookies(w)}async _cookies(w){return this._cookieStore.cookies(w)}async storageState(w,B=false){return{cookies:this._cookieStore.allCookies(),origins:(this._origins||[]).map((w=>({...w,indexedDB:B?w.indexedDB:[]})))}}}function toHeadersArray(w){const B=[];for(let G=0;G<w.length;G+=2)B.push({name:w[G],value:w[G+1]});return B}const ct=[301,302,303,307,308];function parseCookie(w){const B=(0,Ke.parseRawCookie)(w);if(!B)return null;const G={domain:"",path:"",expires:-1,httpOnly:false,secure:false,sameSite:"Lax",...B};return G}function serializePostData(w,B){(0,We.assert)((w.postData?1:0)+(w.jsonData?1:0)+(w.formData?1:0)+(w.multipartData?1:0)<=1,`Only one of 'data', 'form' or 'multipart' can be specified`);if(w.jsonData!==void 0){setHeader(B,"content-type","application/json",true);return Buffer.from(w.jsonData,"utf8")}else if(w.formData){const G=new URLSearchParams;for(const{name:B,value:K}of w.formData)G.append(B,K);setHeader(B,"content-type","application/x-www-form-urlencoded",true);return Buffer.from(G.toString(),"utf8")}else if(w.multipartData){const G=new Xe.MultipartFormData;for(const B of w.multipartData){if(B.file)G.addFileField(B.name,B.file);else if(B.value)G.addField(B.name,B.value)}setHeader(B,"content-type",G.contentTypeHeader(),true);return G.finish()}else if(w.postData!==void 0){setHeader(B,"content-type","application/octet-stream",true);return w.postData}return void 0}function setHeader(w,B,G,K=false){const pe=Object.entries(w).find((w=>w[0].toLowerCase()===B.toLowerCase()));if(!pe)w[B]=G;else if(!K)w[pe[0]]=G}function getHeader(w,B){const G=Object.entries(w).find((w=>w[0].toLowerCase()===B.toLowerCase()));return G?G[1]:void 0}function removeHeader(w,B){delete w[B]}function setBasicAuthorizationHeader(w,B){const{username:G,password:K}=B;const pe=Buffer.from(`${G||""}:${K||""}`).toString("base64");setHeader(w,"authorization",`Basic ${pe}`)}0&&0},6779:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{FileChooser:()=>FileChooser});w.exports=__toCommonJS(ye);class FileChooser{constructor(w,B,G){this._page=w;this._elementHandle=B;this._isMultiple=G}element(){return this._elementHandle}isMultiple(){return this._isMultiple}page(){return this._page}}0&&0},7184:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{fileUploadSizeLimit:()=>qe,prepareFilesForUpload:()=>prepareFilesForUpload});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(8164);var je=G(4331);const qe=50*1024*1024;async function filesExceedUploadLimit(w){const B=await Promise.all(w.map((async w=>(await Fe.default.promises.stat(w)).size)));return B.reduce(((w,B)=>w+B),0)>=qe}async function prepareFilesForUpload(w,B){const{payloads:G,streams:K,directoryStream:pe}=B;let{localPaths:ye,localDirectory:Se}=B;if([G,ye,Se,K,pe].filter(Boolean).length!==1)throw new Error("Exactly one of payloads, localPaths and streams must be provided");if(K)ye=K.map((w=>w.path()));if(pe)Se=pe.path();if(ye){for(const w of ye)(0,Le.assert)(Me.default.isAbsolute(w)&&Me.default.resolve(w)===w,"Paths provided to localPaths must be absolute and fully resolved.")}let Be=G;if(!w._page.browserContext._browser._isCollocatedWithServer){if(ye){if(await filesExceedUploadLimit(ye))throw new Error("Cannot transfer files larger than 50Mb to a browser not co-located with the server");Be=await Promise.all(ye.map((async w=>({name:Me.default.basename(w),buffer:await Fe.default.promises.readFile(w),lastModifiedMs:(await Fe.default.promises.stat(w)).mtimeMs}))));ye=void 0}}const Qe=Be?.map((w=>({name:w.name,mimeType:w.mimeType||je.mime.getType(w.name)||"application/octet-stream",buffer:w.buffer.toString("base64"),lastModifiedMs:w.lastModifiedMs})));return{localPaths:ye,localDirectory:Se,filePayloads:Qe}}0&&0},9642:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{getAccessibilityTree:()=>getAccessibilityTree});w.exports=__toCommonJS(ye);async function getAccessibilityTree(w,B){const G=B?B._objectId:void 0;const{tree:K}=await w.send("Accessibility.getFullAXTree",{objectId:G});const pe=new FFAXNode(K);return{tree:pe,needle:B?pe._findNeedle():null}}const Se=new Map(Object.entries({pushbutton:"button",checkbutton:"checkbox",editcombobox:"combobox","content deletion":"deletion",footnote:"doc-footnote","non-native document":"document",grouping:"group",graphic:"img","content insertion":"insertion",animation:"marquee","flat equation":"math",menupopup:"menu","check menu item":"menuitemcheckbox","radio menu item":"menuitemradio","listbox option":"option",radiobutton:"radio",statusbar:"status",pagetab:"tab",pagetablist:"tablist",propertypage:"tabpanel",entry:"textbox",outline:"tree","tree table":"treegrid",outlineitem:"treeitem"}));class FFAXNode{constructor(w){this._payload=w;this._children=(w.children||[]).map((w=>new FFAXNode(w)));this._editable=!!w.editable;this._richlyEditable=this._editable&&(w.tag!=="textarea"&&w.tag!=="input");this._focusable=!!w.focusable;this._expanded=!!w.expanded;this._name=this._payload.name;this._role=this._payload.role}_isPlainTextField(){if(this._richlyEditable)return false;if(this._editable)return true;return this._role==="entry"}_isTextOnlyObject(){const w=this._role;return w==="text leaf"||w==="text"||w==="statictext"}_hasFocusableChild(){if(this._cachedHasFocusableChild===void 0){this._cachedHasFocusableChild=false;for(const w of this._children){if(w._focusable||w._hasFocusableChild()){this._cachedHasFocusableChild=true;break}}}return this._cachedHasFocusableChild}children(){return this._children}_findNeedle(){if(this._payload.foundObject)return this;for(const w of this._children){const B=w._findNeedle();if(B)return B}return null}isLeafNode(){if(!this._children.length)return true;if(this._isPlainTextField()||this._isTextOnlyObject())return true;switch(this._role){case"graphic":case"scrollbar":case"slider":case"separator":case"progressbar":return true;default:break}if(this._hasFocusableChild())return false;if(this._focusable&&this._role!=="document"&&this._name)return true;if(this._role==="heading"&&this._name)return true;return false}isControl(){switch(this._role){case"checkbutton":case"check menu item":case"check rich option":case"combobox":case"combobox option":case"color chooser":case"listbox":case"listbox option":case"listbox rich option":case"popup menu":case"menupopup":case"menuitem":case"menubar":case"button":case"pushbutton":case"radiobutton":case"radio menuitem":case"scrollbar":case"slider":case"spinbutton":case"switch":case"pagetab":case"entry":case"tree table":return true;default:return false}}isInteresting(w){if(this._focusable||this._richlyEditable)return true;if(this.isControl())return true;if(w)return false;return this.isLeafNode()&&!!this._name.trim()}serialize(){const w={role:Se.get(this._role)||this._role,name:this._name||""};const B=["name","description","roledescription","valuetext","keyshortcuts"];for(const G of B){if(!(G in this._payload))continue;w[G]=this._payload[G]}const G=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"];for(const B of G){if(this._role==="document"&&B==="focused")continue;const G=this._payload[B];if(!G)continue;w[B]=G}const K=["level"];for(const B of K){if(!(B in this._payload))continue;w[B]=this._payload[B]}const pe=["autocomplete","haspopup","orientation"];for(const B of pe){const G=this._payload[B];if(!G||G==="false")continue;w[B]=G}const ye=w;ye.valueString=this._payload.value;if("checked"in this._payload)ye.checked=this._payload.checked===true?"checked":this._payload.checked==="mixed"?"mixed":"unchecked";if("pressed"in this._payload)ye.pressed=this._payload.pressed===true?"pressed":"released";if("invalid"in this._payload)ye.invalid=this._payload.invalid===true?"true":"false";return ye}}0&&0},6134:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{FFBrowser:()=>FFBrowser,FFBrowserContext:()=>FFBrowserContext});w.exports=__toCommonJS(Pe);var Fe=G(7651);var Me=G(9612);var Le=G(6609);var je=G(1009);var qe=__toESM(G(6182));var We=G(380);var Ge=G(9291);var ze=G(1921);class FFBrowser extends Me.Browser{constructor(w,B,G){super(w,G);this._version="";this._userAgent="";this._connection=B;this.session=B.rootSession;this._ffPages=new Map;this._contexts=new Map;this._connection.on(We.ConnectionEvents.Disconnected,(()=>this._onDisconnect()));this.session.on("Browser.attachedToTarget",this._onAttachedToTarget.bind(this));this.session.on("Browser.detachedFromTarget",this._onDetachedFromTarget.bind(this));this.session.on("Browser.downloadCreated",this._onDownloadCreated.bind(this));this.session.on("Browser.downloadFinished",this._onDownloadFinished.bind(this));this.session.on("Browser.videoRecordingFinished",this._onVideoRecordingFinished.bind(this))}static async connect(w,B,G){const K=new We.FFConnection(B,G.protocolLogger,G.browserLogsCollector);const pe=new FFBrowser(w,K,G);if(G.__testHookOnConnectToBrowser)await G.__testHookOnConnectToBrowser();let ye=G.originalLaunchOptions.firefoxUserPrefs??{};if(Object.keys(Ye).length)ye={...Ye,...ye};const Se=[pe.session.send("Browser.enable",{attachToDefaultContext:!!G.persistent,userPrefs:Object.entries(ye).map((([w,B])=>({name:w,value:B})))}),pe._initVersion()];if(G.persistent){pe._defaultContext=new FFBrowserContext(pe,void 0,G.persistent);Se.push(pe._defaultContext._initialize())}const Be=G.originalLaunchOptions.proxyOverride||G.proxy;if(Be)Se.push(pe.session.send("Browser.setBrowserProxy",toJugglerProxyOptions(Be)));await Promise.all(Se);return pe}async _initVersion(){const w=await this.session.send("Browser.getInfo");this._version=w.version.substring(w.version.indexOf("/")+1);this._userAgent=w.userAgent}isConnected(){return!this._connection._closed}async doCreateNewContext(w){if(w.isMobile)throw new Error("options.isMobile is not supported in Firefox");const{browserContextId:B}=await this.session.send("Browser.createBrowserContext",{removeOnDetach:true});const G=new FFBrowserContext(this,B,w);await G._initialize();this._contexts.set(B,G);return G}contexts(){return Array.from(this._contexts.values())}version(){return this._version}userAgent(){return this._userAgent}_onDetachedFromTarget(w){const B=this._ffPages.get(w.targetId);this._ffPages.delete(w.targetId);B.didClose()}_onAttachedToTarget(w){const{targetId:B,browserContextId:G,openerId:K,type:pe}=w.targetInfo;(0,Fe.assert)(pe==="page");const ye=G?this._contexts.get(G):this._defaultContext;(0,Fe.assert)(ye,`Unknown context id:${G}, _defaultContext: ${this._defaultContext}`);const Se=this._connection.createSession(w.sessionId);const Be=K?this._ffPages.get(K):null;const Qe=new Ge.FFPage(Se,ye,Be);this._ffPages.set(B,Qe)}_onDownloadCreated(w){const B=this._ffPages.get(w.pageTargetId);if(!B)return;B._page.frameManager.frameAbortedNavigation(w.frameId,"Download is starting");let G=B._page.initializedOrUndefined();if(!G){B._markAsError(new Error("Starting new page download"));if(B._opener)G=B._opener._page.initializedOrUndefined()}if(!G)return;this._downloadCreated(G,w.uuid,w.url,w.suggestedFileName)}_onDownloadFinished(w){const B=w.canceled?"canceled":w.error;this._downloadFinished(w.uuid,B)}_onVideoRecordingFinished(w){this._takeVideo(w.screencastId)?.reportFinished()}_onDisconnect(){for(const w of this._idToVideo.values())w.artifact.reportFinished(new je.TargetClosedError);this._idToVideo.clear();for(const w of this._ffPages.values())w.didClose();this._ffPages.clear();this._didClose()}}class FFBrowserContext extends Le.BrowserContext{constructor(w,B,G){super(w,G,B)}async _initialize(){(0,Fe.assert)(!this._ffPages().length);const w=this._browserContextId;const B=[super._initialize(),this._updateInitScripts()];if(this._options.acceptDownloads!=="internal-browser-default"){B.push(this._browser.session.send("Browser.setDownloadOptions",{browserContextId:w,downloadOptions:{behavior:this._options.acceptDownloads==="accept"?"saveToDisk":"cancel",downloadsDir:this._browser.options.downloadsPath}}))}B.push(this.doUpdateDefaultViewport());if(this._options.hasTouch)B.push(this._browser.session.send("Browser.setTouchOverride",{browserContextId:w,hasTouch:true}));if(this._options.userAgent)B.push(this._browser.session.send("Browser.setUserAgentOverride",{browserContextId:w,userAgent:this._options.userAgent}));if(this._options.bypassCSP)B.push(this._browser.session.send("Browser.setBypassCSP",{browserContextId:w,bypassCSP:true}));if(this._options.ignoreHTTPSErrors||this._options.internalIgnoreHTTPSErrors)B.push(this._browser.session.send("Browser.setIgnoreHTTPSErrors",{browserContextId:w,ignoreHTTPSErrors:true}));if(this._options.javaScriptEnabled===false)B.push(this._browser.session.send("Browser.setJavaScriptDisabled",{browserContextId:w,javaScriptDisabled:true}));if(this._options.locale)B.push(this._browser.session.send("Browser.setLocaleOverride",{browserContextId:w,locale:this._options.locale}));if(this._options.timezoneId)B.push(this._browser.session.send("Browser.setTimezoneOverride",{browserContextId:w,timezoneId:this._options.timezoneId}));if(this._options.extraHTTPHeaders||this._options.locale)B.push(this.doUpdateExtraHTTPHeaders());if(this._options.httpCredentials)B.push(this.setHTTPCredentials(this._options.httpCredentials));if(this._options.geolocation)B.push(this.setGeolocation(this._options.geolocation));if(this._options.offline)B.push(this.doUpdateOffline());B.push(this.doUpdateDefaultEmulatedMedia());if(this._options.recordVideo){B.push(this._ensureVideosPath().then((()=>this._browser.session.send("Browser.setVideoRecordingOptions",{options:{...this._options.recordVideo.size,dir:this._options.recordVideo.dir},browserContextId:this._browserContextId}))))}const G=this._options.proxyOverride||this._options.proxy;if(G){B.push(this._browser.session.send("Browser.setContextProxy",{browserContextId:this._browserContextId,...toJugglerProxyOptions(G)}))}await Promise.all(B)}_ffPages(){return Array.from(this._browser._ffPages.values()).filter((w=>w._browserContext===this))}possiblyUninitializedPages(){return this._ffPages().map((w=>w._page))}async doCreateNewPage(){const{targetId:w}=await this._browser.session.send("Browser.newPage",{browserContextId:this._browserContextId}).catch((w=>{if(w.message.includes("Failed to override timezone"))throw new Error(`Invalid timezone ID: ${this._options.timezoneId}`);throw w}));return this._browser._ffPages.get(w)._page}async doGetCookies(w){const{cookies:B}=await this._browser.session.send("Browser.getCookies",{browserContextId:this._browserContextId});return qe.filterCookies(B.map((w=>{const{name:B,value:G,domain:K,path:pe,expires:ye,httpOnly:Se,secure:Be,sameSite:Qe}=w;return{name:B,value:G,domain:K,path:pe,expires:ye,httpOnly:Se,secure:Be,sameSite:Qe}})),w)}async addCookies(w){const B=qe.rewriteCookies(w).map((w=>{const{name:B,value:G,url:K,domain:pe,path:ye,expires:Se,httpOnly:Be,secure:Qe,sameSite:Pe}=w;return{name:B,value:G,url:K,domain:pe,path:ye,expires:Se===-1?void 0:Se,httpOnly:Be,secure:Qe,sameSite:Pe}}));await this._browser.session.send("Browser.setCookies",{browserContextId:this._browserContextId,cookies:B})}async doClearCookies(){await this._browser.session.send("Browser.clearCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(w,B){const G=new Map([["geolocation","geo"],["persistent-storage","persistent-storage"],["push","push"],["notifications","desktop-notification"]]);const K=B.map((w=>{const B=G.get(w);if(!B)throw new Error("Unknown permission: "+w);return B}));await this._browser.session.send("Browser.grantPermissions",{origin:w,browserContextId:this._browserContextId,permissions:K})}async doClearPermissions(){await this._browser.session.send("Browser.resetPermissions",{browserContextId:this._browserContextId})}async setGeolocation(w){(0,Le.verifyGeolocation)(w);this._options.geolocation=w;await this._browser.session.send("Browser.setGeolocationOverride",{browserContextId:this._browserContextId,geolocation:w||null})}async doUpdateExtraHTTPHeaders(){let w=this._options.extraHTTPHeaders||[];if(this._options.locale)w=qe.mergeHeaders([w,qe.singleHeader("Accept-Language",this._options.locale)]);await this._browser.session.send("Browser.setExtraHTTPHeaders",{browserContextId:this._browserContextId,headers:w})}async setUserAgent(w){await this._browser.session.send("Browser.setUserAgentOverride",{browserContextId:this._browserContextId,userAgent:w||null})}async doUpdateOffline(){await this._browser.session.send("Browser.setOnlineOverride",{browserContextId:this._browserContextId,override:this._options.offline?"offline":"online"})}async doSetHTTPCredentials(w){this._options.httpCredentials=w;let B=null;if(w){const{username:G,password:K,origin:pe}=w;B={username:G,password:K,origin:pe}}await this._browser.session.send("Browser.setHTTPCredentials",{browserContextId:this._browserContextId,credentials:B})}async doAddInitScript(w){await this._updateInitScripts()}async doRemoveInitScripts(w){await this._updateInitScripts()}async _updateInitScripts(){const w=[...this._pageBindings.values()].map((w=>w.initScript.source));if(this.bindingsInitScript)w.unshift(this.bindingsInitScript.source);const B=this.initScripts.map((w=>w.source));await this._browser.session.send("Browser.setInitScripts",{browserContextId:this._browserContextId,scripts:[...w,...B].map((w=>({script:w})))})}async doUpdateRequestInterception(){await Promise.all([this._browser.session.send("Browser.setRequestInterception",{browserContextId:this._browserContextId,enabled:this.requestInterceptors.length>0}),this._browser.session.send("Browser.setCacheDisabled",{browserContextId:this._browserContextId,cacheDisabled:this.requestInterceptors.length>0})])}async doUpdateDefaultViewport(){if(!this._options.viewport)return;const w={viewportSize:{width:this._options.viewport.width,height:this._options.viewport.height},deviceScaleFactor:this._options.deviceScaleFactor||1};await this._browser.session.send("Browser.setDefaultViewport",{browserContextId:this._browserContextId,viewport:w})}async doUpdateDefaultEmulatedMedia(){if(this._options.colorScheme!=="no-override"){await this._browser.session.send("Browser.setColorScheme",{browserContextId:this._browserContextId,colorScheme:this._options.colorScheme!==void 0?this._options.colorScheme:"light"})}if(this._options.reducedMotion!=="no-override"){await this._browser.session.send("Browser.setReducedMotion",{browserContextId:this._browserContextId,reducedMotion:this._options.reducedMotion!==void 0?this._options.reducedMotion:"no-preference"})}if(this._options.forcedColors!=="no-override"){await this._browser.session.send("Browser.setForcedColors",{browserContextId:this._browserContextId,forcedColors:this._options.forcedColors!==void 0?this._options.forcedColors:"none"})}if(this._options.contrast!=="no-override"){await this._browser.session.send("Browser.setContrast",{browserContextId:this._browserContextId,contrast:this._options.contrast!==void 0?this._options.contrast:"no-preference"})}}async doExposePlaywrightBinding(){this._browser.session.send("Browser.addBinding",{browserContextId:this._browserContextId,name:ze.PageBinding.kBindingName,script:""})}onClosePersistent(){}async clearCache(){await this._browser.session.send("Browser.clearCache")}async doClose(w){if(!this._browserContextId){if(this._options.recordVideo){await this._browser.session.send("Browser.setVideoRecordingOptions",{options:void 0,browserContextId:this._browserContextId})}await this._browser.close({reason:w})}else{await this._browser.session.send("Browser.removeBrowserContext",{browserContextId:this._browserContextId});this._browser._contexts.delete(this._browserContextId)}}async cancelDownload(w){await this._browser.session.send("Browser.cancelDownload",{uuid:w})}}function toJugglerProxyOptions(w){const B=new URL(w.server);let G=parseInt(B.port,10);let K="http";if(B.protocol==="socks5:")K="socks";else if(B.protocol==="socks4:")K="socks4";else if(B.protocol==="https:")K="https";if(B.port===""){if(B.protocol==="http:")G=80;else if(B.protocol==="https:")G=443}return{type:K,bypass:w.bypass?w.bypass.split(",").map((w=>w.trim())):[],host:B.hostname,port:G,username:w.username,password:w.password}}const Ye={};0&&0},380:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ConnectionEvents:()=>Le,FFConnection:()=>FFConnection,FFSession:()=>FFSession,kBrowserCloseMessageId:()=>je});w.exports=__toCommonJS(Be);var Qe=G(4434);var Pe=G(5809);var Fe=G(3062);var Me=G(4506);const Le={Disconnected:Symbol("Disconnected")};const je=-9999;class FFConnection extends Qe.EventEmitter{constructor(w,B,G){super();this.setMaxListeners(0);this._transport=w;this._protocolLogger=B;this._browserLogsCollector=G;this._lastId=0;this._sessions=new Map;this._closed=false;this.rootSession=new FFSession(this,"",(w=>this._rawSend(w)));this._sessions.set("",this.rootSession);this._transport.onmessage=this._onMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}_rawSend(w){this._protocolLogger("send",w);this._transport.send(w)}async _onMessage(w){this._protocolLogger("receive",w);if(w.id===je)return;const B=this._sessions.get(w.sessionId||"");if(B)B.dispatchMessage(w)}_onClose(w){this._closed=true;this._transport.onmessage=void 0;this._transport.onclose=void 0;this._browserDisconnectedLogs=Fe.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),w);this.rootSession.dispose();Promise.resolve().then((()=>this.emit(Le.Disconnected)))}close(){if(!this._closed)this._transport.close()}createSession(w){const B=new FFSession(this,w,(B=>this._rawSend({...B,sessionId:w})));this._sessions.set(w,B);return B}}class FFSession extends Qe.EventEmitter{constructor(w,B,G){super();this._disposed=false;this._crashed=false;this.setMaxListeners(0);this._callbacks=new Map;this._connection=w;this._sessionId=B;this._rawSend=G;this.on=super.on;this.addListener=super.addListener;this.off=super.removeListener;this.removeListener=super.removeListener;this.once=super.once}markAsCrashed(){this._crashed=true}async send(w,B){if(this._crashed||this._disposed||this._connection._closed||this._connection._browserDisconnectedLogs)throw new Me.ProtocolError(this._crashed?"crashed":"closed",void 0,this._connection._browserDisconnectedLogs);const G=this._connection.nextMessageId();this._rawSend({method:w,params:B,id:G});return new Promise(((B,K)=>{this._callbacks.set(G,{resolve:B,reject:K,error:new Me.ProtocolError("error",w)})}))}sendMayFail(w,B){return this.send(w,B).catch((w=>Pe.debugLogger.log("error",w)))}dispatchMessage(w){if(w.id){const B=this._callbacks.get(w.id);if(B){this._callbacks.delete(w.id);if(w.error){B.error.setMessage(w.error.message);B.reject(B.error)}else{B.resolve(w.result)}}}else{Promise.resolve().then((()=>this.emit(w.method,w.params)))}}dispose(){this._disposed=true;this._connection._sessions.delete(this._sessionId);for(const w of this._callbacks.values()){w.error.type=this._crashed?"crashed":"closed";w.error.logs=this._connection._browserDisconnectedLogs;w.reject(w.error)}this._callbacks.clear()}}0&&0},353:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{FFExecutionContext:()=>FFExecutionContext,createHandle:()=>createHandle});w.exports=__toCommonJS(Pe);var Fe=G(8164);var Me=G(3559);var Le=G(3642);var je=__toESM(G(1485));var qe=__toESM(G(7392));var We=G(4506);class FFExecutionContext{constructor(w,B){this._session=w;this._executionContextId=B}async rawEvaluateJSON(w){const B=await this._session.send("Runtime.evaluate",{expression:w,returnByValue:true,executionContextId:this._executionContextId}).catch(rewriteError);checkException(B.exceptionDetails);return B.result.value}async rawEvaluateHandle(w,B){const G=await this._session.send("Runtime.evaluate",{expression:B,returnByValue:false,executionContextId:this._executionContextId}).catch(rewriteError);checkException(G.exceptionDetails);return createHandle(w,G.result)}async evaluateWithArguments(w,B,G,K,pe){const ye=await this._session.send("Runtime.callFunction",{functionDeclaration:w,args:[{objectId:G._objectId,value:void 0},...K.map((w=>({value:w}))),...pe.map((w=>({objectId:w._objectId,value:void 0})))],returnByValue:B,executionContextId:this._executionContextId}).catch(rewriteError);checkException(ye.exceptionDetails);if(B)return(0,Le.parseEvaluationResultValue)(ye.result.value);return createHandle(G._context,ye.result)}async getProperties(w){const B=await this._session.send("Runtime.getObjectProperties",{executionContextId:this._executionContextId,objectId:w._objectId});const G=new Map;for(const K of B.properties)G.set(K.name,createHandle(w._context,K.value));return G}async releaseHandle(w){if(!w._objectId)return;await this._session.send("Runtime.disposeObject",{executionContextId:this._executionContextId,objectId:w._objectId})}}function checkException(w){if(!w)return;if(w.value)throw new je.JavaScriptErrorInEvaluate(JSON.stringify(w.value));else throw new je.JavaScriptErrorInEvaluate(w.text+(w.stack?"\n"+w.stack:""))}function rewriteError(w){if(w.message.includes("cyclic object value")||w.message.includes("Object is not serializable"))return{result:{type:"undefined",value:void 0}};if(w instanceof TypeError&&w.message.startsWith("Converting circular structure to JSON"))(0,Me.rewriteErrorMessage)(w,w.message+" Are you passing a nested JSHandle?");if(!je.isJavaScriptErrorInEvaluate(w)&&!(0,We.isSessionClosedError)(w))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw w}function potentiallyUnserializableValue(w){const B=w.value;const G=w.unserializableValue;return G?je.parseUnserializableValue(G):B}function renderPreview(w){if(w.type==="undefined")return"undefined";if(w.unserializableValue)return String(w.unserializableValue);if(w.type==="symbol")return"Symbol()";if(w.subtype==="regexp")return"RegExp";if(w.subtype==="weakmap")return"WeakMap";if(w.subtype==="weakset")return"WeakSet";if(w.subtype)return w.subtype[0].toUpperCase()+w.subtype.slice(1);if("value"in w)return String(w.value)}function createHandle(w,B){if(B.subtype==="node"){(0,Fe.assert)(w instanceof qe.FrameExecutionContext);return new qe.ElementHandle(w,B.objectId)}return new je.JSHandle(w,B.subtype||B.type||"",renderPreview(B),B.objectId,potentiallyUnserializableValue(B))}0&&0},7310:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{RawKeyboardImpl:()=>RawKeyboardImpl,RawMouseImpl:()=>RawMouseImpl,RawTouchscreenImpl:()=>RawTouchscreenImpl});w.exports=__toCommonJS(ye);function toModifiersMask(w){let B=0;if(w.has("Alt"))B|=1;if(w.has("Control"))B|=2;if(w.has("Shift"))B|=4;if(w.has("Meta"))B|=8;return B}function toButtonNumber(w){if(w==="left")return 0;if(w==="middle")return 1;if(w==="right")return 2;return 0}function toButtonsMask(w){let B=0;if(w.has("left"))B|=1;if(w.has("right"))B|=2;if(w.has("middle"))B|=4;return B}class RawKeyboardImpl{constructor(w){this._client=w}async keydown(w,B,G,K,pe){let ye=K.text;if(ye==="\r")ye="";const{code:Se,key:Be,location:Qe}=K;await w.race(this._client.send("Page.dispatchKeyEvent",{type:"keydown",keyCode:K.keyCodeWithoutLocation,code:Se,key:Be,repeat:pe,location:Qe,text:ye}))}async keyup(w,B,G,K){const{code:pe,key:ye,location:Se}=K;await w.race(this._client.send("Page.dispatchKeyEvent",{type:"keyup",key:ye,keyCode:K.keyCodeWithoutLocation,code:pe,location:Se,repeat:false}))}async sendText(w,B){await w.race(this._client.send("Page.insertText",{text:B}))}}class RawMouseImpl{constructor(w){this._client=w}async move(w,B,G,K,pe,ye,Se){await w.race(this._client.send("Page.dispatchMouseEvent",{type:"mousemove",button:0,buttons:toButtonsMask(pe),x:Math.floor(B),y:Math.floor(G),modifiers:toModifiersMask(ye)}))}async down(w,B,G,K,pe,ye,Se){await w.race(this._client.send("Page.dispatchMouseEvent",{type:"mousedown",button:toButtonNumber(K),buttons:toButtonsMask(pe),x:Math.floor(B),y:Math.floor(G),modifiers:toModifiersMask(ye),clickCount:Se}))}async up(w,B,G,K,pe,ye,Se){await w.race(this._client.send("Page.dispatchMouseEvent",{type:"mouseup",button:toButtonNumber(K),buttons:toButtonsMask(pe),x:Math.floor(B),y:Math.floor(G),modifiers:toModifiersMask(ye),clickCount:Se}))}async wheel(w,B,G,K,pe,ye,Se){await this._page.mainFrame().evaluateExpression(`new Promise(requestAnimationFrame)`,{world:"utility"});await w.race(this._client.send("Page.dispatchWheelEvent",{deltaX:ye,deltaY:Se,x:Math.floor(B),y:Math.floor(G),deltaZ:0,modifiers:toModifiersMask(pe)}))}setPage(w){this._page=w}}class RawTouchscreenImpl{constructor(w){this._client=w}async tap(w,B,G,K){await w.race(this._client.send("Page.dispatchTapEvent",{x:B,y:G,modifiers:toModifiersMask(K)}))}}0&&0},321:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{FFNetworkManager:()=>FFNetworkManager});w.exports=__toCommonJS(Pe);var Fe=G(6037);var Me=__toESM(G(6182));class FFNetworkManager{constructor(w,B){this._session=w;this._requests=new Map;this._page=B;this._eventListeners=[Fe.eventsHelper.addEventListener(w,"Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),Fe.eventsHelper.addEventListener(w,"Network.responseReceived",this._onResponseReceived.bind(this)),Fe.eventsHelper.addEventListener(w,"Network.requestFinished",this._onRequestFinished.bind(this)),Fe.eventsHelper.addEventListener(w,"Network.requestFailed",this._onRequestFailed.bind(this))]}dispose(){Fe.eventsHelper.removeEventListeners(this._eventListeners)}async setRequestInterception(w){await Promise.all([this._session.send("Network.setRequestInterception",{enabled:w}),this._session.send("Page.setCacheDisabled",{cacheDisabled:w})])}_onRequestWillBeSent(w){const B=w.redirectedFrom?this._requests.get(w.redirectedFrom)||null:null;const G=B?B.request.frame():w.frameId?this._page.frameManager.frame(w.frameId):null;if(!G)return;if(w.method==="OPTIONS"&&!w.isIntercepted)return;if(B)this._requests.delete(B._id);const K=new InterceptableRequest(G,B,w);let pe;if(w.isIntercepted)pe=new FFRouteImpl(this._session,K);this._requests.set(K._id,K);this._page.frameManager.requestStarted(K.request,pe)}_onResponseReceived(w){const B=this._requests.get(w.requestId);if(!B)return;const getResponseBody=async()=>{const w=await this._session.send("Network.getResponseBody",{requestId:B._id});if(w.evicted)throw new Error(`Response body for ${B.request.method()} ${B.request.url()} was evicted!`);return Buffer.from(w.base64body,"base64")};const G=w.timing.startTime;function relativeToStart(w){if(!w)return-1;return(w-G)/1e3}const K={startTime:G/1e3,domainLookupStart:relativeToStart(w.timing.domainLookupStart),domainLookupEnd:relativeToStart(w.timing.domainLookupEnd),connectStart:relativeToStart(w.timing.connectStart),secureConnectionStart:relativeToStart(w.timing.secureConnectionStart),connectEnd:relativeToStart(w.timing.connectEnd),requestStart:relativeToStart(w.timing.requestStart),responseStart:relativeToStart(w.timing.responseStart)};const pe=new Me.Response(B.request,w.status,w.statusText,parseMultivalueHeaders(w.headers),K,getResponseBody,w.fromServiceWorker);if(w?.remoteIPAddress&&typeof w?.remotePort==="number"){pe._serverAddrFinished({ipAddress:w.remoteIPAddress,port:w.remotePort})}else{pe._serverAddrFinished()}pe._securityDetailsFinished({protocol:w?.securityDetails?.protocol,subjectName:w?.securityDetails?.subjectName,issuer:w?.securityDetails?.issuer,validFrom:w?.securityDetails?.validFrom,validTo:w?.securityDetails?.validTo});pe.setRawResponseHeaders(null);pe.setResponseHeadersSize(null);this._page.frameManager.requestReceivedResponse(pe)}_onRequestFinished(w){const B=this._requests.get(w.requestId);if(!B)return;const G=B.request._existingResponse();G.setTransferSize(w.transferSize);G.setEncodedBodySize(w.encodedBodySize);const K=G.status()>=300&&G.status()<=399;const pe=w.responseEndTime?w.responseEndTime/1e3-G.timing().startTime:-1;if(K){G._requestFinished(pe)}else{this._requests.delete(B._id);G._requestFinished(pe)}if(w.protocolVersion)G._setHttpVersion(w.protocolVersion);this._page.frameManager.reportRequestFinished(B.request,G)}_onRequestFailed(w){const B=this._requests.get(w.requestId);if(!B)return;this._requests.delete(B._id);const G=B.request._existingResponse();if(G){G.setTransferSize(null);G.setEncodedBodySize(null);G._requestFinished(-1)}B.request._setFailureText(w.errorCode);this._page.frameManager.requestFailed(B.request,w.errorCode==="NS_BINDING_ABORTED")}}const Le={TYPE_INVALID:"other",TYPE_OTHER:"other",TYPE_SCRIPT:"script",TYPE_IMAGE:"image",TYPE_STYLESHEET:"stylesheet",TYPE_OBJECT:"other",TYPE_DOCUMENT:"document",TYPE_SUBDOCUMENT:"document",TYPE_REFRESH:"document",TYPE_XBL:"other",TYPE_PING:"other",TYPE_XMLHTTPREQUEST:"xhr",TYPE_OBJECT_SUBREQUEST:"other",TYPE_DTD:"other",TYPE_FONT:"font",TYPE_MEDIA:"media",TYPE_WEBSOCKET:"websocket",TYPE_CSP_REPORT:"other",TYPE_XSLT:"other",TYPE_BEACON:"other",TYPE_FETCH:"fetch",TYPE_IMAGESET:"image",TYPE_WEB_MANIFEST:"manifest"};const je={TYPE_INTERNAL_EVENTSOURCE:"eventsource"};class InterceptableRequest{constructor(w,B,G){this._id=G.requestId;if(B)B._redirectedTo=this;let K=null;if(G.postData)K=Buffer.from(G.postData,"base64");this.request=new Me.Request(w._page.browserContext,w,null,B?B.request:null,G.navigationId,G.url,je[G.internalCause]||Le[G.cause]||"other",G.method,K,G.headers);this.request.setRawRequestHeaders(null)}_finalRequest(){let w=this;while(w._redirectedTo)w=w._redirectedTo;return w}}class FFRouteImpl{constructor(w,B){this._session=w;this._request=B}async continue(w){await this._session.sendMayFail("Network.resumeInterceptedRequest",{requestId:this._request._id,url:w.url,method:w.method,headers:w.headers,postData:w.postData?Buffer.from(w.postData).toString("base64"):void 0})}async fulfill(w){const B=w.isBase64?w.body:Buffer.from(w.body).toString("base64");await this._session.sendMayFail("Network.fulfillInterceptedRequest",{requestId:this._request._id,status:w.status,statusText:Me.statusText(w.status),headers:w.headers,base64body:B})}async abort(w){await this._session.sendMayFail("Network.abortInterceptedRequest",{requestId:this._request._id,errorCode:w})}}function parseMultivalueHeaders(w){const B=[];for(const G of w){const w=G.name.toLowerCase()==="set-cookie"?"\n":",";const K=G.value.split(w).map((w=>w.trim()));for(const w of K)B.push({name:G.name,value:w})}return B}0&&0},9291:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{FFPage:()=>FFPage,UTILITY_WORLD_NAME:()=>ot});w.exports=__toCommonJS(Pe);var Fe=G(6037);var Me=__toESM(G(9666));var Le=__toESM(G(7392));var je=G(1921);var qe=G(1921);var We=G(9642);var Ge=G(380);var ze=G(353);var Ye=G(7310);var Ke=G(321);var Xe=G(5809);var rt=G(3559);var it=G(1009);const ot="__playwright_utility_world__";class FFPage{constructor(w,B,G){this.cspErrorsAsynchronousForInlineScripts=true;this._reportedAsNew=false;this._workers=new Map;this._initScripts=[];this._session=w;this._opener=G;this.rawKeyboard=new Ye.RawKeyboardImpl(w);this.rawMouse=new Ye.RawMouseImpl(w);this.rawTouchscreen=new Ye.RawTouchscreenImpl(w);this._contextIdToContext=new Map;this._browserContext=B;this._page=new qe.Page(this,B);this.rawMouse.setPage(this._page);this._networkManager=new Ke.FFNetworkManager(w,this._page);this._page.on(qe.Page.Events.FrameDetached,(w=>this._removeContextsForFrame(w)));this._eventListeners=[Fe.eventsHelper.addEventListener(this._session,"Page.eventFired",this._onEventFired.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.frameAttached",this._onFrameAttached.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.frameDetached",this._onFrameDetached.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.navigationAborted",this._onNavigationAborted.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.navigationCommitted",this._onNavigationCommitted.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.navigationStarted",this._onNavigationStarted.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.sameDocumentNavigation",this._onSameDocumentNavigation.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Runtime.executionContextCreated",this._onExecutionContextCreated.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Runtime.executionContextDestroyed",this._onExecutionContextDestroyed.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.linkClicked",(w=>this._onLinkClicked(w.phase))),Fe.eventsHelper.addEventListener(this._session,"Page.uncaughtError",this._onUncaughtError.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Runtime.console",this._onConsole.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.dialogOpened",this._onDialogOpened.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.bindingCalled",this._onBindingCalled.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.fileChooserOpened",this._onFileChooserOpened.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.workerCreated",this._onWorkerCreated.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.workerDestroyed",this._onWorkerDestroyed.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.dispatchMessageFromWorker",this._onDispatchMessageFromWorker.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.crashed",this._onCrashed.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.videoRecordingStarted",this._onVideoRecordingStarted.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.webSocketCreated",this._onWebSocketCreated.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.webSocketClosed",this._onWebSocketClosed.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.webSocketFrameReceived",this._onWebSocketFrameReceived.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.webSocketFrameSent",this._onWebSocketFrameSent.bind(this)),Fe.eventsHelper.addEventListener(this._session,"Page.screencastFrame",this._onScreencastFrame.bind(this))];this._session.once("Page.ready",(()=>{if(this._reportedAsNew)return;this._reportedAsNew=true;this._page.reportAsNew(this._opener?._page)}));this.addInitScript(new je.InitScript(""),ot).catch((w=>this._markAsError(w)))}async _markAsError(w){if(this._reportedAsNew)return;this._reportedAsNew=true;this._page.reportAsNew(this._opener?._page,w)}_onWebSocketCreated(w){this._page.frameManager.onWebSocketCreated(webSocketId(w.frameId,w.wsid),w.requestURL);this._page.frameManager.onWebSocketRequest(webSocketId(w.frameId,w.wsid))}_onWebSocketClosed(w){if(w.error)this._page.frameManager.webSocketError(webSocketId(w.frameId,w.wsid),w.error);this._page.frameManager.webSocketClosed(webSocketId(w.frameId,w.wsid))}_onWebSocketFrameReceived(w){this._page.frameManager.webSocketFrameReceived(webSocketId(w.frameId,w.wsid),w.opcode,w.data)}_onWebSocketFrameSent(w){this._page.frameManager.onWebSocketFrameSent(webSocketId(w.frameId,w.wsid),w.opcode,w.data)}_onExecutionContextCreated(w){const{executionContextId:B,auxData:G}=w;const K=this._page.frameManager.frame(G.frameId);if(!K)return;const pe=new ze.FFExecutionContext(this._session,B);let ye=null;if(G.name===ot)ye="utility";else if(!G.name)ye="main";const Se=new Le.FrameExecutionContext(pe,K,ye);if(ye)K._contextCreated(ye,Se);this._contextIdToContext.set(B,Se)}_onExecutionContextDestroyed(w){const{executionContextId:B}=w;const G=this._contextIdToContext.get(B);if(!G)return;this._contextIdToContext.delete(B);G.frame._contextDestroyed(G)}_onExecutionContextsCleared(){for(const w of Array.from(this._contextIdToContext.keys()))this._onExecutionContextDestroyed({executionContextId:w})}_removeContextsForFrame(w){for(const[B,G]of this._contextIdToContext){if(G.frame===w)this._contextIdToContext.delete(B)}}_onLinkClicked(w){if(w==="before")this._page.frameManager.frameWillPotentiallyRequestNavigation();else this._page.frameManager.frameDidPotentiallyRequestNavigation()}_onNavigationStarted(w){this._page.frameManager.frameRequestedNavigation(w.frameId,w.navigationId)}_onNavigationAborted(w){this._page.frameManager.frameAbortedNavigation(w.frameId,w.errorText,w.navigationId)}_onNavigationCommitted(w){for(const[B,G]of this._workers){if(G.frameId===w.frameId)this._onWorkerDestroyed({workerId:B})}this._page.frameManager.frameCommittedNewDocumentNavigation(w.frameId,w.url,w.name||"",w.navigationId||"",false)}_onSameDocumentNavigation(w){this._page.frameManager.frameCommittedSameDocumentNavigation(w.frameId,w.url)}_onFrameAttached(w){this._page.frameManager.frameAttached(w.frameId,w.parentFrameId)}_onFrameDetached(w){this._page.frameManager.frameDetached(w.frameId)}_onEventFired(w){const{frameId:B,name:G}=w;if(G==="load")this._page.frameManager.frameLifecycleEvent(B,"load");if(G==="DOMContentLoaded")this._page.frameManager.frameLifecycleEvent(B,"domcontentloaded")}_onUncaughtError(w){const{name:B,message:G}=(0,rt.splitErrorMessage)(w.message);const K=new Error(G);K.stack=w.message+"\n"+w.stack.split("\n").filter(Boolean).map((w=>w.replace(/([^@]*)@(.*)/,"    at $1 ($2)"))).join("\n");K.name=B;this._page.addPageError(K)}_onConsole(w){const{type:B,args:G,executionContextId:K,location:pe}=w;const ye=this._contextIdToContext.get(K);if(!ye)return;this._page.addConsoleMessage(B==="warn"?"warning":B,G.map((w=>(0,ze.createHandle)(ye,w))),pe)}_onDialogOpened(w){this._page.browserContext.dialogManager.dialogDidOpen(new Me.Dialog(this._page,w.type,w.message,(async(B,G)=>{await this._session.sendMayFail("Page.handleDialog",{dialogId:w.dialogId,accept:B,promptText:G})}),w.defaultValue))}async _onBindingCalled(w){const B=await this._page.waitForInitializedOrError();if(!(B instanceof Error)){const B=this._contextIdToContext.get(w.executionContextId);if(B)await this._page.onBindingCalled(w.payload,B)}}async _onFileChooserOpened(w){const{executionContextId:B,element:G}=w;const K=this._contextIdToContext.get(B);if(!K)return;const pe=(0,ze.createHandle)(K,G).asElement();await this._page._onFileChooserOpened(pe)}async _onWorkerCreated(w){const B=w.workerId;const G=new qe.Worker(this._page,w.url);const K=new Ge.FFSession(this._session._connection,B,(G=>{this._session.send("Page.sendMessageToWorker",{frameId:w.frameId,workerId:B,message:JSON.stringify(G)}).catch((w=>{K.dispatchMessage({id:G.id,method:"",params:{},error:{message:w.message,data:void 0}})}))}));this._workers.set(B,{session:K,frameId:w.frameId});this._page.addWorker(B,G);K.once("Runtime.executionContextCreated",(w=>{G.createExecutionContext(new ze.FFExecutionContext(K,w.executionContextId))}));K.on("Runtime.console",(w=>{const{type:B,args:K,location:pe}=w;const ye=G.existingExecutionContext;this._page.addConsoleMessage(B,K.map((w=>(0,ze.createHandle)(ye,w))),pe)}))}_onWorkerDestroyed(w){const B=w.workerId;const G=this._workers.get(B);if(!G)return;G.session.dispose();this._workers.delete(B);this._page.removeWorker(B)}async _onDispatchMessageFromWorker(w){const B=this._workers.get(w.workerId);if(!B)return;B.session.dispatchMessage(JSON.parse(w.message))}async _onCrashed(w){this._session.markAsCrashed();this._page._didCrash()}_onVideoRecordingStarted(w){this._browserContext._browser._videoStarted(this._browserContext,w.screencastId,w.file,this._page.waitForInitializedOrError())}didClose(){this._markAsError(new it.TargetClosedError);this._session.dispose();Fe.eventsHelper.removeEventListeners(this._eventListeners);this._networkManager.dispose();this._page._didClose()}async navigateFrame(w,B,G){const K=await this._session.send("Page.navigate",{url:B,referer:G,frameId:w._id});return{newDocumentId:K.navigationId||void 0}}async updateExtraHTTPHeaders(){await this._session.send("Network.setExtraHTTPHeaders",{headers:this._page.extraHTTPHeaders()||[]})}async updateEmulatedViewportSize(){const w=this._page.emulatedSize()?.viewport??null;await this._session.send("Page.setViewportSize",{viewportSize:w})}async bringToFront(){await this._session.send("Page.bringToFront",{})}async updateEmulateMedia(){const w=this._page.emulatedMedia();const B=w.colorScheme==="no-override"?void 0:w.colorScheme;const G=w.reducedMotion==="no-override"?void 0:w.reducedMotion;const K=w.forcedColors==="no-override"?void 0:w.forcedColors;const pe=w.contrast==="no-override"?void 0:w.contrast;await this._session.send("Page.setEmulatedMedia",{type:w.media==="no-override"?"":w.media,colorScheme:B,reducedMotion:G,forcedColors:K,contrast:pe})}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateFileChooserInterception(){const w=this._page.fileChooserIntercepted();await this._session.send("Page.setInterceptFileChooserDialog",{enabled:w}).catch((()=>{}))}async reload(){await this._session.send("Page.reload")}async goBack(){const{success:w}=await this._session.send("Page.goBack",{frameId:this._page.mainFrame()._id});return w}async goForward(){const{success:w}=await this._session.send("Page.goForward",{frameId:this._page.mainFrame()._id});return w}async requestGC(){await this._session.send("Heap.collectGarbage")}async addInitScript(w,B){this._initScripts.push({initScript:w,worldName:B});await this._updateInitScripts()}async removeInitScripts(w){const B=new Set(w);this._initScripts=this._initScripts.filter((w=>!B.has(w.initScript)));await this._updateInitScripts()}async _updateInitScripts(){await this._session.send("Page.setInitScripts",{scripts:this._initScripts.map((w=>({script:w.initScript.source,worldName:w.worldName})))})}async closePage(w){await this._session.send("Page.close",{runBeforeUnload:w})}async setBackgroundColor(w){if(w)throw new Error("Not implemented")}async takeScreenshot(w,B,G,K,pe,ye,Se){if(!G){const B=await this._page.mainFrame().waitForFunctionValueInUtility(w,(()=>({x:window.scrollX,y:window.scrollY})));G={x:K.x+B.x,y:K.y+B.y,width:K.width,height:K.height}}const{data:Be}=await w.race(this._session.send("Page.screenshot",{mimeType:"image/"+B,clip:G,quality:pe,omitDeviceScaleFactor:Se==="css"}));return Buffer.from(Be,"base64")}async getContentFrame(w){const{contentFrameId:B}=await this._session.send("Page.describeNode",{frameId:w._context.frame._id,objectId:w._objectId});if(!B)return null;return this._page.frameManager.frame(B)}async getOwnerFrame(w){const{ownerFrameId:B}=await this._session.send("Page.describeNode",{frameId:w._context.frame._id,objectId:w._objectId});return B||null}async getBoundingBox(w){const B=await this.getContentQuads(w);if(!B||!B.length)return null;let G=Infinity;let K=-Infinity;let pe=Infinity;let ye=-Infinity;for(const w of B){for(const B of w){G=Math.min(G,B.x);K=Math.max(K,B.x);pe=Math.min(pe,B.y);ye=Math.max(ye,B.y)}}return{x:G,y:pe,width:K-G,height:ye-pe}}async scrollRectIntoViewIfNeeded(w,B){return await this._session.send("Page.scrollIntoViewIfNeeded",{frameId:w._context.frame._id,objectId:w._objectId,rect:B}).then((()=>"done")).catch((w=>{if(w instanceof Error&&w.message.includes("Node is detached from document"))return"error:notconnected";if(w instanceof Error&&w.message.includes("Node does not have a layout object"))return"error:notvisible";throw w}))}async setScreencastOptions(w){if(w){const{screencastId:B}=await this._session.send("Page.startScreencast",w);this._screencastId=B}else{await this._session.send("Page.stopScreencast")}}_onScreencastFrame(w){if(!this._screencastId)return;const B=this._screencastId;this._page.throttleScreencastFrameAck((()=>{this._session.send("Page.screencastFrameAck",{screencastId:B}).catch((w=>Xe.debugLogger.log("error",w)))}));const G=Buffer.from(w.data,"base64");this._page.emit(qe.Page.Events.ScreencastFrame,{buffer:G,width:w.deviceWidth,height:w.deviceHeight})}rafCountForStablePosition(){return 1}async getContentQuads(w){const B=await this._session.sendMayFail("Page.getContentQuads",{frameId:w._context.frame._id,objectId:w._objectId});if(!B)return null;return B.quads.map((w=>[w.p1,w.p2,w.p3,w.p4]))}async setInputFilePaths(w,B){await this._session.send("Page.setFileInputFiles",{frameId:w._context.frame._id,objectId:w._objectId,files:B})}async adoptElementHandle(w,B){const G=await this._session.send("Page.adoptNode",{frameId:w._context.frame._id,objectId:w._objectId,executionContextId:B.delegate._executionContextId});if(!G.remoteObject)throw new Error(Le.kUnableToAdoptErrorMessage);return(0,ze.createHandle)(B,G.remoteObject)}async getAccessibilityTree(w){return(0,We.getAccessibilityTree)(this._session,w)}async inputActionEpilogue(){}async resetForReuse(w){await this.rawMouse.move(w,-1,-1,"none",new Set,new Set,false)}async getFrameElement(w){const B=w.parentFrame();if(!B)throw new Error("Frame has been detached.");const G=await B._mainContext();const K=await this._session.send("Page.adoptNode",{frameId:w._id,executionContextId:G.delegate._executionContextId});if(!K.remoteObject)throw new Error("Frame has been detached.");return(0,ze.createHandle)(G,K.remoteObject)}shouldToggleStyleSheetToSyncAnimations(){return false}}function webSocketId(w,B){return`${w}---${B}`}0&&0},5919:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Firefox:()=>Firefox});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(857));var Me=__toESM(G(6928));var Le=G(6134);var je=G(380);var qe=G(3701);var We=G(7684);var Ge=G(3587);class Firefox extends We.BrowserType{constructor(w){super(w,"firefox")}connectToTransport(w,B){return Le.FFBrowser.connect(this.attribution.playwright,w,B)}doRewriteStartupLog(w){if(!w.logs)return w;if(w.logs.includes(`as root in a regular user's session is not supported.`))w.logs="\n"+(0,qe.wrapInASCIIBox)(`Firefox is unable to launch if the $HOME folder isn't owned by the current user.\nWorkaround: Set the HOME=/root environment variable${process.env.GITHUB_ACTION?" in your GitHub Actions workflow file":""} when running Playwright.`,1);if(w.logs.includes("no DISPLAY environment variable specified"))w.logs="\n"+(0,qe.wrapInASCIIBox)(We.kNoXServerRunningError,1);return w}amendEnvironment(w){if(!Me.default.isAbsolute(Fe.default.homedir()))throw new Error(`Cannot launch Firefox with relative home directory. Did you set ${Fe.default.platform()==="win32"?"USERPROFILE":"HOME"} to a relative path?`);if(Fe.default.platform()==="linux"){return{...w,SNAP_NAME:void 0,SNAP_INSTANCE_NAME:void 0}}return w}attemptToGracefullyCloseBrowser(w){const B={method:"Browser.close",params:{},id:je.kBrowserCloseMessageId};w.send(B)}async defaultArgs(w,B,G){const{args:K=[],headless:pe}=w;const ye=K.find((w=>w.startsWith("-profile")||w.startsWith("--profile")));if(ye)throw this._createUserDataDirArgMisuseError("--profile");if(K.find((w=>w.startsWith("-juggler"))))throw new Error("Use the port parameter instead of -juggler argument");const Se=["-no-remote"];if(pe){Se.push("-headless")}else{Se.push("-wait-for-browser");Se.push("-foreground")}Se.push(`-profile`,G);Se.push("-juggler-pipe");Se.push(...K);if(B)Se.push("about:blank");else Se.push("-silent");return Se}waitForReadyState(w,B){const G=new Ge.ManualPromise;B.onMessage((w=>{if(w.includes("Juggler listening to the pipe"))G.resolve({})}));return G}}0&&0},5604:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{MultipartFormData:()=>MultipartFormData});w.exports=__toCommonJS(Be);var Qe=G(4331);class MultipartFormData{constructor(){this._chunks=[];this._boundary=generateUniqueBoundaryString()}contentTypeHeader(){return`multipart/form-data; boundary=${this._boundary}`}addField(w,B){this._beginMultiPartHeader(w);this._finishMultiPartHeader();this._chunks.push(Buffer.from(B));this._finishMultiPartField()}addFileField(w,B){this._beginMultiPartHeader(w);this._chunks.push(Buffer.from(`; filename="${B.name}"`));this._chunks.push(Buffer.from(`\r\ncontent-type: ${B.mimeType||Qe.mime.getType(B.name)||"application/octet-stream"}`));this._finishMultiPartHeader();this._chunks.push(B.buffer);this._finishMultiPartField()}finish(){this._addBoundary(true);return Buffer.concat(this._chunks)}_beginMultiPartHeader(w){this._addBoundary();this._chunks.push(Buffer.from(`content-disposition: form-data; name="${w}"`))}_finishMultiPartHeader(){this._chunks.push(Buffer.from(`\r\n\r\n`))}_finishMultiPartField(){this._chunks.push(Buffer.from(`\r\n`))}_addBoundary(w){this._chunks.push(Buffer.from("--"+this._boundary));if(w)this._chunks.push(Buffer.from("--"));this._chunks.push(Buffer.from("\r\n"))}}const Pe=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,65,66];function generateUniqueBoundaryString(){const w=[];for(let B=0;B<16;B++)w.push(Pe[Math.floor(Math.random()*Pe.length)]);return"----WebKitFormBoundary"+String.fromCharCode(...w)}0&&0},9503:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{FrameSelectors:()=>FrameSelectors});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(6548);class FrameSelectors{constructor(w){this.frame=w}_parseSelector(w,B){const G=typeof B?.strict==="boolean"?B.strict:!!this.frame._page.browserContext._options.strictSelectors;return this.frame._page.browserContext.selectors().parseSelector(w,G)}async query(w,B,G){const K=await this.resolveInjectedForSelector(w,B,G);if(!K)return null;const pe=await K.injected.evaluateHandle(((w,{info:B,scope:G})=>w.querySelector(B.parsed,G||document,B.strict)),{info:K.info,scope:K.scope});const ye=pe.asElement();if(!ye){pe.dispose();return null}return adoptIfNeeded(ye,await K.frame._mainContext())}async queryArrayInMainWorld(w,B){const G=await this.resolveInjectedForSelector(w,{mainWorld:true},B);if(!G)throw new Error(`Failed to find frame for selector "${w}"`);return await G.injected.evaluateHandle(((w,{info:B,scope:G})=>w.querySelectorAll(B.parsed,G||document)),{info:G.info,scope:G.scope})}async queryCount(w,B){const G=await this.resolveInjectedForSelector(w);if(!G)throw new Error(`Failed to find frame for selector "${w}"`);await(B.__testHookBeforeQuery?.());return await G.injected.evaluate(((w,{info:B})=>w.querySelectorAll(B.parsed,document).length),{info:G.info})}async queryAll(w,B){const G=await this.resolveInjectedForSelector(w,{},B);if(!G)return[];const K=await G.injected.evaluateHandle(((w,{info:B,scope:G})=>w.querySelectorAll(B.parsed,G||document)),{info:G.info,scope:G.scope});const pe=await K.getProperties();K.dispose();const ye=await G.frame._mainContext();const Se=[];for(const w of pe.values()){const B=w.asElement();if(B)Se.push(adoptIfNeeded(B,ye));else w.dispose()}return Promise.all(Se)}_jumpToAriaRefFrameIfNeeded(w,B,G){if(B.parsed.parts[0].name!=="aria-ref")return G;const K=B.parsed.parts[0].body;const pe=K.match(/^f(\d+)e\d+$/);if(!pe)return G;const ye=+pe[1];const Se=this.frame._page;const Be=Se.lastSnapshotFrameIds[ye-1];const Qe=Be?Se.frameManager.frame(Be):null;if(!Qe)throw new Pe.InvalidSelectorError(`Invalid frame in aria-ref selector "${w}"`);return Qe}async resolveFrameForSelector(w,B={},G){let K=this.frame;const pe=(0,Pe.splitSelectorByFrame)(w);for(const B of pe){(0,Pe.visitAllSelectorParts)(B,((B,G)=>{if(G&&B.name==="internal:control"&&B.body==="enter-frame"){const B=(0,Qe.asLocator)(this.frame._page.browserContext._browser.sdkLanguage(),w);throw new Pe.InvalidSelectorError(`Frame locators are not allowed inside composite locators, while querying "${B}"`)}}))}for(let ye=0;ye<pe.length-1;++ye){const Se=this._parseSelector(pe[ye],B);K=this._jumpToAriaRefFrameIfNeeded(w,Se,K);const Be=await K._context(Se.world);const Qe=await Be.injectedScript();const Fe=await Qe.evaluateHandle(((w,{info:B,scope:G,selectorString:K})=>{const pe=w.querySelector(B.parsed,G||document,B.strict);if(pe&&pe.nodeName!=="IFRAME"&&pe.nodeName!=="FRAME")throw w.createStacklessError(`Selector "${K}" resolved to ${w.previewNode(pe)}, <iframe> was expected`);return pe}),{info:Se,scope:ye===0?G:void 0,selectorString:(0,Pe.stringifySelector)(Se.parsed)});const Me=Fe.asElement();if(!Me)return null;const Le=await K._page.delegate.getContentFrame(Me);Me.dispose();if(!Le)return null;K=Le}if(K!==this.frame)G=void 0;const ye=K.selectors._parseSelector(pe[pe.length-1],B);K=this._jumpToAriaRefFrameIfNeeded(w,ye,K);return{frame:K,info:ye,scope:G}}async resolveInjectedForSelector(w,B,G){const K=await this.resolveFrameForSelector(w,B,G);if(!K)return;const pe=await K.frame._context(B?.mainWorld?"main":K.info.world);const ye=await pe.injectedScript();return{injected:ye,info:K.info,frame:K.frame,scope:K.scope}}}async function adoptIfNeeded(w,B){if(w._context===B)return w;const G=await w._page.delegate.adoptElementHandle(w,B);w.dispose();return G}0&&0},3300:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Frame:()=>Frame,FrameManager:()=>FrameManager,NavigationAbortedError:()=>NavigationAbortedError});w.exports=__toCommonJS(Pe);var Fe=G(6609);var Me=__toESM(G(7392));var Le=G(1009);var je=G(7184);var qe=G(9503);var We=G(3062);var Ge=G(9814);var ze=__toESM(G(1485));var Ye=__toESM(G(6182));var Ke=G(1921);var Xe=G(6665);var rt=__toESM(G(3109));var it=G(7651);var ot=G(4506);var at=G(5809);var lt=G(6037);var ct=G(6548);var ut=G(3587);var ft=G(358);class NavigationAbortedError extends Error{constructor(w,B){super(B);this.documentId=w}}const gt="<dummy>";class FrameManager{constructor(w){this._frames=new Map;this._consoleMessageTags=new Map;this._signalBarriers=new Set;this._webSockets=new Map;this._page=w;this._mainFrame=void 0}createDummyMainFrameIfNeeded(){if(!this._mainFrame)this.frameAttached(gt,null)}dispose(){for(const w of this._frames.values()){w._stopNetworkIdleTimer();w._invalidateNonStallingEvaluations("Target crashed")}}mainFrame(){return this._mainFrame}frames(){const w=[];collect(this._mainFrame);return w;function collect(B){w.push(B);for(const w of B.childFrames())collect(w)}}frame(w){return this._frames.get(w)||null}frameAttached(w,B){const G=B?this._frames.get(B):null;if(!G){if(this._mainFrame){this._frames.delete(this._mainFrame._id);this._mainFrame._id=w}else{(0,it.assert)(!this._frames.has(w));this._mainFrame=new Frame(this._page,w,G)}this._frames.set(w,this._mainFrame);return this._mainFrame}else{(0,it.assert)(!this._frames.has(w));const B=new Frame(this._page,w,G);this._frames.set(w,B);this._page.emit(Ke.Page.Events.FrameAttached,B);return B}}async waitForSignalsCreatedBy(w,B,G){if(!B)return G();const K=new SignalBarrier(w);this._signalBarriers.add(K);try{const B=await G();await w.race(this._page.delegate.inputActionEpilogue());await K.waitFor();await new Promise((0,it.makeWaitForNextTask)());return B}finally{this._signalBarriers.delete(K)}}frameWillPotentiallyRequestNavigation(){for(const w of this._signalBarriers)w.retain()}frameDidPotentiallyRequestNavigation(){for(const w of this._signalBarriers)w.release()}frameRequestedNavigation(w,B){const G=this._frames.get(w);if(!G)return;for(const w of this._signalBarriers)w.addFrameNavigation(G);if(G.pendingDocument()&&G.pendingDocument().documentId===B){return}const K=B?Array.from(G._inflightRequests).find((w=>w._documentId===B)):void 0;G.setPendingDocument({documentId:B,request:K})}frameCommittedNewDocumentNavigation(w,B,G,K,pe){const ye=this._frames.get(w);this.removeChildFramesRecursively(ye);this.clearWebSockets(ye);ye._url=B;ye._name=G;let Se;const Be=ye.pendingDocument();if(Be){if(Be.documentId===void 0){Be.documentId=K}if(Be.documentId===K){ye._currentDocument=Be}else{Se=Be;ye._currentDocument={documentId:K,request:void 0}}ye.setPendingDocument(void 0)}else{ye._currentDocument={documentId:K,request:void 0}}ye._onClearLifecycle();const Qe={url:B,name:G,newDocument:ye._currentDocument,isPublic:true};this._fireInternalFrameNavigation(ye,Qe);if(!pe){at.debugLogger.log("api",`  navigated to "${B}"`);this._page.frameNavigatedToNewDocument(ye)}ye.setPendingDocument(Se)}frameCommittedSameDocumentNavigation(w,B){const G=this._frames.get(w);if(!G)return;const K=G.pendingDocument();if(K&&K.documentId===void 0&&K.request===void 0){G.setPendingDocument(void 0)}G._url=B;const pe={url:B,name:G._name,isPublic:true};this._fireInternalFrameNavigation(G,pe);at.debugLogger.log("api",`  navigated to "${B}"`)}frameAbortedNavigation(w,B,G){const K=this._frames.get(w);if(!K||!K.pendingDocument())return;if(G!==void 0&&K.pendingDocument().documentId!==G)return;const pe={url:K._url,name:K._name,newDocument:K.pendingDocument(),error:new NavigationAbortedError(G,B),isPublic:!(G&&K._redirectedNavigations.has(G))};K.setPendingDocument(void 0);this._fireInternalFrameNavigation(K,pe)}frameDetached(w){const B=this._frames.get(w);if(B){this._removeFramesRecursively(B);this._page.mainFrame()._recalculateNetworkIdle()}}frameLifecycleEvent(w,B){const G=this._frames.get(w);if(G)G._onLifecycleEvent(B)}requestStarted(w,B){const G=w.frame();this._inflightRequestStarted(w);if(w._documentId)G.setPendingDocument({documentId:w._documentId,request:w});if(w._isFavicon){B?.abort("aborted").catch((()=>{}));return}this._page.addNetworkRequest(w);this._page.emitOnContext(Fe.BrowserContext.Events.Request,w);if(B)new Ye.Route(w,B).handle([...this._page.requestInterceptors,...this._page.browserContext.requestInterceptors])}requestReceivedResponse(w){if(w.request()._isFavicon)return;this._page.emitOnContext(Fe.BrowserContext.Events.Response,w)}reportRequestFinished(w,B){this._inflightRequestFinished(w);if(w._isFavicon)return;this._page.emitOnContext(Fe.BrowserContext.Events.RequestFinished,{request:w,response:B})}requestFailed(w,B){const G=w.frame();this._inflightRequestFinished(w);if(G.pendingDocument()&&G.pendingDocument().request===w){let K=w.failure().errorText;if(B)K+="; maybe frame was detached?";this.frameAbortedNavigation(G._id,K,G.pendingDocument().documentId)}if(w._isFavicon)return;this._page.emitOnContext(Fe.BrowserContext.Events.RequestFailed,w)}removeChildFramesRecursively(w){for(const B of w.childFrames())this._removeFramesRecursively(B)}_removeFramesRecursively(w){this.removeChildFramesRecursively(w);w._onDetached();this._frames.delete(w._id);if(!this._page.isClosed())this._page.emit(Ke.Page.Events.FrameDetached,w)}_inflightRequestFinished(w){const B=w.frame();if(w._isFavicon)return;if(!B._inflightRequests.has(w))return;B._inflightRequests.delete(w);if(B._inflightRequests.size===0)B._startNetworkIdleTimer()}_inflightRequestStarted(w){const B=w.frame();if(w._isFavicon)return;B._inflightRequests.add(w);if(B._inflightRequests.size===1)B._stopNetworkIdleTimer()}interceptConsoleMessage(w){if(w.type()!=="debug")return false;const B=w.text();const G=this._consoleMessageTags.get(B);if(!G)return false;this._consoleMessageTags.delete(B);G();return true}clearWebSockets(w){if(w.parentFrame())return;this._webSockets.clear()}onWebSocketCreated(w,B){const G=new Ye.WebSocket(this._page,B);this._webSockets.set(w,G)}onWebSocketRequest(w){const B=this._webSockets.get(w);if(B&&B.markAsNotified())this._page.emit(Ke.Page.Events.WebSocket,B)}onWebSocketResponse(w,B,G){const K=this._webSockets.get(w);if(B<400)return;if(K)K.error(`${G}: ${B}`)}onWebSocketFrameSent(w,B,G){const K=this._webSockets.get(w);if(K)K.frameSent(B,G)}webSocketFrameReceived(w,B,G){const K=this._webSockets.get(w);if(K)K.frameReceived(B,G)}webSocketClosed(w){const B=this._webSockets.get(w);if(B)B.closed();this._webSockets.delete(w)}webSocketError(w,B){const G=this._webSockets.get(w);if(G)G.error(B)}_fireInternalFrameNavigation(w,B){w.emit(Frame.Events.InternalNavigation,B)}}class Frame extends Ge.SdkObject{constructor(w,B,G){super(w,"frame");this._firedLifecycleEvents=new Set;this._firedNetworkIdleSelf=false;this._url="";this._contextData=new Map;this._childFrames=new Set;this._name="";this._inflightRequests=new Set;this._setContentCounter=0;this._detachedScope=new it.LongStandingScope;this._raceAgainstEvaluationStallingEventsPromises=new Set;this._redirectedNavigations=new Map;this.attribution.frame=this;this._id=B;this._page=w;this._parentFrame=G;this._currentDocument={documentId:void 0,request:void 0};this.selectors=new qe.FrameSelectors(this);this._contextData.set("main",{contextPromise:new ut.ManualPromise,context:null});this._contextData.set("utility",{contextPromise:new ut.ManualPromise,context:null});this._setContext("main",null);this._setContext("utility",null);if(this._parentFrame)this._parentFrame._childFrames.add(this);this._firedLifecycleEvents.add("commit");if(B!==gt)this._startNetworkIdleTimer()}static{this.Events={InternalNavigation:"internalnavigation",AddLifecycle:"addlifecycle",RemoveLifecycle:"removelifecycle"}}isDetached(){return this._detachedScope.isClosed()}_onLifecycleEvent(w){if(this._firedLifecycleEvents.has(w))return;this._firedLifecycleEvents.add(w);this.emit(Frame.Events.AddLifecycle,w);if(this===this._page.mainFrame()&&this._url!=="about:blank")at.debugLogger.log("api",`  "${w}" event fired`);this._page.mainFrame()._recalculateNetworkIdle()}_onClearLifecycle(){for(const w of this._firedLifecycleEvents)this.emit(Frame.Events.RemoveLifecycle,w);this._firedLifecycleEvents.clear();this._inflightRequests=new Set(Array.from(this._inflightRequests).filter((w=>w===this._currentDocument.request)));this._stopNetworkIdleTimer();if(this._inflightRequests.size===0)this._startNetworkIdleTimer();this._page.mainFrame()._recalculateNetworkIdle(this);this._onLifecycleEvent("commit")}setPendingDocument(w){this._pendingDocument=w;if(w)this._invalidateNonStallingEvaluations("Navigation interrupted the evaluation")}pendingDocument(){return this._pendingDocument}_invalidateNonStallingEvaluations(w){if(!this._raceAgainstEvaluationStallingEventsPromises.size)return;const B=new Error(w);for(const w of this._raceAgainstEvaluationStallingEventsPromises)w.reject(B)}async raceAgainstEvaluationStallingEvents(w){if(this._pendingDocument)throw new Error("Frame is currently attempting a navigation");if(this._page.browserContext.dialogManager.hasOpenDialogsForPage(this._page))throw new Error("Open JavaScript dialog prevents evaluation");const B=new ut.ManualPromise;this._raceAgainstEvaluationStallingEventsPromises.add(B);try{return await Promise.race([w(),B])}finally{this._raceAgainstEvaluationStallingEventsPromises.delete(B)}}nonStallingRawEvaluateInExistingMainContext(w){return this.raceAgainstEvaluationStallingEvents((()=>{const B=this._existingMainContext();if(!B)throw new Error("Frame does not yet have a main execution context");return B.rawEvaluateJSON(w)}))}nonStallingEvaluateInExistingContext(w,B){return this.raceAgainstEvaluationStallingEvents((()=>{const G=this._contextData.get(B)?.context;if(!G)throw new Error("Frame does not yet have the execution context");return G.evaluateExpression(w,{isFunction:false})}))}_recalculateNetworkIdle(w){let B=this._firedNetworkIdleSelf;for(const G of this._childFrames){G._recalculateNetworkIdle(w);if(!G._firedLifecycleEvents.has("networkidle"))B=false}if(B&&!this._firedLifecycleEvents.has("networkidle")){this._firedLifecycleEvents.add("networkidle");this.emit(Frame.Events.AddLifecycle,"networkidle");if(this===this._page.mainFrame()&&this._url!=="about:blank")at.debugLogger.log("api",`  "networkidle" event fired`)}if(w!==this&&this._firedLifecycleEvents.has("networkidle")&&!B){this._firedLifecycleEvents.delete("networkidle");this.emit(Frame.Events.RemoveLifecycle,"networkidle")}}async raceNavigationAction(w,B){return it.LongStandingScope.raceMultiple([this._detachedScope,this._page.openScope],B().catch((B=>{if(B instanceof NavigationAbortedError&&B.documentId){const G=this._redirectedNavigations.get(B.documentId);if(G){w.log(`waiting for redirected navigation to "${G.url}"`);return w.race(G.gotoPromise)}}throw B})))}redirectNavigation(w,B,G){const K=new Xe.ProgressController;const pe={url:w,gotoPromise:K.run((B=>this.gotoImpl(B,w,{referer:G})),0)};this._redirectedNavigations.set(B,pe);pe.gotoPromise.finally((()=>this._redirectedNavigations.delete(B)))}async goto(w,B,G={}){const K=(0,it.constructURLBasedOnBaseURL)(this._page.browserContext._options.baseURL,B);return this.raceNavigationAction(w,(async()=>this.gotoImpl(w,K,G)))}async gotoImpl(w,B,G){const K=verifyLifecycle("waitUntil",G.waitUntil===void 0?"load":G.waitUntil);w.log(`navigating to "${B}", waiting until "${K}"`);const pe=this._page.extraHTTPHeaders()||[];const ye=pe.find((w=>w.name.toLowerCase()==="referer"));let Se=ye?ye.value:void 0;if(G.referer!==void 0){if(Se!==void 0&&Se!==G.referer)throw new Error('"referer" is already specified as extra HTTP header');Se=G.referer}B=We.helper.completeUserURL(B);const Be=[];const collectNavigations=w=>Be.push(w);this.on(Frame.Events.InternalNavigation,collectNavigations);const Qe=await w.race(this._page.delegate.navigateFrame(this,B,Se)).finally((()=>this.off(Frame.Events.InternalNavigation,collectNavigations)));let Pe;if(Qe.newDocumentId){const predicate=w=>w.newDocument&&(w.newDocument.documentId===Qe.newDocumentId||!w.error);const G=Be.filter(predicate);if(G.length)Pe=G[0];else Pe=await We.helper.waitForEvent(w,this,Frame.Events.InternalNavigation,predicate).promise;if(Pe.newDocument.documentId!==Qe.newDocumentId){throw new NavigationAbortedError(Qe.newDocumentId,`Navigation to "${B}" is interrupted by another navigation to "${Pe.url}"`)}if(Pe.error)throw Pe.error}else{const predicate=w=>!w.newDocument;const B=Be.filter(predicate);if(B.length)Pe=B[0];else Pe=await We.helper.waitForEvent(w,this,Frame.Events.InternalNavigation,predicate).promise}if(!this._firedLifecycleEvents.has(K))await We.helper.waitForEvent(w,this,Frame.Events.AddLifecycle,(w=>w===K)).promise;const Fe=Pe.newDocument?Pe.newDocument.request:void 0;const Me=Fe?w.race(Fe._finalRequest().response()):null;return Me}async _waitForNavigation(w,B,G){const K=verifyLifecycle("waitUntil",G.waitUntil===void 0?"load":G.waitUntil);w.log(`waiting for navigation until "${K}"`);const pe=await We.helper.waitForEvent(w,this,Frame.Events.InternalNavigation,(G=>{if(G.error)return true;if(B&&!G.newDocument)return false;w.log(`  navigated to "${this._url}"`);return true})).promise;if(pe.error)throw pe.error;if(!this._firedLifecycleEvents.has(K))await We.helper.waitForEvent(w,this,Frame.Events.AddLifecycle,(w=>w===K)).promise;const ye=pe.newDocument?pe.newDocument.request:void 0;return ye?w.race(ye._finalRequest().response()):null}async _waitForLoadState(w,B){const G=verifyLifecycle("state",B);if(!this._firedLifecycleEvents.has(G))await We.helper.waitForEvent(w,this,Frame.Events.AddLifecycle,(w=>w===G)).promise}async frameElement(){return this._page.delegate.getFrameElement(this)}_context(w){return this._contextData.get(w).contextPromise.then((w=>{if(w instanceof ze.ExecutionContext)return w;throw new Error(w.destroyedReason)}))}_mainContext(){return this._context("main")}_existingMainContext(){return this._contextData.get("main")?.context||null}_utilityContext(){return this._context("utility")}async evaluateExpression(w,B={},G){const K=await this._context(B.world??"main");const pe=await K.evaluateExpression(w,B,G);return pe}async evaluateExpressionHandle(w,B={},G){const K=await this._context(B.world??"main");const pe=await K.evaluateExpressionHandle(w,B,G);return pe}async querySelector(w,B){at.debugLogger.log("api",`    finding element using the selector "${w}"`);return this.selectors.query(w,B)}async waitForSelector(w,B,G,K,pe){if(K.visibility)throw new Error("options.visibility is not supported, did you mean options.state?");if(K.waitFor&&K.waitFor!=="visible")throw new Error("options.waitFor is not supported, did you mean options.state?");const{state:ye="visible"}=K;if(!["attached","detached","visible","hidden"].includes(ye))throw new Error(`state: expected one of (attached|detached|visible|hidden)`);if(G)w.log(`waiting for ${this._asLocator(B)}${ye==="attached"?"":" to be "+ye}`);const Se=this.retryWithProgressAndTimeouts(w,[0,20,50,100,100,500],(async Se=>{if(G)await this._page.performActionPreChecks(w);const Be=await w.race(this.selectors.resolveInjectedForSelector(B,K,pe));if(!Be){if(ye==="hidden"||ye==="detached")return null;return Se}const Qe=await w.race(Be.injected.evaluateHandle(((w,{info:B,root:G})=>{if(G&&!G.isConnected)throw w.createStacklessError("Element is not attached to the DOM");const K=w.querySelectorAll(B.parsed,G||document);const pe=K[0];const ye=pe?w.utils.isElementVisible(pe):false;let Se="";if(K.length>1){if(B.strict)throw w.strictModeViolationError(B.parsed,K);Se=`  locator resolved to ${K.length} elements. Proceeding with the first one: ${w.previewNode(K[0])}`}else if(pe){Se=`  locator resolved to ${ye?"visible":"hidden"} ${w.previewNode(pe)}`}return{log:Se,element:pe,visible:ye,attached:!!pe}}),{info:Be.info,root:Be.frame===this?pe:void 0}));const{log:Pe,visible:Fe,attached:Me}=await w.race(Qe.evaluate((w=>({log:w.log,visible:w.visible,attached:w.attached}))));if(Pe)w.log(Pe);const Le={attached:Me,detached:!Me,visible:Fe,hidden:!Fe}[ye];if(!Le){Qe.dispose();return Se}if(K.omitReturnValue){Qe.dispose();return null}const je=ye==="attached"||ye==="visible"?await w.race(Qe.evaluateHandle((w=>w.element))):null;Qe.dispose();if(!je)return null;if(K.__testHookBeforeAdoptNode)await w.race(K.__testHookBeforeAdoptNode());try{const B=await w.race(Be.frame._mainContext());return await w.race(je._adoptTo(B))}catch(w){return Se}}));return pe?pe._context._raceAgainstContextDestroyed(Se):Se}async dispatchEvent(w,B,G,K={},pe,ye){await this._callOnElementOnceMatches(w,B,((w,B,G)=>{w.dispatchEvent(B,G.type,G.eventInit)}),{type:G,eventInit:K},{mainWorld:true,...pe},ye)}async evalOnSelector(w,B,G,K,pe,ye){const Se=await this.selectors.query(w,{strict:B},ye);if(!Se)throw new Error(`Failed to find element matching selector "${w}"`);const Be=await Se.evaluateExpression(G,{isFunction:K},pe);Se.dispose();return Be}async evalOnSelectorAll(w,B,G,K,pe){const ye=await this.selectors.queryArrayInMainWorld(w,pe);const Se=await ye.evaluateExpression(B,{isFunction:G},K);ye.dispose();return Se}async maskSelectors(w,B){const G=await this._utilityContext();const K=await G.injectedScript();await K.evaluate(((w,{parsed:B,color:G})=>{w.maskSelectors(B,G)}),{parsed:w,color:B})}async querySelectorAll(w){return this.selectors.queryAll(w)}async queryCount(w,B){try{return await this.selectors.queryCount(w,B)}catch(w){if(this.isNonRetriableError(w))throw w;return 0}}async content(){try{const w=await this._utilityContext();return await w.evaluate((()=>{let w="";if(document.doctype)w=(new XMLSerializer).serializeToString(document.doctype);if(document.documentElement)w+=document.documentElement.outerHTML;return w}))}catch(w){if(this.isNonRetriableError(w))throw w;throw new Error(`Unable to retrieve content because the page is navigating and changing the content.`)}}async setContent(w,B,G){const K=`--playwright--set--content--${this._id}--${++this._setContentCounter}--`;await this.raceNavigationAction(w,(async()=>{const pe=G.waitUntil===void 0?"load":G.waitUntil;w.log(`setting frame content, waiting until "${pe}"`);const ye=await w.race(this._utilityContext());const Se=new ut.ManualPromise;this._page.frameManager._consoleMessageTags.set(K,(()=>{this._onClearLifecycle();Se.resolve()}));const Be=w.race(Se).then((()=>this._waitForLoadState(w,pe)));const Qe=w.race(ye.evaluate((({html:w,tag:B})=>{document.open();console.debug(B);document.write(w);document.close()}),{html:B,tag:K}));await Promise.all([Qe,Be]);return null})).finally((()=>{this._page.frameManager._consoleMessageTags.delete(K)}))}name(){return this._name||""}url(){return this._url}origin(){if(!this._url.startsWith("http"))return;return Ye.parseURL(this._url)?.origin}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}async addScriptTag(w){const{url:B=null,content:G=null,type:K=""}=w;if(!B&&!G)throw new Error("Provide an object with a `url`, `path` or `content` property");const pe=await this._mainContext();return this._raceWithCSPError((async()=>{if(B!==null)return(await pe.evaluateHandle(addScriptUrl,{url:B,type:K})).asElement();const w=(await pe.evaluateHandle(addScriptContent,{content:G,type:K})).asElement();if(this._page.delegate.cspErrorsAsynchronousForInlineScripts)await pe.evaluate((()=>true));return w}));async function addScriptUrl(w){const B=document.createElement("script");B.src=w.url;if(w.type)B.type=w.type;const G=new Promise(((w,G)=>{B.onload=w;B.onerror=w=>G(typeof w==="string"?new Error(w):new Error(`Failed to load script at ${B.src}`))}));document.head.appendChild(B);await G;return B}function addScriptContent(w){const B=document.createElement("script");B.type=w.type||"text/javascript";B.text=w.content;let G=null;B.onerror=w=>G=w;document.head.appendChild(B);if(G)throw G;return B}}async addStyleTag(w){const{url:B=null,content:G=null}=w;if(!B&&!G)throw new Error("Provide an object with a `url`, `path` or `content` property");const K=await this._mainContext();return this._raceWithCSPError((async()=>{if(B!==null)return(await K.evaluateHandle(addStyleUrl,B)).asElement();return(await K.evaluateHandle(addStyleContent,G)).asElement()}));async function addStyleUrl(w){const B=document.createElement("link");B.rel="stylesheet";B.href=w;const G=new Promise(((w,G)=>{B.onload=w;B.onerror=G}));document.head.appendChild(B);await G;return B}async function addStyleContent(w){const B=document.createElement("style");B.type="text/css";B.appendChild(document.createTextNode(w));const G=new Promise(((w,G)=>{B.onload=w;B.onerror=G}));document.head.appendChild(B);await G;return B}}async _raceWithCSPError(w){const B=[];let G;let K;let pe;const ye=w().then((w=>G=w)).catch((w=>K=w));const Se=new Promise((w=>{B.push(lt.eventsHelper.addEventListener(this._page.browserContext,Fe.BrowserContext.Events.Console,(B=>{if(B.page()!==this._page||B.type()!=="error")return;if(B.text().includes("Content-Security-Policy")||B.text().includes("Content Security Policy")){pe=B;w()}})))}));await Promise.race([ye,Se]);lt.eventsHelper.removeEventListeners(B);if(pe)throw new Error(pe.text());if(K)throw K;return G}async retryWithProgressAndTimeouts(w,B,G){const K=Symbol("continuePolling");B=[0,...B];let pe=0;while(true){const ye=B[Math.min(pe++,B.length-1)];if(ye){const B=new Promise((w=>setTimeout(w,ye)));await w.race(it.LongStandingScope.raceMultiple([this._page.openScope,this._detachedScope],B))}try{const w=await G(K);if(w===K)continue;return w}catch(w){if(this.isNonRetriableError(w))throw w;continue}}}isNonRetriableError(w){if((0,Xe.isAbortError)(w))return true;if(ze.isJavaScriptErrorInEvaluate(w)||(0,ot.isSessionClosedError)(w))return true;if(Me.isNonRecoverableDOMError(w)||(0,ct.isInvalidSelectorError)(w))return true;if(this.isDetached())return true;return false}async _retryWithProgressIfNotConnected(w,B,G,K,pe){w.log(`waiting for ${this._asLocator(B)}`);return this.retryWithProgressAndTimeouts(w,[0,20,50,100,100,500],(async ye=>{if(K)await this._page.performActionPreChecks(w);const Se=await w.race(this.selectors.resolveInjectedForSelector(B,{strict:G}));if(!Se)return ye;const Be=await w.race(Se.injected.evaluateHandle(((w,{info:B,callId:G})=>{const K=w.querySelectorAll(B.parsed,document);if(G)w.markTargetElements(new Set(K),G);const pe=K[0];let ye="";if(K.length>1){if(B.strict)throw w.strictModeViolationError(B.parsed,K);ye=`  locator resolved to ${K.length} elements. Proceeding with the first one: ${w.previewNode(K[0])}`}else if(pe){ye=`  locator resolved to ${w.previewNode(pe)}`}return{log:ye,success:!!pe,element:pe}}),{info:Se.info,callId:w.metadata.id}));const{log:Qe,success:Pe}=await w.race(Be.evaluate((w=>({log:w.log,success:w.success}))));if(Qe)w.log(Qe);if(!Pe){Be.dispose();return ye}const Fe=await w.race(Be.evaluateHandle((w=>w.element)));Be.dispose();try{const B=await pe(Fe);if(B==="error:notconnected"){w.log("element was detached from the DOM, retrying");return ye}return B}finally{Fe?.dispose()}}))}async rafrafTimeoutScreenshotElementWithProgress(w,B,G,K){return await this._retryWithProgressIfNotConnected(w,B,true,true,(async B=>{await B._frame.rafrafTimeout(w,G);return await this._page.screenshotter.screenshotElement(w,B,K)}))}async click(w,B,G){return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,G.strict,!G.force,(B=>B._click(w,{...G,waitAfter:!G.noWaitAfter}))))}async dblclick(w,B,G){return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,G.strict,!G.force,(B=>B._dblclick(w,G))))}async dragAndDrop(w,B,G,K){Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,K.strict,!K.force,(async B=>B._retryPointerAction(w,"move and down",false,(async B=>{await this._page.mouse.move(w,B.x,B.y);await this._page.mouse.down(w)}),{...K,waitAfter:"disabled",position:K.sourcePosition}))));Me.assertDone(await this._retryWithProgressIfNotConnected(w,G,K.strict,false,(async B=>B._retryPointerAction(w,"move and up",false,(async B=>{await this._page.mouse.move(w,B.x,B.y);await this._page.mouse.up(w)}),{...K,waitAfter:"disabled",position:K.targetPosition}))))}async tap(w,B,G){if(!this._page.browserContext._options.hasTouch)throw new Error("The page does not support tap. Use hasTouch context option to enable touch support.");return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,G.strict,!G.force,(B=>B._tap(w,G))))}async fill(w,B,G,K){return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,K.strict,!K.force,(B=>B._fill(w,G,K))))}async focus(w,B,G){Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,G.strict,true,(B=>B._focus(w))))}async blur(w,B,G){Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,G.strict,true,(B=>B._blur(w))))}async resolveSelector(w,B,G={}){const K=await w.race(this.selectors.query(B,G));if(!K)throw new Error(`No element matching ${B}`);const pe=await w.race(K.evaluateInUtility((async([w,B])=>w.generateSelectorSimple(B)),{}));if(!pe)throw new Error(`Unable to generate locator for ${B}`);let ye=K._frame;const Se=[pe];while(ye?.parentFrame()){const G=await w.race(ye.frameElement());if(G){const K=await w.race(G.evaluateInUtility((async([w,B])=>w.generateSelectorSimple(B)),{}));G.dispose();if(K==="error:notconnected"||!K)throw new Error(`Unable to generate locator for ${B}`);Se.push(K)}ye=ye.parentFrame()}const Be=Se.reverse().join(" >> internal:control=enter-frame >> ");return{resolvedSelector:Be}}async textContent(w,B,G,K){return this._callOnElementOnceMatches(w,B,((w,B)=>B.textContent),void 0,G,K)}async innerText(w,B,G,K){return this._callOnElementOnceMatches(w,B,((w,B)=>{if(B.namespaceURI!=="http://www.w3.org/1999/xhtml")throw w.createStacklessError("Node is not an HTMLElement");return B.innerText}),void 0,G,K)}async innerHTML(w,B,G,K){return this._callOnElementOnceMatches(w,B,((w,B)=>B.innerHTML),void 0,G,K)}async getAttribute(w,B,G,K,pe){return this._callOnElementOnceMatches(w,B,((w,B,G)=>B.getAttribute(G.name)),{name:G},K,pe)}async inputValue(w,B,G,K){return this._callOnElementOnceMatches(w,B,((w,B)=>{const G=w.retarget(B,"follow-label");if(!G||G.nodeName!=="INPUT"&&G.nodeName!=="TEXTAREA"&&G.nodeName!=="SELECT")throw w.createStacklessError("Node is not an <input>, <textarea> or <select> element");return G.value}),void 0,G,K)}async highlight(w,B){const G=await w.race(this.selectors.resolveInjectedForSelector(B));if(!G)return;return await w.race(G.injected.evaluate(((w,{info:B})=>w.highlight(B.parsed)),{info:G.info}))}async hideHighlight(){return this.raceAgainstEvaluationStallingEvents((async()=>{const w=await this._utilityContext();const B=await w.injectedScript();return await B.evaluate((w=>w.hideHighlight()))}))}async _elementState(w,B,G,K,pe){const ye=await this._callOnElementOnceMatches(w,B,((w,B,G)=>w.elementState(B,G.state)),{state:G},K,pe);if(ye.received==="error:notconnected")Me.throwElementIsNotAttached();return ye.matches}async isVisible(w,B,G={},K){w.log(`  checking visibility of ${this._asLocator(B)}`);return await this.isVisibleInternal(w,B,G,K)}async isVisibleInternal(w,B,G={},K){try{const pe=await w.race(this.selectors.resolveInjectedForSelector(B,G,K));if(!pe)return false;return await w.race(pe.injected.evaluate(((w,{info:B,root:G})=>{const K=w.querySelector(B.parsed,G||document,B.strict);const pe=K?w.elementState(K,"visible"):{matches:false,received:"error:notconnected"};return pe.matches}),{info:pe.info,root:pe.frame===this?K:void 0}))}catch(w){if(this.isNonRetriableError(w))throw w;return false}}async isHidden(w,B,G={},K){return!await this.isVisible(w,B,G,K)}async isDisabled(w,B,G,K){return this._elementState(w,B,"disabled",G,K)}async isEnabled(w,B,G,K){return this._elementState(w,B,"enabled",G,K)}async isEditable(w,B,G,K){return this._elementState(w,B,"editable",G,K)}async isChecked(w,B,G,K){return this._elementState(w,B,"checked",G,K)}async hover(w,B,G){return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,G.strict,!G.force,(B=>B._hover(w,G))))}async selectOption(w,B,G,K,pe){return await this._retryWithProgressIfNotConnected(w,B,pe.strict,!pe.force,(B=>B._selectOption(w,G,K,pe)))}async setInputFiles(w,B,G){const K=await(0,je.prepareFilesForUpload)(this,G);return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,G.strict,true,(B=>B._setInputFiles(w,K))))}async type(w,B,G,K){return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,K.strict,true,(B=>B._type(w,G,K))))}async press(w,B,G,K){return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,K.strict,true,(B=>B._press(w,G,K))))}async check(w,B,G){return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,G.strict,!G.force,(B=>B._setChecked(w,true,G))))}async uncheck(w,B,G){return Me.assertDone(await this._retryWithProgressIfNotConnected(w,B,G.strict,!G.force,(B=>B._setChecked(w,false,G))))}async waitForTimeout(w,B){return w.wait(B)}async ariaSnapshot(w,B){return await this._retryWithProgressIfNotConnected(w,B,true,true,(B=>w.race(B.ariaSnapshot())))}async expect(w,B,G,K){w.log(`${(0,it.renderTitleForCall)(w.metadata)}${K?` with timeout ${K}ms`:""}`);const pe={isSet:false};const fixupMetadataError=B=>{if(B.matches===G.isNot)w.metadata.error={error:{name:"Expect",message:"Expect failed"}}};try{if(B)w.log(`waiting for ${this._asLocator(B)}`);await this._page.performActionPreChecks(w);try{const K=await this._expectInternal(w,B,G,pe,true);if(K.matches!==G.isNot)return K}catch(w){if(this.isNonRetriableError(w))throw w}const K=await this.retryWithProgressAndTimeouts(w,[100,250,500,1e3],(async K=>{await this._page.performActionPreChecks(w);const{matches:ye,received:Se}=await this._expectInternal(w,B,G,pe,false);if(ye===G.isNot){return K}return{matches:ye,received:Se}}));fixupMetadataError(K);return K}catch(B){const K={matches:G.isNot,log:(0,ft.compressCallLog)(w.metadata.log)};if((0,ct.isInvalidSelectorError)(B)){K.errorMessage="Error: "+B.message}else if(ze.isJavaScriptErrorInEvaluate(B)){K.errorMessage=B.message}else if(pe.isSet){K.received=pe.received;K.errorMessage=pe.errorMessage}if(B instanceof Le.TimeoutError)K.timedOut=true;fixupMetadataError(K);return K}}async _expectInternal(w,B,G,K,pe){const race=B=>pe?B:w.race(B);const ye=B?await race(this.selectors.resolveFrameForSelector(B,{strict:true})):void 0;const{frame:Se,info:Be}=ye||{frame:this,info:void 0};const Qe=G.expression==="to.have.property"?"main":Be?.world??"utility";const Pe=await race(Se._context(Qe));const Fe=await race(Pe.injectedScript());const{log:Me,matches:Le,received:je,missingReceived:qe}=await race(Fe.evaluate((async(w,{info:B,options:G,callId:K})=>{const pe=B?w.querySelectorAll(B.parsed,document):[];if(K)w.markTargetElements(new Set(pe),K);const ye=G.expression==="to.have.count"||G.expression.endsWith(".array");let Se="";if(ye)Se=`  locator resolved to ${pe.length} element${pe.length===1?"":"s"}`;else if(pe.length>1)throw w.strictModeViolationError(B.parsed,pe);else if(pe.length)Se=`  locator resolved to ${w.previewNode(pe[0])}`;return{log:Se,...await w.expect(pe[0],G,pe)}}),{info:Be,options:G,callId:w.metadata.id}));if(Me)w.log(Me);if(Le===G.isNot){if(qe)K.errorMessage="Error: element(s) not found";else K.received=je;K.isSet=true;if(!qe&&!Array.isArray(je))w.log(`  unexpected value "${renderUnexpectedValue(G.expression,je)}"`)}return{matches:Le,received:je}}async waitForFunctionExpression(w,B,G,K,pe,ye="main"){if(typeof pe.pollingInterval==="number")(0,it.assert)(pe.pollingInterval>0,"Cannot poll with non-positive interval: "+pe.pollingInterval);B=ze.normalizeEvaluationExpression(B,G);return this.retryWithProgressAndTimeouts(w,[100],(async()=>{const Se=ye==="main"?await w.race(this._mainContext()):await w.race(this._utilityContext());const Be=await w.race(Se.injectedScript());const Qe=await w.race(Be.evaluateHandle(((w,{expression:B,isFunction:G,polling:K,arg:pe})=>{let ye;const predicate=()=>{let w=ye??globalThis.eval(B);if(G===true){ye=w;w=w(pe)}else if(G===false){w=w}else{if(typeof w==="function"){ye=w;w=w(pe)}}return w};let Se;let Be;let Qe=false;const Pe=new Promise(((w,B)=>{Se=w;Be=B}));const next=()=>{if(Qe)return;try{const B=predicate();if(B){Se(B);return}if(typeof K!=="number")w.utils.builtins.requestAnimationFrame(next);else w.utils.builtins.setTimeout(next,K)}catch(w){Be(w)}};next();return{result:Pe,abort:()=>Qe=true}}),{expression:B,isFunction:G,polling:pe.pollingInterval,arg:K}));try{return await w.race(Qe.evaluateHandle((w=>w.result)))}catch(w){await Qe.evaluate((w=>w.abort())).catch((()=>{}));throw w}finally{Qe.dispose()}}))}async waitForFunctionValueInUtility(w,B){const G=`() => {\n      const result = (${B})();\n      if (!result)\n        return result;\n      return JSON.stringify(result);\n    }`;const K=await this.waitForFunctionExpression(w,G,true,void 0,{},"utility");return JSON.parse(K.rawValue())}async title(){const w=await this._utilityContext();return w.evaluate((()=>document.title))}async rafrafTimeout(w,B){if(B===0)return;const G=await w.race(this._utilityContext());await Promise.all([w.race(G.evaluate((()=>new Promise((w=>{requestAnimationFrame((()=>{requestAnimationFrame(w)}))}))))),w.wait(B)])}_onDetached(){this._stopNetworkIdleTimer();this._detachedScope.close(new Error("Frame was detached"));for(const w of this._contextData.values()){if(w.context)w.context.contextDestroyed("Frame was detached");w.contextPromise.resolve({destroyedReason:"Frame was detached"})}if(this._parentFrame)this._parentFrame._childFrames.delete(this);this._parentFrame=null}async _callOnElementOnceMatches(w,B,G,K,pe,ye){const Se=G.toString();w.log(`waiting for ${this._asLocator(B)}`);const Be=this.retryWithProgressAndTimeouts(w,[0,20,50,100,100,500],(async G=>{const Be=await w.race(this.selectors.resolveInjectedForSelector(B,pe,ye));if(!Be)return G;const{log:Qe,success:Pe,value:Fe}=await w.race(Be.injected.evaluate(((w,{info:B,callbackText:G,taskData:K,callId:pe,root:ye})=>{const Se=w.eval(G);const Be=w.querySelector(B.parsed,ye||document,B.strict);if(!Be)return{success:false};const Qe=`  locator resolved to ${w.previewNode(Be)}`;if(pe)w.markTargetElements(new Set([Be]),pe);return{log:Qe,success:true,value:Se(w,Be,K)}}),{info:Be.info,callbackText:Se,taskData:K,callId:w.metadata.id,root:Be.frame===this?ye:void 0}));if(Qe)w.log(Qe);if(!Pe)return G;return Fe}));return ye?ye._context._raceAgainstContextDestroyed(Be):Be}_setContext(w,B){const G=this._contextData.get(w);G.context=B;if(B)G.contextPromise.resolve(B);else G.contextPromise=new ut.ManualPromise}_contextCreated(w,B){const G=this._contextData.get(w);if(G.context){G.context.contextDestroyed("Execution context was destroyed, most likely because of a navigation");this._setContext(w,null)}this._setContext(w,B)}_contextDestroyed(w){if(this._detachedScope.isClosed())return;w.contextDestroyed("Execution context was destroyed, most likely because of a navigation");for(const[B,G]of this._contextData){if(G.context===w)this._setContext(B,null)}}_startNetworkIdleTimer(){(0,it.assert)(!this._networkIdleTimer);if(this._firedLifecycleEvents.has("networkidle")||this._detachedScope.isClosed())return;this._networkIdleTimer=setTimeout((()=>{this._firedNetworkIdleSelf=true;this._page.mainFrame()._recalculateNetworkIdle()}),500)}_stopNetworkIdleTimer(){if(this._networkIdleTimer)clearTimeout(this._networkIdleTimer);this._networkIdleTimer=void 0;this._firedNetworkIdleSelf=false}async extendInjectedScript(w,B){const G=await this._context("main");const K=await G.injectedScript();await K.evaluate(((w,{source:B,arg:G})=>{w.extend(B,G)}),{source:w,arg:B})}_asLocator(w){return(0,it.asLocator)(this._page.browserContext._browser.sdkLanguage(),w)}}class SignalBarrier{constructor(w){this._protectCount=0;this._promise=new ut.ManualPromise;this._progress=w;this.retain()}waitFor(){this.release();return this._progress.race(this._promise)}addFrameNavigation(w){if(w.parentFrame())return;this.retain();const B=We.helper.waitForEvent(this._progress,w,Frame.Events.InternalNavigation,(B=>{if(!B.isPublic)return false;if(!B.error&&this._progress)this._progress.log(`  navigated to "${w._url}"`);return true}));it.LongStandingScope.raceMultiple([w._page.openScope,w._detachedScope],B.promise).catch((()=>{})).finally((()=>{B.dispose();this.release()}))}retain(){++this._protectCount}release(){--this._protectCount;if(!this._protectCount)this._promise.resolve()}}function verifyLifecycle(w,B){if(B==="networkidle0")B="networkidle";if(!rt.kLifecycleEvents.has(B))throw new Error(`${w}: expected one of (load|domcontentloaded|networkidle|commit)`);return B}function renderUnexpectedValue(w,B){if(w==="to.match.aria")return B?B.raw:B;return B}0&&0},6441:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{HarRecorder:()=>HarRecorder});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(4960);var je=G(5138);var qe=G(6741);var We=G(3587);var Ge=G(173);class HarRecorder{constructor(w,B,G){this._isFlushed=false;this._entries=[];this._zipFile=null;this._writtenZipEntries=new Set;this._artifact=new Le.Artifact(w,Me.default.join(w._browser.options.artifactsDir,`${(0,qe.createGuid)()}.har`));const K=G.urlRegexSource!==void 0&&G.urlRegexFlags!==void 0?new RegExp(G.urlRegexSource,G.urlRegexFlags):void 0;const pe=!!G.zip;const ye=G.content||(pe?"attach":"embed");this._tracer=new je.HarTracer(w,B,this,{content:ye,slimMode:G.mode==="minimal",includeTraceInfo:false,recordRequestOverrides:true,waitForContentOnStop:true,urlFilter:K??G.urlGlob});this._zipFile=ye==="attach"||pe?new Ge.yazl.ZipFile:null;this._tracer.start({omitScripts:false})}onEntryStarted(w){this._entries.push(w)}onEntryFinished(w){}onContentBlob(w,B){if(!this._zipFile||this._writtenZipEntries.has(w))return;this._writtenZipEntries.add(w);this._zipFile.addBuffer(B,w)}async flush(){if(this._isFlushed)return;this._isFlushed=true;await this._tracer.flush();const w=this._tracer.stop();w.entries=this._entries;const B=jsonStringify({log:w});if(this._zipFile){const w=new We.ManualPromise;this._zipFile.on("error",(B=>w.reject(B)));this._zipFile.addBuffer(Buffer.from(B,"utf-8"),"har.har");this._zipFile.end();this._zipFile.outputStream.pipe(Fe.default.createWriteStream(this._artifact.localPath())).on("close",(()=>{w.resolve()}));await w}else{await Fe.default.promises.writeFile(this._artifact.localPath(),B)}}async export(){await this.flush();this._artifact.reportFinished();return this._artifact}}function jsonStringify(w){const B=[];innerJsonStringify(w,B,"",false,void 0);return B.join("")}function innerJsonStringify(w,B,G,K,pe){if(typeof w!=="object"||w===null){B.push(JSON.stringify(w));return}const ye=Array.isArray(w);if(!ye&&w.constructor.name!=="Object"){B.push(JSON.stringify(w));return}const Se=ye?w:Object.entries(w).filter((w=>w[1]!==void 0));if(!Se.length){B.push(ye?`[]`:`{}`);return}const Be=`${G}  `;let Qe;if(ye)Qe=K?{open:"[",close:"]"}:{open:`[\n${Be}`,close:`\n${G}]`};else Qe=K?{open:"{ ",close:" }"}:{open:`{\n${Be}`,close:`\n${G}}`};B.push(Qe.open);for(let w=0;w<Se.length;++w){const G=Se[w];if(w)B.push(K?`, `:`,\n${Be}`);if(!ye)B.push(`${JSON.stringify(G[0])}: `);const Qe=ye?void 0:G[0];const Pe=K||Qe==="timings"||pe==="headers";innerJsonStringify(ye?G:G[1],B,Be,Pe,Qe)}B.push(Qe.close)}0&&0},5138:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{HarTracer:()=>HarTracer});w.exports=__toCommonJS(Pe);var Fe=G(7651);var Me=G(7651);var Le=G(6037);var je=G(3587);var qe=G(4331);var We=G(6609);var Ge=G(3736);var ze=G(3300);var Ye=G(3062);var Ke=__toESM(G(6182));const Xe="HTTP/1.1";class HarTracer{constructor(w,B,G,K){this._barrierPromises=new Set;this._pageEntries=new Map;this._eventListeners=[];this._started=false;this._context=w;this._page=B;this._delegate=G;this._options=K;if(K.slimMode){K.omitSecurityDetails=true;K.omitCookies=true;K.omitTiming=true;K.omitServerIP=true;K.omitSizes=true;K.omitPages=true}this._entrySymbol=Symbol("requestHarEntry");this._baseURL=w instanceof Ge.APIRequestContext?w._defaultOptions().baseURL:w._options.baseURL}start(w){if(this._started)return;this._options.omitScripts=w.omitScripts;this._started=true;const B=this._context instanceof Ge.APIRequestContext?this._context:this._context.fetchRequest;this._eventListeners=[Le.eventsHelper.addEventListener(B,Ge.APIRequestContext.Events.Request,(w=>this._onAPIRequest(w))),Le.eventsHelper.addEventListener(B,Ge.APIRequestContext.Events.RequestFinished,(w=>this._onAPIRequestFinished(w)))];if(this._context instanceof We.BrowserContext){this._eventListeners.push(Le.eventsHelper.addEventListener(this._context,We.BrowserContext.Events.Page,(w=>this._createPageEntryIfNeeded(w))),Le.eventsHelper.addEventListener(this._context,We.BrowserContext.Events.Request,(w=>this._onRequest(w))),Le.eventsHelper.addEventListener(this._context,We.BrowserContext.Events.RequestFinished,(({request:w,response:B})=>this._onRequestFinished(w,B).catch((()=>{})))),Le.eventsHelper.addEventListener(this._context,We.BrowserContext.Events.RequestFailed,(w=>this._onRequestFailed(w))),Le.eventsHelper.addEventListener(this._context,We.BrowserContext.Events.Response,(w=>this._onResponse(w))),Le.eventsHelper.addEventListener(this._context,We.BrowserContext.Events.RequestAborted,(w=>this._onRequestAborted(w))),Le.eventsHelper.addEventListener(this._context,We.BrowserContext.Events.RequestFulfilled,(w=>this._onRequestFulfilled(w))),Le.eventsHelper.addEventListener(this._context,We.BrowserContext.Events.RequestContinued,(w=>this._onRequestContinued(w))));for(const w of this._context.pages())this._createPageEntryIfNeeded(w)}}_shouldIncludeEntryWithUrl(w){return!this._options.urlFilter||(0,Me.urlMatches)(this._baseURL,w,this._options.urlFilter)}_entryForRequest(w){return w[this._entrySymbol]}_createPageEntryIfNeeded(w){if(!w)return;if(this._options.omitPages)return;if(this._page&&w!==this._page)return;let B=this._pageEntries.get(w);if(!B){const G=new Date;B={startedDateTime:G.toISOString(),id:w.guid,title:"",pageTimings:this._options.omitTiming?{}:{onContentLoad:-1,onLoad:-1}};B[rt]=G;w.mainFrame().on(ze.Frame.Events.AddLifecycle,(G=>{if(G==="load")this._onLoad(w,B);if(G==="domcontentloaded")this._onDOMContentLoaded(w,B)}));this._pageEntries.set(w,B)}return B}_onDOMContentLoaded(w,B){const G=w.mainFrame().evaluateExpression(String((()=>({title:document.title,domContentLoaded:performance.timing.domContentLoadedEventStart}))),{isFunction:true,world:"utility"}).then((w=>{B.title=w.title;if(!this._options.omitTiming)B.pageTimings.onContentLoad=w.domContentLoaded})).catch((()=>{}));this._addBarrier(w,G)}_onLoad(w,B){const G=w.mainFrame().evaluateExpression(String((()=>({title:document.title,loaded:performance.timing.loadEventStart}))),{isFunction:true,world:"utility"}).then((w=>{B.title=w.title;if(!this._options.omitTiming)B.pageTimings.onLoad=w.loaded})).catch((()=>{}));this._addBarrier(w,G)}_addBarrier(w,B){if(!w)return null;if(!this._options.waitForContentOnStop)return;const G=w.openScope.safeRace(B);this._barrierPromises.add(G);G.then((()=>this._barrierPromises.delete(G)))}_onAPIRequest(w){if(!this._shouldIncludeEntryWithUrl(w.url.toString()))return;const B=createHarEntry(void 0,w.method,w.url,void 0,this._options);B._apiRequest=true;if(!this._options.omitCookies)B.request.cookies=w.cookies;B.request.headers=Object.entries(w.headers).map((([w,B])=>({name:w,value:B})));B.request.postData=this._postDataForBuffer(w.postData||null,w.headers["content-type"],this._options.content);if(!this._options.omitSizes)B.request.bodySize=w.postData?.length||0;w[this._entrySymbol]=B;if(this._started)this._delegate.onEntryStarted(B)}_onAPIRequestFinished(w){const B=this._entryForRequest(w.requestEvent);if(!B)return;B.response.status=w.statusCode;B.response.statusText=w.statusMessage;B.response.httpVersion=w.httpVersion;B.response.redirectURL=w.headers.location||"";if(!this._options.omitServerIP){B.serverIPAddress=w.serverIPAddress;B._serverPort=w.serverPort}if(!this._options.omitTiming){B.timings=w.timings;this._computeHarEntryTotalTime(B)}if(!this._options.omitSecurityDetails)B._securityDetails=w.securityDetails;for(let G=0;G<w.rawHeaders.length;G+=2){B.response.headers.push({name:w.rawHeaders[G],value:w.rawHeaders[G+1]})}B.response.cookies=this._options.omitCookies?[]:w.cookies.map((w=>({...w,expires:w.expires===-1?void 0:safeDateToISOString(w.expires)})));const G=B.response.content;const K=w.headers["content-type"];if(K)G.mimeType=K;this._storeResponseContent(w.body,G,"other");if(!this._options.omitSizes)B.response.bodySize=w.body?.length??0;if(this._started)this._delegate.onEntryFinished(B)}_onRequest(w){if(!this._shouldIncludeEntryWithUrl(w.url()))return;const B=w.frame()?._page;if(this._page&&B!==this._page)return;const G=Ke.parseURL(w.url());if(!G)return;const K=this._createPageEntryIfNeeded(B);const pe=createHarEntry(K?.id,w.method(),G,w.frame()?.guid,this._options);this._recordRequestHeadersAndCookies(pe,w.headers());pe.request.postData=this._postDataForRequest(w,this._options.content);if(!this._options.omitSizes)pe.request.bodySize=w.bodySize();if(w.redirectedFrom()){const B=this._entryForRequest(w.redirectedFrom());if(B)B.response.redirectURL=w.url()}w[this._entrySymbol]=pe;(0,Fe.assert)(this._started);this._delegate.onEntryStarted(pe)}_recordRequestHeadersAndCookies(w,B){if(!this._options.omitCookies){w.request.cookies=[];for(const G of B.filter((w=>w.name.toLowerCase()==="cookie")))w.request.cookies.push(...G.value.split(";").map(parseCookie))}w.request.headers=B}_recordRequestOverrides(w,B){if(!B.overrides()||!this._options.recordRequestOverrides)return;w.request.method=B.method();w.request.url=B.url();w.request.postData=this._postDataForRequest(B,this._options.content);this._recordRequestHeadersAndCookies(w,B.headers())}async _onRequestFinished(w,B){if(!B)return;const G=this._entryForRequest(w);if(!G)return;const K=w.frame()?._page;if(!this._options.omitServerIP){this._addBarrier(K||w.serviceWorker(),B.serverAddr().then((w=>{if(w?.ipAddress)G.serverIPAddress=w.ipAddress;if(w?.port)G._serverPort=w.port})))}if(!this._options.omitSecurityDetails){this._addBarrier(K||w.serviceWorker(),B.securityDetails().then((w=>{if(w)G._securityDetails=w})))}const pe=B.httpVersion();G.request.httpVersion=pe;G.response.httpVersion=pe;const ye=this._options.omitSizes?void 0:{_encodedBodySize:-1,_decodedBodySize:-1,barrier:new je.ManualPromise,_check:function(){if(this._encodedBodySize!==-1&&this._decodedBodySize!==-1){G.response.content.compression=Math.max(0,this._decodedBodySize-this._encodedBodySize);this.barrier.resolve()}},setEncodedBodySize:function(w){this._encodedBodySize=w;this._check()},setDecodedBodySize:function(w){this._decodedBodySize=w;this._check()}};if(ye)this._addBarrier(K||w.serviceWorker(),ye.barrier);const Se=B.body().then((B=>{if(this._options.omitScripts&&w.resourceType()==="script"){ye?.setDecodedBodySize(0);return}const K=G.response.content;ye?.setDecodedBodySize(B.length);this._storeResponseContent(B,K,w.resourceType())})).catch((()=>{ye?.setDecodedBodySize(0)})).then((()=>{if(this._started)this._delegate.onEntryFinished(G)}));this._addBarrier(K||w.serviceWorker(),Se);const Be=B.timing();G.timings.receive=B.request()._responseEndTiming!==-1?Ye.helper.millisToRoundishMillis(B.request()._responseEndTiming-Be.responseStart):-1;this._computeHarEntryTotalTime(G);if(!this._options.omitSizes){this._addBarrier(K||w.serviceWorker(),B.sizes().then((w=>{G.response.bodySize=w.responseBodySize;G.response.headersSize=w.responseHeadersSize;G.response._transferSize=w.transferSize;G.request.headersSize=w.requestHeadersSize;ye?.setEncodedBodySize(w.responseBodySize)})))}}async _onRequestFailed(w){const B=this._entryForRequest(w);if(!B)return;if(w._failureText!==null)B.response._failureText=w._failureText;this._recordRequestOverrides(B,w);if(this._started)this._delegate.onEntryFinished(B)}_onRequestAborted(w){const B=this._entryForRequest(w);if(B)B._wasAborted=true}_onRequestFulfilled(w){const B=this._entryForRequest(w);if(B)B._wasFulfilled=true}_onRequestContinued(w){const B=this._entryForRequest(w);if(B)B._wasContinued=true}_storeResponseContent(w,B,G){if(!w){B.size=0;return}if(!this._options.omitSizes)B.size=w.length;if(this._options.content==="embed"){if((0,Me.isTextualMimeType)(B.mimeType)&&G!=="font"){B.text=w.toString()}else{B.text=w.toString("base64");B.encoding="base64"}}else if(this._options.content==="attach"){const G=(0,Fe.calculateSha1)(w)+"."+(qe.mime.getExtension(B.mimeType)||"dat");if(this._options.includeTraceInfo)B._sha1=G;else B._file=G;if(this._started)this._delegate.onContentBlob(G,w)}}_onResponse(w){const B=this._entryForRequest(w.request());if(!B)return;const G=w.frame()?._page;const K=this._createPageEntryIfNeeded(G);const pe=w.request();B.response={status:w.status(),statusText:w.statusText(),httpVersion:w.httpVersion(),cookies:[],headers:[],content:{size:-1,mimeType:"x-unknown"},headersSize:-1,bodySize:-1,redirectURL:"",_transferSize:this._options.omitSizes?void 0:-1};if(!this._options.omitTiming){const G=K?K[rt].valueOf():0;const pe=w.timing();if(K&&G>pe.startTime)K.startedDateTime=new Date(pe.startTime).toISOString();const ye=pe.domainLookupEnd!==-1?Ye.helper.millisToRoundishMillis(pe.domainLookupEnd-pe.domainLookupStart):-1;const Se=pe.connectEnd!==-1?Ye.helper.millisToRoundishMillis(pe.connectEnd-pe.connectStart):-1;const Be=pe.connectEnd!==-1?Ye.helper.millisToRoundishMillis(pe.connectEnd-pe.secureConnectionStart):-1;const Qe=pe.responseStart!==-1?Ye.helper.millisToRoundishMillis(pe.responseStart-pe.requestStart):-1;const Pe=-1;B.timings={dns:ye,connect:Se,ssl:Be,send:0,wait:Qe,receive:Pe};this._computeHarEntryTotalTime(B)}this._recordRequestOverrides(B,pe);this._addBarrier(G||pe.serviceWorker(),pe.rawRequestHeaders().then((w=>{this._recordRequestHeadersAndCookies(B,w)})));this._recordResponseHeaders(B,w.headers());this._addBarrier(G||pe.serviceWorker(),w.rawResponseHeaders().then((w=>{this._recordResponseHeaders(B,w)})))}_recordResponseHeaders(w,B){if(!this._options.omitCookies){w.response.cookies=B.filter((w=>w.name.toLowerCase()==="set-cookie")).map((w=>parseCookie(w.value)))}w.response.headers=B;const G=B.find((w=>w.name.toLowerCase()==="content-type"));if(G)w.response.content.mimeType=G.value}_computeHarEntryTotalTime(w){w.time=[w.timings.dns,w.timings.connect,w.timings.ssl,w.timings.wait,w.timings.receive].reduce(((w,B)=>(B||-1)>0?B+w:w),0)}async flush(){await Promise.all(this._barrierPromises)}stop(){this._started=false;Le.eventsHelper.removeEventListeners(this._eventListeners);this._barrierPromises.clear();const w=this._context instanceof We.BrowserContext?this._context:void 0;const B={version:"1.2",creator:{name:"Playwright",version:(0,Me.getPlaywrightVersion)()},browser:{name:w?._browser.options.name||"",version:w?._browser.version()||""},pages:this._pageEntries.size?Array.from(this._pageEntries.values()):void 0,entries:[]};if(!this._options.omitTiming){for(const w of B.pages||[]){const B=w[rt].valueOf();if(typeof w.pageTimings.onContentLoad==="number"&&w.pageTimings.onContentLoad>=0)w.pageTimings.onContentLoad-=B;else w.pageTimings.onContentLoad=-1;if(typeof w.pageTimings.onLoad==="number"&&w.pageTimings.onLoad>=0)w.pageTimings.onLoad-=B;else w.pageTimings.onLoad=-1}}this._pageEntries.clear();return B}_postDataForRequest(w,B){const G=w.postDataBuffer();if(!G)return;const K=w.headerValue("content-type");return this._postDataForBuffer(G,K,B)}_postDataForBuffer(w,B,G){if(!w)return;B??="application/octet-stream";const K={mimeType:B,text:"",params:[]};if(G==="embed"&&B!=="application/octet-stream")K.text=w.toString();if(G==="attach"){const G=(0,Fe.calculateSha1)(w)+"."+(qe.mime.getExtension(B)||"dat");if(this._options.includeTraceInfo)K._sha1=G;else K._file=G;this._delegate.onContentBlob(G,w)}if(B==="application/x-www-form-urlencoded"){const B=new URLSearchParams(w.toString());for(const[w,G]of B.entries())K.params.push({name:w,value:G})}return K}}function createHarEntry(w,B,G,K,pe){const ye={pageref:w,startedDateTime:(new Date).toISOString(),time:-1,request:{method:B,url:G.toString(),httpVersion:Xe,cookies:[],headers:[],queryString:[...G.searchParams].map((w=>({name:w[0],value:w[1]}))),headersSize:-1,bodySize:-1},response:{status:-1,statusText:"",httpVersion:Xe,cookies:[],headers:[],content:{size:-1,mimeType:"x-unknown"},headersSize:-1,bodySize:-1,redirectURL:"",_transferSize:pe.omitSizes?void 0:-1},cache:{},timings:{send:-1,wait:-1,receive:-1},_frameref:pe.includeTraceInfo?K:void 0,_monotonicTime:pe.includeTraceInfo?(0,Fe.monotonicTime)():void 0};return ye}function parseCookie(w){const B={name:"",value:""};let G=true;for(const K of w.split(/; */)){const w=K.indexOf("=");const pe=w!==-1?K.substr(0,w).trim():K.trim();const ye=w!==-1?K.substr(w+1,K.length).trim():"";if(G){G=false;B.name=pe;B.value=ye;continue}if(pe==="Domain")B.domain=ye;if(pe==="Expires")B.expires=safeDateToISOString(ye);if(pe==="HttpOnly")B.httpOnly=true;if(pe==="Max-Age")B.expires=safeDateToISOString(Date.now()+ +ye*1e3);if(pe==="Path")B.path=ye;if(pe==="SameSite")B.sameSite=ye;if(pe==="Secure")B.secure=true}return B}function safeDateToISOString(w){try{return new Date(w).toISOString()}catch(w){}}const rt=Symbol("startedDate");0&&0},4335:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{HarBackend:()=>HarBackend});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(6741);const je=[301,302,303,307,308];class HarBackend{constructor(w,B,G){this.id=(0,Le.createGuid)();this._harFile=w;this._baseDir=B;this._zipFile=G}async lookup(w,B,G,K,pe){let ye;try{ye=await this._harFindResponse(w,B,G,K)}catch(w){return{action:"error",message:"HAR error: "+w.message}}if(!ye)return{action:"noentry"};if(ye.request.url!==w&&pe)return{action:"redirect",redirectURL:ye.request.url};const Se=ye.response;try{const w=await this._loadContent(Se.content);return{action:"fulfill",status:Se.status,headers:Se.headers,body:w}}catch(w){return{action:"error",message:w.message}}}async _loadContent(w){const B=w._file;let G;if(B){if(this._zipFile)G=await this._zipFile.read(B);else G=await Fe.default.promises.readFile(Me.default.resolve(this._baseDir,B))}else{G=Buffer.from(w.text||"",w.encoding==="base64"?"base64":"utf-8")}return G}async _harFindResponse(w,B,G,K){const pe=this._harFile.log;const ye=new Set;while(true){const Se=[];for(const ye of pe.entries){if(ye.request.url!==w||ye.request.method!==B)continue;if(B==="POST"&&K&&ye.request.postData){const w=await this._loadContent(ye.request.postData);if(!w.equals(K)){const B=multipartBoundary(G);if(!B)continue;const pe=multipartBoundary(ye.request.headers);if(!pe)continue;if(K.toString().replaceAll(B,"")!==w.toString().replaceAll(pe,""))continue}}Se.push(ye)}if(!Se.length)return;let Be=Se[0];if(Se.length>1){const w=[];for(const B of Se){const K=countMatchingHeaders(B.request.headers,G);w.push({candidate:B,matchingHeaders:K})}w.sort(((w,B)=>B.matchingHeaders-w.matchingHeaders));Be=w[0].candidate}if(ye.has(Be))throw new Error(`Found redirect cycle for ${w}`);ye.add(Be);const Qe=Be.response.headers.find((w=>w.name.toLowerCase()==="location"));if(je.includes(Be.response.status)&&Qe){const G=new URL(Qe.value,w);w=G.toString();if((Be.response.status===301||Be.response.status===302)&&B==="POST"||Be.response.status===303&&!["GET","HEAD"].includes(B)){B="GET"}continue}return Be}}dispose(){this._zipFile?.close()}}function countMatchingHeaders(w,B){const G=new Set(B.map((w=>w.name.toLowerCase()+":"+w.value)));let K=0;for(const B of w){if(G.has(B.name.toLowerCase()+":"+B.value))++K}return K}function multipartBoundary(w){const B=w.find((w=>w.name.toLowerCase()==="content-type"));if(!B?.value.includes("multipart/form-data"))return void 0;const G=B.value.match(/boundary=(\S+)/);if(G)return G[1];return void 0}0&&0},3062:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{helper:()=>Me});w.exports=__toCommonJS(Be);var Qe=G(5809);var Pe=G(6037);const Fe=process.env.MAX_LOG_LENGTH?+process.env.MAX_LOG_LENGTH:Infinity;class Helper{static completeUserURL(w){if(w.startsWith("localhost")||w.startsWith("127.0.0.1"))w="http://"+w;return w}static enclosingIntRect(w){const B=Math.floor(w.x+.001);const G=Math.floor(w.y+.001);const K=Math.ceil(w.x+w.width-.001);const pe=Math.ceil(w.y+w.height-.001);return{x:B,y:G,width:K-B,height:pe-G}}static enclosingIntSize(w){return{width:Math.floor(w.width+.001),height:Math.floor(w.height+.001)}}static getViewportSizeFromWindowFeatures(w){const B=w.find((w=>w.startsWith("width=")));const G=w.find((w=>w.startsWith("height=")));const K=B?parseInt(B.substring(6),10):NaN;const pe=G?parseInt(G.substring(7),10):NaN;if(!Number.isNaN(K)&&!Number.isNaN(pe))return{width:K,height:pe};return null}static waitForEvent(w,B,G,K){const pe=[];const dispose=()=>Pe.eventsHelper.removeEventListeners(pe);const ye=w.race(new Promise(((w,ye)=>{pe.push(Pe.eventsHelper.addEventListener(B,G,(B=>{try{if(K&&!K(B))return;w(B)}catch(w){ye(w)}})))}))).finally((()=>dispose()));return{promise:ye,dispose:dispose}}static secondsToRoundishMillis(w){return(w*1e6|0)/1e3}static millisToRoundishMillis(w){return(w*1e3|0)/1e3}static debugProtocolLogger(w){return(B,G)=>{if(w)w(B,G);if(Qe.debugLogger.isEnabled("protocol")){let w=JSON.stringify(G);if(w.length>Fe)w=w.substring(0,Fe/2)+" <<<<<( LOG TRUNCATED )>>>>> "+w.substring(w.length-Fe/2);Qe.debugLogger.log("protocol",(B==="send"?"SEND  ":" RECV ")+w)}}}static formatBrowserLogs(w,B){if(!B&&!w.length)return"";return"\n"+(B?B+"\n":"")+w.join("\n")}}const Me=Helper;0&&0},4160:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{DispatcherConnection:()=>Pe.DispatcherConnection,PlaywrightDispatcher:()=>Fe.PlaywrightDispatcher,Registry:()=>Qe.Registry,RootDispatcher:()=>Pe.RootDispatcher,createPlaywright:()=>Me.createPlaywright,installBrowsersForNpmInstall:()=>Qe.installBrowsersForNpmInstall,installRootRedirect:()=>Le.installRootRedirect,openTraceInBrowser:()=>Le.openTraceInBrowser,openTraceViewerApp:()=>Le.openTraceViewerApp,registry:()=>Qe.registry,registryDirectory:()=>Qe.registryDirectory,runTraceViewerApp:()=>Le.runTraceViewerApp,startTraceViewerServer:()=>Le.startTraceViewerServer,writeDockerVersion:()=>Qe.writeDockerVersion});w.exports=__toCommonJS(Be);var Qe=G(586);var Pe=G(208);var Fe=G(4603);var Me=G(1409);var Le=G(2214);0&&0},912:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Keyboard:()=>Keyboard,Mouse:()=>Mouse,Touchscreen:()=>Touchscreen,keypadLocation:()=>je,resolveSmartModifier:()=>resolveSmartModifier,resolveSmartModifierString:()=>resolveSmartModifierString});w.exports=__toCommonJS(Pe);var Fe=G(7651);var Me=__toESM(G(9489));var Le=G(7392);const je=Me.keypadLocation;const qe=["Alt","Control","Meta","Shift"];class Keyboard{constructor(w,B){this._pressedModifiers=new Set;this._pressedKeys=new Set;this._raw=w;this._page=B}async down(w,B){const G=this._keyDescriptionForString(B);const K=this._pressedKeys.has(G.code);this._pressedKeys.add(G.code);if(qe.includes(G.key))this._pressedModifiers.add(G.key);await this._raw.keydown(w,this._pressedModifiers,B,G,K)}_keyDescriptionForString(w){const B=resolveSmartModifierString(w);let G=Ge.get(B);if(!G)throw new Le.NonRecoverableDOMError(`Unknown key: "${B}"`);const K=this._pressedModifiers.has("Shift");G=K&&G.shifted?G.shifted:G;if(this._pressedModifiers.size>1||!this._pressedModifiers.has("Shift")&&this._pressedModifiers.size===1)return{...G,text:""};return G}async up(w,B){const G=this._keyDescriptionForString(B);if(qe.includes(G.key))this._pressedModifiers.delete(G.key);this._pressedKeys.delete(G.code);await this._raw.keyup(w,this._pressedModifiers,B,G)}async insertText(w,B){await this._raw.sendText(w,B)}async type(w,B,G){const K=G&&G.delay||void 0;for(const G of B){if(Ge.has(G)){await this.press(w,G,{delay:K})}else{if(K)await w.wait(K);await this.insertText(w,G)}}}async press(w,B,G={}){function split(w){const B=[];let G="";for(const K of w){if(K==="+"&&G){B.push(G);G=""}else{G+=K}}B.push(G);return B}const K=split(B);B=K[K.length-1];for(let B=0;B<K.length-1;++B)await this.down(w,K[B]);await this.down(w,B);if(G.delay)await w.wait(G.delay);await this.up(w,B);for(let B=K.length-2;B>=0;--B)await this.up(w,K[B])}async ensureModifiers(w,B){const G=B.map(resolveSmartModifier);for(const w of G){if(!qe.includes(w))throw new Error("Unknown modifier "+w)}const K=Array.from(this._pressedModifiers);for(const B of qe){const K=G.includes(B);const pe=this._pressedModifiers.has(B);if(K&&!pe)await this.down(w,B);else if(!K&&pe)await this.up(w,B)}return K}_modifiers(){return this._pressedModifiers}}function resolveSmartModifierString(w){if(w==="ControlOrMeta")return process.platform==="darwin"?"Meta":"Control";return w}function resolveSmartModifier(w){return resolveSmartModifierString(w)}class Mouse{constructor(w,B){this._x=0;this._y=0;this._lastButton="none";this._buttons=new Set;this._raw=w;this._page=B;this._keyboard=this._page.keyboard}currentPoint(){return{x:this._x,y:this._y}}async move(w,B,G,K={}){const{steps:pe=1}=K;const ye=this._x;const Se=this._y;this._x=B;this._y=G;for(let Be=1;Be<=pe;Be++){const Qe=ye+(B-ye)*(Be/pe);const Pe=Se+(G-Se)*(Be/pe);await this._raw.move(w,Qe,Pe,this._lastButton,this._buttons,this._keyboard._modifiers(),!!K.forClick)}}async down(w,B={}){const{button:G="left",clickCount:K=1}=B;this._lastButton=G;this._buttons.add(G);await this._raw.down(w,this._x,this._y,this._lastButton,this._buttons,this._keyboard._modifiers(),K)}async up(w,B={}){const{button:G="left",clickCount:K=1}=B;this._lastButton="none";this._buttons.delete(G);await this._raw.up(w,this._x,this._y,G,this._buttons,this._keyboard._modifiers(),K)}async click(w,B,G,K={}){const{delay:pe=null,clickCount:ye=1}=K;if(pe){this.move(w,B,G,{forClick:true});for(let B=1;B<=ye;++B){await this.down(w,{...K,clickCount:B});await w.wait(pe);await this.up(w,{...K,clickCount:B});if(B<ye)await w.wait(pe)}}else{const pe=[];pe.push(this.move(w,B,G,{forClick:true}));for(let B=1;B<=ye;++B){pe.push(this.down(w,{...K,clickCount:B}));pe.push(this.up(w,{...K,clickCount:B}))}await Promise.all(pe)}}async wheel(w,B,G){await this._raw.wheel(w,this._x,this._y,this._buttons,this._keyboard._modifiers(),B,G)}}const We=new Map([["ShiftLeft",["Shift"]],["ControlLeft",["Control"]],["AltLeft",["Alt"]],["MetaLeft",["Meta"]],["Enter",["\n","\r"]]]);const Ge=buildLayoutClosure(Me.USKeyboardLayout);function buildLayoutClosure(w){const B=new Map;for(const G in w){const K=w[G];const pe={key:K.key||"",keyCode:K.keyCode||0,keyCodeWithoutLocation:K.keyCodeWithoutLocation||K.keyCode||0,code:G,text:K.text||"",location:K.location||0};if(K.key.length===1)pe.text=pe.key;let ye;if(K.shiftKey){(0,Fe.assert)(K.shiftKey.length===1);ye={...pe};ye.key=K.shiftKey;ye.text=K.shiftKey;if(K.shiftKeyCode)ye.keyCode=K.shiftKeyCode}B.set(G,{...pe,shifted:ye});if(We.has(G)){for(const w of We.get(G))B.set(w,pe)}if(K.location)continue;if(pe.key.length===1)B.set(pe.key,pe);if(ye)B.set(ye.key,{...ye,shifted:void 0})}return B}class Touchscreen{constructor(w,B){this._raw=w;this._page=B}async tap(w,B,G){if(!this._page.browserContext._options.hasTouch)throw new Error("hasTouch must be enabled on the browser context before using the touchscreen.");await this._raw.tap(w,B,G,this._page.keyboard._modifiers())}}0&&0},9814:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{SdkObject:()=>SdkObject,createInstrumentation:()=>createInstrumentation,createRootSdkObject:()=>createRootSdkObject});w.exports=__toCommonJS(Be);var Qe=G(4434);var Pe=G(6741);class SdkObject extends Qe.EventEmitter{constructor(w,B,G){super();this.guid=G||`${B||""}@${(0,Pe.createGuid)()}`;this.setMaxListeners(0);this.attribution={...w.attribution};this.instrumentation=w.instrumentation}}function createRootSdkObject(){const w={attribution:{},instrumentation:createInstrumentation()};const B=new SdkObject(w);B.guid="";return B}function createInstrumentation(){const w=new Map;return new Proxy({},{get:(B,G)=>{if(typeof G!=="string")return B[G];if(G==="addListener")return(B,G)=>w.set(B,G);if(G==="removeListener")return B=>w.delete(B);if(!G.startsWith("on"))return B[G];return async(B,...K)=>{for(const[pe,ye]of w){if(!ye||B.attribution.context===ye)await(pe[G]?.(B,...K))}}}})}0&&0},1485:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{ExecutionContext:()=>ExecutionContext,JSHandle:()=>JSHandle,JavaScriptErrorInEvaluate:()=>JavaScriptErrorInEvaluate,evaluate:()=>evaluate,evaluateExpression:()=>evaluateExpression,isJavaScriptErrorInEvaluate:()=>isJavaScriptErrorInEvaluate,normalizeEvaluationExpression:()=>normalizeEvaluationExpression,parseUnserializableValue:()=>parseUnserializableValue,sparseArrayToString:()=>sparseArrayToString});w.exports=__toCommonJS(Pe);var Fe=G(9814);var Me=__toESM(G(2182));var Le=G(7651);var je=G(3642);var qe=G(3587);class ExecutionContext extends Fe.SdkObject{constructor(w,B,G){super(w,"execution-context");this._contextDestroyedScope=new qe.LongStandingScope;this.worldNameForTest=G;this.delegate=B}contextDestroyed(w){this._contextDestroyedScope.close(new Error(w))}async _raceAgainstContextDestroyed(w){return this._contextDestroyedScope.race(w)}rawEvaluateJSON(w){return this._raceAgainstContextDestroyed(this.delegate.rawEvaluateJSON(w))}rawEvaluateHandle(w){return this._raceAgainstContextDestroyed(this.delegate.rawEvaluateHandle(this,w))}async evaluateWithArguments(w,B,G,K){const pe=await this.utilityScript();return this._raceAgainstContextDestroyed(this.delegate.evaluateWithArguments(w,B,pe,G,K))}getProperties(w){return this._raceAgainstContextDestroyed(this.delegate.getProperties(w))}releaseHandle(w){return this.delegate.releaseHandle(w)}adoptIfNeeded(w){return null}utilityScript(){if(!this._utilityScriptPromise){const w=`\n      (() => {\n        const module = {};\n        ${Me.source}\n        return new (module.exports.UtilityScript())(globalThis, ${(0,Le.isUnderTest)()});\n      })();`;this._utilityScriptPromise=this._raceAgainstContextDestroyed(this.delegate.rawEvaluateHandle(this,w)).then((w=>{w._setPreview("UtilityScript");return w}))}return this._utilityScriptPromise}async doSlowMo(){}}class JSHandle extends Fe.SdkObject{constructor(w,B,G,K,pe){super(w,"handle");this.__jshandle=true;this._disposed=false;this._context=w;this._objectId=K;this._value=pe;this._objectType=B;this._preview=this._objectId?G||`JSHandle@${this._objectType}`:String(pe);if(this._objectId&&globalThis.leakedJSHandles)globalThis.leakedJSHandles.set(this,new Error("Leaked JSHandle"))}async evaluate(w,B){return evaluate(this._context,true,w,this,B)}async evaluateHandle(w,B){return evaluate(this._context,false,w,this,B)}async evaluateExpression(w,B,G){const K=await evaluateExpression(this._context,w,{...B,returnByValue:true},this,G);await this._context.doSlowMo();return K}async evaluateExpressionHandle(w,B,G){const K=await evaluateExpression(this._context,w,{...B,returnByValue:false},this,G);await this._context.doSlowMo();return K}async getProperty(w){const B=await this.evaluateHandle(((w,B)=>{const G={__proto__:null};G[B]=w[B];return G}),w);const G=await B.getProperties();const K=G.get(w);B.dispose();return K}async getProperties(){if(!this._objectId)return new Map;return this._context.getProperties(this)}rawValue(){return this._value}async jsonValue(){if(!this._objectId)return this._value;const w=`(utilityScript, ...args) => utilityScript.jsonValue(...args)`;return this._context.evaluateWithArguments(w,true,[true],[this])}asElement(){return null}dispose(){if(this._disposed)return;this._disposed=true;if(this._objectId){this._context.releaseHandle(this).catch((w=>{}));if(globalThis.leakedJSHandles)globalThis.leakedJSHandles.delete(this)}}toString(){return this._preview}_setPreviewCallback(w){this._previewCallback=w}preview(){return this._preview}worldNameForTest(){return this._context.worldNameForTest}_setPreview(w){this._preview=w;if(this._previewCallback)this._previewCallback(w)}}async function evaluate(w,B,G,...K){return evaluateExpression(w,String(G),{returnByValue:B,isFunction:typeof G==="function"},...K)}async function evaluateExpression(w,B,G,...K){B=normalizeEvaluationExpression(B,G.isFunction);const pe=[];const ye=[];const pushHandle=w=>{pe.push(w);return pe.length-1};K=K.map((B=>(0,je.serializeAsCallArgument)(B,(B=>{if(B instanceof JSHandle){if(!B._objectId)return{fallThrough:B._value};if(B._disposed)throw new JavaScriptErrorInEvaluate("JSHandle is disposed!");const G=w.adoptIfNeeded(B);if(G===null)return{h:pushHandle(Promise.resolve(B))};ye.push(G);return{h:pushHandle(G)}}return{fallThrough:B}}))));const Se=[];for(const B of await Promise.all(pe)){if(B._context!==w)throw new JavaScriptErrorInEvaluate("JSHandles can be evaluated only in the context they were created!");Se.push(B)}const Be=[G.isFunction,G.returnByValue,B,K.length,...K];const Qe=`(utilityScript, ...args) => utilityScript.evaluate(...args)`;try{return await w.evaluateWithArguments(Qe,G.returnByValue||false,Be,Se)}finally{ye.map((w=>w.then((w=>w.dispose()))))}}function parseUnserializableValue(w){if(w==="NaN")return NaN;if(w==="Infinity")return Infinity;if(w==="-Infinity")return-Infinity;if(w==="-0")return-0}function normalizeEvaluationExpression(w,B){w=w.trim();if(B){try{new Function("("+w+")")}catch(B){if(w.startsWith("async "))w="async function "+w.substring("async ".length);else w="function "+w;try{new Function("("+w+")")}catch(w){throw new Error("Passed function is not well-serializable!")}}}if(/^(async)?\s*function(\s|\()/.test(w))w="("+w+")";return w}class JavaScriptErrorInEvaluate extends Error{}function isJavaScriptErrorInEvaluate(w){return w instanceof JavaScriptErrorInEvaluate}function sparseArrayToString(w){const B=[];for(const{name:G,value:K}of w){const w=+G;if(isNaN(w)||w<0)continue;B.push({index:w,value:K})}B.sort(((w,B)=>w.index-B.index));let G=-1;const K=[];for(const{index:w,value:pe}of B){const B=w-G-1;if(B===1)K.push(`empty`);else if(B>1)K.push(`empty x ${B}`);K.push(String(pe));G=w}return"["+K.join(", ")+"]"}0&&0},9742:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{launchApp:()=>launchApp,syncLocalStorageWithSettings:()=>syncLocalStorageWithSettings});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(7651);var je=G(586);var qe=G(586);var We=G(6665);async function launchApp(w,B){const G=[...B.persistentContextOptions?.args??[]];let K=B.persistentContextOptions?.channel;if(w.name()==="chromium"){G.push("--app=data:text/html,",`--window-size=${B.windowSize.width},${B.windowSize.height}`,...B.windowPosition?[`--window-position=${B.windowPosition.x},${B.windowPosition.y}`]:[],"--test-type=");if(!K&&!B.persistentContextOptions?.executablePath)K=(0,je.findChromiumChannelBestEffort)(B.sdkLanguage)}const pe=new We.ProgressController;let ye;try{ye=await pe.run((pe=>w.launchPersistentContext(pe,"",{ignoreDefaultArgs:["--enable-automation"],...B?.persistentContextOptions,channel:K,noDefaultViewport:B.persistentContextOptions?.noDefaultViewport??true,acceptDownloads:B?.persistentContextOptions?.acceptDownloads??((0,Le.isUnderTest)()?"accept":"internal-browser-default"),colorScheme:B?.persistentContextOptions?.colorScheme??"no-override",args:G})),0)}catch(w){if(K){w=(0,Le.rewriteErrorMessage)(w,[`Failed to launch "${K}" channel.`,"Using custom channels could lead to unexpected behavior due to Enterprise policies (chrome://policy).","Install the default browser instead:",(0,Le.wrapInASCIIBox)(`${(0,je.buildPlaywrightCLICommand)(B.sdkLanguage,"install")}`,2)].join("\n"))}throw w}const[Se]=ye.pages();if(w.name()==="chromium"&&process.platform==="darwin"){ye.on("page",(async w=>{if(w.mainFrame().url()==="chrome://new-tab-page/"){await Se.bringToFront();await w.close()}}))}if(w.name()==="chromium")await installAppIcon(Se);return{context:ye,page:Se}}async function installAppIcon(w){const B=await Fe.default.promises.readFile(G.ab+"appIcon.png");const K=w.delegate;await K._mainFrameSession._client.send("Browser.setDockTile",{image:B.toString("base64")})}async function syncLocalStorageWithSettings(w,B){if((0,Le.isUnderTest)())return;const G=Me.default.join(qe.registryDirectory,".settings",`${B}.json`);const K=new We.ProgressController;await K.run((async B=>{await w.exposeBinding(B,"_saveSerializedSettings",false,((w,B)=>{Fe.default.mkdirSync(Me.default.dirname(G),{recursive:true});Fe.default.writeFileSync(G,B)}));const K=await Fe.default.promises.readFile(G,"utf-8").catch((()=>"{}"));await w.addInitScript(B,`(${String((w=>{if(location&&location.protocol==="data:")return;if(window.top!==window)return;Object.entries(w).map((([w,B])=>localStorage[w]=B));window.saveSettings=()=>{window._saveSerializedSettings(JSON.stringify({...localStorage}))}}))})(${K});\n    `)}))}0&&0},1462:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{addStackToTracingNoReply:()=>addStackToTracingNoReply,harClose:()=>harClose,harLookup:()=>harLookup,harOpen:()=>harOpen,harUnzip:()=>harUnzip,traceDiscarded:()=>traceDiscarded,tracingStarted:()=>tracingStarted,zip:()=>zip});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(857));var Le=__toESM(G(6928));var je=G(6741);var qe=G(4335);var We=G(3587);var Ge=G(1723);var ze=G(173);var Ye=G(3524);var Ke=G(8164);var Xe=G(3449);async function zip(w,B,G){const K=new We.ManualPromise;const pe=new ze.yazl.ZipFile;pe.on("error",(w=>K.reject(w)));const addFile=(w,B)=>{try{if(Fe.default.statSync(w).isFile())pe.addFile(w,B)}catch(w){}};for(const w of G.entries)addFile(w.value,w.name);const ye=G.stacksId?B.get(G.stacksId):void 0;if(ye?.callStacks.length){await w.race(ye.writer);if(process.env.PW_LIVE_TRACE_STACKS){pe.addFile(ye.file,"trace.stacks")}else{const w=Buffer.from(JSON.stringify((0,Ye.serializeClientSideCallMetadata)(ye.callStacks)));pe.addBuffer(w,"trace.stacks")}}if(G.includeSources){const w=new Set;for(const{stack:B}of ye?.callStacks||[]){if(!B)continue;for(const{file:G}of B)w.add(G)}for(const B of w)addFile(B,"resources/src@"+await(0,je.calculateSha1)(B)+".txt")}if(G.mode==="write"){await w.race(Fe.default.promises.mkdir(Le.default.dirname(G.zipFile),{recursive:true}));pe.end(void 0,(()=>{pe.outputStream.pipe(Fe.default.createWriteStream(G.zipFile)).on("close",(()=>K.resolve())).on("error",(w=>K.reject(w)))}));await w.race(K);await deleteStackSession(w,B,G.stacksId);return}const Se=G.zipFile+".tmp";await w.race(Fe.default.promises.rename(G.zipFile,Se));ze.yauzl.open(Se,((w,B)=>{if(w){K.reject(w);return}(0,Ke.assert)(B);let ye=B.entryCount;B.on("entry",(w=>{B.openReadStream(w,((B,Be)=>{if(B){K.reject(B);return}pe.addReadStream(Be,w.fileName);if(--ye===0){pe.end(void 0,(()=>{pe.outputStream.pipe(Fe.default.createWriteStream(G.zipFile)).on("close",(()=>{Fe.default.promises.unlink(Se).then((()=>{K.resolve()})).catch((w=>K.reject(w)))}))}))}}))}))}));await w.race(K);await deleteStackSession(w,B,G.stacksId)}async function deleteStackSession(w,B,G){const K=G?B.get(G):void 0;if(!K)return;B.delete(G);if(K.tmpDir)await w.race((0,Xe.removeFolders)([K.tmpDir]))}async function harOpen(w,B,G){let K;if(G.file.endsWith(".zip")){const B=new Ge.ZipFile(G.file);try{const G=await w.race(B.entries());const pe=G.find((w=>w.endsWith(".har")));if(!pe)return{error:"Specified archive does not have a .har file"};const ye=await w.race(B.read(pe));const Se=JSON.parse(ye.toString());K=new qe.HarBackend(Se,null,B)}catch(w){B.close();throw w}}else{const B=JSON.parse(await w.race(Fe.default.promises.readFile(G.file,"utf-8")));K=new qe.HarBackend(B,Le.default.dirname(G.file),null)}B.set(K.id,K);return{harId:K.id}}async function harLookup(w,B,G){const K=B.get(G.harId);if(!K)return{action:"error",message:`Internal error: har was not opened`};return await w.race(K.lookup(G.url,G.method,G.headers,G.postData,G.isNavigationRequest))}function harClose(w,B){const G=w.get(B.harId);if(G){w.delete(G.id);G.dispose()}}async function harUnzip(w,B){const G=Le.default.dirname(B.zipFile);const K=new Ge.ZipFile(B.zipFile);try{for(const pe of await w.race(K.entries())){const ye=await w.race(K.read(pe));if(pe==="har.har")await w.race(Fe.default.promises.writeFile(B.harFile,ye));else await w.race(Fe.default.promises.writeFile(Le.default.join(G,pe),ye))}await w.race(Fe.default.promises.unlink(B.zipFile))}finally{K.close()}}async function tracingStarted(w,B,G){let K=void 0;if(!G.tracesDir)K=await w.race(Fe.default.promises.mkdtemp(Le.default.join(Me.default.tmpdir(),"playwright-tracing-")));const pe=Le.default.join(G.tracesDir||K,G.traceName+".stacks");B.set(pe,{callStacks:[],file:pe,writer:Promise.resolve(),tmpDir:K});return{stacksId:pe}}async function traceDiscarded(w,B,G){await deleteStackSession(w,B,G.stacksId)}function addStackToTracingNoReply(w,B){for(const G of w.values()){G.callStacks.push(B.callData);if(process.env.PW_LIVE_TRACE_STACKS){G.writer=G.writer.then((()=>{const w=Buffer.from(JSON.stringify((0,Ye.serializeClientSideCallMetadata)(G.callStacks)));return Fe.default.promises.writeFile(G.file,w)}))}}}0&&0},1661:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{macEditingCommands:()=>Se});w.exports=__toCommonJS(ye);const Se={Backspace:"deleteBackward:",Enter:"insertNewline:",NumpadEnter:"insertNewline:",Escape:"cancelOperation:",ArrowUp:"moveUp:",ArrowDown:"moveDown:",ArrowLeft:"moveLeft:",ArrowRight:"moveRight:",F5:"complete:",Delete:"deleteForward:",Home:"scrollToBeginningOfDocument:",End:"scrollToEndOfDocument:",PageUp:"scrollPageUp:",PageDown:"scrollPageDown:","Shift+Backspace":"deleteBackward:","Shift+Enter":"insertNewline:","Shift+NumpadEnter":"insertNewline:","Shift+Escape":"cancelOperation:","Shift+ArrowUp":"moveUpAndModifySelection:","Shift+ArrowDown":"moveDownAndModifySelection:","Shift+ArrowLeft":"moveLeftAndModifySelection:","Shift+ArrowRight":"moveRightAndModifySelection:","Shift+F5":"complete:","Shift+Delete":"deleteForward:","Shift+Home":"moveToBeginningOfDocumentAndModifySelection:","Shift+End":"moveToEndOfDocumentAndModifySelection:","Shift+PageUp":"pageUpAndModifySelection:","Shift+PageDown":"pageDownAndModifySelection:","Shift+Numpad5":"delete:","Control+Tab":"selectNextKeyView:","Control+Enter":"insertLineBreak:","Control+NumpadEnter":"insertLineBreak:","Control+Quote":"insertSingleQuoteIgnoringSubstitution:","Control+KeyA":"moveToBeginningOfParagraph:","Control+KeyB":"moveBackward:","Control+KeyD":"deleteForward:","Control+KeyE":"moveToEndOfParagraph:","Control+KeyF":"moveForward:","Control+KeyH":"deleteBackward:","Control+KeyK":"deleteToEndOfParagraph:","Control+KeyL":"centerSelectionInVisibleArea:","Control+KeyN":"moveDown:","Control+KeyO":["insertNewlineIgnoringFieldEditor:","moveBackward:"],"Control+KeyP":"moveUp:","Control+KeyT":"transpose:","Control+KeyV":"pageDown:","Control+KeyY":"yank:","Control+Backspace":"deleteBackwardByDecomposingPreviousCharacter:","Control+ArrowUp":"scrollPageUp:","Control+ArrowDown":"scrollPageDown:","Control+ArrowLeft":"moveToLeftEndOfLine:","Control+ArrowRight":"moveToRightEndOfLine:","Shift+Control+Enter":"insertLineBreak:","Shift+Control+NumpadEnter":"insertLineBreak:","Shift+Control+Tab":"selectPreviousKeyView:","Shift+Control+Quote":"insertDoubleQuoteIgnoringSubstitution:","Shift+Control+KeyA":"moveToBeginningOfParagraphAndModifySelection:","Shift+Control+KeyB":"moveBackwardAndModifySelection:","Shift+Control+KeyE":"moveToEndOfParagraphAndModifySelection:","Shift+Control+KeyF":"moveForwardAndModifySelection:","Shift+Control+KeyN":"moveDownAndModifySelection:","Shift+Control+KeyP":"moveUpAndModifySelection:","Shift+Control+KeyV":"pageDownAndModifySelection:","Shift+Control+Backspace":"deleteBackwardByDecomposingPreviousCharacter:","Shift+Control+ArrowUp":"scrollPageUp:","Shift+Control+ArrowDown":"scrollPageDown:","Shift+Control+ArrowLeft":"moveToLeftEndOfLineAndModifySelection:","Shift+Control+ArrowRight":"moveToRightEndOfLineAndModifySelection:","Alt+Backspace":"deleteWordBackward:","Alt+Enter":"insertNewlineIgnoringFieldEditor:","Alt+NumpadEnter":"insertNewlineIgnoringFieldEditor:","Alt+Escape":"complete:","Alt+ArrowUp":["moveBackward:","moveToBeginningOfParagraph:"],"Alt+ArrowDown":["moveForward:","moveToEndOfParagraph:"],"Alt+ArrowLeft":"moveWordLeft:","Alt+ArrowRight":"moveWordRight:","Alt+Delete":"deleteWordForward:","Alt+PageUp":"pageUp:","Alt+PageDown":"pageDown:","Shift+Alt+Backspace":"deleteWordBackward:","Shift+Alt+Enter":"insertNewlineIgnoringFieldEditor:","Shift+Alt+NumpadEnter":"insertNewlineIgnoringFieldEditor:","Shift+Alt+Escape":"complete:","Shift+Alt+ArrowUp":"moveParagraphBackwardAndModifySelection:","Shift+Alt+ArrowDown":"moveParagraphForwardAndModifySelection:","Shift+Alt+ArrowLeft":"moveWordLeftAndModifySelection:","Shift+Alt+ArrowRight":"moveWordRightAndModifySelection:","Shift+Alt+Delete":"deleteWordForward:","Shift+Alt+PageUp":"pageUp:","Shift+Alt+PageDown":"pageDown:","Control+Alt+KeyB":"moveWordBackward:","Control+Alt+KeyF":"moveWordForward:","Control+Alt+Backspace":"deleteWordBackward:","Shift+Control+Alt+KeyB":"moveWordBackwardAndModifySelection:","Shift+Control+Alt+KeyF":"moveWordForwardAndModifySelection:","Shift+Control+Alt+Backspace":"deleteWordBackward:","Meta+NumpadSubtract":"cancel:","Meta+Backspace":"deleteToBeginningOfLine:","Meta+ArrowUp":"moveToBeginningOfDocument:","Meta+ArrowDown":"moveToEndOfDocument:","Meta+ArrowLeft":"moveToLeftEndOfLine:","Meta+ArrowRight":"moveToRightEndOfLine:","Shift+Meta+NumpadSubtract":"cancel:","Shift+Meta+Backspace":"deleteToBeginningOfLine:","Shift+Meta+ArrowUp":"moveToBeginningOfDocumentAndModifySelection:","Shift+Meta+ArrowDown":"moveToEndOfDocumentAndModifySelection:","Shift+Meta+ArrowLeft":"moveToLeftEndOfLineAndModifySelection:","Shift+Meta+ArrowRight":"moveToRightEndOfLineAndModifySelection:","Meta+KeyA":"selectAll:","Meta+KeyC":"copy:","Meta+KeyX":"cut:","Meta+KeyV":"paste:","Meta+KeyZ":"undo:","Shift+Meta+KeyZ":"redo:"};0&&0},6182:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Request:()=>Request,Response:()=>Response,Route:()=>Route,WebSocket:()=>WebSocket,filterCookies:()=>filterCookies,isLocalHostname:()=>isLocalHostname,kMaxCookieExpiresDateInSeconds:()=>je,mergeHeaders:()=>mergeHeaders,parseURL:()=>parseURL,rewriteCookies:()=>rewriteCookies,singleHeader:()=>singleHeader,statusText:()=>statusText,stripFragmentFromUrl:()=>stripFragmentFromUrl});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(6609);var Fe=G(3736);var Me=G(9814);var Le=G(3587);function filterCookies(w,B){const G=B.map((w=>new URL(w)));return w.filter((w=>{if(!G.length)return true;for(const B of G){let G=w.domain;if(!G.startsWith("."))G="."+G;if(!("."+B.hostname).endsWith(G))continue;if(!B.pathname.startsWith(w.path))continue;if(B.protocol!=="https:"&&!isLocalHostname(B.hostname)&&w.secure)continue;return true}return false}))}function isLocalHostname(w){return w==="localhost"||w.endsWith(".localhost")}const je=253402300799;function rewriteCookies(w){return w.map((w=>{(0,Qe.assert)(w.url||w.domain&&w.path,"Cookie should have a url or a domain/path pair");(0,Qe.assert)(!(w.url&&w.domain),"Cookie should have either url or domain");(0,Qe.assert)(!(w.url&&w.path),"Cookie should have either url or path");(0,Qe.assert)(!(w.expires&&w.expires<0&&w.expires!==-1),"Cookie should have a valid expires, only -1 or a positive number for the unix timestamp in seconds is allowed");(0,Qe.assert)(!(w.expires&&w.expires>0&&w.expires>je),"Cookie should have a valid expires, only -1 or a positive number for the unix timestamp in seconds is allowed");const B={...w};if(B.url){(0,Qe.assert)(B.url!=="about:blank",`Blank page can not have cookie "${w.name}"`);(0,Qe.assert)(!B.url.startsWith("data:"),`Data URL page can not have cookie "${w.name}"`);const G=new URL(B.url);B.domain=G.hostname;B.path=G.pathname.substring(0,G.pathname.lastIndexOf("/")+1);B.secure=G.protocol==="https:"}return B}))}function parseURL(w){try{return new URL(w)}catch(w){return null}}function stripFragmentFromUrl(w){if(!w.includes("#"))return w;return w.substring(0,w.indexOf("#"))}class Request extends Me.SdkObject{constructor(w,B,G,K,pe,ye,Se,Be,Pe,Fe){super(B||w,"request");this._response=null;this._redirectedTo=null;this._failureText=null;this._headersMap=new Map;this._frame=null;this._serviceWorker=null;this._rawRequestHeadersPromise=new Le.ManualPromise;this._waitForResponsePromise=new Le.ManualPromise;this._responseEndTiming=-1;(0,Qe.assert)(!ye.startsWith("data:"),"Data urls should not fire requests");this._context=w;this._frame=B;this._serviceWorker=G;this._redirectedFrom=K;if(K)K._redirectedTo=this;this._documentId=pe;this._url=stripFragmentFromUrl(ye);this._resourceType=Se;this._method=Be;this._postData=Pe;this._headers=Fe;this._updateHeadersMap();this._isFavicon=ye.endsWith("/favicon.ico")||!!K?._isFavicon}static{this.Events={Response:"response"}}_setFailureText(w){this._failureText=w;this._waitForResponsePromise.resolve(null)}_applyOverrides(w){this._overrides={...this._overrides,...w};this._updateHeadersMap();return this._overrides}_updateHeadersMap(){for(const{name:w,value:B}of this.headers())this._headersMap.set(w.toLowerCase(),B)}overrides(){return this._overrides}url(){return this._overrides?.url||this._url}resourceType(){return this._resourceType}method(){return this._overrides?.method||this._method}postDataBuffer(){return this._overrides?.postData||this._postData}headers(){return this._overrides?.headers||this._headers}headerValue(w){return this._headersMap.get(w)}setRawRequestHeaders(w){if(!this._rawRequestHeadersPromise.isDone())this._rawRequestHeadersPromise.resolve(w||this._headers)}async rawRequestHeaders(){return this._overrides?.headers||this._rawRequestHeadersPromise}response(){return this._waitForResponsePromise}_existingResponse(){return this._response}_setResponse(w){this._response=w;this._waitForResponsePromise.resolve(w);this.emit(Request.Events.Response,w)}_finalRequest(){return this._redirectedTo?this._redirectedTo._finalRequest():this}frame(){return this._frame}serviceWorker(){return this._serviceWorker}isNavigationRequest(){return!!this._documentId}redirectedFrom(){return this._redirectedFrom}failure(){if(this._failureText===null)return null;return{errorText:this._failureText}}_setBodySize(w){this._bodySize=w}bodySize(){return this._bodySize||this.postDataBuffer()?.length||0}async requestHeadersSize(){let w=4;w+=this.method().length;w+=new URL(this.url()).pathname.length;w+=8;const B=await this.rawRequestHeaders();for(const G of B)w+=G.name.length+G.value.length+4;return w}}class Route extends Me.SdkObject{constructor(w,B){super(w._frame||w._context,"route");this._handled=false;this._futureHandlers=[];this._request=w;this._delegate=B;this._request._context.addRouteInFlight(this)}handle(w){this._futureHandlers=[...w];this.continue({isFallback:true}).catch((()=>{}))}async removeHandler(w){this._futureHandlers=this._futureHandlers.filter((B=>B!==w));if(w===this._currentHandler){await this.continue({isFallback:true}).catch((()=>{}));return}}request(){return this._request}async abort(w="failed"){this._startHandling();this._request._context.emit(Pe.BrowserContext.Events.RequestAborted,this._request);await this._delegate.abort(w);this._endHandling()}redirectNavigationRequest(w){this._startHandling();(0,Qe.assert)(this._request.isNavigationRequest());this._request.frame().redirectNavigation(w,this._request._documentId,this._request.headerValue("referer"));this._endHandling()}async fulfill(w){this._startHandling();let B=w.body;let G=w.isBase64||false;if(B===void 0){if(w.fetchResponseUid){const K=this._request._context.fetchRequest.fetchResponses.get(w.fetchResponseUid)||Fe.APIRequestContext.findResponseBody(w.fetchResponseUid);(0,Qe.assert)(K,"Fetch response has been disposed");B=K.toString("base64");G=true}else{B="";G=false}}else if(!w.status||w.status<200||w.status>=400){this._request._responseBodyOverride={body:B,isBase64:G}}const K=[...w.headers||[]];this._maybeAddCorsHeaders(K);this._request._context.emit(Pe.BrowserContext.Events.RequestFulfilled,this._request);await this._delegate.fulfill({status:w.status||200,headers:K,body:B,isBase64:G});this._endHandling()}_maybeAddCorsHeaders(w){const B=this._request.headerValue("origin");if(!B)return;const G=new URL(this._request.url());if(!G.protocol.startsWith("http"))return;if(G.origin===B.trim())return;const K=w.find((({name:w})=>w==="access-control-allow-origin"));if(K)return;w.push({name:"access-control-allow-origin",value:B});w.push({name:"access-control-allow-credentials",value:"true"});w.push({name:"vary",value:"Origin"})}async continue(w){if(w.url){const B=new URL(w.url);const G=new URL(this._request.url());if(G.protocol!==B.protocol)throw new Error("New URL must have same protocol as overridden URL")}if(w.headers){w.headers=w.headers?.filter((w=>{const B=w.name.toLowerCase();return B!=="cookie"&&B!=="host"}))}w=this._request._applyOverrides(w);const B=this._futureHandlers.shift();if(B){this._currentHandler=B;B(this,this._request);return}if(!w.isFallback)this._request._context.emit(Pe.BrowserContext.Events.RequestContinued,this._request);this._startHandling();await this._delegate.continue(w);this._endHandling()}_startHandling(){(0,Qe.assert)(!this._handled,"Route is already handled!");this._handled=true;this._currentHandler=void 0}_endHandling(){this._futureHandlers=[];this._currentHandler=void 0;this._request._context.removeRouteInFlight(this)}}class Response extends Me.SdkObject{constructor(w,B,G,K,pe,ye,Se,Be){super(w.frame()||w._context,"response");this._contentPromise=null;this._finishedPromise=new Le.ManualPromise;this._headersMap=new Map;this._serverAddrPromise=new Le.ManualPromise;this._securityDetailsPromise=new Le.ManualPromise;this._rawResponseHeadersPromise=new Le.ManualPromise;this._encodedBodySizePromise=new Le.ManualPromise;this._transferSizePromise=new Le.ManualPromise;this._responseHeadersSizePromise=new Le.ManualPromise;this._request=w;this._timing=pe;this._status=B;this._statusText=G;this._url=w.url();this._headers=K;for(const{name:w,value:B}of this._headers)this._headersMap.set(w.toLowerCase(),B);this._getResponseBodyCallback=ye;this._request._setResponse(this);this._httpVersion=Be;this._fromServiceWorker=Se}_serverAddrFinished(w){this._serverAddrPromise.resolve(w)}_securityDetailsFinished(w){this._securityDetailsPromise.resolve(w)}_requestFinished(w){this._request._responseEndTiming=Math.max(w,this._timing.responseStart);if(this._timing.requestStart===-1)this._timing.requestStart=this._request._responseEndTiming;this._finishedPromise.resolve()}_setHttpVersion(w){this._httpVersion=w}url(){return this._url}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}headerValue(w){return this._headersMap.get(w)}async rawResponseHeaders(){return this._rawResponseHeadersPromise}setRawResponseHeaders(w){if(!this._rawResponseHeadersPromise.isDone())this._rawResponseHeadersPromise.resolve(w||this._headers)}setTransferSize(w){this._transferSizePromise.resolve(w)}setEncodedBodySize(w){this._encodedBodySizePromise.resolve(w)}setResponseHeadersSize(w){this._responseHeadersSizePromise.resolve(w)}timing(){return this._timing}async serverAddr(){return await this._serverAddrPromise||null}async securityDetails(){return await this._securityDetailsPromise||null}body(){if(!this._contentPromise){this._contentPromise=this._finishedPromise.then((async()=>{if(this._status>=300&&this._status<=399)throw new Error("Response body is unavailable for redirect responses");if(this._request._responseBodyOverride){const{body:w,isBase64:B}=this._request._responseBodyOverride;return Buffer.from(w,B?"base64":"utf-8")}return this._getResponseBodyCallback()}))}return this._contentPromise}request(){return this._request}frame(){return this._request.frame()}httpVersion(){if(!this._httpVersion)return"HTTP/1.1";if(this._httpVersion==="http/1.1")return"HTTP/1.1";if(this._httpVersion==="h2")return"HTTP/2.0";return this._httpVersion}fromServiceWorker(){return this._fromServiceWorker}async responseHeadersSize(){const w=await this._responseHeadersSizePromise;if(w!==null)return w;let B=4;B+=8;B+=3;B+=this.statusText().length;const G=await this._rawResponseHeadersPromise;for(const w of G)B+=w.name.length+w.value.length+4;B+=2;return B}async sizes(){const w=await this._request.requestHeadersSize();const B=await this.responseHeadersSize();let G=await this._encodedBodySizePromise;if(G===null){const w=await this._rawResponseHeadersPromise;const B=w.find((w=>w.name.toLowerCase()==="content-length"))?.value;G=B?+B:0}let K=await this._transferSizePromise;if(K===null){K=B+G}return{requestBodySize:this._request.bodySize(),requestHeadersSize:w,responseBodySize:G,responseHeadersSize:B,transferSize:K}}}class WebSocket extends Me.SdkObject{constructor(w,B){super(w,"ws");this._notified=false;this._url=B}static{this.Events={Close:"close",SocketError:"socketerror",FrameReceived:"framereceived",FrameSent:"framesent"}}markAsNotified(){if(this._notified)return false;this._notified=true;return true}url(){return this._url}frameSent(w,B){this.emit(WebSocket.Events.FrameSent,{opcode:w,data:B})}frameReceived(w,B){this.emit(WebSocket.Events.FrameReceived,{opcode:w,data:B})}error(w){this.emit(WebSocket.Events.SocketError,w)}closed(){this.emit(WebSocket.Events.Close)}}const qe={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};function statusText(w){return qe[String(w)]||"Unknown"}function singleHeader(w,B){return[{name:w,value:B}]}function mergeHeaders(w){const B=new Map;const G=new Map;for(const K of w){if(!K)continue;for(const{name:w,value:pe}of K){const K=w.toLowerCase();G.set(K,w);B.set(K,pe)}}const K=[];for(const[w,pe]of B)K.push({name:G.get(w),value:pe});return K}0&&0},1921:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{InitScript:()=>InitScript,Page:()=>Page,PageBinding:()=>PageBinding,Worker:()=>Worker});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(2764));var Me=G(6609);var Le=G(9117);var je=G(1009);var qe=G(6779);var We=__toESM(G(3300));var Ge=G(3062);var ze=__toESM(G(912));var Ye=G(9814);var Ke=__toESM(G(1485));var Xe=G(8283);var rt=G(7651);var it=G(7651);var ot=G(6639);var at=G(5809);var lt=G(6548);var ct=G(3587);var ut=G(3642);var ft=G(358);var gt=__toESM(G(8477));class Page extends Ye.SdkObject{constructor(w,B){super(B,"page");this._closedState="open";this._closedPromise=new ct.ManualPromise;this._initializedPromise=new ct.ManualPromise;this._consoleMessages=[];this._pageErrors=[];this._crashed=false;this.openScope=new rt.LongStandingScope;this._emulatedMedia={};this._fileChooserInterceptedBy=new Set;this._pageBindings=new Map;this.initScripts=[];this._workers=new Map;this.requestInterceptors=[];this.video=null;this._locatorHandlers=new Map;this._lastLocatorHandlerUid=0;this._locatorHandlerRunningCounter=0;this._networkRequests=[];this._frameThrottler=new FrameThrottler(10,35,200);this.lastSnapshotFrameIds=[];this.attribution.page=this;this.delegate=w;this.browserContext=B;this.accessibility=new Fe.Accessibility(w.getAccessibilityTree.bind(w));this.keyboard=new ze.Keyboard(w.rawKeyboard,this);this.mouse=new ze.Mouse(w.rawMouse,this);this.touchscreen=new ze.Touchscreen(w.rawTouchscreen,this);this.screenshotter=new Xe.Screenshotter(this);this.frameManager=new We.FrameManager(this);if(w.pdf)this.pdf=w.pdf.bind(w);this.coverage=w.coverage?w.coverage():null;this.isStorageStatePage=B.isCreatingStorageStatePage()}static{this.Events={Close:"close",Crash:"crash",Download:"download",EmulatedSizeChanged:"emulatedsizechanged",FileChooser:"filechooser",FrameAttached:"frameattached",FrameDetached:"framedetached",InternalFrameNavigatedToNewDocument:"internalframenavigatedtonewdocument",LocatorHandlerTriggered:"locatorhandlertriggered",ScreencastFrame:"screencastframe",Video:"video",WebSocket:"websocket",Worker:"worker"}}async reportAsNew(w,B){if(w){const B=await w.waitForInitializedOrError();if(B instanceof Page&&!B.isClosed())this._opener=B}this._markInitialized(B)}_markInitialized(w=void 0){if(w){if(this.browserContext.isClosingOrClosed())return;this.frameManager.createDummyMainFrameIfNeeded()}this._initialized=w||this;this.emitOnContext(Me.BrowserContext.Events.Page,this);for(const w of this._pageErrors)this.emitOnContext(Me.BrowserContext.Events.PageError,w,this);for(const w of this._consoleMessages)this.emitOnContext(Me.BrowserContext.Events.Console,w);if(this.isClosed())this.emit(Page.Events.Close);else this.instrumentation.onPageOpen(this);this._initializedPromise.resolve(this._initialized)}initializedOrUndefined(){return this._initialized?this:void 0}waitForInitializedOrError(){return this._initializedPromise}emitOnContext(w,...B){if(this.isStorageStatePage)return;this.browserContext.emit(w,...B)}async resetForReuse(w){await this.mainFrame().gotoImpl(w,"about:blank",{});this._emulatedSize=void 0;this._emulatedMedia={};this._extraHTTPHeaders=void 0;await Promise.all([this.delegate.updateEmulatedViewportSize(),this.delegate.updateEmulateMedia(),this.delegate.updateExtraHTTPHeaders()]);await this.delegate.resetForReuse(w)}_didClose(){this.frameManager.dispose();this._frameThrottler.dispose();(0,rt.assert)(this._closedState!=="closed","Page closed twice");this._closedState="closed";this.emit(Page.Events.Close);this._closedPromise.resolve();this.instrumentation.onPageClose(this);this.openScope.close(new je.TargetClosedError)}_didCrash(){this.frameManager.dispose();this._frameThrottler.dispose();this.emit(Page.Events.Crash);this._crashed=true;this.instrumentation.onPageClose(this);this.openScope.close(new Error("Page crashed"))}async _onFileChooserOpened(w){let B;try{B=await w.evaluate((w=>!!w.multiple))}catch(w){return}if(!this.listenerCount(Page.Events.FileChooser)){w.dispose();return}const G=new qe.FileChooser(this,w,B);this.emit(Page.Events.FileChooser,G)}opener(){return this._opener}mainFrame(){return this.frameManager.mainFrame()}frames(){return this.frameManager.frames()}async exposeBinding(w,B,G,K){if(this._pageBindings.has(B))throw new Error(`Function "${B}" has been already registered`);if(this.browserContext._pageBindings.has(B))throw new Error(`Function "${B}" has been already registered in the browser context`);await w.race(this.browserContext.exposePlaywrightBindingIfNeeded());const pe=new PageBinding(B,K,G);this._pageBindings.set(B,pe);try{await w.race(this.delegate.addInitScript(pe.initScript));await w.race(this.safeNonStallingEvaluateInAllFrames(pe.initScript.source,"main"));return pe}catch(w){this._pageBindings.delete(B);throw w}}async removeExposedBindings(w){w=w.filter((w=>this._pageBindings.get(w.name)===w));for(const B of w)this._pageBindings.delete(B.name);await this.delegate.removeInitScripts(w.map((w=>w.initScript)));const B=w.map((w=>`{ ${w.cleanupScript} };\n`)).join("");await this.safeNonStallingEvaluateInAllFrames(B,"main")}async setExtraHTTPHeaders(w,B){const G=this._extraHTTPHeaders;try{this._extraHTTPHeaders=B;await w.race(this.delegate.updateExtraHTTPHeaders())}catch(w){this._extraHTTPHeaders=G;this.delegate.updateExtraHTTPHeaders().catch((()=>{}));throw w}}extraHTTPHeaders(){return this._extraHTTPHeaders}addNetworkRequest(w){this._networkRequests.push(w);ensureArrayLimit(this._networkRequests,100)}networkRequests(){return this._networkRequests}async onBindingCalled(w,B){if(this._closedState==="closed")return;await PageBinding.dispatch(this,w,B)}addConsoleMessage(w,B,G,K){const pe=new Le.ConsoleMessage(this,w,K,B,G);const ye=this.frameManager.interceptConsoleMessage(pe);if(ye){B.forEach((w=>w.dispose()));return}this._consoleMessages.push(pe);ensureArrayLimit(this._consoleMessages,200);if(this._initialized)this.emitOnContext(Me.BrowserContext.Events.Console,pe)}consoleMessages(){return this._consoleMessages}addPageError(w){this._pageErrors.push(w);ensureArrayLimit(this._pageErrors,200);if(this._initialized)this.emitOnContext(Me.BrowserContext.Events.PageError,w,this)}pageErrors(){return this._pageErrors}async reload(w,B){return this.mainFrame().raceNavigationAction(w,(async()=>{const[G]=await Promise.all([this.mainFrame()._waitForNavigation(w,true,B),w.race(this.delegate.reload())]);return G}))}async goBack(w,B){return this.mainFrame().raceNavigationAction(w,(async()=>{let G;const K=this.mainFrame()._waitForNavigation(w,false,B).catch((w=>{G=w;return null}));const pe=await w.race(this.delegate.goBack());if(!pe){K.catch((()=>{}));return null}const ye=await K;if(G)throw G;return ye}))}async goForward(w,B){return this.mainFrame().raceNavigationAction(w,(async()=>{let G;const K=this.mainFrame()._waitForNavigation(w,false,B).catch((w=>{G=w;return null}));const pe=await w.race(this.delegate.goForward());if(!pe){K.catch((()=>{}));return null}const ye=await K;if(G)throw G;return ye}))}requestGC(){return this.delegate.requestGC()}registerLocatorHandler(w,B){const G=++this._lastLocatorHandlerUid;this._locatorHandlers.set(G,{selector:w,noWaitAfter:B});return G}resolveLocatorHandler(w,B){const G=this._locatorHandlers.get(w);if(B)this._locatorHandlers.delete(w);if(G){G.resolved?.resolve();G.resolved=void 0}}unregisterLocatorHandler(w){this._locatorHandlers.delete(w)}async performActionPreChecks(w){await this._performWaitForNavigationCheck(w);await this._performLocatorHandlersCheckpoint(w);await this._performWaitForNavigationCheck(w)}async _performWaitForNavigationCheck(w){const B=this.frameManager.mainFrame();if(!B||!B.pendingDocument())return;const G=B.pendingDocument()?.request?.url();const K=G?`" ${(0,rt.trimStringWithEllipsis)(G,200)}"`:"";w.log(`  waiting for${K} navigation to finish...`);await Ge.helper.waitForEvent(w,B,We.Frame.Events.InternalNavigation,(G=>{if(!G.isPublic)return false;if(!G.error)w.log(`  navigated to "${(0,rt.trimStringWithEllipsis)(B.url(),200)}"`);return true})).promise}async _performLocatorHandlersCheckpoint(w){if(this._locatorHandlerRunningCounter)return;for(const[B,G]of this._locatorHandlers){if(!G.resolved){if(await this.mainFrame().isVisibleInternal(w,G.selector,{strict:true})){G.resolved=new ct.ManualPromise;this.emit(Page.Events.LocatorHandlerTriggered,B)}}if(G.resolved){++this._locatorHandlerRunningCounter;w.log(`  found ${(0,it.asLocator)(this.browserContext._browser.sdkLanguage(),G.selector)}, intercepting action to run the handler`);const B=G.resolved.then((async()=>{if(!G.noWaitAfter){w.log(`  locator handler has finished, waiting for ${(0,it.asLocator)(this.browserContext._browser.sdkLanguage(),G.selector)} to be hidden`);await this.mainFrame().waitForSelector(w,G.selector,false,{state:"hidden"})}else{w.log(`  locator handler has finished`)}}));await w.race(this.openScope.race(B)).finally((()=>--this._locatorHandlerRunningCounter));w.log(`  interception handler has finished, continuing`)}}}async emulateMedia(w,B){const G={...this._emulatedMedia};if(B.media!==void 0)this._emulatedMedia.media=B.media;if(B.colorScheme!==void 0)this._emulatedMedia.colorScheme=B.colorScheme;if(B.reducedMotion!==void 0)this._emulatedMedia.reducedMotion=B.reducedMotion;if(B.forcedColors!==void 0)this._emulatedMedia.forcedColors=B.forcedColors;if(B.contrast!==void 0)this._emulatedMedia.contrast=B.contrast;try{await w.race(this.delegate.updateEmulateMedia())}catch(w){this._emulatedMedia=G;this.delegate.updateEmulateMedia().catch((()=>{}));throw w}}emulatedMedia(){const w=this.browserContext._options;return{media:this._emulatedMedia.media||"no-override",colorScheme:this._emulatedMedia.colorScheme!==void 0?this._emulatedMedia.colorScheme:w.colorScheme??"light",reducedMotion:this._emulatedMedia.reducedMotion!==void 0?this._emulatedMedia.reducedMotion:w.reducedMotion??"no-preference",forcedColors:this._emulatedMedia.forcedColors!==void 0?this._emulatedMedia.forcedColors:w.forcedColors??"none",contrast:this._emulatedMedia.contrast!==void 0?this._emulatedMedia.contrast:w.contrast??"no-preference"}}async setViewportSize(w,B){const G=this._emulatedSize;try{this._setEmulatedSize({viewport:{...B},screen:{...B}});await w.race(this.delegate.updateEmulatedViewportSize())}catch(w){this._emulatedSize=G;this.delegate.updateEmulatedViewportSize().catch((()=>{}));throw w}}setEmulatedSizeFromWindowOpen(w){this._setEmulatedSize(w)}_setEmulatedSize(w){this._emulatedSize=w;this.emit(Page.Events.EmulatedSizeChanged)}emulatedSize(){if(this._emulatedSize)return this._emulatedSize;const w=this.browserContext._options;return w.viewport?{viewport:w.viewport,screen:w.screen||w.viewport}:void 0}async bringToFront(){await this.delegate.bringToFront()}async addInitScript(w,B){const G=new InitScript(B);this.initScripts.push(G);try{await w.race(this.delegate.addInitScript(G))}catch(w){this.removeInitScripts([G]).catch((()=>{}));throw w}return G}async removeInitScripts(w){const B=new Set(w);this.initScripts=this.initScripts.filter((w=>!B.has(w)));await this.delegate.removeInitScripts(w)}needsRequestInterception(){return this.requestInterceptors.length>0||this.browserContext.requestInterceptors.length>0}async addRequestInterceptor(w,B,G){if(G)this.requestInterceptors.unshift(B);else this.requestInterceptors.push(B);await this.delegate.updateRequestInterception()}async removeRequestInterceptor(w){const B=this.requestInterceptors.indexOf(w);if(B===-1)return;this.requestInterceptors.splice(B,1);await this.browserContext.notifyRoutesInFlightAboutRemovedHandler(w);await this.delegate.updateRequestInterception()}async expectScreenshot(w,B){const G=B.locator;const K=G?async K=>await G.frame.rafrafTimeoutScreenshotElementWithProgress(w,G.selector,K,B||{}):async G=>{await this.performActionPreChecks(w);await this.mainFrame().rafrafTimeout(w,G);return await this.screenshotter.screenshotPage(w,B||{})};const pe=(0,ot.getComparator)("image/png");if(!B.expected&&B.isNot)return{errorMessage:'"not" matcher requires expected result'};try{const w=(0,Xe.validateScreenshotOptions)(B||{});if(w!=="png")throw new Error("Only PNG screenshots are supported")}catch(w){return{errorMessage:w.message}}let ye;const areEqualScreenshots=(w,G,K)=>{const Se=w&&G?pe(w,G,B):void 0;if(Se!==void 0&&!!Se===!!B.isNot)return true;if(Se)ye={errorMessage:Se.errorMessage,diff:Se.diff,actual:w,previous:K};return false};try{let G;let pe;const Se=[0,100,250,500];w.log(`${(0,rt.renderTitleForCall)(w.metadata)}${B.timeout?` with timeout ${B.timeout}ms`:""}`);if(B.expected)w.log(`  verifying given screenshot expectation`);else w.log(`  generating new stable screenshot expectation`);let Be=true;while(true){if(this.isClosed())throw new Error("The page has closed");const Qe=Se.shift()??1e3;if(Qe)w.log(`waiting ${Qe}ms before taking screenshot`);pe=G;G=await K(Qe).catch((B=>{if(this.mainFrame().isNonRetriableError(B))throw B;w.log(`failed to take screenshot - `+B.message);return void 0}));if(!G)continue;const Pe=B.expected&&Be?B.expected:pe;if(areEqualScreenshots(G,Pe,pe))break;if(ye)w.log(ye.errorMessage);Be=false}if(!Be)w.log(`captured a stable screenshot`);if(!B.expected)return{actual:G};if(Be){w.log(`screenshot matched expectation`);return{}}if(areEqualScreenshots(G,B.expected,void 0)){w.log(`screenshot matched expectation`);return{}}throw new Error(ye.errorMessage)}catch(B){if(Ke.isJavaScriptErrorInEvaluate(B)||(0,lt.isInvalidSelectorError)(B))throw B;let G=B.message;if(B instanceof je.TimeoutError&&ye?.previous)G=`Failed to take two consecutive stable screenshots.`;return{log:(0,ft.compressCallLog)(B.message?[...w.metadata.log,B.message]:w.metadata.log),...ye,errorMessage:G,timedOut:B instanceof je.TimeoutError}}}async screenshot(w,B){return await this.screenshotter.screenshotPage(w,B)}async close(w={}){if(this._closedState==="closed")return;if(w.reason)this.closeReason=w.reason;const B=!!w.runBeforeUnload;if(this._closedState!=="closing"){this._closedState="closing";await this.delegate.closePage(B).catch((w=>at.debugLogger.log("error",w)))}if(!B)await this._closedPromise}isClosed(){return this._closedState==="closed"}hasCrashed(){return this._crashed}isClosedOrClosingOrCrashed(){return this._closedState!=="open"||this._crashed}addWorker(w,B){this._workers.set(w,B);this.emit(Page.Events.Worker,B)}removeWorker(w){const B=this._workers.get(w);if(!B)return;B.didClose();this._workers.delete(w)}clearWorkers(){for(const[w,B]of this._workers){B.didClose();this._workers.delete(w)}}async setFileChooserInterceptedBy(w,B){const G=this.fileChooserIntercepted();if(w)this._fileChooserInterceptedBy.add(B);else this._fileChooserInterceptedBy.delete(B);if(G!==this.fileChooserIntercepted())await this.delegate.updateFileChooserInterception()}fileChooserIntercepted(){return this._fileChooserInterceptedBy.size>0}frameNavigatedToNewDocument(w){this.emit(Page.Events.InternalFrameNavigatedToNewDocument,w);const B=w.origin();if(B)this.browserContext.addVisitedOrigin(B)}allInitScripts(){const w=[...this.browserContext._pageBindings.values(),...this._pageBindings.values()].map((w=>w.initScript));if(this.browserContext.bindingsInitScript)w.unshift(this.browserContext.bindingsInitScript);return[...w,...this.browserContext.initScripts,...this.initScripts]}getBinding(w){return this._pageBindings.get(w)||this.browserContext._pageBindings.get(w)}setScreencastOptions(w){this.delegate.setScreencastOptions(w).catch((w=>at.debugLogger.log("error",w)));this._frameThrottler.setThrottlingEnabled(!!w)}throttleScreencastFrameAck(w){this._frameThrottler.ack(w)}temporarilyDisableTracingScreencastThrottling(){this._frameThrottler.recharge()}async safeNonStallingEvaluateInAllFrames(w,B,G={}){await Promise.all(this.frames().map((async K=>{try{await K.nonStallingEvaluateInExistingContext(w,B)}catch(w){if(G.throwOnJSErrors&&Ke.isJavaScriptErrorInEvaluate(w))throw w}})))}async hideHighlight(){await Promise.all(this.frames().map((w=>w.hideHighlight().catch((()=>{})))))}async snapshotForAI(w){this.lastSnapshotFrameIds=[];const B=await snapshotFrameForAI(w,this.mainFrame(),0,this.lastSnapshotFrameIds);return B.join("\n")}}class Worker extends Ye.SdkObject{constructor(w,B){super(w,"worker");this.existingExecutionContext=null;this.openScope=new rt.LongStandingScope;this.url=B;this._executionContextCallback=()=>{};this._executionContextPromise=new Promise((w=>this._executionContextCallback=w))}static{this.Events={Close:"close"}}createExecutionContext(w){this.existingExecutionContext=new Ke.ExecutionContext(this,w,"worker");this._executionContextCallback(this.existingExecutionContext);return this.existingExecutionContext}didClose(){if(this.existingExecutionContext)this.existingExecutionContext.contextDestroyed("Worker was closed");this.emit(Worker.Events.Close,this);this.openScope.close(new Error("Worker closed"))}async evaluateExpression(w,B,G){return Ke.evaluateExpression(await this._executionContextPromise,w,{returnByValue:true,isFunction:B},G)}async evaluateExpressionHandle(w,B,G){return Ke.evaluateExpression(await this._executionContextPromise,w,{returnByValue:false,isFunction:B},G)}}class PageBinding{static{this.kController="__playwright__binding__controller__"}static{this.kBindingName="__playwright__binding__"}static createInitScript(){return new InitScript(`\n      (() => {\n        const module = {};\n        ${gt.source}\n        const property = '${PageBinding.kController}';\n        if (!globalThis[property])\n          globalThis[property] = new (module.exports.BindingsController())(globalThis, '${PageBinding.kBindingName}');\n      })();\n    `)}constructor(w,B,G){this.name=w;this.playwrightFunction=B;this.initScript=new InitScript(`globalThis['${PageBinding.kController}'].addBinding(${JSON.stringify(w)}, ${G})`);this.needsHandle=G;this.cleanupScript=`globalThis['${PageBinding.kController}'].removeBinding(${JSON.stringify(w)})`}static async dispatch(w,B,G){const{name:K,seq:pe,serializedArgs:ye}=JSON.parse(B);try{(0,rt.assert)(G.world);const B=w.getBinding(K);if(!B)throw new Error(`Function "${K}" is not exposed`);let Se;if(B.needsHandle){const ye=await G.evaluateExpressionHandle(`arg => globalThis['${PageBinding.kController}'].takeBindingHandle(arg)`,{isFunction:true},{name:K,seq:pe}).catch((w=>null));Se=await B.playwrightFunction({frame:G.frame,page:w,context:w.browserContext},ye)}else{if(!Array.isArray(ye))throw new Error(`serializedArgs is not an array. This can happen when Array.prototype.toJSON is defined incorrectly`);const K=ye.map((w=>(0,ut.parseEvaluationResultValue)(w)));Se=await B.playwrightFunction({frame:G.frame,page:w,context:w.browserContext},...K)}G.evaluateExpressionHandle(`arg => globalThis['${PageBinding.kController}'].deliverBindingResult(arg)`,{isFunction:true},{name:K,seq:pe,result:Se}).catch((w=>at.debugLogger.log("error",w)))}catch(w){G.evaluateExpressionHandle(`arg => globalThis['${PageBinding.kController}'].deliverBindingResult(arg)`,{isFunction:true},{name:K,seq:pe,error:w}).catch((w=>at.debugLogger.log("error",w)))}}}class InitScript{constructor(w){this.source=`(() => {\n      ${w}\n    })();`}}class FrameThrottler{constructor(w,B,G){this._acks=[];this._throttlingEnabled=false;this._nonThrottledFrames=w;this._budget=w;this._defaultInterval=B;this._throttlingInterval=G;this._tick()}dispose(){if(this._timeoutId){clearTimeout(this._timeoutId);this._timeoutId=void 0}}setThrottlingEnabled(w){this._throttlingEnabled=w}recharge(){for(const w of this._acks)w();this._acks=[];this._budget=this._nonThrottledFrames;if(this._timeoutId){clearTimeout(this._timeoutId);this._tick()}}ack(w){if(!this._timeoutId){w();return}this._acks.push(w)}_tick(){const w=this._acks.shift();if(w){--this._budget;w()}if(this._throttlingEnabled&&this._budget<=0){this._timeoutId=setTimeout((()=>this._tick()),this._throttlingInterval)}else{this._timeoutId=setTimeout((()=>this._tick()),this._defaultInterval)}}}async function snapshotFrameForAI(w,B,G,K){const pe=await B.retryWithProgressAndTimeouts(w,[1e3,2e3,4e3,8e3],(async K=>{try{const pe=await w.race(B._utilityContext());const ye=await w.race(pe.injectedScript());const Se=await w.race(ye.evaluate(((w,B)=>{const G=w.document.body;if(!G)return true;return w.ariaSnapshot(G,{mode:"ai",refPrefix:B})}),G?"f"+G:""));if(Se===true)return K;return Se}catch(w){if(B.isNonRetriableError(w))throw w;return K}}));const ye=pe.split("\n");const Se=[];for(const G of ye){const pe=G.match(/^(\s*)- iframe (?:\[active\] )?\[ref=([^\]]*)\]/);if(!pe){Se.push(G);continue}const ye=pe[1];const Be=pe[2];const Qe=`aria-ref=${Be} >> internal:control=enter-frame`;const Pe=`${Qe} >> body`;const Fe=await w.race(B.selectors.resolveFrameForSelector(Pe,{strict:true}));if(!Fe){Se.push(G);continue}const Me=K.length+1;K.push(Fe.frame._id);try{const B=await snapshotFrameForAI(w,Fe.frame,Me,K);Se.push(G+":",...B.map((w=>ye+"  "+w)))}catch{Se.push(G)}}return Se}function ensureArrayLimit(w,B){if(w.length>B)return w.splice(0,B/10);return[]}0&&0},8969:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{PipeTransport:()=>PipeTransport});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(5809);class PipeTransport{constructor(w,B){this._pendingBuffers=[];this._waitForNextTask=(0,Qe.makeWaitForNextTask)();this._closed=false;this._pipeRead=B;this._pipeWrite=w;B.on("data",(w=>this._dispatch(w)));B.on("close",(()=>{this._closed=true;if(this._onclose)this._onclose.call(null)}));B.on("error",(w=>Pe.debugLogger.log("error",w)));w.on("error",(w=>Pe.debugLogger.log("error",w)));this.onmessage=void 0}get onclose(){return this._onclose}set onclose(w){this._onclose=w;if(w&&!this._pipeRead.readable)w()}send(w){if(this._closed)throw new Error("Pipe has been closed");this._pipeWrite.write(JSON.stringify(w));this._pipeWrite.write("\0")}close(){throw new Error("unimplemented")}_dispatch(w){let B=w.indexOf("\0");if(B===-1){this._pendingBuffers.push(w);return}this._pendingBuffers.push(w.slice(0,B));const G=Buffer.concat(this._pendingBuffers).toString();this._waitForNextTask((()=>{if(this.onmessage)this.onmessage.call(null,JSON.parse(G))}));let K=B+1;B=w.indexOf("\0",K);while(B!==-1){const G=w.toString(void 0,K,B);this._waitForNextTask((()=>{if(this.onmessage)this.onmessage.call(null,JSON.parse(G))}));K=B+1;B=w.indexOf("\0",K)}this._pendingBuffers=[w.slice(K)]}}0&&0},1409:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Playwright:()=>Playwright,createPlaywright:()=>createPlaywright});w.exports=__toCommonJS(Be);var Qe=G(423);var Pe=G(475);var Fe=G(4317);var Me=G(5244);var Le=G(9101);var je=G(655);var qe=G(79);var We=G(5919);var Ge=G(9814);var ze=G(3569);class Playwright extends Ge.SdkObject{constructor(w){super((0,Ge.createRootSdkObject)(),void 0,"Playwright");this._allPages=new Set;this._allBrowsers=new Set;this.options=w;this.attribution.playwright=this;this.instrumentation.addListener({onBrowserOpen:w=>this._allBrowsers.add(w),onBrowserClose:w=>this._allBrowsers.delete(w),onPageOpen:w=>this._allPages.add(w),onPageClose:w=>this._allPages.delete(w)},null);this.chromium=new Le.Chromium(this);this._bidiChromium=new Fe.BidiChromium(this);this._bidiFirefox=new Me.BidiFirefox(this);this.firefox=new We.Firefox(this);this.webkit=new ze.WebKit(this);this.electron=new qe.Electron(this);this.android=new Qe.Android(this,new Pe.AdbBackend);this.debugController=new je.DebugController(this)}allBrowsers(){return[...this._allBrowsers]}allPages(){return[...this._allPages]}}function createPlaywright(w){return new Playwright(w)}0&&0},6665:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ProgressController:()=>ProgressController,isAbortError:()=>isAbortError,raceUncancellableOperationWithCleanup:()=>raceUncancellableOperationWithCleanup});w.exports=__toCommonJS(Be);var Qe=G(1009);var Pe=G(7651);var Fe=G(3587);class ProgressController{constructor(w,B){this._forceAbortPromise=new Fe.ManualPromise;this._donePromise=new Fe.ManualPromise;this._state="before";this.metadata=w||{id:"",startTime:0,endTime:0,type:"Internal",method:"",params:{},log:[],internal:true};this._onCallLog=B;this._forceAbortPromise.catch((w=>null))}async abort(w){if(this._state==="running"){w[Me]=true;this._state={error:w};this._forceAbortPromise.reject(w)}await this._donePromise}async run(w,B){(0,Pe.assert)(this._state==="before");this._state="running";const G={log:w=>{if(this._state==="running")this.metadata.log.push(w);this._onCallLog?.(w)},metadata:this.metadata,race:w=>{const B=Array.isArray(w)?w:[w];return Promise.race([...B,this._forceAbortPromise])},wait:async w=>{let B;const K=new Promise((G=>B=setTimeout(G,w)));return G.race(K).finally((()=>clearTimeout(B)))}};let K;if(B){const w=new Qe.TimeoutError(`Timeout ${B}ms exceeded.`);K=setTimeout((()=>{if(this._state==="running"){w[Me]=true;this._state={error:w};this._forceAbortPromise.reject(w)}}),B)}try{const B=await w(G);this._state="finished";return B}catch(w){this._state={error:w};throw w}finally{clearTimeout(K);this._donePromise.resolve()}}}const Me=Symbol("kAbortError");function isAbortError(w){return!!w[Me]}async function raceUncancellableOperationWithCleanup(w,B,G){let K=false;try{return await w.race(B().then((async w=>{if(K)await G(w);return w})))}catch(w){K=true;throw w}}0&&0},4506:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ProtocolError:()=>ProtocolError,isProtocolError:()=>isProtocolError,isSessionClosedError:()=>isSessionClosedError});w.exports=__toCommonJS(Be);var Qe=G(3559);class ProtocolError extends Error{constructor(w,B,G){super();this.type=w;this.method=B;this.logs=G}setMessage(w){(0,Qe.rewriteErrorMessage)(this,`Protocol error (${this.method}): ${w}`)}browserLogMessage(){return this.logs?"\nBrowser logs:\n"+this.logs:""}}function isProtocolError(w){return w instanceof ProtocolError}function isSessionClosedError(w){return w instanceof ProtocolError&&(w.type==="closed"||w.type==="crashed")}0&&0},2192:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Recorder:()=>Recorder,RecorderEvent:()=>ct});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(4434));var Me=__toESM(G(9896));var Le=G(7651);var je=G(6609);var qe=G(8793);var We=G(3180);var Ge=G(7337);var ze=G(6548);var Ye=G(6665);var Ke=G(4217);var Xe=__toESM(G(9816));var rt=G(7651);var it=G(3300);var ot=G(1921);var at=G(4259);const lt=Symbol("recorderSymbol");const ct={PausedStateChanged:"pausedStateChanged",ModeChanged:"modeChanged",ElementPicked:"elementPicked",CallLogsUpdated:"callLogsUpdated",UserSourcesChanged:"userSourcesChanged",ActionAdded:"actionAdded",SignalAdded:"signalAdded",PageNavigated:"pageNavigated",ContextClosed:"contextClosed"};class Recorder extends Fe.default{constructor(w,B){super();this._highlightedElement={};this._overlayState={offsetX:0};this._currentCallsMetadata=new Map;this._userSources=new Map;this._omitCallTracking=false;this._currentLanguage="javascript";this._pageAliases=new Map;this._lastPopupOrdinal=0;this._lastDialogOrdinal=-1;this._lastDownloadOrdinal=-1;this._listeners=[];this._enabled=false;this._callLogs=[];this._context=w;this._params=B;this._mode=B.mode||"none";this._recorderMode=B.recorderMode??"default";this.handleSIGINT=B.handleSIGINT;this._signalProcessor=new Ke.RecorderSignalProcessor({addAction:w=>{if(this._enabled)this.emit(ct.ActionAdded,w)},addSignal:w=>{if(this._enabled)this.emit(ct.SignalAdded,w)}});w.on(je.BrowserContext.Events.BeforeClose,(()=>{this.emit(ct.ContextClosed)}));this._listeners.push(rt.eventsHelper.addEventListener(process,"exit",(()=>{this.emit(ct.ContextClosed)})));this._setEnabled(B.mode==="recording");this._omitCallTracking=!!B.omitCallTracking;this._debugger=w.debugger();w.instrumentation.addListener(this,w);if((0,Le.isUnderTest)()){this._overlayState.offsetX=200}}static forContext(w,B){let G=w[lt];if(!G){G=Recorder._create(w,B);w[lt]=G}return G}static existingForContext(w){return w[lt]}static async _create(w,B={}){const G=new Recorder(w,B);await G._install();return G}async _install(){this.emit(ct.ModeChanged,this._mode);this.emit(ct.PausedStateChanged,this._debugger.isPaused());this._context.once(je.BrowserContext.Events.Close,(()=>{rt.eventsHelper.removeEventListeners(this._listeners);this._context.instrumentation.removeListener(this);this.emit(ct.ContextClosed)}));const w=new Ye.ProgressController;await w.run((async w=>{await this._context.exposeBinding(w,"__pw_recorderState",false,(async w=>{let B;let G;const K=[...this._currentCallsMetadata.keys()].some(isScreenshotCommand);if(!K){B=await this._scopeHighlightedSelectorToFrame(w.frame);for(const[K,pe]of this._currentCallsMetadata){if(w.page===pe.attribution.page){G=K.point||G;B=B||K.params.selector}}}const pe={mode:this._mode,actionPoint:G,actionSelector:B,ariaTemplate:this._highlightedElement.ariaTemplate,language:this._currentLanguage,testIdAttributeName:this._testIdAttributeName(),overlay:this._overlayState};return pe}));await this._context.exposeBinding(w,"__pw_recorderElementPicked",false,(async({frame:w},B)=>{const G=await(0,We.generateFrameSelector)(w);this.emit(ct.ElementPicked,{selector:(0,We.buildFullSelector)(G,B.selector),ariaSnapshot:B.ariaSnapshot},true)}));await this._context.exposeBinding(w,"__pw_recorderSetMode",false,(async({frame:w},B)=>{if(w.parentFrame())return;this.setMode(B)}));await this._context.exposeBinding(w,"__pw_recorderSetOverlayState",false,(async({frame:w},B)=>{if(w.parentFrame())return;this._overlayState=B}));await this._context.exposeBinding(w,"__pw_resume",false,(()=>{this._debugger.resume(false)}));this._context.on(je.BrowserContext.Events.Page,(w=>this._onPage(w)));for(const w of this._context.pages())this._onPage(w);this._context.dialogManager.addDialogHandler((w=>{this._onDialog(w.page());return false}));await this._context.exposeBinding(w,"__pw_recorderPerformAction",false,((w,B)=>this._performAction(w.frame,B)));await this._context.exposeBinding(w,"__pw_recorderRecordAction",false,((w,B)=>this._recordAction(w.frame,B)));await this._context.extendInjectedScript(Xe.source,{recorderMode:this._recorderMode})}));if(this._debugger.isPaused())this._pausedStateChanged();this._debugger.on(qe.Debugger.Events.PausedStateChanged,(()=>this._pausedStateChanged()))}_pausedStateChanged(){for(const{metadata:w,sdkObject:B}of this._debugger.pausedDetails()){if(!this._currentCallsMetadata.has(w))this.onBeforeCall(B,w)}this.emit(ct.PausedStateChanged,this._debugger.isPaused());this._updateUserSources();this.updateCallLog([...this._currentCallsMetadata.keys()])}mode(){return this._mode}setMode(w){if(this._mode===w)return;this._highlightedElement={};this._mode=w;this.emit(ct.ModeChanged,this._mode);this._setEnabled(this._isRecording());this._debugger.setMuted(this._isRecording());if(this._mode!=="none"&&this._mode!=="standby"&&this._context.pages().length===1)this._context.pages()[0].bringToFront().catch((()=>{}));this._refreshOverlay()}url(){const w=this._context.pages()[0];return w?.mainFrame().url()}setHighlightedSelector(w){this._highlightedElement={selector:(0,Ge.locatorOrSelectorAsSelector)(this._currentLanguage,w,this._context.selectors().testIdAttributeName())};this._refreshOverlay()}setHighlightedAriaTemplate(w){this._highlightedElement={ariaTemplate:w};this._refreshOverlay()}step(){this._debugger.resume(true)}setLanguage(w){this._currentLanguage=w;this._refreshOverlay()}resume(){this._debugger.resume(false)}pause(){this._debugger.pauseOnNextStatement()}paused(){return this._debugger.isPaused()}close(){this._debugger.resume(false)}hideHighlightedSelector(){this._highlightedElement={};this._refreshOverlay()}pausedSourceId(){for(const{metadata:w}of this._debugger.pausedDetails()){if(!w.location)continue;const B=this._userSources.get(w.location.file);if(!B)continue;return B.id}}userSources(){return[...this._userSources.values()]}callLog(){return this._callLogs}async _scopeHighlightedSelectorToFrame(w){if(!this._highlightedElement.selector)return;try{const B=w._page.mainFrame();const G=await B.selectors.resolveFrameForSelector(this._highlightedElement.selector);if(!G)return"";if(G?.frame===B)return(0,ze.stringifySelector)(G.info.parsed);if(G?.frame===w)return(0,ze.stringifySelector)(G.info.parsed);return""}catch{return""}}_refreshOverlay(){for(const w of this._context.pages()){for(const B of w.frames())B.evaluateExpression("window.__pw_refreshOverlay()").catch((()=>{}))}}async onBeforeCall(w,B){if(this._omitCallTracking||this._isRecording())return;this._currentCallsMetadata.set(B,w);this._updateUserSources();this.updateCallLog([B]);if(isScreenshotCommand(B))this.hideHighlightedSelector();else if(B.params&&B.params.selector)this._highlightedElement={selector:B.params.selector}}async onAfterCall(w,B){if(this._omitCallTracking||this._isRecording())return;if(!B.error)this._currentCallsMetadata.delete(B);this._updateUserSources();this.updateCallLog([B])}_updateUserSources(){for(const w of this._userSources.values()){w.highlight=[];w.revealLine=void 0}for(const w of this._currentCallsMetadata.keys()){if(!w.location)continue;const{file:B,line:G}=w.location;let K=this._userSources.get(B);if(!K){K={isRecorded:false,label:B,id:B,text:this._readSource(B),highlight:[],language:languageForFile(B)};this._userSources.set(B,K)}if(G){const B=this._debugger.isPaused(w);K.highlight.push({line:G,type:w.error?"error":B?"paused":"running"});K.revealLine=G}}this.emit(ct.UserSourcesChanged,this.userSources(),this.pausedSourceId())}async onBeforeInputAction(w,B){}async onCallLog(w,B,G,K){this.updateCallLog([B])}updateCallLog(w){if(this._isRecording())return;const B=[];for(const G of w){if(!G.method||G.internal)continue;let w="done";if(this._currentCallsMetadata.has(G))w="in-progress";if(this._debugger.isPaused(G))w="paused";B.push((0,We.metadataToCallLog)(G,w))}this._callLogs=B;this.emit(ct.CallLogsUpdated,B)}_isRecording(){return["recording","assertingText","assertingVisibility","assertingValue","assertingSnapshot"].includes(this._mode)}_readSource(w){try{return Me.default.readFileSync(w,"utf-8")}catch(w){return"// No source available"}}_setEnabled(w){this._enabled=w}async _onPage(w){const B=w.mainFrame();w.on(ot.Page.Events.Close,(()=>{this._signalProcessor.addAction({frame:this._describeMainFrame(w),action:{name:"closePage",signals:[]},startTime:(0,rt.monotonicTime)()});this._pageAliases.delete(w);this._filePrimaryURLChanged()}));B.on(it.Frame.Events.InternalNavigation,(G=>{if(G.isPublic){this._onFrameNavigated(B,w);this._filePrimaryURLChanged()}}));w.on(ot.Page.Events.Download,(()=>this._onDownload(w)));const G=this._pageAliases.size?String(++this._lastPopupOrdinal):"";const K="page"+G;this._pageAliases.set(w,K);if(w.opener()){this._onPopup(w.opener(),w)}else{this._signalProcessor.addAction({frame:this._describeMainFrame(w),action:{name:"openPage",url:w.mainFrame().url(),signals:[]},startTime:(0,rt.monotonicTime)()})}this._filePrimaryURLChanged()}_filePrimaryURLChanged(){const w=this._context.pages()[0];this.emit(ct.PageNavigated,w?.mainFrame().url())}clear(){if(this._params.mode==="recording"){for(const w of this._context.pages())this._onFrameNavigated(w.mainFrame(),w)}}_describeMainFrame(w){return{pageGuid:w.guid,pageAlias:this._pageAliases.get(w),framePath:[]}}async _describeFrame(w){return{pageGuid:w._page.guid,pageAlias:this._pageAliases.get(w._page),framePath:await(0,We.generateFrameSelector)(w)}}_testIdAttributeName(){return this._params.testIdAttributeName||this._context.selectors().testIdAttributeName()||"data-testid"}async _createActionInContext(w,B){const G=await this._describeFrame(w);const K={frame:G,action:B,description:void 0,startTime:(0,rt.monotonicTime)()};return K}async _performAction(w,B){const G=await this._createActionInContext(w,B);this._signalProcessor.addAction(G);if(G.action.name!=="openPage"&&G.action.name!=="closePage")await(0,at.performAction)(this._pageAliases,G);G.endTime=(0,rt.monotonicTime)()}async _recordAction(w,B){const G=await this._createActionInContext(w,B);this._signalProcessor.addAction(G)}_onFrameNavigated(w,B){const G=this._pageAliases.get(B);this._signalProcessor.signal(G,w,{name:"navigation",url:w.url()})}_onPopup(w,B){const G=this._pageAliases.get(w);const K=this._pageAliases.get(B);this._signalProcessor.signal(G,w.mainFrame(),{name:"popup",popupAlias:K})}_onDownload(w){const B=this._pageAliases.get(w);++this._lastDownloadOrdinal;this._signalProcessor.signal(B,w.mainFrame(),{name:"download",downloadAlias:this._lastDownloadOrdinal?String(this._lastDownloadOrdinal):""})}_onDialog(w){const B=this._pageAliases.get(w);++this._lastDialogOrdinal;this._signalProcessor.signal(B,w.mainFrame(),{name:"dialog",dialogAlias:this._lastDialogOrdinal?String(this._lastDialogOrdinal):""})}}function isScreenshotCommand(w){return w.method.toLowerCase().includes("screenshot")}function languageForFile(w){if(w.endsWith(".py"))return"python";if(w.endsWith(".java"))return"java";if(w.endsWith(".cs"))return"csharp";return"javascript"}0&&0},1442:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{ProgrammaticRecorderApp:()=>ProgrammaticRecorderApp,RecorderApp:()=>RecorderApp});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(5749);var je=G(4331);var qe=G(9742);var We=G(9742);var Ge=G(6665);var ze=G(6389);var Ye=G(229);var Ke=G(3180);var Xe=G(7902);var rt=G(2192);var it=G(6609);class RecorderApp{constructor(w,B,G,K){this._throttledOutputFile=null;this._actions=[];this._userSources=[];this._recorderSources=[];this._page=G;this._recorder=w;this.wsEndpointForTest=K;this._languageGeneratorOptions={browserName:B.browserName,launchOptions:{headless:false,...B.launchOptions,tracesDir:void 0},contextOptions:{...B.contextOptions},deviceName:B.device,saveStorage:B.saveStorage};this._throttledOutputFile=B.outputFile?new ze.ThrottledFile(B.outputFile):null;this._primaryGeneratorId=process.env.TEST_INSPECTOR_LANGUAGE||B.language||determinePrimaryGeneratorId(B.sdkLanguage);this._selectedGeneratorId=this._primaryGeneratorId}async _init(w){await(0,qe.syncLocalStorageWithSettings)(this._page,"recorder");const B=new Ge.ProgressController;await B.run((async B=>{await this._page.addRequestInterceptor(B,(w=>{if(!w.request().url().startsWith("https://playwright/")){w.continue({isFallback:true}).catch((()=>{}));return}const B=w.request().url().substring("https://playwright/".length);const G=require.resolve("../../vite/recorder/"+B);Fe.default.promises.readFile(G).then((B=>{w.fulfill({status:200,headers:[{name:"Content-Type",value:je.mime.getType(Me.default.extname(G))||"application/octet-stream"}],body:B.toString("base64"),isBase64:true}).catch((()=>{}))}))}));await this._page.exposeBinding(B,"dispatch",false,((w,B)=>this._handleUIEvent(B)));this._page.once("close",(()=>{this._recorder.close();this._page.browserContext.close({reason:"Recorder window closed"}).catch((()=>{}));delete w[ot]}));await this._page.mainFrame().goto(B,process.env.PW_HMR?"http://localhost:44225":"https://playwright/index.html")}));const G=this._recorder.url();if(G)this._onPageNavigated(G);this._onModeChanged(this._recorder.mode());this._onPausedStateChanged(this._recorder.paused());this._updateActions("reveal");this._onUserSourcesChanged(this._recorder.userSources(),this._recorder.pausedSourceId());this._onCallLogsUpdated(this._recorder.callLog());this._wireListeners(this._recorder)}_handleUIEvent(w){if(w.event==="clear"){this._actions=[];this._updateActions("reveal");this._recorder.clear();return}if(w.event==="fileChanged"){const B=[...this._recorderSources,...this._userSources].find((B=>B.id===w.params.fileId));if(B){if(B.isRecorded)this._selectedGeneratorId=B.id;this._recorder.setLanguage(B.language)}return}if(w.event==="setAutoExpect"){this._languageGeneratorOptions.generateAutoExpect=w.params.autoExpect;this._updateActions();return}if(w.event==="setMode"){this._recorder.setMode(w.params.mode);return}if(w.event==="resume"){this._recorder.resume();return}if(w.event==="pause"){this._recorder.pause();return}if(w.event==="step"){this._recorder.step();return}if(w.event==="highlightRequested"){if(w.params.selector)this._recorder.setHighlightedSelector(w.params.selector);if(w.params.ariaTemplate)this._recorder.setHighlightedAriaTemplate(w.params.ariaTemplate);return}throw new Error(`Unknown event: ${w.event}`)}static async show(w,B){if(process.env.PW_CODEGEN_NO_INSPECTOR)return;const G=await rt.Recorder.forContext(w,B);if(B.recorderMode==="api"){const K=w._browser.options.name;await ProgrammaticRecorderApp.run(w,G,K,B);return}await RecorderApp._show(G,w,B)}async close(){await this._page.close()}static showInspectorNoReply(w){if(process.env.PW_CODEGEN_NO_INSPECTOR)return;void rt.Recorder.forContext(w,{}).then((B=>RecorderApp._show(B,w,{}))).catch((()=>{}))}static async _show(w,B,K){if(B[ot])return;B[ot]=true;const pe=B._browser.sdkLanguage();const ye=!!B._browser.options.headful;const Se=G(1409).createPlaywright({sdkLanguage:"javascript",isInternalPlaywright:true});const{context:Be,page:Qe}=await(0,We.launchApp)(Se.chromium,{sdkLanguage:pe,windowSize:{width:600,height:600},windowPosition:{x:1020,y:10},persistentContextOptions:{noDefaultViewport:true,headless:!!process.env.PWTEST_CLI_HEADLESS||(0,Le.isUnderTest)()&&!ye,cdpPort:(0,Le.isUnderTest)()?0:void 0,handleSIGINT:K.handleSIGINT,executablePath:B._browser.options.isChromium?B._browser.options.customExecutablePath:void 0,channel:B._browser.options.isChromium?B._browser.options.channel:void 0}});const Pe=new Ge.ProgressController;await Pe.run((async w=>{await Be._browser._defaultContext._loadDefaultContextAsIs(w)}));const Fe={browserName:B._browser.options.name,sdkLanguage:B._browser.sdkLanguage(),wsEndpointForTest:B._browser.options.wsEndpoint,headed:!!B._browser.options.headful,executablePath:B._browser.options.isChromium?B._browser.options.customExecutablePath:void 0,channel:B._browser.options.isChromium?B._browser.options.channel:void 0,...K};const Me=new RecorderApp(w,Fe,Qe,Be._browser.options.wsEndpoint);await Me._init(B);B.recorderAppForTest=Me}_wireListeners(w){w.on(rt.RecorderEvent.ActionAdded,(w=>{this._onActionAdded(w)}));w.on(rt.RecorderEvent.SignalAdded,(w=>{this._onSignalAdded(w)}));w.on(rt.RecorderEvent.PageNavigated,(w=>{this._onPageNavigated(w)}));w.on(rt.RecorderEvent.ContextClosed,(()=>{this._onContextClosed()}));w.on(rt.RecorderEvent.ModeChanged,(w=>{this._onModeChanged(w)}));w.on(rt.RecorderEvent.PausedStateChanged,(w=>{this._onPausedStateChanged(w)}));w.on(rt.RecorderEvent.UserSourcesChanged,((w,B)=>{this._onUserSourcesChanged(w,B)}));w.on(rt.RecorderEvent.ElementPicked,((w,B)=>{this._onElementPicked(w,B)}));w.on(rt.RecorderEvent.CallLogsUpdated,(w=>{this._onCallLogsUpdated(w)}))}_onActionAdded(w){this._actions.push(w);this._updateActions("reveal")}_onSignalAdded(w){const B=this._actions.findLast((B=>B.frame.pageGuid===w.frame.pageGuid));if(B)B.action.signals.push(w.signal);this._updateActions()}_onPageNavigated(w){this._page.mainFrame().evaluateExpression((({url:w})=>{window.playwrightSetPageURL(w)}).toString(),{isFunction:true},{url:w}).catch((()=>{}))}_onContextClosed(){this._throttledOutputFile?.flush();this._page.browserContext.close({reason:"Recorder window closed"}).catch((()=>{}))}_onModeChanged(w){this._page.mainFrame().evaluateExpression((w=>{window.playwrightSetMode(w)}).toString(),{isFunction:true},w).catch((()=>{}))}_onPausedStateChanged(w){this._page.mainFrame().evaluateExpression((w=>{window.playwrightSetPaused(w)}).toString(),{isFunction:true},w).catch((()=>{}))}_onUserSourcesChanged(w,B){if(!w.length&&!this._userSources.length)return;this._userSources=w;this._pushAllSources();this._revealSource(B)}_onElementPicked(w,B){if(B)this._page.bringToFront();this._page.mainFrame().evaluateExpression((w=>{window.playwrightElementPicked(w.elementInfo,w.userGesture)}).toString(),{isFunction:true},{elementInfo:w,userGesture:B}).catch((()=>{}))}_onCallLogsUpdated(w){this._page.mainFrame().evaluateExpression((w=>{window.playwrightUpdateLogs(w)}).toString(),{isFunction:true},w).catch((()=>{}))}_pushAllSources(){const w=[...this._userSources,...this._recorderSources];this._page.mainFrame().evaluateExpression((({sources:w})=>{window.playwrightSetSources(w)}).toString(),{isFunction:true},{sources:w}).catch((()=>{}))}_revealSource(w){if(!w)return;this._page.mainFrame().evaluateExpression((({sourceId:w})=>{window.playwrightSelectSource(w)}).toString(),{isFunction:true},{sourceId:w}).catch((()=>{}))}_updateActions(w){const B=[];const G=(0,Ke.collapseActions)(this._actions);let K;for(const pe of(0,Ye.languageSet)()){const{header:ye,footer:Se,actionTexts:Be,text:Qe}=(0,Xe.generateCode)(G,pe,this._languageGeneratorOptions);const Pe={isRecorded:true,label:pe.name,group:pe.groupName,id:pe.id,text:Qe,header:ye,footer:Se,actions:Be,language:pe.highlighter,highlight:[]};Pe.revealLine=Qe.split("\n").length-1;B.push(Pe);if(pe.id===this._primaryGeneratorId)this._throttledOutputFile?.setContent(Pe.text);if(w==="reveal"&&Pe.id===this._selectedGeneratorId)K=Pe.id}this._recorderSources=B;this._pushAllSources();this._revealSource(K)}}function determinePrimaryGeneratorId(w){for(const B of(0,Ye.languageSet)()){if(B.highlighter===w)return B.id}return w}class ProgrammaticRecorderApp{static async run(w,B,G,K){let pe=null;const ye=[...(0,Ye.languageSet)()];const Se={browserName:G,launchOptions:{headless:false,...K.launchOptions,tracesDir:void 0},contextOptions:{...K.contextOptions},deviceName:K.device,saveStorage:K.saveStorage};const Be=ye.find((w=>w.id===K.language))??ye.find((w=>w.id==="playwright-test"));B.on(rt.RecorderEvent.ActionAdded,(B=>{const G=findPageByGuid(w,B.frame.pageGuid);if(!G)return;const{actionTexts:K}=(0,Xe.generateCode)([B],Be,Se);if(!pe||!(0,Ke.shouldMergeAction)(B,pe))w.emit(it.BrowserContext.Events.RecorderEvent,{event:"actionAdded",data:B,page:G,code:K.join("\n")});else w.emit(it.BrowserContext.Events.RecorderEvent,{event:"actionUpdated",data:B,page:G,code:K.join("\n")});pe=B}));B.on(rt.RecorderEvent.SignalAdded,(B=>{const G=findPageByGuid(w,B.frame.pageGuid);w.emit(it.BrowserContext.Events.RecorderEvent,{event:"signalAdded",data:B,page:G,code:""})}))}}function findPageByGuid(w,B){return w.pages().find((w=>w.guid===B))}const ot=Symbol("recorderApp");0&&0},4259:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{performAction:()=>performAction,toClickOptions:()=>toClickOptions});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(7902);var Fe=G(3180);var Me=G(6665);async function performAction(w,B){const G=(0,Fe.mainFrameForAction)(w,B);const K=new Me.ProgressController;const pe=5e3;return await K.run((w=>performActionImpl(w,G,B)),pe)}async function performActionImpl(w,B,G){const{action:K}=G;if(K.name==="navigate"){await B.goto(w,K.url);return}if(K.name==="openPage")throw Error("Not reached");if(K.name==="closePage"){await B._page.close();return}const pe=(0,Fe.buildFullSelector)(G.frame.framePath,K.selector);if(K.name==="click"){const G=toClickOptions(K);await B.click(w,pe,{...G,strict:true});return}if(K.name==="hover"){await B.hover(w,pe,{position:K.position,strict:true});return}if(K.name==="press"){const G=(0,Pe.toKeyboardModifiers)(K.modifiers);const ye=[...G,K.key].join("+");await B.press(w,pe,ye,{strict:true});return}if(K.name==="fill"){await B.fill(w,pe,K.text,{strict:true});return}if(K.name==="setInputFiles"){await B.setInputFiles(w,pe,{selector:pe,payloads:[],strict:true});return}if(K.name==="check"){await B.check(w,pe,{strict:true});return}if(K.name==="uncheck"){await B.uncheck(w,pe,{strict:true});return}if(K.name==="select"){const G=K.options.map((w=>({value:w})));await B.selectOption(w,pe,[],G,{strict:true});return}if(K.name==="assertChecked"){await B.expect(w,pe,{selector:pe,expression:"to.be.checked",expectedValue:{checked:K.checked},isNot:!K.checked});return}if(K.name==="assertText"){await B.expect(w,pe,{selector:pe,expression:"to.have.text",expectedText:(0,Qe.serializeExpectedTextValues)([K.text],{matchSubstring:true,normalizeWhiteSpace:true}),isNot:false});return}if(K.name==="assertValue"){await B.expect(w,pe,{selector:pe,expression:"to.have.value",expectedValue:K.value,isNot:false});return}if(K.name==="assertVisible"){await B.expect(w,pe,{selector:pe,expression:"to.be.visible",isNot:false});return}throw new Error("Internal error: unexpected action "+K.name)}function toClickOptions(w){const B=(0,Pe.toKeyboardModifiers)(w.modifiers);const G={};if(w.button!=="left")G.button=w.button;if(B.length)G.modifiers=B;if(w.clickCount>1)G.clickCount=w.clickCount;if(w.position)G.position=w.position;return G}0&&0},4217:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{RecorderSignalProcessor:()=>RecorderSignalProcessor});w.exports=__toCommonJS(Be);var Qe=G(5749);var Pe=G(3647);var Fe=G(3180);class RecorderSignalProcessor{constructor(w){this._lastAction=null;this._delegate=w}addAction(w){this._lastAction=w;this._delegate.addAction(w)}signal(w,B,G){const K=(0,Pe.monotonicTime)();if(G.name==="navigation"&&B._page.mainFrame()===B){const G=this._lastAction;const pe=(0,Qe.isUnderTest)()?500:5e3;let ye=false;if(!G)ye=true;else if(G.action.name!=="click"&&G.action.name!=="press"&&G.action.name!=="fill")ye=true;else if(K-G.startTime>pe)ye=true;if(ye){this.addAction({frame:{pageGuid:B._page.guid,pageAlias:w,framePath:[]},action:{name:"navigate",url:B.url(),signals:[]},startTime:K,endTime:K})}return}(0,Fe.generateFrameSelector)(B).then((pe=>{const ye={frame:{pageGuid:B._page.guid,pageAlias:w,framePath:pe},signal:G,timestamp:K};this._delegate.addSignal(ye)}))}}0&&0},3180:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{buildFullSelector:()=>buildFullSelector,collapseActions:()=>collapseActions,frameForAction:()=>frameForAction,generateFrameSelector:()=>generateFrameSelector,mainFrameForAction:()=>mainFrameForAction,metadataToCallLog:()=>metadataToCallLog,shouldMergeAction:()=>shouldMergeAction});w.exports=__toCommonJS(Be);var Qe=G(1546);var Pe=G(7651);var Fe=G(4233);function buildFullSelector(w,B){return[...w,B].join(" >> internal:control=enter-frame >> ")}function metadataToCallLog(w,B){const G=(0,Qe.renderTitleForCall)(w);if(w.error)B="error";const K={url:w.params?.url,selector:w.params?.selector};let pe=w.endTime?w.endTime-w.startTime:void 0;if(typeof pe==="number"&&w.pauseStartTime&&w.pauseEndTime){pe-=w.pauseEndTime-w.pauseStartTime;pe=Math.max(pe,0)}const ye={id:w.id,messages:w.log,title:G??"",status:B,error:w.error?.error?.message,params:K,duration:pe};return ye}function mainFrameForAction(w,B){const G=B.frame.pageAlias;const K=[...w.entries()].find((([,w])=>G===w))?.[0];if(!K)throw new Error(`Internal error: page ${G} not found in [${[...w.values()]}]`);return K.mainFrame()}async function frameForAction(w,B,G){const K=B.frame.pageAlias;const pe=[...w.entries()].find((([,w])=>K===w))?.[0];if(!pe)throw new Error("Internal error: page not found");const ye=buildFullSelector(B.frame.framePath,G.selector);const Se=await pe.mainFrame().selectors.resolveFrameForSelector(ye);if(!Se)throw new Error("Internal error: frame not found");return Se.frame}function isSameAction(w,B){return w.action.name===B.action.name&&w.frame.pageAlias===B.frame.pageAlias&&w.frame.framePath.join("|")===B.frame.framePath.join("|")}function isSameSelector(w,B){return"selector"in w.action&&"selector"in B.action&&w.action.selector===B.action.selector}function isShortlyAfter(w,B){return w.startTime-B.startTime<500}function shouldMergeAction(w,B){if(!B)return false;switch(w.action.name){case"fill":return isSameAction(w,B)&&isSameSelector(w,B);case"navigate":return isSameAction(w,B);case"click":return isSameAction(w,B)&&isSameSelector(w,B)&&isShortlyAfter(w,B)&&w.action.clickCount>B.action.clickCount}return false}function collapseActions(w){const B=[];for(const G of w){const w=B[B.length-1];const K=shouldMergeAction(G,w);if(!K){B.push(G);continue}const pe=B[B.length-1].startTime;B[B.length-1]=G;B[B.length-1].startTime=pe}return B}async function generateFrameSelector(w){const B=[];while(w){const G=w.parentFrame();if(!G)break;B.push(generateFrameSelectorInParent(G,w));w=G}const G=await Promise.all(B);return G.reverse()}async function generateFrameSelectorInParent(w,B){const G=await(0,Fe.raceAgainstDeadline)((async()=>{try{const G=await B.frameElement();if(!G||!w)return;const K=await w._utilityContext();const pe=await K.injectedScript();const ye=await pe.evaluate(((w,B)=>w.generateSelectorSimple(B)),G);return ye}catch(w){}}),(0,Pe.monotonicTime)()+2e3);if(!G.timedOut&&G.result)return G.result;if(B.name())return`iframe[name=${(0,Pe.quoteCSSAttributeValue)(B.name())}]`;return`iframe[src=${(0,Pe.quoteCSSAttributeValue)(B.url())}]`}0&&0},6389:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{ThrottledFile:()=>ThrottledFile});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));class ThrottledFile{constructor(w){this._file=w}setContent(w){this._text=w;if(!this._timer)this._timer=setTimeout((()=>this.flush()),250)}flush(){if(this._timer){clearTimeout(this._timer);this._timer=void 0}if(this._text)Fe.default.writeFileSync(this._file,this._text);this._text=void 0}}0&&0},3443:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{downloadBrowserWithProgressBar:()=>downloadBrowserWithProgressBar,logPolitely:()=>logPolitely});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(7698));var Me=__toESM(G(9896));var Le=__toESM(G(857));var je=__toESM(G(6928));var qe=G(5809);var We=G(3587);var Ge=G(818);var ze=G(4331);var Ye=G(3449);var Ke=G(586);async function downloadBrowserWithProgressBar(w,B,G,K,pe,ye){if(await(0,Ye.existsAsync)((0,Ke.browserDirectoryToMarkerFilePath)(B))){qe.debugLogger.log("install",`${w} is already downloaded.`);return false}const Se=await Me.default.promises.mkdtemp(je.default.join(Le.default.tmpdir(),"playwright-download-"));const Be=je.default.join(Se,pe);try{const pe=5;for(let Se=1;Se<=pe;++Se){qe.debugLogger.log("install",`downloading ${w} - attempt #${Se}`);const Qe=K[(Se-1)%K.length];logPolitely(`Downloading ${w}`+ze.colors.dim(` from ${Qe}`));const{error:Pe}=await downloadBrowserWithProgressBarOutOfProcess(w,B,Qe,Be,G,ye);if(!Pe){qe.debugLogger.log("install",`SUCCESS installing ${w}`);break}if(await(0,Ye.existsAsync)(Be))await Me.default.promises.unlink(Be);if(await(0,Ye.existsAsync)(B))await Me.default.promises.rmdir(B,{recursive:true});const Fe=Pe?.message||"";qe.debugLogger.log("install",`attempt #${Se} - ERROR: ${Fe}`);if(Se>=pe)throw Pe}}catch(B){qe.debugLogger.log("install",`FAILED installation ${w} with error: ${B}`);process.exitCode=1;throw B}finally{await(0,Ye.removeFolders)([Se])}logPolitely(`${w} downloaded to ${B}`);return true}function downloadBrowserWithProgressBarOutOfProcess(w,B,G,K,pe,ye){const Se=Fe.fork(je.default.join(__dirname,"oopDownloadBrowserMain.js"));const Be=new We.ManualPromise;const Qe=getDownloadProgress();Se.on("message",(w=>{if(w?.method==="log")qe.debugLogger.log("install",w.params.message);if(w?.method==="progress")Qe(w.params.done,w.params.total)}));Se.on("exit",(w=>{if(w!==0){Be.resolve({error:new Error(`Download failure, code=${w}`)});return}if(!Me.default.existsSync((0,Ke.browserDirectoryToMarkerFilePath)(B)))Be.resolve({error:new Error(`Download failure, ${(0,Ke.browserDirectoryToMarkerFilePath)(B)} does not exist`)});else Be.resolve({error:null})}));Se.on("error",(w=>{Be.resolve({error:w})}));qe.debugLogger.log("install",`running download:`);qe.debugLogger.log("install",`-- from url: ${G}`);qe.debugLogger.log("install",`-- to location: ${K}`);const Pe={title:w,browserDirectory:B,url:G,zipPath:K,executablePath:pe,socketTimeout:ye,userAgent:(0,Ge.getUserAgent)()};Se.send({method:"download",params:Pe});return Be}function logPolitely(w){const B=process.env.npm_config_loglevel;const G=["silent","error","warn"].indexOf(B||"")>-1;if(!G)console.log(w)}function getDownloadProgress(){if(process.stdout.isTTY)return getAnimatedDownloadProgress();return getBasicDownloadProgress()}function getAnimatedDownloadProgress(){let w;let B=0;return(G,K)=>{if(!w){w=new ze.progress(`${toMegabytes(K)} [:bar] :percent :etas`,{complete:"=",incomplete:" ",width:20,total:K})}const pe=G-B;B=G;w.tick(pe)}}function getBasicDownloadProgress(){const w=10;const B=8;let G=-1;return(K,pe)=>{const ye=K/pe;const Se=Math.floor(w*ye);if(Se>G){G=Se;const K=String(ye*100|0).padStart(3);console.log(`|${"".repeat(Se*B)}${" ".repeat((w-Se)*B)}| ${K}% of ${toMegabytes(pe)}`)}}}function toMegabytes(w){const B=w/1024/1024;return`${Math.round(B*10)/10} MiB`}0&&0},3169:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{dockerVersion:()=>dockerVersion,installDependenciesLinux:()=>installDependenciesLinux,installDependenciesWindows:()=>installDependenciesWindows,readDockerVersionSync:()=>readDockerVersionSync,transformCommandsForRoot:()=>transformCommandsForRoot,validateDependenciesLinux:()=>validateDependenciesLinux,validateDependenciesWindows:()=>validateDependenciesWindows,writeDockerVersion:()=>writeDockerVersion});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(7698));var Me=__toESM(G(9896));var Le=__toESM(G(857));var je=__toESM(G(6928));var qe=G(7049);var We=G(3701);var Ge=G(2229);var ze=G(4357);var Ye=G(818);var Ke=G(586);const Xe=je.default.join(__dirname,"..","..","..","bin");const rt=process.env.PW_CLI_DISPLAY_VERSION||G(3675).rE;const it="/ms-playwright/.docker-info";async function writeDockerVersion(w){await Me.default.promises.mkdir(je.default.dirname(it),{recursive:true});await Me.default.promises.writeFile(it,JSON.stringify(dockerVersion(w),null,2),"utf8");await Me.default.promises.chmod(it,511)}function dockerVersion(w){return{driverVersion:rt,dockerImageName:w.replace("%version%",rt)}}function readDockerVersionSync(){try{const w=JSON.parse(Me.default.readFileSync(it,"utf8"));return{...w,dockerImageNameTemplate:w.dockerImageName.replace(w.driverVersion,"%version%")}}catch(w){return null}}const checkExecutable=w=>{if(process.platform==="win32")return w.endsWith(".exe");return Me.default.promises.access(w,Me.default.constants.X_OK).then((()=>true)).catch((()=>false))};function isSupportedWindowsVersion(){if(Le.default.platform()!=="win32"||Le.default.arch()!=="x64")return false;const[w,B]=Le.default.release().split(".").map((w=>parseInt(w,10)));return w>6||w===6&&B>1}async function installDependenciesWindows(w,B){if(w.has("chromium")){const w="powershell.exe";const G=["-ExecutionPolicy","Bypass","-File",je.default.join(Xe,"install_media_pack.ps1")];if(B){console.log(`${w} ${quoteProcessArgs(G).join(" ")}`);return}const{code:K}=await(0,ze.spawnAsync)(w,G,{cwd:Xe,stdio:"inherit"});if(K!==0)throw new Error("Failed to install windows dependencies!")}}async function installDependenciesLinux(w,B){const G=[];const K=Ge.hostPlatform;if(!Ge.isOfficiallySupportedPlatform)console.warn(`BEWARE: your OS is not officially supported by Playwright; installing dependencies for ${K} as a fallback.`);for(const B of w){const w=qe.deps[K];if(!w){console.warn(`Cannot install dependencies for ${K} with Playwright ${(0,Ye.getPlaywrightVersion)()}!`);return}G.push(...w[B])}const pe=Array.from(new Set(G));if(!B)console.log(`Installing dependencies...`);const ye=[];ye.push("apt-get update");ye.push(["apt-get","install","-y","--no-install-recommends",...pe].join(" "));const{command:Se,args:Be,elevatedPermissions:Qe}=await transformCommandsForRoot(ye);if(B){console.log(`${Se} ${quoteProcessArgs(Be).join(" ")}`);return}if(Qe)console.log("Switching to root user to install dependencies...");const Pe=Fe.spawn(Se,Be,{stdio:"inherit"});await new Promise(((w,B)=>{Pe.on("exit",(G=>G===0?w():B(new Error(`Installation process exited with code: ${G}`))));Pe.on("error",B)}))}async function validateDependenciesWindows(w,B){const G=B;const K=[];for(const w of G)K.push(...await executablesOrSharedLibraries(w));const pe=await Promise.all(K.map((B=>missingFileDependenciesWindows(w,B))));const ye=new Set;for(const w of pe){for(const B of w)ye.add(B)}if(!ye.size)return;let Se=false;let Be=false;for(const w of ye){if(w.startsWith("api-ms-win-crt")||w==="vcruntime140.dll"||w==="vcruntime140_1.dll"||w==="msvcp140.dll")Se=true;else if(w==="mf.dll"||w==="mfplat.dll"||w==="msmpeg2vdec.dll"||w==="evr.dll"||w==="avrt.dll")Be=true}const Qe=[];if(Se){Qe.push(`Some of the Universal C Runtime files cannot be found on the system. You can fix`,`that by installing Microsoft Visual C++ Redistributable for Visual Studio from:`,`https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads`,``)}if(Be){Qe.push(`Some of the Media Foundation files cannot be found on the system. If you are`,`on Windows Server try fixing this by running the following command in PowerShell`,`as Administrator:`,``,`    Install-WindowsFeature Server-Media-Foundation`,``,`For Windows N editions visit:`,`https://support.microsoft.com/en-us/help/3145500/media-feature-pack-list-for-windows-n-editions`,``)}Qe.push(`Full list of missing libraries:`,`    ${[...ye].join("\n    ")}`,``);const Pe=`Host system is missing dependencies!\n\n${Qe.join("\n")}`;if(isSupportedWindowsVersion()){throw new Error(Pe)}else{console.warn(`WARNING: running on unsupported windows version!`);console.warn(Pe)}}async function validateDependenciesLinux(w,B,G){const K=B;const pe=[];for(const w of K)pe.push(...await executablesOrSharedLibraries(w));const ye=await Promise.all(pe.map((w=>missingFileDependencies(w,K))));const Se=new Set;for(const w of ye){for(const B of w)Se.add(B)}for(const w of await missingDLOPENLibraries(G))Se.add(w);if(!Se.size)return;const Be=new Set(Se);const Qe=new Set;const Pe=qe.deps[Ge.hostPlatform]?{...qe.deps[Ge.hostPlatform]?.lib2package||{},...ot}:{};for(const w of Se){const B=Pe[w];if(B){Qe.add(B);Se.delete(w)}}const Fe=process.getuid?.()&&Le.default.platform()!=="win32"?"sudo ":"";const Me=readDockerVersionSync();const je=[`Host system is missing dependencies to run browsers.`];if(Me&&!Me.driverVersion.startsWith((0,Ye.getPlaywrightVersion)(true)+".")){const B=(0,Ye.getPlaywrightVersion)();const G=Me.dockerImageName.replace(Me.driverVersion,B);je.push(...[`This is most likely due to Docker image version not matching Playwright version:`,`- Playwright  : ${B}`,`- Docker image: ${Me.driverVersion}`,``,`Either:`,`- (recommended) use Docker image "${G}"`,`- (alternative 1) run the following command inside Docker to install missing dependencies:`,``,`    ${Fe}${(0,Ke.buildPlaywrightCLICommand)(w,"install-deps")}`,``,`- (alternative 2) use apt inside Docker:`,``,`    ${Fe}apt-get install ${[...Qe].join("\\\n        ")}`,``,`<3 Playwright Team`])}else if(Qe.size&&!Se.size){je.push(...[`Please install them with the following command:`,``,`    ${Fe}${(0,Ke.buildPlaywrightCLICommand)(w,"install-deps")}`,``,`Alternatively, use apt:`,`    ${Fe}apt-get install ${[...Qe].join("\\\n        ")}`,``,`<3 Playwright Team`])}else{je.push(...[`Missing libraries:`,...[...Be].map((w=>"    "+w))])}throw new Error("\n"+(0,We.wrapInASCIIBox)(je.join("\n"),1))}function isSharedLib(w){switch(Le.default.platform()){case"linux":return w.endsWith(".so")||w.includes(".so.");case"win32":return w.endsWith(".dll");default:return false}}async function executablesOrSharedLibraries(w){if(!Me.default.existsSync(w))return[];const B=(await Me.default.promises.readdir(w)).map((B=>je.default.resolve(w,B)));const G=await Promise.all(B.map((w=>Me.default.promises.stat(w))));const K=B.filter(((w,B)=>G[B].isFile()));const pe=(await Promise.all(K.map((async w=>{const B=je.default.basename(w).toLowerCase();if(isSharedLib(B))return w;if(await checkExecutable(w))return w;return false})))).filter(Boolean);return pe}async function missingFileDependenciesWindows(w,B){const G=Ke.registry.findExecutable("winldd").executablePathOrDie(w);const K=je.default.dirname(B);const{stdout:pe,code:ye}=await(0,ze.spawnAsync)(G,[B],{cwd:K,env:{...process.env,LD_LIBRARY_PATH:process.env.LD_LIBRARY_PATH?`${process.env.LD_LIBRARY_PATH}:${K}`:K}});if(ye!==0)return[];const Se=pe.split("\n").map((w=>w.trim())).filter((w=>w.endsWith("not found")&&w.includes("=>"))).map((w=>w.split("=>")[0].trim().toLowerCase()));return Se}async function missingFileDependencies(w,B){const G=je.default.dirname(w);let K=B.join(":");if(process.env.LD_LIBRARY_PATH)K=`${process.env.LD_LIBRARY_PATH}:${K}`;const{stdout:pe,code:ye}=await(0,ze.spawnAsync)("ldd",[w],{cwd:G,env:{...process.env,LD_LIBRARY_PATH:K}});if(ye!==0)return[];const Se=pe.split("\n").map((w=>w.trim())).filter((w=>w.endsWith("not found")&&w.includes("=>"))).map((w=>w.split("=>")[0].trim()));return Se}async function missingDLOPENLibraries(w){if(!w.length)return[];const{stdout:B,code:G,error:K}=await(0,ze.spawnAsync)("/sbin/ldconfig",["-p"],{});if(G!==0||K)return[];const isLibraryAvailable=w=>B.toLowerCase().includes(w.toLowerCase());return w.filter((w=>!isLibraryAvailable(w)))}const ot={"libx264.so":"gstreamer1.0-libav"};function quoteProcessArgs(w){return w.map((w=>{if(w.includes(" "))return`"${w}"`;return w}))}async function transformCommandsForRoot(w){const B=process.getuid?.()===0;if(B)return{command:"sh",args:["-c",`${w.join("&& ")}`],elevatedPermissions:false};const G=await(0,ze.spawnAsync)("which",["sudo"]);if(G.code===0)return{command:"sudo",args:["--","sh","-c",`${w.join("&& ")}`],elevatedPermissions:true};return{command:"su",args:["root","-c",`${w.join("&& ")}`],elevatedPermissions:true}}0&&0},586:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Registry:()=>Registry,browserDirectoryToMarkerFilePath:()=>browserDirectoryToMarkerFilePath,buildPlaywrightCLICommand:()=>buildPlaywrightCLICommand,findChromiumChannelBestEffort:()=>findChromiumChannelBestEffort,installBrowsersForNpmInstall:()=>installBrowsersForNpmInstall,registry:()=>It,registryDirectory:()=>vt,writeDockerVersion:()=>ct.writeDockerVersion});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(857));var Le=__toESM(G(6928));var je=__toESM(G(9023));var qe=G(3443);var We=G(3169);var Ge=G(3169);var ze=G(7651);var Ye=G(3701);var Ke=G(5809);var Xe=G(2229);var rt=G(864);var it=G(4357);var ot=G(818);var at=G(4331);var lt=G(3449);var ct=G(3169);const ut=Le.default.join(__dirname,"..","..","..");const ft=Le.default.join(__dirname,"..","..","..","bin");const gt=["https://cdn.playwright.dev/dbazure/download/playwright","https://playwright.download.prss.microsoft.com/dbazure/download/playwright","https://cdn.playwright.dev"];if(process.env.PW_TEST_CDN_THAT_SHOULD_WORK){for(let w=0;w<gt.length;w++){const B=gt[w];if(B!==process.env.PW_TEST_CDN_THAT_SHOULD_WORK){const G=new URL(B);G.hostname=G.hostname+".does-not-resolve.playwright.dev";gt[w]=G.toString()}}}const mt={chromium:{linux:["chrome-linux","chrome"],mac:["chrome-mac","Chromium.app","Contents","MacOS","Chromium"],win:["chrome-win","chrome.exe"]},"chromium-headless-shell":{linux:["chrome-linux","headless_shell"],mac:["chrome-mac","headless_shell"],win:["chrome-win","headless_shell.exe"]},firefox:{linux:["firefox","firefox"],mac:["firefox","Nightly.app","Contents","MacOS","firefox"],win:["firefox","firefox.exe"]},webkit:{linux:["pw_run.sh"],mac:["pw_run.sh"],win:["Playwright.exe"]},ffmpeg:{linux:["ffmpeg-linux"],mac:["ffmpeg-mac"],win:["ffmpeg-win64.exe"]},winldd:{linux:void 0,mac:void 0,win:["PrintDeps.exe"]}};const wt={chromium:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu22.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu24.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian11-x64":"builds/chromium/%s/chromium-linux.zip","debian11-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian12-x64":"builds/chromium/%s/chromium-linux.zip","debian12-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian13-x64":"builds/chromium/%s/chromium-linux.zip","debian13-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","mac10.13":"builds/chromium/%s/chromium-mac.zip","mac10.14":"builds/chromium/%s/chromium-mac.zip","mac10.15":"builds/chromium/%s/chromium-mac.zip",mac11:"builds/chromium/%s/chromium-mac.zip","mac11-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac12:"builds/chromium/%s/chromium-mac.zip","mac12-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac13:"builds/chromium/%s/chromium-mac.zip","mac13-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac14:"builds/chromium/%s/chromium-mac.zip","mac14-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac15:"builds/chromium/%s/chromium-mac.zip","mac15-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",win64:"builds/chromium/%s/chromium-win64.zip"},"chromium-headless-shell":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","ubuntu22.04-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","ubuntu24.04-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","debian11-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","debian11-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","debian12-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","debian12-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","debian13-x64":"builds/chromium/%s/chromium-headless-shell-linux.zip","debian13-arm64":"builds/chromium/%s/chromium-headless-shell-linux-arm64.zip","mac10.13":void 0,"mac10.14":void 0,"mac10.15":void 0,mac11:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac11-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac12:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac12-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac13:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac13-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac14:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac14-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",mac15:"builds/chromium/%s/chromium-headless-shell-mac.zip","mac15-arm64":"builds/chromium/%s/chromium-headless-shell-mac-arm64.zip",win64:"builds/chromium/%s/chromium-headless-shell-win64.zip"},"chromium-tip-of-tree":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu22.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu24.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian11-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian12-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian13-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","mac10.13":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac10.14":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac10.15":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip",mac11:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac12:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac13:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac14:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac14-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac15:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac15-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",win64:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-win64.zip"},"chromium-tip-of-tree-headless-shell":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","ubuntu22.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","ubuntu24.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","ubuntu24.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","debian11-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","debian11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","debian12-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","debian12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","debian13-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux.zip","debian13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-linux-arm64.zip","mac10.13":void 0,"mac10.14":void 0,"mac10.15":void 0,mac11:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac12:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac13:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac14:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac14-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",mac15:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac.zip","mac15-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-mac-arm64.zip",win64:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-headless-shell-win64.zip"},firefox:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/firefox/%s/firefox-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/firefox/%s/firefox-ubuntu-22.04.zip","ubuntu24.04-x64":"builds/firefox/%s/firefox-ubuntu-24.04.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/firefox/%s/firefox-ubuntu-20.04-arm64.zip","ubuntu22.04-arm64":"builds/firefox/%s/firefox-ubuntu-22.04-arm64.zip","ubuntu24.04-arm64":"builds/firefox/%s/firefox-ubuntu-24.04-arm64.zip","debian11-x64":"builds/firefox/%s/firefox-debian-11.zip","debian11-arm64":"builds/firefox/%s/firefox-debian-11-arm64.zip","debian12-x64":"builds/firefox/%s/firefox-debian-12.zip","debian12-arm64":"builds/firefox/%s/firefox-debian-12-arm64.zip","debian13-x64":"builds/firefox/%s/firefox-debian-13.zip","debian13-arm64":"builds/firefox/%s/firefox-debian-13-arm64.zip","mac10.13":"builds/firefox/%s/firefox-mac.zip","mac10.14":"builds/firefox/%s/firefox-mac.zip","mac10.15":"builds/firefox/%s/firefox-mac.zip",mac11:"builds/firefox/%s/firefox-mac.zip","mac11-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac12:"builds/firefox/%s/firefox-mac.zip","mac12-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac13:"builds/firefox/%s/firefox-mac.zip","mac13-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac14:"builds/firefox/%s/firefox-mac.zip","mac14-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",mac15:"builds/firefox/%s/firefox-mac.zip","mac15-arm64":"builds/firefox/%s/firefox-mac-arm64.zip",win64:"builds/firefox/%s/firefox-win64.zip"},"firefox-beta":{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-22.04.zip","ubuntu24.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-24.04.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":void 0,"ubuntu22.04-arm64":"builds/firefox-beta/%s/firefox-beta-ubuntu-22.04-arm64.zip","ubuntu24.04-arm64":"builds/firefox-beta/%s/firefox-beta-ubuntu-24.04-arm64.zip","debian11-x64":"builds/firefox-beta/%s/firefox-beta-debian-11.zip","debian11-arm64":"builds/firefox-beta/%s/firefox-beta-debian-11-arm64.zip","debian12-x64":"builds/firefox-beta/%s/firefox-beta-debian-12.zip","debian12-arm64":"builds/firefox-beta/%s/firefox-beta-debian-12-arm64.zip","debian13-x64":"builds/firefox-beta/%s/firefox-beta-debian-12.zip","debian13-arm64":"builds/firefox-beta/%s/firefox-beta-debian-12-arm64.zip","mac10.13":"builds/firefox-beta/%s/firefox-beta-mac.zip","mac10.14":"builds/firefox-beta/%s/firefox-beta-mac.zip","mac10.15":"builds/firefox-beta/%s/firefox-beta-mac.zip",mac11:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac11-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac12:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac12-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac13:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac13-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac14:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac14-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",mac15:"builds/firefox-beta/%s/firefox-beta-mac.zip","mac15-arm64":"builds/firefox-beta/%s/firefox-beta-mac-arm64.zip",win64:"builds/firefox-beta/%s/firefox-beta-win64.zip"},webkit:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/webkit/%s/webkit-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/webkit/%s/webkit-ubuntu-22.04.zip","ubuntu24.04-x64":"builds/webkit/%s/webkit-ubuntu-24.04.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/webkit/%s/webkit-ubuntu-20.04-arm64.zip","ubuntu22.04-arm64":"builds/webkit/%s/webkit-ubuntu-22.04-arm64.zip","ubuntu24.04-arm64":"builds/webkit/%s/webkit-ubuntu-24.04-arm64.zip","debian11-x64":"builds/webkit/%s/webkit-debian-11.zip","debian11-arm64":"builds/webkit/%s/webkit-debian-11-arm64.zip","debian12-x64":"builds/webkit/%s/webkit-debian-12.zip","debian12-arm64":"builds/webkit/%s/webkit-debian-12-arm64.zip","debian13-x64":"builds/webkit/%s/webkit-debian-13.zip","debian13-arm64":"builds/webkit/%s/webkit-debian-13-arm64.zip","mac10.13":void 0,"mac10.14":"builds/deprecated-webkit-mac-10.14/%s/deprecated-webkit-mac-10.14.zip","mac10.15":"builds/deprecated-webkit-mac-10.15/%s/deprecated-webkit-mac-10.15.zip",mac11:"builds/webkit/%s/webkit-mac-11.zip","mac11-arm64":"builds/webkit/%s/webkit-mac-11-arm64.zip",mac12:"builds/webkit/%s/webkit-mac-12.zip","mac12-arm64":"builds/webkit/%s/webkit-mac-12-arm64.zip",mac13:"builds/webkit/%s/webkit-mac-13.zip","mac13-arm64":"builds/webkit/%s/webkit-mac-13-arm64.zip",mac14:"builds/webkit/%s/webkit-mac-14.zip","mac14-arm64":"builds/webkit/%s/webkit-mac-14-arm64.zip",mac15:"builds/webkit/%s/webkit-mac-15.zip","mac15-arm64":"builds/webkit/%s/webkit-mac-15-arm64.zip",win64:"builds/webkit/%s/webkit-win64.zip"},ffmpeg:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu22.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu24.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","ubuntu22.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","ubuntu24.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian11-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian11-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian12-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian12-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian13-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian13-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","mac10.13":"builds/ffmpeg/%s/ffmpeg-mac.zip","mac10.14":"builds/ffmpeg/%s/ffmpeg-mac.zip","mac10.15":"builds/ffmpeg/%s/ffmpeg-mac.zip",mac11:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac11-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac12:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac12-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac13:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac13-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac14:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac14-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac15:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac15-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",win64:"builds/ffmpeg/%s/ffmpeg-win64.zip"},winldd:{"<unknown>":void 0,"ubuntu18.04-x64":void 0,"ubuntu20.04-x64":void 0,"ubuntu22.04-x64":void 0,"ubuntu24.04-x64":void 0,"ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":void 0,"ubuntu22.04-arm64":void 0,"ubuntu24.04-arm64":void 0,"debian11-x64":void 0,"debian11-arm64":void 0,"debian12-x64":void 0,"debian12-arm64":void 0,"debian13-x64":void 0,"debian13-arm64":void 0,"mac10.13":void 0,"mac10.14":void 0,"mac10.15":void 0,mac11:void 0,"mac11-arm64":void 0,mac12:void 0,"mac12-arm64":void 0,mac13:void 0,"mac13-arm64":void 0,mac14:void 0,"mac14-arm64":void 0,mac15:void 0,"mac15-arm64":void 0,win64:"builds/winldd/%s/winldd-win64.zip"},android:{"<unknown>":"builds/android/%s/android.zip","ubuntu18.04-x64":void 0,"ubuntu20.04-x64":"builds/android/%s/android.zip","ubuntu22.04-x64":"builds/android/%s/android.zip","ubuntu24.04-x64":"builds/android/%s/android.zip","ubuntu18.04-arm64":void 0,"ubuntu20.04-arm64":"builds/android/%s/android.zip","ubuntu22.04-arm64":"builds/android/%s/android.zip","ubuntu24.04-arm64":"builds/android/%s/android.zip","debian11-x64":"builds/android/%s/android.zip","debian11-arm64":"builds/android/%s/android.zip","debian12-x64":"builds/android/%s/android.zip","debian12-arm64":"builds/android/%s/android.zip","debian13-x64":"builds/android/%s/android.zip","debian13-arm64":"builds/android/%s/android.zip","mac10.13":"builds/android/%s/android.zip","mac10.14":"builds/android/%s/android.zip","mac10.15":"builds/android/%s/android.zip",mac11:"builds/android/%s/android.zip","mac11-arm64":"builds/android/%s/android.zip",mac12:"builds/android/%s/android.zip","mac12-arm64":"builds/android/%s/android.zip",mac13:"builds/android/%s/android.zip","mac13-arm64":"builds/android/%s/android.zip",mac14:"builds/android/%s/android.zip","mac14-arm64":"builds/android/%s/android.zip",mac15:"builds/android/%s/android.zip","mac15-arm64":"builds/android/%s/android.zip",win64:"builds/android/%s/android.zip"},_bidiFirefox:{},_bidiChromium:{}};const vt=(()=>{let w;const B=(0,ze.getFromENV)("PLAYWRIGHT_BROWSERS_PATH");if(B==="0"){w=Le.default.join(__dirname,"..","..","..",".local-browsers")}else if(B){w=B}else{let B;if(process.platform==="linux")B=process.env.XDG_CACHE_HOME||Le.default.join(Me.default.homedir(),".cache");else if(process.platform==="darwin")B=Le.default.join(Me.default.homedir(),"Library","Caches");else if(process.platform==="win32")B=process.env.LOCALAPPDATA||Le.default.join(Me.default.homedir(),"AppData","Local");else throw new Error("Unsupported platform: "+process.platform);w=Le.default.join(B,"ms-playwright")}if(!Le.default.isAbsolute(w)){w=Le.default.resolve((0,ze.getFromENV)("INIT_CWD")||process.cwd(),w)}return w})();function isBrowserDirectory(w){const B=Le.default.basename(w);for(const w of _t){if(B.startsWith(w.replace(/-/g,"_")+"-"))return true}return false}function readDescriptors(w){return w["browsers"].map((w=>{const B=w.name;const G=(w.revisionOverrides||{})[Xe.hostPlatform];const K=G||w.revision;const pe=G?`${B}_${Xe.hostPlatform}_special`:`${B}`;const ye={name:B,revision:K,hasRevisionOverride:!!G,browserVersion:G?void 0:w.browserVersion,installByDefault:!!w.installByDefault,dir:Le.default.join(vt,pe.replace(/-/g,"_")+"-"+K)};return ye}))}const _t=["android","chromium","firefox","webkit","ffmpeg","firefox-beta","chromium-tip-of-tree","chromium-headless-shell","chromium-tip-of-tree-headless-shell"];class Registry{constructor(w){const B=readDescriptors(w);const findExecutablePath=(w,B)=>{let G=void 0;if(process.platform==="linux")G=mt[B]["linux"];else if(process.platform==="darwin")G=mt[B]["mac"];else if(process.platform==="win32")G=mt[B]["win"];return G?Le.default.join(w,...G):void 0};const executablePathOrDie=(w,B,G,K)=>{if(!B)throw new Error(`${w} is not supported on ${Xe.hostPlatform}`);const pe=buildPlaywrightCLICommand(K,`install${G?"":" "+w}`);if(!(0,lt.canAccessFile)(B)){const w=(0,We.readDockerVersionSync)();const ye=w?(0,We.dockerVersion)(w.dockerImageNameTemplate):null;const Se=w&&ye&&w.dockerImageName!==ye.dockerImageName;const Be=Se?[`Looks like ${K==="javascript"?"Playwright Test or ":""}Playwright was just updated to ${ye.driverVersion}.`,`Please update docker image as well.`,`-  current: ${w.dockerImageName}`,`- required: ${ye.dockerImageName}`,``,`<3 Playwright Team`].join("\n"):[`Looks like ${K==="javascript"?"Playwright Test or ":""}Playwright was just installed or updated.`,`Please run the following command to download new browser${G?"s":""}:`,``,`    ${pe}`,``,`<3 Playwright Team`].join("\n");throw new Error(`Executable doesn't exist at ${B}\n${(0,Ye.wrapInASCIIBox)(Be,1)}`)}return B};this._executables=[];const G=B.find((w=>w.name==="chromium"));const K=findExecutablePath(G.dir,"chromium");this._executables.push({type:"browser",name:"chromium",browserName:"chromium",directory:G.dir,executablePath:()=>K,executablePathOrDie:w=>executablePathOrDie("chromium",K,G.installByDefault,w),installType:G.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:w=>this._validateHostRequirements(w,G.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(G),browserVersion:G.browserVersion,_install:()=>this._downloadExecutable(G,K),_dependencyGroup:"chromium",_isHermeticInstallation:true});const pe=B.find((w=>w.name==="chromium-headless-shell"));const ye=findExecutablePath(pe.dir,"chromium-headless-shell");this._executables.push({type:"channel",name:"chromium-headless-shell",browserName:"chromium",directory:pe.dir,executablePath:()=>ye,executablePathOrDie:w=>executablePathOrDie("chromium",ye,pe.installByDefault,w),installType:pe.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:w=>this._validateHostRequirements(w,pe.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(pe),browserVersion:G.browserVersion,_install:()=>this._downloadExecutable(pe,ye),_dependencyGroup:"chromium",_isHermeticInstallation:true});const Se=B.find((w=>w.name==="chromium-tip-of-tree-headless-shell"));const Be=findExecutablePath(Se.dir,"chromium-headless-shell");this._executables.push({type:"channel",name:"chromium-tip-of-tree-headless-shell",browserName:"chromium",directory:Se.dir,executablePath:()=>Be,executablePathOrDie:w=>executablePathOrDie("chromium",Be,Se.installByDefault,w),installType:Se.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:w=>this._validateHostRequirements(w,Se.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(Se),browserVersion:G.browserVersion,_install:()=>this._downloadExecutable(Se,Be),_dependencyGroup:"chromium",_isHermeticInstallation:true});const Qe=B.find((w=>w.name==="chromium-tip-of-tree"));const Pe=findExecutablePath(Qe.dir,"chromium");this._executables.push({type:"tool",name:"chromium-tip-of-tree",browserName:"chromium",directory:Qe.dir,executablePath:()=>Pe,executablePathOrDie:w=>executablePathOrDie("chromium-tip-of-tree",Pe,Qe.installByDefault,w),installType:Qe.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:w=>this._validateHostRequirements(w,Qe.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(Qe),browserVersion:Qe.browserVersion,_install:()=>this._downloadExecutable(Qe,Pe),_dependencyGroup:"chromium",_isHermeticInstallation:true});this._executables.push(this._createChromiumChannel("chrome",{linux:"/opt/google/chrome/chrome",darwin:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",win32:`\\Google\\Chrome\\Application\\chrome.exe`},(()=>this._installChromiumChannel("chrome",{linux:"reinstall_chrome_stable_linux.sh",darwin:"reinstall_chrome_stable_mac.sh",win32:"reinstall_chrome_stable_win.ps1"}))));this._executables.push(this._createChromiumChannel("chrome-beta",{linux:"/opt/google/chrome-beta/chrome",darwin:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",win32:`\\Google\\Chrome Beta\\Application\\chrome.exe`},(()=>this._installChromiumChannel("chrome-beta",{linux:"reinstall_chrome_beta_linux.sh",darwin:"reinstall_chrome_beta_mac.sh",win32:"reinstall_chrome_beta_win.ps1"}))));this._executables.push(this._createChromiumChannel("chrome-dev",{linux:"/opt/google/chrome-unstable/chrome",darwin:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",win32:`\\Google\\Chrome Dev\\Application\\chrome.exe`}));this._executables.push(this._createChromiumChannel("chrome-canary",{linux:"/opt/google/chrome-canary/chrome",darwin:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",win32:`\\Google\\Chrome SxS\\Application\\chrome.exe`}));this._executables.push(this._createChromiumChannel("msedge",{linux:"/opt/microsoft/msedge/msedge",darwin:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",win32:`\\Microsoft\\Edge\\Application\\msedge.exe`},(()=>this._installMSEdgeChannel("msedge",{linux:"reinstall_msedge_stable_linux.sh",darwin:"reinstall_msedge_stable_mac.sh",win32:"reinstall_msedge_stable_win.ps1"}))));this._executables.push(this._createChromiumChannel("msedge-beta",{linux:"/opt/microsoft/msedge-beta/msedge",darwin:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",win32:`\\Microsoft\\Edge Beta\\Application\\msedge.exe`},(()=>this._installMSEdgeChannel("msedge-beta",{darwin:"reinstall_msedge_beta_mac.sh",linux:"reinstall_msedge_beta_linux.sh",win32:"reinstall_msedge_beta_win.ps1"}))));this._executables.push(this._createChromiumChannel("msedge-dev",{linux:"/opt/microsoft/msedge-dev/msedge",darwin:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",win32:`\\Microsoft\\Edge Dev\\Application\\msedge.exe`},(()=>this._installMSEdgeChannel("msedge-dev",{darwin:"reinstall_msedge_dev_mac.sh",linux:"reinstall_msedge_dev_linux.sh",win32:"reinstall_msedge_dev_win.ps1"}))));this._executables.push(this._createChromiumChannel("msedge-canary",{linux:"",darwin:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",win32:`\\Microsoft\\Edge SxS\\Application\\msedge.exe`}));this._executables.push(this._createBidiFirefoxChannel("moz-firefox",{linux:"/snap/bin/firefox",darwin:"/Applications/Firefox.app/Contents/MacOS/firefox",win32:"\\Mozilla Firefox\\firefox.exe"}));this._executables.push(this._createBidiFirefoxChannel("moz-firefox-beta",{linux:"/opt/firefox-beta/firefox",darwin:"/Applications/Firefox.app/Contents/MacOS/firefox",win32:"\\Mozilla Firefox\\firefox.exe"}));this._executables.push(this._createBidiFirefoxChannel("moz-firefox-nightly",{linux:"/opt/firefox-nightly/firefox",darwin:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",win32:"\\Mozilla Firefox\\firefox.exe"}));this._executables.push(this._createBidiChromiumChannel("bidi-chrome-stable",{linux:"/opt/google/chrome/chrome",darwin:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",win32:`\\Google\\Chrome\\Application\\chrome.exe`}));this._executables.push(this._createBidiChromiumChannel("bidi-chrome-canary",{linux:"/opt/google/chrome-canary/chrome",darwin:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",win32:`\\Google\\Chrome SxS\\Application\\chrome.exe`}));this._executables.push({type:"browser",name:"_bidiChromium",browserName:"_bidiChromium",directory:G.dir,executablePath:()=>K,executablePathOrDie:w=>executablePathOrDie("chromium",K,G.installByDefault,w),installType:"download-on-demand",_validateHostRequirements:w=>this._validateHostRequirements(w,G.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(G),browserVersion:G.browserVersion,_install:()=>this._downloadExecutable(G,K),_dependencyGroup:"chromium",_isHermeticInstallation:true});const Fe=B.find((w=>w.name==="firefox"));const Me=findExecutablePath(Fe.dir,"firefox");this._executables.push({type:"browser",name:"firefox",browserName:"firefox",directory:Fe.dir,executablePath:()=>Me,executablePathOrDie:w=>executablePathOrDie("firefox",Me,Fe.installByDefault,w),installType:Fe.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:w=>this._validateHostRequirements(w,Fe.dir,["firefox"],[],["firefox"]),downloadURLs:this._downloadURLs(Fe),browserVersion:Fe.browserVersion,_install:()=>this._downloadExecutable(Fe,Me),_dependencyGroup:"firefox",_isHermeticInstallation:true});const je=B.find((w=>w.name==="firefox-beta"));const qe=findExecutablePath(je.dir,"firefox");this._executables.push({type:"tool",name:"firefox-beta",browserName:"firefox",directory:je.dir,executablePath:()=>qe,executablePathOrDie:w=>executablePathOrDie("firefox-beta",qe,je.installByDefault,w),installType:je.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:w=>this._validateHostRequirements(w,je.dir,["firefox"],[],["firefox"]),downloadURLs:this._downloadURLs(je),browserVersion:je.browserVersion,_install:()=>this._downloadExecutable(je,qe),_dependencyGroup:"firefox",_isHermeticInstallation:true});const Ge=B.find((w=>w.name==="webkit"));const ze=findExecutablePath(Ge.dir,"webkit");const Ke=[Le.default.join("minibrowser-gtk"),Le.default.join("minibrowser-gtk","bin"),Le.default.join("minibrowser-gtk","lib"),Le.default.join("minibrowser-gtk","sys","lib"),Le.default.join("minibrowser-wpe"),Le.default.join("minibrowser-wpe","bin"),Le.default.join("minibrowser-wpe","lib"),Le.default.join("minibrowser-wpe","sys","lib")];this._executables.push({type:"browser",name:"webkit",browserName:"webkit",directory:Ge.dir,executablePath:()=>ze,executablePathOrDie:w=>executablePathOrDie("webkit",ze,Ge.installByDefault,w),installType:Ge.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:w=>this._validateHostRequirements(w,Ge.dir,Ke,["libGLESv2.so.2","libx264.so"],[""]),downloadURLs:this._downloadURLs(Ge),browserVersion:Ge.browserVersion,_install:()=>this._downloadExecutable(Ge,ze),_dependencyGroup:"webkit",_isHermeticInstallation:true});this._executables.push({type:"channel",name:"webkit-wsl",browserName:"webkit",directory:Ge.dir,executablePath:()=>process.execPath,executablePathOrDie:()=>process.execPath,wslExecutablePath:`/home/pwuser/.cache/ms-playwright/webkit-${Ge.revision}/pw_run.sh`,installType:"download-on-demand",_validateHostRequirements:w=>Promise.resolve(),_isHermeticInstallation:true,_install:async()=>{if(process.platform!=="win32")throw new Error(`WebKit via WSL is only supported on Windows`);const w=Le.default.join(ft,"install_webkit_wsl.ps1");const{code:B}=await(0,it.spawnAsync)("powershell.exe",["-ExecutionPolicy","Bypass","-File",w],{stdio:"inherit"});if(B!==0)throw new Error(`Failed to install WebKit via WSL`)}});const rt=B.find((w=>w.name==="ffmpeg"));const ot=findExecutablePath(rt.dir,"ffmpeg");this._executables.push({type:"tool",name:"ffmpeg",browserName:void 0,directory:rt.dir,executablePath:()=>ot,executablePathOrDie:w=>executablePathOrDie("ffmpeg",ot,rt.installByDefault,w),installType:rt.installByDefault?"download-by-default":"download-on-demand",_validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(rt),_install:()=>this._downloadExecutable(rt,ot),_dependencyGroup:"tools",_isHermeticInstallation:true});const at=B.find((w=>w.name==="winldd"));const ct=findExecutablePath(at.dir,"winldd");this._executables.push({type:"tool",name:"winldd",browserName:void 0,directory:at.dir,executablePath:()=>ct,executablePathOrDie:w=>executablePathOrDie("winldd",ct,at.installByDefault,w),installType:process.platform==="win32"?"download-by-default":"none",_validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(at),_install:()=>this._downloadExecutable(at,ct),_dependencyGroup:"tools",_isHermeticInstallation:true});const ut=B.find((w=>w.name==="android"));this._executables.push({type:"tool",name:"android",browserName:void 0,directory:ut.dir,executablePath:()=>void 0,executablePathOrDie:()=>"",installType:"download-on-demand",_validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(ut),_install:()=>this._downloadExecutable(ut),_dependencyGroup:"tools",_isHermeticInstallation:true})}_createChromiumChannel(w,B,G){const executablePath=(K,pe)=>{const ye=B[process.platform];if(!ye){if(pe)throw new Error(`Chromium distribution '${w}' is not supported on ${process.platform}`);return void 0}const Se=process.platform==="win32"?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"],process.env.HOMEDRIVE+"\\Program Files",process.env.HOMEDRIVE+"\\Program Files (x86)"].filter(Boolean):[""];for(const w of Se){const B=Le.default.join(w,ye);if((0,lt.canAccessFile)(B))return B}if(!pe)return void 0;const Be=Se.length?` at ${Le.default.join(Se[0],ye)}`:``;const Qe=G?`\nRun "${buildPlaywrightCLICommand(K,"install "+w)}"`:"";throw new Error(`Chromium distribution '${w}' is not found${Be}${Qe}`)};return{type:"channel",name:w,browserName:"chromium",directory:void 0,executablePath:w=>executablePath(w,false),executablePathOrDie:w=>executablePath(w,true),installType:G?"install-script":"none",_validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:false,_install:G}}_createBidiFirefoxChannel(w,B,G){const executablePath=(G,K)=>{const pe=B[process.platform];if(!pe){if(K)throw new Error(`Firefox distribution '${w}' is not supported on ${process.platform}`);return void 0}const ye=process.platform==="win32"?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"],process.env.HOMEDRIVE+"\\Program Files",process.env.HOMEDRIVE+"\\Program Files (x86)"].filter(Boolean):[""];for(const w of ye){const B=Le.default.join(w,pe);if((0,lt.canAccessFile)(B))return B}if(K)throw new Error(`Cannot find Firefox installation for channel '${w}' at the standard system paths.`);return void 0};return{type:"channel",name:w,browserName:"_bidiFirefox",directory:void 0,executablePath:w=>executablePath(w,false),executablePathOrDie:w=>executablePath(w,true),installType:"none",_validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:true,_install:G}}_createBidiChromiumChannel(w,B,G){const executablePath=(K,pe)=>{const ye=B[process.platform];if(!ye){if(pe)throw new Error(`Chromium distribution '${w}' is not supported on ${process.platform}`);return void 0}const Se=process.platform==="win32"?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"],process.env.HOMEDRIVE+"\\Program Files",process.env.HOMEDRIVE+"\\Program Files (x86)"].filter(Boolean):[""];for(const w of Se){const B=Le.default.join(w,ye);if((0,lt.canAccessFile)(B))return B}if(!pe)return void 0;const Be=Se.length?` at ${Le.default.join(Se[0],ye)}`:``;const Qe=G?`\nRun "${buildPlaywrightCLICommand(K,"install "+w)}"`:"";throw new Error(`Chromium distribution '${w}' is not found${Be}${Qe}`)};return{type:"channel",name:w,browserName:"_bidiChromium",directory:void 0,executablePath:w=>executablePath(w,false),executablePathOrDie:w=>executablePath(w,true),installType:G?"install-script":"none",_validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:false,_install:G}}executables(){return this._executables}findExecutable(w){return this._executables.find((B=>B.name===w))}defaultExecutables(){return this._executables.filter((w=>w.installType==="download-by-default"))}_dedupe(w){return Array.from(new Set(w))}async _validateHostRequirements(w,B,G,K,pe){if(Me.default.platform()==="linux")return await(0,Ge.validateDependenciesLinux)(w,G.map((w=>Le.default.join(B,w))),K);if(Me.default.platform()==="win32"&&Me.default.arch()==="x64")return await(0,Ge.validateDependenciesWindows)(w,pe.map((w=>Le.default.join(B,w))))}async installDeps(w,B){const G=this._dedupe(w);const K=new Set;for(const w of G){if(w._dependencyGroup)K.add(w._dependencyGroup)}K.add("tools");if(Me.default.platform()==="win32")return await(0,Ge.installDependenciesWindows)(K,B);if(Me.default.platform()==="linux")return await(0,Ge.installDependenciesLinux)(K,B)}async install(w,B){const G=this._dedupe(w);await Fe.default.promises.mkdir(vt,{recursive:true});const K=Le.default.join(vt,"__dirlock");const pe=Le.default.join(vt,".links");let ye;try{ye=await at.lockfile.lock(vt,{retries:{retries:20,factor:1.27579},onCompromised:w=>{throw new Error(`${w.message} Path: ${K}`)},lockfilePath:K});await Fe.default.promises.mkdir(pe,{recursive:true});await Fe.default.promises.writeFile(Le.default.join(pe,(0,ze.calculateSha1)(ut)),ut);if(!(0,ze.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_BROWSER_GC"))await this._validateInstallationCache(pe);for(const w of G){if(!w._install)throw new Error(`ERROR: Playwright does not support installing ${w.name}`);const{embedderName:G}=(0,ot.getEmbedderName)();if(!(0,ze.getAsBooleanFromENV)("CI")&&!w._isHermeticInstallation&&!B&&w.executablePath(G)){const B=buildPlaywrightCLICommand(G,"install --force "+w.name);process.stderr.write("\n"+(0,Ye.wrapInASCIIBox)([`ATTENTION: "${w.name}" is already installed on the system!`,``,`"${w.name}" installation is not hermetic; installing newer version`,`requires *removal* of a current installation first.`,``,`To *uninstall* current version and re-install latest "${w.name}":`,``,`- Close all running instances of "${w.name}", if any`,`- Use "--force" to install browser:`,``,`    ${B}`,``,`<3 Playwright Team`].join("\n"),1)+"\n\n");return}await w._install()}}catch(w){if(w.code==="ELOCKED"){const w=process.platform==="win32"?"rm -R":"rm -rf";throw new Error("\n"+(0,Ye.wrapInASCIIBox)([`An active lockfile is found at:`,``,`  ${K}`,``,`Either:`,`- wait a few minutes if other Playwright is installing browsers in parallel`,`- remove lock manually with:`,``,`    ${w} ${K}`,``,`<3 Playwright Team`].join("\n"),1))}else{throw w}}finally{if(ye)await ye()}}async uninstall(w){const B=Le.default.join(vt,".links");if(w){const w=await Fe.default.promises.readdir(B).catch((()=>[]));for(const G of w)await Fe.default.promises.unlink(Le.default.join(B,G))}else{await Fe.default.promises.unlink(Le.default.join(B,(0,ze.calculateSha1)(ut))).catch((()=>{}))}await this._validateInstallationCache(B);return{numberOfBrowsersLeft:(await Fe.default.promises.readdir(vt).catch((()=>[]))).filter((w=>isBrowserDirectory(w))).length}}async validateHostRequirementsForExecutablesIfNeeded(w,B){if((0,ze.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_VALIDATE_HOST_REQUIREMENTS")){process.stderr.write("Skipping host requirements validation logic because `PLAYWRIGHT_SKIP_VALIDATE_HOST_REQUIREMENTS` env variable is set.\n");return}for(const G of w)await this._validateHostRequirementsForExecutableIfNeeded(G,B)}async _validateHostRequirementsForExecutableIfNeeded(w,B){const G=30*24*60*60*1e3;if(!w.directory)return;const K=Le.default.join(w.directory,"DEPENDENCIES_VALIDATED");if(await Fe.default.promises.stat(K).then((w=>Date.now()-w.mtime.getTime()<G)).catch((()=>false)))return;Ke.debugLogger.log("install",`validating host requirements for "${w.name}"`);try{await w._validateHostRequirements(B);Ke.debugLogger.log("install",`validation passed for ${w.name}`)}catch(B){Ke.debugLogger.log("install",`validation failed for ${w.name}`);throw B}await Fe.default.promises.writeFile(K,"").catch((()=>{}))}_downloadURLs(w){const B=wt[w.name];const G=B[Xe.hostPlatform]||B["<unknown>"];if(!G)return[];const K=je.format(G,w.revision);let pe=gt.map((w=>`${w}/${K}`));let ye;if(w.name.startsWith("chromium"))ye="PLAYWRIGHT_CHROMIUM_DOWNLOAD_HOST";else if(w.name.startsWith("firefox"))ye="PLAYWRIGHT_FIREFOX_DOWNLOAD_HOST";else if(w.name.startsWith("webkit"))ye="PLAYWRIGHT_WEBKIT_DOWNLOAD_HOST";const Se=ye&&(0,ze.getFromENV)(ye)||(0,ze.getFromENV)("PLAYWRIGHT_DOWNLOAD_HOST");if(Se)pe=[`${Se}/${K}`];return pe}async _downloadExecutable(w,B){const G=this._downloadURLs(w);if(!G.length)throw new Error(`ERROR: Playwright does not support ${w.name} on ${Xe.hostPlatform}`);if(!Xe.isOfficiallySupportedPlatform)(0,qe.logPolitely)(`BEWARE: your OS is not officially supported by Playwright; downloading fallback build for ${Xe.hostPlatform}.`);if(w.hasRevisionOverride){const B=`You are using a frozen ${w.name} browser which does not receive updates anymore on ${Xe.hostPlatform}. Please update to the latest version of your operating system to test up-to-date browsers.`;if(process.env.GITHUB_ACTIONS)console.log(`::warning title=Playwright::${B}`);else(0,qe.logPolitely)(B)}const K=w.name.split("-").map((w=>w==="ffmpeg"?"FFMPEG":w.charAt(0).toUpperCase()+w.slice(1))).join(" ");const pe=w.browserVersion?`${K} ${w.browserVersion} (playwright build v${w.revision})`:`${K} playwright build v${w.revision}`;const ye=`playwright-download-${w.name}-${Xe.hostPlatform}-${w.revision}.zip`;const Se=(0,ze.getFromENV)("PLAYWRIGHT_DOWNLOAD_CONNECTION_TIMEOUT");const Be=+(Se||"0")||rt.NET_DEFAULT_TIMEOUT;await(0,qe.downloadBrowserWithProgressBar)(pe,w.dir,B,G,ye,Be).catch((w=>{throw new Error(`Failed to download ${pe}, caused by\n${w.stack}`)}))}async _installMSEdgeChannel(w,B){const G=[];if(process.platform!=="linux"){const B=lowercaseAllKeys(JSON.parse(await(0,rt.fetchData)(void 0,{url:"https://edgeupdates.microsoft.com/api/products"})));const K={msedge:"Stable","msedge-beta":"Beta","msedge-dev":"Dev"}[w];const pe=B.find((w=>w.product===K));const ye={darwin:{platform:"MacOS",arch:"universal",artifact:"pkg"},win32:{platform:"Windows",arch:"x64",artifact:"msi"}}[process.platform];const Se=ye?pe.releases.find((w=>w.platform===ye.platform&&w.architecture===ye.arch&&w.artifacts.length>0)):null;const Be=Se?Se.artifacts.find((w=>w.artifactname===ye.artifact)):null;if(Be)G.push(Be.location);else throw new Error(`Cannot install ${w} on ${process.platform}`)}await this._installChromiumChannel(w,B,G)}async _installChromiumChannel(w,B,G=[]){const K=B[process.platform];if(!K)throw new Error(`Cannot install ${w} on ${process.platform}`);const pe=ft;const ye=K.endsWith(".ps1");if(ye){const B=["-ExecutionPolicy","Bypass","-File",Le.default.join(ft,K),...G];const{code:ye}=await(0,it.spawnAsync)("powershell.exe",B,{cwd:pe,stdio:"inherit"});if(ye!==0)throw new Error(`Failed to install ${w}`)}else{const{command:B,args:ye,elevatedPermissions:Se}=await(0,We.transformCommandsForRoot)([`bash "${Le.default.join(ft,K)}" ${G.join("")}`]);if(Se)console.log("Switching to root user to install dependencies...");const{code:Be}=await(0,it.spawnAsync)(B,ye,{cwd:pe,stdio:"inherit"});if(Be!==0)throw new Error(`Failed to install ${w}`)}}async listInstalledBrowsers(){const w=Le.default.join(vt,".links");const{browsers:B}=await this._traverseBrowserInstallations(w);return B.filter((w=>Fe.default.existsSync(w.browserPath)))}async _validateInstallationCache(w){const{browsers:B,brokenLinks:G}=await this._traverseBrowserInstallations(w);await this._deleteStaleBrowsers(B);await this._deleteBrokenInstallations(G)}async _traverseBrowserInstallations(w){const B=[];const G=[];for(const K of await Fe.default.promises.readdir(w)){const pe=Le.default.join(w,K);let ye="";try{ye=(await Fe.default.promises.readFile(pe)).toString();const w=require(Le.default.join(ye,"browsers.json"));const G=readDescriptors(w);for(const w of _t){const K=G.find((B=>B.name===w));if(!K)continue;const pe=K.dir;const Se=parseInt(K.revision,10);B.push({browserName:w,browserVersion:Se,browserPath:pe,referenceDir:ye})}}catch(w){G.push(pe)}}return{browsers:B,brokenLinks:G}}async _deleteStaleBrowsers(w){const B=new Set;for(const G of w){const{browserName:w,browserVersion:K,browserPath:pe}=G;const ye=w==="chromium"&&(K>=786218||K<3e5)||w==="firefox"&&K>=1128||w==="webkit"&&K>=1307||w!=="firefox"&&w!=="chromium"&&w!=="webkit";if(!ye||await(0,lt.existsAsync)(browserDirectoryToMarkerFilePath(pe)))B.add(pe)}let G=(await Fe.default.promises.readdir(vt)).map((w=>Le.default.join(vt,w)));G=G.filter((w=>isBrowserDirectory(w)));const K=new Set(G);for(const w of B)K.delete(w);for(const w of K)(0,qe.logPolitely)("Removing unused browser at "+w);await(0,lt.removeFolders)([...K])}async _deleteBrokenInstallations(w){for(const B of w)await Fe.default.promises.unlink(B).catch((w=>{}))}}function browserDirectoryToMarkerFilePath(w){return Le.default.join(w,"INSTALLATION_COMPLETE")}function buildPlaywrightCLICommand(w,B){switch(w){case"python":return`playwright ${B}`;case"java":return`mvn exec:java -e -D exec.mainClass=com.microsoft.playwright.CLI -D exec.args="${B}"`;case"csharp":return`pwsh bin/Debug/netX/playwright.ps1 ${B}`;default:{const w=(0,ze.getPackageManagerExecCommand)();return`${w} playwright ${B}`}}}async function installBrowsersForNpmInstall(w){if((0,ze.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD")){(0,qe.logPolitely)("Skipping browsers download because `PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD` env variable is set");return false}const B=[];if(process.platform==="win32")B.push(It.findExecutable("winldd"));for(const G of w){const w=It.findExecutable(G);if(!w||w.installType==="none")throw new Error(`Cannot install ${G}`);B.push(w)}await It.install(B,false)}function findChromiumChannelBestEffort(w){let B=null;for(const G of["chromium","chrome","msedge"]){try{It.findExecutable(G).executablePathOrDie(w);B=G==="chromium"?void 0:G;break}catch(w){}}if(B===null){const B=buildPlaywrightCLICommand(w,`install chromium`);const G=[`No chromium-based browser found on the system.`,`Please run the following command to download one:`,``,`    ${B}`,``,`<3 Playwright Team`].join("\n");throw new Error("\n"+(0,Ye.wrapInASCIIBox)(G,1))}return B}function lowercaseAllKeys(w){if(typeof w!=="object"||!w)return w;if(Array.isArray(w))return w.map(lowercaseAllKeys);const B={};for(const[G,K]of Object.entries(w))B[G.toLowerCase()]=lowercaseAllKeys(K);return B}const It=new Registry(G(7068));0&&0},7049:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{deps:()=>Se});w.exports=__toCommonJS(ye);const Se={"ubuntu20.04-x64":{tools:["xvfb","fonts-noto-color-emoji","ttf-unifont","libfontconfig","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","ttf-ubuntu-font-family"],chromium:["fonts-liberation","libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libegl1","libgbm1","libglib2.0-0","libgtk-3-0","libnspr4","libnss3","libpango-1.0-0","libx11-6","libx11-xcb1","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxrandr2","libxshmfence1"],firefox:["ffmpeg","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf2.0-0","libglib2.0-0","libgtk-3-0","libpango-1.0-0","libpangocairo-1.0-0","libpangoft2-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrender1","libxt6","libxtst6"],webkit:["libenchant-2-2","libflite1","libx264-155","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libegl1","libenchant1c2a","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgdk-pixbuf2.0-0","libgl1","libgles2","libglib2.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu66","libjpeg-turbo8","libnghttp2-14","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libsecret-1-0","libvpx6","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp6","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7"],lib2package:{"libflite.so.1":"libflite1","libflite_usenglish.so.1":"libflite1","libflite_cmu_grapheme_lang.so.1":"libflite1","libflite_cmu_grapheme_lex.so.1":"libflite1","libflite_cmu_indic_lang.so.1":"libflite1","libflite_cmu_indic_lex.so.1":"libflite1","libflite_cmulex.so.1":"libflite1","libflite_cmu_time_awb.so.1":"libflite1","libflite_cmu_us_awb.so.1":"libflite1","libflite_cmu_us_kal16.so.1":"libflite1","libflite_cmu_us_kal.so.1":"libflite1","libflite_cmu_us_rms.so.1":"libflite1","libflite_cmu_us_slt.so.1":"libflite1","libx264.so":"libx264-155","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libenchant.so.1":"libenchant1c2a","libevdev.so.2":"libevdev2","libepoxy.so.0":"libepoxy0","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf2.0-0","libgdk-3.so.0":"libgtk-3-0","libgdk-x11-2.0.so.0":"libgtk2.0-0","libgio-2.0.so.0":"libglib2.0-0","libGL.so.1":"libgl1","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgthread-2.0.so.0":"libglib2.0-0","libgtk-3.so.0":"libgtk-3-0","libgtk-x11-2.0.so.0":"libgtk2.0-0","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicui18n.so.66":"libicu66","libicuuc.so.66":"libicu66","libjpeg.so.8":"libjpeg-turbo8","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpangoft2-1.0.so.0":"libpangoft2-1.0-0","libpng16.so.16":"libpng16-16","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libvpx.so.6":"libvpx6","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.6":"libwebp6","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-dri3.so.0":"libxcb-dri3-0","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXt.so.6":"libxt6","libXtst.so.6":"libxtst6","libxshmfence.so.1":"libxshmfence1","libatomic.so.1":"libatomic1","libenchant-2.so.2":"libenchant-2-2","libevent-2.1.so.7":"libevent-2.1-7"}},"ubuntu22.04-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libwayland-client0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["ffmpeg","libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","libenchant-2-2","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libicu70","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libepoxy0","libevdev2","libffi7","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libjpeg-turbo8","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libx264-163","libatomic1","libevent-2.1-7","libavif13"],lib2package:{"libavif.so.13":"libavif13","libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libepoxy.so.0":"libepoxy0","libevdev.so.2":"libevdev2","libffi.so.7":"libffi7","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0","libgio-2.0.so.0":"libglib2.0-0","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libGLX.so.0":"libglx0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0","libgtk-4.so.1":"libgtk-4-1","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libjpeg.so.8":"libjpeg-turbo8","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16","libproxy.so.1":"libproxy1v5","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXtst.so.6":"libxtst6","libicui18n.so.60":"libicu70","libicuuc.so.66":"libicu70","libicui18n.so.66":"libicu70","libwebp.so.6":"libwebp6","libenchant-2.so.2":"libenchant-2-2","libx264.so":"libx264-163","libvpx.so.7":"libvpx7","libatomic.so.1":"libatomic1","libevent-2.1.so.7":"libevent-2.1-7"}},"ubuntu24.04-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2t64","libatk-bridge2.0-0t64","libatk1.0-0t64","libatspi2.0-0t64","libcairo2","libcups2t64","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0t64","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2t64","libatk1.0-0t64","libcairo-gobject2","libcairo2","libdbus-1-3","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0t64","libgtk-3-0t64","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1"],webkit:["gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libicu74","libatomic1","libatk-bridge2.0-0t64","libatk1.0-0t64","libcairo-gobject2","libcairo2","libdbus-1-3","libdrm2","libenchant-2-2","libepoxy0","libevent-2.1-7t64","libflite1","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0t64","libgstreamer-gl1.0-0","libgstreamer-plugins-bad1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu74","libjpeg-turbo8","liblcms2-2","libmanette-0.2-0","libopus0","libpango-1.0-0","libpangocairo-1.0-0","libpng16-16t64","libsecret-1-0","libvpx9","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxkbcommon0","libxml2","libxslt1.1","libx264-164","libavif16"],lib2package:{"libavif.so.16":"libavif16","libasound.so.2":"libasound2t64","libatk-1.0.so.0":"libatk1.0-0t64","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0t64","libatomic.so.1":"libatomic1","libatspi.so.0":"libatspi2.0-0t64","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2t64","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libenchant-2.so.2":"libenchant-2-2","libepoxy.so.0":"libepoxy0","libevent-2.1.so.7":"libevent-2.1-7t64","libflite_cmu_grapheme_lang.so.1":"libflite1","libflite_cmu_grapheme_lex.so.1":"libflite1","libflite_cmu_indic_lang.so.1":"libflite1","libflite_cmu_indic_lex.so.1":"libflite1","libflite_cmu_time_awb.so.1":"libflite1","libflite_cmu_us_awb.so.1":"libflite1","libflite_cmu_us_kal.so.1":"libflite1","libflite_cmu_us_kal16.so.1":"libflite1","libflite_cmu_us_rms.so.1":"libflite1","libflite_cmu_us_slt.so.1":"libflite1","libflite_cmulex.so.1":"libflite1","libflite_usenglish.so.1":"libflite1","libflite.so.1":"libflite1","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0t64","libgio-2.0.so.0":"libglib2.0-0t64","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0t64","libgmodule-2.0.so.0":"libglib2.0-0t64","libgobject-2.0.so.0":"libglib2.0-0t64","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstcodecparsers-1.0.so.0":"libgstreamer-plugins-bad1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0t64","libgtk-4.so.1":"libgtk-4-1","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicudata.so.74":"libicu74","libicui18n.so.74":"libicu74","libicuuc.so.74":"libicu74","libjpeg.so.8":"libjpeg-turbo8","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16t64","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libsoup-3.0.so.0":"libsoup-3.0-0","libvpx.so.9":"libvpx9","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.7":"libwebp7","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libx264.so":"libx264-164"}},"debian11-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libwayland-client0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu67","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnghttp2-14","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp6","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7"],lib2package:{"libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libenchant-2.so.2":"libenchant-2-2","libepoxy.so.0":"libepoxy0","libevdev.so.2":"libevdev2","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0","libgio-2.0.so.0":"libglib2.0-0","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libGLX.so.0":"libglx0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicui18n.so.67":"libicu67","libicuuc.so.67":"libicu67","libjpeg.so.62":"libjpeg62-turbo","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16","libproxy.so.1":"libproxy1v5","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.6":"libwebp6","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXtst.so.6":"libxtst6","libatomic.so.1":"libatomic1","libevent-2.1.so.7":"libevent-2.1-7"}},"debian12-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu72","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7","libavif15"],lib2package:{"libavif.so.15":"libavif15","libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libgbm.so.1":"libgbm1","libgio-2.0.so.0":"libglib2.0-0","libglib-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libpango-1.0.so.0":"libpango-1.0-0","libsmime3.so":"libnss3","libX11.so.6":"libx11-6","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libxkbcommon.so.0":"libxkbcommon0","libXrandr.so.2":"libxrandr2","libgtk-4.so.1":"libgtk-4-1"}},"debian13-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2t64","libatk-bridge2.0-0t64","libatk1.0-0t64","libatspi2.0-0t64","libcairo2","libcups2t64","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0t64","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0t64","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0t64","libgtk-3-0t64","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0t64","libatk1.0-0t64","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0t64","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-4-1","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu76","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16t64","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7t64","libavif16"],lib2package:{"libicudata.so.74":"libicu76","libicui18n.so.74":"libicu76","libicuuc.so.74":"libicu76","libevent-2.1.so.7":"libevent-2.1-7t64","libpng16.so.16":"libpng16-16t64","libgdk-3.so.0":"libgtk-3-0t64","libgtk-3.so.0":"libgtk-3-0t64","libavif.so.16":"libavif16","libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2t64","libatk-1.0.so.0":"libatk1.0-0t64","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0t64","libatspi.so.0":"libatspi2.0-0t64","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2t64","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libgbm.so.1":"libgbm1","libgio-2.0.so.0":"libglib2.0-0t64","libglib-2.0.so.0":"libglib2.0-0t64","libgobject-2.0.so.0":"libglib2.0-0t64","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libpango-1.0.so.0":"libpango-1.0-0","libsmime3.so":"libnss3","libX11.so.6":"libx11-6","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libxkbcommon.so.0":"libxkbcommon0","libXrandr.so.2":"libxrandr2","libgtk-4.so.1":"libgtk-4-1"}}};Se["ubuntu20.04-arm64"]={tools:[...Se["ubuntu20.04-x64"].tools],chromium:[...Se["ubuntu20.04-x64"].chromium],firefox:[...Se["ubuntu20.04-x64"].firefox],webkit:[...Se["ubuntu20.04-x64"].webkit],lib2package:{...Se["ubuntu20.04-x64"].lib2package}};Se["ubuntu22.04-arm64"]={tools:[...Se["ubuntu22.04-x64"].tools],chromium:[...Se["ubuntu22.04-x64"].chromium],firefox:[...Se["ubuntu22.04-x64"].firefox],webkit:[...Se["ubuntu22.04-x64"].webkit],lib2package:{...Se["ubuntu22.04-x64"].lib2package}};Se["ubuntu24.04-arm64"]={tools:[...Se["ubuntu24.04-x64"].tools],chromium:[...Se["ubuntu24.04-x64"].chromium],firefox:[...Se["ubuntu24.04-x64"].firefox],webkit:[...Se["ubuntu24.04-x64"].webkit],lib2package:{...Se["ubuntu24.04-x64"].lib2package}};Se["debian11-arm64"]={tools:[...Se["debian11-x64"].tools],chromium:[...Se["debian11-x64"].chromium],firefox:[...Se["debian11-x64"].firefox],webkit:[...Se["debian11-x64"].webkit],lib2package:{...Se["debian11-x64"].lib2package}};Se["debian12-arm64"]={tools:[...Se["debian12-x64"].tools],chromium:[...Se["debian12-x64"].chromium],firefox:[...Se["debian12-x64"].firefox],webkit:[...Se["debian12-x64"].webkit],lib2package:{...Se["debian12-x64"].lib2package}};Se["debian13-arm64"]={tools:[...Se["debian13-x64"].tools],chromium:[...Se["debian13-x64"].chromium],firefox:[...Se["debian13-x64"].firefox],webkit:[...Se["debian13-x64"].webkit],lib2package:{...Se["debian13-x64"].lib2package}};0&&0},8283:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Screenshotter:()=>Screenshotter,validateScreenshotOptions:()=>validateScreenshotOptions});w.exports=__toCommonJS(Be);var Qe=G(3062);var Pe=G(7651);var Fe=G(5543);function inPagePrepareForScreenshots(w,B,G,K){if(K){const w=document.createElement("style");w.textContent="body {}";document.head.appendChild(w);document.documentElement.getBoundingClientRect();w.remove()}if(!w&&!B&&!G)return;const collectRoots=(w,B=[])=>{B.push(w);const G=document.createTreeWalker(w,NodeFilter.SHOW_ELEMENT);do{const w=G.currentNode;const K=w instanceof Element?w.shadowRoot:null;if(K)collectRoots(K,B)}while(G.nextNode());return B};const pe=collectRoots(document);const ye=[];if(w){for(const B of pe){const G=document.createElement("style");G.textContent=w;if(B===document)document.documentElement.append(G);else B.append(G);ye.push((()=>{G.remove()}))}}if(B){const w=new Map;for(const B of pe){B.querySelectorAll("input,textarea,[contenteditable]").forEach((B=>{w.set(B,{value:B.style.getPropertyValue("caret-color"),priority:B.style.getPropertyPriority("caret-color")});B.style.setProperty("caret-color","transparent","important")}))}ye.push((()=>{for(const[B,G]of w)B.style.setProperty("caret-color",G.value,G.priority)}))}if(G){const w=new Set;const handleAnimations=B=>{for(const G of B.getAnimations()){if(!G.effect||G.playbackRate===0||w.has(G))continue;const B=G.effect.getComputedTiming().endTime;if(Number.isFinite(B)){try{G.finish()}catch(w){}}else{try{G.cancel();w.add(G)}catch(w){}}}};for(const w of pe){const B=handleAnimations.bind(null,w);B();w.addEventListener("transitionrun",B);w.addEventListener("animationstart",B);ye.push((()=>{w.removeEventListener("transitionrun",B);w.removeEventListener("animationstart",B)}))}ye.push((()=>{for(const B of w){try{B.play()}catch(w){}}}))}window.__pwCleanupScreenshot=()=>{for(const w of ye)w();delete window.__pwCleanupScreenshot}}class Screenshotter{constructor(w){this._queue=new TaskQueue;this._page=w;this._queue=new TaskQueue}async _originalViewportSize(w){let B=this._page.emulatedSize()?.viewport;if(!B)B=await this._page.mainFrame().waitForFunctionValueInUtility(w,(()=>({width:window.innerWidth,height:window.innerHeight})));return B}async _fullPageSize(w){const B=await this._page.mainFrame().waitForFunctionValueInUtility(w,(()=>{if(!document.body||!document.documentElement)return null;return{width:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth),height:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}}));return B}async screenshotPage(w,B){const G=validateScreenshotOptions(B);return this._queue.postTask((async()=>{w.log("taking page screenshot");const K=await this._originalViewportSize(w);await this._preparePageForScreenshot(w,this._page.mainFrame(),B.style,B.caret!=="initial",B.animations==="disabled");try{if(B.fullPage){const pe=await this._fullPageSize(w);let ye={x:0,y:0,width:pe.width,height:pe.height};const Se=pe.width<=K.width&&pe.height<=K.height;if(B.clip)ye=trimClipToSize(B.clip,ye);return await this._screenshot(w,G,ye,void 0,Se,B)}const pe=B.clip?trimClipToSize(B.clip,K):{x:0,y:0,...K};return await this._screenshot(w,G,void 0,pe,true,B)}finally{await this._restorePageAfterScreenshot()}}))}async screenshotElement(w,B,G){const K=validateScreenshotOptions(G);return this._queue.postTask((async()=>{w.log("taking element screenshot");const pe=await this._originalViewportSize(w);await this._preparePageForScreenshot(w,B._frame,G.style,G.caret!=="initial",G.animations==="disabled");try{await B._waitAndScrollIntoViewIfNeeded(w,true);const ye=await w.race(B.boundingBox());(0,Pe.assert)(ye,"Node is either not visible or not an HTMLElement");(0,Pe.assert)(ye.width!==0,"Node has 0 width.");(0,Pe.assert)(ye.height!==0,"Node has 0 height.");const Se=ye.width<=pe.width&&ye.height<=pe.height;const Be=await this._page.mainFrame().waitForFunctionValueInUtility(w,(()=>({x:window.scrollX,y:window.scrollY})));const Fe={...ye};Fe.x+=Be.x;Fe.y+=Be.y;return await this._screenshot(w,K,Qe.helper.enclosingIntRect(Fe),void 0,Se,G)}finally{await this._restorePageAfterScreenshot()}}))}async _preparePageForScreenshot(w,B,G,K,pe){if(pe)w.log("  disabled all CSS animations");const ye=this._page.delegate.shouldToggleStyleSheetToSyncAnimations();await w.race(this._page.safeNonStallingEvaluateInAllFrames("("+inPagePrepareForScreenshots.toString()+`)(${JSON.stringify(G)}, ${K}, ${pe}, ${ye})`,"utility"));try{if(!process.env.PW_TEST_SCREENSHOT_NO_FONTS_READY){w.log("waiting for fonts to load...");await w.race(B.nonStallingEvaluateInExistingContext("document.fonts.ready","utility").catch((()=>{})));w.log("fonts loaded")}}catch(w){await this._restorePageAfterScreenshot();throw w}}async _restorePageAfterScreenshot(){await this._page.safeNonStallingEvaluateInAllFrames("window.__pwCleanupScreenshot && window.__pwCleanupScreenshot()","utility")}async _maskElements(w,B){if(!B.mask||!B.mask.length)return()=>Promise.resolve();const G=new Fe.MultiMap;await w.race(Promise.all((B.mask||[]).map((async({frame:w,selector:B})=>{const K=await w.selectors.resolveFrameForSelector(B);if(K)G.set(K.frame,K.info.parsed)}))));const K=[...G.keys()];const cleanup=async()=>{await Promise.all(K.map((w=>w.hideHighlight())))};try{const pe=K.map((w=>w.maskSelectors(G.get(w),B.maskColor||"#F0F")));await w.race(Promise.all(pe));return cleanup}catch(w){cleanup().catch((()=>{}));throw w}}async _screenshot(w,B,G,K,pe,ye){if(ye.__testHookBeforeScreenshot)await w.race(ye.__testHookBeforeScreenshot());const Se=ye.omitBackground&&B==="png";if(Se)await w.race(this._page.delegate.setBackgroundColor({r:0,g:0,b:0,a:0}));const Be=await this._maskElements(w,ye);try{const Qe=B==="jpeg"?ye.quality??80:void 0;const Pe=await this._page.delegate.takeScreenshot(w,B,G,K,Qe,pe,ye.scale||"device");await Be();if(Se)await this._page.delegate.setBackgroundColor();if(ye.__testHookAfterScreenshot)await w.race(ye.__testHookAfterScreenshot());return Pe}catch(w){Be().catch((()=>{}));if(Se)this._page.delegate.setBackgroundColor().catch((()=>{}));throw w}}}class TaskQueue{constructor(){this._chain=Promise.resolve()}postTask(w){const B=this._chain.then(w);this._chain=B.catch((()=>{}));return B}}function trimClipToSize(w,B){const G={x:Math.max(0,Math.min(w.x,B.width)),y:Math.max(0,Math.min(w.y,B.height))};const K={x:Math.max(0,Math.min(w.x+w.width,B.width)),y:Math.max(0,Math.min(w.y+w.height,B.height))};const pe={x:G.x,y:G.y,width:K.x-G.x,height:K.y-G.y};(0,Pe.assert)(pe.width&&pe.height,"Clipped area is either empty or outside the resulting image");return pe}function validateScreenshotOptions(w){let B=null;if(w.type){(0,Pe.assert)(w.type==="png"||w.type==="jpeg","Unknown options.type value: "+w.type);B=w.type}if(!B)B="png";if(w.quality!==void 0){(0,Pe.assert)(B==="jpeg","options.quality is unsupported for the "+B+" screenshots");(0,Pe.assert)(typeof w.quality==="number","Expected options.quality to be a number but found "+typeof w.quality);(0,Pe.assert)(Number.isInteger(w.quality),"Expected options.quality to be an integer");(0,Pe.assert)(w.quality>=0&&w.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+w.quality)}if(w.clip){(0,Pe.assert)(typeof w.clip.x==="number","Expected options.clip.x to be a number but found "+typeof w.clip.x);(0,Pe.assert)(typeof w.clip.y==="number","Expected options.clip.y to be a number but found "+typeof w.clip.y);(0,Pe.assert)(typeof w.clip.width==="number","Expected options.clip.width to be a number but found "+typeof w.clip.width);(0,Pe.assert)(typeof w.clip.height==="number","Expected options.clip.height to be a number but found "+typeof w.clip.height);(0,Pe.assert)(w.clip.width!==0,"Expected options.clip.width not to be 0.");(0,Pe.assert)(w.clip.height!==0,"Expected options.clip.height not to be 0.")}return B}0&&0},9614:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Selectors:()=>Selectors});w.exports=__toCommonJS(Be);var Qe=G(6741);var Pe=G(6548);class Selectors{constructor(w,B){this.guid=`selectors@${(0,Qe.createGuid)()}`;this._builtinEngines=new Set(["css","css:light","xpath","xpath:light","_react","_vue","text","text:light","id","id:light","data-testid","data-testid:light","data-test-id","data-test-id:light","data-test","data-test:light","nth","visible","internal:control","internal:has","internal:has-not","internal:has-text","internal:has-not-text","internal:and","internal:or","internal:chain","role","internal:attr","internal:label","internal:text","internal:role","internal:testid","internal:describe","aria-ref"]);this._builtinEnginesInMainWorld=new Set(["_react","_vue"]);this._engines=new Map;this._testIdAttributeName=B??"data-testid";for(const B of w)this.register(B)}register(w){if(!w.name.match(/^[a-zA-Z_0-9-]+$/))throw new Error("Selector engine name may only contain [a-zA-Z0-9_] characters");if(this._builtinEngines.has(w.name)||w.name==="zs"||w.name==="zs:light")throw new Error(`"${w.name}" is a predefined selector engine`);if(this._engines.has(w.name))throw new Error(`"${w.name}" selector engine has been already registered`);this._engines.set(w.name,w)}testIdAttributeName(){return this._testIdAttributeName}setTestIdAttributeName(w){this._testIdAttributeName=w}parseSelector(w,B){const G=typeof w==="string"?(0,Pe.parseSelector)(w):w;let K=false;(0,Pe.visitAllSelectorParts)(G,(w=>{const B=w.name;const pe=this._engines.get(B);if(!pe&&!this._builtinEngines.has(B))throw new Pe.InvalidSelectorError(`Unknown engine "${B}" while parsing selector ${(0,Pe.stringifySelector)(G)}`);if(pe&&!pe.contentScript)K=true;if(this._builtinEnginesInMainWorld.has(B))K=true}));return{parsed:G,world:K?"main":"utility",strict:B}}}0&&0},8451:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{ClientCertificatesProxy:()=>ClientCertificatesProxy,getMatchingTLSOptionsForOrigin:()=>getMatchingTLSOptionsForOrigin,rewriteOpenSSLErrorIfNeeded:()=>rewriteOpenSSLErrorIfNeeded});w.exports=__toCommonJS(Pe);var Fe=G(4434);var Me=__toESM(G(5675));var Le=__toESM(G(9278));var je=__toESM(G(2203));var qe=__toESM(G(4756));var We=G(863);var Ge=G(7651);var ze=G(6609);var Ye=G(864);var Ke=G(5809);var Xe=G(3217);var rt=G(4331);let it=void 0;function loadDummyServerCertsIfNeeded(){if(it)return;const{cert:w,key:B}=(0,Ge.generateSelfSignedCertificate)();it={key:B,cert:w}}class SocksProxyConnection{constructor(w,B,G,K){this._firstPackageReceived=false;this._closed=false;this.socksProxy=w;this.uid=B;this.host=G;this.port=K;this._serverCloseEventListener=()=>{this._browserEncrypted.destroy()};this._browserEncrypted=new je.default.Duplex({read:()=>{},write:(w,B,G)=>{this.socksProxy._socksProxy.sendSocketData({uid:this.uid,data:w});G()},destroy:(B,G)=>{if(B)w._socksProxy.sendSocketError({uid:this.uid,error:B.message});else w._socksProxy.sendSocketEnd({uid:this.uid});G()}})}async connect(){const w=this.socksProxy.getProxyAgent(this.host,this.port);if(w)this._serverEncrypted=await w.callback(new Fe.EventEmitter,{host:rewriteToLocalhostIfNeeded(this.host),port:this.port,secureEndpoint:false});else this._serverEncrypted=await(0,Xe.createSocket)(rewriteToLocalhostIfNeeded(this.host),this.port);this._serverEncrypted.once("close",this._serverCloseEventListener);this._serverEncrypted.once("error",(w=>this._browserEncrypted.destroy(w)));if(this._closed){this._serverEncrypted.destroy();return}this.socksProxy._socksProxy.socketConnected({uid:this.uid,host:this._serverEncrypted.localAddress,port:this._serverEncrypted.localPort})}onClose(){this._serverEncrypted.destroy();this._browserEncrypted.destroy();this._closed=true}onData(w){if(!this._firstPackageReceived){this._firstPackageReceived=true;if(w[0]===22)this._establishTlsTunnel(this._browserEncrypted,w);else this._establishPlaintextTunnel(this._browserEncrypted)}this._browserEncrypted.push(w)}_establishPlaintextTunnel(w){w.pipe(this._serverEncrypted);this._serverEncrypted.pipe(w)}_establishTlsTunnel(w,B){const G=parseALPNFromClientHello(B)||["http/1.1"];Ke.debugLogger.log("client-certificates",`Browser->Proxy ${this.host}:${this.port} offers ALPN ${G}`);const K=qe.default.connect({socket:this._serverEncrypted,host:this.host,port:this.port,rejectUnauthorized:!this.socksProxy.ignoreHTTPSErrors,ALPNProtocols:G,servername:!Le.default.isIP(this.host)?this.host:void 0,secureContext:this.socksProxy.secureContextMap.get(new URL(`https://${this.host}:${this.port}`).origin)},(async()=>{const B=await this._upgradeToTLSIfNeeded(w,K.alpnProtocol);Ke.debugLogger.log("client-certificates",`Proxy->Server ${this.host}:${this.port} chooses ALPN ${B.alpnProtocol}`);B.pipe(K);K.pipe(B);const cleanup=w=>this._serverEncrypted.destroy(w);B.once("error",cleanup);K.once("error",cleanup);B.once("close",cleanup);K.once("close",cleanup);if(this._closed)K.destroy()}));K.once("error",(async w=>{Ke.debugLogger.log("client-certificates",`error when connecting to server: ${w.message.replaceAll("\n"," ")}`);this._serverEncrypted.removeListener("close",this._serverCloseEventListener);this._serverEncrypted.destroy();const B=await this._upgradeToTLSIfNeeded(this._browserEncrypted,K.alpnProtocol);const G=(0,Ge.escapeHTML)("Playwright client-certificate error: "+w.message).replaceAll("\n"," <br>");if(B.alpnProtocol==="h2"){if("performServerHandshake"in Me.default){const w=Me.default.performServerHandshake(B);w.on("error",(w=>{this._browserEncrypted.destroy(w)}));w.once("stream",(B=>{const cleanup=B=>{w.close();this._browserEncrypted.destroy(B)};B.once("end",cleanup);B.once("error",cleanup);B.respond({[Me.default.constants.HTTP2_HEADER_CONTENT_TYPE]:"text/html",[Me.default.constants.HTTP2_HEADER_STATUS]:503});B.end(G)}))}else{this._browserEncrypted.destroy(w)}}else{B.end(["HTTP/1.1 503 Internal Server Error","Content-Type: text/html; charset=utf-8","Content-Length: "+Buffer.byteLength(G),"",G].join("\r\n"))}}))}async _upgradeToTLSIfNeeded(w,B){this._brorwserDecrypted??=new Promise(((G,K)=>{const pe=qe.default.createServer({...it,ALPNProtocols:[B||"http/1.1"]});pe.emit("connection",w);pe.once("secureConnection",(w=>{pe.close();G(w)}));pe.once("error",(w=>{pe.close();K(w)}))}));return this._brorwserDecrypted}}class ClientCertificatesProxy{constructor(w){this._connections=new Map;this.secureContextMap=new Map;(0,ze.verifyClientCertificates)(w.clientCertificates);this.ignoreHTTPSErrors=w.ignoreHTTPSErrors;this._proxy=w.proxy;this._initSecureContexts(w.clientCertificates);this._socksProxy=new We.SocksProxy;this._socksProxy.setPattern("*");this._socksProxy.addListener(We.SocksProxy.Events.SocksRequested,(async w=>{try{const B=new SocksProxyConnection(this,w.uid,w.host,w.port);await B.connect();this._connections.set(w.uid,B)}catch(B){Ke.debugLogger.log("client-certificates",`Failed to connect to ${w.host}:${w.port}: ${B.message}`);this._socksProxy.socketFailed({uid:w.uid,errorCode:B.code})}}));this._socksProxy.addListener(We.SocksProxy.Events.SocksData,(w=>{this._connections.get(w.uid)?.onData(w.data)}));this._socksProxy.addListener(We.SocksProxy.Events.SocksClosed,(w=>{this._connections.get(w.uid)?.onClose();this._connections.delete(w.uid)}));loadDummyServerCertsIfNeeded()}getProxyAgent(w,B){const G=(0,Ye.createProxyAgent)(this._proxy);if(G)return G;const K=(0,rt.getProxyForUrl)(`https://${w}:${B}`);if(K)return(0,Ye.createProxyAgent)({server:K})}_initSecureContexts(w){const B=new Map;for(const G of w||[]){const w=normalizeOrigin(G.origin);const K=B.get(w)||[];K.push(G);B.set(w,K)}for(const[w,G]of B){try{this.secureContextMap.set(w,qe.default.createSecureContext(convertClientCertificatesToTLSOptions(G)))}catch(w){w=rewriteOpenSSLErrorIfNeeded(w);throw(0,Ge.rewriteErrorMessage)(w,`Failed to load client certificate: ${w.message}`)}}}static async create(w,B){const G=new ClientCertificatesProxy(B);try{await w.race(G._socksProxy.listen(0,"127.0.0.1"));return G}catch(w){await G.close();throw w}}proxySettings(){return{server:`socks5://127.0.0.1:${this._socksProxy.port()}`}}async close(){await this._socksProxy.close()}}function normalizeOrigin(w){try{return new URL(w).origin}catch(B){return w}}function convertClientCertificatesToTLSOptions(w){if(!w||!w.length)return;const B={pfx:[],key:[],cert:[]};for(const G of w){if(G.cert)B.cert.push(G.cert);if(G.key)B.key.push({pem:G.key,passphrase:G.passphrase});if(G.pfx)B.pfx.push({buf:G.pfx,passphrase:G.passphrase})}return B}function getMatchingTLSOptionsForOrigin(w,B){const G=w?.filter((w=>normalizeOrigin(w.origin)===B));return convertClientCertificatesToTLSOptions(G)}function rewriteToLocalhostIfNeeded(w){return w==="local.playwright"?"localhost":w}function rewriteOpenSSLErrorIfNeeded(w){if(w.message!=="unsupported"&&w.code!=="ERR_CRYPTO_UNSUPPORTED_OPERATION")return w;return(0,Ge.rewriteErrorMessage)(w,["Unsupported TLS certificate.","Most likely, the security algorithm of the given certificate was deprecated by OpenSSL.","For more details, see https://github.com/openssl/openssl/blob/master/README-PROVIDERS.md#the-legacy-provider","You could probably modernize the certificate by following the steps at https://github.com/nodejs/node/issues/40672#issuecomment-1243648223"].join("\n"))}function parseALPNFromClientHello(w){if(w.length<6)return null;if(w[0]!==22)return null;let B=5;if(w[B]!==1)return null;B+=4;B+=2;B+=32;if(B>=w.length)return null;const G=w[B];B+=1+G;if(B+2>w.length)return null;const K=w.readUInt16BE(B);B+=2+K;if(B>=w.length)return null;const pe=w[B];B+=1+pe;if(B+2>w.length)return null;const ye=w.readUInt16BE(B);B+=2;const Se=B+ye;if(Se>w.length)return null;while(B+4<=Se){const G=w.readUInt16BE(B);B+=2;const K=w.readUInt16BE(B);B+=2;if(B+K>Se)return null;if(G===16)return parseALPNExtension(w.subarray(B,B+K));B+=K}return null}function parseALPNExtension(w){if(w.length<2)return null;const B=w.readUInt16BE(0);if(B!==w.length-2)return null;const G=[];let K=2;while(K<w.length){const B=w[K];K+=1;if(K+B>w.length)break;const pe=w.subarray(K,K+B).toString("utf8");G.push(pe);K+=B}return G.length>0?G:null}0&&0},5449:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{SocksInterceptor:()=>SocksInterceptor});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(4434));var Me=__toESM(G(863));var Le=G(8873);var je=G(5749);class SocksInterceptor{constructor(w,B,G){this._ids=new Set;this._handler=new Me.SocksProxyHandler(B,G);let K=-1;this._channel=new Proxy(new Fe.default,{get:(B,G)=>{if(G in B||B[G]!==void 0||typeof G!=="string")return B[G];return B=>{try{const pe=--K;this._ids.add(pe);const ye=(0,Le.findValidator)("SocksSupport",G,"Params");B=ye(B,"",{tChannelImpl:tChannelForSocks,binary:"toBase64",isUnderTest:je.isUnderTest});w.send({id:pe,guid:this._socksSupportObjectGuid,method:G,params:B,metadata:{stack:[],apiName:"",internal:true}})}catch(w){}}}});this._handler.on(Me.SocksProxyHandler.Events.SocksConnected,(w=>this._channel.socksConnected(w)));this._handler.on(Me.SocksProxyHandler.Events.SocksData,(w=>this._channel.socksData(w)));this._handler.on(Me.SocksProxyHandler.Events.SocksError,(w=>this._channel.socksError(w)));this._handler.on(Me.SocksProxyHandler.Events.SocksFailed,(w=>this._channel.socksFailed(w)));this._handler.on(Me.SocksProxyHandler.Events.SocksEnd,(w=>this._channel.socksEnd(w)));this._channel.on("socksRequested",(w=>this._handler.socketRequested(w)));this._channel.on("socksClosed",(w=>this._handler.socketClosed(w)));this._channel.on("socksData",(w=>this._handler.sendSocketData(w)))}cleanup(){this._handler.cleanup()}interceptMessage(w){if(this._ids.has(w.id)){this._ids.delete(w.id);return true}if(w.method==="__create__"&&w.params.type==="SocksSupport"){this._socksSupportObjectGuid=w.params.guid;return false}if(this._socksSupportObjectGuid&&w.guid===this._socksSupportObjectGuid){const B=(0,Le.findValidator)("SocksSupport",w.method,"Event");const G=B(w.params,"",{tChannelImpl:tChannelForSocks,binary:"fromBase64",isUnderTest:je.isUnderTest});this._channel.emit(w.method,G);return true}return false}}function tChannelForSocks(w,B,G,K){throw new Le.ValidationError(`${G}: channels are not expected in SocksSupport`)}0&&0},6094:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Snapshotter:()=>Snapshotter});w.exports=__toCommonJS(Be);var Qe=G(7993);var Pe=G(3647);var Fe=G(6741);var Me=G(5809);var Le=G(6037);var je=G(4331);var qe=G(6609);var We=G(1921);class Snapshotter{constructor(w,B){this._eventListeners=[];this._started=false;this._context=w;this._delegate=B;const G=(0,Fe.createGuid)();this._snapshotStreamer="__playwright_snapshot_streamer_"+G}started(){return this._started}async start(){this._started=true;if(!this._initScript)await this._initialize();await this.reset()}async reset(){if(this._started)await this._context.safeNonStallingEvaluateInAllFrames(`window["${this._snapshotStreamer}"].reset()`,"main")}stop(){this._started=false}async resetForReuse(){if(this._initScript){Le.eventsHelper.removeEventListeners(this._eventListeners);await this._context.removeInitScripts([this._initScript]);this._initScript=void 0}}async _initialize(){for(const w of this._context.pages())this._onPage(w);this._eventListeners=[Le.eventsHelper.addEventListener(this._context,qe.BrowserContext.Events.Page,this._onPage.bind(this))];const{javaScriptEnabled:w}=this._context._options;const B=`(${Qe.frameSnapshotStreamer})("${this._snapshotStreamer}", ${w||w===void 0})`;this._initScript=await this._context.addInitScript(void 0,B);await this._context.safeNonStallingEvaluateInAllFrames(B,"main")}dispose(){Le.eventsHelper.removeEventListeners(this._eventListeners)}async _captureFrameSnapshot(w){const B=!!w[Ge];w[Ge]=false;const G=`window["${this._snapshotStreamer}"].captureSnapshot(${B?"true":"false"})`;try{return await w.nonStallingRawEvaluateInExistingMainContext(G)}catch(B){w[Ge]=true;Me.debugLogger.log("error",B)}}async captureSnapshot(w,B,G){const K=w.frames().map((async K=>{const pe=await this._captureFrameSnapshot(K);if(!pe||!this._started)return;const ye={callId:B,snapshotName:G,pageId:w.guid,frameId:K.guid,frameUrl:pe.url,doctype:pe.doctype,html:pe.html,viewport:pe.viewport,timestamp:(0,Pe.monotonicTime)(),wallTime:pe.wallTime,collectionTime:pe.collectionTime,resourceOverrides:[],isMainFrame:w.mainFrame()===K};for(const{url:w,content:B,contentType:G}of pe.resourceOverrides){if(typeof B==="string"){const K=Buffer.from(B);const pe=(0,Fe.calculateSha1)(K)+"."+(je.mime.getExtension(G)||"dat");this._delegate.onSnapshotterBlob({sha1:pe,buffer:K});ye.resourceOverrides.push({url:w,sha1:pe})}else{ye.resourceOverrides.push({url:w,ref:B})}}this._delegate.onFrameSnapshot(ye)}));await Promise.all(K)}_onPage(w){for(const B of w.frames())this._annotateFrameHierarchy(B);this._eventListeners.push(Le.eventsHelper.addEventListener(w,We.Page.Events.FrameAttached,(w=>this._annotateFrameHierarchy(w))))}async _annotateFrameHierarchy(w){try{const B=await w.frameElement();const G=w.parentFrame();if(!G)return;const K=await G._mainContext();await(K?.evaluate((({snapshotStreamer:w,frameElement:B,frameId:G})=>{window[w].markIframe(B,G)}),{snapshotStreamer:this._snapshotStreamer,frameElement:B,frameId:w.guid}));B.dispose()}catch(w){}}}const Ge=Symbol("kNeedsReset");0&&0},7993:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{frameSnapshotStreamer:()=>frameSnapshotStreamer});w.exports=__toCommonJS(ye);function frameSnapshotStreamer(w,B){if(window[w])return;const G="__playwright_shadow_root_";const K="__playwright_value_";const pe="__playwright_checked_";const ye="__playwright_selected_";const Se="__playwright_scroll_top_";const Be="__playwright_scroll_left_";const Qe="__playwright_style_sheet_";const Pe="__playwright_target__";const Fe="__playwright_custom_elements__";const Me="__playwright_current_src__";const Le="__playwright_bounding_rect__";const je="__playwright_popover_open_";const qe="__playwright_dialog_open_";const We=Symbol("__playwright_snapshot_frameid_");const Ge=Symbol("__playwright_snapshot_cache_");const ze=Symbol("__playwright_end_of_list_");function resetCachedData(w){delete w[Ge]}function ensureCachedData(w){if(!w[Ge])w[Ge]={};return w[Ge]}function removeHash(w){try{const B=new URL(w);B.hash="";return B.toString()}catch(B){return w}}class Streamer{constructor(){this._lastSnapshotNumber=0;this._staleStyleSheets=new Set;this._readingStyleSheet=false;const invalidateCSSGroupingRule=w=>{if(w.parentStyleSheet)this._invalidateStyleSheet(w.parentStyleSheet)};this._interceptNativeMethod(window.CSSStyleSheet.prototype,"insertRule",(w=>this._invalidateStyleSheet(w)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"deleteRule",(w=>this._invalidateStyleSheet(w)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"addRule",(w=>this._invalidateStyleSheet(w)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"removeRule",(w=>this._invalidateStyleSheet(w)));this._interceptNativeGetter(window.CSSStyleSheet.prototype,"rules",(w=>this._invalidateStyleSheet(w)));this._interceptNativeGetter(window.CSSStyleSheet.prototype,"cssRules",(w=>this._invalidateStyleSheet(w)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"replaceSync",(w=>this._invalidateStyleSheet(w)));this._interceptNativeMethod(window.CSSGroupingRule.prototype,"insertRule",invalidateCSSGroupingRule);this._interceptNativeMethod(window.CSSGroupingRule.prototype,"deleteRule",invalidateCSSGroupingRule);this._interceptNativeGetter(window.CSSGroupingRule.prototype,"cssRules",invalidateCSSGroupingRule);this._interceptNativeAsyncMethod(window.CSSStyleSheet.prototype,"replace",(w=>this._invalidateStyleSheet(w)));this._fakeBase=document.createElement("base");this._observer=new MutationObserver((w=>this._handleMutations(w)));const w={attributes:true,subtree:true};this._observer.observe(document,w);this._refreshListenersWhenNeeded()}_refreshListenersWhenNeeded(){this._refreshListeners();const w="__playwright_snapshotter_global_listeners_check__";let B=false;const handleCustomEvent=()=>B=true;window.addEventListener(w,handleCustomEvent);const G=new MutationObserver((G=>{const K=G.some((w=>Array.from(w.addedNodes).includes(document.documentElement)));if(K){B=false;window.dispatchEvent(new CustomEvent(w));if(!B){window.addEventListener(w,handleCustomEvent);this._refreshListeners()}}}));G.observe(document,{childList:true})}_refreshListeners(){document.addEventListener("__playwright_mark_target__",(w=>{if(!w.detail)return;const B=w.detail;w.composedPath()[0].__playwright_target__=B}));document.addEventListener("__playwright_unmark_target__",(w=>{if(!w.detail)return;const B=w.detail;if(w.composedPath()[0].__playwright_target__===B)delete w.composedPath()[0].__playwright_target__}))}_interceptNativeMethod(w,B,G){const K=w[B];if(!K)return;w[B]=function(...w){const B=K.call(this,...w);G(this,B);return B}}_interceptNativeAsyncMethod(w,B,G){const K=w[B];if(!K)return;w[B]=async function(...w){const B=await K.call(this,...w);G(this,B);return B}}_interceptNativeGetter(w,B,G){const K=Object.getOwnPropertyDescriptor(w,B);Object.defineProperty(w,B,{...K,get:function(){const w=K.get.call(this);G(this,w);return w}})}_handleMutations(w){for(const B of w)ensureCachedData(B.target).attributesCached=void 0}_invalidateStyleSheet(w){if(this._readingStyleSheet)return;this._staleStyleSheets.add(w)}_updateStyleElementStyleSheetTextIfNeeded(w,B){const G=ensureCachedData(w);if(this._staleStyleSheets.has(w)||B&&G.cssText===void 0){this._staleStyleSheets.delete(w);try{G.cssText=this._getSheetText(w)}catch(w){G.cssText=""}}return G.cssText}_updateLinkStyleSheetTextIfNeeded(w,B){const G=ensureCachedData(w);if(this._staleStyleSheets.has(w)){this._staleStyleSheets.delete(w);try{G.cssText=this._getSheetText(w);G.cssRef=B;return G.cssText}catch(w){}}return G.cssRef===void 0?void 0:B-G.cssRef}markIframe(w,B){w[We]=B}reset(){this._staleStyleSheets.clear();const visitNode=w=>{resetCachedData(w);if(w.nodeType===Node.ELEMENT_NODE){const B=w;if(B.shadowRoot)visitNode(B.shadowRoot)}for(let B=w.firstChild;B;B=B.nextSibling)visitNode(B)};visitNode(document.documentElement);visitNode(this._fakeBase)}__sanitizeMetaAttribute(w,B,G){if(w==="charset")return"utf-8";if(G.toLowerCase()!=="content-type"||w!=="content")return B;const[K,...pe]=B.split(";");if(K!=="text/html"||pe.length<=0)return B;const ye=pe.findIndex((w=>w.trim().startsWith("charset=")));if(ye>-1)pe[ye]="charset=utf-8";return`${K}; ${pe.join("; ")}`}_sanitizeUrl(w){if(w.startsWith("javascript:")||w.startsWith("vbscript:"))return"";return w}_sanitizeSrcSet(w){return w.split(",").map((w=>{w=w.trim();const B=w.lastIndexOf(" ");if(B===-1)return this._sanitizeUrl(w);return this._sanitizeUrl(w.substring(0,B).trim())+w.substring(B)})).join(", ")}_resolveUrl(w,B){if(B==="")return"";try{return new URL(B,w).href}catch(w){return B}}_getSheetBase(w){let B=w;while(B.parentStyleSheet)B=B.parentStyleSheet;if(B.ownerNode)return B.ownerNode.baseURI;return document.baseURI}_getSheetText(w){this._readingStyleSheet=true;try{const B=[];for(const G of w.cssRules)B.push(G.cssText);return B.join("\n")}finally{this._readingStyleSheet=false}}captureSnapshot(w){const Ge=performance.now();const Ye=++this._lastSnapshotNumber;if(w)this.reset();let Ke=0;let Xe=0;let rt=0;this._handleMutations(this._observer.takeRecords());const it=new Set;const visitNode=w=>{const Qe=w.nodeType;const Ge=Qe===Node.DOCUMENT_FRAGMENT_NODE?"template":w.nodeName;if(Qe!==Node.ELEMENT_NODE&&Qe!==Node.DOCUMENT_FRAGMENT_NODE&&Qe!==Node.TEXT_NODE)return;if(Ge==="SCRIPT")return;if(Ge==="LINK"&&Qe===Node.ELEMENT_NODE){const B=w.getAttribute("rel")?.toLowerCase();if(B==="preload"||B==="prefetch")return}if(B&&Ge==="NOSCRIPT")return;if(Ge==="META"&&w.httpEquiv.toLowerCase()==="content-security-policy")return;if((Ge==="IFRAME"||Ge==="FRAME")&&rt)return;const ot=ensureCachedData(w);const at=[];let lt=!!ot.cached;let ct=0;const expectValue=w=>{lt=lt&&ot.cached[at.length]===w;at.push(w)};const checkAndReturn=w=>{ot.attributesCached=true;if(lt)return{equals:true,n:[[Ye-ot.ref[0],ot.ref[1]]]};Ke+=ct;ot.ref=[Ye,Ke++];ot.cached=at;return{equals:false,n:w}};if(Qe===Node.TEXT_NODE){const B=w.nodeValue||"";expectValue(B);return checkAndReturn(B)}if(Ge==="STYLE"){const B=w.sheet;let G;if(B)G=this._updateStyleElementStyleSheetTextIfNeeded(B);G=G||w.textContent||"";expectValue(G);ct++;return checkAndReturn([Ge,{},G])}const ut={};const ft=[Ge,ut];const visitChild=w=>{const B=visitNode(w);if(B){ft.push(B.n);expectValue(w);lt=lt&&B.equals}};const visitChildStyleSheet=w=>{const B=visitStyleSheet(w);if(B){ft.push(B.n);expectValue(w);lt=lt&&B.equals}};if(Qe===Node.DOCUMENT_FRAGMENT_NODE)ut[G]="open";if(Qe===Node.ELEMENT_NODE){const B=w;if(B.localName.includes("-")&&window.customElements?.get(B.localName))it.add(B.localName);if(Ge==="INPUT"||Ge==="TEXTAREA"){const w=B.value;expectValue(K);expectValue(w);ut[K]=w}if(Ge==="INPUT"&&["checkbox","radio"].includes(B.type)){const w=B.checked?"true":"false";expectValue(pe);expectValue(w);ut[pe]=w}if(Ge==="OPTION"){const w=B.selected?"true":"false";expectValue(ye);expectValue(w);ut[ye]=w}if(Ge==="CANVAS"||Ge==="IFRAME"||Ge==="FRAME"){const w=B.getBoundingClientRect();const G=JSON.stringify({left:w.left,top:w.top,right:w.right,bottom:w.bottom});expectValue(Le);expectValue(G);ut[Le]=G}if(B.popover&&B.matches&&B.matches(":popover-open")){const w="true";expectValue(je);expectValue(w);ut[je]=w}if(Ge==="DIALOG"&&B.open){const w=B.matches(":modal")?"modal":"true";expectValue(qe);expectValue(w);ut[qe]=w}if(B.scrollTop){expectValue(Se);expectValue(B.scrollTop);ut[Se]=""+B.scrollTop}if(B.scrollLeft){expectValue(Be);expectValue(B.scrollLeft);ut[Be]=""+B.scrollLeft}if(B.shadowRoot){++Xe;visitChild(B.shadowRoot);--Xe}if("__playwright_target__"in B){expectValue(Pe);expectValue(B["__playwright_target__"]);ut[Pe]=B["__playwright_target__"]}}if(Ge==="HEAD"){++rt;this._fakeBase.setAttribute("href",document.baseURI);visitChild(this._fakeBase)}for(let B=w.firstChild;B;B=B.nextSibling)visitChild(B);if(Ge==="HEAD")--rt;expectValue(ze);let gt=null;if(w.ownerDocument.documentElement===w)gt=w.ownerDocument;else if(w.nodeType===Node.DOCUMENT_FRAGMENT_NODE)gt=w;if(gt){for(const w of gt.adoptedStyleSheets||[])visitChildStyleSheet(w);expectValue(ze)}if(Ge==="IFRAME"||Ge==="FRAME"){const B=w;const G=B[We];const K="src";const pe=G?`/snapshot/${G}`:"";expectValue(K);expectValue(pe);ut[K]=pe}if(Ge==="BODY"&&it.size){const w=[...it].join(",");expectValue(Fe);expectValue(w);ut[Fe]=w}if(Ge==="IMG"||Ge==="PICTURE"){const B=Ge==="PICTURE"?"":this._sanitizeUrl(w.currentSrc);expectValue(Me);expectValue(B);ut[Me]=B}if(lt&&ot.attributesCached&&!Xe)return checkAndReturn(ft);if(Qe===Node.ELEMENT_NODE){const B=w;for(let G=0;G<B.attributes.length;G++){const K=B.attributes[G].name;if(Ge==="LINK"&&K==="integrity")continue;if(Ge==="IFRAME"&&(K==="src"||K==="srcdoc"||K==="sandbox"))continue;if(Ge==="FRAME"&&K==="src")continue;if(Ge==="DIALOG"&&K==="open")continue;let pe=B.attributes[G].value;if(Ge==="META")pe=this.__sanitizeMetaAttribute(K,pe,w.httpEquiv);else if(K==="src"&&Ge==="IMG")pe=this._sanitizeUrl(pe);else if(K==="srcset"&&Ge==="IMG")pe=this._sanitizeSrcSet(pe);else if(K==="srcset"&&Ge==="SOURCE")pe=this._sanitizeSrcSet(pe);else if(K==="href"&&Ge==="LINK")pe=this._sanitizeUrl(pe);else if(K.startsWith("on"))pe="";expectValue(K);expectValue(pe);ut[K]=pe}expectValue(ze)}if(ft.length===2&&!Object.keys(ut).length)ft.pop();return checkAndReturn(ft)};const visitStyleSheet=w=>{const B=ensureCachedData(w);const G=B.cssText;const K=this._updateStyleElementStyleSheetTextIfNeeded(w,true);if(K===G)return{equals:true,n:[[Ye-B.ref[0],B.ref[1]]]};B.ref=[Ye,Ke++];return{equals:false,n:["template",{[Qe]:K}]}};let ot;if(document.documentElement){const{n:w}=visitNode(document.documentElement);ot=w}else{ot=["html"]}const at={html:ot,doctype:document.doctype?document.doctype.name:void 0,resourceOverrides:[],viewport:{width:window.innerWidth,height:window.innerHeight},url:location.href,wallTime:Date.now(),collectionTime:0};for(const w of this._staleStyleSheets){if(w.href===null)continue;const B=this._updateLinkStyleSheetTextIfNeeded(w,Ye);if(B===void 0){continue}const G=this._getSheetBase(w);const K=removeHash(this._resolveUrl(G,w.href));at.resourceOverrides.push({url:K,content:B,contentType:"text/css"})}at.collectionTime=performance.now()-Ge;return at}}window[w]=new Streamer}0&&0},5235:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{Tracing:()=>Tracing});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(857));var Le=__toESM(G(6928));var je=G(6094);var qe=G(5295);var We=G(8164);var Ge=G(3647);var ze=G(6037);var Ye=G(6741);var Ke=G(4960);var Xe=G(6609);var rt=G(208);var it=G(1009);var ot=G(3449);var at=G(5138);var lt=G(9814);var ct=G(1921);var ut=G(6665);const ft=8;const gt={width:800,height:600,quality:90};class Tracing extends lt.SdkObject{constructor(w,B){super(w,"tracing");this._fs=new ot.SerializedFS;this._screencastListeners=[];this._eventListeners=[];this._isStopping=false;this._allResources=new Set;this._pendingHarEntries=new Set;this._context=w;this._precreatedTracesDir=B;this._harTracer=new at.HarTracer(w,null,this,{content:"attach",includeTraceInfo:true,recordRequestOverrides:false,waitForContentOnStop:false});const G="selectors"in w?w.selectors().testIdAttributeName():void 0;this._contextCreatedEvent={version:ft,type:"context-options",origin:"library",browserName:"",options:{},platform:process.platform,wallTime:0,monotonicTime:0,sdkLanguage:this._sdkLanguage(),testIdAttributeName:G,contextId:w.guid};if(w instanceof Xe.BrowserContext){this._snapshotter=new je.Snapshotter(w,this);(0,We.assert)(B,"tracesDir must be specified for BrowserContext");this._contextCreatedEvent.browserName=w._browser.options.name;this._contextCreatedEvent.channel=w._browser.options.channel;this._contextCreatedEvent.options=w._options}}_sdkLanguage(){return this._context instanceof Xe.BrowserContext?this._context._browser.sdkLanguage():this._context.attribution.playwright.options.sdkLanguage}async resetForReuse(w){await this.stopChunk(w,{mode:"discard"}).catch((()=>{}));await this.stop(w);if(this._snapshotter)await w.race(this._snapshotter.resetForReuse())}start(w){if(this._isStopping)throw new Error("Cannot start tracing while stopping");if(this._state)throw new Error("Tracing has been already started");this._contextCreatedEvent.sdkLanguage=this._sdkLanguage();const B=w.name||(0,Ye.createGuid)();const G=this._createTracesDirIfNeeded();this._state={options:w,traceName:B,tracesDir:G,traceFile:Le.default.join(G,B+".trace"),networkFile:Le.default.join(G,B+".network"),resourcesDir:Le.default.join(G,"resources"),chunkOrdinal:0,traceSha1s:new Set,networkSha1s:new Set,recording:false,callIds:new Set,groupStack:[]};this._fs.mkdir(this._state.resourcesDir);this._fs.writeFile(this._state.networkFile,"");if(w.snapshots)this._harTracer.start({omitScripts:!w.live})}async startChunk(w,B={}){if(this._state&&this._state.recording)await this.stopChunk(w,{mode:"discard"});if(!this._state)throw new Error("Must start tracing before starting a new chunk");if(this._isStopping)throw new Error("Cannot start a trace chunk while stopping");this._state.recording=true;this._state.callIds.clear();const G=this._context instanceof Xe.BrowserContext;if(B.name&&B.name!==this._state.traceName)this._changeTraceName(this._state,B.name,G);else this._allocateNewTraceFile(this._state);if(!G)this._fs.writeFile(this._state.networkFile,"");this._fs.mkdir(Le.default.dirname(this._state.traceFile));const K={...this._contextCreatedEvent,title:B.title,wallTime:Date.now(),monotonicTime:(0,Ge.monotonicTime)()};this._appendTraceEvent(K);this._context.instrumentation.addListener(this,this._context);this._eventListeners.push(ze.eventsHelper.addEventListener(this._context,Xe.BrowserContext.Events.Console,this._onConsoleMessage.bind(this)),ze.eventsHelper.addEventListener(this._context,Xe.BrowserContext.Events.PageError,this._onPageError.bind(this)));if(this._state.options.screenshots)this._startScreencast();if(this._state.options.snapshots)await(this._snapshotter?.start());return{traceName:this._state.traceName}}_currentGroupId(){return this._state?.groupStack.length?this._state.groupStack[this._state.groupStack.length-1]:void 0}group(w,B,G){if(!this._state)return;const K=[];const{file:pe,line:ye,column:Se}=B??G.location??{};if(pe){K.push({file:pe,line:ye??0,column:Se??0})}const Be={type:"before",callId:G.id,startTime:G.startTime,title:w,class:"Tracing",method:"tracingGroup",params:{},stepId:G.stepId,stack:K};if(this._currentGroupId())Be.parentId=this._currentGroupId();this._state.groupStack.push(Be.callId);this._appendTraceEvent(Be)}groupEnd(){if(!this._state)return;const w=this._state.groupStack.pop();if(!w)return;const B={type:"after",callId:w,endTime:(0,Ge.monotonicTime)()};this._appendTraceEvent(B)}_startScreencast(){if(!(this._context instanceof Xe.BrowserContext))return;for(const w of this._context.pages())this._startScreencastInPage(w);this._screencastListeners.push(ze.eventsHelper.addEventListener(this._context,Xe.BrowserContext.Events.Page,this._startScreencastInPage.bind(this)))}_stopScreencast(){ze.eventsHelper.removeEventListeners(this._screencastListeners);if(!(this._context instanceof Xe.BrowserContext))return;for(const w of this._context.pages())w.setScreencastOptions(null)}_allocateNewTraceFile(w){const B=w.chunkOrdinal?`-chunk${w.chunkOrdinal}`:``;w.chunkOrdinal++;w.traceFile=Le.default.join(w.tracesDir,`${w.traceName}${B}.trace`)}_changeTraceName(w,B,G){w.traceName=B;w.chunkOrdinal=0;this._allocateNewTraceFile(w);const K=Le.default.join(w.tracesDir,B+".network");if(G)this._fs.copyFile(w.networkFile,K);w.networkFile=K}async stop(w){if(!this._state)return;if(this._isStopping)throw new Error(`Tracing is already stopping`);if(this._state.recording)throw new Error(`Must stop trace file before stopping tracing`);this._closeAllGroups();this._harTracer.stop();this.flushHarEntries();const B=w?w.race(this._fs.syncAndGetError()):this._fs.syncAndGetError();await B.finally((()=>{this._state=void 0}))}async deleteTmpTracesDir(){if(this._tracesTmpDir)await(0,ot.removeFolders)([this._tracesTmpDir])}_createTracesDirIfNeeded(){if(this._precreatedTracesDir)return this._precreatedTracesDir;this._tracesTmpDir=Fe.default.mkdtempSync(Le.default.join(Me.default.tmpdir(),"playwright-tracing-"));return this._tracesTmpDir}abort(){this._snapshotter?.dispose();this._harTracer.stop()}async flush(){this.abort();await this._fs.syncAndGetError()}_closeAllGroups(){while(this._currentGroupId())this.groupEnd()}async stopChunk(w,B){if(this._isStopping)throw new Error(`Tracing is already stopping`);this._isStopping=true;if(!this._state||!this._state.recording){this._isStopping=false;if(B.mode!=="discard")throw new Error(`Must start tracing before stopping`);return{}}this._closeAllGroups();this._context.instrumentation.removeListener(this);ze.eventsHelper.removeEventListeners(this._eventListeners);if(this._state.options.screenshots)this._stopScreencast();if(this._state.options.snapshots)this._snapshotter?.stop();this.flushHarEntries();const G=Le.default.join(this._state.tracesDir,this._state.traceName+`-pwnetcopy-${this._state.chunkOrdinal}.network`);const K=[];K.push({name:"trace.trace",value:this._state.traceFile});K.push({name:"trace.network",value:G});for(const w of new Set([...this._state.traceSha1s,...this._state.networkSha1s]))K.push({name:Le.default.join("resources",w),value:Le.default.join(this._state.resourcesDir,w)});this._state.traceSha1s=new Set;if(B.mode==="discard"){this._isStopping=false;this._state.recording=false;return{}}this._fs.copyFile(this._state.networkFile,G);const pe=this._state.traceFile+".zip";if(B.mode==="archive")this._fs.zip(K,pe);const ye=w?w.race(this._fs.syncAndGetError()):this._fs.syncAndGetError();const Se=await ye.catch((w=>w));this._isStopping=false;if(this._state)this._state.recording=false;if(Se){if(!(0,ut.isAbortError)(Se)&&this._context instanceof Xe.BrowserContext&&!this._context._browser.isConnected())return{};throw Se}if(B.mode==="entries")return{entries:K};const Be=new Ke.Artifact(this._context,pe);Be.reportFinished();return{artifact:Be}}async _captureSnapshot(w,B,G){if(!this._snapshotter)return;if(!B.attribution.page)return;if(!this._snapshotter.started())return;if(!shouldCaptureSnapshot(G))return;await this._snapshotter.captureSnapshot(B.attribution.page,G.id,w).catch((()=>{}))}onBeforeCall(w,B){const G=createBeforeActionTraceEvent(B,this._currentGroupId());if(!G)return Promise.resolve();w.attribution.page?.temporarilyDisableTracingScreencastThrottling();G.beforeSnapshot=`before@${B.id}`;this._state?.callIds.add(B.id);this._appendTraceEvent(G);return this._captureSnapshot(G.beforeSnapshot,w,B)}onBeforeInputAction(w,B){if(!this._state?.callIds.has(B.id))return Promise.resolve();const G=createInputActionTraceEvent(B);if(!G)return Promise.resolve();w.attribution.page?.temporarilyDisableTracingScreencastThrottling();G.inputSnapshot=`input@${B.id}`;this._appendTraceEvent(G);return this._captureSnapshot(G.inputSnapshot,w,B)}onCallLog(w,B,G,K){if(!this._state?.callIds.has(B.id))return;if(B.internal)return;if(G!=="api")return;const pe=createActionLogTraceEvent(B,K);if(pe)this._appendTraceEvent(pe)}async onAfterCall(w,B){if(!this._state?.callIds.has(B.id))return;this._state?.callIds.delete(B.id);const G=createAfterActionTraceEvent(B);if(!G)return;w.attribution.page?.temporarilyDisableTracingScreencastThrottling();G.afterSnapshot=`after@${B.id}`;this._appendTraceEvent(G);return this._captureSnapshot(G.afterSnapshot,w,B)}onEntryStarted(w){this._pendingHarEntries.add(w)}onEntryFinished(w){this._pendingHarEntries.delete(w);const B={type:"resource-snapshot",snapshot:w};const G=visitTraceEvent(B,this._state.networkSha1s);this._fs.appendFile(this._state.networkFile,JSON.stringify(G)+"\n",true)}flushHarEntries(){const w=[];for(const B of this._pendingHarEntries){const G={type:"resource-snapshot",snapshot:B};const K=visitTraceEvent(G,this._state.networkSha1s);w.push(JSON.stringify(K))}this._pendingHarEntries.clear();if(w.length)this._fs.appendFile(this._state.networkFile,w.join("\n")+"\n",true)}onContentBlob(w,B){this._appendResource(w,B)}onSnapshotterBlob(w){this._appendResource(w.sha1,w.buffer)}onFrameSnapshot(w){this._appendTraceEvent({type:"frame-snapshot",snapshot:w})}_onConsoleMessage(w){const B={type:"console",messageType:w.type(),text:w.text(),args:w.args().map((w=>({preview:w.toString(),value:w.rawValue()}))),location:w.location(),time:(0,Ge.monotonicTime)(),pageId:w.page()?.guid};this._appendTraceEvent(B)}onDialog(w){const B={type:"event",time:(0,Ge.monotonicTime)(),class:"BrowserContext",method:"dialog",params:{pageId:w.page().guid,type:w.type(),message:w.message(),defaultValue:w.defaultValue()}};this._appendTraceEvent(B)}onDownload(w,B){const G={type:"event",time:(0,Ge.monotonicTime)(),class:"BrowserContext",method:"download",params:{pageId:w.guid,url:B.url,suggestedFilename:B.suggestedFilename()}};this._appendTraceEvent(G)}onPageOpen(w){const B={type:"event",time:(0,Ge.monotonicTime)(),class:"BrowserContext",method:"page",params:{pageId:w.guid,openerPageId:w.opener()?.guid}};this._appendTraceEvent(B)}onPageClose(w){const B={type:"event",time:(0,Ge.monotonicTime)(),class:"BrowserContext",method:"pageClosed",params:{pageId:w.guid}};this._appendTraceEvent(B)}_onPageError(w,B){const G={type:"event",time:(0,Ge.monotonicTime)(),class:"BrowserContext",method:"pageError",params:{error:(0,it.serializeError)(w)},pageId:B.guid};this._appendTraceEvent(G)}_startScreencastInPage(w){w.setScreencastOptions(gt);const B=w.guid;this._screencastListeners.push(ze.eventsHelper.addEventListener(w,ct.Page.Events.ScreencastFrame,(G=>{const K=G.timestamp||Date.now();const pe=`${B}-${K}.jpeg`;const ye={type:"screencast-frame",pageId:w.guid,sha1:pe,width:G.width,height:G.height,timestamp:(0,Ge.monotonicTime)(),frameSwapWallTime:G.frameSwapWallTime};this._appendResource(pe,G.buffer);this._appendTraceEvent(ye)})))}_appendTraceEvent(w){const B=visitTraceEvent(w,this._state.traceSha1s);const G=this._state.options.live||w.type!=="event"&&w.type!=="console"&&w.type!=="log";this._fs.appendFile(this._state.traceFile,JSON.stringify(B)+"\n",G)}_appendResource(w,B){if(this._allResources.has(w))return;this._allResources.add(w);const G=Le.default.join(this._state.resourcesDir,w);this._fs.writeFile(G,B,true)}}function visitTraceEvent(w,B){if(Array.isArray(w))return w.map((w=>visitTraceEvent(w,B)));if(w instanceof rt.Dispatcher)return`<${w._type}>`;if(w instanceof Buffer)return`<Buffer>`;if(w instanceof Date)return w;if(typeof w==="object"){const G={};for(const K in w){if(K==="sha1"||K==="_sha1"||K.endsWith("Sha1")){const G=w[K];if(G)B.add(G)}G[K]=visitTraceEvent(w[K],B)}return G}return w}function shouldCaptureSnapshot(w){const B=qe.methodMetainfo.get(w.type+"."+w.method);return!!B?.snapshot}function createBeforeActionTraceEvent(w,B){if(w.internal||w.method.startsWith("tracing"))return null;const G={type:"before",callId:w.id,startTime:w.startTime,title:w.title,class:w.type,method:w.method,params:w.params,stepId:w.stepId,pageId:w.pageId};if(B)G.parentId=B;return G}function createInputActionTraceEvent(w){if(w.internal||w.method.startsWith("tracing"))return null;return{type:"input",callId:w.id,point:w.point}}function createActionLogTraceEvent(w,B){if(w.internal||w.method.startsWith("tracing"))return null;return{type:"log",callId:w.id,time:(0,Ge.monotonicTime)(),message:B}}function createAfterActionTraceEvent(w){if(w.internal||w.method.startsWith("tracing"))return null;return{type:"after",callId:w.id,endTime:w.endTime,error:w.error?.error,result:w.result,point:w.point}}0&&0},2214:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{installRootRedirect:()=>installRootRedirect,openTraceInBrowser:()=>openTraceInBrowser,openTraceViewerApp:()=>openTraceViewerApp,runTraceInBrowser:()=>runTraceInBrowser,runTraceViewerApp:()=>runTraceViewerApp,startTraceViewerServer:()=>startTraceViewerServer});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(7651);var je=G(7651);var qe=G(1367);var We=G(4331);var Ge=G(9742);var ze=G(9742);var Ye=G(1409);var Ke=G(6665);function validateTraceUrls(w){for(const B of w){let w=B;if(B.endsWith(".json"))w=B.substring(0,B.length-".json".length);if(!B.startsWith("http://")&&!B.startsWith("https://")&&!Fe.default.existsSync(w)&&!Fe.default.existsSync(w+".trace"))throw new Error(`Trace file ${B} does not exist!`)}}async function startTraceViewerServer(w){const B=new qe.HttpServer;B.routePrefix("/trace",((w,G)=>{const K=new URL("http://localhost"+w.url);const pe=K.pathname.slice("/trace".length);if(process.env.PW_HMR){G.appendHeader("Access-Control-Allow-Origin","http://localhost:44223")}if(pe.endsWith("/stall.js"))return true;if(pe.startsWith("/file")){try{const pe=K.searchParams.get("path");if(Fe.default.existsSync(pe))return B.serveFile(w,G,K.searchParams.get("path"));if(pe.endsWith(".json")){const w=pe.substring(0,pe.length-".json".length);G.statusCode=200;G.setHeader("Content-Type","application/json");G.end(JSON.stringify(traceDescriptor(w)));return true}}catch(w){}G.statusCode=404;G.end();return true}const ye=Me.default.join(__dirname,"..","..","..","vite","traceViewer",...pe.split("/"));return B.serveFile(w,G,ye)}));const G=w?.transport||(w?.isServer?new StdinServer:void 0);if(G)B.createWebSocket(G);const{host:K,port:pe}=w||{};await B.start({preferredPort:pe,host:K});return B}async function installRootRedirect(w,B,G){const K=new URLSearchParams;if(Me.default.sep!==Me.default.posix.sep)K.set("pathSeparator",Me.default.sep);for(const w of B)K.append("trace",w);if(w.wsGuid())K.append("ws",w.wsGuid());if(G?.isServer)K.append("isServer","");if((0,je.isUnderTest)())K.append("isUnderTest","true");for(const w of G.args||[])K.append("arg",w);if(G.grep)K.append("grep",G.grep);if(G.grepInvert)K.append("grepInvert",G.grepInvert);for(const w of G.project||[])K.append("project",w);for(const w of G.reporter||[])K.append("reporter",w);let pe=".";if(process.env.PW_HMR){pe="http://localhost:44223";K.set("server",w.urlPrefix("precise"))}const ye=`${pe}/trace/${G.webApp||"index.html"}?${K.toString()}`;w.routePath("/",((w,B)=>{B.statusCode=302;B.setHeader("Location",ye);B.end();return true}))}async function runTraceViewerApp(w,B,G,K){validateTraceUrls(w);const pe=await startTraceViewerServer(G);await installRootRedirect(pe,w,G);const ye=await openTraceViewerApp(pe.urlPrefix("precise"),B,G);if(K)ye.on("close",(()=>(0,Le.gracefullyProcessExitDoNotHang)(0)));return ye}async function runTraceInBrowser(w,B){validateTraceUrls(w);const G=await startTraceViewerServer(B);await installRootRedirect(G,w,B);await openTraceInBrowser(G.urlPrefix("human-readable"))}async function openTraceViewerApp(w,B,G){const K=(0,Ye.createPlaywright)({sdkLanguage:"javascript",isInternalPlaywright:true});const pe=(0,je.isUnderTest)()?"chromium":B;const{context:ye,page:Se}=await(0,ze.launchApp)(K[pe],{sdkLanguage:K.options.sdkLanguage,windowSize:{width:1280,height:800},persistentContextOptions:{...G?.persistentContextOptions,cdpPort:(0,je.isUnderTest)()?0:void 0,headless:!!G?.headless,colorScheme:(0,je.isUnderTest)()?"light":void 0}});const Be=new Ke.ProgressController;await Be.run((async B=>{await ye._browser._defaultContext._loadDefaultContextAsIs(B);if(process.env.PWTEST_PRINT_WS_ENDPOINT){process.stderr.write("DevTools listening on: "+ye._browser.options.wsEndpoint+"\n")}if(!(0,je.isUnderTest)())await(0,Ge.syncLocalStorageWithSettings)(Se,"traceviewer");if((0,je.isUnderTest)())Se.on("close",(()=>ye.close({reason:"Trace viewer closed"}).catch((()=>{}))));await Se.mainFrame().goto(B,w)}));return Se}async function openTraceInBrowser(w){console.log("\nListening on "+w);if(!(0,je.isUnderTest)())await(0,We.open)(w.replace("0.0.0.0","localhost")).catch((()=>{}))}class StdinServer{constructor(){process.stdin.on("data",(w=>{const B=w.toString().trim();if(B===this._traceUrl)return;if(B.endsWith(".json"))this._pollLoadTrace(B);else this._loadTrace(B)}));process.stdin.on("close",(()=>(0,Le.gracefullyProcessExitDoNotHang)(0)))}onconnect(){}async dispatch(w,B){if(w==="initialize"){if(this._traceUrl)this._loadTrace(this._traceUrl)}}onclose(){}_loadTrace(w){this._traceUrl=w;clearTimeout(this._pollTimer);this.sendEvent?.("loadTraceRequested",{traceUrl:w})}_pollLoadTrace(w){this._loadTrace(w);this._pollTimer=setTimeout((()=>{this._pollLoadTrace(w)}),500)}}function traceDescriptor(w){const B={entries:[]};const G=Me.default.dirname(w);const K=Me.default.basename(w);for(const w of Fe.default.readdirSync(G)){if(w.startsWith(K))B.entries.push({name:w,path:Me.default.join(G,w)})}const pe=Me.default.join(G,"resources");if(Fe.default.existsSync(pe)){for(const w of Fe.default.readdirSync(pe))B.entries.push({name:"resources/"+w,path:Me.default.join(pe,w)})}return B}0&&0},189:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{WebSocketTransport:()=>WebSocketTransport,perMessageDeflate:()=>Me});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(3217);var Fe=G(4331);const Me={clientNoContextTakeover:true,zlibDeflateOptions:{level:3},zlibInflateOptions:{chunkSize:10*1024},threshold:10*1024};class WebSocketTransport{constructor(w,B,G,K){this.headers=[];this.wsEndpoint=B;this._logUrl=G;this._ws=new Fe.ws(B,[],{maxPayload:256*1024*1024,headers:K.headers,followRedirects:K.followRedirects,agent:/^(https|wss):\/\//.test(B)?Pe.httpsHappyEyeballsAgent:Pe.httpHappyEyeballsAgent,perMessageDeflate:Me});this._ws.on("upgrade",(B=>{for(let G=0;G<B.rawHeaders.length;G+=2){this.headers.push({name:B.rawHeaders[G],value:B.rawHeaders[G+1]});if(K.debugLogHeader&&B.rawHeaders[G]===K.debugLogHeader)w?.log(B.rawHeaders[G+1])}}));this._progress=w;const pe=(0,Qe.makeWaitForNextTask)();this._ws.addEventListener("message",(w=>{pe((()=>{const B=w.data;let G;try{G=JSON.parse(B)}catch(w){this._progress?.log(`<closing ws> Closing websocket due to malformed JSON. eventData=${B} e=${w?.message}`);this._ws.close();return}try{if(this.onmessage)this.onmessage.call(null,G)}catch(w){this._progress?.log(`<closing ws> Closing websocket due to failed onmessage callback. eventData=${B} e=${w?.message}`);this._ws.close()}}))}));this._ws.addEventListener("close",(w=>{this._progress?.log(`<ws disconnected> ${G} code=${w.code} reason=${w.reason}`);if(this.onclose)this.onclose.call(null,w.reason)}));this._ws.addEventListener("error",(w=>this._progress?.log(`<ws error> ${G} ${w.type} ${w.message}`)))}static async connect(w,B,G={}){return await WebSocketTransport._connect(w,B,G,false)}static async _connect(w,B,G,K){const pe=stripQueryParams(B);w?.log(`<ws connecting> ${pe}`);const ye=new WebSocketTransport(w,B,pe,{...G,followRedirects:!!G.followRedirects&&K});const Se=new Promise(((B,Se)=>{ye._ws.on("open",(async()=>{w?.log(`<ws connected> ${pe}`);B({})}));ye._ws.on("error",(B=>{w?.log(`<ws connect error> ${pe} ${B.message}`);Se(new Error("WebSocket error: "+B.message));ye._ws.close()}));ye._ws.on("unexpected-response",((Be,Qe)=>{if(G.followRedirects&&!K&&(Qe.statusCode===301||Qe.statusCode===302||Qe.statusCode===307||Qe.statusCode===308)){B({redirect:Qe});ye._ws.close();return}for(let B=0;B<Qe.rawHeaders.length;B+=2){if(G.debugLogHeader&&Qe.rawHeaders[B]===G.debugLogHeader)w?.log(Qe.rawHeaders[B+1])}const Pe=[];const Fe=`${pe} ${Qe.statusCode} ${Qe.statusMessage}`;Qe.on("data",(w=>Pe.push(w)));Qe.on("close",(()=>{const B=Pe.length?`${Fe}\n${Buffer.concat(Pe)}`:Fe;w?.log(`<ws unexpected response> ${B}`);Se(new Error("WebSocket error: "+B));ye._ws.close()}))}))}));try{const B=w?await w.race(Se):await Se;if(B.redirect){const K=Object.fromEntries(Object.entries(G.headers||{}).filter((([w])=>!w.includes("access-key")&&w.toLowerCase()!=="authorization")));return WebSocketTransport._connect(w,B.redirect.headers.location,{...G,headers:K},true)}return ye}catch(w){await ye.closeAndWait();throw w}}send(w){this._ws.send(JSON.stringify(w))}close(){this._progress?.log(`<ws disconnecting> ${this._logUrl}`);this._ws.close()}async closeAndWait(){if(this._ws.readyState===Fe.ws.CLOSED)return;const w=new Promise((w=>this._ws.once("close",w)));this.close();await w}}function stripQueryParams(w){try{const B=new URL(w);B.search="";B.hash="";return B.toString()}catch{return w}}0&&0},3109:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{kLifecycleEvents:()=>Se});w.exports=__toCommonJS(ye);const Se=new Set(["load","domcontentloaded","networkidle","commit"]);0&&0},9489:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{USKeyboardLayout:()=>Be,keypadLocation:()=>Se});w.exports=__toCommonJS(ye);const Se=3;const Be={Escape:{keyCode:27,key:"Escape"},F1:{keyCode:112,key:"F1"},F2:{keyCode:113,key:"F2"},F3:{keyCode:114,key:"F3"},F4:{keyCode:115,key:"F4"},F5:{keyCode:116,key:"F5"},F6:{keyCode:117,key:"F6"},F7:{keyCode:118,key:"F7"},F8:{keyCode:119,key:"F8"},F9:{keyCode:120,key:"F9"},F10:{keyCode:121,key:"F10"},F11:{keyCode:122,key:"F11"},F12:{keyCode:123,key:"F12"},Backquote:{keyCode:192,shiftKey:"~",key:"`"},Digit1:{keyCode:49,shiftKey:"!",key:"1"},Digit2:{keyCode:50,shiftKey:"@",key:"2"},Digit3:{keyCode:51,shiftKey:"#",key:"3"},Digit4:{keyCode:52,shiftKey:"$",key:"4"},Digit5:{keyCode:53,shiftKey:"%",key:"5"},Digit6:{keyCode:54,shiftKey:"^",key:"6"},Digit7:{keyCode:55,shiftKey:"&",key:"7"},Digit8:{keyCode:56,shiftKey:"*",key:"8"},Digit9:{keyCode:57,shiftKey:"(",key:"9"},Digit0:{keyCode:48,shiftKey:")",key:"0"},Minus:{keyCode:189,shiftKey:"_",key:"-"},Equal:{keyCode:187,shiftKey:"+",key:"="},Backslash:{keyCode:220,shiftKey:"|",key:"\\"},Backspace:{keyCode:8,key:"Backspace"},Tab:{keyCode:9,key:"Tab"},KeyQ:{keyCode:81,shiftKey:"Q",key:"q"},KeyW:{keyCode:87,shiftKey:"W",key:"w"},KeyE:{keyCode:69,shiftKey:"E",key:"e"},KeyR:{keyCode:82,shiftKey:"R",key:"r"},KeyT:{keyCode:84,shiftKey:"T",key:"t"},KeyY:{keyCode:89,shiftKey:"Y",key:"y"},KeyU:{keyCode:85,shiftKey:"U",key:"u"},KeyI:{keyCode:73,shiftKey:"I",key:"i"},KeyO:{keyCode:79,shiftKey:"O",key:"o"},KeyP:{keyCode:80,shiftKey:"P",key:"p"},BracketLeft:{keyCode:219,shiftKey:"{",key:"["},BracketRight:{keyCode:221,shiftKey:"}",key:"]"},CapsLock:{keyCode:20,key:"CapsLock"},KeyA:{keyCode:65,shiftKey:"A",key:"a"},KeyS:{keyCode:83,shiftKey:"S",key:"s"},KeyD:{keyCode:68,shiftKey:"D",key:"d"},KeyF:{keyCode:70,shiftKey:"F",key:"f"},KeyG:{keyCode:71,shiftKey:"G",key:"g"},KeyH:{keyCode:72,shiftKey:"H",key:"h"},KeyJ:{keyCode:74,shiftKey:"J",key:"j"},KeyK:{keyCode:75,shiftKey:"K",key:"k"},KeyL:{keyCode:76,shiftKey:"L",key:"l"},Semicolon:{keyCode:186,shiftKey:":",key:";"},Quote:{keyCode:222,shiftKey:'"',key:"'"},Enter:{keyCode:13,key:"Enter",text:"\r"},ShiftLeft:{keyCode:160,keyCodeWithoutLocation:16,key:"Shift",location:1},KeyZ:{keyCode:90,shiftKey:"Z",key:"z"},KeyX:{keyCode:88,shiftKey:"X",key:"x"},KeyC:{keyCode:67,shiftKey:"C",key:"c"},KeyV:{keyCode:86,shiftKey:"V",key:"v"},KeyB:{keyCode:66,shiftKey:"B",key:"b"},KeyN:{keyCode:78,shiftKey:"N",key:"n"},KeyM:{keyCode:77,shiftKey:"M",key:"m"},Comma:{keyCode:188,shiftKey:"<",key:","},Period:{keyCode:190,shiftKey:">",key:"."},Slash:{keyCode:191,shiftKey:"?",key:"/"},ShiftRight:{keyCode:161,keyCodeWithoutLocation:16,key:"Shift",location:2},ControlLeft:{keyCode:162,keyCodeWithoutLocation:17,key:"Control",location:1},MetaLeft:{keyCode:91,key:"Meta",location:1},AltLeft:{keyCode:164,keyCodeWithoutLocation:18,key:"Alt",location:1},Space:{keyCode:32,key:" "},AltRight:{keyCode:165,keyCodeWithoutLocation:18,key:"Alt",location:2},AltGraph:{keyCode:225,key:"AltGraph"},MetaRight:{keyCode:92,key:"Meta",location:2},ContextMenu:{keyCode:93,key:"ContextMenu"},ControlRight:{keyCode:163,keyCodeWithoutLocation:17,key:"Control",location:2},PrintScreen:{keyCode:44,key:"PrintScreen"},ScrollLock:{keyCode:145,key:"ScrollLock"},Pause:{keyCode:19,key:"Pause"},PageUp:{keyCode:33,key:"PageUp"},PageDown:{keyCode:34,key:"PageDown"},Insert:{keyCode:45,key:"Insert"},Delete:{keyCode:46,key:"Delete"},Home:{keyCode:36,key:"Home"},End:{keyCode:35,key:"End"},ArrowLeft:{keyCode:37,key:"ArrowLeft"},ArrowUp:{keyCode:38,key:"ArrowUp"},ArrowRight:{keyCode:39,key:"ArrowRight"},ArrowDown:{keyCode:40,key:"ArrowDown"},NumLock:{keyCode:144,key:"NumLock"},NumpadDivide:{keyCode:111,key:"/",location:3},NumpadMultiply:{keyCode:106,key:"*",location:3},NumpadSubtract:{keyCode:109,key:"-",location:3},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",shiftKey:"7",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",shiftKey:"8",location:3},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",shiftKey:"9",location:3},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",shiftKey:"4",location:3},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",shiftKey:"5",location:3},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",shiftKey:"6",location:3},NumpadAdd:{keyCode:107,key:"+",location:3},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",shiftKey:"1",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",shiftKey:"2",location:3},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",shiftKey:"3",location:3},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",shiftKey:"0",location:3},NumpadDecimal:{keyCode:46,shiftKeyCode:110,key:"\0",shiftKey:".",location:3},NumpadEnter:{keyCode:13,key:"Enter",text:"\r",location:3}};0&&0},3701:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{jsonStringifyForceASCII:()=>jsonStringifyForceASCII,wrapInASCIIBox:()=>wrapInASCIIBox});w.exports=__toCommonJS(ye);function wrapInASCIIBox(w,B=0){const G=w.split("\n");const K=Math.max(...G.map((w=>w.length)));return[""+"".repeat(K+B*2)+"",...G.map((w=>""+" ".repeat(B)+w+" ".repeat(K-w.length+B)+"")),""+"".repeat(K+B*2)+""].join("\n")}function jsonStringifyForceASCII(w){return JSON.stringify(w).replace(/[\u007f-\uffff]/g,(w=>"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)))}0&&0},6639:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{compareBuffersOrStrings:()=>compareBuffersOrStrings,getComparator:()=>getComparator});w.exports=__toCommonJS(Pe);var Fe=G(1679);var Me=__toESM(G(2198));var Le=G(4331);var je=G(4331);var qe=G(4331);function getComparator(w){if(w==="image/png")return compareImages.bind(null,"image/png");if(w==="image/jpeg")return compareImages.bind(null,"image/jpeg");if(w==="text/plain")return compareText;return compareBuffersOrStrings}const We=5*1024;function compareBuffersOrStrings(w,B){if(typeof w==="string")return compareText(w,B);if(!w||!(w instanceof Buffer))return{errorMessage:"Actual result should be a Buffer or a string."};if(Buffer.compare(w,B))return{errorMessage:"Buffers differ"};return null}function compareImages(w,B,G,K={}){if(!B||!(B instanceof Buffer))return{errorMessage:"Actual result should be a Buffer."};validateBuffer(G,w);let pe=w==="image/png"?qe.PNG.sync.read(B):Le.jpegjs.decode(B,{maxMemoryUsageInMB:We});let ye=w==="image/png"?qe.PNG.sync.read(G):Le.jpegjs.decode(G,{maxMemoryUsageInMB:We});const Se={width:Math.max(ye.width,pe.width),height:Math.max(ye.height,pe.height)};let Be="";if(ye.width!==pe.width||ye.height!==pe.height){Be=`Expected an image ${ye.width}px by ${ye.height}px, received ${pe.width}px by ${pe.height}px. `;pe=resizeImage(pe,Se);ye=resizeImage(ye,Se)}const Qe=new qe.PNG({width:Se.width,height:Se.height});let Pe;if(K.comparator==="ssim-cie94"){Pe=(0,Fe.compare)(ye.data,pe.data,Qe.data,Se.width,Se.height,{maxColorDeltaE94:1})}else if((K.comparator??"pixelmatch")==="pixelmatch"){Pe=(0,Me.default)(ye.data,pe.data,Qe.data,Se.width,Se.height,{threshold:K.threshold??.2})}else{throw new Error(`Configuration specifies unknown comparator "${K.comparator}"`)}const je=K.maxDiffPixels;const Ge=K.maxDiffPixelRatio!==void 0?ye.width*ye.height*K.maxDiffPixelRatio:void 0;let ze;if(je!==void 0&&Ge!==void 0)ze=Math.min(je,Ge);else ze=je??Ge??0;const Ye=Math.ceil(Pe/(ye.width*ye.height)*100)/100;const Ke=Pe>ze?`${Pe} pixels (ratio ${Ye.toFixed(2)} of all image pixels) are different.`:"";if(Ke||Be)return{errorMessage:Be+Ke,diff:qe.PNG.sync.write(Qe)};return null}function validateBuffer(w,B){if(B==="image/png"){const B=[137,80,78,71,13,10,26,10];if(w.length<B.length||!B.every(((B,G)=>w[G]===B)))throw new Error("Could not decode expected image as PNG.")}else if(B==="image/jpeg"){const B=[255,216];if(w.length<B.length||!B.every(((B,G)=>w[G]===B)))throw new Error("Could not decode expected image as JPEG.")}}function compareText(w,B){if(typeof w!=="string")return{errorMessage:"Actual result should be a string"};let G=B.toString("utf-8");if(G===w)return null;if(!w.endsWith("\n"))w+="\n";if(!G.endsWith("\n"))G+="\n";const K=je.diff.createPatch("file",G,w,void 0,void 0,{context:5}).split("\n");const pe=K.slice(4).map((w=>{if(w.startsWith("-"))return je.colors.green(w);if(w.startsWith("+"))return je.colors.red(w);if(w.startsWith("@@"))return je.colors.dim(w);return w}));const ye=pe.join("\n");return{errorMessage:ye}}function resizeImage(w,B){if(w.width===B.width&&w.height===B.height)return w;const G=new Uint8Array(B.width*B.height*4);for(let K=0;K<B.height;K++){for(let pe=0;pe<B.width;pe++){const ye=(K*B.width+pe)*4;if(K<w.height&&pe<w.width){const B=(K*w.width+pe)*4;G[ye]=w.data[B];G[ye+1]=w.data[B+1];G[ye+2]=w.data[B+2];G[ye+3]=w.data[B+3]}else{G[ye]=0;G[ye+1]=0;G[ye+2]=0;G[ye+3]=0}}}return{data:Buffer.from(G),width:B.width,height:B.height}}0&&0},6741:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{calculateSha1:()=>calculateSha1,createGuid:()=>createGuid,generateSelfSignedCertificate:()=>generateSelfSignedCertificate});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(6982));var Me=G(8164);function createGuid(){return Fe.default.randomBytes(16).toString("hex")}function calculateSha1(w){const B=Fe.default.createHash("sha1");B.update(w);return B.digest("hex")}function encodeBase128(w){const B=[];do{let G=w&127;w>>>=7;if(B.length>0)G|=128;B.push(G)}while(w>0);return Buffer.from(B.reverse())}class DER{static encodeSequence(w){return this._encode(48,Buffer.concat(w))}static encodeInteger(w){(0,Me.assert)(w>=-128&&w<=127);return this._encode(2,Buffer.from([w]))}static encodeObjectIdentifier(w){const B=w.split(".").map((w=>Number(w)));const G=[encodeBase128(40*B[0]+B[1])];for(let w=2;w<B.length;w++)G.push(encodeBase128(B[w]));return this._encode(6,Buffer.concat(G))}static encodeNull(){return Buffer.from([5,0])}static encodeSet(w){(0,Me.assert)(w.length===1,"Only one item in the set is supported. We'd need to sort the data to support more.");return this._encode(49,Buffer.concat(w))}static encodeExplicitContextDependent(w,B){return this._encode(160+w,B)}static encodePrintableString(w){return this._encode(19,Buffer.from(w))}static encodeBitString(w){const B=0;const G=Buffer.concat([Buffer.from([B]),w]);return this._encode(3,G)}static encodeDate(w){const B=w.getUTCFullYear();const G=B>=2050;const K=[G?B.toString():B.toString().slice(-2),(w.getUTCMonth()+1).toString().padStart(2,"0"),w.getUTCDate().toString().padStart(2,"0"),w.getUTCHours().toString().padStart(2,"0"),w.getUTCMinutes().toString().padStart(2,"0"),w.getUTCSeconds().toString().padStart(2,"0")];const pe=K.join("")+"Z";const ye=G?24:23;return this._encode(ye,Buffer.from(pe))}static _encode(w,B){const G=this._encodeLength(B.length);return Buffer.concat([Buffer.from([w]),G,B])}static _encodeLength(w){if(w<128){return Buffer.from([w])}else{const B=[];while(w>0){B.unshift(w&255);w>>=8}return Buffer.from([128|B.length,...B])}}}function generateSelfSignedCertificate(){const{privateKey:w,publicKey:B}=Fe.default.generateKeyPairSync("rsa",{modulusLength:2048});const G=B.export({type:"pkcs1",format:"der"});const K=365*24*60*60*1e3;const pe=new Date((new Date).getTime()-K);const ye=new Date((new Date).getTime()+K);const Se=DER.encodeSequence([DER.encodeExplicitContextDependent(0,DER.encodeInteger(1)),DER.encodeInteger(1),DER.encodeSequence([DER.encodeObjectIdentifier("1.2.840.113549.1.1.11"),DER.encodeNull()]),DER.encodeSequence([DER.encodeSet([DER.encodeSequence([DER.encodeObjectIdentifier("2.5.4.3"),DER.encodePrintableString("localhost")])]),DER.encodeSet([DER.encodeSequence([DER.encodeObjectIdentifier("2.5.4.10"),DER.encodePrintableString("Playwright Client Certificate Support")])])]),DER.encodeSequence([DER.encodeDate(pe),DER.encodeDate(ye)]),DER.encodeSequence([DER.encodeSet([DER.encodeSequence([DER.encodeObjectIdentifier("2.5.4.3"),DER.encodePrintableString("localhost")])]),DER.encodeSet([DER.encodeSequence([DER.encodeObjectIdentifier("2.5.4.10"),DER.encodePrintableString("Playwright Client Certificate Support")])])]),DER.encodeSequence([DER.encodeSequence([DER.encodeObjectIdentifier("1.2.840.113549.1.1.1"),DER.encodeNull()]),DER.encodeBitString(G)])]);const Be=Fe.default.sign("sha256",Se,w);const Qe=DER.encodeSequence([Se,DER.encodeSequence([DER.encodeObjectIdentifier("1.2.840.113549.1.1.11"),DER.encodeNull()]),DER.encodeBitString(Be)]);const Pe=["-----BEGIN CERTIFICATE-----",Qe.toString("base64").match(/.{1,64}/g).join("\n"),"-----END CERTIFICATE-----"].join("\n");return{cert:Pe,key:w.export({type:"pkcs1",format:"pem"})}}0&&0},5749:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{debugMode:()=>debugMode,isUnderTest:()=>isUnderTest});w.exports=__toCommonJS(Be);var Qe=G(4529);const Pe=(0,Qe.getFromENV)("PWDEBUG")||"";function debugMode(){if(Pe==="console")return"console";if(Pe==="0"||Pe==="false")return"";return Pe?"inspector":""}const Fe=(0,Qe.getAsBooleanFromENV)("PWTEST_UNDER_TEST");function isUnderTest(){return Fe}0&&0},5809:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{RecentLogsCollector:()=>RecentLogsCollector,debugLogger:()=>je});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=G(4331);const Le={api:45,protocol:34,install:34,download:34,browser:0,socks:92,"client-certificates":92,error:160,channel:33,server:45,"server:channel":34,"server:metadata":33,recorder:45};class DebugLogger{constructor(){this._debuggers=new Map;if(process.env.DEBUG_FILE){const w=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|"),"g");const B=Fe.default.createWriteStream(process.env.DEBUG_FILE);Me.debug.log=G=>{B.write(G.replace(w,""));B.write("\n")}}}log(w,B){let G=this._debuggers.get(w);if(!G){G=(0,Me.debug)(`pw:${w}`);this._debuggers.set(w,G);G.color=Le[w]||0}G(B)}isEnabled(w){return Me.debug.enabled(`pw:${w}`)}}const je=new DebugLogger;const qe=150;class RecentLogsCollector{constructor(){this._logs=[];this._listeners=[]}log(w){this._logs.push(w);if(this._logs.length===qe*2)this._logs.splice(0,qe);for(const B of this._listeners)B(w)}recentLogs(){if(this._logs.length>qe)return this._logs.slice(-qe);return this._logs}onMessage(w){for(const B of this._logs)w(B);this._listeners.push(w)}}0&&0},4529:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{getAsBooleanFromENV:()=>getAsBooleanFromENV,getFromENV:()=>getFromENV,getPackageManager:()=>getPackageManager,getPackageManagerExecCommand:()=>getPackageManagerExecCommand,isLikelyNpxGlobal:()=>isLikelyNpxGlobal,setPlaywrightTestProcessEnv:()=>setPlaywrightTestProcessEnv});w.exports=__toCommonJS(ye);function getFromENV(w){let B=process.env[w];B=B===void 0?process.env[`npm_config_${w.toLowerCase()}`]:B;B=B===void 0?process.env[`npm_package_config_${w.toLowerCase()}`]:B;return B}function getAsBooleanFromENV(w,B){const G=getFromENV(w);if(G==="false"||G==="0")return false;if(G)return true;return!!B}function getPackageManager(){const w=process.env.npm_config_user_agent||"";if(w.includes("yarn"))return"yarn";if(w.includes("pnpm"))return"pnpm";return"npm"}function getPackageManagerExecCommand(){const w=getPackageManager();if(w==="yarn")return"yarn";if(w==="pnpm")return"pnpm exec";return"npx"}function isLikelyNpxGlobal(){return process.argv.length>=2&&process.argv[1].includes("_npx")}function setPlaywrightTestProcessEnv(){return process.env["PLAYWRIGHT_TEST"]="1"}0&&0},6037:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{eventsHelper:()=>Se});w.exports=__toCommonJS(ye);class EventsHelper{static addEventListener(w,B,G){w.on(B,G);return{emitter:w,eventName:B,handler:G}}static removeEventListeners(w){for(const B of w)B.emitter.removeListener(B.eventName,B.handler);w.splice(0,w.length)}}const Se=EventsHelper;0&&0},4060:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{serializeExpectedTextValues:()=>serializeExpectedTextValues});w.exports=__toCommonJS(Be);var Qe=G(1407);function serializeExpectedTextValues(w,B={}){return w.map((w=>({string:(0,Qe.isString)(w)?w:void 0,regexSource:(0,Qe.isRegExp)(w)?w.source:void 0,regexFlags:(0,Qe.isRegExp)(w)?w.flags:void 0,matchSubstring:B.matchSubstring,ignoreCase:B.ignoreCase,normalizeWhiteSpace:B.normalizeWhiteSpace})))}0&&0},3449:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{SerializedFS:()=>SerializedFS,canAccessFile:()=>canAccessFile,copyFileAndMakeWritable:()=>copyFileAndMakeWritable,existsAsync:()=>existsAsync,mkdirIfNeeded:()=>mkdirIfNeeded,removeFolders:()=>removeFolders,sanitizeForFilePath:()=>sanitizeForFilePath,toPosixPath:()=>toPosixPath});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(3587);var je=G(173);const existsAsync=w=>new Promise((B=>Fe.default.stat(w,(w=>B(!w)))));async function mkdirIfNeeded(w){await Fe.default.promises.mkdir(Me.default.dirname(w),{recursive:true}).catch((()=>{}))}async function removeFolders(w){return await Promise.all(w.map((w=>Fe.default.promises.rm(w,{recursive:true,force:true,maxRetries:10}).catch((w=>w)))))}function canAccessFile(w){if(!w)return false;try{Fe.default.accessSync(w);return true}catch(w){return false}}async function copyFileAndMakeWritable(w,B){await Fe.default.promises.copyFile(w,B);await Fe.default.promises.chmod(B,436)}function sanitizeForFilePath(w){return w.replace(/[\x00-\x2C\x2E-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/g,"-")}function toPosixPath(w){return w.split(Me.default.sep).join(Me.default.posix.sep)}class SerializedFS{constructor(){this._buffers=new Map;this._operations=[];this._operationsDone=new Le.ManualPromise;this._operationsDone.resolve()}mkdir(w){this._appendOperation({op:"mkdir",dir:w})}writeFile(w,B,G){this._buffers.delete(w);this._appendOperation({op:"writeFile",file:w,content:B,skipIfExists:G})}appendFile(w,B,G){if(!this._buffers.has(w))this._buffers.set(w,[]);this._buffers.get(w).push(B);if(G)this._flushFile(w)}_flushFile(w){const B=this._buffers.get(w);if(B===void 0)return;const G=B.join("");this._buffers.delete(w);this._appendOperation({op:"appendFile",file:w,content:G})}copyFile(w,B){this._flushFile(w);this._buffers.delete(B);this._appendOperation({op:"copyFile",from:w,to:B})}async syncAndGetError(){for(const w of this._buffers.keys())this._flushFile(w);await this._operationsDone;return this._error}zip(w,B){for(const w of this._buffers.keys())this._flushFile(w);this._appendOperation({op:"zip",entries:w,zipFileName:B})}_appendOperation(w){const B=this._operations[this._operations.length-1];if(B?.op==="appendFile"&&w.op==="appendFile"&&B.file===w.file){B.content+=w.content;return}this._operations.push(w);if(this._operationsDone.isDone())this._performOperations()}async _performOperations(){this._operationsDone=new Le.ManualPromise;while(this._operations.length){const w=this._operations.shift();if(this._error)continue;try{await this._performOperation(w)}catch(w){this._error=w}}this._operationsDone.resolve()}async _performOperation(w){switch(w.op){case"mkdir":{await Fe.default.promises.mkdir(w.dir,{recursive:true});return}case"writeFile":{if(w.skipIfExists)await Fe.default.promises.writeFile(w.file,w.content,{flag:"wx"}).catch((()=>{}));else await Fe.default.promises.writeFile(w.file,w.content);return}case"copyFile":{await Fe.default.promises.copyFile(w.from,w.to);return}case"appendFile":{await Fe.default.promises.appendFile(w.file,w.content);return}case"zip":{const B=new je.yazl.ZipFile;const G=new Le.ManualPromise;B.on("error",(w=>G.reject(w)));for(const G of w.entries)B.addFile(G.value,G.name);B.end();B.outputStream.pipe(Fe.default.createWriteStream(w.zipFileName)).on("close",(()=>G.resolve())).on("error",(w=>G.reject(w)));await G;return}}}}0&&0},3217:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{createConnectionAsync:()=>createConnectionAsync,createSocket:()=>createSocket,createTLSSocket:()=>createTLSSocket,httpHappyEyeballsAgent:()=>it,httpsHappyEyeballsAgent:()=>rt,timingForSocket:()=>timingForSocket});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(2250));var Me=__toESM(G(8611));var Le=__toESM(G(5692));var je=__toESM(G(9278));var qe=__toESM(G(4756));var We=G(8164);var Ge=G(3587);var ze=G(3647);const Ye=300;const Ke=Symbol("kDNSLookupAt");const Xe=Symbol("kTCPConnectionAt");class HttpHappyEyeballsAgent extends Me.default.Agent{createConnection(w,B){if(je.default.isIP(clientRequestArgsToHostName(w)))return je.default.createConnection(w);createConnectionAsync(w,B,false).catch((w=>B?.(w)))}}class HttpsHappyEyeballsAgent extends Le.default.Agent{createConnection(w,B){if(je.default.isIP(clientRequestArgsToHostName(w)))return qe.default.connect(w);createConnectionAsync(w,B,true).catch((w=>B?.(w)))}}const rt=new HttpsHappyEyeballsAgent({keepAlive:true});const it=new HttpHappyEyeballsAgent({keepAlive:true});async function createSocket(w,B){return new Promise(((G,K)=>{if(je.default.isIP(w)){const pe=je.default.createConnection({host:w,port:B});pe.on("connect",(()=>G(pe)));pe.on("error",(w=>K(w)))}else{createConnectionAsync({host:w,port:B},((w,B)=>{if(w)K(w);if(B)G(B)}),false).catch((w=>K(w)))}}))}async function createTLSSocket(w){return new Promise(((B,G)=>{(0,We.assert)(w.host,"host is required");if(je.default.isIP(w.host)){const K=qe.default.connect(w);K.on("secureConnect",(()=>B(K)));K.on("error",(w=>G(w)))}else{createConnectionAsync(w,((w,K)=>{if(w)G(w);if(K){K.on("secureConnect",(()=>B(K)));K.on("error",(w=>G(w)))}}),true).catch((w=>G(w)))}}))}async function createConnectionAsync(w,B,G){const K=w.__testHookLookup||lookupAddresses;const pe=clientRequestArgsToHostName(w);const ye=await K(pe);const Se=(0,ze.monotonicTime)();const Be=new Set;let Qe;let Pe=0;const handleError=(w,G)=>{if(!Be.delete(w))return;++Pe;Qe??=G;if(Pe===ye.length)B?.(Qe)};const Fe=new Ge.ManualPromise;for(const{address:K}of ye){const ye=G?qe.default.connect({...w,port:w.port,host:K,servername:pe}):je.default.createConnection({...w,port:w.port,host:K});ye[Ke]=Se;ye.on("connect",(()=>{ye[Xe]=(0,ze.monotonicTime)();Fe.resolve();B?.(null,ye);Be.delete(ye);for(const w of Be)w.destroy();Be.clear()}));ye.on("timeout",(()=>{ye.destroy();handleError(ye,new Error("Connection timeout"))}));ye.on("error",(w=>handleError(ye,w)));Be.add(ye);await Promise.race([Fe,new Promise((w=>setTimeout(w,Ye)))]);if(Fe.isDone())break}}async function lookupAddresses(w){const B=await Fe.default.promises.lookup(w,{all:true,family:0,verbatim:true});let G=B.filter((({family:w})=>w===6));let K=B.filter((({family:w})=>w===4));if(G.length&&G[0]!==B[0]){const w=G;G=K;K=w}const pe=[];for(let w=0;w<Math.max(G.length,K.length);w++){if(G[w])pe.push(G[w]);if(K[w])pe.push(K[w])}return pe}function clientRequestArgsToHostName(w){if(w.hostname)return w.hostname;if(w.host)return w.host;throw new Error("Either options.hostname or options.host must be provided")}function timingForSocket(w){return{dnsLookupAt:w[Ke],tcpConnectionAt:w[Xe]}}0&&0},2229:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{hostPlatform:()=>Le,isOfficiallySupportedPlatform:()=>je});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(857));var Me=G(1603);function calculatePlatform(){if(process.env.PLAYWRIGHT_HOST_PLATFORM_OVERRIDE){return{hostPlatform:process.env.PLAYWRIGHT_HOST_PLATFORM_OVERRIDE,isOfficiallySupportedPlatform:false}}const w=Fe.default.platform();if(w==="darwin"){const w=Fe.default.release().split(".").map((w=>parseInt(w,10)));let B="";if(w[0]<18){B="mac10.13"}else if(w[0]===18){B="mac10.14"}else if(w[0]===19){B="mac10.15"}else{const G=15;B="mac"+Math.min(w[0]-9,G);if(Fe.default.cpus().some((w=>w.model.includes("Apple"))))B+="-arm64"}return{hostPlatform:B,isOfficiallySupportedPlatform:true}}if(w==="linux"){if(!["x64","arm64"].includes(Fe.default.arch()))return{hostPlatform:"<unknown>",isOfficiallySupportedPlatform:false};const w="-"+Fe.default.arch();const B=(0,Me.getLinuxDistributionInfoSync)();if(B?.id==="ubuntu"||B?.id==="pop"||B?.id==="neon"||B?.id==="tuxedo"){const G=B?.id==="ubuntu";const K=B?.version;const pe=parseInt(B.version,10);if(pe<20)return{hostPlatform:"ubuntu18.04"+w,isOfficiallySupportedPlatform:false};if(pe<22)return{hostPlatform:"ubuntu20.04"+w,isOfficiallySupportedPlatform:G&&K==="20.04"};if(pe<24)return{hostPlatform:"ubuntu22.04"+w,isOfficiallySupportedPlatform:G&&K==="22.04"};if(pe<26)return{hostPlatform:"ubuntu24.04"+w,isOfficiallySupportedPlatform:G&&K==="24.04"};return{hostPlatform:"ubuntu"+B.version+w,isOfficiallySupportedPlatform:false}}if(B?.id==="linuxmint"){const G=parseInt(B.version,10);if(G<=20)return{hostPlatform:"ubuntu20.04"+w,isOfficiallySupportedPlatform:false};if(G===21)return{hostPlatform:"ubuntu22.04"+w,isOfficiallySupportedPlatform:false};return{hostPlatform:"ubuntu24.04"+w,isOfficiallySupportedPlatform:false}}if(B?.id==="debian"||B?.id==="raspbian"){const G=B?.id==="debian";if(B?.version==="11")return{hostPlatform:"debian11"+w,isOfficiallySupportedPlatform:G};if(B?.version==="12")return{hostPlatform:"debian12"+w,isOfficiallySupportedPlatform:G};if(B?.version==="13")return{hostPlatform:"debian13"+w,isOfficiallySupportedPlatform:G};if(B?.version==="")return{hostPlatform:"debian13"+w,isOfficiallySupportedPlatform:G}}return{hostPlatform:"ubuntu20.04"+w,isOfficiallySupportedPlatform:false}}if(w==="win32")return{hostPlatform:"win64",isOfficiallySupportedPlatform:true};return{hostPlatform:"<unknown>",isOfficiallySupportedPlatform:false}}const{hostPlatform:Le,isOfficiallySupportedPlatform:je}=calculatePlatform();0&&0},1367:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{HttpServer:()=>HttpServer});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));var Le=G(4331);var je=G(6741);var qe=G(8164);var We=G(3587);var Ge=G(864);class HttpServer{constructor(){this._urlPrefixPrecise="";this._urlPrefixHumanReadable="";this._port=0;this._started=false;this._routes=[];this._server=(0,Ge.createHttpServer)(this._onRequest.bind(this))}server(){return this._server}routePrefix(w,B){this._routes.push({prefix:w,handler:B})}routePath(w,B){this._routes.push({exact:w,handler:B})}port(){return this._port}async _tryStart(w,B){const G=new We.ManualPromise;const errorListener=w=>G.reject(w);this._server.on("error",errorListener);try{this._server.listen(w,B);await Promise.race([new Promise((w=>this._server.once("listening",w))),G])}finally{this._server.removeListener("error",errorListener)}}createWebSocket(w,B){(0,qe.assert)(!this._wsGuid,"can only create one main websocket transport per server");this._wsGuid=B||(0,je.createGuid)();const G=new Le.wsServer({server:this._server,path:"/"+this._wsGuid});G.on("connection",(B=>{w.onconnect();w.sendEvent=(w,G)=>B.send(JSON.stringify({method:w,params:G}));w.close=()=>B.close();B.on("message",(async G=>{const{id:K,method:pe,params:ye}=JSON.parse(String(G));try{const G=await w.dispatch(pe,ye);B.send(JSON.stringify({id:K,result:G}))}catch(w){B.send(JSON.stringify({id:K,error:String(w)}))}}));B.on("close",(()=>w.onclose()));B.on("error",(()=>w.onclose()))}))}wsGuid(){return this._wsGuid}async start(w={}){(0,qe.assert)(!this._started,"server already started");this._started=true;const B=w.host||"localhost";if(w.preferredPort){try{await this._tryStart(w.preferredPort,B)}catch(w){if(!w||!w.message||!w.message.includes("EADDRINUSE"))throw w;await this._tryStart(void 0,B)}}else{await this._tryStart(w.port,B)}const G=this._server.address();(0,qe.assert)(G,"Could not bind server socket");if(typeof G==="string"){this._urlPrefixPrecise=G;this._urlPrefixHumanReadable=G}else{this._port=G.port;const w=G.family==="IPv4"?G.address:`[${G.address}]`;this._urlPrefixPrecise=`http://${w}:${G.port}`;this._urlPrefixHumanReadable=`http://${B}:${G.port}`}}async stop(){await new Promise((w=>this._server.close(w)))}urlPrefix(w){return w==="human-readable"?this._urlPrefixHumanReadable:this._urlPrefixPrecise}serveFile(w,B,G,K){try{for(const[w,G]of Object.entries(K||{}))B.setHeader(w,G);if(w.headers.range)this._serveRangeFile(w,B,G);else this._serveFile(B,G);return true}catch(w){return false}}_serveFile(w,B){const G=Fe.default.readFileSync(B);w.statusCode=200;const K=Le.mime.getType(Me.default.extname(B))||"application/octet-stream";w.setHeader("Content-Type",K);w.setHeader("Content-Length",G.byteLength);w.end(G)}_serveRangeFile(w,B,G){const K=w.headers.range;if(!K||!K.startsWith("bytes=")||K.includes(", ")||[...K].filter((w=>w==="-")).length!==1){B.statusCode=400;return B.end("Bad request")}const[pe,ye]=K.replace(/bytes=/,"").split("-");let Se;let Be;const Qe=Fe.default.statSync(G).size;if(pe!==""&&ye===""){Se=+pe;Be=Qe-1}else if(pe===""&&ye!==""){Se=Qe-+ye;Be=Qe-1}else{Se=+pe;Be=+ye}if(Number.isNaN(Se)||Number.isNaN(Be)||Se>=Qe||Be>=Qe||Se>Be){B.writeHead(416,{"Content-Range":`bytes */${Qe}`});return B.end()}B.writeHead(206,{"Content-Range":`bytes ${Se}-${Be}/${Qe}`,"Accept-Ranges":"bytes","Content-Length":Be-Se+1,"Content-Type":Le.mime.getType(Me.default.extname(G))});const Pe=Fe.default.createReadStream(G,{start:Se,end:Be});Pe.pipe(B)}_onRequest(w,B){if(w.method==="OPTIONS"){B.writeHead(200);B.end();return}w.on("error",(()=>B.end()));try{if(!w.url){B.end();return}const G=new URL("http://localhost"+w.url);for(const K of this._routes){if(K.exact&&G.pathname===K.exact&&K.handler(w,B))return;if(K.prefix&&G.pathname.startsWith(K.prefix)&&K.handler(w,B))return}B.statusCode=404;B.end()}catch(w){B.end()}}}0&&0},5754:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{blendWithWhite:()=>blendWithWhite,colorDeltaE94:()=>colorDeltaE94,rgb2gray:()=>rgb2gray,srgb2xyz:()=>srgb2xyz,xyz2lab:()=>xyz2lab});w.exports=__toCommonJS(ye);function blendWithWhite(w,B){return 255+(w-255)*B}function rgb2gray(w,B,G){return 77*w+150*B+29*G+128>>8}function colorDeltaE94(w,B){const[G,K,pe]=xyz2lab(srgb2xyz(w));const[ye,Se,Be]=xyz2lab(srgb2xyz(B));const Qe=G-ye;const Pe=K-Se;const Fe=pe-Be;const Me=Math.sqrt(K**2+pe**2);const Le=Math.sqrt(Se**2+Be**2);const je=Me-Le;let qe=Pe**2+Fe**2-je**2;qe=qe<0?0:Math.sqrt(qe);const We=.045;const Ge=.015;const ze=1;const Ye=1;const Ke=1;const Xe=1+We*Me;const rt=1+Ge*Me;const it=1;return Math.sqrt((Qe/it/ze)**2+(je/Xe/Ye)**2+(qe/rt/Ke)**2)}function srgb2xyz(w){let B=w[0]/255;let G=w[1]/255;let K=w[2]/255;B=B>.04045?Math.pow((B+.055)/1.055,2.4):B/12.92;G=G>.04045?Math.pow((G+.055)/1.055,2.4):G/12.92;K=K>.04045?Math.pow((K+.055)/1.055,2.4):K/12.92;return[B*.4124+G*.3576+K*.1805,B*.2126+G*.7152+K*.0722,B*.0193+G*.1192+K*.9505]}const Se=6*6/29/29;const Be=6*6*6/29/29/29;function xyz2lab(w){const B=w[0]/.950489;const G=w[1];const K=w[2]/1.08884;const pe=B>Be?B**(1/3):B/3/Se+4/29;const ye=G>Be?G**(1/3):G/3/Se+4/29;const Qe=K>Be?K**(1/3):K/3/Se+4/29;const Pe=116*ye-16;const Fe=500*(pe-ye);const Me=200*(ye-Qe);return[Pe,Fe,Me]}0&&0},1679:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{compare:()=>compare});w.exports=__toCommonJS(Be);var Qe=G(5754);var Pe=G(994);var Fe=G(7463);const Me=15;const Le=1;function drawPixel(w,B,G,K,pe,ye,Se){const Be=(K*w+G)*4;B[Be+0]=pe;B[Be+1]=ye;B[Be+2]=Se;B[Be+3]=255}function compare(w,B,G,K,pe,ye={}){const{maxColorDeltaE94:Se=1}=ye;const Be=Math.max(Le,Me);const je=[255,0,255];const qe=[0,255,0];const[We,Ge,ze]=Pe.ImageChannel.intoRGB(K,pe,B,{paddingSize:Be,paddingColorEven:je,paddingColorOdd:qe});const[Ye,Ke,Xe]=Pe.ImageChannel.intoRGB(K,pe,w,{paddingSize:Be,paddingColorEven:je,paddingColorOdd:qe});const noop=(w,B)=>{};const rt=G?(w,B)=>drawPixel(K,G,w-Be,B-Be,255,0,0):noop;const it=G?(w,B)=>drawPixel(K,G,w-Be,B-Be,255,255,0):noop;const ot=G?(w,B)=>{const pe=(0,Qe.rgb2gray)(We.get(w,B),Ge.get(w,B),ze.get(w,B));const ye=(0,Qe.blendWithWhite)(pe,.1);drawPixel(K,G,w-Be,B-Be,ye,ye,ye)}:noop;let at,lt,ct;let ut=0;for(let w=Be;w<We.height-Be;++w){for(let B=Be;B<We.width-Be;++B){if(We.get(B,w)===Ye.get(B,w)&&Ge.get(B,w)===Ke.get(B,w)&&ze.get(B,w)===Xe.get(B,w)){ot(B,w);continue}const G=(0,Qe.colorDeltaE94)([We.get(B,w),Ge.get(B,w),ze.get(B,w)],[Ye.get(B,w),Ke.get(B,w),Xe.get(B,w)]);if(G<=Se){ot(B,w);continue}if(!at||!lt||!ct){at=new Fe.FastStats(We,Ye);lt=new Fe.FastStats(Ge,Ke);ct=new Fe.FastStats(ze,Xe)}const[K,pe]=We.boundXY(B-Le,w-Le);const[ye,Be]=We.boundXY(B+Le,w+Le);const Pe=at.varianceC1(K,pe,ye,Be)+lt.varianceC1(K,pe,ye,Be)+ct.varianceC1(K,pe,ye,Be);const je=at.varianceC2(K,pe,ye,Be)+lt.varianceC2(K,pe,ye,Be)+ct.varianceC2(K,pe,ye,Be);if(Pe===0||je===0){rt(B,w);++ut;continue}const[qe,ft]=We.boundXY(B-Me,w-Me);const[gt,mt]=We.boundXY(B+Me,w+Me);const wt=((0,Fe.ssim)(at,qe,ft,gt,mt)+(0,Fe.ssim)(lt,qe,ft,gt,mt)+(0,Fe.ssim)(ct,qe,ft,gt,mt))/3;const vt=wt>=.99;if(vt){it(B,w)}else{rt(B,w);++ut}}}return ut}0&&0},994:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ImageChannel:()=>ImageChannel});w.exports=__toCommonJS(Be);var Qe=G(5754);class ImageChannel{static intoRGB(w,B,G,K={}){const{paddingSize:pe=0,paddingColorOdd:ye=[255,0,255],paddingColorEven:Se=[0,255,0]}=K;const Be=w+2*pe;const Pe=B+2*pe;const Fe=new Uint8Array(Be*Pe);const Me=new Uint8Array(Be*Pe);const Le=new Uint8Array(Be*Pe);for(let B=0;B<Pe;++B){for(let K=0;K<Be;++K){const je=B*Be+K;if(B>=pe&&B<Pe-pe&&K>=pe&&K<Be-pe){const ye=((B-pe)*w+(K-pe))*4;const Se=G[ye+3]===255?1:G[ye+3]/255;Fe[je]=(0,Qe.blendWithWhite)(G[ye],Se);Me[je]=(0,Qe.blendWithWhite)(G[ye+1],Se);Le[je]=(0,Qe.blendWithWhite)(G[ye+2],Se)}else{const w=(B+K)%2===0?Se:ye;Fe[je]=w[0];Me[je]=w[1];Le[je]=w[2]}}}return[new ImageChannel(Be,Pe,Fe),new ImageChannel(Be,Pe,Me),new ImageChannel(Be,Pe,Le)]}constructor(w,B,G){this.data=G;this.width=w;this.height=B}get(w,B){return this.data[B*this.width+w]}boundXY(w,B){return[Math.min(Math.max(w,0),this.width-1),Math.min(Math.max(B,0),this.height-1)]}}0&&0},7463:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{FastStats:()=>FastStats,ssim:()=>ssim});w.exports=__toCommonJS(ye);const Se=2**8-1;function ssim(w,B,G,K,pe){const ye=w.meanC1(B,G,K,pe);const Be=w.meanC2(B,G,K,pe);const Qe=w.varianceC1(B,G,K,pe);const Pe=w.varianceC2(B,G,K,pe);const Fe=w.covariance(B,G,K,pe);const Me=(.01*Se)**2;const Le=(.03*Se)**2;return(2*ye*Be+Me)*(2*Fe+Le)/(ye**2+Be**2+Me)/(Qe+Pe+Le)}class FastStats{constructor(w,B){this.c1=w;this.c2=B;const{width:G,height:K}=w;this._partialSumC1=new Array(G*K);this._partialSumC2=new Array(G*K);this._partialSumSq1=new Array(G*K);this._partialSumSq2=new Array(G*K);this._partialSumMult=new Array(G*K);const recalc=(w,B,K,pe,ye)=>{w[B]=K;if(ye>0)w[B]+=w[(ye-1)*G+pe];if(pe>0)w[B]+=w[ye*G+pe-1];if(pe>0&&ye>0)w[B]-=w[(ye-1)*G+pe-1]};for(let w=0;w<K;++w){for(let B=0;B<G;++B){const K=w*G+B;recalc(this._partialSumC1,K,this.c1.data[K],B,w);recalc(this._partialSumC2,K,this.c2.data[K],B,w);recalc(this._partialSumSq1,K,this.c1.data[K]*this.c1.data[K],B,w);recalc(this._partialSumSq2,K,this.c2.data[K]*this.c2.data[K],B,w);recalc(this._partialSumMult,K,this.c1.data[K]*this.c2.data[K],B,w)}}}_sum(w,B,G,K,pe){const ye=this.c1.width;let Se=w[pe*ye+K];if(G>0)Se-=w[(G-1)*ye+K];if(B>0)Se-=w[pe*ye+B-1];if(B>0&&G>0)Se+=w[(G-1)*ye+B-1];return Se}meanC1(w,B,G,K){const pe=(K-B+1)*(G-w+1);return this._sum(this._partialSumC1,w,B,G,K)/pe}meanC2(w,B,G,K){const pe=(K-B+1)*(G-w+1);return this._sum(this._partialSumC2,w,B,G,K)/pe}varianceC1(w,B,G,K){const pe=(K-B+1)*(G-w+1);return(this._sum(this._partialSumSq1,w,B,G,K)-this._sum(this._partialSumC1,w,B,G,K)**2/pe)/pe}varianceC2(w,B,G,K){const pe=(K-B+1)*(G-w+1);return(this._sum(this._partialSumSq2,w,B,G,K)-this._sum(this._partialSumC2,w,B,G,K)**2/pe)/pe}covariance(w,B,G,K){const pe=(K-B+1)*(G-w+1);return(this._sum(this._partialSumMult,w,B,G,K)-this._sum(this._partialSumC1,w,B,G,K)*this._sum(this._partialSumC2,w,B,G,K)/pe)/pe}}0&&0},1603:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{getLinuxDistributionInfoSync:()=>getLinuxDistributionInfoSync});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));let Me=false;let Le;function getLinuxDistributionInfoSync(){if(process.platform!=="linux")return void 0;if(!Le&&!Me){try{const w=Fe.default.readFileSync("/etc/os-release","utf8");const B=parseOSReleaseText(w);Le={id:B.get("id")??"",version:B.get("version_id")??""}}catch(w){Me=true}}return Le}function parseOSReleaseText(w){const B=new Map;for(const G of w.split("\n")){const w=G.split("=");const K=w.shift();let pe=w.join("=").trim();if(pe.startsWith('"')&&pe.endsWith('"'))pe=pe.substring(1,pe.length-1);if(!K)continue;B.set(K.toLowerCase(),pe)}return B}0&&0},864:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{NET_DEFAULT_TIMEOUT:()=>ze,createHttp2Server:()=>createHttp2Server,createHttpServer:()=>createHttpServer,createHttpsServer:()=>createHttpsServer,createProxyAgent:()=>createProxyAgent,fetchData:()=>fetchData,httpRequest:()=>httpRequest,isURLAvailable:()=>isURLAvailable});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(8611));var Me=__toESM(G(5675));var Le=__toESM(G(5692));var je=__toESM(G(7016));var qe=G(4331);var We=G(3217);var Ge=G(3587);const ze=3e4;function httpRequest(w,B,G){const K=je.default.parse(w.url);let pe={...K,agent:K.protocol==="https:"?We.httpsHappyEyeballsAgent:We.httpHappyEyeballsAgent,method:w.method||"GET",headers:w.headers};if(w.rejectUnauthorized!==void 0)pe.rejectUnauthorized=w.rejectUnauthorized;const ye=(0,qe.getProxyForUrl)(w.url);if(ye){const B=je.default.parse(ye);if(w.url.startsWith("http:")){pe={path:K.href,host:B.hostname,port:B.port,headers:pe.headers,method:pe.method}}else{B.secureProxy=B.protocol==="https:";pe.agent=new qe.HttpsProxyAgent(B);pe.rejectUnauthorized=false}}let Se;const requestCallback=K=>{const pe=K.statusCode||0;if(pe>=300&&pe<400&&K.headers.location){Be.destroy();Se=httpRequest({...w,url:new URL(K.headers.location,w.url).toString()},B,G).cancel}else{B(K)}};const Be=pe.protocol==="https:"?Le.default.request(pe,requestCallback):Fe.default.request(pe,requestCallback);Be.on("error",G);if(w.socketTimeout!==void 0){Be.setTimeout(w.socketTimeout,(()=>{G(new Error(`Request to ${w.url} timed out after ${w.socketTimeout}ms`));Be.abort()}))}Se=w=>{try{Be.destroy(w)}catch{}};Be.end(w.data);return{cancel:w=>Se(w)}}async function fetchData(w,B,G){const K=new Ge.ManualPromise;const{cancel:pe}=httpRequest(B,(async w=>{if(w.statusCode!==200){const pe=G?await G(B,w):new Error(`fetch failed: server returned code ${w.statusCode}. URL: ${B.url}`);K.reject(pe);return}let pe="";w.on("data",(w=>pe+=w));w.on("error",(w=>K.reject(w)));w.on("end",(()=>K.resolve(pe)))}),(w=>K.reject(w)));if(!w)return K;try{return await w.race(K)}catch(w){pe(w);throw w}}function shouldBypassProxy(w,B){if(!B)return false;const G=B.split(",").map((w=>{w=w.trim();if(!w.startsWith("."))w="."+w;return w}));const K="."+w.hostname;return G.some((w=>K.endsWith(w)))}function createProxyAgent(w,B){if(!w)return;if(B&&w.bypass&&shouldBypassProxy(B,w.bypass))return;let G=w.server.trim();if(!/^\w+:\/\//.test(G))G="http://"+G;const K=je.default.parse(G);if(K.protocol?.startsWith("socks")){return new qe.SocksProxyAgent({host:K.hostname,port:K.port||void 0})}if(w.username)K.auth=`${w.username}:${w.password||""}`;if(B&&["ws:","wss:"].includes(B.protocol)){return new qe.HttpsProxyAgent(K)}return new qe.HttpsProxyAgent(K)}function createHttpServer(...w){const B=Fe.default.createServer(...w);decorateServer(B);return B}function createHttpsServer(...w){const B=Le.default.createServer(...w);decorateServer(B);return B}function createHttp2Server(...w){const B=Me.default.createSecureServer(...w);decorateServer(B);return B}async function isURLAvailable(w,B,G,K){let pe=await httpStatusCode(w,B,G,K);if(pe===404&&w.pathname==="/"){const ye=new URL(w);ye.pathname="/index.html";pe=await httpStatusCode(ye,B,G,K)}return pe>=200&&pe<404}async function httpStatusCode(w,B,G,K){return new Promise((pe=>{G?.(`HTTP GET: ${w}`);httpRequest({url:w.toString(),headers:{Accept:"*/*"},rejectUnauthorized:!B},(w=>{w.resume();const B=w.statusCode??0;G?.(`HTTP Status: ${B}`);pe(B)}),(B=>{if(B.code==="DEPTH_ZERO_SELF_SIGNED_CERT")K?.(`[WebServer] Self-signed certificate detected. Try adding ignoreHTTPSErrors: true to config.webServer.`);G?.(`Error while checking if ${w} is available: ${B.message}`);pe(0)}))}))}function decorateServer(w){const B=new Set;w.on("connection",(w=>{B.add(w);w.once("close",(()=>B.delete(w)))}));const G=w.close;w.close=K=>{for(const w of B)w.destroy();B.clear();return G.call(w,K)}}0&&0},1371:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{nodePlatform:()=>ot,setBoxedStackPrefixes:()=>setBoxedStackPrefixes});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(6982));var Me=__toESM(G(9896));var Le=__toESM(G(6928));var je=__toESM(G(9023));var qe=G(2203);var We=G(4434);var Ge=G(4331);var ze=G(5809);var Ye=G(7929);var Ke=G(5749);const Xe=je.promisify(qe.pipeline);class NodeZone{constructor(w){this._zone=w}push(w){return new NodeZone(this._zone.with("apiZone",w))}pop(){return new NodeZone(this._zone.without("apiZone"))}run(w){return this._zone.run(w)}data(){return this._zone.data("apiZone")}}let rt=[];function setBoxedStackPrefixes(w){rt=w}const it=Le.default.dirname(G.ab+"package.json");const ot={name:"node",boxedStackPrefixes:()=>{if(process.env.PWDEBUGIMPL)return[];return[it,...rt]},calculateSha1:w=>{const B=Fe.default.createHash("sha1");B.update(w);return Promise.resolve(B.digest("hex"))},colors:Ge.colors,coreDir:it,createGuid:()=>Fe.default.randomBytes(16).toString("hex"),defaultMaxListeners:()=>We.EventEmitter.defaultMaxListeners,fs:()=>Me.default,env:process.env,inspectCustom:je.inspect.custom,isDebugMode:()=>(0,Ke.debugMode)()==="inspector",isJSDebuggerAttached:()=>!!G(264).url(),isLogEnabled(w){return ze.debugLogger.isEnabled(w)},isUnderTest:()=>(0,Ke.isUnderTest)(),log(w,B){ze.debugLogger.log(w,B)},path:()=>Le.default,pathSeparator:Le.default.sep,showInternalStackFrames:()=>!!process.env.PWDEBUGIMPL,async streamFile(w,B){await Xe(Me.default.createReadStream(w),B)},streamReadable:w=>new ReadableStreamImpl(w),streamWritable:w=>new WritableStreamImpl(w),zones:{current:()=>new NodeZone((0,Ye.currentZone)()),empty:new NodeZone(Ye.emptyZone)}};class ReadableStreamImpl extends qe.Readable{constructor(w){super();this._channel=w}async _read(){const w=await this._channel.read({size:1024*1024});if(w.binary.byteLength)this.push(w.binary);else this.push(null)}_destroy(w,B){this._channel.close().catch((w=>null));super._destroy(w,B)}}class WritableStreamImpl extends qe.Writable{constructor(w){super();this._channel=w}async _write(w,B,G){const K=await this._channel.write({binary:typeof w==="string"?Buffer.from(w):w}).catch((w=>w));G(K||null)}async _final(w){const B=await this._channel.close().catch((w=>w));w(B||null)}}0&&0},9059:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{PipeTransport:()=>PipeTransport});w.exports=__toCommonJS(Be);var Qe=G(509);class PipeTransport{constructor(w,B,G,K="le"){this._data=Buffer.from([]);this._waitForNextTask=(0,Qe.makeWaitForNextTask)();this._closed=false;this._bytesLeft=0;this._pipeWrite=w;this._endian=K;this._closeableStream=G;B.on("data",(w=>this._dispatch(w)));B.on("close",(()=>{this._closed=true;if(this.onclose)this.onclose()}));this.onmessage=void 0;this.onclose=void 0}send(w){if(this._closed)throw new Error("Pipe has been closed");const B=Buffer.from(w,"utf-8");const G=Buffer.alloc(4);if(this._endian==="be")G.writeUInt32BE(B.length,0);else G.writeUInt32LE(B.length,0);this._pipeWrite.write(G);this._pipeWrite.write(B)}close(){this._closeableStream.close()}_dispatch(w){this._data=Buffer.concat([this._data,w]);while(true){if(!this._bytesLeft&&this._data.length<4){break}if(!this._bytesLeft){this._bytesLeft=this._endian==="be"?this._data.readUInt32BE(0):this._data.readUInt32LE(0);this._data=this._data.slice(4)}if(!this._bytesLeft||this._data.length<this._bytesLeft){break}const w=this._data.slice(0,this._bytesLeft);this._data=this._data.slice(this._bytesLeft);this._bytesLeft=0;this._waitForNextTask((()=>{if(this.onmessage)this.onmessage(w.toString("utf-8"))}))}}}0&&0},8719:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{envArrayToObject:()=>envArrayToObject,gracefullyCloseAll:()=>gracefullyCloseAll,gracefullyCloseSet:()=>We,gracefullyProcessExitDoNotHang:()=>gracefullyProcessExitDoNotHang,launchProcess:()=>launchProcess});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(7698));var Me=__toESM(G(9896));var Le=__toESM(G(3785));var je=G(3449);var qe=G(7651);const We=new Set;const Ge=new Set;async function gracefullyCloseAll(){await Promise.all(Array.from(We).map((w=>w().catch((w=>{})))))}function gracefullyProcessExitDoNotHang(w){setTimeout((()=>process.exit(w)),3e4);gracefullyCloseAll().then((()=>{process.exit(w)}))}function exitHandler(){for(const w of Ge)w()}let ze=false;function sigintHandler(){const exitWithCode130=()=>{if((0,qe.isUnderTest)()){setTimeout((()=>process.exit(130)),1e3)}else{process.exit(130)}};if(ze){process.off("SIGINT",sigintHandler);for(const w of Ge)w();exitWithCode130()}else{ze=true;gracefullyCloseAll().then((()=>exitWithCode130()))}}function sigtermHandler(){gracefullyCloseAll()}function sighupHandler(){gracefullyCloseAll()}const Ye=new Set;const Ke={exit:exitHandler,SIGINT:sigintHandler,SIGTERM:sigtermHandler,SIGHUP:sighupHandler};function addProcessHandlerIfNeeded(w){if(!Ye.has(w)){Ye.add(w);process.on(w,Ke[w])}}function removeProcessHandlersIfNeeded(){if(Ge.size)return;for(const w of Ye)process.off(w,Ke[w]);Ye.clear()}async function launchProcess(w){const B=w.stdio==="pipe"?["ignore","pipe","pipe","pipe","pipe"]:["pipe","pipe","pipe"];w.log(`<launching> ${w.command} ${w.args?w.args.join(" "):""}`);const G={detached:process.platform!=="win32",env:w.env,cwd:w.cwd,shell:w.shell,stdio:B};const K=Fe.spawn(w.command,w.args||[],G);const cleanup=async()=>{w.log(`[pid=${K.pid||"N/A"}] starting temporary directories cleanup`);const B=await(0,je.removeFolders)(w.tempDirectories);for(let G=0;G<w.tempDirectories.length;++G){if(B[G])w.log(`[pid=${K.pid||"N/A"}] exception while removing ${w.tempDirectories[G]}: ${B[G]}`)}w.log(`[pid=${K.pid||"N/A"}] finished temporary directories cleanup`)};K.on("error",(()=>{}));if(!K.pid){let w;const B=new Promise(((B,G)=>w=B));K.once("error",(B=>{w(new Error("Failed to launch: "+B))}));return B.then((async w=>{await cleanup();throw w}))}w.log(`<launched> pid=${K.pid}`);const pe=Le.createInterface({input:K.stdout});pe.on("line",(B=>{w.log(`[pid=${K.pid}][out] `+B)}));const ye=Le.createInterface({input:K.stderr});ye.on("line",(B=>{w.log(`[pid=${K.pid}][err] `+B)}));let Se=false;let fulfillCleanup=()=>{};const Be=new Promise((w=>fulfillCleanup=w));K.once("close",((B,G)=>{w.log(`[pid=${K.pid}] <process did exit: exitCode=${B}, signal=${G}>`);Se=true;We.delete(gracefullyClose);Ge.delete(killProcessAndCleanup);removeProcessHandlersIfNeeded();w.onExit(B,G);cleanup().then(fulfillCleanup)}));addProcessHandlerIfNeeded("exit");if(w.handleSIGINT)addProcessHandlerIfNeeded("SIGINT");if(w.handleSIGTERM)addProcessHandlerIfNeeded("SIGTERM");if(w.handleSIGHUP)addProcessHandlerIfNeeded("SIGHUP");We.add(gracefullyClose);Ge.add(killProcessAndCleanup);let Qe=false;async function gracefullyClose(){if(Qe){w.log(`[pid=${K.pid}] <forcefully close>`);killProcess();await Be;return}Qe=true;w.log(`[pid=${K.pid}] <gracefully close start>`);await w.attemptToGracefullyClose().catch((()=>killProcess()));await Be;w.log(`[pid=${K.pid}] <gracefully close end>`)}function killProcess(){We.delete(gracefullyClose);Ge.delete(killProcessAndCleanup);removeProcessHandlersIfNeeded();w.log(`[pid=${K.pid}] <kill>`);if(K.pid&&!K.killed&&!Se){w.log(`[pid=${K.pid}] <will force kill>`);try{if(process.platform==="win32"){const B=Fe.spawnSync(`taskkill /pid ${K.pid} /T /F`,{shell:true});const[G,pe]=[B.stdout.toString(),B.stderr.toString()];if(G)w.log(`[pid=${K.pid}] taskkill stdout: ${G}`);if(pe)w.log(`[pid=${K.pid}] taskkill stderr: ${pe}`)}else{process.kill(-K.pid,"SIGKILL")}}catch(B){w.log(`[pid=${K.pid}] exception while trying to kill process: ${B}`)}}else{w.log(`[pid=${K.pid}] <skipped force kill spawnedProcess.killed=${K.killed} processClosed=${Se}>`)}}function killProcessAndCleanup(){killProcess();w.log(`[pid=${K.pid||"N/A"}] starting temporary directories cleanup`);for(const B of w.tempDirectories){try{Me.default.rmSync(B,{force:true,recursive:true,maxRetries:5})}catch(G){w.log(`[pid=${K.pid||"N/A"}] exception while removing ${B}: ${G}`)}}w.log(`[pid=${K.pid||"N/A"}] finished temporary directories cleanup`)}function killAndWait(){killProcess();return Be}return{launchedProcess:K,gracefullyClose:gracefullyClose,kill:killAndWait}}function envArrayToObject(w){const B={};for(const{name:G,value:K}of w)B[G]=K;return B}0&&0},4397:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{startProfiling:()=>startProfiling,stopProfiling:()=>stopProfiling});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(9896));var Me=__toESM(G(6928));const Le=process.env.PWTEST_PROFILE_DIR||"";let je;async function startProfiling(){if(!Le)return;je=new(G(264).Session);je.connect();await new Promise((w=>{je.post("Profiler.enable",(()=>{je.post("Profiler.start",w)}))}))}async function stopProfiling(w){if(!Le)return;await new Promise((B=>je.post("Profiler.stop",((G,{profile:K})=>{if(!G){Fe.default.mkdirSync(Le,{recursive:true});Fe.default.writeFileSync(Me.default.join(Le,w+".json"),JSON.stringify(K))}B()}))))}0&&0},863:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{SocksProxy:()=>SocksProxy,SocksProxyHandler:()=>SocksProxyHandler,parsePattern:()=>parsePattern});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(4434));var Me=__toESM(G(9278));var Le=G(8164);var je=G(6741);var qe=G(5809);var We=G(3217);var Ge=(w=>{w[w["NO_AUTHENTICATION_REQUIRED"]=0]="NO_AUTHENTICATION_REQUIRED";w[w["GSSAPI"]=1]="GSSAPI";w[w["USERNAME_PASSWORD"]=2]="USERNAME_PASSWORD";w[w["NO_ACCEPTABLE_METHODS"]=255]="NO_ACCEPTABLE_METHODS";return w})(Ge||{});var ze=(w=>{w[w["IPv4"]=1]="IPv4";w[w["FqName"]=3]="FqName";w[w["IPv6"]=4]="IPv6";return w})(ze||{});var Ye=(w=>{w[w["CONNECT"]=1]="CONNECT";w[w["BIND"]=2]="BIND";w[w["UDP_ASSOCIATE"]=3]="UDP_ASSOCIATE";return w})(Ye||{});var Ke=(w=>{w[w["Succeeded"]=0]="Succeeded";w[w["GeneralServerFailure"]=1]="GeneralServerFailure";w[w["NotAllowedByRuleSet"]=2]="NotAllowedByRuleSet";w[w["NetworkUnreachable"]=3]="NetworkUnreachable";w[w["HostUnreachable"]=4]="HostUnreachable";w[w["ConnectionRefused"]=5]="ConnectionRefused";w[w["TtlExpired"]=6]="TtlExpired";w[w["CommandNotSupported"]=7]="CommandNotSupported";w[w["AddressTypeNotSupported"]=8]="AddressTypeNotSupported";return w})(Ke||{});class SocksConnection{constructor(w,B,G){this._buffer=Buffer.from([]);this._offset=0;this._fence=0;this._uid=w;this._socket=B;this._client=G;this._boundOnData=this._onData.bind(this);B.on("data",this._boundOnData);B.on("close",(()=>this._onClose()));B.on("end",(()=>this._onClose()));B.on("error",(()=>this._onClose()));this._run().catch((()=>this._socket.end()))}async _run(){(0,Le.assert)(await this._authenticate());const{command:w,host:B,port:G}=await this._parseRequest();if(w!==1){this._writeBytes(Buffer.from([5,7,0,1,0,0,0,0,0,0]));return}this._socket.off("data",this._boundOnData);this._client.onSocketRequested({uid:this._uid,host:B,port:G})}async _authenticate(){const w=await this._readByte();(0,Le.assert)(w===5,"The VER field must be set to x05 for this version of the protocol, was "+w);const B=await this._readByte();(0,Le.assert)(B,"No authentication methods specified");const G=await this._readBytes(B);for(const B of G){if(B===0){this._writeBytes(Buffer.from([w,B]));return true}}this._writeBytes(Buffer.from([w,255]));return false}async _parseRequest(){const w=await this._readByte();(0,Le.assert)(w===5,"The VER field must be set to x05 for this version of the protocol, was "+w);const B=await this._readByte();await this._readByte();const G=await this._readByte();let K="";switch(G){case 1:K=(await this._readBytes(4)).join(".");break;case 3:const w=await this._readByte();K=(await this._readBytes(w)).toString();break;case 4:const B=await this._readBytes(16);const G=[];for(let w=0;w<8;++w)G.push(B.readUInt16BE(w*2).toString(16));K=G.join(":");break}const pe=(await this._readBytes(2)).readUInt16BE(0);this._buffer=Buffer.from([]);this._offset=0;this._fence=0;return{command:B,host:K,port:pe}}async _readByte(){const w=await this._readBytes(1);return w[0]}async _readBytes(w){this._fence=this._offset+w;if(!this._buffer||this._buffer.length<this._fence)await new Promise((w=>this._fenceCallback=w));this._offset+=w;return this._buffer.slice(this._offset-w,this._offset)}_writeBytes(w){if(this._socket.writable)this._socket.write(w)}_onClose(){this._client.onSocketClosed({uid:this._uid})}_onData(w){this._buffer=Buffer.concat([this._buffer,w]);if(this._fenceCallback&&this._buffer.length>=this._fence){const w=this._fenceCallback;this._fenceCallback=void 0;w()}}socketConnected(w,B){this._writeBytes(Buffer.from([5,0,0,...ipToSocksAddress(w),B>>8,B&255]));this._socket.on("data",(w=>this._client.onSocketData({uid:this._uid,data:w})))}socketFailed(w){const B=Buffer.from([5,0,0,...ipToSocksAddress("0.0.0.0"),0,0]);switch(w){case"ENOENT":case"ENOTFOUND":case"ETIMEDOUT":case"EHOSTUNREACH":B[1]=4;break;case"ENETUNREACH":B[1]=3;break;case"ECONNREFUSED":B[1]=5;break;case"ERULESET":B[1]=2;break}this._writeBytes(B);this._socket.end()}sendData(w){this._socket.write(w)}end(){this._socket.end()}error(w){this._socket.destroy(new Error(w))}}function hexToNumber(w){return[...w].reduce(((B,G)=>{const K=G.charCodeAt(0);if(K>=48&&K<=57)return B+K;if(K>=97&&K<=102)return B+(K-97)+10;if(K>=65&&K<=70)return B+(K-65)+10;throw new Error("Invalid IPv6 token "+w)}),0)}function ipToSocksAddress(w){if(Me.default.isIPv4(w)){return[1,...w.split(".",4).map((w=>+w&255))]}if(Me.default.isIPv6(w)){const B=[4];const G=w.split(":",8);while(G.length<8)G.unshift("");for(const w of G){const G=hexToNumber(w);B.push(G>>8&255,G&255)}return B}throw new Error("Only IPv4 and IPv6 addresses are supported")}function starMatchToRegex(w){const B=w.split("*").map((w=>w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))).join(".*");return new RegExp("^"+B+"$")}function parsePattern(w){if(!w)return()=>false;const B=w.split(",").map((B=>{const G=B.match(/^(.*?)(?::(\d+))?$/);if(!G)throw new Error(`Unsupported token "${B}" in pattern "${w}"`);const K=G[2]?+G[2]:void 0;const portMatches=w=>K===void 0||K===w;let pe=G[1];if(pe==="<loopback>"){return(w,B)=>{if(!portMatches(B))return false;return w==="localhost"||w.endsWith(".localhost")||w==="127.0.0.1"||w==="[::1]"}}if(pe==="*")return(w,B)=>portMatches(B);if(Me.default.isIPv4(pe)||Me.default.isIPv6(pe))return(w,B)=>w===pe&&portMatches(B);if(pe[0]===".")pe="*"+pe;const ye=starMatchToRegex(pe);return(w,B)=>{if(!portMatches(B))return false;if(Me.default.isIPv4(w)||Me.default.isIPv6(w))return false;return!!w.match(ye)}}));return(w,G)=>B.some((B=>B(w,G)))}class SocksProxy extends Fe.default{constructor(){super();this._connections=new Map;this._sockets=new Set;this._closed=false;this._patternMatcher=()=>false;this._directSockets=new Map;this._server=new Me.default.Server((w=>{const B=(0,je.createGuid)();const G=new SocksConnection(B,w,this);this._connections.set(B,G)}));this._server.on("connection",(w=>{if(this._closed){w.destroy();return}this._sockets.add(w);w.once("close",(()=>this._sockets.delete(w)))}))}static{this.Events={SocksRequested:"socksRequested",SocksData:"socksData",SocksClosed:"socksClosed"}}setPattern(w){try{this._patternMatcher=parsePattern(w)}catch(w){this._patternMatcher=()=>false}}async _handleDirect(w){try{const B=await(0,We.createSocket)(w.host,w.port);B.on("data",(B=>this._connections.get(w.uid)?.sendData(B)));B.on("error",(B=>{this._connections.get(w.uid)?.error(B.message);this._directSockets.delete(w.uid)}));B.on("end",(()=>{this._connections.get(w.uid)?.end();this._directSockets.delete(w.uid)}));const G=B.localAddress;const K=B.localPort;this._directSockets.set(w.uid,B);this._connections.get(w.uid)?.socketConnected(G,K)}catch(B){this._connections.get(w.uid)?.socketFailed(B.code)}}port(){return this._port}async listen(w,B){return new Promise((G=>{this._server.listen(w,B,(()=>{const w=this._server.address().port;this._port=w;G(w)}))}))}async close(){if(this._closed)return;this._closed=true;for(const w of this._sockets)w.destroy();this._sockets.clear();await new Promise((w=>this._server.close(w)))}onSocketRequested(w){if(!this._patternMatcher(w.host,w.port)){this._handleDirect(w);return}this.emit(SocksProxy.Events.SocksRequested,w)}onSocketData(w){const B=this._directSockets.get(w.uid);if(B){B.write(w.data);return}this.emit(SocksProxy.Events.SocksData,w)}onSocketClosed(w){const B=this._directSockets.get(w.uid);if(B){B.destroy();this._directSockets.delete(w.uid);return}this.emit(SocksProxy.Events.SocksClosed,w)}socketConnected({uid:w,host:B,port:G}){this._connections.get(w)?.socketConnected(B,G)}socketFailed({uid:w,errorCode:B}){this._connections.get(w)?.socketFailed(B)}sendSocketData({uid:w,data:B}){this._connections.get(w)?.sendData(B)}sendSocketEnd({uid:w}){this._connections.get(w)?.end()}sendSocketError({uid:w,error:B}){this._connections.get(w)?.error(B)}}class SocksProxyHandler extends Fe.default{constructor(w,B){super();this._sockets=new Map;this._patternMatcher=()=>false;this._patternMatcher=parsePattern(w);this._redirectPortForTest=B}static{this.Events={SocksConnected:"socksConnected",SocksData:"socksData",SocksError:"socksError",SocksFailed:"socksFailed",SocksEnd:"socksEnd"}}cleanup(){for(const w of this._sockets.keys())this.socketClosed({uid:w})}async socketRequested({uid:w,host:B,port:G}){qe.debugLogger.log("socks",`[${w}] => request ${B}:${G}`);if(!this._patternMatcher(B,G)){const B={uid:w,errorCode:"ERULESET"};qe.debugLogger.log("socks",`[${w}] <= pattern error ${B.errorCode}`);this.emit(SocksProxyHandler.Events.SocksFailed,B);return}if(B==="local.playwright")B="localhost";try{if(this._redirectPortForTest)G=this._redirectPortForTest;const K=await(0,We.createSocket)(B,G);K.on("data",(B=>{const G={uid:w,data:B};this.emit(SocksProxyHandler.Events.SocksData,G)}));K.on("error",(B=>{const G={uid:w,error:B.message};qe.debugLogger.log("socks",`[${w}] <= network socket error ${G.error}`);this.emit(SocksProxyHandler.Events.SocksError,G);this._sockets.delete(w)}));K.on("end",(()=>{const B={uid:w};qe.debugLogger.log("socks",`[${w}] <= network socket closed`);this.emit(SocksProxyHandler.Events.SocksEnd,B);this._sockets.delete(w)}));const pe=K.localAddress;const ye=K.localPort;this._sockets.set(w,K);const Se={uid:w,host:pe,port:ye};qe.debugLogger.log("socks",`[${w}] <= connected to network ${Se.host}:${Se.port}`);this.emit(SocksProxyHandler.Events.SocksConnected,Se)}catch(B){const G={uid:w,errorCode:B.code};qe.debugLogger.log("socks",`[${w}] <= connect error ${G.errorCode}`);this.emit(SocksProxyHandler.Events.SocksFailed,G)}}sendSocketData({uid:w,data:B}){this._sockets.get(w)?.write(B)}socketClosed({uid:w}){qe.debugLogger.log("socks",`[${w}] <= browser socket closed`);this._sockets.get(w)?.destroy();this._sockets.delete(w)}}0&&0},4357:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{spawnAsync:()=>spawnAsync});w.exports=__toCommonJS(Be);var Qe=G(7698);function spawnAsync(w,B,G={}){const K=(0,Qe.spawn)(w,B,Object.assign({windowsHide:true},G));return new Promise((w=>{let B="";let G="";if(K.stdout)K.stdout.on("data",(w=>B+=w.toString()));if(K.stderr)K.stderr.on("data",(w=>G+=w.toString()));K.on("close",(K=>w({stdout:B,stderr:G,code:K})));K.on("error",(K=>w({stdout:B,stderr:G,code:0,error:K})))}))}0&&0},509:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{makeWaitForNextTask:()=>makeWaitForNextTask});w.exports=__toCommonJS(ye);function makeWaitForNextTask(){if(process.versions.electron)return w=>setTimeout(w,0);if(parseInt(process.versions.node,10)>=11)return setImmediate;let w=false;const B=[];const loop=()=>{const G=B.shift();if(!G){w=false;return}setImmediate(loop);G()};return G=>{B.push(G);if(!w){w=true;setImmediate(loop)}}}0&&0},818:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{getEmbedderName:()=>getEmbedderName,getPlaywrightVersion:()=>getPlaywrightVersion,getUserAgent:()=>getUserAgent});w.exports=__toCommonJS(Pe);var Fe=G(7698);var Me=__toESM(G(857));var Le=G(1603);let je;function getUserAgent(){if(je)return je;try{je=determineUserAgent()}catch(w){je="Playwright/unknown"}return je}function determineUserAgent(){let w="unknown";let B="unknown";if(process.platform==="win32"){const G=Me.default.release().split(".");w="windows";B=`${G[0]}.${G[1]}`}else if(process.platform==="darwin"){const G=(0,Fe.execSync)("sw_vers -productVersion",{stdio:["ignore","pipe","ignore"]}).toString().trim().split(".");w="macOS";B=`${G[0]}.${G[1]}`}else if(process.platform==="linux"){const G=(0,Le.getLinuxDistributionInfoSync)();if(G){w=G.id||"linux";B=G.version||"unknown"}else{w="linux"}}const G=[];if(process.env.CI)G.push("CI/1");const K=G.length?" "+G.join(" "):"";const{embedderName:pe,embedderVersion:ye}=getEmbedderName();return`Playwright/${getPlaywrightVersion()} (${Me.default.arch()}; ${w} ${B}) ${pe}/${ye}${K}`}function getEmbedderName(){let w="unknown";let B="unknown";if(!process.env.PW_LANG_NAME){w="node";B=process.version.substring(1).split(".").slice(0,2).join(".")}else if(["node","python","java","csharp"].includes(process.env.PW_LANG_NAME)){w=process.env.PW_LANG_NAME;B=process.env.PW_LANG_NAME_VERSION??"unknown"}return{embedderName:w,embedderVersion:B}}function getPlaywrightVersion(w=false){const B=process.env.PW_VERSION_OVERRIDE||G(3675).rE;return w?B.split(".").slice(0,2).join("."):B}0&&0},285:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{WSServer:()=>WSServer,perMessageDeflate:()=>je});w.exports=__toCommonJS(Be);var Qe=G(864);var Pe=G(4331);var Fe=G(5809);let Me=0;const Le=Symbol("kConnection");const je={serverNoContextTakeover:true,zlibDeflateOptions:{level:3},zlibInflateOptions:{chunkSize:10*1024},threshold:10*1024};class WSServer{constructor(w){this._delegate=w}async listen(w=0,B,G){Fe.debugLogger.log("server",`Server started at ${new Date}`);const K=(0,Qe.createHttpServer)(this._delegate.onRequest);K.on("error",(w=>Fe.debugLogger.log("server",String(w))));this.server=K;const pe=await new Promise(((pe,ye)=>{K.listen(w,B,(()=>{const w=K.address();if(!w){ye(new Error("Could not bind server socket"));return}const Se=typeof w==="string"?`${w}${G}`:`ws://${B||"localhost"}:${w.port}${G}`;pe(Se)})).on("error",ye)}));Fe.debugLogger.log("server","Listening at "+pe);this._wsServer=new Pe.wsServer({noServer:true,perMessageDeflate:je});this._wsServer.on("headers",(w=>this._delegate.onHeaders(w)));K.on("upgrade",((w,B,K)=>{const pe=new URL("http://localhost"+w.url).pathname;if(pe!==G){B.write(`HTTP/${w.httpVersion} 400 Bad Request\r\n\r\n`);B.destroy();return}const ye=this._delegate.onUpgrade(w,B);if(ye){B.write(ye.error);B.destroy();return}this._wsServer.handleUpgrade(w,B,K,(B=>this._wsServer.emit("connection",B,w)))}));this._wsServer.on("connection",((w,B)=>{Fe.debugLogger.log("server","Connected client ws.extension="+w.extensions);const G=new URL("http://localhost"+(B.url||""));const K=String(++Me);Fe.debugLogger.log("server",`[${K}] serving connection: ${B.url}`);const pe=this._delegate.onConnection(B,G,w,K);w[Le]=pe}));return pe}async close(){const w=this._wsServer;if(!w)return;Fe.debugLogger.log("server","closing websocket server");const B=new Promise((B=>w.close(B)));await Promise.all(Array.from(w.clients).map((async w=>{const B=w[Le];if(B)await B.close();try{w.terminate()}catch(w){}})));await B;Fe.debugLogger.log("server","closing http server");if(this.server)await new Promise((w=>this.server.close(w)));this._wsServer=void 0;this.server=void 0;Fe.debugLogger.log("server","closed server")}}0&&0},1723:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{ZipFile:()=>ZipFile});w.exports=__toCommonJS(Be);var Qe=G(173);class ZipFile{constructor(w){this._entries=new Map;this._fileName=w;this._openedPromise=this._open()}async _open(){await new Promise(((w,B)=>{Qe.yauzl.open(this._fileName,{autoClose:false},((G,K)=>{if(G){B(G);return}this._zipFile=K;this._zipFile.on("entry",(w=>{this._entries.set(w.fileName,w)}));this._zipFile.on("end",w)}))}))}async entries(){await this._openedPromise;return[...this._entries.keys()]}async read(w){await this._openedPromise;const B=this._entries.get(w);if(!B)throw new Error(`${w} not found in file ${this._fileName}`);return new Promise(((w,G)=>{this._zipFile.openReadStream(B,((B,K)=>{if(B||!K){G(B||"Entry not found");return}const pe=[];K.on("data",(w=>pe.push(w)));K.on("end",(()=>w(Buffer.concat(pe))))}))}))}close(){this._zipFile?.close()}}0&&0},7929:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Zone:()=>Zone,currentZone:()=>currentZone,emptyZone:()=>Fe});w.exports=__toCommonJS(Be);var Qe=G(290);const Pe=new Qe.AsyncLocalStorage;class Zone{constructor(w,B){this._asyncLocalStorage=w;this._data=B}with(w,B){return new Zone(this._asyncLocalStorage,new Map(this._data).set(w,B))}without(w){const B=w?new Map(this._data):new Map;B.delete(w);return new Zone(this._asyncLocalStorage,B)}run(w){return this._asyncLocalStorage.run(this,w)}data(w){return this._data.get(w)}}const Fe=new Zone(Pe,new Map);function currentZone(){return Pe.getStore()??Fe}0&&0},3569:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{WebKit:()=>WebKit,translatePathToWSL:()=>translatePathToWSL});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(6928));var Me=G(717);var Le=G(3701);var je=G(7684);var qe=G(8061);var We=G(4357);var Ge=G(586);class WebKit extends je.BrowserType{constructor(w){super(w,"webkit")}connectToTransport(w,B){return qe.WKBrowser.connect(this.attribution.playwright,w,B)}amendEnvironment(w,B,G,K){return{...w,CURL_COOKIE_JAR_PATH:process.platform==="win32"&&G?Fe.default.join(B,"cookiejar.db"):void 0,WEBKIT_EXECUTABLE:K.channel==="webkit-wsl"?Ge.registry.findExecutable("webkit-wsl").wslExecutablePath:void 0}}doRewriteStartupLog(w){if(!w.logs)return w;if(w.logs.includes("Failed to open display")||w.logs.includes("cannot open display"))w.logs="\n"+(0,Le.wrapInASCIIBox)(je.kNoXServerRunningError,1);return w}attemptToGracefullyCloseBrowser(w){w.send({method:"Playwright.close",params:{},id:Me.kBrowserCloseMessageId})}async defaultArgs(w,B,G){const{args:K=[],headless:pe}=w;const ye=K.find((w=>w.startsWith("--user-data-dir")));if(ye)throw this._createUserDataDirArgMisuseError("--user-data-dir");if(K.find((w=>!w.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const Se=["--inspector-pipe"];if(w.channel==="webkit-wsl"){if(w.executablePath)throw new Error('Cannot specify executablePath when using the "webkit-wsl" channel.');Se.unshift(Fe.default.join(__dirname,"wsl/webkit-wsl-transport-server.js"))}if(process.platform==="win32"&&w.channel!=="webkit-wsl")Se.push("--disable-accelerated-compositing");if(pe)Se.push("--headless");if(B)Se.push(`--user-data-dir=${w.channel==="webkit-wsl"?await translatePathToWSL(G):G}`);else Se.push(`--no-startup-window`);const Be=w.proxyOverride||w.proxy;if(Be){if(process.platform==="darwin"){Se.push(`--proxy=${Be.server}`);if(Be.bypass)Se.push(`--proxy-bypass-list=${Be.bypass}`)}else if(process.platform==="linux"||process.platform==="win32"&&w.channel==="webkit-wsl"){Se.push(`--proxy=${Be.server}`);if(Be.bypass)Se.push(...Be.bypass.split(",").map((w=>`--ignore-host=${w}`)))}else if(process.platform==="win32"){Se.push(`--curl-proxy=${Be.server.replace(/^socks5:\/\//,"socks5h://")}`);if(Be.bypass)Se.push(`--curl-noproxy=${Be.bypass}`)}}Se.push(...K);if(B)Se.push("about:blank");return Se}}async function translatePathToWSL(w){const{stdout:B}=await(0,We.spawnAsync)("wsl.exe",["-d","playwright","--cd","/home/pwuser","wslpath",w.replace(/\\/g,"\\\\")]);return B.toString().trim()}0&&0},6953:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{getAccessibilityTree:()=>getAccessibilityTree});w.exports=__toCommonJS(ye);async function getAccessibilityTree(w,B){const G=B?B._objectId:void 0;const{axNode:K}=await w.send("Page.accessibilitySnapshot",{objectId:G});const pe=new WKAXNode(K);return{tree:pe,needle:B?pe._findNeedle():null}}const Se=new Map(Object.entries({TextField:"textbox"}));const Be=new Map(Object.entries({WebArea:"HTML content",Summary:"summary",DescriptionList:"description list",ImageMap:"image map",ListMarker:"list marker",Video:"video playback",Mark:"highlighted",contentinfo:"content information",Details:"details",DescriptionListDetail:"description",DescriptionListTerm:"term",alertdialog:"web alert dialog",dialog:"web dialog",status:"application status",tabpanel:"tab panel",application:"web application"}));class WKAXNode{constructor(w){this._payload=w;this._children=[];for(const w of this._payload.children||[])this._children.push(new WKAXNode(w))}children(){return this._children}_findNeedle(){if(this._payload.found)return this;for(const w of this._children){const B=w._findNeedle();if(B)return B}return null}isControl(){switch(this._payload.role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"TextField":case"tree":return true;default:return false}}_isTextControl(){switch(this._payload.role){case"combobox":case"searchfield":case"textbox":case"TextField":return true}return false}_name(){if(this._payload.role==="text")return this._payload.value||"";return this._payload.name||""}isInteresting(w){const{role:B,focusable:G}=this._payload;const K=this._name();if(B==="ScrollArea")return false;if(B==="WebArea")return true;if(G||B==="MenuListOption")return true;if(this.isControl())return true;if(w)return false;return this.isLeafNode()&&!!K}_hasRedundantTextChild(){if(this._children.length!==1)return false;const w=this._children[0];return w._payload.role==="text"&&this._payload.name===w._payload.value}isLeafNode(){if(!this._children.length)return true;if(this._isTextControl())return true;if(this._hasRedundantTextChild())return true;return false}serialize(){const w={role:Se.get(this._payload.role)||this._payload.role,name:this._name()};if("description"in this._payload&&this._payload.description!==w.name)w.description=this._payload.description;if("roledescription"in this._payload){const B=this._payload.roledescription;if(B!==this._payload.role&&Be.get(this._payload.role)!==B)w.roledescription=B}if("value"in this._payload&&this._payload.role!=="text"){if(typeof this._payload.value==="string")w.valueString=this._payload.value;else if(typeof this._payload.value==="number")w.valueNumber=this._payload.value}if("checked"in this._payload)w.checked=this._payload.checked==="true"?"checked":this._payload.checked==="false"?"unchecked":"mixed";if("pressed"in this._payload)w.pressed=this._payload.pressed==="true"?"pressed":this._payload.pressed==="false"?"released":"mixed";const B=["keyshortcuts","valuetext"];for(const G of B){if(!(G in this._payload))continue;w[G]=this._payload[G]}const G=["disabled","expanded","focused","modal","multiselectable","readonly","required","selected"];for(const B of G){if(B==="focused"&&(this._payload.role==="WebArea"||this._payload.role==="ScrollArea"))continue;const G=this._payload[B];if(!G)continue;w[B]=G}const K=["level","valuemax","valuemin"];for(const B of K){if(!(B in this._payload))continue;w[B]=this._payload[B]}const pe=["autocomplete","haspopup","invalid"];for(const B of pe){const G=this._payload[B];if(!G||G==="false")continue;w[B]=G}const ye=new Set(["ScrollArea","scrollbar","listbox","combobox","menu","tree","separator","slider","tablist","toolbar"]);if(this._payload.orientation&&ye.has(this._payload.role))w.orientation=this._payload.orientation;return w}}0&&0},8061:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{WKBrowser:()=>WKBrowser,WKBrowserContext:()=>WKBrowserContext});w.exports=__toCommonJS(Pe);var Fe=G(7651);var Me=G(9612);var Le=G(6609);var je=__toESM(G(6182));var qe=G(717);var We=G(5214);var Ge=G(1009);var ze=G(3569);const Ye="26.0";const Ke=`Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/${Ye} Safari/605.1.15`;class WKBrowser extends Me.Browser{constructor(w,B,G){super(w,G);this._contexts=new Map;this._wkPages=new Map;this._connection=new qe.WKConnection(B,this._onDisconnect.bind(this),G.protocolLogger,G.browserLogsCollector);this._browserSession=this._connection.browserSession;this._browserSession.on("Playwright.pageProxyCreated",this._onPageProxyCreated.bind(this));this._browserSession.on("Playwright.pageProxyDestroyed",this._onPageProxyDestroyed.bind(this));this._browserSession.on("Playwright.provisionalLoadFailed",(w=>this._onProvisionalLoadFailed(w)));this._browserSession.on("Playwright.windowOpen",(w=>this._onWindowOpen(w)));this._browserSession.on("Playwright.downloadCreated",this._onDownloadCreated.bind(this));this._browserSession.on("Playwright.downloadFilenameSuggested",this._onDownloadFilenameSuggested.bind(this));this._browserSession.on("Playwright.downloadFinished",this._onDownloadFinished.bind(this));this._browserSession.on("Playwright.screencastFinished",this._onScreencastFinished.bind(this));this._browserSession.on(qe.kPageProxyMessageReceived,this._onPageProxyMessageReceived.bind(this))}static async connect(w,B,G){const K=new WKBrowser(w,B,G);if(G.__testHookOnConnectToBrowser)await G.__testHookOnConnectToBrowser();const pe=[K._browserSession.send("Playwright.enable")];if(G.persistent){G.persistent.userAgent||=Ke;K._defaultContext=new WKBrowserContext(K,void 0,G.persistent);pe.push(K._defaultContext._initialize())}await Promise.all(pe);return K}_onDisconnect(){for(const w of this._wkPages.values())w.didClose();this._wkPages.clear();for(const w of this._idToVideo.values())w.artifact.reportFinished(new Ge.TargetClosedError);this._idToVideo.clear();this._didClose()}async doCreateNewContext(w){const B=w.proxyOverride||w.proxy;const G=B?{proxyServer:process.platform==="win32"&&this.attribution.browser?.options.channel!=="webkit-wsl"?B.server.replace(/^socks5:\/\//,"socks5h://"):B.server,proxyBypassList:B.bypass}:void 0;const{browserContextId:K}=await this._browserSession.send("Playwright.createContext",G);w.userAgent=w.userAgent||Ke;const pe=new WKBrowserContext(this,K,w);await pe._initialize();this._contexts.set(K,pe);return pe}contexts(){return Array.from(this._contexts.values())}version(){return Ye}userAgent(){return Ke}_onDownloadCreated(w){const B=this._wkPages.get(w.pageProxyId);if(!B)return;let G=w.frameId;if(!B._page.frameManager.frame(G))G=B._page.mainFrame()._id;B._page.frameManager.frameAbortedNavigation(G,"Download is starting");let K=B._page.initializedOrUndefined();if(!K){B._firstNonInitialNavigationCommittedReject(new Error("Starting new page download"));if(B._opener)K=B._opener._page.initializedOrUndefined()}if(!K)return;this._downloadCreated(K,w.uuid,w.url)}_onDownloadFilenameSuggested(w){this._downloadFilenameSuggested(w.uuid,w.suggestedFilename)}_onDownloadFinished(w){this._downloadFinished(w.uuid,w.error)}_onScreencastFinished(w){this._takeVideo(w.screencastId)?.reportFinished()}_onPageProxyCreated(w){const B=w.pageProxyId;let G=null;if(w.browserContextId){G=this._contexts.get(w.browserContextId)||null}if(!G)G=this._defaultContext;if(!G)return;const K=new qe.WKSession(this._connection,B,(w=>{this._connection.rawSend({...w,pageProxyId:B})}));const pe=w.openerId?this._wkPages.get(w.openerId):void 0;const ye=new We.WKPage(G,K,pe||null);this._wkPages.set(B,ye)}_onPageProxyDestroyed(w){const B=w.pageProxyId;const G=this._wkPages.get(B);if(!G)return;this._wkPages.delete(B);G.didClose()}_onPageProxyMessageReceived(w){const B=this._wkPages.get(w.pageProxyId);if(!B)return;B.dispatchMessageToSession(w.message)}_onProvisionalLoadFailed(w){const B=this._wkPages.get(w.pageProxyId);if(!B)return;B.handleProvisionalLoadFailed(w)}_onWindowOpen(w){const B=this._wkPages.get(w.pageProxyId);if(!B)return;B.handleWindowOpen(w)}isConnected(){return!this._connection.isClosed()}}class WKBrowserContext extends Le.BrowserContext{constructor(w,B,G){super(w,G,B);this._validateEmulatedViewport(G.viewport);this._authenticateProxyViaHeader()}async _initialize(){(0,Fe.assert)(!this._wkPages().length);const w=this._browserContextId;const B=[super._initialize()];B.push(this._browser._browserSession.send("Playwright.setDownloadBehavior",{behavior:this._options.acceptDownloads==="accept"?"allow":"deny",downloadPath:this._browser.options.channel==="webkit-wsl"?await(0,ze.translatePathToWSL)(this._browser.options.downloadsPath):this._browser.options.downloadsPath,browserContextId:w}));if(this._options.ignoreHTTPSErrors||this._options.internalIgnoreHTTPSErrors)B.push(this._browser._browserSession.send("Playwright.setIgnoreCertificateErrors",{browserContextId:w,ignore:true}));if(this._options.locale)B.push(this._browser._browserSession.send("Playwright.setLanguages",{browserContextId:w,languages:[this._options.locale]}));if(this._options.geolocation)B.push(this.setGeolocation(this._options.geolocation));if(this._options.offline)B.push(this.doUpdateOffline());if(this._options.httpCredentials)B.push(this.setHTTPCredentials(this._options.httpCredentials));await Promise.all(B)}_wkPages(){return Array.from(this._browser._wkPages.values()).filter((w=>w._browserContext===this))}possiblyUninitializedPages(){return this._wkPages().map((w=>w._page))}async doCreateNewPage(){const{pageProxyId:w}=await this._browser._browserSession.send("Playwright.createPage",{browserContextId:this._browserContextId});return this._browser._wkPages.get(w)._page}async doGetCookies(w){const{cookies:B}=await this._browser._browserSession.send("Playwright.getAllCookies",{browserContextId:this._browserContextId});return je.filterCookies(B.map((w=>{const{name:B,value:G,domain:K,path:pe,expires:ye,httpOnly:Se,secure:Be,sameSite:Qe}=w;const Pe={name:B,value:G,domain:K,path:pe,expires:ye===-1?-1:ye/1e3,httpOnly:Se,secure:Be,sameSite:Qe};return Pe})),w)}async addCookies(w){const B=je.rewriteCookies(w).map((w=>{const{name:B,value:G,domain:K,path:pe,expires:ye,httpOnly:Se,secure:Be,sameSite:Qe}=w;const Pe={name:B,value:G,domain:K,path:pe,expires:ye&&ye!==-1?ye*1e3:ye,httpOnly:Se,secure:Be,sameSite:Qe,session:ye===-1||ye===void 0};return Pe}));await this._browser._browserSession.send("Playwright.setCookies",{cookies:B,browserContextId:this._browserContextId})}async doClearCookies(){await this._browser._browserSession.send("Playwright.deleteAllCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(w,B){await Promise.all(this.pages().map((G=>G.delegate._grantPermissions(w,B))))}async doClearPermissions(){await Promise.all(this.pages().map((w=>w.delegate._clearPermissions())))}async setGeolocation(w){(0,Le.verifyGeolocation)(w);this._options.geolocation=w;const B=w?{...w,timestamp:Date.now()}:void 0;await this._browser._browserSession.send("Playwright.setGeolocationOverride",{browserContextId:this._browserContextId,geolocation:B})}async doUpdateExtraHTTPHeaders(){for(const w of this.pages())await w.delegate.updateExtraHTTPHeaders()}async setUserAgent(w){this._options.userAgent=w;for(const w of this.pages())await w.delegate.updateUserAgent()}async doUpdateOffline(){for(const w of this.pages())await w.delegate.updateOffline()}async doSetHTTPCredentials(w){this._options.httpCredentials=w;for(const w of this.pages())await w.delegate.updateHttpCredentials()}async doAddInitScript(w){for(const w of this.pages())await w.delegate._updateBootstrapScript()}async doRemoveInitScripts(w){for(const w of this.pages())await w.delegate._updateBootstrapScript()}async doUpdateRequestInterception(){for(const w of this.pages())await w.delegate.updateRequestInterception()}async doUpdateDefaultViewport(){}async doUpdateDefaultEmulatedMedia(){}async doExposePlaywrightBinding(){for(const w of this.pages())await w.delegate.exposePlaywrightBinding()}onClosePersistent(){}async clearCache(){await this._browser._browserSession.send("Playwright.clearMemoryCache",{browserContextId:this._browserContextId})}async doClose(w){if(!this._browserContextId){await Promise.all(this._wkPages().map((w=>w._stopVideo())));await this._browser.close({reason:w})}else{await this._browser._browserSession.send("Playwright.deleteContext",{browserContextId:this._browserContextId});this._browser._contexts.delete(this._browserContextId)}}async cancelDownload(w){await this._browser._browserSession.send("Playwright.cancelDownload",{uuid:w})}_validateEmulatedViewport(w){if(!w)return;if(process.platform==="win32"&&this._browser.options.headful&&(w.width<250||w.height<240))throw new Error(`WebKit on Windows has a minimal viewport of 250x240.`)}}0&&0},717:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{WKConnection:()=>WKConnection,WKSession:()=>WKSession,kBrowserCloseMessageId:()=>je,kPageProxyMessageReceived:()=>qe});w.exports=__toCommonJS(Be);var Qe=G(4434);var Pe=G(7651);var Fe=G(5809);var Me=G(3062);var Le=G(4506);const je=-9999;const qe=Symbol("kPageProxyMessageReceived");class WKConnection{constructor(w,B,G,K){this._lastId=0;this._closed=false;this._transport=w;this._onDisconnect=B;this._protocolLogger=G;this._browserLogsCollector=K;this.browserSession=new WKSession(this,"",(w=>{this.rawSend(w)}));this._transport.onmessage=this._dispatchMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}rawSend(w){this._protocolLogger("send",w);this._transport.send(w)}_dispatchMessage(w){this._protocolLogger("receive",w);if(w.id===je)return;if(w.pageProxyId){const B={message:w,pageProxyId:w.pageProxyId};this.browserSession.dispatchMessage({method:qe,params:B});return}this.browserSession.dispatchMessage(w)}_onClose(w){this._closed=true;this._transport.onmessage=void 0;this._transport.onclose=void 0;this._browserDisconnectedLogs=Me.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs(),w);this.browserSession.dispose();this._onDisconnect()}isClosed(){return this._closed}close(){if(!this._closed)this._transport.close()}}class WKSession extends Qe.EventEmitter{constructor(w,B,G){super();this._disposed=false;this._callbacks=new Map;this._crashed=false;this.setMaxListeners(0);this.connection=w;this.sessionId=B;this._rawSend=G;this.on=super.on;this.off=super.removeListener;this.addListener=super.addListener;this.removeListener=super.removeListener;this.once=super.once}async send(w,B){if(this._crashed||this._disposed||this.connection._browserDisconnectedLogs)throw new Le.ProtocolError(this._crashed?"crashed":"closed",void 0,this.connection._browserDisconnectedLogs);const G=this.connection.nextMessageId();const K={id:G,method:w,params:B};this._rawSend(K);return new Promise(((B,K)=>{this._callbacks.set(G,{resolve:B,reject:K,error:new Le.ProtocolError("error",w)})}))}sendMayFail(w,B){return this.send(w,B).catch((w=>Fe.debugLogger.log("error",w)))}markAsCrashed(){this._crashed=true}isDisposed(){return this._disposed}dispose(){for(const w of this._callbacks.values()){w.error.type=this._crashed?"crashed":"closed";w.error.logs=this.connection._browserDisconnectedLogs;w.reject(w.error)}this._callbacks.clear();this._disposed=true}dispatchMessage(w){if(w.id&&this._callbacks.has(w.id)){const B=this._callbacks.get(w.id);this._callbacks.delete(w.id);if(w.error){B.error.setMessage(w.error.message);B.reject(B.error)}else{B.resolve(w.result)}}else if(w.id&&!w.error){(0,Pe.assert)(this.isDisposed())}else{Promise.resolve().then((()=>this.emit(w.method,w.params)))}}}0&&0},3700:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{WKExecutionContext:()=>WKExecutionContext,createHandle:()=>createHandle});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(1485));var Me=__toESM(G(7392));var Le=G(4506);var je=G(8164);var qe=G(3642);class WKExecutionContext{constructor(w,B){this._session=w;this._contextId=B}async rawEvaluateJSON(w){try{const B=await this._session.send("Runtime.evaluate",{expression:w,contextId:this._contextId,returnByValue:true});if(B.wasThrown)throw new Fe.JavaScriptErrorInEvaluate(B.result.description);return B.result.value}catch(w){throw rewriteError(w)}}async rawEvaluateHandle(w,B){try{const G=await this._session.send("Runtime.evaluate",{expression:B,contextId:this._contextId,returnByValue:false});if(G.wasThrown)throw new Fe.JavaScriptErrorInEvaluate(G.result.description);return createHandle(w,G.result)}catch(w){throw rewriteError(w)}}async evaluateWithArguments(w,B,G,K,pe){try{const ye=await this._session.send("Runtime.callFunctionOn",{functionDeclaration:w,objectId:G._objectId,arguments:[{objectId:G._objectId},...K.map((w=>({value:w}))),...pe.map((w=>({objectId:w._objectId})))],returnByValue:B,emulateUserGesture:true,awaitPromise:true});if(ye.wasThrown)throw new Fe.JavaScriptErrorInEvaluate(ye.result.description);if(B)return(0,qe.parseEvaluationResultValue)(ye.result.value);return createHandle(G._context,ye.result)}catch(w){throw rewriteError(w)}}async getProperties(w){const B=await this._session.send("Runtime.getProperties",{objectId:w._objectId,ownProperties:true});const G=new Map;for(const K of B.properties){if(!K.enumerable||!K.value)continue;G.set(K.name,createHandle(w._context,K.value))}return G}async releaseHandle(w){if(!w._objectId)return;await this._session.send("Runtime.releaseObject",{objectId:w._objectId})}}function potentiallyUnserializableValue(w){const B=w.value;const G=w.type==="number"&&["NaN","-Infinity","Infinity","-0"].includes(w.description);return G?Fe.parseUnserializableValue(w.description):B}function rewriteError(w){if(w.message.includes("Object has too long reference chain"))throw new Error("Cannot serialize result: object reference chain is too long.");if(!Fe.isJavaScriptErrorInEvaluate(w)&&!(0,Le.isSessionClosedError)(w))return new Error("Execution context was destroyed, most likely because of a navigation.");return w}function renderPreview(w){if(w.type==="undefined")return"undefined";if("value"in w)return String(w.value);if(w.description==="Object"&&w.preview){const B=[];for(const{name:G,value:K}of w.preview.properties)B.push(`${G}: ${K}`);return`{${B.join(", ")}}`}if(w.subtype==="array"&&w.preview)return Fe.sparseArrayToString(w.preview.properties);return w.description}function createHandle(w,B){if(B.subtype==="node"){(0,je.assert)(w instanceof Me.FrameExecutionContext);return new Me.ElementHandle(w,B.objectId)}const G=B.className==="Promise";return new Fe.JSHandle(w,G?"promise":B.subtype||B.type,renderPreview(B),B.objectId,potentiallyUnserializableValue(B))}0&&0},845:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{RawKeyboardImpl:()=>RawKeyboardImpl,RawMouseImpl:()=>RawMouseImpl,RawTouchscreenImpl:()=>RawTouchscreenImpl});w.exports=__toCommonJS(Pe);var Fe=G(7651);var Me=__toESM(G(912));var Le=G(1661);function toModifiersMask(w){let B=0;if(w.has("Shift"))B|=1;if(w.has("Control"))B|=2;if(w.has("Alt"))B|=4;if(w.has("Meta"))B|=8;return B}function toButtonsMask(w){let B=0;if(w.has("left"))B|=1;if(w.has("right"))B|=2;if(w.has("middle"))B|=4;return B}class RawKeyboardImpl{constructor(w){this._pageProxySession=w}setSession(w){this._session=w}async keydown(w,B,G,K,pe){const ye=[];for(const w of["Shift","Control","Alt","Meta"]){if(B.has(w))ye.push(w)}const{code:Se,keyCode:Be,key:Qe,text:Pe}=K;ye.push(Se);const je=ye.join("+");let qe=Le.macEditingCommands[je];if((0,Fe.isString)(qe))qe=[qe];await w.race(this._pageProxySession.send("Input.dispatchKeyEvent",{type:"keyDown",modifiers:toModifiersMask(B),windowsVirtualKeyCode:Be,code:Se,key:Qe,text:Pe,unmodifiedText:Pe,autoRepeat:pe,macCommands:qe,isKeypad:K.location===Me.keypadLocation}))}async keyup(w,B,G,K){const{code:pe,key:ye}=K;await w.race(this._pageProxySession.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:toModifiersMask(B),key:ye,windowsVirtualKeyCode:K.keyCode,code:pe,isKeypad:K.location===Me.keypadLocation}))}async sendText(w,B){await w.race(this._session.send("Page.insertText",{text:B}))}}class RawMouseImpl{constructor(w){this._pageProxySession=w}setSession(w){this._session=w}async move(w,B,G,K,pe,ye,Se){await w.race(this._pageProxySession.send("Input.dispatchMouseEvent",{type:"move",button:K,buttons:toButtonsMask(pe),x:B,y:G,modifiers:toModifiersMask(ye)}))}async down(w,B,G,K,pe,ye,Se){await w.race(this._pageProxySession.send("Input.dispatchMouseEvent",{type:"down",button:K,buttons:toButtonsMask(pe),x:B,y:G,modifiers:toModifiersMask(ye),clickCount:Se}))}async up(w,B,G,K,pe,ye,Se){await w.race(this._pageProxySession.send("Input.dispatchMouseEvent",{type:"up",button:K,buttons:toButtonsMask(pe),x:B,y:G,modifiers:toModifiersMask(ye),clickCount:Se}))}async wheel(w,B,G,K,pe,ye,Se){if(this._page?.browserContext._options.isMobile)throw new Error("Mouse wheel is not supported in mobile WebKit");await this._session.send("Page.updateScrollingState");await w.race(this._page.mainFrame().evaluateExpression(`new Promise(requestAnimationFrame)`,{world:"utility"}));await w.race(this._pageProxySession.send("Input.dispatchWheelEvent",{x:B,y:G,deltaX:ye,deltaY:Se,modifiers:toModifiersMask(pe)}))}setPage(w){this._page=w}}class RawTouchscreenImpl{constructor(w){this._pageProxySession=w}async tap(w,B,G,K){await w.race(this._pageProxySession.send("Input.dispatchTapEvent",{x:B,y:G,modifiers:toModifiersMask(K)}))}}0&&0},2158:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{WKInterceptableRequest:()=>WKInterceptableRequest,WKRouteImpl:()=>WKRouteImpl});w.exports=__toCommonJS(Pe);var Fe=G(7651);var Me=__toESM(G(6182));const Le={aborted:"Cancellation",accessdenied:"AccessControl",addressunreachable:"General",blockedbyclient:"Cancellation",blockedbyresponse:"General",connectionaborted:"General",connectionclosed:"General",connectionfailed:"General",connectionrefused:"General",connectionreset:"General",internetdisconnected:"General",namenotresolved:"General",timedout:"Timeout",failed:"General"};class WKInterceptableRequest{constructor(w,B,G,K,pe){this._session=w;this._requestId=G.requestId;const ye=G.type?G.type.toLowerCase():K?K.request.resourceType():"other";let Se=null;this._timestamp=G.timestamp;this._wallTime=G.walltime*1e3;if(G.request.postData)Se=Buffer.from(G.request.postData,"base64");this.request=new Me.Request(B._page.browserContext,B,null,K?.request||null,pe,G.request.url,ye,G.request.method,Se,(0,Fe.headersObjectToArray)(G.request.headers))}adoptRequestFromNewProcess(w,B){this._session=w;this._requestId=B}createResponse(w){const getResponseBody=async()=>{const w=await this._session.send("Network.getResponseBody",{requestId:this._requestId});return Buffer.from(w.body,w.base64Encoded?"base64":"utf8")};const B=w.timing;const G={startTime:this._wallTime,domainLookupStart:B?wkMillisToRoundishMillis(B.domainLookupStart):-1,domainLookupEnd:B?wkMillisToRoundishMillis(B.domainLookupEnd):-1,connectStart:B?wkMillisToRoundishMillis(B.connectStart):-1,secureConnectionStart:B?wkMillisToRoundishMillis(B.secureConnectionStart):-1,connectEnd:B?wkMillisToRoundishMillis(B.connectEnd):-1,requestStart:B?wkMillisToRoundishMillis(B.requestStart):-1,responseStart:B?wkMillisToRoundishMillis(B.responseStart):-1};const K=process.platform==="darwin"?",":"playwright-set-cookie-separator";const pe=new Me.Response(this.request,w.status,w.statusText,(0,Fe.headersObjectToArray)(w.headers,",",K),G,getResponseBody,w.source==="service-worker");pe.setRawResponseHeaders(null);pe.setTransferSize(null);if(w.requestHeaders&&Object.keys(w.requestHeaders).length){const B={...w.requestHeaders};if(!B["host"])B["Host"]=new URL(this.request.url()).host;this.request.setRawRequestHeaders((0,Fe.headersObjectToArray)(B))}else{this.request.setRawRequestHeaders(null)}return pe}}class WKRouteImpl{constructor(w,B){this._session=w;this._requestId=B}async abort(w){const B=Le[w];(0,Fe.assert)(B,"Unknown error code: "+w);await this._session.sendMayFail("Network.interceptRequestWithError",{requestId:this._requestId,errorType:B})}async fulfill(w){if(300<=w.status&&w.status<400)throw new Error("Cannot fulfill with redirect status: "+w.status);let B=w.isBase64?"application/octet-stream":"text/plain";const G=(0,Fe.headersArrayToObject)(w.headers,true);const K=G["content-type"];if(K)B=K.split(";")[0].trim();await this._session.sendMayFail("Network.interceptRequestWithResponse",{requestId:this._requestId,status:w.status,statusText:Me.statusText(w.status),mimeType:B,headers:G,base64Encoded:w.isBase64,content:w.body})}async continue(w){await this._session.sendMayFail("Network.interceptWithRequest",{requestId:this._requestId,url:w.url,method:w.method,headers:w.headers?(0,Fe.headersArrayToObject)(w.headers,false):void 0,postData:w.postData?Buffer.from(w.postData).toString("base64"):void 0})}}function wkMillisToRoundishMillis(w){if(w===-1e3)return-1;if(w<=0){return-1}return(w*1e3|0)/1e3}0&&0},5214:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{WKPage:()=>WKPage});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(6928));var Me=G(7651);var Le=G(8390);var je=G(6741);var qe=G(6037);var We=G(2229);var Ge=G(3559);var ze=G(4331);var Ye=__toESM(G(9666));var Ke=__toESM(G(7392));var Xe=G(1009);var rt=G(3062);var it=__toESM(G(6182));var ot=G(1921);var at=G(6953);var lt=G(717);var ct=G(3700);var ut=G(845);var ft=G(2158);var gt=G(3788);var mt=G(250);var wt=G(5809);var vt=G(3569);const _t="__playwright_utility_world__";class WKPage{constructor(w,B,G){this._provisionalPage=null;this._requestIdToRequest=new Map;this._requestIdToRequestWillBeSentEvent=new Map;this._sessionListeners=[];this._firstNonInitialNavigationCommittedFulfill=()=>{};this._firstNonInitialNavigationCommittedReject=w=>{};this._lastConsoleMessage=null;this._requestIdToResponseReceivedPayloadEvent=new Map;this._recordingVideoFile=null;this._screencastGeneration=0;this._pageProxySession=B;this._opener=G;this.rawKeyboard=new ut.RawKeyboardImpl(B);this.rawMouse=new ut.RawMouseImpl(B);this.rawTouchscreen=new ut.RawTouchscreenImpl(B);this._contextIdToContext=new Map;this._page=new ot.Page(this,w);this.rawMouse.setPage(this._page);this._workers=new mt.WKWorkers(this._page);this._session=void 0;this._browserContext=w;this._page.on(ot.Page.Events.FrameDetached,(w=>this._removeContextsForFrame(w,false)));this._eventListeners=[qe.eventsHelper.addEventListener(this._pageProxySession,"Target.targetCreated",this._onTargetCreated.bind(this)),qe.eventsHelper.addEventListener(this._pageProxySession,"Target.targetDestroyed",this._onTargetDestroyed.bind(this)),qe.eventsHelper.addEventListener(this._pageProxySession,"Target.dispatchMessageFromTarget",this._onDispatchMessageFromTarget.bind(this)),qe.eventsHelper.addEventListener(this._pageProxySession,"Target.didCommitProvisionalTarget",this._onDidCommitProvisionalTarget.bind(this)),qe.eventsHelper.addEventListener(this._pageProxySession,"Screencast.screencastFrame",this._onScreencastFrame.bind(this))];this._firstNonInitialNavigationCommittedPromise=new Promise(((w,B)=>{this._firstNonInitialNavigationCommittedFulfill=w;this._firstNonInitialNavigationCommittedReject=B}));this._firstNonInitialNavigationCommittedPromise.catch((()=>{}));if(G&&!w._options.noDefaultViewport&&G._nextWindowOpenPopupFeatures){const w=rt.helper.getViewportSizeFromWindowFeatures(G._nextWindowOpenPopupFeatures);G._nextWindowOpenPopupFeatures=void 0;if(w)this._page.setEmulatedSizeFromWindowOpen({viewport:w,screen:w})}}async _initializePageProxySession(){if(this._page.isStorageStatePage)return;const w=[this._pageProxySession.send("Dialog.enable"),this._pageProxySession.send("Emulation.setActiveAndFocused",{active:true})];const B=this._browserContext._options;if(B.javaScriptEnabled===false)w.push(this._pageProxySession.send("Emulation.setJavaScriptEnabled",{enabled:false}));w.push(this._updateViewport());w.push(this.updateHttpCredentials());if(this._browserContext._permissions.size){for(const[B,G]of this._browserContext._permissions)w.push(this._grantPermissions(B,G))}if(this._browserContext._options.recordVideo){const B=Fe.default.join(this._browserContext._options.recordVideo.dir,(0,je.createGuid)()+".webm");w.push(this._browserContext._ensureVideosPath().then((()=>this._startVideo({...this._browserContext._options.recordVideo.size,outputFile:B}))))}await Promise.all(w)}_setSession(w){qe.eventsHelper.removeEventListeners(this._sessionListeners);this._session=w;this.rawKeyboard.setSession(w);this.rawMouse.setSession(w);this._addSessionListeners();this._workers.setSession(w)}async _initializeSession(w,B,G){await this._initializeSessionMayThrow(w,G).catch((G=>{if(B&&w.isDisposed())return;if(this._session===w)throw G}))}async _initializeSessionMayThrow(w,B){const[,G]=await Promise.all([w.send("Page.enable"),w.send("Page.getResourceTree")]);B(G);const K=[w.send("Runtime.enable"),w.send("Page.createUserWorld",{name:_t}).catch((w=>{})),w.send("Console.enable"),w.send("Network.enable"),this._workers.initializeSession(w)];if(this._page.browserContext.needsPlaywrightBinding())K.push(w.send("Runtime.addBinding",{name:ot.PageBinding.kBindingName}));if(this._page.needsRequestInterception()){K.push(w.send("Network.setInterceptionEnabled",{enabled:true}));K.push(w.send("Network.setResourceCachingDisabled",{disabled:true}));K.push(w.send("Network.addInterception",{url:".*",stage:"request",isRegex:true}))}if(this._page.isStorageStatePage){await Promise.all(K);return}const pe=this._browserContext._options;if(pe.userAgent)K.push(this.updateUserAgent());const ye=this._page.emulatedMedia();if(ye.media||ye.colorScheme||ye.reducedMotion||ye.forcedColors||ye.contrast)K.push(WKPage._setEmulateMedia(w,ye.media,ye.colorScheme,ye.reducedMotion,ye.forcedColors,ye.contrast));const Se=this._calculateBootstrapScript();if(Se.length)K.push(w.send("Page.setBootstrapScript",{source:Se}));this._page.frames().map((w=>w.evaluateExpression(Se).catch((w=>{}))));if(pe.bypassCSP)K.push(w.send("Page.setBypassCSP",{enabled:true}));const Be=this._page.emulatedSize();if(Be){K.push(w.send("Page.setScreenSizeOverride",{width:Be.screen.width,height:Be.screen.height}))}K.push(this.updateEmulateMedia());K.push(w.send("Network.setExtraHTTPHeaders",{headers:(0,Le.headersArrayToObject)(this._calculateExtraHTTPHeaders(),false)}));if(pe.offline)K.push(w.send("Network.setEmulateOfflineState",{offline:true}));K.push(w.send("Page.setTouchEmulationEnabled",{enabled:!!pe.hasTouch}));if(pe.timezoneId){K.push(w.send("Page.setTimeZone",{timeZone:pe.timezoneId}).catch((w=>{throw new Error(`Invalid timezone ID: ${pe.timezoneId}`)})))}if(this._page.fileChooserIntercepted())K.push(w.send("Page.setInterceptFileChooserDialog",{enabled:true}));K.push(w.send("Page.overrideSetting",{setting:"DeviceOrientationEventEnabled",value:pe.isMobile}));K.push(w.send("Page.overrideSetting",{setting:"FullScreenEnabled",value:!pe.isMobile}));K.push(w.send("Page.overrideSetting",{setting:"NotificationsEnabled",value:!pe.isMobile}));K.push(w.send("Page.overrideSetting",{setting:"PointerLockEnabled",value:!pe.isMobile}));K.push(w.send("Page.overrideSetting",{setting:"InputTypeMonthEnabled",value:pe.isMobile}));K.push(w.send("Page.overrideSetting",{setting:"InputTypeWeekEnabled",value:pe.isMobile}));K.push(w.send("Page.overrideSetting",{setting:"FixedBackgroundsPaintRelativeToDocument",value:pe.isMobile}));await Promise.all(K)}_onDidCommitProvisionalTarget(w){const{oldTargetId:B,newTargetId:G}=w;(0,Me.assert)(this._provisionalPage);(0,Me.assert)(this._provisionalPage._session.sessionId===G,"Unknown new target: "+G);(0,Me.assert)(this._session.sessionId===B,"Unknown old target: "+B);const K=this._provisionalPage._session;this._provisionalPage.commit();this._provisionalPage.dispose();this._provisionalPage=null;this._setSession(K)}_onTargetDestroyed(w){const{targetId:B,crashed:G}=w;if(this._provisionalPage&&this._provisionalPage._session.sessionId===B){this._maybeCancelCoopNavigationRequest(this._provisionalPage);this._provisionalPage._session.dispose();this._provisionalPage.dispose();this._provisionalPage=null}else if(this._session.sessionId===B){this._session.dispose();qe.eventsHelper.removeEventListeners(this._sessionListeners);if(G){this._session.markAsCrashed();this._page._didCrash()}}}didClose(){this._pageProxySession.dispose();qe.eventsHelper.removeEventListeners(this._sessionListeners);qe.eventsHelper.removeEventListeners(this._eventListeners);if(this._session)this._session.dispose();if(this._provisionalPage){this._provisionalPage._session.dispose();this._provisionalPage.dispose();this._provisionalPage=null}this._firstNonInitialNavigationCommittedReject(new Xe.TargetClosedError);this._page._didClose()}dispatchMessageToSession(w){this._pageProxySession.dispatchMessage(w)}handleProvisionalLoadFailed(w){if(!this._page.initializedOrUndefined()){this._firstNonInitialNavigationCommittedReject(new Error("Initial load failed"));return}if(!this._provisionalPage)return;let B=w.error;if(B.includes("cancelled"))B+="; maybe frame was detached?";this._page.frameManager.frameAbortedNavigation(this._page.mainFrame()._id,B,w.loaderId)}handleWindowOpen(w){this._nextWindowOpenPopupFeatures=w.windowFeatures}async _onTargetCreated(w){const{targetInfo:B}=w;const G=new lt.WKSession(this._pageProxySession.connection,B.targetId,(w=>{this._pageProxySession.send("Target.sendMessageToTarget",{message:JSON.stringify(w),targetId:B.targetId}).catch((B=>{G.dispatchMessage({id:w.id,error:{message:B.message}})}))}));if(B.type==="frame")return;(0,Me.assert)(B.type==="page","Only page targets are expected in WebKit, received: "+B.type);if(!B.isProvisional){(0,Me.assert)(!this._page.initializedOrUndefined());let w;try{this._setSession(G);await Promise.all([this._initializePageProxySession(),this._initializeSession(G,false,(({frameTree:w})=>this._handleFrameTree(w)))]);w=this._page}catch(B){w=B}if(B.isPaused)this._pageProxySession.sendMayFail("Target.resume",{targetId:B.targetId});if(w instanceof ot.Page&&this._page.mainFrame().url()===""){try{await this._firstNonInitialNavigationCommittedPromise}catch(B){w=B}}this._page.reportAsNew(this._opener?._page,w instanceof ot.Page?void 0:w)}else{(0,Me.assert)(B.isProvisional);(0,Me.assert)(!this._provisionalPage);this._provisionalPage=new gt.WKProvisionalPage(G,this);if(B.isPaused){this._provisionalPage.initializationPromise.then((()=>{this._pageProxySession.sendMayFail("Target.resume",{targetId:B.targetId})}))}}}_onDispatchMessageFromTarget(w){const{targetId:B,message:G}=w;if(this._provisionalPage&&this._provisionalPage._session.sessionId===B)this._provisionalPage._session.dispatchMessage(JSON.parse(G));else if(this._session.sessionId===B)this._session.dispatchMessage(JSON.parse(G));else throw new Error("Unknown target: "+B)}_addSessionListeners(){this._sessionListeners=[qe.eventsHelper.addEventListener(this._session,"Page.frameNavigated",(w=>this._onFrameNavigated(w.frame,false))),qe.eventsHelper.addEventListener(this._session,"Page.navigatedWithinDocument",(w=>this._onFrameNavigatedWithinDocument(w.frameId,w.url))),qe.eventsHelper.addEventListener(this._session,"Page.frameAttached",(w=>this._onFrameAttached(w.frameId,w.parentFrameId))),qe.eventsHelper.addEventListener(this._session,"Page.frameDetached",(w=>this._onFrameDetached(w.frameId))),qe.eventsHelper.addEventListener(this._session,"Page.willCheckNavigationPolicy",(w=>this._onWillCheckNavigationPolicy(w.frameId))),qe.eventsHelper.addEventListener(this._session,"Page.didCheckNavigationPolicy",(w=>this._onDidCheckNavigationPolicy(w.frameId,w.cancel))),qe.eventsHelper.addEventListener(this._session,"Page.loadEventFired",(w=>this._page.frameManager.frameLifecycleEvent(w.frameId,"load"))),qe.eventsHelper.addEventListener(this._session,"Page.domContentEventFired",(w=>this._page.frameManager.frameLifecycleEvent(w.frameId,"domcontentloaded"))),qe.eventsHelper.addEventListener(this._session,"Runtime.executionContextCreated",(w=>this._onExecutionContextCreated(w.context))),qe.eventsHelper.addEventListener(this._session,"Runtime.bindingCalled",(w=>this._onBindingCalled(w.contextId,w.argument))),qe.eventsHelper.addEventListener(this._session,"Console.messageAdded",(w=>this._onConsoleMessage(w))),qe.eventsHelper.addEventListener(this._session,"Console.messageRepeatCountUpdated",(w=>this._onConsoleRepeatCountUpdated(w))),qe.eventsHelper.addEventListener(this._pageProxySession,"Dialog.javascriptDialogOpening",(w=>this._onDialog(w))),qe.eventsHelper.addEventListener(this._session,"Page.fileChooserOpened",(w=>this._onFileChooserOpened(w))),qe.eventsHelper.addEventListener(this._session,"Network.requestWillBeSent",(w=>this._onRequestWillBeSent(this._session,w))),qe.eventsHelper.addEventListener(this._session,"Network.requestIntercepted",(w=>this._onRequestIntercepted(this._session,w))),qe.eventsHelper.addEventListener(this._session,"Network.responseReceived",(w=>this._onResponseReceived(this._session,w))),qe.eventsHelper.addEventListener(this._session,"Network.loadingFinished",(w=>this._onLoadingFinished(w))),qe.eventsHelper.addEventListener(this._session,"Network.loadingFailed",(w=>this._onLoadingFailed(this._session,w))),qe.eventsHelper.addEventListener(this._session,"Network.webSocketCreated",(w=>this._page.frameManager.onWebSocketCreated(w.requestId,w.url))),qe.eventsHelper.addEventListener(this._session,"Network.webSocketWillSendHandshakeRequest",(w=>this._page.frameManager.onWebSocketRequest(w.requestId))),qe.eventsHelper.addEventListener(this._session,"Network.webSocketHandshakeResponseReceived",(w=>this._page.frameManager.onWebSocketResponse(w.requestId,w.response.status,w.response.statusText))),qe.eventsHelper.addEventListener(this._session,"Network.webSocketFrameSent",(w=>w.response.payloadData&&this._page.frameManager.onWebSocketFrameSent(w.requestId,w.response.opcode,w.response.payloadData))),qe.eventsHelper.addEventListener(this._session,"Network.webSocketFrameReceived",(w=>w.response.payloadData&&this._page.frameManager.webSocketFrameReceived(w.requestId,w.response.opcode,w.response.payloadData))),qe.eventsHelper.addEventListener(this._session,"Network.webSocketClosed",(w=>this._page.frameManager.webSocketClosed(w.requestId))),qe.eventsHelper.addEventListener(this._session,"Network.webSocketFrameError",(w=>this._page.frameManager.webSocketError(w.requestId,w.errorMessage)))]}async _updateState(w,B){await this._forAllSessions((G=>G.send(w,B).then()))}async _forAllSessions(w){const B=[this._session];if(this._provisionalPage)B.push(this._provisionalPage._session);await Promise.all(B.map((B=>w(B).catch((w=>{})))))}_onWillCheckNavigationPolicy(w){if(this._provisionalPage)return;this._page.frameManager.frameRequestedNavigation(w)}_onDidCheckNavigationPolicy(w,B){if(!B)return;if(this._provisionalPage)return;this._page.frameManager.frameAbortedNavigation(w,"Navigation canceled by policy check")}_handleFrameTree(w){this._onFrameAttached(w.frame.id,w.frame.parentId||null);this._onFrameNavigated(w.frame,true);this._page.frameManager.frameLifecycleEvent(w.frame.id,"domcontentloaded");this._page.frameManager.frameLifecycleEvent(w.frame.id,"load");if(!w.childFrames)return;for(const B of w.childFrames)this._handleFrameTree(B)}_onFrameAttached(w,B){return this._page.frameManager.frameAttached(w,B)}_onFrameNavigated(w,B){const G=this._page.frameManager.frame(w.id);(0,Me.assert)(G);this._removeContextsForFrame(G,true);if(!w.parentId)this._workers.clear();this._page.frameManager.frameCommittedNewDocumentNavigation(w.id,w.url,w.name||"",w.loaderId,B);if(!B)this._firstNonInitialNavigationCommittedFulfill()}_onFrameNavigatedWithinDocument(w,B){this._page.frameManager.frameCommittedSameDocumentNavigation(w,B)}_onFrameDetached(w){this._page.frameManager.frameDetached(w)}_removeContextsForFrame(w,B){for(const[G,K]of this._contextIdToContext){if(K.frame===w){this._contextIdToContext.delete(G);if(B)w._contextDestroyed(K)}}}_onExecutionContextCreated(w){if(this._contextIdToContext.has(w.id))return;const B=this._page.frameManager.frame(w.frameId);if(!B)return;const G=new ct.WKExecutionContext(this._session,w.id);let K=null;if(w.type==="normal")K="main";else if(w.type==="user"&&w.name===_t)K="utility";const pe=new Ke.FrameExecutionContext(G,B,K);if(K)B._contextCreated(K,pe);this._contextIdToContext.set(w.id,pe)}async _onBindingCalled(w,B){const G=await this._page.waitForInitializedOrError();if(!(G instanceof Error)){const G=this._contextIdToContext.get(w);if(G)await this._page.onBindingCalled(B,G)}}async navigateFrame(w,B,G){if(this._pageProxySession.isDisposed())throw new Xe.TargetClosedError;const K=this._pageProxySession.sessionId;const pe=await this._pageProxySession.connection.browserSession.send("Playwright.navigate",{url:B,pageProxyId:K,frameId:w._id,referrer:G});return{newDocumentId:pe.loaderId}}_onConsoleMessage(w){const{type:B,level:G,text:K,parameters:pe,url:ye,line:Se,column:Be,source:Qe}=w.message;if(G==="error"&&Qe==="javascript"){const{name:B,message:G}=(0,Ge.splitErrorMessage)(K);let pe;if(w.message.stackTrace){pe=K+"\n"+w.message.stackTrace.callFrames.map((w=>`    at ${w.functionName||"unknown"} (${w.url}:${w.lineNumber}:${w.columnNumber})`)).join("\n")}else{pe=""}this._lastConsoleMessage=null;const ye=new Error(G);ye.stack=pe;ye.name=B;this._page.addPageError(ye);return}let Pe=B||"";if(B==="log")Pe=G;else if(B==="timing")Pe="timeEnd";const Fe=[];for(const w of pe||[]){let B;if(w.objectId){const G=JSON.parse(w.objectId);B=this._contextIdToContext.get(G.injectedScriptId)}else{B=[...this._contextIdToContext.values()].find((w=>w.frame===this._page.mainFrame()))}if(!B)return;Fe.push((0,ct.createHandle)(B,w))}this._lastConsoleMessage={derivedType:Pe,text:K,handles:Fe,count:0,location:{url:ye||"",lineNumber:(Se||1)-1,columnNumber:(Be||1)-1}};this._onConsoleRepeatCountUpdated({count:1})}_onConsoleRepeatCountUpdated(w){if(this._lastConsoleMessage){const{derivedType:B,text:G,handles:K,count:pe,location:ye}=this._lastConsoleMessage;for(let Se=pe;Se<w.count;++Se)this._page.addConsoleMessage(B,K,ye,K.length?void 0:G);this._lastConsoleMessage.count=w.count}}_onDialog(w){this._page.browserContext.dialogManager.dialogDidOpen(new Ye.Dialog(this._page,w.type,w.message,(async(B,G)=>{if(w.type==="beforeunload"&&!B)this._page.frameManager.frameAbortedNavigation(this._page.mainFrame()._id,"navigation cancelled by beforeunload dialog");await this._pageProxySession.send("Dialog.handleJavaScriptDialog",{accept:B,promptText:G})}),w.defaultPrompt))}async _onFileChooserOpened(w){let B;try{const G=await this._page.frameManager.frame(w.frameId)._mainContext();B=(0,ct.createHandle)(G,w.element).asElement()}catch(w){return}await this._page._onFileChooserOpened(B)}static async _setEmulateMedia(w,B,G,K,pe,ye){const Se=[];Se.push(w.send("Page.setEmulatedMedia",{media:B==="no-override"?"":B}));let Be=void 0;switch(G){case"light":Be="Light";break;case"dark":Be="Dark";break;case"no-override":Be=void 0;break}Se.push(w.send("Page.overrideUserPreference",{name:"PrefersColorScheme",value:Be}));let Qe=void 0;switch(K){case"reduce":Qe="Reduce";break;case"no-preference":Qe="NoPreference";break;case"no-override":Qe=void 0;break}Se.push(w.send("Page.overrideUserPreference",{name:"PrefersReducedMotion",value:Qe}));let Pe=void 0;switch(pe){case"active":Pe="Active";break;case"none":Pe="None";break;case"no-override":Pe=void 0;break}Se.push(w.send("Page.setForcedColors",{forcedColors:Pe}));let Fe=void 0;switch(ye){case"more":Fe="More";break;case"no-preference":Fe="NoPreference";break;case"no-override":Fe=void 0;break}Se.push(w.send("Page.overrideUserPreference",{name:"PrefersContrast",value:Fe}));await Promise.all(Se)}async updateExtraHTTPHeaders(){await this._updateState("Network.setExtraHTTPHeaders",{headers:(0,Le.headersArrayToObject)(this._calculateExtraHTTPHeaders(),false)})}_calculateExtraHTTPHeaders(){const w=this._browserContext._options.locale;const B=it.mergeHeaders([this._browserContext._options.extraHTTPHeaders,this._page.extraHTTPHeaders(),w?it.singleHeader("Accept-Language",w):void 0]);return B}async updateEmulateMedia(){const w=this._page.emulatedMedia();const B=w.colorScheme;const G=w.reducedMotion;const K=w.forcedColors;const pe=w.contrast;await this._forAllSessions((ye=>WKPage._setEmulateMedia(ye,w.media,B,G,K,pe)))}async updateEmulatedViewportSize(){this._browserContext._validateEmulatedViewport(this._page.emulatedSize()?.viewport);await this._updateViewport()}async updateUserAgent(){const w=this._browserContext._options;this._updateState("Page.overrideUserAgent",{value:w.userAgent})}async bringToFront(){this._pageProxySession.send("Target.activate",{targetId:this._session.sessionId})}async _updateViewport(){const w=this._browserContext._options;const B=this._page.emulatedSize();if(!B)return;const G=B.viewport;const K=B.screen;const pe=[this._pageProxySession.send("Emulation.setDeviceMetricsOverride",{width:G.width,height:G.height,fixedLayout:!!w.isMobile,deviceScaleFactor:w.deviceScaleFactor||1}),this._session.send("Page.setScreenSizeOverride",{width:K.width,height:K.height})];if(w.isMobile){const w=G.width>G.height?90:0;pe.push(this._pageProxySession.send("Emulation.setOrientationOverride",{angle:w}))}await Promise.all(pe);if(!this._browserContext._browser?.options.headful&&(We.hostPlatform==="ubuntu22.04-x64"||We.hostPlatform.startsWith("debian12")))await new Promise((w=>setTimeout(w,500)))}async updateRequestInterception(){const w=this._page.needsRequestInterception();await Promise.all([this._updateState("Network.setInterceptionEnabled",{enabled:w}),this._updateState("Network.setResourceCachingDisabled",{disabled:w}),this._updateState("Network.addInterception",{url:".*",stage:"request",isRegex:true})])}async updateOffline(){await this._updateState("Network.setEmulateOfflineState",{offline:!!this._browserContext._options.offline})}async updateHttpCredentials(){const w=this._browserContext._options.httpCredentials||{username:"",password:"",origin:""};await this._pageProxySession.send("Emulation.setAuthCredentials",{username:w.username,password:w.password,origin:w.origin})}async updateFileChooserInterception(){const w=this._page.fileChooserIntercepted();await this._session.send("Page.setInterceptFileChooserDialog",{enabled:w}).catch((()=>{}))}async reload(){await this._session.send("Page.reload")}goBack(){return this._session.send("Page.goBack").then((()=>true)).catch((w=>{if(w instanceof Error&&w.message.includes(`Protocol error (Page.goBack): Failed to go`))return false;throw w}))}goForward(){return this._session.send("Page.goForward").then((()=>true)).catch((w=>{if(w instanceof Error&&w.message.includes(`Protocol error (Page.goForward): Failed to go`))return false;throw w}))}async requestGC(){await this._session.send("Heap.gc")}async addInitScript(w){await this._updateBootstrapScript()}async removeInitScripts(w){await this._updateBootstrapScript()}async exposePlaywrightBinding(){await this._updateState("Runtime.addBinding",{name:ot.PageBinding.kBindingName})}_calculateBootstrapScript(){const w=[];if(!this._page.browserContext._options.isMobile){w.push("delete window.orientation");w.push("delete window.ondevicemotion");w.push("delete window.ondeviceorientation")}w.push('if (!window.safari) window.safari = { pushNotification: { toString() { return "[object SafariRemoteNotification]"; } } };');w.push("if (!window.GestureEvent) window.GestureEvent = function GestureEvent() {};");w.push(this._publicKeyCredentialScript());w.push(...this._page.allInitScripts().map((w=>w.source)));return w.join(";\n")}_publicKeyCredentialScript(){function polyfill(){window.PublicKeyCredential??={async getClientCapabilities(){return{}},async isConditionalMediationAvailable(){return false},async isUserVerifyingPlatformAuthenticatorAvailable(){return false}}}return`(${polyfill.toString()})();`}async _updateBootstrapScript(){await this._updateState("Page.setBootstrapScript",{source:this._calculateBootstrapScript()})}async closePage(w){await this._stopVideo();await this._pageProxySession.sendMayFail("Target.close",{targetId:this._session.sessionId,runBeforeUnload:w})}async setBackgroundColor(w){await this._session.send("Page.setDefaultBackgroundColorOverride",{color:w})}_toolbarHeight(){if(this._page.browserContext._browser?.options.headful)return We.hostPlatform==="mac10.15"?55:59;return 0}async _startVideo(w){(0,Me.assert)(!this._recordingVideoFile);const{screencastId:B}=await this._pageProxySession.send("Screencast.startVideo",{file:this._browserContext._browser.options.channel==="webkit-wsl"?await(0,vt.translatePathToWSL)(w.outputFile):w.outputFile,width:w.width,height:w.height,toolbarHeight:this._toolbarHeight()});this._recordingVideoFile=w.outputFile;this._browserContext._browser._videoStarted(this._browserContext,B,w.outputFile,this._page.waitForInitializedOrError())}async _stopVideo(){if(!this._recordingVideoFile)return;await this._pageProxySession.sendMayFail("Screencast.stopVideo");this._recordingVideoFile=null}validateScreenshotDimension(w,B){if(process.platform==="darwin")return;if(!B&&this._page.browserContext._options.deviceScaleFactor)w=Math.ceil(w*this._page.browserContext._options.deviceScaleFactor);if(w>32767)throw new Error("Cannot take screenshot larger than 32767 pixels on any dimension")}async takeScreenshot(w,B,G,K,pe,ye,Se){const Be=G||K;const Qe=Se==="css";this.validateScreenshotDimension(Be.width,Qe);this.validateScreenshotDimension(Be.height,Qe);const Pe=await w.race(this._session.send("Page.snapshotRect",{...Be,coordinateSystem:G?"Page":"Viewport",omitDeviceScaleFactor:Qe}));const Fe="data:image/png;base64,";let Me=Buffer.from(Pe.dataURL.substr(Fe.length),"base64");if(B==="jpeg")Me=ze.jpegjs.encode(ze.PNG.sync.read(Me),pe).data;return Me}async getContentFrame(w){const B=await this._session.send("DOM.describeNode",{objectId:w._objectId});if(!B.contentFrameId)return null;return this._page.frameManager.frame(B.contentFrameId)}async getOwnerFrame(w){if(!w._objectId)return null;const B=await this._session.send("DOM.describeNode",{objectId:w._objectId});return B.ownerFrameId||null}async getBoundingBox(w){const B=await this.getContentQuads(w);if(!B||!B.length)return null;let G=Infinity;let K=-Infinity;let pe=Infinity;let ye=-Infinity;for(const w of B){for(const B of w){G=Math.min(G,B.x);K=Math.max(K,B.x);pe=Math.min(pe,B.y);ye=Math.max(ye,B.y)}}return{x:G,y:pe,width:K-G,height:ye-pe}}async scrollRectIntoViewIfNeeded(w,B){return await this._session.send("DOM.scrollIntoViewIfNeeded",{objectId:w._objectId,rect:B}).then((()=>"done")).catch((w=>{if(w instanceof Error&&w.message.includes("Node does not have a layout object"))return"error:notvisible";if(w instanceof Error&&w.message.includes("Node is detached from document"))return"error:notconnected";throw w}))}async setScreencastOptions(w){if(w){const B={...w,toolbarHeight:this._toolbarHeight()};const{generation:G}=await this._pageProxySession.send("Screencast.startScreencast",B);this._screencastGeneration=G}else{await this._pageProxySession.send("Screencast.stopScreencast")}}_onScreencastFrame(w){const B=this._screencastGeneration;this._page.throttleScreencastFrameAck((()=>{this._pageProxySession.send("Screencast.screencastFrameAck",{generation:B}).catch((w=>wt.debugLogger.log("error",w)))}));const G=Buffer.from(w.data,"base64");this._page.emit(ot.Page.Events.ScreencastFrame,{buffer:G,width:w.deviceWidth,height:w.deviceHeight})}rafCountForStablePosition(){return process.platform==="win32"?5:1}async getContentQuads(w){const B=await this._session.sendMayFail("DOM.getContentQuads",{objectId:w._objectId});if(!B)return null;return B.quads.map((w=>[{x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},{x:w[6],y:w[7]}]))}async setInputFilePaths(w,B){const G=this._pageProxySession.sessionId;const K=w._objectId;if(this._browserContext._browser?.options.channel==="webkit-wsl")B=await Promise.all(B.map((w=>(0,vt.translatePathToWSL)(w))));await Promise.all([this._pageProxySession.connection.browserSession.send("Playwright.grantFileReadAccess",{pageProxyId:G,paths:B}),this._session.send("DOM.setInputFiles",{objectId:K,paths:B})])}async adoptElementHandle(w,B){const G=await this._session.sendMayFail("DOM.resolveNode",{objectId:w._objectId,executionContextId:B.delegate._contextId});if(!G||G.object.subtype==="null")throw new Error(Ke.kUnableToAdoptErrorMessage);return(0,ct.createHandle)(B,G.object)}async getAccessibilityTree(w){return(0,at.getAccessibilityTree)(this._session,w)}async inputActionEpilogue(){}async resetForReuse(w){}async getFrameElement(w){const B=w.parentFrame();if(!B)throw new Error("Frame has been detached.");const G=await B._mainContext();const K=await this._session.send("DOM.resolveNode",{frameId:w._id,executionContextId:G.delegate._contextId});if(!K||K.object.subtype==="null")throw new Error("Frame has been detached.");return(0,ct.createHandle)(G,K.object)}_maybeCancelCoopNavigationRequest(w){const B=w.coopNavigationRequest();for(const[G,K]of this._requestIdToRequest){if(K.request===B){this._onLoadingFailed(w._session,{requestId:G,errorText:"Provisiolal navigation canceled.",timestamp:K._timestamp,canceled:true});return}}}_adoptRequestFromNewProcess(w,B,G){for(const[K,pe]of this._requestIdToRequest){if(pe.request===w){this._requestIdToRequest.delete(K);pe.adoptRequestFromNewProcess(B,G);this._requestIdToRequest.set(G,pe);return}}}_onRequestWillBeSent(w,B){if(B.request.url.startsWith("data:"))return;if(B.request.url.startsWith("about:"))return;if(this._page.needsRequestInterception()&&!B.redirectResponse)this._requestIdToRequestWillBeSentEvent.set(B.requestId,B);else this._onRequest(w,B,false)}_onRequest(w,B,G){let K=null;if(B.redirectResponse){const w=this._requestIdToRequest.get(B.requestId);if(w){this._handleRequestRedirect(w,B.requestId,B.redirectResponse,B.timestamp);K=w}}const pe=K?K.request.frame():this._page.frameManager.frame(B.frameId);if(!pe)return;const ye=B.type==="Document";const Se=ye?B.loaderId:void 0;const Be=new ft.WKInterceptableRequest(w,pe,B,K,Se);let Qe;if(G){Qe=new ft.WKRouteImpl(w,B.requestId);Be.request.setRawRequestHeaders(null)}this._requestIdToRequest.set(B.requestId,Be);this._page.frameManager.requestStarted(Be.request,Qe)}_handleRequestRedirect(w,B,G,K){const pe=w.createResponse(G);pe._securityDetailsFinished();pe._serverAddrFinished();pe.setResponseHeadersSize(null);pe.setEncodedBodySize(null);pe._requestFinished(G.timing?rt.helper.secondsToRoundishMillis(K-w._timestamp):-1);this._requestIdToRequest.delete(B);this._page.frameManager.requestReceivedResponse(pe);this._page.frameManager.reportRequestFinished(w.request,pe)}_onRequestIntercepted(w,B){const G=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(!G){w.sendMayFail("Network.interceptWithRequest",{requestId:B.requestId});return}this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(w,G,true)}_onResponseReceived(w,B){const G=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(G){this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(w,G,false)}const K=this._requestIdToRequest.get(B.requestId);if(!K)return;this._requestIdToResponseReceivedPayloadEvent.set(B.requestId,B);const pe=K.createResponse(B.response);this._page.frameManager.requestReceivedResponse(pe);if(pe.status()===204&&K.request.isNavigationRequest()){this._onLoadingFailed(w,{requestId:B.requestId,errorText:"Aborted: 204 No Content",timestamp:B.timestamp})}}_onLoadingFinished(w){const B=this._requestIdToRequest.get(w.requestId);if(!B)return;const G=B.request._existingResponse();if(G){const K=this._requestIdToResponseReceivedPayloadEvent.get(w.requestId);G._serverAddrFinished(parseRemoteAddress(w?.metrics?.remoteAddress));G._securityDetailsFinished({protocol:isLoadedSecurely(G.url(),G.timing())?w.metrics?.securityConnection?.protocol:void 0,subjectName:K?.response.security?.certificate?.subject,validFrom:K?.response.security?.certificate?.validFrom,validTo:K?.response.security?.certificate?.validUntil});if(w.metrics?.protocol)G._setHttpVersion(w.metrics.protocol);G.setEncodedBodySize(w.metrics?.responseBodyBytesReceived??null);G.setResponseHeadersSize(w.metrics?.responseHeaderBytesReceived??null);G._requestFinished(rt.helper.secondsToRoundishMillis(w.timestamp-B._timestamp))}else{B.request.setRawRequestHeaders(null)}this._requestIdToResponseReceivedPayloadEvent.delete(w.requestId);this._requestIdToRequest.delete(w.requestId);this._page.frameManager.reportRequestFinished(B.request,G)}_onLoadingFailed(w,B){const G=this._requestIdToRequestWillBeSentEvent.get(B.requestId);if(G){this._requestIdToRequestWillBeSentEvent.delete(B.requestId);this._onRequest(w,G,false)}const K=this._requestIdToRequest.get(B.requestId);if(!K)return;const pe=K.request._existingResponse();if(pe){pe._serverAddrFinished();pe._securityDetailsFinished();pe.setResponseHeadersSize(null);pe.setEncodedBodySize(null);pe._requestFinished(rt.helper.secondsToRoundishMillis(B.timestamp-K._timestamp))}else{K.request.setRawRequestHeaders(null)}this._requestIdToRequest.delete(B.requestId);K.request._setFailureText(B.errorText);this._page.frameManager.requestFailed(K.request,B.errorText.includes("cancelled"))}async _grantPermissions(w,B){const G=new Map([["geolocation","geolocation"],["notifications","notifications"],["clipboard-read","clipboard-read"]]);const K=B.map((w=>{const B=G.get(w);if(!B)throw new Error("Unknown permission: "+w);return B}));await this._pageProxySession.send("Emulation.grantPermissions",{origin:w,permissions:K})}async _clearPermissions(){await this._pageProxySession.send("Emulation.resetPermissions",{})}shouldToggleStyleSheetToSyncAnimations(){return true}}function parseRemoteAddress(w){if(!w)return;try{const B=w.lastIndexOf(":");const G=w.lastIndexOf(".");if(G<0){return{ipAddress:`[${w.slice(0,B)}]`,port:+w.slice(B+1)}}if(B>G){const[B,G]=w.split(":");return{ipAddress:B,port:+G}}else{const[B,G]=w.split(".");return{ipAddress:`[${B}]`,port:+G}}}catch(w){}}function isLoadedSecurely(w,B){try{const G=new URL(w);if(G.protocol!=="https:"&&G.protocol!=="wss:"&&G.protocol!=="sftp:")return false;if(B.secureConnectionStart===-1&&B.connectStart!==-1)return false;return true}catch(w){}}0&&0},3788:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{WKProvisionalPage:()=>WKProvisionalPage});w.exports=__toCommonJS(Be);var Qe=G(7651);var Pe=G(6037);class WKProvisionalPage{constructor(w,B){this._sessionListeners=[];this._mainFrameId=null;this._session=w;this._wkPage=B;this._coopNavigationRequest=B._page.mainFrame().pendingDocument()?.request;const overrideFrameId=w=>B=>{if(B.frameId)B.frameId=this._wkPage._page.frameManager.mainFrame()._id;w(B)};const G=this._wkPage;this._sessionListeners=[Pe.eventsHelper.addEventListener(w,"Network.requestWillBeSent",overrideFrameId((w=>this._onRequestWillBeSent(w)))),Pe.eventsHelper.addEventListener(w,"Network.requestIntercepted",overrideFrameId((B=>G._onRequestIntercepted(w,B)))),Pe.eventsHelper.addEventListener(w,"Network.responseReceived",overrideFrameId((B=>G._onResponseReceived(w,B)))),Pe.eventsHelper.addEventListener(w,"Network.loadingFinished",overrideFrameId((w=>this._onLoadingFinished(w)))),Pe.eventsHelper.addEventListener(w,"Network.loadingFailed",overrideFrameId((w=>this._onLoadingFailed(w))))];this.initializationPromise=this._wkPage._initializeSession(w,true,(({frameTree:w})=>this._handleFrameTree(w)))}coopNavigationRequest(){return this._coopNavigationRequest}dispose(){Pe.eventsHelper.removeEventListeners(this._sessionListeners)}commit(){(0,Qe.assert)(this._mainFrameId);this._wkPage._onFrameAttached(this._mainFrameId,null)}_onRequestWillBeSent(w){if(this._coopNavigationRequest&&this._coopNavigationRequest.url()===w.request.url){this._wkPage._adoptRequestFromNewProcess(this._coopNavigationRequest,this._session,w.requestId);return}this._wkPage._onRequestWillBeSent(this._session,w)}_onLoadingFinished(w){this._coopNavigationRequest=void 0;this._wkPage._onLoadingFinished(w)}_onLoadingFailed(w){this._coopNavigationRequest=void 0;this._wkPage._onLoadingFailed(this._session,w)}_handleFrameTree(w){(0,Qe.assert)(!w.frame.parentId);this._mainFrameId=w.frame.id}}0&&0},250:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{WKWorkers:()=>WKWorkers});w.exports=__toCommonJS(Be);var Qe=G(6037);var Pe=G(1921);var Fe=G(717);var Me=G(3700);class WKWorkers{constructor(w){this._sessionListeners=[];this._workerSessions=new Map;this._page=w}setSession(w){Qe.eventsHelper.removeEventListeners(this._sessionListeners);this.clear();this._sessionListeners=[Qe.eventsHelper.addEventListener(w,"Worker.workerCreated",(B=>{const G=new Pe.Worker(this._page,B.url);const K=new Fe.WKSession(w.connection,B.workerId,(G=>{w.send("Worker.sendMessageToWorker",{workerId:B.workerId,message:JSON.stringify(G)}).catch((w=>{K.dispatchMessage({id:G.id,error:{message:w.message}})}))}));this._workerSessions.set(B.workerId,K);G.createExecutionContext(new Me.WKExecutionContext(K,void 0));this._page.addWorker(B.workerId,G);K.on("Console.messageAdded",(w=>this._onConsoleMessage(G,w)));Promise.all([K.send("Runtime.enable"),K.send("Console.enable"),w.send("Worker.initialized",{workerId:B.workerId})]).catch((w=>{this._page.removeWorker(B.workerId)}))})),Qe.eventsHelper.addEventListener(w,"Worker.dispatchMessageFromWorker",(w=>{const B=this._workerSessions.get(w.workerId);if(!B)return;B.dispatchMessage(JSON.parse(w.message))})),Qe.eventsHelper.addEventListener(w,"Worker.workerTerminated",(w=>{const B=this._workerSessions.get(w.workerId);if(!B)return;B.dispose();this._workerSessions.delete(w.workerId);this._page.removeWorker(w.workerId)}))]}clear(){this._page.clearWorkers();this._workerSessions.clear()}async initializeSession(w){await w.send("Worker.enable")}async _onConsoleMessage(w,B){const{type:G,level:K,text:pe,parameters:ye,url:Se,line:Be,column:Qe}=B.message;let Pe=G||"";if(G==="log")Pe=K;else if(G==="timing")Pe="timeEnd";const Fe=(ye||[]).map((B=>(0,Me.createHandle)(w.existingExecutionContext,B)));const Le={url:Se||"",lineNumber:(Be||1)-1,columnNumber:(Qe||1)-1};this._page.addConsoleMessage(Pe,Fe,Le,Fe.length?void 0:pe)}}0&&0},2198:w=>{"use strict";w.exports=pixelmatch;const B={threshold:.1,includeAA:false,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:false};function pixelmatch(w,G,K,pe,ye,Se){if(!isPixelData(w)||!isPixelData(G)||K&&!isPixelData(K))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(w.length!==G.length||K&&K.length!==w.length)throw new Error("Image sizes do not match.");if(w.length!==pe*ye*4)throw new Error("Image data size does not match width/height.");Se=Object.assign({},B,Se);const Be=pe*ye;const Qe=new Uint32Array(w.buffer,w.byteOffset,Be);const Pe=new Uint32Array(G.buffer,G.byteOffset,Be);let Fe=true;for(let w=0;w<Be;w++){if(Qe[w]!==Pe[w]){Fe=false;break}}if(Fe){if(K&&!Se.diffMask){for(let B=0;B<Be;B++)drawGrayPixel(w,4*B,Se.alpha,K)}return 0}const Me=35215*Se.threshold*Se.threshold;let Le=0;for(let B=0;B<ye;B++){for(let Be=0;Be<pe;Be++){const Qe=(B*pe+Be)*4;const Pe=colorDelta(w,G,Qe,Qe);if(Math.abs(Pe)>Me){if(!Se.includeAA&&(antialiased(w,Be,B,pe,ye,G)||antialiased(G,Be,B,pe,ye,w))){if(K&&!Se.diffMask)drawPixel(K,Qe,...Se.aaColor)}else{if(K){drawPixel(K,Qe,...Pe<0&&Se.diffColorAlt||Se.diffColor)}Le++}}else if(K){if(!Se.diffMask)drawGrayPixel(w,Qe,Se.alpha,K)}}}return Le}function isPixelData(w){return ArrayBuffer.isView(w)&&w.constructor.BYTES_PER_ELEMENT===1}function antialiased(w,B,G,K,pe,ye){const Se=Math.max(B-1,0);const Be=Math.max(G-1,0);const Qe=Math.min(B+1,K-1);const Pe=Math.min(G+1,pe-1);const Fe=(G*K+B)*4;let Me=B===Se||B===Qe||G===Be||G===Pe?1:0;let Le=0;let je=0;let qe,We,Ge,ze;for(let pe=Se;pe<=Qe;pe++){for(let ye=Be;ye<=Pe;ye++){if(pe===B&&ye===G)continue;const Se=colorDelta(w,w,Fe,(ye*K+pe)*4,true);if(Se===0){Me++;if(Me>2)return false}else if(Se<Le){Le=Se;qe=pe;We=ye}else if(Se>je){je=Se;Ge=pe;ze=ye}}}if(Le===0||je===0)return false;return hasManySiblings(w,qe,We,K,pe)&&hasManySiblings(ye,qe,We,K,pe)||hasManySiblings(w,Ge,ze,K,pe)&&hasManySiblings(ye,Ge,ze,K,pe)}function hasManySiblings(w,B,G,K,pe){const ye=Math.max(B-1,0);const Se=Math.max(G-1,0);const Be=Math.min(B+1,K-1);const Qe=Math.min(G+1,pe-1);const Pe=(G*K+B)*4;let Fe=B===ye||B===Be||G===Se||G===Qe?1:0;for(let pe=ye;pe<=Be;pe++){for(let ye=Se;ye<=Qe;ye++){if(pe===B&&ye===G)continue;const Se=(ye*K+pe)*4;if(w[Pe]===w[Se]&&w[Pe+1]===w[Se+1]&&w[Pe+2]===w[Se+2]&&w[Pe+3]===w[Se+3])Fe++;if(Fe>2)return true}}return false}function colorDelta(w,B,G,K,pe){let ye=w[G+0];let Se=w[G+1];let Be=w[G+2];let Qe=w[G+3];let Pe=B[K+0];let Fe=B[K+1];let Me=B[K+2];let Le=B[K+3];if(Qe===Le&&ye===Pe&&Se===Fe&&Be===Me)return 0;if(Qe<255){Qe/=255;ye=blend(ye,Qe);Se=blend(Se,Qe);Be=blend(Be,Qe)}if(Le<255){Le/=255;Pe=blend(Pe,Le);Fe=blend(Fe,Le);Me=blend(Me,Le)}const je=rgb2y(ye,Se,Be);const qe=rgb2y(Pe,Fe,Me);const We=je-qe;if(pe)return We;const Ge=rgb2i(ye,Se,Be)-rgb2i(Pe,Fe,Me);const ze=rgb2q(ye,Se,Be)-rgb2q(Pe,Fe,Me);const Ye=.5053*We*We+.299*Ge*Ge+.1957*ze*ze;return je>qe?-Ye:Ye}function rgb2y(w,B,G){return w*.29889531+B*.58662247+G*.11448223}function rgb2i(w,B,G){return w*.59597799-B*.2741761-G*.32180189}function rgb2q(w,B,G){return w*.21147017-B*.52261711+G*.31114694}function blend(w,B){return 255+(w-255)*B}function drawPixel(w,B,G,K,pe){w[B+0]=G;w[B+1]=K;w[B+2]=pe;w[B+3]=255}function drawGrayPixel(w,B,G,K){const pe=w[B+0];const ye=w[B+1];const Se=w[B+2];const Be=blend(rgb2y(pe,ye,Se),G*w[B+3]/255);drawPixel(K,B,Be,Be,Be)}},7651:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __reExport=(w,B,G)=>(__copyProps(w,B,"default"),G&&__copyProps(G,B,"default"));var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{colors:()=>Qe.colors});w.exports=__toCommonJS(Be);__reExport(Be,G(599),w.exports);__reExport(Be,G(8164),w.exports);__reExport(Be,G(4558),w.exports);__reExport(Be,G(8390),w.exports);__reExport(Be,G(3780),w.exports);__reExport(Be,G(3587),w.exports);__reExport(Be,G(9498),w.exports);__reExport(Be,G(5543),w.exports);__reExport(Be,G(1546),w.exports);__reExport(Be,G(5295),w.exports);__reExport(Be,G(1407),w.exports);__reExport(Be,G(9586),w.exports);__reExport(Be,G(3559),w.exports);__reExport(Be,G(9658),w.exports);__reExport(Be,G(3647),w.exports);__reExport(Be,G(4233),w.exports);__reExport(Be,G(4376),w.exports);__reExport(Be,G(3701),w.exports);__reExport(Be,G(6639),w.exports);__reExport(Be,G(6741),w.exports);__reExport(Be,G(5749),w.exports);__reExport(Be,G(5809),w.exports);__reExport(Be,G(4529),w.exports);__reExport(Be,G(6037),w.exports);__reExport(Be,G(4060),w.exports);__reExport(Be,G(3449),w.exports);__reExport(Be,G(2229),w.exports);__reExport(Be,G(1367),w.exports);__reExport(Be,G(864),w.exports);__reExport(Be,G(1371),w.exports);__reExport(Be,G(8719),w.exports);__reExport(Be,G(4397),w.exports);__reExport(Be,G(863),w.exports);__reExport(Be,G(4357),w.exports);__reExport(Be,G(509),w.exports);__reExport(Be,G(818),w.exports);__reExport(Be,G(285),w.exports);__reExport(Be,G(1723),w.exports);__reExport(Be,G(7929),w.exports);var Qe=G(4331);0&&0},599:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{KeyParser:()=>KeyParser,ParserError:()=>ParserError,parseAriaSnapshot:()=>parseAriaSnapshot,parseAriaSnapshotUnsafe:()=>parseAriaSnapshotUnsafe,textValue:()=>textValue});w.exports=__toCommonJS(ye);function parseAriaSnapshotUnsafe(w,B,G={}){const K=parseAriaSnapshot(w,B,G);if(K.errors.length)throw new Error(K.errors[0].message);return K.fragment}function parseAriaSnapshot(w,B,G={}){const K=new w.LineCounter;const pe={keepSourceTokens:true,lineCounter:K,...G};const ye=w.parseDocument(B,pe);const Be=[];const convertRange=w=>[K.linePos(w[0]),K.linePos(w[1])];const addError=w=>{Be.push({message:w.message,range:[K.linePos(w.pos[0]),K.linePos(w.pos[1])]})};const convertSeq=(B,G)=>{for(const K of G.items){const ye=K instanceof w.Scalar&&typeof K.value==="string";if(ye){const w=KeyParser.parse(K,pe,Be);if(w){B.children=B.children||[];B.children.push(w)}continue}const Se=K instanceof w.YAMLMap;if(Se){convertMap(B,K);continue}Be.push({message:"Sequence items should be strings or maps",range:convertRange(K.range||G.range)})}};const convertMap=(B,G)=>{for(const K of G.items){B.children=B.children||[];const ye=K.key instanceof w.Scalar&&typeof K.key.value==="string";if(!ye){Be.push({message:"Only string keys are supported",range:convertRange(K.key.range||G.range)});continue}const Se=K.key;const Qe=K.value;if(Se.value==="text"){const pe=Qe instanceof w.Scalar&&typeof Qe.value==="string";if(!pe){Be.push({message:"Text value should be a string",range:convertRange(K.value.range||G.range)});continue}B.children.push({kind:"text",text:textValue(Qe.value)});continue}if(Se.value==="/children"){const pe=Qe instanceof w.Scalar&&typeof Qe.value==="string";if(!pe||Qe.value!=="contain"&&Qe.value!=="equal"&&Qe.value!=="deep-equal"){Be.push({message:'Strict value should be "contain", "equal" or "deep-equal"',range:convertRange(K.value.range||G.range)});continue}B.containerMode=Qe.value;continue}if(Se.value.startsWith("/")){const pe=Qe instanceof w.Scalar&&typeof Qe.value==="string";if(!pe){Be.push({message:"Property value should be a string",range:convertRange(K.value.range||G.range)});continue}B.props=B.props??{};B.props[Se.value.slice(1)]=textValue(Qe.value);continue}const Pe=KeyParser.parse(Se,pe,Be);if(!Pe)continue;const Fe=Qe instanceof w.Scalar;if(Fe){const w=typeof Qe.value;if(w!=="string"&&w!=="number"&&w!=="boolean"){Be.push({message:"Node value should be a string or a sequence",range:convertRange(K.value.range||G.range)});continue}B.children.push({...Pe,children:[{kind:"text",text:textValue(String(Qe.value))}]});continue}const Me=Qe instanceof w.YAMLSeq;if(Me){B.children.push(Pe);convertSeq(Pe,Qe);continue}Be.push({message:"Map values should be strings or sequences",range:convertRange(K.value.range||G.range)})}};const Qe={kind:"role",role:"fragment"};ye.errors.forEach(addError);if(Be.length)return{errors:Be,fragment:Qe};if(!(ye.contents instanceof w.YAMLSeq)){Be.push({message:'Aria snapshot must be a YAML sequence, elements starting with " -"',range:ye.contents?convertRange(ye.contents.range):[{line:0,col:0},{line:0,col:0}]})}if(Be.length)return{errors:Be,fragment:Qe};convertSeq(Qe,ye.contents);if(Be.length)return{errors:Be,fragment:Se};if(Qe.children?.length===1&&(!Qe.containerMode||Qe.containerMode==="contain"))return{fragment:Qe.children[0],errors:[]};return{fragment:Qe,errors:[]}}const Se={kind:"role",role:"fragment"};function normalizeWhitespace(w){return w.replace(/[\u200b\u00ad]/g,"").replace(/[\r\n\s\t]+/g," ").trim()}function textValue(w){return{raw:w,normalized:normalizeWhitespace(w)}}class KeyParser{static parse(w,B,G){try{return new KeyParser(w.value)._parse()}catch(K){if(K instanceof ParserError){const pe=B.prettyErrors===false?K.message:K.message+":\n\n"+w.value+"\n"+" ".repeat(K.pos)+"^\n";G.push({message:pe,range:[B.lineCounter.linePos(w.range[0]),B.lineCounter.linePos(w.range[0]+K.pos)]});return null}throw K}}constructor(w){this._input=w;this._pos=0;this._length=w.length}_peek(){return this._input[this._pos]||""}_next(){if(this._pos<this._length)return this._input[this._pos++];return null}_eof(){return this._pos>=this._length}_isWhitespace(){return!this._eof()&&/\s/.test(this._peek())}_skipWhitespace(){while(this._isWhitespace())this._pos++}_readIdentifier(w){if(this._eof())this._throwError(`Unexpected end of input when expecting ${w}`);const B=this._pos;while(!this._eof()&&/[a-zA-Z]/.test(this._peek()))this._pos++;return this._input.slice(B,this._pos)}_readString(){let w="";let B=false;while(!this._eof()){const G=this._next();if(B){w+=G;B=false}else if(G==="\\"){B=true}else if(G==='"'){return w}else{w+=G}}this._throwError("Unterminated string")}_throwError(w,B=0){throw new ParserError(w,B||this._pos)}_readRegex(){let w="";let B=false;let G=false;while(!this._eof()){const K=this._next();if(B){w+=K;B=false}else if(K==="\\"){B=true;w+=K}else if(K==="/"&&!G){return{pattern:w}}else if(K==="["){G=true;w+=K}else if(K==="]"&&G){w+=K;G=false}else{w+=K}}this._throwError("Unterminated regex")}_readStringOrRegex(){const w=this._peek();if(w==='"'){this._next();return normalizeWhitespace(this._readString())}if(w==="/"){this._next();return this._readRegex()}return null}_readAttributes(w){let B=this._pos;while(true){this._skipWhitespace();if(this._peek()==="["){this._next();this._skipWhitespace();B=this._pos;const G=this._readIdentifier("attribute");this._skipWhitespace();let K="";if(this._peek()==="="){this._next();this._skipWhitespace();B=this._pos;while(this._peek()!=="]"&&!this._isWhitespace()&&!this._eof())K+=this._next()}this._skipWhitespace();if(this._peek()!=="]")this._throwError("Expected ]");this._next();this._applyAttribute(w,G,K||"true",B)}else{break}}}_parse(){this._skipWhitespace();const w=this._readIdentifier("role");this._skipWhitespace();const B=this._readStringOrRegex()||"";const G={kind:"role",role:w,name:B};this._readAttributes(G);this._skipWhitespace();if(!this._eof())this._throwError("Unexpected input");return G}_applyAttribute(w,B,G,K){if(B==="checked"){this._assert(G==="true"||G==="false"||G==="mixed",'Value of "checked" attribute must be a boolean or "mixed"',K);w.checked=G==="true"?true:G==="false"?false:"mixed";return}if(B==="disabled"){this._assert(G==="true"||G==="false",'Value of "disabled" attribute must be a boolean',K);w.disabled=G==="true";return}if(B==="expanded"){this._assert(G==="true"||G==="false",'Value of "expanded" attribute must be a boolean',K);w.expanded=G==="true";return}if(B==="active"){this._assert(G==="true"||G==="false",'Value of "active" attribute must be a boolean',K);w.active=G==="true";return}if(B==="level"){this._assert(!isNaN(Number(G)),'Value of "level" attribute must be a number',K);w.level=Number(G);return}if(B==="pressed"){this._assert(G==="true"||G==="false"||G==="mixed",'Value of "pressed" attribute must be a boolean or "mixed"',K);w.pressed=G==="true"?true:G==="false"?false:"mixed";return}if(B==="selected"){this._assert(G==="true"||G==="false",'Value of "selected" attribute must be a boolean',K);w.selected=G==="true";return}this._assert(false,`Unsupported attribute [${B}]`,K)}_assert(w,B,G){if(!w)this._throwError(B||"Assertion error",G)}}class ParserError extends Error{constructor(w,B){super(w);this.pos=B}}0&&0},8164:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{assert:()=>assert});w.exports=__toCommonJS(ye);function assert(w,B){if(!w)throw new Error(B||"Assertion error")}0&&0},4558:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{noColors:()=>Be,webColors:()=>Se});w.exports=__toCommonJS(ye);const Se={enabled:true,reset:w=>applyStyle(0,0,w),bold:w=>applyStyle(1,22,w),dim:w=>applyStyle(2,22,w),italic:w=>applyStyle(3,23,w),underline:w=>applyStyle(4,24,w),inverse:w=>applyStyle(7,27,w),hidden:w=>applyStyle(8,28,w),strikethrough:w=>applyStyle(9,29,w),black:w=>applyStyle(30,39,w),red:w=>applyStyle(31,39,w),green:w=>applyStyle(32,39,w),yellow:w=>applyStyle(33,39,w),blue:w=>applyStyle(34,39,w),magenta:w=>applyStyle(35,39,w),cyan:w=>applyStyle(36,39,w),white:w=>applyStyle(37,39,w),gray:w=>applyStyle(90,39,w),grey:w=>applyStyle(90,39,w)};const Be={enabled:false,reset:w=>w,bold:w=>w,dim:w=>w,italic:w=>w,underline:w=>w,inverse:w=>w,hidden:w=>w,strikethrough:w=>w,black:w=>w,red:w=>w,green:w=>w,yellow:w=>w,blue:w=>w,magenta:w=>w,cyan:w=>w,white:w=>w,gray:w=>w,grey:w=>w};const applyStyle=(w,B,G)=>`[${w}m${G}[${B}m`;0&&0},760:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf;var Qe=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,K)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Be of Se(B))if(!Qe.call(w,Be)&&Be!==G)pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable})}return w};var __toESM=(w,B,G)=>(G=w!=null?K(Be(w)):{},__copyProps(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:true}):G,w));var __toCommonJS=w=>__copyProps(pe({},"__esModule",{value:true}),w);var Pe={};__export(Pe,{InvalidSelectorError:()=>InvalidSelectorError,isInvalidSelectorError:()=>isInvalidSelectorError,parseCSS:()=>parseCSS,serializeSelector:()=>serializeSelector});w.exports=__toCommonJS(Pe);var Fe=__toESM(G(2210));class InvalidSelectorError extends Error{}function isInvalidSelectorError(w){return w instanceof InvalidSelectorError}function parseCSS(w,B){let G;try{G=Fe.tokenize(w);if(!(G[G.length-1]instanceof Fe.EOFToken))G.push(new Fe.EOFToken)}catch(B){const G=B.message+` while parsing css selector "${w}". Did you mean to CSS.escape it?`;const K=(B.stack||"").indexOf(B.message);if(K!==-1)B.stack=B.stack.substring(0,K)+G+B.stack.substring(K+B.message.length);B.message=G;throw B}const K=G.find((w=>w instanceof Fe.AtKeywordToken||w instanceof Fe.BadStringToken||w instanceof Fe.BadURLToken||w instanceof Fe.ColumnToken||w instanceof Fe.CDOToken||w instanceof Fe.CDCToken||w instanceof Fe.SemicolonToken||w instanceof Fe.OpenCurlyToken||w instanceof Fe.CloseCurlyToken||w instanceof Fe.URLToken||w instanceof Fe.PercentageToken));if(K)throw new InvalidSelectorError(`Unsupported token "${K.toSource()}" while parsing css selector "${w}". Did you mean to CSS.escape it?`);let pe=0;const ye=new Set;function unexpected(){return new InvalidSelectorError(`Unexpected token "${G[pe].toSource()}" while parsing css selector "${w}". Did you mean to CSS.escape it?`)}function skipWhitespace(){while(G[pe]instanceof Fe.WhitespaceToken)pe++}function isIdent(w=pe){return G[w]instanceof Fe.IdentToken}function isString(w=pe){return G[w]instanceof Fe.StringToken}function isNumber(w=pe){return G[w]instanceof Fe.NumberToken}function isComma(w=pe){return G[w]instanceof Fe.CommaToken}function isOpenParen(w=pe){return G[w]instanceof Fe.OpenParenToken}function isCloseParen(w=pe){return G[w]instanceof Fe.CloseParenToken}function isFunction(w=pe){return G[w]instanceof Fe.FunctionToken}function isStar(w=pe){return G[w]instanceof Fe.DelimToken&&G[w].value==="*"}function isEOF(w=pe){return G[w]instanceof Fe.EOFToken}function isClauseCombinator(w=pe){return G[w]instanceof Fe.DelimToken&&[">","+","~"].includes(G[w].value)}function isSelectorClauseEnd(w=pe){return isComma(w)||isCloseParen(w)||isEOF(w)||isClauseCombinator(w)||G[w]instanceof Fe.WhitespaceToken}function consumeFunctionArguments(){const w=[consumeArgument()];while(true){skipWhitespace();if(!isComma())break;pe++;w.push(consumeArgument())}return w}function consumeArgument(){skipWhitespace();if(isNumber())return G[pe++].value;if(isString())return G[pe++].value;return consumeComplexSelector()}function consumeComplexSelector(){const w={simples:[]};skipWhitespace();if(isClauseCombinator()){w.simples.push({selector:{functions:[{name:"scope",args:[]}]},combinator:""})}else{w.simples.push({selector:consumeSimpleSelector(),combinator:""})}while(true){skipWhitespace();if(isClauseCombinator()){w.simples[w.simples.length-1].combinator=G[pe++].value;skipWhitespace()}else if(isSelectorClauseEnd()){break}w.simples.push({combinator:"",selector:consumeSimpleSelector()})}return w}function consumeSimpleSelector(){let w="";const K=[];while(!isSelectorClauseEnd()){if(isIdent()||isStar()){w+=G[pe++].toSource()}else if(G[pe]instanceof Fe.HashToken){w+=G[pe++].toSource()}else if(G[pe]instanceof Fe.DelimToken&&G[pe].value==="."){pe++;if(isIdent())w+="."+G[pe++].toSource();else throw unexpected()}else if(G[pe]instanceof Fe.ColonToken){pe++;if(isIdent()){if(!B.has(G[pe].value.toLowerCase())){w+=":"+G[pe++].toSource()}else{const w=G[pe++].value.toLowerCase();K.push({name:w,args:[]});ye.add(w)}}else if(isFunction()){const Se=G[pe++].value.toLowerCase();if(!B.has(Se)){w+=`:${Se}(${consumeBuiltinFunctionArguments()})`}else{K.push({name:Se,args:consumeFunctionArguments()});ye.add(Se)}skipWhitespace();if(!isCloseParen())throw unexpected();pe++}else{throw unexpected()}}else if(G[pe]instanceof Fe.OpenSquareToken){w+="[";pe++;while(!(G[pe]instanceof Fe.CloseSquareToken)&&!isEOF())w+=G[pe++].toSource();if(!(G[pe]instanceof Fe.CloseSquareToken))throw unexpected();w+="]";pe++}else{throw unexpected()}}if(!w&&!K.length)throw unexpected();return{css:w||void 0,functions:K}}function consumeBuiltinFunctionArguments(){let w="";let B=1;while(!isEOF()){if(isOpenParen()||isFunction())B++;if(isCloseParen())B--;if(!B)break;w+=G[pe++].toSource()}return w}const Se=consumeFunctionArguments();if(!isEOF())throw unexpected();if(Se.some((w=>typeof w!=="object"||!("simples"in w))))throw new InvalidSelectorError(`Error while parsing css selector "${w}". Did you mean to CSS.escape it?`);return{selector:Se,names:Array.from(ye)}}function serializeSelector(w){return w.map((w=>{if(typeof w==="string")return`"${w}"`;if(typeof w==="number")return String(w);return w.simples.map((({selector:w,combinator:B})=>{let G=w.css||"";G=G+w.functions.map((w=>`:${w.name}(${serializeSelector(w.args)})`)).join("");if(B)G+=" "+B;return G})).join(" ")})).join(", ")}0&&0},2210:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{AtKeywordToken:()=>AtKeywordToken,BadStringToken:()=>BadStringToken,BadURLToken:()=>BadURLToken,CDCToken:()=>CDCToken,CDOToken:()=>CDOToken,CSSParserToken:()=>CSSParserToken,CloseCurlyToken:()=>CloseCurlyToken,CloseParenToken:()=>CloseParenToken,CloseSquareToken:()=>CloseSquareToken,ColonToken:()=>ColonToken,ColumnToken:()=>ColumnToken,CommaToken:()=>CommaToken,DashMatchToken:()=>DashMatchToken,DelimToken:()=>DelimToken,DimensionToken:()=>DimensionToken,EOFToken:()=>EOFToken,FunctionToken:()=>FunctionToken,GroupingToken:()=>GroupingToken,HashToken:()=>HashToken,IdentToken:()=>IdentToken,IncludeMatchToken:()=>IncludeMatchToken,InvalidCharacterError:()=>InvalidCharacterError,NumberToken:()=>NumberToken,OpenCurlyToken:()=>OpenCurlyToken,OpenParenToken:()=>OpenParenToken,OpenSquareToken:()=>OpenSquareToken,PercentageToken:()=>PercentageToken,PrefixMatchToken:()=>PrefixMatchToken,SemicolonToken:()=>SemicolonToken,StringToken:()=>StringToken,StringValuedToken:()=>StringValuedToken,SubstringMatchToken:()=>SubstringMatchToken,SuffixMatchToken:()=>SuffixMatchToken,URLToken:()=>URLToken,WhitespaceToken:()=>WhitespaceToken,tokenize:()=>tokenize});w.exports=__toCommonJS(ye);const between=function(w,B,G){return w>=B&&w<=G};function digit(w){return between(w,48,57)}function hexdigit(w){return digit(w)||between(w,65,70)||between(w,97,102)}function uppercaseletter(w){return between(w,65,90)}function lowercaseletter(w){return between(w,97,122)}function letter(w){return uppercaseletter(w)||lowercaseletter(w)}function nonascii(w){return w>=128}function namestartchar(w){return letter(w)||nonascii(w)||w===95}function namechar(w){return namestartchar(w)||digit(w)||w===45}function nonprintable(w){return between(w,0,8)||w===11||between(w,14,31)||w===127}function newline(w){return w===10}function whitespace(w){return newline(w)||w===9||w===32}const Se=1114111;class InvalidCharacterError extends Error{constructor(w){super(w);this.name="InvalidCharacterError"}}function preprocess(w){const B=[];for(let G=0;G<w.length;G++){let K=w.charCodeAt(G);if(K===13&&w.charCodeAt(G+1)===10){K=10;G++}if(K===13||K===12)K=10;if(K===0)K=65533;if(between(K,55296,56319)&&between(w.charCodeAt(G+1),56320,57343)){const B=K-55296;const pe=w.charCodeAt(G+1)-56320;K=Math.pow(2,16)+B*Math.pow(2,10)+pe;G++}B.push(K)}return B}function stringFromCode(w){if(w<=65535)return String.fromCharCode(w);w-=Math.pow(2,16);const B=Math.floor(w/Math.pow(2,10))+55296;const G=w%Math.pow(2,10)+56320;return String.fromCharCode(B)+String.fromCharCode(G)}function tokenize(w){const B=preprocess(w);let G=-1;const K=[];let pe;let ye=0;let Be=0;let Qe=0;const incrLineno=function(){ye+=1;Qe=Be;Be=0};const Pe={line:ye,column:Be};const codepoint=function(w){if(w>=B.length)return-1;return B[w]};const next=function(w){if(w===void 0)w=1;if(w>3)throw"Spec Error: no more than three codepoints of lookahead.";return codepoint(G+w)};const consume=function(w){if(w===void 0)w=1;G+=w;pe=codepoint(G);if(newline(pe))incrLineno();else Be+=w;return true};const reconsume=function(){G-=1;if(newline(pe)){ye-=1;Be=Qe}else{Be-=1}Pe.line=ye;Pe.column=Be;return true};const eof=function(w){if(w===void 0)w=pe;return w===-1};const donothing=function(){};const parseerror=function(){};const consumeAToken=function(){consumeComments();consume();if(whitespace(pe)){while(whitespace(next()))consume();return new WhitespaceToken}else if(pe===34){return consumeAStringToken()}else if(pe===35){if(namechar(next())||areAValidEscape(next(1),next(2))){const w=new HashToken("");if(wouldStartAnIdentifier(next(1),next(2),next(3)))w.type="id";w.value=consumeAName();return w}else{return new DelimToken(pe)}}else if(pe===36){if(next()===61){consume();return new SuffixMatchToken}else{return new DelimToken(pe)}}else if(pe===39){return consumeAStringToken()}else if(pe===40){return new OpenParenToken}else if(pe===41){return new CloseParenToken}else if(pe===42){if(next()===61){consume();return new SubstringMatchToken}else{return new DelimToken(pe)}}else if(pe===43){if(startsWithANumber()){reconsume();return consumeANumericToken()}else{return new DelimToken(pe)}}else if(pe===44){return new CommaToken}else if(pe===45){if(startsWithANumber()){reconsume();return consumeANumericToken()}else if(next(1)===45&&next(2)===62){consume(2);return new CDCToken}else if(startsWithAnIdentifier()){reconsume();return consumeAnIdentlikeToken()}else{return new DelimToken(pe)}}else if(pe===46){if(startsWithANumber()){reconsume();return consumeANumericToken()}else{return new DelimToken(pe)}}else if(pe===58){return new ColonToken}else if(pe===59){return new SemicolonToken}else if(pe===60){if(next(1)===33&&next(2)===45&&next(3)===45){consume(3);return new CDOToken}else{return new DelimToken(pe)}}else if(pe===64){if(wouldStartAnIdentifier(next(1),next(2),next(3)))return new AtKeywordToken(consumeAName());else return new DelimToken(pe)}else if(pe===91){return new OpenSquareToken}else if(pe===92){if(startsWithAValidEscape()){reconsume();return consumeAnIdentlikeToken()}else{parseerror();return new DelimToken(pe)}}else if(pe===93){return new CloseSquareToken}else if(pe===94){if(next()===61){consume();return new PrefixMatchToken}else{return new DelimToken(pe)}}else if(pe===123){return new OpenCurlyToken}else if(pe===124){if(next()===61){consume();return new DashMatchToken}else if(next()===124){consume();return new ColumnToken}else{return new DelimToken(pe)}}else if(pe===125){return new CloseCurlyToken}else if(pe===126){if(next()===61){consume();return new IncludeMatchToken}else{return new DelimToken(pe)}}else if(digit(pe)){reconsume();return consumeANumericToken()}else if(namestartchar(pe)){reconsume();return consumeAnIdentlikeToken()}else if(eof()){return new EOFToken}else{return new DelimToken(pe)}};const consumeComments=function(){while(next(1)===47&&next(2)===42){consume(2);while(true){consume();if(pe===42&&next()===47){consume();break}else if(eof()){parseerror();return}}}};const consumeANumericToken=function(){const w=consumeANumber();if(wouldStartAnIdentifier(next(1),next(2),next(3))){const B=new DimensionToken;B.value=w.value;B.repr=w.repr;B.type=w.type;B.unit=consumeAName();return B}else if(next()===37){consume();const B=new PercentageToken;B.value=w.value;B.repr=w.repr;return B}else{const B=new NumberToken;B.value=w.value;B.repr=w.repr;B.type=w.type;return B}};const consumeAnIdentlikeToken=function(){const w=consumeAName();if(w.toLowerCase()==="url"&&next()===40){consume();while(whitespace(next(1))&&whitespace(next(2)))consume();if(next()===34||next()===39)return new FunctionToken(w);else if(whitespace(next())&&(next(2)===34||next(2)===39))return new FunctionToken(w);else return consumeAURLToken()}else if(next()===40){consume();return new FunctionToken(w)}else{return new IdentToken(w)}};const consumeAStringToken=function(w){if(w===void 0)w=pe;let B="";while(consume()){if(pe===w||eof()){return new StringToken(B)}else if(newline(pe)){parseerror();reconsume();return new BadStringToken}else if(pe===92){if(eof(next()))donothing();else if(newline(next()))consume();else B+=stringFromCode(consumeEscape())}else{B+=stringFromCode(pe)}}throw new Error("Internal error")};const consumeAURLToken=function(){const w=new URLToken("");while(whitespace(next()))consume();if(eof(next()))return w;while(consume()){if(pe===41||eof()){return w}else if(whitespace(pe)){while(whitespace(next()))consume();if(next()===41||eof(next())){consume();return w}else{consumeTheRemnantsOfABadURL();return new BadURLToken}}else if(pe===34||pe===39||pe===40||nonprintable(pe)){parseerror();consumeTheRemnantsOfABadURL();return new BadURLToken}else if(pe===92){if(startsWithAValidEscape()){w.value+=stringFromCode(consumeEscape())}else{parseerror();consumeTheRemnantsOfABadURL();return new BadURLToken}}else{w.value+=stringFromCode(pe)}}throw new Error("Internal error")};const consumeEscape=function(){consume();if(hexdigit(pe)){const w=[pe];for(let B=0;B<5;B++){if(hexdigit(next())){consume();w.push(pe)}else{break}}if(whitespace(next()))consume();let B=parseInt(w.map((function(w){return String.fromCharCode(w)})).join(""),16);if(B>Se)B=65533;return B}else if(eof()){return 65533}else{return pe}};const areAValidEscape=function(w,B){if(w!==92)return false;if(newline(B))return false;return true};const startsWithAValidEscape=function(){return areAValidEscape(pe,next())};const wouldStartAnIdentifier=function(w,B,G){if(w===45)return namestartchar(B)||B===45||areAValidEscape(B,G);else if(namestartchar(w))return true;else if(w===92)return areAValidEscape(w,B);else return false};const startsWithAnIdentifier=function(){return wouldStartAnIdentifier(pe,next(1),next(2))};const wouldStartANumber=function(w,B,G){if(w===43||w===45){if(digit(B))return true;if(B===46&&digit(G))return true;return false}else if(w===46){if(digit(B))return true;return false}else if(digit(w)){return true}else{return false}};const startsWithANumber=function(){return wouldStartANumber(pe,next(1),next(2))};const consumeAName=function(){let w="";while(consume()){if(namechar(pe)){w+=stringFromCode(pe)}else if(startsWithAValidEscape()){w+=stringFromCode(consumeEscape())}else{reconsume();return w}}throw new Error("Internal parse error")};const consumeANumber=function(){let w="";let B="integer";if(next()===43||next()===45){consume();w+=stringFromCode(pe)}while(digit(next())){consume();w+=stringFromCode(pe)}if(next(1)===46&&digit(next(2))){consume();w+=stringFromCode(pe);consume();w+=stringFromCode(pe);B="number";while(digit(next())){consume();w+=stringFromCode(pe)}}const G=next(1),K=next(2),ye=next(3);if((G===69||G===101)&&digit(K)){consume();w+=stringFromCode(pe);consume();w+=stringFromCode(pe);B="number";while(digit(next())){consume();w+=stringFromCode(pe)}}else if((G===69||G===101)&&(K===43||K===45)&&digit(ye)){consume();w+=stringFromCode(pe);consume();w+=stringFromCode(pe);consume();w+=stringFromCode(pe);B="number";while(digit(next())){consume();w+=stringFromCode(pe)}}const Se=convertAStringToANumber(w);return{type:B,value:Se,repr:w}};const convertAStringToANumber=function(w){return+w};const consumeTheRemnantsOfABadURL=function(){while(consume()){if(pe===41||eof()){return}else if(startsWithAValidEscape()){consumeEscape();donothing()}else{donothing()}}};let Fe=0;while(!eof(next())){K.push(consumeAToken());Fe++;if(Fe>B.length*2)throw new Error("I'm infinite-looping!")}return K}class CSSParserToken{constructor(){this.tokenType=""}toJSON(){return{token:this.tokenType}}toString(){return this.tokenType}toSource(){return""+this}}class BadStringToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="BADSTRING"}}class BadURLToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="BADURL"}}class WhitespaceToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="WHITESPACE"}toString(){return"WS"}toSource(){return" "}}class CDOToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="CDO"}toSource(){return"\x3c!--"}}class CDCToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="CDC"}toSource(){return"--\x3e"}}class ColonToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType=":"}}class SemicolonToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType=";"}}class CommaToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType=","}}class GroupingToken extends CSSParserToken{constructor(){super(...arguments);this.value="";this.mirror=""}}class OpenCurlyToken extends GroupingToken{constructor(){super();this.tokenType="{";this.value="{";this.mirror="}"}}class CloseCurlyToken extends GroupingToken{constructor(){super();this.tokenType="}";this.value="}";this.mirror="{"}}class OpenSquareToken extends GroupingToken{constructor(){super();this.tokenType="[";this.value="[";this.mirror="]"}}class CloseSquareToken extends GroupingToken{constructor(){super();this.tokenType="]";this.value="]";this.mirror="["}}class OpenParenToken extends GroupingToken{constructor(){super();this.tokenType="(";this.value="(";this.mirror=")"}}class CloseParenToken extends GroupingToken{constructor(){super();this.tokenType=")";this.value=")";this.mirror="("}}class IncludeMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="~="}}class DashMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="|="}}class PrefixMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="^="}}class SuffixMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="$="}}class SubstringMatchToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="*="}}class ColumnToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="||"}}class EOFToken extends CSSParserToken{constructor(){super(...arguments);this.tokenType="EOF"}toSource(){return""}}class DelimToken extends CSSParserToken{constructor(w){super();this.tokenType="DELIM";this.value="";this.value=stringFromCode(w)}toString(){return"DELIM("+this.value+")"}toJSON(){const w=this.constructor.prototype.constructor.prototype.toJSON.call(this);w.value=this.value;return w}toSource(){if(this.value==="\\")return"\\\n";else return this.value}}class StringValuedToken extends CSSParserToken{constructor(){super(...arguments);this.value=""}ASCIIMatch(w){return this.value.toLowerCase()===w.toLowerCase()}toJSON(){const w=this.constructor.prototype.constructor.prototype.toJSON.call(this);w.value=this.value;return w}}class IdentToken extends StringValuedToken{constructor(w){super();this.tokenType="IDENT";this.value=w}toString(){return"IDENT("+this.value+")"}toSource(){return escapeIdent(this.value)}}class FunctionToken extends StringValuedToken{constructor(w){super();this.tokenType="FUNCTION";this.value=w;this.mirror=")"}toString(){return"FUNCTION("+this.value+")"}toSource(){return escapeIdent(this.value)+"("}}class AtKeywordToken extends StringValuedToken{constructor(w){super();this.tokenType="AT-KEYWORD";this.value=w}toString(){return"AT("+this.value+")"}toSource(){return"@"+escapeIdent(this.value)}}class HashToken extends StringValuedToken{constructor(w){super();this.tokenType="HASH";this.value=w;this.type="unrestricted"}toString(){return"HASH("+this.value+")"}toJSON(){const w=this.constructor.prototype.constructor.prototype.toJSON.call(this);w.value=this.value;w.type=this.type;return w}toSource(){if(this.type==="id")return"#"+escapeIdent(this.value);else return"#"+escapeHash(this.value)}}class StringToken extends StringValuedToken{constructor(w){super();this.tokenType="STRING";this.value=w}toString(){return'"'+escapeString(this.value)+'"'}}class URLToken extends StringValuedToken{constructor(w){super();this.tokenType="URL";this.value=w}toString(){return"URL("+this.value+")"}toSource(){return'url("'+escapeString(this.value)+'")'}}class NumberToken extends CSSParserToken{constructor(){super();this.tokenType="NUMBER";this.type="integer";this.repr=""}toString(){if(this.type==="integer")return"INT("+this.value+")";return"NUMBER("+this.value+")"}toJSON(){const w=super.toJSON();w.value=this.value;w.type=this.type;w.repr=this.repr;return w}toSource(){return this.repr}}class PercentageToken extends CSSParserToken{constructor(){super();this.tokenType="PERCENTAGE";this.repr=""}toString(){return"PERCENTAGE("+this.value+")"}toJSON(){const w=this.constructor.prototype.constructor.prototype.toJSON.call(this);w.value=this.value;w.repr=this.repr;return w}toSource(){return this.repr+"%"}}class DimensionToken extends CSSParserToken{constructor(){super();this.tokenType="DIMENSION";this.type="integer";this.repr="";this.unit=""}toString(){return"DIM("+this.value+","+this.unit+")"}toJSON(){const w=this.constructor.prototype.constructor.prototype.toJSON.call(this);w.value=this.value;w.type=this.type;w.repr=this.repr;w.unit=this.unit;return w}toSource(){const w=this.repr;let B=escapeIdent(this.unit);if(B[0].toLowerCase()==="e"&&(B[1]==="-"||between(B.charCodeAt(1),48,57))){B="\\65 "+B.slice(1,B.length)}return w+B}}function escapeIdent(w){w=""+w;let B="";const G=w.charCodeAt(0);for(let K=0;K<w.length;K++){const pe=w.charCodeAt(K);if(pe===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");if(between(pe,1,31)||pe===127||K===0&&between(pe,48,57)||K===1&&between(pe,48,57)&&G===45)B+="\\"+pe.toString(16)+" ";else if(pe>=128||pe===45||pe===95||between(pe,48,57)||between(pe,65,90)||between(pe,97,122))B+=w[K];else B+="\\"+w[K]}return B}function escapeHash(w){w=""+w;let B="";for(let G=0;G<w.length;G++){const K=w.charCodeAt(G);if(K===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");if(K>=128||K===45||K===95||between(K,48,57)||between(K,65,90)||between(K,97,122))B+=w[G];else B+="\\"+K.toString(16)+" "}return B}function escapeString(w){w=""+w;let B="";for(let G=0;G<w.length;G++){const K=w.charCodeAt(G);if(K===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");if(between(K,1,31)||K===127)B+="\\"+K.toString(16)+" ";else if(K===34||K===92)B+="\\"+w[G];else B+=w[G]}return B}0&&0},8390:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{headersArrayToObject:()=>headersArrayToObject,headersObjectToArray:()=>headersObjectToArray});w.exports=__toCommonJS(ye);function headersObjectToArray(w,B,G){if(!G)G=B;const K=[];for(const pe in w){const ye=w[pe];if(ye===void 0)continue;if(B){const w=pe.toLowerCase()==="set-cookie"?G:B;for(const B of ye.split(w))K.push({name:pe,value:B.trim()})}else{K.push({name:pe,value:ye})}}return K}function headersArrayToObject(w,B){const G={};for(const{name:K,value:pe}of w)G[B?K.toLowerCase():K]=pe;return G}0&&0},3780:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{CSharpLocatorFactory:()=>CSharpLocatorFactory,JavaLocatorFactory:()=>JavaLocatorFactory,JavaScriptLocatorFactory:()=>JavaScriptLocatorFactory,JsonlLocatorFactory:()=>JsonlLocatorFactory,PythonLocatorFactory:()=>PythonLocatorFactory,asLocator:()=>asLocator,asLocatorDescription:()=>asLocatorDescription,asLocators:()=>asLocators});w.exports=__toCommonJS(Be);var Qe=G(6548);var Pe=G(9658);function asLocatorDescription(w,B){try{const G=(0,Qe.parseSelector)(B);const K=G.parts[G.parts.length-1];if(K?.name==="internal:describe"){const w=JSON.parse(K.body);if(typeof w==="string")return w}return innerAsLocators(new Fe[w],G,false,1)[0]}catch(w){return B}}function asLocator(w,B,G=false){return asLocators(w,B,G,1)[0]}function asLocators(w,B,G=false,K=20,pe){try{return innerAsLocators(new Fe[w](pe),(0,Qe.parseSelector)(B),G,K)}catch(w){return[B]}}function innerAsLocators(w,B,G=false,K=20){const pe=[...B.parts];const ye=[];let Se=G?"frame-locator":"page";for(let B=0;B<pe.length;B++){const G=pe[B];const Be=Se;Se="locator";if(G.name==="internal:describe")continue;if(G.name==="nth"){if(G.body==="0")ye.push([w.generateLocator(Be,"first",""),w.generateLocator(Be,"nth","0")]);else if(G.body==="-1")ye.push([w.generateLocator(Be,"last",""),w.generateLocator(Be,"nth","-1")]);else ye.push([w.generateLocator(Be,"nth",G.body)]);continue}if(G.name==="visible"){ye.push([w.generateLocator(Be,"visible",G.body),w.generateLocator(Be,"default",`visible=${G.body}`)]);continue}if(G.name==="internal:text"){const{exact:B,text:K}=detectExact(G.body);ye.push([w.generateLocator(Be,"text",K,{exact:B})]);continue}if(G.name==="internal:has-text"){const{exact:B,text:K}=detectExact(G.body);if(!B){ye.push([w.generateLocator(Be,"has-text",K,{exact:B})]);continue}}if(G.name==="internal:has-not-text"){const{exact:B,text:K}=detectExact(G.body);if(!B){ye.push([w.generateLocator(Be,"has-not-text",K,{exact:B})]);continue}}if(G.name==="internal:has"){const B=innerAsLocators(w,G.body.parsed,false,K);ye.push(B.map((B=>w.generateLocator(Be,"has",B))));continue}if(G.name==="internal:has-not"){const B=innerAsLocators(w,G.body.parsed,false,K);ye.push(B.map((B=>w.generateLocator(Be,"hasNot",B))));continue}if(G.name==="internal:and"){const B=innerAsLocators(w,G.body.parsed,false,K);ye.push(B.map((B=>w.generateLocator(Be,"and",B))));continue}if(G.name==="internal:or"){const B=innerAsLocators(w,G.body.parsed,false,K);ye.push(B.map((B=>w.generateLocator(Be,"or",B))));continue}if(G.name==="internal:chain"){const B=innerAsLocators(w,G.body.parsed,false,K);ye.push(B.map((B=>w.generateLocator(Be,"chain",B))));continue}if(G.name==="internal:label"){const{exact:B,text:K}=detectExact(G.body);ye.push([w.generateLocator(Be,"label",K,{exact:B})]);continue}if(G.name==="internal:role"){const B=(0,Qe.parseAttributeSelector)(G.body,true);const K={attrs:[]};for(const w of B.attributes){if(w.name==="name"){K.exact=w.caseSensitive;K.name=w.value}else{if(w.name==="level"&&typeof w.value==="string")w.value=+w.value;K.attrs.push({name:w.name==="include-hidden"?"includeHidden":w.name,value:w.value})}}ye.push([w.generateLocator(Be,"role",B.name,K)]);continue}if(G.name==="internal:testid"){const B=(0,Qe.parseAttributeSelector)(G.body,true);const{value:K}=B.attributes[0];ye.push([w.generateLocator(Be,"test-id",K)]);continue}if(G.name==="internal:attr"){const B=(0,Qe.parseAttributeSelector)(G.body,true);const{name:K,value:pe,caseSensitive:Se}=B.attributes[0];const Pe=pe;const Fe=!!Se;if(K==="placeholder"){ye.push([w.generateLocator(Be,"placeholder",Pe,{exact:Fe})]);continue}if(K==="alt"){ye.push([w.generateLocator(Be,"alt",Pe,{exact:Fe})]);continue}if(K==="title"){ye.push([w.generateLocator(Be,"title",Pe,{exact:Fe})]);continue}}if(G.name==="internal:control"&&G.body==="enter-frame"){const G=ye[ye.length-1];const K=pe[B-1];const Pe=G.map((B=>w.chainLocators([B,w.generateLocator(Be,"frame","")])));if(["xpath","css"].includes(K.name)){Pe.push(w.generateLocator(Be,"frame-locator",(0,Qe.stringifySelector)({parts:[K]})),w.generateLocator(Be,"frame-locator",(0,Qe.stringifySelector)({parts:[K]},true)))}G.splice(0,G.length,...Pe);Se="frame-locator";continue}const Pe=pe[B+1];const Fe=(0,Qe.stringifySelector)({parts:[G]});const Me=w.generateLocator(Be,"default",Fe);if(Pe&&["internal:has-text","internal:has-not-text"].includes(Pe.name)){const{exact:G,text:K}=detectExact(Pe.body);if(!G){const pe=w.generateLocator("locator",Pe.name==="internal:has-text"?"has-text":"has-not-text",K,{exact:G});const Se={};if(Pe.name==="internal:has-text")Se.hasText=K;else Se.hasNotText=K;const Qe=w.generateLocator(Be,"default",Fe,Se);ye.push([w.chainLocators([Me,pe]),Qe]);B++;continue}}let Le;if(["xpath","css"].includes(G.name)){const B=(0,Qe.stringifySelector)({parts:[G]},true);Le=w.generateLocator(Be,"default",B)}ye.push([Me,Le].filter(Boolean))}return combineTokens(w,ye,K)}function combineTokens(w,B,G){const K=B.map((()=>""));const pe=[];const visit=ye=>{if(ye===B.length){pe.push(w.chainLocators(K));return pe.length<G}for(const w of B[ye]){K[ye]=w;if(!visit(ye+1))return false}return true};visit(0);return pe}function detectExact(w){let B=false;const G=w.match(/^\/(.*)\/([igm]*)$/);if(G)return{text:new RegExp(G[1],G[2])};if(w.endsWith('"')){w=JSON.parse(w);B=true}else if(w.endsWith('"s')){w=JSON.parse(w.substring(0,w.length-1));B=true}else if(w.endsWith('"i')){w=JSON.parse(w.substring(0,w.length-1));B=false}return{exact:B,text:w}}class JavaScriptLocatorFactory{constructor(w){this.preferredQuote=w}generateLocator(w,B,G,K={}){switch(B){case"default":if(K.hasText!==void 0)return`locator(${this.quote(G)}, { hasText: ${this.toHasText(K.hasText)} })`;if(K.hasNotText!==void 0)return`locator(${this.quote(G)}, { hasNotText: ${this.toHasText(K.hasNotText)} })`;return`locator(${this.quote(G)})`;case"frame-locator":return`frameLocator(${this.quote(G)})`;case"frame":return`contentFrame()`;case"nth":return`nth(${G})`;case"first":return`first()`;case"last":return`last()`;case"visible":return`filter({ visible: ${G==="true"?"true":"false"} })`;case"role":const w=[];if(isRegExp(K.name)){w.push(`name: ${this.regexToSourceString(K.name)}`)}else if(typeof K.name==="string"){w.push(`name: ${this.quote(K.name)}`);if(K.exact)w.push(`exact: true`)}for(const{name:B,value:G}of K.attrs)w.push(`${B}: ${typeof G==="string"?this.quote(G):G}`);const pe=w.length?`, { ${w.join(", ")} }`:"";return`getByRole(${this.quote(G)}${pe})`;case"has-text":return`filter({ hasText: ${this.toHasText(G)} })`;case"has-not-text":return`filter({ hasNotText: ${this.toHasText(G)} })`;case"has":return`filter({ has: ${G} })`;case"hasNot":return`filter({ hasNot: ${G} })`;case"and":return`and(${G})`;case"or":return`or(${G})`;case"chain":return`locator(${G})`;case"test-id":return`getByTestId(${this.toTestIdValue(G)})`;case"text":return this.toCallWithExact("getByText",G,!!K.exact);case"alt":return this.toCallWithExact("getByAltText",G,!!K.exact);case"placeholder":return this.toCallWithExact("getByPlaceholder",G,!!K.exact);case"label":return this.toCallWithExact("getByLabel",G,!!K.exact);case"title":return this.toCallWithExact("getByTitle",G,!!K.exact);default:throw new Error("Unknown selector kind "+B)}}chainLocators(w){return w.join(".")}regexToSourceString(w){return(0,Pe.normalizeEscapedRegexQuotes)(String(w))}toCallWithExact(w,B,G){if(isRegExp(B))return`${w}(${this.regexToSourceString(B)})`;return G?`${w}(${this.quote(B)}, { exact: true })`:`${w}(${this.quote(B)})`}toHasText(w){if(isRegExp(w))return this.regexToSourceString(w);return this.quote(w)}toTestIdValue(w){if(isRegExp(w))return this.regexToSourceString(w);return this.quote(w)}quote(w){return(0,Pe.escapeWithQuotes)(w,this.preferredQuote??"'")}}class PythonLocatorFactory{generateLocator(w,B,G,K={}){switch(B){case"default":if(K.hasText!==void 0)return`locator(${this.quote(G)}, has_text=${this.toHasText(K.hasText)})`;if(K.hasNotText!==void 0)return`locator(${this.quote(G)}, has_not_text=${this.toHasText(K.hasNotText)})`;return`locator(${this.quote(G)})`;case"frame-locator":return`frame_locator(${this.quote(G)})`;case"frame":return`content_frame`;case"nth":return`nth(${G})`;case"first":return`first`;case"last":return`last`;case"visible":return`filter(visible=${G==="true"?"True":"False"})`;case"role":const w=[];if(isRegExp(K.name)){w.push(`name=${this.regexToString(K.name)}`)}else if(typeof K.name==="string"){w.push(`name=${this.quote(K.name)}`);if(K.exact)w.push(`exact=True`)}for(const{name:B,value:G}of K.attrs){let K=typeof G==="string"?this.quote(G):G;if(typeof G==="boolean")K=G?"True":"False";w.push(`${(0,Pe.toSnakeCase)(B)}=${K}`)}const pe=w.length?`, ${w.join(", ")}`:"";return`get_by_role(${this.quote(G)}${pe})`;case"has-text":return`filter(has_text=${this.toHasText(G)})`;case"has-not-text":return`filter(has_not_text=${this.toHasText(G)})`;case"has":return`filter(has=${G})`;case"hasNot":return`filter(has_not=${G})`;case"and":return`and_(${G})`;case"or":return`or_(${G})`;case"chain":return`locator(${G})`;case"test-id":return`get_by_test_id(${this.toTestIdValue(G)})`;case"text":return this.toCallWithExact("get_by_text",G,!!K.exact);case"alt":return this.toCallWithExact("get_by_alt_text",G,!!K.exact);case"placeholder":return this.toCallWithExact("get_by_placeholder",G,!!K.exact);case"label":return this.toCallWithExact("get_by_label",G,!!K.exact);case"title":return this.toCallWithExact("get_by_title",G,!!K.exact);default:throw new Error("Unknown selector kind "+B)}}chainLocators(w){return w.join(".")}regexToString(w){const B=w.flags.includes("i")?", re.IGNORECASE":"";return`re.compile(r"${(0,Pe.normalizeEscapedRegexQuotes)(w.source).replace(/\\\//,"/").replace(/"/g,'\\"')}"${B})`}toCallWithExact(w,B,G){if(isRegExp(B))return`${w}(${this.regexToString(B)})`;if(G)return`${w}(${this.quote(B)}, exact=True)`;return`${w}(${this.quote(B)})`}toHasText(w){if(isRegExp(w))return this.regexToString(w);return`${this.quote(w)}`}toTestIdValue(w){if(isRegExp(w))return this.regexToString(w);return this.quote(w)}quote(w){return(0,Pe.escapeWithQuotes)(w,'"')}}class JavaLocatorFactory{generateLocator(w,B,G,K={}){let pe;switch(w){case"page":pe="Page";break;case"frame-locator":pe="FrameLocator";break;case"locator":pe="Locator";break}switch(B){case"default":if(K.hasText!==void 0)return`locator(${this.quote(G)}, new ${pe}.LocatorOptions().setHasText(${this.toHasText(K.hasText)}))`;if(K.hasNotText!==void 0)return`locator(${this.quote(G)}, new ${pe}.LocatorOptions().setHasNotText(${this.toHasText(K.hasNotText)}))`;return`locator(${this.quote(G)})`;case"frame-locator":return`frameLocator(${this.quote(G)})`;case"frame":return`contentFrame()`;case"nth":return`nth(${G})`;case"first":return`first()`;case"last":return`last()`;case"visible":return`filter(new ${pe}.FilterOptions().setVisible(${G==="true"?"true":"false"}))`;case"role":const w=[];if(isRegExp(K.name)){w.push(`.setName(${this.regexToString(K.name)})`)}else if(typeof K.name==="string"){w.push(`.setName(${this.quote(K.name)})`);if(K.exact)w.push(`.setExact(true)`)}for(const{name:B,value:G}of K.attrs)w.push(`.set${(0,Pe.toTitleCase)(B)}(${typeof G==="string"?this.quote(G):G})`);const ye=w.length?`, new ${pe}.GetByRoleOptions()${w.join("")}`:"";return`getByRole(AriaRole.${(0,Pe.toSnakeCase)(G).toUpperCase()}${ye})`;case"has-text":return`filter(new ${pe}.FilterOptions().setHasText(${this.toHasText(G)}))`;case"has-not-text":return`filter(new ${pe}.FilterOptions().setHasNotText(${this.toHasText(G)}))`;case"has":return`filter(new ${pe}.FilterOptions().setHas(${G}))`;case"hasNot":return`filter(new ${pe}.FilterOptions().setHasNot(${G}))`;case"and":return`and(${G})`;case"or":return`or(${G})`;case"chain":return`locator(${G})`;case"test-id":return`getByTestId(${this.toTestIdValue(G)})`;case"text":return this.toCallWithExact(pe,"getByText",G,!!K.exact);case"alt":return this.toCallWithExact(pe,"getByAltText",G,!!K.exact);case"placeholder":return this.toCallWithExact(pe,"getByPlaceholder",G,!!K.exact);case"label":return this.toCallWithExact(pe,"getByLabel",G,!!K.exact);case"title":return this.toCallWithExact(pe,"getByTitle",G,!!K.exact);default:throw new Error("Unknown selector kind "+B)}}chainLocators(w){return w.join(".")}regexToString(w){const B=w.flags.includes("i")?", Pattern.CASE_INSENSITIVE":"";return`Pattern.compile(${this.quote((0,Pe.normalizeEscapedRegexQuotes)(w.source))}${B})`}toCallWithExact(w,B,G,K){if(isRegExp(G))return`${B}(${this.regexToString(G)})`;if(K)return`${B}(${this.quote(G)}, new ${w}.${(0,Pe.toTitleCase)(B)}Options().setExact(true))`;return`${B}(${this.quote(G)})`}toHasText(w){if(isRegExp(w))return this.regexToString(w);return this.quote(w)}toTestIdValue(w){if(isRegExp(w))return this.regexToString(w);return this.quote(w)}quote(w){return(0,Pe.escapeWithQuotes)(w,'"')}}class CSharpLocatorFactory{generateLocator(w,B,G,K={}){switch(B){case"default":if(K.hasText!==void 0)return`Locator(${this.quote(G)}, new() { ${this.toHasText(K.hasText)} })`;if(K.hasNotText!==void 0)return`Locator(${this.quote(G)}, new() { ${this.toHasNotText(K.hasNotText)} })`;return`Locator(${this.quote(G)})`;case"frame-locator":return`FrameLocator(${this.quote(G)})`;case"frame":return`ContentFrame`;case"nth":return`Nth(${G})`;case"first":return`First`;case"last":return`Last`;case"visible":return`Filter(new() { Visible = ${G==="true"?"true":"false"} })`;case"role":const w=[];if(isRegExp(K.name)){w.push(`NameRegex = ${this.regexToString(K.name)}`)}else if(typeof K.name==="string"){w.push(`Name = ${this.quote(K.name)}`);if(K.exact)w.push(`Exact = true`)}for(const{name:B,value:G}of K.attrs)w.push(`${(0,Pe.toTitleCase)(B)} = ${typeof G==="string"?this.quote(G):G}`);const pe=w.length?`, new() { ${w.join(", ")} }`:"";return`GetByRole(AriaRole.${(0,Pe.toTitleCase)(G)}${pe})`;case"has-text":return`Filter(new() { ${this.toHasText(G)} })`;case"has-not-text":return`Filter(new() { ${this.toHasNotText(G)} })`;case"has":return`Filter(new() { Has = ${G} })`;case"hasNot":return`Filter(new() { HasNot = ${G} })`;case"and":return`And(${G})`;case"or":return`Or(${G})`;case"chain":return`Locator(${G})`;case"test-id":return`GetByTestId(${this.toTestIdValue(G)})`;case"text":return this.toCallWithExact("GetByText",G,!!K.exact);case"alt":return this.toCallWithExact("GetByAltText",G,!!K.exact);case"placeholder":return this.toCallWithExact("GetByPlaceholder",G,!!K.exact);case"label":return this.toCallWithExact("GetByLabel",G,!!K.exact);case"title":return this.toCallWithExact("GetByTitle",G,!!K.exact);default:throw new Error("Unknown selector kind "+B)}}chainLocators(w){return w.join(".")}regexToString(w){const B=w.flags.includes("i")?", RegexOptions.IgnoreCase":"";return`new Regex(${this.quote((0,Pe.normalizeEscapedRegexQuotes)(w.source))}${B})`}toCallWithExact(w,B,G){if(isRegExp(B))return`${w}(${this.regexToString(B)})`;if(G)return`${w}(${this.quote(B)}, new() { Exact = true })`;return`${w}(${this.quote(B)})`}toHasText(w){if(isRegExp(w))return`HasTextRegex = ${this.regexToString(w)}`;return`HasText = ${this.quote(w)}`}toTestIdValue(w){if(isRegExp(w))return this.regexToString(w);return this.quote(w)}toHasNotText(w){if(isRegExp(w))return`HasNotTextRegex = ${this.regexToString(w)}`;return`HasNotText = ${this.quote(w)}`}quote(w){return(0,Pe.escapeWithQuotes)(w,'"')}}class JsonlLocatorFactory{generateLocator(w,B,G,K={}){return JSON.stringify({kind:B,body:G,options:K})}chainLocators(w){const B=w.map((w=>JSON.parse(w)));for(let w=0;w<B.length-1;++w)B[w].next=B[w+1];return JSON.stringify(B[0])}}const Fe={javascript:JavaScriptLocatorFactory,python:PythonLocatorFactory,java:JavaLocatorFactory,csharp:CSharpLocatorFactory,jsonl:JsonlLocatorFactory};function isRegExp(w){return w instanceof RegExp}0&&0},7337:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{locatorOrSelectorAsSelector:()=>locatorOrSelectorAsSelector,unsafeLocatorOrSelectorAsSelector:()=>unsafeLocatorOrSelectorAsSelector});w.exports=__toCommonJS(Be);var Qe=G(3780);var Pe=G(6548);var Fe=G(9658);function parseLocator(w,B){w=w.replace(/AriaRole\s*\.\s*([\w]+)/g,((w,B)=>B.toLowerCase())).replace(/(get_by_role|getByRole)\s*\(\s*(?:["'`])([^'"`]+)['"`]/g,((w,B,G)=>`${B}(${G.toLowerCase()}`));const G=[];let K="";for(let B=0;B<w.length;++B){const pe=w[B];if(pe!=='"'&&pe!=="'"&&pe!=="`"&&pe!=="/"){K+=pe;continue}const ye=w[B-1]==="r"||w[B]==="/";++B;let Se="";while(B<w.length){if(w[B]==="\\"){if(ye){if(w[B+1]!==pe)Se+=w[B];++B;Se+=w[B]}else{++B;if(w[B]==="n")Se+="\n";else if(w[B]==="r")Se+="\r";else if(w[B]==="t")Se+="\t";else Se+=w[B]}++B;continue}if(w[B]!==pe){Se+=w[B++];continue}break}G.push({quote:pe,text:Se});K+=(pe==="/"?"r":"")+"$"+G.length}K=K.toLowerCase().replace(/get_by_alt_text/g,"getbyalttext").replace(/get_by_test_id/g,"getbytestid").replace(/get_by_([\w]+)/g,"getby$1").replace(/has_not_text/g,"hasnottext").replace(/has_text/g,"hastext").replace(/has_not/g,"hasnot").replace(/frame_locator/g,"framelocator").replace(/content_frame/g,"contentframe").replace(/[{}\s]/g,"").replace(/new\(\)/g,"").replace(/new[\w]+\.[\w]+options\(\)/g,"").replace(/\.set/g,",set").replace(/\.or_\(/g,"or(").replace(/\.and_\(/g,"and(").replace(/:/g,"=").replace(/,re\.ignorecase/g,"i").replace(/,pattern.case_insensitive/g,"i").replace(/,regexoptions.ignorecase/g,"i").replace(/re.compile\(([^)]+)\)/g,"$1").replace(/pattern.compile\(([^)]+)\)/g,"r$1").replace(/newregex\(([^)]+)\)/g,"r$1").replace(/string=/g,"=").replace(/regex=/g,"=").replace(/,,/g,",").replace(/,\)/g,")");const pe=G.map((w=>w.quote)).filter((w=>"'\"`".includes(w)))[0];return{selector:transform(K,G,B),preferredQuote:pe}}function countParams(w){return[...w.matchAll(/\$\d+/g)].length}function shiftParams(w,B){return w.replace(/\$(\d+)/g,((w,G)=>`$${G-B}`))}function transform(w,B,G){while(true){const K=w.match(/filter\(,?(has=|hasnot=|sethas\(|sethasnot\()/);if(!K)break;const pe=K.index+K[0].length;let ye=0;let Se=pe;for(;Se<w.length;Se++){if(w[Se]==="(")ye++;else if(w[Se]===")")ye--;if(ye<0)break}let Be=w.substring(0,pe);let Qe=0;if(["sethas(","sethasnot("].includes(K[1])){Qe=1;Be=Be.replace(/sethas\($/,"has=").replace(/sethasnot\($/,"hasnot=")}const Pe=countParams(w.substring(0,pe));const Fe=shiftParams(w.substring(pe,Se),Pe);const Me=countParams(Fe);const Le=B.slice(Pe,Pe+Me);const je=JSON.stringify(transform(Fe,Le,G));w=Be.replace(/=$/,"2=")+`$${Pe+1}`+shiftParams(w.substring(Se+Qe),Me-1);const qe=B.slice(0,Pe);const We=B.slice(Pe+Me);B=qe.concat([{quote:'"',text:je}]).concat(We)}w=w.replace(/\,set([\w]+)\(([^)]+)\)/g,((w,B,G)=>","+B.toLowerCase()+"="+G.toLowerCase())).replace(/framelocator\(([^)]+)\)/g,"$1.internal:control=enter-frame").replace(/contentframe(\(\))?/g,"internal:control=enter-frame").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+),hasnottext=([^),]+)\)/g,"locator($1).internal:has-not-text=$2").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+)\)/g,"$1").replace(/getbyrole\(([^)]+)\)/g,"internal:role=$1").replace(/getbytext\(([^)]+)\)/g,"internal:text=$1").replace(/getbylabel\(([^)]+)\)/g,"internal:label=$1").replace(/getbytestid\(([^)]+)\)/g,`internal:testid=[${G}=$1]`).replace(/getby(placeholder|alt|title)(?:text)?\(([^)]+)\)/g,"internal:attr=[$1=$2]").replace(/first(\(\))?/g,"nth=0").replace(/last(\(\))?/g,"nth=-1").replace(/nth\(([^)]+)\)/g,"nth=$1").replace(/filter\(,?visible=true\)/g,"visible=true").replace(/filter\(,?visible=false\)/g,"visible=false").replace(/filter\(,?hastext=([^)]+)\)/g,"internal:has-text=$1").replace(/filter\(,?hasnottext=([^)]+)\)/g,"internal:has-not-text=$1").replace(/filter\(,?has2=([^)]+)\)/g,"internal:has=$1").replace(/filter\(,?hasnot2=([^)]+)\)/g,"internal:has-not=$1").replace(/,exact=false/g,"").replace(/,exact=true/g,"s").replace(/,includehidden=/g,",include-hidden=").replace(/\,/g,"][");const K=w.split(".");for(let w=0;w<K.length-1;w++){if(K[w]==="internal:control=enter-frame"&&K[w+1].startsWith("nth=")){const[B]=K.splice(w,1);K.splice(w+1,0,B)}}return K.map((w=>{if(!w.startsWith("internal:")||w==="internal:control")return w.replace(/\$(\d+)/g,((w,G)=>{const K=B[+G-1];return K.text}));w=w.includes("[")?w.replace(/\]/,"")+"]":w;w=w.replace(/(?:r)\$(\d+)(i)?/g,((G,K,pe)=>{const ye=B[+K-1];if(w.startsWith("internal:attr")||w.startsWith("internal:testid")||w.startsWith("internal:role"))return(0,Fe.escapeForAttributeSelector)(new RegExp(ye.text),false)+(pe||"");return(0,Fe.escapeForTextSelector)(new RegExp(ye.text,pe),false)})).replace(/\$(\d+)(i|s)?/g,((G,K,pe)=>{const ye=B[+K-1];if(w.startsWith("internal:has=")||w.startsWith("internal:has-not="))return ye.text;if(w.startsWith("internal:testid"))return(0,Fe.escapeForAttributeSelector)(ye.text,true);if(w.startsWith("internal:attr")||w.startsWith("internal:role"))return(0,Fe.escapeForAttributeSelector)(ye.text,pe==="s");return(0,Fe.escapeForTextSelector)(ye.text,pe==="s")}));return w})).join(" >> ")}function locatorOrSelectorAsSelector(w,B,G){try{return unsafeLocatorOrSelectorAsSelector(w,B,G)}catch(w){return""}}function unsafeLocatorOrSelectorAsSelector(w,B,G){try{(0,Pe.parseSelector)(B);return B}catch(w){}const{selector:K,preferredQuote:pe}=parseLocator(B,G);const ye=(0,Qe.asLocators)(w,K,void 0,void 0,pe);const Se=digestForComparison(w,B);if(ye.some((B=>digestForComparison(w,B)===Se)))return K;return""}function digestForComparison(w,B){B=B.replace(/\s/g,"");if(w==="javascript")B=B.replace(/\\?["`]/g,"'").replace(/,{}/g,"");return B}0&&0},677:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{getByAltTextSelector:()=>getByAltTextSelector,getByLabelSelector:()=>getByLabelSelector,getByPlaceholderSelector:()=>getByPlaceholderSelector,getByRoleSelector:()=>getByRoleSelector,getByTestIdSelector:()=>getByTestIdSelector,getByTextSelector:()=>getByTextSelector,getByTitleSelector:()=>getByTitleSelector});w.exports=__toCommonJS(Be);var Qe=G(9658);function getByAttributeTextSelector(w,B,G){return`internal:attr=[${w}=${(0,Qe.escapeForAttributeSelector)(B,G?.exact||false)}]`}function getByTestIdSelector(w,B){return`internal:testid=[${w}=${(0,Qe.escapeForAttributeSelector)(B,true)}]`}function getByLabelSelector(w,B){return"internal:label="+(0,Qe.escapeForTextSelector)(w,!!B?.exact)}function getByAltTextSelector(w,B){return getByAttributeTextSelector("alt",w,B)}function getByTitleSelector(w,B){return getByAttributeTextSelector("title",w,B)}function getByPlaceholderSelector(w,B){return getByAttributeTextSelector("placeholder",w,B)}function getByTextSelector(w,B){return"internal:text="+(0,Qe.escapeForTextSelector)(w,!!B?.exact)}function getByRoleSelector(w,B={}){const G=[];if(B.checked!==void 0)G.push(["checked",String(B.checked)]);if(B.disabled!==void 0)G.push(["disabled",String(B.disabled)]);if(B.selected!==void 0)G.push(["selected",String(B.selected)]);if(B.expanded!==void 0)G.push(["expanded",String(B.expanded)]);if(B.includeHidden!==void 0)G.push(["include-hidden",String(B.includeHidden)]);if(B.level!==void 0)G.push(["level",String(B.level)]);if(B.name!==void 0)G.push(["name",(0,Qe.escapeForAttributeSelector)(B.name,!!B.exact)]);if(B.pressed!==void 0)G.push(["pressed",String(B.pressed)]);return`internal:role=${w}${G.map((([w,B])=>`[${w}=${B}]`)).join("")}`}0&&0},3587:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{LongStandingScope:()=>LongStandingScope,ManualPromise:()=>ManualPromise});w.exports=__toCommonJS(Be);var Qe=G(3559);class ManualPromise extends Promise{constructor(){let w;let B;super(((G,K)=>{w=G;B=K}));this._isDone=false;this._resolve=w;this._reject=B}isDone(){return this._isDone}resolve(w){this._isDone=true;this._resolve(w)}reject(w){this._isDone=true;this._reject(w)}static get[Symbol.species](){return Promise}get[Symbol.toStringTag](){return"ManualPromise"}}class LongStandingScope{constructor(){this._terminatePromises=new Map;this._isClosed=false}reject(w){this._isClosed=true;this._terminateError=w;for(const B of this._terminatePromises.keys())B.resolve(w)}close(w){this._isClosed=true;this._closeError=w;for(const[B,G]of this._terminatePromises)B.resolve(cloneError(w,G))}isClosed(){return this._isClosed}static async raceMultiple(w,B){return Promise.race(w.map((w=>w.race(B))))}async race(w){return this._race(Array.isArray(w)?w:[w],false)}async safeRace(w,B){return this._race([w],true,B)}async _race(w,B,G){const K=new ManualPromise;const pe=(0,Qe.captureRawStack)();if(this._terminateError)K.resolve(this._terminateError);if(this._closeError)K.resolve(cloneError(this._closeError,pe));this._terminatePromises.set(K,pe);try{return await Promise.race([K.then((w=>B?G:Promise.reject(w))),...w])}finally{this._terminatePromises.delete(K)}}}function cloneError(w,B){const G=new Error;G.name=w.name;G.message=w.message;G.stack=[w.name+":"+w.message,...B].join("\n");return G}0&&0},9498:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{getMimeTypeForPath:()=>getMimeTypeForPath,isJsonMimeType:()=>isJsonMimeType,isTextualMimeType:()=>isTextualMimeType});w.exports=__toCommonJS(ye);function isJsonMimeType(w){return!!w.match(/^(application\/json|application\/.*?\+json|text\/(x-)?json)(;\s*charset=.*)?$/)}function isTextualMimeType(w){return!!w.match(/^(text\/.*?|application\/(json|(x-)?javascript|xml.*?|ecmascript|graphql|x-www-form-urlencoded)|image\/svg(\+xml)?|application\/.*?(\+json|\+xml))(;\s*charset=.*)?$/)}function getMimeTypeForPath(w){const B=w.lastIndexOf(".");if(B===-1)return null;const G=w.substring(B+1);return Se.get(G)||null}const Se=new Map([["ez","application/andrew-inset"],["aw","application/applixware"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["dwd","application/atsc-dwd+xml"],["held","application/atsc-held+xml"],["rsat","application/atsc-rsat+xml"],["bdoc","application/bdoc"],["xcs","application/calendar+xml"],["ccxml","application/ccxml+xml"],["cdfx","application/cdfx+xml"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cu","application/cu-seeme"],["mpd","application/dash+xml"],["davmount","application/davmount+xml"],["dbk","application/docbook+xml"],["dssc","application/dssc+der"],["xdssc","application/dssc+xml"],["ecma","application/ecmascript"],["es","application/ecmascript"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["epub","application/epub+zip"],["exi","application/exi"],["exp","application/express"],["fdt","application/fdt+xml"],["pfr","application/font-tdpfr"],["geojson","application/geo+json"],["gml","application/gml+xml"],["gpx","application/gpx+xml"],["gxf","application/gxf"],["gz","application/gzip"],["hjson","application/hjson"],["stk","application/hyperstudio"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["ipfix","application/ipfix"],["its","application/its+xml"],["ear","application/java-archive"],["jar","application/java-archive"],["war","application/java-archive"],["ser","application/java-serialized-object"],["class","application/java-vm"],["js","application/javascript"],["mjs","application/javascript"],["json","application/json"],["map","application/json"],["json5","application/json5"],["jsonml","application/jsonml+json"],["jsonld","application/ld+json"],["lgr","application/lgr+xml"],["lostxml","application/lost+xml"],["hqx","application/mac-binhex40"],["cpt","application/mac-compactpro"],["mads","application/mads+xml"],["webmanifest","application/manifest+json"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ma","application/mathematica"],["mb","application/mathematica"],["nb","application/mathematica"],["mathml","application/mathml+xml"],["mbox","application/mbox"],["mscml","application/mediaservercontrol+xml"],["metalink","application/metalink+xml"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["maei","application/mmt-aei+xml"],["musd","application/mmt-usd+xml"],["mods","application/mods+xml"],["m21","application/mp21"],["mp21","application/mp21"],["m4p","application/mp4"],["mp4s","application/mp4"],["doc","application/msword"],["dot","application/msword"],["mxf","application/mxf"],["nq","application/n-quads"],["nt","application/n-triples"],["cjs","application/node"],["bin","application/octet-stream"],["bpk","application/octet-stream"],["buffer","application/octet-stream"],["deb","application/octet-stream"],["deploy","application/octet-stream"],["dist","application/octet-stream"],["distz","application/octet-stream"],["dll","application/octet-stream"],["dmg","application/octet-stream"],["dms","application/octet-stream"],["dump","application/octet-stream"],["elc","application/octet-stream"],["exe","application/octet-stream"],["img","application/octet-stream"],["iso","application/octet-stream"],["lrf","application/octet-stream"],["mar","application/octet-stream"],["msi","application/octet-stream"],["msm","application/octet-stream"],["msp","application/octet-stream"],["pkg","application/octet-stream"],["so","application/octet-stream"],["oda","application/oda"],["opf","application/oebps-package+xml"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["oxps","application/oxps"],["relo","application/p2p-overlay+xml"],["xer","application/patch-ops-error+xml"],["pdf","application/pdf"],["pgp","application/pgp-encrypted"],["asc","application/pgp-signature"],["sig","application/pgp-signature"],["prf","application/pics-rules"],["p10","application/pkcs10"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["ac","application/pkix-attr-cert"],["cer","application/pkix-cert"],["crl","application/pkix-crl"],["pkipath","application/pkix-pkipath"],["pki","application/pkixcmp"],["pls","application/pls+xml"],["ai","application/postscript"],["eps","application/postscript"],["ps","application/postscript"],["provx","application/provenance+xml"],["pskcxml","application/pskc+xml"],["raml","application/raml+yaml"],["owl","application/rdf+xml"],["rdf","application/rdf+xml"],["rif","application/reginfo+xml"],["rnc","application/relax-ng-compact-syntax"],["rl","application/resource-lists+xml"],["rld","application/resource-lists-diff+xml"],["rs","application/rls-services+xml"],["rapd","application/route-apd+xml"],["sls","application/route-s-tsid+xml"],["rusd","application/route-usd+xml"],["gbr","application/rpki-ghostbusters"],["mft","application/rpki-manifest"],["roa","application/rpki-roa"],["rsd","application/rsd+xml"],["rss","application/rss+xml"],["rtf","application/rtf"],["sbml","application/sbml+xml"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["spq","application/scvp-vp-request"],["spp","application/scvp-vp-response"],["sdp","application/sdp"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["shf","application/shf+xml"],["sieve","application/sieve"],["siv","application/sieve"],["smi","application/smil+xml"],["smil","application/smil+xml"],["rq","application/sparql-query"],["srx","application/sparql-results+xml"],["gram","application/srgs"],["grxml","application/srgs+xml"],["sru","application/sru+xml"],["ssdl","application/ssdl+xml"],["ssml","application/ssml+xml"],["swidtag","application/swid+xml"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tfi","application/thraud+xml"],["tsd","application/timestamped-data"],["toml","application/toml"],["trig","application/trig"],["ttml","application/ttml+xml"],["ubj","application/ubjson"],["rsheet","application/urc-ressheet+xml"],["td","application/urc-targetdesc+xml"],["vxml","application/voicexml+xml"],["wasm","application/wasm"],["wgt","application/widget"],["hlp","application/winhlp"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["xaml","application/xaml+xml"],["xav","application/xcap-att+xml"],["xca","application/xcap-caps+xml"],["xdf","application/xcap-diff+xml"],["xel","application/xcap-el+xml"],["xns","application/xcap-ns+xml"],["xenc","application/xenc+xml"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xlf","application/xliff+xml"],["rng","application/xml"],["xml","application/xml"],["xsd","application/xml"],["xsl","application/xml"],["dtd","application/xml-dtd"],["xop","application/xop+xml"],["xpl","application/xproc+xml"],["*xsl","application/xslt+xml"],["xslt","application/xslt+xml"],["xspf","application/xspf+xml"],["mxml","application/xv+xml"],["xhvml","application/xv+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["yang","application/yang"],["yin","application/yin+xml"],["zip","application/zip"],["*3gpp","audio/3gpp"],["adp","audio/adpcm"],["amr","audio/amr"],["au","audio/basic"],["snd","audio/basic"],["kar","audio/midi"],["mid","audio/midi"],["midi","audio/midi"],["rmi","audio/midi"],["mxmf","audio/mobile-xmf"],["*mp3","audio/mp3"],["m4a","audio/mp4"],["mp4a","audio/mp4"],["m2a","audio/mpeg"],["m3a","audio/mpeg"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mpga","audio/mpeg"],["oga","audio/ogg"],["ogg","audio/ogg"],["opus","audio/ogg"],["spx","audio/ogg"],["s3m","audio/s3m"],["sil","audio/silk"],["wav","audio/wav"],["*wav","audio/wave"],["weba","audio/webm"],["xm","audio/xm"],["ttc","font/collection"],["otf","font/otf"],["ttf","font/ttf"],["woff","font/woff"],["woff2","font/woff2"],["exr","image/aces"],["apng","image/apng"],["avif","image/avif"],["bmp","image/bmp"],["cgm","image/cgm"],["drle","image/dicom-rle"],["emf","image/emf"],["fits","image/fits"],["g3","image/g3fax"],["gif","image/gif"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["hsj2","image/hsj2"],["ief","image/ief"],["jls","image/jls"],["jp2","image/jp2"],["jpg2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jph","image/jph"],["jhc","image/jphc"],["jpm","image/jpm"],["jpf","image/jpx"],["jpx","image/jpx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["ktx","image/ktx"],["ktx2","image/ktx2"],["png","image/png"],["sgi","image/sgi"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["t38","image/t38"],["tif","image/tiff"],["tiff","image/tiff"],["tfx","image/tiff-fx"],["webp","image/webp"],["wmf","image/wmf"],["disposition-notification","message/disposition-notification"],["u8msg","message/global"],["u8dsn","message/global-delivery-status"],["u8mdn","message/global-disposition-notification"],["u8hdr","message/global-headers"],["eml","message/rfc822"],["mime","message/rfc822"],["3mf","model/3mf"],["gltf","model/gltf+json"],["glb","model/gltf-binary"],["iges","model/iges"],["igs","model/iges"],["mesh","model/mesh"],["msh","model/mesh"],["silo","model/mesh"],["mtl","model/mtl"],["obj","model/obj"],["stpx","model/step+xml"],["stpz","model/step+zip"],["stpxz","model/step-xml+zip"],["stl","model/stl"],["vrml","model/vrml"],["wrl","model/vrml"],["*x3db","model/x3d+binary"],["x3dbz","model/x3d+binary"],["x3db","model/x3d+fastinfoset"],["*x3dv","model/x3d+vrml"],["x3dvz","model/x3d+vrml"],["x3d","model/x3d+xml"],["x3dz","model/x3d+xml"],["x3dv","model/x3d-vrml"],["appcache","text/cache-manifest"],["manifest","text/cache-manifest"],["ics","text/calendar"],["ifb","text/calendar"],["coffee","text/coffeescript"],["litcoffee","text/coffeescript"],["css","text/css"],["csv","text/csv"],["htm","text/html"],["html","text/html"],["shtml","text/html"],["jade","text/jade"],["jsx","text/jsx"],["less","text/less"],["markdown","text/markdown"],["md","text/markdown"],["mml","text/mathml"],["mdx","text/mdx"],["n3","text/n3"],["conf","text/plain"],["def","text/plain"],["in","text/plain"],["ini","text/plain"],["list","text/plain"],["log","text/plain"],["text","text/plain"],["txt","text/plain"],["rtx","text/richtext"],["*rtf","text/rtf"],["sgm","text/sgml"],["sgml","text/sgml"],["shex","text/shex"],["slim","text/slim"],["slm","text/slim"],["spdx","text/spdx"],["styl","text/stylus"],["stylus","text/stylus"],["tsv","text/tab-separated-values"],["man","text/troff"],["me","text/troff"],["ms","text/troff"],["roff","text/troff"],["t","text/troff"],["tr","text/troff"],["ttl","text/turtle"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["vcard","text/vcard"],["vtt","text/vtt"],["*xml","text/xml"],["yaml","text/yaml"],["yml","text/yaml"],["3gp","video/3gpp"],["3gpp","video/3gpp"],["3g2","video/3gpp2"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["m4s","video/iso.segment"],["jpgv","video/jpeg"],["jpm","video/jpm"],["jpgm","video/jpm"],["mj2","video/mj2"],["mjp2","video/mj2"],["ts","video/mp2t"],["mp4","video/mp4"],["mp4v","video/mp4"],["mpg4","video/mp4"],["m1v","video/mpeg"],["m2v","video/mpeg"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["ogv","video/ogg"],["mov","video/quicktime"],["qt","video/quicktime"],["webm","video/webm"]]);0&&0},5543:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{MultiMap:()=>MultiMap});w.exports=__toCommonJS(ye);class MultiMap{constructor(){this._map=new Map}set(w,B){let G=this._map.get(w);if(!G){G=[];this._map.set(w,G)}G.push(B)}get(w){return this._map.get(w)||[]}has(w){return this._map.has(w)}delete(w,B){const G=this._map.get(w);if(!G)return;if(G.includes(B))this._map.set(w,G.filter((w=>B!==w)))}deleteAll(w){this._map.delete(w)}hasValue(w,B){const G=this._map.get(w);if(!G)return false;return G.includes(B)}get size(){return this._map.size}[Symbol.iterator](){return this._map[Symbol.iterator]()}keys(){return this._map.keys()}values(){const w=[];for(const B of this.keys())w.push(...this.get(B));return w}clear(){this._map.clear()}}0&&0},1546:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{formatProtocolParam:()=>formatProtocolParam,getActionGroup:()=>getActionGroup,renderTitleForCall:()=>renderTitleForCall});w.exports=__toCommonJS(Be);var Qe=G(5295);function formatProtocolParam(w,B){if(!w)return void 0;for(const G of B.split("|")){if(G==="url"){try{const B=new URL(w[G]);if(B.protocol==="data:")return B.protocol;if(B.protocol==="about:")return w[G];return B.pathname+B.search}catch(B){if(w[G]!==void 0)return w[G]}}if(G==="timeNumber"&&w[G]!==void 0){return new Date(w[G]).toString()}const B=deepParam(w,G);if(B!==void 0)return B}}function deepParam(w,B){const G=B.split(".");let K=w;for(const w of G){if(typeof K!=="object"||K===null)return void 0;K=K[w]}if(K===void 0)return void 0;return String(K)}function renderTitleForCall(w){const B=w.title??Qe.methodMetainfo.get(w.type+"."+w.method)?.title??w.method;return B.replace(/\{([^}]+)\}/g,((B,G)=>formatProtocolParam(w.params,G)??B))}function getActionGroup(w){return Qe.methodMetainfo.get(w.type+"."+w.method)?.group}0&&0},5295:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{methodMetainfo:()=>Se});w.exports=__toCommonJS(ye);const Se=new Map([["APIRequestContext.fetch",{title:'{method} "{url}"'}],["APIRequestContext.fetchResponseBody",{title:"Get response body",group:"getter"}],["APIRequestContext.fetchLog",{internal:true}],["APIRequestContext.storageState",{title:"Get storage state"}],["APIRequestContext.disposeAPIResponse",{internal:true}],["APIRequestContext.dispose",{internal:true}],["LocalUtils.zip",{internal:true}],["LocalUtils.harOpen",{internal:true}],["LocalUtils.harLookup",{internal:true}],["LocalUtils.harClose",{internal:true}],["LocalUtils.harUnzip",{internal:true}],["LocalUtils.connect",{internal:true}],["LocalUtils.tracingStarted",{internal:true}],["LocalUtils.addStackToTracingNoReply",{internal:true}],["LocalUtils.traceDiscarded",{internal:true}],["LocalUtils.globToRegex",{internal:true}],["Root.initialize",{internal:true}],["Playwright.newRequest",{title:"Create request context"}],["DebugController.initialize",{internal:true}],["DebugController.setReportStateChanged",{internal:true}],["DebugController.setRecorderMode",{internal:true}],["DebugController.highlight",{internal:true}],["DebugController.hideHighlight",{internal:true}],["DebugController.resume",{internal:true}],["DebugController.kill",{internal:true}],["SocksSupport.socksConnected",{internal:true}],["SocksSupport.socksFailed",{internal:true}],["SocksSupport.socksData",{internal:true}],["SocksSupport.socksError",{internal:true}],["SocksSupport.socksEnd",{internal:true}],["BrowserType.launch",{title:"Launch browser"}],["BrowserType.launchPersistentContext",{title:"Launch persistent context"}],["BrowserType.connectOverCDP",{title:"Connect over CDP"}],["Browser.close",{title:"Close browser",pausesBeforeAction:true}],["Browser.killForTests",{internal:true}],["Browser.defaultUserAgentForTest",{internal:true}],["Browser.newContext",{title:"Create context"}],["Browser.newContextForReuse",{internal:true}],["Browser.disconnectFromReusedContext",{internal:true}],["Browser.newBrowserCDPSession",{title:"Create CDP session",group:"configuration"}],["Browser.startTracing",{title:"Start browser tracing",group:"configuration"}],["Browser.stopTracing",{title:"Stop browser tracing",group:"configuration"}],["EventTarget.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["BrowserContext.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["Page.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["WebSocket.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["ElectronApplication.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["AndroidDevice.waitForEventInfo",{title:'Wait for event "{info.event}"',snapshot:true}],["BrowserContext.addCookies",{title:"Add cookies",group:"configuration"}],["BrowserContext.addInitScript",{title:"Add init script",group:"configuration"}],["BrowserContext.clearCookies",{title:"Clear cookies",group:"configuration"}],["BrowserContext.clearPermissions",{title:"Clear permissions",group:"configuration"}],["BrowserContext.close",{title:"Close context",pausesBeforeAction:true}],["BrowserContext.cookies",{title:"Get cookies",group:"getter"}],["BrowserContext.exposeBinding",{title:"Expose binding",group:"configuration"}],["BrowserContext.grantPermissions",{title:"Grant permissions",group:"configuration"}],["BrowserContext.newPage",{title:"Create page"}],["BrowserContext.registerSelectorEngine",{internal:true}],["BrowserContext.setTestIdAttributeName",{internal:true}],["BrowserContext.setExtraHTTPHeaders",{title:"Set extra HTTP headers",group:"configuration"}],["BrowserContext.setGeolocation",{title:"Set geolocation",group:"configuration"}],["BrowserContext.setHTTPCredentials",{title:"Set HTTP credentials",group:"configuration"}],["BrowserContext.setNetworkInterceptionPatterns",{title:"Route requests",group:"route"}],["BrowserContext.setWebSocketInterceptionPatterns",{title:"Route WebSockets",group:"route"}],["BrowserContext.setOffline",{title:"Set offline mode"}],["BrowserContext.storageState",{title:"Get storage state"}],["BrowserContext.pause",{title:"Pause"}],["BrowserContext.enableRecorder",{internal:true}],["BrowserContext.disableRecorder",{internal:true}],["BrowserContext.newCDPSession",{title:"Create CDP session",group:"configuration"}],["BrowserContext.harStart",{internal:true}],["BrowserContext.harExport",{internal:true}],["BrowserContext.createTempFiles",{internal:true}],["BrowserContext.updateSubscription",{internal:true}],["BrowserContext.clockFastForward",{title:'Fast forward clock "{ticksNumber|ticksString}"'}],["BrowserContext.clockInstall",{title:'Install clock "{timeNumber|timeString}"'}],["BrowserContext.clockPauseAt",{title:'Pause clock "{timeNumber|timeString}"'}],["BrowserContext.clockResume",{title:"Resume clock"}],["BrowserContext.clockRunFor",{title:'Run clock "{ticksNumber|ticksString}"'}],["BrowserContext.clockSetFixedTime",{title:'Set fixed time "{timeNumber|timeString}"'}],["BrowserContext.clockSetSystemTime",{title:'Set system time "{timeNumber|timeString}"'}],["Page.addInitScript",{title:"Add init script",group:"configuration"}],["Page.close",{title:"Close page",pausesBeforeAction:true}],["Page.consoleMessages",{title:"Get console messages",group:"getter"}],["Page.emulateMedia",{title:"Emulate media",snapshot:true,pausesBeforeAction:true}],["Page.exposeBinding",{title:"Expose binding",group:"configuration"}],["Page.goBack",{title:"Go back",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.goForward",{title:"Go forward",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.requestGC",{title:"Request garbage collection",group:"configuration"}],["Page.registerLocatorHandler",{title:"Register locator handler"}],["Page.resolveLocatorHandlerNoReply",{internal:true}],["Page.unregisterLocatorHandler",{title:"Unregister locator handler"}],["Page.reload",{title:"Reload",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.expectScreenshot",{title:"Expect screenshot",snapshot:true,pausesBeforeAction:true}],["Page.screenshot",{title:"Screenshot",snapshot:true,pausesBeforeAction:true}],["Page.setExtraHTTPHeaders",{title:"Set extra HTTP headers",group:"configuration"}],["Page.setNetworkInterceptionPatterns",{title:"Route requests",group:"route"}],["Page.setWebSocketInterceptionPatterns",{title:"Route WebSockets",group:"route"}],["Page.setViewportSize",{title:"Set viewport size",snapshot:true,pausesBeforeAction:true}],["Page.keyboardDown",{title:'Key down "{key}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.keyboardUp",{title:'Key up "{key}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.keyboardInsertText",{title:'Insert "{text}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.keyboardType",{title:'Type "{text}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.keyboardPress",{title:'Press "{key}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseMove",{title:"Mouse move",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseDown",{title:"Mouse down",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseUp",{title:"Mouse up",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseClick",{title:"Click",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.mouseWheel",{title:"Mouse wheel",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.touchscreenTap",{title:"Tap",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Page.accessibilitySnapshot",{title:"Accessibility snapshot",group:"getter"}],["Page.pageErrors",{title:"Get page errors",group:"getter"}],["Page.pdf",{title:"PDF"}],["Page.requests",{title:"Get network requests",group:"getter"}],["Page.snapshotForAI",{internal:true}],["Page.startJSCoverage",{title:"Start JS coverage",group:"configuration"}],["Page.stopJSCoverage",{title:"Stop JS coverage",group:"configuration"}],["Page.startCSSCoverage",{title:"Start CSS coverage",group:"configuration"}],["Page.stopCSSCoverage",{title:"Stop CSS coverage",group:"configuration"}],["Page.bringToFront",{title:"Bring to front"}],["Page.updateSubscription",{internal:true}],["Frame.evalOnSelector",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["Frame.evalOnSelectorAll",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["Frame.addScriptTag",{title:"Add script tag",snapshot:true,pausesBeforeAction:true}],["Frame.addStyleTag",{title:"Add style tag",snapshot:true,pausesBeforeAction:true}],["Frame.ariaSnapshot",{title:"Aria snapshot",snapshot:true,pausesBeforeAction:true}],["Frame.blur",{title:"Blur",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Frame.check",{title:"Check",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.click",{title:"Click",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.content",{title:"Get content",snapshot:true,pausesBeforeAction:true}],["Frame.dragAndDrop",{title:"Drag and drop",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.dblclick",{title:"Double click",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.dispatchEvent",{title:'Dispatch "{type}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Frame.evaluateExpression",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["Frame.evaluateExpressionHandle",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["Frame.fill",{title:'Fill "{value}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.focus",{title:"Focus",slowMo:true,snapshot:true,pausesBeforeAction:true}],["Frame.frameElement",{title:"Get frame element",group:"getter"}],["Frame.resolveSelector",{internal:true}],["Frame.highlight",{title:"Highlight element",group:"configuration"}],["Frame.getAttribute",{title:'Get attribute "{name}"',snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.goto",{title:'Navigate to "{url}"',slowMo:true,snapshot:true,pausesBeforeAction:true}],["Frame.hover",{title:"Hover",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.innerHTML",{title:"Get HTML",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.innerText",{title:"Get inner text",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.inputValue",{title:"Get input value",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isChecked",{title:"Is checked",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isDisabled",{title:"Is disabled",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isEnabled",{title:"Is enabled",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isHidden",{title:"Is hidden",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isVisible",{title:"Is visible",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.isEditable",{title:"Is editable",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.press",{title:'Press "{key}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.querySelector",{title:"Query selector",snapshot:true}],["Frame.querySelectorAll",{title:"Query selector all",snapshot:true}],["Frame.queryCount",{title:"Query count",snapshot:true,pausesBeforeAction:true}],["Frame.selectOption",{title:"Select option",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.setContent",{title:"Set content",snapshot:true,pausesBeforeAction:true}],["Frame.setInputFiles",{title:"Set input files",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.tap",{title:"Tap",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.textContent",{title:"Get text content",snapshot:true,pausesBeforeAction:true,group:"getter"}],["Frame.title",{title:"Get page title",group:"getter"}],["Frame.type",{title:'Type "{text}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.uncheck",{title:"Uncheck",slowMo:true,snapshot:true,pausesBeforeInput:true}],["Frame.waitForTimeout",{title:"Wait for timeout",snapshot:true}],["Frame.waitForFunction",{title:"Wait for function",snapshot:true,pausesBeforeAction:true}],["Frame.waitForSelector",{title:"Wait for selector",snapshot:true}],["Frame.expect",{title:'Expect "{expression}"',snapshot:true,pausesBeforeAction:true}],["Worker.evaluateExpression",{title:"Evaluate"}],["Worker.evaluateExpressionHandle",{title:"Evaluate"}],["JSHandle.dispose",{internal:true}],["ElementHandle.dispose",{internal:true}],["JSHandle.evaluateExpression",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["ElementHandle.evaluateExpression",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["JSHandle.evaluateExpressionHandle",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["ElementHandle.evaluateExpressionHandle",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["JSHandle.getPropertyList",{title:"Get property list",group:"getter"}],["ElementHandle.getPropertyList",{title:"Get property list",group:"getter"}],["JSHandle.getProperty",{title:"Get JS property",group:"getter"}],["ElementHandle.getProperty",{title:"Get JS property",group:"getter"}],["JSHandle.jsonValue",{title:"Get JSON value",group:"getter"}],["ElementHandle.jsonValue",{title:"Get JSON value",group:"getter"}],["ElementHandle.evalOnSelector",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["ElementHandle.evalOnSelectorAll",{title:"Evaluate",snapshot:true,pausesBeforeAction:true}],["ElementHandle.boundingBox",{title:"Get bounding box",snapshot:true,pausesBeforeAction:true}],["ElementHandle.check",{title:"Check",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.click",{title:"Click",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.contentFrame",{title:"Get content frame",group:"getter"}],["ElementHandle.dblclick",{title:"Double click",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.dispatchEvent",{title:"Dispatch event",slowMo:true,snapshot:true,pausesBeforeAction:true}],["ElementHandle.fill",{title:'Fill "{value}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.focus",{title:"Focus",slowMo:true,snapshot:true,pausesBeforeAction:true}],["ElementHandle.getAttribute",{title:"Get attribute",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.hover",{title:"Hover",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.innerHTML",{title:"Get HTML",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.innerText",{title:"Get inner text",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.inputValue",{title:"Get input value",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isChecked",{title:"Is checked",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isDisabled",{title:"Is disabled",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isEditable",{title:"Is editable",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isEnabled",{title:"Is enabled",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isHidden",{title:"Is hidden",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.isVisible",{title:"Is visible",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.ownerFrame",{title:"Get owner frame",group:"getter"}],["ElementHandle.press",{title:'Press "{key}"',slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.querySelector",{title:"Query selector",snapshot:true}],["ElementHandle.querySelectorAll",{title:"Query selector all",snapshot:true}],["ElementHandle.screenshot",{title:"Screenshot",snapshot:true,pausesBeforeAction:true}],["ElementHandle.scrollIntoViewIfNeeded",{title:"Scroll into view",slowMo:true,snapshot:true,pausesBeforeAction:true}],["ElementHandle.selectOption",{title:"Select option",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.selectText",{title:"Select text",slowMo:true,snapshot:true,pausesBeforeAction:true}],["ElementHandle.setInputFiles",{title:"Set input files",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.tap",{title:"Tap",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.textContent",{title:"Get text content",snapshot:true,pausesBeforeAction:true,group:"getter"}],["ElementHandle.type",{title:"Type",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.uncheck",{title:"Uncheck",slowMo:true,snapshot:true,pausesBeforeInput:true}],["ElementHandle.waitForElementState",{title:"Wait for state",snapshot:true,pausesBeforeAction:true}],["ElementHandle.waitForSelector",{title:"Wait for selector",snapshot:true}],["Request.response",{internal:true}],["Request.rawRequestHeaders",{internal:true}],["Route.redirectNavigationRequest",{internal:true}],["Route.abort",{title:"Abort request",group:"route"}],["Route.continue",{title:"Continue request",group:"route"}],["Route.fulfill",{title:"Fulfill request",group:"route"}],["WebSocketRoute.connect",{title:"Connect WebSocket to server",group:"route"}],["WebSocketRoute.ensureOpened",{internal:true}],["WebSocketRoute.sendToPage",{title:"Send WebSocket message",group:"route"}],["WebSocketRoute.sendToServer",{title:"Send WebSocket message",group:"route"}],["WebSocketRoute.closePage",{internal:true}],["WebSocketRoute.closeServer",{internal:true}],["Response.body",{title:"Get response body",group:"getter"}],["Response.securityDetails",{internal:true}],["Response.serverAddr",{internal:true}],["Response.rawResponseHeaders",{internal:true}],["Response.sizes",{internal:true}],["BindingCall.reject",{internal:true}],["BindingCall.resolve",{internal:true}],["Dialog.accept",{title:"Accept dialog"}],["Dialog.dismiss",{title:"Dismiss dialog"}],["Tracing.tracingStart",{title:"Start tracing",group:"configuration"}],["Tracing.tracingStartChunk",{title:"Start tracing",group:"configuration"}],["Tracing.tracingGroup",{title:'Trace "{name}"'}],["Tracing.tracingGroupEnd",{title:"Group end"}],["Tracing.tracingStopChunk",{title:"Stop tracing",group:"configuration"}],["Tracing.tracingStop",{title:"Stop tracing",group:"configuration"}],["Artifact.pathAfterFinished",{internal:true}],["Artifact.saveAs",{internal:true}],["Artifact.saveAsStream",{internal:true}],["Artifact.failure",{internal:true}],["Artifact.stream",{internal:true}],["Artifact.cancel",{internal:true}],["Artifact.delete",{internal:true}],["Stream.read",{internal:true}],["Stream.close",{internal:true}],["WritableStream.write",{internal:true}],["WritableStream.close",{internal:true}],["CDPSession.send",{title:"Send CDP command",group:"configuration"}],["CDPSession.detach",{title:"Detach CDP session",group:"configuration"}],["Electron.launch",{title:"Launch electron"}],["ElectronApplication.browserWindow",{internal:true}],["ElectronApplication.evaluateExpression",{title:"Evaluate"}],["ElectronApplication.evaluateExpressionHandle",{title:"Evaluate"}],["ElectronApplication.updateSubscription",{internal:true}],["Android.devices",{internal:true}],["AndroidSocket.write",{internal:true}],["AndroidSocket.close",{internal:true}],["AndroidDevice.wait",{title:"Wait"}],["AndroidDevice.fill",{title:'Fill "{text}"'}],["AndroidDevice.tap",{title:"Tap"}],["AndroidDevice.drag",{title:"Drag"}],["AndroidDevice.fling",{title:"Fling"}],["AndroidDevice.longTap",{title:"Long tap"}],["AndroidDevice.pinchClose",{title:"Pinch close"}],["AndroidDevice.pinchOpen",{title:"Pinch open"}],["AndroidDevice.scroll",{title:"Scroll"}],["AndroidDevice.swipe",{title:"Swipe"}],["AndroidDevice.info",{internal:true}],["AndroidDevice.screenshot",{title:"Screenshot"}],["AndroidDevice.inputType",{title:"Type"}],["AndroidDevice.inputPress",{title:"Press"}],["AndroidDevice.inputTap",{title:"Tap"}],["AndroidDevice.inputSwipe",{title:"Swipe"}],["AndroidDevice.inputDrag",{title:"Drag"}],["AndroidDevice.launchBrowser",{title:"Launch browser"}],["AndroidDevice.open",{title:"Open app"}],["AndroidDevice.shell",{title:"Execute shell command",group:"configuration"}],["AndroidDevice.installApk",{title:"Install apk"}],["AndroidDevice.push",{title:"Push"}],["AndroidDevice.connectToWebView",{title:"Connect to Web View"}],["AndroidDevice.close",{internal:true}],["JsonPipe.send",{internal:true}],["JsonPipe.close",{internal:true}]]);0&&0},1407:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{isError:()=>isError,isObject:()=>isObject,isRegExp:()=>isRegExp,isString:()=>Qe.isString});w.exports=__toCommonJS(Be);var Qe=G(9658);function isRegExp(w){return w instanceof RegExp||Object.prototype.toString.call(w)==="[object RegExp]"}function isObject(w){return typeof w==="object"&&w!==null}function isError(w){return w instanceof Error||w&&Object.getPrototypeOf(w)?.name==="Error"}0&&0},6548:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{InvalidSelectorError:()=>Pe.InvalidSelectorError,customCSSNames:()=>Le,isInvalidSelectorError:()=>Pe.isInvalidSelectorError,parseAttributeSelector:()=>parseAttributeSelector,parseSelector:()=>parseSelector,splitSelectorByFrame:()=>splitSelectorByFrame,stringifySelector:()=>stringifySelector,visitAllSelectorParts:()=>visitAllSelectorParts});w.exports=__toCommonJS(Be);var Qe=G(760);var Pe=G(760);const Fe=new Set(["internal:has","internal:has-not","internal:and","internal:or","internal:chain","left-of","right-of","above","below","near"]);const Me=new Set(["left-of","right-of","above","below","near"]);const Le=new Set(["not","is","where","has","scope","light","visible","text","text-matches","text-is","has-text","above","below","right-of","left-of","near","nth-match"]);function parseSelector(w){const B=parseSelectorString(w);const G=[];for(const w of B.parts){if(w.name==="css"||w.name==="css:light"){if(w.name==="css:light")w.body=":light("+w.body+")";const B=(0,Qe.parseCSS)(w.body,Le);G.push({name:"css",body:B.selector,source:w.body});continue}if(Fe.has(w.name)){let B;let K;try{const G=JSON.parse("["+w.body+"]");if(!Array.isArray(G)||G.length<1||G.length>2||typeof G[0]!=="string")throw new Qe.InvalidSelectorError(`Malformed selector: ${w.name}=`+w.body);B=G[0];if(G.length===2){if(typeof G[1]!=="number"||!Me.has(w.name))throw new Qe.InvalidSelectorError(`Malformed selector: ${w.name}=`+w.body);K=G[1]}}catch(B){throw new Qe.InvalidSelectorError(`Malformed selector: ${w.name}=`+w.body)}const pe={name:w.name,source:w.body,body:{parsed:parseSelector(B),distance:K}};const ye=[...pe.body.parsed.parts].reverse().find((w=>w.name==="internal:control"&&w.body==="enter-frame"));const Se=ye?pe.body.parsed.parts.indexOf(ye):-1;if(Se!==-1&&selectorPartsEqual(pe.body.parsed.parts.slice(0,Se+1),G.slice(0,Se+1)))pe.body.parsed.parts.splice(0,Se+1);G.push(pe);continue}G.push({...w,source:w.body})}if(Fe.has(G[0].name))throw new Qe.InvalidSelectorError(`"${G[0].name}" selector cannot be first`);return{capture:B.capture,parts:G}}function splitSelectorByFrame(w){const B=parseSelector(w);const G=[];let K={parts:[]};let pe=0;for(let w=0;w<B.parts.length;++w){const ye=B.parts[w];if(ye.name==="internal:control"&&ye.body==="enter-frame"){if(!K.parts.length)throw new Qe.InvalidSelectorError("Selector cannot start with entering frame, select the iframe first");G.push(K);K={parts:[]};pe=w+1;continue}if(B.capture===w)K.capture=w-pe;K.parts.push(ye)}if(!K.parts.length)throw new Qe.InvalidSelectorError(`Selector cannot end with entering frame, while parsing selector ${w}`);G.push(K);if(typeof B.capture==="number"&&typeof G[G.length-1].capture!=="number")throw new Qe.InvalidSelectorError(`Can not capture the selector before diving into the frame. Only use * after the last frame has been selected`);return G}function selectorPartsEqual(w,B){return stringifySelector({parts:w})===stringifySelector({parts:B})}function stringifySelector(w,B){if(typeof w==="string")return w;return w.parts.map(((G,K)=>{let pe=true;if(!B&&K!==w.capture){if(G.name==="css")pe=false;else if(G.name==="xpath"&&G.source.startsWith("//")||G.source.startsWith(".."))pe=false}const ye=pe?G.name+"=":"";return`${K===w.capture?"*":""}${ye}${G.source}`})).join(" >> ")}function visitAllSelectorParts(w,B){const visit=(w,G)=>{for(const K of w.parts){B(K,G);if(Fe.has(K.name))visit(K.body.parsed,true)}};visit(w,false)}function parseSelectorString(w){let B=0;let G;let K=0;const pe={parts:[]};const append=()=>{const G=w.substring(K,B).trim();const ye=G.indexOf("=");let Se;let Be;if(ye!==-1&&G.substring(0,ye).trim().match(/^[a-zA-Z_0-9-+:*]+$/)){Se=G.substring(0,ye).trim();Be=G.substring(ye+1)}else if(G.length>1&&G[0]==='"'&&G[G.length-1]==='"'){Se="text";Be=G}else if(G.length>1&&G[0]==="'"&&G[G.length-1]==="'"){Se="text";Be=G}else if(/^\(*\/\//.test(G)||G.startsWith("..")){Se="xpath";Be=G}else{Se="css";Be=G}let Pe=false;if(Se[0]==="*"){Pe=true;Se=Se.substring(1)}pe.parts.push({name:Se,body:Be});if(Pe){if(pe.capture!==void 0)throw new Qe.InvalidSelectorError(`Only one of the selectors can capture using * modifier`);pe.capture=pe.parts.length-1}};if(!w.includes(">>")){B=w.length;append();return pe}const shouldIgnoreTextSelectorQuote=()=>{const G=w.substring(K,B);const pe=G.match(/^\s*text\s*=(.*)$/);return!!pe&&!!pe[1]};while(B<w.length){const pe=w[B];if(pe==="\\"&&B+1<w.length){B+=2}else if(pe===G){G=void 0;B++}else if(!G&&(pe==='"'||pe==="'"||pe==="`")&&!shouldIgnoreTextSelectorQuote()){G=pe;B++}else if(!G&&pe===">"&&w[B+1]===">"){append();B+=2;K=B}else{B++}}append();return pe}function parseAttributeSelector(w,B){let G=0;let K=w.length===0;const next=()=>w[G]||"";const eat1=()=>{const B=next();++G;K=G>=w.length;return B};const syntaxError=B=>{if(K)throw new Qe.InvalidSelectorError(`Unexpected end of selector while parsing selector \`${w}\``);throw new Qe.InvalidSelectorError(`Error while parsing selector \`${w}\` - unexpected symbol "${next()}" at position ${G}`+(B?" during "+B:""))};function skipSpaces(){while(!K&&/\s/.test(next()))eat1()}function isCSSNameChar(w){return w>=""||w>="0"&&w<="9"||w>="A"&&w<="Z"||w>="a"&&w<="z"||w>="0"&&w<="9"||w==="_"||w==="-"}function readIdentifier(){let w="";skipSpaces();while(!K&&isCSSNameChar(next()))w+=eat1();return w}function readQuotedString(w){let B=eat1();if(B!==w)syntaxError("parsing quoted string");while(!K&&next()!==w){if(next()==="\\")eat1();B+=eat1()}if(next()!==w)syntaxError("parsing quoted string");B+=eat1();return B}function readRegularExpression(){if(eat1()!=="/")syntaxError("parsing regular expression");let B="";let G=false;while(!K){if(next()==="\\"){B+=eat1();if(K)syntaxError("parsing regular expression")}else if(G&&next()==="]"){G=false}else if(!G&&next()==="["){G=true}else if(!G&&next()==="/"){break}B+=eat1()}if(eat1()!=="/")syntaxError("parsing regular expression");let pe="";while(!K&&next().match(/[dgimsuy]/))pe+=eat1();try{return new RegExp(B,pe)}catch(B){throw new Qe.InvalidSelectorError(`Error while parsing selector \`${w}\`: ${B.message}`)}}function readAttributeToken(){let w="";skipSpaces();if(next()===`'`||next()===`"`)w=readQuotedString(next()).slice(1,-1);else w=readIdentifier();if(!w)syntaxError("parsing property path");return w}function readOperator(){skipSpaces();let w="";if(!K)w+=eat1();if(!K&&w!=="=")w+=eat1();if(!["=","*=","^=","$=","|=","~="].includes(w))syntaxError("parsing operator");return w}function readAttribute(){eat1();const G=[];G.push(readAttributeToken());skipSpaces();while(next()==="."){eat1();G.push(readAttributeToken());skipSpaces()}if(next()==="]"){eat1();return{name:G.join("."),jsonPath:G,op:"<truthy>",value:null,caseSensitive:false}}const pe=readOperator();let ye=void 0;let Se=true;skipSpaces();if(next()==="/"){if(pe!=="=")throw new Qe.InvalidSelectorError(`Error while parsing selector \`${w}\` - cannot use ${pe} in attribute with regular expression`);ye=readRegularExpression()}else if(next()===`'`||next()===`"`){ye=readQuotedString(next()).slice(1,-1);skipSpaces();if(next()==="i"||next()==="I"){Se=false;eat1()}else if(next()==="s"||next()==="S"){Se=true;eat1()}}else{ye="";while(!K&&(isCSSNameChar(next())||next()==="+"||next()==="."))ye+=eat1();if(ye==="true"){ye=true}else if(ye==="false"){ye=false}else{if(!B){ye=+ye;if(Number.isNaN(ye))syntaxError("parsing attribute value")}}}skipSpaces();if(next()!=="]")syntaxError("parsing attribute value");eat1();if(pe!=="="&&typeof ye!=="string")throw new Qe.InvalidSelectorError(`Error while parsing selector \`${w}\` - cannot use ${pe} in attribute with non-string matching value - ${ye}`);return{name:G.join("."),jsonPath:G,op:pe,value:ye,caseSensitive:Se}}const pe={name:"",attributes:[]};pe.name=readIdentifier();skipSpaces();while(next()==="["){pe.attributes.push(readAttribute());skipSpaces()}if(!K)syntaxError(void 0);if(!pe.name&&!pe.attributes.length)throw new Qe.InvalidSelectorError(`Error while parsing selector \`${w}\` - selector cannot be empty`);return pe}0&&0},9586:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{Semaphore:()=>Semaphore});w.exports=__toCommonJS(Be);var Qe=G(3587);class Semaphore{constructor(w){this._acquired=0;this._queue=[];this._max=w}setMax(w){this._max=w}acquire(){const w=new Qe.ManualPromise;this._queue.push(w);this._flush();return w}release(){--this._acquired;this._flush()}_flush(){while(this._acquired<this._max&&this._queue.length){++this._acquired;this._queue.shift().resolve()}}}0&&0},3559:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{captureRawStack:()=>captureRawStack,parseErrorStack:()=>parseErrorStack,parseStackFrame:()=>parseStackFrame,rewriteErrorMessage:()=>rewriteErrorMessage,splitErrorMessage:()=>splitErrorMessage,stringifyStackFrames:()=>stringifyStackFrames});w.exports=__toCommonJS(ye);function captureRawStack(){const w=Error.stackTraceLimit;Error.stackTraceLimit=50;const B=new Error;const G=B.stack||"";Error.stackTraceLimit=w;return G.split("\n")}function parseStackFrame(w,B,G){const K=w&&w.match(Se);if(!K)return null;let pe=K[2];let ye=K[7];if(!ye)return null;if(!G&&(ye.startsWith("internal")||ye.startsWith("node:")))return null;const Qe=K[8];const Pe=K[9];const Fe=K[11]===")";const Me={file:"",line:0,column:0};if(Qe)Me.line=Number(Qe);if(Pe)Me.column=Number(Pe);if(Fe&&ye){let w=0;for(let B=ye.length-1;B>0;B--){if(ye.charAt(B)===")"){w++}else if(ye.charAt(B)==="("&&ye.charAt(B-1)===" "){w--;if(w===-1&&ye.charAt(B-1)===" "){const w=ye.slice(0,B-1);const G=ye.slice(B+1);ye=G;pe+=` (${w}`;break}}}}if(pe){const w=pe.match(Be);if(w)pe=w[1]}if(ye){if(ye.startsWith("file://"))ye=fileURLToPath(ye,B);Me.file=ye}if(pe)Me.function=pe;return Me}function rewriteErrorMessage(w,B){const G=(w.stack?.split("\n")||[]).filter((w=>w.startsWith("    at ")));w.message=B;const K=`${w.name}: ${w.message}`;if(G.length)w.stack=`${K}\n${G.join("\n")}`;return w}function stringifyStackFrames(w){const B=[];for(const G of w){if(G.function)B.push(`    at ${G.function} (${G.file}:${G.line}:${G.column})`);else B.push(`    at ${G.file}:${G.line}:${G.column}`)}return B}function splitErrorMessage(w){const B=w.indexOf(":");return{name:B!==-1?w.slice(0,B):"",message:B!==-1&&B+2<=w.length?w.substring(B+2):w}}function parseErrorStack(w,B,G=false){const K=w.split("\n");let pe=K.findIndex((w=>w.startsWith("    at ")));if(pe===-1)pe=K.length;const ye=K.slice(0,pe).join("\n");const Se=K.slice(pe);let Be;for(const w of Se){const K=parseStackFrame(w,B,G);if(!K||!K.file)continue;if(belongsToNodeModules(K.file,B))continue;Be={file:K.file,column:K.column||0,line:K.line||0};break}return{message:ye,stackLines:Se,location:Be}}function belongsToNodeModules(w,B){return w.includes(`${B}node_modules${B}`)}const Se=new RegExp("^(?:\\s*at )?(?:(new) )?(?:(.*?) \\()?(?:eval at ([^ ]+) \\((.+?):(\\d+):(\\d+)\\), )?(?:(.+?):(\\d+):(\\d+)|(native))(\\)?)$");const Be=/^(.*?) \[as (.*?)\]$/;function fileURLToPath(w,B){if(!w.startsWith("file://"))return w;let G=decodeURIComponent(w.slice(7));if(G.startsWith("/")&&/^[a-zA-Z]:/.test(G.slice(1)))G=G.slice(1);return G.replace(/\//g,B)}0&&0},9658:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{cacheNormalizedWhitespaces:()=>cacheNormalizedWhitespaces,escapeForAttributeSelector:()=>escapeForAttributeSelector,escapeForTextSelector:()=>escapeForTextSelector,escapeHTML:()=>escapeHTML,escapeHTMLAttribute:()=>escapeHTMLAttribute,escapeRegExp:()=>escapeRegExp,escapeTemplateString:()=>escapeTemplateString,escapeWithQuotes:()=>escapeWithQuotes,isString:()=>isString,longestCommonSubstring:()=>longestCommonSubstring,normalizeEscapedRegexQuotes:()=>normalizeEscapedRegexQuotes,normalizeWhiteSpace:()=>normalizeWhiteSpace,quoteCSSAttributeValue:()=>quoteCSSAttributeValue,toSnakeCase:()=>toSnakeCase,toTitleCase:()=>toTitleCase,trimString:()=>trimString,trimStringWithEllipsis:()=>trimStringWithEllipsis});w.exports=__toCommonJS(ye);function escapeWithQuotes(w,B="'"){const G=JSON.stringify(w);const K=G.substring(1,G.length-1).replace(/\\"/g,'"');if(B==="'")return B+K.replace(/[']/g,"\\'")+B;if(B==='"')return B+K.replace(/["]/g,'\\"')+B;if(B==="`")return B+K.replace(/[`]/g,"\\`")+B;throw new Error("Invalid escape char")}function escapeTemplateString(w){return w.replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/\$\{/g,"\\${")}function isString(w){return typeof w==="string"||w instanceof String}function toTitleCase(w){return w.charAt(0).toUpperCase()+w.substring(1)}function toSnakeCase(w){return w.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}function quoteCSSAttributeValue(w){return`"${w.replace(/["\\]/g,(w=>"\\"+w))}"`}let Se;function cacheNormalizedWhitespaces(){Se=new Map}function normalizeWhiteSpace(w){let B=Se?.get(w);if(B===void 0){B=w.replace(/[\u200b\u00ad]/g,"").trim().replace(/\s+/g," ");Se?.set(w,B)}return B}function normalizeEscapedRegexQuotes(w){return w.replace(/(^|[^\\])(\\\\)*\\(['"`])/g,"$1$2$3")}function escapeRegexForSelector(w){if(w.unicode||w.unicodeSets)return String(w);return String(w).replace(/(^|[^\\])(\\\\)*(["'`])/g,"$1$2\\$3").replace(/>>/g,"\\>\\>")}function escapeForTextSelector(w,B){if(typeof w!=="string")return escapeRegexForSelector(w);return`${JSON.stringify(w)}${B?"s":"i"}`}function escapeForAttributeSelector(w,B){if(typeof w!=="string")return escapeRegexForSelector(w);return`"${w.replace(/\\/g,"\\\\").replace(/["]/g,'\\"')}"${B?"s":"i"}`}function trimString(w,B,G=""){if(w.length<=B)return w;const K=[...w];if(K.length>B)return K.slice(0,B-G.length).join("")+G;return K.join("")}function trimStringWithEllipsis(w,B){return trimString(w,B,"")}function escapeRegExp(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Be={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function escapeHTMLAttribute(w){return w.replace(/[&<>"']/gu,(w=>Be[w]))}function escapeHTML(w){return w.replace(/[&<]/gu,(w=>Be[w]))}function longestCommonSubstring(w,B){const G=w.length;const K=B.length;let pe=0;let ye=0;const Se=Array(G+1).fill(null).map((()=>Array(K+1).fill(0)));for(let Be=1;Be<=G;Be++){for(let G=1;G<=K;G++){if(w[Be-1]===B[G-1]){Se[Be][G]=Se[Be-1][G-1]+1;if(Se[Be][G]>pe){pe=Se[Be][G];ye=Be}}}}return w.slice(ye-pe,ye)}0&&0},3647:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{DEFAULT_PLAYWRIGHT_LAUNCH_TIMEOUT:()=>Pe,DEFAULT_PLAYWRIGHT_TIMEOUT:()=>Qe,monotonicTime:()=>monotonicTime,setTimeOrigin:()=>setTimeOrigin,timeOrigin:()=>timeOrigin});w.exports=__toCommonJS(ye);let Se=performance.timeOrigin;let Be=0;function setTimeOrigin(w){Se=w;Be=performance.timeOrigin-w}function timeOrigin(){return Se}function monotonicTime(){return Math.floor((performance.now()+Be)*1e3)/1e3}const Qe=3e4;const Pe=3*60*1e3;0&&0},4233:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{pollAgainstDeadline:()=>pollAgainstDeadline,raceAgainstDeadline:()=>raceAgainstDeadline});w.exports=__toCommonJS(Be);var Qe=G(3647);async function raceAgainstDeadline(w,B){let G;return Promise.race([w().then((w=>({result:w,timedOut:false}))),new Promise((w=>{const K=2147483647;const pe=(B||K)-(0,Qe.monotonicTime)();G=setTimeout((()=>w({timedOut:true})),pe)}))]).finally((()=>{clearTimeout(G)}))}async function pollAgainstDeadline(w,B,G=[100,250,500,1e3]){const K=G.pop()??1e3;let pe;const wrappedCallback=()=>Promise.resolve().then(w);while(true){const w=(0,Qe.monotonicTime)();if(B&&w>=B)break;const ye=await raceAgainstDeadline(wrappedCallback,B);if(ye.timedOut)break;pe=ye.result.result;if(!ye.result.continuePolling)return{result:pe,timedOut:false};const Se=G.shift()??K;if(B&&B<=(0,Qe.monotonicTime)()+Se)break;await new Promise((w=>setTimeout(w,Se)))}return{timedOut:true,result:pe}}0&&0},3524:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{parseClientSideCallMetadata:()=>parseClientSideCallMetadata,serializeClientSideCallMetadata:()=>serializeClientSideCallMetadata});w.exports=__toCommonJS(ye);function parseClientSideCallMetadata(w){const B=new Map;const{files:G,stacks:K}=w;for(const w of K){const[K,pe]=w;B.set(`call@${K}`,pe.map((w=>({file:G[w[0]],line:w[1],column:w[2],function:w[3]}))))}return B}function serializeClientSideCallMetadata(w){const B=new Map;const G=[];for(const K of w){if(!K.stack||!K.stack.length)continue;const w=[];for(const G of K.stack){let K=B.get(G.file);if(typeof K!=="number"){K=B.size;B.set(G.file,K)}const pe=[K,G.line||0,G.column||0,G.function||""];w.push(pe)}G.push([K.id,w])}return{files:[...B.keys()],stacks:G}}0&&0},4376:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{constructURLBasedOnBaseURL:()=>constructURLBasedOnBaseURL,globToRegexPattern:()=>globToRegexPattern,resolveGlobToRegexPattern:()=>resolveGlobToRegexPattern,urlMatches:()=>urlMatches,urlMatchesEqual:()=>urlMatchesEqual});w.exports=__toCommonJS(Be);var Qe=G(9658);const Pe=new Set(["$","^","+",".","*","(",")","|","\\","?","{","}","[","]"]);function globToRegexPattern(w){const B=["^"];let G=false;for(let K=0;K<w.length;++K){const pe=w[K];if(pe==="\\"&&K+1<w.length){const G=w[++K];B.push(Pe.has(G)?"\\"+G:G);continue}if(pe==="*"){let G=1;while(w[K+1]==="*"){G++;K++}if(G>1)B.push("(.*)");else B.push("([^/]*)");continue}switch(pe){case"{":G=true;B.push("(");break;case"}":G=false;B.push(")");break;case",":if(G){B.push("|");break}B.push("\\"+pe);break;default:B.push(Pe.has(pe)?"\\"+pe:pe)}}B.push("$");return B.join("")}function isRegExp(w){return w instanceof RegExp||Object.prototype.toString.call(w)==="[object RegExp]"}function urlMatchesEqual(w,B){if(isRegExp(w)&&isRegExp(B))return w.source===B.source&&w.flags===B.flags;return w===B}function urlMatches(w,B,G,K){if(G===void 0||G==="")return true;if((0,Qe.isString)(G))G=new RegExp(resolveGlobToRegexPattern(w,G,K));if(isRegExp(G)){const w=G.test(B);return w}const pe=parseURL(B);if(!pe)return false;if(typeof G!=="function")throw new Error("url parameter should be string, RegExp or function");return G(pe)}function resolveGlobToRegexPattern(w,B,G){if(G)w=toWebSocketBaseUrl(w);B=resolveGlobBase(w,B);return globToRegexPattern(B)}function toWebSocketBaseUrl(w){if(w&&/^https?:\/\//.test(w))w=w.replace(/^http/,"ws");return w}function resolveGlobBase(w,B){if(!B.startsWith("*")){let mapToken2=function(w,B){if(w.length===0)return"";K.set(B,w);return B};var G=mapToken2;const K=new Map;B=B.replaceAll(/\\\\\?/g,"?");if(B.startsWith("about:")||B.startsWith("data:")||B.startsWith("chrome:")||B.startsWith("edge:")||B.startsWith("file:"))return B;const pe=B.split("/").map(((w,B)=>{if(w==="."||w===".."||w==="")return w;if(B===0&&w.endsWith(":"))return mapToken2(w,"http:");const G=w.indexOf("?");if(G===-1)return mapToken2(w,`$_${B}_$`);const K=mapToken2(w.substring(0,G),`$_${B}_$`);const pe=mapToken2(w.substring(G),`?$_${B}_$`);return K+pe})).join("/");const ye=resolveBaseURL(w,pe);let Se=ye.resolved;for(const[w,B]of K){const G=ye.caseInsensitivePart?.includes(w);Se=Se.replace(w,G?B.toLowerCase():B)}B=Se}return B}function parseURL(w){try{return new URL(w)}catch(w){return null}}function constructURLBasedOnBaseURL(w,B){try{return resolveBaseURL(w,B).resolved}catch(w){return B}}function resolveBaseURL(w,B){try{const G=new URL(B,w);const K=G.toString();const pe=G.origin;return{resolved:K,caseInsensitivePart:pe}}catch(w){return{resolved:B}}}0&&0},3642:w=>{"use strict";var B=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var pe=Object.prototype.hasOwnProperty;var __export=(w,G)=>{for(var K in G)B(w,K,{get:G[K],enumerable:true})};var __copyProps=(w,ye,Se,Be)=>{if(ye&&typeof ye==="object"||typeof ye==="function"){for(let Qe of K(ye))if(!pe.call(w,Qe)&&Qe!==Se)B(w,Qe,{get:()=>ye[Qe],enumerable:!(Be=G(ye,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(B({},"__esModule",{value:true}),w);var ye={};__export(ye,{parseEvaluationResultValue:()=>parseEvaluationResultValue,serializeAsCallArgument:()=>serializeAsCallArgument});w.exports=__toCommonJS(ye);function isRegExp(w){try{return w instanceof RegExp||Object.prototype.toString.call(w)==="[object RegExp]"}catch(w){return false}}function isDate(w){try{return w instanceof Date||Object.prototype.toString.call(w)==="[object Date]"}catch(w){return false}}function isURL(w){try{return w instanceof URL||Object.prototype.toString.call(w)==="[object URL]"}catch(w){return false}}function isError(w){try{return w instanceof Error||w&&Object.getPrototypeOf(w)?.name==="Error"}catch(w){return false}}function isTypedArray(w,B){try{return w instanceof B||Object.prototype.toString.call(w)===`[object ${B.name}]`}catch(w){return false}}const Se={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,bi64:BigInt64Array,bui64:BigUint64Array};function typedArrayToBase64(w){if("toBase64"in w)return w.toBase64();const B=Array.from(new Uint8Array(w.buffer,w.byteOffset,w.byteLength)).map((w=>String.fromCharCode(w))).join("");return btoa(B)}function base64ToTypedArray(w,B){const G=atob(w);const K=new Uint8Array(G.length);for(let w=0;w<G.length;w++)K[w]=G.charCodeAt(w);return new B(K.buffer)}function parseEvaluationResultValue(w,B=[],G=new Map){if(Object.is(w,void 0))return void 0;if(typeof w==="object"&&w){if("ref"in w)return G.get(w.ref);if("v"in w){if(w.v==="undefined")return void 0;if(w.v==="null")return null;if(w.v==="NaN")return NaN;if(w.v==="Infinity")return Infinity;if(w.v==="-Infinity")return-Infinity;if(w.v==="-0")return-0;return void 0}if("d"in w){return new Date(w.d)}if("u"in w)return new URL(w.u);if("bi"in w)return BigInt(w.bi);if("e"in w){const B=new Error(w.e.m);B.name=w.e.n;B.stack=w.e.s;return B}if("r"in w)return new RegExp(w.r.p,w.r.f);if("a"in w){const K=[];G.set(w.id,K);for(const pe of w.a)K.push(parseEvaluationResultValue(pe,B,G));return K}if("o"in w){const K={};G.set(w.id,K);for(const{k:pe,v:ye}of w.o){if(pe==="__proto__")continue;K[pe]=parseEvaluationResultValue(ye,B,G)}return K}if("h"in w)return B[w.h];if("ta"in w)return base64ToTypedArray(w.ta.b,Se[w.ta.k])}return w}function serializeAsCallArgument(w,B){return serialize(w,B,{visited:new Map,lastId:0})}function serialize(w,B,G){if(w&&typeof w==="object"){if(typeof globalThis.Window==="function"&&w instanceof globalThis.Window)return"ref: <Window>";if(typeof globalThis.Document==="function"&&w instanceof globalThis.Document)return"ref: <Document>";if(typeof globalThis.Node==="function"&&w instanceof globalThis.Node)return"ref: <Node>"}return innerSerialize(w,B,G)}function innerSerialize(w,B,G){const K=B(w);if("fallThrough"in K)w=K.fallThrough;else return K;if(typeof w==="symbol")return{v:"undefined"};if(Object.is(w,void 0))return{v:"undefined"};if(Object.is(w,null))return{v:"null"};if(Object.is(w,NaN))return{v:"NaN"};if(Object.is(w,Infinity))return{v:"Infinity"};if(Object.is(w,-Infinity))return{v:"-Infinity"};if(Object.is(w,-0))return{v:"-0"};if(typeof w==="boolean")return w;if(typeof w==="number")return w;if(typeof w==="string")return w;if(typeof w==="bigint")return{bi:w.toString()};if(isError(w)){let B;if(w.stack?.startsWith(w.name+": "+w.message)){B=w.stack}else{B=`${w.name}: ${w.message}\n${w.stack}`}return{e:{n:w.name,m:w.message,s:B}}}if(isDate(w))return{d:w.toJSON()};if(isURL(w))return{u:w.toJSON()};if(isRegExp(w))return{r:{p:w.source,f:w.flags}};for(const[B,G]of Object.entries(Se)){if(isTypedArray(w,G))return{ta:{b:typedArrayToBase64(w),k:B}}}const pe=G.visited.get(w);if(pe)return{ref:pe};if(Array.isArray(w)){const K=[];const pe=++G.lastId;G.visited.set(w,pe);for(let pe=0;pe<w.length;++pe)K.push(serialize(w[pe],B,G));return{a:K,id:pe}}if(typeof w==="object"){const K=[];const pe=++G.lastId;G.visited.set(w,pe);for(const pe of Object.keys(w)){let ye;try{ye=w[pe]}catch(w){continue}if(pe==="toJSON"&&typeof ye==="function")K.push({k:pe,v:{o:[],id:0}});else K.push({k:pe,v:serialize(ye,B,G)})}let ye;try{if(K.length===0&&w.toJSON&&typeof w.toJSON==="function")ye={value:w.toJSON()}}catch(w){}if(ye)return innerSerialize(ye.value,B,G);return{o:K,id:pe}}}0&&0},4331:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{HttpsProxyAgent:()=>je,PNG:()=>Ke,ProgramOption:()=>rt,SocksProxyAgent:()=>ot,colors:()=>Qe,debug:()=>Pe,diff:()=>Fe,dotenv:()=>Me,getProxyForUrl:()=>Le,jpegjs:()=>qe,lockfile:()=>We,mime:()=>Ge,minimatch:()=>ze,ms:()=>ms,open:()=>Ye,program:()=>Xe,progress:()=>it,ws:()=>lt,wsReceiver:()=>ut,wsSender:()=>ft,wsServer:()=>ct,yaml:()=>at});w.exports=__toCommonJS(Be);const Qe=G(5246).colors;const Pe=G(5246).debug;const Fe=G(5246).diff;const Me=G(5246).dotenv;const Le=G(5246).getProxyForUrl;const je=G(5246).HttpsProxyAgent;const qe=G(5246).jpegjs;const We=G(5246).lockfile;const Ge=G(5246).mime;const ze=G(5246).minimatch;const Ye=G(5246).open;const Ke=G(5246).PNG;const Xe=G(5246).program;const rt=G(5246).ProgramOption;const it=G(5246).progress;const ot=G(5246).SocksProxyAgent;const at=G(5246).yaml;const lt=G(5246).ws;const ct=G(5246).wsServer;const ut=G(5246).wsReceiver;const ft=G(5246).wsSender;function ms(w){if(!isFinite(w))return"-";if(w===0)return"0ms";if(w<1e3)return w.toFixed(0)+"ms";const B=w/1e3;if(B<60)return B.toFixed(1)+"s";const G=B/60;if(G<60)return G.toFixed(1)+"m";const K=G/60;if(K<24)return K.toFixed(1)+"h";const pe=K/24;return pe.toFixed(1)+"d"}0&&0},5246:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf,Qe=Object.prototype.hasOwnProperty;var _=(w,B)=>()=>(B||w((B={exports:{}}).exports,B),B.exports),Tf=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:!0})},Af=(w,B,G,K)=>{if(B&&typeof B=="object"||typeof B=="function")for(let Be of Se(B))!Qe.call(w,Be)&&Be!==G&&pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable});return w};var $e=(w,B,G)=>(G=w!=null?K(Be(w)):{},Af(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:!0}):G,w)),Kb=w=>Af(pe({},"__esModule",{value:!0}),w);var Pe=_(((w,B)=>{var G={};B.exports=G;var K={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(K).forEach((function(w){var B=K[w],pe=G[w]=[];pe.open="["+B[0]+"m",pe.close="["+B[1]+"m"}))}));var Fe=_(((w,B)=>{"use strict";B.exports=function(w,B){B=B||process.argv;var G=B.indexOf("--"),K=/^-{1,2}/.test(w)?"":"--",pe=B.indexOf(K+w);return pe!==-1&&(G===-1?!0:pe<G)}}));var Me=_(((w,B)=>{"use strict";var K=G(857),pe=Fe(),ye=process.env,Se=void 0;pe("no-color")||pe("no-colors")||pe("color=false")?Se=!1:(pe("color")||pe("colors")||pe("color=true")||pe("color=always"))&&(Se=!0);"FORCE_COLOR"in ye&&(Se=ye.FORCE_COLOR.length===0||parseInt(ye.FORCE_COLOR,10)!==0);function Jb(w){return w===0?!1:{level:w,hasBasic:!0,has256:w>=2,has16m:w>=3}}function Zb(w){if(Se===!1)return 0;if(pe("color=16m")||pe("color=full")||pe("color=truecolor"))return 3;if(pe("color=256"))return 2;if(w&&!w.isTTY&&Se!==!0)return 0;var B=Se?1:0;if(process.platform==="win32"){var G=K.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(G[0])>=10&&Number(G[2])>=10586?Number(G[2])>=14931?3:2:1}if("CI"in ye)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(w){return w in ye}))||ye.CI_NAME==="codeship"?1:B;if("TEAMCITY_VERSION"in ye)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ye.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in ye){var Be=parseInt((ye.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ye.TERM_PROGRAM){case"iTerm.app":return Be>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ye.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(ye.TERM)||"COLORTERM"in ye?1:(ye.TERM==="dumb",B)}function Sa(w){var B=Zb(w);return Jb(B)}B.exports={supportsColor:Sa,stdout:Sa(process.stdout),stderr:Sa(process.stderr)}}));var Le=_(((w,B)=>{B.exports=function(w,B){var G="";w=w||"Run the trap, drop the bass",w=w.split("");var K={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return w.forEach((function(w){w=w.toLowerCase();var B=K[w]||[" "],pe=Math.floor(Math.random()*B.length);typeof K[w]!="undefined"?G+=K[w][pe]:G+=w})),G}}));var je=_(((w,B)=>{B.exports=function(w,B){w=w||"   he is here   ";var G={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},K=[].concat(G.up,G.down,G.mid);function s(w){var B=Math.floor(Math.random()*w);return B}function o(w){var B=!1;return K.filter((function(G){B=G===w})),B}function a(w,B){var K="",pe,ye;B=B||{},B.up=typeof B.up!="undefined"?B.up:!0,B.mid=typeof B.mid!="undefined"?B.mid:!0,B.down=typeof B.down!="undefined"?B.down:!0,B.size=typeof B.size!="undefined"?B.size:"maxi",w=w.split("");for(ye in w)if(!o(ye)){switch(K=K+w[ye],pe={up:0,down:0,mid:0},B.size){case"mini":pe.up=s(8),pe.mid=s(2),pe.down=s(8);break;case"maxi":pe.up=s(16)+3,pe.mid=s(4)+1,pe.down=s(64)+3;break;default:pe.up=s(8)+1,pe.mid=s(6)/2,pe.down=s(8)+1;break}var Se=["up","mid","down"];for(var Be in Se)for(var Qe=Se[Be],Pe=0;Pe<=pe[Qe];Pe++)B[Qe]&&(K=K+G[Qe][s(G[Qe].length)])}return K}return a(w,B)}}));var qe=_(((w,B)=>{B.exports=function(w){return function(B,G,K){if(B===" ")return B;switch(G%3){case 0:return w.red(B);case 1:return w.white(B);case 2:return w.blue(B)}}}}));var We=_(((w,B)=>{B.exports=function(w){return function(B,G,K){return G%2===0?B:w.inverse(B)}}}));var Ge=_(((w,B)=>{B.exports=function(w){var B=["red","yellow","green","blue","magenta"];return function(G,K,pe){return G===" "?G:w[B[K++%B.length]](G)}}}));var ze=_(((w,B)=>{B.exports=function(w){var B=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(G,K,pe){return G===" "?G:w[B[Math.round(Math.random()*(B.length-2))]](G)}}}));var Ye=_(((w,B)=>{var K={};B.exports=K;K.themes={};var pe=G(9023),ye=K.styles=Pe(),Se=Object.defineProperties,Be=new RegExp(/[\r\n]+/g);K.supportsColor=Me().supportsColor;typeof K.enabled=="undefined"&&(K.enabled=K.supportsColor()!==!1);K.enable=function(){K.enabled=!0};K.disable=function(){K.enabled=!1};K.stripColors=K.strip=function(w){return(""+w).replace(/\x1B\[\d+m/g,"")};var Qe=K.stylize=function(w,B){if(!K.enabled)return w+"";var G=ye[B];return!G&&B in K?K[B](w):G.open+w+G.close},Fe=/[|\\{}()[\]^$+*?.]/g,t_=function(w){if(typeof w!="string")throw new TypeError("Expected a string");return w.replace(Fe,"\\$&")};function Qf(w){var B=function t(){return r_.apply(t,arguments)};return B._styles=w,B.__proto__=Ke,B}var Ye=function(){var w={};return ye.grey=ye.gray,Object.keys(ye).forEach((function(B){ye[B].closeRe=new RegExp(t_(ye[B].close),"g"),w[B]={get:function(){return Qf(this._styles.concat(B))}}})),w}(),Ke=Se((function(){}),Ye);function r_(){var w=Array.prototype.slice.call(arguments),B=w.map((function(w){return w!=null&&w.constructor===String?w:pe.inspect(w)})).join(" ");if(!K.enabled||!B)return B;for(var G=B.indexOf(`\n`)!=-1,Se=this._styles,Qe=Se.length;Qe--;){var Pe=ye[Se[Qe]];B=Pe.open+B.replace(Pe.closeRe,Pe.open)+Pe.close,G&&(B=B.replace(Be,(function(w){return Pe.close+w+Pe.open})))}return B}K.setTheme=function(w){if(typeof w=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var B in w)(function(B){K[B]=function(G){if(typeof w[B]=="object"){var pe=G;for(var ye in w[B])pe=K[w[B][ye]](pe);return pe}return K[w[B]](G)}})(B)};function n_(){var w={};return Object.keys(Ye).forEach((function(B){w[B]={get:function(){return Qf([B])}}})),w}var s_=function(w,B){var G=B.split("");return G=G.map(w),G.join("")};K.trap=Le();K.zalgo=je();K.maps={};K.maps.america=qe()(K);K.maps.zebra=We()(K);K.maps.rainbow=Ge()(K);K.maps.random=ze()(K);for(Xe in K.maps)(function(w){K[w]=function(B){return s_(K.maps[w],B)}})(Xe);var Xe;Se(K,n_())}));var Ke=_(((w,B)=>{var G=Ye();B.exports=G}));var Xe=_(((w,B)=>{var G=1e3,K=G*60,pe=K*60,ye=pe*24,Se=ye*7,Be=ye*365.25;B.exports=function(w,B){B=B||{};var G=typeof w;if(G==="string"&&w.length>0)return c_(w);if(G==="number"&&isFinite(w))return B.long?f_(w):u_(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function c_(w){if(w=String(w),!(w.length>100)){var B=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(B){var Qe=parseFloat(B[1]),Pe=(B[2]||"ms").toLowerCase();switch(Pe){case"years":case"year":case"yrs":case"yr":case"y":return Qe*Be;case"weeks":case"week":case"w":return Qe*Se;case"days":case"day":case"d":return Qe*ye;case"hours":case"hour":case"hrs":case"hr":case"h":return Qe*pe;case"minutes":case"minute":case"mins":case"min":case"m":return Qe*K;case"seconds":case"second":case"secs":case"sec":case"s":return Qe*G;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Qe;default:return}}}}function u_(w){var B=Math.abs(w);return B>=ye?Math.round(w/ye)+"d":B>=pe?Math.round(w/pe)+"h":B>=K?Math.round(w/K)+"m":B>=G?Math.round(w/G)+"s":w+"ms"}function f_(w){var B=Math.abs(w);return B>=ye?gs(w,B,ye,"day"):B>=pe?gs(w,B,pe,"hour"):B>=K?gs(w,B,K,"minute"):B>=G?gs(w,B,G,"second"):w+" ms"}function gs(w,B,G,K){var pe=B>=G*1.5;return Math.round(w/G)+" "+K+(pe?"s":"")}}));var rt=_(((w,B)=>{function h_(w){t.debug=t,t.default=t,t.coerce=l,t.disable=s,t.enable=n,t.enabled=o,t.humanize=Xe(),t.destroy=c,Object.keys(w).forEach((B=>{t[B]=w[B]})),t.names=[],t.skips=[],t.formatters={};function e(w){let B=0;for(let G=0;G<w.length;G++)B=(B<<5)-B+w.charCodeAt(G),B|=0;return t.colors[Math.abs(B)%t.colors.length]}t.selectColor=e;function t(w){let B,G=null,K,pe;function y(...w){if(!y.enabled)return;let G=y,K=Number(new Date),pe=K-(B||K);G.diff=pe,G.prev=B,G.curr=K,B=K,w[0]=t.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let ye=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,((B,K)=>{if(B==="%%")return"%";ye++;let pe=t.formatters[K];if(typeof pe=="function"){let K=w[ye];B=pe.call(G,K),w.splice(ye,1),ye--}return B})),t.formatArgs.call(G,w),(G.log||t.log).apply(G,w)}return y.namespace=w,y.useColors=t.useColors(),y.color=t.selectColor(w),y.extend=r,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>G!==null?G:(K!==t.namespaces&&(K=t.namespaces,pe=t.enabled(w)),pe),set:w=>{G=w}}),typeof t.init=="function"&&t.init(y),y}function r(w,B){let G=t(this.namespace+(typeof B=="undefined"?":":B)+w);return G.log=this.log,G}function n(w){t.save(w),t.namespaces=w,t.names=[],t.skips=[];let B,G=(typeof w=="string"?w:"").split(/[\s,]+/),K=G.length;for(B=0;B<K;B++)G[B]&&(w=G[B].replace(/\*/g,".*?"),w[0]==="-"?t.skips.push(new RegExp("^"+w.slice(1)+"$")):t.names.push(new RegExp("^"+w+"$")))}function s(){let w=[...t.names.map(a),...t.skips.map(a).map((w=>"-"+w))].join(",");return t.enable(""),w}function o(w){if(w[w.length-1]==="*")return!0;let B,G;for(B=0,G=t.skips.length;B<G;B++)if(t.skips[B].test(w))return!1;for(B=0,G=t.names.length;B<G;B++)if(t.names[B].test(w))return!0;return!1}function a(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}function l(w){return w instanceof Error?w.stack||w.message:w}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}B.exports=h_}));var it=_(((w,B)=>{w.formatArgs=d_;w.save=m_;w.load=g_;w.useColors=p_;w.storage=v_();w.destroy=(()=>{let w=!1;return()=>{w||(w=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();w.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function p_(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function d_(w){if(w[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+w[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),!this.useColors)return;let G="color: "+this.color;w.splice(1,0,G,"color: inherit");let K=0,pe=0;w[0].replace(/%[a-zA-Z%]/g,(w=>{w!=="%%"&&(K++,w==="%c"&&(pe=K))})),w.splice(pe,0,G)}w.log=console.debug||console.log||(()=>{});function m_(B){try{B?w.storage.setItem("debug",B):w.storage.removeItem("debug")}catch{}}function g_(){let B;try{B=w.storage.getItem("debug")}catch{}return!B&&typeof process!="undefined"&&"env"in process&&(B=process.env.DEBUG),B}function v_(){try{return localStorage}catch{}}B.exports=rt()(w);var{formatters:G}=B.exports;G.j=function(w){try{return JSON.stringify(w)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}}}));var ot=_(((w,B)=>{"use strict";B.exports=(w,B=process.argv)=>{let G=w.startsWith("-")?"":w.length===1?"-":"--",K=B.indexOf(G+w),pe=B.indexOf("--");return K!==-1&&(pe===-1||K<pe)}}));var at=_(((w,B)=>{"use strict";var K=G(857),pe=G(2018),ye=ot(),{env:Se}=process,Be;ye("no-color")||ye("no-colors")||ye("color=false")||ye("color=never")?Be=0:(ye("color")||ye("colors")||ye("color=true")||ye("color=always"))&&(Be=1);function __(){if("FORCE_COLOR"in Se)return Se.FORCE_COLOR==="true"?1:Se.FORCE_COLOR==="false"?0:Se.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Se.FORCE_COLOR,10),3)}function w_(w){return w===0?!1:{level:w,hasBasic:!0,has256:w>=2,has16m:w>=3}}function x_(w,{streamIsTTY:B,sniffFlags:G=!0}={}){let pe=__();pe!==void 0&&(Be=pe);let Qe=G?Be:pe;if(Qe===0)return 0;if(G){if(ye("color=16m")||ye("color=full")||ye("color=truecolor"))return 3;if(ye("color=256"))return 2}if(w&&!B&&Qe===void 0)return 0;let Pe=Qe||0;if(Se.TERM==="dumb")return Pe;if(process.platform==="win32"){let w=K.release().split(".");return Number(w[0])>=10&&Number(w[2])>=10586?Number(w[2])>=14931?3:2:1}if("CI"in Se)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((w=>w in Se))||Se.CI_NAME==="codeship"?1:Pe;if("TEAMCITY_VERSION"in Se)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Se.TEAMCITY_VERSION)?1:0;if(Se.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Se){let w=Number.parseInt((Se.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Se.TERM_PROGRAM){case"iTerm.app":return w>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Se.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Se.TERM)||"COLORTERM"in Se?1:Pe}function Oa(w,B={}){let G=x_(w,{streamIsTTY:w&&w.isTTY,...B});return w_(G)}B.exports={supportsColor:Oa,stdout:Oa({isTTY:pe.isatty(1)}),stderr:Oa({isTTY:pe.isatty(2)})}}));var lt=_(((w,B)=>{var K=G(2018),pe=G(9023);w.init=I_;w.log=C_;w.formatArgs=O_;w.save=T_;w.load=A_;w.useColors=E_;w.destroy=pe.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");w.colors=[6,2,3,4,5,1];try{let B=at();B&&(B.stderr||B).level>=2&&(w.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}w.inspectOpts=Object.keys(process.env).filter((w=>/^debug_/i.test(w))).reduce(((w,B)=>{let G=B.substring(6).toLowerCase().replace(/_([a-z])/g,((w,B)=>B.toUpperCase())),K=process.env[B];return/^(yes|on|true|enabled)$/i.test(K)?K=!0:/^(no|off|false|disabled)$/i.test(K)?K=!1:K==="null"?K=null:K=Number(K),w[G]=K,w}),{});function E_(){return"colors"in w.inspectOpts?!!w.inspectOpts.colors:K.isatty(process.stderr.fd)}function O_(w){let{namespace:G,useColors:K}=this;if(K){let K=this.color,pe="[3"+(K<8?K:"8;5;"+K),ye=`  ${pe};1m${G} [0m`;w[0]=ye+w[0].split(`\n`).join(`\n`+ye),w.push(pe+"m+"+B.exports.humanize(this.diff)+"[0m")}else w[0]=k_()+G+" "+w[0]}function k_(){return w.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function C_(...w){return process.stderr.write(pe.format(...w)+`\n`)}function T_(w){w?process.env.DEBUG=w:delete process.env.DEBUG}function A_(){return process.env.DEBUG}function I_(B){B.inspectOpts={};let G=Object.keys(w.inspectOpts);for(let K=0;K<G.length;K++)B.inspectOpts[G[K]]=w.inspectOpts[G[K]]}B.exports=rt()(w);var{formatters:ye}=B.exports;ye.o=function(w){return this.inspectOpts.colors=this.useColors,pe.inspect(w,this.inspectOpts).split(`\n`).map((w=>w.trim())).join(" ")};ye.O=function(w){return this.inspectOpts.colors=this.useColors,pe.inspect(w,this.inspectOpts)}}));var ct=_(((w,B)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?B.exports=it():B.exports=lt()}));var ut=_(((w,B)=>{B.exports={name:"dotenv",version:"16.4.5",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}));var ft=_(((w,B)=>{var K=G(9896),pe=G(6928),ye=G(857),Se=G(6982),Be=ut(),Qe=Be.version,Pe=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function vw(w){let B={},G=w.toString();G=G.replace(/\r\n?/gm,`\n`);let K;for(;(K=Pe.exec(G))!=null;){let w=K[1],G=K[2]||"";G=G.trim();let pe=G[0];G=G.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),pe==='"'&&(G=G.replace(/\\n/g,`\n`),G=G.replace(/\\r/g,"\r")),B[w]=G}return B}function yw(w){let B=$h(w),G=Fe.configDotenv({path:B});if(!G.parsed){let w=new Error(`MISSING_DATA: Cannot parse ${B} for an unknown reason`);throw w.code="MISSING_DATA",w}let K=Uh(w).split(","),pe=K.length,ye;for(let w=0;w<pe;w++)try{let B=K[w].trim(),pe=ww(G,B);ye=Fe.decrypt(pe.ciphertext,pe.key);break}catch(B){if(w+1>=pe)throw B}return Fe.parse(ye)}function bw(w){console.log(`[dotenv@${Qe}][INFO] ${w}`)}function _w(w){console.log(`[dotenv@${Qe}][WARN] ${w}`)}function As(w){console.log(`[dotenv@${Qe}][DEBUG] ${w}`)}function Uh(w){return w&&w.DOTENV_KEY&&w.DOTENV_KEY.length>0?w.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function ww(w,B){let G;try{G=new URL(B)}catch(w){if(w.code==="ERR_INVALID_URL"){let w=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw w.code="INVALID_DOTENV_KEY",w}throw w}let K=G.password;if(!K){let w=new Error("INVALID_DOTENV_KEY: Missing key part");throw w.code="INVALID_DOTENV_KEY",w}let pe=G.searchParams.get("environment");if(!pe){let w=new Error("INVALID_DOTENV_KEY: Missing environment part");throw w.code="INVALID_DOTENV_KEY",w}let ye=`DOTENV_VAULT_${pe.toUpperCase()}`,Se=w.parsed[ye];if(!Se){let w=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${ye} in your .env.vault file.`);throw w.code="NOT_FOUND_DOTENV_ENVIRONMENT",w}return{ciphertext:Se,key:K}}function $h(w){let B=null;if(w&&w.path&&w.path.length>0)if(Array.isArray(w.path))for(let G of w.path)K.existsSync(G)&&(B=G.endsWith(".vault")?G:`${G}.vault`);else B=w.path.endsWith(".vault")?w.path:`${w.path}.vault`;else B=pe.resolve(process.cwd(),".env.vault");return K.existsSync(B)?B:null}function jh(w){return w[0]==="~"?pe.join(ye.homedir(),w.slice(1)):w}function xw(w){bw("Loading env from encrypted .env.vault");let B=Fe._parseVault(w),G=process.env;return w&&w.processEnv!=null&&(G=w.processEnv),Fe.populate(G,B,w),{parsed:B}}function Sw(w){let B=pe.resolve(process.cwd(),".env"),G="utf8",ye=!!(w&&w.debug);w&&w.encoding?G=w.encoding:ye&&As("No encoding is specified. UTF-8 is used by default");let Se=[B];if(w&&w.path)if(!Array.isArray(w.path))Se=[jh(w.path)];else{Se=[];for(let B of w.path)Se.push(jh(B))}let Be,Qe={};for(let B of Se)try{let pe=Fe.parse(K.readFileSync(B,{encoding:G}));Fe.populate(Qe,pe,w)}catch(w){ye&&As(`Failed to load ${B} ${w.message}`),Be=w}let Pe=process.env;return w&&w.processEnv!=null&&(Pe=w.processEnv),Fe.populate(Pe,Qe,w),Be?{parsed:Qe,error:Be}:{parsed:Qe}}function Ew(w){if(Uh(w).length===0)return Fe.configDotenv(w);let B=$h(w);return B?Fe._configVault(w):(_w(`You set DOTENV_KEY but you are missing a .env.vault file at ${B}. Did you forget to build it?`),Fe.configDotenv(w))}function Ow(w,B){let G=Buffer.from(B.slice(-64),"hex"),K=Buffer.from(w,"base64"),pe=K.subarray(0,12),ye=K.subarray(-16);K=K.subarray(12,-16);try{let w=Se.createDecipheriv("aes-256-gcm",G,pe);return w.setAuthTag(ye),`${w.update(K)}${w.final()}`}catch(w){let B=w instanceof RangeError,G=w.message==="Invalid key length",K=w.message==="Unsupported state or unable to authenticate data";if(B||G){let w=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw w.code="INVALID_DOTENV_KEY",w}else if(K){let w=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw w.code="DECRYPTION_FAILED",w}else throw w}}function kw(w,B,G={}){let K=!!(G&&G.debug),pe=!!(G&&G.override);if(typeof B!="object"){let w=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw w.code="OBJECT_REQUIRED",w}for(let G of Object.keys(B))Object.prototype.hasOwnProperty.call(w,G)?(pe===!0&&(w[G]=B[G]),K&&As(pe===!0?`"${G}" is already defined and WAS overwritten`:`"${G}" is already defined and was NOT overwritten`)):w[G]=B[G]}var Fe={configDotenv:Sw,_configVault:xw,_parseVault:yw,config:Ew,decrypt:Ow,parse:vw,populate:kw};B.exports.configDotenv=Fe.configDotenv;B.exports._configVault=Fe._configVault;B.exports._parseVault=Fe._parseVault;B.exports.config=Fe.config;B.exports.decrypt=Fe.decrypt;B.exports.parse=Fe.parse;B.exports.populate=Fe.populate;B.exports=Fe}));var gt=_((w=>{"use strict";var B=G(7016).parse,K={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},pe=String.prototype.endsWith||function(w){return w.length<=this.length&&this.indexOf(w,this.length-w.length)!==-1};function Iw(w){var G=typeof w=="string"?B(w):w||{},pe=G.protocol,ye=G.host,Se=G.port;if(typeof ye!="string"||!ye||typeof pe!="string"||(pe=pe.split(":",1)[0],ye=ye.replace(/:\d*$/,""),Se=parseInt(Se)||K[pe]||0,!Nw(ye,Se)))return"";var Be=wr("npm_config_"+pe+"_proxy")||wr(pe+"_proxy")||wr("npm_config_proxy")||wr("all_proxy");return Be&&Be.indexOf("://")===-1&&(Be=pe+"://"+Be),Be}function Nw(w,B){var G=(wr("npm_config_no_proxy")||wr("no_proxy")).toLowerCase();return G?G==="*"?!1:G.split(/[,\s]/).every((function(G){if(!G)return!0;var K=G.match(/^(.+):(\d+)$/),ye=K?K[1]:G,Se=K?parseInt(K[2]):0;return Se&&Se!==B?!0:/^[.*]/.test(ye)?(ye.charAt(0)==="*"&&(ye=ye.slice(1)),!pe.call(w,ye)):w!==ye})):!0}function wr(w){return process.env[w.toLowerCase()]||process.env[w.toUpperCase()]||""}w.getProxyForUrl=Iw}));var mt=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});function Lw(w){return function(B,G){return new Promise(((K,pe)=>{w.call(this,B,G,((w,B)=>{w?pe(w):K(B)}))}))}}w.default=Lw}));var wt=_(((w,B)=>{"use strict";var K=w&&w.__importDefault||function(w){return w&&w.__esModule?w:{default:w}},pe=G(4434),ye=K(ct()),Se=K(mt()),Be=ye.default("agent-base");function Mw(w){return!!w&&typeof w.addRequest=="function"}function ja(){let{stack:w}=new Error;return typeof w!="string"?!1:w.split(`\n`).some((w=>w.indexOf("(https.js:")!==-1||w.indexOf("node:https:")!==-1))}function Is(w,B){return new Is.Agent(w,B)}(function(w){class e extends pe.EventEmitter{constructor(w,B){super();let G=B;typeof w=="function"?this.callback=w:w&&(G=w),this.timeout=null,G&&typeof G.timeout=="number"&&(this.timeout=G.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:ja()?443:80}set defaultPort(w){this.explicitDefaultPort=w}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:ja()?"https:":"http:"}set protocol(w){this.explicitProtocol=w}callback(w,B,G){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(w,B){let G=Object.assign({},B);typeof G.secureEndpoint!="boolean"&&(G.secureEndpoint=ja()),G.host==null&&(G.host="localhost"),G.port==null&&(G.port=G.secureEndpoint?443:80),G.protocol==null&&(G.protocol=G.secureEndpoint?"https:":"http:"),G.host&&G.path&&delete G.path,delete G.agent,delete G.hostname,delete G._defaultAgent,delete G.defaultPort,delete G.createConnection,w._last=!0,w.shouldKeepAlive=!1;let K=!1,pe=null,ye=G.timeout||this.timeout,c=B=>{w._hadError||(w.emit("error",B),w._hadError=!0)},u=()=>{pe=null,K=!0;let w=new Error(`A "socket" was not created for HTTP request before ${ye}ms`);w.code="ETIMEOUT",c(w)},f=w=>{K||(pe!==null&&(clearTimeout(pe),pe=null),c(w))},d=B=>{if(K)return;if(pe!=null&&(clearTimeout(pe),pe=null),Mw(B)){Be("Callback returned another Agent instance %o",B.constructor.name),B.addRequest(w,G);return}if(B){B.once("free",(()=>{this.freeSocket(B,G)})),w.onSocket(B);return}let ye=new Error(`no Duplex stream was returned to agent-base for \`${w.method} ${w.path}\``);c(ye)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Be("Converting legacy callback function to promise"),this.promisifiedCallback=Se.default(this.callback)):this.promisifiedCallback=this.callback),typeof ye=="number"&&ye>0&&(pe=setTimeout(u,ye)),"port"in G&&typeof G.port!="number"&&(G.port=Number(G.port));try{Be("Resolving socket for %o request: %o",G.protocol,`${w.method} ${w.path}`),Promise.resolve(this.promisifiedCallback(w,G)).then(d,f)}catch(w){Promise.reject(w).catch(f)}}freeSocket(w,B){Be("Freeing socket %o %o",w.constructor.name,B),w.destroy()}destroy(){Be("Destroying agent %o",this.constructor.name)}}w.Agent=e,w.prototype=w.Agent.prototype})(Is||(Is={}));B.exports=Is}));var vt=_((w=>{"use strict";var B=w&&w.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(w,"__esModule",{value:!0});var G=B(ct()),K=G.default("https-proxy-agent:parse-proxy-response");function qw(w){return new Promise(((B,G)=>{let pe=0,ye=[];function s(){let B=w.read();B?u(B):w.once("readable",s)}function o(){w.removeListener("end",l),w.removeListener("error",c),w.removeListener("close",a),w.removeListener("readable",s)}function a(w){K("onclose had error %o",w)}function l(){K("onend")}function c(w){o(),K("onerror %o",w),G(w)}function u(w){ye.push(w),pe+=w.length;let G=Buffer.concat(ye,pe);if(G.indexOf(`\r\n\r\n`)===-1){K("have not received end of HTTP headers yet..."),s();return}let Se=G.toString("ascii",0,G.indexOf(`\r\n`)),Be=+Se.split(" ")[1];K("got proxy server response: %o",Se),B({statusCode:Be,buffered:G})}w.on("error",c),w.on("close",a),w.on("end",l),s()}))}w.default=qw}));var _t=_((w=>{"use strict";var B=w&&w.__awaiter||function(w,B,G,K){function n(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function a(w){try{c(K.next(w))}catch(w){pe(w)}}function l(w){try{c(K.throw(w))}catch(w){pe(w)}}function c(w){w.done?G(w.value):n(w.value).then(a,l)}c((K=K.apply(w,B||[])).next())}))},K=w&&w.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(w,"__esModule",{value:!0});var pe=K(G(9278)),ye=K(G(4756)),Se=K(G(7016)),Be=K(G(2613)),Qe=K(ct()),Pe=wt(),Fe=K(vt()),Me=Qe.default("https-proxy-agent:agent"),Le=class extends Pe.Agent{constructor(w){let B;if(typeof w=="string"?B=Se.default.parse(w):B=w,!B)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Me("creating new HttpsProxyAgent instance: %o",B),super(B);let G=Object.assign({},B);this.secureProxy=B.secureProxy||Kw(G.protocol),G.host=G.hostname||G.host,typeof G.port=="string"&&(G.port=parseInt(G.port,10)),!G.port&&G.host&&(G.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in G)&&(G.ALPNProtocols=["http 1.1"]),G.host&&G.path&&(delete G.path,delete G.pathname),this.proxy=G}callback(w,G){return B(this,void 0,void 0,(function*(){let{proxy:B,secureProxy:K}=this,Se;K?(Me("Creating `tls.Socket`: %o",B),Se=ye.default.connect(B)):(Me("Creating `net.Socket`: %o",B),Se=pe.default.connect(B));let Qe=Object.assign({},B.headers),Pe=`CONNECT ${`${G.host}:${G.port}`} HTTP/1.1\r\n`;B.auth&&(Qe["Proxy-Authorization"]=`Basic ${Buffer.from(B.auth).toString("base64")}`);let{host:Le,port:je,secureEndpoint:qe}=G;Yw(je,qe)||(Le+=`:${je}`),Qe.Host=Le,Qe.Connection="close";for(let w of Object.keys(Qe))Pe+=`${w}: ${Qe[w]}\r\n`;let We=Fe.default(Se);Se.write(`${Pe}\r\n`);let{statusCode:Ge,buffered:ze}=yield We;if(Ge===200){if(w.once("socket",Ww),G.secureEndpoint){Me("Upgrading socket connection to TLS");let w=G.servername||G.host;return ye.default.connect(Object.assign(Object.assign({},zw(G,"host","hostname","path","port")),{socket:Se,servername:w}))}return Se}Se.destroy();let Ye=new pe.default.Socket({writable:!1});return Ye.readable=!0,w.once("socket",(w=>{Me("replaying proxy buffer for failed request"),Be.default(w.listenerCount("data")>0),w.push(ze),w.push(null)})),Ye}))}};w.default=Le;function Ww(w){w.resume()}function Yw(w,B){return!!(!B&&w===80||B&&w===443)}function Kw(w){return typeof w=="string"?/^https:?$/i.test(w):!1}function zw(w,...B){let G={},K;for(K in w)B.includes(K)||(G[K]=w[K]);return G}}));var It=_(((w,B)=>{"use strict";var G=w&&w.__importDefault||function(w){return w&&w.__esModule?w:{default:w}},K=G(_t());function Ga(w){return new K.default(w)}(function(w){w.HttpsProxyAgent=K.default,w.prototype=K.default.prototype})(Ga||(Ga={}));B.exports=Ga}));var St=_(((w,B)=>{var G=G||function(w){return Buffer.from(w).toString("base64")};function Zw(w){var G=this,K=Math.round,pe=Math.floor,ye=new Array(64),Se=new Array(64),Be=new Array(64),Qe=new Array(64),Pe,Fe,Me,Le,je=new Array(65535),qe=new Array(65535),We=new Array(64),Ge=new Array(64),ze=[],Ye=0,Ke=7,Xe=new Array(64),rt=new Array(64),it=new Array(64),ot=new Array(256),at=new Array(2048),lt,ct=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ut=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ft=[0,1,2,3,4,5,6,7,8,9,10,11],gt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],mt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],wt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],vt=[0,1,2,3,4,5,6,7,8,9,10,11],_t=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],It=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(w){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var K=pe((B[G]*w+50)/100);K<1?K=1:K>255&&(K=255),ye[ct[G]]=K}for(var Pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Fe=0;Fe<64;Fe++){var Me=pe((Pe[Fe]*w+50)/100);Me<1?Me=1:Me>255&&(Me=255),Se[ct[Fe]]=Me}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,qe=0;qe<8;qe++)for(var We=0;We<8;We++)Be[je]=1/(ye[ct[je]]*Le[qe]*Le[We]*8),Qe[je]=1/(Se[ct[je]]*Le[qe]*Le[We]*8),je++}function W(w,B){for(var G=0,K=0,pe=new Array,ye=1;ye<=16;ye++){for(var Se=1;Se<=w[ye];Se++)pe[B[K]]=[],pe[B[K]][0]=G,pe[B[K]][1]=ye,K++,G++;G*=2}return pe}function de(){Pe=W(ut,ft),Fe=W(wt,vt),Me=W(gt,mt),Le=W(_t,It)}function ae(){for(var w=1,B=2,G=1;G<=15;G++){for(var K=w;K<B;K++)qe[32767+K]=G,je[32767+K]=[],je[32767+K][1]=G,je[32767+K][0]=K;for(var pe=-(B-1);pe<=-w;pe++)qe[32767+pe]=G,je[32767+pe]=[],je[32767+pe][1]=G,je[32767+pe][0]=B-1+pe;w<<=1,B<<=1}}function ne(){for(var w=0;w<256;w++)at[w]=19595*w,at[w+256>>0]=38470*w,at[w+512>>0]=7471*w+32768,at[w+768>>0]=-11059*w,at[w+1024>>0]=-21709*w,at[w+1280>>0]=32768*w+8421375,at[w+1536>>0]=-27439*w,at[w+1792>>0]=-5329*w}function ue(w){for(var B=w[0],G=w[1]-1;G>=0;)B&1<<G&&(Ye|=1<<Ke),G--,Ke--,Ke<0&&(Ye==255?(N(255),N(0)):N(Ye),Ke=7,Ye=0)}function N(w){ze.push(w)}function X(w){N(w>>8&255),N(w&255)}function ke(w,B){var G,K,pe,ye,Se,Be,Qe,Pe,Fe=0,Me,Le=8,je=64;for(Me=0;Me<Le;++Me){G=w[Fe],K=w[Fe+1],pe=w[Fe+2],ye=w[Fe+3],Se=w[Fe+4],Be=w[Fe+5],Qe=w[Fe+6],Pe=w[Fe+7];var qe=G+Pe,Ge=G-Pe,ze=K+Qe,Ye=K-Qe,Ke=pe+Be,Xe=pe-Be,rt=ye+Se,it=ye-Se,ot=qe+rt,at=qe-rt,lt=ze+Ke,ct=ze-Ke;w[Fe]=ot+lt,w[Fe+4]=ot-lt;var ut=(ct+at)*.707106781;w[Fe+2]=at+ut,w[Fe+6]=at-ut,ot=it+Xe,lt=Xe+Ye,ct=Ye+Ge;var ft=(ot-ct)*.382683433,gt=.5411961*ot+ft,mt=1.306562965*ct+ft,wt=lt*.707106781,vt=Ge+wt,_t=Ge-wt;w[Fe+5]=_t+gt,w[Fe+3]=_t-gt,w[Fe+1]=vt+mt,w[Fe+7]=vt-mt,Fe+=8}for(Fe=0,Me=0;Me<Le;++Me){G=w[Fe],K=w[Fe+8],pe=w[Fe+16],ye=w[Fe+24],Se=w[Fe+32],Be=w[Fe+40],Qe=w[Fe+48],Pe=w[Fe+56];var It=G+Pe,St=G-Pe,Pt=K+Qe,Nt=K-Qe,qt=pe+Be,Jt=pe-Be,Zt=ye+Se,er=ye-Se,tr=It+Zt,nr=It-Zt,lr=Pt+qt,cr=Pt-qt;w[Fe]=tr+lr,w[Fe+32]=tr-lr;var gr=(cr+nr)*.707106781;w[Fe+16]=nr+gr,w[Fe+48]=nr-gr,tr=er+Jt,lr=Jt+Nt,cr=Nt+St;var mr=(tr-cr)*.382683433,yr=.5411961*tr+mr,vr=1.306562965*cr+mr,Er=lr*.707106781,_r=St+Er,Cr=St-Er;w[Fe+40]=Cr+yr,w[Fe+24]=Cr-yr,w[Fe+8]=_r+vr,w[Fe+56]=_r-vr,Fe++}var xr;for(Me=0;Me<je;++Me)xr=w[Me]*B[Me],We[Me]=xr>0?xr+.5|0:xr-.5|0;return We}function be(){X(65504),X(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),X(1),X(1),N(0),N(0)}function ge(w){if(w){X(65505),w[0]===69&&w[1]===120&&w[2]===105&&w[3]===102?X(w.length+2):(X(w.length+5+2),N(69),N(120),N(105),N(102),N(0));for(var B=0;B<w.length;B++)N(w[B])}}function ve(w,B){X(65472),X(17),N(8),X(B),X(w),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}function fe(){X(65499),X(132),N(0);for(var w=0;w<64;w++)N(ye[w]);N(1);for(var B=0;B<64;B++)N(Se[B])}function z(){X(65476),X(418),N(0);for(var w=0;w<16;w++)N(ut[w+1]);for(var B=0;B<=11;B++)N(ft[B]);N(16);for(var G=0;G<16;G++)N(gt[G+1]);for(var K=0;K<=161;K++)N(mt[K]);N(1);for(var pe=0;pe<16;pe++)N(wt[pe+1]);for(var ye=0;ye<=11;ye++)N(vt[ye]);N(17);for(var Se=0;Se<16;Se++)N(_t[Se+1]);for(var Be=0;Be<=161;Be++)N(It[Be])}function $(w){typeof w=="undefined"||w.constructor!==Array||w.forEach((w=>{if(typeof w=="string"){X(65534);var B=w.length;X(B+2);var G;for(G=0;G<B;G++)N(w.charCodeAt(G))}}))}function Te(){X(65498),X(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0)}function re(w,B,G,K,pe){for(var ye=pe[0],Se=pe[240],Be,Qe=16,Pe=63,Fe=64,Me=ke(w,B),Le=0;Le<Fe;++Le)Ge[ct[Le]]=Me[Le];var We=Ge[0]-G;G=Ge[0],We==0?ue(K[0]):(Be=32767+We,ue(K[qe[Be]]),ue(je[Be]));for(var ze=63;ze>0&&Ge[ze]==0;ze--);if(ze==0)return ue(ye),G;for(var Ye=1,Ke;Ye<=ze;){for(var Xe=Ye;Ge[Ye]==0&&Ye<=ze;++Ye);var rt=Ye-Xe;if(rt>=Qe){Ke=rt>>4;for(var it=1;it<=Ke;++it)ue(Se);rt=rt&15}Be=32767+Ge[Ye],ue(pe[(rt<<4)+qe[Be]]),ue(je[Be]),Ye++}return ze!=Pe&&ue(ye),G}function he(){for(var w=String.fromCharCode,B=0;B<256;B++)ot[B]=w(B)}this.encode=function(w,G){var K=(new Date).getTime();G&&ht(G),ze=new Array,Ye=0,Ke=7,X(65496),be(),$(w.comments),ge(w.exifBuffer),fe(),ve(w.width,w.height),z(),Te();var pe=0,ye=0,Se=0;Ye=0,Ke=7,this.encode.displayName="_encode_";for(var je=w.data,qe=w.width,We=w.height,Ge=qe*4,ot=qe*3,lt,ct=0,ut,ft,gt,mt,wt,vt,_t,It;ct<We;){for(lt=0;lt<Ge;){for(mt=Ge*ct+lt,wt=mt,vt=-1,_t=0,It=0;It<64;It++)_t=It>>3,vt=(It&7)*4,wt=mt+_t*Ge+vt,ct+_t>=We&&(wt-=Ge*(ct+1+_t-We)),lt+vt>=Ge&&(wt-=lt+vt-Ge+4),ut=je[wt++],ft=je[wt++],gt=je[wt++],Xe[It]=(at[ut]+at[ft+256>>0]+at[gt+512>>0]>>16)-128,rt[It]=(at[ut+768>>0]+at[ft+1024>>0]+at[gt+1280>>0]>>16)-128,it[It]=(at[ut+1280>>0]+at[ft+1536>>0]+at[gt+1792>>0]>>16)-128;pe=re(Xe,Be,pe,Pe,Me),ye=re(rt,Qe,ye,Fe,Le),Se=re(it,Qe,Se,Fe,Le),lt+=32}ct+=8}if(Ke>=0){var St=[];St[1]=Ke+1,St[0]=(1<<Ke+1)-1,ue(St)}if(X(65497),typeof B=="undefined")return new Uint8Array(ze);return Buffer.from(ze);var Pt,Nt};function ht(w){if(w<=0&&(w=1),w>100&&(w=100),lt!=w){var B=0;w<50?B=Math.floor(5e3/w):B=Math.floor(200-w*2),Q(B),lt=w}}function yt(){var B=(new Date).getTime();w||(w=50),he(),de(),ae(),ne(),ht(w);var G=(new Date).getTime()-B}yt()}typeof B!="undefined"?B.exports=tp:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=tp);function tp(w,B){typeof B=="undefined"&&(B=50);var G=new Zw(B),K=G.encode(w,B);return{data:K,width:w.width,height:w.height}}}));var Pt=_(((w,B)=>{var G=function(){"use strict";var w=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),B=4017,G=799,K=3406,pe=2276,ye=1567,Se=3784,Be=5793,Qe=2896;function u(){}function f(w,B){for(var G=0,K=[],pe,ye,Se=16;Se>0&&!w[Se-1];)Se--;K.push({children:[],index:0});var Be=K[0],Qe;for(pe=0;pe<Se;pe++){for(ye=0;ye<w[pe];ye++){for(Be=K.pop(),Be.children[Be.index]=B[G];Be.index>0;){if(K.length===0)throw new Error("Could not recreate Huffman Table");Be=K.pop()}for(Be.index++,K.push(Be);K.length<=pe;)K.push(Qe={children:[],index:0}),Be.children[Be.index]=Qe.children,Be=Qe;G++}pe+1<Se&&(K.push(Qe={children:[],index:0}),Be.children[Be.index]=Qe.children,Be=Qe)}return K[0].children}function d(B,G,K,pe,ye,Se,Be,Qe,Pe,Fe){var Me=K.precision,Le=K.samplesPerLine,je=K.scanLines,qe=K.mcusPerLine,We=K.progressive,Ge=K.maxH,ze=K.maxV,Ye=G,Ke=0,Xe=0;function ne(){if(Xe>0)return Xe--,Ke>>Xe&1;if(Ke=B[G++],Ke==255){var w=B[G++];if(w)throw new Error("unexpected marker: "+(Ke<<8|w).toString(16))}return Xe=7,Ke>>>7}function ue(w){for(var B=w,G;(G=ne())!==null;){if(B=B[G],typeof B=="number")return B;if(typeof B!="object")throw new Error("invalid huffman sequence")}return null}function N(w){for(var B=0;w>0;){var G=ne();if(G===null)return;B=B<<1|G,w--}return B}function X(w){var B=N(w);return B>=1<<w-1?B:B+(-1<<w)+1}function ke(B,G){var K=ue(B.huffmanTableDC),pe=K===0?0:X(K);G[0]=B.pred+=pe;for(var ye=1;ye<64;){var Se=ue(B.huffmanTableAC),Be=Se&15,Qe=Se>>4;if(Be===0){if(Qe<15)break;ye+=16;continue}ye+=Qe;var Pe=w[ye];G[Pe]=X(Be),ye++}}function be(w,B){var G=ue(w.huffmanTableDC),K=G===0?0:X(G)<<Pe;B[0]=w.pred+=K}function ge(w,B){B[0]|=ne()<<Pe}var rt=0;function fe(B,G){if(rt>0){rt--;return}for(var K=Se,pe=Be;K<=pe;){var ye=ue(B.huffmanTableAC),Qe=ye&15,Fe=ye>>4;if(Qe===0){if(Fe<15){rt=N(Fe)+(1<<Fe)-1;break}K+=16;continue}K+=Fe;var Me=w[K];G[Me]=X(Qe)*(1<<Pe),K++}}var it=0,ot;function Te(B,G){for(var K=Se,pe=Be,ye=0;K<=pe;){var Qe=w[K],Fe=G[Qe]<0?-1:1;switch(it){case 0:var Me=ue(B.huffmanTableAC),Le=Me&15,ye=Me>>4;if(Le===0)ye<15?(rt=N(ye)+(1<<ye),it=4):(ye=16,it=1);else{if(Le!==1)throw new Error("invalid ACn encoding");ot=X(Le),it=ye?2:3}continue;case 1:case 2:G[Qe]?G[Qe]+=(ne()<<Pe)*Fe:(ye--,ye===0&&(it=it==2?3:0));break;case 3:G[Qe]?G[Qe]+=(ne()<<Pe)*Fe:(G[Qe]=ot<<Pe,it=0);break;case 4:G[Qe]&&(G[Qe]+=(ne()<<Pe)*Fe);break}K++}it===4&&(rt--,rt===0&&(it=0))}function re(w,B,G,K,pe){var ye=G/qe|0,Se=G%qe,Be=ye*w.v+K,Qe=Se*w.h+pe;w.blocks[Be]===void 0&&Fe.tolerantDecoding||B(w,w.blocks[Be][Qe])}function he(w,B,G){var K=G/w.blocksPerLine|0,pe=G%w.blocksPerLine;w.blocks[K]===void 0&&Fe.tolerantDecoding||B(w,w.blocks[K][pe])}var at=pe.length,lt,ct,ut,ft,gt,mt;We?Se===0?mt=Qe===0?be:ge:mt=Qe===0?fe:Te:mt=ke;var wt=0,vt,_t;at==1?_t=pe[0].blocksPerLine*pe[0].blocksPerColumn:_t=qe*K.mcusPerColumn,ye||(ye=_t);for(var It,St;wt<_t;){for(ct=0;ct<at;ct++)pe[ct].pred=0;if(rt=0,at==1)for(lt=pe[0],gt=0;gt<ye;gt++)he(lt,mt,wt),wt++;else for(gt=0;gt<ye;gt++){for(ct=0;ct<at;ct++)for(lt=pe[ct],It=lt.h,St=lt.v,ut=0;ut<St;ut++)for(ft=0;ft<It;ft++)re(lt,mt,wt,ut,ft);if(wt++,wt===_t)break}if(wt===_t)do{if(B[G]===255&&B[G+1]!==0)break;G+=1}while(G<B.length-2);if(Xe=0,vt=B[G]<<8|B[G+1],vt<65280)throw new Error("marker was not found");if(vt>=65488&&vt<=65495)G+=2;else break}return G-Ye}function m(w,Pe){var Fe=[],Me=Pe.blocksPerLine,Le=Pe.blocksPerColumn,je=Me<<3,qe=new Int32Array(64),We=new Uint8Array(64);function L(w,Fe,Me){var Le=Pe.quantizationTable,je,qe,We,Ge,ze,Ye,Ke,Xe,rt,it=Me,ot;for(ot=0;ot<64;ot++)it[ot]=w[ot]*Le[ot];for(ot=0;ot<8;++ot){var at=8*ot;if(it[1+at]==0&&it[2+at]==0&&it[3+at]==0&&it[4+at]==0&&it[5+at]==0&&it[6+at]==0&&it[7+at]==0){rt=Be*it[0+at]+512>>10,it[0+at]=rt,it[1+at]=rt,it[2+at]=rt,it[3+at]=rt,it[4+at]=rt,it[5+at]=rt,it[6+at]=rt,it[7+at]=rt;continue}je=Be*it[0+at]+128>>8,qe=Be*it[4+at]+128>>8,We=it[2+at],Ge=it[6+at],ze=Qe*(it[1+at]-it[7+at])+128>>8,Xe=Qe*(it[1+at]+it[7+at])+128>>8,Ye=it[3+at]<<4,Ke=it[5+at]<<4,rt=je-qe+1>>1,je=je+qe+1>>1,qe=rt,rt=We*Se+Ge*ye+128>>8,We=We*ye-Ge*Se+128>>8,Ge=rt,rt=ze-Ke+1>>1,ze=ze+Ke+1>>1,Ke=rt,rt=Xe+Ye+1>>1,Ye=Xe-Ye+1>>1,Xe=rt,rt=je-Ge+1>>1,je=je+Ge+1>>1,Ge=rt,rt=qe-We+1>>1,qe=qe+We+1>>1,We=rt,rt=ze*pe+Xe*K+2048>>12,ze=ze*K-Xe*pe+2048>>12,Xe=rt,rt=Ye*G+Ke*B+2048>>12,Ye=Ye*B-Ke*G+2048>>12,Ke=rt,it[0+at]=je+Xe,it[7+at]=je-Xe,it[1+at]=qe+Ke,it[6+at]=qe-Ke,it[2+at]=We+Ye,it[5+at]=We-Ye,it[3+at]=Ge+ze,it[4+at]=Ge-ze}for(ot=0;ot<8;++ot){var lt=ot;if(it[8+lt]==0&&it[16+lt]==0&&it[24+lt]==0&&it[32+lt]==0&&it[40+lt]==0&&it[48+lt]==0&&it[56+lt]==0){rt=Be*Me[ot+0]+8192>>14,it[0+lt]=rt,it[8+lt]=rt,it[16+lt]=rt,it[24+lt]=rt,it[32+lt]=rt,it[40+lt]=rt,it[48+lt]=rt,it[56+lt]=rt;continue}je=Be*it[0+lt]+2048>>12,qe=Be*it[32+lt]+2048>>12,We=it[16+lt],Ge=it[48+lt],ze=Qe*(it[8+lt]-it[56+lt])+2048>>12,Xe=Qe*(it[8+lt]+it[56+lt])+2048>>12,Ye=it[24+lt],Ke=it[40+lt],rt=je-qe+1>>1,je=je+qe+1>>1,qe=rt,rt=We*Se+Ge*ye+2048>>12,We=We*ye-Ge*Se+2048>>12,Ge=rt,rt=ze-Ke+1>>1,ze=ze+Ke+1>>1,Ke=rt,rt=Xe+Ye+1>>1,Ye=Xe-Ye+1>>1,Xe=rt,rt=je-Ge+1>>1,je=je+Ge+1>>1,Ge=rt,rt=qe-We+1>>1,qe=qe+We+1>>1,We=rt,rt=ze*pe+Xe*K+2048>>12,ze=ze*K-Xe*pe+2048>>12,Xe=rt,rt=Ye*G+Ke*B+2048>>12,Ye=Ye*B-Ke*G+2048>>12,Ke=rt,it[0+lt]=je+Xe,it[56+lt]=je-Xe,it[8+lt]=qe+Ke,it[48+lt]=qe-Ke,it[16+lt]=We+Ye,it[40+lt]=We-Ye,it[24+lt]=Ge+ze,it[32+lt]=Ge-ze}for(ot=0;ot<64;++ot){var ct=128+(it[ot]+8>>4);Fe[ot]=ct<0?0:ct>255?255:ct}}x(je*Le*8);for(var Ge,ze,Ye=0;Ye<Le;Ye++){var Ke=Ye<<3;for(Ge=0;Ge<8;Ge++)Fe.push(new Uint8Array(je));for(var Xe=0;Xe<Me;Xe++){L(Pe.blocks[Ye][Xe],We,qe);var rt=0,it=Xe<<3;for(ze=0;ze<8;ze++){var ot=Fe[Ke+ze];for(Ge=0;Ge<8;Ge++)ot[it+Ge]=We[rt++]}}}return Fe}function g(w){return w<0?0:w>255?255:w}u.prototype={load:function(w){var B=new XMLHttpRequest;B.open("GET",w,!0),B.responseType="arraybuffer",B.onload=function(){var w=new Uint8Array(B.response||B.mozResponseArrayBuffer);this.parse(w),this.onload&&this.onload()}.bind(this),B.send(null)},parse:function(B){var G=this.opts.maxResolutionInMP*1e3*1e3,K=0,pe=B.length;function T(){var w=B[K]<<8|B[K+1];return K+=2,w}function A(){var w=T(),G=B.subarray(K,K+w-2);return K+=G.length,G}function C(w){var B=1,G=1,K,pe;for(pe in w.components)w.components.hasOwnProperty(pe)&&(K=w.components[pe],B<K.h&&(B=K.h),G<K.v&&(G=K.v));var ye=Math.ceil(w.samplesPerLine/8/B),Se=Math.ceil(w.scanLines/8/G);for(pe in w.components)if(w.components.hasOwnProperty(pe)){K=w.components[pe];var Be=Math.ceil(Math.ceil(w.samplesPerLine/8)*K.h/B),Qe=Math.ceil(Math.ceil(w.scanLines/8)*K.v/G),Pe=ye*K.h,Fe=Se*K.v,Me=Fe*Pe,Le=[];x(Me*256);for(var je=0;je<Fe;je++){for(var qe=[],We=0;We<Pe;We++)qe.push(new Int32Array(64));Le.push(qe)}K.blocksPerLine=Be,K.blocksPerColumn=Qe,K.blocks=Le}w.maxH=B,w.maxV=G,w.mcusPerLine=ye,w.mcusPerColumn=Se}var ye=null,Se=null,Be=null,Qe,Pe,Fe=[],Me=[],Le=[],je=[],qe=T(),We=-1;if(this.comments=[],qe!=65496)throw new Error("SOI not found");for(qe=T();qe!=65497;){var Ge,ze,Ye;switch(qe){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Ke=A();if(qe===65534){var Xe=String.fromCharCode.apply(null,Ke);this.comments.push(Xe)}qe===65504&&Ke[0]===74&&Ke[1]===70&&Ke[2]===73&&Ke[3]===70&&Ke[4]===0&&(ye={version:{major:Ke[5],minor:Ke[6]},densityUnits:Ke[7],xDensity:Ke[8]<<8|Ke[9],yDensity:Ke[10]<<8|Ke[11],thumbWidth:Ke[12],thumbHeight:Ke[13],thumbData:Ke.subarray(14,14+3*Ke[12]*Ke[13])}),qe===65505&&Ke[0]===69&&Ke[1]===120&&Ke[2]===105&&Ke[3]===102&&Ke[4]===0&&(this.exifBuffer=Ke.subarray(5,Ke.length)),qe===65518&&Ke[0]===65&&Ke[1]===100&&Ke[2]===111&&Ke[3]===98&&Ke[4]===101&&Ke[5]===0&&(Se={version:Ke[6],flags0:Ke[7]<<8|Ke[8],flags1:Ke[9]<<8|Ke[10],transformCode:Ke[11]});break;case 65499:for(var rt=T(),it=rt+K-2;K<it;){var ot=B[K++];x(256);var at=new Int32Array(64);if(ot>>4===0)for(ze=0;ze<64;ze++){var lt=w[ze];at[lt]=B[K++]}else if(ot>>4===1)for(ze=0;ze<64;ze++){var lt=w[ze];at[lt]=T()}else throw new Error("DQT: invalid table spec");Fe[ot&15]=at}break;case 65472:case 65473:case 65474:T(),Qe={},Qe.extended=qe===65473,Qe.progressive=qe===65474,Qe.precision=B[K++],Qe.scanLines=T(),Qe.samplesPerLine=T(),Qe.components={},Qe.componentsOrder=[];var ct=Qe.scanLines*Qe.samplesPerLine;if(ct>G){var ut=Math.ceil((ct-G)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${ut}MP`)}var ft=B[K++],gt,mt=0,wt=0;for(Ge=0;Ge<ft;Ge++){gt=B[K];var vt=B[K+1]>>4,_t=B[K+1]&15,It=B[K+2];if(vt<=0||_t<=0)throw new Error("Invalid sampling factor, expected values above 0");Qe.componentsOrder.push(gt),Qe.components[gt]={h:vt,v:_t,quantizationIdx:It},K+=3}C(Qe),Me.push(Qe);break;case 65476:var St=T();for(Ge=2;Ge<St;){var Pt=B[K++],Nt=new Uint8Array(16),qt=0;for(ze=0;ze<16;ze++,K++)qt+=Nt[ze]=B[K];x(16+qt);var Jt=new Uint8Array(qt);for(ze=0;ze<qt;ze++,K++)Jt[ze]=B[K];Ge+=17+qt,(Pt>>4===0?je:Le)[Pt&15]=f(Nt,Jt)}break;case 65501:T(),Pe=T();break;case 65500:T(),T();break;case 65498:var Zt=T(),er=B[K++],tr=[],nr;for(Ge=0;Ge<er;Ge++){nr=Qe.components[B[K++]];var lr=B[K++];nr.huffmanTableDC=je[lr>>4],nr.huffmanTableAC=Le[lr&15],tr.push(nr)}var cr=B[K++],gr=B[K++],mr=B[K++],yr=d(B,K,Qe,tr,Pe,cr,gr,mr>>4,mr&15,this.opts);K+=yr;break;case 65535:B[K]!==255&&K--;break;default:if(B[K-3]==255&&B[K-2]>=192&&B[K-2]<=254){K-=3;break}else if(qe===224||qe==225){if(We!==-1)throw new Error(`first unknown JPEG marker at offset ${We.toString(16)}, second unknown JPEG marker ${qe.toString(16)} at offset ${(K-1).toString(16)}`);We=K-1;let w=T();if(B[K+w-2]===255){K+=w-2;break}}throw new Error("unknown JPEG marker "+qe.toString(16))}qe=T()}if(Me.length!=1)throw new Error("only single frame JPEGs supported");for(var Ge=0;Ge<Me.length;Ge++){var vr=Me[Ge].components;for(var ze in vr)vr[ze].quantizationTable=Fe[vr[ze].quantizationIdx],delete vr[ze].quantizationIdx}this.width=Qe.samplesPerLine,this.height=Qe.scanLines,this.jfif=ye,this.adobe=Se,this.components=[];for(var Ge=0;Ge<Qe.componentsOrder.length;Ge++){var nr=Qe.components[Qe.componentsOrder[Ge]];this.components.push({lines:m(Qe,nr),scaleX:nr.h/Qe.maxH,scaleY:nr.v/Qe.maxV})}},getData:function(w,B){var G=this.width/w,K=this.height/B,pe,ye,Se,Be,Qe,Pe,Fe,Me,Le,je,qe=0,We,Ge,ze,Ye,Ke,Xe,rt,it,ot,at,lt,ct=w*B*this.components.length;x(ct);var ut=new Uint8Array(ct);switch(this.components.length){case 1:for(pe=this.components[0],je=0;je<B;je++)for(Qe=pe.lines[0|je*pe.scaleY*K],Le=0;Le<w;Le++)We=Qe[0|Le*pe.scaleX*G],ut[qe++]=We;break;case 2:for(pe=this.components[0],ye=this.components[1],je=0;je<B;je++)for(Qe=pe.lines[0|je*pe.scaleY*K],Pe=ye.lines[0|je*ye.scaleY*K],Le=0;Le<w;Le++)We=Qe[0|Le*pe.scaleX*G],ut[qe++]=We,We=Pe[0|Le*ye.scaleX*G],ut[qe++]=We;break;case 3:for(lt=!0,this.adobe&&this.adobe.transformCode?lt=!0:typeof this.opts.colorTransform!="undefined"&&(lt=!!this.opts.colorTransform),pe=this.components[0],ye=this.components[1],Se=this.components[2],je=0;je<B;je++)for(Qe=pe.lines[0|je*pe.scaleY*K],Pe=ye.lines[0|je*ye.scaleY*K],Fe=Se.lines[0|je*Se.scaleY*K],Le=0;Le<w;Le++)lt?(We=Qe[0|Le*pe.scaleX*G],Ge=Pe[0|Le*ye.scaleX*G],ze=Fe[0|Le*Se.scaleX*G],it=g(We+1.402*(ze-128)),ot=g(We-.3441363*(Ge-128)-.71413636*(ze-128)),at=g(We+1.772*(Ge-128))):(it=Qe[0|Le*pe.scaleX*G],ot=Pe[0|Le*ye.scaleX*G],at=Fe[0|Le*Se.scaleX*G]),ut[qe++]=it,ut[qe++]=ot,ut[qe++]=at;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(lt=!1,this.adobe&&this.adobe.transformCode?lt=!0:typeof this.opts.colorTransform!="undefined"&&(lt=!!this.opts.colorTransform),pe=this.components[0],ye=this.components[1],Se=this.components[2],Be=this.components[3],je=0;je<B;je++)for(Qe=pe.lines[0|je*pe.scaleY*K],Pe=ye.lines[0|je*ye.scaleY*K],Fe=Se.lines[0|je*Se.scaleY*K],Me=Be.lines[0|je*Be.scaleY*K],Le=0;Le<w;Le++)lt?(We=Qe[0|Le*pe.scaleX*G],Ge=Pe[0|Le*ye.scaleX*G],ze=Fe[0|Le*Se.scaleX*G],Ye=Me[0|Le*Be.scaleX*G],Ke=255-g(We+1.402*(ze-128)),Xe=255-g(We-.3441363*(Ge-128)-.71413636*(ze-128)),rt=255-g(We+1.772*(Ge-128))):(Ke=Qe[0|Le*pe.scaleX*G],Xe=Pe[0|Le*ye.scaleX*G],rt=Fe[0|Le*Se.scaleX*G],Ye=Me[0|Le*Be.scaleX*G]),ut[qe++]=255-Ke,ut[qe++]=255-Xe,ut[qe++]=255-rt,ut[qe++]=255-Ye;break;default:throw new Error("Unsupported color mode")}return ut},copyToImageData:function(w,B){var G=w.width,K=w.height,pe=w.data,ye=this.getData(G,K),Se=0,Be=0,Qe,Pe,Fe,Me,Le,je,qe,We,Ge;switch(this.components.length){case 1:for(Pe=0;Pe<K;Pe++)for(Qe=0;Qe<G;Qe++)Fe=ye[Se++],pe[Be++]=Fe,pe[Be++]=Fe,pe[Be++]=Fe,B&&(pe[Be++]=255);break;case 3:for(Pe=0;Pe<K;Pe++)for(Qe=0;Qe<G;Qe++)qe=ye[Se++],We=ye[Se++],Ge=ye[Se++],pe[Be++]=qe,pe[Be++]=We,pe[Be++]=Ge,B&&(pe[Be++]=255);break;case 4:for(Pe=0;Pe<K;Pe++)for(Qe=0;Qe<G;Qe++)Le=ye[Se++],je=ye[Se++],Fe=ye[Se++],Me=ye[Se++],qe=255-g(Le*(1-Me/255)+Me),We=255-g(je*(1-Me/255)+Me),Ge=255-g(Fe*(1-Me/255)+Me),pe[Be++]=qe,pe[Be++]=We,pe[Be++]=Ge,B&&(pe[Be++]=255);break;default:throw new Error("Unsupported color mode")}}};var Pe=0,Fe=0;function x(w=0){var B=Pe+w;if(B>Fe){var G=Math.ceil((B-Fe)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${G}MB`)}Pe=B}return u.resetMaxMemoryUsage=function(w){Pe=0,Fe=w},u.getBytesAllocated=function(){return Pe},u.requestMemoryAllocation=x,u}();typeof B!="undefined"?B.exports=np:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=np);function np(w,B={}){var K={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},pe={...K,...B},ye=new Uint8Array(w),Se=new G;Se.opts=pe,G.resetMaxMemoryUsage(pe.maxMemoryUsageInMB*1024*1024),Se.parse(ye);var Be=pe.formatAsRGBA?4:3,Qe=Se.width*Se.height*Be;try{G.requestMemoryAllocation(Qe);var Pe={width:Se.width,height:Se.height,exifBuffer:Se.exifBuffer,data:pe.useTArray?new Uint8Array(Qe):Buffer.alloc(Qe)};Se.comments.length>0&&(Pe.comments=Se.comments)}catch(w){throw w instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+Qe):w instanceof ReferenceError&&w.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):w}return Se.copyToImageData(Pe,pe.formatAsRGBA),Pe}}));var Nt=_(((w,B)=>{var G=St(),K=Pt();B.exports={encode:G,decode:K}}));var qt=_(((w,B)=>{"use strict";function Ls(){this._types=Object.create(null),this._extensions=Object.create(null);for(let w=0;w<arguments.length;w++)this.define(arguments[w]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Ls.prototype.define=function(w,B){for(let G in w){let K=w[G].map((function(w){return w.toLowerCase()}));G=G.toLowerCase();for(let w=0;w<K.length;w++){let pe=K[w];if(pe[0]!=="*"){if(!B&&pe in this._types)throw new Error('Attempt to change mapping for "'+pe+'" extension from "'+this._types[pe]+'" to "'+G+'". Pass `force=true` to allow this, otherwise remove "'+pe+'" from the list of extensions for "'+G+'".');this._types[pe]=G}}if(B||!this._extensions[G]){let w=K[0];this._extensions[G]=w[0]!=="*"?w:w.substr(1)}}};Ls.prototype.getType=function(w){w=String(w);let B=w.replace(/^.*[/\\]/,"").toLowerCase(),G=B.replace(/^.*\./,"").toLowerCase(),K=B.length<w.length;return(G.length<B.length-1||!K)&&this._types[G]||null};Ls.prototype.getExtension=function(w){return w=/^\s*([^;\s]*)/.test(w)&&RegExp.$1,w&&this._extensions[w.toLowerCase()]||null};B.exports=Ls}));var Jt=_(((w,B)=>{B.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}}));var Zt=_(((w,B)=>{B.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}}));var er=_(((w,B)=>{"use strict";var G=qt();B.exports=new G(Jt(),Zt())}));var tr=_(((w,B)=>{B.exports=function(w,B){for(var K=[],pe=0;pe<w.length;pe++){var ye=B(w[pe],pe);G(ye)?K.push.apply(K,ye):K.push(ye)}return K};var G=Array.isArray||function(w){return Object.prototype.toString.call(w)==="[object Array]"}}));var nr=_(((w,B)=>{"use strict";B.exports=bp;function bp(w,B,G){w instanceof RegExp&&(w=yp(w,G)),B instanceof RegExp&&(B=yp(B,G));var K=_p(w,B,G);return K&&{start:K[0],end:K[1],pre:G.slice(0,K[0]),body:G.slice(K[0]+w.length,K[1]),post:G.slice(K[1]+B.length)}}function yp(w,B){var G=B.match(w);return G?G[0]:null}bp.range=_p;function _p(w,B,G){var K,pe,ye,Se,Be,Qe=G.indexOf(w),Pe=G.indexOf(B,Qe+1),Fe=Qe;if(Qe>=0&&Pe>0){if(w===B)return[Qe,Pe];for(K=[],ye=G.length;Fe>=0&&!Be;)Fe==Qe?(K.push(Fe),Qe=G.indexOf(w,Fe+1)):K.length==1?Be=[K.pop(),Pe]:(pe=K.pop(),pe<ye&&(ye=pe,Se=Pe),Pe=G.indexOf(B,Fe+1)),Fe=Qe<Pe&&Qe>=0?Qe:Pe;K.length&&(Be=[ye,Se])}return Be}}));var lr=_(((w,B)=>{var G=tr(),K=nr();B.exports=s1;var pe="\0SLASH"+Math.random()+"\0",ye="\0OPEN"+Math.random()+"\0",Se="\0CLOSE"+Math.random()+"\0",Be="\0COMMA"+Math.random()+"\0",Qe="\0PERIOD"+Math.random()+"\0";function za(w){return parseInt(w,10)==w?parseInt(w,10):w.charCodeAt(0)}function r1(w){return w.split("\\\\").join(pe).split("\\{").join(ye).split("\\}").join(Se).split("\\,").join(Be).split("\\.").join(Qe)}function n1(w){return w.split(pe).join("\\").split(ye).join("{").split(Se).join("}").split(Be).join(",").split(Qe).join(".")}function Tp(w){if(!w)return[""];var B=[],G=K("{","}",w);if(!G)return w.split(",");var pe=G.pre,ye=G.body,Se=G.post,Be=pe.split(",");Be[Be.length-1]+="{"+ye+"}";var Qe=Tp(Se);return Se.length&&(Be[Be.length-1]+=Qe.shift(),Be.push.apply(Be,Qe)),B.push.apply(B,Be),B}function s1(w){return w?(w.substr(0,2)==="{}"&&(w="\\{\\}"+w.substr(2)),Sr(r1(w),!0).map(n1)):[]}function o1(w){return"{"+w+"}"}function a1(w){return/^-?0\d/.test(w)}function l1(w,B){return w<=B}function c1(w,B){return w>=B}function Sr(w,B){var pe=[],ye=K("{","}",w);if(!ye||/\$$/.test(ye.pre))return[w];var Be=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(ye.body),Qe=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(ye.body),Pe=Be||Qe,Fe=ye.body.indexOf(",")>=0;if(!Pe&&!Fe)return ye.post.match(/,(?!,).*\}/)?(w=ye.pre+"{"+ye.body+Se+ye.post,Sr(w)):[w];var Me;if(Pe)Me=ye.body.split(/\.\./);else if(Me=Tp(ye.body),Me.length===1&&(Me=Sr(Me[0],!1).map(o1),Me.length===1)){var Le=ye.post.length?Sr(ye.post,!1):[""];return Le.map((function(w){return ye.pre+Me[0]+w}))}var je=ye.pre,Le=ye.post.length?Sr(ye.post,!1):[""],qe;if(Pe){var We=za(Me[0]),Ge=za(Me[1]),ze=Math.max(Me[0].length,Me[1].length),Ye=Me.length==3?Math.abs(za(Me[2])):1,Ke=l1,Xe=Ge<We;Xe&&(Ye*=-1,Ke=c1);var rt=Me.some(a1);qe=[];for(var it=We;Ke(it,Ge);it+=Ye){var ot;if(Qe)ot=String.fromCharCode(it),ot==="\\"&&(ot="");else if(ot=String(it),rt){var at=ze-ot.length;if(at>0){var lt=new Array(at+1).join("0");it<0?ot="-"+lt+ot.slice(1):ot=lt+ot}}qe.push(ot)}}else qe=G(Me,(function(w){return Sr(w,!1)}));for(var ct=0;ct<qe.length;ct++)for(var ut=0;ut<Le.length;ut++){var ft=je+qe[ct]+Le[ut];(!B||Pe||ft)&&pe.push(ft)}return pe}}));var cr=_(((w,B)=>{B.exports=xt;xt.Minimatch=et;var K=function(){try{return G(6928)}catch{}}()||{sep:"/"};xt.sep=K.sep;var pe=xt.GLOBSTAR=et.GLOBSTAR={},ye=lr(),Se={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Be="[^/]",Qe=Be+"*?",Pe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Fe="(?:(?!(?:\\/|^)\\.).)*?",Me=p1("().*{}+?[]^$\\!");function p1(w){return w.split("").reduce((function(w,B){return w[B]=!0,w}),{})}var Le=/\/+/;xt.filter=d1;function d1(w,B){return B=B||{},function(G,K,pe){return xt(G,w,B)}}function mi(w,B){B=B||{};var G={};return Object.keys(w).forEach((function(B){G[B]=w[B]})),Object.keys(B).forEach((function(w){G[w]=B[w]})),G}xt.defaults=function(w){if(!w||typeof w!="object"||!Object.keys(w).length)return xt;var B=xt,t=function(G,K,pe){return B(G,K,mi(w,pe))};return t.Minimatch=function(G,K){return new B.Minimatch(G,mi(w,K))},t.Minimatch.defaults=function(G){return B.defaults(mi(w,G)).Minimatch},t.filter=function(G,K){return B.filter(G,mi(w,K))},t.defaults=function(G){return B.defaults(mi(w,G))},t.makeRe=function(G,K){return B.makeRe(G,mi(w,K))},t.braceExpand=function(G,K){return B.braceExpand(G,mi(w,K))},t.match=function(G,K,pe){return B.match(G,K,mi(w,pe))},t};et.defaults=function(w){return xt.defaults(w).Minimatch};function xt(w,B,G){return Rs(B),G||(G={}),!G.nocomment&&B.charAt(0)==="#"?!1:new et(B,G).match(w)}function et(w,B){if(!(this instanceof et))return new et(w,B);Rs(w),B||(B={}),w=w.trim(),!B.allowWindowsEscape&&K.sep!=="/"&&(w=w.split(K.sep).join("/")),this.options=B,this.set=[],this.pattern=w,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!B.partial,this.make()}et.prototype.debug=function(){};et.prototype.make=m1;function m1(){var w=this.pattern,B=this.options;if(!B.nocomment&&w.charAt(0)==="#"){this.comment=!0;return}if(!w){this.empty=!0;return}this.parseNegate();var G=this.globSet=this.braceExpand();B.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,G),G=this.globParts=G.map((function(w){return w.split(Le)})),this.debug(this.pattern,G),G=G.map((function(w,B,G){return w.map(this.parse,this)}),this),this.debug(this.pattern,G),G=G.filter((function(w){return w.indexOf(!1)===-1})),this.debug(this.pattern,G),this.set=G}et.prototype.parseNegate=g1;function g1(){var w=this.pattern,B=!1,G=this.options,K=0;if(!G.nonegate){for(var pe=0,ye=w.length;pe<ye&&w.charAt(pe)==="!";pe++)B=!B,K++;K&&(this.pattern=w.substr(K)),this.negate=B}}xt.braceExpand=function(w,B){return Rp(w,B)};et.prototype.braceExpand=Rp;function Rp(w,B){return B||(this instanceof et?B=this.options:B={}),w=typeof w=="undefined"?this.pattern:w,Rs(w),B.nobrace||!/\{(?:(?!\{).)*\}/.test(w)?[w]:ye(w)}var je=1024*64,Rs=function(w){if(typeof w!="string")throw new TypeError("invalid pattern");if(w.length>je)throw new TypeError("pattern is too long")};et.prototype.parse=y1;var qe={};function y1(w,B){Rs(w);var G=this.options;if(w==="**")if(G.noglobstar)w="*";else return pe;if(w==="")return"";var K="",ye=!!G.nocase,Pe=!1,Fe=[],Le=[],je,We=!1,Ge=-1,ze=-1,Ye=w.charAt(0)==="."?"":G.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",Ke=this;function g(){if(je){switch(je){case"*":K+=Qe,ye=!0;break;case"?":K+=Be,ye=!0;break;default:K+="\\"+je;break}Ke.debug("clearStateChar %j %j",je,K),je=!1}}for(var Xe=0,rt=w.length,it;Xe<rt&&(it=w.charAt(Xe));Xe++){if(this.debug("%s\t%s %s %j",w,Xe,K,it),Pe&&Me[it]){K+="\\"+it,Pe=!1;continue}switch(it){case"/":return!1;case"\\":g(),Pe=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",w,Xe,K,it),We){this.debug("  in class"),it==="!"&&Xe===ze+1&&(it="^"),K+=it;continue}Ke.debug("call clearStateChar %j",je),g(),je=it,G.noext&&g();continue;case"(":if(We){K+="(";continue}if(!je){K+="\\(";continue}Fe.push({type:je,start:Xe-1,reStart:K.length,open:Se[je].open,close:Se[je].close}),K+=je==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",je,K),je=!1;continue;case")":if(We||!Fe.length){K+="\\)";continue}g(),ye=!0;var ot=Fe.pop();K+=ot.close,ot.type==="!"&&Le.push(ot),ot.reEnd=K.length;continue;case"|":if(We||!Fe.length||Pe){K+="\\|",Pe=!1;continue}g(),K+="|";continue;case"[":if(g(),We){K+="\\"+it;continue}We=!0,ze=Xe,Ge=K.length,K+=it;continue;case"]":if(Xe===ze+1||!We){K+="\\"+it,Pe=!1;continue}var at=w.substring(ze+1,Xe);try{RegExp("["+at+"]")}catch{var lt=this.parse(at,qe);K=K.substr(0,Ge)+"\\["+lt[0]+"\\]",ye=ye||lt[1],We=!1;continue}ye=!0,We=!1,K+=it;continue;default:g(),Pe?Pe=!1:Me[it]&&!(it==="^"&&We)&&(K+="\\"),K+=it}}for(We&&(at=w.substr(ze+1),lt=this.parse(at,qe),K=K.substr(0,Ge)+"\\["+lt[0],ye=ye||lt[1]),ot=Fe.pop();ot;ot=Fe.pop()){var ct=K.slice(ot.reStart+ot.open.length);this.debug("setting tail",K,ot),ct=ct.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(w,B,G){return G||(G="\\"),B+B+G+"|"})),this.debug(`tail=%j\n   %s`,ct,ct,ot,K);var ut=ot.type==="*"?Qe:ot.type==="?"?Be:"\\"+ot.type;ye=!0,K=K.slice(0,ot.reStart)+ut+"\\("+ct}g(),Pe&&(K+="\\\\");var ft=!1;switch(K.charAt(0)){case"[":case".":case"(":ft=!0}for(var gt=Le.length-1;gt>-1;gt--){var mt=Le[gt],wt=K.slice(0,mt.reStart),vt=K.slice(mt.reStart,mt.reEnd-8),_t=K.slice(mt.reEnd-8,mt.reEnd),It=K.slice(mt.reEnd);_t+=It;var St=wt.split("(").length-1,Pt=It;for(Xe=0;Xe<St;Xe++)Pt=Pt.replace(/\)[+*?]?/,"");It=Pt;var Nt="";It===""&&B!==qe&&(Nt="$");var qt=wt+vt+It+Nt+_t;K=qt}if(K!==""&&ye&&(K="(?=.)"+K),ft&&(K=Ye+K),B===qe)return[K,ye];if(!ye)return _1(w);var Jt=G.nocase?"i":"";try{var Zt=new RegExp("^"+K+"$",Jt)}catch{return new RegExp("$.")}return Zt._glob=w,Zt._src=K,Zt}xt.makeRe=function(w,B){return new et(w,B||{}).makeRe()};et.prototype.makeRe=b1;function b1(){if(this.regexp||this.regexp===!1)return this.regexp;var w=this.set;if(!w.length)return this.regexp=!1,this.regexp;var B=this.options,G=B.noglobstar?Qe:B.dot?Pe:Fe,K=B.nocase?"i":"",ye=w.map((function(w){return w.map((function(w){return w===pe?G:typeof w=="string"?w1(w):w._src})).join("\\/")})).join("|");ye="^(?:"+ye+")$",this.negate&&(ye="^(?!"+ye+").*$");try{this.regexp=new RegExp(ye,K)}catch{this.regexp=!1}return this.regexp}xt.match=function(w,B,G){G=G||{};var K=new et(B,G);return w=w.filter((function(w){return K.match(w)})),K.options.nonull&&!w.length&&w.push(B),w};et.prototype.match=function(w,B){if(typeof B=="undefined"&&(B=this.partial),this.debug("match",w,this.pattern),this.comment)return!1;if(this.empty)return w==="";if(w==="/"&&B)return!0;var G=this.options;K.sep!=="/"&&(w=w.split(K.sep).join("/")),w=w.split(Le),this.debug(this.pattern,"split",w);var pe=this.set;this.debug(this.pattern,"set",pe);var ye,Se;for(Se=w.length-1;Se>=0&&(ye=w[Se],!ye);Se--);for(Se=0;Se<pe.length;Se++){var Be=pe[Se],Qe=w;G.matchBase&&Be.length===1&&(Qe=[ye]);var Pe=this.matchOne(Qe,Be,B);if(Pe)return G.flipNegate?!0:!this.negate}return G.flipNegate?!1:this.negate};et.prototype.matchOne=function(w,B,G){var K=this.options;this.debug("matchOne",{this:this,file:w,pattern:B}),this.debug("matchOne",w.length,B.length);for(var ye=0,Se=0,Be=w.length,Qe=B.length;ye<Be&&Se<Qe;ye++,Se++){this.debug("matchOne loop");var Pe=B[Se],Fe=w[ye];if(this.debug(B,Pe,Fe),Pe===!1)return!1;if(Pe===pe){this.debug("GLOBSTAR",[B,Pe,Fe]);var Me=ye,Le=Se+1;if(Le===Qe){for(this.debug("** at the end");ye<Be;ye++)if(w[ye]==="."||w[ye]===".."||!K.dot&&w[ye].charAt(0)===".")return!1;return!0}for(;Me<Be;){var je=w[Me];if(this.debug(`\nglobstar while`,w,Me,B,Le,je),this.matchOne(w.slice(Me),B.slice(Le),G))return this.debug("globstar found match!",Me,Be,je),!0;if(je==="."||je===".."||!K.dot&&je.charAt(0)==="."){this.debug("dot detected!",w,Me,B,Le);break}this.debug("globstar swallow a segment, and continue"),Me++}return!!(G&&(this.debug(`\n>>> no match, partial?`,w,Me,B,Le),Me===Be))}var qe;if(typeof Pe=="string"?(qe=Fe===Pe,this.debug("string match",Pe,Fe,qe)):(qe=Fe.match(Pe),this.debug("pattern match",Pe,Fe,qe)),!qe)return!1}if(ye===Be&&Se===Qe)return!0;if(ye===Be)return G;if(Se===Qe)return ye===Be-1&&w[ye]==="";throw new Error("wtf?")};function _1(w){return w.replace(/\\(.)/g,"$1")}function w1(w){return w.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}}));var gr=_(((w,B)=>{"use strict";var K=G(9896),pe;function x1(){try{return K.statSync("/.dockerenv"),!0}catch{return!1}}function S1(){try{return K.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}B.exports=()=>(pe===void 0&&(pe=x1()||S1()),pe)}));var mr=_(((w,B)=>{"use strict";var K=G(857),pe=G(9896),ye=gr(),jp=()=>{if(process.platform!=="linux")return!1;if(K.release().toLowerCase().includes("microsoft"))return!ye();try{return pe.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!ye():!1}catch{return!1}};process.env.__IS_WSL_TEST__?B.exports=jp:B.exports=jp()}));var yr=_(((w,B)=>{"use strict";B.exports=(w,B,G)=>{let r=G=>Object.defineProperty(w,B,{value:G,enumerable:!0,writable:!0});return Object.defineProperty(w,B,{configurable:!0,enumerable:!0,get(){let w=G();return r(w),w},set(w){r(w)}}),w}}));var vr=_(((w,B)=>{var K=G(6928),pe=G(7698),{promises:ye,constants:Se}=G(9896),Be=mr(),Qe=gr(),Pe=yr(),Fe=G.ab+"xdg-open",{platform:Me,arch:Le}=process,je=(()=>{let w="/mnt/",B;return async function(){if(B)return B;let G="/etc/wsl.conf",K=!1;try{await ye.access(G,Se.F_OK),K=!0}catch{}if(!K)return w;let pe=await ye.readFile(G,{encoding:"utf8"}),Be=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(pe);return Be?(B=Be.groups.mountPoint.trim(),B=B.endsWith("/")?B:`${B}/`,B):w}})(),Wp=async(w,B)=>{let G;for(let K of w)try{return await B(K)}catch(w){G=w}throw G},Ms=async w=>{if(w={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...w},Array.isArray(w.app))return Wp(w.app,(B=>Ms({...w,app:B})));let{name:B,arguments:G=[]}=w.app||{};if(G=[...G],Array.isArray(B))return Wp(B,(B=>Ms({...w,app:{name:B,arguments:G}})));let K,Pe=[],Le={};if(Me==="darwin")K="open",w.wait&&Pe.push("--wait-apps"),w.background&&Pe.push("--background"),w.newInstance&&Pe.push("--new"),B&&Pe.push("-a",B);else if(Me==="win32"||Be&&!Qe()){let pe=await je();K=Be?`${pe}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,Pe.push("-NoProfile","-NonInteractive","ExecutionPolicy","Bypass","-EncodedCommand"),Be||(Le.windowsVerbatimArguments=!0);let ye=["Start"];w.wait&&ye.push("-Wait"),B?(ye.push(`"\`"${B}\`""`,"-ArgumentList"),w.target&&G.unshift(w.target)):w.target&&ye.push(`"${w.target}"`),G.length>0&&(G=G.map((w=>`"\`"${w}\`""`)),ye.push(G.join(","))),w.target=Buffer.from(ye.join(" "),"utf16le").toString("base64")}else{if(B)K=B;else{let w=!__dirname||__dirname==="/",B=!1;try{await ye.access(Fe,Se.X_OK),B=!0}catch{}K=process.versions.electron||Me==="android"||w||!B?"xdg-open":Fe}G.length>0&&Pe.push(...G),w.wait||(Le.stdio="ignore",Le.detached=!0)}w.target&&Pe.push(w.target),Me==="darwin"&&G.length>0&&Pe.push("--args",...G);let qe=pe.spawn(K,Pe,Le);return w.wait?new Promise(((B,G)=>{qe.once("error",G),qe.once("close",(K=>{if(w.allowNonzeroExitCode&&K>0){G(new Error(`Exited with code ${K}`));return}B(qe)}))})):(qe.unref(),qe)},sl=(w,B)=>{if(typeof w!="string")throw new TypeError("Expected a `target`");return Ms({...B,target:w})},I1=(w,B)=>{if(typeof w!="string")throw new TypeError("Expected a `name`");let{arguments:G=[]}=B||{};if(G!=null&&!Array.isArray(G))throw new TypeError("Expected `appArguments` as Array type");return Ms({...B,app:{name:w,arguments:G}})};function Yp(w){if(typeof w=="string"||Array.isArray(w))return w;let{[Le]:B}=w;if(!B)throw new Error(`${Le} is not supported`);return B}function ol({[Me]:w},{wsl:B}){if(B&&Be)return Yp(B);if(!w)throw new Error(`${Me} is not supported`);return Yp(w)}var qe={};Pe(qe,"chrome",(()=>ol({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}})));Pe(qe,"firefox",(()=>ol({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"})));Pe(qe,"edge",(()=>ol({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"})));sl.apps=qe;sl.openApp=I1;B.exports=sl}));var Er=_(((w,B)=>{"use strict";var K=G(9023),pe=G(2203),ye=B.exports=function(){pe.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};K.inherits(ye,pe);ye.prototype.read=function(w,B){this._reads.push({length:Math.abs(w),allowLess:w<0,func:B}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};ye.prototype.write=function(w,B){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let G;return Buffer.isBuffer(w)?G=w:G=Buffer.from(w,B||this._encoding),this._buffers.push(G),this._buffered+=G.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};ye.prototype.end=function(w,B){w&&this.write(w,B),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};ye.prototype.destroySoon=ye.prototype.end;ye.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};ye.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};ye.prototype._processReadAllowingLess=function(w){this._reads.shift();let B=this._buffers[0];B.length>w.length?(this._buffered-=w.length,this._buffers[0]=B.slice(w.length),w.func.call(this,B.slice(0,w.length))):(this._buffered-=B.length,this._buffers.shift(),w.func.call(this,B))};ye.prototype._processRead=function(w){this._reads.shift();let B=0,G=0,K=Buffer.alloc(w.length);for(;B<w.length;){let pe=this._buffers[G++],ye=Math.min(pe.length,w.length-B);pe.copy(K,B,0,ye),B+=ye,ye!==pe.length&&(this._buffers[--G]=pe.slice(ye))}G>0&&this._buffers.splice(0,G),this._buffered-=w.length,w.func.call(this,K)};ye.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let w=this._reads[0];if(w.allowLess)this._processReadAllowingLess(w);else if(this._buffered>=w.length)this._processRead(w);else break}this._buffers&&!this.writable&&this._end()}catch(w){this.emit("error",w)}}}));var _r=_((w=>{"use strict";var B=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];w.getImagePasses=function(w,G){let K=[],pe=w%8,ye=G%8,Se=(w-pe)/8,Be=(G-ye)/8;for(let w=0;w<B.length;w++){let G=B[w],Qe=Se*G.x.length,Pe=Be*G.y.length;for(let w=0;w<G.x.length&&G.x[w]<pe;w++)Qe++;for(let w=0;w<G.y.length&&G.y[w]<ye;w++)Pe++;Qe>0&&Pe>0&&K.push({width:Qe,height:Pe,index:w})}return K};w.getInterlaceIterator=function(w){return function(G,K,pe){let ye=G%B[pe].x.length,Se=(G-ye)/B[pe].x.length*8+B[pe].x[ye],Be=K%B[pe].y.length,Qe=(K-Be)/B[pe].y.length*8+B[pe].y[Be];return Se*4+Qe*w*4}}}));var Cr=_(((w,B)=>{"use strict";B.exports=function(w,B,G){let K=w+B-G,pe=Math.abs(K-w),ye=Math.abs(K-B),Se=Math.abs(K-G);return pe<=ye&&pe<=Se?w:ye<=Se?B:G}}));var xr=_(((w,B)=>{"use strict";var G=_r(),K=Cr();function ed(w,B,G){let K=w*B;return G!==8&&(K=Math.ceil(K/(8/G))),K}var pe=B.exports=function(w,B){let K=w.width,pe=w.height,ye=w.interlace,Se=w.bpp,Be=w.depth;if(this.read=B.read,this.write=B.write,this.complete=B.complete,this._imageIndex=0,this._images=[],ye){let w=G.getImagePasses(K,pe);for(let B=0;B<w.length;B++)this._images.push({byteWidth:ed(w[B].width,Se,Be),height:w[B].height,lineIndex:0})}else this._images.push({byteWidth:ed(K,Se,Be),height:pe,lineIndex:0});Be===8?this._xComparison=Se:Be===16?this._xComparison=Se*2:this._xComparison=1};pe.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};pe.prototype._unFilterType1=function(w,B,G){let K=this._xComparison,pe=K-1;for(let ye=0;ye<G;ye++){let G=w[1+ye],Se=ye>pe?B[ye-K]:0;B[ye]=G+Se}};pe.prototype._unFilterType2=function(w,B,G){let K=this._lastLine;for(let pe=0;pe<G;pe++){let G=w[1+pe],ye=K?K[pe]:0;B[pe]=G+ye}};pe.prototype._unFilterType3=function(w,B,G){let K=this._xComparison,pe=K-1,ye=this._lastLine;for(let Se=0;Se<G;Se++){let G=w[1+Se],Be=ye?ye[Se]:0,Qe=Se>pe?B[Se-K]:0,Pe=Math.floor((Qe+Be)/2);B[Se]=G+Pe}};pe.prototype._unFilterType4=function(w,B,G){let pe=this._xComparison,ye=pe-1,Se=this._lastLine;for(let Be=0;Be<G;Be++){let G=w[1+Be],Qe=Se?Se[Be]:0,Pe=Be>ye?B[Be-pe]:0,Fe=Be>ye&&Se?Se[Be-pe]:0,Me=K(Pe,Qe,Fe);B[Be]=G+Me}};pe.prototype._reverseFilterLine=function(w){let B=w[0],G,K=this._images[this._imageIndex],pe=K.byteWidth;if(B===0)G=w.slice(1,pe+1);else switch(G=Buffer.alloc(pe),B){case 1:this._unFilterType1(w,G,pe);break;case 2:this._unFilterType2(w,G,pe);break;case 3:this._unFilterType3(w,G,pe);break;case 4:this._unFilterType4(w,G,pe);break;default:throw new Error("Unrecognised filter type - "+B)}this.write(G),K.lineIndex++,K.lineIndex>=K.height?(this._lastLine=null,this._imageIndex++,K=this._images[this._imageIndex]):this._lastLine=G,K?this.read(K.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}));var kr=_(((w,B)=>{"use strict";var K=G(9023),pe=Er(),ye=xr(),Se=B.exports=function(w){pe.call(this);let B=[],G=this;this._filter=new ye(w,{read:this.read.bind(this),write:function(w){B.push(w)},complete:function(){G.emit("complete",Buffer.concat(B))}}),this._filter.start()};K.inherits(Se,pe)}));var Or=_(((w,B)=>{"use strict";B.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}}));var Rr=_(((w,B)=>{"use strict";var G=[];(function(){for(let w=0;w<256;w++){let B=w;for(let w=0;w<8;w++)B&1?B=3988292384^B>>>1:B=B>>>1;G[w]=B}})();var K=B.exports=function(){this._crc=-1};K.prototype.write=function(w){for(let B=0;B<w.length;B++)this._crc=G[(this._crc^w[B])&255]^this._crc>>>8;return!0};K.prototype.crc32=function(){return this._crc^-1};K.crc32=function(w){let B=-1;for(let K=0;K<w.length;K++)B=G[(B^w[K])&255]^B>>>8;return B^-1}}));var Fr=_(((w,B)=>{"use strict";var G=Or(),K=Rr(),pe=B.exports=function(w,B){this._options=w,w.checkCRC=w.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[G.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[G.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[G.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[G.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[G.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[G.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=B.read,this.error=B.error,this.metadata=B.metadata,this.gamma=B.gamma,this.transColor=B.transColor,this.palette=B.palette,this.parsed=B.parsed,this.inflateData=B.inflateData,this.finished=B.finished,this.simpleTransparency=B.simpleTransparency,this.headersFinished=B.headersFinished||function(){}};pe.prototype.start=function(){this.read(G.PNG_SIGNATURE.length,this._parseSignature.bind(this))};pe.prototype._parseSignature=function(w){let B=G.PNG_SIGNATURE;for(let G=0;G<B.length;G++)if(w[G]!==B[G]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};pe.prototype._parseChunkBegin=function(w){let B=w.readUInt32BE(0),pe=w.readUInt32BE(4),ye="";for(let B=4;B<8;B++)ye+=String.fromCharCode(w[B]);let Se=!!(w[4]&32);if(!this._hasIHDR&&pe!==G.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new K,this._crc.write(Buffer.from(ye)),this._chunks[pe])return this._chunks[pe](B);if(!Se){this.error(new Error("Unsupported critical chunk type "+ye));return}this.read(B+4,this._skipChunk.bind(this))};pe.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};pe.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};pe.prototype._parseChunkEnd=function(w){let B=w.readInt32BE(0),G=this._crc.crc32();if(this._options.checkCRC&&G!==B){this.error(new Error("Crc error - "+B+" - "+G));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};pe.prototype._handleIHDR=function(w){this.read(w,this._parseIHDR.bind(this))};pe.prototype._parseIHDR=function(w){this._crc.write(w);let B=w.readUInt32BE(0),K=w.readUInt32BE(4),pe=w[8],ye=w[9],Se=w[10],Be=w[11],Qe=w[12];if(pe!==8&&pe!==4&&pe!==2&&pe!==1&&pe!==16){this.error(new Error("Unsupported bit depth "+pe));return}if(!(ye in G.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(Se!==0){this.error(new Error("Unsupported compression method"));return}if(Be!==0){this.error(new Error("Unsupported filter method"));return}if(Qe!==0&&Qe!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=ye;let Pe=G.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:B,height:K,depth:pe,interlace:!!Qe,palette:!!(ye&G.COLORTYPE_PALETTE),color:!!(ye&G.COLORTYPE_COLOR),alpha:!!(ye&G.COLORTYPE_ALPHA),bpp:Pe,colorType:ye}),this._handleChunkEnd()};pe.prototype._handlePLTE=function(w){this.read(w,this._parsePLTE.bind(this))};pe.prototype._parsePLTE=function(w){this._crc.write(w);let B=Math.floor(w.length/3);for(let G=0;G<B;G++)this._palette.push([w[G*3],w[G*3+1],w[G*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};pe.prototype._handleTRNS=function(w){this.simpleTransparency(),this.read(w,this._parseTRNS.bind(this))};pe.prototype._parseTRNS=function(w){if(this._crc.write(w),this._colorType===G.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(w.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let B=0;B<w.length;B++)this._palette[B][3]=w[B];this.palette(this._palette)}this._colorType===G.COLORTYPE_GRAYSCALE&&this.transColor([w.readUInt16BE(0)]),this._colorType===G.COLORTYPE_COLOR&&this.transColor([w.readUInt16BE(0),w.readUInt16BE(2),w.readUInt16BE(4)]),this._handleChunkEnd()};pe.prototype._handleGAMA=function(w){this.read(w,this._parseGAMA.bind(this))};pe.prototype._parseGAMA=function(w){this._crc.write(w),this.gamma(w.readUInt32BE(0)/G.GAMMA_DIVISION),this._handleChunkEnd()};pe.prototype._handleIDAT=function(w){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-w,this._parseIDAT.bind(this,w))};pe.prototype._parseIDAT=function(w,B){if(this._crc.write(B),this._colorType===G.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(B);let K=w-B.length;K>0?this._handleIDAT(K):this._handleChunkEnd()};pe.prototype._handleIEND=function(w){this.read(w,this._parseIEND.bind(this))};pe.prototype._parseIEND=function(w){this._crc.write(w),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}));var Lr=_((w=>{"use strict";var B=_r(),G=[function(){},function(w,B,G,K){if(K===B.length)throw new Error("Ran out of data");let pe=B[K];w[G]=pe,w[G+1]=pe,w[G+2]=pe,w[G+3]=255},function(w,B,G,K){if(K+1>=B.length)throw new Error("Ran out of data");let pe=B[K];w[G]=pe,w[G+1]=pe,w[G+2]=pe,w[G+3]=B[K+1]},function(w,B,G,K){if(K+2>=B.length)throw new Error("Ran out of data");w[G]=B[K],w[G+1]=B[K+1],w[G+2]=B[K+2],w[G+3]=255},function(w,B,G,K){if(K+3>=B.length)throw new Error("Ran out of data");w[G]=B[K],w[G+1]=B[K+1],w[G+2]=B[K+2],w[G+3]=B[K+3]}],K=[function(){},function(w,B,G,K){let pe=B[0];w[G]=pe,w[G+1]=pe,w[G+2]=pe,w[G+3]=K},function(w,B,G){let K=B[0];w[G]=K,w[G+1]=K,w[G+2]=K,w[G+3]=B[1]},function(w,B,G,K){w[G]=B[0],w[G+1]=B[1],w[G+2]=B[2],w[G+3]=K},function(w,B,G){w[G]=B[0],w[G+1]=B[1],w[G+2]=B[2],w[G+3]=B[3]}];function j1(w,B){let G=[],K=0;function n(){if(K===w.length)throw new Error("Ran out of data");let pe=w[K];K++;let ye,Se,Be,Qe,Pe,Fe,Me,Le;switch(B){default:throw new Error("unrecognised depth");case 16:Me=w[K],K++,G.push((pe<<8)+Me);break;case 4:Me=pe&15,Le=pe>>4,G.push(Le,Me);break;case 2:Pe=pe&3,Fe=pe>>2&3,Me=pe>>4&3,Le=pe>>6&3,G.push(Le,Me,Fe,Pe);break;case 1:ye=pe&1,Se=pe>>1&1,Be=pe>>2&1,Qe=pe>>3&1,Pe=pe>>4&1,Fe=pe>>5&1,Me=pe>>6&1,Le=pe>>7&1,G.push(Le,Me,Fe,Pe,Qe,Be,Se,ye);break}}return{get:function(w){for(;G.length<w;)n();let B=G.slice(0,w);return G=G.slice(w),B},resetAfterLine:function(){G.length=0},end:function(){if(K!==w.length)throw new Error("extra data found")}}}function U1(w,B,K,pe,ye,Se){let Be=w.width,Qe=w.height,Pe=w.index;for(let w=0;w<Qe;w++)for(let Qe=0;Qe<Be;Qe++){let Be=K(Qe,w,Pe);G[pe](B,ye,Be,Se),Se+=pe}return Se}function $1(w,B,G,pe,ye,Se){let Be=w.width,Qe=w.height,Pe=w.index;for(let w=0;w<Qe;w++){for(let Qe=0;Qe<Be;Qe++){let Be=ye.get(pe),Fe=G(Qe,w,Pe);K[pe](B,Be,Fe,Se)}ye.resetAfterLine()}}w.dataToBitMap=function(w,G){let K=G.width,pe=G.height,ye=G.depth,Se=G.bpp,Be=G.interlace,Qe;ye!==8&&(Qe=j1(w,ye));let Pe;ye<=8?Pe=Buffer.alloc(K*pe*4):Pe=new Uint16Array(K*pe*4);let Fe=Math.pow(2,ye)-1,Me=0,Le,je;if(Be)Le=B.getImagePasses(K,pe),je=B.getInterlaceIterator(K,pe);else{let w=0;je=function(){let B=w;return w+=4,B},Le=[{width:K,height:pe}]}for(let B=0;B<Le.length;B++)ye===8?Me=U1(Le[B],Pe,je,Se,w,Me):$1(Le[B],Pe,je,Se,Qe,Fe);if(ye===8){if(Me!==w.length)throw new Error("extra data found")}else Qe.end();return Pe}}));var jr=_(((w,B)=>{"use strict";function V1(w,B,G,K,pe){let ye=0;for(let Se=0;Se<K;Se++)for(let K=0;K<G;K++){let G=pe[w[ye]];if(!G)throw new Error("index "+w[ye]+" not in palette");for(let w=0;w<4;w++)B[ye+w]=G[w];ye+=4}}function H1(w,B,G,K,pe){let ye=0;for(let Se=0;Se<K;Se++)for(let K=0;K<G;K++){let G=!1;if(pe.length===1?pe[0]===w[ye]&&(G=!0):pe[0]===w[ye]&&pe[1]===w[ye+1]&&pe[2]===w[ye+2]&&(G=!0),G)for(let w=0;w<4;w++)B[ye+w]=0;ye+=4}}function G1(w,B,G,K,pe){let ye=255,Se=Math.pow(2,pe)-1,Be=0;for(let pe=0;pe<K;pe++)for(let K=0;K<G;K++){for(let G=0;G<4;G++)B[Be+G]=Math.floor(w[Be+G]*ye/Se+.5);Be+=4}}B.exports=function(w,B,G=!1){let K=B.depth,pe=B.width,ye=B.height,Se=B.colorType,Be=B.transColor,Qe=B.palette,Pe=w;return Se===3?V1(w,Pe,pe,ye,Qe):(Be&&H1(w,Pe,pe,ye,Be),K!==8&&!G&&(K===16&&(Pe=Buffer.alloc(pe*ye*4)),G1(w,Pe,pe,ye,K))),Pe}}));var Wr=_(((w,B)=>{"use strict";var K=G(9023),pe=G(3106),ye=Er(),Se=kr(),Be=Fr(),Qe=Lr(),Pe=jr(),Fe=B.exports=function(w){ye.call(this),this._parser=new Be(w,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=w,this.writable=!0,this._parser.start()};K.inherits(Fe,ye);Fe.prototype._handleError=function(w){this.emit("error",w),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0};Fe.prototype._inflateData=function(w){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=pe.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let w=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,B=Math.max(w,pe.Z_MIN_CHUNK);this._inflate=pe.createInflate({chunkSize:B});let G=w,K=this.emit.bind(this,"error");this._inflate.on("error",(function(w){G&&K(w)})),this._filter.on("complete",this._complete.bind(this));let ye=this._filter.write.bind(this._filter);this._inflate.on("data",(function(w){G&&(w.length>G&&(w=w.slice(0,G)),G-=w.length,ye(w))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(w)};Fe.prototype._handleMetaData=function(w){this._metaData=w,this._bitmapInfo=Object.create(w),this._filter=new Se(this._bitmapInfo)};Fe.prototype._handleTransColor=function(w){this._bitmapInfo.transColor=w};Fe.prototype._handlePalette=function(w){this._bitmapInfo.palette=w};Fe.prototype._simpleTransparency=function(){this._metaData.alpha=!0};Fe.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};Fe.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};Fe.prototype._complete=function(w){if(this.errord)return;let B;try{let G=Qe.dataToBitMap(w,this._bitmapInfo);B=Pe(G,this._bitmapInfo,this._options.skipRescale),G=null}catch(w){this._handleError(w);return}this.emit("parsed",B)}}));var Vr=_(((w,B)=>{"use strict";var G=Or();B.exports=function(w,B,K,pe){let ye=[G.COLORTYPE_COLOR_ALPHA,G.COLORTYPE_ALPHA].indexOf(pe.colorType)!==-1;if(pe.colorType===pe.inputColorType){let B=function(){let w=new ArrayBuffer(2);return new DataView(w).setInt16(0,256,!0),new Int16Array(w)[0]!==256}();if(pe.bitDepth===8||pe.bitDepth===16&&B)return w}let Se=pe.bitDepth!==16?w:new Uint16Array(w.buffer),Be=255,Qe=G.COLORTYPE_TO_BPP_MAP[pe.inputColorType];Qe===4&&!pe.inputHasAlpha&&(Qe=3);let Pe=G.COLORTYPE_TO_BPP_MAP[pe.colorType];pe.bitDepth===16&&(Be=65535,Pe*=2);let Fe=Buffer.alloc(B*K*Pe),Me=0,Le=0,je=pe.bgColor||{};je.red===void 0&&(je.red=Be),je.green===void 0&&(je.green=Be),je.blue===void 0&&(je.blue=Be);function m(){let w,B,K,Qe=Be;switch(pe.inputColorType){case G.COLORTYPE_COLOR_ALPHA:Qe=Se[Me+3],w=Se[Me],B=Se[Me+1],K=Se[Me+2];break;case G.COLORTYPE_COLOR:w=Se[Me],B=Se[Me+1],K=Se[Me+2];break;case G.COLORTYPE_ALPHA:Qe=Se[Me+1],w=Se[Me],B=w,K=w;break;case G.COLORTYPE_GRAYSCALE:w=Se[Me],B=w,K=w;break;default:throw new Error("input color type:"+pe.inputColorType+" is not supported at present")}return pe.inputHasAlpha&&(ye||(Qe/=Be,w=Math.min(Math.max(Math.round((1-Qe)*je.red+Qe*w),0),Be),B=Math.min(Math.max(Math.round((1-Qe)*je.green+Qe*B),0),Be),K=Math.min(Math.max(Math.round((1-Qe)*je.blue+Qe*K),0),Be))),{red:w,green:B,blue:K,alpha:Qe}}for(let w=0;w<K;w++)for(let w=0;w<B;w++){let w=m(Se,Me);switch(pe.colorType){case G.COLORTYPE_COLOR_ALPHA:case G.COLORTYPE_COLOR:pe.bitDepth===8?(Fe[Le]=w.red,Fe[Le+1]=w.green,Fe[Le+2]=w.blue,ye&&(Fe[Le+3]=w.alpha)):(Fe.writeUInt16BE(w.red,Le),Fe.writeUInt16BE(w.green,Le+2),Fe.writeUInt16BE(w.blue,Le+4),ye&&Fe.writeUInt16BE(w.alpha,Le+6));break;case G.COLORTYPE_ALPHA:case G.COLORTYPE_GRAYSCALE:{let B=(w.red+w.green+w.blue)/3;pe.bitDepth===8?(Fe[Le]=B,ye&&(Fe[Le+1]=w.alpha)):(Fe.writeUInt16BE(B,Le),ye&&Fe.writeUInt16BE(w.alpha,Le+2));break}default:throw new Error("unrecognised color Type "+pe.colorType)}Me+=Qe,Le+=Pe}return Fe}}));var Gr=_(((w,B)=>{"use strict";var G=Cr();function Z1(w,B,G,K,pe){for(let ye=0;ye<G;ye++)K[pe+ye]=w[B+ye]}function Q1(w,B,G){let K=0,pe=B+G;for(let G=B;G<pe;G++)K+=Math.abs(w[G]);return K}function X1(w,B,G,K,pe,ye){for(let Se=0;Se<G;Se++){let G=Se>=ye?w[B+Se-ye]:0,Be=w[B+Se]-G;K[pe+Se]=Be}}function ex(w,B,G,K){let pe=0;for(let ye=0;ye<G;ye++){let G=ye>=K?w[B+ye-K]:0,Se=w[B+ye]-G;pe+=Math.abs(Se)}return pe}function tx(w,B,G,K,pe){for(let ye=0;ye<G;ye++){let Se=B>0?w[B+ye-G]:0,Be=w[B+ye]-Se;K[pe+ye]=Be}}function ix(w,B,G){let K=0,pe=B+G;for(let ye=B;ye<pe;ye++){let pe=B>0?w[ye-G]:0,Se=w[ye]-pe;K+=Math.abs(Se)}return K}function rx(w,B,G,K,pe,ye){for(let Se=0;Se<G;Se++){let Be=Se>=ye?w[B+Se-ye]:0,Qe=B>0?w[B+Se-G]:0,Pe=w[B+Se]-(Be+Qe>>1);K[pe+Se]=Pe}}function nx(w,B,G,K){let pe=0;for(let ye=0;ye<G;ye++){let Se=ye>=K?w[B+ye-K]:0,Be=B>0?w[B+ye-G]:0,Qe=w[B+ye]-(Se+Be>>1);pe+=Math.abs(Qe)}return pe}function sx(w,B,K,pe,ye,Se){for(let Be=0;Be<K;Be++){let Qe=Be>=Se?w[B+Be-Se]:0,Pe=B>0?w[B+Be-K]:0,Fe=B>0&&Be>=Se?w[B+Be-(K+Se)]:0,Me=w[B+Be]-G(Qe,Pe,Fe);pe[ye+Be]=Me}}function ox(w,B,K,pe){let ye=0;for(let Se=0;Se<K;Se++){let Be=Se>=pe?w[B+Se-pe]:0,Qe=B>0?w[B+Se-K]:0,Pe=B>0&&Se>=pe?w[B+Se-(K+pe)]:0,Fe=w[B+Se]-G(Be,Qe,Pe);ye+=Math.abs(Fe)}return ye}var K={0:Z1,1:X1,2:tx,3:rx,4:sx},pe={0:Q1,1:ex,2:ix,3:nx,4:ox};B.exports=function(w,B,G,ye,Se){let Be;if(!("filterType"in ye)||ye.filterType===-1)Be=[0,1,2,3,4];else if(typeof ye.filterType=="number")Be=[ye.filterType];else throw new Error("unrecognised filter types");ye.bitDepth===16&&(Se*=2);let Qe=B*Se,Pe=0,Fe=0,Me=Buffer.alloc((Qe+1)*G),Le=Be[0];for(let B=0;B<G;B++){if(Be.length>1){let B=1/0;for(let G=0;G<Be.length;G++){let K=pe[Be[G]](w,Fe,Qe,Se);K<B&&(Le=Be[G],B=K)}}Me[Pe]=Le,Pe++,K[Le](w,Fe,Qe,Me,Pe,Se),Pe+=Qe,Fe+=Qe}return Me}}));var Jr=_(((w,B)=>{"use strict";var K=Or(),pe=Rr(),ye=Vr(),Se=Gr(),Be=G(3106),Qe=B.exports=function(w){if(this._options=w,w.deflateChunkSize=w.deflateChunkSize||32*1024,w.deflateLevel=w.deflateLevel!=null?w.deflateLevel:9,w.deflateStrategy=w.deflateStrategy!=null?w.deflateStrategy:3,w.inputHasAlpha=w.inputHasAlpha!=null?w.inputHasAlpha:!0,w.deflateFactory=w.deflateFactory||Be.createDeflate,w.bitDepth=w.bitDepth||8,w.colorType=typeof w.colorType=="number"?w.colorType:K.COLORTYPE_COLOR_ALPHA,w.inputColorType=typeof w.inputColorType=="number"?w.inputColorType:K.COLORTYPE_COLOR_ALPHA,[K.COLORTYPE_GRAYSCALE,K.COLORTYPE_COLOR,K.COLORTYPE_COLOR_ALPHA,K.COLORTYPE_ALPHA].indexOf(w.colorType)===-1)throw new Error("option color type:"+w.colorType+" is not supported at present");if([K.COLORTYPE_GRAYSCALE,K.COLORTYPE_COLOR,K.COLORTYPE_COLOR_ALPHA,K.COLORTYPE_ALPHA].indexOf(w.inputColorType)===-1)throw new Error("option input color type:"+w.inputColorType+" is not supported at present");if(w.bitDepth!==8&&w.bitDepth!==16)throw new Error("option bit depth:"+w.bitDepth+" is not supported at present")};Qe.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};Qe.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};Qe.prototype.filterData=function(w,B,G){let pe=ye(w,B,G,this._options),Be=K.COLORTYPE_TO_BPP_MAP[this._options.colorType];return Se(pe,B,G,this._options,Be)};Qe.prototype._packChunk=function(w,B){let G=B?B.length:0,K=Buffer.alloc(G+12);return K.writeUInt32BE(G,0),K.writeUInt32BE(w,4),B&&B.copy(K,8),K.writeInt32BE(pe.crc32(K.slice(4,K.length-4)),K.length-4),K};Qe.prototype.packGAMA=function(w){let B=Buffer.alloc(4);return B.writeUInt32BE(Math.floor(w*K.GAMMA_DIVISION),0),this._packChunk(K.TYPE_gAMA,B)};Qe.prototype.packIHDR=function(w,B){let G=Buffer.alloc(13);return G.writeUInt32BE(w,0),G.writeUInt32BE(B,4),G[8]=this._options.bitDepth,G[9]=this._options.colorType,G[10]=0,G[11]=0,G[12]=0,this._packChunk(K.TYPE_IHDR,G)};Qe.prototype.packIDAT=function(w){return this._packChunk(K.TYPE_IDAT,w)};Qe.prototype.packIEND=function(){return this._packChunk(K.TYPE_IEND,null)}}));var Yr=_(((w,B)=>{"use strict";var K=G(9023),pe=G(2203),ye=Or(),Se=Jr(),Be=B.exports=function(w){pe.call(this);let B=w||{};this._packer=new Se(B),this._deflate=this._packer.createDeflate(),this.readable=!0};K.inherits(Be,pe);Be.prototype.pack=function(w,B,G,K){this.emit("data",Buffer.from(ye.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(B,G)),K&&this.emit("data",this._packer.packGAMA(K));let pe=this._packer.filterData(w,B,G);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(w){this.emit("data",this._packer.packIDAT(w))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(pe)}}));var Kr=_(((w,B)=>{"use strict";var K=G(2613).ok,pe=G(3106),ye=G(9023),Se=G(181).kMaxLength;function Gi(w){if(!(this instanceof Gi))return new Gi(w);w&&w.chunkSize<pe.Z_MIN_CHUNK&&(w.chunkSize=pe.Z_MIN_CHUNK),pe.Inflate.call(this,w),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,w&&w.maxLength!=null&&(this._maxLength=w.maxLength)}function vx(w){return new Gi(w)}function kd(w,B){B&&process.nextTick(B),w._handle&&(w._handle.close(),w._handle=null)}Gi.prototype._processChunk=function(w,B,G){if(typeof G=="function")return pe.Inflate._processChunk.call(this,w,B,G);let ye=this,Be=w&&w.length,Qe=this._chunkSize-this._offset,Pe=this._maxLength,Fe=0,Me=[],Le=0,je;this.on("error",(function(w){je=w}));function f(w,B){if(ye._hadError)return;let G=Qe-B;if(K(G>=0,"have should not go down"),G>0){let w=ye._buffer.slice(ye._offset,ye._offset+G);if(ye._offset+=G,w.length>Pe&&(w=w.slice(0,Pe)),Me.push(w),Le+=w.length,Pe-=w.length,Pe===0)return!1}return(B===0||ye._offset>=ye._chunkSize)&&(Qe=ye._chunkSize,ye._offset=0,ye._buffer=Buffer.allocUnsafe(ye._chunkSize)),B===0?(Fe+=Be-w,Be=w,!0):!1}K(this._handle,"zlib binding closed");let qe;do{qe=this._handle.writeSync(B,w,Fe,Be,this._buffer,this._offset,Qe),qe=qe||this._writeState}while(!this._hadError&&f(qe[0],qe[1]));if(this._hadError)throw je;if(Le>=Se)throw kd(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+Se.toString(16)+" bytes");let We=Buffer.concat(Me,Le);return kd(this),We};ye.inherits(Gi,pe.Inflate);function yx(w,B){if(typeof B=="string"&&(B=Buffer.from(B)),!(B instanceof Buffer))throw new TypeError("Not a string or buffer");let G=w._finishFlushFlag;return G==null&&(G=pe.Z_FINISH),w._processChunk(B,G)}function Cd(w,B){return yx(new Gi(B),w)}B.exports=w=Cd;w.Inflate=Gi;w.createInflate=vx;w.inflateSync=Cd}));var Zr=_(((w,B)=>{"use strict";var G=B.exports=function(w){this._buffer=w,this._reads=[]};G.prototype.read=function(w,B){this._reads.push({length:Math.abs(w),allowLess:w<0,func:B})};G.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let w=this._reads[0];if(this._buffer.length&&(this._buffer.length>=w.length||w.allowLess)){this._reads.shift();let B=this._buffer;this._buffer=B.slice(w.length),w.func.call(this,B.slice(0,w.length))}else break}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}}));var tn=_((w=>{"use strict";var B=Zr(),G=xr();w.process=function(w,K){let pe=[],ye=new B(w);return new G(K,{read:ye.read.bind(ye),write:function(w){pe.push(w)},complete:function(){}}).start(),ye.process(),Buffer.concat(pe)}}));var dn=_(((w,B)=>{"use strict";var K=!0,pe=G(3106),ye=Kr();pe.deflateSync||(K=!1);var Se=Zr(),Be=tn(),Qe=Fr(),Pe=Lr(),Fe=jr();B.exports=function(w,B){if(!K)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let G;function r(w){G=w}let Me;function s(w){Me=w}function o(w){Me.transColor=w}function a(w){Me.palette=w}function l(){Me.alpha=!0}let Le;function u(w){Le=w}let je=[];function d(w){je.push(w)}let qe=new Se(w);if(new Qe(B,{read:qe.read.bind(qe),error:r,metadata:s,gamma:u,palette:a,transColor:o,inflateData:d,simpleTransparency:l}).start(),qe.process(),G)throw G;let We=Buffer.concat(je);je.length=0;let Ge;if(Me.interlace)Ge=pe.inflateSync(We);else{let w=((Me.width*Me.bpp*Me.depth+7>>3)+1)*Me.height;Ge=ye(We,{chunkSize:w,maxLength:w})}if(We=null,!Ge||!Ge.length)throw new Error("bad png - invalid inflate data response");let ze=Be.process(Ge,Me);We=null;let Ye=Pe.dataToBitMap(ze,Me);ze=null;let Ke=Fe(Ye,Me,B.skipRescale);return Me.data=Ke,Me.gamma=Le||0,Me}}));var pn=_(((w,B)=>{"use strict";var K=!0,pe=G(3106);pe.deflateSync||(K=!1);var ye=Or(),Se=Jr();B.exports=function(w,B){if(!K)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let G=B||{},Be=new Se(G),Qe=[];Qe.push(Buffer.from(ye.PNG_SIGNATURE)),Qe.push(Be.packIHDR(w.width,w.height)),w.gamma&&Qe.push(Be.packGAMA(w.gamma));let Pe=Be.filterData(w.data,w.width,w.height),Fe=pe.deflateSync(Pe,Be.getDeflateOptions());if(Pe=null,!Fe||!Fe.length)throw new Error("bad png - invalid compressed data response");return Qe.push(Be.packIDAT(Fe)),Qe.push(Be.packIEND()),Buffer.concat(Qe)}}));var bn=_((w=>{"use strict";var B=dn(),G=pn();w.read=function(w,G){return B(w,G||{})};w.write=function(w,B){return G(w,B)}}));var En=_((w=>{"use strict";var B=G(9023),K=G(2203),pe=Wr(),ye=Yr(),Se=bn(),Be=w.PNG=function(w){K.call(this),w=w||{},this.width=w.width|0,this.height=w.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,w.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new pe(w),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(w){this.data=w,this.emit("parsed",w)}.bind(this)),this._packer=new ye(w),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};B.inherits(Be,K);Be.sync=Se;Be.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};Be.prototype.parse=function(w,B){if(B){let w,G;w=function(w){this.removeListener("error",G),this.data=w,B(null,this)}.bind(this),G=function(G){this.removeListener("parsed",w),B(G,null)}.bind(this),this.once("parsed",w),this.once("error",G)}return this.end(w),this};Be.prototype.write=function(w){return this._parser.write(w),!0};Be.prototype.end=function(w){this._parser.end(w)};Be.prototype._metadata=function(w){this.width=w.width,this.height=w.height,this.emit("metadata",w)};Be.prototype._gamma=function(w){this.gamma=w};Be.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};Be.bitblt=function(w,B,G,K,pe,ye,Se,Be){if(G|=0,K|=0,pe|=0,ye|=0,Se|=0,Be|=0,G>w.width||K>w.height||G+pe>w.width||K+ye>w.height)throw new Error("bitblt reading outside image");if(Se>B.width||Be>B.height||Se+pe>B.width||Be+ye>B.height)throw new Error("bitblt writing outside image");for(let Qe=0;Qe<ye;Qe++)w.data.copy(B.data,(Be+Qe)*B.width+Se<<2,(K+Qe)*w.width+G<<2,(K+Qe)*w.width+G+pe<<2)};Be.prototype.bitblt=function(w,B,G,K,pe,ye,Se){return Be.bitblt(this,w,B,G,K,pe,ye,Se),this};Be.adjustGamma=function(w){if(w.gamma){for(let B=0;B<w.height;B++)for(let G=0;G<w.width;G++){let K=w.width*B+G<<2;for(let B=0;B<3;B++){let G=w.data[K+B]/255;G=Math.pow(G,1/2.2/w.gamma),w.data[K+B]=Math.round(G*255)}}w.gamma=0}};Be.prototype.adjustGamma=function(){Be.adjustGamma(this)}}));var _n=_((w=>{var B=class extends Error{constructor(w,B,G){super(G),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=B,this.exitCode=w,this.nestedError=void 0}},G=class extends B{constructor(w){super(1,"commander.invalidArgument",w),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};w.CommanderError=B;w.InvalidArgumentError=G}));var In=_((w=>{var{InvalidArgumentError:B}=_n(),G=class{constructor(w,B){switch(this.description=B||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,w[0]){case"<":this.required=!0,this._name=w.slice(1,-1);break;case"[":this.required=!1,this._name=w.slice(1,-1);break;default:this.required=!0,this._name=w;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(w,B){return B===this.defaultValue||!Array.isArray(B)?[w]:B.concat(w)}default(w,B){return this.defaultValue=w,this.defaultValueDescription=B,this}argParser(w){return this.parseArg=w,this}choices(w){return this.argChoices=w.slice(),this.parseArg=(w,G)=>{if(!this.argChoices.includes(w))throw new B(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(w,G):w},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function Mx(w){let B=w.name()+(w.variadic===!0?"...":"");return w.required?"<"+B+">":"["+B+"]"}w.Argument=G;w.humanReadableArgName=Mx}));var Sn=_((w=>{var{humanReadableArgName:B}=In(),G=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(w){var B,G;this.helpWidth=(G=(B=this.helpWidth)!=null?B:w.helpWidth)!=null?G:80}visibleCommands(w){let B=w.commands.filter((w=>!w._hidden)),G=w._getHelpCommand();return G&&!G._hidden&&B.push(G),this.sortSubcommands&&B.sort(((w,B)=>w.name().localeCompare(B.name()))),B}compareOptions(w,B){let r=w=>w.short?w.short.replace(/^-/,""):w.long.replace(/^--/,"");return r(w).localeCompare(r(B))}visibleOptions(w){let B=w.options.filter((w=>!w.hidden)),G=w._getHelpOption();if(G&&!G.hidden){let K=G.short&&w._findOption(G.short),pe=G.long&&w._findOption(G.long);!K&&!pe?B.push(G):G.long&&!pe?B.push(w.createOption(G.long,G.description)):G.short&&!K&&B.push(w.createOption(G.short,G.description))}return this.sortOptions&&B.sort(this.compareOptions),B}visibleGlobalOptions(w){if(!this.showGlobalOptions)return[];let B=[];for(let G=w.parent;G;G=G.parent){let w=G.options.filter((w=>!w.hidden));B.push(...w)}return this.sortOptions&&B.sort(this.compareOptions),B}visibleArguments(w){return w._argsDescription&&w.registeredArguments.forEach((B=>{B.description=B.description||w._argsDescription[B.name()]||""})),w.registeredArguments.find((w=>w.description))?w.registeredArguments:[]}subcommandTerm(w){let G=w.registeredArguments.map((w=>B(w))).join(" ");return w._name+(w._aliases[0]?"|"+w._aliases[0]:"")+(w.options.length?" [options]":"")+(G?" "+G:"")}optionTerm(w){return w.flags}argumentTerm(w){return w.name()}longestSubcommandTermLength(w,B){return B.visibleCommands(w).reduce(((w,G)=>Math.max(w,this.displayWidth(B.styleSubcommandTerm(B.subcommandTerm(G))))),0)}longestOptionTermLength(w,B){return B.visibleOptions(w).reduce(((w,G)=>Math.max(w,this.displayWidth(B.styleOptionTerm(B.optionTerm(G))))),0)}longestGlobalOptionTermLength(w,B){return B.visibleGlobalOptions(w).reduce(((w,G)=>Math.max(w,this.displayWidth(B.styleOptionTerm(B.optionTerm(G))))),0)}longestArgumentTermLength(w,B){return B.visibleArguments(w).reduce(((w,G)=>Math.max(w,this.displayWidth(B.styleArgumentTerm(B.argumentTerm(G))))),0)}commandUsage(w){let B=w._name;w._aliases[0]&&(B=B+"|"+w._aliases[0]);let G="";for(let B=w.parent;B;B=B.parent)G=B.name()+" "+G;return G+B+" "+w.usage()}commandDescription(w){return w.description()}subcommandDescription(w){return w.summary()||w.description()}optionDescription(w){let B=[];return w.argChoices&&B.push(`choices: ${w.argChoices.map((w=>JSON.stringify(w))).join(", ")}`),w.defaultValue!==void 0&&(w.required||w.optional||w.isBoolean()&&typeof w.defaultValue=="boolean")&&B.push(`default: ${w.defaultValueDescription||JSON.stringify(w.defaultValue)}`),w.presetArg!==void 0&&w.optional&&B.push(`preset: ${JSON.stringify(w.presetArg)}`),w.envVar!==void 0&&B.push(`env: ${w.envVar}`),B.length>0?`${w.description} (${B.join(", ")})`:w.description}argumentDescription(w){let B=[];if(w.argChoices&&B.push(`choices: ${w.argChoices.map((w=>JSON.stringify(w))).join(", ")}`),w.defaultValue!==void 0&&B.push(`default: ${w.defaultValueDescription||JSON.stringify(w.defaultValue)}`),B.length>0){let G=`(${B.join(", ")})`;return w.description?`${w.description} ${G}`:G}return w.description}formatHelp(w,B){var G;let K=B.padWidth(w,B),pe=(G=B.helpWidth)!=null?G:80;function s(w,G){return B.formatItem(w,K,G,B)}let ye=[`${B.styleTitle("Usage:")} ${B.styleUsage(B.commandUsage(w))}`,""],Se=B.commandDescription(w);Se.length>0&&(ye=ye.concat([B.boxWrap(B.styleCommandDescription(Se),pe),""]));let Be=B.visibleArguments(w).map((w=>s(B.styleArgumentTerm(B.argumentTerm(w)),B.styleArgumentDescription(B.argumentDescription(w)))));Be.length>0&&(ye=ye.concat([B.styleTitle("Arguments:"),...Be,""]));let Qe=B.visibleOptions(w).map((w=>s(B.styleOptionTerm(B.optionTerm(w)),B.styleOptionDescription(B.optionDescription(w)))));if(Qe.length>0&&(ye=ye.concat([B.styleTitle("Options:"),...Qe,""])),B.showGlobalOptions){let G=B.visibleGlobalOptions(w).map((w=>s(B.styleOptionTerm(B.optionTerm(w)),B.styleOptionDescription(B.optionDescription(w)))));G.length>0&&(ye=ye.concat([B.styleTitle("Global Options:"),...G,""]))}let Pe=B.visibleCommands(w).map((w=>s(B.styleSubcommandTerm(B.subcommandTerm(w)),B.styleSubcommandDescription(B.subcommandDescription(w)))));return Pe.length>0&&(ye=ye.concat([B.styleTitle("Commands:"),...Pe,""])),ye.join(`\n`)}displayWidth(w){return Wd(w).length}styleTitle(w){return w}styleUsage(w){return w.split(" ").map((w=>w==="[options]"?this.styleOptionText(w):w==="[command]"?this.styleSubcommandText(w):w[0]==="["||w[0]==="<"?this.styleArgumentText(w):this.styleCommandText(w))).join(" ")}styleCommandDescription(w){return this.styleDescriptionText(w)}styleOptionDescription(w){return this.styleDescriptionText(w)}styleSubcommandDescription(w){return this.styleDescriptionText(w)}styleArgumentDescription(w){return this.styleDescriptionText(w)}styleDescriptionText(w){return w}styleOptionTerm(w){return this.styleOptionText(w)}styleSubcommandTerm(w){return w.split(" ").map((w=>w==="[options]"?this.styleOptionText(w):w[0]==="["||w[0]==="<"?this.styleArgumentText(w):this.styleSubcommandText(w))).join(" ")}styleArgumentTerm(w){return this.styleArgumentText(w)}styleOptionText(w){return w}styleArgumentText(w){return w}styleSubcommandText(w){return w}styleCommandText(w){return w}padWidth(w,B){return Math.max(B.longestOptionTermLength(w,B),B.longestGlobalOptionTermLength(w,B),B.longestSubcommandTermLength(w,B),B.longestArgumentTermLength(w,B))}preformatted(w){return/\n[^\S\r\n]/.test(w)}formatItem(w,B,G,K){var pe;let ye=" ".repeat(2);if(!G)return ye+w;let Se=w.padEnd(B+w.length-K.displayWidth(w)),Be=2,Qe=((pe=this.helpWidth)!=null?pe:80)-B-Be-2,Pe;return Qe<this.minWidthToWrap||K.preformatted(G)?Pe=G:Pe=K.boxWrap(G,Qe).replace(/\n/g,`\n`+" ".repeat(B+Be)),ye+Se+" ".repeat(Be)+Pe.replace(/\n/g,`\n${ye}`)}boxWrap(w,B){if(B<this.minWidthToWrap)return w;let G=w.split(/\r\n|\n/),K=/[\s]*[^\s]+/g,pe=[];return G.forEach((w=>{let G=w.match(K);if(G===null){pe.push("");return}let ye=[G.shift()],Se=this.displayWidth(ye[0]);G.forEach((w=>{let G=this.displayWidth(w);if(Se+G<=B){ye.push(w),Se+=G;return}pe.push(ye.join(""));let K=w.trimStart();ye=[K],Se=this.displayWidth(K)})),pe.push(ye.join(""))})),pe.join(`\n`)}};function Wd(w){let B=/\x1b\[\d*(;\d*)*m/g;return w.replace(B,"")}w.Help=G;w.stripColor=Wd}));var Bn=_((w=>{var{InvalidArgumentError:B}=_n(),G=class{constructor(w,B){this.flags=w,this.description=B||"",this.required=w.includes("<"),this.optional=w.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(w),this.mandatory=!1;let G=qx(w);this.short=G.shortFlag,this.long=G.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(w,B){return this.defaultValue=w,this.defaultValueDescription=B,this}preset(w){return this.presetArg=w,this}conflicts(w){return this.conflictsWith=this.conflictsWith.concat(w),this}implies(w){let B=w;return typeof w=="string"&&(B={[w]:!0}),this.implied=Object.assign(this.implied||{},B),this}env(w){return this.envVar=w,this}argParser(w){return this.parseArg=w,this}makeOptionMandatory(w=!0){return this.mandatory=!!w,this}hideHelp(w=!0){return this.hidden=!!w,this}_concatValue(w,B){return B===this.defaultValue||!Array.isArray(B)?[w]:B.concat(w)}choices(w){return this.argChoices=w.slice(),this.parseArg=(w,G)=>{if(!this.argChoices.includes(w))throw new B(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(w,G):w},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?Yd(this.name().replace(/^no-/,"")):Yd(this.name())}is(w){return this.short===w||this.long===w}isBoolean(){return!this.required&&!this.optional&&!this.negate}},K=class{constructor(w){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,w.forEach((w=>{w.negate?this.negativeOptions.set(w.attributeName(),w):this.positiveOptions.set(w.attributeName(),w)})),this.negativeOptions.forEach(((w,B)=>{this.positiveOptions.has(B)&&this.dualOptions.add(B)}))}valueFromOption(w,B){let G=B.attributeName();if(!this.dualOptions.has(G))return!0;let K=this.negativeOptions.get(G).presetArg,pe=K!==void 0?K:!1;return B.negate===(pe===w)}};function Yd(w){return w.split("-").reduce(((w,B)=>w+B[0].toUpperCase()+B.slice(1)))}function qx(w){let B,G,K=/^-[^-]$/,pe=/^--[^-]/,ye=w.split(/[ |,]+/).concat("guard");if(K.test(ye[0])&&(B=ye.shift()),pe.test(ye[0])&&(G=ye.shift()),!B&&K.test(ye[0])&&(B=ye.shift()),!B&&pe.test(ye[0])&&(B=G,G=ye.shift()),ye[0].startsWith("-")){let B=ye[0],G=`option creation failed due to '${B}' in option flags '${w}'`;throw/^-[^-][^-]/.test(B)?new Error(`${G}\n- a short flag is a single dash and a single character\n  - either use a single dash and a single character (for a short flag)\n  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):K.test(B)?new Error(`${G}\n- too many short flags`):pe.test(B)?new Error(`${G}\n- too many long flags`):new Error(`${G}\n- unrecognised flag format`)}if(B===void 0&&G===void 0)throw new Error(`option creation failed due to no flags found in '${w}'.`);return{shortFlag:B,longFlag:G}}w.Option=G;w.DualOptions=K}));var xn=_((w=>{function jx(w,B){if(Math.abs(w.length-B.length)>3)return Math.max(w.length,B.length);let G=[];for(let B=0;B<=w.length;B++)G[B]=[B];for(let w=0;w<=B.length;w++)G[0][w]=w;for(let K=1;K<=B.length;K++)for(let pe=1;pe<=w.length;pe++){let ye=1;w[pe-1]===B[K-1]?ye=0:ye=1,G[pe][K]=Math.min(G[pe-1][K]+1,G[pe][K-1]+1,G[pe-1][K-1]+ye),pe>1&&K>1&&w[pe-1]===B[K-2]&&w[pe-2]===B[K-1]&&(G[pe][K]=Math.min(G[pe][K],G[pe-2][K-2]+1))}return G[w.length][B.length]}function Ux(w,B){if(!B||B.length===0)return"";B=Array.from(new Set(B));let G=w.startsWith("--");G&&(w=w.slice(2),B=B.map((w=>w.slice(2))));let K=[],pe=3,ye=.4;return B.forEach((B=>{if(B.length<=1)return;let G=jx(w,B),Se=Math.max(w.length,B.length);(Se-G)/Se>ye&&(G<pe?(pe=G,K=[B]):G===pe&&K.push(B))})),K.sort(((w,B)=>w.localeCompare(B))),G&&(K=K.map((w=>`--${w}`))),K.length>1?`\n(Did you mean one of ${K.join(", ")}?)`:K.length===1?`\n(Did you mean ${K[0]}?)`:""}w.suggestSimilar=Ux}));var On=_((w=>{var B=G(8474).EventEmitter,K=G(1421),pe=G(6760),ye=G(3024),Se=G(1708),{Argument:Be,humanReadableArgName:Qe}=In(),{CommanderError:Pe}=_n(),{Help:Fe,stripColor:Me}=Sn(),{Option:Le,DualOptions:je}=Bn(),{suggestSimilar:qe}=xn(),We=class i extends B{constructor(w){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=w||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:w=>Se.stdout.write(w),writeErr:w=>Se.stderr.write(w),outputError:(w,B)=>B(w),getOutHelpWidth:()=>Se.stdout.isTTY?Se.stdout.columns:void 0,getErrHelpWidth:()=>Se.stderr.isTTY?Se.stderr.columns:void 0,getOutHasColors:()=>{var w,B,G;return(G=Ml())!=null?G:Se.stdout.isTTY&&((B=(w=Se.stdout).hasColors)==null?void 0:B.call(w))},getErrHasColors:()=>{var w,B,G;return(G=Ml())!=null?G:Se.stderr.isTTY&&((B=(w=Se.stderr).hasColors)==null?void 0:B.call(w))},stripColor:w=>Me(w)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(w){return this._outputConfiguration=w._outputConfiguration,this._helpOption=w._helpOption,this._helpCommand=w._helpCommand,this._helpConfiguration=w._helpConfiguration,this._exitCallback=w._exitCallback,this._storeOptionsAsProperties=w._storeOptionsAsProperties,this._combineFlagAndOptionalValue=w._combineFlagAndOptionalValue,this._allowExcessArguments=w._allowExcessArguments,this._enablePositionalOptions=w._enablePositionalOptions,this._showHelpAfterError=w._showHelpAfterError,this._showSuggestionAfterError=w._showSuggestionAfterError,this}_getCommandAndAncestors(){let w=[];for(let B=this;B;B=B.parent)w.push(B);return w}command(w,B,G){let K=B,pe=G;typeof K=="object"&&K!==null&&(pe=K,K=null),pe=pe||{};let[,ye,Se]=w.match(/([^ ]+) *(.*)/),Be=this.createCommand(ye);return K&&(Be.description(K),Be._executableHandler=!0),pe.isDefault&&(this._defaultCommandName=Be._name),Be._hidden=!!(pe.noHelp||pe.hidden),Be._executableFile=pe.executableFile||null,Se&&Be.arguments(Se),this._registerCommand(Be),Be.parent=this,Be.copyInheritedSettings(this),K?this:Be}createCommand(w){return new i(w)}createHelp(){return Object.assign(new Fe,this.configureHelp())}configureHelp(w){return w===void 0?this._helpConfiguration:(this._helpConfiguration=w,this)}configureOutput(w){return w===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,w),this)}showHelpAfterError(w=!0){return typeof w!="string"&&(w=!!w),this._showHelpAfterError=w,this}showSuggestionAfterError(w=!0){return this._showSuggestionAfterError=!!w,this}addCommand(w,B){if(!w._name)throw new Error(`Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()`);return B=B||{},B.isDefault&&(this._defaultCommandName=w._name),(B.noHelp||B.hidden)&&(w._hidden=!0),this._registerCommand(w),w.parent=this,w._checkForBrokenPassThrough(),this}createArgument(w,B){return new Be(w,B)}argument(w,B,G,K){let pe=this.createArgument(w,B);return typeof G=="function"?pe.default(K).argParser(G):pe.default(G),this.addArgument(pe),this}arguments(w){return w.trim().split(/ +/).forEach((w=>{this.argument(w)})),this}addArgument(w){let B=this.registeredArguments.slice(-1)[0];if(B&&B.variadic)throw new Error(`only the last argument can be variadic '${B.name()}'`);if(w.required&&w.defaultValue!==void 0&&w.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${w.name()}'`);return this.registeredArguments.push(w),this}helpCommand(w,B){if(typeof w=="boolean")return this._addImplicitHelpCommand=w,this;w=w!=null?w:"help [command]";let[,G,K]=w.match(/([^ ]+) *(.*)/),pe=B!=null?B:"display help for command",ye=this.createCommand(G);return ye.helpOption(!1),K&&ye.arguments(K),pe&&ye.description(pe),this._addImplicitHelpCommand=!0,this._helpCommand=ye,this}addHelpCommand(w,B){return typeof w!="object"?(this.helpCommand(w,B),this):(this._addImplicitHelpCommand=!0,this._helpCommand=w,this)}_getHelpCommand(){var w;return((w=this._addImplicitHelpCommand)!=null?w:this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(w,B){let G=["preSubcommand","preAction","postAction"];if(!G.includes(w))throw new Error(`Unexpected value for event passed to hook : '${w}'.\nExpecting one of '${G.join("', '")}'`);return this._lifeCycleHooks[w]?this._lifeCycleHooks[w].push(B):this._lifeCycleHooks[w]=[B],this}exitOverride(w){return w?this._exitCallback=w:this._exitCallback=w=>{if(w.code!=="commander.executeSubCommandAsync")throw w},this}_exit(w,B,G){this._exitCallback&&this._exitCallback(new Pe(w,B,G)),Se.exit(w)}action(w){let t=B=>{let G=this.registeredArguments.length,K=B.slice(0,G);return this._storeOptionsAsProperties?K[G]=this:K[G]=this.opts(),K.push(this),w.apply(this,K)};return this._actionHandler=t,this}createOption(w,B){return new Le(w,B)}_callParseArg(w,B,G,K){try{return w.parseArg(B,G)}catch(w){if(w.code==="commander.invalidArgument"){let B=`${K} ${w.message}`;this.error(B,{exitCode:w.exitCode,code:w.code})}throw w}}_registerOption(w){let B=w.short&&this._findOption(w.short)||w.long&&this._findOption(w.long);if(B){let G=w.long&&this._findOption(w.long)?w.long:w.short;throw new Error(`Cannot add option '${w.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${G}'\n-  already used by option '${B.flags}'`)}this.options.push(w)}_registerCommand(w){let t=w=>[w.name()].concat(w.aliases()),B=t(w).find((w=>this._findCommand(w)));if(B){let G=t(this._findCommand(B)).join("|"),K=t(w).join("|");throw new Error(`cannot add command '${K}' as already have command '${G}'`)}this.commands.push(w)}addOption(w){this._registerOption(w);let B=w.name(),G=w.attributeName();if(w.negate){let B=w.long.replace(/^--no-/,"--");this._findOption(B)||this.setOptionValueWithSource(G,w.defaultValue===void 0?!0:w.defaultValue,"default")}else w.defaultValue!==void 0&&this.setOptionValueWithSource(G,w.defaultValue,"default");let n=(B,K,pe)=>{B==null&&w.presetArg!==void 0&&(B=w.presetArg);let ye=this.getOptionValue(G);B!==null&&w.parseArg?B=this._callParseArg(w,B,ye,K):B!==null&&w.variadic&&(B=w._concatValue(B,ye)),B==null&&(w.negate?B=!1:w.isBoolean()||w.optional?B=!0:B=""),this.setOptionValueWithSource(G,B,pe)};return this.on("option:"+B,(B=>{let G=`error: option '${w.flags}' argument '${B}' is invalid.`;n(B,G,"cli")})),w.envVar&&this.on("optionEnv:"+B,(B=>{let G=`error: option '${w.flags}' value '${B}' from env '${w.envVar}' is invalid.`;n(B,G,"env")})),this}_optionEx(w,B,G,K,pe){if(typeof B=="object"&&B instanceof Le)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let ye=this.createOption(B,G);if(ye.makeOptionMandatory(!!w.mandatory),typeof K=="function")ye.default(pe).argParser(K);else if(K instanceof RegExp){let w=K;K=(B,G)=>{let K=w.exec(B);return K?K[0]:G},ye.default(pe).argParser(K)}else ye.default(K);return this.addOption(ye)}option(w,B,G,K){return this._optionEx({},w,B,G,K)}requiredOption(w,B,G,K){return this._optionEx({mandatory:!0},w,B,G,K)}combineFlagAndOptionalValue(w=!0){return this._combineFlagAndOptionalValue=!!w,this}allowUnknownOption(w=!0){return this._allowUnknownOption=!!w,this}allowExcessArguments(w=!0){return this._allowExcessArguments=!!w,this}enablePositionalOptions(w=!0){return this._enablePositionalOptions=!!w,this}passThroughOptions(w=!0){return this._passThroughOptions=!!w,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(w=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!w,this}getOptionValue(w){return this._storeOptionsAsProperties?this[w]:this._optionValues[w]}setOptionValue(w,B){return this.setOptionValueWithSource(w,B,void 0)}setOptionValueWithSource(w,B,G){return this._storeOptionsAsProperties?this[w]=B:this._optionValues[w]=B,this._optionValueSources[w]=G,this}getOptionValueSource(w){return this._optionValueSources[w]}getOptionValueSourceWithGlobals(w){let B;return this._getCommandAndAncestors().forEach((G=>{G.getOptionValueSource(w)!==void 0&&(B=G.getOptionValueSource(w))})),B}_prepareUserArgs(w,B){var G,K;if(w!==void 0&&!Array.isArray(w))throw new Error("first parameter to parse must be array or undefined");if(B=B||{},w===void 0&&B.from===void 0){(G=Se.versions)!=null&&G.electron&&(B.from="electron");let w=(K=Se.execArgv)!=null?K:[];(w.includes("-e")||w.includes("--eval")||w.includes("-p")||w.includes("--print"))&&(B.from="eval")}w===void 0&&(w=Se.argv),this.rawArgs=w.slice();let pe;switch(B.from){case void 0:case"node":this._scriptPath=w[1],pe=w.slice(2);break;case"electron":Se.defaultApp?(this._scriptPath=w[1],pe=w.slice(2)):pe=w.slice(1);break;case"user":pe=w.slice(0);break;case"eval":pe=w.slice(1);break;default:throw new Error(`unexpected parse option { from: '${B.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",pe}parse(w,B){this._prepareForParse();let G=this._prepareUserArgs(w,B);return this._parseCommand([],G),this}async parseAsync(w,B){this._prepareForParse();let G=this._prepareUserArgs(w,B);return await this._parseCommand([],G),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.\n- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(w,B,G){if(ye.existsSync(w))return;let K=B?`searched for local subcommand relative to directory '${B}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",pe=`'${w}' does not exist\n - if '${G}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${K}`;throw new Error(pe)}_executeSubCommand(w,B){B=B.slice();let G=!1,Be=[".js",".ts",".tsx",".mjs",".cjs"];function s(w,B){let G=pe.resolve(w,B);if(ye.existsSync(G))return G;if(Be.includes(pe.extname(B)))return;let K=Be.find((w=>ye.existsSync(`${G}${w}`)));if(K)return`${G}${K}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let Qe=w._executableFile||`${this._name}-${w._name}`,Fe=this._executableDir||"";if(this._scriptPath){let w;try{w=ye.realpathSync(this._scriptPath)}catch{w=this._scriptPath}Fe=pe.resolve(pe.dirname(w),Fe)}if(Fe){let B=s(Fe,Qe);if(!B&&!w._executableFile&&this._scriptPath){let G=pe.basename(this._scriptPath,pe.extname(this._scriptPath));G!==this._name&&(B=s(Fe,`${G}-${w._name}`))}Qe=B||Qe}G=Be.includes(pe.extname(Qe));let Me;Se.platform!=="win32"?G?(B.unshift(Qe),B=Qd(Se.execArgv).concat(B),Me=K.spawn(Se.argv[0],B,{stdio:"inherit"})):Me=K.spawn(Qe,B,{stdio:"inherit"}):(this._checkForMissingExecutable(Qe,Fe,w._name),B.unshift(Qe),B=Qd(Se.execArgv).concat(B),Me=K.spawn(Se.execPath,B,{stdio:"inherit"})),Me.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((w=>{Se.on(w,(()=>{Me.killed===!1&&Me.exitCode===null&&Me.kill(w)}))}));let Le=this._exitCallback;Me.on("close",(w=>{w=w!=null?w:1,Le?Le(new Pe(w,"commander.executeSubCommandAsync","(close)")):Se.exit(w)})),Me.on("error",(B=>{if(B.code==="ENOENT")this._checkForMissingExecutable(Qe,Fe,w._name);else if(B.code==="EACCES")throw new Error(`'${Qe}' not executable`);if(!Le)Se.exit(1);else{let w=new Pe(1,"commander.executeSubCommandAsync","(error)");w.nestedError=B,Le(w)}})),this.runningCommand=Me}_dispatchSubcommand(w,B,G){let K=this._findCommand(w);K||this.help({error:!0}),K._prepareForParse();let pe;return pe=this._chainOrCallSubCommandHook(pe,K,"preSubcommand"),pe=this._chainOrCall(pe,(()=>{if(K._executableHandler)this._executeSubCommand(K,B.concat(G));else return K._parseCommand(B,G)})),pe}_dispatchHelpCommand(w){var B,G,K,pe;w||this.help();let ye=this._findCommand(w);return ye&&!ye._executableHandler&&ye.help(),this._dispatchSubcommand(w,[],[(pe=(K=(B=this._getHelpOption())==null?void 0:B.long)!=null?K:(G=this._getHelpOption())==null?void 0:G.short)!=null?pe:"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach(((w,B)=>{w.required&&this.args[B]==null&&this.missingArgument(w.name())})),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(w,B,G)=>{let K=B;if(B!==null&&w.parseArg){let pe=`error: command-argument value '${B}' is invalid for argument '${w.name()}'.`;K=this._callParseArg(w,B,G,pe)}return K};this._checkNumberOfArguments();let w=[];this.registeredArguments.forEach(((B,G)=>{let K=B.defaultValue;B.variadic?G<this.args.length?(K=this.args.slice(G),B.parseArg&&(K=K.reduce(((w,G)=>e(B,G,w)),B.defaultValue))):K===void 0&&(K=[]):G<this.args.length&&(K=this.args[G],B.parseArg&&(K=e(B,K,B.defaultValue))),w[G]=K})),this.processedArgs=w}_chainOrCall(w,B){return w&&w.then&&typeof w.then=="function"?w.then((()=>B())):B()}_chainOrCallHooks(w,B){let G=w,K=[];return this._getCommandAndAncestors().reverse().filter((w=>w._lifeCycleHooks[B]!==void 0)).forEach((w=>{w._lifeCycleHooks[B].forEach((B=>{K.push({hookedCommand:w,callback:B})}))})),B==="postAction"&&K.reverse(),K.forEach((w=>{G=this._chainOrCall(G,(()=>w.callback(w.hookedCommand,this)))})),G}_chainOrCallSubCommandHook(w,B,G){let K=w;return this._lifeCycleHooks[G]!==void 0&&this._lifeCycleHooks[G].forEach((w=>{K=this._chainOrCall(K,(()=>w(this,B)))})),K}_parseCommand(w,B){let G=this.parseOptions(B);if(this._parseOptionsEnv(),this._parseOptionsImplied(),w=w.concat(G.operands),B=G.unknown,this.args=w.concat(B),w&&this._findCommand(w[0]))return this._dispatchSubcommand(w[0],w.slice(1),B);if(this._getHelpCommand()&&w[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(w[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(B),this._dispatchSubcommand(this._defaultCommandName,w,B);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(G.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let n=()=>{G.unknown.length>0&&this.unknownOption(G.unknown[0])},K=`command:${this.name()}`;if(this._actionHandler){n(),this._processArguments();let G;return G=this._chainOrCallHooks(G,"preAction"),G=this._chainOrCall(G,(()=>this._actionHandler(this.processedArgs))),this.parent&&(G=this._chainOrCall(G,(()=>{this.parent.emit(K,w,B)}))),G=this._chainOrCallHooks(G,"postAction"),G}if(this.parent&&this.parent.listenerCount(K))n(),this._processArguments(),this.parent.emit(K,w,B);else if(w.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",w,B);this.listenerCount("command:*")?this.emit("command:*",w,B):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(w){if(w)return this.commands.find((B=>B._name===w||B._aliases.includes(w)))}_findOption(w){return this.options.find((B=>B.is(w)))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((w=>{w.options.forEach((B=>{B.mandatory&&w.getOptionValue(B.attributeName())===void 0&&w.missingMandatoryOptionValue(B)}))}))}_checkForConflictingLocalOptions(){let w=this.options.filter((w=>{let B=w.attributeName();return this.getOptionValue(B)===void 0?!1:this.getOptionValueSource(B)!=="default"}));w.filter((w=>w.conflictsWith.length>0)).forEach((B=>{let G=w.find((w=>B.conflictsWith.includes(w.attributeName())));G&&this._conflictingOption(B,G)}))}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((w=>{w._checkForConflictingLocalOptions()}))}parseOptions(w){let B=[],G=[],K=B,pe=w.slice();function o(w){return w.length>1&&w[0]==="-"}let ye=null;for(;pe.length;){let w=pe.shift();if(w==="--"){K===G&&K.push(w),K.push(...pe);break}if(ye&&!o(w)){this.emit(`option:${ye.name()}`,w);continue}if(ye=null,o(w)){let B=this._findOption(w);if(B){if(B.required){let w=pe.shift();w===void 0&&this.optionMissingArgument(B),this.emit(`option:${B.name()}`,w)}else if(B.optional){let w=null;pe.length>0&&!o(pe[0])&&(w=pe.shift()),this.emit(`option:${B.name()}`,w)}else this.emit(`option:${B.name()}`);ye=B.variadic?B:null;continue}}if(w.length>2&&w[0]==="-"&&w[1]!=="-"){let B=this._findOption(`-${w[1]}`);if(B){B.required||B.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${B.name()}`,w.slice(2)):(this.emit(`option:${B.name()}`),pe.unshift(`-${w.slice(2)}`));continue}}if(/^--[^=]+=/.test(w)){let B=w.indexOf("="),G=this._findOption(w.slice(0,B));if(G&&(G.required||G.optional)){this.emit(`option:${G.name()}`,w.slice(B+1));continue}}if(o(w)&&(K=G),(this._enablePositionalOptions||this._passThroughOptions)&&B.length===0&&G.length===0){if(this._findCommand(w)){B.push(w),pe.length>0&&G.push(...pe);break}else if(this._getHelpCommand()&&w===this._getHelpCommand().name()){B.push(w),pe.length>0&&B.push(...pe);break}else if(this._defaultCommandName){G.push(w),pe.length>0&&G.push(...pe);break}}if(this._passThroughOptions){K.push(w),pe.length>0&&K.push(...pe);break}K.push(w)}return{operands:B,unknown:G}}opts(){if(this._storeOptionsAsProperties){let w={},B=this.options.length;for(let G=0;G<B;G++){let B=this.options[G].attributeName();w[B]=B===this._versionOptionName?this._version:this[B]}return w}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(((w,B)=>Object.assign(w,B.opts())),{})}error(w,B){this._outputConfiguration.outputError(`${w}\n`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`\n`),this.outputHelp({error:!0}));let G=B||{},K=G.exitCode||1,pe=G.code||"commander.error";this._exit(K,pe,w)}_parseOptionsEnv(){this.options.forEach((w=>{if(w.envVar&&w.envVar in Se.env){let B=w.attributeName();(this.getOptionValue(B)===void 0||["default","config","env"].includes(this.getOptionValueSource(B)))&&(w.required||w.optional?this.emit(`optionEnv:${w.name()}`,Se.env[w.envVar]):this.emit(`optionEnv:${w.name()}`))}}))}_parseOptionsImplied(){let w=new je(this.options),t=w=>this.getOptionValue(w)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(w));this.options.filter((B=>B.implied!==void 0&&t(B.attributeName())&&w.valueFromOption(this.getOptionValue(B.attributeName()),B))).forEach((w=>{Object.keys(w.implied).filter((w=>!t(w))).forEach((B=>{this.setOptionValueWithSource(B,w.implied[B],"implied")}))}))}missingArgument(w){let B=`error: missing required argument '${w}'`;this.error(B,{code:"commander.missingArgument"})}optionMissingArgument(w){let B=`error: option '${w.flags}' argument missing`;this.error(B,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(w){let B=`error: required option '${w.flags}' not specified`;this.error(B,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(w,B){let r=w=>{let B=w.attributeName(),G=this.getOptionValue(B),K=this.options.find((w=>w.negate&&B===w.attributeName())),pe=this.options.find((w=>!w.negate&&B===w.attributeName()));return K&&(K.presetArg===void 0&&G===!1||K.presetArg!==void 0&&G===K.presetArg)?K:pe||w},n=w=>{let B=r(w),G=B.attributeName();return this.getOptionValueSource(G)==="env"?`environment variable '${B.envVar}'`:`option '${B.flags}'`},G=`error: ${n(w)} cannot be used with ${n(B)}`;this.error(G,{code:"commander.conflictingOption"})}unknownOption(w){if(this._allowUnknownOption)return;let B="";if(w.startsWith("--")&&this._showSuggestionAfterError){let G=[],K=this;do{let w=K.createHelp().visibleOptions(K).filter((w=>w.long)).map((w=>w.long));G=G.concat(w),K=K.parent}while(K&&!K._enablePositionalOptions);B=qe(w,G)}let G=`error: unknown option '${w}'${B}`;this.error(G,{code:"commander.unknownOption"})}_excessArguments(w){if(this._allowExcessArguments)return;let B=this.registeredArguments.length,G=B===1?"":"s",K=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${B} argument${G} but got ${w.length}.`;this.error(K,{code:"commander.excessArguments"})}unknownCommand(){let w=this.args[0],B="";if(this._showSuggestionAfterError){let G=[];this.createHelp().visibleCommands(this).forEach((w=>{G.push(w.name()),w.alias()&&G.push(w.alias())})),B=qe(w,G)}let G=`error: unknown command '${w}'${B}`;this.error(G,{code:"commander.unknownCommand"})}version(w,B,G){if(w===void 0)return this._version;this._version=w,B=B||"-V, --version",G=G||"output the version number";let K=this.createOption(B,G);return this._versionOptionName=K.attributeName(),this._registerOption(K),this.on("option:"+K.name(),(()=>{this._outputConfiguration.writeOut(`${w}\n`),this._exit(0,"commander.version",w)})),this}description(w,B){return w===void 0&&B===void 0?this._description:(this._description=w,B&&(this._argsDescription=B),this)}summary(w){return w===void 0?this._summary:(this._summary=w,this)}alias(w){var B;if(w===void 0)return this._aliases[0];let G=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(G=this.commands[this.commands.length-1]),w===G._name)throw new Error("Command alias can't be the same as its name");let K=(B=this.parent)==null?void 0:B._findCommand(w);if(K){let B=[K.name()].concat(K.aliases()).join("|");throw new Error(`cannot add alias '${w}' to command '${this.name()}' as already have command '${B}'`)}return G._aliases.push(w),this}aliases(w){return w===void 0?this._aliases:(w.forEach((w=>this.alias(w))),this)}usage(w){if(w===void 0){if(this._usage)return this._usage;let w=this.registeredArguments.map((w=>Qe(w)));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?w:[]).join(" ")}return this._usage=w,this}name(w){return w===void 0?this._name:(this._name=w,this)}nameFromFilename(w){return this._name=pe.basename(w,pe.extname(w)),this}executableDir(w){return w===void 0?this._executableDir:(this._executableDir=w,this)}helpInformation(w){let B=this.createHelp(),G=this._getOutputContext(w);B.prepareContext({error:G.error,helpWidth:G.helpWidth,outputHasColors:G.hasColors});let K=B.formatHelp(this,B);return G.hasColors?K:this._outputConfiguration.stripColor(K)}_getOutputContext(w){w=w||{};let B=!!w.error,G,K,pe;return B?(G=w=>this._outputConfiguration.writeErr(w),K=this._outputConfiguration.getErrHasColors(),pe=this._outputConfiguration.getErrHelpWidth()):(G=w=>this._outputConfiguration.writeOut(w),K=this._outputConfiguration.getOutHasColors(),pe=this._outputConfiguration.getOutHelpWidth()),{error:B,write:w=>(K||(w=this._outputConfiguration.stripColor(w)),G(w)),hasColors:K,helpWidth:pe}}outputHelp(w){var B;let G;typeof w=="function"&&(G=w,w=void 0);let K=this._getOutputContext(w),pe={error:K.error,write:K.write,command:this};this._getCommandAndAncestors().reverse().forEach((w=>w.emit("beforeAllHelp",pe))),this.emit("beforeHelp",pe);let ye=this.helpInformation({error:K.error});if(G&&(ye=G(ye),typeof ye!="string"&&!Buffer.isBuffer(ye)))throw new Error("outputHelp callback must return a string or a Buffer");K.write(ye),(B=this._getHelpOption())!=null&&B.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",pe),this._getCommandAndAncestors().forEach((w=>w.emit("afterAllHelp",pe)))}helpOption(w,B){var G;return typeof w=="boolean"?(w?this._helpOption=(G=this._helpOption)!=null?G:void 0:this._helpOption=null,this):(w=w!=null?w:"-h, --help",B=B!=null?B:"display help for command",this._helpOption=this.createOption(w,B),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(w){return this._helpOption=w,this}help(w){var B;this.outputHelp(w);let G=Number((B=Se.exitCode)!=null?B:0);G===0&&w&&typeof w!="function"&&w.error&&(G=1),this._exit(G,"commander.help","(outputHelp)")}addHelpText(w,B){let G=["beforeAll","before","after","afterAll"];if(!G.includes(w))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${G.join("', '")}'`);let K=`${w}Help`;return this.on(K,(w=>{let G;typeof B=="function"?G=B({error:w.error,command:w.command}):G=B,G&&w.write(`${G}\n`)})),this}_outputHelpIfRequested(w){let B=this._getHelpOption();B&&w.find((w=>B.is(w)))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function Qd(w){return w.map((w=>{if(!w.startsWith("--inspect"))return w;let B,G="127.0.0.1",K="9229",pe;return(pe=w.match(/^(--inspect(-brk)?)$/))!==null?B=pe[1]:(pe=w.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(B=pe[1],/^\d+$/.test(pe[3])?K=pe[3]:G=pe[3]):(pe=w.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(B=pe[1],G=pe[3],K=pe[4]),B&&K!=="0"?`${B}=${G}:${parseInt(K)+1}`:w}))}function Ml(){if(Se.env.NO_COLOR||Se.env.FORCE_COLOR==="0"||Se.env.FORCE_COLOR==="false")return!1;if(Se.env.FORCE_COLOR||Se.env.CLICOLOR_FORCE!==void 0)return!0}w.Command=We;w.useColor=Ml}));var Tn=_((w=>{var{Argument:B}=In(),{Command:G}=On(),{CommanderError:K,InvalidArgumentError:pe}=_n(),{Help:ye}=Sn(),{Option:Se}=Bn();w.program=new G;w.createCommand=w=>new G(w);w.createOption=(w,B)=>new Se(w,B);w.createArgument=(w,G)=>new B(w,G);w.Command=G;w.Option=Se;w.Argument=B;w.Help=ye;w.CommanderError=K;w.InvalidArgumentError=pe;w.InvalidOptionArgumentError=pe}));var Rn=_(((w,B)=>{w=B.exports=Tr;function Tr(w,B){if(this.stream=B.stream||process.stderr,typeof B=="number"){var G=B;B={},B.total=G}else{if(B=B||{},typeof w!="string")throw new Error("format required");if(typeof B.total!="number")throw new Error("total required")}this.fmt=w,this.curr=B.curr||0,this.total=B.total,this.width=B.width||this.total,this.clear=B.clear,this.chars={complete:B.complete||"=",incomplete:B.incomplete||"-",head:B.head||B.complete||"="},this.renderThrottle=B.renderThrottle!==0?B.renderThrottle||16:0,this.lastRender=-1/0,this.callback=B.callback||function(){},this.tokens={},this.lastDraw=""}Tr.prototype.tick=function(w,B){if(w!==0&&(w=w||1),typeof w=="object"&&(B=w,w=1),B&&(this.tokens=B),this.curr==0&&(this.start=new Date),this.curr+=w,this.render(),this.curr>=this.total){this.render(void 0,!0),this.complete=!0,this.terminate(),this.callback(this);return}};Tr.prototype.render=function(w,B){if(B=B!==void 0?B:!1,w&&(this.tokens=w),!!this.stream.isTTY){var G=Date.now(),K=G-this.lastRender;if(!(!B&&K<this.renderThrottle)){this.lastRender=G;var pe=this.curr/this.total;pe=Math.min(Math.max(pe,0),1);var ye=Math.floor(pe*100),Se,Be,Qe,Pe=new Date-this.start,Fe=ye==100?0:Pe*(this.total/this.curr-1),Me=this.curr/(Pe/1e3),Le=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(Pe)?"0.0":(Pe/1e3).toFixed(1)).replace(":eta",isNaN(Fe)||!isFinite(Fe)?"0.0":(Fe/1e3).toFixed(1)).replace(":percent",ye.toFixed(0)+"%").replace(":rate",Math.round(Me)),je=Math.max(0,this.stream.columns-Le.replace(":bar","").length);je&&process.platform==="win32"&&(je=je-1);var qe=Math.min(this.width,je);if(Qe=Math.round(qe*pe),Be=Array(Math.max(0,Qe+1)).join(this.chars.complete),Se=Array(Math.max(0,qe-Qe+1)).join(this.chars.incomplete),Qe>0&&(Be=Be.slice(0,-1)+this.chars.head),Le=Le.replace(":bar",Be+Se),this.tokens)for(var We in this.tokens)Le=Le.replace(":"+We,this.tokens[We]);this.lastDraw!==Le&&(this.stream.cursorTo(0),this.stream.write(Le),this.stream.clearLine(1),this.lastDraw=Le)}}};Tr.prototype.update=function(w,B){var G=Math.floor(w*this.total),K=G-this.curr;this.tick(K,B)};Tr.prototype.interrupt=function(w){this.stream.clearLine(),this.stream.cursorTo(0),this.stream.write(w),this.stream.write(`\n`),this.stream.write(this.lastDraw)};Tr.prototype.terminate=function(){this.clear?this.stream.clearLine&&(this.stream.clearLine(),this.stream.cursorTo(0)):this.stream.write(`\n`)}}));var Pn=_(((w,B)=>{B.exports=Rn()}));var Dn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var B=G(181),K={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};w.ERRORS=K;function Jx(w){if(!B.Buffer.isEncoding(w))throw new Error(K.INVALID_ENCODING)}w.checkEncoding=Jx;function pm(w){return typeof w=="number"&&isFinite(w)&&eS(w)}w.isFiniteInteger=pm;function dm(w,B){if(typeof w=="number"){if(!pm(w)||w<0)throw new Error(B?K.INVALID_OFFSET:K.INVALID_LENGTH)}else throw new Error(B?K.INVALID_OFFSET_NON_NUMBER:K.INVALID_LENGTH_NON_NUMBER)}function Zx(w){dm(w,!1)}w.checkLengthValue=Zx;function Qx(w){dm(w,!0)}w.checkOffsetValue=Qx;function Xx(w,B){if(w<0||w>B.length)throw new Error(K.INVALID_TARGET_OFFSET)}w.checkTargetOffset=Xx;function eS(w){return typeof w=="number"&&isFinite(w)&&Math.floor(w)===w}function tS(w){if(typeof BigInt=="undefined")throw new Error("Platform does not support JS BigInt type.");if(typeof B.Buffer.prototype[w]=="undefined")throw new Error(`Platform does not support Buffer.prototype.${w}.`)}w.bigIntAndBufferInt64Check=tS}));var Fn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var B=Dn(),G=4096,K="utf8",pe=class i{constructor(w){if(this.length=0,this._encoding=K,this._writeOffset=0,this._readOffset=0,i.isSmartBufferOptions(w))if(w.encoding&&(B.checkEncoding(w.encoding),this._encoding=w.encoding),w.size)if(B.isFiniteInteger(w.size)&&w.size>0)this._buff=Buffer.allocUnsafe(w.size);else throw new Error(B.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(w.buff)if(Buffer.isBuffer(w.buff))this._buff=w.buff,this.length=w.buff.length;else throw new Error(B.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(G);else{if(typeof w!="undefined")throw new Error(B.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(G)}}static fromSize(w,B){return new this({size:w,encoding:B})}static fromBuffer(w,B){return new this({buff:w,encoding:B})}static fromOptions(w){return new this(w)}static isSmartBufferOptions(w){let B=w;return B&&(B.encoding!==void 0||B.size!==void 0||B.buff!==void 0)}readInt8(w){return this._readNumberValue(Buffer.prototype.readInt8,1,w)}readInt16BE(w){return this._readNumberValue(Buffer.prototype.readInt16BE,2,w)}readInt16LE(w){return this._readNumberValue(Buffer.prototype.readInt16LE,2,w)}readInt32BE(w){return this._readNumberValue(Buffer.prototype.readInt32BE,4,w)}readInt32LE(w){return this._readNumberValue(Buffer.prototype.readInt32LE,4,w)}readBigInt64BE(w){return B.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,w)}readBigInt64LE(w){return B.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,w)}writeInt8(w,B){return this._writeNumberValue(Buffer.prototype.writeInt8,1,w,B),this}insertInt8(w,B){return this._insertNumberValue(Buffer.prototype.writeInt8,1,w,B)}writeInt16BE(w,B){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,w,B)}insertInt16BE(w,B){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,w,B)}writeInt16LE(w,B){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,w,B)}insertInt16LE(w,B){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,w,B)}writeInt32BE(w,B){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,w,B)}insertInt32BE(w,B){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,w,B)}writeInt32LE(w,B){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,w,B)}insertInt32LE(w,B){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,w,B)}writeBigInt64BE(w,G){return B.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,w,G)}insertBigInt64BE(w,G){return B.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,w,G)}writeBigInt64LE(w,G){return B.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,w,G)}insertBigInt64LE(w,G){return B.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,w,G)}readUInt8(w){return this._readNumberValue(Buffer.prototype.readUInt8,1,w)}readUInt16BE(w){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,w)}readUInt16LE(w){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,w)}readUInt32BE(w){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,w)}readUInt32LE(w){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,w)}readBigUInt64BE(w){return B.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,w)}readBigUInt64LE(w){return B.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,w)}writeUInt8(w,B){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,w,B)}insertUInt8(w,B){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,w,B)}writeUInt16BE(w,B){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,w,B)}insertUInt16BE(w,B){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,w,B)}writeUInt16LE(w,B){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,w,B)}insertUInt16LE(w,B){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,w,B)}writeUInt32BE(w,B){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,w,B)}insertUInt32BE(w,B){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,w,B)}writeUInt32LE(w,B){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,w,B)}insertUInt32LE(w,B){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,w,B)}writeBigUInt64BE(w,G){return B.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,w,G)}insertBigUInt64BE(w,G){return B.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,w,G)}writeBigUInt64LE(w,G){return B.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,w,G)}insertBigUInt64LE(w,G){return B.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,w,G)}readFloatBE(w){return this._readNumberValue(Buffer.prototype.readFloatBE,4,w)}readFloatLE(w){return this._readNumberValue(Buffer.prototype.readFloatLE,4,w)}writeFloatBE(w,B){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,w,B)}insertFloatBE(w,B){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,w,B)}writeFloatLE(w,B){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,w,B)}insertFloatLE(w,B){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,w,B)}readDoubleBE(w){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,w)}readDoubleLE(w){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,w)}writeDoubleBE(w,B){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,w,B)}insertDoubleBE(w,B){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,w,B)}writeDoubleLE(w,B){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,w,B)}insertDoubleLE(w,B){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,w,B)}readString(w,G){let K;typeof w=="number"?(B.checkLengthValue(w),K=Math.min(w,this.length-this._readOffset)):(G=w,K=this.length-this._readOffset),typeof G!="undefined"&&B.checkEncoding(G);let pe=this._buff.slice(this._readOffset,this._readOffset+K).toString(G||this._encoding);return this._readOffset+=K,pe}insertString(w,G,K){return B.checkOffsetValue(G),this._handleString(w,!0,G,K)}writeString(w,B,G){return this._handleString(w,!1,B,G)}readStringNT(w){typeof w!="undefined"&&B.checkEncoding(w);let G=this.length;for(let w=this._readOffset;w<this.length;w++)if(this._buff[w]===0){G=w;break}let K=this._buff.slice(this._readOffset,G);return this._readOffset=G+1,K.toString(w||this._encoding)}insertStringNT(w,G,K){return B.checkOffsetValue(G),this.insertString(w,G,K),this.insertUInt8(0,G+w.length),this}writeStringNT(w,B,G){return this.writeString(w,B,G),this.writeUInt8(0,typeof B=="number"?B+w.length:this.writeOffset),this}readBuffer(w){typeof w!="undefined"&&B.checkLengthValue(w);let G=typeof w=="number"?w:this.length,K=Math.min(this.length,this._readOffset+G),pe=this._buff.slice(this._readOffset,K);return this._readOffset=K,pe}insertBuffer(w,G){return B.checkOffsetValue(G),this._handleBuffer(w,!0,G)}writeBuffer(w,B){return this._handleBuffer(w,!1,B)}readBufferNT(){let w=this.length;for(let B=this._readOffset;B<this.length;B++)if(this._buff[B]===0){w=B;break}let B=this._buff.slice(this._readOffset,w);return this._readOffset=w+1,B}insertBufferNT(w,G){return B.checkOffsetValue(G),this.insertBuffer(w,G),this.insertUInt8(0,G+w.length),this}writeBufferNT(w,G){return typeof G!="undefined"&&B.checkOffsetValue(G),this.writeBuffer(w,G),this.writeUInt8(0,typeof G=="number"?G+w.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(w){B.checkOffsetValue(w),B.checkTargetOffset(w,this),this._readOffset=w}get writeOffset(){return this._writeOffset}set writeOffset(w){B.checkOffsetValue(w),B.checkTargetOffset(w,this),this._writeOffset=w}get encoding(){return this._encoding}set encoding(w){B.checkEncoding(w),this._encoding=w}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(w){let G=typeof w=="string"?w:this._encoding;return B.checkEncoding(G),this._buff.toString(G,0,this.length)}destroy(){return this.clear(),this}_handleString(w,G,K,pe){let ye=this._writeOffset,Se=this._encoding;typeof K=="number"?ye=K:typeof K=="string"&&(B.checkEncoding(K),Se=K),typeof pe=="string"&&(B.checkEncoding(pe),Se=pe);let Be=Buffer.byteLength(w,Se);return G?this.ensureInsertable(Be,ye):this._ensureWriteable(Be,ye),this._buff.write(w,ye,Be,Se),G?this._writeOffset+=Be:typeof K=="number"?this._writeOffset=Math.max(this._writeOffset,ye+Be):this._writeOffset+=Be,this}_handleBuffer(w,B,G){let K=typeof G=="number"?G:this._writeOffset;return B?this.ensureInsertable(w.length,K):this._ensureWriteable(w.length,K),w.copy(this._buff,K),B?this._writeOffset+=w.length:typeof G=="number"?this._writeOffset=Math.max(this._writeOffset,K+w.length):this._writeOffset+=w.length,this}ensureReadable(w,G){let K=this._readOffset;if(typeof G!="undefined"&&(B.checkOffsetValue(G),K=G),K<0||K+w>this.length)throw new Error(B.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(w,G){B.checkOffsetValue(G),this._ensureCapacity(this.length+w),G<this.length&&this._buff.copy(this._buff,G+w,G,this._buff.length),G+w>this.length?this.length=G+w:this.length+=w}_ensureWriteable(w,B){let G=typeof B=="number"?B:this._writeOffset;this._ensureCapacity(G+w),G+w>this.length&&(this.length=G+w)}_ensureCapacity(w){let B=this._buff.length;if(w>B){let G=this._buff,K=B*3/2+1;K<w&&(K=w),this._buff=Buffer.allocUnsafe(K),G.copy(this._buff,0,0,B)}}_readNumberValue(w,B,G){this.ensureReadable(B,G);let K=w.call(this._buff,typeof G=="number"?G:this._readOffset);return typeof G=="undefined"&&(this._readOffset+=B),K}_insertNumberValue(w,G,K,pe){return B.checkOffsetValue(pe),this.ensureInsertable(G,pe),w.call(this._buff,K,pe),this._writeOffset+=G,this}_writeNumberValue(w,G,K,pe){if(typeof pe=="number"){if(pe<0)throw new Error(B.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);B.checkOffsetValue(pe)}let ye=typeof pe=="number"?pe:this._writeOffset;return this._ensureWriteable(G,ye),w.call(this._buff,K,ye),typeof pe=="number"?this._writeOffset=Math.max(this._writeOffset,ye+G):this._writeOffset+=G,this}};w.SmartBuffer=pe}));var Nn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.SOCKS5_NO_ACCEPTABLE_AUTH=w.SOCKS5_CUSTOM_AUTH_END=w.SOCKS5_CUSTOM_AUTH_START=w.SOCKS_INCOMING_PACKET_SIZES=w.SocksClientState=w.Socks5Response=w.Socks5HostType=w.Socks5Auth=w.Socks4Response=w.SocksCommand=w.ERRORS=w.DEFAULT_TIMEOUT=void 0;var B=3e4;w.DEFAULT_TIMEOUT=B;var G={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};w.ERRORS=G;var K={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:w=>w+7,Socks4Response:8};w.SOCKS_INCOMING_PACKET_SIZES=K;var pe;(function(w){w[w.connect=1]="connect",w[w.bind=2]="bind",w[w.associate=3]="associate"})(pe||(w.SocksCommand=pe={}));var ye;(function(w){w[w.Granted=90]="Granted",w[w.Failed=91]="Failed",w[w.Rejected=92]="Rejected",w[w.RejectedIdent=93]="RejectedIdent"})(ye||(w.Socks4Response=ye={}));var Se;(function(w){w[w.NoAuth=0]="NoAuth",w[w.GSSApi=1]="GSSApi",w[w.UserPass=2]="UserPass"})(Se||(w.Socks5Auth=Se={}));var Be=128;w.SOCKS5_CUSTOM_AUTH_START=Be;var Qe=254;w.SOCKS5_CUSTOM_AUTH_END=Qe;var Pe=255;w.SOCKS5_NO_ACCEPTABLE_AUTH=Pe;var Fe;(function(w){w[w.Granted=0]="Granted",w[w.Failure=1]="Failure",w[w.NotAllowed=2]="NotAllowed",w[w.NetworkUnreachable=3]="NetworkUnreachable",w[w.HostUnreachable=4]="HostUnreachable",w[w.ConnectionRefused=5]="ConnectionRefused",w[w.TTLExpired=6]="TTLExpired",w[w.CommandNotSupported=7]="CommandNotSupported",w[w.AddressNotSupported=8]="AddressNotSupported"})(Fe||(w.Socks5Response=Fe={}));var Me;(function(w){w[w.IPv4=1]="IPv4",w[w.Hostname=3]="Hostname",w[w.IPv6=4]="IPv6"})(Me||(w.Socks5HostType=Me={}));var Le;(function(w){w[w.Created=0]="Created",w[w.Connecting=1]="Connecting",w[w.Connected=2]="Connected",w[w.SentInitialHandshake=3]="SentInitialHandshake",w[w.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",w[w.SentAuthentication=5]="SentAuthentication",w[w.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",w[w.SentFinalHandshake=7]="SentFinalHandshake",w[w.ReceivedFinalResponse=8]="ReceivedFinalResponse",w[w.BoundWaitingForConnection=9]="BoundWaitingForConnection",w[w.Established=10]="Established",w[w.Disconnected=11]="Disconnected",w[w.Error=99]="Error"})(Le||(w.SocksClientState=Le={}))}));var Mn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.shuffleArray=w.SocksClientError=void 0;var B=class extends Error{constructor(w,B){super(w),this.options=B}};w.SocksClientError=B;function cS(w){for(let B=w.length-1;B>0;B--){let G=Math.floor(Math.random()*(B+1));[w[B],w[G]]=[w[G],w[B]]}}w.shuffleArray=cS}));var Ln=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.isCorrect=w.isInSubnet=void 0;function uS(w){return this.subnetMask<w.subnetMask?!1:this.mask(w.subnetMask)===w.mask()}w.isInSubnet=uS;function fS(w){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===w&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}w.isCorrect=fS}));var jn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.RE_SUBNET_STRING=w.RE_ADDRESS=w.GROUPS=w.BITS=void 0;w.BITS=32;w.GROUPS=4;w.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g;w.RE_SUBNET_STRING=/\/\d{1,2}$/}));var Hn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.AddressError=void 0;var B=class extends Error{constructor(w,B){super(w),this.name="AddressError",B!==null&&(this.parseMessage=B)}};w.AddressError=B}));var Un=_(((w,B)=>{(function(){var G,K=0xdeadbeefcafe,pe=(K&16777215)==15715070;function r(w,B,G){w!=null&&(typeof w=="number"?this.fromNumber(w,B,G):B==null&&typeof w!="string"?this.fromString(w,256):this.fromString(w,B))}function n(){return new r(null)}function s(w,B,G,K,pe,ye){for(;--ye>=0;){var Se=B*this[w++]+G[K]+pe;pe=Math.floor(Se/67108864),G[K++]=Se&67108863}return pe}function o(w,B,G,K,pe,ye){for(var Se=B&32767,Be=B>>15;--ye>=0;){var Qe=this[w]&32767,Pe=this[w++]>>15,Fe=Be*Qe+Pe*Se;Qe=Se*Qe+((Fe&32767)<<15)+G[K]+(pe&1073741823),pe=(Qe>>>30)+(Fe>>>15)+Be*Pe+(pe>>>30),G[K++]=Qe&1073741823}return pe}function a(w,B,G,K,pe,ye){for(var Se=B&16383,Be=B>>14;--ye>=0;){var Qe=this[w]&16383,Pe=this[w++]>>14,Fe=Be*Qe+Pe*Se;Qe=Se*Qe+((Fe&16383)<<14)+G[K]+pe,pe=(Qe>>28)+(Fe>>14)+Be*Pe,G[K++]=Qe&268435455}return pe}var ye=typeof navigator!="undefined";ye&&pe&&navigator.appName=="Microsoft Internet Explorer"?(r.prototype.am=o,G=30):ye&&pe&&navigator.appName!="Netscape"?(r.prototype.am=s,G=26):(r.prototype.am=a,G=28),r.prototype.DB=G,r.prototype.DM=(1<<G)-1,r.prototype.DV=1<<G;var Se=52;r.prototype.FV=Math.pow(2,Se),r.prototype.F1=Se-G,r.prototype.F2=2*G-Se;var Be="0123456789abcdefghijklmnopqrstuvwxyz",Qe=new Array,Pe,Fe;for(Pe=48,Fe=0;Fe<=9;++Fe)Qe[Pe++]=Fe;for(Pe=97,Fe=10;Fe<36;++Fe)Qe[Pe++]=Fe;for(Pe=65,Fe=10;Fe<36;++Fe)Qe[Pe++]=Fe;function g(w){return Be.charAt(w)}function y(w,B){var G=Qe[w.charCodeAt(B)];return G==null?-1:G}function b(w){for(var B=this.t-1;B>=0;--B)w[B]=this[B];w.t=this.t,w.s=this.s}function x(w){this.t=1,this.s=w<0?-1:0,w>0?this[0]=w:w<-1?this[0]=w+this.DV:this.t=0}function E(w){var B=n();return B.fromInt(w),B}function k(w,B){var G;if(B==16)G=4;else if(B==8)G=3;else if(B==256)G=8;else if(B==2)G=1;else if(B==32)G=5;else if(B==4)G=2;else{this.fromRadix(w,B);return}this.t=0,this.s=0;for(var K=w.length,pe=!1,ye=0;--K>=0;){var Se=G==8?w[K]&255:y(w,K);if(Se<0){w.charAt(K)=="-"&&(pe=!0);continue}pe=!1,ye==0?this[this.t++]=Se:ye+G>this.DB?(this[this.t-1]|=(Se&(1<<this.DB-ye)-1)<<ye,this[this.t++]=Se>>this.DB-ye):this[this.t-1]|=Se<<ye,ye+=G,ye>=this.DB&&(ye-=this.DB)}G==8&&(w[0]&128)!=0&&(this.s=-1,ye>0&&(this[this.t-1]|=(1<<this.DB-ye)-1<<ye)),this.clamp(),pe&&r.ZERO.subTo(this,this)}function O(){for(var w=this.s&this.DM;this.t>0&&this[this.t-1]==w;)--this.t}function S(w){if(this.s<0)return"-"+this.negate().toString(w);var B;if(w==16)B=4;else if(w==8)B=3;else if(w==2)B=1;else if(w==32)B=5;else if(w==4)B=2;else return this.toRadix(w);var G=(1<<B)-1,K,pe=!1,ye="",Se=this.t,Be=this.DB-Se*this.DB%B;if(Se-- >0)for(Be<this.DB&&(K=this[Se]>>Be)>0&&(pe=!0,ye=g(K));Se>=0;)Be<B?(K=(this[Se]&(1<<Be)-1)<<B-Be,K|=this[--Se]>>(Be+=this.DB-B)):(K=this[Se]>>(Be-=B)&G,Be<=0&&(Be+=this.DB,--Se)),K>0&&(pe=!0),pe&&(ye+=g(K));return pe?ye:"0"}function R(){var w=n();return r.ZERO.subTo(this,w),w}function T(){return this.s<0?this.negate():this}function A(w){var B=this.s-w.s;if(B!=0)return B;var G=this.t;if(B=G-w.t,B!=0)return this.s<0?-B:B;for(;--G>=0;)if((B=this[G]-w[G])!=0)return B;return 0}function C(w){var B=1,G;return(G=w>>>16)!=0&&(w=G,B+=16),(G=w>>8)!=0&&(w=G,B+=8),(G=w>>4)!=0&&(w=G,B+=4),(G=w>>2)!=0&&(w=G,B+=2),(G=w>>1)!=0&&(w=G,B+=1),B}function L(){return this.t<=0?0:this.DB*(this.t-1)+C(this[this.t-1]^this.s&this.DM)}function P(w,B){var G;for(G=this.t-1;G>=0;--G)B[G+w]=this[G];for(G=w-1;G>=0;--G)B[G]=0;B.t=this.t+w,B.s=this.s}function U(w,B){for(var G=w;G<this.t;++G)B[G-w]=this[G];B.t=Math.max(this.t-w,0),B.s=this.s}function F(w,B){var G=w%this.DB,K=this.DB-G,pe=(1<<K)-1,ye=Math.floor(w/this.DB),Se=this.s<<G&this.DM,Be;for(Be=this.t-1;Be>=0;--Be)B[Be+ye+1]=this[Be]>>K|Se,Se=(this[Be]&pe)<<G;for(Be=ye-1;Be>=0;--Be)B[Be]=0;B[ye]=Se,B.t=this.t+ye+1,B.s=this.s,B.clamp()}function H(w,B){B.s=this.s;var G=Math.floor(w/this.DB);if(G>=this.t){B.t=0;return}var K=w%this.DB,pe=this.DB-K,ye=(1<<K)-1;B[0]=this[G]>>K;for(var Se=G+1;Se<this.t;++Se)B[Se-G-1]|=(this[Se]&ye)<<pe,B[Se-G]=this[Se]>>K;K>0&&(B[this.t-G-1]|=(this.s&ye)<<pe),B.t=this.t-G,B.clamp()}function j(w,B){for(var G=0,K=0,pe=Math.min(w.t,this.t);G<pe;)K+=this[G]-w[G],B[G++]=K&this.DM,K>>=this.DB;if(w.t<this.t){for(K-=w.s;G<this.t;)K+=this[G],B[G++]=K&this.DM,K>>=this.DB;K+=this.s}else{for(K+=this.s;G<w.t;)K-=w[G],B[G++]=K&this.DM,K>>=this.DB;K-=w.s}B.s=K<0?-1:0,K<-1?B[G++]=this.DV+K:K>0&&(B[G++]=K),B.t=G,B.clamp()}function V(w,B){var G=this.abs(),K=w.abs(),pe=G.t;for(B.t=pe+K.t;--pe>=0;)B[pe]=0;for(pe=0;pe<K.t;++pe)B[pe+G.t]=G.am(0,K[pe],B,pe,0,G.t);B.s=0,B.clamp(),this.s!=w.s&&r.ZERO.subTo(B,B)}function Y(w){for(var B=this.abs(),G=w.t=2*B.t;--G>=0;)w[G]=0;for(G=0;G<B.t-1;++G){var K=B.am(G,B[G],w,2*G,0,1);(w[G+B.t]+=B.am(G+1,2*B[G],w,2*G+1,K,B.t-G-1))>=B.DV&&(w[G+B.t]-=B.DV,w[G+B.t+1]=1)}w.t>0&&(w[w.t-1]+=B.am(G,B[G],w,2*G,0,1)),w.s=0,w.clamp()}function Q(w,B,G){var K=w.abs();if(!(K.t<=0)){var pe=this.abs();if(pe.t<K.t){B!=null&&B.fromInt(0),G!=null&&this.copyTo(G);return}G==null&&(G=n());var ye=n(),Se=this.s,Be=w.s,Qe=this.DB-C(K[K.t-1]);Qe>0?(K.lShiftTo(Qe,ye),pe.lShiftTo(Qe,G)):(K.copyTo(ye),pe.copyTo(G));var Pe=ye.t,Fe=ye[Pe-1];if(Fe!=0){var Me=Fe*(1<<this.F1)+(Pe>1?ye[Pe-2]>>this.F2:0),Le=this.FV/Me,je=(1<<this.F1)/Me,qe=1<<this.F2,We=G.t,Ge=We-Pe,ze=B==null?n():B;for(ye.dlShiftTo(Ge,ze),G.compareTo(ze)>=0&&(G[G.t++]=1,G.subTo(ze,G)),r.ONE.dlShiftTo(Pe,ze),ze.subTo(ye,ye);ye.t<Pe;)ye[ye.t++]=0;for(;--Ge>=0;){var Ye=G[--We]==Fe?this.DM:Math.floor(G[We]*Le+(G[We-1]+qe)*je);if((G[We]+=ye.am(0,Ye,G,Ge,0,Pe))<Ye)for(ye.dlShiftTo(Ge,ze),G.subTo(ze,G);G[We]<--Ye;)G.subTo(ze,G)}B!=null&&(G.drShiftTo(Pe,B),Se!=Be&&r.ZERO.subTo(B,B)),G.t=Pe,G.clamp(),Qe>0&&G.rShiftTo(Qe,G),Se<0&&r.ZERO.subTo(G,G)}}}function W(w){var B=n();return this.abs().divRemTo(w,null,B),this.s<0&&B.compareTo(r.ZERO)>0&&w.subTo(B,B),B}function de(w){this.m=w}function ae(w){return w.s<0||w.compareTo(this.m)>=0?w.mod(this.m):w}function ne(w){return w}function ue(w){w.divRemTo(this.m,null,w)}function N(w,B,G){w.multiplyTo(B,G),this.reduce(G)}function X(w,B){w.squareTo(B),this.reduce(B)}de.prototype.convert=ae,de.prototype.revert=ne,de.prototype.reduce=ue,de.prototype.mulTo=N,de.prototype.sqrTo=X;function ke(){if(this.t<1)return 0;var w=this[0];if((w&1)==0)return 0;var B=w&3;return B=B*(2-(w&15)*B)&15,B=B*(2-(w&255)*B)&255,B=B*(2-((w&65535)*B&65535))&65535,B=B*(2-w*B%this.DV)%this.DV,B>0?this.DV-B:-B}function be(w){this.m=w,this.mp=w.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<w.DB-15)-1,this.mt2=2*w.t}function ge(w){var B=n();return w.abs().dlShiftTo(this.m.t,B),B.divRemTo(this.m,null,B),w.s<0&&B.compareTo(r.ZERO)>0&&this.m.subTo(B,B),B}function ve(w){var B=n();return w.copyTo(B),this.reduce(B),B}function fe(w){for(;w.t<=this.mt2;)w[w.t++]=0;for(var B=0;B<this.m.t;++B){var G=w[B]&32767,K=G*this.mpl+((G*this.mph+(w[B]>>15)*this.mpl&this.um)<<15)&w.DM;for(G=B+this.m.t,w[G]+=this.m.am(0,K,w,B,0,this.m.t);w[G]>=w.DV;)w[G]-=w.DV,w[++G]++}w.clamp(),w.drShiftTo(this.m.t,w),w.compareTo(this.m)>=0&&w.subTo(this.m,w)}function z(w,B){w.squareTo(B),this.reduce(B)}function $(w,B,G){w.multiplyTo(B,G),this.reduce(G)}be.prototype.convert=ge,be.prototype.revert=ve,be.prototype.reduce=fe,be.prototype.mulTo=$,be.prototype.sqrTo=z;function Te(){return(this.t>0?this[0]&1:this.s)==0}function re(w,B){if(w>4294967295||w<1)return r.ONE;var G=n(),K=n(),pe=B.convert(this),ye=C(w)-1;for(pe.copyTo(G);--ye>=0;)if(B.sqrTo(G,K),(w&1<<ye)>0)B.mulTo(K,pe,G);else{var Se=G;G=K,K=Se}return B.revert(G)}function he(w,B){var G;return w<256||B.isEven()?G=new de(B):G=new be(B),this.exp(w,G)}r.prototype.copyTo=b,r.prototype.fromInt=x,r.prototype.fromString=k,r.prototype.clamp=O,r.prototype.dlShiftTo=P,r.prototype.drShiftTo=U,r.prototype.lShiftTo=F,r.prototype.rShiftTo=H,r.prototype.subTo=j,r.prototype.multiplyTo=V,r.prototype.squareTo=Y,r.prototype.divRemTo=Q,r.prototype.invDigit=ke,r.prototype.isEven=Te,r.prototype.exp=re,r.prototype.toString=S,r.prototype.negate=R,r.prototype.abs=T,r.prototype.compareTo=A,r.prototype.bitLength=L,r.prototype.mod=W,r.prototype.modPowInt=he,r.ZERO=E(0),r.ONE=E(1);function ht(){var w=n();return this.copyTo(w),w}function yt(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function I(){return this.t==0?this.s:this[0]<<24>>24}function Z(){return this.t==0?this.s:this[0]<<16>>16}function te(w){return Math.floor(Math.LN2*this.DB/Math.log(w))}function ee(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function le(w){if(w==null&&(w=10),this.signum()==0||w<2||w>36)return"0";var B=this.chunkSize(w),G=Math.pow(w,B),K=E(G),pe=n(),ye=n(),Se="";for(this.divRemTo(K,pe,ye);pe.signum()>0;)Se=(G+ye.intValue()).toString(w).substr(1)+Se,pe.divRemTo(K,pe,ye);return ye.intValue().toString(w)+Se}function ce(w,B){this.fromInt(0),B==null&&(B=10);for(var G=this.chunkSize(B),K=Math.pow(B,G),pe=!1,ye=0,Se=0,Be=0;Be<w.length;++Be){var Qe=y(w,Be);if(Qe<0){w.charAt(Be)=="-"&&this.signum()==0&&(pe=!0);continue}Se=B*Se+Qe,++ye>=G&&(this.dMultiply(K),this.dAddOffset(Se,0),ye=0,Se=0)}ye>0&&(this.dMultiply(Math.pow(B,ye)),this.dAddOffset(Se,0)),pe&&r.ZERO.subTo(this,this)}function _e(w,B,G){if(typeof B=="number")if(w<2)this.fromInt(1);else for(this.fromNumber(w,G),this.testBit(w-1)||this.bitwiseTo(r.ONE.shiftLeft(w-1),oe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(B);)this.dAddOffset(2,0),this.bitLength()>w&&this.subTo(r.ONE.shiftLeft(w-1),this);else{var K=new Array,pe=w&7;K.length=(w>>3)+1,B.nextBytes(K),pe>0?K[0]&=(1<<pe)-1:K[0]=0,this.fromString(K,256)}}function we(){var w=this.t,B=new Array;B[0]=this.s;var G=this.DB-w*this.DB%8,K,pe=0;if(w-- >0)for(G<this.DB&&(K=this[w]>>G)!=(this.s&this.DM)>>G&&(B[pe++]=K|this.s<<this.DB-G);w>=0;)G<8?(K=(this[w]&(1<<G)-1)<<8-G,K|=this[--w]>>(G+=this.DB-8)):(K=this[w]>>(G-=8)&255,G<=0&&(G+=this.DB,--w)),(K&128)!=0&&(K|=-256),pe==0&&(this.s&128)!=(K&128)&&++pe,(pe>0||K!=this.s)&&(B[pe++]=K);return B}function Re(w){return this.compareTo(w)==0}function Ae(w){return this.compareTo(w)<0?this:w}function q(w){return this.compareTo(w)>0?this:w}function J(w,B,G){var K,pe,ye=Math.min(w.t,this.t);for(K=0;K<ye;++K)G[K]=B(this[K],w[K]);if(w.t<this.t){for(pe=w.s&this.DM,K=ye;K<this.t;++K)G[K]=B(this[K],pe);G.t=this.t}else{for(pe=this.s&this.DM,K=ye;K<w.t;++K)G[K]=B(pe,w[K]);G.t=w.t}G.s=B(this.s,w.s),G.clamp()}function se(w,B){return w&B}function Ne(w){var B=n();return this.bitwiseTo(w,se,B),B}function oe(w,B){return w|B}function me(w){var B=n();return this.bitwiseTo(w,oe,B),B}function Ee(w,B){return w^B}function ie(w){var B=n();return this.bitwiseTo(w,Ee,B),B}function xe(w,B){return w&~B}function Ue(w){var B=n();return this.bitwiseTo(w,xe,B),B}function Ie(){for(var w=n(),B=0;B<this.t;++B)w[B]=this.DM&~this[B];return w.t=this.t,w.s=~this.s,w}function pt(w){var B=n();return w<0?this.rShiftTo(-w,B):this.lShiftTo(w,B),B}function Ot(w){var B=n();return w<0?this.lShiftTo(-w,B):this.rShiftTo(w,B),B}function Xt(w){if(w==0)return-1;var B=0;return(w&65535)==0&&(w>>=16,B+=16),(w&255)==0&&(w>>=8,B+=8),(w&15)==0&&(w>>=4,B+=4),(w&3)==0&&(w>>=2,B+=2),(w&1)==0&&++B,B}function hi(){for(var w=0;w<this.t;++w)if(this[w]!=0)return w*this.DB+Xt(this[w]);return this.s<0?this.t*this.DB:-1}function pi(w){for(var B=0;w!=0;)w&=w-1,++B;return B}function Bi(){for(var w=0,B=this.s&this.DM,G=0;G<this.t;++G)w+=pi(this[G]^B);return w}function Ri(w){var B=Math.floor(w/this.DB);return B>=this.t?this.s!=0:(this[B]&1<<w%this.DB)!=0}function hr(w,B){var G=r.ONE.shiftLeft(w);return this.bitwiseTo(G,B,G),G}function Pi(w){return this.changeBit(w,oe)}function Mi(w){return this.changeBit(w,xe)}function Di(w){return this.changeBit(w,Ee)}function Fi(w,B){for(var G=0,K=0,pe=Math.min(w.t,this.t);G<pe;)K+=this[G]+w[G],B[G++]=K&this.DM,K>>=this.DB;if(w.t<this.t){for(K+=w.s;G<this.t;)K+=this[G],B[G++]=K&this.DM,K>>=this.DB;K+=this.s}else{for(K+=this.s;G<w.t;)K+=w[G],B[G++]=K&this.DM,K>>=this.DB;K+=w.s}B.s=K<0?-1:0,K>0?B[G++]=K:K<-1&&(B[G++]=this.DV+K),B.t=G,B.clamp()}function es(w){var B=n();return this.addTo(w,B),B}function Xr(w){var B=n();return this.subTo(w,B),B}function ts(w){var B=n();return this.multiplyTo(w,B),B}function is(){var w=n();return this.squareTo(w),w}function rs(w){var B=n();return this.divRemTo(w,B,null),B}function ns(w){var B=n();return this.divRemTo(w,null,B),B}function ss(w){var B=n(),G=n();return this.divRemTo(w,B,G),new Array(B,G)}function ya(w){this[this.t]=this.am(0,w-1,this,0,0,this.t),++this.t,this.clamp()}function qi(w,B){if(w!=0){for(;this.t<=B;)this[this.t++]=0;for(this[B]+=w;this[B]>=this.DV;)this[B]-=this.DV,++B>=this.t&&(this[this.t++]=0),++this[B]}}function ei(){}function ji(w){return w}function pr(w,B,G){w.multiplyTo(B,G)}function os(w,B){w.squareTo(B)}ei.prototype.convert=ji,ei.prototype.revert=ji,ei.prototype.mulTo=pr,ei.prototype.sqrTo=os;function as(w){return this.exp(w,new ei)}function ls(w,B,G){var K=Math.min(this.t+w.t,B);for(G.s=0,G.t=K;K>0;)G[--K]=0;var pe;for(pe=G.t-this.t;K<pe;++K)G[K+this.t]=this.am(0,w[K],G,K,0,this.t);for(pe=Math.min(w.t,B);K<pe;++K)this.am(0,w[K],G,K,0,B-K);G.clamp()}function cs(w,B,G){--B;var K=G.t=this.t+w.t-B;for(G.s=0;--K>=0;)G[K]=0;for(K=Math.max(B-this.t,0);K<w.t;++K)G[this.t+K-B]=this.am(B-K,w[K],G,0,0,this.t+K-B);G.clamp(),G.drShiftTo(1,G)}function Vt(w){this.r2=n(),this.q3=n(),r.ONE.dlShiftTo(2*w.t,this.r2),this.mu=this.r2.divide(w),this.m=w}function us(w){if(w.s<0||w.t>2*this.m.t)return w.mod(this.m);if(w.compareTo(this.m)<0)return w;var B=n();return w.copyTo(B),this.reduce(B),B}function fs(w){return w}function dr(w){for(w.drShiftTo(this.m.t-1,this.r2),w.t>this.m.t+1&&(w.t=this.m.t+1,w.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);w.compareTo(this.r2)<0;)w.dAddOffset(1,this.m.t+1);for(w.subTo(this.r2,w);w.compareTo(this.m)>=0;)w.subTo(this.m,w)}function Tb(w,B){w.squareTo(B),this.reduce(B)}function Ab(w,B,G){w.multiplyTo(B,G),this.reduce(G)}Vt.prototype.convert=us,Vt.prototype.revert=fs,Vt.prototype.reduce=dr,Vt.prototype.mulTo=Ab,Vt.prototype.sqrTo=Tb;function Ib(w,B){var G=w.bitLength(),K,pe=E(1),ye;if(G<=0)return pe;G<18?K=1:G<48?K=3:G<144?K=4:G<768?K=5:K=6,G<8?ye=new de(B):B.isEven()?ye=new Vt(B):ye=new be(B);var Se=new Array,Be=3,Qe=K-1,Pe=(1<<K)-1;if(Se[1]=ye.convert(this),K>1){var Fe=n();for(ye.sqrTo(Se[1],Fe);Be<=Pe;)Se[Be]=n(),ye.mulTo(Fe,Se[Be-2],Se[Be]),Be+=2}var Me=w.t-1,Le,je=!0,qe=n(),We;for(G=C(w[Me])-1;Me>=0;){for(G>=Qe?Le=w[Me]>>G-Qe&Pe:(Le=(w[Me]&(1<<G+1)-1)<<Qe-G,Me>0&&(Le|=w[Me-1]>>this.DB+G-Qe)),Be=K;(Le&1)==0;)Le>>=1,--Be;if((G-=Be)<0&&(G+=this.DB,--Me),je)Se[Le].copyTo(pe),je=!1;else{for(;Be>1;)ye.sqrTo(pe,qe),ye.sqrTo(qe,pe),Be-=2;Be>0?ye.sqrTo(pe,qe):(We=pe,pe=qe,qe=We),ye.mulTo(qe,Se[Le],pe)}for(;Me>=0&&(w[Me]&1<<G)==0;)ye.sqrTo(pe,qe),We=pe,pe=qe,qe=We,--G<0&&(G=this.DB-1,--Me)}return ye.revert(pe)}function Nb(w){var B=this.s<0?this.negate():this.clone(),G=w.s<0?w.negate():w.clone();if(B.compareTo(G)<0){var K=B;B=G,G=K}var pe=B.getLowestSetBit(),ye=G.getLowestSetBit();if(ye<0)return B;for(pe<ye&&(ye=pe),ye>0&&(B.rShiftTo(ye,B),G.rShiftTo(ye,G));B.signum()>0;)(pe=B.getLowestSetBit())>0&&B.rShiftTo(pe,B),(pe=G.getLowestSetBit())>0&&G.rShiftTo(pe,G),B.compareTo(G)>=0?(B.subTo(G,B),B.rShiftTo(1,B)):(G.subTo(B,G),G.rShiftTo(1,G));return ye>0&&G.lShiftTo(ye,G),G}function Lb(w){if(w<=0)return 0;var B=this.DV%w,G=this.s<0?w-1:0;if(this.t>0)if(B==0)G=this[0]%w;else for(var K=this.t-1;K>=0;--K)G=(B*G+this[K])%w;return G}function Bb(w){var B=w.isEven();if(this.isEven()&&B||w.signum()==0)return r.ZERO;for(var G=w.clone(),K=this.clone(),pe=E(1),ye=E(0),Se=E(0),Be=E(1);G.signum()!=0;){for(;G.isEven();)G.rShiftTo(1,G),B?((!pe.isEven()||!ye.isEven())&&(pe.addTo(this,pe),ye.subTo(w,ye)),pe.rShiftTo(1,pe)):ye.isEven()||ye.subTo(w,ye),ye.rShiftTo(1,ye);for(;K.isEven();)K.rShiftTo(1,K),B?((!Se.isEven()||!Be.isEven())&&(Se.addTo(this,Se),Be.subTo(w,Be)),Se.rShiftTo(1,Se)):Be.isEven()||Be.subTo(w,Be),Be.rShiftTo(1,Be);G.compareTo(K)>=0?(G.subTo(K,G),B&&pe.subTo(Se,pe),ye.subTo(Be,ye)):(K.subTo(G,K),B&&Se.subTo(pe,Se),Be.subTo(ye,Be))}if(K.compareTo(r.ONE)!=0)return r.ZERO;if(Be.compareTo(w)>=0)return Be.subtract(w);if(Be.signum()<0)Be.addTo(w,Be);else return Be;return Be.signum()<0?Be.add(w):Be}var Me=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Le=(1<<26)/Me[Me.length-1];function Pb(w){var B,G=this.abs();if(G.t==1&&G[0]<=Me[Me.length-1]){for(B=0;B<Me.length;++B)if(G[0]==Me[B])return!0;return!1}if(G.isEven())return!1;for(B=1;B<Me.length;){for(var K=Me[B],pe=B+1;pe<Me.length&&K<Le;)K*=Me[pe++];for(K=G.modInt(K);B<pe;)if(K%Me[B++]==0)return!1}return G.millerRabin(w)}function Mb(w){var B=this.subtract(r.ONE),G=B.getLowestSetBit();if(G<=0)return!1;var K=B.shiftRight(G);w=w+1>>1,w>Me.length&&(w=Me.length);for(var pe=n(),ye=0;ye<w;++ye){pe.fromInt(Me[Math.floor(Math.random()*Me.length)]);var Se=pe.modPow(K,this);if(Se.compareTo(r.ONE)!=0&&Se.compareTo(B)!=0){for(var Be=1;Be++<G&&Se.compareTo(B)!=0;)if(Se=Se.modPowInt(2,this),Se.compareTo(r.ONE)==0)return!1;if(Se.compareTo(B)!=0)return!1}}return!0}r.prototype.chunkSize=te,r.prototype.toRadix=le,r.prototype.fromRadix=ce,r.prototype.fromNumber=_e,r.prototype.bitwiseTo=J,r.prototype.changeBit=hr,r.prototype.addTo=Fi,r.prototype.dMultiply=ya,r.prototype.dAddOffset=qi,r.prototype.multiplyLowerTo=ls,r.prototype.multiplyUpperTo=cs,r.prototype.modInt=Lb,r.prototype.millerRabin=Mb,r.prototype.clone=ht,r.prototype.intValue=yt,r.prototype.byteValue=I,r.prototype.shortValue=Z,r.prototype.signum=ee,r.prototype.toByteArray=we,r.prototype.equals=Re,r.prototype.min=Ae,r.prototype.max=q,r.prototype.and=Ne,r.prototype.or=me,r.prototype.xor=ie,r.prototype.andNot=Ue,r.prototype.not=Ie,r.prototype.shiftLeft=pt,r.prototype.shiftRight=Ot,r.prototype.getLowestSetBit=hi,r.prototype.bitCount=Bi,r.prototype.testBit=Ri,r.prototype.setBit=Pi,r.prototype.clearBit=Mi,r.prototype.flipBit=Di,r.prototype.add=es,r.prototype.subtract=Xr,r.prototype.multiply=ts,r.prototype.divide=rs,r.prototype.remainder=ns,r.prototype.divideAndRemainder=ss,r.prototype.modPow=Ib,r.prototype.modInverse=Bb,r.prototype.pow=as,r.prototype.gcd=Nb,r.prototype.isProbablePrime=Pb,r.prototype.square=is,r.prototype.Barrett=Vt;var je,qe,We;function Db(w){qe[We++]^=w&255,qe[We++]^=w>>8&255,qe[We++]^=w>>16&255,qe[We++]^=w>>24&255,We>=Ke&&(We-=Ke)}function Of(){Db((new Date).getTime())}if(qe==null){qe=new Array,We=0;var Ge;if(typeof window!="undefined"&&window.crypto){if(window.crypto.getRandomValues){var ze=new Uint8Array(32);for(window.crypto.getRandomValues(ze),Ge=0;Ge<32;++Ge)qe[We++]=ze[Ge]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var Ye=window.crypto.random(32);for(Ge=0;Ge<Ye.length;++Ge)qe[We++]=Ye.charCodeAt(Ge)&255}}for(;We<Ke;)Ge=Math.floor(65536*Math.random()),qe[We++]=Ge>>>8,qe[We++]=Ge&255;We=0,Of()}function Fb(){if(je==null){for(Of(),je=$b(),je.init(qe),We=0;We<qe.length;++We)qe[We]=0;We=0}return je.next()}function qb(w){var B;for(B=0;B<w.length;++B)w[B]=Fb()}function ba(){}ba.prototype.nextBytes=qb;function _a(){this.i=0,this.j=0,this.S=new Array}function jb(w){var B,G,K;for(B=0;B<256;++B)this.S[B]=B;for(G=0,B=0;B<256;++B)G=G+this.S[B]+w[B%w.length]&255,K=this.S[B],this.S[B]=this.S[G],this.S[G]=K;this.i=0,this.j=0}function Ub(){var w;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,w=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=w,this.S[w+this.S[this.i]&255]}_a.prototype.init=jb,_a.prototype.next=Ub;function $b(){return new _a}var Ke=256;typeof w!="undefined"?w=B.exports={default:r,BigInteger:r,SecureRandom:ba}:this.jsbn={BigInteger:r,SecureRandom:ba}}).call(w)}));var Wn=_((w=>{(function(){"use strict";var B={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(w){return r(s(w),arguments)}function t(w,B){return e.apply(null,[w].concat(B||[]))}function r(w,G){var K=1,pe=w.length,ye,Se="",Be,Qe,Pe,Fe,Me,Le,je,qe;for(Be=0;Be<pe;Be++)if(typeof w[Be]=="string")Se+=w[Be];else if(typeof w[Be]=="object"){if(Pe=w[Be],Pe.keys)for(ye=G[K],Qe=0;Qe<Pe.keys.length;Qe++){if(ye==null)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',Pe.keys[Qe],Pe.keys[Qe-1]));ye=ye[Pe.keys[Qe]]}else Pe.param_no?ye=G[Pe.param_no]:ye=G[K++];if(B.not_type.test(Pe.type)&&B.not_primitive.test(Pe.type)&&ye instanceof Function&&(ye=ye()),B.numeric_arg.test(Pe.type)&&typeof ye!="number"&&isNaN(ye))throw new TypeError(e("[sprintf] expecting number but found %T",ye));switch(B.number.test(Pe.type)&&(je=ye>=0),Pe.type){case"b":ye=parseInt(ye,10).toString(2);break;case"c":ye=String.fromCharCode(parseInt(ye,10));break;case"d":case"i":ye=parseInt(ye,10);break;case"j":ye=JSON.stringify(ye,null,Pe.width?parseInt(Pe.width):0);break;case"e":ye=Pe.precision?parseFloat(ye).toExponential(Pe.precision):parseFloat(ye).toExponential();break;case"f":ye=Pe.precision?parseFloat(ye).toFixed(Pe.precision):parseFloat(ye);break;case"g":ye=Pe.precision?String(Number(ye.toPrecision(Pe.precision))):parseFloat(ye);break;case"o":ye=(parseInt(ye,10)>>>0).toString(8);break;case"s":ye=String(ye),ye=Pe.precision?ye.substring(0,Pe.precision):ye;break;case"t":ye=String(!!ye),ye=Pe.precision?ye.substring(0,Pe.precision):ye;break;case"T":ye=Object.prototype.toString.call(ye).slice(8,-1).toLowerCase(),ye=Pe.precision?ye.substring(0,Pe.precision):ye;break;case"u":ye=parseInt(ye,10)>>>0;break;case"v":ye=ye.valueOf(),ye=Pe.precision?ye.substring(0,Pe.precision):ye;break;case"x":ye=(parseInt(ye,10)>>>0).toString(16);break;case"X":ye=(parseInt(ye,10)>>>0).toString(16).toUpperCase();break}B.json.test(Pe.type)?Se+=ye:(B.number.test(Pe.type)&&(!je||Pe.sign)?(qe=je?"+":"-",ye=ye.toString().replace(B.sign,"")):qe="",Me=Pe.pad_char?Pe.pad_char==="0"?"0":Pe.pad_char.charAt(1):" ",Le=Pe.width-(qe+ye).length,Fe=Pe.width&&Le>0?Me.repeat(Le):"",Se+=Pe.align?qe+ye+Fe:Me==="0"?qe+Fe+ye:Fe+qe+ye)}return Se}var G=Object.create(null);function s(w){if(G[w])return G[w];for(var K=w,pe,ye=[],Se=0;K;){if((pe=B.text.exec(K))!==null)ye.push(pe[0]);else if((pe=B.modulo.exec(K))!==null)ye.push("%");else if((pe=B.placeholder.exec(K))!==null){if(pe[2]){Se|=1;var Be=[],Qe=pe[2],Pe=[];if((Pe=B.key.exec(Qe))!==null)for(Be.push(Pe[1]);(Qe=Qe.substring(Pe[0].length))!=="";)if((Pe=B.key_access.exec(Qe))!==null)Be.push(Pe[1]);else if((Pe=B.index_access.exec(Qe))!==null)Be.push(Pe[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");pe[2]=Be}else Se|=2;if(Se===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");ye.push({placeholder:pe[0],param_no:pe[1],keys:pe[2],sign:pe[3],pad_char:pe[4],align:pe[5],width:pe[6],precision:pe[7],type:pe[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");K=K.substring(pe[0].length)}return G[w]=ye}typeof w!="undefined"&&(w.sprintf=e,w.vsprintf=t),typeof window!="undefined"&&(window.sprintf=e,window.vsprintf=t,typeof define=="function"&&define.amd&&define((function(){return{sprintf:e,vsprintf:t}})))})()}));var Vn=_((w=>{"use strict";var B=w&&w.__createBinding||(Object.create?function(w,B,G,K){K===void 0&&(K=G);var pe=Object.getOwnPropertyDescriptor(B,G);(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable))&&(pe={enumerable:!0,get:function(){return B[G]}}),Object.defineProperty(w,K,pe)}:function(w,B,G,K){K===void 0&&(K=G),w[K]=B[G]}),G=w&&w.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:!0,value:B})}:function(w,B){w.default=B}),K=w&&w.__importStar||function(w){if(w&&w.__esModule)return w;var K={};if(w!=null)for(var pe in w)pe!=="default"&&Object.prototype.hasOwnProperty.call(w,pe)&&B(K,w,pe);return G(K,w),K};Object.defineProperty(w,"__esModule",{value:!0});w.Address4=void 0;var pe=K(Ln()),ye=K(jn()),Se=Hn(),Be=Un(),Qe=Wn(),Pe=class i{constructor(w){this.groups=ye.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=pe.isCorrect(ye.BITS),this.isInSubnet=pe.isInSubnet,this.address=w;let B=ye.RE_SUBNET_STRING.exec(w);if(B){if(this.parsedSubnet=B[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>ye.BITS)throw new Se.AddressError("Invalid subnet mask.");w=w.replace(ye.RE_SUBNET_STRING,"")}this.addressMinusSuffix=w,this.parsedAddress=this.parse(w)}static isValid(w){try{return new i(w),!0}catch{return!1}}parse(w){let B=w.split(".");if(!w.match(ye.RE_ADDRESS))throw new Se.AddressError("Invalid IPv4 address.");return B}correctForm(){return this.parsedAddress.map((w=>parseInt(w,10))).join(".")}static fromHex(w){let B=w.replace(/:/g,"").padStart(8,"0"),G=[],K;for(K=0;K<8;K+=2){let w=B.slice(K,K+2);G.push(parseInt(w,16))}return new i(G.join("."))}static fromInteger(w){return i.fromHex(w.toString(16))}static fromArpa(w){let B=w.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join(".");return new i(B)}toHex(){return this.parsedAddress.map((w=>(0,Qe.sprintf)("%02x",parseInt(w,10)))).join(":")}toArray(){return this.parsedAddress.map((w=>parseInt(w,10)))}toGroup6(){let w=[],B;for(B=0;B<ye.GROUPS;B+=2){let G=(0,Qe.sprintf)("%02x%02x",parseInt(this.parsedAddress[B],10),parseInt(this.parsedAddress[B+1],10));w.push((0,Qe.sprintf)("%x",parseInt(G,16)))}return w.join(":")}bigInteger(){return new Be.BigInteger(this.parsedAddress.map((w=>(0,Qe.sprintf)("%02x",parseInt(w,10)))).join(""),16)}_startAddress(){return new Be.BigInteger(this.mask()+"0".repeat(ye.BITS-this.subnetMask),2)}startAddress(){return i.fromBigInteger(this._startAddress())}startAddressExclusive(){let w=new Be.BigInteger("1");return i.fromBigInteger(this._startAddress().add(w))}_endAddress(){return new Be.BigInteger(this.mask()+"1".repeat(ye.BITS-this.subnetMask),2)}endAddress(){return i.fromBigInteger(this._endAddress())}endAddressExclusive(){let w=new Be.BigInteger("1");return i.fromBigInteger(this._endAddress().subtract(w))}static fromBigInteger(w){return i.fromInteger(parseInt(w.toString(),10))}mask(w){return w===void 0&&(w=this.subnetMask),this.getBitsBase2(0,w)}getBitsBase2(w,B){return this.binaryZeroPad().slice(w,B)}reverseForm(w){w||(w={});let B=this.correctForm().split(".").reverse().join(".");return w.omitSuffix?B:(0,Qe.sprintf)("%s.in-addr.arpa.",B)}isMulticast(){return this.isInSubnet(new i("224.0.0.0/4"))}binaryZeroPad(){return this.bigInteger().toString(2).padStart(ye.BITS,"0")}groupForV6(){let w=this.parsedAddress;return this.address.replace(ye.RE_ADDRESS,(0,Qe.sprintf)('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',w.slice(0,2).join("."),w.slice(2,4).join(".")))}};w.Address4=Pe}));var Gn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.RE_URL_WITH_PORT=w.RE_URL=w.RE_ZONE_STRING=w.RE_SUBNET_STRING=w.RE_BAD_ADDRESS=w.RE_BAD_CHARACTERS=w.TYPES=w.SCOPES=w.GROUPS=w.BITS=void 0;w.BITS=128;w.GROUPS=8;w.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"};w.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"};w.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi;w.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi;w.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/;w.RE_ZONE_STRING=/%.*$/;w.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/);w.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)}));var zn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.simpleGroup=w.spanLeadingZeroes=w.spanAll=w.spanAllZeroes=void 0;var B=Wn();function Am(w){return w.replace(/(0+)/g,'<span class="zero">$1</span>')}w.spanAllZeroes=Am;function dS(w,G=0){return w.split("").map(((w,K)=>(0,B.sprintf)('<span class="digit value-%s position-%d">%s</span>',w,K+G,Am(w)))).join("")}w.spanAll=dS;function Im(w){return w.replace(/^(0+)/,'<span class="zero">$1</span>')}function mS(w){return w.split(":").map((w=>Im(w))).join(":")}w.spanLeadingZeroes=mS;function gS(w,G=0){return w.split(":").map(((w,K)=>/group-v4/.test(w)?w:(0,B.sprintf)('<span class="hover-group group-%d">%s</span>',K+G,Im(w))))}w.simpleGroup=gS}));var $n=_((w=>{"use strict";var B=w&&w.__createBinding||(Object.create?function(w,B,G,K){K===void 0&&(K=G);var pe=Object.getOwnPropertyDescriptor(B,G);(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable))&&(pe={enumerable:!0,get:function(){return B[G]}}),Object.defineProperty(w,K,pe)}:function(w,B,G,K){K===void 0&&(K=G),w[K]=B[G]}),G=w&&w.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:!0,value:B})}:function(w,B){w.default=B}),K=w&&w.__importStar||function(w){if(w&&w.__esModule)return w;var K={};if(w!=null)for(var pe in w)pe!=="default"&&Object.prototype.hasOwnProperty.call(w,pe)&&B(K,w,pe);return G(K,w),K};Object.defineProperty(w,"__esModule",{value:!0});w.possibleElisions=w.simpleRegularExpression=w.ADDRESS_BOUNDARY=w.padGroup=w.groupPossibilities=void 0;var pe=K(Gn()),ye=Wn();function Ws(w){return(0,ye.sprintf)("(%s)",w.join("|"))}w.groupPossibilities=Ws;function Gs(w){return w.length<4?(0,ye.sprintf)("0{0,%d}%s",4-w.length,w):w}w.padGroup=Gs;w.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function wS(w){let B=[];w.forEach(((w,G)=>{parseInt(w,16)===0&&B.push(G)}));let G=B.map((B=>w.map(((w,G)=>{if(G===B){let B=G===0||G===pe.GROUPS-1?":":"";return Ws([Gs(w),B])}return Gs(w)})).join(":")));return G.push(w.map(Gs).join(":")),Ws(G)}w.simpleRegularExpression=wS;function xS(w,B,G){let K=B?"":":",pe=G?"":":",Se=[];!B&&!G&&Se.push("::"),B&&G&&Se.push(""),(G&&!B||!G&&B)&&Se.push(":"),Se.push((0,ye.sprintf)("%s(:0{1,4}){1,%d}",K,w-1)),Se.push((0,ye.sprintf)("(0{1,4}:){1,%d}%s",w-1,pe)),Se.push((0,ye.sprintf)("(0{1,4}:){%d}0{1,4}",w-1));for(let B=1;B<w-1;B++)for(let G=1;G<w-B;G++)Se.push((0,ye.sprintf)("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",G,w-G-B-1));return Ws(Se)}w.possibleElisions=xS}));var Jn=_((w=>{"use strict";var B=w&&w.__createBinding||(Object.create?function(w,B,G,K){K===void 0&&(K=G);var pe=Object.getOwnPropertyDescriptor(B,G);(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable))&&(pe={enumerable:!0,get:function(){return B[G]}}),Object.defineProperty(w,K,pe)}:function(w,B,G,K){K===void 0&&(K=G),w[K]=B[G]}),G=w&&w.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:!0,value:B})}:function(w,B){w.default=B}),K=w&&w.__importStar||function(w){if(w&&w.__esModule)return w;var K={};if(w!=null)for(var pe in w)pe!=="default"&&Object.prototype.hasOwnProperty.call(w,pe)&&B(K,w,pe);return G(K,w),K};Object.defineProperty(w,"__esModule",{value:!0});w.Address6=void 0;var pe=K(Ln()),ye=K(jn()),Se=K(Gn()),Be=K(zn()),Qe=Vn(),Pe=$n(),Fe=Hn(),Me=Un(),Le=Wn();function Ys(w){if(!w)throw new Error("Assertion failed.")}function OS(w){let B=/(\d+)(\d{3})/;for(;B.test(w);)w=w.replace(B,"$1,$2");return w}function kS(w){return w=w.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),w=w.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),w}function CS(w,B){let G=[],K=[],pe;for(pe=0;pe<w.length;pe++)pe<B[0]?G.push(w[pe]):pe>B[1]&&K.push(w[pe]);return G.concat(["compact"]).concat(K)}function Bm(w){return(0,Le.sprintf)("%04x",parseInt(w,16))}function Rm(w){return w&255}var je=class i{constructor(w,B){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=pe.isInSubnet,this.isCorrect=pe.isCorrect(Se.BITS),B===void 0?this.groups=Se.GROUPS:this.groups=B,this.address=w;let G=Se.RE_SUBNET_STRING.exec(w);if(G){if(this.parsedSubnet=G[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>Se.BITS)throw new Fe.AddressError("Invalid subnet mask.");w=w.replace(Se.RE_SUBNET_STRING,"")}else if(/\//.test(w))throw new Fe.AddressError("Invalid subnet mask.");let K=Se.RE_ZONE_STRING.exec(w);K&&(this.zone=K[0],w=w.replace(Se.RE_ZONE_STRING,"")),this.addressMinusSuffix=w,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(w){try{return new i(w),!0}catch{return!1}}static fromBigInteger(w){let B=w.toString(16).padStart(32,"0"),G=[],K;for(K=0;K<Se.GROUPS;K++)G.push(B.slice(K*4,(K+1)*4));return new i(G.join(":"))}static fromURL(w){let B,G=null,K;if(w.indexOf("[")!==-1&&w.indexOf("]:")!==-1){if(K=Se.RE_URL_WITH_PORT.exec(w),K===null)return{error:"failed to parse address with port",address:null,port:null};B=K[1],G=K[2]}else if(w.indexOf("/")!==-1){if(w=w.replace(/^[a-z0-9]+:\/\//,""),K=Se.RE_URL.exec(w),K===null)return{error:"failed to parse address from URL",address:null,port:null};B=K[1]}else B=w;return G?(G=parseInt(G,10),(G<0||G>65536)&&(G=null)):G=null,{address:new i(B),port:G}}static fromAddress4(w){let B=new Qe.Address4(w),G=Se.BITS-(ye.BITS-B.subnetMask);return new i(`::ffff:${B.correctForm()}/${G}`)}static fromArpa(w){let B=w.replace(/(\.ip6\.arpa)?\.$/,""),G=7;if(B.length!==63)throw new Fe.AddressError("Invalid 'ip6.arpa' form.");let K=B.split(".").reverse();for(let w=G;w>0;w--){let B=w*4;K.splice(B,0,":")}return B=K.join(""),new i(B)}microsoftTranscription(){return(0,Le.sprintf)("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))}mask(w=this.subnetMask){return this.getBitsBase2(0,w)}possibleSubnets(w=128){let B=Se.BITS-this.subnetMask,G=Math.abs(w-Se.BITS),K=B-G;return K<0?"0":OS(new Me.BigInteger("2",10).pow(K).toString(10))}_startAddress(){return new Me.BigInteger(this.mask()+"0".repeat(Se.BITS-this.subnetMask),2)}startAddress(){return i.fromBigInteger(this._startAddress())}startAddressExclusive(){let w=new Me.BigInteger("1");return i.fromBigInteger(this._startAddress().add(w))}_endAddress(){return new Me.BigInteger(this.mask()+"1".repeat(Se.BITS-this.subnetMask),2)}endAddress(){return i.fromBigInteger(this._endAddress())}endAddressExclusive(){let w=new Me.BigInteger("1");return i.fromBigInteger(this._endAddress().subtract(w))}getScope(){let w=Se.SCOPES[this.getBits(12,16).intValue()];return this.getType()==="Global unicast"&&w!=="Link local"&&(w="Global"),w||"Unknown"}getType(){for(let w of Object.keys(Se.TYPES))if(this.isInSubnet(new i(w)))return Se.TYPES[w];return"Global unicast"}getBits(w,B){return new Me.BigInteger(this.getBitsBase2(w,B),2)}getBitsBase2(w,B){return this.binaryZeroPad().slice(w,B)}getBitsBase16(w,B){let G=B-w;if(G%4!==0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(w,B).toString(16).padStart(G/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,Se.BITS)}reverseForm(w){w||(w={});let B=Math.floor(this.subnetMask/4),G=this.canonicalForm().replace(/:/g,"").split("").slice(0,B).reverse().join(".");return B>0?w.omitSuffix?G:(0,Le.sprintf)("%s.ip6.arpa.",G):w.omitSuffix?"":"ip6.arpa."}correctForm(){let w,B=[],G=0,K=[];for(w=0;w<this.parsedAddress.length;w++){let B=parseInt(this.parsedAddress[w],16);B===0&&G++,B!==0&&G>0&&(G>1&&K.push([w-G,w-1]),G=0)}G>1&&K.push([this.parsedAddress.length-G,this.parsedAddress.length-1]);let pe=K.map((w=>w[1]-w[0]+1));if(K.length>0){let w=pe.indexOf(Math.max(...pe));B=CS(this.parsedAddress,K[w])}else B=this.parsedAddress;for(w=0;w<B.length;w++)B[w]!=="compact"&&(B[w]=parseInt(B[w],16).toString(16));let ye=B.join(":");return ye=ye.replace(/^compact$/,"::"),ye=ye.replace(/^compact|compact$/,":"),ye=ye.replace(/compact/,""),ye}binaryZeroPad(){return this.bigInteger().toString(2).padStart(Se.BITS,"0")}parse4in6(w){let B=w.split(":"),G=B.slice(-1)[0].match(ye.RE_ADDRESS);if(G){this.parsedAddress4=G[0],this.address4=new Qe.Address4(this.parsedAddress4);for(let B=0;B<this.address4.groups;B++)if(/^0[0-9]+/.test(this.address4.parsedAddress[B]))throw new Fe.AddressError("IPv4 addresses can't have leading zeroes.",w.replace(ye.RE_ADDRESS,this.address4.parsedAddress.map(kS).join(".")));this.v4=!0,B[B.length-1]=this.address4.toGroup6(),w=B.join(":")}return w}parse(w){w=this.parse4in6(w);let B=w.match(Se.RE_BAD_CHARACTERS);if(B)throw new Fe.AddressError((0,Le.sprintf)("Bad character%s detected in address: %s",B.length>1?"s":"",B.join("")),w.replace(Se.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));let G=w.match(Se.RE_BAD_ADDRESS);if(G)throw new Fe.AddressError((0,Le.sprintf)("Address failed regex: %s",G.join("")),w.replace(Se.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let K=[],pe=w.split("::");if(pe.length===2){let w=pe[0].split(":"),B=pe[1].split(":");w.length===1&&w[0]===""&&(w=[]),B.length===1&&B[0]===""&&(B=[]);let G=this.groups-(w.length+B.length);if(!G)throw new Fe.AddressError("Error parsing groups");this.elidedGroups=G,this.elisionBegin=w.length,this.elisionEnd=w.length+this.elidedGroups,K=K.concat(w);for(let w=0;w<G;w++)K.push("0");K=K.concat(B)}else if(pe.length===1)K=w.split(":"),this.elidedGroups=0;else throw new Fe.AddressError("Too many :: groups found");if(K=K.map((w=>(0,Le.sprintf)("%x",parseInt(w,16)))),K.length!==this.groups)throw new Fe.AddressError("Incorrect number of groups found");return K}canonicalForm(){return this.parsedAddress.map(Bm).join(":")}decimal(){return this.parsedAddress.map((w=>(0,Le.sprintf)("%05d",parseInt(w,16)))).join(":")}bigInteger(){return new Me.BigInteger(this.parsedAddress.map(Bm).join(""),16)}to4(){let w=this.binaryZeroPad().split("");return Qe.Address4.fromHex(new Me.BigInteger(w.slice(96,128).join(""),2).toString(16))}to4in6(){let w=this.to4(),B=new i(this.parsedAddress.slice(0,6).join(":"),6).correctForm(),G="";return/:$/.test(B)||(G=":"),B+G+w.address}inspectTeredo(){let w=this.getBitsBase16(0,32),B=this.getBits(80,96).xor(new Me.BigInteger("ffff",16)).toString(),G=Qe.Address4.fromHex(this.getBitsBase16(32,64)),K=Qe.Address4.fromHex(this.getBits(96,128).xor(new Me.BigInteger("ffffffff",16)).toString(16)),pe=this.getBits(64,80),ye=this.getBitsBase2(64,80),Se=pe.testBit(15),Be=pe.testBit(14),Pe=pe.testBit(8),Fe=pe.testBit(9),je=new Me.BigInteger(ye.slice(2,6)+ye.slice(8,16),2).toString(10);return{prefix:(0,Le.sprintf)("%s:%s",w.slice(0,4),w.slice(4,8)),server4:G.address,client4:K.address,flags:ye,coneNat:Se,microsoft:{reserved:Be,universalLocal:Fe,groupIndividual:Pe,nonce:je},udpPort:B}}inspect6to4(){let w=this.getBitsBase16(0,16),B=Qe.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:(0,Le.sprintf)("%s",w.slice(0,4)),gateway:B.address}}to6to4(){if(!this.is4())return null;let w=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new i(w)}toByteArray(){let w=this.bigInteger().toByteArray();return w.length===17&&w[0]===0?w.slice(1):w}toUnsignedByteArray(){return this.toByteArray().map(Rm)}static fromByteArray(w){return this.fromUnsignedByteArray(w.map(Rm))}static fromUnsignedByteArray(w){let B=new Me.BigInteger("256",10),G=new Me.BigInteger("0",10),K=new Me.BigInteger("1",10);for(let pe=w.length-1;pe>=0;pe--)G=G.add(K.multiply(new Me.BigInteger(w[pe].toString(10),10))),K=K.multiply(B);return i.fromBigInteger(G)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"}isMulticast(){return this.getType()==="Multicast"}is4(){return this.v4}isTeredo(){return this.isInSubnet(new i("2001::/32"))}is6to4(){return this.isInSubnet(new i("2002::/16"))}isLoopback(){return this.getType()==="Loopback"}href(w){return w===void 0?w="":w=(0,Le.sprintf)(":%s",w),(0,Le.sprintf)("http://[%s]%s/",this.correctForm(),w)}link(w){w||(w={}),w.className===void 0&&(w.className=""),w.prefix===void 0&&(w.prefix="/#address="),w.v4===void 0&&(w.v4=!1);let B=this.correctForm;return w.v4&&(B=this.to4in6),w.className?(0,Le.sprintf)('<a href="%1$s%2$s" class="%3$s">%2$s</a>',w.prefix,B.call(this),w.className):(0,Le.sprintf)('<a href="%1$s%2$s">%2$s</a>',w.prefix,B.call(this))}group(){if(this.elidedGroups===0)return Be.simpleGroup(this.address).join(":");Ys(typeof this.elidedGroups=="number"),Ys(typeof this.elisionBegin=="number");let w=[],[B,G]=this.address.split("::");B.length?w.push(...Be.simpleGroup(B)):w.push("");let K=["hover-group"];for(let w=this.elisionBegin;w<this.elisionBegin+this.elidedGroups;w++)K.push((0,Le.sprintf)("group-%d",w));return w.push((0,Le.sprintf)('<span class="%s"></span>',K.join(" "))),G.length?w.push(...Be.simpleGroup(G,this.elisionEnd)):w.push(""),this.is4()&&(Ys(this.address4 instanceof Qe.Address4),w.pop(),w.push(this.address4.groupForV6())),w.join(":")}regularExpressionString(w=!1){let B=[],G=new i(this.correctForm());if(G.elidedGroups===0)B.push((0,Pe.simpleRegularExpression)(G.parsedAddress));else if(G.elidedGroups===Se.GROUPS)B.push((0,Pe.possibleElisions)(Se.GROUPS));else{let w=G.address.split("::");w[0].length&&B.push((0,Pe.simpleRegularExpression)(w[0].split(":"))),Ys(typeof G.elidedGroups=="number"),B.push((0,Pe.possibleElisions)(G.elidedGroups,w[0].length!==0,w[1].length!==0)),w[1].length&&B.push((0,Pe.simpleRegularExpression)(w[1].split(":"))),B=[B.join(":")]}return w||(B=["(?=^|",Pe.ADDRESS_BOUNDARY,"|[^\\w\\:])(",...B,")(?=[^\\w\\:]|",Pe.ADDRESS_BOUNDARY,"|$)"]),B.join("")}regularExpression(w=!1){return new RegExp(this.regularExpressionString(w),"i")}};w.Address6=je}));var Yn=_((w=>{"use strict";var B=w&&w.__createBinding||(Object.create?function(w,B,G,K){K===void 0&&(K=G);var pe=Object.getOwnPropertyDescriptor(B,G);(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable))&&(pe={enumerable:!0,get:function(){return B[G]}}),Object.defineProperty(w,K,pe)}:function(w,B,G,K){K===void 0&&(K=G),w[K]=B[G]}),G=w&&w.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:!0,value:B})}:function(w,B){w.default=B}),K=w&&w.__importStar||function(w){if(w&&w.__esModule)return w;var K={};if(w!=null)for(var pe in w)pe!=="default"&&Object.prototype.hasOwnProperty.call(w,pe)&&B(K,w,pe);return G(K,w),K};Object.defineProperty(w,"__esModule",{value:!0});w.v6=w.AddressError=w.Address6=w.Address4=void 0;var pe=Vn();Object.defineProperty(w,"Address4",{enumerable:!0,get:function(){return pe.Address4}});var ye=Jn();Object.defineProperty(w,"Address6",{enumerable:!0,get:function(){return ye.Address6}});var Se=Hn();Object.defineProperty(w,"AddressError",{enumerable:!0,get:function(){return Se.AddressError}});var Be=K(zn());w.v6={helpers:Be}}));var Kn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.ipToBuffer=w.int32ToIpv4=w.ipv4ToInt32=w.validateSocksClientChainOptions=w.validateSocksClientOptions=void 0;var B=Mn(),K=Nn(),pe=G(2203),ye=Yn(),Se=G(9278);function MS(w,G=["connect","bind","associate"]){if(!K.SocksCommand[w.command])throw new B.SocksClientError(K.ERRORS.InvalidSocksCommand,w);if(G.indexOf(w.command)===-1)throw new B.SocksClientError(K.ERRORS.InvalidSocksCommandForOperation,w);if(!Fm(w.destination))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsDestination,w);if(!qm(w.proxy))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsProxy,w);if(Dm(w.proxy,w),w.timeout&&!jm(w.timeout))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsTimeout,w);if(w.existing_socket&&!(w.existing_socket instanceof pe.Duplex))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsExistingSocket,w)}w.validateSocksClientOptions=MS;function DS(w){if(w.command!=="connect")throw new B.SocksClientError(K.ERRORS.InvalidSocksCommandChain,w);if(!Fm(w.destination))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsDestination,w);if(!(w.proxies&&Array.isArray(w.proxies)&&w.proxies.length>=2))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsProxiesLength,w);if(w.proxies.forEach((G=>{if(!qm(G))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsProxy,w);Dm(G,w)})),w.timeout&&!jm(w.timeout))throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsTimeout,w)}w.validateSocksClientChainOptions=DS;function Dm(w,G){if(w.custom_auth_method!==void 0){if(w.custom_auth_method<K.SOCKS5_CUSTOM_AUTH_START||w.custom_auth_method>K.SOCKS5_CUSTOM_AUTH_END)throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsCustomAuthRange,G);if(w.custom_auth_request_handler===void 0||typeof w.custom_auth_request_handler!="function")throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,G);if(w.custom_auth_response_size===void 0)throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,G);if(w.custom_auth_response_handler===void 0||typeof w.custom_auth_response_handler!="function")throw new B.SocksClientError(K.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,G)}}function Fm(w){return w&&typeof w.host=="string"&&typeof w.port=="number"&&w.port>=0&&w.port<=65535}function qm(w){return w&&(typeof w.host=="string"||typeof w.ipaddress=="string")&&typeof w.port=="number"&&w.port>=0&&w.port<=65535&&(w.type===4||w.type===5)}function jm(w){return typeof w=="number"&&w>0}function FS(w){return new ye.Address4(w).toArray().reduce(((w,B)=>(w<<8)+B),0)}w.ipv4ToInt32=FS;function qS(w){let B=w>>>24&255,G=w>>>16&255,K=w>>>8&255,pe=w&255;return[B,G,K,pe].join(".")}w.int32ToIpv4=qS;function jS(w){if(Se.isIPv4(w)){let B=new ye.Address4(w);return Buffer.from(B.toArray())}else if(Se.isIPv6(w)){let B=new ye.Address6(w);return Buffer.from(B.canonicalForm().split(":").map((w=>w.padStart(4,"0"))).join(""),"hex")}else throw new Error("Invalid IP address format")}w.ipToBuffer=jS}));var Xn=_((w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.ReceiveBuffer=void 0;var B=class{constructor(w=4096){this.buffer=Buffer.allocUnsafe(w),this.offset=0,this.originalSize=w}get length(){return this.offset}append(w){if(!Buffer.isBuffer(w))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+w.length>=this.buffer.length){let B=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+w.length)),B.copy(this.buffer)}return w.copy(this.buffer,this.offset),this.offset+=w.length}peek(w){if(w>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,w)}get(w){if(w>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let B=Buffer.allocUnsafe(w);return this.buffer.slice(0,w).copy(B),this.buffer.copyWithin(0,w,w+this.offset-w),this.offset-=w,B}};w.ReceiveBuffer=B}));var ti=_((w=>{"use strict";var B=w&&w.__awaiter||function(w,B,G,K){function n(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function a(w){try{c(K.next(w))}catch(w){pe(w)}}function l(w){try{c(K.throw(w))}catch(w){pe(w)}}function c(w){w.done?G(w.value):n(w.value).then(a,l)}c((K=K.apply(w,B||[])).next())}))};Object.defineProperty(w,"__esModule",{value:!0});w.SocksClientError=w.SocksClient=void 0;var K=G(4434),pe=G(9278),ye=Fn(),Se=Nn(),Be=Kn(),Qe=Xn(),Pe=Mn();Object.defineProperty(w,"SocksClientError",{enumerable:!0,get:function(){return Pe.SocksClientError}});var Fe=Yn(),Me=class i extends K.EventEmitter{constructor(w){super(),this.options=Object.assign({},w),(0,Be.validateSocksClientOptions)(w),this.setState(Se.SocksClientState.Created)}static createConnection(w,B){return new Promise(((G,K)=>{try{(0,Be.validateSocksClientOptions)(w,["connect"])}catch(w){return typeof B=="function"?(B(w),G(w)):K(w)}let pe=new i(w);pe.connect(w.existing_socket),pe.once("established",(w=>{pe.removeAllListeners(),typeof B=="function"&&B(null,w),G(w)})),pe.once("error",(w=>{pe.removeAllListeners(),typeof B=="function"?(B(w),G(w)):K(w)}))}))}static createConnectionChain(w,G){return new Promise(((K,pe)=>B(this,void 0,void 0,(function*(){try{(0,Be.validateSocksClientChainOptions)(w)}catch(w){return typeof G=="function"?(G(w),K(w)):pe(w)}w.randomizeChain&&(0,Pe.shuffleArray)(w.proxies);try{let B;for(let G=0;G<w.proxies.length;G++){let K=w.proxies[G],pe=G===w.proxies.length-1?w.destination:{host:w.proxies[G+1].host||w.proxies[G+1].ipaddress,port:w.proxies[G+1].port},ye=yield i.createConnection({command:"connect",proxy:K,destination:pe,existing_socket:B});B=B||ye.socket}typeof G=="function"?(G(null,{socket:B}),K({socket:B})):K({socket:B})}catch(w){typeof G=="function"?(G(w),K(w)):pe(w)}}))))}static createUDPFrame(w){let B=new ye.SmartBuffer;return B.writeUInt16BE(0),B.writeUInt8(w.frameNumber||0),pe.isIPv4(w.remoteHost.host)?(B.writeUInt8(Se.Socks5HostType.IPv4),B.writeUInt32BE((0,Be.ipv4ToInt32)(w.remoteHost.host))):pe.isIPv6(w.remoteHost.host)?(B.writeUInt8(Se.Socks5HostType.IPv6),B.writeBuffer((0,Be.ipToBuffer)(w.remoteHost.host))):(B.writeUInt8(Se.Socks5HostType.Hostname),B.writeUInt8(Buffer.byteLength(w.remoteHost.host)),B.writeString(w.remoteHost.host)),B.writeUInt16BE(w.remoteHost.port),B.writeBuffer(w.data),B.toBuffer()}static parseUDPFrame(w){let B=ye.SmartBuffer.fromBuffer(w);B.readOffset=2;let G=B.readUInt8(),K=B.readUInt8(),pe;K===Se.Socks5HostType.IPv4?pe=(0,Be.int32ToIpv4)(B.readUInt32BE()):K===Se.Socks5HostType.IPv6?pe=Fe.Address6.fromByteArray(Array.from(B.readBuffer(16))).canonicalForm():pe=B.readString(B.readUInt8());let Qe=B.readUInt16BE();return{frameNumber:G,remoteHost:{host:pe,port:Qe},data:B.readBuffer()}}setState(w){this.state!==Se.SocksClientState.Error&&(this.state=w)}connect(w){this.onDataReceived=w=>this.onDataReceivedHandler(w),this.onClose=()=>this.onCloseHandler(),this.onError=w=>this.onErrorHandler(w),this.onConnect=()=>this.onConnectHandler();let B=setTimeout((()=>this.onEstablishedTimeout()),this.options.timeout||Se.DEFAULT_TIMEOUT);B.unref&&typeof B.unref=="function"&&B.unref(),w?this.socket=w:this.socket=new pe.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(Se.SocksClientState.Connecting),this.receiveBuffer=new Qe.ReceiveBuffer,w?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",(w=>{setImmediate((()=>{if(this.receiveBuffer.length>0){let B=this.receiveBuffer.get(this.receiveBuffer.length);w.socket.emit("data",B)}w.socket.resume()}))}))}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==Se.SocksClientState.Established&&this.state!==Se.SocksClientState.BoundWaitingForConnection&&this.closeSocket(Se.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(Se.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(Se.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(w){this.receiveBuffer.append(w),this.processData()}processData(){for(;this.state!==Se.SocksClientState.Established&&this.state!==Se.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===Se.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===Se.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===Se.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===Se.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(Se.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(Se.ERRORS.SocketClosed)}onErrorHandler(w){this.closeSocket(w.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(w){this.state!==Se.SocksClientState.Error&&(this.setState(Se.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new Pe.SocksClientError(w,this.options)))}sendSocks4InitialHandshake(){let w=this.options.proxy.userId||"",B=new ye.SmartBuffer;B.writeUInt8(4),B.writeUInt8(Se.SocksCommand[this.options.command]),B.writeUInt16BE(this.options.destination.port),pe.isIPv4(this.options.destination.host)?(B.writeBuffer((0,Be.ipToBuffer)(this.options.destination.host)),B.writeStringNT(w)):(B.writeUInt8(0),B.writeUInt8(0),B.writeUInt8(0),B.writeUInt8(1),B.writeStringNT(w),B.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=Se.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(B.toBuffer())}handleSocks4FinalHandshakeResponse(){let w=this.receiveBuffer.get(8);if(w[1]!==Se.Socks4Response.Granted)this.closeSocket(`${Se.ERRORS.Socks4ProxyRejectedConnection} - (${Se.Socks4Response[w[1]]})`);else if(Se.SocksCommand[this.options.command]===Se.SocksCommand.bind){let B=ye.SmartBuffer.fromBuffer(w);B.readOffset=2;let G={port:B.readUInt16BE(),host:(0,Be.int32ToIpv4)(B.readUInt32BE())};G.host==="0.0.0.0"&&(G.host=this.options.proxy.ipaddress),this.setState(Se.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:G,socket:this.socket})}else this.setState(Se.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let w=this.receiveBuffer.get(8);if(w[1]!==Se.Socks4Response.Granted)this.closeSocket(`${Se.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${Se.Socks4Response[w[1]]})`);else{let B=ye.SmartBuffer.fromBuffer(w);B.readOffset=2;let G={port:B.readUInt16BE(),host:(0,Be.int32ToIpv4)(B.readUInt32BE())};this.setState(Se.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:G,socket:this.socket})}}sendSocks5InitialHandshake(){let w=new ye.SmartBuffer,B=[Se.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&B.push(Se.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&B.push(this.options.proxy.custom_auth_method),w.writeUInt8(5),w.writeUInt8(B.length);for(let G of B)w.writeUInt8(G);this.nextRequiredPacketBufferSize=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(w.toBuffer()),this.setState(Se.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let w=this.receiveBuffer.get(2);w[0]!==5?this.closeSocket(Se.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):w[1]===Se.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(Se.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):w[1]===Se.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=Se.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):w[1]===Se.Socks5Auth.UserPass?(this.socks5ChosenAuthType=Se.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):w[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(Se.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let w=this.options.proxy.userId||"",B=this.options.proxy.password||"",G=new ye.SmartBuffer;G.writeUInt8(1),G.writeUInt8(Buffer.byteLength(w)),G.writeString(w),G.writeUInt8(Buffer.byteLength(B)),G.writeString(B),this.nextRequiredPacketBufferSize=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(G.toBuffer()),this.setState(Se.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return B(this,void 0,void 0,(function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(Se.SocksClientState.SentAuthentication)}))}handleSocks5CustomAuthHandshakeResponse(w){return B(this,void 0,void 0,(function*(){return yield this.options.proxy.custom_auth_response_handler(w)}))}handleSocks5AuthenticationNoAuthHandshakeResponse(w){return B(this,void 0,void 0,(function*(){return w[1]===0}))}handleSocks5AuthenticationUserPassHandshakeResponse(w){return B(this,void 0,void 0,(function*(){return w[1]===0}))}handleInitialSocks5AuthenticationHandshakeResponse(){return B(this,void 0,void 0,(function*(){this.setState(Se.SocksClientState.ReceivedAuthenticationResponse);let w=!1;this.socks5ChosenAuthType===Se.Socks5Auth.NoAuth?w=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===Se.Socks5Auth.UserPass?w=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(w=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),w?this.sendSocks5CommandRequest():this.closeSocket(Se.ERRORS.Socks5AuthenticationFailed)}))}sendSocks5CommandRequest(){let w=new ye.SmartBuffer;w.writeUInt8(5),w.writeUInt8(Se.SocksCommand[this.options.command]),w.writeUInt8(0),pe.isIPv4(this.options.destination.host)?(w.writeUInt8(Se.Socks5HostType.IPv4),w.writeBuffer((0,Be.ipToBuffer)(this.options.destination.host))):pe.isIPv6(this.options.destination.host)?(w.writeUInt8(Se.Socks5HostType.IPv6),w.writeBuffer((0,Be.ipToBuffer)(this.options.destination.host))):(w.writeUInt8(Se.Socks5HostType.Hostname),w.writeUInt8(this.options.destination.host.length),w.writeString(this.options.destination.host)),w.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(w.toBuffer()),this.setState(Se.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let w=this.receiveBuffer.peek(5);if(w[0]!==5||w[1]!==Se.Socks5Response.Granted)this.closeSocket(`${Se.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${Se.Socks5Response[w[1]]}`);else{let B=w[3],G,K;if(B===Se.Socks5HostType.IPv4){let w=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<w){this.nextRequiredPacketBufferSize=w;return}K=ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(w).slice(4)),G={host:(0,Be.int32ToIpv4)(K.readUInt32BE()),port:K.readUInt16BE()},G.host==="0.0.0.0"&&(G.host=this.options.proxy.ipaddress)}else if(B===Se.Socks5HostType.Hostname){let B=w[4],pe=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(B);if(this.receiveBuffer.length<pe){this.nextRequiredPacketBufferSize=pe;return}K=ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(pe).slice(5)),G={host:K.readString(B),port:K.readUInt16BE()}}else if(B===Se.Socks5HostType.IPv6){let w=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<w){this.nextRequiredPacketBufferSize=w;return}K=ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(w).slice(4)),G={host:Fe.Address6.fromByteArray(Array.from(K.readBuffer(16))).canonicalForm(),port:K.readUInt16BE()}}this.setState(Se.SocksClientState.ReceivedFinalResponse),Se.SocksCommand[this.options.command]===Se.SocksCommand.connect?(this.setState(Se.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:G,socket:this.socket})):Se.SocksCommand[this.options.command]===Se.SocksCommand.bind?(this.setState(Se.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:G,socket:this.socket})):Se.SocksCommand[this.options.command]===Se.SocksCommand.associate&&(this.setState(Se.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:G,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let w=this.receiveBuffer.peek(5);if(w[0]!==5||w[1]!==Se.Socks5Response.Granted)this.closeSocket(`${Se.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${Se.Socks5Response[w[1]]}`);else{let B=w[3],G,K;if(B===Se.Socks5HostType.IPv4){let w=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<w){this.nextRequiredPacketBufferSize=w;return}K=ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(w).slice(4)),G={host:(0,Be.int32ToIpv4)(K.readUInt32BE()),port:K.readUInt16BE()},G.host==="0.0.0.0"&&(G.host=this.options.proxy.ipaddress)}else if(B===Se.Socks5HostType.Hostname){let B=w[4],pe=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(B);if(this.receiveBuffer.length<pe){this.nextRequiredPacketBufferSize=pe;return}K=ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(pe).slice(5)),G={host:K.readString(B),port:K.readUInt16BE()}}else if(B===Se.Socks5HostType.IPv6){let w=Se.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<w){this.nextRequiredPacketBufferSize=w;return}K=ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(w).slice(4)),G={host:Fe.Address6.fromByteArray(Array.from(K.readBuffer(16))).canonicalForm(),port:K.readUInt16BE()}}this.setState(Se.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:G,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};w.SocksClient=Me}));var ri=_((w=>{"use strict";var B=w&&w.__createBinding||(Object.create?function(w,B,G,K){K===void 0&&(K=G);var pe=Object.getOwnPropertyDescriptor(B,G);(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable))&&(pe={enumerable:!0,get:function(){return B[G]}}),Object.defineProperty(w,K,pe)}:function(w,B,G,K){K===void 0&&(K=G),w[K]=B[G]}),G=w&&w.__exportStar||function(w,G){for(var K in w)K!=="default"&&!Object.prototype.hasOwnProperty.call(G,K)&&B(G,w,K)};Object.defineProperty(w,"__esModule",{value:!0});G(ti(),w)}));var ni=_((w=>{"use strict";var B=w&&w.__awaiter||function(w,B,G,K){function n(w){return w instanceof G?w:new G((function(B){B(w)}))}return new(G||(G=Promise))((function(G,pe){function a(w){try{c(K.next(w))}catch(w){pe(w)}}function l(w){try{c(K.throw(w))}catch(w){pe(w)}}function c(w){w.done?G(w.value):n(w.value).then(a,l)}c((K=K.apply(w,B||[])).next())}))},K=w&&w.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(w,"__esModule",{value:!0});var pe=K(G(2250)),ye=K(G(4756)),Se=K(G(7016)),Be=K(ct()),Qe=wt(),Pe=ri(),Fe=Be.default("socks-proxy-agent");function QS(w){return new Promise(((B,G)=>{pe.default.lookup(w,((w,K)=>{w?G(w):B(K)}))}))}function XS(w){let B=0,G=!1,K=5,pe=w.hostname||w.host;if(!pe)throw new TypeError('No "host"');if(typeof w.port=="number"?B=w.port:typeof w.port=="string"&&(B=parseInt(w.port,10)),B||(B=1080),w.protocol)switch(w.protocol.replace(":","")){case"socks4":G=!0;case"socks4a":K=4;break;case"socks5":G=!0;case"socks":case"socks5h":K=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${w.protocol}`)}if(typeof w.type!="undefined")if(w.type===4||w.type===5)K=w.type;else throw new TypeError(`"type" must be 4 or 5, got: ${w.type}`);let ye={host:pe,port:B,type:K},Se=w.userId||w.username,Be=w.password;if(w.auth){let B=w.auth.split(":");Se=B[0],Be=B[1]}return Se&&Object.defineProperty(ye,"userId",{value:Se,enumerable:!1}),Be&&Object.defineProperty(ye,"password",{value:Be,enumerable:!1}),{lookup:G,proxy:ye}}var Me=class extends Qe.Agent{constructor(w){let B;if(typeof w=="string"?B=Se.default.parse(w):B=w,!B)throw new TypeError("a SOCKS proxy server `host` and `port` must be specified!");super(B);let G=XS(B);this.lookup=G.lookup,this.proxy=G.proxy,this.tlsConnectionOptions=B.tls||{}}callback(w,G){return B(this,void 0,void 0,(function*(){let{lookup:w,proxy:B}=this,{host:K,port:pe,timeout:Se}=G;if(!K)throw new Error("No `host` defined!");w&&(K=yield QS(K));let Be={proxy:B,destination:{host:K,port:pe},command:"connect",timeout:Se};Fe("Creating socks proxy connection: %o",Be);let{socket:Qe}=yield Pe.SocksClient.createConnection(Be);if(Fe("Successfully created socks proxy connection"),G.secureEndpoint){Fe("Upgrading socket connection to TLS");let w=G.servername||G.host;return ye.default.connect(Object.assign(Object.assign(Object.assign({},eE(G,"host","hostname","path","port")),{socket:Qe,servername:w}),this.tlsConnectionOptions))}return Qe}))}};w.default=Me;function eE(w,...B){let G={},K;for(K in w)B.includes(K)||(G[K]=w[K]);return G}}));var si=_(((w,B)=>{"use strict";var G=w&&w.__importDefault||function(w){return w&&w.__esModule?w:{default:w}},K=G(ni());function uc(w){return new K.default(w)}(function(w){w.SocksProxyAgent=K.default,w.prototype=K.default.prototype})(uc||(uc={}));B.exports=uc}));var oi=_((w=>{"use strict";var B=Symbol.for("yaml.alias"),G=Symbol.for("yaml.document"),K=Symbol.for("yaml.map"),pe=Symbol.for("yaml.pair"),ye=Symbol.for("yaml.scalar"),Se=Symbol.for("yaml.seq"),Be=Symbol.for("yaml.node.type"),iE=w=>!!w&&typeof w=="object"&&w[Be]===B,rE=w=>!!w&&typeof w=="object"&&w[Be]===G,nE=w=>!!w&&typeof w=="object"&&w[Be]===K,sE=w=>!!w&&typeof w=="object"&&w[Be]===pe,Jm=w=>!!w&&typeof w=="object"&&w[Be]===ye,oE=w=>!!w&&typeof w=="object"&&w[Be]===Se;function Zm(w){if(w&&typeof w=="object")switch(w[Be]){case K:case Se:return!0}return!1}function aE(w){if(w&&typeof w=="object")switch(w[Be]){case B:case K:case ye:case Se:return!0}return!1}var lE=w=>(Jm(w)||Zm(w))&&!!w.anchor;w.ALIAS=B;w.DOC=G;w.MAP=K;w.NODE_TYPE=Be;w.PAIR=pe;w.SCALAR=ye;w.SEQ=Se;w.hasAnchor=lE;w.isAlias=iE;w.isCollection=Zm;w.isDocument=rE;w.isMap=nE;w.isNode=aE;w.isPair=sE;w.isScalar=Jm;w.isSeq=oE}));var ai=_((w=>{"use strict";var B=oi(),G=Symbol("break visit"),K=Symbol("skip children"),pe=Symbol("remove node");function Xs(w,G){let K=Xm(G);B.isDocument(w)?Pr(null,w.contents,K,Object.freeze([w]))===pe&&(w.contents=null):Pr(null,w,K,Object.freeze([]))}Xs.BREAK=G;Xs.SKIP=K;Xs.REMOVE=pe;function Pr(w,K,ye,Se){let Be=eg(w,K,ye,Se);if(B.isNode(Be)||B.isPair(Be))return tg(w,Se,Be),Pr(w,Be,ye,Se);if(typeof Be!="symbol"){if(B.isCollection(K)){Se=Object.freeze(Se.concat(K));for(let w=0;w<K.items.length;++w){let B=Pr(w,K.items[w],ye,Se);if(typeof B=="number")w=B-1;else{if(B===G)return G;B===pe&&(K.items.splice(w,1),w-=1)}}}else if(B.isPair(K)){Se=Object.freeze(Se.concat(K));let w=Pr("key",K.key,ye,Se);if(w===G)return G;w===pe&&(K.key=null);let B=Pr("value",K.value,ye,Se);if(B===G)return G;B===pe&&(K.value=null)}}return Be}async function eo(w,G){let K=Xm(G);B.isDocument(w)?await Mr(null,w.contents,K,Object.freeze([w]))===pe&&(w.contents=null):await Mr(null,w,K,Object.freeze([]))}eo.BREAK=G;eo.SKIP=K;eo.REMOVE=pe;async function Mr(w,K,ye,Se){let Be=await eg(w,K,ye,Se);if(B.isNode(Be)||B.isPair(Be))return tg(w,Se,Be),Mr(w,Be,ye,Se);if(typeof Be!="symbol"){if(B.isCollection(K)){Se=Object.freeze(Se.concat(K));for(let w=0;w<K.items.length;++w){let B=await Mr(w,K.items[w],ye,Se);if(typeof B=="number")w=B-1;else{if(B===G)return G;B===pe&&(K.items.splice(w,1),w-=1)}}}else if(B.isPair(K)){Se=Object.freeze(Se.concat(K));let w=await Mr("key",K.key,ye,Se);if(w===G)return G;w===pe&&(K.key=null);let B=await Mr("value",K.value,ye,Se);if(B===G)return G;B===pe&&(K.value=null)}}return Be}function Xm(w){return typeof w=="object"&&(w.Collection||w.Node||w.Value)?Object.assign({Alias:w.Node,Map:w.Node,Scalar:w.Node,Seq:w.Node},w.Value&&{Map:w.Value,Scalar:w.Value,Seq:w.Value},w.Collection&&{Map:w.Collection,Seq:w.Collection},w):w}function eg(w,G,K,pe){var ye,Se,Be,Qe,Pe;if(typeof K=="function")return K(w,G,pe);if(B.isMap(G))return(ye=K.Map)==null?void 0:ye.call(K,w,G,pe);if(B.isSeq(G))return(Se=K.Seq)==null?void 0:Se.call(K,w,G,pe);if(B.isPair(G))return(Be=K.Pair)==null?void 0:Be.call(K,w,G,pe);if(B.isScalar(G))return(Qe=K.Scalar)==null?void 0:Qe.call(K,w,G,pe);if(B.isAlias(G))return(Pe=K.Alias)==null?void 0:Pe.call(K,w,G,pe)}function tg(w,G,K){let pe=G[G.length-1];if(B.isCollection(pe))pe.items[w]=K;else if(B.isPair(pe))w==="key"?pe.key=K:pe.value=K;else if(B.isDocument(pe))pe.contents=K;else{let w=B.isAlias(pe)?"alias":"scalar";throw new Error(`Cannot replace node with ${w} parent`)}}w.visit=Xs;w.visitAsync=eo}));var li=_((w=>{"use strict";var B=oi(),G=ai(),K={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},fE=w=>w.replace(/[!,[\]{}]/g,(w=>K[w])),pe=class i{constructor(w,B){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},i.defaultYaml,w),this.tags=Object.assign({},i.defaultTags,B)}clone(){let w=new i(this.yaml,this.tags);return w.docStart=this.docStart,w}atDocument(){let w=new i(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:i.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},i.defaultTags);break}return w}add(w,B){this.atNextDocument&&(this.yaml={explicit:i.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},i.defaultTags),this.atNextDocument=!1);let G=w.trim().split(/[ \t]+/),K=G.shift();switch(K){case"%TAG":{if(G.length!==2&&(B(0,"%TAG directive should contain exactly two parts"),G.length<2))return!1;let[w,K]=G;return this.tags[w]=K,!0}case"%YAML":{if(this.yaml.explicit=!0,G.length!==1)return B(0,"%YAML directive should contain exactly one part"),!1;let[w]=G;if(w==="1.1"||w==="1.2")return this.yaml.version=w,!0;{let G=/^\d+\.\d+$/.test(w);return B(6,`Unsupported YAML version ${w}`,G),!1}}default:return B(0,`Unknown directive ${K}`,!0),!1}}tagName(w,B){if(w==="!")return"!";if(w[0]!=="!")return B(`Not a valid tag: ${w}`),null;if(w[1]==="<"){let G=w.slice(2,-1);return G==="!"||G==="!!"?(B(`Verbatim tags aren't resolved, so ${w} is invalid.`),null):(w[w.length-1]!==">"&&B("Verbatim tags must end with a >"),G)}let[,G,K]=w.match(/^(.*!)([^!]*)$/s);K||B(`The ${w} tag has no suffix`);let pe=this.tags[G];if(pe)try{return pe+decodeURIComponent(K)}catch(w){return B(String(w)),null}return G==="!"?w:(B(`Could not resolve tag: ${w}`),null)}tagString(w){for(let[B,G]of Object.entries(this.tags))if(w.startsWith(G))return B+fE(w.substring(G.length));return w[0]==="!"?w:`!<${w}>`}toString(w){let K=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],pe=Object.entries(this.tags),ye;if(w&&pe.length>0&&B.isNode(w.contents)){let K={};G.visit(w.contents,((w,G)=>{B.isNode(G)&&G.tag&&(K[G.tag]=!0)})),ye=Object.keys(K)}else ye=[];for(let[B,G]of pe)B==="!!"&&G==="tag:yaml.org,2002:"||(!w||ye.some((w=>w.startsWith(G))))&&K.push(`%TAG ${B} ${G}`);return K.join(`\n`)}};pe.defaultYaml={explicit:!1,version:"1.2"};pe.defaultTags={"!!":"tag:yaml.org,2002:"};w.Directives=pe}));var ci=_((w=>{"use strict";var B=oi(),G=ai();function pE(w){if(/[\x00-\x19\s,[\]{}]/.test(w)){let B=`Anchor must not contain whitespace or control characters: ${JSON.stringify(w)}`;throw new Error(B)}return!0}function sg(w){let B=new Set;return G.visit(w,{Value(w,G){G.anchor&&B.add(G.anchor)}}),B}function og(w,B){for(let G=1;;++G){let K=`${w}${G}`;if(!B.has(K))return K}}function dE(w,G){let K=[],pe=new Map,ye=null;return{onAnchor:B=>{K.push(B),ye||(ye=sg(w));let pe=og(G,ye);return ye.add(pe),pe},setAnchors:()=>{for(let w of K){let G=pe.get(w);if(typeof G=="object"&&G.anchor&&(B.isScalar(G.node)||B.isCollection(G.node)))G.node.anchor=G.anchor;else{let B=new Error("Failed to resolve repeated object (this should not happen)");throw B.source=w,B}}},sourceObjects:pe}}w.anchorIsValid=pE;w.anchorNames=sg;w.createNodeAnchors=dE;w.findNewAnchor=og}));var ui=_((w=>{"use strict";function gn(w,B,G,K){if(K&&typeof K=="object")if(Array.isArray(K))for(let B=0,G=K.length;B<G;++B){let G=K[B],pe=gn(w,K,String(B),G);pe===void 0?delete K[B]:pe!==G&&(K[B]=pe)}else if(K instanceof Map)for(let B of Array.from(K.keys())){let G=K.get(B),pe=gn(w,K,B,G);pe===void 0?K.delete(B):pe!==G&&K.set(B,pe)}else if(K instanceof Set)for(let B of Array.from(K)){let G=gn(w,K,B,B);G===void 0?K.delete(B):G!==B&&(K.delete(B),K.add(G))}else for(let[B,G]of Object.entries(K)){let pe=gn(w,K,B,G);pe===void 0?delete K[B]:pe!==G&&(K[B]=pe)}return w.call(B,G,K)}w.applyReviver=gn}));var di=_((w=>{"use strict";var B=oi();function lg(w,G,K){if(Array.isArray(w))return w.map(((w,B)=>lg(w,String(B),K)));if(w&&typeof w.toJSON=="function"){if(!K||!B.hasAnchor(w))return w.toJSON(G,K);let pe={aliasCount:0,count:1,res:void 0};K.anchors.set(w,pe),K.onCreate=w=>{pe.res=w,delete K.onCreate};let ye=w.toJSON(G,K);return K.onCreate&&K.onCreate(ye),ye}return typeof w=="bigint"&&!(K!=null&&K.keep)?Number(w):w}w.toJS=lg}));var Ai=_((w=>{"use strict";var B=ui(),G=oi(),K=di(),pe=class{constructor(w){Object.defineProperty(this,G.NODE_TYPE,{value:w})}clone(){let w=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(w.range=this.range.slice()),w}toJS(w,{mapAsMap:pe,maxAliasCount:ye,onAnchor:Se,reviver:Be}={}){if(!G.isDocument(w))throw new TypeError("A document argument is required");let Qe={anchors:new Map,doc:w,keep:!0,mapAsMap:pe===!0,mapKeyWarned:!1,maxAliasCount:typeof ye=="number"?ye:100},Pe=K.toJS(this,"",Qe);if(typeof Se=="function")for(let{count:w,res:B}of Qe.anchors.values())Se(B,w);return typeof Be=="function"?B.applyReviver(Be,{"":Pe},"",Pe):Pe}};w.NodeBase=pe}));var fi=_((w=>{"use strict";var B=ci(),G=ai(),K=oi(),pe=Ai(),ye=di(),Se=class extends pe.NodeBase{constructor(w){super(K.ALIAS),this.source=w,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(w){let B;return G.visit(w,{Node:(w,K)=>{if(K===this)return G.visit.BREAK;K.anchor===this.source&&(B=K)}}),B}toJSON(w,B){if(!B)return{source:this.source};let{anchors:G,doc:K,maxAliasCount:pe}=B,Se=this.resolve(K);if(!Se){let w=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(w)}let Be=G.get(Se);if(Be||(ye.toJS(Se,null,B),Be=G.get(Se)),!Be||Be.res===void 0){let w="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(w)}if(pe>=0&&(Be.count+=1,Be.aliasCount===0&&(Be.aliasCount=no(K,Se,G)),Be.count*Be.aliasCount>pe)){let w="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(w)}return Be.res}toString(w,G,K){let pe=`*${this.source}`;if(w){if(B.anchorIsValid(this.source),w.options.verifyAliasOrder&&!w.anchors.has(this.source)){let w=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(w)}if(w.implicitKey)return`${pe} `}return pe}};function no(w,B,G){if(K.isAlias(B)){let K=B.resolve(w),pe=G&&K&&G.get(K);return pe?pe.count*pe.aliasCount:0}else if(K.isCollection(B)){let K=0;for(let pe of B.items){let B=no(w,pe,G);B>K&&(K=B)}return K}else if(K.isPair(B)){let K=no(w,B.key,G),pe=no(w,B.value,G);return Math.max(K,pe)}return 1}w.Alias=Se}));var gi=_((w=>{"use strict";var B=oi(),G=Ai(),K=di(),EE=w=>!w||typeof w!="function"&&typeof w!="object",pe=class extends G.NodeBase{constructor(w){super(B.SCALAR),this.value=w}toJSON(w,B){return B!=null&&B.keep?this.value:K.toJS(this.value,w,B)}toString(){return String(this.value)}};pe.BLOCK_FOLDED="BLOCK_FOLDED";pe.BLOCK_LITERAL="BLOCK_LITERAL";pe.PLAIN="PLAIN";pe.QUOTE_DOUBLE="QUOTE_DOUBLE";pe.QUOTE_SINGLE="QUOTE_SINGLE";w.Scalar=pe;w.isScalarValue=EE}));var bi=_((w=>{"use strict";var B=fi(),G=oi(),K=gi(),pe="tag:yaml.org,2002:";function CE(w,B,G){var K;if(B){let w=G.filter((w=>w.tag===B)),pe=(K=w.find((w=>!w.format)))!=null?K:w[0];if(!pe)throw new Error(`Tag ${B} not found`);return pe}return G.find((B=>{var G;return((G=B.identify)==null?void 0:G.call(B,w))&&!B.format}))}function TE(w,ye,Se){var Be,Qe,Pe;if(G.isDocument(w)&&(w=w.contents),G.isNode(w))return w;if(G.isPair(w)){let B=(Qe=(Be=Se.schema[G.MAP]).createNode)==null?void 0:Qe.call(Be,Se.schema,null,Se);return B.items.push(w),B}(w instanceof String||w instanceof Number||w instanceof Boolean||typeof BigInt!="undefined"&&w instanceof BigInt)&&(w=w.valueOf());let{aliasDuplicateObjects:Fe,onAnchor:Me,onTagObj:Le,schema:je,sourceObjects:qe}=Se,We;if(Fe&&w&&typeof w=="object"){if(We=qe.get(w),We)return We.anchor||(We.anchor=Me(w)),new B.Alias(We.anchor);We={anchor:null,node:null},qe.set(w,We)}ye!=null&&ye.startsWith("!!")&&(ye=pe+ye.slice(2));let Ge=CE(w,ye,je.tags);if(!Ge){if(w&&typeof w.toJSON=="function"&&(w=w.toJSON()),!w||typeof w!="object"){let B=new K.Scalar(w);return We&&(We.node=B),B}Ge=w instanceof Map?je[G.MAP]:Symbol.iterator in Object(w)?je[G.SEQ]:je[G.MAP]}Le&&(Le(Ge),delete Se.onTagObj);let ze=Ge!=null&&Ge.createNode?Ge.createNode(Se.schema,w,Se):typeof((Pe=Ge==null?void 0:Ge.nodeClass)==null?void 0:Pe.from)=="function"?Ge.nodeClass.from(Se.schema,w,Se):new K.Scalar(w);return ye?ze.tag=ye:Ge.default||(ze.tag=Ge.tag),We&&(We.node=ze),ze}w.createNode=TE}));var yi=_((w=>{"use strict";var B=bi(),G=oi(),K=Ai();function _c(w,G,K){let pe=K;for(let w=G.length-1;w>=0;--w){let B=G[w];if(typeof B=="number"&&Number.isInteger(B)&&B>=0){let w=[];w[B]=pe,pe=w}else pe=new Map([[B,pe]])}return B.createNode(pe,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:w,sourceObjects:new Map})}var gg=w=>w==null||typeof w=="object"&&!!w[Symbol.iterator]().next().done,pe=class extends K.NodeBase{constructor(w,B){super(w),Object.defineProperty(this,"schema",{value:B,configurable:!0,enumerable:!1,writable:!0})}clone(w){let B=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return w&&(B.schema=w),B.items=B.items.map((B=>G.isNode(B)||G.isPair(B)?B.clone(w):B)),this.range&&(B.range=this.range.slice()),B}addIn(w,B){if(gg(w))this.add(B);else{let[K,...pe]=w,ye=this.get(K,!0);if(G.isCollection(ye))ye.addIn(pe,B);else if(ye===void 0&&this.schema)this.set(K,_c(this.schema,pe,B));else throw new Error(`Expected YAML collection at ${K}. Remaining path: ${pe}`)}}deleteIn(w){let[B,...K]=w;if(K.length===0)return this.delete(B);let pe=this.get(B,!0);if(G.isCollection(pe))return pe.deleteIn(K);throw new Error(`Expected YAML collection at ${B}. Remaining path: ${K}`)}getIn(w,B){let[K,...pe]=w,ye=this.get(K,!0);return pe.length===0?!B&&G.isScalar(ye)?ye.value:ye:G.isCollection(ye)?ye.getIn(pe,B):void 0}hasAllNullValues(w){return this.items.every((B=>{if(!G.isPair(B))return!1;let K=B.value;return K==null||w&&G.isScalar(K)&&K.value==null&&!K.commentBefore&&!K.comment&&!K.tag}))}hasIn(w){let[B,...K]=w;if(K.length===0)return this.has(B);let pe=this.get(B,!0);return G.isCollection(pe)?pe.hasIn(K):!1}setIn(w,B){let[K,...pe]=w;if(pe.length===0)this.set(K,B);else{let w=this.get(K,!0);if(G.isCollection(w))w.setIn(pe,B);else if(w===void 0&&this.schema)this.set(K,_c(this.schema,pe,B));else throw new Error(`Expected YAML collection at ${K}. Remaining path: ${pe}`)}}};w.Collection=pe;w.collectionFromPath=_c;w.isEmptyPath=gg}));var wi=_((w=>{"use strict";var NE=w=>w.replace(/^(?!$)(?: $)?/gm,"#");function xc(w,B){return/^\n+$/.test(w)?w.substring(1):B?w.replace(/^(?! *$)/gm,B):w}var LE=(w,B,G)=>w.endsWith(`\n`)?xc(G,B):G.includes(`\n`)?`\n`+xc(G,B):(w.endsWith(" ")?"":" ")+G;w.indentComment=xc;w.lineComment=LE;w.stringifyComment=NE}));var vi=_((w=>{"use strict";var B="flow",G="block",K="quoted";function RE(w,B,pe="flow",{indentAtStart:ye,lineWidth:Se=80,minContentWidth:Be=20,onFold:Qe,onOverflow:Pe}={}){if(!Se||Se<0)return w;Se<Be&&(Be=0);let Fe=Math.max(1+Be,1+Se-B.length);if(w.length<=Fe)return w;let Me=[],Le={},je=Se-B.length;typeof ye=="number"&&(ye>Se-Math.max(2,Be)?Me.push(0):je=Se-ye);let qe,We,Ge=!1,ze=-1,Ye=-1,Ke=-1;pe===G&&(ze=vg(w,ze,B.length),ze!==-1&&(je=ze+Fe));for(let ye;ye=w[ze+=1];){if(pe===K&&ye==="\\"){switch(Ye=ze,w[ze+1]){case"x":ze+=3;break;case"u":ze+=5;break;case"U":ze+=9;break;default:ze+=1}Ke=ze}if(ye===`\n`)pe===G&&(ze=vg(w,ze,B.length)),je=ze+B.length+Fe,qe=void 0;else{if(ye===" "&&We&&We!==" "&&We!==`\n`&&We!=="\t"){let B=w[ze+1];B&&B!==" "&&B!==`\n`&&B!=="\t"&&(qe=ze)}if(ze>=je)if(qe)Me.push(qe),je=qe+Fe,qe=void 0;else if(pe===K){for(;We===" "||We==="\t";)We=ye,ye=w[ze+=1],Ge=!0;let B=ze>Ke+1?ze-2:Ye-1;if(Le[B])return w;Me.push(B),Le[B]=!0,je=B+Fe,qe=void 0}else Ge=!0}We=ye}if(Ge&&Pe&&Pe(),Me.length===0)return w;Qe&&Qe();let Xe=w.slice(0,Me[0]);for(let G=0;G<Me.length;++G){let ye=Me[G],Se=Me[G+1]||w.length;ye===0?Xe=`\n${B}${w.slice(0,Se)}`:(pe===K&&Le[ye]&&(Xe+=`${w[ye]}\\`),Xe+=`\n${B}${w.slice(ye+1,Se)}`)}return Xe}function vg(w,B,G){let K=B,pe=B+1,ye=w[pe];for(;ye===" "||ye==="\t";)if(B<pe+G)ye=w[++B];else{do{ye=w[++B]}while(ye&&ye!==`\n`);K=B,pe=B+1,ye=w[pe]}return K}w.FOLD_BLOCK=G;w.FOLD_FLOW=B;w.FOLD_QUOTED=K;w.foldFlowLines=RE}));var Ei=_((w=>{"use strict";var B=gi(),G=vi(),uo=(w,B)=>({indentAtStart:B?w.indent.length:w.indentAtStart,lineWidth:w.options.lineWidth,minContentWidth:w.options.minContentWidth}),fo=w=>/^(%|---|\.\.\.)/m.test(w);function PE(w,B,G){if(!B||B<0)return!1;let K=B-G,pe=w.length;if(pe<=K)return!1;for(let B=0,G=0;B<pe;++B)if(w[B]===`\n`){if(B-G>K)return!0;if(G=B+1,pe-G<=K)return!1}return!0}function wn(w,B){let K=JSON.stringify(w);if(B.options.doubleQuotedAsJSON)return K;let{implicitKey:pe}=B,ye=B.options.doubleQuotedMinMultiLineLength,Se=B.indent||(fo(w)?"  ":""),Be="",Qe=0;for(let w=0,B=K[w];B;B=K[++w])if(B===" "&&K[w+1]==="\\"&&K[w+2]==="n"&&(Be+=K.slice(Qe,w)+"\\ ",w+=1,Qe=w,B="\\"),B==="\\")switch(K[w+1]){case"u":{Be+=K.slice(Qe,w);let B=K.substr(w+2,4);switch(B){case"0000":Be+="\\0";break;case"0007":Be+="\\a";break;case"000b":Be+="\\v";break;case"001b":Be+="\\e";break;case"0085":Be+="\\N";break;case"00a0":Be+="\\_";break;case"2028":Be+="\\L";break;case"2029":Be+="\\P";break;default:B.substr(0,2)==="00"?Be+="\\x"+B.substr(2):Be+=K.substr(w,6)}w+=5,Qe=w+1}break;case"n":if(pe||K[w+2]==='"'||K.length<ye)w+=1;else{for(Be+=K.slice(Qe,w)+`\n\n`;K[w+2]==="\\"&&K[w+3]==="n"&&K[w+4]!=='"';)Be+=`\n`,w+=2;Be+=Se,K[w+2]===" "&&(Be+="\\"),w+=1,Qe=w+1}break;default:w+=1}return Be=Qe?Be+K.slice(Qe):K,pe?Be:G.foldFlowLines(Be,Se,G.FOLD_QUOTED,uo(B,!1))}function Ec(w,B){if(B.options.singleQuote===!1||B.implicitKey&&w.includes(`\n`)||/[ \t]\n|\n[ \t]/.test(w))return wn(w,B);let K=B.indent||(fo(w)?"  ":""),pe="'"+w.replace(/'/g,"''").replace(/\n+/g,`$&\n${K}`)+"'";return B.implicitKey?pe:G.foldFlowLines(pe,K,G.FOLD_FLOW,uo(B,!1))}function Dr(w,B){let{singleQuote:G}=B.options,K;if(G===!1)K=wn;else{let B=w.includes('"'),pe=w.includes("'");B&&!pe?K=Ec:pe&&!B?K=wn:K=G?Ec:wn}return K(w,B)}var K;try{K=new RegExp(`(^|(?<!\n))\n+(?!\n|$)`,"g")}catch{K=/\n+(?!\n|$)/g}function co({comment:w,type:pe,value:ye},Se,Be,Qe){let{blockQuote:Pe,commentString:Fe,lineWidth:Me}=Se.options;if(!Pe||/\n[\t ]+$/.test(ye)||/^\s*$/.test(ye))return Dr(ye,Se);let Le=Se.indent||(Se.forceBlockIndent||fo(ye)?"  ":""),je=Pe==="literal"?!0:Pe==="folded"||pe===B.Scalar.BLOCK_FOLDED?!1:pe===B.Scalar.BLOCK_LITERAL?!0:!PE(ye,Me,Le.length);if(!ye)return je?`|\n`:`>\n`;let qe,We;for(We=ye.length;We>0;--We){let w=ye[We-1];if(w!==`\n`&&w!=="\t"&&w!==" ")break}let Ge=ye.substring(We),ze=Ge.indexOf(`\n`);ze===-1?qe="-":ye===Ge||ze!==Ge.length-1?(qe="+",Qe&&Qe()):qe="",Ge&&(ye=ye.slice(0,-Ge.length),Ge[Ge.length-1]===`\n`&&(Ge=Ge.slice(0,-1)),Ge=Ge.replace(K,`$&${Le}`));let Ye=!1,Ke,Xe=-1;for(Ke=0;Ke<ye.length;++Ke){let w=ye[Ke];if(w===" ")Ye=!0;else if(w===`\n`)Xe=Ke;else break}let rt=ye.substring(0,Xe<Ke?Xe+1:Ke);rt&&(ye=ye.substring(rt.length),rt=rt.replace(/\n+/g,`$&${Le}`));let it=(je?"|":">")+(Ye?Le?"2":"1":"")+qe;if(w&&(it+=" "+Fe(w.replace(/ ?[\r\n]+/g," ")),Be&&Be()),je)return ye=ye.replace(/\n+/g,`$&${Le}`),`${it}\n${Le}${rt}${ye}${Ge}`;ye=ye.replace(/\n+/g,`\n$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${Le}`);let ot=G.foldFlowLines(`${rt}${ye}${Ge}`,Le,G.FOLD_BLOCK,uo(Se,!0));return`${it}\n${Le}${ot}`}function ME(w,K,pe,ye){let{type:Se,value:Be}=w,{actualString:Qe,implicitKey:Pe,indent:Fe,indentStep:Me,inFlow:Le}=K;if(Pe&&Be.includes(`\n`)||Le&&/[[\]{},]/.test(Be))return Dr(Be,K);if(!Be||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(Be))return Pe||Le||!Be.includes(`\n`)?Dr(Be,K):co(w,K,pe,ye);if(!Pe&&!Le&&Se!==B.Scalar.PLAIN&&Be.includes(`\n`))return co(w,K,pe,ye);if(fo(Be)){if(Fe==="")return K.forceBlockIndent=!0,co(w,K,pe,ye);if(Pe&&Fe===Me)return Dr(Be,K)}let je=Be.replace(/\n+/g,`$&\n${Fe}`);if(Qe){let d=w=>{var B;return w.default&&w.tag!=="tag:yaml.org,2002:str"&&((B=w.test)==null?void 0:B.test(je))},{compat:w,tags:B}=K.doc.schema;if(B.some(d)||w!=null&&w.some(d))return Dr(Be,K)}return Pe?je:G.foldFlowLines(je,Fe,G.FOLD_FLOW,uo(K,!1))}function DE(w,G,K,pe){let{implicitKey:ye,inFlow:Se}=G,Be=typeof w.value=="string"?w:Object.assign({},w,{value:String(w.value)}),{type:Qe}=w;Qe!==B.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(Be.value)&&(Qe=B.Scalar.QUOTE_DOUBLE);let l=w=>{switch(w){case B.Scalar.BLOCK_FOLDED:case B.Scalar.BLOCK_LITERAL:return ye||Se?Dr(Be.value,G):co(Be,G,K,pe);case B.Scalar.QUOTE_DOUBLE:return wn(Be.value,G);case B.Scalar.QUOTE_SINGLE:return Ec(Be.value,G);case B.Scalar.PLAIN:return ME(Be,G,K,pe);default:return null}},Pe=l(Qe);if(Pe===null){let{defaultKeyType:w,defaultStringType:B}=G.options,K=ye&&w||B;if(Pe=l(K),Pe===null)throw new Error(`Unsupported default string type ${K}`)}return Pe}w.stringifyString=DE}));var _i=_((w=>{"use strict";var B=ci(),G=oi(),K=wi(),pe=Ei();function UE(w,B){let G=Object.assign({blockQuote:!0,commentString:K.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},w.schema.toStringOptions,B),pe;switch(G.collectionStyle){case"block":pe=!1;break;case"flow":pe=!0;break;default:pe=null}return{anchors:new Set,doc:w,flowCollectionPadding:G.flowCollectionPadding?" ":"",indent:"",indentStep:typeof G.indent=="number"?" ".repeat(G.indent):"  ",inFlow:pe,options:G}}function $E(w,B){var K,pe,ye,Se;if(B.tag){let G=w.filter((w=>w.tag===B.tag));if(G.length>0)return(K=G.find((w=>w.format===B.format)))!=null?K:G[0]}let Be,Qe;if(G.isScalar(B)){Qe=B.value;let G=w.filter((w=>{var B;return(B=w.identify)==null?void 0:B.call(w,Qe)}));if(G.length>1){let w=G.filter((w=>w.test));w.length>0&&(G=w)}Be=(pe=G.find((w=>w.format===B.format)))!=null?pe:G.find((w=>!w.format))}else Qe=B,Be=w.find((w=>w.nodeClass&&Qe instanceof w.nodeClass));if(!Be){let w=(Se=(ye=Qe==null?void 0:Qe.constructor)==null?void 0:ye.name)!=null?Se:typeof Qe;throw new Error(`Tag not resolved for ${w} value`)}return Be}function VE(w,K,{anchors:pe,doc:ye}){if(!ye.directives)return"";let Se=[],Be=(G.isScalar(w)||G.isCollection(w))&&w.anchor;Be&&B.anchorIsValid(Be)&&(pe.add(Be),Se.push(`&${Be}`));let Qe=w.tag?w.tag:K.default?null:K.tag;return Qe&&Se.push(ye.directives.tagString(Qe)),Se.join(" ")}function HE(w,B,K,ye){var Se,Be;if(G.isPair(w))return w.toString(B,K,ye);if(G.isAlias(w)){if(B.doc.directives)return w.toString(B);if((Se=B.resolvedAliases)!=null&&Se.has(w))throw new TypeError("Cannot stringify circular structure without alias nodes");B.resolvedAliases?B.resolvedAliases.add(w):B.resolvedAliases=new Set([w]),w=w.resolve(B.doc)}let Qe,Pe=G.isNode(w)?w:B.doc.createNode(w,{onTagObj:w=>Qe=w});Qe||(Qe=$E(B.doc.schema.tags,Pe));let Fe=VE(Pe,Qe,B);Fe.length>0&&(B.indentAtStart=((Be=B.indentAtStart)!=null?Be:0)+Fe.length+1);let Me=typeof Qe.stringify=="function"?Qe.stringify(Pe,B,K,ye):G.isScalar(Pe)?pe.stringifyString(Pe,B,K,ye):Pe.toString(B,K,ye);return Fe?G.isScalar(Pe)||Me[0]==="{"||Me[0]==="["?`${Fe} ${Me}`:`${Fe}\n${B.indent}${Me}`:Me}w.createStringifyContext=UE;w.stringify=HE}));var Ci=_((w=>{"use strict";var B=oi(),G=gi(),K=_i(),pe=wi();function GE({key:w,value:ye},Se,Be,Qe){var Pe,Fe;let{allNullValues:Me,doc:Le,indent:je,indentStep:qe,options:{commentString:We,indentSeq:Ge,simpleKeys:ze}}=Se,Ye=B.isNode(w)&&w.comment||null;if(ze){if(Ye)throw new Error("With simple keys, key nodes cannot have comments");if(B.isCollection(w)||!B.isNode(w)&&typeof w=="object"){let w="With simple keys, collection cannot be used as a key value";throw new Error(w)}}let Ke=!ze&&(!w||Ye&&ye==null&&!Se.inFlow||B.isCollection(w)||(B.isScalar(w)?w.type===G.Scalar.BLOCK_FOLDED||w.type===G.Scalar.BLOCK_LITERAL:typeof w=="object"));Se=Object.assign({},Se,{allNullValues:!1,implicitKey:!Ke&&(ze||!Me),indent:je+qe});let Xe=!1,rt=!1,it=K.stringify(w,Se,(()=>Xe=!0),(()=>rt=!0));if(!Ke&&!Se.inFlow&&it.length>1024){if(ze)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");Ke=!0}if(Se.inFlow){if(Me||ye==null)return Xe&&Be&&Be(),it===""?"?":Ke?`? ${it}`:it}else if(Me&&!ze||ye==null&&Ke)return it=`? ${it}`,Ye&&!Xe?it+=pe.lineComment(it,Se.indent,We(Ye)):rt&&Qe&&Qe(),it;Xe&&(Ye=null),Ke?(Ye&&(it+=pe.lineComment(it,Se.indent,We(Ye))),it=`? ${it}\n${je}:`):(it=`${it}:`,Ye&&(it+=pe.lineComment(it,Se.indent,We(Ye))));let ot,at,lt;B.isNode(ye)?(ot=!!ye.spaceBefore,at=ye.commentBefore,lt=ye.comment):(ot=!1,at=null,lt=null,ye&&typeof ye=="object"&&(ye=Le.createNode(ye))),Se.implicitKey=!1,!Ke&&!Ye&&B.isScalar(ye)&&(Se.indentAtStart=it.length+1),rt=!1,!Ge&&qe.length>=2&&!Se.inFlow&&!Ke&&B.isSeq(ye)&&!ye.flow&&!ye.tag&&!ye.anchor&&(Se.indent=Se.indent.substring(2));let ct=!1,ut=K.stringify(ye,Se,(()=>ct=!0),(()=>rt=!0)),ft=" ";if(Ye||ot||at){if(ft=ot?`\n`:"",at){let w=We(at);ft+=`\n${pe.indentComment(w,Se.indent)}`}ut===""&&!Se.inFlow?ft===`\n`&&(ft=`\n\n`):ft+=`\n${Se.indent}`}else if(!Ke&&B.isCollection(ye)){let w=ut[0],B=ut.indexOf(`\n`),G=B!==-1,K=(Fe=(Pe=Se.inFlow)!=null?Pe:ye.flow)!=null?Fe:ye.items.length===0;if(G||!K){let K=!1;if(G&&(w==="&"||w==="!")){let G=ut.indexOf(" ");w==="&"&&G!==-1&&G<B&&ut[G+1]==="!"&&(G=ut.indexOf(" ",G+1)),(G===-1||B<G)&&(K=!0)}K||(ft=`\n${Se.indent}`)}}else(ut===""||ut[0]===`\n`)&&(ft="");return it+=ft+ut,Se.inFlow?ct&&Be&&Be():lt&&!ct?it+=pe.lineComment(it,Se.indent,We(lt)):rt&&Qe&&Qe(),it}w.stringifyPair=GE}));var Ii=_((w=>{"use strict";function WE(w,...B){w==="debug"&&console.log(...B)}function YE(w,B){(w==="debug"||w==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(B):console.warn(B))}w.debug=WE;w.warn=YE}));var Si=_((w=>{"use strict";var B=oi(),G=gi(),K="<<",pe={identify:w=>w===K||typeof w=="symbol"&&w.description===K,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new G.Scalar(Symbol(K)),{addToJSMap:Og}),stringify:()=>K},KE=(w,K)=>(pe.identify(K)||B.isScalar(K)&&(!K.type||K.type===G.Scalar.PLAIN)&&pe.identify(K.value))&&(w==null?void 0:w.doc.schema.tags.some((w=>w.tag===pe.tag&&w.default)));function Og(w,G,K){if(K=w&&B.isAlias(K)?K.resolve(w.doc):K,B.isSeq(K))for(let B of K.items)Ac(w,G,B);else if(Array.isArray(K))for(let B of K)Ac(w,G,B);else Ac(w,G,K)}function Ac(w,G,K){let pe=w&&B.isAlias(K)?K.resolve(w.doc):K;if(!B.isMap(pe))throw new Error("Merge sources must be maps or map aliases");let ye=pe.toJSON(null,w,Map);for(let[w,B]of ye)G instanceof Map?G.has(w)||G.set(w,B):G instanceof Set?G.add(w):Object.prototype.hasOwnProperty.call(G,w)||Object.defineProperty(G,w,{value:B,writable:!0,enumerable:!0,configurable:!0});return G}w.addMergeToJSMap=Og;w.isMergeKey=KE;w.merge=pe}));var xi=_((w=>{"use strict";var B=Ii(),G=Si(),K=_i(),pe=oi(),ye=di();function ZE(w,B,{key:K,value:Se}){if(pe.isNode(K)&&K.addToJSMap)K.addToJSMap(w,B,Se);else if(G.isMergeKey(w,K))G.addMergeToJSMap(w,B,Se);else{let G=ye.toJS(K,"",w);if(B instanceof Map)B.set(G,ye.toJS(Se,G,w));else if(B instanceof Set)B.add(G);else{let pe=QE(K,G,w),Be=ye.toJS(Se,pe,w);pe in B?Object.defineProperty(B,pe,{value:Be,writable:!0,enumerable:!0,configurable:!0}):B[pe]=Be}}return B}function QE(w,G,ye){if(G===null)return"";if(typeof G!="object")return String(G);if(pe.isNode(w)&&(ye!=null&&ye.doc)){let G=K.createStringifyContext(ye.doc,{});G.anchors=new Set;for(let w of ye.anchors.keys())G.anchors.add(w.anchor);G.inFlow=!0,G.inStringifyKey=!0;let pe=w.toString(G);if(!ye.mapKeyWarned){let w=JSON.stringify(pe);w.length>40&&(w=w.substring(0,36)+'..."'),B.warn(ye.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${w}. Set mapAsMap: true to use object keys.`),ye.mapKeyWarned=!0}return pe}return JSON.stringify(G)}w.addPairToJSMap=ZE}));var ki=_((w=>{"use strict";var B=bi(),G=Ci(),K=xi(),pe=oi();function tO(w,G,K){let pe=B.createNode(w,void 0,K),Se=B.createNode(G,void 0,K);return new ye(pe,Se)}var ye=class i{constructor(w,B=null){Object.defineProperty(this,pe.NODE_TYPE,{value:pe.PAIR}),this.key=w,this.value=B}clone(w){let{key:B,value:G}=this;return pe.isNode(B)&&(B=B.clone(w)),pe.isNode(G)&&(G=G.clone(w)),new i(B,G)}toJSON(w,B){let G=B!=null&&B.mapAsMap?new Map:{};return K.addPairToJSMap(B,G,this)}toString(w,B,K){return w!=null&&w.doc?G.stringifyPair(this,w,B,K):JSON.stringify(this)}};w.Pair=ye;w.createPair=tO}));var Qi=_((w=>{"use strict";var B=oi(),G=_i(),K=wi();function iO(w,B,G){var K;return(((K=B.inFlow)!=null?K:w.flow)?nO:rO)(w,B,G)}function rO({comment:w,items:pe},ye,{blockItemPrefix:Se,flowChars:Be,itemIndent:Qe,onChompKeep:Pe,onComment:Fe}){let{indent:Me,options:{commentString:Le}}=ye,je=Object.assign({},ye,{indent:Qe,type:null}),qe=!1,We=[];for(let w=0;w<pe.length;++w){let Be=pe[w],Pe=null;if(B.isNode(Be))!qe&&Be.spaceBefore&&We.push(""),_o(ye,We,Be.commentBefore,qe),Be.comment&&(Pe=Be.comment);else if(B.isPair(Be)){let w=B.isNode(Be.key)?Be.key:null;w&&(!qe&&w.spaceBefore&&We.push(""),_o(ye,We,w.commentBefore,qe))}qe=!1;let Fe=G.stringify(Be,je,(()=>Pe=null),(()=>qe=!0));Pe&&(Fe+=K.lineComment(Fe,Qe,Le(Pe))),qe&&Pe&&(qe=!1),We.push(Se+Fe)}let Ge;if(We.length===0)Ge=Be.start+Be.end;else{Ge=We[0];for(let w=1;w<We.length;++w){let B=We[w];Ge+=B?`\n${Me}${B}`:`\n`}}return w?(Ge+=`\n`+K.indentComment(Le(w),Me),Fe&&Fe()):qe&&Pe&&Pe(),Ge}function nO({items:w},pe,{flowChars:ye,itemIndent:Se}){let{indent:Be,indentStep:Qe,flowCollectionPadding:Pe,options:{commentString:Fe}}=pe;Se+=Qe;let Me=Object.assign({},pe,{indent:Se,inFlow:!0,type:null}),Le=!1,je=0,qe=[];for(let ye=0;ye<w.length;++ye){let Be=w[ye],Qe=null;if(B.isNode(Be))Be.spaceBefore&&qe.push(""),_o(pe,qe,Be.commentBefore,!1),Be.comment&&(Qe=Be.comment);else if(B.isPair(Be)){let w=B.isNode(Be.key)?Be.key:null;w&&(w.spaceBefore&&qe.push(""),_o(pe,qe,w.commentBefore,!1),w.comment&&(Le=!0));let G=B.isNode(Be.value)?Be.value:null;G?(G.comment&&(Qe=G.comment),G.commentBefore&&(Le=!0)):Be.value==null&&(w!=null&&w.comment)&&(Qe=w.comment)}Qe&&(Le=!0);let Pe=G.stringify(Be,Me,(()=>Qe=null));ye<w.length-1&&(Pe+=","),Qe&&(Pe+=K.lineComment(Pe,Se,Fe(Qe))),!Le&&(qe.length>je||Pe.includes(`\n`))&&(Le=!0),qe.push(Pe),je=qe.length}let{start:We,end:Ge}=ye;if(qe.length===0)return We+Ge;if(!Le){let w=qe.reduce(((w,B)=>w+B.length+2),2);Le=pe.options.lineWidth>0&&w>pe.options.lineWidth}if(Le){let w=We;for(let B of qe)w+=B?`\n${Qe}${Be}${B}`:`\n`;return`${w}\n${Be}${Ge}`}else return`${We}${Pe}${qe.join(" ")}${Pe}${Ge}`}function _o({indent:w,options:{commentString:B}},G,pe,ye){if(pe&&ye&&(pe=pe.replace(/^\n+/,"")),pe){let ye=K.indentComment(B(pe),w);G.push(ye.trimStart())}}w.stringifyCollection=iO}));var Oi=_((w=>{"use strict";var B=Qi(),G=xi(),K=yi(),pe=oi(),ye=ki(),Se=gi();function kn(w,B){let G=pe.isScalar(B)?B.value:B;for(let K of w)if(pe.isPair(K)&&(K.key===B||K.key===G||pe.isScalar(K.key)&&K.key.value===G))return K}var Be=class extends K.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(w){super(pe.MAP,w),this.items=[]}static from(w,B,G){let{keepUndefined:K,replacer:pe}=G,Se=new this(w),a=(w,Be)=>{if(typeof pe=="function")Be=pe.call(B,w,Be);else if(Array.isArray(pe)&&!pe.includes(w))return;(Be!==void 0||K)&&Se.items.push(ye.createPair(w,Be,G))};if(B instanceof Map)for(let[w,G]of B)a(w,G);else if(B&&typeof B=="object")for(let w of Object.keys(B))a(w,B[w]);return typeof w.sortMapEntries=="function"&&Se.items.sort(w.sortMapEntries),Se}add(w,B){var G;let K;pe.isPair(w)?K=w:!w||typeof w!="object"||!("key"in w)?K=new ye.Pair(w,w==null?void 0:w.value):K=new ye.Pair(w.key,w.value);let Be=kn(this.items,K.key),Qe=(G=this.schema)==null?void 0:G.sortMapEntries;if(Be){if(!B)throw new Error(`Key ${K.key} already set`);pe.isScalar(Be.value)&&Se.isScalarValue(K.value)?Be.value.value=K.value:Be.value=K.value}else if(Qe){let w=this.items.findIndex((w=>Qe(K,w)<0));w===-1?this.items.push(K):this.items.splice(w,0,K)}else this.items.push(K)}delete(w){let B=kn(this.items,w);return B?this.items.splice(this.items.indexOf(B),1).length>0:!1}get(w,B){var G;let K=kn(this.items,w),ye=K==null?void 0:K.value;return(G=!B&&pe.isScalar(ye)?ye.value:ye)!=null?G:void 0}has(w){return!!kn(this.items,w)}set(w,B){this.add(new ye.Pair(w,B),!0)}toJSON(w,B,K){let pe=K?new K:B!=null&&B.mapAsMap?new Map:{};B!=null&&B.onCreate&&B.onCreate(pe);for(let w of this.items)G.addPairToJSMap(B,pe,w);return pe}toString(w,G,K){if(!w)return JSON.stringify(this);for(let w of this.items)if(!pe.isPair(w))throw new Error(`Map items must all be pairs; found ${JSON.stringify(w)} instead`);return!w.allNullValues&&this.hasAllNullValues(!1)&&(w=Object.assign({},w,{allNullValues:!0})),B.stringifyCollection(this,w,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:w.indent||"",onChompKeep:K,onComment:G})}};w.YAMLMap=Be;w.findPair=kn}));var Ti=_((w=>{"use strict";var B=oi(),G=Oi(),K={collection:"map",default:!0,nodeClass:G.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(w,G){return B.isMap(w)||G("Expected a mapping for this tag"),w},createNode:(w,B,K)=>G.YAMLMap.from(w,B,K)};w.map=K}));var Ni=_((w=>{"use strict";var B=bi(),G=Qi(),K=yi(),pe=oi(),ye=gi(),Se=di(),Be=class extends K.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(w){super(pe.SEQ,w),this.items=[]}add(w){this.items.push(w)}delete(w){let B=xo(w);return typeof B!="number"?!1:this.items.splice(B,1).length>0}get(w,B){let G=xo(w);if(typeof G!="number")return;let K=this.items[G];return!B&&pe.isScalar(K)?K.value:K}has(w){let B=xo(w);return typeof B=="number"&&B<this.items.length}set(w,B){let G=xo(w);if(typeof G!="number")throw new Error(`Expected a valid index, not ${w}.`);let K=this.items[G];pe.isScalar(K)&&ye.isScalarValue(B)?K.value=B:this.items[G]=B}toJSON(w,B){let G=[];B!=null&&B.onCreate&&B.onCreate(G);let K=0;for(let w of this.items)G.push(Se.toJS(w,String(K++),B));return G}toString(w,B,K){return w?G.stringifyCollection(this,w,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(w.indent||"")+"  ",onChompKeep:K,onComment:B}):JSON.stringify(this)}static from(w,G,K){let{replacer:pe}=K,ye=new this(w);if(G&&Symbol.iterator in Object(G)){let w=0;for(let Se of G){if(typeof pe=="function"){let B=G instanceof Set?Se:String(w++);Se=pe.call(G,B,Se)}ye.items.push(B.createNode(Se,void 0,K))}}return ye}};function xo(w){let B=pe.isScalar(w)?w.value:w;return B&&typeof B=="string"&&(B=Number(B)),typeof B=="number"&&Number.isInteger(B)&&B>=0?B:null}w.YAMLSeq=Be}));var Li=_((w=>{"use strict";var B=oi(),G=Ni(),K={collection:"seq",default:!0,nodeClass:G.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(w,G){return B.isSeq(w)||G("Expected a sequence for this tag"),w},createNode:(w,B,K)=>G.YAMLSeq.from(w,B,K)};w.seq=K}));var Hi=_((w=>{"use strict";var B=Ei(),G={identify:w=>typeof w=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:w=>w,stringify(w,G,K,pe){return G=Object.assign({actualString:!0},G),B.stringifyString(w,G,K,pe)}};w.string=G}));var Ui=_((w=>{"use strict";var B=gi(),G={identify:w=>w==null,createNode:()=>new B.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new B.Scalar(null),stringify:({source:w},B)=>typeof w=="string"&&G.test.test(w)?w:B.options.nullStr};w.nullTag=G}));var Wi=_((w=>{"use strict";var B=gi(),G={identify:w=>typeof w=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:w=>new B.Scalar(w[0]==="t"||w[0]==="T"),stringify({source:w,value:B},K){if(w&&G.test.test(w)){let G=w[0]==="t"||w[0]==="T";if(B===G)return w}return B?K.options.trueStr:K.options.falseStr}};w.boolTag=G}));var zi=_((w=>{"use strict";function wO({format:w,minFractionDigits:B,tag:G,value:K}){if(typeof K=="bigint")return String(K);let pe=typeof K=="number"?K:Number(K);if(!isFinite(pe))return isNaN(pe)?".nan":pe<0?"-.inf":".inf";let ye=JSON.stringify(K);if(!w&&B&&(!G||G==="tag:yaml.org,2002:float")&&/^\d/.test(ye)){let w=ye.indexOf(".");w<0&&(w=ye.length,ye+=".");let G=B-(ye.length-w-1);for(;G-- >0;)ye+="0"}return ye}w.stringifyNumber=wO}));var $i=_((w=>{"use strict";var B=gi(),G=zi(),K={identify:w=>typeof w=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:w=>w.slice(-3).toLowerCase()==="nan"?NaN:w[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:G.stringifyNumber},pe={identify:w=>typeof w=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:w=>parseFloat(w),stringify(w){let B=Number(w.value);return isFinite(B)?B.toExponential():G.stringifyNumber(w)}},ye={identify:w=>typeof w=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(w){let G=new B.Scalar(parseFloat(w)),K=w.indexOf(".");return K!==-1&&w[w.length-1]==="0"&&(G.minFractionDigits=w.length-K-1),G},stringify:G.stringifyNumber};w.float=ye;w.floatExp=pe;w.floatNaN=K}));var Ji=_((w=>{"use strict";var B=zi(),ko=w=>typeof w=="bigint"||Number.isInteger(w),jc=(w,B,G,{intAsBigInt:K})=>K?BigInt(w):parseInt(w.substring(B),G);function Gg(w,G,K){let{value:pe}=w;return ko(pe)&&pe>=0?K+pe.toString(G):B.stringifyNumber(w)}var G={identify:w=>ko(w)&&w>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(w,B,G)=>jc(w,2,8,G),stringify:w=>Gg(w,8,"0o")},K={identify:ko,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(w,B,G)=>jc(w,0,10,G),stringify:B.stringifyNumber},pe={identify:w=>ko(w)&&w>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(w,B,G)=>jc(w,2,16,G),stringify:w=>Gg(w,16,"0x")};w.int=K;w.intHex=pe;w.intOct=G}));var Yi=_((w=>{"use strict";var B=Ti(),G=Ui(),K=Li(),pe=Hi(),ye=Wi(),Se=$i(),Be=Ji(),Qe=[B.map,K.seq,pe.string,G.nullTag,ye.boolTag,Be.intOct,Be.int,Be.intHex,Se.floatNaN,Se.floatExp,Se.float];w.schema=Qe}));var Ki=_((w=>{"use strict";var B=gi(),G=Ti(),K=Li();function Kg(w){return typeof w=="bigint"||Number.isInteger(w)}var To=({value:w})=>JSON.stringify(w),pe=[{identify:w=>typeof w=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:w=>w,stringify:To},{identify:w=>w==null,createNode:()=>new B.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:To},{identify:w=>typeof w=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:w=>w==="true",stringify:To},{identify:Kg,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(w,B,{intAsBigInt:G})=>G?BigInt(w):parseInt(w,10),stringify:({value:w})=>Kg(w)?w.toString():JSON.stringify(w)},{identify:w=>typeof w=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:w=>parseFloat(w),stringify:To}],ye={default:!0,tag:"",test:/^/,resolve(w,B){return B(`Unresolved plain scalar ${JSON.stringify(w)}`),w}},Se=[G.map,K.seq].concat(pe,ye);w.schema=Se}));var Xi=_((w=>{"use strict";var B=gi(),G=Ei(),K={identify:w=>w instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(w,B){if(typeof Buffer=="function")return Buffer.from(w,"base64");if(typeof atob=="function"){let B=atob(w.replace(/[\n\r]/g,"")),G=new Uint8Array(B.length);for(let w=0;w<B.length;++w)G[w]=B.charCodeAt(w);return G}else return B("This environment does not support reading binary tags; either Buffer or atob is required"),w},stringify({comment:w,type:K,value:pe},ye,Se,Be){let Qe=pe,Pe;if(typeof Buffer=="function")Pe=Qe instanceof Buffer?Qe.toString("base64"):Buffer.from(Qe.buffer).toString("base64");else if(typeof btoa=="function"){let w="";for(let B=0;B<Qe.length;++B)w+=String.fromCharCode(Qe[B]);Pe=btoa(w)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(K||(K=B.Scalar.BLOCK_LITERAL),K!==B.Scalar.QUOTE_DOUBLE){let w=Math.max(ye.options.lineWidth-ye.indent.length,ye.options.minContentWidth),G=Math.ceil(Pe.length/w),pe=new Array(G);for(let B=0,K=0;B<G;++B,K+=w)pe[B]=Pe.substr(K,w);Pe=pe.join(K===B.Scalar.BLOCK_LITERAL?`\n`:" ")}return G.stringifyString({comment:w,type:K,value:Pe},ye,Se,Be)}};w.binary=K}));var Zi=_((w=>{"use strict";var B=oi(),G=ki(),K=gi(),pe=Ni();function Qg(w,pe){var ye;if(B.isSeq(w))for(let Se=0;Se<w.items.length;++Se){let Be=w.items[Se];if(!B.isPair(Be)){if(B.isMap(Be)){Be.items.length>1&&pe("Each pair must have its own sequence indicator");let w=Be.items[0]||new G.Pair(new K.Scalar(null));if(Be.commentBefore&&(w.key.commentBefore=w.key.commentBefore?`${Be.commentBefore}\n${w.key.commentBefore}`:Be.commentBefore),Be.comment){let B=(ye=w.value)!=null?ye:w.key;B.comment=B.comment?`${Be.comment}\n${B.comment}`:Be.comment}Be=w}w.items[Se]=B.isPair(Be)?Be:new G.Pair(Be)}}else pe("Expected a sequence for this tag");return w}function Xg(w,B,K){let{replacer:ye}=K,Se=new pe.YAMLSeq(w);Se.tag="tag:yaml.org,2002:pairs";let Be=0;if(B&&Symbol.iterator in Object(B))for(let w of B){typeof ye=="function"&&(w=ye.call(B,String(Be++),w));let pe,Qe;if(Array.isArray(w))if(w.length===2)pe=w[0],Qe=w[1];else throw new TypeError(`Expected [key, value] tuple: ${w}`);else if(w&&w instanceof Object){let B=Object.keys(w);if(B.length===1)pe=B[0],Qe=w[pe];else throw new TypeError(`Expected tuple with one key, not ${B.length} keys`)}else pe=w;Se.items.push(G.createPair(pe,Qe,K))}return Se}var ye={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Qg,createNode:Xg};w.createPairs=Xg;w.pairs=ye;w.resolvePairs=Qg}));var ds=_((w=>{"use strict";var B=oi(),G=di(),K=Oi(),pe=Ni(),ye=Zi(),Se=class i extends pe.YAMLSeq{constructor(){super(),this.add=K.YAMLMap.prototype.add.bind(this),this.delete=K.YAMLMap.prototype.delete.bind(this),this.get=K.YAMLMap.prototype.get.bind(this),this.has=K.YAMLMap.prototype.has.bind(this),this.set=K.YAMLMap.prototype.set.bind(this),this.tag=i.tag}toJSON(w,K){if(!K)return super.toJSON(w);let pe=new Map;K!=null&&K.onCreate&&K.onCreate(pe);for(let w of this.items){let ye,Se;if(B.isPair(w)?(ye=G.toJS(w.key,"",K),Se=G.toJS(w.value,ye,K)):ye=G.toJS(w,"",K),pe.has(ye))throw new Error("Ordered maps must not include duplicate keys");pe.set(ye,Se)}return pe}static from(w,B,G){let K=ye.createPairs(w,B,G),pe=new this;return pe.items=K.items,pe}};Se.tag="tag:yaml.org,2002:omap";var Be={collection:"seq",identify:w=>w instanceof Map,nodeClass:Se,default:!1,tag:"tag:yaml.org,2002:omap",resolve(w,G){let K=ye.resolvePairs(w,G),pe=[];for(let{key:w}of K.items)B.isScalar(w)&&(pe.includes(w.value)?G(`Ordered maps must not include duplicate keys: ${w.value}`):pe.push(w.value));return Object.assign(new Se,K)},createNode:(w,B,G)=>Se.from(w,B,G)};w.YAMLOMap=Se;w.omap=Be}));var hs=_((w=>{"use strict";var B=gi();function r0({value:w,source:B},pe){return B&&(w?G:K).test.test(B)?B:w?pe.options.trueStr:pe.options.falseStr}var G={identify:w=>w===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new B.Scalar(!0),stringify:r0},K={identify:w=>w===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new B.Scalar(!1),stringify:r0};w.falseTag=K;w.trueTag=G}));var ps=_((w=>{"use strict";var B=gi(),G=zi(),K={identify:w=>typeof w=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:w=>w.slice(-3).toLowerCase()==="nan"?NaN:w[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:G.stringifyNumber},pe={identify:w=>typeof w=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:w=>parseFloat(w.replace(/_/g,"")),stringify(w){let B=Number(w.value);return isFinite(B)?B.toExponential():G.stringifyNumber(w)}},ye={identify:w=>typeof w=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(w){let G=new B.Scalar(parseFloat(w.replace(/_/g,""))),K=w.indexOf(".");if(K!==-1){let B=w.substring(K+1).replace(/_/g,"");B[B.length-1]==="0"&&(G.minFractionDigits=B.length)}return G},stringify:G.stringifyNumber};w.float=ye;w.floatExp=pe;w.floatNaN=K}));var bs=_((w=>{"use strict";var B=zi(),An=w=>typeof w=="bigint"||Number.isInteger(w);function Bo(w,B,G,{intAsBigInt:K}){let pe=w[0];if((pe==="-"||pe==="+")&&(B+=1),w=w.substring(B).replace(/_/g,""),K){switch(G){case 2:w=`0b${w}`;break;case 8:w=`0o${w}`;break;case 16:w=`0x${w}`;break}let B=BigInt(w);return pe==="-"?BigInt(-1)*B:B}let ye=parseInt(w,G);return pe==="-"?-1*ye:ye}function Qc(w,G,K){let{value:pe}=w;if(An(pe)){let w=pe.toString(G);return pe<0?"-"+K+w.substr(1):K+w}return B.stringifyNumber(w)}var G={identify:An,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(w,B,G)=>Bo(w,2,2,G),stringify:w=>Qc(w,2,"0b")},K={identify:An,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(w,B,G)=>Bo(w,1,8,G),stringify:w=>Qc(w,8,"0")},pe={identify:An,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(w,B,G)=>Bo(w,0,10,G),stringify:B.stringifyNumber},ye={identify:An,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(w,B,G)=>Bo(w,2,16,G),stringify:w=>Qc(w,16,"0x")};w.int=pe;w.intBin=G;w.intHex=ye;w.intOct=K}));var ys=_((w=>{"use strict";var B=oi(),G=ki(),K=Oi(),pe=class i extends K.YAMLMap{constructor(w){super(w),this.tag=i.tag}add(w){let pe;B.isPair(w)?pe=w:w&&typeof w=="object"&&"key"in w&&"value"in w&&w.value===null?pe=new G.Pair(w.key,null):pe=new G.Pair(w,null),K.findPair(this.items,pe.key)||this.items.push(pe)}get(w,G){let pe=K.findPair(this.items,w);return!G&&B.isPair(pe)?B.isScalar(pe.key)?pe.key.value:pe.key:pe}set(w,B){if(typeof B!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof B}`);let pe=K.findPair(this.items,w);pe&&!B?this.items.splice(this.items.indexOf(pe),1):!pe&&B&&this.items.push(new G.Pair(w))}toJSON(w,B){return super.toJSON(w,B,Set)}toString(w,B,G){if(!w)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},w,{allNullValues:!0}),B,G);throw new Error("Set items must all have null values")}static from(w,B,K){let{replacer:pe}=K,ye=new this(w);if(B&&Symbol.iterator in Object(B))for(let w of B)typeof pe=="function"&&(w=pe.call(B,w,w)),ye.items.push(G.createPair(w,null,K));return ye}};pe.tag="tag:yaml.org,2002:set";var ye={collection:"map",identify:w=>w instanceof Set,nodeClass:pe,default:!1,tag:"tag:yaml.org,2002:set",createNode:(w,B,G)=>pe.from(w,B,G),resolve(w,G){if(B.isMap(w)){if(w.hasAllNullValues(!0))return Object.assign(new pe,w);G("Set items must all have null values")}else G("Expected a mapping for this tag");return w}};w.YAMLSet=pe;w.set=ye}));var vs=_((w=>{"use strict";var B=zi();function tu(w,B){let G=w[0],K=G==="-"||G==="+"?w.substring(1):w,n=w=>B?BigInt(w):Number(w),pe=K.replace(/_/g,"").split(":").reduce(((w,B)=>w*n(60)+n(B)),n(0));return G==="-"?n(-1)*pe:pe}function u0(w){let{value:G}=w,t=w=>w;if(typeof G=="bigint")t=w=>BigInt(w);else if(isNaN(G)||!isFinite(G))return B.stringifyNumber(w);let K="";G<0&&(K="-",G*=t(-1));let pe=t(60),ye=[G%pe];return G<60?ye.unshift(0):(G=(G-ye[0])/pe,ye.unshift(G%pe),G>=60&&(G=(G-ye[0])/pe,ye.unshift(G))),K+ye.map((w=>String(w).padStart(2,"0"))).join(":").replace(/000000\d*$/,"")}var G={identify:w=>typeof w=="bigint"||Number.isInteger(w),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(w,B,{intAsBigInt:G})=>tu(w,G),stringify:u0},K={identify:w=>typeof w=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:w=>tu(w,!1),stringify:u0},pe={identify:w=>w instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(w){let B=w.match(pe.test);if(!B)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,G,K,ye,Se,Be,Qe]=B.map(Number),Pe=B[7]?Number((B[7]+"00").substr(1,3)):0,Fe=Date.UTC(G,K-1,ye,Se||0,Be||0,Qe||0,Pe),Me=B[8];if(Me&&Me!=="Z"){let w=tu(Me,!1);Math.abs(w)<30&&(w*=60),Fe-=6e4*w}return new Date(Fe)},stringify:({value:w})=>w.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};w.floatTime=K;w.intTime=G;w.timestamp=pe}));var _s=_((w=>{"use strict";var B=Ti(),G=Ui(),K=Li(),pe=Hi(),ye=Xi(),Se=hs(),Be=ps(),Qe=bs(),Pe=Si(),Fe=ds(),Me=Zi(),Le=ys(),je=vs(),qe=[B.map,K.seq,pe.string,G.nullTag,Se.trueTag,Se.falseTag,Qe.intBin,Qe.intOct,Qe.int,Qe.intHex,Be.floatNaN,Be.floatExp,Be.float,ye.binary,Pe.merge,Fe.omap,Me.pairs,Le.set,je.intTime,je.floatTime,je.timestamp];w.schema=qe}));var Ss=_((w=>{"use strict";var B=Ti(),G=Ui(),K=Li(),pe=Hi(),ye=Wi(),Se=$i(),Be=Ji(),Qe=Yi(),Pe=Ki(),Fe=Xi(),Me=Si(),Le=ds(),je=Zi(),qe=_s(),We=ys(),Ge=vs(),ze=new Map([["core",Qe.schema],["failsafe",[B.map,K.seq,pe.string]],["json",Pe.schema],["yaml11",qe.schema],["yaml-1.1",qe.schema]]),Ye={binary:Fe.binary,bool:ye.boolTag,float:Se.float,floatExp:Se.floatExp,floatNaN:Se.floatNaN,floatTime:Ge.floatTime,int:Be.int,intHex:Be.intHex,intOct:Be.intOct,intTime:Ge.intTime,map:B.map,merge:Me.merge,null:G.nullTag,omap:Le.omap,pairs:je.pairs,seq:K.seq,set:We.set,timestamp:Ge.timestamp},Ke={"tag:yaml.org,2002:binary":Fe.binary,"tag:yaml.org,2002:merge":Me.merge,"tag:yaml.org,2002:omap":Le.omap,"tag:yaml.org,2002:pairs":je.pairs,"tag:yaml.org,2002:set":We.set,"tag:yaml.org,2002:timestamp":Ge.timestamp};function xk(w,B,G){let K=ze.get(B);if(K&&!w)return G&&!K.includes(Me.merge)?K.concat(Me.merge):K.slice();let pe=K;if(!pe)if(Array.isArray(w))pe=[];else{let w=Array.from(ze.keys()).filter((w=>w!=="yaml11")).map((w=>JSON.stringify(w))).join(", ");throw new Error(`Unknown schema "${B}"; use one of ${w} or define customTags array`)}if(Array.isArray(w))for(let B of w)pe=pe.concat(B);else typeof w=="function"&&(pe=w(pe.slice()));return G&&(pe=pe.concat(Me.merge)),pe.reduce(((w,B)=>{let G=typeof B=="string"?Ye[B]:B;if(!G){let w=JSON.stringify(B),G=Object.keys(Ye).map((w=>JSON.stringify(w))).join(", ");throw new Error(`Unknown custom tag ${w}; use one of ${G}`)}return w.includes(G)||w.push(G),w}),[])}w.coreKnownTags=Ke;w.getTags=xk}));var Bs=_((w=>{"use strict";var B=oi(),G=Ti(),K=Li(),pe=Hi(),ye=Ss(),kk=(w,B)=>w.key<B.key?-1:w.key>B.key?1:0,Se=class i{constructor({compat:w,customTags:Se,merge:Be,resolveKnownTags:Qe,schema:Pe,sortMapEntries:Fe,toStringDefaults:Me}){this.compat=Array.isArray(w)?ye.getTags(w,"compat"):w?ye.getTags(null,w):null,this.name=typeof Pe=="string"&&Pe||"core",this.knownTags=Qe?ye.coreKnownTags:{},this.tags=ye.getTags(Se,this.name,Be),this.toStringOptions=Me!=null?Me:null,Object.defineProperty(this,B.MAP,{value:G.map}),Object.defineProperty(this,B.SCALAR,{value:pe.string}),Object.defineProperty(this,B.SEQ,{value:K.seq}),this.sortMapEntries=typeof Fe=="function"?Fe:Fe===!0?kk:null}clone(){let w=Object.create(i.prototype,Object.getOwnPropertyDescriptors(this));return w.tags=this.tags.slice(),w}};w.Schema=Se}));var Qs=_((w=>{"use strict";var B=oi(),G=_i(),K=wi();function Tk(w,pe){var ye;let Se=[],Be=pe.directives===!0;if(pe.directives!==!1&&w.directives){let B=w.directives.toString(w);B?(Se.push(B),Be=!0):w.directives.docStart&&(Be=!0)}Be&&Se.push("---");let Qe=G.createStringifyContext(w,pe),{commentString:Pe}=Qe.options;if(w.commentBefore){Se.length!==1&&Se.unshift("");let B=Pe(w.commentBefore);Se.unshift(K.indentComment(B,""))}let Fe=!1,Me=null;if(w.contents){if(B.isNode(w.contents)){if(w.contents.spaceBefore&&Be&&Se.push(""),w.contents.commentBefore){let B=Pe(w.contents.commentBefore);Se.push(K.indentComment(B,""))}Qe.forceBlockIndent=!!w.comment,Me=w.contents.comment}let pe=Me?void 0:()=>Fe=!0,ye=G.stringify(w.contents,Qe,(()=>Me=null),pe);Me&&(ye+=K.lineComment(ye,"",Pe(Me))),(ye[0]==="|"||ye[0]===">")&&Se[Se.length-1]==="---"?Se[Se.length-1]=`--- ${ye}`:Se.push(ye)}else Se.push(G.stringify(w.contents,Qe));if((ye=w.directives)!=null&&ye.docEnd)if(w.comment){let B=Pe(w.comment);B.includes(`\n`)?(Se.push("..."),Se.push(K.indentComment(B,""))):Se.push(`... ${B}`)}else Se.push("...");else{let B=w.comment;B&&Fe&&(B=B.replace(/^\n+/,"")),B&&((!Fe||Me)&&Se[Se.length-1]!==""&&Se.push(""),Se.push(K.indentComment(Pe(B),"")))}return Se.join(`\n`)+`\n`}w.stringifyDocument=Tk}));var Os=_((w=>{"use strict";var B=fi(),G=yi(),K=oi(),pe=ki(),ye=di(),Se=Bs(),Be=Qs(),Qe=ci(),Pe=ui(),Fe=bi(),Me=li(),Le=class i{constructor(w,B,G){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,K.NODE_TYPE,{value:K.DOC});let pe=null;typeof B=="function"||Array.isArray(B)?pe=B:G===void 0&&B&&(G=B,B=void 0);let ye=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},G);this.options=ye;let{version:Se}=ye;G!=null&&G._directives?(this.directives=G._directives.atDocument(),this.directives.yaml.explicit&&(Se=this.directives.yaml.version)):this.directives=new Me.Directives({version:Se}),this.setSchema(Se,G),this.contents=w===void 0?null:this.createNode(w,pe,G)}clone(){let w=Object.create(i.prototype,{[K.NODE_TYPE]:{value:K.DOC}});return w.commentBefore=this.commentBefore,w.comment=this.comment,w.errors=this.errors.slice(),w.warnings=this.warnings.slice(),w.options=Object.assign({},this.options),this.directives&&(w.directives=this.directives.clone()),w.schema=this.schema.clone(),w.contents=K.isNode(this.contents)?this.contents.clone(w.schema):this.contents,this.range&&(w.range=this.range.slice()),w}add(w){$r(this.contents)&&this.contents.add(w)}addIn(w,B){$r(this.contents)&&this.contents.addIn(w,B)}createAlias(w,G){if(!w.anchor){let B=Qe.anchorNames(this);w.anchor=!G||B.has(G)?Qe.findNewAnchor(G||"a",B):G}return new B.Alias(w.anchor)}createNode(w,B,G){let pe;if(typeof B=="function")w=B.call({"":w},"",w),pe=B;else if(Array.isArray(B)){let b=w=>typeof w=="number"||w instanceof String||w instanceof Number,w=B.filter(b).map(String);w.length>0&&(B=B.concat(w)),pe=B}else G===void 0&&B&&(G=B,B=void 0);let{aliasDuplicateObjects:ye,anchorPrefix:Se,flow:Be,keepUndefined:Pe,onTagObj:Me,tag:Le}=G!=null?G:{},{onAnchor:je,setAnchors:qe,sourceObjects:We}=Qe.createNodeAnchors(this,Se||"a"),Ge={aliasDuplicateObjects:ye!=null?ye:!0,keepUndefined:Pe!=null?Pe:!1,onAnchor:je,onTagObj:Me,replacer:pe,schema:this.schema,sourceObjects:We},ze=Fe.createNode(w,Le,Ge);return Be&&K.isCollection(ze)&&(ze.flow=!0),qe(),ze}createPair(w,B,G={}){let K=this.createNode(w,null,G),ye=this.createNode(B,null,G);return new pe.Pair(K,ye)}delete(w){return $r(this.contents)?this.contents.delete(w):!1}deleteIn(w){return G.isEmptyPath(w)?this.contents==null?!1:(this.contents=null,!0):$r(this.contents)?this.contents.deleteIn(w):!1}get(w,B){return K.isCollection(this.contents)?this.contents.get(w,B):void 0}getIn(w,B){return G.isEmptyPath(w)?!B&&K.isScalar(this.contents)?this.contents.value:this.contents:K.isCollection(this.contents)?this.contents.getIn(w,B):void 0}has(w){return K.isCollection(this.contents)?this.contents.has(w):!1}hasIn(w){return G.isEmptyPath(w)?this.contents!==void 0:K.isCollection(this.contents)?this.contents.hasIn(w):!1}set(w,B){this.contents==null?this.contents=G.collectionFromPath(this.schema,[w],B):$r(this.contents)&&this.contents.set(w,B)}setIn(w,B){G.isEmptyPath(w)?this.contents=B:this.contents==null?this.contents=G.collectionFromPath(this.schema,Array.from(w),B):$r(this.contents)&&this.contents.setIn(w,B)}setSchema(w,B={}){typeof w=="number"&&(w=String(w));let G;switch(w){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Me.Directives({version:"1.1"}),G={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=w:this.directives=new Me.Directives({version:w}),G={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,G=null;break;default:{let B=JSON.stringify(w);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${B}`)}}if(B.schema instanceof Object)this.schema=B.schema;else if(G)this.schema=new Se.Schema(Object.assign(G,B));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:w,jsonArg:B,mapAsMap:G,maxAliasCount:K,onAnchor:pe,reviver:Se}={}){let Be={anchors:new Map,doc:this,keep:!w,mapAsMap:G===!0,mapKeyWarned:!1,maxAliasCount:typeof K=="number"?K:100},Qe=ye.toJS(this.contents,B!=null?B:"",Be);if(typeof pe=="function")for(let{count:w,res:B}of Be.anchors.values())pe(B,w);return typeof Se=="function"?Pe.applyReviver(Se,{"":Qe},"",Qe):Qe}toJSON(w,B){return this.toJS({json:!0,jsonArg:w,mapAsMap:!1,onAnchor:B})}toString(w={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in w&&(!Number.isInteger(w.indent)||Number(w.indent)<=0)){let B=JSON.stringify(w.indent);throw new Error(`"indent" option must be a positive integer, not ${B}`)}return Be.stringifyDocument(this,w)}};function $r(w){if(K.isCollection(w))return!0;throw new Error("Expected a YAML collection as document contents")}w.Document=Le}));var Ps=_((w=>{"use strict";var B=class extends Error{constructor(w,B,G,K){super(),this.name=w,this.code=G,this.message=K,this.pos=B}},G=class extends B{constructor(w,B,G){super("YAMLParseError",w,B,G)}},K=class extends B{constructor(w,B,G){super("YAMLWarning",w,B,G)}},Mk=(w,B)=>G=>{if(G.pos[0]===-1)return;G.linePos=G.pos.map((w=>B.linePos(w)));let{line:K,col:pe}=G.linePos[0];G.message+=` at line ${K}, column ${pe}`;let ye=pe-1,Se=w.substring(B.lineStarts[K-1],B.lineStarts[K]).replace(/[\n\r]+$/,"");if(ye>=60&&Se.length>80){let w=Math.min(ye-39,Se.length-79);Se=""+Se.substring(w),ye-=w-1}if(Se.length>80&&(Se=Se.substring(0,79)+""),K>1&&/^ *$/.test(Se.substring(0,ye))){let G=w.substring(B.lineStarts[K-2],B.lineStarts[K-1]);G.length>80&&(G=G.substring(0,79)+`\n`),Se=G+Se}if(/[^ ]/.test(Se)){let w=1,B=G.linePos[1];B&&B.line===K&&B.col>pe&&(w=Math.max(1,Math.min(B.col-pe,80-ye)));let Be=" ".repeat(ye)+"^".repeat(w);G.message+=`:\n\n${Se}\n${Be}\n`}};w.YAMLError=B;w.YAMLParseError=G;w.YAMLWarning=K;w.prettifyError=Mk}));var Ds=_((w=>{"use strict";function Dk(w,{flow:B,indicator:G,next:K,offset:pe,onError:ye,parentIndent:Se,startOnNewline:Be}){let Qe=!1,Pe=Be,Fe=Be,Me="",Le="",je=!1,qe=!1,We=null,Ge=null,ze=null,Ye=null,Ke=null,Xe=null,rt=null;for(let pe of w)switch(qe&&(pe.type!=="space"&&pe.type!=="newline"&&pe.type!=="comma"&&ye(pe.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),qe=!1),We&&(Pe&&pe.type!=="comment"&&pe.type!=="newline"&&ye(We,"TAB_AS_INDENT","Tabs are not allowed as indentation"),We=null),pe.type){case"space":!B&&(G!=="doc-start"||(K==null?void 0:K.type)!=="flow-collection")&&pe.source.includes("\t")&&(We=pe),Fe=!0;break;case"comment":{Fe||ye(pe,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let w=pe.source.substring(1)||" ";Me?Me+=Le+w:Me=w,Le="",Pe=!1;break}case"newline":Pe?Me?Me+=pe.source:Qe=!0:Le+=pe.source,Pe=!0,je=!0,(Ge||ze)&&(Ye=pe),Fe=!0;break;case"anchor":Ge&&ye(pe,"MULTIPLE_ANCHORS","A node can have at most one anchor"),pe.source.endsWith(":")&&ye(pe.offset+pe.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),Ge=pe,rt===null&&(rt=pe.offset),Pe=!1,Fe=!1,qe=!0;break;case"tag":{ze&&ye(pe,"MULTIPLE_TAGS","A node can have at most one tag"),ze=pe,rt===null&&(rt=pe.offset),Pe=!1,Fe=!1,qe=!0;break}case G:(Ge||ze)&&ye(pe,"BAD_PROP_ORDER",`Anchors and tags must be after the ${pe.source} indicator`),Xe&&ye(pe,"UNEXPECTED_TOKEN",`Unexpected ${pe.source} in ${B!=null?B:"collection"}`),Xe=pe,Pe=G==="seq-item-ind"||G==="explicit-key-ind",Fe=!1;break;case"comma":if(B){Ke&&ye(pe,"UNEXPECTED_TOKEN",`Unexpected , in ${B}`),Ke=pe,Pe=!1,Fe=!1;break}default:ye(pe,"UNEXPECTED_TOKEN",`Unexpected ${pe.type} token`),Pe=!1,Fe=!1}let it=w[w.length-1],ot=it?it.offset+it.source.length:pe;return qe&&K&&K.type!=="space"&&K.type!=="newline"&&K.type!=="comma"&&(K.type!=="scalar"||K.source!=="")&&ye(K.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),We&&(Pe&&We.indent<=Se||(K==null?void 0:K.type)==="block-map"||(K==null?void 0:K.type)==="block-seq")&&ye(We,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:Ke,found:Xe,spaceBefore:Qe,comment:Me,hasNewline:je,anchor:Ge,tag:ze,newlineAfterProp:Ye,end:ot,start:rt!=null?rt:ot}}w.resolveProps=Dk}));var Fs=_((w=>{"use strict";function vu(w){if(!w)return null;switch(w.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(w.source.includes(`\n`))return!0;if(w.end){for(let B of w.end)if(B.type==="newline")return!0}return!1;case"flow-collection":for(let B of w.items){for(let w of B.start)if(w.type==="newline")return!0;if(B.sep){for(let w of B.sep)if(w.type==="newline")return!0}if(vu(B.key)||vu(B.value))return!0}return!1;default:return!0}}w.containsNewline=vu}));var Ns=_((w=>{"use strict";var B=Fs();function qk(w,G,K){if((G==null?void 0:G.type)==="flow-collection"){let pe=G.end[0];pe.indent===w&&(pe.source==="]"||pe.source==="}")&&B.containsNewline(G)&&K(pe,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}w.flowIndentCheck=qk}));var js=_((w=>{"use strict";var B=oi();function jk(w,G,K){let{uniqueKeys:pe}=w.options;if(pe===!1)return!1;let ye=typeof pe=="function"?pe:(w,G)=>w===G||B.isScalar(w)&&B.isScalar(G)&&w.value===G.value;return G.some((w=>ye(w.key,K)))}w.mapIncludes=jk}));var Hs=_((w=>{"use strict";var B=ki(),G=Oi(),K=Ds(),pe=Fs(),ye=Ns(),Se=js(),Be="All mapping items must start at the same column";function Hk({composeNode:w,composeEmptyNode:Qe},Pe,Fe,Me,Le){var je,qe;let We=(je=Le==null?void 0:Le.nodeClass)!=null?je:G.YAMLMap,Ge=new We(Pe.schema);Pe.atRoot&&(Pe.atRoot=!1);let ze=Fe.offset,Ye=null;for(let G of Fe.items){let{start:Le,key:je,sep:We,value:Ke}=G,Xe=K.resolveProps(Le,{indicator:"explicit-key-ind",next:je!=null?je:We==null?void 0:We[0],offset:ze,onError:Me,parentIndent:Fe.indent,startOnNewline:!0}),rt=!Xe.found;if(rt){if(je&&(je.type==="block-seq"?Me(ze,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in je&&je.indent!==Fe.indent&&Me(ze,"BAD_INDENT",Be)),!Xe.anchor&&!Xe.tag&&!We){Ye=Xe.end,Xe.comment&&(Ge.comment?Ge.comment+=`\n`+Xe.comment:Ge.comment=Xe.comment);continue}(Xe.newlineAfterProp||pe.containsNewline(je))&&Me(je!=null?je:Le[Le.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((qe=Xe.found)==null?void 0:qe.indent)!==Fe.indent&&Me(ze,"BAD_INDENT",Be);Pe.atKey=!0;let it=Xe.end,ot=je?w(Pe,je,Xe,Me):Qe(Pe,it,Le,null,Xe,Me);Pe.schema.compat&&ye.flowIndentCheck(Fe.indent,je,Me),Pe.atKey=!1,Se.mapIncludes(Pe,Ge.items,ot)&&Me(it,"DUPLICATE_KEY","Map keys must be unique");let at=K.resolveProps(We!=null?We:[],{indicator:"map-value-ind",next:Ke,offset:ot.range[2],onError:Me,parentIndent:Fe.indent,startOnNewline:!je||je.type==="block-scalar"});if(ze=at.end,at.found){rt&&((Ke==null?void 0:Ke.type)==="block-map"&&!at.hasNewline&&Me(ze,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),Pe.options.strict&&Xe.start<at.found.offset-1024&&Me(ot.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let K=Ke?w(Pe,Ke,at,Me):Qe(Pe,ze,We,null,at,Me);Pe.schema.compat&&ye.flowIndentCheck(Fe.indent,Ke,Me),ze=K.range[2];let pe=new B.Pair(ot,K);Pe.options.keepSourceTokens&&(pe.srcToken=G),Ge.items.push(pe)}else{rt&&Me(ot.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),at.comment&&(ot.comment?ot.comment+=`\n`+at.comment:ot.comment=at.comment);let w=new B.Pair(ot);Pe.options.keepSourceTokens&&(w.srcToken=G),Ge.items.push(w)}}return Ye&&Ye<ze&&Me(Ye,"IMPOSSIBLE","Map comment with trailing content"),Ge.range=[Fe.offset,ze,Ye!=null?Ye:ze],Ge}w.resolveBlockMap=Hk}));var Us=_((w=>{"use strict";var B=Ni(),G=Ds(),K=Ns();function Kk({composeNode:w,composeEmptyNode:pe},ye,Se,Be,Qe){var Pe;let Fe=(Pe=Qe==null?void 0:Qe.nodeClass)!=null?Pe:B.YAMLSeq,Me=new Fe(ye.schema);ye.atRoot&&(ye.atRoot=!1),ye.atKey&&(ye.atKey=!1);let Le=Se.offset,je=null;for(let{start:B,value:Qe}of Se.items){let Pe=G.resolveProps(B,{indicator:"seq-item-ind",next:Qe,offset:Le,onError:Be,parentIndent:Se.indent,startOnNewline:!0});if(!Pe.found)if(Pe.anchor||Pe.tag||Qe)Qe&&Qe.type==="block-seq"?Be(Pe.end,"BAD_INDENT","All sequence items must start at the same column"):Be(Le,"MISSING_CHAR","Sequence item without - indicator");else{je=Pe.end,Pe.comment&&(Me.comment=Pe.comment);continue}let Fe=Qe?w(ye,Qe,Pe,Be):pe(ye,Pe.end,B,null,Pe,Be);ye.schema.compat&&K.flowIndentCheck(Se.indent,Qe,Be),Le=Fe.range[2],Me.items.push(Fe)}return Me.range=[Se.offset,Le,je!=null?je:Le],Me}w.resolveBlockSeq=Kk}));var qs=_((w=>{"use strict";function zk(w,B,G,K){let pe="";if(w){let ye=!1,Se="";for(let Be of w){let{source:w,type:Qe}=Be;switch(Qe){case"space":ye=!0;break;case"comment":{G&&!ye&&K(Be,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let B=w.substring(1)||" ";pe?pe+=Se+B:pe=B,Se="";break}case"newline":pe&&(Se+=w),ye=!0;break;default:K(Be,"UNEXPECTED_TOKEN",`Unexpected ${Qe} at node end`)}B+=w.length}}return{comment:pe,offset:B}}w.resolveEnd=zk}));var Vs=_((w=>{"use strict";var B=oi(),G=ki(),K=Oi(),pe=Ni(),ye=qs(),Se=Ds(),Be=Fs(),Qe=js(),Pe="Block collections are not allowed within flow collections",wu=w=>w&&(w.type==="block-map"||w.type==="block-seq");function iC({composeNode:w,composeEmptyNode:Fe},Me,Le,je,qe){var We,Ge;let ze=Le.start.source==="{",Ye=ze?"flow map":"flow sequence",Ke=(We=qe==null?void 0:qe.nodeClass)!=null?We:ze?K.YAMLMap:pe.YAMLSeq,Xe=new Ke(Me.schema);Xe.flow=!0;let rt=Me.atRoot;rt&&(Me.atRoot=!1),Me.atKey&&(Me.atKey=!1);let it=Le.offset+Le.start.source.length;for(let pe=0;pe<Le.items.length;++pe){let ye=Le.items[pe],{start:qe,key:We,sep:Ke,value:rt}=ye,ot=Se.resolveProps(qe,{flow:Ye,indicator:"explicit-key-ind",next:We!=null?We:Ke==null?void 0:Ke[0],offset:it,onError:je,parentIndent:Le.indent,startOnNewline:!1});if(!ot.found){if(!ot.anchor&&!ot.tag&&!Ke&&!rt){pe===0&&ot.comma?je(ot.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${Ye}`):pe<Le.items.length-1&&je(ot.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${Ye}`),ot.comment&&(Xe.comment?Xe.comment+=`\n`+ot.comment:Xe.comment=ot.comment),it=ot.end;continue}!ze&&Me.options.strict&&Be.containsNewline(We)&&je(We,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(pe===0)ot.comma&&je(ot.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${Ye}`);else if(ot.comma||je(ot.start,"MISSING_CHAR",`Missing , between ${Ye} items`),ot.comment){let w="";e:for(let B of qe)switch(B.type){case"comma":case"space":break;case"comment":w=B.source.substring(1);break e;default:break e}if(w){let G=Xe.items[Xe.items.length-1];B.isPair(G)&&(G=(Ge=G.value)!=null?Ge:G.key),G.comment?G.comment+=`\n`+w:G.comment=w,ot.comment=ot.comment.substring(w.length+1)}}if(!ze&&!Ke&&!ot.found){let B=rt?w(Me,rt,ot,je):Fe(Me,ot.end,Ke,null,ot,je);Xe.items.push(B),it=B.range[2],wu(rt)&&je(B.range,"BLOCK_IN_FLOW",Pe)}else{Me.atKey=!0;let B=ot.end,pe=We?w(Me,We,ot,je):Fe(Me,B,qe,null,ot,je);wu(We)&&je(pe.range,"BLOCK_IN_FLOW",Pe),Me.atKey=!1;let Be=Se.resolveProps(Ke!=null?Ke:[],{flow:Ye,indicator:"map-value-ind",next:rt,offset:pe.range[2],onError:je,parentIndent:Le.indent,startOnNewline:!1});if(Be.found){if(!ze&&!ot.found&&Me.options.strict){if(Ke)for(let w of Ke){if(w===Be.found)break;if(w.type==="newline"){je(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}ot.start<Be.found.offset-1024&&je(Be.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else rt&&("source"in rt&&rt.source&&rt.source[0]===":"?je(rt,"MISSING_CHAR",`Missing space after : in ${Ye}`):je(Be.start,"MISSING_CHAR",`Missing , or : between ${Ye} items`));let Ge=rt?w(Me,rt,Be,je):Be.found?Fe(Me,Be.end,Ke,null,Be,je):null;Ge?wu(rt)&&je(Ge.range,"BLOCK_IN_FLOW",Pe):Be.comment&&(pe.comment?pe.comment+=`\n`+Be.comment:pe.comment=Be.comment);let at=new G.Pair(pe,Ge);if(Me.options.keepSourceTokens&&(at.srcToken=ye),ze){let w=Xe;Qe.mapIncludes(Me,w.items,pe)&&je(B,"DUPLICATE_KEY","Map keys must be unique"),w.items.push(at)}else{let w=new K.YAMLMap(Me.schema);w.flow=!0,w.items.push(at);let B=(Ge!=null?Ge:pe).range;w.range=[pe.range[0],B[1],B[2]],Xe.items.push(w)}it=Ge?Ge.range[2]:Be.end}}let ot=ze?"}":"]",[at,...lt]=Le.end,ct=it;if(at&&at.source===ot)ct=at.offset+at.source.length;else{let w=Ye[0].toUpperCase()+Ye.substring(1),B=rt?`${w} must end with a ${ot}`:`${w} in block collection must be sufficiently indented and end with a ${ot}`;je(it,rt?"MISSING_CHAR":"BAD_INDENT",B),at&&at.source.length!==1&&lt.unshift(at)}if(lt.length>0){let w=ye.resolveEnd(lt,ct,Me.options.strict,je);w.comment&&(Xe.comment?Xe.comment+=`\n`+w.comment:Xe.comment=w.comment),Xe.range=[Le.offset,ct,w.offset]}else Xe.range=[Le.offset,ct,ct];return Xe}w.resolveFlowCollection=iC}));var zs=_((w=>{"use strict";var B=oi(),G=gi(),K=Oi(),pe=Ni(),ye=Hs(),Se=Us(),Be=Vs();function xu(w,B,G,K,pe,Qe){let Pe=G.type==="block-map"?ye.resolveBlockMap(w,B,G,K,Qe):G.type==="block-seq"?Se.resolveBlockSeq(w,B,G,K,Qe):Be.resolveFlowCollection(w,B,G,K,Qe),Fe=Pe.constructor;return pe==="!"||pe===Fe.tagName?(Pe.tag=Fe.tagName,Pe):(pe&&(Pe.tag=pe),Pe)}function uC(w,ye,Se,Be,Qe){var Pe,Fe;let Me=Be.tag,Le=Me?ye.directives.tagName(Me.source,(w=>Qe(Me,"TAG_RESOLVE_FAILED",w))):null;if(Se.type==="block-seq"){let{anchor:w,newlineAfterProp:B}=Be,G=w&&Me?w.offset>Me.offset?w:Me:w!=null?w:Me;G&&(!B||B.offset<G.offset)&&Qe(G,"MISSING_CHAR","Missing newline after block sequence props")}let je=Se.type==="block-map"?"map":Se.type==="block-seq"?"seq":Se.start.source==="{"?"map":"seq";if(!Me||!Le||Le==="!"||Le===K.YAMLMap.tagName&&je==="map"||Le===pe.YAMLSeq.tagName&&je==="seq")return xu(w,ye,Se,Qe,Le);let qe=ye.schema.tags.find((w=>w.tag===Le&&w.collection===je));if(!qe){let B=ye.schema.knownTags[Le];if(B&&B.collection===je)ye.schema.tags.push(Object.assign({},B,{default:!1})),qe=B;else return B!=null&&B.collection?Qe(Me,"BAD_COLLECTION_TYPE",`${B.tag} used for ${je} collection, but expects ${B.collection}`,!0):Qe(Me,"TAG_RESOLVE_FAILED",`Unresolved tag: ${Le}`,!0),xu(w,ye,Se,Qe,Le)}let We=xu(w,ye,Se,Qe,Le,qe),Ge=(Fe=(Pe=qe.resolve)==null?void 0:Pe.call(qe,We,(w=>Qe(Me,"TAG_RESOLVE_FAILED",w)),ye.options))!=null?Fe:We,ze=B.isNode(Ge)?Ge:new G.Scalar(Ge);return ze.range=We.range,ze.tag=Le,qe!=null&&qe.format&&(ze.format=qe.format),ze}w.composeCollection=uC}));var $s=_((w=>{"use strict";var B=gi();function fC(w,G,K){let pe=G.offset,ye=hC(G,w.options.strict,K);if(!ye)return{value:"",type:null,comment:"",range:[pe,pe,pe]};let Se=ye.mode===">"?B.Scalar.BLOCK_FOLDED:B.Scalar.BLOCK_LITERAL,Be=G.source?pC(G.source):[],Qe=Be.length;for(let w=Be.length-1;w>=0;--w){let B=Be[w][1];if(B===""||B==="\r")Qe=w;else break}if(Qe===0){let w=ye.chomp==="+"&&Be.length>0?`\n`.repeat(Math.max(1,Be.length-1)):"",B=pe+ye.length;return G.source&&(B+=G.source.length),{value:w,type:Se,comment:ye.comment,range:[pe,B,B]}}let Pe=G.indent+ye.indent,Fe=G.offset+ye.length,Me=0;for(let B=0;B<Qe;++B){let[G,pe]=Be[B];if(pe===""||pe==="\r")ye.indent===0&&G.length>Pe&&(Pe=G.length);else{G.length<Pe&&K(Fe+G.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),ye.indent===0&&(Pe=G.length),Me=B,Pe===0&&!w.atRoot&&K(Fe,"BAD_INDENT","Block scalar values in collections must be indented");break}Fe+=G.length+pe.length+1}for(let w=Be.length-1;w>=Qe;--w)Be[w][0].length>Pe&&(Qe=w+1);let Le="",je="",qe=!1;for(let w=0;w<Me;++w)Le+=Be[w][0].slice(Pe)+`\n`;for(let w=Me;w<Qe;++w){let[G,pe]=Be[w];Fe+=G.length+pe.length+1;let Qe=pe[pe.length-1]==="\r";if(Qe&&(pe=pe.slice(0,-1)),pe&&G.length<Pe){let w=`Block scalar lines must not be less indented than their ${ye.indent?"explicit indentation indicator":"first line"}`;K(Fe-pe.length-(Qe?2:1),"BAD_INDENT",w),G=""}Se===B.Scalar.BLOCK_LITERAL?(Le+=je+G.slice(Pe)+pe,je=`\n`):G.length>Pe||pe[0]==="\t"?(je===" "?je=`\n`:!qe&&je===`\n`&&(je=`\n\n`),Le+=je+G.slice(Pe)+pe,je=`\n`,qe=!0):pe===""?je===`\n`?Le+=`\n`:je=`\n`:(Le+=je+pe,je=" ",qe=!1)}switch(ye.chomp){case"-":break;case"+":for(let w=Qe;w<Be.length;++w)Le+=`\n`+Be[w][0].slice(Pe);Le[Le.length-1]!==`\n`&&(Le+=`\n`);break;default:Le+=`\n`}let We=pe+ye.length+G.source.length;return{value:Le,type:Se,comment:ye.comment,range:[pe,We,We]}}function hC({offset:w,props:B},G,K){if(B[0].type!=="block-scalar-header")return K(B[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:pe}=B[0],ye=pe[0],Se=0,Be="",Qe=-1;for(let B=1;B<pe.length;++B){let G=pe[B];if(!Be&&(G==="-"||G==="+"))Be=G;else{let K=Number(G);!Se&&K?Se=K:Qe===-1&&(Qe=w+B)}}Qe!==-1&&K(Qe,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${pe}`);let Pe=!1,Fe="",Me=pe.length;for(let w=1;w<B.length;++w){let pe=B[w];switch(pe.type){case"space":Pe=!0;case"newline":Me+=pe.source.length;break;case"comment":G&&!Pe&&K(pe,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),Me+=pe.source.length,Fe=pe.source.substring(1);break;case"error":K(pe,"UNEXPECTED_TOKEN",pe.message),Me+=pe.source.length;break;default:{let w=`Unexpected token in block scalar header: ${pe.type}`;K(pe,"UNEXPECTED_TOKEN",w);let B=pe.source;B&&typeof B=="string"&&(Me+=B.length)}}}return{mode:ye,indent:Se,chomp:Be,comment:Fe,length:Me}}function pC(w){let B=w.split(/\n( *)/),G=B[0],K=G.match(/^( *)/),pe=[K!=null&&K[1]?[K[1],G.slice(K[1].length)]:["",G]];for(let w=1;w<B.length;w+=2)pe.push([B[w],B[w+1]]);return pe}w.resolveBlockScalar=fC}));var Js=_((w=>{"use strict";var B=gi(),G=qs();function mC(w,K,pe){let{offset:ye,type:Se,source:Be,end:Qe}=w,Pe,Fe,c=(w,B,G)=>pe(ye+w,B,G);switch(Se){case"scalar":Pe=B.Scalar.PLAIN,Fe=gC(Be,c);break;case"single-quoted-scalar":Pe=B.Scalar.QUOTE_SINGLE,Fe=vC(Be,c);break;case"double-quoted-scalar":Pe=B.Scalar.QUOTE_DOUBLE,Fe=yC(Be,c);break;default:return pe(w,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${Se}`),{value:"",type:null,comment:"",range:[ye,ye+Be.length,ye+Be.length]}}let Me=ye+Be.length,Le=G.resolveEnd(Qe,Me,K,pe);return{value:Fe,type:Pe,comment:Le.comment,range:[ye,Me,Le.offset]}}function gC(w,B){let G="";switch(w[0]){case"\t":G="a tab character";break;case",":G="flow indicator character ,";break;case"%":G="directive indicator character %";break;case"|":case">":{G=`block scalar indicator ${w[0]}`;break}case"@":case"`":{G=`reserved character ${w[0]}`;break}}return G&&B(0,"BAD_SCALAR_START",`Plain value cannot start with ${G}`),J0(w)}function vC(w,B){return(w[w.length-1]!=="'"||w.length===1)&&B(w.length,"MISSING_CHAR","Missing closing 'quote"),J0(w.slice(1,-1)).replace(/''/g,"'")}function J0(w){var B;let G,K;try{G=new RegExp(`(.*?)(?<![ \t])[ \t]*\r?\n`,"sy"),K=new RegExp(`[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n`,"sy")}catch{G=/(.*?)[ \t]*\r?\n/sy,K=/[ \t]*(.*?)[ \t]*\r?\n/sy}let pe=G.exec(w);if(!pe)return w;let ye=pe[1],Se=" ",Be=G.lastIndex;for(K.lastIndex=Be;pe=K.exec(w);)pe[1]===""?Se===`\n`?ye+=Se:Se=`\n`:(ye+=Se+pe[1],Se=" "),Be=K.lastIndex;let Qe=/[ \t]*(.*)/sy;return Qe.lastIndex=Be,pe=Qe.exec(w),ye+Se+((B=pe==null?void 0:pe[1])!=null?B:"")}function yC(w,B){let G="";for(let pe=1;pe<w.length-1;++pe){let ye=w[pe];if(!(ye==="\r"&&w[pe+1]===`\n`))if(ye===`\n`){let{fold:B,offset:K}=bC(w,pe);G+=B,pe=K}else if(ye==="\\"){let ye=w[++pe],Se=K[ye];if(Se)G+=Se;else if(ye===`\n`)for(ye=w[pe+1];ye===" "||ye==="\t";)ye=w[++pe+1];else if(ye==="\r"&&w[pe+1]===`\n`)for(ye=w[++pe+1];ye===" "||ye==="\t";)ye=w[++pe+1];else if(ye==="x"||ye==="u"||ye==="U"){let K={x:2,u:4,U:8}[ye];G+=wC(w,pe+1,K,B),pe+=K}else{let K=w.substr(pe-1,2);B(pe-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${K}`),G+=K}}else if(ye===" "||ye==="\t"){let B=pe,K=w[pe+1];for(;K===" "||K==="\t";)K=w[++pe+1];K!==`\n`&&!(K==="\r"&&w[pe+2]===`\n`)&&(G+=pe>B?w.slice(B,pe+1):ye)}else G+=ye}return(w[w.length-1]!=='"'||w.length===1)&&B(w.length,"MISSING_CHAR",'Missing closing "quote'),G}function bC(w,B){let G="",K=w[B+1];for(;(K===" "||K==="\t"||K===`\n`||K==="\r")&&!(K==="\r"&&w[B+2]!==`\n`);)K===`\n`&&(G+=`\n`),B+=1,K=w[B+1];return G||(G=" "),{fold:G,offset:B}}var K={0:"\0",a:"",b:"\b",e:"",f:"\f",n:`\n`,r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function wC(w,B,G,K){let pe=w.substr(B,G),ye=pe.length===G&&/^[0-9a-fA-F]+$/.test(pe)?parseInt(pe,16):NaN;if(isNaN(ye)){let pe=w.substr(B-2,G+2);return K(B-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${pe}`),pe}return String.fromCodePoint(ye)}w.resolveFlowScalar=mC}));var Ks=_((w=>{"use strict";var B=oi(),G=gi(),K=$s(),pe=Js();function EC(w,ye,Se,Be){let{value:Qe,type:Pe,comment:Fe,range:Me}=ye.type==="block-scalar"?K.resolveBlockScalar(w,ye,Be):pe.resolveFlowScalar(ye,w.options.strict,Be),Le=Se?w.directives.tagName(Se.source,(w=>Be(Se,"TAG_RESOLVE_FAILED",w))):null,je;w.options.stringKeys&&w.atKey?je=w.schema[B.SCALAR]:Le?je=OC(w.schema,Qe,Le,Se,Be):ye.type==="scalar"?je=kC(w,Qe,ye,Be):je=w.schema[B.SCALAR];let qe;try{let K=je.resolve(Qe,(w=>Be(Se!=null?Se:ye,"TAG_RESOLVE_FAILED",w)),w.options);qe=B.isScalar(K)?K:new G.Scalar(K)}catch(w){let B=w instanceof Error?w.message:String(w);Be(Se!=null?Se:ye,"TAG_RESOLVE_FAILED",B),qe=new G.Scalar(Qe)}return qe.range=Me,qe.source=Qe,Pe&&(qe.type=Pe),Le&&(qe.tag=Le),je.format&&(qe.format=je.format),Fe&&(qe.comment=Fe),qe}function OC(w,G,K,pe,ye){var Se;if(K==="!")return w[B.SCALAR];let Be=[];for(let B of w.tags)if(!B.collection&&B.tag===K)if(B.default&&B.test)Be.push(B);else return B;for(let w of Be)if((Se=w.test)!=null&&Se.test(G))return w;let Qe=w.knownTags[K];return Qe&&!Qe.collection?(w.tags.push(Object.assign({},Qe,{default:!1,test:void 0})),Qe):(ye(pe,"TAG_RESOLVE_FAILED",`Unresolved tag: ${K}`,K!=="tag:yaml.org,2002:str"),w[B.SCALAR])}function kC({atKey:w,directives:G,schema:K},pe,ye,Se){var Be;let Qe=K.tags.find((B=>{var G;return(B.default===!0||w&&B.default==="key")&&((G=B.test)==null?void 0:G.test(pe))}))||K[B.SCALAR];if(K.compat){let w=(Be=K.compat.find((w=>{var B;return w.default&&((B=w.test)==null?void 0:B.test(pe))})))!=null?Be:K[B.SCALAR];if(Qe.tag!==w.tag){let B=G.tagString(Qe.tag),K=G.tagString(w.tag),pe=`Value may be parsed as either ${B} or ${K}`;Se(ye,"TAG_RESOLVE_FAILED",pe,!0)}}return Qe}w.composeScalar=EC}));var Zs=_((w=>{"use strict";function CC(w,B,G){if(B){G===null&&(G=B.length);for(let K=G-1;K>=0;--K){let G=B[K];switch(G.type){case"space":case"comment":case"newline":w-=G.source.length;continue}for(G=B[++K];(G==null?void 0:G.type)==="space";)w+=G.source.length,G=B[++K];break}}return w}w.emptyScalarPosition=CC}));var to=_((w=>{"use strict";var B=fi(),G=oi(),K=zs(),pe=Ks(),ye=qs(),Se=Zs(),Be={composeNode:nv,composeEmptyNode:Cu};function nv(w,B,ye,Se){let Qe=w.atKey,{spaceBefore:Pe,comment:Fe,anchor:Me,tag:Le}=ye,je,qe=!0;switch(B.type){case"alias":je=RC(w,B,Se),(Me||Le)&&Se(B,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":je=pe.composeScalar(w,B,Le,Se),Me&&(je.anchor=Me.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":je=K.composeCollection(Be,w,B,ye,Se),Me&&(je.anchor=Me.source.substring(1));break;default:{let G=B.type==="error"?B.message:`Unsupported token (type: ${B.type})`;Se(B,"UNEXPECTED_TOKEN",G),je=Cu(w,B.offset,void 0,null,ye,Se),qe=!1}}return Me&&je.anchor===""&&Se(Me,"BAD_ALIAS","Anchor cannot be an empty string"),Qe&&w.options.stringKeys&&(!G.isScalar(je)||typeof je.value!="string"||je.tag&&je.tag!=="tag:yaml.org,2002:str")&&Se(Le!=null?Le:B,"NON_STRING_KEY","With stringKeys, all keys must be strings"),Pe&&(je.spaceBefore=!0),Fe&&(B.type==="scalar"&&B.source===""?je.comment=Fe:je.commentBefore=Fe),w.options.keepSourceTokens&&qe&&(je.srcToken=B),je}function Cu(w,B,G,K,{spaceBefore:ye,comment:Be,anchor:Qe,tag:Pe,end:Fe},Me){let Le={type:"scalar",offset:Se.emptyScalarPosition(B,G,K),indent:-1,source:""},je=pe.composeScalar(w,Le,Pe,Me);return Qe&&(je.anchor=Qe.source.substring(1),je.anchor===""&&Me(Qe,"BAD_ALIAS","Anchor cannot be an empty string")),ye&&(je.spaceBefore=!0),Be&&(je.comment=Be,je.range[2]=Fe),je}function RC({options:w},{offset:G,source:K,end:pe},Se){let Be=new B.Alias(K.substring(1));Be.source===""&&Se(G,"BAD_ALIAS","Alias cannot be an empty string"),Be.source.endsWith(":")&&Se(G+K.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let Qe=G+K.length,Pe=ye.resolveEnd(pe,Qe,w.strict,Se);return Be.range=[G,Qe,Pe.offset],Pe.comment&&(Be.comment=Pe.comment),Be}w.composeEmptyNode=Cu;w.composeNode=nv}));var ro=_((w=>{"use strict";var B=Os(),G=to(),K=qs(),pe=Ds();function FC(w,ye,{offset:Se,start:Be,value:Qe,end:Pe},Fe){let Me=Object.assign({_directives:ye},w),Le=new B.Document(void 0,Me),je={atKey:!1,atRoot:!0,directives:Le.directives,options:Le.options,schema:Le.schema},qe=pe.resolveProps(Be,{indicator:"doc-start",next:Qe!=null?Qe:Pe==null?void 0:Pe[0],offset:Se,onError:Fe,parentIndent:0,startOnNewline:!0});qe.found&&(Le.directives.docStart=!0,Qe&&(Qe.type==="block-map"||Qe.type==="block-seq")&&!qe.hasNewline&&Fe(qe.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),Le.contents=Qe?G.composeNode(je,Qe,qe,Fe):G.composeEmptyNode(je,qe.end,Be,null,qe,Fe);let We=Le.contents.range[2],Ge=K.resolveEnd(Pe,We,!1,Fe);return Ge.comment&&(Le.comment=Ge.comment),Le.range=[Se,We,Ge.offset],Le}w.composeDoc=FC}));var io=_((w=>{"use strict";var B=li(),G=Os(),K=Ps(),pe=oi(),ye=ro(),Se=qs();function qn(w){if(typeof w=="number")return[w,w+1];if(Array.isArray(w))return w.length===2?w:[w[0],w[1]];let{offset:B,source:G}=w;return[B,B+(typeof G=="string"?G.length:1)]}function uv(w){var B;let G="",K=!1,pe=!1;for(let ye=0;ye<w.length;++ye){let Se=w[ye];switch(Se[0]){case"#":G+=(G===""?"":pe?`\n\n`:`\n`)+(Se.substring(1)||" "),K=!0,pe=!1;break;case"%":((B=w[ye+1])==null?void 0:B[0])!=="#"&&(ye+=1),K=!1;break;default:K||(pe=!0),K=!1}}return{comment:G,afterEmptyLine:pe}}var Be=class{constructor(w={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(w,B,G,pe)=>{let ye=qn(w);pe?this.warnings.push(new K.YAMLWarning(ye,B,G)):this.errors.push(new K.YAMLParseError(ye,B,G))},this.directives=new B.Directives({version:w.version||"1.2"}),this.options=w}decorate(w,B){let{comment:G,afterEmptyLine:K}=uv(this.prelude);if(G){let ye=w.contents;if(B)w.comment=w.comment?`${w.comment}\n${G}`:G;else if(K||w.directives.docStart||!ye)w.commentBefore=G;else if(pe.isCollection(ye)&&!ye.flow&&ye.items.length>0){let w=ye.items[0];pe.isPair(w)&&(w=w.key);let B=w.commentBefore;w.commentBefore=B?`${G}\n${B}`:G}else{let w=ye.commentBefore;ye.commentBefore=w?`${G}\n${w}`:G}}B?(Array.prototype.push.apply(w.errors,this.errors),Array.prototype.push.apply(w.warnings,this.warnings)):(w.errors=this.errors,w.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:uv(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(w,B=!1,G=-1){for(let B of w)yield*this.next(B);yield*this.end(B,G)}*next(w){switch(process.env.LOG_STREAM&&console.dir(w,{depth:null}),w.type){case"directive":this.directives.add(w.source,((B,G,K)=>{let pe=qn(w);pe[0]+=B,this.onError(pe,"BAD_DIRECTIVE",G,K)})),this.prelude.push(w.source),this.atDirectives=!0;break;case"document":{let B=ye.composeDoc(this.options,this.directives,w,this.onError);this.atDirectives&&!B.directives.docStart&&this.onError(w,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(B,!1),this.doc&&(yield this.doc),this.doc=B,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(w.source);break;case"error":{let B=w.source?`${w.message}: ${JSON.stringify(w.source)}`:w.message,G=new K.YAMLParseError(qn(w),"UNEXPECTED_TOKEN",B);this.atDirectives||!this.doc?this.errors.push(G):this.doc.errors.push(G);break}case"doc-end":{if(!this.doc){let B="Unexpected doc-end without preceding document";this.errors.push(new K.YAMLParseError(qn(w),"UNEXPECTED_TOKEN",B));break}this.doc.directives.docEnd=!0;let B=Se.resolveEnd(w.end,w.offset+w.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),B.comment){let w=this.doc.comment;this.doc.comment=w?`${w}\n${B.comment}`:B.comment}this.doc.range[2]=B.offset;break}default:this.errors.push(new K.YAMLParseError(qn(w),"UNEXPECTED_TOKEN",`Unsupported token ${w.type}`))}}*end(w=!1,B=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(w){let w=Object.assign({_directives:this.directives},this.options),K=new G.Document(void 0,w);this.atDirectives&&this.onError(B,"MISSING_CHAR","Missing directives-end indicator line"),K.range=[0,B,B],this.decorate(K,!1),yield K}}};w.Composer=Be}));var so=_((w=>{"use strict";var B=$s(),G=Js(),K=Ps(),pe=Ei();function WC(w,pe=!0,ye){if(w){let r=(w,B,G)=>{let pe=typeof w=="number"?w:Array.isArray(w)?w[0]:w.offset;if(ye)ye(pe,B,G);else throw new K.YAMLParseError([pe,pe+1],B,G)};switch(w.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return G.resolveFlowScalar(w,pe,r);case"block-scalar":return B.resolveBlockScalar({options:{strict:pe}},w,r)}}return null}function YC(w,B){var G;let{implicitKey:K=!1,indent:ye,inFlow:Se=!1,offset:Be=-1,type:Qe="PLAIN"}=B,Pe=pe.stringifyString({type:Qe,value:w},{implicitKey:K,indent:ye>0?" ".repeat(ye):"",inFlow:Se,options:{blockQuote:!0,lineWidth:-1}}),Fe=(G=B.end)!=null?G:[{type:"newline",offset:-1,indent:ye,source:`\n`}];switch(Pe[0]){case"|":case">":{let w=Pe.indexOf(`\n`),B=Pe.substring(0,w),G=Pe.substring(w+1)+`\n`,K=[{type:"block-scalar-header",offset:Be,indent:ye,source:B}];return pv(K,Fe)||K.push({type:"newline",offset:-1,indent:ye,source:`\n`}),{type:"block-scalar",offset:Be,indent:ye,props:K,source:G}}case'"':return{type:"double-quoted-scalar",offset:Be,indent:ye,source:Pe,end:Fe};case"'":return{type:"single-quoted-scalar",offset:Be,indent:ye,source:Pe,end:Fe};default:return{type:"scalar",offset:Be,indent:ye,source:Pe,end:Fe}}}function KC(w,B,G={}){let{afterKey:K=!1,implicitKey:ye=!1,inFlow:Se=!1,type:Be}=G,Qe="indent"in w?w.indent:null;if(K&&typeof Qe=="number"&&(Qe+=2),!Be)switch(w.type){case"single-quoted-scalar":Be="QUOTE_SINGLE";break;case"double-quoted-scalar":Be="QUOTE_DOUBLE";break;case"block-scalar":{let B=w.props[0];if(B.type!=="block-scalar-header")throw new Error("Invalid block scalar header");Be=B.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:Be="PLAIN"}let Pe=pe.stringifyString({type:Be,value:B},{implicitKey:ye||Qe===null,indent:Qe!==null&&Qe>0?" ".repeat(Qe):"",inFlow:Se,options:{blockQuote:!0,lineWidth:-1}});switch(Pe[0]){case"|":case">":zC(w,Pe);break;case'"':Nu(w,Pe,"double-quoted-scalar");break;case"'":Nu(w,Pe,"single-quoted-scalar");break;default:Nu(w,Pe,"scalar")}}function zC(w,B){let G=B.indexOf(`\n`),K=B.substring(0,G),pe=B.substring(G+1)+`\n`;if(w.type==="block-scalar"){let B=w.props[0];if(B.type!=="block-scalar-header")throw new Error("Invalid block scalar header");B.source=K,w.source=pe}else{let{offset:B}=w,G="indent"in w?w.indent:-1,ye=[{type:"block-scalar-header",offset:B,indent:G,source:K}];pv(ye,"end"in w?w.end:void 0)||ye.push({type:"newline",offset:-1,indent:G,source:`\n`});for(let B of Object.keys(w))B!=="type"&&B!=="offset"&&delete w[B];Object.assign(w,{type:"block-scalar",indent:G,props:ye,source:pe})}}function pv(w,B){if(B)for(let G of B)switch(G.type){case"space":case"comment":w.push(G);break;case"newline":return w.push(G),!0}return!1}function Nu(w,B,G){switch(w.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":w.type=G,w.source=B;break;case"block-scalar":{let K=w.props.slice(1),pe=B.length;w.props[0].type==="block-scalar-header"&&(pe-=w.props[0].source.length);for(let w of K)w.offset+=pe;delete w.props,Object.assign(w,{type:G,source:B,end:K});break}case"block-map":case"block-seq":{let K={type:"newline",offset:w.offset+B.length,indent:w.indent,source:`\n`};delete w.items,Object.assign(w,{type:G,source:B,end:[K]});break}default:{let K="indent"in w?w.indent:-1,pe="end"in w&&Array.isArray(w.end)?w.end.filter((w=>w.type==="space"||w.type==="comment"||w.type==="newline")):[];for(let B of Object.keys(w))B!=="type"&&B!=="offset"&&delete w[B];Object.assign(w,{type:G,indent:K,source:B,end:pe})}}}w.createScalarToken=YC;w.resolveAsScalar=WC;w.setScalarValue=KC}));var oo=_((w=>{"use strict";var JC=w=>"type"in w?Ho(w):Vo(w);function Ho(w){switch(w.type){case"block-scalar":{let B="";for(let G of w.props)B+=Ho(G);return B+w.source}case"block-map":case"block-seq":{let B="";for(let G of w.items)B+=Vo(G);return B}case"flow-collection":{let B=w.start.source;for(let G of w.items)B+=Vo(G);for(let G of w.end)B+=G.source;return B}case"document":{let B=Vo(w);if(w.end)for(let G of w.end)B+=G.source;return B}default:{let B=w.source;if("end"in w&&w.end)for(let G of w.end)B+=G.source;return B}}}function Vo({start:w,key:B,sep:G,value:K}){let pe="";for(let B of w)pe+=B.source;if(B&&(pe+=Ho(B)),G)for(let w of G)pe+=w.source;return K&&(pe+=Ho(K)),pe}w.stringify=JC}));var ao=_((w=>{"use strict";var B=Symbol("break visit"),G=Symbol("skip children"),K=Symbol("remove item");function ir(w,B){"type"in w&&w.type==="document"&&(w={start:w.start,value:w.value}),yv(Object.freeze([]),w,B)}ir.BREAK=B;ir.SKIP=G;ir.REMOVE=K;ir.itemAtPath=(w,B)=>{let G=w;for(let[w,K]of B){let B=G==null?void 0:G[w];if(B&&"items"in B)G=B.items[K];else return}return G};ir.parentCollection=(w,B)=>{let G=ir.itemAtPath(w,B.slice(0,-1)),K=B[B.length-1][0],pe=G==null?void 0:G[K];if(pe&&"items"in pe)return pe;throw new Error("Parent collection not found")};function yv(w,G,pe){let ye=pe(G,w);if(typeof ye=="symbol")return ye;for(let Se of["key","value"]){let Be=G[Se];if(Be&&"items"in Be){for(let G=0;G<Be.items.length;++G){let ye=yv(Object.freeze(w.concat([[Se,G]])),Be.items[G],pe);if(typeof ye=="number")G=ye-1;else{if(ye===B)return B;ye===K&&(Be.items.splice(G,1),G-=1)}}typeof ye=="function"&&Se==="key"&&(ye=ye(G,w))}}return typeof ye=="function"?ye(G,w):ye}w.visit=ir}));var lo=_((w=>{"use strict";var B=so(),G=oo(),K=ao(),pe="\ufeff",ye="",Se="",Be="",eT=w=>!!w&&"items"in w,tT=w=>!!w&&(w.type==="scalar"||w.type==="single-quoted-scalar"||w.type==="double-quoted-scalar"||w.type==="block-scalar");function iT(w){switch(w){case pe:return"<BOM>";case ye:return"<DOC>";case Se:return"<FLOW_END>";case Be:return"<SCALAR>";default:return JSON.stringify(w)}}function rT(w){switch(w){case pe:return"byte-order-mark";case ye:return"doc-mode";case Se:return"flow-error-end";case Be:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`\n`:case`\r\n`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(w[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}w.createScalarToken=B.createScalarToken;w.resolveAsScalar=B.resolveAsScalar;w.setScalarValue=B.setScalarValue;w.stringify=G.stringify;w.visit=K.visit;w.BOM=pe;w.DOCUMENT=ye;w.FLOW_END=Se;w.SCALAR=Be;w.isCollection=eT;w.isScalar=tT;w.prettyToken=iT;w.tokenType=rT}));var ho=_((w=>{"use strict";var B=lo();function Ut(w){switch(w){case void 0:case" ":case`\n`:case"\r":case"\t":return!0;default:return!1}}var G=new Set("0123456789ABCDEFabcdef"),K=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),pe=new Set(",[]{}"),ye=new Set(` ,[]{}\n\r\t`),Fu=w=>!w||ye.has(w),Se=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(w,B=!1){var G;if(w){if(typeof w!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+w:w,this.lineEndPos=null}this.atEnd=!B;let K=(G=this.next)!=null?G:"stream";for(;K&&(B||this.hasChars(1));)K=yield*this.parseNext(K)}atLineEnd(){let w=this.pos,B=this.buffer[w];for(;B===" "||B==="\t";)B=this.buffer[++w];return!B||B==="#"||B===`\n`?!0:B==="\r"?this.buffer[w+1]===`\n`:!1}charAt(w){return this.buffer[this.pos+w]}continueScalar(w){let B=this.buffer[w];if(this.indentNext>0){let G=0;for(;B===" ";)B=this.buffer[++G+w];if(B==="\r"){let B=this.buffer[G+w+1];if(B===`\n`||!B&&!this.atEnd)return w+G+1}return B===`\n`||G>=this.indentNext||!B&&!this.atEnd?w+G:-1}if(B==="-"||B==="."){let B=this.buffer.substr(w,3);if((B==="---"||B==="...")&&Ut(this.buffer[w+3]))return-1}return w}getLine(){let w=this.lineEndPos;return(typeof w!="number"||w!==-1&&w<this.pos)&&(w=this.buffer.indexOf(`\n`,this.pos),this.lineEndPos=w),w===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[w-1]==="\r"&&(w-=1),this.buffer.substring(this.pos,w))}hasChars(w){return this.pos+w<=this.buffer.length}setNext(w){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=w,null}peek(w){return this.buffer.substr(this.pos,w)}*parseNext(w){switch(w){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let w=this.getLine();if(w===null)return this.setNext("stream");if(w[0]===B.BOM&&(yield*this.pushCount(1),w=w.substring(1)),w[0]==="%"){let B=w.length,G=w.indexOf("#");for(;G!==-1;){let K=w[G-1];if(K===" "||K==="\t"){B=G-1;break}else G=w.indexOf("#",G+1)}for(;;){let G=w[B-1];if(G===" "||G==="\t")B-=1;else break}let K=(yield*this.pushCount(B))+(yield*this.pushSpaces(!0));return yield*this.pushCount(w.length-K),this.pushNewline(),"stream"}if(this.atLineEnd()){let B=yield*this.pushSpaces(!0);return yield*this.pushCount(w.length-B),yield*this.pushNewline(),"stream"}return yield B.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let w=this.charAt(0);if(!w&&!this.atEnd)return this.setNext("line-start");if(w==="-"||w==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let w=this.peek(3);if((w==="---"||w==="...")&&Ut(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,w==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ut(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[w,B]=this.peek(2);if(!B&&!this.atEnd)return this.setNext("block-start");if((w==="-"||w==="?"||w===":")&&Ut(B)){let w=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=w,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let w=this.getLine();if(w===null)return this.setNext("doc");let B=yield*this.pushIndicators();switch(w[B]){case"#":yield*this.pushCount(w.length-B);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Fu),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return B+=(yield*this.parseBlockScalarHeader()),B+=(yield*this.pushSpaces(!0)),yield*this.pushCount(w.length-B),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let w,G,K=-1;do{w=yield*this.pushNewline(),w>0?(G=yield*this.pushSpaces(!1),this.indentValue=K=G):G=0,G+=(yield*this.pushSpaces(!0))}while(w+G>0);let pe=this.getLine();if(pe===null)return this.setNext("flow");if((K!==-1&&K<this.indentNext&&pe[0]!=="#"||K===0&&(pe.startsWith("---")||pe.startsWith("..."))&&Ut(pe[3]))&&!(K===this.indentNext-1&&this.flowLevel===1&&(pe[0]==="]"||pe[0]==="}")))return this.flowLevel=0,yield B.FLOW_END,yield*this.parseLineStart();let ye=0;for(;pe[ye]===",";)ye+=(yield*this.pushCount(1)),ye+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(ye+=(yield*this.pushIndicators()),pe[ye]){case void 0:return"flow";case"#":return yield*this.pushCount(pe.length-ye),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Fu),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let w=this.charAt(1);if(this.flowKey||Ut(w)||w===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let w=this.charAt(0),B=this.buffer.indexOf(w,this.pos+1);if(w==="'")for(;B!==-1&&this.buffer[B+1]==="'";)B=this.buffer.indexOf("'",B+2);else for(;B!==-1;){let w=0;for(;this.buffer[B-1-w]==="\\";)w+=1;if(w%2===0)break;B=this.buffer.indexOf('"',B+1)}let G=this.buffer.substring(0,B),K=G.indexOf(`\n`,this.pos);if(K!==-1){for(;K!==-1;){let w=this.continueScalar(K+1);if(w===-1)break;K=G.indexOf(`\n`,w)}K!==-1&&(B=K-(G[K-1]==="\r"?2:1))}if(B===-1){if(!this.atEnd)return this.setNext("quoted-scalar");B=this.buffer.length}return yield*this.pushToIndex(B+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let w=this.pos;for(;;){let B=this.buffer[++w];if(B==="+")this.blockScalarKeep=!0;else if(B>"0"&&B<="9")this.blockScalarIndent=Number(B)-1;else if(B!=="-")break}return yield*this.pushUntil((w=>Ut(w)||w==="#"))}*parseBlockScalar(){let w=this.pos-1,G=0,K;e:for(let B=this.pos;K=this.buffer[B];++B)switch(K){case" ":G+=1;break;case`\n`:w=B,G=0;break;case"\r":{let w=this.buffer[B+1];if(!w&&!this.atEnd)return this.setNext("block-scalar");if(w===`\n`)break}default:break e}if(!K&&!this.atEnd)return this.setNext("block-scalar");if(G>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=G:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let B=this.continueScalar(w+1);if(B===-1)break;w=this.buffer.indexOf(`\n`,B)}while(w!==-1);if(w===-1){if(!this.atEnd)return this.setNext("block-scalar");w=this.buffer.length}}let pe=w+1;for(K=this.buffer[pe];K===" ";)K=this.buffer[++pe];if(K==="\t"){for(;K==="\t"||K===" "||K==="\r"||K===`\n`;)K=this.buffer[++pe];w=pe-1}else if(!this.blockScalarKeep)do{let B=w-1,K=this.buffer[B];K==="\r"&&(K=this.buffer[--B]);let pe=B;for(;K===" ";)K=this.buffer[--B];if(K===`\n`&&B>=this.pos&&B+1+G>pe)w=B;else break}while(!0);return yield B.SCALAR,yield*this.pushToIndex(w+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let w=this.flowLevel>0,G=this.pos-1,K=this.pos-1,ye;for(;ye=this.buffer[++K];)if(ye===":"){let B=this.buffer[K+1];if(Ut(B)||w&&pe.has(B))break;G=K}else if(Ut(ye)){let B=this.buffer[K+1];if(ye==="\r"&&(B===`\n`?(K+=1,ye=`\n`,B=this.buffer[K+1]):G=K),B==="#"||w&&pe.has(B))break;if(ye===`\n`){let w=this.continueScalar(K+1);if(w===-1)break;K=Math.max(K,w-2)}}else{if(w&&pe.has(ye))break;G=K}return!ye&&!this.atEnd?this.setNext("plain-scalar"):(yield B.SCALAR,yield*this.pushToIndex(G+1,!0),w?"flow":"doc")}*pushCount(w){return w>0?(yield this.buffer.substr(this.pos,w),this.pos+=w,w):0}*pushToIndex(w,B){let G=this.buffer.slice(this.pos,w);return G?(yield G,this.pos+=G.length,G.length):(B&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Fu))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let w=this.flowLevel>0,B=this.charAt(1);if(Ut(B)||w&&pe.has(B))return w?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let w=this.pos+2,B=this.buffer[w];for(;!Ut(B)&&B!==">";)B=this.buffer[++w];return yield*this.pushToIndex(B===">"?w+1:w,!1)}else{let w=this.pos+1,B=this.buffer[w];for(;B;)if(K.has(B))B=this.buffer[++w];else if(B==="%"&&G.has(this.buffer[w+1])&&G.has(this.buffer[w+2]))B=this.buffer[w+=3];else break;return yield*this.pushToIndex(w,!1)}}*pushNewline(){let w=this.buffer[this.pos];return w===`\n`?yield*this.pushCount(1):w==="\r"&&this.charAt(1)===`\n`?yield*this.pushCount(2):0}*pushSpaces(w){let B=this.pos-1,G;do{G=this.buffer[++B]}while(G===" "||w&&G==="\t");let K=B-this.pos;return K>0&&(yield this.buffer.substr(this.pos,K),this.pos=B),K}*pushUntil(w){let B=this.pos,G=this.buffer[B];for(;!w(G);)G=this.buffer[++B];return yield*this.pushToIndex(B,!1)}};w.Lexer=Se}));var po=_((w=>{"use strict";var B=class{constructor(){this.lineStarts=[],this.addNewLine=w=>this.lineStarts.push(w),this.linePos=w=>{let B=0,G=this.lineStarts.length;for(;B<G;){let K=B+G>>1;this.lineStarts[K]<w?B=K+1:G=K}if(this.lineStarts[B]===w)return{line:B+1,col:1};if(B===0)return{line:0,col:w};let K=this.lineStarts[B-1];return{line:B,col:w-K+1}}}};w.LineCounter=B}));var Ao=_((w=>{"use strict";var B=lo(),G=ho();function rr(w,B){for(let G=0;G<w.length;++G)if(w[G].type===B)return!0;return!1}function Ov(w){for(let B=0;B<w.length;++B)switch(w[B].type){case"space":case"comment":case"newline":break;default:return B}return-1}function Cv(w){switch(w==null?void 0:w.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Yo(w){var B;switch(w.type){case"document":return w.start;case"block-map":{let G=w.items[w.items.length-1];return(B=G.sep)!=null?B:G.start}case"block-seq":return w.items[w.items.length-1].start;default:return[]}}function Hr(w){var B;if(w.length===0)return[];let G=w.length;e:for(;--G>=0;)switch(w[G].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((B=w[++G])==null?void 0:B.type)==="space";);return w.splice(G,w.length)}function kv(w){if(w.start.type==="flow-seq-start")for(let B of w.items)B.sep&&!B.value&&!rr(B.start,"explicit-key-ind")&&!rr(B.sep,"map-value-ind")&&(B.key&&(B.value=B.key),delete B.key,Cv(B.value)?B.value.end?Array.prototype.push.apply(B.value.end,B.sep):B.value.end=B.sep:Array.prototype.push.apply(B.start,B.sep),delete B.sep)}var K=class{constructor(w){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new G.Lexer,this.onNewLine=w}*parse(w,B=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let G of this.lexer.lex(w,B))yield*this.next(G);B||(yield*this.end())}*next(w){if(this.source=w,process.env.LOG_TOKENS&&console.log("|",B.prettyToken(w)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=w.length;return}let G=B.tokenType(w);if(G)if(G==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=G,yield*this.step(),G){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+w.length);break;case"space":this.atNewLine&&w[0]===" "&&(this.indent+=w.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=w.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=w.length}else{let B=`Not a YAML token: ${w}`;yield*this.pop({type:"error",offset:this.offset,message:B,source:w}),this.offset+=w.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let w=this.peek(1);if(this.type==="doc-end"&&(!w||w.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!w)return yield*this.stream();switch(w.type){case"document":return yield*this.document(w);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(w);case"block-scalar":return yield*this.blockScalar(w);case"block-map":return yield*this.blockMap(w);case"block-seq":return yield*this.blockSequence(w);case"flow-collection":return yield*this.flowCollection(w);case"doc-end":return yield*this.documentEnd(w)}yield*this.pop()}peek(w){return this.stack[this.stack.length-w]}*pop(w){let B=w!=null?w:this.stack.pop();if(!B)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield B;else{let w=this.peek(1);switch(B.type==="block-scalar"?B.indent="indent"in w?w.indent:0:B.type==="flow-collection"&&w.type==="document"&&(B.indent=0),B.type==="flow-collection"&&kv(B),w.type){case"document":w.value=B;break;case"block-scalar":w.props.push(B);break;case"block-map":{let G=w.items[w.items.length-1];if(G.value){w.items.push({start:[],key:B,sep:[]}),this.onKeyLine=!0;return}else if(G.sep)G.value=B;else{Object.assign(G,{key:B,sep:[]}),this.onKeyLine=!G.explicitKey;return}break}case"block-seq":{let G=w.items[w.items.length-1];G.value?w.items.push({start:[],value:B}):G.value=B;break}case"flow-collection":{let G=w.items[w.items.length-1];!G||G.value?w.items.push({start:[],key:B,sep:[]}):G.sep?G.value=B:Object.assign(G,{key:B,sep:[]});return}default:yield*this.pop(),yield*this.pop(B)}if((w.type==="document"||w.type==="block-map"||w.type==="block-seq")&&(B.type==="block-map"||B.type==="block-seq")){let G=B.items[B.items.length-1];G&&!G.sep&&!G.value&&G.start.length>0&&Ov(G.start)===-1&&(B.indent===0||G.start.every((w=>w.type!=="comment"||w.indent<B.indent)))&&(w.type==="document"?w.end=G.start:w.items.push({start:G.start}),B.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let w={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&w.start.push(this.sourceToken),this.stack.push(w);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(w){if(w.value)return yield*this.lineEnd(w);switch(this.type){case"doc-start":{Ov(w.start)!==-1?(yield*this.pop(),yield*this.step()):w.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":w.start.push(this.sourceToken);return}let B=this.startBlockValue(w);B?this.stack.push(B):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(w){if(this.type==="map-value-ind"){let B=Yo(this.peek(2)),G=Hr(B),K;w.end?(K=w.end,K.push(this.sourceToken),delete w.end):K=[this.sourceToken];let pe={type:"block-map",offset:w.offset,indent:w.indent,items:[{start:G,key:w,sep:K}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=pe}else yield*this.lineEnd(w)}*blockScalar(w){switch(this.type){case"space":case"comment":case"newline":w.props.push(this.sourceToken);return;case"scalar":if(w.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let w=this.source.indexOf(`\n`)+1;for(;w!==0;)this.onNewLine(this.offset+w),w=this.source.indexOf(`\n`,w)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(w){var B;let G=w.items[w.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,G.value){let B="end"in G.value?G.value.end:void 0,K=Array.isArray(B)?B[B.length-1]:void 0;(K==null?void 0:K.type)==="comment"?B==null||B.push(this.sourceToken):w.items.push({start:[this.sourceToken]})}else G.sep?G.sep.push(this.sourceToken):G.start.push(this.sourceToken);return;case"space":case"comment":if(G.value)w.items.push({start:[this.sourceToken]});else if(G.sep)G.sep.push(this.sourceToken);else{if(this.atIndentedComment(G.start,w.indent)){let K=w.items[w.items.length-2],pe=(B=K==null?void 0:K.value)==null?void 0:B.end;if(Array.isArray(pe)){Array.prototype.push.apply(pe,G.start),pe.push(this.sourceToken),w.items.pop();return}}G.start.push(this.sourceToken)}return}if(this.indent>=w.indent){let B=!this.onKeyLine&&this.indent===w.indent,K=B&&(G.sep||G.explicitKey)&&this.type!=="seq-item-ind",pe=[];if(K&&G.sep&&!G.value){let B=[];for(let K=0;K<G.sep.length;++K){let pe=G.sep[K];switch(pe.type){case"newline":B.push(K);break;case"space":break;case"comment":pe.indent>w.indent&&(B.length=0);break;default:B.length=0}}B.length>=2&&(pe=G.sep.splice(B[1]))}switch(this.type){case"anchor":case"tag":K||G.value?(pe.push(this.sourceToken),w.items.push({start:pe}),this.onKeyLine=!0):G.sep?G.sep.push(this.sourceToken):G.start.push(this.sourceToken);return;case"explicit-key-ind":!G.sep&&!G.explicitKey?(G.start.push(this.sourceToken),G.explicitKey=!0):K||G.value?(pe.push(this.sourceToken),w.items.push({start:pe,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(G.explicitKey)if(G.sep)if(G.value)w.items.push({start:[],key:null,sep:[this.sourceToken]});else if(rr(G.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:pe,key:null,sep:[this.sourceToken]}]});else if(Cv(G.key)&&!rr(G.sep,"newline")){let w=Hr(G.start),B=G.key,K=G.sep;K.push(this.sourceToken),delete G.key,delete G.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:w,key:B,sep:K}]})}else pe.length>0?G.sep=G.sep.concat(pe,this.sourceToken):G.sep.push(this.sourceToken);else if(rr(G.start,"newline"))Object.assign(G,{key:null,sep:[this.sourceToken]});else{let w=Hr(G.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:w,key:null,sep:[this.sourceToken]}]})}else G.sep?G.value||K?w.items.push({start:pe,key:null,sep:[this.sourceToken]}):rr(G.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):G.sep.push(this.sourceToken):Object.assign(G,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let B=this.flowScalar(this.type);K||G.value?(w.items.push({start:pe,key:B,sep:[]}),this.onKeyLine=!0):G.sep?this.stack.push(B):(Object.assign(G,{key:B,sep:[]}),this.onKeyLine=!0);return}default:{let G=this.startBlockValue(w);if(G){B&&G.type!=="block-seq"&&w.items.push({start:pe}),this.stack.push(G);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(w){var B;let G=w.items[w.items.length-1];switch(this.type){case"newline":if(G.value){let B="end"in G.value?G.value.end:void 0,K=Array.isArray(B)?B[B.length-1]:void 0;(K==null?void 0:K.type)==="comment"?B==null||B.push(this.sourceToken):w.items.push({start:[this.sourceToken]})}else G.start.push(this.sourceToken);return;case"space":case"comment":if(G.value)w.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(G.start,w.indent)){let K=w.items[w.items.length-2],pe=(B=K==null?void 0:K.value)==null?void 0:B.end;if(Array.isArray(pe)){Array.prototype.push.apply(pe,G.start),pe.push(this.sourceToken),w.items.pop();return}}G.start.push(this.sourceToken)}return;case"anchor":case"tag":if(G.value||this.indent<=w.indent)break;G.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==w.indent)break;G.value||rr(G.start,"seq-item-ind")?w.items.push({start:[this.sourceToken]}):G.start.push(this.sourceToken);return}if(this.indent>w.indent){let B=this.startBlockValue(w);if(B){this.stack.push(B);return}}yield*this.pop(),yield*this.step()}*flowCollection(w){let B=w.items[w.items.length-1];if(this.type==="flow-error-end"){let w;do{yield*this.pop(),w=this.peek(1)}while(w&&w.type==="flow-collection")}else if(w.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!B||B.sep?w.items.push({start:[this.sourceToken]}):B.start.push(this.sourceToken);return;case"map-value-ind":!B||B.value?w.items.push({start:[],key:null,sep:[this.sourceToken]}):B.sep?B.sep.push(this.sourceToken):Object.assign(B,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!B||B.value?w.items.push({start:[this.sourceToken]}):B.sep?B.sep.push(this.sourceToken):B.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let G=this.flowScalar(this.type);!B||B.value?w.items.push({start:[],key:G,sep:[]}):B.sep?this.stack.push(G):Object.assign(B,{key:G,sep:[]});return}case"flow-map-end":case"flow-seq-end":w.end.push(this.sourceToken);return}let G=this.startBlockValue(w);G?this.stack.push(G):(yield*this.pop(),yield*this.step())}else{let B=this.peek(2);if(B.type==="block-map"&&(this.type==="map-value-ind"&&B.indent===w.indent||this.type==="newline"&&!B.items[B.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&B.type!=="flow-collection"){let G=Yo(B),K=Hr(G);kv(w);let pe=w.end.splice(1,w.end.length);pe.push(this.sourceToken);let ye={type:"block-map",offset:w.offset,indent:w.indent,items:[{start:K,key:w,sep:pe}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=ye}else yield*this.lineEnd(w)}}flowScalar(w){if(this.onNewLine){let w=this.source.indexOf(`\n`)+1;for(;w!==0;)this.onNewLine(this.offset+w),w=this.source.indexOf(`\n`,w)+1}return{type:w,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(w){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let B=Yo(w),G=Hr(B);return G.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:G,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let B=Yo(w),G=Hr(B);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:G,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(w,B){return this.type!=="comment"||this.indent<=B?!1:w.every((w=>w.type==="newline"||w.type==="space"))}*documentEnd(w){this.type!=="doc-mode"&&(w.end?w.end.push(this.sourceToken):w.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(w){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:w.end?w.end.push(this.sourceToken):w.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};w.Parser=K}));var go=_((w=>{"use strict";var B=io(),G=Os(),K=Ps(),pe=Ii(),ye=oi(),Se=po(),Be=Ao();function Nv(w){let B=w.prettyErrors!==!1;return{lineCounter:w.lineCounter||B&&new Se.LineCounter||null,prettyErrors:B}}function fT(w,G={}){let{lineCounter:pe,prettyErrors:ye}=Nv(G),Se=new Be.Parser(pe==null?void 0:pe.addNewLine),Qe=new B.Composer(G),Pe=Array.from(Qe.compose(Se.parse(w)));if(ye&&pe)for(let B of Pe)B.errors.forEach(K.prettifyError(w,pe)),B.warnings.forEach(K.prettifyError(w,pe));return Pe.length>0?Pe:Object.assign([],{empty:!0},Qe.streamInfo())}function Lv(w,G={}){let{lineCounter:pe,prettyErrors:ye}=Nv(G),Se=new Be.Parser(pe==null?void 0:pe.addNewLine),Qe=new B.Composer(G),Pe=null;for(let B of Qe.compose(Se.parse(w),!0,w.length))if(!Pe)Pe=B;else if(Pe.options.logLevel!=="silent"){Pe.errors.push(new K.YAMLParseError(B.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return ye&&pe&&(Pe.errors.forEach(K.prettifyError(w,pe)),Pe.warnings.forEach(K.prettifyError(w,pe))),Pe}function hT(w,B,G){let K;typeof B=="function"?K=B:G===void 0&&B&&typeof B=="object"&&(G=B);let ye=Lv(w,G);if(!ye)return null;if(ye.warnings.forEach((w=>pe.warn(ye.options.logLevel,w))),ye.errors.length>0){if(ye.options.logLevel!=="silent")throw ye.errors[0];ye.errors=[]}return ye.toJS(Object.assign({reviver:K},G))}function pT(w,B,K){var pe;let Se=null;if(typeof B=="function"||Array.isArray(B)?Se=B:K===void 0&&B&&(K=B),typeof K=="string"&&(K=K.length),typeof K=="number"){let w=Math.round(K);K=w<1?void 0:w>8?{indent:8}:{indent:w}}if(w===void 0){let{keepUndefined:w}=(pe=K!=null?K:B)!=null?pe:{};if(!w)return}return ye.isDocument(w)&&!Se?w.toString(K):new G.Document(w,Se,K).toString(K)}w.parse=hT;w.parseAllDocuments=fT;w.parseDocument=Lv;w.stringify=pT}));var mo=_((w=>{"use strict";var B=io(),G=Os(),K=Bs(),pe=Ps(),ye=fi(),Se=oi(),Be=ki(),Qe=gi(),Pe=Oi(),Fe=Ni(),Me=lo(),Le=ho(),je=po(),qe=Ao(),We=go(),Ge=ai();w.Composer=B.Composer;w.Document=G.Document;w.Schema=K.Schema;w.YAMLError=pe.YAMLError;w.YAMLParseError=pe.YAMLParseError;w.YAMLWarning=pe.YAMLWarning;w.Alias=ye.Alias;w.isAlias=Se.isAlias;w.isCollection=Se.isCollection;w.isDocument=Se.isDocument;w.isMap=Se.isMap;w.isNode=Se.isNode;w.isPair=Se.isPair;w.isScalar=Se.isScalar;w.isSeq=Se.isSeq;w.Pair=Be.Pair;w.Scalar=Qe.Scalar;w.YAMLMap=Pe.YAMLMap;w.YAMLSeq=Fe.YAMLSeq;w.CST=Me;w.Lexer=Le.Lexer;w.LineCounter=je.LineCounter;w.Parser=qe.Parser;w.parse=We.parse;w.parseAllDocuments=We.parseAllDocuments;w.parseDocument=We.parseDocument;w.stringify=We.stringify;w.visit=Ge.visit;w.visitAsync=Ge.visitAsync}));var bo=_(((w,B)=>{"use strict";var{Duplex:K}=G(2203);function Mv(w){w.emit("close")}function CT(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Dv(w){this.removeListener("error",Dv),this.destroy(),this.listenerCount("error")===0&&this.emit("error",w)}function TT(w,B){let G=!0,pe=new K({...B,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return w.on("message",(function(B,G){let K=!G&&pe._readableState.objectMode?B.toString():B;pe.push(K)||w.pause()})),w.once("error",(function(w){pe.destroyed||(G=!1,pe.destroy(w))})),w.once("close",(function(){pe.destroyed||pe.push(null)})),pe._destroy=function(B,K){if(w.readyState===w.CLOSED){K(B),process.nextTick(Mv,pe);return}let ye=!1;w.once("error",(function(w){ye=!0,K(w)})),w.once("close",(function(){ye||K(B),process.nextTick(Mv,pe)})),G&&w.terminate()},pe._final=function(B){if(w.readyState===w.CONNECTING){w.once("open",(function(){pe._final(B)}));return}w._socket!==null&&(w._socket._writableState.finished?(B(),pe._readableState.endEmitted&&pe.destroy()):(w._socket.once("finish",(function(){B()})),w.close()))},pe._read=function(){w.isPaused&&w.resume()},pe._write=function(B,G,K){if(w.readyState===w.CONNECTING){w.once("open",(function(){pe._write(B,G,K)}));return}w.send(B,K)},pe.on("end",CT),pe.on("error",Dv),pe}B.exports=TT}));var yo=_(((w,B)=>{"use strict";B.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}));var wo=_(((w,B)=>{"use strict";var{EMPTY_BUFFER:K}=yo(),pe=Buffer[Symbol.species];function IT(w,B){if(w.length===0)return K;if(w.length===1)return w[0];let G=Buffer.allocUnsafe(B),ye=0;for(let B=0;B<w.length;B++){let K=w[B];G.set(K,ye),ye+=K.length}return ye<B?new pe(G.buffer,G.byteOffset,ye):G}function Uv(w,B,G,K,pe){for(let ye=0;ye<pe;ye++)G[K+ye]=w[ye]^B[ye&3]}function $v(w,B){for(let G=0;G<w.length;G++)w[G]^=B[G&3]}function NT(w){return w.length===w.buffer.byteLength?w.buffer:w.buffer.slice(w.byteOffset,w.byteOffset+w.length)}function Yu(w){if(Yu.readOnly=!0,Buffer.isBuffer(w))return w;let B;return w instanceof ArrayBuffer?B=new pe(w):ArrayBuffer.isView(w)?B=new pe(w.buffer,w.byteOffset,w.byteLength):(B=Buffer.from(w),Yu.readOnly=!1),B}B.exports={concat:IT,mask:Uv,toArrayBuffer:NT,toBuffer:Yu,unmask:$v};if(!process.env.WS_NO_BUFFER_UTIL)try{let w=G(8340);B.exports.mask=function(B,G,K,pe,ye){ye<48?Uv(B,G,K,pe,ye):w.mask(B,G,K,pe,ye)},B.exports.unmask=function(B,G){B.length<32?$v(B,G):w.unmask(B,G)}}catch{}}));var vo=_(((w,B)=>{"use strict";var G=Symbol("kDone"),K=Symbol("kRun"),pe=class{constructor(w){this[G]=()=>{this.pending--,this[K]()},this.concurrency=w||1/0,this.jobs=[],this.pending=0}add(w){this.jobs.push(w),this[K]()}[K](){if(this.pending!==this.concurrency&&this.jobs.length){let w=this.jobs.shift();this.pending++,w(this[G])}}};B.exports=pe}));var Eo=_(((w,B)=>{"use strict";var K=G(3106),pe=wo(),ye=vo(),{kStatusCode:Se}=yo(),Be=Buffer[Symbol.species],Qe=Buffer.from([0,0,255,255]),Pe=Symbol("permessage-deflate"),Fe=Symbol("total-length"),Me=Symbol("callback"),Le=Symbol("buffers"),je=Symbol("error"),qe,We=class{constructor(w,B,G){if(this._maxPayload=G|0,this._options=w||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!B,this._deflate=null,this._inflate=null,this.params=null,!qe){let w=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;qe=new ye(w)}}static get extensionName(){return"permessage-deflate"}offer(){let w={};return this._options.serverNoContextTakeover&&(w.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(w.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(w.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?w.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(w.client_max_window_bits=!0),w}accept(w){return w=this.normalizeParams(w),this.params=this._isServer?this.acceptAsServer(w):this.acceptAsClient(w),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let w=this._deflate[Me];this._deflate.close(),this._deflate=null,w&&w(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(w){let B=this._options,G=w.find((w=>!(B.serverNoContextTakeover===!1&&w.server_no_context_takeover||w.server_max_window_bits&&(B.serverMaxWindowBits===!1||typeof B.serverMaxWindowBits=="number"&&B.serverMaxWindowBits>w.server_max_window_bits)||typeof B.clientMaxWindowBits=="number"&&!w.client_max_window_bits)));if(!G)throw new Error("None of the extension offers can be accepted");return B.serverNoContextTakeover&&(G.server_no_context_takeover=!0),B.clientNoContextTakeover&&(G.client_no_context_takeover=!0),typeof B.serverMaxWindowBits=="number"&&(G.server_max_window_bits=B.serverMaxWindowBits),typeof B.clientMaxWindowBits=="number"?G.client_max_window_bits=B.clientMaxWindowBits:(G.client_max_window_bits===!0||B.clientMaxWindowBits===!1)&&delete G.client_max_window_bits,G}acceptAsClient(w){let B=w[0];if(this._options.clientNoContextTakeover===!1&&B.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!B.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(B.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&B.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return B}normalizeParams(w){return w.forEach((w=>{Object.keys(w).forEach((B=>{let G=w[B];if(G.length>1)throw new Error(`Parameter "${B}" must have only a single value`);if(G=G[0],B==="client_max_window_bits"){if(G!==!0){let w=+G;if(!Number.isInteger(w)||w<8||w>15)throw new TypeError(`Invalid value for parameter "${B}": ${G}`);G=w}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${B}": ${G}`)}else if(B==="server_max_window_bits"){let w=+G;if(!Number.isInteger(w)||w<8||w>15)throw new TypeError(`Invalid value for parameter "${B}": ${G}`);G=w}else if(B==="client_no_context_takeover"||B==="server_no_context_takeover"){if(G!==!0)throw new TypeError(`Invalid value for parameter "${B}": ${G}`)}else throw new Error(`Unknown parameter "${B}"`);w[B]=G}))})),w}decompress(w,B,G){qe.add((K=>{this._decompress(w,B,((w,B)=>{K(),G(w,B)}))}))}compress(w,B,G){qe.add((K=>{this._compress(w,B,((w,B)=>{K(),G(w,B)}))}))}_decompress(w,B,G){let ye=this._isServer?"client":"server";if(!this._inflate){let w=`${ye}_max_window_bits`,B=typeof this.params[w]!="number"?K.Z_DEFAULT_WINDOWBITS:this.params[w];this._inflate=K.createInflateRaw({...this._options.zlibInflateOptions,windowBits:B}),this._inflate[Pe]=this,this._inflate[Fe]=0,this._inflate[Le]=[],this._inflate.on("error",MT),this._inflate.on("data",Kv)}this._inflate[Me]=G,this._inflate.write(w),B&&this._inflate.write(Qe),this._inflate.flush((()=>{let w=this._inflate[je];if(w){this._inflate.close(),this._inflate=null,G(w);return}let K=pe.concat(this._inflate[Le],this._inflate[Fe]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Fe]=0,this._inflate[Le]=[],B&&this.params[`${ye}_no_context_takeover`]&&this._inflate.reset()),G(null,K)}))}_compress(w,B,G){let ye=this._isServer?"server":"client";if(!this._deflate){let w=`${ye}_max_window_bits`,B=typeof this.params[w]!="number"?K.Z_DEFAULT_WINDOWBITS:this.params[w];this._deflate=K.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:B}),this._deflate[Fe]=0,this._deflate[Le]=[],this._deflate.on("data",PT)}this._deflate[Me]=G,this._deflate.write(w),this._deflate.flush(K.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let w=pe.concat(this._deflate[Le],this._deflate[Fe]);B&&(w=new Be(w.buffer,w.byteOffset,w.length-4)),this._deflate[Me]=null,this._deflate[Fe]=0,this._deflate[Le]=[],B&&this.params[`${ye}_no_context_takeover`]&&this._deflate.reset(),G(null,w)}))}};B.exports=We;function PT(w){this[Le].push(w),this[Fe]+=w.length}function Kv(w){if(this[Fe]+=w.length,this[Pe]._maxPayload<1||this[Fe]<=this[Pe]._maxPayload){this[Le].push(w);return}this[je]=new RangeError("Max payload size exceeded"),this[je].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[je][Se]=1009,this.removeListener("data",Kv),this.reset()}function MT(w){this[Pe]._inflate=null,w[Se]=1007,this[Me](w)}}));var Co=_(((w,B)=>{"use strict";var{isUtf8:K}=G(181),pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function FT(w){return w>=1e3&&w<=1014&&w!==1004&&w!==1005&&w!==1006||w>=3e3&&w<=4999}function Zu(w){let B=w.length,G=0;for(;G<B;)if((w[G]&128)===0)G++;else if((w[G]&224)===192){if(G+1===B||(w[G+1]&192)!==128||(w[G]&254)===192)return!1;G+=2}else if((w[G]&240)===224){if(G+2>=B||(w[G+1]&192)!==128||(w[G+2]&192)!==128||w[G]===224&&(w[G+1]&224)===128||w[G]===237&&(w[G+1]&224)===160)return!1;G+=3}else if((w[G]&248)===240){if(G+3>=B||(w[G+1]&192)!==128||(w[G+2]&192)!==128||(w[G+3]&192)!==128||w[G]===240&&(w[G+1]&240)===128||w[G]===244&&w[G+1]>143||w[G]>244)return!1;G+=4}else return!1;return!0}B.exports={isValidStatusCode:FT,isValidUTF8:Zu,tokenChars:pe};if(K)B.exports.isValidUTF8=function(w){return w.length<24?Zu(w):K(w)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let w=G(2461);B.exports.isValidUTF8=function(B){return B.length<32?Zu(B):w(B)}}catch{}}));var Io=_(((w,B)=>{"use strict";var{Writable:K}=G(2203),pe=Eo(),{BINARY_TYPES:ye,EMPTY_BUFFER:Se,kStatusCode:Be,kWebSocket:Qe}=yo(),{concat:Pe,toArrayBuffer:Fe,unmask:Me}=wo(),{isValidStatusCode:Le,isValidUTF8:je}=Co(),qe=Buffer[Symbol.species],We=0,Ge=1,ze=2,Ye=3,Ke=4,Xe=5,rt=6,it=class extends K{constructor(w={}){super(),this._allowSynchronousEvents=w.allowSynchronousEvents!==void 0?w.allowSynchronousEvents:!0,this._binaryType=w.binaryType||ye[0],this._extensions=w.extensions||{},this._isServer=!!w.isServer,this._maxPayload=w.maxPayload|0,this._skipUTF8Validation=!!w.skipUTF8Validation,this[Qe]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=We}_write(w,B,G){if(this._opcode===8&&this._state==We)return G();this._bufferedBytes+=w.length,this._buffers.push(w),this.startLoop(G)}consume(w){if(this._bufferedBytes-=w,w===this._buffers[0].length)return this._buffers.shift();if(w<this._buffers[0].length){let B=this._buffers[0];return this._buffers[0]=new qe(B.buffer,B.byteOffset+w,B.length-w),new qe(B.buffer,B.byteOffset,w)}let B=Buffer.allocUnsafe(w);do{let G=this._buffers[0],K=B.length-w;w>=G.length?B.set(this._buffers.shift(),K):(B.set(new Uint8Array(G.buffer,G.byteOffset,w),K),this._buffers[0]=new qe(G.buffer,G.byteOffset+w,G.length-w)),w-=G.length}while(w>0);return B}startLoop(w){this._loop=!0;do{switch(this._state){case We:this.getInfo(w);break;case Ge:this.getPayloadLength16(w);break;case ze:this.getPayloadLength64(w);break;case Ye:this.getMask();break;case Ke:this.getData(w);break;case Xe:case rt:this._loop=!1;return}}while(this._loop);this._errored||w()}getInfo(w){if(this._bufferedBytes<2){this._loop=!1;return}let B=this.consume(2);if((B[0]&48)!==0){let B=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");w(B);return}let G=(B[0]&64)===64;if(G&&!this._extensions[pe.extensionName]){let B=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");w(B);return}if(this._fin=(B[0]&128)===128,this._opcode=B[0]&15,this._payloadLength=B[1]&127,this._opcode===0){if(G){let B=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");w(B);return}if(!this._fragmented){let B=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");w(B);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let B=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");w(B);return}this._compressed=G}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let B=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");w(B);return}if(G){let B=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");w(B);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let B=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");w(B);return}}else{let B=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");w(B);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(B[1]&128)===128,this._isServer){if(!this._masked){let B=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");w(B);return}}else if(this._masked){let B=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");w(B);return}this._payloadLength===126?this._state=Ge:this._payloadLength===127?this._state=ze:this.haveLength(w)}getPayloadLength16(w){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(w)}getPayloadLength64(w){if(this._bufferedBytes<8){this._loop=!1;return}let B=this.consume(8),G=B.readUInt32BE(0);if(G>Math.pow(2,21)-1){let B=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");w(B);return}this._payloadLength=G*Math.pow(2,32)+B.readUInt32BE(4),this.haveLength(w)}haveLength(w){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let B=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");w(B);return}this._masked?this._state=Ye:this._state=Ke}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Ke}getData(w){let B=Se;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}B=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&Me(B,this._mask)}if(this._opcode>7){this.controlMessage(B,w);return}if(this._compressed){this._state=Xe,this.decompress(B,w);return}B.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(B)),this.dataMessage(w)}decompress(w,B){this._extensions[pe.extensionName].decompress(w,this._fin,((w,G)=>{if(w)return B(w);if(G.length){if(this._messageLength+=G.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let w=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");B(w);return}this._fragments.push(G)}this.dataMessage(B),this._state===We&&this.startLoop(B)}))}dataMessage(w){if(!this._fin){this._state=We;return}let B=this._messageLength,G=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let K;this._binaryType==="nodebuffer"?K=Pe(G,B):this._binaryType==="arraybuffer"?K=Fe(Pe(G,B)):K=G,this._allowSynchronousEvents?(this.emit("message",K,!0),this._state=We):(this._state=rt,setImmediate((()=>{this.emit("message",K,!0),this._state=We,this.startLoop(w)})))}else{let K=Pe(G,B);if(!this._skipUTF8Validation&&!je(K)){let B=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");w(B);return}this._state===Xe||this._allowSynchronousEvents?(this.emit("message",K,!1),this._state=We):(this._state=rt,setImmediate((()=>{this.emit("message",K,!1),this._state=We,this.startLoop(w)})))}}controlMessage(w,B){if(this._opcode===8){if(w.length===0)this._loop=!1,this.emit("conclude",1005,Se),this.end();else{let G=w.readUInt16BE(0);if(!Le(G)){let w=this.createError(RangeError,`invalid status code ${G}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");B(w);return}let K=new qe(w.buffer,w.byteOffset+2,w.length-2);if(!this._skipUTF8Validation&&!je(K)){let w=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");B(w);return}this._loop=!1,this.emit("conclude",G,K),this.end()}this._state=We;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",w),this._state=We):(this._state=rt,setImmediate((()=>{this.emit(this._opcode===9?"ping":"pong",w),this._state=We,this.startLoop(B)})))}createError(w,B,G,K,pe){this._loop=!1,this._errored=!0;let ye=new w(G?`Invalid WebSocket frame: ${B}`:B);return Error.captureStackTrace(ye,this.createError),ye.code=pe,ye[Be]=K,ye}};B.exports=it}));var So=_(((w,B)=>{"use strict";var{Duplex:K}=G(2203),{randomFillSync:pe}=G(6982),ye=Eo(),{EMPTY_BUFFER:Se}=yo(),{isValidStatusCode:Be}=Co(),{mask:Qe,toBuffer:Pe}=wo(),Fe=Symbol("kByteLength"),Me=Buffer.alloc(4),Le=8*1024,je,qe=Le,We=class i{constructor(w,B,G){this._extensions=B||{},G&&(this._generateMask=G,this._maskBuffer=Buffer.alloc(4)),this._socket=w,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(w,B){let G,K=!1,ye=2,Se=!1;B.mask&&(G=B.maskBuffer||Me,B.generateMask?B.generateMask(G):(qe===Le&&(je===void 0&&(je=Buffer.alloc(Le)),pe(je,0,Le),qe=0),G[0]=je[qe++],G[1]=je[qe++],G[2]=je[qe++],G[3]=je[qe++]),Se=(G[0]|G[1]|G[2]|G[3])===0,ye=6);let Be;typeof w=="string"?(!B.mask||Se)&&B[Fe]!==void 0?Be=B[Fe]:(w=Buffer.from(w),Be=w.length):(Be=w.length,K=B.mask&&B.readOnly&&!Se);let Pe=Be;Be>=65536?(ye+=8,Pe=127):Be>125&&(ye+=2,Pe=126);let We=Buffer.allocUnsafe(K?Be+ye:ye);return We[0]=B.fin?B.opcode|128:B.opcode,B.rsv1&&(We[0]|=64),We[1]=Pe,Pe===126?We.writeUInt16BE(Be,2):Pe===127&&(We[2]=We[3]=0,We.writeUIntBE(Be,4,6)),B.mask?(We[1]|=128,We[ye-4]=G[0],We[ye-3]=G[1],We[ye-2]=G[2],We[ye-1]=G[3],Se?[We,w]:K?(Qe(w,G,We,ye,Be),[We]):(Qe(w,G,w,0,Be),[We,w])):[We,w]}close(w,B,G,K){let pe;if(w===void 0)pe=Se;else{if(typeof w!="number"||!Be(w))throw new TypeError("First argument must be a valid error code number");if(B===void 0||!B.length)pe=Buffer.allocUnsafe(2),pe.writeUInt16BE(w,0);else{let G=Buffer.byteLength(B);if(G>123)throw new RangeError("The message must not be greater than 123 bytes");pe=Buffer.allocUnsafe(2+G),pe.writeUInt16BE(w,0),typeof B=="string"?pe.write(B,2):pe.set(B,2)}}let ye={[Fe]:pe.length,fin:!0,generateMask:this._generateMask,mask:G,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,pe,!1,ye,K]):this.sendFrame(i.frame(pe,ye),K)}ping(w,B,G){let K,pe;if(typeof w=="string"?(K=Buffer.byteLength(w),pe=!1):(w=Pe(w),K=w.length,pe=Pe.readOnly),K>125)throw new RangeError("The data size must not be greater than 125 bytes");let ye={[Fe]:K,fin:!0,generateMask:this._generateMask,mask:B,maskBuffer:this._maskBuffer,opcode:9,readOnly:pe,rsv1:!1};this._deflating?this.enqueue([this.dispatch,w,!1,ye,G]):this.sendFrame(i.frame(w,ye),G)}pong(w,B,G){let K,pe;if(typeof w=="string"?(K=Buffer.byteLength(w),pe=!1):(w=Pe(w),K=w.length,pe=Pe.readOnly),K>125)throw new RangeError("The data size must not be greater than 125 bytes");let ye={[Fe]:K,fin:!0,generateMask:this._generateMask,mask:B,maskBuffer:this._maskBuffer,opcode:10,readOnly:pe,rsv1:!1};this._deflating?this.enqueue([this.dispatch,w,!1,ye,G]):this.sendFrame(i.frame(w,ye),G)}send(w,B,G){let K=this._extensions[ye.extensionName],pe=B.binary?2:1,Se=B.compress,Be,Qe;if(typeof w=="string"?(Be=Buffer.byteLength(w),Qe=!1):(w=Pe(w),Be=w.length,Qe=Pe.readOnly),this._firstFragment?(this._firstFragment=!1,Se&&K&&K.params[K._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(Se=Be>=K._threshold),this._compress=Se):(Se=!1,pe=0),B.fin&&(this._firstFragment=!0),K){let K={[Fe]:Be,fin:B.fin,generateMask:this._generateMask,mask:B.mask,maskBuffer:this._maskBuffer,opcode:pe,readOnly:Qe,rsv1:Se};this._deflating?this.enqueue([this.dispatch,w,this._compress,K,G]):this.dispatch(w,this._compress,K,G)}else this.sendFrame(i.frame(w,{[Fe]:Be,fin:B.fin,generateMask:this._generateMask,mask:B.mask,maskBuffer:this._maskBuffer,opcode:pe,readOnly:Qe,rsv1:!1}),G)}dispatch(w,B,G,K){if(!B){this.sendFrame(i.frame(w,G),K);return}let pe=this._extensions[ye.extensionName];this._bufferedBytes+=G[Fe],this._deflating=!0,pe.compress(w,G.fin,((w,B)=>{if(this._socket.destroyed){let w=new Error("The socket was closed while data was being compressed");typeof K=="function"&&K(w);for(let B=0;B<this._queue.length;B++){let G=this._queue[B],K=G[G.length-1];typeof K=="function"&&K(w)}return}this._bufferedBytes-=G[Fe],this._deflating=!1,G.readOnly=!1,this.sendFrame(i.frame(B,G),K),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){let w=this._queue.shift();this._bufferedBytes-=w[3][Fe],Reflect.apply(w[0],this,w.slice(1))}}enqueue(w){this._bufferedBytes+=w[3][Fe],this._queue.push(w)}sendFrame(w,B){w.length===2?(this._socket.cork(),this._socket.write(w[0]),this._socket.write(w[1],B),this._socket.uncork()):this._socket.write(w[0],B)}};B.exports=We}));var Qo=_(((w,B)=>{"use strict";var{kForOnEventAttribute:G,kListener:K}=yo(),pe=Symbol("kCode"),ye=Symbol("kData"),Se=Symbol("kError"),Be=Symbol("kMessage"),Qe=Symbol("kReason"),Pe=Symbol("kTarget"),Fe=Symbol("kType"),Me=Symbol("kWasClean"),Le=class{constructor(w){this[Pe]=null,this[Fe]=w}get target(){return this[Pe]}get type(){return this[Fe]}};Object.defineProperty(Le.prototype,"target",{enumerable:!0});Object.defineProperty(Le.prototype,"type",{enumerable:!0});var je=class extends Le{constructor(w,B={}){super(w),this[pe]=B.code===void 0?0:B.code,this[Qe]=B.reason===void 0?"":B.reason,this[Me]=B.wasClean===void 0?!1:B.wasClean}get code(){return this[pe]}get reason(){return this[Qe]}get wasClean(){return this[Me]}};Object.defineProperty(je.prototype,"code",{enumerable:!0});Object.defineProperty(je.prototype,"reason",{enumerable:!0});Object.defineProperty(je.prototype,"wasClean",{enumerable:!0});var qe=class extends Le{constructor(w,B={}){super(w),this[Se]=B.error===void 0?null:B.error,this[Be]=B.message===void 0?"":B.message}get error(){return this[Se]}get message(){return this[Be]}};Object.defineProperty(qe.prototype,"error",{enumerable:!0});Object.defineProperty(qe.prototype,"message",{enumerable:!0});var We=class extends Le{constructor(w,B={}){super(w),this[ye]=B.data===void 0?null:B.data}get data(){return this[ye]}};Object.defineProperty(We.prototype,"data",{enumerable:!0});var Ge={addEventListener(w,B,pe={}){for(let ye of this.listeners(w))if(!pe[G]&&ye[K]===B&&!ye[G])return;let ye;if(w==="message")ye=function(w,G){let K=new We("message",{data:G?w:w.toString()});K[Pe]=this,ra(B,this,K)};else if(w==="close")ye=function(w,G){let K=new je("close",{code:w,reason:G.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});K[Pe]=this,ra(B,this,K)};else if(w==="error")ye=function(w){let G=new qe("error",{error:w,message:w.message});G[Pe]=this,ra(B,this,G)};else if(w==="open")ye=function(){let w=new Le("open");w[Pe]=this,ra(B,this,w)};else return;ye[G]=!!pe[G],ye[K]=B,pe.once?this.once(w,ye):this.on(w,ye)},removeEventListener(w,B){for(let pe of this.listeners(w))if(pe[K]===B&&!pe[G]){this.removeListener(w,pe);break}}};B.exports={CloseEvent:je,ErrorEvent:qe,Event:Le,EventTarget:Ge,MessageEvent:We};function ra(w,B,G){typeof w=="object"&&w.handleEvent?w.handleEvent.call(w,G):w.call(B,G)}}));var Oo=_(((w,B)=>{"use strict";var{tokenChars:G}=Co();function Qt(w,B,G){w[B]===void 0?w[B]=[G]:w[B].push(G)}function ZT(w){let B=Object.create(null),K=Object.create(null),pe=!1,ye=!1,Se=!1,Be,Qe,Pe=-1,Fe=-1,Me=-1,Le=0;for(;Le<w.length;Le++)if(Fe=w.charCodeAt(Le),Be===void 0)if(Me===-1&&G[Fe]===1)Pe===-1&&(Pe=Le);else if(Le!==0&&(Fe===32||Fe===9))Me===-1&&Pe!==-1&&(Me=Le);else if(Fe===59||Fe===44){if(Pe===-1)throw new SyntaxError(`Unexpected character at index ${Le}`);Me===-1&&(Me=Le);let G=w.slice(Pe,Me);Fe===44?(Qt(B,G,K),K=Object.create(null)):Be=G,Pe=Me=-1}else throw new SyntaxError(`Unexpected character at index ${Le}`);else if(Qe===void 0)if(Me===-1&&G[Fe]===1)Pe===-1&&(Pe=Le);else if(Fe===32||Fe===9)Me===-1&&Pe!==-1&&(Me=Le);else if(Fe===59||Fe===44){if(Pe===-1)throw new SyntaxError(`Unexpected character at index ${Le}`);Me===-1&&(Me=Le),Qt(K,w.slice(Pe,Me),!0),Fe===44&&(Qt(B,Be,K),K=Object.create(null),Be=void 0),Pe=Me=-1}else if(Fe===61&&Pe!==-1&&Me===-1)Qe=w.slice(Pe,Le),Pe=Me=-1;else throw new SyntaxError(`Unexpected character at index ${Le}`);else if(ye){if(G[Fe]!==1)throw new SyntaxError(`Unexpected character at index ${Le}`);Pe===-1?Pe=Le:pe||(pe=!0),ye=!1}else if(Se)if(G[Fe]===1)Pe===-1&&(Pe=Le);else if(Fe===34&&Pe!==-1)Se=!1,Me=Le;else if(Fe===92)ye=!0;else throw new SyntaxError(`Unexpected character at index ${Le}`);else if(Fe===34&&w.charCodeAt(Le-1)===61)Se=!0;else if(Me===-1&&G[Fe]===1)Pe===-1&&(Pe=Le);else if(Pe!==-1&&(Fe===32||Fe===9))Me===-1&&(Me=Le);else if(Fe===59||Fe===44){if(Pe===-1)throw new SyntaxError(`Unexpected character at index ${Le}`);Me===-1&&(Me=Le);let G=w.slice(Pe,Me);pe&&(G=G.replace(/\\/g,""),pe=!1),Qt(K,Qe,G),Fe===44&&(Qt(B,Be,K),K=Object.create(null),Be=void 0),Qe=void 0,Pe=Me=-1}else throw new SyntaxError(`Unexpected character at index ${Le}`);if(Pe===-1||Se||Fe===32||Fe===9)throw new SyntaxError("Unexpected end of input");Me===-1&&(Me=Le);let je=w.slice(Pe,Me);return Be===void 0?Qt(B,je,K):(Qe===void 0?Qt(K,je,!0):pe?Qt(K,Qe,je.replace(/\\/g,"")):Qt(K,Qe,je),Qt(B,Be,K)),B}function QT(w){return Object.keys(w).map((B=>{let G=w[B];return Array.isArray(G)||(G=[G]),G.map((w=>[B].concat(Object.keys(w).map((B=>{let G=w[B];return Array.isArray(G)||(G=[G]),G.map((w=>w===!0?B:`${B}=${w}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")}B.exports={format:QT,parse:ZT}}));var Ro=_(((w,B)=>{"use strict";var K=G(4434),pe=G(5692),ye=G(8611),Se=G(9278),Be=G(4756),{randomBytes:Qe,createHash:Pe}=G(6982),{Duplex:Fe,Readable:Me}=G(2203),{URL:Le}=G(7016),je=Eo(),qe=Io(),We=So(),{BINARY_TYPES:Ge,EMPTY_BUFFER:ze,GUID:Ye,kForOnEventAttribute:Ke,kListener:Xe,kStatusCode:rt,kWebSocket:it,NOOP:ot}=yo(),{EventTarget:{addEventListener:at,removeEventListener:lt}}=Qo(),{format:ct,parse:ut}=Oo(),{toBuffer:ft}=wo(),gt=30*1e3,mt=Symbol("kAborted"),wt=[8,13],vt=["CONNECTING","OPEN","CLOSING","CLOSED"],_t=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,It=class i extends K{constructor(w,B,G){super(),this._binaryType=Ge[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=ze,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=i.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,w!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,B===void 0?B=[]:Array.isArray(B)||(typeof B=="object"&&B!==null?(G=B,B=[]):B=[B]),xy(this,w,B,G)):(this._autoPong=G.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(w){Ge.includes(w)&&(this._binaryType=w,this._receiver&&(this._receiver._binaryType=w))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(w,B,G){let K=new qe({allowSynchronousEvents:G.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:G.maxPayload,skipUTF8Validation:G.skipUTF8Validation});this._sender=new We(w,this._extensions,G.generateMask),this._receiver=K,this._socket=w,K[it]=this,w[it]=this,K.on("conclude",bA),K.on("drain",_A),K.on("error",wA),K.on("message",xA),K.on("ping",SA),K.on("pong",EA),w.setTimeout&&w.setTimeout(0),w.setNoDelay&&w.setNoDelay(),B.length>0&&w.unshift(B),w.on("close",Ey),w.on("data",oa),w.on("end",Oy),w.on("error",ky),this._readyState=i.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[je.extensionName]&&this._extensions[je.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(w,B){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING){Et(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===i.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=i.CLOSING,this._sender.close(w,B,!this._isServer,(w=>{w||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),gt)}}pause(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!0,this._socket.pause())}ping(w,B,G){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof w=="function"?(G=w,w=B=void 0):typeof B=="function"&&(G=B,B=void 0),typeof w=="number"&&(w=w.toString()),this.readyState!==i.OPEN){ff(this,w,G);return}B===void 0&&(B=!this._isServer),this._sender.ping(w||ze,B,G)}pong(w,B,G){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof w=="function"?(G=w,w=B=void 0):typeof B=="function"&&(G=B,B=void 0),typeof w=="number"&&(w=w.toString()),this.readyState!==i.OPEN){ff(this,w,G);return}B===void 0&&(B=!this._isServer),this._sender.pong(w||ze,B,G)}resume(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(w,B,G){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof B=="function"&&(G=B,B={}),typeof w=="number"&&(w=w.toString()),this.readyState!==i.OPEN){ff(this,w,G);return}let K={binary:typeof w!="string",mask:!this._isServer,compress:!0,fin:!0,...B};this._extensions[je.extensionName]||(K.compress=!1),this._sender.send(w||ze,K,G)}terminate(){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING){Et(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=i.CLOSING,this._socket.destroy())}}};Object.defineProperty(It,"CONNECTING",{enumerable:!0,value:vt.indexOf("CONNECTING")});Object.defineProperty(It.prototype,"CONNECTING",{enumerable:!0,value:vt.indexOf("CONNECTING")});Object.defineProperty(It,"OPEN",{enumerable:!0,value:vt.indexOf("OPEN")});Object.defineProperty(It.prototype,"OPEN",{enumerable:!0,value:vt.indexOf("OPEN")});Object.defineProperty(It,"CLOSING",{enumerable:!0,value:vt.indexOf("CLOSING")});Object.defineProperty(It.prototype,"CLOSING",{enumerable:!0,value:vt.indexOf("CLOSING")});Object.defineProperty(It,"CLOSED",{enumerable:!0,value:vt.indexOf("CLOSED")});Object.defineProperty(It.prototype,"CLOSED",{enumerable:!0,value:vt.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((w=>{Object.defineProperty(It.prototype,w,{enumerable:!0})}));["open","error","close","message"].forEach((w=>{Object.defineProperty(It.prototype,`on${w}`,{enumerable:!0,get(){for(let B of this.listeners(w))if(B[Ke])return B[Xe];return null},set(B){for(let B of this.listeners(w))if(B[Ke]){this.removeListener(w,B);break}typeof B=="function"&&this.addEventListener(w,B,{[Ke]:!0})}})}));It.prototype.addEventListener=at;It.prototype.removeEventListener=lt;B.exports=It;function xy(w,B,G,K){let Se={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:wt[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...K,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(w._autoPong=Se.autoPong,!wt.includes(Se.protocolVersion))throw new RangeError(`Unsupported protocol version: ${Se.protocolVersion} (supported versions: ${wt.join(", ")})`);let Be;if(B instanceof Le)Be=B;else try{Be=new Le(B)}catch{throw new SyntaxError(`Invalid URL: ${B}`)}Be.protocol==="http:"?Be.protocol="ws:":Be.protocol==="https:"&&(Be.protocol="wss:"),w._url=Be.href;let Fe=Be.protocol==="wss:",Me=Be.protocol==="ws+unix:",qe;if(Be.protocol!=="ws:"&&!Fe&&!Me?qe=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:Me&&!Be.pathname?qe="The URL's pathname is empty":Be.hash&&(qe="The URL contains a fragment identifier"),qe){let B=new SyntaxError(qe);if(w._redirects===0)throw B;sa(w,B);return}let We=Fe?443:80,Ge=Qe(16).toString("base64"),ze=Fe?pe.request:ye.request,Ke=new Set,Xe;if(Se.createConnection=Se.createConnection||(Fe?yA:vA),Se.defaultPort=Se.defaultPort||We,Se.port=Be.port||We,Se.host=Be.hostname.startsWith("[")?Be.hostname.slice(1,-1):Be.hostname,Se.headers={...Se.headers,"Sec-WebSocket-Version":Se.protocolVersion,"Sec-WebSocket-Key":Ge,Connection:"Upgrade",Upgrade:"websocket"},Se.path=Be.pathname+Be.search,Se.timeout=Se.handshakeTimeout,Se.perMessageDeflate&&(Xe=new je(Se.perMessageDeflate!==!0?Se.perMessageDeflate:{},!1,Se.maxPayload),Se.headers["Sec-WebSocket-Extensions"]=ct({[je.extensionName]:Xe.offer()})),G.length){for(let w of G){if(typeof w!="string"||!_t.test(w)||Ke.has(w))throw new SyntaxError("An invalid or duplicated subprotocol was specified");Ke.add(w)}Se.headers["Sec-WebSocket-Protocol"]=G.join(",")}if(Se.origin&&(Se.protocolVersion<13?Se.headers["Sec-WebSocket-Origin"]=Se.origin:Se.headers.Origin=Se.origin),(Be.username||Be.password)&&(Se.auth=`${Be.username}:${Be.password}`),Me){let w=Se.path.split(":");Se.socketPath=w[0],Se.path=w[1]}let rt;if(Se.followRedirects){if(w._redirects===0){w._originalIpc=Me,w._originalSecure=Fe,w._originalHostOrSocketPath=Me?Se.socketPath:Be.host;let B=K&&K.headers;if(K={...K,headers:{}},B)for(let[w,G]of Object.entries(B))K.headers[w.toLowerCase()]=G}else if(w.listenerCount("redirect")===0){let B=Me?w._originalIpc?Se.socketPath===w._originalHostOrSocketPath:!1:w._originalIpc?!1:Be.host===w._originalHostOrSocketPath;(!B||w._originalSecure&&!Fe)&&(delete Se.headers.authorization,delete Se.headers.cookie,B||delete Se.headers.host,Se.auth=void 0)}Se.auth&&!K.headers.authorization&&(K.headers.authorization="Basic "+Buffer.from(Se.auth).toString("base64")),rt=w._req=ze(Se),w._redirects&&w.emit("redirect",w.url,rt)}else rt=w._req=ze(Se);Se.timeout&&rt.on("timeout",(()=>{Et(w,rt,"Opening handshake has timed out")})),rt.on("error",(B=>{rt===null||rt[mt]||(rt=w._req=null,sa(w,B))})),rt.on("response",(pe=>{let ye=pe.headers.location,Be=pe.statusCode;if(ye&&Se.followRedirects&&Be>=300&&Be<400){if(++w._redirects>Se.maxRedirects){Et(w,rt,"Maximum redirects exceeded");return}rt.abort();let pe;try{pe=new Le(ye,B)}catch{let B=new SyntaxError(`Invalid URL: ${ye}`);sa(w,B);return}xy(w,pe,G,K)}else w.emit("unexpected-response",rt,pe)||Et(w,rt,`Unexpected server response: ${pe.statusCode}`)})),rt.on("upgrade",((B,G,K)=>{if(w.emit("upgrade",B),w.readyState!==It.CONNECTING)return;rt=w._req=null;let pe=B.headers.upgrade;if(pe===void 0||pe.toLowerCase()!=="websocket"){Et(w,G,"Invalid Upgrade header");return}let ye=Pe("sha1").update(Ge+Ye).digest("base64");if(B.headers["sec-websocket-accept"]!==ye){Et(w,G,"Invalid Sec-WebSocket-Accept header");return}let Be=B.headers["sec-websocket-protocol"],Qe;if(Be!==void 0?Ke.size?Ke.has(Be)||(Qe="Server sent an invalid subprotocol"):Qe="Server sent a subprotocol but none was requested":Ke.size&&(Qe="Server sent no subprotocol"),Qe){Et(w,G,Qe);return}Be&&(w._protocol=Be);let Fe=B.headers["sec-websocket-extensions"];if(Fe!==void 0){if(!Xe){Et(w,G,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let B;try{B=ut(Fe)}catch{Et(w,G,"Invalid Sec-WebSocket-Extensions header");return}let K=Object.keys(B);if(K.length!==1||K[0]!==je.extensionName){Et(w,G,"Server indicated an extension that was not requested");return}try{Xe.accept(B[je.extensionName])}catch{Et(w,G,"Invalid Sec-WebSocket-Extensions header");return}w._extensions[je.extensionName]=Xe}w.setSocket(G,K,{allowSynchronousEvents:Se.allowSynchronousEvents,generateMask:Se.generateMask,maxPayload:Se.maxPayload,skipUTF8Validation:Se.skipUTF8Validation})})),Se.finishRequest?Se.finishRequest(rt,w):rt.end()}function sa(w,B){w._readyState=It.CLOSING,w.emit("error",B),w.emitClose()}function vA(w){return w.path=w.socketPath,Se.connect(w)}function yA(w){return w.path=void 0,!w.servername&&w.servername!==""&&(w.servername=Se.isIP(w.host)?"":w.host),Be.connect(w)}function Et(w,B,G){w._readyState=It.CLOSING;let K=new Error(G);Error.captureStackTrace(K,Et),B.setHeader?(B[mt]=!0,B.abort(),B.socket&&!B.socket.destroyed&&B.socket.destroy(),process.nextTick(sa,w,K)):(B.destroy(K),B.once("error",w.emit.bind(w,"error")),B.once("close",w.emitClose.bind(w)))}function ff(w,B,G){if(B){let G=ft(B).length;w._socket?w._sender._bufferedBytes+=G:w._bufferedAmount+=G}if(G){let B=new Error(`WebSocket is not open: readyState ${w.readyState} (${vt[w.readyState]})`);process.nextTick(G,B)}}function bA(w,B){let G=this[it];G._closeFrameReceived=!0,G._closeMessage=B,G._closeCode=w,G._socket[it]!==void 0&&(G._socket.removeListener("data",oa),process.nextTick(Sy,G._socket),w===1005?G.close():G.close(w,B))}function _A(){let w=this[it];w.isPaused||w._socket.resume()}function wA(w){let B=this[it];B._socket[it]!==void 0&&(B._socket.removeListener("data",oa),process.nextTick(Sy,B._socket),B.close(w[rt])),B.emit("error",w)}function yy(){this[it].emitClose()}function xA(w,B){this[it].emit("message",w,B)}function SA(w){let B=this[it];B._autoPong&&B.pong(w,!this._isServer,ot),B.emit("ping",w)}function EA(w){this[it].emit("pong",w)}function Sy(w){w.resume()}function Ey(){let w=this[it];this.removeListener("close",Ey),this.removeListener("data",oa),this.removeListener("end",Oy),w._readyState=It.CLOSING;let B;!this._readableState.endEmitted&&!w._closeFrameReceived&&!w._receiver._writableState.errorEmitted&&(B=w._socket.read())!==null&&w._receiver.write(B),w._receiver.end(),this[it]=void 0,clearTimeout(w._closeTimer),w._receiver._writableState.finished||w._receiver._writableState.errorEmitted?w.emitClose():(w._receiver.on("error",yy),w._receiver.on("finish",yy))}function oa(w){this[it]._receiver.write(w)||this.pause()}function Oy(){let w=this[it];w._readyState=It.CLOSING,w._receiver.end(),this.end()}function ky(){let w=this[it];this.removeListener("error",ky),this.on("error",ot),w&&(w._readyState=It.CLOSING,this.destroy())}}));var Po=_(((w,B)=>{"use strict";var{tokenChars:G}=Co();function kA(w){let B=new Set,K=-1,pe=-1,ye=0;for(ye;ye<w.length;ye++){let Se=w.charCodeAt(ye);if(pe===-1&&G[Se]===1)K===-1&&(K=ye);else if(ye!==0&&(Se===32||Se===9))pe===-1&&K!==-1&&(pe=ye);else if(Se===44){if(K===-1)throw new SyntaxError(`Unexpected character at index ${ye}`);pe===-1&&(pe=ye);let G=w.slice(K,pe);if(B.has(G))throw new SyntaxError(`The "${G}" subprotocol is duplicated`);B.add(G),K=pe=-1}else throw new SyntaxError(`Unexpected character at index ${ye}`)}if(K===-1||pe!==-1)throw new SyntaxError("Unexpected end of input");let Se=w.slice(K,ye);if(B.has(Se))throw new SyntaxError(`The "${Se}" subprotocol is duplicated`);return B.add(Se),B}B.exports={parse:kA}}));var Do=_(((w,B)=>{"use strict";var K=G(4434),pe=G(8611),{Duplex:ye}=G(2203),{createHash:Se}=G(6982),Be=Oo(),Qe=Eo(),Pe=Po(),Fe=Ro(),{GUID:Me,kWebSocket:Le}=yo(),je=/^[+/0-9A-Za-z]{22}==$/,qe=0,We=1,Ge=2,ze=class extends K{constructor(w,B){if(super(),w={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Fe,...w},w.port==null&&!w.server&&!w.noServer||w.port!=null&&(w.server||w.noServer)||w.server&&w.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(w.port!=null?(this._server=pe.createServer(((w,B)=>{let G=pe.STATUS_CODES[426];B.writeHead(426,{"Content-Length":G.length,"Content-Type":"text/plain"}),B.end(G)})),this._server.listen(w.port,w.host,w.backlog,B)):w.server&&(this._server=w.server),this._server){let w=this.emit.bind(this,"connection");this._removeListeners=RA(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(B,G,K)=>{this.handleUpgrade(B,G,K,w)}})}w.perMessageDeflate===!0&&(w.perMessageDeflate={}),w.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=w,this._state=qe}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(w){if(this._state===Ge){w&&this.once("close",(()=>{w(new Error("The server is not running"))})),process.nextTick(Zn,this);return}if(w&&this.once("close",w),this._state!==We)if(this._state=We,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Zn,this):process.nextTick(Zn,this);else{let w=this._server;this._removeListeners(),this._removeListeners=this._server=null,w.close((()=>{Zn(this)}))}}shouldHandle(w){if(this.options.path){let B=w.url.indexOf("?");if((B!==-1?w.url.slice(0,B):w.url)!==this.options.path)return!1}return!0}handleUpgrade(w,B,G,K){B.on("error",By);let pe=w.headers["sec-websocket-key"],ye=w.headers.upgrade,Se=+w.headers["sec-websocket-version"];if(w.method!=="GET"){ar(this,w,B,405,"Invalid HTTP method");return}if(ye===void 0||ye.toLowerCase()!=="websocket"){ar(this,w,B,400,"Invalid Upgrade header");return}if(pe===void 0||!je.test(pe)){ar(this,w,B,400,"Missing or invalid Sec-WebSocket-Key header");return}if(Se!==8&&Se!==13){ar(this,w,B,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(w)){Qn(B,400);return}let Fe=w.headers["sec-websocket-protocol"],Me=new Set;if(Fe!==void 0)try{Me=Pe.parse(Fe)}catch{ar(this,w,B,400,"Invalid Sec-WebSocket-Protocol header");return}let Le=w.headers["sec-websocket-extensions"],qe={};if(this.options.perMessageDeflate&&Le!==void 0){let G=new Qe(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let w=Be.parse(Le);w[Qe.extensionName]&&(G.accept(w[Qe.extensionName]),qe[Qe.extensionName]=G)}catch{ar(this,w,B,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let ye={origin:w.headers[`${Se===8?"sec-websocket-origin":"origin"}`],secure:!!(w.socket.authorized||w.socket.encrypted),req:w};if(this.options.verifyClient.length===2){this.options.verifyClient(ye,((ye,Se,Be,Qe)=>{if(!ye)return Qn(B,Se||401,Be,Qe);this.completeUpgrade(qe,pe,Me,w,B,G,K)}));return}if(!this.options.verifyClient(ye))return Qn(B,401)}this.completeUpgrade(qe,pe,Me,w,B,G,K)}completeUpgrade(w,B,G,K,pe,ye,Pe){if(!pe.readable||!pe.writable)return pe.destroy();if(pe[Le])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>qe)return Qn(pe,503);let Fe=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Se("sha1").update(B+Me).digest("base64")}`],je=new this.options.WebSocket(null,void 0,this.options);if(G.size){let w=this.options.handleProtocols?this.options.handleProtocols(G,K):G.values().next().value;w&&(Fe.push(`Sec-WebSocket-Protocol: ${w}`),je._protocol=w)}if(w[Qe.extensionName]){let B=w[Qe.extensionName].params,G=Be.format({[Qe.extensionName]:[B]});Fe.push(`Sec-WebSocket-Extensions: ${G}`),je._extensions=w}this.emit("headers",Fe,K),pe.write(Fe.concat(`\r\n`).join(`\r\n`)),pe.removeListener("error",By),je.setSocket(pe,ye,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(je),je.on("close",(()=>{this.clients.delete(je),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Zn,this)}))),Pe(je,K)}};B.exports=ze;function RA(w,B){for(let G of Object.keys(B))w.on(G,B[G]);return function(){for(let G of Object.keys(B))w.removeListener(G,B[G])}}function Zn(w){w._state=Ge,w.emit("close")}function By(){this.destroy()}function Qn(w,B,G,K){G=G||pe.STATUS_CODES[B],K={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(G),...K},w.once("finish",w.destroy),w.end(`HTTP/1.1 ${B} ${pe.STATUS_CODES[B]}\r\n`+Object.keys(K).map((w=>`${w}: ${K[w]}`)).join(`\r\n`)+`\r\n\r\n`+G)}function ar(w,B,G,K,pe){if(w.listenerCount("wsClientError")){let K=new Error(pe);Error.captureStackTrace(K,ar),w.emit("wsClientError",K,G,B)}else Qn(G,K,pe)}}));var Fo=_(((w,B)=>{var K=G(9140),pe=process.cwd,ye=null,Se=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return ye||(ye=pe.call(process)),ye};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Be=process.chdir,process.chdir=function(w){ye=null,Be.call(process,w)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Be));var Be;B.exports=FA;function FA(w){K.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(w),w.lutimes||t(w),w.chown=s(w.chown),w.fchown=s(w.fchown),w.lchown=s(w.lchown),w.chmod=r(w.chmod),w.fchmod=r(w.fchmod),w.lchmod=r(w.lchmod),w.chownSync=o(w.chownSync),w.fchownSync=o(w.fchownSync),w.lchownSync=o(w.lchownSync),w.chmodSync=n(w.chmodSync),w.fchmodSync=n(w.fchmodSync),w.lchmodSync=n(w.lchmodSync),w.stat=a(w.stat),w.fstat=a(w.fstat),w.lstat=a(w.lstat),w.statSync=l(w.statSync),w.fstatSync=l(w.fstatSync),w.lstatSync=l(w.lstatSync),w.chmod&&!w.lchmod&&(w.lchmod=function(w,B,G){G&&process.nextTick(G)},w.lchmodSync=function(){}),w.chown&&!w.lchown&&(w.lchown=function(w,B,G,K){K&&process.nextTick(K)},w.lchownSync=function(){}),Se==="win32"&&(w.rename=typeof w.rename!="function"?w.rename:function(B){function f(G,K,pe){var ye=Date.now(),Se=0;B(G,K,(function x(Be){if(Be&&(Be.code==="EACCES"||Be.code==="EPERM")&&Date.now()-ye<6e4){setTimeout((function(){w.stat(K,(function(w,ye){w&&w.code==="ENOENT"?B(G,K,x):pe(Be)}))}),Se),Se<100&&(Se+=10);return}pe&&pe(Be)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(f,B),f}(w.rename)),w.read=typeof w.read!="function"?w.read:function(B){function f(G,K,pe,ye,Se,Be){var Qe;if(Be&&typeof Be=="function"){var Pe=0;Qe=function(Fe,Me,Le){if(Fe&&Fe.code==="EAGAIN"&&Pe<10)return Pe++,B.call(w,G,K,pe,ye,Se,Qe);Be.apply(this,arguments)}}return B.call(w,G,K,pe,ye,Se,Qe)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,B),f}(w.read),w.readSync=typeof w.readSync!="function"?w.readSync:function(B){return function(G,K,pe,ye,Se){for(var Be=0;;)try{return B.call(w,G,K,pe,ye,Se)}catch(w){if(w.code==="EAGAIN"&&Be<10){Be++;continue}throw w}}}(w.readSync);function e(w){w.lchmod=function(B,G,pe){w.open(B,K.O_WRONLY|K.O_SYMLINK,G,(function(B,K){if(B){pe&&pe(B);return}w.fchmod(K,G,(function(B){w.close(K,(function(w){pe&&pe(B||w)}))}))}))},w.lchmodSync=function(B,G){var pe=w.openSync(B,K.O_WRONLY|K.O_SYMLINK,G),ye=!0,Se;try{Se=w.fchmodSync(pe,G),ye=!1}finally{if(ye)try{w.closeSync(pe)}catch{}else w.closeSync(pe)}return Se}}function t(w){K.hasOwnProperty("O_SYMLINK")&&w.futimes?(w.lutimes=function(B,G,pe,ye){w.open(B,K.O_SYMLINK,(function(B,K){if(B){ye&&ye(B);return}w.futimes(K,G,pe,(function(B){w.close(K,(function(w){ye&&ye(B||w)}))}))}))},w.lutimesSync=function(B,G,pe){var ye=w.openSync(B,K.O_SYMLINK),Se,Be=!0;try{Se=w.futimesSync(ye,G,pe),Be=!1}finally{if(Be)try{w.closeSync(ye)}catch{}else w.closeSync(ye)}return Se}):w.futimes&&(w.lutimes=function(w,B,G,K){K&&process.nextTick(K)},w.lutimesSync=function(){})}function r(B){return B&&function(G,K,pe){return B.call(w,G,K,(function(w){c(w)&&(w=null),pe&&pe.apply(this,arguments)}))}}function n(B){return B&&function(G,K){try{return B.call(w,G,K)}catch(w){if(!c(w))throw w}}}function s(B){return B&&function(G,K,pe,ye){return B.call(w,G,K,pe,(function(w){c(w)&&(w=null),ye&&ye.apply(this,arguments)}))}}function o(B){return B&&function(G,K,pe){try{return B.call(w,G,K,pe)}catch(w){if(!c(w))throw w}}}function a(B){return B&&function(G,K,pe){typeof K=="function"&&(pe=K,K=null);function g(w,B){B&&(B.uid<0&&(B.uid+=4294967296),B.gid<0&&(B.gid+=4294967296)),pe&&pe.apply(this,arguments)}return K?B.call(w,G,K,g):B.call(w,G,g)}}function l(B){return B&&function(G,K){var pe=K?B.call(w,G,K):B.call(w,G);return pe&&(pe.uid<0&&(pe.uid+=4294967296),pe.gid<0&&(pe.gid+=4294967296)),pe}}function c(w){if(!w||w.code==="ENOSYS")return!0;var B=!process.getuid||process.getuid()!==0;return!!(B&&(w.code==="EINVAL"||w.code==="EPERM"))}}}));var No=_(((w,B)=>{var K=G(2203).Stream;B.exports=qA;function qA(w){return{ReadStream:e,WriteStream:t};function e(B,G){if(!(this instanceof e))return new e(B,G);K.call(this);var pe=this;this.path=B,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,G=G||{};for(var ye=Object.keys(G),Se=0,Be=ye.length;Se<Be;Se++){var Qe=ye[Se];this[Qe]=G[Qe]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick((function(){pe._read()}));return}w.open(this.path,this.flags,this.mode,(function(w,B){if(w){pe.emit("error",w),pe.readable=!1;return}pe.fd=B,pe.emit("open",B),pe._read()}))}function t(B,G){if(!(this instanceof t))return new t(B,G);K.call(this),this.path=B,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,G=G||{};for(var pe=Object.keys(G),ye=0,Se=pe.length;ye<Se;ye++){var Be=pe[ye];this[Be]=G[Be]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=w.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}));var Mo=_(((w,B)=>{"use strict";B.exports=UA;var G=Object.getPrototypeOf||function(w){return w.__proto__};function UA(w){if(w===null||typeof w!="object")return w;if(w instanceof Object)var B={__proto__:G(w)};else var B=Object.create(null);return Object.getOwnPropertyNames(w).forEach((function(G){Object.defineProperty(B,G,Object.getOwnPropertyDescriptor(w,G))})),B}}));var Lo=_(((w,B)=>{var K=G(9896),pe=Fo(),ye=No(),Se=Mo(),Be=G(9023),Qe,Pe;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Qe=Symbol.for("graceful-fs.queue"),Pe=Symbol.for("graceful-fs.previous")):(Qe="___graceful-fs.queue",Pe="___graceful-fs.previous");function GA(){}function Ky(w,B){Object.defineProperty(w,Qe,{get:function(){return B}})}var Fe=GA;Be.debuglog?Fe=Be.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Fe=function(){var w=Be.format.apply(Be,arguments);w="GFS4: "+w.split(/\n/).join(`\nGFS4: `),console.error(w)});K[Qe]||(Me=global[Qe]||[],Ky(K,Me),K.close=function(w){function e(B,G){return w.call(K,B,(function(w){w||Yy(),typeof G=="function"&&G.apply(this,arguments)}))}return Object.defineProperty(e,Pe,{value:w}),e}(K.close),K.closeSync=function(w){function e(B){w.apply(K,arguments),Yy()}return Object.defineProperty(e,Pe,{value:w}),e}(K.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){Fe(K[Qe]),G(2613).equal(K[Qe].length,0)})));var Me;global[Qe]||Ky(global,K[Qe]);B.exports=yf(Se(K));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!K.__patched&&(B.exports=yf(K),K.__patched=!0);function yf(w){pe(w),w.gracefulify=yf,w.createReadStream=S,w.createWriteStream=R;var B=w.readFile;w.readFile=t;function t(w,G,K){return typeof G=="function"&&(K=G,G=null),U(w,G,K);function U(w,G,K,pe){return B(w,G,(function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?zr([U,[w,G,K],B,pe||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)}))}}var G=w.writeFile;w.writeFile=n;function n(w,B,K,pe){return typeof K=="function"&&(pe=K,K=null),F(w,B,K,pe);function F(w,B,K,pe,ye){return G(w,B,K,(function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?zr([F,[w,B,K,pe],G,ye||Date.now(),Date.now()]):typeof pe=="function"&&pe.apply(this,arguments)}))}}var K=w.appendFile;K&&(w.appendFile=o);function o(w,B,G,pe){return typeof G=="function"&&(pe=G,G=null),F(w,B,G,pe);function F(w,B,G,pe,ye){return K(w,B,G,(function(K){K&&(K.code==="EMFILE"||K.code==="ENFILE")?zr([F,[w,B,G,pe],K,ye||Date.now(),Date.now()]):typeof pe=="function"&&pe.apply(this,arguments)}))}}var Se=w.copyFile;Se&&(w.copyFile=l);function l(w,B,G,K){return typeof G=="function"&&(K=G,G=0),F(w,B,G,K);function F(w,B,G,K,pe){return Se(w,B,G,(function(ye){ye&&(ye.code==="EMFILE"||ye.code==="ENFILE")?zr([F,[w,B,G,K],ye,pe||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)}))}}var Be=w.readdir;w.readdir=f;var Qe=/^v[0-5]\./;function f(w,B,G){typeof B=="function"&&(G=B,B=null);var K=Qe.test(process.version)?function(w,B,G,K){return Be(w,F(w,B,G,K))}:function(w,B,G,K){return Be(w,B,F(w,B,G,K))};return K(w,B,G);function F(w,B,G,pe){return function(ye,Se){ye&&(ye.code==="EMFILE"||ye.code==="ENFILE")?zr([K,[w,B,G],ye,pe||Date.now(),Date.now()]):(Se&&Se.sort&&Se.sort(),typeof G=="function"&&G.call(this,ye,Se))}}}if(process.version.substr(0,4)==="v0.8"){var Pe=ye(w);x=Pe.ReadStream,k=Pe.WriteStream}var Fe=w.ReadStream;Fe&&(x.prototype=Object.create(Fe.prototype),x.prototype.open=E);var Me=w.WriteStream;Me&&(k.prototype=Object.create(Me.prototype),k.prototype.open=O),Object.defineProperty(w,"ReadStream",{get:function(){return x},set:function(w){x=w},enumerable:!0,configurable:!0}),Object.defineProperty(w,"WriteStream",{get:function(){return k},set:function(w){k=w},enumerable:!0,configurable:!0});var Le=x;Object.defineProperty(w,"FileReadStream",{get:function(){return Le},set:function(w){Le=w},enumerable:!0,configurable:!0});var je=k;Object.defineProperty(w,"FileWriteStream",{get:function(){return je},set:function(w){je=w},enumerable:!0,configurable:!0});function x(w,B){return this instanceof x?(Fe.apply(this,arguments),this):x.apply(Object.create(x.prototype),arguments)}function E(){var w=this;A(w.path,w.flags,w.mode,(function(B,G){B?(w.autoClose&&w.destroy(),w.emit("error",B)):(w.fd=G,w.emit("open",G),w.read())}))}function k(w,B){return this instanceof k?(Me.apply(this,arguments),this):k.apply(Object.create(k.prototype),arguments)}function O(){var w=this;A(w.path,w.flags,w.mode,(function(B,G){B?(w.destroy(),w.emit("error",B)):(w.fd=G,w.emit("open",G))}))}function S(B,G){return new w.ReadStream(B,G)}function R(B,G){return new w.WriteStream(B,G)}var qe=w.open;w.open=A;function A(w,B,G,K){return typeof G=="function"&&(K=G,G=null),F(w,B,G,K);function F(w,B,G,K,pe){return qe(w,B,G,(function(ye,Se){ye&&(ye.code==="EMFILE"||ye.code==="ENFILE")?zr([F,[w,B,G,K],ye,pe||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)}))}}return w}function zr(w){Fe("ENQUEUE",w[0].name,w[1]),K[Qe].push(w),bf()}var Le;function Yy(){for(var w=Date.now(),B=0;B<K[Qe].length;++B)K[Qe][B].length>2&&(K[Qe][B][3]=w,K[Qe][B][4]=w);bf()}function bf(){if(clearTimeout(Le),Le=void 0,K[Qe].length!==0){var w=K[Qe].shift(),B=w[0],G=w[1],pe=w[2],ye=w[3],Se=w[4];if(ye===void 0)Fe("RETRY",B.name,G),B.apply(null,G);else if(Date.now()-ye>=6e4){Fe("TIMEOUT",B.name,G);var Be=G.pop();typeof Be=="function"&&Be.call(null,pe)}else{var Pe=Date.now()-Se,Me=Math.max(Se-ye,1),je=Math.min(Me*1.2,100);Pe>=je?(Fe("RETRY",B.name,G),B.apply(null,G.concat([ye]))):K[Qe].push(w)}Le===void 0&&(Le=setTimeout(bf,0))}}}));var jo=_(((w,B)=>{function Rt(w,B){typeof B=="boolean"&&(B={forever:B}),this._originalTimeouts=JSON.parse(JSON.stringify(w)),this._timeouts=w,this._options=B||{},this._maxRetryTime=B&&B.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}B.exports=Rt;Rt.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};Rt.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};Rt.prototype.retry=function(w){if(this._timeout&&clearTimeout(this._timeout),!w)return!1;var B=(new Date).getTime();if(w&&B-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(w);var G=this._timeouts.shift();if(G===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),G=this._timeouts.shift();else return!1;var K=this,pe=setTimeout((function(){K._attempts++,K._operationTimeoutCb&&(K._timeout=setTimeout((function(){K._operationTimeoutCb(K._attempts)}),K._operationTimeout),K._options.unref&&K._timeout.unref()),K._fn(K._attempts)}),G);return this._options.unref&&pe.unref(),!0};Rt.prototype.attempt=function(w,B){this._fn=w,B&&(B.timeout&&(this._operationTimeout=B.timeout),B.cb&&(this._operationTimeoutCb=B.cb));var G=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){G._operationTimeoutCb()}),G._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)};Rt.prototype.try=function(w){console.log("Using RetryOperation.try() is deprecated"),this.attempt(w)};Rt.prototype.start=function(w){console.log("Using RetryOperation.start() is deprecated"),this.attempt(w)};Rt.prototype.start=Rt.prototype.try;Rt.prototype.errors=function(){return this._errors};Rt.prototype.attempts=function(){return this._attempts};Rt.prototype.mainError=function(){if(this._errors.length===0)return null;for(var w={},B=null,G=0,K=0;K<this._errors.length;K++){var pe=this._errors[K],ye=pe.message,Se=(w[ye]||0)+1;w[ye]=Se,Se>=G&&(B=pe,G=Se)}return B}}));var Uo=_((w=>{var B=jo();w.operation=function(G){var K=w.timeouts(G);return new B(K,{forever:G&&G.forever,unref:G&&G.unref,maxRetryTime:G&&G.maxRetryTime})};w.timeouts=function(w){if(w instanceof Array)return[].concat(w);var B={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var G in w)B[G]=w[G];if(B.minTimeout>B.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var K=[],pe=0;pe<B.retries;pe++)K.push(this.createTimeout(pe,B));return w&&w.forever&&!K.length&&K.push(this.createTimeout(pe,B)),K.sort((function(w,B){return w-B})),K};w.createTimeout=function(w,B){var G=B.randomize?Math.random()+1:1,K=Math.round(G*B.minTimeout*Math.pow(B.factor,w));return K=Math.min(K,B.maxTimeout),K};w.wrap=function(B,G,K){if(G instanceof Array&&(K=G,G=null),!K){K=[];for(var pe in B)typeof B[pe]=="function"&&K.push(pe)}for(var ye=0;ye<K.length;ye++){var Se=K[ye],Be=B[Se];B[Se]=function(K){var pe=w.operation(G),ye=Array.prototype.slice.call(arguments,1),Se=ye.pop();ye.push((function(w){pe.retry(w)||(w&&(arguments[0]=pe.mainError()),Se.apply(this,arguments))})),pe.attempt((function(){K.apply(B,ye)}))}.bind(B,Be),B[Se].options=G}}}));var qo=_(((w,B)=>{B.exports=Uo()}));var Wo=_(((w,B)=>{B.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&B.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&B.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}));var Go=_(((w,B)=>{var K=global.process,ur=function(w){return w&&typeof w=="object"&&typeof w.removeListener=="function"&&typeof w.emit=="function"&&typeof w.reallyExit=="function"&&typeof w.listeners=="function"&&typeof w.kill=="function"&&typeof w.pid=="number"&&typeof w.on=="function"};ur(K)?(pe=G(2613),ye=Wo(),Se=/^win/i.test(K.platform),Be=G(4434),typeof Be!="function"&&(Be=Be.EventEmitter),K.__signal_exit_emitter__?Qe=K.__signal_exit_emitter__:(Qe=K.__signal_exit_emitter__=new Be,Qe.count=0,Qe.emitted={}),Qe.infinite||(Qe.setMaxListeners(1/0),Qe.infinite=!0),B.exports=function(w,B){if(!ur(global.process))return function(){};pe.equal(typeof w,"function","a callback must be provided for exit handler"),Le===!1&&je();var G="exit";B&&B.alwaysLast&&(G="afterexit");var r=function(){Qe.removeListener(G,w),Qe.listeners("exit").length===0&&Qe.listeners("afterexit").length===0&&Pe()};return Qe.on(G,w),r},Pe=function(){!Le||!ur(global.process)||(Le=!1,ye.forEach((function(w){try{K.removeListener(w,Me[w])}catch{}})),K.emit=Ge,K.reallyExit=qe,Qe.count-=1)},B.exports.unload=Pe,Fe=function(w,B,G){Qe.emitted[w]||(Qe.emitted[w]=!0,Qe.emit(w,B,G))},Me={},ye.forEach((function(w){Me[w]=function(){if(ur(global.process)){var B=K.listeners(w);B.length===Qe.count&&(Pe(),Fe("exit",null,w),Fe("afterexit",null,w),Se&&w==="SIGHUP"&&(w="SIGINT"),K.kill(K.pid,w))}}})),B.exports.signals=function(){return ye},Le=!1,je=function(){Le||!ur(global.process)||(Le=!0,Qe.count+=1,ye=ye.filter((function(w){try{return K.on(w,Me[w]),!0}catch{return!1}})),K.emit=ze,K.reallyExit=We)},B.exports.load=je,qe=K.reallyExit,We=function(w){ur(global.process)&&(K.exitCode=w||0,Fe("exit",K.exitCode,null),Fe("afterexit",K.exitCode,null),qe.call(K,K.exitCode))},Ge=K.emit,ze=function(w,B){if(w==="exit"&&ur(global.process)){B!==void 0&&(K.exitCode=B);var G=Ge.apply(this,arguments);return Fe("exit",K.exitCode,null),Fe("afterexit",K.exitCode,null),G}else return Ge.apply(this,arguments)}):B.exports=function(){return function(){}};var pe,ye,Se,Be,Qe,Pe,Fe,Me,Le,je,qe,We,Ge,ze}));var zo=_(((w,B)=>{"use strict";var K=G(6928),pe=Lo(),ye=qo(),Se=Go(),Be={},Qe=Symbol();function JA(w,B,G){let K=B[Qe];if(K)return B.stat(w,((w,B)=>{if(w)return G(w);G(null,B.mtime,K)}));let pe=new Date(Math.ceil(Date.now()/1e3)*1e3+5);B.utimes(w,pe,pe,(K=>{if(K)return G(K);B.stat(w,((w,K)=>{if(w)return G(w);let pe=K.mtime.getTime()%1e3===0?"s":"ms";Object.defineProperty(B,Qe,{value:pe}),G(null,K.mtime,pe)}))}))}function ZA(w){let B=Date.now();return w==="s"&&(B=Math.ceil(B/1e3)*1e3),new Date(B)}function va(w,B){return B.lockfilePath||`${w}.lock`}function fb(w,B,G){if(!B.realpath)return G(null,K.resolve(w));B.fs.realpath(w,G)}function Ef(w,B,G){let K=va(w,B);B.fs.mkdir(K,(pe=>{if(!pe)return JA(K,B.fs,((w,pe,ye)=>{if(w)return B.fs.rmdir(K,(()=>{})),G(w);G(null,pe,ye)}));if(pe.code!=="EEXIST")return G(pe);if(B.stale<=0)return G(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:w}));B.fs.stat(K,((K,pe)=>{if(K)return K.code==="ENOENT"?Ef(w,{...B,stale:0},G):G(K);if(!QA(pe,B))return G(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:w}));hb(w,B,(K=>{if(K)return G(K);Ef(w,{...B,stale:0},G)}))}))}))}function QA(w,B){return w.mtime.getTime()<Date.now()-B.stale}function hb(w,B,G){B.fs.rmdir(va(w,B),(w=>{if(w&&w.code!=="ENOENT")return G(w);G()}))}function ga(w,B){let G=Be[w];G.updateTimeout||(G.updateDelay=G.updateDelay||B.update,G.updateTimeout=setTimeout((()=>{G.updateTimeout=null,B.fs.stat(G.lockfilePath,((K,pe)=>{let ye=G.lastUpdate+B.stale<Date.now();if(K)return K.code==="ENOENT"||ye?Sf(w,G,Object.assign(K,{code:"ECOMPROMISED"})):(G.updateDelay=1e3,ga(w,B));if(!(G.mtime.getTime()===pe.mtime.getTime()))return Sf(w,G,Object.assign(new Error("Unable to update lock within the stale threshold"),{code:"ECOMPROMISED"}));let Se=ZA(G.mtimePrecision);B.fs.utimes(G.lockfilePath,Se,Se,(K=>{let pe=G.lastUpdate+B.stale<Date.now();if(!G.released){if(K)return K.code==="ENOENT"||pe?Sf(w,G,Object.assign(K,{code:"ECOMPROMISED"})):(G.updateDelay=1e3,ga(w,B));G.mtime=Se,G.lastUpdate=Date.now(),G.updateDelay=null,ga(w,B)}}))}))}),G.updateDelay),G.updateTimeout.unref&&G.updateTimeout.unref())}function Sf(w,B,G){B.released=!0,B.updateTimeout&&clearTimeout(B.updateTimeout),Be[w]===B&&delete Be[w],B.options.onCompromised(G)}function XA(w,B,G){B={stale:1e4,update:null,realpath:!0,retries:0,fs:pe,onCompromised:w=>{throw w},...B},B.retries=B.retries||0,B.retries=typeof B.retries=="number"?{retries:B.retries}:B.retries,B.stale=Math.max(B.stale||0,2e3),B.update=B.update==null?B.stale/2:B.update||0,B.update=Math.max(Math.min(B.update,B.stale/2),1e3),fb(w,B,((w,K)=>{if(w)return G(w);let pe=ye.operation(B.retries);pe.attempt((()=>{Ef(K,B,((w,ye,Se)=>{if(pe.retry(w))return;if(w)return G(pe.mainError());let Qe=Be[K]={lockfilePath:va(K,B),mtime:ye,mtimePrecision:Se,options:B,lastUpdate:Date.now()};ga(K,B),G(null,(w=>{if(Qe.released)return w&&w(Object.assign(new Error("Lock is already released"),{code:"ERELEASED"}));eI(K,{...B,realpath:!1},w)}))}))}))}))}function eI(w,B,G){B={fs:pe,realpath:!0,...B},fb(w,B,((w,K)=>{if(w)return G(w);let pe=Be[K];if(!pe)return G(Object.assign(new Error("Lock is not acquired/owned by you"),{code:"ENOTACQUIRED"}));pe.updateTimeout&&clearTimeout(pe.updateTimeout),pe.released=!0,delete Be[K],hb(K,B,G)}))}function lb(w){return(...B)=>new Promise(((G,K)=>{B.push(((w,B)=>{w?K(w):G(B)})),w(...B)}))}var Pe=!1;function tI(){Pe||(Pe=!0,Se((()=>{for(let w in Be){let B=Be[w].options;try{B.fs.rmdirSync(va(w,B))}catch{}}})))}B.exports.lock=async(w,B)=>{tI();let G=await lb(XA)(w,B);return lb(G)}}));var $o={};Tf($o,{HttpsProxyAgent:()=>fa.HttpsProxyAgent,PNG:()=>ka.PNG,ProgramOption:()=>$a,SocksProxyAgent:()=>Ka.SocksProxyAgent,colors:()=>al,debug:()=>ll,diff:()=>cl,dotenv:()=>ul,getProxyForUrl:()=>pa.getProxyForUrl,jpegjs:()=>dl,lockfile:()=>pl,mime:()=>Al,minimatch:()=>fl,open:()=>gl,program:()=>Pa,progress:()=>ml,ws:()=>yl,wsReceiver:()=>vl,wsSender:()=>El,wsServer:()=>wl,yaml:()=>bl});w.exports=Kb($o);var Jo=$e(Ke()),Ko=$e(ct());var Xo={};Tf(Xo,{Diff:()=>Tt,applyPatch:()=>Mh,applyPatches:()=>ew,canonicalize:()=>Es,convertChangesToDMP:()=>cw,convertChangesToXML:()=>uw,createPatch:()=>tw,createTwoFilesPatch:()=>Dh,diffArrays:()=>J_,diffChars:()=>L_,diffCss:()=>U_,diffJson:()=>z_,diffLines:()=>Aa,diffSentences:()=>j_,diffTrimmedLines:()=>q_,diffWords:()=>D_,diffWordsWithSpace:()=>Nh,formatPatch:()=>Cs,merge:()=>sw,parsePatch:()=>Ts,reversePatch:()=>Fh,structuredPatch:()=>ks});function Tt(){}Tt.prototype={diff:function(w,B){var G,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=K.callback;typeof K=="function"&&(pe=K,K={});var ye=this;function a(w){return w=ye.postProcess(w,K),pe?(setTimeout((function(){pe(w)}),0),!0):w}w=this.castInput(w,K),B=this.castInput(B,K),w=this.removeEmpty(this.tokenize(w,K)),B=this.removeEmpty(this.tokenize(B,K));var Se=B.length,Be=w.length,Qe=1,Pe=Se+Be;K.maxEditLength!=null&&(Pe=Math.min(Pe,K.maxEditLength));var Fe=(G=K.timeout)!==null&&G!==void 0?G:1/0,Me=Date.now()+Fe,Le=[{oldPos:-1,lastComponent:void 0}],je=this.extractCommon(Le[0],B,w,0,K);if(Le[0].oldPos+1>=Be&&je+1>=Se)return a(mh(ye,Le[0].lastComponent,B,w,ye.useLongestToken));var qe=-1/0,We=1/0;function E(){for(var G=Math.max(qe,-Qe);G<=Math.min(We,Qe);G+=2){var pe=void 0,Pe=Le[G-1],Fe=Le[G+1];Pe&&(Le[G-1]=void 0);var Me=!1;if(Fe){var Ge=Fe.oldPos-G;Me=Fe&&0<=Ge&&Ge<Se}var ze=Pe&&Pe.oldPos+1<Be;if(!Me&&!ze){Le[G]=void 0;continue}if(!ze||Me&&Pe.oldPos<Fe.oldPos?pe=ye.addToPath(Fe,!0,!1,0,K):pe=ye.addToPath(Pe,!1,!0,1,K),je=ye.extractCommon(pe,B,w,G,K),pe.oldPos+1>=Be&&je+1>=Se)return a(mh(ye,pe.lastComponent,B,w,ye.useLongestToken));Le[G]=pe,pe.oldPos+1>=Be&&(We=Math.min(We,G-1)),je+1>=Se&&(qe=Math.max(qe,G+1))}Qe++}if(pe)(function O(){setTimeout((function(){if(Qe>Pe||Date.now()>Me)return pe();E()||O()}),0)})();else for(;Qe<=Pe&&Date.now()<=Me;){var Ge=E();if(Ge)return Ge}},addToPath:function(w,B,G,K,pe){var ye=w.lastComponent;return ye&&!pe.oneChangePerToken&&ye.added===B&&ye.removed===G?{oldPos:w.oldPos+K,lastComponent:{count:ye.count+1,added:B,removed:G,previousComponent:ye.previousComponent}}:{oldPos:w.oldPos+K,lastComponent:{count:1,added:B,removed:G,previousComponent:ye}}},extractCommon:function(w,B,G,K,pe){for(var ye=B.length,Se=G.length,Be=w.oldPos,Qe=Be-K,Pe=0;Qe+1<ye&&Be+1<Se&&this.equals(G[Be+1],B[Qe+1],pe);)Qe++,Be++,Pe++,pe.oneChangePerToken&&(w.lastComponent={count:1,previousComponent:w.lastComponent,added:!1,removed:!1});return Pe&&!pe.oneChangePerToken&&(w.lastComponent={count:Pe,previousComponent:w.lastComponent,added:!1,removed:!1}),w.oldPos=Be,Qe},equals:function(w,B,G){return G.comparator?G.comparator(w,B):w===B||G.ignoreCase&&w.toLowerCase()===B.toLowerCase()},removeEmpty:function(w){for(var B=[],G=0;G<w.length;G++)w[G]&&B.push(w[G]);return B},castInput:function(w){return w},tokenize:function(w){return Array.from(w)},join:function(w){return w.join("")},postProcess:function(w){return w}};function mh(w,B,G,K,pe){for(var ye=[],Se;B;)ye.push(B),Se=B.previousComponent,delete B.previousComponent,B=Se;ye.reverse();for(var Be=0,Qe=ye.length,Pe=0,Fe=0;Be<Qe;Be++){var Me=ye[Be];if(Me.removed)Me.value=w.join(K.slice(Fe,Fe+Me.count)),Fe+=Me.count;else{if(!Me.added&&pe){var Le=G.slice(Pe,Pe+Me.count);Le=Le.map((function(w,B){var G=K[Fe+B];return G.length>w.length?G:w})),Me.value=w.join(Le)}else Me.value=w.join(G.slice(Pe,Pe+Me.count));Pe+=Me.count,Me.added||(Fe+=Me.count)}}return ye}var Zo=new Tt;function L_(w,B,G){return Zo.diff(w,B,G)}function gh(w,B){var G;for(G=0;G<w.length&&G<B.length;G++)if(w[G]!=B[G])return w.slice(0,G);return w.slice(0,G)}function vh(w,B){var G;if(!w||!B||w[w.length-1]!=B[B.length-1])return"";for(G=0;G<w.length&&G<B.length;G++)if(w[w.length-(G+1)]!=B[B.length-(G+1)])return w.slice(-G);return w.slice(-G)}function Ca(w,B,G){if(w.slice(0,B.length)!=B)throw Error("string ".concat(JSON.stringify(w)," doesn't start with prefix ").concat(JSON.stringify(B),"; this is a bug"));return G+w.slice(B.length)}function Ta(w,B,G){if(!B)return w+G;if(w.slice(-B.length)!=B)throw Error("string ".concat(JSON.stringify(w)," doesn't end with suffix ").concat(JSON.stringify(B),"; this is a bug"));return w.slice(0,-B.length)+G}function en(w,B){return Ca(w,B,"")}function ws(w,B){return Ta(w,B,"")}function yh(w,B){return B.slice(0,B_(w,B))}function B_(w,B){var G=0;w.length>B.length&&(G=w.length-B.length);var K=B.length;w.length<B.length&&(K=w.length);var pe=Array(K),ye=0;pe[0]=0;for(var Se=1;Se<K;Se++){for(B[Se]==B[ye]?pe[Se]=pe[ye]:pe[Se]=ye;ye>0&&B[Se]!=B[ye];)ye=pe[ye];B[Se]==B[ye]&&ye++}ye=0;for(var Be=G;Be<w.length;Be++){for(;ye>0&&w[Be]!=B[ye];)ye=pe[ye];w[Be]==B[ye]&&ye++}return ye}function R_(w){return w.includes(`\r\n`)&&!w.startsWith(`\n`)&&!w.match(/[^\r]\n/)}function P_(w){return!w.includes(`\r\n`)&&w.includes(`\n`)}var ea="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",ta=new RegExp("[".concat(ea,"]+|\\s+|[^").concat(ea,"]"),"ug"),na=new Tt;na.equals=function(w,B,G){return G.ignoreCase&&(w=w.toLowerCase(),B=B.toLowerCase()),w.trim()===B.trim()};na.tokenize=function(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G;if(B.intlSegmenter){if(B.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');G=Array.from(B.intlSegmenter.segment(w),(function(w){return w.segment}))}else G=w.match(ta)||[];var K=[],pe=null;return G.forEach((function(w){/\s/.test(w)?pe==null?K.push(w):K.push(K.pop()+w):/\s/.test(pe)?K[K.length-1]==pe?K.push(K.pop()+w):K.push(pe+w):K.push(w),pe=w})),K};na.join=function(w){return w.map((function(w,B){return B==0?w:w.replace(/^\s+/,"")})).join("")};na.postProcess=function(w,B){if(!w||B.oneChangePerToken)return w;var G=null,K=null,pe=null;return w.forEach((function(w){w.added?K=w:w.removed?pe=w:((K||pe)&&bh(G,pe,K,w),G=w,K=null,pe=null)})),(K||pe)&&bh(G,pe,K,null),w};function D_(w,B,G){return(G==null?void 0:G.ignoreWhitespace)!=null&&!G.ignoreWhitespace?Nh(w,B,G):na.diff(w,B,G)}function bh(w,B,G,K){if(B&&G){var pe=B.value.match(/^\s*/)[0],ye=B.value.match(/\s*$/)[0],Se=G.value.match(/^\s*/)[0],Be=G.value.match(/\s*$/)[0];if(w){var Qe=gh(pe,Se);w.value=Ta(w.value,Se,Qe),B.value=en(B.value,Qe),G.value=en(G.value,Qe)}if(K){var Pe=vh(ye,Be);K.value=Ca(K.value,Be,Pe),B.value=ws(B.value,Pe),G.value=ws(G.value,Pe)}}else if(G)w&&(G.value=G.value.replace(/^\s*/,"")),K&&(K.value=K.value.replace(/^\s*/,""));else if(w&&K){var Fe=K.value.match(/^\s*/)[0],Me=B.value.match(/^\s*/)[0],Le=B.value.match(/\s*$/)[0],je=gh(Fe,Me);B.value=en(B.value,je);var qe=vh(en(Fe,je),Le);B.value=ws(B.value,qe),K.value=Ca(K.value,Fe,qe),w.value=Ta(w.value,Fe,Fe.slice(0,Fe.length-qe.length))}else if(K){var We=K.value.match(/^\s*/)[0],Ge=B.value.match(/\s*$/)[0],ze=yh(Ge,We);B.value=ws(B.value,ze)}else if(w){var Ye=w.value.match(/\s*$/)[0],Ke=B.value.match(/^\s*/)[0],Xe=yh(Ye,Ke);B.value=en(B.value,Xe)}}var ia=new Tt;ia.tokenize=function(w){var B=new RegExp("(\\r?\\n)|[".concat(ea,"]+|[^\\S\\n\\r]+|[^").concat(ea,"]"),"ug");return w.match(B)||[]};function Nh(w,B,G){return ia.diff(w,B,G)}function F_(w,B){if(typeof w=="function")B.callback=w;else if(w)for(var G in w)w.hasOwnProperty(G)&&(B[G]=w[G]);return B}var aa=new Tt;aa.tokenize=function(w,B){B.stripTrailingCr&&(w=w.replace(/\r\n/g,`\n`));var G=[],K=w.split(/(\n|\r\n)/);K[K.length-1]||K.pop();for(var pe=0;pe<K.length;pe++){var ye=K[pe];pe%2&&!B.newlineIsToken?G[G.length-1]+=ye:G.push(ye)}return G};aa.equals=function(w,B,G){return G.ignoreWhitespace?((!G.newlineIsToken||!w.includes(`\n`))&&(w=w.trim()),(!G.newlineIsToken||!B.includes(`\n`))&&(B=B.trim())):G.ignoreNewlineAtEof&&!G.newlineIsToken&&(w.endsWith(`\n`)&&(w=w.slice(0,-1)),B.endsWith(`\n`)&&(B=B.slice(0,-1))),Tt.prototype.equals.call(this,w,B,G)};function Aa(w,B,G){return aa.diff(w,B,G)}function q_(w,B,G){var K=F_(G,{ignoreWhitespace:!0});return aa.diff(w,B,K)}var la=new Tt;la.tokenize=function(w){return w.split(/(\S.+?[.!?])(?=\s+|$)/)};function j_(w,B,G){return la.diff(w,B,G)}var ca=new Tt;ca.tokenize=function(w){return w.split(/([{}:;,]|\s+)/)};function U_(w,B,G){return ca.diff(w,B,G)}function _h(w,B){var G=Object.keys(w);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(w);B&&(K=K.filter((function(B){return Object.getOwnPropertyDescriptor(w,B).enumerable}))),G.push.apply(G,K)}return G}function dt(w){for(var B=1;B<arguments.length;B++){var G=arguments[B]!=null?arguments[B]:{};B%2?_h(Object(G),!0).forEach((function(B){H_(w,B,G[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(G)):_h(Object(G)).forEach((function(B){Object.defineProperty(w,B,Object.getOwnPropertyDescriptor(G,B))}))}return w}function $_(w,B){if(typeof w!="object"||!w)return w;var G=w[Symbol.toPrimitive];if(G!==void 0){var K=G.call(w,B||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(w)}function V_(w){var B=$_(w,"string");return typeof B=="symbol"?B:B+""}function Ia(w){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},Ia(w)}function H_(w,B,G){return B=V_(B),B in w?Object.defineProperty(w,B,{value:G,enumerable:!0,configurable:!0,writable:!0}):w[B]=G,w}function ii(w){return G_(w)||W_(w)||Y_(w)||K_()}function G_(w){if(Array.isArray(w))return Na(w)}function W_(w){if(typeof Symbol!="undefined"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}function Y_(w,B){if(w){if(typeof w=="string")return Na(w,B);var G=Object.prototype.toString.call(w).slice(8,-1);if(G==="Object"&&w.constructor&&(G=w.constructor.name),G==="Map"||G==="Set")return Array.from(w);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return Na(w,B)}}function Na(w,B){(B==null||B>w.length)&&(B=w.length);for(var G=0,K=new Array(B);G<B;G++)K[G]=w[G];return K}function K_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ua=new Tt;ua.useLongestToken=!0;ua.tokenize=aa.tokenize;ua.castInput=function(w,B){var G=B.undefinedReplacement,K=B.stringifyReplacer,pe=K===void 0?function(w,B){return typeof B=="undefined"?G:B}:K;return typeof w=="string"?w:JSON.stringify(Es(w,null,null,pe),pe,"  ")};ua.equals=function(w,B,G){return Tt.prototype.equals.call(ua,w.replace(/,([\r\n])/g,"$1"),B.replace(/,([\r\n])/g,"$1"),G)};function z_(w,B,G){return ua.diff(w,B,G)}function Es(w,B,G,K,pe){B=B||[],G=G||[],K&&(w=K(pe,w));var ye;for(ye=0;ye<B.length;ye+=1)if(B[ye]===w)return G[ye];var Se;if(Object.prototype.toString.call(w)==="[object Array]"){for(B.push(w),Se=new Array(w.length),G.push(Se),ye=0;ye<w.length;ye+=1)Se[ye]=Es(w[ye],B,G,K,pe);return B.pop(),G.pop(),Se}if(w&&w.toJSON&&(w=w.toJSON()),Ia(w)==="object"&&w!==null){B.push(w),Se={},G.push(Se);var Be=[],Qe;for(Qe in w)Object.prototype.hasOwnProperty.call(w,Qe)&&Be.push(Qe);for(Be.sort(),ye=0;ye<Be.length;ye+=1)Qe=Be[ye],Se[Qe]=Es(w[Qe],B,G,K,Qe);B.pop(),G.pop()}else Se=w;return Se}var da=new Tt;da.tokenize=function(w){return w.slice()};da.join=da.removeEmpty=function(w){return w};function J_(w,B,G){return da.diff(w,B,G)}function Rh(w){return Array.isArray(w)?w.map(Rh):dt(dt({},w),{},{hunks:w.hunks.map((function(w){return dt(dt({},w),{},{lines:w.lines.map((function(B,G){var K;return B.startsWith("\\")||B.endsWith("\r")||(K=w.lines[G+1])!==null&&K!==void 0&&K.startsWith("\\")?B:B+"\r"}))})}))})}function Ph(w){return Array.isArray(w)?w.map(Ph):dt(dt({},w),{},{hunks:w.hunks.map((function(w){return dt(dt({},w),{},{lines:w.lines.map((function(w){return w.endsWith("\r")?w.substring(0,w.length-1):w}))})}))})}function Z_(w){return Array.isArray(w)||(w=[w]),!w.some((function(w){return w.hunks.some((function(w){return w.lines.some((function(w){return!w.startsWith("\\")&&w.endsWith("\r")}))}))}))}function Q_(w){return Array.isArray(w)||(w=[w]),w.some((function(w){return w.hunks.some((function(w){return w.lines.some((function(w){return w.endsWith("\r")}))}))}))&&w.every((function(w){return w.hunks.every((function(w){return w.lines.every((function(B,G){var K;return B.startsWith("\\")||B.endsWith("\r")||((K=w.lines[G+1])===null||K===void 0?void 0:K.startsWith("\\"))}))}))}))}function Ts(w){var B=w.split(/\n/),G=[],K=0;function n(){var w={};for(G.push(w);K<B.length;){var pe=B[K];if(/^(\-\-\-|\+\+\+|@@)\s/.test(pe))break;var ye=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(pe);ye&&(w.index=ye[1]),K++}for(s(w),s(w),w.hunks=[];K<B.length;){var Se=B[K];if(/^(Index:\s|diff\s|\-\-\-\s|\+\+\+\s|===================================================================)/.test(Se))break;if(/^@@/.test(Se))w.hunks.push(o());else{if(Se)throw new Error("Unknown line "+(K+1)+" "+JSON.stringify(Se));K++}}}function s(w){var G=/^(---|\+\+\+)\s+(.*)\r?$/.exec(B[K]);if(G){var pe=G[1]==="---"?"old":"new",ye=G[2].split("\t",2),Se=ye[0].replace(/\\\\/g,"\\");/^".*"$/.test(Se)&&(Se=Se.substr(1,Se.length-2)),w[pe+"FileName"]=Se,w[pe+"Header"]=(ye[1]||"").trim(),K++}}function o(){var w=K,G=B[K++],pe=G.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),ye={oldStart:+pe[1],oldLines:typeof pe[2]=="undefined"?1:+pe[2],newStart:+pe[3],newLines:typeof pe[4]=="undefined"?1:+pe[4],lines:[]};ye.oldLines===0&&(ye.oldStart+=1),ye.newLines===0&&(ye.newStart+=1);for(var Se=0,Be=0;K<B.length&&(Be<ye.oldLines||Se<ye.newLines||(Qe=B[K])!==null&&Qe!==void 0&&Qe.startsWith("\\"));K++){var Qe,Pe=B[K].length==0&&K!=B.length-1?" ":B[K][0];if(Pe==="+"||Pe==="-"||Pe===" "||Pe==="\\")ye.lines.push(B[K]),Pe==="+"?Se++:Pe==="-"?Be++:Pe===" "&&(Se++,Be++);else throw new Error("Hunk at line ".concat(w+1," contained invalid line ").concat(B[K]))}if(!Se&&ye.newLines===1&&(ye.newLines=0),!Be&&ye.oldLines===1&&(ye.oldLines=0),Se!==ye.newLines)throw new Error("Added line count did not match for hunk at line "+(w+1));if(Be!==ye.oldLines)throw new Error("Removed line count did not match for hunk at line "+(w+1));return ye}for(;K<B.length;)n();return G}function X_(w,B,G){var K=!0,pe=!1,ye=!1,Se=1;return function a(){if(K&&!ye){if(pe?Se++:K=!1,w+Se<=G)return w+Se;ye=!0}if(!pe)return ye||(K=!0),B<=w-Se?w-Se++:(pe=!0,a())}}function Mh(w,B){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof B=="string"&&(B=Ts(B)),Array.isArray(B)){if(B.length>1)throw new Error("applyPatch only works with a single input.");B=B[0]}(G.autoConvertLineEndings||G.autoConvertLineEndings==null)&&(R_(w)&&Z_(B)?B=Rh(B):P_(w)&&Q_(B)&&(B=Ph(B)));var K=w.split(`\n`),pe=B.hunks,ye=G.compareLine||function(w,B,G,K){return B===K},Se=G.fuzzFactor||0,Be=0;if(Se<0||!Number.isInteger(Se))throw new Error("fuzzFactor must be a non-negative integer");if(!pe.length)return w;for(var Qe="",Pe=!1,Fe=!1,Me=0;Me<pe[pe.length-1].lines.length;Me++){var Le=pe[pe.length-1].lines[Me];Le[0]=="\\"&&(Qe[0]=="+"?Pe=!0:Qe[0]=="-"&&(Fe=!0)),Qe=Le}if(Pe){if(Fe){if(!Se&&K[K.length-1]=="")return!1}else if(K[K.length-1]=="")K.pop();else if(!Se)return!1}else if(Fe){if(K[K.length-1]!="")K.push("");else if(!Se)return!1}function m(w,B,G){for(var pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Se=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Be=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],Qe=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,Pe=0,Fe=!1;pe<w.length;pe++){var Me=w[pe],Le=Me.length>0?Me[0]:" ",je=Me.length>0?Me.substr(1):Me;if(Le==="-")if(ye(B+1,K[B],Le,je))B++,Pe=0;else return!G||K[B]==null?null:(Be[Qe]=K[B],m(w,B+1,G-1,pe,!1,Be,Qe+1));if(Le==="+"){if(!Se)return null;Be[Qe]=je,Qe++,Pe=0,Fe=!0}if(Le===" ")if(Pe++,Be[Qe]=K[B],ye(B+1,K[B],Le,je))Qe++,Se=!0,Fe=!1,B++;else return Fe||!G?null:K[B]&&(m(w,B+1,G-1,pe+1,!1,Be,Qe+1)||m(w,B+1,G-1,pe,!1,Be,Qe+1))||m(w,B,G-1,pe+1,!1,Be,Qe)}return Qe-=Pe,B-=Pe,Be.length=Qe,{patchedLines:Be,oldLineLastI:B-1}}for(var je=[],qe=0,We=0;We<pe.length;We++){for(var Ge=pe[We],ze=void 0,Ye=K.length-Ge.oldLines+Se,Ke=void 0,Xe=0;Xe<=Se;Xe++){Ke=Ge.oldStart+qe-1;for(var rt=X_(Ke,Be,Ye);Ke!==void 0&&(ze=m(Ge.lines,Ke,Xe),!ze);Ke=rt());if(ze)break}if(!ze)return!1;for(var it=Be;it<Ke;it++)je.push(K[it]);for(var ot=0;ot<ze.patchedLines.length;ot++){var at=ze.patchedLines[ot];je.push(at)}Be=ze.oldLineLastI+1,qe=Ke+1-Ge.oldStart}for(var lt=Be;lt<K.length;lt++)je.push(K[lt]);return je.join(`\n`)}function ew(w,B){typeof w=="string"&&(w=Ts(w));var G=0;function r(){var K=w[G++];if(!K)return B.complete();B.loadFile(K,(function(w,G){if(w)return B.complete(w);var pe=Mh(G,K,B);B.patched(K,pe,(function(w){if(w)return B.complete(w);r()}))}))}r()}function ks(w,B,G,K,pe,ye,Se){if(Se||(Se={}),typeof Se=="function"&&(Se={callback:Se}),typeof Se.context=="undefined"&&(Se.context=4),Se.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(Se.callback){var Be=Se,Qe=Be.callback;Aa(G,K,dt(dt({},Se),{},{callback:function(w){var B=c(w);Qe(B)}}))}else return c(Aa(G,K,Se));function c(G){if(!G)return;G.push({value:"",lines:[]});function f(w){return w.map((function(w){return" "+w}))}for(var K=[],Be=0,Qe=0,Pe=[],Fe=1,Me=1,E=function(){var w=G[Le],B=w.lines||iw(w.value);if(w.lines=B,w.added||w.removed){var pe;if(!Be){var ye=G[Le-1];Be=Fe,Qe=Me,ye&&(Pe=Se.context>0?f(ye.lines.slice(-Se.context)):[],Be-=Pe.length,Qe-=Pe.length)}(pe=Pe).push.apply(pe,ii(B.map((function(B){return(w.added?"+":"-")+B})))),w.added?Me+=B.length:Fe+=B.length}else{if(Be)if(B.length<=Se.context*2&&Le<G.length-2){var je;(je=Pe).push.apply(je,ii(f(B)))}else{var qe,We=Math.min(B.length,Se.context);(qe=Pe).push.apply(qe,ii(f(B.slice(0,We))));var Ge={oldStart:Be,oldLines:Fe-Be+We,newStart:Qe,newLines:Me-Qe+We,lines:Pe};K.push(Ge),Be=0,Qe=0,Pe=[]}Fe+=B.length,Me+=B.length}},Le=0;Le<G.length;Le++)E();for(var je=0,qe=K;je<qe.length;je++)for(var We=qe[je],Ge=0;Ge<We.lines.length;Ge++)We.lines[Ge].endsWith(`\n`)?We.lines[Ge]=We.lines[Ge].slice(0,-1):(We.lines.splice(Ge+1,0,"\\ No newline at end of file"),Ge++);return{oldFileName:w,newFileName:B,oldHeader:pe,newHeader:ye,hunks:K}}}function Cs(w){if(Array.isArray(w))return w.map(Cs).join(`\n`);var B=[];w.oldFileName==w.newFileName&&B.push("Index: "+w.oldFileName),B.push("==================================================================="),B.push("--- "+w.oldFileName+(typeof w.oldHeader=="undefined"?"":"\t"+w.oldHeader)),B.push("+++ "+w.newFileName+(typeof w.newHeader=="undefined"?"":"\t"+w.newHeader));for(var G=0;G<w.hunks.length;G++){var K=w.hunks[G];K.oldLines===0&&(K.oldStart-=1),K.newLines===0&&(K.newStart-=1),B.push("@@ -"+K.oldStart+","+K.oldLines+" +"+K.newStart+","+K.newLines+" @@"),B.push.apply(B,K.lines)}return B.join(`\n`)+`\n`}function Dh(w,B,G,K,pe,ye,Se){var Be;if(typeof Se=="function"&&(Se={callback:Se}),(Be=Se)!==null&&Be!==void 0&&Be.callback){var Qe=Se,Pe=Qe.callback;ks(w,B,G,K,pe,ye,dt(dt({},Se),{},{callback:function(w){w?Pe(Cs(w)):Pe()}}))}else{var Fe=ks(w,B,G,K,pe,ye,Se);return Fe?Cs(Fe):void 0}}function tw(w,B,G,K,pe,ye){return Dh(w,w,B,G,K,pe,ye)}function iw(w){var B=w.endsWith(`\n`),G=w.split(`\n`).map((function(w){return w+`\n`}));return B?G.pop():G.push(G.pop().slice(0,-1)),G}function rw(w,B){return w.length!==B.length?!1:La(w,B)}function La(w,B){if(B.length>w.length)return!1;for(var G=0;G<B.length;G++)if(B[G]!==w[G])return!1;return!0}function nw(w){var B=Ba(w.lines),G=B.oldLines,K=B.newLines;G!==void 0?w.oldLines=G:delete w.oldLines,K!==void 0?w.newLines=K:delete w.newLines}function sw(w,B,G){w=wh(w,G),B=wh(B,G);var K={};(w.index||B.index)&&(K.index=w.index||B.index),(w.newFileName||B.newFileName)&&(xh(w)?xh(B)?(K.oldFileName=xs(K,w.oldFileName,B.oldFileName),K.newFileName=xs(K,w.newFileName,B.newFileName),K.oldHeader=xs(K,w.oldHeader,B.oldHeader),K.newHeader=xs(K,w.newHeader,B.newHeader)):(K.oldFileName=w.oldFileName,K.newFileName=w.newFileName,K.oldHeader=w.oldHeader,K.newHeader=w.newHeader):(K.oldFileName=B.oldFileName||w.oldFileName,K.newFileName=B.newFileName||w.newFileName,K.oldHeader=B.oldHeader||w.oldHeader,K.newHeader=B.newHeader||w.newHeader)),K.hunks=[];for(var pe=0,ye=0,Se=0,Be=0;pe<w.hunks.length||ye<B.hunks.length;){var Qe=w.hunks[pe]||{oldStart:1/0},Pe=B.hunks[ye]||{oldStart:1/0};if(Sh(Qe,Pe))K.hunks.push(Eh(Qe,Se)),pe++,Be+=Qe.newLines-Qe.oldLines;else if(Sh(Pe,Qe))K.hunks.push(Eh(Pe,Be)),ye++,Se+=Pe.newLines-Pe.oldLines;else{var Fe={oldStart:Math.min(Qe.oldStart,Pe.oldStart),oldLines:0,newStart:Math.min(Qe.newStart+Se,Pe.oldStart+Be),newLines:0,lines:[]};ow(Fe,Qe.oldStart,Qe.lines,Pe.oldStart,Pe.lines),ye++,pe++,K.hunks.push(Fe)}}return K}function wh(w,B){if(typeof w=="string"){if(/^@@/m.test(w)||/^Index:/m.test(w))return Ts(w)[0];if(!B)throw new Error("Must provide a base reference or pass in a patch");return ks(void 0,void 0,B,w)}return w}function xh(w){return w.newFileName&&w.newFileName!==w.oldFileName}function xs(w,B,G){return B===G?B:(w.conflict=!0,{mine:B,theirs:G})}function Sh(w,B){return w.oldStart<B.oldStart&&w.oldStart+w.oldLines<B.oldStart}function Eh(w,B){return{oldStart:w.oldStart,oldLines:w.oldLines,newStart:w.newStart+B,newLines:w.newLines,lines:w.lines}}function ow(w,B,G,K,pe){var ye={offset:B,lines:G,index:0},Se={offset:K,lines:pe,index:0};for(kh(w,ye,Se),kh(w,Se,ye);ye.index<ye.lines.length&&Se.index<Se.lines.length;){var Be=ye.lines[ye.index],Qe=Se.lines[Se.index];if((Be[0]==="-"||Be[0]==="+")&&(Qe[0]==="-"||Qe[0]==="+"))aw(w,ye,Se);else if(Be[0]==="+"&&Qe[0]===" "){var Pe;(Pe=w.lines).push.apply(Pe,ii(Vi(ye)))}else if(Qe[0]==="+"&&Be[0]===" "){var Fe;(Fe=w.lines).push.apply(Fe,ii(Vi(Se)))}else Be[0]==="-"&&Qe[0]===" "?Oh(w,ye,Se):Qe[0]==="-"&&Be[0]===" "?Oh(w,Se,ye,!0):Be===Qe?(w.lines.push(Be),ye.index++,Se.index++):Ra(w,Vi(ye),Vi(Se))}Ch(w,ye),Ch(w,Se),nw(w)}function aw(w,B,G){var K=Vi(B),pe=Vi(G);if(Th(K)&&Th(pe)){if(La(K,pe)&&Ah(G,K,K.length-pe.length)){var ye;(ye=w.lines).push.apply(ye,ii(K));return}else if(La(pe,K)&&Ah(B,pe,pe.length-K.length)){var Se;(Se=w.lines).push.apply(Se,ii(pe));return}}else if(rw(K,pe)){var Be;(Be=w.lines).push.apply(Be,ii(K));return}Ra(w,K,pe)}function Oh(w,B,G,K){var pe=Vi(B),ye=lw(G,pe);if(ye.merged){var Se;(Se=w.lines).push.apply(Se,ii(ye.merged))}else Ra(w,K?ye:pe,K?pe:ye)}function Ra(w,B,G){w.conflict=!0,w.lines.push({conflict:!0,mine:B,theirs:G})}function kh(w,B,G){for(;B.offset<G.offset&&B.index<B.lines.length;){var K=B.lines[B.index++];w.lines.push(K),B.offset++}}function Ch(w,B){for(;B.index<B.lines.length;){var G=B.lines[B.index++];w.lines.push(G)}}function Vi(w){for(var B=[],G=w.lines[w.index][0];w.index<w.lines.length;){var K=w.lines[w.index];if(G==="-"&&K[0]==="+"&&(G="+"),G===K[0])B.push(K),w.index++;else break}return B}function lw(w,B){for(var G=[],K=[],pe=0,ye=!1,Se=!1;pe<B.length&&w.index<w.lines.length;){var Be=w.lines[w.index],Qe=B[pe];if(Qe[0]==="+")break;if(ye=ye||Be[0]!==" ",K.push(Qe),pe++,Be[0]==="+")for(Se=!0;Be[0]==="+";)G.push(Be),Be=w.lines[++w.index];Qe.substr(1)===Be.substr(1)?(G.push(Be),w.index++):Se=!0}if((B[pe]||"")[0]==="+"&&ye&&(Se=!0),Se)return G;for(;pe<B.length;)K.push(B[pe++]);return{merged:K,changes:G}}function Th(w){return w.reduce((function(w,B){return w&&B[0]==="-"}),!0)}function Ah(w,B,G){for(var K=0;K<G;K++){var pe=B[B.length-G+K].substr(1);if(w.lines[w.index+K]!==" "+pe)return!1}return w.index+=G,!0}function Ba(w){var B=0,G=0;return w.forEach((function(w){if(typeof w!="string"){var K=Ba(w.mine),pe=Ba(w.theirs);B!==void 0&&(K.oldLines===pe.oldLines?B+=K.oldLines:B=void 0),G!==void 0&&(K.newLines===pe.newLines?G+=K.newLines:G=void 0)}else G!==void 0&&(w[0]==="+"||w[0]===" ")&&G++,B!==void 0&&(w[0]==="-"||w[0]===" ")&&B++})),{oldLines:B,newLines:G}}function Fh(w){return Array.isArray(w)?w.map(Fh).reverse():dt(dt({},w),{},{oldFileName:w.newFileName,oldHeader:w.newHeader,newFileName:w.oldFileName,newHeader:w.oldHeader,hunks:w.hunks.map((function(w){return{oldLines:w.newLines,oldStart:w.newStart,newLines:w.oldLines,newStart:w.oldStart,lines:w.lines.map((function(w){return w.startsWith("-")?"+".concat(w.slice(1)):w.startsWith("+")?"-".concat(w.slice(1)):w}))}}))})}function cw(w){for(var B=[],G,K,pe=0;pe<w.length;pe++)G=w[pe],G.added?K=1:G.removed?K=-1:K=0,B.push([K,G.value]);return B}function uw(w){for(var B=[],G=0;G<w.length;G++){var K=w[G];K.added?B.push("<ins>"):K.removed&&B.push("<del>"),B.push(fw(K.value)),K.added?B.push("</ins>"):K.removed&&B.push("</del>")}return B.join("")}function fw(w){var B=w;return B=B.replace(/&/g,"&amp;"),B=B.replace(/</g,"&lt;"),B=B.replace(/>/g,"&gt;"),B=B.replace(/"/g,"&quot;"),B}var ha=$e(ft()),pa=$e(gt()),fa=$e(It()),ma=$e(Nt()),wa=$e(er()),Ea=$e(cr()),xa=$e(vr()),ka=$e(En());var Qa=$e(Tn(),1),{program:Pa,createCommand:Da,createArgument:Fa,createOption:Ma,CommanderError:Ha,InvalidArgumentError:Ua,InvalidOptionArgumentError:qa,Command:Wa,Argument:Va,Option:$a,Help:Ja}=Qa.default;var Ya=$e(Pn()),Ka=$e(si()),Xa=$e(mo());var Za=$e(bo(),1),el=$e(Io(),1),tl=$e(So(),1),rl=$e(Ro(),1),nl=$e(Do(),1);var il=rl.default;var al=Jo.default,ll=Ko.default,cl=Xo,ul=ha.default,dl=ma.default,hl=zo(),pl=hl,Al=wa.default,fl=Ea.default,gl=xa.default,ml=Ya.default,bl=Xa.default,yl=il,wl=nl.default,vl=el.default,El=tl.default;0&&0;
/*! Bundled license information:

progress/lib/node-progress.js:
  (*!
   * node-progress
   * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
   * MIT Licensed
   *)
*/},173:(w,B,G)=>{"use strict";var K=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var Se=Object.prototype.hasOwnProperty;var __export=(w,B)=>{for(var G in B)K(w,G,{get:B[G],enumerable:true})};var __copyProps=(w,B,G,Be)=>{if(B&&typeof B==="object"||typeof B==="function"){for(let Qe of ye(B))if(!Se.call(w,Qe)&&Qe!==G)K(w,Qe,{get:()=>B[Qe],enumerable:!(Be=pe(B,Qe))||Be.enumerable})}return w};var __toCommonJS=w=>__copyProps(K({},"__esModule",{value:true}),w);var Be={};__export(Be,{extract:()=>Fe,yauzl:()=>Pe,yazl:()=>Qe});w.exports=__toCommonJS(Be);const Qe=G(7655).yazl;const Pe=G(7655).yauzl;const Fe=G(7655).extract;0&&0},7655:(w,B,G)=>{"use strict";var K=Object.create;var pe=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf,Qe=Object.prototype.hasOwnProperty;var v=(w,B)=>()=>(B||w((B={exports:{}}).exports,B),B.exports),Ct=(w,B)=>{for(var G in B)pe(w,G,{get:B[G],enumerable:!0})},or=(w,B,G,K)=>{if(B&&typeof B=="object"||typeof B=="function")for(let Be of Se(B))!Qe.call(w,Be)&&Be!==G&&pe(w,Be,{get:()=>B[Be],enumerable:!(K=ye(B,Be))||K.enumerable});return w};var sr=(w,B,G)=>(G=w!=null?K(Be(w)):{},or(B||!w||!w.__esModule?pe(G,"default",{value:w,enumerable:!0}):G,w)),bt=w=>or(pe({},"__esModule",{value:!0}),w);var Pe=v(((w,B)=>{var K=G(181).Buffer,pe=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(pe=new Int32Array(pe));function fr(w){if(K.isBuffer(w))return w;var B=typeof K.alloc=="function"&&typeof K.from=="function";if(typeof w=="number")return B?K.alloc(w):new K(w);if(typeof w=="string")return B?K.from(w):new K(w);throw new Error("input must be buffer, number, or string, received "+typeof w)}function Ft(w){var B=fr(4);return B.writeInt32BE(w,0),B}function Ue(w,B){w=fr(w),K.isBuffer(B)&&(B=B.readUInt32BE(0));for(var G=~~B^-1,ye=0;ye<w.length;ye++)G=pe[(G^w[ye])&255]^G>>>8;return G^-1}function Te(){return Ft(Ue.apply(null,arguments))}Te.signed=function(){return Ue.apply(null,arguments)};Te.unsigned=function(){return Ue.apply(null,arguments)>>>0};B.exports=Te}));var Fe=v((w=>{var B=G(9896),K=G(2203).Transform,pe=G(2203).PassThrough,ye=G(3106),Se=G(9023),Be=G(4434).EventEmitter,Qe=Pe();w.ZipFile=P;w.dateToDosDateTime=br;Se.inherits(P,Be);function P(){this.outputStream=new pe,this.entries=[],this.outputStreamCursor=0,this.ended=!1,this.allDone=!1,this.forceZip64Eocd=!1}P.prototype.addFile=function(w,G,K){var pe=this;G=de(G,!1),K==null&&(K={});var ye=new m(G,!1,K);pe.entries.push(ye),B.stat(w,(function(G,Se){if(G)return pe.emit("error",G);if(!Se.isFile())return pe.emit("error",new Error("not a file: "+w));ye.uncompressedSize=Se.size,K.mtime==null&&ye.setLastModDate(Se.mtime),K.mode==null&&ye.setFileAttributesMode(Se.mode),ye.setFileDataPumpFunction((function(){var G=B.createReadStream(w);ye.state=m.FILE_DATA_IN_PROGRESS,G.on("error",(function(w){pe.emit("error",w)})),hr(pe,ye,G)})),N(pe)}))};P.prototype.addReadStream=function(w,B,G){var K=this;B=de(B,!1),G==null&&(G={});var pe=new m(B,!1,G);K.entries.push(pe),pe.setFileDataPumpFunction((function(){pe.state=m.FILE_DATA_IN_PROGRESS,hr(K,pe,w)})),N(K)};P.prototype.addBuffer=function(w,B,G){var K=this;if(B=de(B,!1),w.length>1073741823)throw new Error("buffer too large: "+w.length+" > 1073741823");if(G==null&&(G={}),G.size!=null)throw new Error("options.size not allowed");var pe=new m(B,!1,G);pe.uncompressedSize=w.length,pe.crc32=Qe.unsigned(w),pe.crcAndFileSizeKnown=!0,K.entries.push(pe),pe.compress?ye.deflateRaw(w,(function(w,B){s(B)})):s(w);function s(w){pe.compressedSize=w.length,pe.setFileDataPumpFunction((function(){q(K,w),q(K,pe.getDataDescriptor()),pe.state=m.FILE_DATA_DONE,setImmediate((function(){N(K)}))})),N(K)}};P.prototype.addEmptyDirectory=function(w,B){var G=this;if(w=de(w,!0),B==null&&(B={}),B.size!=null)throw new Error("options.size not allowed");if(B.compress!=null)throw new Error("options.compress not allowed");var K=new m(w,!0,B);G.entries.push(K),K.setFileDataPumpFunction((function(){q(G,K.getDataDescriptor()),K.state=m.FILE_DATA_DONE,N(G)})),N(G)};var Fe=T([80,75,5,6]);P.prototype.end=function(w,B){if(typeof w=="function"&&(B=w,w=null),w==null&&(w={}),!this.ended){if(this.ended=!0,this.finalSizeCallback=B,this.forceZip64Eocd=!!w.forceZip64Format,w.comment){if(typeof w.comment=="string"?this.comment=zt(w.comment):this.comment=w.comment,this.comment.length>65535)throw new Error("comment is too large");if(J(this.comment,Fe))throw new Error("comment contains end of central directory record signature")}else this.comment=qe;N(this)}};function q(w,B){w.outputStream.write(B),w.outputStreamCursor+=B.length}function hr(w,B,G){var K=new Ze,Se=new ue,Be=B.compress?new ye.DeflateRaw:new pe,Qe=new ue;G.pipe(K).pipe(Se).pipe(Be).pipe(Qe).pipe(w.outputStream,{end:!1}),Qe.on("end",(function(){if(B.crc32=K.crc32,B.uncompressedSize==null)B.uncompressedSize=Se.byteCount;else if(B.uncompressedSize!==Se.byteCount)return w.emit("error",new Error("file data stream has unexpected number of bytes"));B.compressedSize=Qe.byteCount,w.outputStreamCursor+=B.compressedSize,q(w,B.getDataDescriptor()),B.state=m.FILE_DATA_DONE,N(w)}))}function N(w){if(w.allDone)return;if(w.ended&&w.finalSizeCallback!=null){var B=Lt(w);B!=null&&(w.finalSizeCallback(B),w.finalSizeCallback=null)}var G=n();function n(){for(var B=0;B<w.entries.length;B++){var G=w.entries[B];if(G.state<m.FILE_DATA_DONE)return G}return null}if(G!=null){if(G.state<m.READY_TO_PUMP_FILE_DATA||G.state===m.FILE_DATA_IN_PROGRESS)return;G.relativeOffsetOfLocalHeader=w.outputStreamCursor;var K=G.getLocalFileHeader();q(w,K),G.doFileDataPump()}else w.ended&&(w.offsetOfStartOfCentralDirectory=w.outputStreamCursor,w.entries.forEach((function(B){var G=B.getCentralDirectoryRecord();q(w,G)})),q(w,Ot(w)),w.outputStream.end(),w.allDone=!0)}function Lt(w){for(var B=0,G=0,K=0;K<w.entries.length;K++){var pe=w.entries[K];if(pe.compress)return-1;if(pe.state>=m.READY_TO_PUMP_FILE_DATA){if(pe.uncompressedSize==null)return-1}else if(pe.uncompressedSize==null)return null;pe.relativeOffsetOfLocalHeader=B;var ye=pe.useZip64Format();B+=We+pe.utf8FileName.length,B+=pe.uncompressedSize,pe.crcAndFileSizeKnown||(ye?B+=it:B+=rt),G+=ot+pe.utf8FileName.length+pe.fileComment.length,ye&&(G+=at)}var Se=0;return(w.forceZip64Eocd||w.entries.length>=65535||G>=65535||B>=4294967295)&&(Se+=Me+Le),Se+=je+w.comment.length,B+G+Se}var Me=56,Le=20,je=22;function Ot(w,B){var G=!1,K=w.entries.length;(w.forceZip64Eocd||w.entries.length>=65535)&&(K=65535,G=!0);var pe=w.outputStreamCursor-w.offsetOfStartOfCentralDirectory,ye=pe;(w.forceZip64Eocd||pe>=4294967295)&&(ye=4294967295,G=!0);var Se=w.offsetOfStartOfCentralDirectory;if((w.forceZip64Eocd||w.offsetOfStartOfCentralDirectory>=4294967295)&&(Se=4294967295,G=!0),B)return G?Me+Le+je:je;var Be=g(je+w.comment.length);if(Be.writeUInt32LE(101010256,0),Be.writeUInt16LE(0,4),Be.writeUInt16LE(0,6),Be.writeUInt16LE(K,8),Be.writeUInt16LE(K,10),Be.writeUInt32LE(ye,12),Be.writeUInt32LE(Se,16),Be.writeUInt16LE(w.comment.length,20),w.comment.copy(Be,22),!G)return Be;var Qe=g(Me);Qe.writeUInt32LE(101075792,0),I(Qe,Me-12,4),Qe.writeUInt16LE(Ye,12),Qe.writeUInt16LE(ze,14),Qe.writeUInt32LE(0,16),Qe.writeUInt32LE(0,20),I(Qe,w.entries.length,24),I(Qe,w.entries.length,32),I(Qe,pe,40),I(Qe,w.offsetOfStartOfCentralDirectory,48);var Pe=g(Le);return Pe.writeUInt32LE(117853008,0),Pe.writeUInt32LE(0,4),I(Pe,w.outputStreamCursor,8),Pe.writeUInt32LE(1,16),Buffer.concat([Qe,Pe,Be])}function de(w,B){if(w==="")throw new Error("empty metadataPath");if(w=w.replace(/\\/g,"/"),/^[a-zA-Z]:/.test(w)||/^\//.test(w))throw new Error("absolute path: "+w);if(w.split("/").indexOf("..")!==-1)throw new Error("invalid relative path: "+w);var G=/\/$/.test(w);if(B)G||(w+="/");else if(G)throw new Error("file path cannot end with '/': "+w);return w}var qe=g(0);function m(w,B,G){if(this.utf8FileName=T(w),this.utf8FileName.length>65535)throw new Error("utf8 file name too long. "+utf8FileName.length+" > 65535");if(this.isDirectory=B,this.state=m.WAITING_FOR_METADATA,this.setLastModDate(G.mtime!=null?G.mtime:new Date),G.mode!=null?this.setFileAttributesMode(G.mode):this.setFileAttributesMode(B?16893:33204),B?(this.crcAndFileSizeKnown=!0,this.crc32=0,this.uncompressedSize=0,this.compressedSize=0):(this.crcAndFileSizeKnown=!1,this.crc32=null,this.uncompressedSize=null,this.compressedSize=null,G.size!=null&&(this.uncompressedSize=G.size)),B?this.compress=!1:(this.compress=!0,G.compress!=null&&(this.compress=!!G.compress)),this.forceZip64Format=!!G.forceZip64Format,G.fileComment){if(typeof G.fileComment=="string"?this.fileComment=T(G.fileComment,"utf-8"):this.fileComment=G.fileComment,this.fileComment.length>65535)throw new Error("fileComment is too large")}else this.fileComment=qe}m.WAITING_FOR_METADATA=0;m.READY_TO_PUMP_FILE_DATA=1;m.FILE_DATA_IN_PROGRESS=2;m.FILE_DATA_DONE=3;m.prototype.setLastModDate=function(w){var B=br(w);this.lastModFileTime=B.time,this.lastModFileDate=B.date};m.prototype.setFileAttributesMode=function(w){if((w&65535)!==w)throw new Error("invalid mode. expected: 0 <= "+w+" <= 65535");this.externalFileAttributes=w<<16>>>0};m.prototype.setFileDataPumpFunction=function(w){this.doFileDataPump=w,this.state=m.READY_TO_PUMP_FILE_DATA};m.prototype.useZip64Format=function(){return this.forceZip64Format||this.uncompressedSize!=null&&this.uncompressedSize>4294967294||this.compressedSize!=null&&this.compressedSize>4294967294||this.relativeOffsetOfLocalHeader!=null&&this.relativeOffsetOfLocalHeader>4294967294};var We=30,Ge=20,ze=45,Ye=831,Ke=2048,Xe=8;m.prototype.getLocalFileHeader=function(){var w=0,B=0,G=0;this.crcAndFileSizeKnown&&(w=this.crc32,B=this.compressedSize,G=this.uncompressedSize);var K=g(We),pe=Ke;return this.crcAndFileSizeKnown||(pe|=Xe),K.writeUInt32LE(67324752,0),K.writeUInt16LE(Ge,4),K.writeUInt16LE(pe,6),K.writeUInt16LE(this.getCompressionMethod(),8),K.writeUInt16LE(this.lastModFileTime,10),K.writeUInt16LE(this.lastModFileDate,12),K.writeUInt32LE(w,14),K.writeUInt32LE(B,18),K.writeUInt32LE(G,22),K.writeUInt16LE(this.utf8FileName.length,26),K.writeUInt16LE(0,28),Buffer.concat([K,this.utf8FileName])};var rt=16,it=24;m.prototype.getDataDescriptor=function(){if(this.crcAndFileSizeKnown)return qe;if(this.useZip64Format()){var w=g(it);return w.writeUInt32LE(134695760,0),w.writeUInt32LE(this.crc32,4),I(w,this.compressedSize,8),I(w,this.uncompressedSize,16),w}else{var w=g(rt);return w.writeUInt32LE(134695760,0),w.writeUInt32LE(this.crc32,4),w.writeUInt32LE(this.compressedSize,8),w.writeUInt32LE(this.uncompressedSize,12),w}};var ot=46,at=28;m.prototype.getCentralDirectoryRecord=function(){var w=g(ot),B=Ke;this.crcAndFileSizeKnown||(B|=Xe);var G=this.compressedSize,K=this.uncompressedSize,pe=this.relativeOffsetOfLocalHeader,ye,Se;return this.useZip64Format()?(G=4294967295,K=4294967295,pe=4294967295,ye=ze,Se=g(at),Se.writeUInt16LE(1,0),Se.writeUInt16LE(at-4,2),I(Se,this.uncompressedSize,4),I(Se,this.compressedSize,12),I(Se,this.relativeOffsetOfLocalHeader,20)):(ye=Ge,Se=qe),w.writeUInt32LE(33639248,0),w.writeUInt16LE(Ye,4),w.writeUInt16LE(ye,6),w.writeUInt16LE(B,8),w.writeUInt16LE(this.getCompressionMethod(),10),w.writeUInt16LE(this.lastModFileTime,12),w.writeUInt16LE(this.lastModFileDate,14),w.writeUInt32LE(this.crc32,16),w.writeUInt32LE(G,20),w.writeUInt32LE(K,24),w.writeUInt16LE(this.utf8FileName.length,28),w.writeUInt16LE(Se.length,30),w.writeUInt16LE(this.fileComment.length,32),w.writeUInt16LE(0,34),w.writeUInt16LE(0,36),w.writeUInt32LE(this.externalFileAttributes,38),w.writeUInt32LE(pe,42),Buffer.concat([w,this.utf8FileName,Se,this.fileComment])};m.prototype.getCompressionMethod=function(){var w=0,B=8;return this.compress?B:w};function br(w){var B=0;B|=w.getDate()&31,B|=(w.getMonth()+1&15)<<5,B|=(w.getFullYear()-1980&127)<<9;var G=0;return G|=Math.floor(w.getSeconds()/2),G|=(w.getMinutes()&63)<<5,G|=(w.getHours()&31)<<11,{date:B,time:G}}function I(w,B,G){var K=Math.floor(B/4294967296),pe=B%4294967296;w.writeUInt32LE(pe,G),w.writeUInt32LE(K,G+4)}Se.inherits(ue,K);function ue(w){K.call(this,w),this.byteCount=0}ue.prototype._transform=function(w,B,G){this.byteCount+=w.length,G(null,w)};Se.inherits(Ze,K);function Ze(w){K.call(this,w),this.crc32=0}Ze.prototype._transform=function(w,B,G){this.crc32=Qe.unsigned(w,this.crc32),G(null,w)};var lt="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";if(lt.length!==256)throw new Error("assertion failure");var ct=null;function zt(w){if(/^[\x20-\x7e]*$/.test(w))return T(w,"utf-8");if(ct==null){ct={};for(var B=0;B<lt.length;B++)ct[lt[B]]=B}for(var G=g(w.length),B=0;B<w.length;B++){var K=ct[w[B]];if(K==null)throw new Error("character not encodable in CP437: "+JSON.stringify(w[B]));G[B]=K}return G}function g(w){g=r;try{return g(w)}catch{return g=t,g(w)}function r(w){return Buffer.allocUnsafe(w)}function t(w){return new Buffer(w)}}function T(w,B){T=t;try{return T(w,B)}catch{return T=n,T(w,B)}function t(w,B){return Buffer.from(w,B)}function n(w,B){return new Buffer(w,B)}}function J(w,B){J=t;try{return J(w,B)}catch{return J=n,J(w,B)}function t(w,B){return w.includes(B)}function n(w,B){for(var G=0;G<=w.length-B.length;G++)for(var K=0;;K++){if(K===B.length)return!0;if(w[G+K]!==B[K])break}return!1}}}));var Me=v(((w,B)=>{B.exports=he;function he(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}he.prototype.go=function(w){this.pending<this.max?Sr(this,w):this.waiting.push(w)};he.prototype.wait=function(w){this.pending===0?w(this.error):this.listeners.push(w)};he.prototype.hold=function(){return Ir(this)};function Ir(w){w.pending+=1;var B=!1;return t;function t(G){if(B)throw new Error("callback called twice");if(B=!0,w.error=w.error||G,w.pending-=1,w.waiting.length>0&&w.pending<w.max)Sr(w,w.waiting.shift());else if(w.pending===0){var K=w.listeners;w.listeners=[],K.forEach(n)}}function n(B){B(w.error)}}function Sr(w,B){B(Ir(w))}}));var Le=v((w=>{var B=G(9896),K=G(9023),pe=G(2203),ye=pe.Readable,Se=pe.Writable,Be=pe.PassThrough,Qe=Me(),Pe=G(4434).EventEmitter;w.createFromBuffer=Dt;w.createFromFd=At;w.BufferSlicer=D;w.FdSlicer=R;K.inherits(R,Pe);function R(w,B){B=B||{},Pe.call(this),this.fd=w,this.pend=new Qe,this.pend.max=1,this.refCount=0,this.autoClose=!!B.autoClose}R.prototype.read=function(w,G,K,pe,ye){var Se=this;Se.pend.go((function(Be){B.read(Se.fd,w,G,K,pe,(function(w,B,G){Be(),ye(w,B,G)}))}))};R.prototype.write=function(w,G,K,pe,ye){var Se=this;Se.pend.go((function(Be){B.write(Se.fd,w,G,K,pe,(function(w,B,G){Be(),ye(w,B,G)}))}))};R.prototype.createReadStream=function(w){return new xe(this,w)};R.prototype.createWriteStream=function(w){return new Ee(this,w)};R.prototype.ref=function(){this.refCount+=1};R.prototype.unref=function(){var w=this;if(w.refCount-=1,w.refCount>0)return;if(w.refCount<0)throw new Error("invalid unref");w.autoClose&&B.close(w.fd,r);function r(B){B?w.emit("error",B):w.emit("close")}};K.inherits(xe,ye);function xe(w,B){B=B||{},ye.call(this,B),this.context=w,this.context.ref(),this.start=B.start||0,this.endOffset=B.end,this.pos=this.start,this.destroyed=!1}xe.prototype._read=function(w){var G=this;if(!G.destroyed){var K=Math.min(G._readableState.highWaterMark,w);if(G.endOffset!=null&&(K=Math.min(K,G.endOffset-G.pos)),K<=0){G.destroyed=!0,G.push(null),G.context.unref();return}G.context.pend.go((function(w){if(G.destroyed)return w();var pe=Buffer.allocUnsafe(K);B.read(G.context.fd,pe,0,K,G.pos,(function(B,K){B?G.destroy(B):K===0?(G.destroyed=!0,G.push(null),G.context.unref()):(G.pos+=K,G.push(pe.slice(0,K))),w()}))}))}};xe.prototype.destroy=function(w){this.destroyed||(w=w||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",w),this.context.unref())};K.inherits(Ee,Se);function Ee(w,B){B=B||{},Se.call(this,B),this.context=w,this.context.ref(),this.start=B.start||0,this.endOffset=B.end==null?1/0:+B.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Ee.prototype._write=function(w,G,K){var pe=this;if(!pe.destroyed){if(pe.pos+w.length>pe.endOffset){var ye=new Error("maximum file length exceeded");ye.code="ETOOBIG",pe.destroy(),K(ye);return}pe.context.pend.go((function(G){if(pe.destroyed)return G();B.write(pe.context.fd,w,0,w.length,pe.pos,(function(w,B){w?(pe.destroy(),G(),K(w)):(pe.bytesWritten+=B,pe.pos+=B,pe.emit("progress"),G(),K())}))}))}};Ee.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};K.inherits(D,Pe);function D(w,B){Pe.call(this),B=B||{},this.refCount=0,this.buffer=w,this.maxChunkSize=B.maxChunkSize||Number.MAX_SAFE_INTEGER}D.prototype.read=function(w,B,G,K,pe){if(!(0<=B&&B<=w.length))throw new RangeError("offset outside buffer: 0 <= "+B+" <= "+w.length);if(K<0)throw new RangeError("position is negative: "+K);if(B+G>w.length&&(G=w.length-B),K+G>this.buffer.length&&(G=this.buffer.length-K),G<=0){setImmediate((function(){pe(null,0)}));return}this.buffer.copy(w,B,K,K+G),setImmediate((function(){pe(null,G)}))};D.prototype.write=function(w,B,G,K,pe){w.copy(this.buffer,K,B,B+G),setImmediate((function(){pe(null,G,w)}))};D.prototype.createReadStream=function(w){w=w||{};var B=new Be(w);B.destroyed=!1,B.start=w.start||0,B.endOffset=w.end,B.pos=B.endOffset||this.buffer.length;for(var G=this.buffer.slice(B.start,B.pos),K=0;;){var pe=K+this.maxChunkSize;if(pe>=G.length){K<G.length&&B.write(G.slice(K,G.length));break}B.write(G.slice(K,pe)),K=pe}return B.end(),B.destroy=function(){B.destroyed=!0},B};D.prototype.createWriteStream=function(w){var B=this;w=w||{};var G=new Se(w);return G.start=w.start||0,G.endOffset=w.end==null?this.buffer.length:+w.end,G.bytesWritten=0,G.pos=G.start,G.destroyed=!1,G._write=function(w,K,pe){if(!G.destroyed){var ye=G.pos+w.length;if(ye>G.endOffset){var Se=new Error("maximum file length exceeded");Se.code="ETOOBIG",G.destroyed=!0,pe(Se);return}w.copy(B.buffer,G.pos,0,w.length),G.bytesWritten+=w.length,G.pos=ye,G.emit("progress"),pe()}},G.destroy=function(){G.destroyed=!0},G};D.prototype.ref=function(){this.refCount+=1};D.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Dt(w,B){return new D(w,B)}function At(w,B){return new R(w,B)}}));var je=v((w=>{var B=G(9896),K=G(3106),pe=Le(),ye=Pe(),Se=G(9023),Be=G(4434).EventEmitter,Qe=G(2203).Transform,Fe=G(2203).PassThrough,Me=G(2203).Writable;w.open=Mt;w.fromFd=Ar;w.fromBuffer=Bt;w.fromRandomAccessReader=Ve;w.dosDateTimeToDate=Nr;w.getFileNameLowLevel=Mr;w.validateFileName=Br;w.parseExtraFields=qr;w.ZipFile=_;w.Entry=ee;w.LocalFileHeader=Tr;w.RandomAccessReader=M;function Mt(w,G,K){typeof G=="function"&&(K=G,G=null),G==null&&(G={}),G.autoClose==null&&(G.autoClose=!0),G.lazyEntries==null&&(G.lazyEntries=!1),G.decodeStrings==null&&(G.decodeStrings=!0),G.validateEntrySizes==null&&(G.validateEntrySizes=!0),G.strictFileNames==null&&(G.strictFileNames=!1),K==null&&(K=we),B.open(w,"r",(function(w,pe){if(w)return K(w);Ar(pe,G,(function(w,G){w&&B.close(pe,we),K(w,G)}))}))}function Ar(w,G,K){typeof G=="function"&&(K=G,G=null),G==null&&(G={}),G.autoClose==null&&(G.autoClose=!1),G.lazyEntries==null&&(G.lazyEntries=!1),G.decodeStrings==null&&(G.decodeStrings=!0),G.validateEntrySizes==null&&(G.validateEntrySizes=!0),G.strictFileNames==null&&(G.strictFileNames=!1),K==null&&(K=we),B.fstat(w,(function(B,ye){if(B)return K(B);var Se=pe.createFromFd(w,{autoClose:!0});Ve(Se,ye.size,G,K)}))}function Bt(w,B,G){typeof B=="function"&&(G=B,B=null),B==null&&(B={}),B.autoClose=!1,B.lazyEntries==null&&(B.lazyEntries=!1),B.decodeStrings==null&&(B.decodeStrings=!0),B.validateEntrySizes==null&&(B.validateEntrySizes=!0),B.strictFileNames==null&&(B.strictFileNames=!1);var K=pe.createFromBuffer(w,{maxChunkSize:65536});Ve(K,w.length,B,G)}function Ve(w,B,G,K){typeof G=="function"&&(K=G,G=null),G==null&&(G={}),G.autoClose==null&&(G.autoClose=!0),G.lazyEntries==null&&(G.lazyEntries=!1),G.decodeStrings==null&&(G.decodeStrings=!0);var pe=!!G.decodeStrings;if(G.validateEntrySizes==null&&(G.validateEntrySizes=!0),G.strictFileNames==null&&(G.strictFileNames=!1),K==null&&(K=we),typeof B!="number")throw new Error("expected totalSize parameter to be a number");if(B>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");w.ref();var ye=22,Se=20,Be=65535,Qe=Math.min(Se+ye+Be,B),Pe=qe(Qe),Fe=B-Pe.length;j(w,Pe,0,Qe,Fe,(function(Be){if(Be)return K(Be);for(var Fe=Qe-ye;Fe>=0;Fe-=1)if(Pe.readUInt32LE(Fe)===101010256){var Me=Pe.subarray(Fe),Le=Me.readUInt16LE(4),je=Me.readUInt16LE(10),We=Me.readUInt32LE(16),Ge=Me.readUInt16LE(20),ze=Me.length-ye;if(Ge!==ze)return K(new Error("Invalid comment length. Expected: "+ze+". Found: "+Ge+". Are there extra bytes at the end of the file? Or is the end of central dir signature `PK` in the comment?"));var Ye=pe?ve(Me.subarray(22),!1):Me.subarray(22);if(Fe-Se>=0&&Pe.readUInt32LE(Fe-Se)===117853008){var Ke=Pe.subarray(Fe-Se,Fe-Se+Se),Xe=Y(Ke,8),rt=qe(56);return j(w,rt,0,rt.length,Xe,(function(ye){return ye?K(ye):rt.readUInt32LE(0)!==101075792?K(new Error("invalid zip64 end of central directory record signature")):(Le=rt.readUInt32LE(16),Le!==0?K(new Error("multi-disk zip files are not supported: found disk number: "+Le)):(je=Y(rt,32),We=Y(rt,48),K(null,new _(w,We,B,je,Ye,G.autoClose,G.lazyEntries,pe,G.validateEntrySizes,G.strictFileNames))))}))}return Le!==0?K(new Error("multi-disk zip files are not supported: found disk number: "+Le)):K(null,new _(w,We,B,je,Ye,G.autoClose,G.lazyEntries,pe,G.validateEntrySizes,G.strictFileNames))}K(new Error("End of central directory record signature not found. Either not a zip file, or file is truncated."))}))}Se.inherits(_,Be);function _(w,B,G,K,pe,ye,Se,Qe,Pe,Fe){var Me=this;Be.call(Me),Me.reader=w,Me.reader.on("error",(function(w){Ur(Me,w)})),Me.reader.once("close",(function(){Me.emit("close")})),Me.readEntryCursor=B,Me.fileSize=G,Me.entryCount=K,Me.comment=pe,Me.entriesRead=0,Me.autoClose=!!ye,Me.lazyEntries=!!Se,Me.decodeStrings=!!Qe,Me.validateEntrySizes=!!Pe,Me.strictFileNames=!!Fe,Me.isOpen=!0,Me.emittedError=!1,Me.lazyEntries||Me._readEntry()}_.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function z(w,B){w.autoClose&&w.close(),Ur(w,B)}function Ur(w,B){w.emittedError||(w.emittedError=!0,w.emit("error",B))}_.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};_.prototype._readEntry=function(){var w=this;if(w.entryCount===w.entriesRead){setImmediate((function(){w.autoClose&&w.close(),!w.emittedError&&w.emit("end")}));return}if(!w.emittedError){var B=qe(46);j(w.reader,B,0,B.length,w.readEntryCursor,(function(G){if(G)return z(w,G);if(!w.emittedError){var K=new ee,pe=B.readUInt32LE(0);if(pe!==33639248)return z(w,new Error("invalid central directory file header signature: 0x"+pe.toString(16)));if(K.versionMadeBy=B.readUInt16LE(4),K.versionNeededToExtract=B.readUInt16LE(6),K.generalPurposeBitFlag=B.readUInt16LE(8),K.compressionMethod=B.readUInt16LE(10),K.lastModFileTime=B.readUInt16LE(12),K.lastModFileDate=B.readUInt16LE(14),K.crc32=B.readUInt32LE(16),K.compressedSize=B.readUInt32LE(20),K.uncompressedSize=B.readUInt32LE(24),K.fileNameLength=B.readUInt16LE(28),K.extraFieldLength=B.readUInt16LE(30),K.fileCommentLength=B.readUInt16LE(32),K.internalFileAttributes=B.readUInt16LE(36),K.externalFileAttributes=B.readUInt32LE(38),K.relativeOffsetOfLocalHeader=B.readUInt32LE(42),K.generalPurposeBitFlag&64)return z(w,new Error("strong encryption is not supported"));w.readEntryCursor+=46,B=qe(K.fileNameLength+K.extraFieldLength+K.fileCommentLength),j(w.reader,B,0,B.length,w.readEntryCursor,(function(G){if(G)return z(w,G);if(!w.emittedError){K.fileNameRaw=B.subarray(0,K.fileNameLength);var pe=K.fileNameLength+K.extraFieldLength;K.extraFieldRaw=B.subarray(K.fileNameLength,pe),K.fileCommentRaw=B.subarray(pe,pe+K.fileCommentLength);try{K.extraFields=qr(K.extraFieldRaw)}catch(B){return z(w,B)}if(w.decodeStrings){var ye=(K.generalPurposeBitFlag&2048)!==0;K.fileComment=ve(K.fileCommentRaw,ye),K.fileName=Mr(K.generalPurposeBitFlag,K.fileNameRaw,K.extraFields,w.strictFileNames);var Se=Br(K.fileName);if(Se!=null)return z(w,new Error(Se))}else K.fileComment=K.fileCommentRaw,K.fileName=K.fileNameRaw;K.comment=K.fileComment,w.readEntryCursor+=B.length,w.entriesRead+=1;for(var Be=0;Be<K.extraFields.length;Be++){var Qe=K.extraFields[Be];if(Qe.id===1){var Pe=Qe.data,Fe=0;if(K.uncompressedSize===4294967295){if(Fe+8>Pe.length)return z(w,new Error("zip64 extended information extra field does not include uncompressed size"));K.uncompressedSize=Y(Pe,Fe),Fe+=8}if(K.compressedSize===4294967295){if(Fe+8>Pe.length)return z(w,new Error("zip64 extended information extra field does not include compressed size"));K.compressedSize=Y(Pe,Fe),Fe+=8}if(K.relativeOffsetOfLocalHeader===4294967295){if(Fe+8>Pe.length)return z(w,new Error("zip64 extended information extra field does not include relative header offset"));K.relativeOffsetOfLocalHeader=Y(Pe,Fe),Fe+=8}break}}if(w.validateEntrySizes&&K.compressionMethod===0){var Me=K.uncompressedSize;if(K.isEncrypted()&&(Me+=12),K.compressedSize!==Me){var Le="compressed/uncompressed size mismatch for stored file: "+K.compressedSize+" != "+K.uncompressedSize;return z(w,new Error(Le))}}w.emit("entry",K),w.lazyEntries||w._readEntry()}}))}}))}};_.prototype.openReadStream=function(w,B,G){var K=this,pe=0,ye=w.compressedSize;if(G==null&&(G=B,B=null),B==null)B={};else{if(B.decrypt!=null){if(!w.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(B.decrypt!==!1)throw new Error("invalid options.decrypt value: "+B.decrypt);if(w.isCompressed()&&B.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(B.decompress!=null){if(!w.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(B.decompress===!1||B.decompress===!0))throw new Error("invalid options.decompress value: "+B.decompress)}if(B.start!=null||B.end!=null){if(w.isCompressed()&&B.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(w.isEncrypted()&&B.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(B.start!=null){if(pe=B.start,pe<0)throw new Error("options.start < 0");if(pe>w.compressedSize)throw new Error("options.start > entry.compressedSize")}if(B.end!=null){if(ye=B.end,ye<0)throw new Error("options.end < 0");if(ye>w.compressedSize)throw new Error("options.end > entry.compressedSize");if(ye<pe)throw new Error("options.end < options.start")}}if(!K.isOpen)return G(new Error("closed"));if(w.isEncrypted()&&B.decrypt!==!1)return G(new Error("entry is encrypted, and options.decrypt !== false"));var Se;if(w.compressionMethod===0)Se=!1;else if(w.compressionMethod===8)Se=B.decompress!=null?B.decompress:!0;else return G(new Error("unsupported compression method: "+w.compressionMethod));K.readLocalFileHeader(w,{minimal:!0},(function(B,Be){if(B)return G(B);K.openReadStreamLowLevel(Be.fileDataStart,w.compressedSize,pe,ye,Se,w.uncompressedSize,G)}))};_.prototype.openReadStreamLowLevel=function(w,B,G,pe,ye,Se,Be){var Qe=this,Pe=w+B,Fe=Qe.reader.createReadStream({start:w+G,end:w+pe}),Me=Fe;if(ye){var Le=!1,je=K.createInflateRaw();Fe.on("error",(function(w){setImmediate((function(){Le||je.emit("error",w)}))})),Fe.pipe(je),Qe.validateEntrySizes?(Me=new re(Se),je.on("error",(function(w){setImmediate((function(){Le||Me.emit("error",w)}))})),je.pipe(Me)):Me=je,He(Me,(function(){Le=!0,je!==Me&&je.unpipe(Me),Fe.unpipe(je),Fe.destroy()}))}Be(null,Me)};_.prototype.readLocalFileHeader=function(w,B,G){var K=this;G==null&&(G=B,B=null),B==null&&(B={}),K.reader.ref();var pe=qe(30);j(K.reader,pe,0,pe.length,w.relativeOffsetOfLocalHeader,(function(ye){try{if(ye)return G(ye);var Se=pe.readUInt32LE(0);if(Se!==67324752)return G(new Error("invalid local file header signature: 0x"+Se.toString(16)));var Be=pe.readUInt16LE(26),Qe=pe.readUInt16LE(28),Pe=w.relativeOffsetOfLocalHeader+30+Be+Qe;if(Pe+w.compressedSize>K.fileSize)return G(new Error("file data overflows file bounds: "+Pe+" + "+w.compressedSize+" > "+K.fileSize));if(B.minimal)return G(null,{fileDataStart:Pe});var Fe=new Tr;Fe.fileDataStart=Pe,Fe.versionNeededToExtract=pe.readUInt16LE(4),Fe.generalPurposeBitFlag=pe.readUInt16LE(6),Fe.compressionMethod=pe.readUInt16LE(8),Fe.lastModFileTime=pe.readUInt16LE(10),Fe.lastModFileDate=pe.readUInt16LE(12),Fe.crc32=pe.readUInt32LE(14),Fe.compressedSize=pe.readUInt32LE(18),Fe.uncompressedSize=pe.readUInt32LE(22),Fe.fileNameLength=Be,Fe.extraFieldLength=Qe,pe=qe(Be+Qe),K.reader.ref(),j(K.reader,pe,0,pe.length,w.relativeOffsetOfLocalHeader+30,(function(w){try{return w?G(w):(Fe.fileName=pe.subarray(0,Be),Fe.extraField=pe.subarray(Be),G(null,Fe))}finally{K.reader.unref()}}))}finally{K.reader.unref()}}))};function ee(){}ee.prototype.getLastModDate=function(w){if(w==null&&(w={}),!w.forceDosFormat)for(var B=0;B<this.extraFields.length;B++){var G=this.extraFields[B];if(G.id===21589){var K=G.data;if(K.length<5)continue;var pe=K[0],ye=1;if(!(pe&ye))continue;var Se=K.readInt32LE(1);return new Date(Se*1e3)}else if(G.id===10)for(var K=G.data,Be=4;Be<K.length+4;){var Qe=K.readUInt16LE(Be);Be+=2;var Pe=K.readUInt16LE(Be);if(Be+=2,Qe!==1){Be+=Pe;continue}if(Pe<8||Be+Pe>K.length)break;var Fe=4294967296*K.readInt32LE(Be+4)+K.readUInt32LE(Be),Me=Fe/1e4-116444736e5;return new Date(Me)}}return Nr(this.lastModFileDate,this.lastModFileTime,w.timezone)};ee.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};ee.prototype.isCompressed=function(){return this.compressionMethod===8};function Tr(){}function Nr(w,B,G){var K=w&31,pe=(w>>5&15)-1,ye=(w>>9&127)+1980,Se=0,Be=(B&31)*2,Qe=B>>5&63,Pe=B>>11&31;if(G==null||G==="local")return new Date(ye,pe,K,Pe,Qe,Be,Se);if(G==="UTC")return new Date(Date.UTC(ye,pe,K,Pe,Qe,Be,Se));throw new Error("unrecognized options.timezone: "+options.timezone)}function Mr(w,B,G,K){for(var pe=null,Se=0;Se<G.length;Se++){var Be=G[Se];if(Be.id===28789){if(Be.data.length<6||Be.data.readUInt8(0)!==1)continue;var Qe=Be.data.readUInt32LE(1);if(ye.unsigned(B)!==Qe)continue;pe=ve(Be.data.subarray(5),!0);break}}if(pe==null){var Pe=(w&2048)!==0;pe=ve(B,Pe)}return K||(pe=pe.replace(/\\/g,"/")),pe}function Br(w){return w.indexOf("\\")!==-1?"invalid characters in fileName: "+w:/^[a-zA-Z]:/.test(w)||/^\//.test(w)?"absolute path: "+w:w.split("/").indexOf("..")!==-1?"invalid relative path: "+w:null}function qr(w){for(var B=[],G=0;G<w.length-3;){var K=w.readUInt16LE(G+0),pe=w.readUInt16LE(G+2),ye=G+4,Se=ye+pe;if(Se>w.length)throw new Error("extra field length exceeds extra field buffer size");var Be=w.subarray(ye,Se);B.push({id:K,data:Be}),G=Se}return B}function j(w,B,G,K,pe,ye){if(K===0)return setImmediate((function(){ye(null,qe(0))}));w.read(B,G,K,pe,(function(w,B){if(w)return ye(w);if(B<K)return ye(new Error("unexpected EOF"));ye()}))}Se.inherits(re,Qe);function re(w){Qe.call(this),this.actualByteCount=0,this.expectedByteCount=w}re.prototype._transform=function(w,B,G){if(this.actualByteCount+=w.length,this.actualByteCount>this.expectedByteCount){var K="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return G(new Error(K))}G(null,w)};re.prototype._flush=function(w){if(this.actualByteCount<this.expectedByteCount){var B="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return w(new Error(B))}w()};Se.inherits(M,Be);function M(){Be.call(this),this.refCount=0}M.prototype.ref=function(){this.refCount+=1};M.prototype.unref=function(){var w=this;if(w.refCount-=1,w.refCount>0)return;if(w.refCount<0)throw new Error("invalid unref");w.close(r);function r(B){if(B)return w.emit("error",B);w.emit("close")}};M.prototype.createReadStream=function(w){w==null&&(w={});var B=w.start,G=w.end;if(B===G){var K=new Fe;return setImmediate((function(){K.end()})),K}var pe=this._readStreamForRange(B,G),ye=!1,Se=new Ce(this);pe.on("error",(function(w){setImmediate((function(){ye||Se.emit("error",w)}))})),He(Se,(function(){pe.unpipe(Se),Se.unref(),pe.destroy()}));var Be=new re(G-B);return Se.on("error",(function(w){setImmediate((function(){ye||Be.emit("error",w)}))})),He(Be,(function(){ye=!0,Se.unpipe(Be),Se.destroy()})),pe.pipe(Se).pipe(Be)};M.prototype._readStreamForRange=function(w,B){throw new Error("not implemented")};M.prototype.read=function(w,B,G,K,pe){var ye=this.createReadStream({start:K,end:K+G}),Se=new Me,Be=0;Se._write=function(G,K,pe){G.copy(w,B+Be,0,G.length),Be+=G.length,pe()},Se.on("finish",pe),ye.on("error",(function(w){pe(w)})),ye.pipe(Se)};M.prototype.close=function(w){setImmediate(w)};Se.inherits(Ce,Fe);function Ce(w){Fe.call(this),this.context=w,this.context.ref(),this.unreffedYet=!1}Ce.prototype._flush=function(w){this.unref(),w()};Ce.prototype.unref=function(w){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var je="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";function ve(w,B){if(B)return w.toString("utf8");for(var G="",K=0;K<w.length;K++)G+=je[w[K]];return G}function Y(w,B){var G=w.readUInt32LE(B),K=w.readUInt32LE(B+4);return K*4294967296+G}var qe;typeof Buffer.allocUnsafe=="function"?qe=function(w){return Buffer.allocUnsafe(w)}:qe=function(w){return new Buffer(w)};function He(w,B){typeof w.destroy=="function"?w._destroy=function(w,G){B(),G!=null&&G(w)}:w.destroy=B}function we(w){if(w)throw w}}));var qe=v(((w,B)=>{var G=1e3,K=G*60,pe=K*60,ye=pe*24,Se=ye*7,Be=ye*365.25;B.exports=function(w,B){B=B||{};var G=typeof w;if(G==="string"&&w.length>0)return Wt(w);if(G==="number"&&isFinite(w))return B.long?Yt(w):Gt(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function Wt(w){if(w=String(w),!(w.length>100)){var B=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(B){var Qe=parseFloat(B[1]),Pe=(B[2]||"ms").toLowerCase();switch(Pe){case"years":case"year":case"yrs":case"yr":case"y":return Qe*Be;case"weeks":case"week":case"w":return Qe*Se;case"days":case"day":case"d":return Qe*ye;case"hours":case"hour":case"hrs":case"hr":case"h":return Qe*pe;case"minutes":case"minute":case"mins":case"min":case"m":return Qe*K;case"seconds":case"second":case"secs":case"sec":case"s":return Qe*G;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Qe;default:return}}}}function Gt(w){var B=Math.abs(w);return B>=ye?Math.round(w/ye)+"d":B>=pe?Math.round(w/pe)+"h":B>=K?Math.round(w/K)+"m":B>=G?Math.round(w/G)+"s":w+"ms"}function Yt(w){var B=Math.abs(w);return B>=ye?be(w,B,ye,"day"):B>=pe?be(w,B,pe,"hour"):B>=K?be(w,B,K,"minute"):B>=G?be(w,B,G,"second"):w+" ms"}function be(w,B,G,K){var pe=B>=G*1.5;return Math.round(w/G)+" "+K+(pe?"s":"")}}));var We=v(((w,B)=>{function jt(w){t.debug=t,t.default=t,t.coerce=u,t.disable=o,t.enable=i,t.enabled=f,t.humanize=qe(),t.destroy=l,Object.keys(w).forEach((B=>{t[B]=w[B]})),t.names=[],t.skips=[],t.formatters={};function r(w){let B=0;for(let G=0;G<w.length;G++)B=(B<<5)-B+w.charCodeAt(G),B|=0;return t.colors[Math.abs(B)%t.colors.length]}t.selectColor=r;function t(w){let B,G=null,K,pe;function p(...w){if(!p.enabled)return;let G=p,K=Number(new Date),pe=K-(B||K);G.diff=pe,G.prev=B,G.curr=K,B=K,w[0]=t.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let ye=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,((B,K)=>{if(B==="%%")return"%";ye++;let pe=t.formatters[K];if(typeof pe=="function"){let K=w[ye];B=pe.call(G,K),w.splice(ye,1),ye--}return B})),t.formatArgs.call(G,w),(G.log||t.log).apply(G,w)}return p.namespace=w,p.useColors=t.useColors(),p.color=t.selectColor(w),p.extend=n,p.destroy=t.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>G!==null?G:(K!==t.namespaces&&(K=t.namespaces,pe=t.enabled(w)),pe),set:w=>{G=w}}),typeof t.init=="function"&&t.init(p),p}function n(w,B){let G=t(this.namespace+(typeof B=="undefined"?":":B)+w);return G.log=this.log,G}function i(w){t.save(w),t.namespaces=w,t.names=[],t.skips=[];let B=(typeof w=="string"?w:"").trim().replace(" ",",").split(",").filter(Boolean);for(let w of B)w[0]==="-"?t.skips.push(w.slice(1)):t.names.push(w)}function s(w,B){let G=0,K=0,pe=-1,ye=0;for(;G<w.length;)if(K<B.length&&(B[K]===w[G]||B[K]==="*"))B[K]==="*"?(pe=K,ye=G,K++):(G++,K++);else if(pe!==-1)K=pe+1,ye++,G=ye;else return!1;for(;K<B.length&&B[K]==="*";)K++;return K===B.length}function o(){let w=[...t.names,...t.skips.map((w=>"-"+w))].join(",");return t.enable(""),w}function f(w){for(let B of t.skips)if(s(w,B))return!1;for(let B of t.names)if(s(w,B))return!0;return!1}function u(w){return w instanceof Error?w.stack||w.message:w}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}B.exports=jt}));var Ge=v(((w,B)=>{w.formatArgs=Kt;w.save=Vt;w.load=Xt;w.useColors=Ht;w.storage=$t();w.destroy=(()=>{let w=!1;return()=>{w||(w=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();w.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ht(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let w;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(w=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(w[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Kt(w){if(w[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+w[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),!this.useColors)return;let G="color: "+this.color;w.splice(1,0,G,"color: inherit");let K=0,pe=0;w[0].replace(/%[a-zA-Z%]/g,(w=>{w!=="%%"&&(K++,w==="%c"&&(pe=K))})),w.splice(pe,0,G)}w.log=console.debug||console.log||(()=>{});function Vt(B){try{B?w.storage.setItem("debug",B):w.storage.removeItem("debug")}catch{}}function Xt(){let B;try{B=w.storage.getItem("debug")}catch{}return!B&&typeof process!="undefined"&&"env"in process&&(B=process.env.DEBUG),B}function $t(){try{return localStorage}catch{}}B.exports=We()(w);var{formatters:G}=B.exports;G.j=function(w){try{return JSON.stringify(w)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}}}));var ze=v(((w,B)=>{"use strict";B.exports=(w,B=process.argv)=>{let G=w.startsWith("-")?"":w.length===1?"-":"--",K=B.indexOf(G+w),pe=B.indexOf("--");return K!==-1&&(pe===-1||K<pe)}}));var Ye=v(((w,B)=>{"use strict";var K=G(857),pe=G(2018),ye=ze(),{env:Se}=process,Be;ye("no-color")||ye("no-colors")||ye("color=false")||ye("color=never")?Be=0:(ye("color")||ye("colors")||ye("color=true")||ye("color=always"))&&(Be=1);function kt(){if("FORCE_COLOR"in Se)return Se.FORCE_COLOR==="true"?1:Se.FORCE_COLOR==="false"?0:Se.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Se.FORCE_COLOR,10),3)}function en(w){return w===0?!1:{level:w,hasBasic:!0,has256:w>=2,has16m:w>=3}}function rn(w,{streamIsTTY:B,sniffFlags:G=!0}={}){let pe=kt();pe!==void 0&&(Be=pe);let Qe=G?Be:pe;if(Qe===0)return 0;if(G){if(ye("color=16m")||ye("color=full")||ye("color=truecolor"))return 3;if(ye("color=256"))return 2}if(w&&!B&&Qe===void 0)return 0;let Pe=Qe||0;if(Se.TERM==="dumb")return Pe;if(process.platform==="win32"){let w=K.release().split(".");return Number(w[0])>=10&&Number(w[2])>=10586?Number(w[2])>=14931?3:2:1}if("CI"in Se)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((w=>w in Se))||Se.CI_NAME==="codeship"?1:Pe;if("TEAMCITY_VERSION"in Se)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Se.TEAMCITY_VERSION)?1:0;if(Se.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Se){let w=Number.parseInt((Se.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Se.TERM_PROGRAM){case"iTerm.app":return w>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Se.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Se.TERM)||"COLORTERM"in Se?1:Pe}function Je(w,B={}){let G=rn(w,{streamIsTTY:w&&w.isTTY,...B});return en(G)}B.exports={supportsColor:Je,stdout:Je({isTTY:pe.isatty(1)}),stderr:Je({isTTY:pe.isatty(2)})}}));var Ke=v(((w,B)=>{var K=G(2018),pe=G(9023);w.init=cn;w.log=fn;w.formatArgs=on;w.save=an;w.load=un;w.useColors=nn;w.destroy=pe.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");w.colors=[6,2,3,4,5,1];try{let B=Ye();B&&(B.stderr||B).level>=2&&(w.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}w.inspectOpts=Object.keys(process.env).filter((w=>/^debug_/i.test(w))).reduce(((w,B)=>{let G=B.substring(6).toLowerCase().replace(/_([a-z])/g,((w,B)=>B.toUpperCase())),K=process.env[B];return/^(yes|on|true|enabled)$/i.test(K)?K=!0:/^(no|off|false|disabled)$/i.test(K)?K=!1:K==="null"?K=null:K=Number(K),w[G]=K,w}),{});function nn(){return"colors"in w.inspectOpts?!!w.inspectOpts.colors:K.isatty(process.stderr.fd)}function on(w){let{namespace:G,useColors:K}=this;if(K){let K=this.color,pe="[3"+(K<8?K:"8;5;"+K),ye=`  ${pe};1m${G} [0m`;w[0]=ye+w[0].split(`\n`).join(`\n`+ye),w.push(pe+"m+"+B.exports.humanize(this.diff)+"[0m")}else w[0]=sn()+G+" "+w[0]}function sn(){return w.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function fn(...B){return process.stderr.write(pe.formatWithOptions(w.inspectOpts,...B)+`\n`)}function an(w){w?process.env.DEBUG=w:delete process.env.DEBUG}function un(){return process.env.DEBUG}function cn(B){B.inspectOpts={};let G=Object.keys(w.inspectOpts);for(let K=0;K<G.length;K++)B.inspectOpts[G[K]]=w.inspectOpts[G[K]]}B.exports=We()(w);var{formatters:ye}=B.exports;ye.o=function(w){return this.inspectOpts.colors=this.useColors,pe.inspect(w,this.inspectOpts).split(`\n`).map((w=>w.trim())).join(" ")};ye.O=function(w){return this.inspectOpts.colors=this.useColors,pe.inspect(w,this.inspectOpts)}}));var Xe=v(((w,B)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?B.exports=Ge():B.exports=Ke()}));var rt=v(((w,B)=>{B.exports=Qr;function Qr(w,B){if(w&&B)return Qr(w)(B);if(typeof w!="function")throw new TypeError("need wrapper function");return Object.keys(w).forEach((function(B){t[B]=w[B]})),t;function t(){for(var B=new Array(arguments.length),G=0;G<B.length;G++)B[G]=arguments[G];var K=w.apply(this,B),pe=B[B.length-1];return typeof K=="function"&&K!==pe&&Object.keys(pe).forEach((function(w){K[w]=pe[w]})),K}}}));var it=v(((w,B)=>{var G=rt();B.exports=G(Oe);B.exports.strict=G(tt);Oe.proto=Oe((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Oe(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return tt(this)},configurable:!0})}));function Oe(w){var r=function(){return r.called?r.value:(r.called=!0,r.value=w.apply(this,arguments))};return r.called=!1,r}function tt(w){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=w.apply(this,arguments)},B=w.name||"Function wrapped with `once`";return r.onceError=B+" shouldn't be called more than once",r.called=!1,r}}));var ot=v(((w,B)=>{var G=it(),ln=function(){},hn=function(w){return w.setHeader&&typeof w.abort=="function"},mn=function(w){return w.stdio&&Array.isArray(w.stdio)&&w.stdio.length===3},nt=function(w,B,K){if(typeof B=="function")return nt(w,null,B);B||(B={}),K=G(K||ln);var pe=w._writableState,ye=w._readableState,Se=B.readable||B.readable!==!1&&w.readable,Be=B.writable||B.writable!==!1&&w.writable,Qe=!1,u=function(){w.writable||l()},l=function(){Be=!1,Se||K.call(w)},a=function(){Se=!1,Be||K.call(w)},c=function(B){K.call(w,B?new Error("exited with error code: "+B):null)},d=function(B){K.call(w,B)},h=function(){process.nextTick(E)},E=function(){if(!Qe){if(Se&&!(ye&&ye.ended&&!ye.destroyed))return K.call(w,new Error("premature close"));if(Be&&!(pe&&pe.ended&&!pe.destroyed))return K.call(w,new Error("premature close"))}},p=function(){w.req.on("finish",l)};return hn(w)?(w.on("complete",l),w.on("abort",h),w.req?p():w.on("request",p)):Be&&!pe&&(w.on("end",u),w.on("close",u)),mn(w)&&w.on("exit",c),w.on("end",a),w.on("finish",l),B.error!==!1&&w.on("error",d),w.on("close",h),function(){Qe=!0,w.removeListener("complete",l),w.removeListener("abort",h),w.removeListener("request",p),w.req&&w.req.removeListener("finish",l),w.removeListener("end",u),w.removeListener("close",u),w.removeListener("finish",l),w.removeListener("exit",c),w.removeListener("end",a),w.removeListener("error",d),w.removeListener("close",h)}};B.exports=nt}));var at=v(((w,B)=>{var K=it(),pe=ot(),ye;try{ye=G(9896)}catch{}var te=function(){},Se=/^v?\.0/.test(process.version),_e=function(w){return typeof w=="function"},vn=function(w){return!Se||!ye?!1:(w instanceof(ye.ReadStream||te)||w instanceof(ye.WriteStream||te))&&_e(w.close)},wn=function(w){return w.setHeader&&_e(w.abort)},yn=function(w,B,G,ye){ye=K(ye);var Se=!1;w.on("close",(function(){Se=!0})),pe(w,{readable:B,writable:G},(function(w){if(w)return ye(w);Se=!0,ye()}));var Be=!1;return function(B){if(!Se&&!Be){if(Be=!0,vn(w))return w.close(te);if(wn(w))return w.abort();if(_e(w.destroy))return w.destroy();ye(B||new Error("stream was destroyed"))}}},st=function(w){w()},gn=function(w,B){return w.pipe(B)},Cn=function(){var w=Array.prototype.slice.call(arguments),B=_e(w[w.length-1]||te)&&w.pop()||te;if(Array.isArray(w[0])&&(w=w[0]),w.length<2)throw new Error("pump requires two streams per minimum");var G,K=w.map((function(pe,ye){var Se=ye<w.length-1,Be=ye>0;return yn(pe,Se,Be,(function(w){G||(G=w),w&&K.forEach(st),!Se&&(K.forEach(st),B(G))}))}));return w.reduce(gn)};B.exports=Cn}));var lt=v(((w,B)=>{"use strict";var{PassThrough:K}=G(2203);B.exports=w=>{w={...w};let{array:B}=w,{encoding:G}=w,pe=G==="buffer",ye=!1;B?ye=!(G||pe):G=G||"utf8",pe&&(G=null);let Se=new K({objectMode:ye});G&&Se.setEncoding(G);let Be=0,Qe=[];return Se.on("data",(w=>{Qe.push(w),ye?Be=Qe.length:Be+=w.length})),Se.getBufferedValue=()=>B?Qe:pe?Buffer.concat(Qe,Be):Qe.join(""),Se.getBufferedLength=()=>Be,Se}}));var ct=v(((w,B)=>{"use strict";var{constants:K}=G(181),pe=at(),ye=lt(),Se=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function De(w,B){if(!w)return Promise.reject(new Error("Expected a stream"));B={maxBuffer:1/0,...B};let{maxBuffer:G}=B,Be;return await new Promise(((Qe,Pe)=>{let o=w=>{w&&Be.getBufferedLength()<=K.MAX_LENGTH&&(w.bufferedData=Be.getBufferedValue()),Pe(w)};Be=pe(w,ye(B),(w=>{if(w){o(w);return}Qe()})),Be.on("data",(()=>{Be.getBufferedLength()>G&&o(new Se)}))})),Be.getBufferedValue()}B.exports=De;B.exports.default=De;B.exports.buffer=(w,B)=>De(w,{...B,encoding:"buffer"});B.exports.array=(w,B)=>De(w,{...B,array:!0});B.exports.MaxBufferError=Se}));var ut=v(((w,B)=>{"use strict";var K=Xe()("extract-zip"),{createWriteStream:pe,promises:ye}=G(9896),Se=ct(),Be=G(6928),{promisify:Qe}=G(9023),Pe=G(2203),Fe=je(),Me=Qe(Fe.open),Le=Qe(Pe.pipeline),qe=class{constructor(w,B){this.zipPath=w,this.opts=B}async extract(){return K("opening",this.zipPath,"with opts",this.opts),this.zipfile=await Me(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise(((w,B)=>{this.zipfile.on("error",(w=>{this.canceled=!0,B(w)})),this.zipfile.readEntry(),this.zipfile.on("close",(()=>{this.canceled||(K("zip extraction complete"),w())})),this.zipfile.on("entry",(async w=>{if(this.canceled){K("skipping entry",w.fileName,{cancelled:this.canceled});return}if(K("zipfile entry",w.fileName),w.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let G=Be.dirname(Be.join(this.opts.dir,w.fileName));try{await ye.mkdir(G,{recursive:!0});let B=await ye.realpath(G);if(Be.relative(this.opts.dir,B).split(Be.sep).includes(".."))throw new Error(`Out of bound path "${B}" found while processing file ${w.fileName}`);await this.extractEntry(w),K("finished processing",w.fileName),this.zipfile.readEntry()}catch(w){this.canceled=!0,this.zipfile.close(),B(w)}}))}))}async extractEntry(w){if(this.canceled){K("skipping entry extraction",w.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(w,this.zipfile);let B=Be.join(this.opts.dir,w.fileName),G=w.externalFileAttributes>>16&65535,Pe=61440,Fe=16384,Me=(G&Pe)===40960,je=(G&Pe)===Fe;!je&&w.fileName.endsWith("/")&&(je=!0);let qe=w.versionMadeBy>>8;je||(je=qe===0&&w.externalFileAttributes===16),K("extracting entry",{filename:w.fileName,isDir:je,isSymlink:Me});let We=this.getExtractedMode(G,je)&511,Ge=je?B:Be.dirname(B),ze={recursive:!0};if(je&&(ze.mode=We),K("mkdir",{dir:Ge,...ze}),await ye.mkdir(Ge,ze),je)return;K("opening read stream",B);let Ye=await Qe(this.zipfile.openReadStream.bind(this.zipfile))(w);if(Me){let w=await Se(Ye);K("creating symlink",w,B),await ye.symlink(w,B)}else await Le(Ye,pe(B,{mode:We}))}getExtractedMode(w,B){let G=w;return G===0&&(B?(this.opts.defaultDirMode&&(G=parseInt(this.opts.defaultDirMode,10)),G||(G=493)):(this.opts.defaultFileMode&&(G=parseInt(this.opts.defaultFileMode,10)),G||(G=420))),G}};B.exports=async function(w,B){if(K("creating target directory",B.dir),!Be.isAbsolute(B.dir))throw new Error("Target directory is expected to be absolute");return await ye.mkdir(B.dir,{recursive:!0}),B.dir=await ye.realpath(B.dir),new qe(w,B).extract()}}));var ft={};Ct(ft,{extract:()=>vt,yauzl:()=>mt,yazl:()=>gt});w.exports=bt(ft);var gt=sr(Fe()),mt=sr(je()),wt=ut(),vt=wt;0&&0},1918:(w,B,G)=>{w.exports=G(8206)},329:(w,B,G)=>{w.exports=G(4179)},4179:(w,B,G)=>{"use strict";var K=G(9278);var pe=G(4756);var ye=G(8611);var Se=G(5692);var Be=G(4434);var Qe=G(2613);var Pe=G(9023);B.httpOverHttp=httpOverHttp;B.httpsOverHttp=httpsOverHttp;B.httpOverHttps=httpOverHttps;B.httpsOverHttps=httpsOverHttps;function httpOverHttp(w){var B=new TunnelingAgent(w);B.request=ye.request;return B}function httpsOverHttp(w){var B=new TunnelingAgent(w);B.request=ye.request;B.createSocket=createSecureSocket;B.defaultPort=443;return B}function httpOverHttps(w){var B=new TunnelingAgent(w);B.request=Se.request;return B}function httpsOverHttps(w){var B=new TunnelingAgent(w);B.request=Se.request;B.createSocket=createSecureSocket;B.defaultPort=443;return B}function TunnelingAgent(w){var B=this;B.options=w||{};B.proxyOptions=B.options.proxy||{};B.maxSockets=B.options.maxSockets||ye.Agent.defaultMaxSockets;B.requests=[];B.sockets=[];B.on("free",(function onFree(w,G,K,pe){var ye=toOptions(G,K,pe);for(var Se=0,Be=B.requests.length;Se<Be;++Se){var Qe=B.requests[Se];if(Qe.host===ye.host&&Qe.port===ye.port){B.requests.splice(Se,1);Qe.request.onSocket(w);return}}w.destroy();B.removeSocket(w)}))}Pe.inherits(TunnelingAgent,Be.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(w,B,G,K){var pe=this;var ye=mergeOptions({request:w},pe.options,toOptions(B,G,K));if(pe.sockets.length>=this.maxSockets){pe.requests.push(ye);return}pe.createSocket(ye,(function(B){B.on("free",onFree);B.on("close",onCloseOrRemove);B.on("agentRemove",onCloseOrRemove);w.onSocket(B);function onFree(){pe.emit("free",B,ye)}function onCloseOrRemove(w){pe.removeSocket(B);B.removeListener("free",onFree);B.removeListener("close",onCloseOrRemove);B.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(w,B){var G=this;var K={};G.sockets.push(K);var pe=mergeOptions({},G.proxyOptions,{method:"CONNECT",path:w.host+":"+w.port,agent:false,headers:{host:w.host+":"+w.port}});if(w.localAddress){pe.localAddress=w.localAddress}if(pe.proxyAuth){pe.headers=pe.headers||{};pe.headers["Proxy-Authorization"]="Basic "+new Buffer(pe.proxyAuth).toString("base64")}Fe("making CONNECT request");var ye=G.request(pe);ye.useChunkedEncodingByDefault=false;ye.once("response",onResponse);ye.once("upgrade",onUpgrade);ye.once("connect",onConnect);ye.once("error",onError);ye.end();function onResponse(w){w.upgrade=true}function onUpgrade(w,B,G){process.nextTick((function(){onConnect(w,B,G)}))}function onConnect(pe,Se,Be){ye.removeAllListeners();Se.removeAllListeners();if(pe.statusCode!==200){Fe("tunneling socket could not be established, statusCode=%d",pe.statusCode);Se.destroy();var Qe=new Error("tunneling socket could not be established, "+"statusCode="+pe.statusCode);Qe.code="ECONNRESET";w.request.emit("error",Qe);G.removeSocket(K);return}if(Be.length>0){Fe("got illegal response body from proxy");Se.destroy();var Qe=new Error("got illegal response body from proxy");Qe.code="ECONNRESET";w.request.emit("error",Qe);G.removeSocket(K);return}Fe("tunneling connection has established");G.sockets[G.sockets.indexOf(K)]=Se;return B(Se)}function onError(B){ye.removeAllListeners();Fe("tunneling socket could not be established, cause=%s\n",B.message,B.stack);var pe=new Error("tunneling socket could not be established, "+"cause="+B.message);pe.code="ECONNRESET";w.request.emit("error",pe);G.removeSocket(K)}};TunnelingAgent.prototype.removeSocket=function removeSocket(w){var B=this.sockets.indexOf(w);if(B===-1){return}this.sockets.splice(B,1);var G=this.requests.shift();if(G){this.createSocket(G,(function(w){G.request.onSocket(w)}))}};function createSecureSocket(w,B){var G=this;TunnelingAgent.prototype.createSocket.call(G,w,(function(K){var ye=w.request.getHeader("host");var Se=mergeOptions({},G.options,{socket:K,servername:ye?ye.replace(/:.*$/,""):w.host});var Be=pe.connect(0,Se);G.sockets[G.sockets.indexOf(K)]=Be;B(Be)}))}function toOptions(w,B,G){if(typeof w==="string"){return{host:w,port:B,localAddress:G}}return w}function mergeOptions(w){for(var B=1,G=arguments.length;B<G;++B){var K=arguments[B];if(typeof K==="object"){var pe=Object.keys(K);for(var ye=0,Se=pe.length;ye<Se;++ye){var Be=pe[ye];if(K[Be]!==undefined){w[Be]=K[Be]}}}}return w}var Fe;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){Fe=function(){var w=Array.prototype.slice.call(arguments);if(typeof w[0]==="string"){w[0]="TUNNEL: "+w[0]}else{w.unshift("TUNNEL:")}console.error.apply(console,w)}}else{Fe=function(){}}B.debug=Fe},6017:(w,B,G)=>{"use strict";const K=G(6530);const pe=G(5872);const ye=G(1970);const Se=G(6607);const Be=G(180);const Qe=G(4724);const Pe=G(701);const{InvalidArgumentError:Fe}=ye;const Me=G(6234);const Le=G(2667);const je=G(1134);const qe=G(4280);const We=G(723);const Ge=G(8074);const ze=G(5317);const Ye=G(5970);const{getGlobalDispatcher:Ke,setGlobalDispatcher:Xe}=G(4662);const rt=G(6459);const it=G(762);const ot=G(2750);let at;try{G(6982);at=true}catch{at=false}Object.assign(pe.prototype,Me);w.exports.Dispatcher=pe;w.exports.Client=K;w.exports.Pool=Se;w.exports.BalancedPool=Be;w.exports.Agent=Qe;w.exports.ProxyAgent=ze;w.exports.RetryHandler=Ye;w.exports.DecoratorHandler=rt;w.exports.RedirectHandler=it;w.exports.createRedirectInterceptor=ot;w.exports.buildConnector=Le;w.exports.errors=ye;function makeDispatcher(w){return(B,G,K)=>{if(typeof G==="function"){K=G;G=null}if(!B||typeof B!=="string"&&typeof B!=="object"&&!(B instanceof URL)){throw new Fe("invalid url")}if(G!=null&&typeof G!=="object"){throw new Fe("invalid opts")}if(G&&G.path!=null){if(typeof G.path!=="string"){throw new Fe("invalid opts.path")}let w=G.path;if(!G.path.startsWith("/")){w=`/${w}`}B=new URL(Pe.parseOrigin(B).origin+w)}else{if(!G){G=typeof B==="object"?B:{}}B=Pe.parseURL(B)}const{agent:pe,dispatcher:ye=Ke()}=G;if(pe){throw new Fe("unsupported opts.agent. Did you mean opts.client?")}return w.call(ye,{...G,origin:B.origin,path:B.search?`${B.pathname}${B.search}`:B.pathname,method:G.method||(G.body?"PUT":"GET")},K)}}w.exports.setGlobalDispatcher=Xe;w.exports.getGlobalDispatcher=Ke;if(Pe.nodeMajor>16||Pe.nodeMajor===16&&Pe.nodeMinor>=8){let B=null;w.exports.fetch=async function fetch(w){if(!B){B=G(4546).fetch}try{return await B(...arguments)}catch(w){if(typeof w==="object"){Error.captureStackTrace(w,this)}throw w}};w.exports.Headers=G(824).Headers;w.exports.Response=G(2111).Response;w.exports.Request=G(8939).Request;w.exports.FormData=G(98).FormData;w.exports.File=G(374).File;w.exports.FileReader=G(2151).FileReader;const{setGlobalOrigin:K,getGlobalOrigin:pe}=G(2071);w.exports.setGlobalOrigin=K;w.exports.getGlobalOrigin=pe;const{CacheStorage:ye}=G(4393);const{kConstruct:Se}=G(8081);w.exports.caches=new ye(Se)}if(Pe.nodeMajor>=16){const{deleteCookie:B,getCookies:K,getSetCookies:pe,setCookie:ye}=G(3001);w.exports.deleteCookie=B;w.exports.getCookies=K;w.exports.getSetCookies=pe;w.exports.setCookie=ye;const{parseMIMEType:Se,serializeAMimeType:Be}=G(2059);w.exports.parseMIMEType=Se;w.exports.serializeAMimeType=Be}if(Pe.nodeMajor>=18&&at){const{WebSocket:B}=G(7634);w.exports.WebSocket=B}w.exports.request=makeDispatcher(Me.request);w.exports.stream=makeDispatcher(Me.stream);w.exports.pipeline=makeDispatcher(Me.pipeline);w.exports.connect=makeDispatcher(Me.connect);w.exports.upgrade=makeDispatcher(Me.upgrade);w.exports.MockClient=je;w.exports.MockPool=We;w.exports.MockAgent=qe;w.exports.mockErrors=Ge},4724:(w,B,G)=>{"use strict";const{InvalidArgumentError:K}=G(1970);const{kClients:pe,kRunning:ye,kClose:Se,kDestroy:Be,kDispatch:Qe,kInterceptors:Pe}=G(4980);const Fe=G(4660);const Me=G(6607);const Le=G(6530);const je=G(701);const qe=G(2750);const{WeakRef:We,FinalizationRegistry:Ge}=G(4375)();const ze=Symbol("onConnect");const Ye=Symbol("onDisconnect");const Ke=Symbol("onConnectionError");const Xe=Symbol("maxRedirections");const rt=Symbol("onDrain");const it=Symbol("factory");const ot=Symbol("finalizer");const at=Symbol("options");function defaultFactory(w,B){return B&&B.connections===1?new Le(w,B):new Me(w,B)}class Agent extends Fe{constructor({factory:w=defaultFactory,maxRedirections:B=0,connect:G,...ye}={}){super();if(typeof w!=="function"){throw new K("factory must be a function.")}if(G!=null&&typeof G!=="function"&&typeof G!=="object"){throw new K("connect must be a function or an object")}if(!Number.isInteger(B)||B<0){throw new K("maxRedirections must be a positive number")}if(G&&typeof G!=="function"){G={...G}}this[Pe]=ye.interceptors&&ye.interceptors.Agent&&Array.isArray(ye.interceptors.Agent)?ye.interceptors.Agent:[qe({maxRedirections:B})];this[at]={...je.deepClone(ye),connect:G};this[at].interceptors=ye.interceptors?{...ye.interceptors}:undefined;this[Xe]=B;this[it]=w;this[pe]=new Map;this[ot]=new Ge((w=>{const B=this[pe].get(w);if(B!==undefined&&B.deref()===undefined){this[pe].delete(w)}}));const Se=this;this[rt]=(w,B)=>{Se.emit("drain",w,[Se,...B])};this[ze]=(w,B)=>{Se.emit("connect",w,[Se,...B])};this[Ye]=(w,B,G)=>{Se.emit("disconnect",w,[Se,...B],G)};this[Ke]=(w,B,G)=>{Se.emit("connectionError",w,[Se,...B],G)}}get[ye](){let w=0;for(const B of this[pe].values()){const G=B.deref();if(G){w+=G[ye]}}return w}[Qe](w,B){let G;if(w.origin&&(typeof w.origin==="string"||w.origin instanceof URL)){G=String(w.origin)}else{throw new K("opts.origin must be a non-empty string or URL.")}const ye=this[pe].get(G);let Se=ye?ye.deref():null;if(!Se){Se=this[it](w.origin,this[at]).on("drain",this[rt]).on("connect",this[ze]).on("disconnect",this[Ye]).on("connectionError",this[Ke]);this[pe].set(G,new We(Se));this[ot].register(Se,G)}return Se.dispatch(w,B)}async[Se](){const w=[];for(const B of this[pe].values()){const G=B.deref();if(G){w.push(G.close())}}await Promise.all(w)}async[Be](w){const B=[];for(const G of this[pe].values()){const K=G.deref();if(K){B.push(K.destroy(w))}}await Promise.all(B)}}w.exports=Agent},6497:(w,B,G)=>{const{addAbortListener:K}=G(701);const{RequestAbortedError:pe}=G(1970);const ye=Symbol("kListener");const Se=Symbol("kSignal");function abort(w){if(w.abort){w.abort()}else{w.onError(new pe)}}function addSignal(w,B){w[Se]=null;w[ye]=null;if(!B){return}if(B.aborted){abort(w);return}w[Se]=B;w[ye]=()=>{abort(w)};K(w[Se],w[ye])}function removeSignal(w){if(!w[Se]){return}if("removeEventListener"in w[Se]){w[Se].removeEventListener("abort",w[ye])}else{w[Se].removeListener("abort",w[ye])}w[Se]=null;w[ye]=null}w.exports={addSignal:addSignal,removeSignal:removeSignal}},2621:(w,B,G)=>{"use strict";const{AsyncResource:K}=G(290);const{InvalidArgumentError:pe,RequestAbortedError:ye,SocketError:Se}=G(1970);const Be=G(701);const{addSignal:Qe,removeSignal:Pe}=G(6497);class ConnectHandler extends K{constructor(w,B){if(!w||typeof w!=="object"){throw new pe("invalid opts")}if(typeof B!=="function"){throw new pe("invalid callback")}const{signal:G,opaque:K,responseHeaders:ye}=w;if(G&&typeof G.on!=="function"&&typeof G.addEventListener!=="function"){throw new pe("signal must be an EventEmitter or EventTarget")}super("UNDICI_CONNECT");this.opaque=K||null;this.responseHeaders=ye||null;this.callback=B;this.abort=null;Qe(this,G)}onConnect(w,B){if(!this.callback){throw new ye}this.abort=w;this.context=B}onHeaders(){throw new Se("bad connect",null)}onUpgrade(w,B,G){const{callback:K,opaque:pe,context:ye}=this;Pe(this);this.callback=null;let Se=B;if(Se!=null){Se=this.responseHeaders==="raw"?Be.parseRawHeaders(B):Be.parseHeaders(B)}this.runInAsyncScope(K,null,null,{statusCode:w,headers:Se,socket:G,opaque:pe,context:ye})}onError(w){const{callback:B,opaque:G}=this;Pe(this);if(B){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(B,null,w,{opaque:G})}))}}}function connect(w,B){if(B===undefined){return new Promise(((B,G)=>{connect.call(this,w,((w,K)=>w?G(w):B(K)))}))}try{const G=new ConnectHandler(w,B);this.dispatch({...w,method:"CONNECT"},G)}catch(G){if(typeof B!=="function"){throw G}const K=w&&w.opaque;queueMicrotask((()=>B(G,{opaque:K})))}}w.exports=connect},8229:(w,B,G)=>{"use strict";const{Readable:K,Duplex:pe,PassThrough:ye}=G(2203);const{InvalidArgumentError:Se,InvalidReturnValueError:Be,RequestAbortedError:Qe}=G(1970);const Pe=G(701);const{AsyncResource:Fe}=G(290);const{addSignal:Me,removeSignal:Le}=G(6497);const je=G(2613);const qe=Symbol("resume");class PipelineRequest extends K{constructor(){super({autoDestroy:true});this[qe]=null}_read(){const{[qe]:w}=this;if(w){this[qe]=null;w()}}_destroy(w,B){this._read();B(w)}}class PipelineResponse extends K{constructor(w){super({autoDestroy:true});this[qe]=w}_read(){this[qe]()}_destroy(w,B){if(!w&&!this._readableState.endEmitted){w=new Qe}B(w)}}class PipelineHandler extends Fe{constructor(w,B){if(!w||typeof w!=="object"){throw new Se("invalid opts")}if(typeof B!=="function"){throw new Se("invalid handler")}const{signal:G,method:K,opaque:ye,onInfo:Be,responseHeaders:Fe}=w;if(G&&typeof G.on!=="function"&&typeof G.addEventListener!=="function"){throw new Se("signal must be an EventEmitter or EventTarget")}if(K==="CONNECT"){throw new Se("invalid method")}if(Be&&typeof Be!=="function"){throw new Se("invalid onInfo callback")}super("UNDICI_PIPELINE");this.opaque=ye||null;this.responseHeaders=Fe||null;this.handler=B;this.abort=null;this.context=null;this.onInfo=Be||null;this.req=(new PipelineRequest).on("error",Pe.nop);this.ret=new pe({readableObjectMode:w.objectMode,autoDestroy:true,read:()=>{const{body:w}=this;if(w&&w.resume){w.resume()}},write:(w,B,G)=>{const{req:K}=this;if(K.push(w,B)||K._readableState.destroyed){G()}else{K[qe]=G}},destroy:(w,B)=>{const{body:G,req:K,res:pe,ret:ye,abort:Se}=this;if(!w&&!ye._readableState.endEmitted){w=new Qe}if(Se&&w){Se()}Pe.destroy(G,w);Pe.destroy(K,w);Pe.destroy(pe,w);Le(this);B(w)}}).on("prefinish",(()=>{const{req:w}=this;w.push(null)}));this.res=null;Me(this,G)}onConnect(w,B){const{ret:G,res:K}=this;je(!K,"pipeline cannot be retried");if(G.destroyed){throw new Qe}this.abort=w;this.context=B}onHeaders(w,B,G){const{opaque:K,handler:pe,context:ye}=this;if(w<200){if(this.onInfo){const G=this.responseHeaders==="raw"?Pe.parseRawHeaders(B):Pe.parseHeaders(B);this.onInfo({statusCode:w,headers:G})}return}this.res=new PipelineResponse(G);let Se;try{this.handler=null;const G=this.responseHeaders==="raw"?Pe.parseRawHeaders(B):Pe.parseHeaders(B);Se=this.runInAsyncScope(pe,null,{statusCode:w,headers:G,opaque:K,body:this.res,context:ye})}catch(w){this.res.on("error",Pe.nop);throw w}if(!Se||typeof Se.on!=="function"){throw new Be("expected Readable")}Se.on("data",(w=>{const{ret:B,body:G}=this;if(!B.push(w)&&G.pause){G.pause()}})).on("error",(w=>{const{ret:B}=this;Pe.destroy(B,w)})).on("end",(()=>{const{ret:w}=this;w.push(null)})).on("close",(()=>{const{ret:w}=this;if(!w._readableState.ended){Pe.destroy(w,new Qe)}}));this.body=Se}onData(w){const{res:B}=this;return B.push(w)}onComplete(w){const{res:B}=this;B.push(null)}onError(w){const{ret:B}=this;this.handler=null;Pe.destroy(B,w)}}function pipeline(w,B){try{const G=new PipelineHandler(w,B);this.dispatch({...w,body:G.req},G);return G.ret}catch(w){return(new ye).destroy(w)}}w.exports=pipeline},5670:(w,B,G)=>{"use strict";const K=G(2224);const{InvalidArgumentError:pe,RequestAbortedError:ye}=G(1970);const Se=G(701);const{getResolveErrorBodyCallback:Be}=G(3924);const{AsyncResource:Qe}=G(290);const{addSignal:Pe,removeSignal:Fe}=G(6497);class RequestHandler extends Qe{constructor(w,B){if(!w||typeof w!=="object"){throw new pe("invalid opts")}const{signal:G,method:K,opaque:ye,body:Be,onInfo:Qe,responseHeaders:Fe,throwOnError:Me,highWaterMark:Le}=w;try{if(typeof B!=="function"){throw new pe("invalid callback")}if(Le&&(typeof Le!=="number"||Le<0)){throw new pe("invalid highWaterMark")}if(G&&typeof G.on!=="function"&&typeof G.addEventListener!=="function"){throw new pe("signal must be an EventEmitter or EventTarget")}if(K==="CONNECT"){throw new pe("invalid method")}if(Qe&&typeof Qe!=="function"){throw new pe("invalid onInfo callback")}super("UNDICI_REQUEST")}catch(w){if(Se.isStream(Be)){Se.destroy(Be.on("error",Se.nop),w)}throw w}this.responseHeaders=Fe||null;this.opaque=ye||null;this.callback=B;this.res=null;this.abort=null;this.body=Be;this.trailers={};this.context=null;this.onInfo=Qe||null;this.throwOnError=Me;this.highWaterMark=Le;if(Se.isStream(Be)){Be.on("error",(w=>{this.onError(w)}))}Pe(this,G)}onConnect(w,B){if(!this.callback){throw new ye}this.abort=w;this.context=B}onHeaders(w,B,G,pe){const{callback:ye,opaque:Qe,abort:Pe,context:Fe,responseHeaders:Me,highWaterMark:Le}=this;const je=Me==="raw"?Se.parseRawHeaders(B):Se.parseHeaders(B);if(w<200){if(this.onInfo){this.onInfo({statusCode:w,headers:je})}return}const qe=Me==="raw"?Se.parseHeaders(B):je;const We=qe["content-type"];const Ge=new K({resume:G,abort:Pe,contentType:We,highWaterMark:Le});this.callback=null;this.res=Ge;if(ye!==null){if(this.throwOnError&&w>=400){this.runInAsyncScope(Be,null,{callback:ye,body:Ge,contentType:We,statusCode:w,statusMessage:pe,headers:je})}else{this.runInAsyncScope(ye,null,null,{statusCode:w,headers:je,trailers:this.trailers,opaque:Qe,body:Ge,context:Fe})}}}onData(w){const{res:B}=this;return B.push(w)}onComplete(w){const{res:B}=this;Fe(this);Se.parseHeaders(w,this.trailers);B.push(null)}onError(w){const{res:B,callback:G,body:K,opaque:pe}=this;Fe(this);if(G){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(G,null,w,{opaque:pe})}))}if(B){this.res=null;queueMicrotask((()=>{Se.destroy(B,w)}))}if(K){this.body=null;Se.destroy(K,w)}}}function request(w,B){if(B===undefined){return new Promise(((B,G)=>{request.call(this,w,((w,K)=>w?G(w):B(K)))}))}try{this.dispatch(w,new RequestHandler(w,B))}catch(G){if(typeof B!=="function"){throw G}const K=w&&w.opaque;queueMicrotask((()=>B(G,{opaque:K})))}}w.exports=request;w.exports.RequestHandler=RequestHandler},3019:(w,B,G)=>{"use strict";const{finished:K,PassThrough:pe}=G(2203);const{InvalidArgumentError:ye,InvalidReturnValueError:Se,RequestAbortedError:Be}=G(1970);const Qe=G(701);const{getResolveErrorBodyCallback:Pe}=G(3924);const{AsyncResource:Fe}=G(290);const{addSignal:Me,removeSignal:Le}=G(6497);class StreamHandler extends Fe{constructor(w,B,G){if(!w||typeof w!=="object"){throw new ye("invalid opts")}const{signal:K,method:pe,opaque:Se,body:Be,onInfo:Pe,responseHeaders:Fe,throwOnError:Le}=w;try{if(typeof G!=="function"){throw new ye("invalid callback")}if(typeof B!=="function"){throw new ye("invalid factory")}if(K&&typeof K.on!=="function"&&typeof K.addEventListener!=="function"){throw new ye("signal must be an EventEmitter or EventTarget")}if(pe==="CONNECT"){throw new ye("invalid method")}if(Pe&&typeof Pe!=="function"){throw new ye("invalid onInfo callback")}super("UNDICI_STREAM")}catch(w){if(Qe.isStream(Be)){Qe.destroy(Be.on("error",Qe.nop),w)}throw w}this.responseHeaders=Fe||null;this.opaque=Se||null;this.factory=B;this.callback=G;this.res=null;this.abort=null;this.context=null;this.trailers=null;this.body=Be;this.onInfo=Pe||null;this.throwOnError=Le||false;if(Qe.isStream(Be)){Be.on("error",(w=>{this.onError(w)}))}Me(this,K)}onConnect(w,B){if(!this.callback){throw new Be}this.abort=w;this.context=B}onHeaders(w,B,G,ye){const{factory:Be,opaque:Fe,context:Me,callback:Le,responseHeaders:je}=this;const qe=je==="raw"?Qe.parseRawHeaders(B):Qe.parseHeaders(B);if(w<200){if(this.onInfo){this.onInfo({statusCode:w,headers:qe})}return}this.factory=null;let We;if(this.throwOnError&&w>=400){const G=je==="raw"?Qe.parseHeaders(B):qe;const K=G["content-type"];We=new pe;this.callback=null;this.runInAsyncScope(Pe,null,{callback:Le,body:We,contentType:K,statusCode:w,statusMessage:ye,headers:qe})}else{if(Be===null){return}We=this.runInAsyncScope(Be,null,{statusCode:w,headers:qe,opaque:Fe,context:Me});if(!We||typeof We.write!=="function"||typeof We.end!=="function"||typeof We.on!=="function"){throw new Se("expected Writable")}K(We,{readable:false},(w=>{const{callback:B,res:G,opaque:K,trailers:pe,abort:ye}=this;this.res=null;if(w||!G.readable){Qe.destroy(G,w)}this.callback=null;this.runInAsyncScope(B,null,w||null,{opaque:K,trailers:pe});if(w){ye()}}))}We.on("drain",G);this.res=We;const Ge=We.writableNeedDrain!==undefined?We.writableNeedDrain:We._writableState&&We._writableState.needDrain;return Ge!==true}onData(w){const{res:B}=this;return B?B.write(w):true}onComplete(w){const{res:B}=this;Le(this);if(!B){return}this.trailers=Qe.parseHeaders(w);B.end()}onError(w){const{res:B,callback:G,opaque:K,body:pe}=this;Le(this);this.factory=null;if(B){this.res=null;Qe.destroy(B,w)}else if(G){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(G,null,w,{opaque:K})}))}if(pe){this.body=null;Qe.destroy(pe,w)}}}function stream(w,B,G){if(G===undefined){return new Promise(((G,K)=>{stream.call(this,w,B,((w,B)=>w?K(w):G(B)))}))}try{this.dispatch(w,new StreamHandler(w,B,G))}catch(B){if(typeof G!=="function"){throw B}const K=w&&w.opaque;queueMicrotask((()=>G(B,{opaque:K})))}}w.exports=stream},8063:(w,B,G)=>{"use strict";const{InvalidArgumentError:K,RequestAbortedError:pe,SocketError:ye}=G(1970);const{AsyncResource:Se}=G(290);const Be=G(701);const{addSignal:Qe,removeSignal:Pe}=G(6497);const Fe=G(2613);class UpgradeHandler extends Se{constructor(w,B){if(!w||typeof w!=="object"){throw new K("invalid opts")}if(typeof B!=="function"){throw new K("invalid callback")}const{signal:G,opaque:pe,responseHeaders:ye}=w;if(G&&typeof G.on!=="function"&&typeof G.addEventListener!=="function"){throw new K("signal must be an EventEmitter or EventTarget")}super("UNDICI_UPGRADE");this.responseHeaders=ye||null;this.opaque=pe||null;this.callback=B;this.abort=null;this.context=null;Qe(this,G)}onConnect(w,B){if(!this.callback){throw new pe}this.abort=w;this.context=null}onHeaders(){throw new ye("bad upgrade",null)}onUpgrade(w,B,G){const{callback:K,opaque:pe,context:ye}=this;Fe.strictEqual(w,101);Pe(this);this.callback=null;const Se=this.responseHeaders==="raw"?Be.parseRawHeaders(B):Be.parseHeaders(B);this.runInAsyncScope(K,null,null,{headers:Se,socket:G,opaque:pe,context:ye})}onError(w){const{callback:B,opaque:G}=this;Pe(this);if(B){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(B,null,w,{opaque:G})}))}}}function upgrade(w,B){if(B===undefined){return new Promise(((B,G)=>{upgrade.call(this,w,((w,K)=>w?G(w):B(K)))}))}try{const G=new UpgradeHandler(w,B);this.dispatch({...w,method:w.method||"GET",upgrade:w.protocol||"Websocket"},G)}catch(G){if(typeof B!=="function"){throw G}const K=w&&w.opaque;queueMicrotask((()=>B(G,{opaque:K})))}}w.exports=upgrade},6234:(w,B,G)=>{"use strict";w.exports.request=G(5670);w.exports.stream=G(3019);w.exports.pipeline=G(8229);w.exports.upgrade=G(8063);w.exports.connect=G(2621)},2224:(w,B,G)=>{"use strict";const K=G(2613);const{Readable:pe}=G(2203);const{RequestAbortedError:ye,NotSupportedError:Se,InvalidArgumentError:Be}=G(1970);const Qe=G(701);const{ReadableStreamFrom:Pe,toUSVString:Fe}=G(701);let Me;const Le=Symbol("kConsume");const je=Symbol("kReading");const qe=Symbol("kBody");const We=Symbol("abort");const Ge=Symbol("kContentType");const noop=()=>{};w.exports=class BodyReadable extends pe{constructor({resume:w,abort:B,contentType:G="",highWaterMark:K=64*1024}){super({autoDestroy:true,read:w,highWaterMark:K});this._readableState.dataEmitted=false;this[We]=B;this[Le]=null;this[qe]=null;this[Ge]=G;this[je]=false}destroy(w){if(this.destroyed){return this}if(!w&&!this._readableState.endEmitted){w=new ye}if(w){this[We]()}return super.destroy(w)}emit(w,...B){if(w==="data"){this._readableState.dataEmitted=true}else if(w==="error"){this._readableState.errorEmitted=true}return super.emit(w,...B)}on(w,...B){if(w==="data"||w==="readable"){this[je]=true}return super.on(w,...B)}addListener(w,...B){return this.on(w,...B)}off(w,...B){const G=super.off(w,...B);if(w==="data"||w==="readable"){this[je]=this.listenerCount("data")>0||this.listenerCount("readable")>0}return G}removeListener(w,...B){return this.off(w,...B)}push(w){if(this[Le]&&w!==null&&this.readableLength===0){consumePush(this[Le],w);return this[je]?super.push(w):true}return super.push(w)}async text(){return consume(this,"text")}async json(){return consume(this,"json")}async blob(){return consume(this,"blob")}async arrayBuffer(){return consume(this,"arrayBuffer")}async formData(){throw new Se}get bodyUsed(){return Qe.isDisturbed(this)}get body(){if(!this[qe]){this[qe]=Pe(this);if(this[Le]){this[qe].getReader();K(this[qe].locked)}}return this[qe]}dump(w){let B=w&&Number.isFinite(w.limit)?w.limit:262144;const G=w&&w.signal;if(G){try{if(typeof G!=="object"||!("aborted"in G)){throw new Be("signal must be an AbortSignal")}Qe.throwIfAborted(G)}catch(w){return Promise.reject(w)}}if(this.closed){return Promise.resolve(null)}return new Promise(((w,K)=>{const pe=G?Qe.addAbortListener(G,(()=>{this.destroy()})):noop;this.on("close",(function(){pe();if(G&&G.aborted){K(G.reason||Object.assign(new Error("The operation was aborted"),{name:"AbortError"}))}else{w(null)}})).on("error",noop).on("data",(function(w){B-=w.length;if(B<=0){this.destroy()}})).resume()}))}};function isLocked(w){return w[qe]&&w[qe].locked===true||w[Le]}function isUnusable(w){return Qe.isDisturbed(w)||isLocked(w)}async function consume(w,B){if(isUnusable(w)){throw new TypeError("unusable")}K(!w[Le]);return new Promise(((G,K)=>{w[Le]={type:B,stream:w,resolve:G,reject:K,length:0,body:[]};w.on("error",(function(w){consumeFinish(this[Le],w)})).on("close",(function(){if(this[Le].body!==null){consumeFinish(this[Le],new ye)}}));process.nextTick(consumeStart,w[Le])}))}function consumeStart(w){if(w.body===null){return}const{_readableState:B}=w.stream;for(const G of B.buffer){consumePush(w,G)}if(B.endEmitted){consumeEnd(this[Le])}else{w.stream.on("end",(function(){consumeEnd(this[Le])}))}w.stream.resume();while(w.stream.read()!=null){}}function consumeEnd(w){const{type:B,body:K,resolve:pe,stream:ye,length:Se}=w;try{if(B==="text"){pe(Fe(Buffer.concat(K)))}else if(B==="json"){pe(JSON.parse(Buffer.concat(K)))}else if(B==="arrayBuffer"){const w=new Uint8Array(Se);let B=0;for(const G of K){w.set(G,B);B+=G.byteLength}pe(w.buffer)}else if(B==="blob"){if(!Me){Me=G(181).Blob}pe(new Me(K,{type:ye[Ge]}))}consumeFinish(w)}catch(w){ye.destroy(w)}}function consumePush(w,B){w.length+=B.length;w.body.push(B)}function consumeFinish(w,B){if(w.body===null){return}if(B){w.reject(B)}else{w.resolve()}w.type=null;w.stream=null;w.resolve=null;w.reject=null;w.length=0;w.body=null}},3924:(w,B,G)=>{const K=G(2613);const{ResponseStatusCodeError:pe}=G(1970);const{toUSVString:ye}=G(701);async function getResolveErrorBodyCallback({callback:w,body:B,contentType:G,statusCode:Se,statusMessage:Be,headers:Qe}){K(B);let Pe=[];let Fe=0;for await(const w of B){Pe.push(w);Fe+=w.length;if(Fe>128*1024){Pe=null;break}}if(Se===204||!G||!Pe){process.nextTick(w,new pe(`Response status code ${Se}${Be?`: ${Be}`:""}`,Se,Qe));return}try{if(G.startsWith("application/json")){const B=JSON.parse(ye(Buffer.concat(Pe)));process.nextTick(w,new pe(`Response status code ${Se}${Be?`: ${Be}`:""}`,Se,Qe,B));return}if(G.startsWith("text/")){const B=ye(Buffer.concat(Pe));process.nextTick(w,new pe(`Response status code ${Se}${Be?`: ${Be}`:""}`,Se,Qe,B));return}}catch(w){}process.nextTick(w,new pe(`Response status code ${Se}${Be?`: ${Be}`:""}`,Se,Qe))}w.exports={getResolveErrorBodyCallback:getResolveErrorBodyCallback}},180:(w,B,G)=>{"use strict";const{BalancedPoolMissingUpstreamError:K,InvalidArgumentError:pe}=G(1970);const{PoolBase:ye,kClients:Se,kNeedDrain:Be,kAddClient:Qe,kRemoveClient:Pe,kGetDispatcher:Fe}=G(4005);const Me=G(6607);const{kUrl:Le,kInterceptors:je}=G(4980);const{parseOrigin:qe}=G(701);const We=Symbol("factory");const Ge=Symbol("options");const ze=Symbol("kGreatestCommonDivisor");const Ye=Symbol("kCurrentWeight");const Ke=Symbol("kIndex");const Xe=Symbol("kWeight");const rt=Symbol("kMaxWeightPerServer");const it=Symbol("kErrorPenalty");function getGreatestCommonDivisor(w,B){if(B===0)return w;return getGreatestCommonDivisor(B,w%B)}function defaultFactory(w,B){return new Me(w,B)}class BalancedPool extends ye{constructor(w=[],{factory:B=defaultFactory,...G}={}){super();this[Ge]=G;this[Ke]=-1;this[Ye]=0;this[rt]=this[Ge].maxWeightPerServer||100;this[it]=this[Ge].errorPenalty||15;if(!Array.isArray(w)){w=[w]}if(typeof B!=="function"){throw new pe("factory must be a function.")}this[je]=G.interceptors&&G.interceptors.BalancedPool&&Array.isArray(G.interceptors.BalancedPool)?G.interceptors.BalancedPool:[];this[We]=B;for(const B of w){this.addUpstream(B)}this._updateBalancedPoolStats()}addUpstream(w){const B=qe(w).origin;if(this[Se].find((w=>w[Le].origin===B&&w.closed!==true&&w.destroyed!==true))){return this}const G=this[We](B,Object.assign({},this[Ge]));this[Qe](G);G.on("connect",(()=>{G[Xe]=Math.min(this[rt],G[Xe]+this[it])}));G.on("connectionError",(()=>{G[Xe]=Math.max(1,G[Xe]-this[it]);this._updateBalancedPoolStats()}));G.on("disconnect",((...w)=>{const B=w[2];if(B&&B.code==="UND_ERR_SOCKET"){G[Xe]=Math.max(1,G[Xe]-this[it]);this._updateBalancedPoolStats()}}));for(const w of this[Se]){w[Xe]=this[rt]}this._updateBalancedPoolStats();return this}_updateBalancedPoolStats(){this[ze]=this[Se].map((w=>w[Xe])).reduce(getGreatestCommonDivisor,0)}removeUpstream(w){const B=qe(w).origin;const G=this[Se].find((w=>w[Le].origin===B&&w.closed!==true&&w.destroyed!==true));if(G){this[Pe](G)}return this}get upstreams(){return this[Se].filter((w=>w.closed!==true&&w.destroyed!==true)).map((w=>w[Le].origin))}[Fe](){if(this[Se].length===0){throw new K}const w=this[Se].find((w=>!w[Be]&&w.closed!==true&&w.destroyed!==true));if(!w){return}const B=this[Se].map((w=>w[Be])).reduce(((w,B)=>w&&B),true);if(B){return}let G=0;let pe=this[Se].findIndex((w=>!w[Be]));while(G++<this[Se].length){this[Ke]=(this[Ke]+1)%this[Se].length;const w=this[Se][this[Ke]];if(w[Xe]>this[Se][pe][Xe]&&!w[Be]){pe=this[Ke]}if(this[Ke]===0){this[Ye]=this[Ye]-this[ze];if(this[Ye]<=0){this[Ye]=this[rt]}}if(w[Xe]>=this[Ye]&&!w[Be]){return w}}this[Ye]=this[Se][pe][Xe];this[Ke]=pe;return this[Se][pe]}}w.exports=BalancedPool},5974:(w,B,G)=>{"use strict";const{kConstruct:K}=G(8081);const{urlEquals:pe,fieldValues:ye}=G(6922);const{kEnumerableProperty:Se,isDisturbed:Be}=G(701);const{kHeadersList:Qe}=G(4980);const{webidl:Pe}=G(185);const{Response:Fe,cloneResponse:Me}=G(2111);const{Request:Le}=G(8939);const{kState:je,kHeaders:qe,kGuard:We,kRealm:Ge}=G(639);const{fetching:ze}=G(4546);const{urlIsHttpHttpsScheme:Ye,createDeferredPromise:Ke,readAllBytes:Xe}=G(8524);const rt=G(2613);const{getGlobalDispatcher:it}=G(4662);class Cache{#e;constructor(){if(arguments[0]!==K){Pe.illegalConstructor()}this.#e=arguments[1]}async match(w,B={}){Pe.brandCheck(this,Cache);Pe.argumentLengthCheck(arguments,1,{header:"Cache.match"});w=Pe.converters.RequestInfo(w);B=Pe.converters.CacheQueryOptions(B);const G=await this.matchAll(w,B);if(G.length===0){return}return G[0]}async matchAll(w=undefined,B={}){Pe.brandCheck(this,Cache);if(w!==undefined)w=Pe.converters.RequestInfo(w);B=Pe.converters.CacheQueryOptions(B);let G=null;if(w!==undefined){if(w instanceof Le){G=w[je];if(G.method!=="GET"&&!B.ignoreMethod){return[]}}else if(typeof w==="string"){G=new Le(w)[je]}}const K=[];if(w===undefined){for(const w of this.#e){K.push(w[1])}}else{const w=this.#t(G,B);for(const B of w){K.push(B[1])}}const pe=[];for(const w of K){const B=new Fe(w.body?.source??null);const G=B[je].body;B[je]=w;B[je].body=G;B[qe][Qe]=w.headersList;B[qe][We]="immutable";pe.push(B)}return Object.freeze(pe)}async add(w){Pe.brandCheck(this,Cache);Pe.argumentLengthCheck(arguments,1,{header:"Cache.add"});w=Pe.converters.RequestInfo(w);const B=[w];const G=this.addAll(B);return await G}async addAll(w){Pe.brandCheck(this,Cache);Pe.argumentLengthCheck(arguments,1,{header:"Cache.addAll"});w=Pe.converters["sequence<RequestInfo>"](w);const B=[];const G=[];for(const B of w){if(typeof B==="string"){continue}const w=B[je];if(!Ye(w.url)||w.method!=="GET"){throw Pe.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme when method is not GET."})}}const K=[];for(const pe of w){const w=new Le(pe)[je];if(!Ye(w.url)){throw Pe.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme."})}w.initiator="fetch";w.destination="subresource";G.push(w);const Se=Ke();K.push(ze({request:w,dispatcher:it(),processResponse(w){if(w.type==="error"||w.status===206||w.status<200||w.status>299){Se.reject(Pe.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}))}else if(w.headersList.contains("vary")){const B=ye(w.headersList.get("vary"));for(const w of B){if(w==="*"){Se.reject(Pe.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(const w of K){w.abort()}return}}}},processResponseEndOfBody(w){if(w.aborted){Se.reject(new DOMException("aborted","AbortError"));return}Se.resolve(w)}}));B.push(Se.promise)}const pe=Promise.all(B);const Se=await pe;const Be=[];let Qe=0;for(const w of Se){const B={type:"put",request:G[Qe],response:w};Be.push(B);Qe++}const Fe=Ke();let Me=null;try{this.#r(Be)}catch(w){Me=w}queueMicrotask((()=>{if(Me===null){Fe.resolve(undefined)}else{Fe.reject(Me)}}));return Fe.promise}async put(w,B){Pe.brandCheck(this,Cache);Pe.argumentLengthCheck(arguments,2,{header:"Cache.put"});w=Pe.converters.RequestInfo(w);B=Pe.converters.Response(B);let G=null;if(w instanceof Le){G=w[je]}else{G=new Le(w)[je]}if(!Ye(G.url)||G.method!=="GET"){throw Pe.errors.exception({header:"Cache.put",message:"Expected an http/s scheme when method is not GET"})}const K=B[je];if(K.status===206){throw Pe.errors.exception({header:"Cache.put",message:"Got 206 status"})}if(K.headersList.contains("vary")){const w=ye(K.headersList.get("vary"));for(const B of w){if(B==="*"){throw Pe.errors.exception({header:"Cache.put",message:"Got * vary field value"})}}}if(K.body&&(Be(K.body.stream)||K.body.stream.locked)){throw Pe.errors.exception({header:"Cache.put",message:"Response body is locked or disturbed"})}const pe=Me(K);const Se=Ke();if(K.body!=null){const w=K.body.stream;const B=w.getReader();Xe(B).then(Se.resolve,Se.reject)}else{Se.resolve(undefined)}const Qe=[];const Fe={type:"put",request:G,response:pe};Qe.push(Fe);const qe=await Se.promise;if(pe.body!=null){pe.body.source=qe}const We=Ke();let Ge=null;try{this.#r(Qe)}catch(w){Ge=w}queueMicrotask((()=>{if(Ge===null){We.resolve()}else{We.reject(Ge)}}));return We.promise}async delete(w,B={}){Pe.brandCheck(this,Cache);Pe.argumentLengthCheck(arguments,1,{header:"Cache.delete"});w=Pe.converters.RequestInfo(w);B=Pe.converters.CacheQueryOptions(B);let G=null;if(w instanceof Le){G=w[je];if(G.method!=="GET"&&!B.ignoreMethod){return false}}else{rt(typeof w==="string");G=new Le(w)[je]}const K=[];const pe={type:"delete",request:G,options:B};K.push(pe);const ye=Ke();let Se=null;let Be;try{Be=this.#r(K)}catch(w){Se=w}queueMicrotask((()=>{if(Se===null){ye.resolve(!!Be?.length)}else{ye.reject(Se)}}));return ye.promise}async keys(w=undefined,B={}){Pe.brandCheck(this,Cache);if(w!==undefined)w=Pe.converters.RequestInfo(w);B=Pe.converters.CacheQueryOptions(B);let G=null;if(w!==undefined){if(w instanceof Le){G=w[je];if(G.method!=="GET"&&!B.ignoreMethod){return[]}}else if(typeof w==="string"){G=new Le(w)[je]}}const K=Ke();const pe=[];if(w===undefined){for(const w of this.#e){pe.push(w[0])}}else{const w=this.#t(G,B);for(const B of w){pe.push(B[0])}}queueMicrotask((()=>{const w=[];for(const B of pe){const G=new Le("https://a");G[je]=B;G[qe][Qe]=B.headersList;G[qe][We]="immutable";G[Ge]=B.client;w.push(G)}K.resolve(Object.freeze(w))}));return K.promise}#r(w){const B=this.#e;const G=[...B];const K=[];const pe=[];try{for(const G of w){if(G.type!=="delete"&&G.type!=="put"){throw Pe.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'})}if(G.type==="delete"&&G.response!=null){throw Pe.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"})}if(this.#t(G.request,G.options,K).length){throw new DOMException("???","InvalidStateError")}let w;if(G.type==="delete"){w=this.#t(G.request,G.options);if(w.length===0){return[]}for(const G of w){const w=B.indexOf(G);rt(w!==-1);B.splice(w,1)}}else if(G.type==="put"){if(G.response==null){throw Pe.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"})}const pe=G.request;if(!Ye(pe.url)){throw Pe.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"})}if(pe.method!=="GET"){throw Pe.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"})}if(G.options!=null){throw Pe.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"})}w=this.#t(G.request);for(const G of w){const w=B.indexOf(G);rt(w!==-1);B.splice(w,1)}B.push([G.request,G.response]);K.push([G.request,G.response])}pe.push([G.request,G.response])}return pe}catch(w){this.#e.length=0;this.#e=G;throw w}}#t(w,B,G){const K=[];const pe=G??this.#e;for(const G of pe){const[pe,ye]=G;if(this.#n(w,pe,ye,B)){K.push(G)}}return K}#n(w,B,G=null,K){const Se=new URL(w.url);const Be=new URL(B.url);if(K?.ignoreSearch){Be.search="";Se.search=""}if(!pe(Se,Be,true)){return false}if(G==null||K?.ignoreVary||!G.headersList.contains("vary")){return true}const Qe=ye(G.headersList.get("vary"));for(const G of Qe){if(G==="*"){return false}const K=B.headersList.get(G);const pe=w.headersList.get(G);if(K!==pe){return false}}return true}}Object.defineProperties(Cache.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:true},match:Se,matchAll:Se,add:Se,addAll:Se,put:Se,delete:Se,keys:Se});const ot=[{key:"ignoreSearch",converter:Pe.converters.boolean,defaultValue:false},{key:"ignoreMethod",converter:Pe.converters.boolean,defaultValue:false},{key:"ignoreVary",converter:Pe.converters.boolean,defaultValue:false}];Pe.converters.CacheQueryOptions=Pe.dictionaryConverter(ot);Pe.converters.MultiCacheQueryOptions=Pe.dictionaryConverter([...ot,{key:"cacheName",converter:Pe.converters.DOMString}]);Pe.converters.Response=Pe.interfaceConverter(Fe);Pe.converters["sequence<RequestInfo>"]=Pe.sequenceConverter(Pe.converters.RequestInfo);w.exports={Cache:Cache}},4393:(w,B,G)=>{"use strict";const{kConstruct:K}=G(8081);const{Cache:pe}=G(5974);const{webidl:ye}=G(185);const{kEnumerableProperty:Se}=G(701);class CacheStorage{#i=new Map;constructor(){if(arguments[0]!==K){ye.illegalConstructor()}}async match(w,B={}){ye.brandCheck(this,CacheStorage);ye.argumentLengthCheck(arguments,1,{header:"CacheStorage.match"});w=ye.converters.RequestInfo(w);B=ye.converters.MultiCacheQueryOptions(B);if(B.cacheName!=null){if(this.#i.has(B.cacheName)){const G=this.#i.get(B.cacheName);const ye=new pe(K,G);return await ye.match(w,B)}}else{for(const G of this.#i.values()){const ye=new pe(K,G);const Se=await ye.match(w,B);if(Se!==undefined){return Se}}}}async has(w){ye.brandCheck(this,CacheStorage);ye.argumentLengthCheck(arguments,1,{header:"CacheStorage.has"});w=ye.converters.DOMString(w);return this.#i.has(w)}async open(w){ye.brandCheck(this,CacheStorage);ye.argumentLengthCheck(arguments,1,{header:"CacheStorage.open"});w=ye.converters.DOMString(w);if(this.#i.has(w)){const B=this.#i.get(w);return new pe(K,B)}const B=[];this.#i.set(w,B);return new pe(K,B)}async delete(w){ye.brandCheck(this,CacheStorage);ye.argumentLengthCheck(arguments,1,{header:"CacheStorage.delete"});w=ye.converters.DOMString(w);return this.#i.delete(w)}async keys(){ye.brandCheck(this,CacheStorage);const w=this.#i.keys();return[...w]}}Object.defineProperties(CacheStorage.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:true},match:Se,has:Se,open:Se,delete:Se,keys:Se});w.exports={CacheStorage:CacheStorage}},8081:(w,B,G)=>{"use strict";w.exports={kConstruct:G(4980).kConstruct}},6922:(w,B,G)=>{"use strict";const K=G(2613);const{URLSerializer:pe}=G(2059);const{isValidHeaderName:ye}=G(8524);function urlEquals(w,B,G=false){const K=pe(w,G);const ye=pe(B,G);return K===ye}function fieldValues(w){K(w!==null);const B=[];for(let G of w.split(",")){G=G.trim();if(!G.length){continue}else if(!ye(G)){continue}B.push(G)}return B}w.exports={urlEquals:urlEquals,fieldValues:fieldValues}},6530:(w,B,G)=>{"use strict";const K=G(2613);const pe=G(9278);const ye=G(8611);const{pipeline:Se}=G(2203);const Be=G(701);const Qe=G(7167);const Pe=G(6840);const Fe=G(4660);const{RequestContentLengthMismatchError:Me,ResponseContentLengthMismatchError:Le,InvalidArgumentError:je,RequestAbortedError:qe,HeadersTimeoutError:We,HeadersOverflowError:Ge,SocketError:ze,InformationalError:Ye,BodyTimeoutError:Ke,HTTPParserError:Xe,ResponseExceededMaxSizeError:rt,ClientDestroyedError:it}=G(1970);const ot=G(2667);const{kUrl:at,kReset:lt,kServerName:ct,kClient:ut,kBusy:ft,kParser:gt,kConnect:mt,kBlocking:wt,kResuming:vt,kRunning:_t,kPending:It,kSize:St,kWriting:Pt,kQueue:Nt,kConnected:qt,kConnecting:Jt,kNeedDrain:Zt,kNoRef:er,kKeepAliveDefaultTimeout:tr,kHostHeader:nr,kPendingIdx:lr,kRunningIdx:cr,kError:gr,kPipelining:mr,kSocket:yr,kKeepAliveTimeoutValue:vr,kMaxHeadersSize:Er,kKeepAliveMaxTimeout:_r,kKeepAliveTimeoutThreshold:Cr,kHeadersTimeout:xr,kBodyTimeout:kr,kStrictContentLength:Or,kConnector:Rr,kMaxRedirections:Fr,kMaxRequests:Lr,kCounter:jr,kClose:Wr,kDestroy:Vr,kDispatch:Gr,kInterceptors:Jr,kLocalAddress:Yr,kMaxResponseSize:Kr,kHTTPConnVersion:Zr,kHost:tn,kHTTP2Session:dn,kHTTP2SessionState:pn,kHTTP2BuildRequest:bn,kHTTP2CopyHeaders:En,kHTTP1BuildRequest:_n}=G(4980);let In;try{In=G(5675)}catch{In={constants:{}}}const{constants:{HTTP2_HEADER_AUTHORITY:Sn,HTTP2_HEADER_METHOD:Bn,HTTP2_HEADER_PATH:xn,HTTP2_HEADER_SCHEME:On,HTTP2_HEADER_CONTENT_LENGTH:Tn,HTTP2_HEADER_EXPECT:Rn,HTTP2_HEADER_STATUS:Pn}}=In;let Dn=false;const Fn=Buffer[Symbol.species];const Nn=Symbol("kClosedResolve");const Mn={};try{const w=G(1637);Mn.sendHeaders=w.channel("undici:client:sendHeaders");Mn.beforeConnect=w.channel("undici:client:beforeConnect");Mn.connectError=w.channel("undici:client:connectError");Mn.connected=w.channel("undici:client:connected")}catch{Mn.sendHeaders={hasSubscribers:false};Mn.beforeConnect={hasSubscribers:false};Mn.connectError={hasSubscribers:false};Mn.connected={hasSubscribers:false}}class Client extends Fe{constructor(w,{interceptors:B,maxHeaderSize:G,headersTimeout:K,socketTimeout:Se,requestTimeout:Qe,connectTimeout:Pe,bodyTimeout:Fe,idleTimeout:Me,keepAlive:Le,keepAliveTimeout:qe,maxKeepAliveTimeout:We,keepAliveMaxTimeout:Ge,keepAliveTimeoutThreshold:ze,socketPath:Ye,pipelining:Ke,tls:Xe,strictContentLength:rt,maxCachedSessions:it,maxRedirections:lt,connect:ut,maxRequestsPerClient:ft,localAddress:gt,maxResponseSize:mt,autoSelectFamily:wt,autoSelectFamilyAttemptTimeout:_t,allowH2:It,maxConcurrentStreams:St}={}){super();if(Le!==undefined){throw new je("unsupported keepAlive, use pipelining=0 instead")}if(Se!==undefined){throw new je("unsupported socketTimeout, use headersTimeout & bodyTimeout instead")}if(Qe!==undefined){throw new je("unsupported requestTimeout, use headersTimeout & bodyTimeout instead")}if(Me!==undefined){throw new je("unsupported idleTimeout, use keepAliveTimeout instead")}if(We!==undefined){throw new je("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead")}if(G!=null&&!Number.isFinite(G)){throw new je("invalid maxHeaderSize")}if(Ye!=null&&typeof Ye!=="string"){throw new je("invalid socketPath")}if(Pe!=null&&(!Number.isFinite(Pe)||Pe<0)){throw new je("invalid connectTimeout")}if(qe!=null&&(!Number.isFinite(qe)||qe<=0)){throw new je("invalid keepAliveTimeout")}if(Ge!=null&&(!Number.isFinite(Ge)||Ge<=0)){throw new je("invalid keepAliveMaxTimeout")}if(ze!=null&&!Number.isFinite(ze)){throw new je("invalid keepAliveTimeoutThreshold")}if(K!=null&&(!Number.isInteger(K)||K<0)){throw new je("headersTimeout must be a positive integer or zero")}if(Fe!=null&&(!Number.isInteger(Fe)||Fe<0)){throw new je("bodyTimeout must be a positive integer or zero")}if(ut!=null&&typeof ut!=="function"&&typeof ut!=="object"){throw new je("connect must be a function or an object")}if(lt!=null&&(!Number.isInteger(lt)||lt<0)){throw new je("maxRedirections must be a positive number")}if(ft!=null&&(!Number.isInteger(ft)||ft<0)){throw new je("maxRequestsPerClient must be a positive number")}if(gt!=null&&(typeof gt!=="string"||pe.isIP(gt)===0)){throw new je("localAddress must be valid string IP address")}if(mt!=null&&(!Number.isInteger(mt)||mt<-1)){throw new je("maxResponseSize must be a positive number")}if(_t!=null&&(!Number.isInteger(_t)||_t<-1)){throw new je("autoSelectFamilyAttemptTimeout must be a positive number")}if(It!=null&&typeof It!=="boolean"){throw new je("allowH2 must be a valid boolean value")}if(St!=null&&(typeof St!=="number"||St<1)){throw new je("maxConcurrentStreams must be a possitive integer, greater than 0")}if(typeof ut!=="function"){ut=ot({...Xe,maxCachedSessions:it,allowH2:It,socketPath:Ye,timeout:Pe,...Be.nodeHasAutoSelectFamily&&wt?{autoSelectFamily:wt,autoSelectFamilyAttemptTimeout:_t}:undefined,...ut})}this[Jr]=B&&B.Client&&Array.isArray(B.Client)?B.Client:[jn({maxRedirections:lt})];this[at]=Be.parseOrigin(w);this[Rr]=ut;this[yr]=null;this[mr]=Ke!=null?Ke:1;this[Er]=G||ye.maxHeaderSize;this[tr]=qe==null?4e3:qe;this[_r]=Ge==null?6e5:Ge;this[Cr]=ze==null?1e3:ze;this[vr]=this[tr];this[ct]=null;this[Yr]=gt!=null?gt:null;this[vt]=0;this[Zt]=0;this[nr]=`host: ${this[at].hostname}${this[at].port?`:${this[at].port}`:""}\r\n`;this[kr]=Fe!=null?Fe:3e5;this[xr]=K!=null?K:3e5;this[Or]=rt==null?true:rt;this[Fr]=lt;this[Lr]=ft;this[Nn]=null;this[Kr]=mt>-1?mt:-1;this[Zr]="h1";this[dn]=null;this[pn]=!It?null:{openStreams:0,maxConcurrentStreams:St!=null?St:100};this[tn]=`${this[at].hostname}${this[at].port?`:${this[at].port}`:""}`;this[Nt]=[];this[cr]=0;this[lr]=0}get pipelining(){return this[mr]}set pipelining(w){this[mr]=w;resume(this,true)}get[It](){return this[Nt].length-this[lr]}get[_t](){return this[lr]-this[cr]}get[St](){return this[Nt].length-this[cr]}get[qt](){return!!this[yr]&&!this[Jt]&&!this[yr].destroyed}get[ft](){const w=this[yr];return w&&(w[lt]||w[Pt]||w[wt])||this[St]>=(this[mr]||1)||this[It]>0}[mt](w){connect(this);this.once("connect",w)}[Gr](w,B){const G=w.origin||this[at].origin;const K=this[Zr]==="h2"?Pe[bn](G,w,B):Pe[_n](G,w,B);this[Nt].push(K);if(this[vt]){}else if(Be.bodyLength(K.body)==null&&Be.isIterable(K.body)){this[vt]=1;process.nextTick(resume,this)}else{resume(this,true)}if(this[vt]&&this[Zt]!==2&&this[ft]){this[Zt]=2}return this[Zt]<2}async[Wr](){return new Promise((w=>{if(!this[St]){w(null)}else{this[Nn]=w}}))}async[Vr](w){return new Promise((B=>{const G=this[Nt].splice(this[lr]);for(let B=0;B<G.length;B++){const K=G[B];errorRequest(this,K,w)}const callback=()=>{if(this[Nn]){this[Nn]();this[Nn]=null}B()};if(this[dn]!=null){Be.destroy(this[dn],w);this[dn]=null;this[pn]=null}if(!this[yr]){queueMicrotask(callback)}else{Be.destroy(this[yr].on("close",callback),w)}resume(this)}))}}function onHttp2SessionError(w){K(w.code!=="ERR_TLS_CERT_ALTNAME_INVALID");this[yr][gr]=w;onError(this[ut],w)}function onHttp2FrameError(w,B,G){const K=new Ye(`HTTP/2: "frameError" received - type ${w}, code ${B}`);if(G===0){this[yr][gr]=K;onError(this[ut],K)}}function onHttp2SessionEnd(){Be.destroy(this,new ze("other side closed"));Be.destroy(this[yr],new ze("other side closed"))}function onHTTP2GoAway(w){const B=this[ut];const G=new Ye(`HTTP/2: "GOAWAY" frame received with code ${w}`);B[yr]=null;B[dn]=null;if(B.destroyed){K(this[It]===0);const w=B[Nt].splice(B[cr]);for(let B=0;B<w.length;B++){const K=w[B];errorRequest(this,K,G)}}else if(B[_t]>0){const w=B[Nt][B[cr]];B[Nt][B[cr]++]=null;errorRequest(B,w,G)}B[lr]=B[cr];K(B[_t]===0);B.emit("disconnect",B[at],[B],G);resume(B)}const Ln=G(9791);const jn=G(2750);const Hn=Buffer.alloc(0);async function lazyllhttp(){const w=process.env.JEST_WORKER_ID?G(4729):undefined;let B;try{B=await WebAssembly.compile(Buffer.from(G(2603),"base64"))}catch(K){B=await WebAssembly.compile(Buffer.from(w||G(4729),"base64"))}return await WebAssembly.instantiate(B,{env:{wasm_on_url:(w,B,G)=>0,wasm_on_status:(w,B,G)=>{K.strictEqual(Vn.ptr,w);const pe=B-$n+Gn.byteOffset;return Vn.onStatus(new Fn(Gn.buffer,pe,G))||0},wasm_on_message_begin:w=>{K.strictEqual(Vn.ptr,w);return Vn.onMessageBegin()||0},wasm_on_header_field:(w,B,G)=>{K.strictEqual(Vn.ptr,w);const pe=B-$n+Gn.byteOffset;return Vn.onHeaderField(new Fn(Gn.buffer,pe,G))||0},wasm_on_header_value:(w,B,G)=>{K.strictEqual(Vn.ptr,w);const pe=B-$n+Gn.byteOffset;return Vn.onHeaderValue(new Fn(Gn.buffer,pe,G))||0},wasm_on_headers_complete:(w,B,G,pe)=>{K.strictEqual(Vn.ptr,w);return Vn.onHeadersComplete(B,Boolean(G),Boolean(pe))||0},wasm_on_body:(w,B,G)=>{K.strictEqual(Vn.ptr,w);const pe=B-$n+Gn.byteOffset;return Vn.onBody(new Fn(Gn.buffer,pe,G))||0},wasm_on_message_complete:w=>{K.strictEqual(Vn.ptr,w);return Vn.onMessageComplete()||0}}})}let Un=null;let Wn=lazyllhttp();Wn.catch();let Vn=null;let Gn=null;let zn=0;let $n=null;const Jn=1;const Yn=2;const Kn=3;class Parser{constructor(w,B,{exports:G}){K(Number.isFinite(w[Er])&&w[Er]>0);this.llhttp=G;this.ptr=this.llhttp.llhttp_alloc(Ln.TYPE.RESPONSE);this.client=w;this.socket=B;this.timeout=null;this.timeoutValue=null;this.timeoutType=null;this.statusCode=null;this.statusText="";this.upgrade=false;this.headers=[];this.headersSize=0;this.headersMaxSize=w[Er];this.shouldKeepAlive=false;this.paused=false;this.resume=this.resume.bind(this);this.bytesRead=0;this.keepAlive="";this.contentLength="";this.connection="";this.maxResponseSize=w[Kr]}setTimeout(w,B){this.timeoutType=B;if(w!==this.timeoutValue){Qe.clearTimeout(this.timeout);if(w){this.timeout=Qe.setTimeout(onParserTimeout,w,this);if(this.timeout.unref){this.timeout.unref()}}else{this.timeout=null}this.timeoutValue=w}else if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}}resume(){if(this.socket.destroyed||!this.paused){return}K(this.ptr!=null);K(Vn==null);this.llhttp.llhttp_resume(this.ptr);K(this.timeoutType===Yn);if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}this.paused=false;this.execute(this.socket.read()||Hn);this.readMore()}readMore(){while(!this.paused&&this.ptr){const w=this.socket.read();if(w===null){break}this.execute(w)}}execute(w){K(this.ptr!=null);K(Vn==null);K(!this.paused);const{socket:B,llhttp:G}=this;if(w.length>zn){if($n){G.free($n)}zn=Math.ceil(w.length/4096)*4096;$n=G.malloc(zn)}new Uint8Array(G.memory.buffer,$n,zn).set(w);try{let K;try{Gn=w;Vn=this;K=G.llhttp_execute(this.ptr,$n,w.length)}catch(w){throw w}finally{Vn=null;Gn=null}const pe=G.llhttp_get_error_pos(this.ptr)-$n;if(K===Ln.ERROR.PAUSED_UPGRADE){this.onUpgrade(w.slice(pe))}else if(K===Ln.ERROR.PAUSED){this.paused=true;B.unshift(w.slice(pe))}else if(K!==Ln.ERROR.OK){const B=G.llhttp_get_error_reason(this.ptr);let ye="";if(B){const w=new Uint8Array(G.memory.buffer,B).indexOf(0);ye="Response does not match the HTTP/1.1 protocol ("+Buffer.from(G.memory.buffer,B,w).toString()+")"}throw new Xe(ye,Ln.ERROR[K],w.slice(pe))}}catch(w){Be.destroy(B,w)}}destroy(){K(this.ptr!=null);K(Vn==null);this.llhttp.llhttp_free(this.ptr);this.ptr=null;Qe.clearTimeout(this.timeout);this.timeout=null;this.timeoutValue=null;this.timeoutType=null;this.paused=false}onStatus(w){this.statusText=w.toString()}onMessageBegin(){const{socket:w,client:B}=this;if(w.destroyed){return-1}const G=B[Nt][B[cr]];if(!G){return-1}}onHeaderField(w){const B=this.headers.length;if((B&1)===0){this.headers.push(w)}else{this.headers[B-1]=Buffer.concat([this.headers[B-1],w])}this.trackHeader(w.length)}onHeaderValue(w){let B=this.headers.length;if((B&1)===1){this.headers.push(w);B+=1}else{this.headers[B-1]=Buffer.concat([this.headers[B-1],w])}const G=this.headers[B-2];if(G.length===10&&G.toString().toLowerCase()==="keep-alive"){this.keepAlive+=w.toString()}else if(G.length===10&&G.toString().toLowerCase()==="connection"){this.connection+=w.toString()}else if(G.length===14&&G.toString().toLowerCase()==="content-length"){this.contentLength+=w.toString()}this.trackHeader(w.length)}trackHeader(w){this.headersSize+=w;if(this.headersSize>=this.headersMaxSize){Be.destroy(this.socket,new Ge)}}onUpgrade(w){const{upgrade:B,client:G,socket:pe,headers:ye,statusCode:Se}=this;K(B);const Qe=G[Nt][G[cr]];K(Qe);K(!pe.destroyed);K(pe===G[yr]);K(!this.paused);K(Qe.upgrade||Qe.method==="CONNECT");this.statusCode=null;this.statusText="";this.shouldKeepAlive=null;K(this.headers.length%2===0);this.headers=[];this.headersSize=0;pe.unshift(w);pe[gt].destroy();pe[gt]=null;pe[ut]=null;pe[gr]=null;pe.removeListener("error",onSocketError).removeListener("readable",onSocketReadable).removeListener("end",onSocketEnd).removeListener("close",onSocketClose);G[yr]=null;G[Nt][G[cr]++]=null;G.emit("disconnect",G[at],[G],new Ye("upgrade"));try{Qe.onUpgrade(Se,ye,pe)}catch(w){Be.destroy(pe,w)}resume(G)}onHeadersComplete(w,B,G){const{client:pe,socket:ye,headers:Se,statusText:Qe}=this;if(ye.destroyed){return-1}const Pe=pe[Nt][pe[cr]];if(!Pe){return-1}K(!this.upgrade);K(this.statusCode<200);if(w===100){Be.destroy(ye,new ze("bad response",Be.getSocketInfo(ye)));return-1}if(B&&!Pe.upgrade){Be.destroy(ye,new ze("bad upgrade",Be.getSocketInfo(ye)));return-1}K.strictEqual(this.timeoutType,Jn);this.statusCode=w;this.shouldKeepAlive=G||Pe.method==="HEAD"&&!ye[lt]&&this.connection.toLowerCase()==="keep-alive";if(this.statusCode>=200){const w=Pe.bodyTimeout!=null?Pe.bodyTimeout:pe[kr];this.setTimeout(w,Yn)}else if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}if(Pe.method==="CONNECT"){K(pe[_t]===1);this.upgrade=true;return 2}if(B){K(pe[_t]===1);this.upgrade=true;return 2}K(this.headers.length%2===0);this.headers=[];this.headersSize=0;if(this.shouldKeepAlive&&pe[mr]){const w=this.keepAlive?Be.parseKeepAliveTimeout(this.keepAlive):null;if(w!=null){const B=Math.min(w-pe[Cr],pe[_r]);if(B<=0){ye[lt]=true}else{pe[vr]=B}}else{pe[vr]=pe[tr]}}else{ye[lt]=true}const Fe=Pe.onHeaders(w,Se,this.resume,Qe)===false;if(Pe.aborted){return-1}if(Pe.method==="HEAD"){return 1}if(w<200){return 1}if(ye[wt]){ye[wt]=false;resume(pe)}return Fe?Ln.ERROR.PAUSED:0}onBody(w){const{client:B,socket:G,statusCode:pe,maxResponseSize:ye}=this;if(G.destroyed){return-1}const Se=B[Nt][B[cr]];K(Se);K.strictEqual(this.timeoutType,Yn);if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}K(pe>=200);if(ye>-1&&this.bytesRead+w.length>ye){Be.destroy(G,new rt);return-1}this.bytesRead+=w.length;if(Se.onData(w)===false){return Ln.ERROR.PAUSED}}onMessageComplete(){const{client:w,socket:B,statusCode:G,upgrade:pe,headers:ye,contentLength:Se,bytesRead:Qe,shouldKeepAlive:Pe}=this;if(B.destroyed&&(!G||Pe)){return-1}if(pe){return}const Fe=w[Nt][w[cr]];K(Fe);K(G>=100);this.statusCode=null;this.statusText="";this.bytesRead=0;this.contentLength="";this.keepAlive="";this.connection="";K(this.headers.length%2===0);this.headers=[];this.headersSize=0;if(G<200){return}if(Fe.method!=="HEAD"&&Se&&Qe!==parseInt(Se,10)){Be.destroy(B,new Le);return-1}Fe.onComplete(ye);w[Nt][w[cr]++]=null;if(B[Pt]){K.strictEqual(w[_t],0);Be.destroy(B,new Ye("reset"));return Ln.ERROR.PAUSED}else if(!Pe){Be.destroy(B,new Ye("reset"));return Ln.ERROR.PAUSED}else if(B[lt]&&w[_t]===0){Be.destroy(B,new Ye("reset"));return Ln.ERROR.PAUSED}else if(w[mr]===1){setImmediate(resume,w)}else{resume(w)}}}function onParserTimeout(w){const{socket:B,timeoutType:G,client:pe}=w;if(G===Jn){if(!B[Pt]||B.writableNeedDrain||pe[_t]>1){K(!w.paused,"cannot be paused while waiting for headers");Be.destroy(B,new We)}}else if(G===Yn){if(!w.paused){Be.destroy(B,new Ke)}}else if(G===Kn){K(pe[_t]===0&&pe[vr]);Be.destroy(B,new Ye("socket idle timeout"))}}function onSocketReadable(){const{[gt]:w}=this;if(w){w.readMore()}}function onSocketError(w){const{[ut]:B,[gt]:G}=this;K(w.code!=="ERR_TLS_CERT_ALTNAME_INVALID");if(B[Zr]!=="h2"){if(w.code==="ECONNRESET"&&G.statusCode&&!G.shouldKeepAlive){G.onMessageComplete();return}}this[gr]=w;onError(this[ut],w)}function onError(w,B){if(w[_t]===0&&B.code!=="UND_ERR_INFO"&&B.code!=="UND_ERR_SOCKET"){K(w[lr]===w[cr]);const G=w[Nt].splice(w[cr]);for(let K=0;K<G.length;K++){const pe=G[K];errorRequest(w,pe,B)}K(w[St]===0)}}function onSocketEnd(){const{[gt]:w,[ut]:B}=this;if(B[Zr]!=="h2"){if(w.statusCode&&!w.shouldKeepAlive){w.onMessageComplete();return}}Be.destroy(this,new ze("other side closed",Be.getSocketInfo(this)))}function onSocketClose(){const{[ut]:w,[gt]:B}=this;if(w[Zr]==="h1"&&B){if(!this[gr]&&B.statusCode&&!B.shouldKeepAlive){B.onMessageComplete()}this[gt].destroy();this[gt]=null}const G=this[gr]||new ze("closed",Be.getSocketInfo(this));w[yr]=null;if(w.destroyed){K(w[It]===0);const B=w[Nt].splice(w[cr]);for(let K=0;K<B.length;K++){const pe=B[K];errorRequest(w,pe,G)}}else if(w[_t]>0&&G.code!=="UND_ERR_INFO"){const B=w[Nt][w[cr]];w[Nt][w[cr]++]=null;errorRequest(w,B,G)}w[lr]=w[cr];K(w[_t]===0);w.emit("disconnect",w[at],[w],G);resume(w)}async function connect(w){K(!w[Jt]);K(!w[yr]);let{host:B,hostname:G,protocol:ye,port:Se}=w[at];if(G[0]==="["){const w=G.indexOf("]");K(w!==-1);const B=G.substring(1,w);K(pe.isIP(B));G=B}w[Jt]=true;if(Mn.beforeConnect.hasSubscribers){Mn.beforeConnect.publish({connectParams:{host:B,hostname:G,protocol:ye,port:Se,servername:w[ct],localAddress:w[Yr]},connector:w[Rr]})}try{const pe=await new Promise(((K,pe)=>{w[Rr]({host:B,hostname:G,protocol:ye,port:Se,servername:w[ct],localAddress:w[Yr]},((w,B)=>{if(w){pe(w)}else{K(B)}}))}));if(w.destroyed){Be.destroy(pe.on("error",(()=>{})),new it);return}w[Jt]=false;K(pe);const Qe=pe.alpnProtocol==="h2";if(Qe){if(!Dn){Dn=true;process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"})}const B=In.connect(w[at],{createConnection:()=>pe,peerMaxConcurrentStreams:w[pn].maxConcurrentStreams});w[Zr]="h2";B[ut]=w;B[yr]=pe;B.on("error",onHttp2SessionError);B.on("frameError",onHttp2FrameError);B.on("end",onHttp2SessionEnd);B.on("goaway",onHTTP2GoAway);B.on("close",onSocketClose);B.unref();w[dn]=B;pe[dn]=B}else{if(!Un){Un=await Wn;Wn=null}pe[er]=false;pe[Pt]=false;pe[lt]=false;pe[wt]=false;pe[gt]=new Parser(w,pe,Un)}pe[jr]=0;pe[Lr]=w[Lr];pe[ut]=w;pe[gr]=null;pe.on("error",onSocketError).on("readable",onSocketReadable).on("end",onSocketEnd).on("close",onSocketClose);w[yr]=pe;if(Mn.connected.hasSubscribers){Mn.connected.publish({connectParams:{host:B,hostname:G,protocol:ye,port:Se,servername:w[ct],localAddress:w[Yr]},connector:w[Rr],socket:pe})}w.emit("connect",w[at],[w])}catch(pe){if(w.destroyed){return}w[Jt]=false;if(Mn.connectError.hasSubscribers){Mn.connectError.publish({connectParams:{host:B,hostname:G,protocol:ye,port:Se,servername:w[ct],localAddress:w[Yr]},connector:w[Rr],error:pe})}if(pe.code==="ERR_TLS_CERT_ALTNAME_INVALID"){K(w[_t]===0);while(w[It]>0&&w[Nt][w[lr]].servername===w[ct]){const B=w[Nt][w[lr]++];errorRequest(w,B,pe)}}else{onError(w,pe)}w.emit("connectionError",w[at],[w],pe)}resume(w)}function emitDrain(w){w[Zt]=0;w.emit("drain",w[at],[w])}function resume(w,B){if(w[vt]===2){return}w[vt]=2;_resume(w,B);w[vt]=0;if(w[cr]>256){w[Nt].splice(0,w[cr]);w[lr]-=w[cr];w[cr]=0}}function _resume(w,B){while(true){if(w.destroyed){K(w[It]===0);return}if(w[Nn]&&!w[St]){w[Nn]();w[Nn]=null;return}const G=w[yr];if(G&&!G.destroyed&&G.alpnProtocol!=="h2"){if(w[St]===0){if(!G[er]&&G.unref){G.unref();G[er]=true}}else if(G[er]&&G.ref){G.ref();G[er]=false}if(w[St]===0){if(G[gt].timeoutType!==Kn){G[gt].setTimeout(w[vr],Kn)}}else if(w[_t]>0&&G[gt].statusCode<200){if(G[gt].timeoutType!==Jn){const B=w[Nt][w[cr]];const K=B.headersTimeout!=null?B.headersTimeout:w[xr];G[gt].setTimeout(K,Jn)}}}if(w[ft]){w[Zt]=2}else if(w[Zt]===2){if(B){w[Zt]=1;process.nextTick(emitDrain,w)}else{emitDrain(w)}continue}if(w[It]===0){return}if(w[_t]>=(w[mr]||1)){return}const pe=w[Nt][w[lr]];if(w[at].protocol==="https:"&&w[ct]!==pe.servername){if(w[_t]>0){return}w[ct]=pe.servername;if(G&&G.servername!==pe.servername){Be.destroy(G,new Ye("servername changed"));return}}if(w[Jt]){return}if(!G&&!w[dn]){connect(w);return}if(G.destroyed||G[Pt]||G[lt]||G[wt]){return}if(w[_t]>0&&!pe.idempotent){return}if(w[_t]>0&&(pe.upgrade||pe.method==="CONNECT")){return}if(w[_t]>0&&Be.bodyLength(pe.body)!==0&&(Be.isStream(pe.body)||Be.isAsyncIterable(pe.body))){return}if(!pe.aborted&&write(w,pe)){w[lr]++}else{w[Nt].splice(w[lr],1)}}}function shouldSendContentLength(w){return w!=="GET"&&w!=="HEAD"&&w!=="OPTIONS"&&w!=="TRACE"&&w!=="CONNECT"}function write(w,B){if(w[Zr]==="h2"){writeH2(w,w[dn],B);return}const{body:G,method:pe,path:ye,host:Se,upgrade:Qe,headers:Pe,blocking:Fe,reset:Le}=B;const je=pe==="PUT"||pe==="POST"||pe==="PATCH";if(G&&typeof G.read==="function"){G.read(0)}const We=Be.bodyLength(G);let Ge=We;if(Ge===null){Ge=B.contentLength}if(Ge===0&&!je){Ge=null}if(shouldSendContentLength(pe)&&Ge>0&&B.contentLength!==null&&B.contentLength!==Ge){if(w[Or]){errorRequest(w,B,new Me);return false}process.emitWarning(new Me)}const ze=w[yr];try{B.onConnect((G=>{if(B.aborted||B.completed){return}errorRequest(w,B,G||new qe);Be.destroy(ze,new Ye("aborted"))}))}catch(G){errorRequest(w,B,G)}if(B.aborted){return false}if(pe==="HEAD"){ze[lt]=true}if(Qe||pe==="CONNECT"){ze[lt]=true}if(Le!=null){ze[lt]=Le}if(w[Lr]&&ze[jr]++>=w[Lr]){ze[lt]=true}if(Fe){ze[wt]=true}let Ke=`${pe} ${ye} HTTP/1.1\r\n`;if(typeof Se==="string"){Ke+=`host: ${Se}\r\n`}else{Ke+=w[nr]}if(Qe){Ke+=`connection: upgrade\r\nupgrade: ${Qe}\r\n`}else if(w[mr]&&!ze[lt]){Ke+="connection: keep-alive\r\n"}else{Ke+="connection: close\r\n"}if(Pe){Ke+=Pe}if(Mn.sendHeaders.hasSubscribers){Mn.sendHeaders.publish({request:B,headers:Ke,socket:ze})}if(!G||We===0){if(Ge===0){ze.write(`${Ke}content-length: 0\r\n\r\n`,"latin1")}else{K(Ge===null,"no body must not have content length");ze.write(`${Ke}\r\n`,"latin1")}B.onRequestSent()}else if(Be.isBuffer(G)){K(Ge===G.byteLength,"buffer body must have content length");ze.cork();ze.write(`${Ke}content-length: ${Ge}\r\n\r\n`,"latin1");ze.write(G);ze.uncork();B.onBodySent(G);B.onRequestSent();if(!je){ze[lt]=true}}else if(Be.isBlobLike(G)){if(typeof G.stream==="function"){writeIterable({body:G.stream(),client:w,request:B,socket:ze,contentLength:Ge,header:Ke,expectsPayload:je})}else{writeBlob({body:G,client:w,request:B,socket:ze,contentLength:Ge,header:Ke,expectsPayload:je})}}else if(Be.isStream(G)){writeStream({body:G,client:w,request:B,socket:ze,contentLength:Ge,header:Ke,expectsPayload:je})}else if(Be.isIterable(G)){writeIterable({body:G,client:w,request:B,socket:ze,contentLength:Ge,header:Ke,expectsPayload:je})}else{K(false)}return true}function writeH2(w,B,G){const{body:pe,method:ye,path:Se,host:Qe,upgrade:Fe,expectContinue:Le,signal:je,headers:We}=G;let Ge;if(typeof We==="string")Ge=Pe[En](We.trim());else Ge=We;if(Fe){errorRequest(w,G,new Error("Upgrade not supported for H2"));return false}try{G.onConnect((B=>{if(G.aborted||G.completed){return}errorRequest(w,G,B||new qe)}))}catch(B){errorRequest(w,G,B)}if(G.aborted){return false}let ze;const Ke=w[pn];Ge[Sn]=Qe||w[tn];Ge[Bn]=ye;if(ye==="CONNECT"){B.ref();ze=B.request(Ge,{endStream:false,signal:je});if(ze.id&&!ze.pending){G.onUpgrade(null,null,ze);++Ke.openStreams}else{ze.once("ready",(()=>{G.onUpgrade(null,null,ze);++Ke.openStreams}))}ze.once("close",(()=>{Ke.openStreams-=1;if(Ke.openStreams===0)B.unref()}));return true}Ge[xn]=Se;Ge[On]="https";const Xe=ye==="PUT"||ye==="POST"||ye==="PATCH";if(pe&&typeof pe.read==="function"){pe.read(0)}let rt=Be.bodyLength(pe);if(rt==null){rt=G.contentLength}if(rt===0||!Xe){rt=null}if(shouldSendContentLength(ye)&&rt>0&&G.contentLength!=null&&G.contentLength!==rt){if(w[Or]){errorRequest(w,G,new Me);return false}process.emitWarning(new Me)}if(rt!=null){K(pe,"no body must not have content length");Ge[Tn]=`${rt}`}B.ref();const it=ye==="GET"||ye==="HEAD";if(Le){Ge[Rn]="100-continue";ze=B.request(Ge,{endStream:it,signal:je});ze.once("continue",writeBodyH2)}else{ze=B.request(Ge,{endStream:it,signal:je});writeBodyH2()}++Ke.openStreams;ze.once("response",(w=>{const{[Pn]:B,...K}=w;if(G.onHeaders(Number(B),K,ze.resume.bind(ze),"")===false){ze.pause()}}));ze.once("end",(()=>{G.onComplete([])}));ze.on("data",(w=>{if(G.onData(w)===false){ze.pause()}}));ze.once("close",(()=>{Ke.openStreams-=1;if(Ke.openStreams===0){B.unref()}}));ze.once("error",(function(B){if(w[dn]&&!w[dn].destroyed&&!this.closed&&!this.destroyed){Ke.streams-=1;Be.destroy(ze,B)}}));ze.once("frameError",((B,K)=>{const pe=new Ye(`HTTP/2: "frameError" received - type ${B}, code ${K}`);errorRequest(w,G,pe);if(w[dn]&&!w[dn].destroyed&&!this.closed&&!this.destroyed){Ke.streams-=1;Be.destroy(ze,pe)}}));return true;function writeBodyH2(){if(!pe){G.onRequestSent()}else if(Be.isBuffer(pe)){K(rt===pe.byteLength,"buffer body must have content length");ze.cork();ze.write(pe);ze.uncork();ze.end();G.onBodySent(pe);G.onRequestSent()}else if(Be.isBlobLike(pe)){if(typeof pe.stream==="function"){writeIterable({client:w,request:G,contentLength:rt,h2stream:ze,expectsPayload:Xe,body:pe.stream(),socket:w[yr],header:""})}else{writeBlob({body:pe,client:w,request:G,contentLength:rt,expectsPayload:Xe,h2stream:ze,header:"",socket:w[yr]})}}else if(Be.isStream(pe)){writeStream({body:pe,client:w,request:G,contentLength:rt,expectsPayload:Xe,socket:w[yr],h2stream:ze,header:""})}else if(Be.isIterable(pe)){writeIterable({body:pe,client:w,request:G,contentLength:rt,expectsPayload:Xe,header:"",h2stream:ze,socket:w[yr]})}else{K(false)}}}function writeStream({h2stream:w,body:B,client:G,request:pe,socket:ye,contentLength:Qe,header:Pe,expectsPayload:Fe}){K(Qe!==0||G[_t]===0,"stream body cannot be pipelined");if(G[Zr]==="h2"){const je=Se(B,w,(G=>{if(G){Be.destroy(B,G);Be.destroy(w,G)}else{pe.onRequestSent()}}));je.on("data",onPipeData);je.once("end",(()=>{je.removeListener("data",onPipeData);Be.destroy(je)}));function onPipeData(w){pe.onBodySent(w)}return}let Me=false;const Le=new AsyncWriter({socket:ye,request:pe,contentLength:Qe,client:G,expectsPayload:Fe,header:Pe});const onData=function(w){if(Me){return}try{if(!Le.write(w)&&this.pause){this.pause()}}catch(w){Be.destroy(this,w)}};const onDrain=function(){if(Me){return}if(B.resume){B.resume()}};const onAbort=function(){if(Me){return}const w=new qe;queueMicrotask((()=>onFinished(w)))};const onFinished=function(w){if(Me){return}Me=true;K(ye.destroyed||ye[Pt]&&G[_t]<=1);ye.off("drain",onDrain).off("error",onFinished);B.removeListener("data",onData).removeListener("end",onFinished).removeListener("error",onFinished).removeListener("close",onAbort);if(!w){try{Le.end()}catch(B){w=B}}Le.destroy(w);if(w&&(w.code!=="UND_ERR_INFO"||w.message!=="reset")){Be.destroy(B,w)}else{Be.destroy(B)}};B.on("data",onData).on("end",onFinished).on("error",onFinished).on("close",onAbort);if(B.resume){B.resume()}ye.on("drain",onDrain).on("error",onFinished)}async function writeBlob({h2stream:w,body:B,client:G,request:pe,socket:ye,contentLength:Se,header:Qe,expectsPayload:Pe}){K(Se===B.size,"blob body must have content length");const Fe=G[Zr]==="h2";try{if(Se!=null&&Se!==B.size){throw new Me}const K=Buffer.from(await B.arrayBuffer());if(Fe){w.cork();w.write(K);w.uncork()}else{ye.cork();ye.write(`${Qe}content-length: ${Se}\r\n\r\n`,"latin1");ye.write(K);ye.uncork()}pe.onBodySent(K);pe.onRequestSent();if(!Pe){ye[lt]=true}resume(G)}catch(B){Be.destroy(Fe?w:ye,B)}}async function writeIterable({h2stream:w,body:B,client:G,request:pe,socket:ye,contentLength:Se,header:Be,expectsPayload:Qe}){K(Se!==0||G[_t]===0,"iterator body cannot be pipelined");let Pe=null;function onDrain(){if(Pe){const w=Pe;Pe=null;w()}}const waitForDrain=()=>new Promise(((w,B)=>{K(Pe===null);if(ye[gr]){B(ye[gr])}else{Pe=w}}));if(G[Zr]==="h2"){w.on("close",onDrain).on("drain",onDrain);try{for await(const G of B){if(ye[gr]){throw ye[gr]}const B=w.write(G);pe.onBodySent(G);if(!B){await waitForDrain()}}}catch(B){w.destroy(B)}finally{pe.onRequestSent();w.end();w.off("close",onDrain).off("drain",onDrain)}return}ye.on("close",onDrain).on("drain",onDrain);const Fe=new AsyncWriter({socket:ye,request:pe,contentLength:Se,client:G,expectsPayload:Qe,header:Be});try{for await(const w of B){if(ye[gr]){throw ye[gr]}if(!Fe.write(w)){await waitForDrain()}}Fe.end()}catch(w){Fe.destroy(w)}finally{ye.off("close",onDrain).off("drain",onDrain)}}class AsyncWriter{constructor({socket:w,request:B,contentLength:G,client:K,expectsPayload:pe,header:ye}){this.socket=w;this.request=B;this.contentLength=G;this.client=K;this.bytesWritten=0;this.expectsPayload=pe;this.header=ye;w[Pt]=true}write(w){const{socket:B,request:G,contentLength:K,client:pe,bytesWritten:ye,expectsPayload:Se,header:Be}=this;if(B[gr]){throw B[gr]}if(B.destroyed){return false}const Qe=Buffer.byteLength(w);if(!Qe){return true}if(K!==null&&ye+Qe>K){if(pe[Or]){throw new Me}process.emitWarning(new Me)}B.cork();if(ye===0){if(!Se){B[lt]=true}if(K===null){B.write(`${Be}transfer-encoding: chunked\r\n`,"latin1")}else{B.write(`${Be}content-length: ${K}\r\n\r\n`,"latin1")}}if(K===null){B.write(`\r\n${Qe.toString(16)}\r\n`,"latin1")}this.bytesWritten+=Qe;const Pe=B.write(w);B.uncork();G.onBodySent(w);if(!Pe){if(B[gt].timeout&&B[gt].timeoutType===Jn){if(B[gt].timeout.refresh){B[gt].timeout.refresh()}}}return Pe}end(){const{socket:w,contentLength:B,client:G,bytesWritten:K,expectsPayload:pe,header:ye,request:Se}=this;Se.onRequestSent();w[Pt]=false;if(w[gr]){throw w[gr]}if(w.destroyed){return}if(K===0){if(pe){w.write(`${ye}content-length: 0\r\n\r\n`,"latin1")}else{w.write(`${ye}\r\n`,"latin1")}}else if(B===null){w.write("\r\n0\r\n\r\n","latin1")}if(B!==null&&K!==B){if(G[Or]){throw new Me}else{process.emitWarning(new Me)}}if(w[gt].timeout&&w[gt].timeoutType===Jn){if(w[gt].timeout.refresh){w[gt].timeout.refresh()}}resume(G)}destroy(w){const{socket:B,client:G}=this;B[Pt]=false;if(w){K(G[_t]<=1,"pipeline should only contain this request");Be.destroy(B,w)}}}function errorRequest(w,B,G){try{B.onError(G);K(B.aborted)}catch(G){w.emit("error",G)}}w.exports=Client},4375:(w,B,G)=>{"use strict";const{kConnected:K,kSize:pe}=G(4980);class CompatWeakRef{constructor(w){this.value=w}deref(){return this.value[K]===0&&this.value[pe]===0?undefined:this.value}}class CompatFinalizer{constructor(w){this.finalizer=w}register(w,B){if(w.on){w.on("disconnect",(()=>{if(w[K]===0&&w[pe]===0){this.finalizer(B)}}))}}}w.exports=function(){if(process.env.NODE_V8_COVERAGE){return{WeakRef:CompatWeakRef,FinalizationRegistry:CompatFinalizer}}return{WeakRef:global.WeakRef||CompatWeakRef,FinalizationRegistry:global.FinalizationRegistry||CompatFinalizer}}},976:w=>{"use strict";const B=1024;const G=4096;w.exports={maxAttributeValueSize:B,maxNameValuePairSize:G}},3001:(w,B,G)=>{"use strict";const{parseSetCookie:K}=G(510);const{stringify:pe}=G(8609);const{webidl:ye}=G(185);const{Headers:Se}=G(824);function getCookies(w){ye.argumentLengthCheck(arguments,1,{header:"getCookies"});ye.brandCheck(w,Se,{strict:false});const B=w.get("cookie");const G={};if(!B){return G}for(const w of B.split(";")){const[B,...K]=w.split("=");G[B.trim()]=K.join("=")}return G}function deleteCookie(w,B,G){ye.argumentLengthCheck(arguments,2,{header:"deleteCookie"});ye.brandCheck(w,Se,{strict:false});B=ye.converters.DOMString(B);G=ye.converters.DeleteCookieAttributes(G);setCookie(w,{name:B,value:"",expires:new Date(0),...G})}function getSetCookies(w){ye.argumentLengthCheck(arguments,1,{header:"getSetCookies"});ye.brandCheck(w,Se,{strict:false});const B=w.getSetCookie();if(!B){return[]}return B.map((w=>K(w)))}function setCookie(w,B){ye.argumentLengthCheck(arguments,2,{header:"setCookie"});ye.brandCheck(w,Se,{strict:false});B=ye.converters.Cookie(B);const G=pe(B);if(G){w.append("Set-Cookie",pe(B))}}ye.converters.DeleteCookieAttributes=ye.dictionaryConverter([{converter:ye.nullableConverter(ye.converters.DOMString),key:"path",defaultValue:null},{converter:ye.nullableConverter(ye.converters.DOMString),key:"domain",defaultValue:null}]);ye.converters.Cookie=ye.dictionaryConverter([{converter:ye.converters.DOMString,key:"name"},{converter:ye.converters.DOMString,key:"value"},{converter:ye.nullableConverter((w=>{if(typeof w==="number"){return ye.converters["unsigned long long"](w)}return new Date(w)})),key:"expires",defaultValue:null},{converter:ye.nullableConverter(ye.converters["long long"]),key:"maxAge",defaultValue:null},{converter:ye.nullableConverter(ye.converters.DOMString),key:"domain",defaultValue:null},{converter:ye.nullableConverter(ye.converters.DOMString),key:"path",defaultValue:null},{converter:ye.nullableConverter(ye.converters.boolean),key:"secure",defaultValue:null},{converter:ye.nullableConverter(ye.converters.boolean),key:"httpOnly",defaultValue:null},{converter:ye.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:ye.sequenceConverter(ye.converters.DOMString),key:"unparsed",defaultValue:[]}]);w.exports={getCookies:getCookies,deleteCookie:deleteCookie,getSetCookies:getSetCookies,setCookie:setCookie}},510:(w,B,G)=>{"use strict";const{maxNameValuePairSize:K,maxAttributeValueSize:pe}=G(976);const{isCTLExcludingHtab:ye}=G(8609);const{collectASequenceOfCodePointsFast:Se}=G(2059);const Be=G(2613);function parseSetCookie(w){if(ye(w)){return null}let B="";let G="";let pe="";let Be="";if(w.includes(";")){const K={position:0};B=Se(";",w,K);G=w.slice(K.position)}else{B=w}if(!B.includes("=")){Be=B}else{const w={position:0};pe=Se("=",B,w);Be=B.slice(w.position+1)}pe=pe.trim();Be=Be.trim();if(pe.length+Be.length>K){return null}return{name:pe,value:Be,...parseUnparsedAttributes(G)}}function parseUnparsedAttributes(w,B={}){if(w.length===0){return B}Be(w[0]===";");w=w.slice(1);let G="";if(w.includes(";")){G=Se(";",w,{position:0});w=w.slice(G.length)}else{G=w;w=""}let K="";let ye="";if(G.includes("=")){const w={position:0};K=Se("=",G,w);ye=G.slice(w.position+1)}else{K=G}K=K.trim();ye=ye.trim();if(ye.length>pe){return parseUnparsedAttributes(w,B)}const Qe=K.toLowerCase();if(Qe==="expires"){const w=new Date(ye);B.expires=w}else if(Qe==="max-age"){const G=ye.charCodeAt(0);if((G<48||G>57)&&ye[0]!=="-"){return parseUnparsedAttributes(w,B)}if(!/^\d+$/.test(ye)){return parseUnparsedAttributes(w,B)}const K=Number(ye);B.maxAge=K}else if(Qe==="domain"){let w=ye;if(w[0]==="."){w=w.slice(1)}w=w.toLowerCase();B.domain=w}else if(Qe==="path"){let w="";if(ye.length===0||ye[0]!=="/"){w="/"}else{w=ye}B.path=w}else if(Qe==="secure"){B.secure=true}else if(Qe==="httponly"){B.httpOnly=true}else if(Qe==="samesite"){let w="Default";const G=ye.toLowerCase();if(G.includes("none")){w="None"}if(G.includes("strict")){w="Strict"}if(G.includes("lax")){w="Lax"}B.sameSite=w}else{B.unparsed??=[];B.unparsed.push(`${K}=${ye}`)}return parseUnparsedAttributes(w,B)}w.exports={parseSetCookie:parseSetCookie,parseUnparsedAttributes:parseUnparsedAttributes}},8609:w=>{"use strict";function isCTLExcludingHtab(w){if(w.length===0){return false}for(const B of w){const w=B.charCodeAt(0);if(w>=0||w<=8||(w>=10||w<=31)||w===127){return false}}}function validateCookieName(w){for(const B of w){const w=B.charCodeAt(0);if(w<=32||w>127||B==="("||B===")"||B===">"||B==="<"||B==="@"||B===","||B===";"||B===":"||B==="\\"||B==='"'||B==="/"||B==="["||B==="]"||B==="?"||B==="="||B==="{"||B==="}"){throw new Error("Invalid cookie name")}}}function validateCookieValue(w){for(const B of w){const w=B.charCodeAt(0);if(w<33||w===34||w===44||w===59||w===92||w>126){throw new Error("Invalid header value")}}}function validateCookiePath(w){for(const B of w){const w=B.charCodeAt(0);if(w<33||B===";"){throw new Error("Invalid cookie path")}}}function validateCookieDomain(w){if(w.startsWith("-")||w.endsWith(".")||w.endsWith("-")){throw new Error("Invalid cookie domain")}}function toIMFDate(w){if(typeof w==="number"){w=new Date(w)}const B=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];const G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const K=B[w.getUTCDay()];const pe=w.getUTCDate().toString().padStart(2,"0");const ye=G[w.getUTCMonth()];const Se=w.getUTCFullYear();const Be=w.getUTCHours().toString().padStart(2,"0");const Qe=w.getUTCMinutes().toString().padStart(2,"0");const Pe=w.getUTCSeconds().toString().padStart(2,"0");return`${K}, ${pe} ${ye} ${Se} ${Be}:${Qe}:${Pe} GMT`}function validateCookieMaxAge(w){if(w<0){throw new Error("Invalid cookie max-age")}}function stringify(w){if(w.name.length===0){return null}validateCookieName(w.name);validateCookieValue(w.value);const B=[`${w.name}=${w.value}`];if(w.name.startsWith("__Secure-")){w.secure=true}if(w.name.startsWith("__Host-")){w.secure=true;w.domain=null;w.path="/"}if(w.secure){B.push("Secure")}if(w.httpOnly){B.push("HttpOnly")}if(typeof w.maxAge==="number"){validateCookieMaxAge(w.maxAge);B.push(`Max-Age=${w.maxAge}`)}if(w.domain){validateCookieDomain(w.domain);B.push(`Domain=${w.domain}`)}if(w.path){validateCookiePath(w.path);B.push(`Path=${w.path}`)}if(w.expires&&w.expires.toString()!=="Invalid Date"){B.push(`Expires=${toIMFDate(w.expires)}`)}if(w.sameSite){B.push(`SameSite=${w.sameSite}`)}for(const G of w.unparsed){if(!G.includes("=")){throw new Error("Invalid unparsed")}const[w,...K]=G.split("=");B.push(`${w.trim()}=${K.join("=")}`)}return B.join("; ")}w.exports={isCTLExcludingHtab:isCTLExcludingHtab,validateCookieName:validateCookieName,validateCookiePath:validateCookiePath,validateCookieValue:validateCookieValue,toIMFDate:toIMFDate,stringify:stringify}},2667:(w,B,G)=>{"use strict";const K=G(9278);const pe=G(2613);const ye=G(701);const{InvalidArgumentError:Se,ConnectTimeoutError:Be}=G(1970);let Qe;let Pe;if(global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE){Pe=class WeakSessionCache{constructor(w){this._maxCachedSessions=w;this._sessionCache=new Map;this._sessionRegistry=new global.FinalizationRegistry((w=>{if(this._sessionCache.size<this._maxCachedSessions){return}const B=this._sessionCache.get(w);if(B!==undefined&&B.deref()===undefined){this._sessionCache.delete(w)}}))}get(w){const B=this._sessionCache.get(w);return B?B.deref():null}set(w,B){if(this._maxCachedSessions===0){return}this._sessionCache.set(w,new WeakRef(B));this._sessionRegistry.register(B,w)}}}else{Pe=class SimpleSessionCache{constructor(w){this._maxCachedSessions=w;this._sessionCache=new Map}get(w){return this._sessionCache.get(w)}set(w,B){if(this._maxCachedSessions===0){return}if(this._sessionCache.size>=this._maxCachedSessions){const{value:w}=this._sessionCache.keys().next();this._sessionCache.delete(w)}this._sessionCache.set(w,B)}}}function buildConnector({allowH2:w,maxCachedSessions:B,socketPath:Be,timeout:Fe,...Me}){if(B!=null&&(!Number.isInteger(B)||B<0)){throw new Se("maxCachedSessions must be a positive integer or zero")}const Le={path:Be,...Me};const je=new Pe(B==null?100:B);Fe=Fe==null?1e4:Fe;w=w!=null?w:false;return function connect({hostname:B,host:Se,protocol:Be,port:Pe,servername:Me,localAddress:qe,httpSocket:We},Ge){let ze;if(Be==="https:"){if(!Qe){Qe=G(4756)}Me=Me||Le.servername||ye.getServerName(Se)||null;const K=Me||B;const Be=je.get(K)||null;pe(K);ze=Qe.connect({highWaterMark:16384,...Le,servername:Me,session:Be,localAddress:qe,ALPNProtocols:w?["http/1.1","h2"]:["http/1.1"],socket:We,port:Pe||443,host:B});ze.on("session",(function(w){je.set(K,w)}))}else{pe(!We,"httpSocket can only be sent on TLS update");ze=K.connect({highWaterMark:64*1024,...Le,localAddress:qe,port:Pe||80,host:B})}if(Le.keepAlive==null||Le.keepAlive){const w=Le.keepAliveInitialDelay===undefined?6e4:Le.keepAliveInitialDelay;ze.setKeepAlive(true,w)}const Ye=setupTimeout((()=>onConnectTimeout(ze)),Fe);ze.setNoDelay(true).once(Be==="https:"?"secureConnect":"connect",(function(){Ye();if(Ge){const w=Ge;Ge=null;w(null,this)}})).on("error",(function(w){Ye();if(Ge){const B=Ge;Ge=null;B(w)}}));return ze}}function setupTimeout(w,B){if(!B){return()=>{}}let G=null;let K=null;const pe=setTimeout((()=>{G=setImmediate((()=>{if(process.platform==="win32"){K=setImmediate((()=>w()))}else{w()}}))}),B);return()=>{clearTimeout(pe);clearImmediate(G);clearImmediate(K)}}function onConnectTimeout(w){ye.destroy(w,new Be)}w.exports=buildConnector},5076:w=>{"use strict";const B={};const G=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let w=0;w<G.length;++w){const K=G[w];const pe=K.toLowerCase();B[K]=B[pe]=pe}Object.setPrototypeOf(B,null);w.exports={wellknownHeaderNames:G,headerNameLowerCasedRecord:B}},1970:w=>{"use strict";class UndiciError extends Error{constructor(w){super(w);this.name="UndiciError";this.code="UND_ERR"}}class ConnectTimeoutError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,ConnectTimeoutError);this.name="ConnectTimeoutError";this.message=w||"Connect Timeout Error";this.code="UND_ERR_CONNECT_TIMEOUT"}}class HeadersTimeoutError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,HeadersTimeoutError);this.name="HeadersTimeoutError";this.message=w||"Headers Timeout Error";this.code="UND_ERR_HEADERS_TIMEOUT"}}class HeadersOverflowError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,HeadersOverflowError);this.name="HeadersOverflowError";this.message=w||"Headers Overflow Error";this.code="UND_ERR_HEADERS_OVERFLOW"}}class BodyTimeoutError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,BodyTimeoutError);this.name="BodyTimeoutError";this.message=w||"Body Timeout Error";this.code="UND_ERR_BODY_TIMEOUT"}}class ResponseStatusCodeError extends UndiciError{constructor(w,B,G,K){super(w);Error.captureStackTrace(this,ResponseStatusCodeError);this.name="ResponseStatusCodeError";this.message=w||"Response Status Code Error";this.code="UND_ERR_RESPONSE_STATUS_CODE";this.body=K;this.status=B;this.statusCode=B;this.headers=G}}class InvalidArgumentError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,InvalidArgumentError);this.name="InvalidArgumentError";this.message=w||"Invalid Argument Error";this.code="UND_ERR_INVALID_ARG"}}class InvalidReturnValueError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,InvalidReturnValueError);this.name="InvalidReturnValueError";this.message=w||"Invalid Return Value Error";this.code="UND_ERR_INVALID_RETURN_VALUE"}}class RequestAbortedError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,RequestAbortedError);this.name="AbortError";this.message=w||"Request aborted";this.code="UND_ERR_ABORTED"}}class InformationalError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,InformationalError);this.name="InformationalError";this.message=w||"Request information";this.code="UND_ERR_INFO"}}class RequestContentLengthMismatchError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,RequestContentLengthMismatchError);this.name="RequestContentLengthMismatchError";this.message=w||"Request body length does not match content-length header";this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}}class ResponseContentLengthMismatchError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,ResponseContentLengthMismatchError);this.name="ResponseContentLengthMismatchError";this.message=w||"Response body length does not match content-length header";this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}}class ClientDestroyedError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,ClientDestroyedError);this.name="ClientDestroyedError";this.message=w||"The client is destroyed";this.code="UND_ERR_DESTROYED"}}class ClientClosedError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,ClientClosedError);this.name="ClientClosedError";this.message=w||"The client is closed";this.code="UND_ERR_CLOSED"}}class SocketError extends UndiciError{constructor(w,B){super(w);Error.captureStackTrace(this,SocketError);this.name="SocketError";this.message=w||"Socket error";this.code="UND_ERR_SOCKET";this.socket=B}}class NotSupportedError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,NotSupportedError);this.name="NotSupportedError";this.message=w||"Not supported error";this.code="UND_ERR_NOT_SUPPORTED"}}class BalancedPoolMissingUpstreamError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,NotSupportedError);this.name="MissingUpstreamError";this.message=w||"No upstream has been added to the BalancedPool";this.code="UND_ERR_BPL_MISSING_UPSTREAM"}}class HTTPParserError extends Error{constructor(w,B,G){super(w);Error.captureStackTrace(this,HTTPParserError);this.name="HTTPParserError";this.code=B?`HPE_${B}`:undefined;this.data=G?G.toString():undefined}}class ResponseExceededMaxSizeError extends UndiciError{constructor(w){super(w);Error.captureStackTrace(this,ResponseExceededMaxSizeError);this.name="ResponseExceededMaxSizeError";this.message=w||"Response content exceeded max size";this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}}class RequestRetryError extends UndiciError{constructor(w,B,{headers:G,data:K}){super(w);Error.captureStackTrace(this,RequestRetryError);this.name="RequestRetryError";this.message=w||"Request retry error";this.code="UND_ERR_REQ_RETRY";this.statusCode=B;this.data=K;this.headers=G}}w.exports={HTTPParserError:HTTPParserError,UndiciError:UndiciError,HeadersTimeoutError:HeadersTimeoutError,HeadersOverflowError:HeadersOverflowError,BodyTimeoutError:BodyTimeoutError,RequestContentLengthMismatchError:RequestContentLengthMismatchError,ConnectTimeoutError:ConnectTimeoutError,ResponseStatusCodeError:ResponseStatusCodeError,InvalidArgumentError:InvalidArgumentError,InvalidReturnValueError:InvalidReturnValueError,RequestAbortedError:RequestAbortedError,ClientDestroyedError:ClientDestroyedError,ClientClosedError:ClientClosedError,InformationalError:InformationalError,SocketError:SocketError,NotSupportedError:NotSupportedError,ResponseContentLengthMismatchError:ResponseContentLengthMismatchError,BalancedPoolMissingUpstreamError:BalancedPoolMissingUpstreamError,ResponseExceededMaxSizeError:ResponseExceededMaxSizeError,RequestRetryError:RequestRetryError}},6840:(w,B,G)=>{"use strict";const{InvalidArgumentError:K,NotSupportedError:pe}=G(1970);const ye=G(2613);const{kHTTP2BuildRequest:Se,kHTTP2CopyHeaders:Be,kHTTP1BuildRequest:Qe}=G(4980);const Pe=G(701);const Fe=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/;const Me=/[^\t\x20-\x7e\x80-\xff]/;const Le=/[^\u0021-\u00ff]/;const je=Symbol("handler");const qe={};let We;try{const w=G(1637);qe.create=w.channel("undici:request:create");qe.bodySent=w.channel("undici:request:bodySent");qe.headers=w.channel("undici:request:headers");qe.trailers=w.channel("undici:request:trailers");qe.error=w.channel("undici:request:error")}catch{qe.create={hasSubscribers:false};qe.bodySent={hasSubscribers:false};qe.headers={hasSubscribers:false};qe.trailers={hasSubscribers:false};qe.error={hasSubscribers:false}}class Request{constructor(w,{path:B,method:pe,body:ye,headers:Se,query:Be,idempotent:Qe,blocking:Me,upgrade:Ge,headersTimeout:ze,bodyTimeout:Ye,reset:Ke,throwOnError:Xe,expectContinue:rt},it){if(typeof B!=="string"){throw new K("path must be a string")}else if(B[0]!=="/"&&!(B.startsWith("http://")||B.startsWith("https://"))&&pe!=="CONNECT"){throw new K("path must be an absolute URL or start with a slash")}else if(Le.exec(B)!==null){throw new K("invalid request path")}if(typeof pe!=="string"){throw new K("method must be a string")}else if(Fe.exec(pe)===null){throw new K("invalid request method")}if(Ge&&typeof Ge!=="string"){throw new K("upgrade must be a string")}if(ze!=null&&(!Number.isFinite(ze)||ze<0)){throw new K("invalid headersTimeout")}if(Ye!=null&&(!Number.isFinite(Ye)||Ye<0)){throw new K("invalid bodyTimeout")}if(Ke!=null&&typeof Ke!=="boolean"){throw new K("invalid reset")}if(rt!=null&&typeof rt!=="boolean"){throw new K("invalid expectContinue")}this.headersTimeout=ze;this.bodyTimeout=Ye;this.throwOnError=Xe===true;this.method=pe;this.abort=null;if(ye==null){this.body=null}else if(Pe.isStream(ye)){this.body=ye;const w=this.body._readableState;if(!w||!w.autoDestroy){this.endHandler=function autoDestroy(){Pe.destroy(this)};this.body.on("end",this.endHandler)}this.errorHandler=w=>{if(this.abort){this.abort(w)}else{this.error=w}};this.body.on("error",this.errorHandler)}else if(Pe.isBuffer(ye)){this.body=ye.byteLength?ye:null}else if(ArrayBuffer.isView(ye)){this.body=ye.buffer.byteLength?Buffer.from(ye.buffer,ye.byteOffset,ye.byteLength):null}else if(ye instanceof ArrayBuffer){this.body=ye.byteLength?Buffer.from(ye):null}else if(typeof ye==="string"){this.body=ye.length?Buffer.from(ye):null}else if(Pe.isFormDataLike(ye)||Pe.isIterable(ye)||Pe.isBlobLike(ye)){this.body=ye}else{throw new K("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable")}this.completed=false;this.aborted=false;this.upgrade=Ge||null;this.path=Be?Pe.buildURL(B,Be):B;this.origin=w;this.idempotent=Qe==null?pe==="HEAD"||pe==="GET":Qe;this.blocking=Me==null?false:Me;this.reset=Ke==null?null:Ke;this.host=null;this.contentLength=null;this.contentType=null;this.headers="";this.expectContinue=rt!=null?rt:false;if(Array.isArray(Se)){if(Se.length%2!==0){throw new K("headers array must be even")}for(let w=0;w<Se.length;w+=2){processHeader(this,Se[w],Se[w+1])}}else if(Se&&typeof Se==="object"){const w=Object.keys(Se);for(let B=0;B<w.length;B++){const G=w[B];processHeader(this,G,Se[G])}}else if(Se!=null){throw new K("headers must be an object or an array")}if(Pe.isFormDataLike(this.body)){if(Pe.nodeMajor<16||Pe.nodeMajor===16&&Pe.nodeMinor<8){throw new K("Form-Data bodies are only supported in node v16.8 and newer.")}if(!We){We=G(5472).extractBody}const[w,B]=We(ye);if(this.contentType==null){this.contentType=B;this.headers+=`content-type: ${B}\r\n`}this.body=w.stream;this.contentLength=w.length}else if(Pe.isBlobLike(ye)&&this.contentType==null&&ye.type){this.contentType=ye.type;this.headers+=`content-type: ${ye.type}\r\n`}Pe.validateHandler(it,pe,Ge);this.servername=Pe.getServerName(this.host);this[je]=it;if(qe.create.hasSubscribers){qe.create.publish({request:this})}}onBodySent(w){if(this[je].onBodySent){try{return this[je].onBodySent(w)}catch(w){this.abort(w)}}}onRequestSent(){if(qe.bodySent.hasSubscribers){qe.bodySent.publish({request:this})}if(this[je].onRequestSent){try{return this[je].onRequestSent()}catch(w){this.abort(w)}}}onConnect(w){ye(!this.aborted);ye(!this.completed);if(this.error){w(this.error)}else{this.abort=w;return this[je].onConnect(w)}}onHeaders(w,B,G,K){ye(!this.aborted);ye(!this.completed);if(qe.headers.hasSubscribers){qe.headers.publish({request:this,response:{statusCode:w,headers:B,statusText:K}})}try{return this[je].onHeaders(w,B,G,K)}catch(w){this.abort(w)}}onData(w){ye(!this.aborted);ye(!this.completed);try{return this[je].onData(w)}catch(w){this.abort(w);return false}}onUpgrade(w,B,G){ye(!this.aborted);ye(!this.completed);return this[je].onUpgrade(w,B,G)}onComplete(w){this.onFinally();ye(!this.aborted);this.completed=true;if(qe.trailers.hasSubscribers){qe.trailers.publish({request:this,trailers:w})}try{return this[je].onComplete(w)}catch(w){this.onError(w)}}onError(w){this.onFinally();if(qe.error.hasSubscribers){qe.error.publish({request:this,error:w})}if(this.aborted){return}this.aborted=true;return this[je].onError(w)}onFinally(){if(this.errorHandler){this.body.off("error",this.errorHandler);this.errorHandler=null}if(this.endHandler){this.body.off("end",this.endHandler);this.endHandler=null}}addHeader(w,B){processHeader(this,w,B);return this}static[Qe](w,B,G){return new Request(w,B,G)}static[Se](w,B,G){const pe=B.headers;B={...B,headers:null};const ye=new Request(w,B,G);ye.headers={};if(Array.isArray(pe)){if(pe.length%2!==0){throw new K("headers array must be even")}for(let w=0;w<pe.length;w+=2){processHeader(ye,pe[w],pe[w+1],true)}}else if(pe&&typeof pe==="object"){const w=Object.keys(pe);for(let B=0;B<w.length;B++){const G=w[B];processHeader(ye,G,pe[G],true)}}else if(pe!=null){throw new K("headers must be an object or an array")}return ye}static[Be](w){const B=w.split("\r\n");const G={};for(const w of B){const[B,K]=w.split(": ");if(K==null||K.length===0)continue;if(G[B])G[B]+=`,${K}`;else G[B]=K}return G}}function processHeaderValue(w,B,G){if(B&&typeof B==="object"){throw new K(`invalid ${w} header`)}B=B!=null?`${B}`:"";if(Me.exec(B)!==null){throw new K(`invalid ${w} header`)}return G?B:`${w}: ${B}\r\n`}function processHeader(w,B,G,ye=false){if(G&&(typeof G==="object"&&!Array.isArray(G))){throw new K(`invalid ${B} header`)}else if(G===undefined){return}if(w.host===null&&B.length===4&&B.toLowerCase()==="host"){if(Me.exec(G)!==null){throw new K(`invalid ${B} header`)}w.host=G}else if(w.contentLength===null&&B.length===14&&B.toLowerCase()==="content-length"){w.contentLength=parseInt(G,10);if(!Number.isFinite(w.contentLength)){throw new K("invalid content-length header")}}else if(w.contentType===null&&B.length===12&&B.toLowerCase()==="content-type"){w.contentType=G;if(ye)w.headers[B]=processHeaderValue(B,G,ye);else w.headers+=processHeaderValue(B,G)}else if(B.length===17&&B.toLowerCase()==="transfer-encoding"){throw new K("invalid transfer-encoding header")}else if(B.length===10&&B.toLowerCase()==="connection"){const B=typeof G==="string"?G.toLowerCase():null;if(B!=="close"&&B!=="keep-alive"){throw new K("invalid connection header")}else if(B==="close"){w.reset=true}}else if(B.length===10&&B.toLowerCase()==="keep-alive"){throw new K("invalid keep-alive header")}else if(B.length===7&&B.toLowerCase()==="upgrade"){throw new K("invalid upgrade header")}else if(B.length===6&&B.toLowerCase()==="expect"){throw new pe("expect header not supported")}else if(Fe.exec(B)===null){throw new K("invalid header key")}else{if(Array.isArray(G)){for(let K=0;K<G.length;K++){if(ye){if(w.headers[B])w.headers[B]+=`,${processHeaderValue(B,G[K],ye)}`;else w.headers[B]=processHeaderValue(B,G[K],ye)}else{w.headers+=processHeaderValue(B,G[K])}}}else{if(ye)w.headers[B]=processHeaderValue(B,G,ye);else w.headers+=processHeaderValue(B,G)}}}w.exports=Request},4980:w=>{w.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kHeadersList:Symbol("headers list"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kHTTP2BuildRequest:Symbol("http2 build request"),kHTTP1BuildRequest:Symbol("http1 build request"),kHTTP2CopyHeaders:Symbol("http2 copy headers"),kHTTPConnVersion:Symbol("http connection version"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable")}},701:(w,B,G)=>{"use strict";const K=G(2613);const{kDestroyed:pe,kBodyUsed:ye}=G(4980);const{IncomingMessage:Se}=G(8611);const Be=G(2203);const Qe=G(9278);const{InvalidArgumentError:Pe}=G(1970);const{Blob:Fe}=G(181);const Me=G(9023);const{stringify:Le}=G(3480);const{headerNameLowerCasedRecord:je}=G(5076);const[qe,We]=process.versions.node.split(".").map((w=>Number(w)));function nop(){}function isStream(w){return w&&typeof w==="object"&&typeof w.pipe==="function"&&typeof w.on==="function"}function isBlobLike(w){return Fe&&w instanceof Fe||w&&typeof w==="object"&&(typeof w.stream==="function"||typeof w.arrayBuffer==="function")&&/^(Blob|File)$/.test(w[Symbol.toStringTag])}function buildURL(w,B){if(w.includes("?")||w.includes("#")){throw new Error('Query params cannot be passed when url already contains "?" or "#".')}const G=Le(B);if(G){w+="?"+G}return w}function parseURL(w){if(typeof w==="string"){w=new URL(w);if(!/^https?:/.test(w.origin||w.protocol)){throw new Pe("Invalid URL protocol: the URL must start with `http:` or `https:`.")}return w}if(!w||typeof w!=="object"){throw new Pe("Invalid URL: The URL argument must be a non-null object.")}if(!/^https?:/.test(w.origin||w.protocol)){throw new Pe("Invalid URL protocol: the URL must start with `http:` or `https:`.")}if(!(w instanceof URL)){if(w.port!=null&&w.port!==""&&!Number.isFinite(parseInt(w.port))){throw new Pe("Invalid URL: port must be a valid integer or a string representation of an integer.")}if(w.path!=null&&typeof w.path!=="string"){throw new Pe("Invalid URL path: the path must be a string or null/undefined.")}if(w.pathname!=null&&typeof w.pathname!=="string"){throw new Pe("Invalid URL pathname: the pathname must be a string or null/undefined.")}if(w.hostname!=null&&typeof w.hostname!=="string"){throw new Pe("Invalid URL hostname: the hostname must be a string or null/undefined.")}if(w.origin!=null&&typeof w.origin!=="string"){throw new Pe("Invalid URL origin: the origin must be a string or null/undefined.")}const B=w.port!=null?w.port:w.protocol==="https:"?443:80;let G=w.origin!=null?w.origin:`${w.protocol}//${w.hostname}:${B}`;let K=w.path!=null?w.path:`${w.pathname||""}${w.search||""}`;if(G.endsWith("/")){G=G.substring(0,G.length-1)}if(K&&!K.startsWith("/")){K=`/${K}`}w=new URL(G+K)}return w}function parseOrigin(w){w=parseURL(w);if(w.pathname!=="/"||w.search||w.hash){throw new Pe("invalid url")}return w}function getHostname(w){if(w[0]==="["){const B=w.indexOf("]");K(B!==-1);return w.substring(1,B)}const B=w.indexOf(":");if(B===-1)return w;return w.substring(0,B)}function getServerName(w){if(!w){return null}K.strictEqual(typeof w,"string");const B=getHostname(w);if(Qe.isIP(B)){return""}return B}function deepClone(w){return JSON.parse(JSON.stringify(w))}function isAsyncIterable(w){return!!(w!=null&&typeof w[Symbol.asyncIterator]==="function")}function isIterable(w){return!!(w!=null&&(typeof w[Symbol.iterator]==="function"||typeof w[Symbol.asyncIterator]==="function"))}function bodyLength(w){if(w==null){return 0}else if(isStream(w)){const B=w._readableState;return B&&B.objectMode===false&&B.ended===true&&Number.isFinite(B.length)?B.length:null}else if(isBlobLike(w)){return w.size!=null?w.size:null}else if(isBuffer(w)){return w.byteLength}return null}function isDestroyed(w){return!w||!!(w.destroyed||w[pe])}function isReadableAborted(w){const B=w&&w._readableState;return isDestroyed(w)&&B&&!B.endEmitted}function destroy(w,B){if(w==null||!isStream(w)||isDestroyed(w)){return}if(typeof w.destroy==="function"){if(Object.getPrototypeOf(w).constructor===Se){w.socket=null}w.destroy(B)}else if(B){process.nextTick(((w,B)=>{w.emit("error",B)}),w,B)}if(w.destroyed!==true){w[pe]=true}}const Ge=/timeout=(\d+)/;function parseKeepAliveTimeout(w){const B=w.toString().match(Ge);return B?parseInt(B[1],10)*1e3:null}function headerNameToString(w){return je[w]||w.toLowerCase()}function parseHeaders(w,B={}){if(!Array.isArray(w))return w;for(let G=0;G<w.length;G+=2){const K=w[G].toString().toLowerCase();let pe=B[K];if(!pe){if(Array.isArray(w[G+1])){B[K]=w[G+1].map((w=>w.toString("utf8")))}else{B[K]=w[G+1].toString("utf8")}}else{if(!Array.isArray(pe)){pe=[pe];B[K]=pe}pe.push(w[G+1].toString("utf8"))}}if("content-length"in B&&"content-disposition"in B){B["content-disposition"]=Buffer.from(B["content-disposition"]).toString("latin1")}return B}function parseRawHeaders(w){const B=[];let G=false;let K=-1;for(let pe=0;pe<w.length;pe+=2){const ye=w[pe+0].toString();const Se=w[pe+1].toString("utf8");if(ye.length===14&&(ye==="content-length"||ye.toLowerCase()==="content-length")){B.push(ye,Se);G=true}else if(ye.length===19&&(ye==="content-disposition"||ye.toLowerCase()==="content-disposition")){K=B.push(ye,Se)-1}else{B.push(ye,Se)}}if(G&&K!==-1){B[K]=Buffer.from(B[K]).toString("latin1")}return B}function isBuffer(w){return w instanceof Uint8Array||Buffer.isBuffer(w)}function validateHandler(w,B,G){if(!w||typeof w!=="object"){throw new Pe("handler must be an object")}if(typeof w.onConnect!=="function"){throw new Pe("invalid onConnect method")}if(typeof w.onError!=="function"){throw new Pe("invalid onError method")}if(typeof w.onBodySent!=="function"&&w.onBodySent!==undefined){throw new Pe("invalid onBodySent method")}if(G||B==="CONNECT"){if(typeof w.onUpgrade!=="function"){throw new Pe("invalid onUpgrade method")}}else{if(typeof w.onHeaders!=="function"){throw new Pe("invalid onHeaders method")}if(typeof w.onData!=="function"){throw new Pe("invalid onData method")}if(typeof w.onComplete!=="function"){throw new Pe("invalid onComplete method")}}}function isDisturbed(w){return!!(w&&(Be.isDisturbed?Be.isDisturbed(w)||w[ye]:w[ye]||w.readableDidRead||w._readableState&&w._readableState.dataEmitted||isReadableAborted(w)))}function isErrored(w){return!!(w&&(Be.isErrored?Be.isErrored(w):/state: 'errored'/.test(Me.inspect(w))))}function isReadable(w){return!!(w&&(Be.isReadable?Be.isReadable(w):/state: 'readable'/.test(Me.inspect(w))))}function getSocketInfo(w){return{localAddress:w.localAddress,localPort:w.localPort,remoteAddress:w.remoteAddress,remotePort:w.remotePort,remoteFamily:w.remoteFamily,timeout:w.timeout,bytesWritten:w.bytesWritten,bytesRead:w.bytesRead}}async function*convertIterableToBuffer(w){for await(const B of w){yield Buffer.isBuffer(B)?B:Buffer.from(B)}}let ze;function ReadableStreamFrom(w){if(!ze){ze=G(3774).ReadableStream}if(ze.from){return ze.from(convertIterableToBuffer(w))}let B;return new ze({async start(){B=w[Symbol.asyncIterator]()},async pull(w){const{done:G,value:K}=await B.next();if(G){queueMicrotask((()=>{w.close()}))}else{const B=Buffer.isBuffer(K)?K:Buffer.from(K);w.enqueue(new Uint8Array(B))}return w.desiredSize>0},async cancel(w){await B.return()}},0)}function isFormDataLike(w){return w&&typeof w==="object"&&typeof w.append==="function"&&typeof w.delete==="function"&&typeof w.get==="function"&&typeof w.getAll==="function"&&typeof w.has==="function"&&typeof w.set==="function"&&w[Symbol.toStringTag]==="FormData"}function throwIfAborted(w){if(!w){return}if(typeof w.throwIfAborted==="function"){w.throwIfAborted()}else{if(w.aborted){const w=new Error("The operation was aborted");w.name="AbortError";throw w}}}function addAbortListener(w,B){if("addEventListener"in w){w.addEventListener("abort",B,{once:true});return()=>w.removeEventListener("abort",B)}w.addListener("abort",B);return()=>w.removeListener("abort",B)}const Ye=!!String.prototype.toWellFormed;function toUSVString(w){if(Ye){return`${w}`.toWellFormed()}else if(Me.toUSVString){return Me.toUSVString(w)}return`${w}`}function parseRangeHeader(w){if(w==null||w==="")return{start:0,end:null,size:null};const B=w?w.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return B?{start:parseInt(B[1]),end:B[2]?parseInt(B[2]):null,size:B[3]?parseInt(B[3]):null}:null}const Ke=Object.create(null);Ke.enumerable=true;w.exports={kEnumerableProperty:Ke,nop:nop,isDisturbed:isDisturbed,isErrored:isErrored,isReadable:isReadable,toUSVString:toUSVString,isReadableAborted:isReadableAborted,isBlobLike:isBlobLike,parseOrigin:parseOrigin,parseURL:parseURL,getServerName:getServerName,isStream:isStream,isIterable:isIterable,isAsyncIterable:isAsyncIterable,isDestroyed:isDestroyed,headerNameToString:headerNameToString,parseRawHeaders:parseRawHeaders,parseHeaders:parseHeaders,parseKeepAliveTimeout:parseKeepAliveTimeout,destroy:destroy,bodyLength:bodyLength,deepClone:deepClone,ReadableStreamFrom:ReadableStreamFrom,isBuffer:isBuffer,validateHandler:validateHandler,getSocketInfo:getSocketInfo,isFormDataLike:isFormDataLike,buildURL:buildURL,throwIfAborted:throwIfAborted,addAbortListener:addAbortListener,parseRangeHeader:parseRangeHeader,nodeMajor:qe,nodeMinor:We,nodeHasAutoSelectFamily:qe>18||qe===18&&We>=13,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"]}},4660:(w,B,G)=>{"use strict";const K=G(5872);const{ClientDestroyedError:pe,ClientClosedError:ye,InvalidArgumentError:Se}=G(1970);const{kDestroy:Be,kClose:Qe,kDispatch:Pe,kInterceptors:Fe}=G(4980);const Me=Symbol("destroyed");const Le=Symbol("closed");const je=Symbol("onDestroyed");const qe=Symbol("onClosed");const We=Symbol("Intercepted Dispatch");class DispatcherBase extends K{constructor(){super();this[Me]=false;this[je]=null;this[Le]=false;this[qe]=[]}get destroyed(){return this[Me]}get closed(){return this[Le]}get interceptors(){return this[Fe]}set interceptors(w){if(w){for(let B=w.length-1;B>=0;B--){const w=this[Fe][B];if(typeof w!=="function"){throw new Se("interceptor must be an function")}}}this[Fe]=w}close(w){if(w===undefined){return new Promise(((w,B)=>{this.close(((G,K)=>G?B(G):w(K)))}))}if(typeof w!=="function"){throw new Se("invalid callback")}if(this[Me]){queueMicrotask((()=>w(new pe,null)));return}if(this[Le]){if(this[qe]){this[qe].push(w)}else{queueMicrotask((()=>w(null,null)))}return}this[Le]=true;this[qe].push(w);const onClosed=()=>{const w=this[qe];this[qe]=null;for(let B=0;B<w.length;B++){w[B](null,null)}};this[Qe]().then((()=>this.destroy())).then((()=>{queueMicrotask(onClosed)}))}destroy(w,B){if(typeof w==="function"){B=w;w=null}if(B===undefined){return new Promise(((B,G)=>{this.destroy(w,((w,K)=>w?G(w):B(K)))}))}if(typeof B!=="function"){throw new Se("invalid callback")}if(this[Me]){if(this[je]){this[je].push(B)}else{queueMicrotask((()=>B(null,null)))}return}if(!w){w=new pe}this[Me]=true;this[je]=this[je]||[];this[je].push(B);const onDestroyed=()=>{const w=this[je];this[je]=null;for(let B=0;B<w.length;B++){w[B](null,null)}};this[Be](w).then((()=>{queueMicrotask(onDestroyed)}))}[We](w,B){if(!this[Fe]||this[Fe].length===0){this[We]=this[Pe];return this[Pe](w,B)}let G=this[Pe].bind(this);for(let w=this[Fe].length-1;w>=0;w--){G=this[Fe][w](G)}this[We]=G;return G(w,B)}dispatch(w,B){if(!B||typeof B!=="object"){throw new Se("handler must be an object")}try{if(!w||typeof w!=="object"){throw new Se("opts must be an object.")}if(this[Me]||this[je]){throw new pe}if(this[Le]){throw new ye}return this[We](w,B)}catch(w){if(typeof B.onError!=="function"){throw new Se("invalid onError method")}B.onError(w);return false}}}w.exports=DispatcherBase},5872:(w,B,G)=>{"use strict";const K=G(4434);class Dispatcher extends K{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}}w.exports=Dispatcher},5472:(w,B,G)=>{"use strict";const K=G(2105);const pe=G(701);const{ReadableStreamFrom:ye,isBlobLike:Se,isReadableStreamLike:Be,readableStreamClose:Qe,createDeferredPromise:Pe,fullyReadBody:Fe}=G(8524);const{FormData:Me}=G(98);const{kState:Le}=G(639);const{webidl:je}=G(185);const{DOMException:qe,structuredClone:We}=G(1411);const{Blob:Ge,File:ze}=G(181);const{kBodyUsed:Ye}=G(4980);const Ke=G(2613);const{isErrored:Xe}=G(701);const{isUint8Array:rt,isArrayBuffer:it}=G(8253);const{File:ot}=G(374);const{parseMIMEType:at,serializeAMimeType:lt}=G(2059);let ct;try{const w=G(7598);ct=B=>w.randomInt(0,B)}catch{ct=w=>Math.floor(Math.random(w))}let ut=globalThis.ReadableStream;const ft=ze??ot;const gt=new TextEncoder;const mt=new TextDecoder;function extractBody(w,B=false){if(!ut){ut=G(3774).ReadableStream}let K=null;if(w instanceof ut){K=w}else if(Se(w)){K=w.stream()}else{K=new ut({async pull(w){w.enqueue(typeof Fe==="string"?gt.encode(Fe):Fe);queueMicrotask((()=>Qe(w)))},start(){},type:undefined})}Ke(Be(K));let Pe=null;let Fe=null;let Me=null;let Le=null;if(typeof w==="string"){Fe=w;Le="text/plain;charset=UTF-8"}else if(w instanceof URLSearchParams){Fe=w.toString();Le="application/x-www-form-urlencoded;charset=UTF-8"}else if(it(w)){Fe=new Uint8Array(w.slice())}else if(ArrayBuffer.isView(w)){Fe=new Uint8Array(w.buffer.slice(w.byteOffset,w.byteOffset+w.byteLength))}else if(pe.isFormDataLike(w)){const B=`----formdata-undici-0${`${ct(1e11)}`.padStart(11,"0")}`;const G=`--${B}\r\nContent-Disposition: form-data`
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */;const escape=w=>w.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22");const normalizeLinefeeds=w=>w.replace(/\r?\n|\r/g,"\r\n");const K=[];const pe=new Uint8Array([13,10]);Me=0;let ye=false;for(const[B,Se]of w){if(typeof Se==="string"){const w=gt.encode(G+`; name="${escape(normalizeLinefeeds(B))}"`+`\r\n\r\n${normalizeLinefeeds(Se)}\r\n`);K.push(w);Me+=w.byteLength}else{const w=gt.encode(`${G}; name="${escape(normalizeLinefeeds(B))}"`+(Se.name?`; filename="${escape(Se.name)}"`:"")+"\r\n"+`Content-Type: ${Se.type||"application/octet-stream"}\r\n\r\n`);K.push(w,Se,pe);if(typeof Se.size==="number"){Me+=w.byteLength+Se.size+pe.byteLength}else{ye=true}}}const Se=gt.encode(`--${B}--`);K.push(Se);Me+=Se.byteLength;if(ye){Me=null}Fe=w;Pe=async function*(){for(const w of K){if(w.stream){yield*w.stream()}else{yield w}}};Le="multipart/form-data; boundary="+B}else if(Se(w)){Fe=w;Me=w.size;if(w.type){Le=w.type}}else if(typeof w[Symbol.asyncIterator]==="function"){if(B){throw new TypeError("keepalive")}if(pe.isDisturbed(w)||w.locked){throw new TypeError("Response body object should not be disturbed or locked")}K=w instanceof ut?w:ye(w)}if(typeof Fe==="string"||pe.isBuffer(Fe)){Me=Buffer.byteLength(Fe)}if(Pe!=null){let B;K=new ut({async start(){B=Pe(w)[Symbol.asyncIterator]()},async pull(w){const{value:G,done:pe}=await B.next();if(pe){queueMicrotask((()=>{w.close()}))}else{if(!Xe(K)){w.enqueue(new Uint8Array(G))}}return w.desiredSize>0},async cancel(w){await B.return()},type:undefined})}const je={stream:K,source:Fe,length:Me};return[je,Le]}function safelyExtractBody(w,B=false){if(!ut){ut=G(3774).ReadableStream}if(w instanceof ut){Ke(!pe.isDisturbed(w),"The body has already been consumed.");Ke(!w.locked,"The stream is locked.")}return extractBody(w,B)}function cloneBody(w){const[B,G]=w.stream.tee();const K=We(G,{transfer:[G]});const[,pe]=K.tee();w.stream=B;return{stream:pe,length:w.length,source:w.source}}async function*consumeBody(w){if(w){if(rt(w)){yield w}else{const B=w.stream;if(pe.isDisturbed(B)){throw new TypeError("The body has already been consumed.")}if(B.locked){throw new TypeError("The stream is locked.")}B[Ye]=true;yield*B}}}function throwIfAborted(w){if(w.aborted){throw new qe("The operation was aborted.","AbortError")}}function bodyMixinMethods(w){const B={blob(){return specConsumeBody(this,(w=>{let B=bodyMimeType(this);if(B==="failure"){B=""}else if(B){B=lt(B)}return new Ge([w],{type:B})}),w)},arrayBuffer(){return specConsumeBody(this,(w=>new Uint8Array(w).buffer),w)},text(){return specConsumeBody(this,utf8DecodeBytes,w)},json(){return specConsumeBody(this,parseJSONFromBytes,w)},async formData(){je.brandCheck(this,w);throwIfAborted(this[Le]);const B=this.headers.get("Content-Type");if(/multipart\/form-data/.test(B)){const w={};for(const[B,G]of this.headers)w[B.toLowerCase()]=G;const B=new Me;let G;try{G=new K({headers:w,preservePath:true})}catch(w){throw new qe(`${w}`,"AbortError")}G.on("field",((w,G)=>{B.append(w,G)}));G.on("file",((w,G,K,pe,ye)=>{const Se=[];if(pe==="base64"||pe.toLowerCase()==="base64"){let pe="";G.on("data",(w=>{pe+=w.toString().replace(/[\r\n]/gm,"");const B=pe.length-pe.length%4;Se.push(Buffer.from(pe.slice(0,B),"base64"));pe=pe.slice(B)}));G.on("end",(()=>{Se.push(Buffer.from(pe,"base64"));B.append(w,new ft(Se,K,{type:ye}))}))}else{G.on("data",(w=>{Se.push(w)}));G.on("end",(()=>{B.append(w,new ft(Se,K,{type:ye}))}))}}));const pe=new Promise(((w,B)=>{G.on("finish",w);G.on("error",(w=>B(new TypeError(w))))}));if(this.body!==null)for await(const w of consumeBody(this[Le].body))G.write(w);G.end();await pe;return B}else if(/application\/x-www-form-urlencoded/.test(B)){let w;try{let B="";const G=new TextDecoder("utf-8",{ignoreBOM:true});for await(const w of consumeBody(this[Le].body)){if(!rt(w)){throw new TypeError("Expected Uint8Array chunk")}B+=G.decode(w,{stream:true})}B+=G.decode();w=new URLSearchParams(B)}catch(w){throw Object.assign(new TypeError,{cause:w})}const B=new Me;for(const[G,K]of w){B.append(G,K)}return B}else{await Promise.resolve();throwIfAborted(this[Le]);throw je.errors.exception({header:`${w.name}.formData`,message:"Could not parse content as FormData."})}}};return B}function mixinBody(w){Object.assign(w.prototype,bodyMixinMethods(w))}async function specConsumeBody(w,B,G){je.brandCheck(w,G);throwIfAborted(w[Le]);if(bodyUnusable(w[Le].body)){throw new TypeError("Body is unusable")}const K=Pe();const errorSteps=w=>K.reject(w);const successSteps=w=>{try{K.resolve(B(w))}catch(w){errorSteps(w)}};if(w[Le].body==null){successSteps(new Uint8Array);return K.promise}await Fe(w[Le].body,successSteps,errorSteps);return K.promise}function bodyUnusable(w){return w!=null&&(w.stream.locked||pe.isDisturbed(w.stream))}function utf8DecodeBytes(w){if(w.length===0){return""}if(w[0]===239&&w[1]===187&&w[2]===191){w=w.subarray(3)}const B=mt.decode(w);return B}function parseJSONFromBytes(w){return JSON.parse(utf8DecodeBytes(w))}function bodyMimeType(w){const{headersList:B}=w[Le];const G=B.get("content-type");if(G===null){return"failure"}return at(G)}w.exports={extractBody:extractBody,safelyExtractBody:safelyExtractBody,cloneBody:cloneBody,mixinBody:mixinBody}},1411:(w,B,G)=>{"use strict";const{MessageChannel:K,receiveMessageOnPort:pe}=G(8167);const ye=["GET","HEAD","POST"];const Se=new Set(ye);const Be=[101,204,205,304];const Qe=[301,302,303,307,308];const Pe=new Set(Qe);const Fe=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","5060","5061","6000","6566","6665","6666","6667","6668","6669","6697","10080"];const Me=new Set(Fe);const Le=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"];const je=new Set(Le);const qe=["follow","manual","error"];const We=["GET","HEAD","OPTIONS","TRACE"];const Ge=new Set(We);const ze=["navigate","same-origin","no-cors","cors"];const Ye=["omit","same-origin","include"];const Ke=["default","no-store","reload","no-cache","force-cache","only-if-cached"];const Xe=["content-encoding","content-language","content-location","content-type","content-length"];const rt=["half"];const it=["CONNECT","TRACE","TRACK"];const ot=new Set(it);const at=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""];const lt=new Set(at);const ct=globalThis.DOMException??(()=>{try{atob("~")}catch(w){return Object.getPrototypeOf(w).constructor}})();let ut;const ft=globalThis.structuredClone??function structuredClone(w,B=undefined){if(arguments.length===0){throw new TypeError("missing argument")}if(!ut){ut=new K}ut.port1.unref();ut.port2.unref();ut.port1.postMessage(w,B?.transfer);return pe(ut.port2).message};w.exports={DOMException:ct,structuredClone:ft,subresource:at,forbiddenMethods:it,requestBodyHeader:Xe,referrerPolicy:Le,requestRedirect:qe,requestMode:ze,requestCredentials:Ye,requestCache:Ke,redirectStatus:Qe,corsSafeListedMethods:ye,nullBodyStatus:Be,safeMethods:We,badPorts:Fe,requestDuplex:rt,subresourceSet:lt,badPortsSet:Me,redirectStatusSet:Pe,corsSafeListedMethodsSet:Se,safeMethodsSet:Ge,forbiddenMethodsSet:ot,referrerPolicySet:je}},2059:(w,B,G)=>{const K=G(2613);const{atob:pe}=G(181);const{isomorphicDecode:ye}=G(8524);const Se=new TextEncoder;const Be=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/;const Qe=/(\u000A|\u000D|\u0009|\u0020)/;const Pe=/[\u0009|\u0020-\u007E|\u0080-\u00FF]/;function dataURLProcessor(w){K(w.protocol==="data:");let B=URLSerializer(w,true);B=B.slice(5);const G={position:0};let pe=collectASequenceOfCodePointsFast(",",B,G);const Se=pe.length;pe=removeASCIIWhitespace(pe,true,true);if(G.position>=B.length){return"failure"}G.position++;const Be=B.slice(Se+1);let Qe=stringPercentDecode(Be);if(/;(\u0020){0,}base64$/i.test(pe)){const w=ye(Qe);Qe=forgivingBase64(w);if(Qe==="failure"){return"failure"}pe=pe.slice(0,-6);pe=pe.replace(/(\u0020)+$/,"");pe=pe.slice(0,-1)}if(pe.startsWith(";")){pe="text/plain"+pe}let Pe=parseMIMEType(pe);if(Pe==="failure"){Pe=parseMIMEType("text/plain;charset=US-ASCII")}return{mimeType:Pe,body:Qe}}function URLSerializer(w,B=false){if(!B){return w.href}const G=w.href;const K=w.hash.length;return K===0?G:G.substring(0,G.length-K)}function collectASequenceOfCodePoints(w,B,G){let K="";while(G.position<B.length&&w(B[G.position])){K+=B[G.position];G.position++}return K}function collectASequenceOfCodePointsFast(w,B,G){const K=B.indexOf(w,G.position);const pe=G.position;if(K===-1){G.position=B.length;return B.slice(pe)}G.position=K;return B.slice(pe,G.position)}function stringPercentDecode(w){const B=Se.encode(w);return percentDecode(B)}function percentDecode(w){const B=[];for(let G=0;G<w.length;G++){const K=w[G];if(K!==37){B.push(K)}else if(K===37&&!/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(w[G+1],w[G+2]))){B.push(37)}else{const K=String.fromCharCode(w[G+1],w[G+2]);const pe=Number.parseInt(K,16);B.push(pe);G+=2}}return Uint8Array.from(B)}function parseMIMEType(w){w=removeHTTPWhitespace(w,true,true);const B={position:0};const G=collectASequenceOfCodePointsFast("/",w,B);if(G.length===0||!Be.test(G)){return"failure"}if(B.position>w.length){return"failure"}B.position++;let K=collectASequenceOfCodePointsFast(";",w,B);K=removeHTTPWhitespace(K,false,true);if(K.length===0||!Be.test(K)){return"failure"}const pe=G.toLowerCase();const ye=K.toLowerCase();const Se={type:pe,subtype:ye,parameters:new Map,essence:`${pe}/${ye}`};while(B.position<w.length){B.position++;collectASequenceOfCodePoints((w=>Qe.test(w)),w,B);let G=collectASequenceOfCodePoints((w=>w!==";"&&w!=="="),w,B);G=G.toLowerCase();if(B.position<w.length){if(w[B.position]===";"){continue}B.position++}if(B.position>w.length){break}let K=null;if(w[B.position]==='"'){K=collectAnHTTPQuotedString(w,B,true);collectASequenceOfCodePointsFast(";",w,B)}else{K=collectASequenceOfCodePointsFast(";",w,B);K=removeHTTPWhitespace(K,false,true);if(K.length===0){continue}}if(G.length!==0&&Be.test(G)&&(K.length===0||Pe.test(K))&&!Se.parameters.has(G)){Se.parameters.set(G,K)}}return Se}function forgivingBase64(w){w=w.replace(/[\u0009\u000A\u000C\u000D\u0020]/g,"");if(w.length%4===0){w=w.replace(/=?=$/,"")}if(w.length%4===1){return"failure"}if(/[^+/0-9A-Za-z]/.test(w)){return"failure"}const B=pe(w);const G=new Uint8Array(B.length);for(let w=0;w<B.length;w++){G[w]=B.charCodeAt(w)}return G}function collectAnHTTPQuotedString(w,B,G){const pe=B.position;let ye="";K(w[B.position]==='"');B.position++;while(true){ye+=collectASequenceOfCodePoints((w=>w!=='"'&&w!=="\\"),w,B);if(B.position>=w.length){break}const G=w[B.position];B.position++;if(G==="\\"){if(B.position>=w.length){ye+="\\";break}ye+=w[B.position];B.position++}else{K(G==='"');break}}if(G){return ye}return w.slice(pe,B.position)}function serializeAMimeType(w){K(w!=="failure");const{parameters:B,essence:G}=w;let pe=G;for(let[w,G]of B.entries()){pe+=";";pe+=w;pe+="=";if(!Be.test(G)){G=G.replace(/(\\|")/g,"\\$1");G='"'+G;G+='"'}pe+=G}return pe}function isHTTPWhiteSpace(w){return w==="\r"||w==="\n"||w==="\t"||w===" "}function removeHTTPWhitespace(w,B=true,G=true){let K=0;let pe=w.length-1;if(B){for(;K<w.length&&isHTTPWhiteSpace(w[K]);K++);}if(G){for(;pe>0&&isHTTPWhiteSpace(w[pe]);pe--);}return w.slice(K,pe+1)}function isASCIIWhitespace(w){return w==="\r"||w==="\n"||w==="\t"||w==="\f"||w===" "}function removeASCIIWhitespace(w,B=true,G=true){let K=0;let pe=w.length-1;if(B){for(;K<w.length&&isASCIIWhitespace(w[K]);K++);}if(G){for(;pe>0&&isASCIIWhitespace(w[pe]);pe--);}return w.slice(K,pe+1)}w.exports={dataURLProcessor:dataURLProcessor,URLSerializer:URLSerializer,collectASequenceOfCodePoints:collectASequenceOfCodePoints,collectASequenceOfCodePointsFast:collectASequenceOfCodePointsFast,stringPercentDecode:stringPercentDecode,parseMIMEType:parseMIMEType,collectAnHTTPQuotedString:collectAnHTTPQuotedString,serializeAMimeType:serializeAMimeType}},374:(w,B,G)=>{"use strict";const{Blob:K,File:pe}=G(181);const{types:ye}=G(9023);const{kState:Se}=G(639);const{isBlobLike:Be}=G(8524);const{webidl:Qe}=G(185);const{parseMIMEType:Pe,serializeAMimeType:Fe}=G(2059);const{kEnumerableProperty:Me}=G(701);const Le=new TextEncoder;class File extends K{constructor(w,B,G={}){Qe.argumentLengthCheck(arguments,2,{header:"File constructor"});w=Qe.converters["sequence<BlobPart>"](w);B=Qe.converters.USVString(B);G=Qe.converters.FilePropertyBag(G);const K=B;let pe=G.type;let ye;e:{if(pe){pe=Pe(pe);if(pe==="failure"){pe="";break e}pe=Fe(pe).toLowerCase()}ye=G.lastModified}super(processBlobParts(w,G),{type:pe});this[Se]={name:K,lastModified:ye,type:pe}}get name(){Qe.brandCheck(this,File);return this[Se].name}get lastModified(){Qe.brandCheck(this,File);return this[Se].lastModified}get type(){Qe.brandCheck(this,File);return this[Se].type}}class FileLike{constructor(w,B,G={}){const K=B;const pe=G.type;const ye=G.lastModified??Date.now();this[Se]={blobLike:w,name:K,type:pe,lastModified:ye}}stream(...w){Qe.brandCheck(this,FileLike);return this[Se].blobLike.stream(...w)}arrayBuffer(...w){Qe.brandCheck(this,FileLike);return this[Se].blobLike.arrayBuffer(...w)}slice(...w){Qe.brandCheck(this,FileLike);return this[Se].blobLike.slice(...w)}text(...w){Qe.brandCheck(this,FileLike);return this[Se].blobLike.text(...w)}get size(){Qe.brandCheck(this,FileLike);return this[Se].blobLike.size}get type(){Qe.brandCheck(this,FileLike);return this[Se].blobLike.type}get name(){Qe.brandCheck(this,FileLike);return this[Se].name}get lastModified(){Qe.brandCheck(this,FileLike);return this[Se].lastModified}get[Symbol.toStringTag](){return"File"}}Object.defineProperties(File.prototype,{[Symbol.toStringTag]:{value:"File",configurable:true},name:Me,lastModified:Me});Qe.converters.Blob=Qe.interfaceConverter(K);Qe.converters.BlobPart=function(w,B){if(Qe.util.Type(w)==="Object"){if(Be(w)){return Qe.converters.Blob(w,{strict:false})}if(ArrayBuffer.isView(w)||ye.isAnyArrayBuffer(w)){return Qe.converters.BufferSource(w,B)}}return Qe.converters.USVString(w,B)};Qe.converters["sequence<BlobPart>"]=Qe.sequenceConverter(Qe.converters.BlobPart);Qe.converters.FilePropertyBag=Qe.dictionaryConverter([{key:"lastModified",converter:Qe.converters["long long"],get defaultValue(){return Date.now()}},{key:"type",converter:Qe.converters.DOMString,defaultValue:""},{key:"endings",converter:w=>{w=Qe.converters.DOMString(w);w=w.toLowerCase();if(w!=="native"){w="transparent"}return w},defaultValue:"transparent"}]);function processBlobParts(w,B){const G=[];for(const K of w){if(typeof K==="string"){let w=K;if(B.endings==="native"){w=convertLineEndingsNative(w)}G.push(Le.encode(w))}else if(ye.isAnyArrayBuffer(K)||ye.isTypedArray(K)){if(!K.buffer){G.push(new Uint8Array(K))}else{G.push(new Uint8Array(K.buffer,K.byteOffset,K.byteLength))}}else if(Be(K)){G.push(K)}}return G}function convertLineEndingsNative(w){let B="\n";if(process.platform==="win32"){B="\r\n"}return w.replace(/\r?\n/g,B)}function isFileLike(w){return pe&&w instanceof pe||w instanceof File||w&&(typeof w.stream==="function"||typeof w.arrayBuffer==="function")&&w[Symbol.toStringTag]==="File"}w.exports={File:File,FileLike:FileLike,isFileLike:isFileLike}},98:(w,B,G)=>{"use strict";const{isBlobLike:K,toUSVString:pe,makeIterator:ye}=G(8524);const{kState:Se}=G(639);const{File:Be,FileLike:Qe,isFileLike:Pe}=G(374);const{webidl:Fe}=G(185);const{Blob:Me,File:Le}=G(181);const je=Le??Be;class FormData{constructor(w){if(w!==undefined){throw Fe.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]})}this[Se]=[]}append(w,B,G=undefined){Fe.brandCheck(this,FormData);Fe.argumentLengthCheck(arguments,2,{header:"FormData.append"});if(arguments.length===3&&!K(B)){throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'")}w=Fe.converters.USVString(w);B=K(B)?Fe.converters.Blob(B,{strict:false}):Fe.converters.USVString(B);G=arguments.length===3?Fe.converters.USVString(G):undefined;const pe=makeEntry(w,B,G);this[Se].push(pe)}delete(w){Fe.brandCheck(this,FormData);Fe.argumentLengthCheck(arguments,1,{header:"FormData.delete"});w=Fe.converters.USVString(w);this[Se]=this[Se].filter((B=>B.name!==w))}get(w){Fe.brandCheck(this,FormData);Fe.argumentLengthCheck(arguments,1,{header:"FormData.get"});w=Fe.converters.USVString(w);const B=this[Se].findIndex((B=>B.name===w));if(B===-1){return null}return this[Se][B].value}getAll(w){Fe.brandCheck(this,FormData);Fe.argumentLengthCheck(arguments,1,{header:"FormData.getAll"});w=Fe.converters.USVString(w);return this[Se].filter((B=>B.name===w)).map((w=>w.value))}has(w){Fe.brandCheck(this,FormData);Fe.argumentLengthCheck(arguments,1,{header:"FormData.has"});w=Fe.converters.USVString(w);return this[Se].findIndex((B=>B.name===w))!==-1}set(w,B,G=undefined){Fe.brandCheck(this,FormData);Fe.argumentLengthCheck(arguments,2,{header:"FormData.set"});if(arguments.length===3&&!K(B)){throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'")}w=Fe.converters.USVString(w);B=K(B)?Fe.converters.Blob(B,{strict:false}):Fe.converters.USVString(B);G=arguments.length===3?pe(G):undefined;const ye=makeEntry(w,B,G);const Be=this[Se].findIndex((B=>B.name===w));if(Be!==-1){this[Se]=[...this[Se].slice(0,Be),ye,...this[Se].slice(Be+1).filter((B=>B.name!==w))]}else{this[Se].push(ye)}}entries(){Fe.brandCheck(this,FormData);return ye((()=>this[Se].map((w=>[w.name,w.value]))),"FormData","key+value")}keys(){Fe.brandCheck(this,FormData);return ye((()=>this[Se].map((w=>[w.name,w.value]))),"FormData","key")}values(){Fe.brandCheck(this,FormData);return ye((()=>this[Se].map((w=>[w.name,w.value]))),"FormData","value")}forEach(w,B=globalThis){Fe.brandCheck(this,FormData);Fe.argumentLengthCheck(arguments,1,{header:"FormData.forEach"});if(typeof w!=="function"){throw new TypeError("Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.")}for(const[G,K]of this){w.apply(B,[K,G,this])}}}FormData.prototype[Symbol.iterator]=FormData.prototype.entries;Object.defineProperties(FormData.prototype,{[Symbol.toStringTag]:{value:"FormData",configurable:true}});function makeEntry(w,B,G){w=Buffer.from(w).toString("utf8");if(typeof B==="string"){B=Buffer.from(B).toString("utf8")}else{if(!Pe(B)){B=B instanceof Me?new je([B],"blob",{type:B.type}):new Qe(B,"blob",{type:B.type})}if(G!==undefined){const w={type:B.type,lastModified:B.lastModified};B=Le&&B instanceof Le||B instanceof Be?new je([B],G,w):new Qe(B,G,w)}}return{name:w,value:B}}w.exports={FormData:FormData}},2071:w=>{"use strict";const B=Symbol.for("undici.globalOrigin.1");function getGlobalOrigin(){return globalThis[B]}function setGlobalOrigin(w){if(w===undefined){Object.defineProperty(globalThis,B,{value:undefined,writable:true,enumerable:false,configurable:false});return}const G=new URL(w);if(G.protocol!=="http:"&&G.protocol!=="https:"){throw new TypeError(`Only http & https urls are allowed, received ${G.protocol}`)}Object.defineProperty(globalThis,B,{value:G,writable:true,enumerable:false,configurable:false})}w.exports={getGlobalOrigin:getGlobalOrigin,setGlobalOrigin:setGlobalOrigin}},824:(w,B,G)=>{"use strict";const{kHeadersList:K,kConstruct:pe}=G(4980);const{kGuard:ye}=G(639);const{kEnumerableProperty:Se}=G(701);const{makeIterator:Be,isValidHeaderName:Qe,isValidHeaderValue:Pe}=G(8524);const Fe=G(9023);const{webidl:Me}=G(185);const Le=G(2613);const je=Symbol("headers map");const qe=Symbol("headers map sorted");function isHTTPWhiteSpaceCharCode(w){return w===10||w===13||w===9||w===32}function headerValueNormalize(w){let B=0;let G=w.length;while(G>B&&isHTTPWhiteSpaceCharCode(w.charCodeAt(G-1)))--G;while(G>B&&isHTTPWhiteSpaceCharCode(w.charCodeAt(B)))++B;return B===0&&G===w.length?w:w.substring(B,G)}function fill(w,B){if(Array.isArray(B)){for(let G=0;G<B.length;++G){const K=B[G];if(K.length!==2){throw Me.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${K.length}.`})}appendHeader(w,K[0],K[1])}}else if(typeof B==="object"&&B!==null){const G=Object.keys(B);for(let K=0;K<G.length;++K){appendHeader(w,G[K],B[G[K]])}}else{throw Me.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}}function appendHeader(w,B,G){G=headerValueNormalize(G);if(!Qe(B)){throw Me.errors.invalidArgument({prefix:"Headers.append",value:B,type:"header name"})}else if(!Pe(G)){throw Me.errors.invalidArgument({prefix:"Headers.append",value:G,type:"header value"})}if(w[ye]==="immutable"){throw new TypeError("immutable")}else if(w[ye]==="request-no-cors"){}return w[K].append(B,G)}class HeadersList{cookies=null;constructor(w){if(w instanceof HeadersList){this[je]=new Map(w[je]);this[qe]=w[qe];this.cookies=w.cookies===null?null:[...w.cookies]}else{this[je]=new Map(w);this[qe]=null}}contains(w){w=w.toLowerCase();return this[je].has(w)}clear(){this[je].clear();this[qe]=null;this.cookies=null}append(w,B){this[qe]=null;const G=w.toLowerCase();const K=this[je].get(G);if(K){const w=G==="cookie"?"; ":", ";this[je].set(G,{name:K.name,value:`${K.value}${w}${B}`})}else{this[je].set(G,{name:w,value:B})}if(G==="set-cookie"){this.cookies??=[];this.cookies.push(B)}}set(w,B){this[qe]=null;const G=w.toLowerCase();if(G==="set-cookie"){this.cookies=[B]}this[je].set(G,{name:w,value:B})}delete(w){this[qe]=null;w=w.toLowerCase();if(w==="set-cookie"){this.cookies=null}this[je].delete(w)}get(w){const B=this[je].get(w.toLowerCase());return B===undefined?null:B.value}*[Symbol.iterator](){for(const[w,{value:B}]of this[je]){yield[w,B]}}get entries(){const w={};if(this[je].size){for(const{name:B,value:G}of this[je].values()){w[B]=G}}return w}}class Headers{constructor(w=undefined){if(w===pe){return}this[K]=new HeadersList;this[ye]="none";if(w!==undefined){w=Me.converters.HeadersInit(w);fill(this,w)}}append(w,B){Me.brandCheck(this,Headers);Me.argumentLengthCheck(arguments,2,{header:"Headers.append"});w=Me.converters.ByteString(w);B=Me.converters.ByteString(B);return appendHeader(this,w,B)}delete(w){Me.brandCheck(this,Headers);Me.argumentLengthCheck(arguments,1,{header:"Headers.delete"});w=Me.converters.ByteString(w);if(!Qe(w)){throw Me.errors.invalidArgument({prefix:"Headers.delete",value:w,type:"header name"})}if(this[ye]==="immutable"){throw new TypeError("immutable")}else if(this[ye]==="request-no-cors"){}if(!this[K].contains(w)){return}this[K].delete(w)}get(w){Me.brandCheck(this,Headers);Me.argumentLengthCheck(arguments,1,{header:"Headers.get"});w=Me.converters.ByteString(w);if(!Qe(w)){throw Me.errors.invalidArgument({prefix:"Headers.get",value:w,type:"header name"})}return this[K].get(w)}has(w){Me.brandCheck(this,Headers);Me.argumentLengthCheck(arguments,1,{header:"Headers.has"});w=Me.converters.ByteString(w);if(!Qe(w)){throw Me.errors.invalidArgument({prefix:"Headers.has",value:w,type:"header name"})}return this[K].contains(w)}set(w,B){Me.brandCheck(this,Headers);Me.argumentLengthCheck(arguments,2,{header:"Headers.set"});w=Me.converters.ByteString(w);B=Me.converters.ByteString(B);B=headerValueNormalize(B);if(!Qe(w)){throw Me.errors.invalidArgument({prefix:"Headers.set",value:w,type:"header name"})}else if(!Pe(B)){throw Me.errors.invalidArgument({prefix:"Headers.set",value:B,type:"header value"})}if(this[ye]==="immutable"){throw new TypeError("immutable")}else if(this[ye]==="request-no-cors"){}this[K].set(w,B)}getSetCookie(){Me.brandCheck(this,Headers);const w=this[K].cookies;if(w){return[...w]}return[]}get[qe](){if(this[K][qe]){return this[K][qe]}const w=[];const B=[...this[K]].sort(((w,B)=>w[0]<B[0]?-1:1));const G=this[K].cookies;for(let K=0;K<B.length;++K){const[pe,ye]=B[K];if(pe==="set-cookie"){for(let B=0;B<G.length;++B){w.push([pe,G[B]])}}else{Le(ye!==null);w.push([pe,ye])}}this[K][qe]=w;return w}keys(){Me.brandCheck(this,Headers);if(this[ye]==="immutable"){const w=this[qe];return Be((()=>w),"Headers","key")}return Be((()=>[...this[qe].values()]),"Headers","key")}values(){Me.brandCheck(this,Headers);if(this[ye]==="immutable"){const w=this[qe];return Be((()=>w),"Headers","value")}return Be((()=>[...this[qe].values()]),"Headers","value")}entries(){Me.brandCheck(this,Headers);if(this[ye]==="immutable"){const w=this[qe];return Be((()=>w),"Headers","key+value")}return Be((()=>[...this[qe].values()]),"Headers","key+value")}forEach(w,B=globalThis){Me.brandCheck(this,Headers);Me.argumentLengthCheck(arguments,1,{header:"Headers.forEach"});if(typeof w!=="function"){throw new TypeError("Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.")}for(const[G,K]of this){w.apply(B,[K,G,this])}}[Symbol.for("nodejs.util.inspect.custom")](){Me.brandCheck(this,Headers);return this[K]}}Headers.prototype[Symbol.iterator]=Headers.prototype.entries;Object.defineProperties(Headers.prototype,{append:Se,delete:Se,get:Se,has:Se,set:Se,getSetCookie:Se,keys:Se,values:Se,entries:Se,forEach:Se,[Symbol.iterator]:{enumerable:false},[Symbol.toStringTag]:{value:"Headers",configurable:true},[Fe.inspect.custom]:{enumerable:false}});Me.converters.HeadersInit=function(w){if(Me.util.Type(w)==="Object"){if(w[Symbol.iterator]){return Me.converters["sequence<sequence<ByteString>>"](w)}return Me.converters["record<ByteString, ByteString>"](w)}throw Me.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};w.exports={fill:fill,Headers:Headers,HeadersList:HeadersList}},4546:(w,B,G)=>{"use strict";const{Response:K,makeNetworkError:pe,makeAppropriateNetworkError:ye,filterResponse:Se,makeResponse:Be}=G(2111);const{Headers:Qe}=G(824);const{Request:Pe,makeRequest:Fe}=G(8939);const Me=G(3106);const{bytesMatch:Le,makePolicyContainer:je,clonePolicyContainer:qe,requestBadPort:We,TAOCheck:Ge,appendRequestOriginHeader:ze,responseLocationURL:Ye,requestCurrentURL:Ke,setRequestReferrerPolicyOnRedirect:Xe,tryUpgradeRequestToAPotentiallyTrustworthyURL:rt,createOpaqueTimingInfo:it,appendFetchMetadata:ot,corsCheck:at,crossOriginResourcePolicyCheck:lt,determineRequestsReferrer:ct,coarsenedSharedCurrentTime:ut,createDeferredPromise:ft,isBlobLike:gt,sameOrigin:mt,isCancelled:wt,isAborted:vt,isErrorLike:_t,fullyReadBody:It,readableStreamClose:St,isomorphicEncode:Pt,urlIsLocal:Nt,urlIsHttpHttpsScheme:qt,urlHasHttpsScheme:Jt}=G(8524);const{kState:Zt,kHeaders:er,kGuard:tr,kRealm:nr}=G(639);const lr=G(2613);const{safelyExtractBody:cr}=G(5472);const{redirectStatusSet:gr,nullBodyStatus:mr,safeMethodsSet:yr,requestBodyHeader:vr,subresourceSet:Er,DOMException:_r}=G(1411);const{kHeadersList:Cr}=G(4980);const xr=G(4434);const{Readable:kr,pipeline:Or}=G(2203);const{addAbortListener:Rr,isErrored:Fr,isReadable:Lr,nodeMajor:jr,nodeMinor:Wr}=G(701);const{dataURLProcessor:Vr,serializeAMimeType:Gr}=G(2059);const{TransformStream:Jr}=G(3774);const{getGlobalDispatcher:Yr}=G(4662);const{webidl:Kr}=G(185);const{STATUS_CODES:Zr}=G(8611);const tn=["GET","HEAD"];let dn;let pn=globalThis.ReadableStream;class Fetch extends xr{constructor(w){super();this.dispatcher=w;this.connection=null;this.dump=false;this.state="ongoing";this.setMaxListeners(21)}terminate(w){if(this.state!=="ongoing"){return}this.state="terminated";this.connection?.destroy(w);this.emit("terminated",w)}abort(w){if(this.state!=="ongoing"){return}this.state="aborted";if(!w){w=new _r("The operation was aborted.","AbortError")}this.serializedAbortReason=w;this.connection?.destroy(w);this.emit("terminated",w)}}function fetch(w,B={}){Kr.argumentLengthCheck(arguments,1,{header:"globalThis.fetch"});const G=ft();let pe;try{pe=new Pe(w,B)}catch(w){G.reject(w);return G.promise}const ye=pe[Zt];if(pe.signal.aborted){abortFetch(G,ye,null,pe.signal.reason);return G.promise}const Se=ye.client.globalObject;if(Se?.constructor?.name==="ServiceWorkerGlobalScope"){ye.serviceWorkers="none"}let Be=null;const Qe=null;let Fe=false;let Me=null;Rr(pe.signal,(()=>{Fe=true;lr(Me!=null);Me.abort(pe.signal.reason);abortFetch(G,ye,Be,pe.signal.reason)}));const handleFetchDone=w=>finalizeAndReportTiming(w,"fetch");const processResponse=w=>{if(Fe){return Promise.resolve()}if(w.aborted){abortFetch(G,ye,Be,Me.serializedAbortReason);return Promise.resolve()}if(w.type==="error"){G.reject(Object.assign(new TypeError("fetch failed"),{cause:w.error}));return Promise.resolve()}Be=new K;Be[Zt]=w;Be[nr]=Qe;Be[er][Cr]=w.headersList;Be[er][tr]="immutable";Be[er][nr]=Qe;G.resolve(Be)};Me=fetching({request:ye,processResponseEndOfBody:handleFetchDone,processResponse:processResponse,dispatcher:B.dispatcher??Yr()});return G.promise}function finalizeAndReportTiming(w,B="other"){if(w.type==="error"&&w.aborted){return}if(!w.urlList?.length){return}const G=w.urlList[0];let K=w.timingInfo;let pe=w.cacheState;if(!qt(G)){return}if(K===null){return}if(!w.timingAllowPassed){K=it({startTime:K.startTime});pe=""}K.endTime=ut();w.timingInfo=K;markResourceTiming(K,G,B,globalThis,pe)}function markResourceTiming(w,B,G,K,pe){if(jr>18||jr===18&&Wr>=2){performance.markResourceTiming(w,B.href,G,K,pe)}}function abortFetch(w,B,G,K){if(!K){K=new _r("The operation was aborted.","AbortError")}w.reject(K);if(B.body!=null&&Lr(B.body?.stream)){B.body.stream.cancel(K).catch((w=>{if(w.code==="ERR_INVALID_STATE"){return}throw w}))}if(G==null){return}const pe=G[Zt];if(pe.body!=null&&Lr(pe.body?.stream)){pe.body.stream.cancel(K).catch((w=>{if(w.code==="ERR_INVALID_STATE"){return}throw w}))}}function fetching({request:w,processRequestBodyChunkLength:B,processRequestEndOfBody:G,processResponse:K,processResponseEndOfBody:pe,processResponseConsumeBody:ye,useParallelQueue:Se=false,dispatcher:Be}){let Qe=null;let Pe=false;if(w.client!=null){Qe=w.client.globalObject;Pe=w.client.crossOriginIsolatedCapability}const Fe=ut(Pe);const Me=it({startTime:Fe});const Le={controller:new Fetch(Be),request:w,timingInfo:Me,processRequestBodyChunkLength:B,processRequestEndOfBody:G,processResponse:K,processResponseConsumeBody:ye,processResponseEndOfBody:pe,taskDestination:Qe,crossOriginIsolatedCapability:Pe};lr(!w.body||w.body.stream);if(w.window==="client"){w.window=w.client?.globalObject?.constructor?.name==="Window"?w.client:"no-window"}if(w.origin==="client"){w.origin=w.client?.origin}if(w.policyContainer==="client"){if(w.client!=null){w.policyContainer=qe(w.client.policyContainer)}else{w.policyContainer=je()}}if(!w.headersList.contains("accept")){const B="*/*";w.headersList.append("accept",B)}if(!w.headersList.contains("accept-language")){w.headersList.append("accept-language","*")}if(w.priority===null){}if(Er.has(w.destination)){}mainFetch(Le).catch((w=>{Le.controller.terminate(w)}));return Le.controller}async function mainFetch(w,B=false){const G=w.request;let K=null;if(G.localURLsOnly&&!Nt(Ke(G))){K=pe("local URLs only")}rt(G);if(We(G)==="blocked"){K=pe("bad port")}if(G.referrerPolicy===""){G.referrerPolicy=G.policyContainer.referrerPolicy}if(G.referrer!=="no-referrer"){G.referrer=ct(G)}if(K===null){K=await(async()=>{const B=Ke(G);if(mt(B,G.url)&&G.responseTainting==="basic"||B.protocol==="data:"||(G.mode==="navigate"||G.mode==="websocket")){G.responseTainting="basic";return await schemeFetch(w)}if(G.mode==="same-origin"){return pe('request mode cannot be "same-origin"')}if(G.mode==="no-cors"){if(G.redirect!=="follow"){return pe('redirect mode cannot be "follow" for "no-cors" request')}G.responseTainting="opaque";return await schemeFetch(w)}if(!qt(Ke(G))){return pe("URL scheme must be a HTTP(S) scheme")}G.responseTainting="cors";return await httpFetch(w)})()}if(B){return K}if(K.status!==0&&!K.internalResponse){if(G.responseTainting==="cors"){}if(G.responseTainting==="basic"){K=Se(K,"basic")}else if(G.responseTainting==="cors"){K=Se(K,"cors")}else if(G.responseTainting==="opaque"){K=Se(K,"opaque")}else{lr(false)}}let ye=K.status===0?K:K.internalResponse;if(ye.urlList.length===0){ye.urlList.push(...G.urlList)}if(!G.timingAllowFailed){K.timingAllowPassed=true}if(K.type==="opaque"&&ye.status===206&&ye.rangeRequested&&!G.headers.contains("range")){K=ye=pe()}if(K.status!==0&&(G.method==="HEAD"||G.method==="CONNECT"||mr.includes(ye.status))){ye.body=null;w.controller.dump=true}if(G.integrity){const processBodyError=B=>fetchFinale(w,pe(B));if(G.responseTainting==="opaque"||K.body==null){processBodyError(K.error);return}const processBody=B=>{if(!Le(B,G.integrity)){processBodyError("integrity mismatch");return}K.body=cr(B)[0];fetchFinale(w,K)};await It(K.body,processBody,processBodyError)}else{fetchFinale(w,K)}}function schemeFetch(w){if(wt(w)&&w.request.redirectCount===0){return Promise.resolve(ye(w))}const{request:B}=w;const{protocol:K}=Ke(B);switch(K){case"about:":{return Promise.resolve(pe("about scheme is not supported"))}case"blob:":{if(!dn){dn=G(181).resolveObjectURL}const w=Ke(B);if(w.search.length!==0){return Promise.resolve(pe("NetworkError when attempting to fetch resource."))}const K=dn(w.toString());if(B.method!=="GET"||!gt(K)){return Promise.resolve(pe("invalid method"))}const ye=cr(K);const Se=ye[0];const Qe=Pt(`${Se.length}`);const Pe=ye[1]??"";const Fe=Be({statusText:"OK",headersList:[["content-length",{name:"Content-Length",value:Qe}],["content-type",{name:"Content-Type",value:Pe}]]});Fe.body=Se;return Promise.resolve(Fe)}case"data:":{const w=Ke(B);const G=Vr(w);if(G==="failure"){return Promise.resolve(pe("failed to fetch the data URL"))}const K=Gr(G.mimeType);return Promise.resolve(Be({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:K}]],body:cr(G.body)[0]}))}case"file:":{return Promise.resolve(pe("not implemented... yet..."))}case"http:":case"https:":{return httpFetch(w).catch((w=>pe(w)))}default:{return Promise.resolve(pe("unknown scheme"))}}}function finalizeResponse(w,B){w.request.done=true;if(w.processResponseDone!=null){queueMicrotask((()=>w.processResponseDone(B)))}}function fetchFinale(w,B){if(B.type==="error"){B.urlList=[w.request.urlList[0]];B.timingInfo=it({startTime:w.timingInfo.startTime})}const processResponseEndOfBody=()=>{w.request.done=true;if(w.processResponseEndOfBody!=null){queueMicrotask((()=>w.processResponseEndOfBody(B)))}};if(w.processResponse!=null){queueMicrotask((()=>w.processResponse(B)))}if(B.body==null){processResponseEndOfBody()}else{const identityTransformAlgorithm=(w,B)=>{B.enqueue(w)};const w=new Jr({start(){},transform:identityTransformAlgorithm,flush:processResponseEndOfBody},{size(){return 1}},{size(){return 1}});B.body={stream:B.body.stream.pipeThrough(w)}}if(w.processResponseConsumeBody!=null){const processBody=G=>w.processResponseConsumeBody(B,G);const processBodyError=G=>w.processResponseConsumeBody(B,G);if(B.body==null){queueMicrotask((()=>processBody(null)))}else{return It(B.body,processBody,processBodyError)}return Promise.resolve()}}async function httpFetch(w){const B=w.request;let G=null;let K=null;const ye=w.timingInfo;if(B.serviceWorkers==="all"){}if(G===null){if(B.redirect==="follow"){B.serviceWorkers="none"}K=G=await httpNetworkOrCacheFetch(w);if(B.responseTainting==="cors"&&at(B,G)==="failure"){return pe("cors failure")}if(Ge(B,G)==="failure"){B.timingAllowFailed=true}}if((B.responseTainting==="opaque"||G.type==="opaque")&&lt(B.origin,B.client,B.destination,K)==="blocked"){return pe("blocked")}if(gr.has(K.status)){if(B.redirect!=="manual"){w.controller.connection.destroy()}if(B.redirect==="error"){G=pe("unexpected redirect")}else if(B.redirect==="manual"){G=K}else if(B.redirect==="follow"){G=await httpRedirectFetch(w,G)}else{lr(false)}}G.timingInfo=ye;return G}function httpRedirectFetch(w,B){const G=w.request;const K=B.internalResponse?B.internalResponse:B;let ye;try{ye=Ye(K,Ke(G).hash);if(ye==null){return B}}catch(w){return Promise.resolve(pe(w))}if(!qt(ye)){return Promise.resolve(pe("URL scheme must be a HTTP(S) scheme"))}if(G.redirectCount===20){return Promise.resolve(pe("redirect count exceeded"))}G.redirectCount+=1;if(G.mode==="cors"&&(ye.username||ye.password)&&!mt(G,ye)){return Promise.resolve(pe('cross origin not allowed for request mode "cors"'))}if(G.responseTainting==="cors"&&(ye.username||ye.password)){return Promise.resolve(pe('URL cannot contain credentials for request mode "cors"'))}if(K.status!==303&&G.body!=null&&G.body.source==null){return Promise.resolve(pe())}if([301,302].includes(K.status)&&G.method==="POST"||K.status===303&&!tn.includes(G.method)){G.method="GET";G.body=null;for(const w of vr){G.headersList.delete(w)}}if(!mt(Ke(G),ye)){G.headersList.delete("authorization");G.headersList.delete("proxy-authorization",true);G.headersList.delete("cookie");G.headersList.delete("host")}if(G.body!=null){lr(G.body.source!=null);G.body=cr(G.body.source)[0]}const Se=w.timingInfo;Se.redirectEndTime=Se.postRedirectStartTime=ut(w.crossOriginIsolatedCapability);if(Se.redirectStartTime===0){Se.redirectStartTime=Se.startTime}G.urlList.push(ye);Xe(G,K);return mainFetch(w,true)}async function httpNetworkOrCacheFetch(w,B=false,G=false){const K=w.request;let Se=null;let Be=null;let Qe=null;const Pe=null;const Me=false;if(K.window==="no-window"&&K.redirect==="error"){Se=w;Be=K}else{Be=Fe(K);Se={...w};Se.request=Be}const Le=K.credentials==="include"||K.credentials==="same-origin"&&K.responseTainting==="basic";const je=Be.body?Be.body.length:null;let qe=null;if(Be.body==null&&["POST","PUT"].includes(Be.method)){qe="0"}if(je!=null){qe=Pt(`${je}`)}if(qe!=null){Be.headersList.append("content-length",qe)}if(je!=null&&Be.keepalive){}if(Be.referrer instanceof URL){Be.headersList.append("referer",Pt(Be.referrer.href))}ze(Be);ot(Be);if(!Be.headersList.contains("user-agent")){Be.headersList.append("user-agent",typeof esbuildDetection==="undefined"?"undici":"node")}if(Be.cache==="default"&&(Be.headersList.contains("if-modified-since")||Be.headersList.contains("if-none-match")||Be.headersList.contains("if-unmodified-since")||Be.headersList.contains("if-match")||Be.headersList.contains("if-range"))){Be.cache="no-store"}if(Be.cache==="no-cache"&&!Be.preventNoCacheCacheControlHeaderModification&&!Be.headersList.contains("cache-control")){Be.headersList.append("cache-control","max-age=0")}if(Be.cache==="no-store"||Be.cache==="reload"){if(!Be.headersList.contains("pragma")){Be.headersList.append("pragma","no-cache")}if(!Be.headersList.contains("cache-control")){Be.headersList.append("cache-control","no-cache")}}if(Be.headersList.contains("range")){Be.headersList.append("accept-encoding","identity")}if(!Be.headersList.contains("accept-encoding")){if(Jt(Ke(Be))){Be.headersList.append("accept-encoding","br, gzip, deflate")}else{Be.headersList.append("accept-encoding","gzip, deflate")}}Be.headersList.delete("host");if(Le){}if(Pe==null){Be.cache="no-store"}if(Be.mode!=="no-store"&&Be.mode!=="reload"){}if(Qe==null){if(Be.mode==="only-if-cached"){return pe("only if cached")}const w=await httpNetworkFetch(Se,Le,G);if(!yr.has(Be.method)&&w.status>=200&&w.status<=399){}if(Me&&w.status===304){}if(Qe==null){Qe=w}}Qe.urlList=[...Be.urlList];if(Be.headersList.contains("range")){Qe.rangeRequested=true}Qe.requestIncludesCredentials=Le;if(Qe.status===407){if(K.window==="no-window"){return pe()}if(wt(w)){return ye(w)}return pe("proxy authentication required")}if(Qe.status===421&&!G&&(K.body==null||K.body.source!=null)){if(wt(w)){return ye(w)}w.controller.connection.destroy();Qe=await httpNetworkOrCacheFetch(w,B,true)}if(B){}return Qe}async function httpNetworkFetch(w,B=false,K=false){lr(!w.controller.connection||w.controller.connection.destroyed);w.controller.connection={abort:null,destroyed:false,destroy(w){if(!this.destroyed){this.destroyed=true;this.abort?.(w??new _r("The operation was aborted.","AbortError"))}}};const Se=w.request;let Pe=null;const Fe=w.timingInfo;const Le=null;if(Le==null){Se.cache="no-store"}const je=K?"yes":"no";if(Se.mode==="websocket"){}else{}let qe=null;if(Se.body==null&&w.processRequestEndOfBody){queueMicrotask((()=>w.processRequestEndOfBody()))}else if(Se.body!=null){const processBodyChunk=async function*(B){if(wt(w)){return}yield B;w.processRequestBodyChunkLength?.(B.byteLength)};const processEndOfBody=()=>{if(wt(w)){return}if(w.processRequestEndOfBody){w.processRequestEndOfBody()}};const processBodyError=B=>{if(wt(w)){return}if(B.name==="AbortError"){w.controller.abort()}else{w.controller.terminate(B)}};qe=async function*(){try{for await(const w of Se.body.stream){yield*processBodyChunk(w)}processEndOfBody()}catch(w){processBodyError(w)}}()}try{const{body:B,status:G,statusText:K,headersList:pe,socket:ye}=await dispatch({body:qe});if(ye){Pe=Be({status:G,statusText:K,headersList:pe,socket:ye})}else{const ye=B[Symbol.asyncIterator]();w.controller.next=()=>ye.next();Pe=Be({status:G,statusText:K,headersList:pe})}}catch(B){if(B.name==="AbortError"){w.controller.connection.destroy();return ye(w,B)}return pe(B)}const pullAlgorithm=()=>{w.controller.resume()};const cancelAlgorithm=B=>{w.controller.abort(B)};if(!pn){pn=G(3774).ReadableStream}const We=new pn({async start(B){w.controller.controller=B},async pull(w){await pullAlgorithm(w)},async cancel(w){await cancelAlgorithm(w)}},{highWaterMark:0,size(){return 1}});Pe.body={stream:We};w.controller.on("terminated",onAborted);w.controller.resume=async()=>{while(true){let B;let G;try{const{done:G,value:K}=await w.controller.next();if(vt(w)){break}B=G?undefined:K}catch(K){if(w.controller.ended&&!Fe.encodedBodySize){B=undefined}else{B=K;G=true}}if(B===undefined){St(w.controller.controller);finalizeResponse(w,Pe);return}Fe.decodedBodySize+=B?.byteLength??0;if(G){w.controller.terminate(B);return}w.controller.controller.enqueue(new Uint8Array(B));if(Fr(We)){w.controller.terminate();return}if(!w.controller.controller.desiredSize){return}}};function onAborted(B){if(vt(w)){Pe.aborted=true;if(Lr(We)){w.controller.controller.error(w.controller.serializedAbortReason)}}else{if(Lr(We)){w.controller.controller.error(new TypeError("terminated",{cause:_t(B)?B:undefined}))}}w.controller.connection.destroy()}return Pe;async function dispatch({body:B}){const G=Ke(Se);const K=w.controller.dispatcher;return new Promise(((pe,ye)=>K.dispatch({path:G.pathname+G.search,origin:G.origin,method:Se.method,body:w.controller.dispatcher.isMockActive?Se.body&&(Se.body.source||Se.body.stream):B,headers:Se.headersList.entries,maxRedirections:0,upgrade:Se.mode==="websocket"?"websocket":undefined},{body:null,abort:null,onConnect(B){const{connection:G}=w.controller;if(G.destroyed){B(new _r("The operation was aborted.","AbortError"))}else{w.controller.on("terminated",B);this.abort=G.abort=B}},onHeaders(w,B,G,K){if(w<200){return}let ye=[];let Be="";const Pe=new Qe;if(Array.isArray(B)){for(let w=0;w<B.length;w+=2){const G=B[w+0].toString("latin1");const K=B[w+1].toString("latin1");if(G.toLowerCase()==="content-encoding"){ye=K.toLowerCase().split(",").map((w=>w.trim()))}else if(G.toLowerCase()==="location"){Be=K}Pe[Cr].append(G,K)}}else{const w=Object.keys(B);for(const G of w){const w=B[G];if(G.toLowerCase()==="content-encoding"){ye=w.toLowerCase().split(",").map((w=>w.trim())).reverse()}else if(G.toLowerCase()==="location"){Be=w}Pe[Cr].append(G,w)}}this.body=new kr({read:G});const Fe=[];const Le=Se.redirect==="follow"&&Be&&gr.has(w);if(Se.method!=="HEAD"&&Se.method!=="CONNECT"&&!mr.includes(w)&&!Le){for(const w of ye){if(w==="x-gzip"||w==="gzip"){Fe.push(Me.createGunzip({flush:Me.constants.Z_SYNC_FLUSH,finishFlush:Me.constants.Z_SYNC_FLUSH}))}else if(w==="deflate"){Fe.push(Me.createInflate())}else if(w==="br"){Fe.push(Me.createBrotliDecompress())}else{Fe.length=0;break}}}pe({status:w,statusText:K,headersList:Pe[Cr],body:Fe.length?Or(this.body,...Fe,(()=>{})):this.body.on("error",(()=>{}))});return true},onData(B){if(w.controller.dump){return}const G=B;Fe.encodedBodySize+=G.byteLength;return this.body.push(G)},onComplete(){if(this.abort){w.controller.off("terminated",this.abort)}w.controller.ended=true;this.body.push(null)},onError(B){if(this.abort){w.controller.off("terminated",this.abort)}this.body?.destroy(B);w.controller.terminate(B);ye(B)},onUpgrade(w,B,G){if(w!==101){return}const K=new Qe;for(let w=0;w<B.length;w+=2){const G=B[w+0].toString("latin1");const pe=B[w+1].toString("latin1");K[Cr].append(G,pe)}pe({status:w,statusText:Zr[w],headersList:K[Cr],socket:G});return true}})))}}w.exports={fetch:fetch,Fetch:Fetch,fetching:fetching,finalizeAndReportTiming:finalizeAndReportTiming}},8939:(w,B,G)=>{"use strict";const{extractBody:K,mixinBody:pe,cloneBody:ye}=G(5472);const{Headers:Se,fill:Be,HeadersList:Qe}=G(824);const{FinalizationRegistry:Pe}=G(4375)();const Fe=G(701);const{isValidHTTPToken:Me,sameOrigin:Le,normalizeMethod:je,makePolicyContainer:qe,normalizeMethodRecord:We}=G(8524);const{forbiddenMethodsSet:Ge,corsSafeListedMethodsSet:ze,referrerPolicy:Ye,requestRedirect:Ke,requestMode:Xe,requestCredentials:rt,requestCache:it,requestDuplex:ot}=G(1411);const{kEnumerableProperty:at}=Fe;const{kHeaders:lt,kSignal:ct,kState:ut,kGuard:ft,kRealm:gt}=G(639);const{webidl:mt}=G(185);const{getGlobalOrigin:wt}=G(2071);const{URLSerializer:vt}=G(2059);const{kHeadersList:_t,kConstruct:It}=G(4980);const St=G(2613);const{getMaxListeners:Pt,setMaxListeners:Nt,getEventListeners:qt,defaultMaxListeners:Jt}=G(4434);let Zt=globalThis.TransformStream;const er=Symbol("abortController");const tr=new Pe((({signal:w,abort:B})=>{w.removeEventListener("abort",B)}));class Request{constructor(w,B={}){if(w===It){return}mt.argumentLengthCheck(arguments,1,{header:"Request constructor"});w=mt.converters.RequestInfo(w);B=mt.converters.RequestInit(B);this[gt]={settingsObject:{baseUrl:wt(),get origin(){return this.baseUrl?.origin},policyContainer:qe()}};let pe=null;let ye=null;const Pe=this[gt].settingsObject.baseUrl;let Ye=null;if(typeof w==="string"){let B;try{B=new URL(w,Pe)}catch(B){throw new TypeError("Failed to parse URL from "+w,{cause:B})}if(B.username||B.password){throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+w)}pe=makeRequest({urlList:[B]});ye="cors"}else{St(w instanceof Request);pe=w[ut];Ye=w[ct]}const Ke=this[gt].settingsObject.origin;let Xe="client";if(pe.window?.constructor?.name==="EnvironmentSettingsObject"&&Le(pe.window,Ke)){Xe=pe.window}if(B.window!=null){throw new TypeError(`'window' option '${Xe}' must be null`)}if("window"in B){Xe="no-window"}pe=makeRequest({method:pe.method,headersList:pe.headersList,unsafeRequest:pe.unsafeRequest,client:this[gt].settingsObject,window:Xe,priority:pe.priority,origin:pe.origin,referrer:pe.referrer,referrerPolicy:pe.referrerPolicy,mode:pe.mode,credentials:pe.credentials,cache:pe.cache,redirect:pe.redirect,integrity:pe.integrity,keepalive:pe.keepalive,reloadNavigation:pe.reloadNavigation,historyNavigation:pe.historyNavigation,urlList:[...pe.urlList]});const rt=Object.keys(B).length!==0;if(rt){if(pe.mode==="navigate"){pe.mode="same-origin"}pe.reloadNavigation=false;pe.historyNavigation=false;pe.origin="client";pe.referrer="client";pe.referrerPolicy="";pe.url=pe.urlList[pe.urlList.length-1];pe.urlList=[pe.url]}if(B.referrer!==undefined){const w=B.referrer;if(w===""){pe.referrer="no-referrer"}else{let B;try{B=new URL(w,Pe)}catch(B){throw new TypeError(`Referrer "${w}" is not a valid URL.`,{cause:B})}if(B.protocol==="about:"&&B.hostname==="client"||Ke&&!Le(B,this[gt].settingsObject.baseUrl)){pe.referrer="client"}else{pe.referrer=B}}}if(B.referrerPolicy!==undefined){pe.referrerPolicy=B.referrerPolicy}let it;if(B.mode!==undefined){it=B.mode}else{it=ye}if(it==="navigate"){throw mt.errors.exception({header:"Request constructor",message:"invalid request mode navigate."})}if(it!=null){pe.mode=it}if(B.credentials!==undefined){pe.credentials=B.credentials}if(B.cache!==undefined){pe.cache=B.cache}if(pe.cache==="only-if-cached"&&pe.mode!=="same-origin"){throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode")}if(B.redirect!==undefined){pe.redirect=B.redirect}if(B.integrity!=null){pe.integrity=String(B.integrity)}if(B.keepalive!==undefined){pe.keepalive=Boolean(B.keepalive)}if(B.method!==undefined){let w=B.method;if(!Me(w)){throw new TypeError(`'${w}' is not a valid HTTP method.`)}if(Ge.has(w.toUpperCase())){throw new TypeError(`'${w}' HTTP method is unsupported.`)}w=We[w]??je(w);pe.method=w}if(B.signal!==undefined){Ye=B.signal}this[ut]=pe;const ot=new AbortController;this[ct]=ot.signal;this[ct][gt]=this[gt];if(Ye!=null){if(!Ye||typeof Ye.aborted!=="boolean"||typeof Ye.addEventListener!=="function"){throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.")}if(Ye.aborted){ot.abort(Ye.reason)}else{this[er]=ot;const w=new WeakRef(ot);const abort=function(){const B=w.deref();if(B!==undefined){B.abort(this.reason)}};try{if(typeof Pt==="function"&&Pt(Ye)===Jt){Nt(100,Ye)}else if(qt(Ye,"abort").length>=Jt){Nt(100,Ye)}}catch{}Fe.addAbortListener(Ye,abort);tr.register(ot,{signal:Ye,abort:abort})}}this[lt]=new Se(It);this[lt][_t]=pe.headersList;this[lt][ft]="request";this[lt][gt]=this[gt];if(it==="no-cors"){if(!ze.has(pe.method)){throw new TypeError(`'${pe.method} is unsupported in no-cors mode.`)}this[lt][ft]="request-no-cors"}if(rt){const w=this[lt][_t];const G=B.headers!==undefined?B.headers:new Qe(w);w.clear();if(G instanceof Qe){for(const[B,K]of G){w.append(B,K)}w.cookies=G.cookies}else{Be(this[lt],G)}}const at=w instanceof Request?w[ut].body:null;if((B.body!=null||at!=null)&&(pe.method==="GET"||pe.method==="HEAD")){throw new TypeError("Request with GET/HEAD method cannot have body.")}let vt=null;if(B.body!=null){const[w,G]=K(B.body,pe.keepalive);vt=w;if(G&&!this[lt][_t].contains("content-type")){this[lt].append("content-type",G)}}const nr=vt??at;if(nr!=null&&nr.source==null){if(vt!=null&&B.duplex==null){throw new TypeError("RequestInit: duplex option is required when sending a body.")}if(pe.mode!=="same-origin"&&pe.mode!=="cors"){throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"')}pe.useCORSPreflightFlag=true}let lr=nr;if(vt==null&&at!=null){if(Fe.isDisturbed(at.stream)||at.stream.locked){throw new TypeError("Cannot construct a Request with a Request object that has already been used.")}if(!Zt){Zt=G(3774).TransformStream}const w=new Zt;at.stream.pipeThrough(w);lr={source:at.source,length:at.length,stream:w.readable}}this[ut].body=lr}get method(){mt.brandCheck(this,Request);return this[ut].method}get url(){mt.brandCheck(this,Request);return vt(this[ut].url)}get headers(){mt.brandCheck(this,Request);return this[lt]}get destination(){mt.brandCheck(this,Request);return this[ut].destination}get referrer(){mt.brandCheck(this,Request);if(this[ut].referrer==="no-referrer"){return""}if(this[ut].referrer==="client"){return"about:client"}return this[ut].referrer.toString()}get referrerPolicy(){mt.brandCheck(this,Request);return this[ut].referrerPolicy}get mode(){mt.brandCheck(this,Request);return this[ut].mode}get credentials(){return this[ut].credentials}get cache(){mt.brandCheck(this,Request);return this[ut].cache}get redirect(){mt.brandCheck(this,Request);return this[ut].redirect}get integrity(){mt.brandCheck(this,Request);return this[ut].integrity}get keepalive(){mt.brandCheck(this,Request);return this[ut].keepalive}get isReloadNavigation(){mt.brandCheck(this,Request);return this[ut].reloadNavigation}get isHistoryNavigation(){mt.brandCheck(this,Request);return this[ut].historyNavigation}get signal(){mt.brandCheck(this,Request);return this[ct]}get body(){mt.brandCheck(this,Request);return this[ut].body?this[ut].body.stream:null}get bodyUsed(){mt.brandCheck(this,Request);return!!this[ut].body&&Fe.isDisturbed(this[ut].body.stream)}get duplex(){mt.brandCheck(this,Request);return"half"}clone(){mt.brandCheck(this,Request);if(this.bodyUsed||this.body?.locked){throw new TypeError("unusable")}const w=cloneRequest(this[ut]);const B=new Request(It);B[ut]=w;B[gt]=this[gt];B[lt]=new Se(It);B[lt][_t]=w.headersList;B[lt][ft]=this[lt][ft];B[lt][gt]=this[lt][gt];const G=new AbortController;if(this.signal.aborted){G.abort(this.signal.reason)}else{Fe.addAbortListener(this.signal,(()=>{G.abort(this.signal.reason)}))}B[ct]=G.signal;return B}}pe(Request);function makeRequest(w){const B={method:"GET",localURLsOnly:false,unsafeRequest:false,body:null,client:null,reservedClient:null,replacesClientId:"",window:"client",keepalive:false,serviceWorkers:"all",initiator:"",destination:"",priority:null,origin:"client",policyContainer:"client",referrer:"client",referrerPolicy:"",mode:"no-cors",useCORSPreflightFlag:false,credentials:"same-origin",useCredentials:false,cache:"default",redirect:"follow",integrity:"",cryptoGraphicsNonceMetadata:"",parserMetadata:"",reloadNavigation:false,historyNavigation:false,userActivation:false,taintedOrigin:false,redirectCount:0,responseTainting:"basic",preventNoCacheCacheControlHeaderModification:false,done:false,timingAllowFailed:false,...w,headersList:w.headersList?new Qe(w.headersList):new Qe};B.url=B.urlList[0];return B}function cloneRequest(w){const B=makeRequest({...w,body:null});if(w.body!=null){B.body=ye(w.body)}return B}Object.defineProperties(Request.prototype,{method:at,url:at,headers:at,redirect:at,clone:at,signal:at,duplex:at,destination:at,body:at,bodyUsed:at,isHistoryNavigation:at,isReloadNavigation:at,keepalive:at,integrity:at,cache:at,credentials:at,attribute:at,referrerPolicy:at,referrer:at,mode:at,[Symbol.toStringTag]:{value:"Request",configurable:true}});mt.converters.Request=mt.interfaceConverter(Request);mt.converters.RequestInfo=function(w){if(typeof w==="string"){return mt.converters.USVString(w)}if(w instanceof Request){return mt.converters.Request(w)}return mt.converters.USVString(w)};mt.converters.AbortSignal=mt.interfaceConverter(AbortSignal);mt.converters.RequestInit=mt.dictionaryConverter([{key:"method",converter:mt.converters.ByteString},{key:"headers",converter:mt.converters.HeadersInit},{key:"body",converter:mt.nullableConverter(mt.converters.BodyInit)},{key:"referrer",converter:mt.converters.USVString},{key:"referrerPolicy",converter:mt.converters.DOMString,allowedValues:Ye},{key:"mode",converter:mt.converters.DOMString,allowedValues:Xe},{key:"credentials",converter:mt.converters.DOMString,allowedValues:rt},{key:"cache",converter:mt.converters.DOMString,allowedValues:it},{key:"redirect",converter:mt.converters.DOMString,allowedValues:Ke},{key:"integrity",converter:mt.converters.DOMString},{key:"keepalive",converter:mt.converters.boolean},{key:"signal",converter:mt.nullableConverter((w=>mt.converters.AbortSignal(w,{strict:false})))},{key:"window",converter:mt.converters.any},{key:"duplex",converter:mt.converters.DOMString,allowedValues:ot}]);w.exports={Request:Request,makeRequest:makeRequest}},2111:(w,B,G)=>{"use strict";const{Headers:K,HeadersList:pe,fill:ye}=G(824);const{extractBody:Se,cloneBody:Be,mixinBody:Qe}=G(5472);const Pe=G(701);const{kEnumerableProperty:Fe}=Pe;const{isValidReasonPhrase:Me,isCancelled:Le,isAborted:je,isBlobLike:qe,serializeJavascriptValueToJSONString:We,isErrorLike:Ge,isomorphicEncode:ze}=G(8524);const{redirectStatusSet:Ye,nullBodyStatus:Ke,DOMException:Xe}=G(1411);const{kState:rt,kHeaders:it,kGuard:ot,kRealm:at}=G(639);const{webidl:lt}=G(185);const{FormData:ct}=G(98);const{getGlobalOrigin:ut}=G(2071);const{URLSerializer:ft}=G(2059);const{kHeadersList:gt,kConstruct:mt}=G(4980);const wt=G(2613);const{types:vt}=G(9023);const _t=globalThis.ReadableStream||G(3774).ReadableStream;const It=new TextEncoder("utf-8");class Response{static error(){const w={settingsObject:{}};const B=new Response;B[rt]=makeNetworkError();B[at]=w;B[it][gt]=B[rt].headersList;B[it][ot]="immutable";B[it][at]=w;return B}static json(w,B={}){lt.argumentLengthCheck(arguments,1,{header:"Response.json"});if(B!==null){B=lt.converters.ResponseInit(B)}const G=It.encode(We(w));const K=Se(G);const pe={settingsObject:{}};const ye=new Response;ye[at]=pe;ye[it][ot]="response";ye[it][at]=pe;initializeResponse(ye,B,{body:K[0],type:"application/json"});return ye}static redirect(w,B=302){const G={settingsObject:{}};lt.argumentLengthCheck(arguments,1,{header:"Response.redirect"});w=lt.converters.USVString(w);B=lt.converters["unsigned short"](B);let K;try{K=new URL(w,ut())}catch(B){throw Object.assign(new TypeError("Failed to parse URL from "+w),{cause:B})}if(!Ye.has(B)){throw new RangeError("Invalid status code "+B)}const pe=new Response;pe[at]=G;pe[it][ot]="immutable";pe[it][at]=G;pe[rt].status=B;const ye=ze(ft(K));pe[rt].headersList.append("location",ye);return pe}constructor(w=null,B={}){if(w!==null){w=lt.converters.BodyInit(w)}B=lt.converters.ResponseInit(B);this[at]={settingsObject:{}};this[rt]=makeResponse({});this[it]=new K(mt);this[it][ot]="response";this[it][gt]=this[rt].headersList;this[it][at]=this[at];let G=null;if(w!=null){const[B,K]=Se(w);G={body:B,type:K}}initializeResponse(this,B,G)}get type(){lt.brandCheck(this,Response);return this[rt].type}get url(){lt.brandCheck(this,Response);const w=this[rt].urlList;const B=w[w.length-1]??null;if(B===null){return""}return ft(B,true)}get redirected(){lt.brandCheck(this,Response);return this[rt].urlList.length>1}get status(){lt.brandCheck(this,Response);return this[rt].status}get ok(){lt.brandCheck(this,Response);return this[rt].status>=200&&this[rt].status<=299}get statusText(){lt.brandCheck(this,Response);return this[rt].statusText}get headers(){lt.brandCheck(this,Response);return this[it]}get body(){lt.brandCheck(this,Response);return this[rt].body?this[rt].body.stream:null}get bodyUsed(){lt.brandCheck(this,Response);return!!this[rt].body&&Pe.isDisturbed(this[rt].body.stream)}clone(){lt.brandCheck(this,Response);if(this.bodyUsed||this.body&&this.body.locked){throw lt.errors.exception({header:"Response.clone",message:"Body has already been consumed."})}const w=cloneResponse(this[rt]);const B=new Response;B[rt]=w;B[at]=this[at];B[it][gt]=w.headersList;B[it][ot]=this[it][ot];B[it][at]=this[it][at];return B}}Qe(Response);Object.defineProperties(Response.prototype,{type:Fe,url:Fe,status:Fe,ok:Fe,redirected:Fe,statusText:Fe,headers:Fe,clone:Fe,body:Fe,bodyUsed:Fe,[Symbol.toStringTag]:{value:"Response",configurable:true}});Object.defineProperties(Response,{json:Fe,redirect:Fe,error:Fe});function cloneResponse(w){if(w.internalResponse){return filterResponse(cloneResponse(w.internalResponse),w.type)}const B=makeResponse({...w,body:null});if(w.body!=null){B.body=Be(w.body)}return B}function makeResponse(w){return{aborted:false,rangeRequested:false,timingAllowPassed:false,requestIncludesCredentials:false,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...w,headersList:w.headersList?new pe(w.headersList):new pe,urlList:w.urlList?[...w.urlList]:[]}}function makeNetworkError(w){const B=Ge(w);return makeResponse({type:"error",status:0,error:B?w:new Error(w?String(w):w),aborted:w&&w.name==="AbortError"})}function makeFilteredResponse(w,B){B={internalResponse:w,...B};return new Proxy(w,{get(w,G){return G in B?B[G]:w[G]},set(w,G,K){wt(!(G in B));w[G]=K;return true}})}function filterResponse(w,B){if(B==="basic"){return makeFilteredResponse(w,{type:"basic",headersList:w.headersList})}else if(B==="cors"){return makeFilteredResponse(w,{type:"cors",headersList:w.headersList})}else if(B==="opaque"){return makeFilteredResponse(w,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null})}else if(B==="opaqueredirect"){return makeFilteredResponse(w,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null})}else{wt(false)}}function makeAppropriateNetworkError(w,B=null){wt(Le(w));return je(w)?makeNetworkError(Object.assign(new Xe("The operation was aborted.","AbortError"),{cause:B})):makeNetworkError(Object.assign(new Xe("Request was cancelled."),{cause:B}))}function initializeResponse(w,B,G){if(B.status!==null&&(B.status<200||B.status>599)){throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.')}if("statusText"in B&&B.statusText!=null){if(!Me(String(B.statusText))){throw new TypeError("Invalid statusText")}}if("status"in B&&B.status!=null){w[rt].status=B.status}if("statusText"in B&&B.statusText!=null){w[rt].statusText=B.statusText}if("headers"in B&&B.headers!=null){ye(w[it],B.headers)}if(G){if(Ke.includes(w.status)){throw lt.errors.exception({header:"Response constructor",message:"Invalid response status code "+w.status})}w[rt].body=G.body;if(G.type!=null&&!w[rt].headersList.contains("Content-Type")){w[rt].headersList.append("content-type",G.type)}}}lt.converters.ReadableStream=lt.interfaceConverter(_t);lt.converters.FormData=lt.interfaceConverter(ct);lt.converters.URLSearchParams=lt.interfaceConverter(URLSearchParams);lt.converters.XMLHttpRequestBodyInit=function(w){if(typeof w==="string"){return lt.converters.USVString(w)}if(qe(w)){return lt.converters.Blob(w,{strict:false})}if(vt.isArrayBuffer(w)||vt.isTypedArray(w)||vt.isDataView(w)){return lt.converters.BufferSource(w)}if(Pe.isFormDataLike(w)){return lt.converters.FormData(w,{strict:false})}if(w instanceof URLSearchParams){return lt.converters.URLSearchParams(w)}return lt.converters.DOMString(w)};lt.converters.BodyInit=function(w){if(w instanceof _t){return lt.converters.ReadableStream(w)}if(w?.[Symbol.asyncIterator]){return w}return lt.converters.XMLHttpRequestBodyInit(w)};lt.converters.ResponseInit=lt.dictionaryConverter([{key:"status",converter:lt.converters["unsigned short"],defaultValue:200},{key:"statusText",converter:lt.converters.ByteString,defaultValue:""},{key:"headers",converter:lt.converters.HeadersInit}]);w.exports={makeNetworkError:makeNetworkError,makeResponse:makeResponse,makeAppropriateNetworkError:makeAppropriateNetworkError,filterResponse:filterResponse,Response:Response,cloneResponse:cloneResponse}},639:w=>{"use strict";w.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kGuard:Symbol("guard"),kRealm:Symbol("realm")}},8524:(w,B,G)=>{"use strict";const{redirectStatusSet:K,referrerPolicySet:pe,badPortsSet:ye}=G(1411);const{getGlobalOrigin:Se}=G(2071);const{performance:Be}=G(2987);const{isBlobLike:Qe,toUSVString:Pe,ReadableStreamFrom:Fe}=G(701);const Me=G(2613);const{isUint8Array:Le}=G(8253);let je=[];let qe;try{qe=G(6982);const w=["sha256","sha384","sha512"];je=qe.getHashes().filter((B=>w.includes(B)))}catch{}function responseURL(w){const B=w.urlList;const G=B.length;return G===0?null:B[G-1].toString()}function responseLocationURL(w,B){if(!K.has(w.status)){return null}let G=w.headersList.get("location");if(G!==null&&isValidHeaderValue(G)){G=new URL(G,responseURL(w))}if(G&&!G.hash){G.hash=B}return G}function requestCurrentURL(w){return w.urlList[w.urlList.length-1]}function requestBadPort(w){const B=requestCurrentURL(w);if(urlIsHttpHttpsScheme(B)&&ye.has(B.port)){return"blocked"}return"allowed"}function isErrorLike(w){return w instanceof Error||(w?.constructor?.name==="Error"||w?.constructor?.name==="DOMException")}function isValidReasonPhrase(w){for(let B=0;B<w.length;++B){const G=w.charCodeAt(B);if(!(G===9||G>=32&&G<=126||G>=128&&G<=255)){return false}}return true}function isTokenCharCode(w){switch(w){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return false;default:return w>=33&&w<=126}}function isValidHTTPToken(w){if(w.length===0){return false}for(let B=0;B<w.length;++B){if(!isTokenCharCode(w.charCodeAt(B))){return false}}return true}function isValidHeaderName(w){return isValidHTTPToken(w)}function isValidHeaderValue(w){if(w.startsWith("\t")||w.startsWith(" ")||w.endsWith("\t")||w.endsWith(" ")){return false}if(w.includes("\0")||w.includes("\r")||w.includes("\n")){return false}return true}function setRequestReferrerPolicyOnRedirect(w,B){const{headersList:G}=B;const K=(G.get("referrer-policy")??"").split(",");let ye="";if(K.length>0){for(let w=K.length;w!==0;w--){const B=K[w-1].trim();if(pe.has(B)){ye=B;break}}}if(ye!==""){w.referrerPolicy=ye}}function crossOriginResourcePolicyCheck(){return"allowed"}function corsCheck(){return"success"}function TAOCheck(){return"success"}function appendFetchMetadata(w){let B=null;B=w.mode;w.headersList.set("sec-fetch-mode",B)}function appendRequestOriginHeader(w){let B=w.origin;if(w.responseTainting==="cors"||w.mode==="websocket"){if(B){w.headersList.append("origin",B)}}else if(w.method!=="GET"&&w.method!=="HEAD"){switch(w.referrerPolicy){case"no-referrer":B=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":if(w.origin&&urlHasHttpsScheme(w.origin)&&!urlHasHttpsScheme(requestCurrentURL(w))){B=null}break;case"same-origin":if(!sameOrigin(w,requestCurrentURL(w))){B=null}break;default:}if(B){w.headersList.append("origin",B)}}}function coarsenedSharedCurrentTime(w){return Be.now()}function createOpaqueTimingInfo(w){return{startTime:w.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:w.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function makePolicyContainer(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function clonePolicyContainer(w){return{referrerPolicy:w.referrerPolicy}}function determineRequestsReferrer(w){const B=w.referrerPolicy;Me(B);let G=null;if(w.referrer==="client"){const w=Se();if(!w||w.origin==="null"){return"no-referrer"}G=new URL(w)}else if(w.referrer instanceof URL){G=w.referrer}let K=stripURLForReferrer(G);const pe=stripURLForReferrer(G,true);if(K.toString().length>4096){K=pe}const ye=sameOrigin(w,K);const Be=isURLPotentiallyTrustworthy(K)&&!isURLPotentiallyTrustworthy(w.url);switch(B){case"origin":return pe!=null?pe:stripURLForReferrer(G,true);case"unsafe-url":return K;case"same-origin":return ye?pe:"no-referrer";case"origin-when-cross-origin":return ye?K:pe;case"strict-origin-when-cross-origin":{const B=requestCurrentURL(w);if(sameOrigin(K,B)){return K}if(isURLPotentiallyTrustworthy(K)&&!isURLPotentiallyTrustworthy(B)){return"no-referrer"}return pe}case"strict-origin":case"no-referrer-when-downgrade":default:return Be?"no-referrer":pe}}function stripURLForReferrer(w,B){Me(w instanceof URL);if(w.protocol==="file:"||w.protocol==="about:"||w.protocol==="blank:"){return"no-referrer"}w.username="";w.password="";w.hash="";if(B){w.pathname="";w.search=""}return w}function isURLPotentiallyTrustworthy(w){if(!(w instanceof URL)){return false}if(w.href==="about:blank"||w.href==="about:srcdoc"){return true}if(w.protocol==="data:")return true;if(w.protocol==="file:")return true;return isOriginPotentiallyTrustworthy(w.origin);function isOriginPotentiallyTrustworthy(w){if(w==null||w==="null")return false;const B=new URL(w);if(B.protocol==="https:"||B.protocol==="wss:"){return true}if(/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(B.hostname)||(B.hostname==="localhost"||B.hostname.includes("localhost."))||B.hostname.endsWith(".localhost")){return true}return false}}function bytesMatch(w,B){if(qe===undefined){return true}const G=parseMetadata(B);if(G==="no metadata"){return true}if(G.length===0){return true}const K=getStrongestMetadata(G);const pe=filterMetadataListByAlgorithm(G,K);for(const B of pe){const G=B.algo;const K=B.hash;let pe=qe.createHash(G).update(w).digest("base64");if(pe[pe.length-1]==="="){if(pe[pe.length-2]==="="){pe=pe.slice(0,-2)}else{pe=pe.slice(0,-1)}}if(compareBase64Mixed(pe,K)){return true}}return false}const We=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function parseMetadata(w){const B=[];let G=true;for(const K of w.split(" ")){G=false;const w=We.exec(K);if(w===null||w.groups===undefined||w.groups.algo===undefined){continue}const pe=w.groups.algo.toLowerCase();if(je.includes(pe)){B.push(w.groups)}}if(G===true){return"no metadata"}return B}function getStrongestMetadata(w){let B=w[0].algo;if(B[3]==="5"){return B}for(let G=1;G<w.length;++G){const K=w[G];if(K.algo[3]==="5"){B="sha512";break}else if(B[3]==="3"){continue}else if(K.algo[3]==="3"){B="sha384"}}return B}function filterMetadataListByAlgorithm(w,B){if(w.length===1){return w}let G=0;for(let K=0;K<w.length;++K){if(w[K].algo===B){w[G++]=w[K]}}w.length=G;return w}function compareBase64Mixed(w,B){if(w.length!==B.length){return false}for(let G=0;G<w.length;++G){if(w[G]!==B[G]){if(w[G]==="+"&&B[G]==="-"||w[G]==="/"&&B[G]==="_"){continue}return false}}return true}function tryUpgradeRequestToAPotentiallyTrustworthyURL(w){}function sameOrigin(w,B){if(w.origin===B.origin&&w.origin==="null"){return true}if(w.protocol===B.protocol&&w.hostname===B.hostname&&w.port===B.port){return true}return false}function createDeferredPromise(){let w;let B;const G=new Promise(((G,K)=>{w=G;B=K}));return{promise:G,resolve:w,reject:B}}function isAborted(w){return w.controller.state==="aborted"}function isCancelled(w){return w.controller.state==="aborted"||w.controller.state==="terminated"}const Ge={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"};Object.setPrototypeOf(Ge,null);function normalizeMethod(w){return Ge[w.toLowerCase()]??w}function serializeJavascriptValueToJSONString(w){const B=JSON.stringify(w);if(B===undefined){throw new TypeError("Value is not JSON serializable")}Me(typeof B==="string");return B}const ze=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function makeIterator(w,B,G){const K={index:0,kind:G,target:w};const pe={next(){if(Object.getPrototypeOf(this)!==pe){throw new TypeError(`'next' called on an object that does not implement interface ${B} Iterator.`)}const{index:w,kind:G,target:ye}=K;const Se=ye();const Be=Se.length;if(w>=Be){return{value:undefined,done:true}}const Qe=Se[w];K.index=w+1;return iteratorResult(Qe,G)},[Symbol.toStringTag]:`${B} Iterator`};Object.setPrototypeOf(pe,ze);return Object.setPrototypeOf({},pe)}function iteratorResult(w,B){let G;switch(B){case"key":{G=w[0];break}case"value":{G=w[1];break}case"key+value":{G=w;break}}return{value:G,done:false}}async function fullyReadBody(w,B,G){const K=B;const pe=G;let ye;try{ye=w.stream.getReader()}catch(w){pe(w);return}try{const w=await readAllBytes(ye);K(w)}catch(w){pe(w)}}let Ye=globalThis.ReadableStream;function isReadableStreamLike(w){if(!Ye){Ye=G(3774).ReadableStream}return w instanceof Ye||w[Symbol.toStringTag]==="ReadableStream"&&typeof w.tee==="function"}const Ke=65535;function isomorphicDecode(w){if(w.length<Ke){return String.fromCharCode(...w)}return w.reduce(((w,B)=>w+String.fromCharCode(B)),"")}function readableStreamClose(w){try{w.close()}catch(w){if(!w.message.includes("Controller is already closed")){throw w}}}function isomorphicEncode(w){for(let B=0;B<w.length;B++){Me(w.charCodeAt(B)<=255)}return w}async function readAllBytes(w){const B=[];let G=0;while(true){const{done:K,value:pe}=await w.read();if(K){return Buffer.concat(B,G)}if(!Le(pe)){throw new TypeError("Received non-Uint8Array chunk")}B.push(pe);G+=pe.length}}function urlIsLocal(w){Me("protocol"in w);const B=w.protocol;return B==="about:"||B==="blob:"||B==="data:"}function urlHasHttpsScheme(w){if(typeof w==="string"){return w.startsWith("https:")}return w.protocol==="https:"}function urlIsHttpHttpsScheme(w){Me("protocol"in w);const B=w.protocol;return B==="http:"||B==="https:"}const Xe=Object.hasOwn||((w,B)=>Object.prototype.hasOwnProperty.call(w,B));w.exports={isAborted:isAborted,isCancelled:isCancelled,createDeferredPromise:createDeferredPromise,ReadableStreamFrom:Fe,toUSVString:Pe,tryUpgradeRequestToAPotentiallyTrustworthyURL:tryUpgradeRequestToAPotentiallyTrustworthyURL,coarsenedSharedCurrentTime:coarsenedSharedCurrentTime,determineRequestsReferrer:determineRequestsReferrer,makePolicyContainer:makePolicyContainer,clonePolicyContainer:clonePolicyContainer,appendFetchMetadata:appendFetchMetadata,appendRequestOriginHeader:appendRequestOriginHeader,TAOCheck:TAOCheck,corsCheck:corsCheck,crossOriginResourcePolicyCheck:crossOriginResourcePolicyCheck,createOpaqueTimingInfo:createOpaqueTimingInfo,setRequestReferrerPolicyOnRedirect:setRequestReferrerPolicyOnRedirect,isValidHTTPToken:isValidHTTPToken,requestBadPort:requestBadPort,requestCurrentURL:requestCurrentURL,responseURL:responseURL,responseLocationURL:responseLocationURL,isBlobLike:Qe,isURLPotentiallyTrustworthy:isURLPotentiallyTrustworthy,isValidReasonPhrase:isValidReasonPhrase,sameOrigin:sameOrigin,normalizeMethod:normalizeMethod,serializeJavascriptValueToJSONString:serializeJavascriptValueToJSONString,makeIterator:makeIterator,isValidHeaderName:isValidHeaderName,isValidHeaderValue:isValidHeaderValue,hasOwn:Xe,isErrorLike:isErrorLike,fullyReadBody:fullyReadBody,bytesMatch:bytesMatch,isReadableStreamLike:isReadableStreamLike,readableStreamClose:readableStreamClose,isomorphicEncode:isomorphicEncode,isomorphicDecode:isomorphicDecode,urlIsLocal:urlIsLocal,urlHasHttpsScheme:urlHasHttpsScheme,urlIsHttpHttpsScheme:urlIsHttpHttpsScheme,readAllBytes:readAllBytes,normalizeMethodRecord:Ge,parseMetadata:parseMetadata}},185:(w,B,G)=>{"use strict";const{types:K}=G(9023);const{hasOwn:pe,toUSVString:ye}=G(8524);const Se={};Se.converters={};Se.util={};Se.errors={};Se.errors.exception=function(w){return new TypeError(`${w.header}: ${w.message}`)};Se.errors.conversionFailed=function(w){const B=w.types.length===1?"":" one of";const G=`${w.argument} could not be converted to`+`${B}: ${w.types.join(", ")}.`;return Se.errors.exception({header:w.prefix,message:G})};Se.errors.invalidArgument=function(w){return Se.errors.exception({header:w.prefix,message:`"${w.value}" is an invalid ${w.type}.`})};Se.brandCheck=function(w,B,G=undefined){if(G?.strict!==false&&!(w instanceof B)){throw new TypeError("Illegal invocation")}else{return w?.[Symbol.toStringTag]===B.prototype[Symbol.toStringTag]}};Se.argumentLengthCheck=function({length:w},B,G){if(w<B){throw Se.errors.exception({message:`${B} argument${B!==1?"s":""} required, `+`but${w?" only":""} ${w} found.`,...G})}};Se.illegalConstructor=function(){throw Se.errors.exception({header:"TypeError",message:"Illegal constructor"})};Se.util.Type=function(w){switch(typeof w){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":{if(w===null){return"Null"}return"Object"}}};Se.util.ConvertToInt=function(w,B,G,K={}){let pe;let ye;if(B===64){pe=Math.pow(2,53)-1;if(G==="unsigned"){ye=0}else{ye=Math.pow(-2,53)+1}}else if(G==="unsigned"){ye=0;pe=Math.pow(2,B)-1}else{ye=Math.pow(-2,B)-1;pe=Math.pow(2,B-1)-1}let Be=Number(w);if(Be===0){Be=0}if(K.enforceRange===true){if(Number.isNaN(Be)||Be===Number.POSITIVE_INFINITY||Be===Number.NEGATIVE_INFINITY){throw Se.errors.exception({header:"Integer conversion",message:`Could not convert ${w} to an integer.`})}Be=Se.util.IntegerPart(Be);if(Be<ye||Be>pe){throw Se.errors.exception({header:"Integer conversion",message:`Value must be between ${ye}-${pe}, got ${Be}.`})}return Be}if(!Number.isNaN(Be)&&K.clamp===true){Be=Math.min(Math.max(Be,ye),pe);if(Math.floor(Be)%2===0){Be=Math.floor(Be)}else{Be=Math.ceil(Be)}return Be}if(Number.isNaN(Be)||Be===0&&Object.is(0,Be)||Be===Number.POSITIVE_INFINITY||Be===Number.NEGATIVE_INFINITY){return 0}Be=Se.util.IntegerPart(Be);Be=Be%Math.pow(2,B);if(G==="signed"&&Be>=Math.pow(2,B)-1){return Be-Math.pow(2,B)}return Be};Se.util.IntegerPart=function(w){const B=Math.floor(Math.abs(w));if(w<0){return-1*B}return B};Se.sequenceConverter=function(w){return B=>{if(Se.util.Type(B)!=="Object"){throw Se.errors.exception({header:"Sequence",message:`Value of type ${Se.util.Type(B)} is not an Object.`})}const G=B?.[Symbol.iterator]?.();const K=[];if(G===undefined||typeof G.next!=="function"){throw Se.errors.exception({header:"Sequence",message:"Object is not an iterator."})}while(true){const{done:B,value:pe}=G.next();if(B){break}K.push(w(pe))}return K}};Se.recordConverter=function(w,B){return G=>{if(Se.util.Type(G)!=="Object"){throw Se.errors.exception({header:"Record",message:`Value of type ${Se.util.Type(G)} is not an Object.`})}const pe={};if(!K.isProxy(G)){const K=Object.keys(G);for(const ye of K){const K=w(ye);const Se=B(G[ye]);pe[K]=Se}return pe}const ye=Reflect.ownKeys(G);for(const K of ye){const ye=Reflect.getOwnPropertyDescriptor(G,K);if(ye?.enumerable){const ye=w(K);const Se=B(G[K]);pe[ye]=Se}}return pe}};Se.interfaceConverter=function(w){return(B,G={})=>{if(G.strict!==false&&!(B instanceof w)){throw Se.errors.exception({header:w.name,message:`Expected ${B} to be an instance of ${w.name}.`})}return B}};Se.dictionaryConverter=function(w){return B=>{const G=Se.util.Type(B);const K={};if(G==="Null"||G==="Undefined"){return K}else if(G!=="Object"){throw Se.errors.exception({header:"Dictionary",message:`Expected ${B} to be one of: Null, Undefined, Object.`})}for(const G of w){const{key:w,defaultValue:ye,required:Be,converter:Qe}=G;if(Be===true){if(!pe(B,w)){throw Se.errors.exception({header:"Dictionary",message:`Missing required key "${w}".`})}}let Pe=B[w];const Fe=pe(G,"defaultValue");if(Fe&&Pe!==null){Pe=Pe??ye}if(Be||Fe||Pe!==undefined){Pe=Qe(Pe);if(G.allowedValues&&!G.allowedValues.includes(Pe)){throw Se.errors.exception({header:"Dictionary",message:`${Pe} is not an accepted type. Expected one of ${G.allowedValues.join(", ")}.`})}K[w]=Pe}}return K}};Se.nullableConverter=function(w){return B=>{if(B===null){return B}return w(B)}};Se.converters.DOMString=function(w,B={}){if(w===null&&B.legacyNullToEmptyString){return""}if(typeof w==="symbol"){throw new TypeError("Could not convert argument of type symbol to string.")}return String(w)};Se.converters.ByteString=function(w){const B=Se.converters.DOMString(w);for(let w=0;w<B.length;w++){if(B.charCodeAt(w)>255){throw new TypeError("Cannot convert argument to a ByteString because the character at "+`index ${w} has a value of ${B.charCodeAt(w)} which is greater than 255.`)}}return B};Se.converters.USVString=ye;Se.converters.boolean=function(w){const B=Boolean(w);return B};Se.converters.any=function(w){return w};Se.converters["long long"]=function(w){const B=Se.util.ConvertToInt(w,64,"signed");return B};Se.converters["unsigned long long"]=function(w){const B=Se.util.ConvertToInt(w,64,"unsigned");return B};Se.converters["unsigned long"]=function(w){const B=Se.util.ConvertToInt(w,32,"unsigned");return B};Se.converters["unsigned short"]=function(w,B){const G=Se.util.ConvertToInt(w,16,"unsigned",B);return G};Se.converters.ArrayBuffer=function(w,B={}){if(Se.util.Type(w)!=="Object"||!K.isAnyArrayBuffer(w)){throw Se.errors.conversionFailed({prefix:`${w}`,argument:`${w}`,types:["ArrayBuffer"]})}if(B.allowShared===false&&K.isSharedArrayBuffer(w)){throw Se.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."})}return w};Se.converters.TypedArray=function(w,B,G={}){if(Se.util.Type(w)!=="Object"||!K.isTypedArray(w)||w.constructor.name!==B.name){throw Se.errors.conversionFailed({prefix:`${B.name}`,argument:`${w}`,types:[B.name]})}if(G.allowShared===false&&K.isSharedArrayBuffer(w.buffer)){throw Se.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."})}return w};Se.converters.DataView=function(w,B={}){if(Se.util.Type(w)!=="Object"||!K.isDataView(w)){throw Se.errors.exception({header:"DataView",message:"Object is not a DataView."})}if(B.allowShared===false&&K.isSharedArrayBuffer(w.buffer)){throw Se.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."})}return w};Se.converters.BufferSource=function(w,B={}){if(K.isAnyArrayBuffer(w)){return Se.converters.ArrayBuffer(w,B)}if(K.isTypedArray(w)){return Se.converters.TypedArray(w,w.constructor)}if(K.isDataView(w)){return Se.converters.DataView(w,B)}throw new TypeError(`Could not convert ${w} to a BufferSource.`)};Se.converters["sequence<ByteString>"]=Se.sequenceConverter(Se.converters.ByteString);Se.converters["sequence<sequence<ByteString>>"]=Se.sequenceConverter(Se.converters["sequence<ByteString>"]);Se.converters["record<ByteString, ByteString>"]=Se.recordConverter(Se.converters.ByteString,Se.converters.ByteString);w.exports={webidl:Se}},9187:w=>{"use strict";function getEncoding(w){if(!w){return"failure"}switch(w.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}w.exports={getEncoding:getEncoding}},2151:(w,B,G)=>{"use strict";const{staticPropertyDescriptors:K,readOperation:pe,fireAProgressEvent:ye}=G(3350);const{kState:Se,kError:Be,kResult:Qe,kEvents:Pe,kAborted:Fe}=G(821);const{webidl:Me}=G(185);const{kEnumerableProperty:Le}=G(701);class FileReader extends EventTarget{constructor(){super();this[Se]="empty";this[Qe]=null;this[Be]=null;this[Pe]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(w){Me.brandCheck(this,FileReader);Me.argumentLengthCheck(arguments,1,{header:"FileReader.readAsArrayBuffer"});w=Me.converters.Blob(w,{strict:false});pe(this,w,"ArrayBuffer")}readAsBinaryString(w){Me.brandCheck(this,FileReader);Me.argumentLengthCheck(arguments,1,{header:"FileReader.readAsBinaryString"});w=Me.converters.Blob(w,{strict:false});pe(this,w,"BinaryString")}readAsText(w,B=undefined){Me.brandCheck(this,FileReader);Me.argumentLengthCheck(arguments,1,{header:"FileReader.readAsText"});w=Me.converters.Blob(w,{strict:false});if(B!==undefined){B=Me.converters.DOMString(B)}pe(this,w,"Text",B)}readAsDataURL(w){Me.brandCheck(this,FileReader);Me.argumentLengthCheck(arguments,1,{header:"FileReader.readAsDataURL"});w=Me.converters.Blob(w,{strict:false});pe(this,w,"DataURL")}abort(){if(this[Se]==="empty"||this[Se]==="done"){this[Qe]=null;return}if(this[Se]==="loading"){this[Se]="done";this[Qe]=null}this[Fe]=true;ye("abort",this);if(this[Se]!=="loading"){ye("loadend",this)}}get readyState(){Me.brandCheck(this,FileReader);switch(this[Se]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){Me.brandCheck(this,FileReader);return this[Qe]}get error(){Me.brandCheck(this,FileReader);return this[Be]}get onloadend(){Me.brandCheck(this,FileReader);return this[Pe].loadend}set onloadend(w){Me.brandCheck(this,FileReader);if(this[Pe].loadend){this.removeEventListener("loadend",this[Pe].loadend)}if(typeof w==="function"){this[Pe].loadend=w;this.addEventListener("loadend",w)}else{this[Pe].loadend=null}}get onerror(){Me.brandCheck(this,FileReader);return this[Pe].error}set onerror(w){Me.brandCheck(this,FileReader);if(this[Pe].error){this.removeEventListener("error",this[Pe].error)}if(typeof w==="function"){this[Pe].error=w;this.addEventListener("error",w)}else{this[Pe].error=null}}get onloadstart(){Me.brandCheck(this,FileReader);return this[Pe].loadstart}set onloadstart(w){Me.brandCheck(this,FileReader);if(this[Pe].loadstart){this.removeEventListener("loadstart",this[Pe].loadstart)}if(typeof w==="function"){this[Pe].loadstart=w;this.addEventListener("loadstart",w)}else{this[Pe].loadstart=null}}get onprogress(){Me.brandCheck(this,FileReader);return this[Pe].progress}set onprogress(w){Me.brandCheck(this,FileReader);if(this[Pe].progress){this.removeEventListener("progress",this[Pe].progress)}if(typeof w==="function"){this[Pe].progress=w;this.addEventListener("progress",w)}else{this[Pe].progress=null}}get onload(){Me.brandCheck(this,FileReader);return this[Pe].load}set onload(w){Me.brandCheck(this,FileReader);if(this[Pe].load){this.removeEventListener("load",this[Pe].load)}if(typeof w==="function"){this[Pe].load=w;this.addEventListener("load",w)}else{this[Pe].load=null}}get onabort(){Me.brandCheck(this,FileReader);return this[Pe].abort}set onabort(w){Me.brandCheck(this,FileReader);if(this[Pe].abort){this.removeEventListener("abort",this[Pe].abort)}if(typeof w==="function"){this[Pe].abort=w;this.addEventListener("abort",w)}else{this[Pe].abort=null}}}FileReader.EMPTY=FileReader.prototype.EMPTY=0;FileReader.LOADING=FileReader.prototype.LOADING=1;FileReader.DONE=FileReader.prototype.DONE=2;Object.defineProperties(FileReader.prototype,{EMPTY:K,LOADING:K,DONE:K,readAsArrayBuffer:Le,readAsBinaryString:Le,readAsText:Le,readAsDataURL:Le,abort:Le,readyState:Le,result:Le,error:Le,onloadstart:Le,onprogress:Le,onload:Le,onabort:Le,onerror:Le,onloadend:Le,[Symbol.toStringTag]:{value:"FileReader",writable:false,enumerable:false,configurable:true}});Object.defineProperties(FileReader,{EMPTY:K,LOADING:K,DONE:K});w.exports={FileReader:FileReader}},2889:(w,B,G)=>{"use strict";const{webidl:K}=G(185);const pe=Symbol("ProgressEvent state");class ProgressEvent extends Event{constructor(w,B={}){w=K.converters.DOMString(w);B=K.converters.ProgressEventInit(B??{});super(w,B);this[pe]={lengthComputable:B.lengthComputable,loaded:B.loaded,total:B.total}}get lengthComputable(){K.brandCheck(this,ProgressEvent);return this[pe].lengthComputable}get loaded(){K.brandCheck(this,ProgressEvent);return this[pe].loaded}get total(){K.brandCheck(this,ProgressEvent);return this[pe].total}}K.converters.ProgressEventInit=K.dictionaryConverter([{key:"lengthComputable",converter:K.converters.boolean,defaultValue:false},{key:"loaded",converter:K.converters["unsigned long long"],defaultValue:0},{key:"total",converter:K.converters["unsigned long long"],defaultValue:0},{key:"bubbles",converter:K.converters.boolean,defaultValue:false},{key:"cancelable",converter:K.converters.boolean,defaultValue:false},{key:"composed",converter:K.converters.boolean,defaultValue:false}]);w.exports={ProgressEvent:ProgressEvent}},821:w=>{"use strict";w.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}},3350:(w,B,G)=>{"use strict";const{kState:K,kError:pe,kResult:ye,kAborted:Se,kLastProgressEventFired:Be}=G(821);const{ProgressEvent:Qe}=G(2889);const{getEncoding:Pe}=G(9187);const{DOMException:Fe}=G(1411);const{serializeAMimeType:Me,parseMIMEType:Le}=G(2059);const{types:je}=G(9023);const{StringDecoder:qe}=G(3193);const{btoa:We}=G(181);const Ge={enumerable:true,writable:false,configurable:false};function readOperation(w,B,G,Qe){if(w[K]==="loading"){throw new Fe("Invalid state","InvalidStateError")}w[K]="loading";w[ye]=null;w[pe]=null;const Pe=B.stream();const Me=Pe.getReader();const Le=[];let qe=Me.read();let We=true;(async()=>{while(!w[Se]){try{const{done:Pe,value:Fe}=await qe;if(We&&!w[Se]){queueMicrotask((()=>{fireAProgressEvent("loadstart",w)}))}We=false;if(!Pe&&je.isUint8Array(Fe)){Le.push(Fe);if((w[Be]===undefined||Date.now()-w[Be]>=50)&&!w[Se]){w[Be]=Date.now();queueMicrotask((()=>{fireAProgressEvent("progress",w)}))}qe=Me.read()}else if(Pe){queueMicrotask((()=>{w[K]="done";try{const K=packageData(Le,G,B.type,Qe);if(w[Se]){return}w[ye]=K;fireAProgressEvent("load",w)}catch(B){w[pe]=B;fireAProgressEvent("error",w)}if(w[K]!=="loading"){fireAProgressEvent("loadend",w)}}));break}}catch(B){if(w[Se]){return}queueMicrotask((()=>{w[K]="done";w[pe]=B;fireAProgressEvent("error",w);if(w[K]!=="loading"){fireAProgressEvent("loadend",w)}}));break}}})()}function fireAProgressEvent(w,B){const G=new Qe(w,{bubbles:false,cancelable:false});B.dispatchEvent(G)}function packageData(w,B,G,K){switch(B){case"DataURL":{let B="data:";const K=Le(G||"application/octet-stream");if(K!=="failure"){B+=Me(K)}B+=";base64,";const pe=new qe("latin1");for(const G of w){B+=We(pe.write(G))}B+=We(pe.end());return B}case"Text":{let B="failure";if(K){B=Pe(K)}if(B==="failure"&&G){const w=Le(G);if(w!=="failure"){B=Pe(w.parameters.get("charset"))}}if(B==="failure"){B="UTF-8"}return decode(w,B)}case"ArrayBuffer":{const B=combineByteSequences(w);return B.buffer}case"BinaryString":{let B="";const G=new qe("latin1");for(const K of w){B+=G.write(K)}B+=G.end();return B}}}function decode(w,B){const G=combineByteSequences(w);const K=BOMSniffing(G);let pe=0;if(K!==null){B=K;pe=K==="UTF-8"?3:2}const ye=G.slice(pe);return new TextDecoder(B).decode(ye)}function BOMSniffing(w){const[B,G,K]=w;if(B===239&&G===187&&K===191){return"UTF-8"}else if(B===254&&G===255){return"UTF-16BE"}else if(B===255&&G===254){return"UTF-16LE"}return null}function combineByteSequences(w){const B=w.reduce(((w,B)=>w+B.byteLength),0);let G=0;return w.reduce(((w,B)=>{w.set(B,G);G+=B.byteLength;return w}),new Uint8Array(B))}w.exports={staticPropertyDescriptors:Ge,readOperation:readOperation,fireAProgressEvent:fireAProgressEvent}},4662:(w,B,G)=>{"use strict";const K=Symbol.for("undici.globalDispatcher.1");const{InvalidArgumentError:pe}=G(1970);const ye=G(4724);if(getGlobalDispatcher()===undefined){setGlobalDispatcher(new ye)}function setGlobalDispatcher(w){if(!w||typeof w.dispatch!=="function"){throw new pe("Argument agent must implement Agent")}Object.defineProperty(globalThis,K,{value:w,writable:true,enumerable:false,configurable:false})}function getGlobalDispatcher(){return globalThis[K]}w.exports={setGlobalDispatcher:setGlobalDispatcher,getGlobalDispatcher:getGlobalDispatcher}},6459:w=>{"use strict";w.exports=class DecoratorHandler{constructor(w){this.handler=w}onConnect(...w){return this.handler.onConnect(...w)}onError(...w){return this.handler.onError(...w)}onUpgrade(...w){return this.handler.onUpgrade(...w)}onHeaders(...w){return this.handler.onHeaders(...w)}onData(...w){return this.handler.onData(...w)}onComplete(...w){return this.handler.onComplete(...w)}onBodySent(...w){return this.handler.onBodySent(...w)}}},762:(w,B,G)=>{"use strict";const K=G(701);const{kBodyUsed:pe}=G(4980);const ye=G(2613);const{InvalidArgumentError:Se}=G(1970);const Be=G(4434);const Qe=[300,301,302,303,307,308];const Pe=Symbol("body");class BodyAsyncIterable{constructor(w){this[Pe]=w;this[pe]=false}async*[Symbol.asyncIterator](){ye(!this[pe],"disturbed");this[pe]=true;yield*this[Pe]}}class RedirectHandler{constructor(w,B,G,Qe){if(B!=null&&(!Number.isInteger(B)||B<0)){throw new Se("maxRedirections must be a positive number")}K.validateHandler(Qe,G.method,G.upgrade);this.dispatch=w;this.location=null;this.abort=null;this.opts={...G,maxRedirections:0};this.maxRedirections=B;this.handler=Qe;this.history=[];if(K.isStream(this.opts.body)){if(K.bodyLength(this.opts.body)===0){this.opts.body.on("data",(function(){ye(false)}))}if(typeof this.opts.body.readableDidRead!=="boolean"){this.opts.body[pe]=false;Be.prototype.on.call(this.opts.body,"data",(function(){this[pe]=true}))}}else if(this.opts.body&&typeof this.opts.body.pipeTo==="function"){this.opts.body=new BodyAsyncIterable(this.opts.body)}else if(this.opts.body&&typeof this.opts.body!=="string"&&!ArrayBuffer.isView(this.opts.body)&&K.isIterable(this.opts.body)){this.opts.body=new BodyAsyncIterable(this.opts.body)}}onConnect(w){this.abort=w;this.handler.onConnect(w,{history:this.history})}onUpgrade(w,B,G){this.handler.onUpgrade(w,B,G)}onError(w){this.handler.onError(w)}onHeaders(w,B,G,pe){this.location=this.history.length>=this.maxRedirections||K.isDisturbed(this.opts.body)?null:parseLocation(w,B);if(this.opts.origin){this.history.push(new URL(this.opts.path,this.opts.origin))}if(!this.location){return this.handler.onHeaders(w,B,G,pe)}const{origin:ye,pathname:Se,search:Be}=K.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin)));const Qe=Be?`${Se}${Be}`:Se;this.opts.headers=cleanRequestHeaders(this.opts.headers,w===303,this.opts.origin!==ye);this.opts.path=Qe;this.opts.origin=ye;this.opts.maxRedirections=0;this.opts.query=null;if(w===303&&this.opts.method!=="HEAD"){this.opts.method="GET";this.opts.body=null}}onData(w){if(this.location){}else{return this.handler.onData(w)}}onComplete(w){if(this.location){this.location=null;this.abort=null;this.dispatch(this.opts,this)}else{this.handler.onComplete(w)}}onBodySent(w){if(this.handler.onBodySent){this.handler.onBodySent(w)}}}function parseLocation(w,B){if(Qe.indexOf(w)===-1){return null}for(let w=0;w<B.length;w+=2){if(B[w].toString().toLowerCase()==="location"){return B[w+1]}}}function shouldRemoveHeader(w,B,G){if(w.length===4){return K.headerNameToString(w)==="host"}if(B&&K.headerNameToString(w).startsWith("content-")){return true}if(G&&(w.length===13||w.length===6||w.length===19)){const B=K.headerNameToString(w);return B==="authorization"||B==="cookie"||B==="proxy-authorization"}return false}function cleanRequestHeaders(w,B,G){const K=[];if(Array.isArray(w)){for(let pe=0;pe<w.length;pe+=2){if(!shouldRemoveHeader(w[pe],B,G)){K.push(w[pe],w[pe+1])}}}else if(w&&typeof w==="object"){for(const pe of Object.keys(w)){if(!shouldRemoveHeader(pe,B,G)){K.push(pe,w[pe])}}}else{ye(w==null,"headers must be an object or an array")}return K}w.exports=RedirectHandler},5970:(w,B,G)=>{const K=G(2613);const{kRetryHandlerDefaultRetry:pe}=G(4980);const{RequestRetryError:ye}=G(1970);const{isDisturbed:Se,parseHeaders:Be,parseRangeHeader:Qe}=G(701);function calculateRetryAfterHeader(w){const B=Date.now();const G=new Date(w).getTime()-B;return G}class RetryHandler{constructor(w,B){const{retryOptions:G,...K}=w;const{retry:ye,maxRetries:Se,maxTimeout:Be,minTimeout:Qe,timeoutFactor:Pe,methods:Fe,errorCodes:Me,retryAfter:Le,statusCodes:je}=G??{};this.dispatch=B.dispatch;this.handler=B.handler;this.opts=K;this.abort=null;this.aborted=false;this.retryOpts={retry:ye??RetryHandler[pe],retryAfter:Le??true,maxTimeout:Be??30*1e3,timeout:Qe??500,timeoutFactor:Pe??2,maxRetries:Se??5,methods:Fe??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:je??[500,502,503,504,429],errorCodes:Me??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE"]};this.retryCount=0;this.start=0;this.end=null;this.etag=null;this.resume=null;this.handler.onConnect((w=>{this.aborted=true;if(this.abort){this.abort(w)}else{this.reason=w}}))}onRequestSent(){if(this.handler.onRequestSent){this.handler.onRequestSent()}}onUpgrade(w,B,G){if(this.handler.onUpgrade){this.handler.onUpgrade(w,B,G)}}onConnect(w){if(this.aborted){w(this.reason)}else{this.abort=w}}onBodySent(w){if(this.handler.onBodySent)return this.handler.onBodySent(w)}static[pe](w,{state:B,opts:G},K){const{statusCode:pe,code:ye,headers:Se}=w;const{method:Be,retryOptions:Qe}=G;const{maxRetries:Pe,timeout:Fe,maxTimeout:Me,timeoutFactor:Le,statusCodes:je,errorCodes:qe,methods:We}=Qe;let{counter:Ge,currentTimeout:ze}=B;ze=ze!=null&&ze>0?ze:Fe;if(ye&&ye!=="UND_ERR_REQ_RETRY"&&ye!=="UND_ERR_SOCKET"&&!qe.includes(ye)){K(w);return}if(Array.isArray(We)&&!We.includes(Be)){K(w);return}if(pe!=null&&Array.isArray(je)&&!je.includes(pe)){K(w);return}if(Ge>Pe){K(w);return}let Ye=Se!=null&&Se["retry-after"];if(Ye){Ye=Number(Ye);Ye=isNaN(Ye)?calculateRetryAfterHeader(Ye):Ye*1e3}const Ke=Ye>0?Math.min(Ye,Me):Math.min(ze*Le**Ge,Me);B.currentTimeout=Ke;setTimeout((()=>K(null)),Ke)}onHeaders(w,B,G,pe){const Se=Be(B);this.retryCount+=1;if(w>=300){this.abort(new ye("Request failed",w,{headers:Se,count:this.retryCount}));return false}if(this.resume!=null){this.resume=null;if(w!==206){return true}const B=Qe(Se["content-range"]);if(!B){this.abort(new ye("Content-Range mismatch",w,{headers:Se,count:this.retryCount}));return false}if(this.etag!=null&&this.etag!==Se.etag){this.abort(new ye("ETag mismatch",w,{headers:Se,count:this.retryCount}));return false}const{start:pe,size:Be,end:Pe=Be}=B;K(this.start===pe,"content-range mismatch");K(this.end==null||this.end===Pe,"content-range mismatch");this.resume=G;return true}if(this.end==null){if(w===206){const ye=Qe(Se["content-range"]);if(ye==null){return this.handler.onHeaders(w,B,G,pe)}const{start:Be,size:Pe,end:Fe=Pe}=ye;K(Be!=null&&Number.isFinite(Be)&&this.start!==Be,"content-range mismatch");K(Number.isFinite(Be));K(Fe!=null&&Number.isFinite(Fe)&&this.end!==Fe,"invalid content-length");this.start=Be;this.end=Fe}if(this.end==null){const w=Se["content-length"];this.end=w!=null?Number(w):null}K(Number.isFinite(this.start));K(this.end==null||Number.isFinite(this.end),"invalid content-length");this.resume=G;this.etag=Se.etag!=null?Se.etag:null;return this.handler.onHeaders(w,B,G,pe)}const Pe=new ye("Request failed",w,{headers:Se,count:this.retryCount});this.abort(Pe);return false}onData(w){this.start+=w.length;return this.handler.onData(w)}onComplete(w){this.retryCount=0;return this.handler.onComplete(w)}onError(w){if(this.aborted||Se(this.opts.body)){return this.handler.onError(w)}this.retryOpts.retry(w,{state:{counter:this.retryCount++,currentTimeout:this.retryAfter},opts:{retryOptions:this.retryOpts,...this.opts}},onRetry.bind(this));function onRetry(w){if(w!=null||this.aborted||Se(this.opts.body)){return this.handler.onError(w)}if(this.start!==0){this.opts={...this.opts,headers:{...this.opts.headers,range:`bytes=${this.start}-${this.end??""}`}}}try{this.dispatch(this.opts,this)}catch(w){this.handler.onError(w)}}}}w.exports=RetryHandler},2750:(w,B,G)=>{"use strict";const K=G(762);function createRedirectInterceptor({maxRedirections:w}){return B=>function Intercept(G,pe){const{maxRedirections:ye=w}=G;if(!ye){return B(G,pe)}const Se=new K(B,ye,G,pe);G={...G,maxRedirections:0};return B(G,Se)}}w.exports=createRedirectInterceptor},9791:(w,B,G)=>{"use strict";Object.defineProperty(B,"__esModule",{value:true});B.SPECIAL_HEADERS=B.HEADER_STATE=B.MINOR=B.MAJOR=B.CONNECTION_TOKEN_CHARS=B.HEADER_CHARS=B.TOKEN=B.STRICT_TOKEN=B.HEX=B.URL_CHAR=B.STRICT_URL_CHAR=B.USERINFO_CHARS=B.MARK=B.ALPHANUM=B.NUM=B.HEX_MAP=B.NUM_MAP=B.ALPHA=B.FINISH=B.H_METHOD_MAP=B.METHOD_MAP=B.METHODS_RTSP=B.METHODS_ICE=B.METHODS_HTTP=B.METHODS=B.LENIENT_FLAGS=B.FLAGS=B.TYPE=B.ERROR=void 0;const K=G(7999);var pe;(function(w){w[w["OK"]=0]="OK";w[w["INTERNAL"]=1]="INTERNAL";w[w["STRICT"]=2]="STRICT";w[w["LF_EXPECTED"]=3]="LF_EXPECTED";w[w["UNEXPECTED_CONTENT_LENGTH"]=4]="UNEXPECTED_CONTENT_LENGTH";w[w["CLOSED_CONNECTION"]=5]="CLOSED_CONNECTION";w[w["INVALID_METHOD"]=6]="INVALID_METHOD";w[w["INVALID_URL"]=7]="INVALID_URL";w[w["INVALID_CONSTANT"]=8]="INVALID_CONSTANT";w[w["INVALID_VERSION"]=9]="INVALID_VERSION";w[w["INVALID_HEADER_TOKEN"]=10]="INVALID_HEADER_TOKEN";w[w["INVALID_CONTENT_LENGTH"]=11]="INVALID_CONTENT_LENGTH";w[w["INVALID_CHUNK_SIZE"]=12]="INVALID_CHUNK_SIZE";w[w["INVALID_STATUS"]=13]="INVALID_STATUS";w[w["INVALID_EOF_STATE"]=14]="INVALID_EOF_STATE";w[w["INVALID_TRANSFER_ENCODING"]=15]="INVALID_TRANSFER_ENCODING";w[w["CB_MESSAGE_BEGIN"]=16]="CB_MESSAGE_BEGIN";w[w["CB_HEADERS_COMPLETE"]=17]="CB_HEADERS_COMPLETE";w[w["CB_MESSAGE_COMPLETE"]=18]="CB_MESSAGE_COMPLETE";w[w["CB_CHUNK_HEADER"]=19]="CB_CHUNK_HEADER";w[w["CB_CHUNK_COMPLETE"]=20]="CB_CHUNK_COMPLETE";w[w["PAUSED"]=21]="PAUSED";w[w["PAUSED_UPGRADE"]=22]="PAUSED_UPGRADE";w[w["PAUSED_H2_UPGRADE"]=23]="PAUSED_H2_UPGRADE";w[w["USER"]=24]="USER"})(pe=B.ERROR||(B.ERROR={}));var ye;(function(w){w[w["BOTH"]=0]="BOTH";w[w["REQUEST"]=1]="REQUEST";w[w["RESPONSE"]=2]="RESPONSE"})(ye=B.TYPE||(B.TYPE={}));var Se;(function(w){w[w["CONNECTION_KEEP_ALIVE"]=1]="CONNECTION_KEEP_ALIVE";w[w["CONNECTION_CLOSE"]=2]="CONNECTION_CLOSE";w[w["CONNECTION_UPGRADE"]=4]="CONNECTION_UPGRADE";w[w["CHUNKED"]=8]="CHUNKED";w[w["UPGRADE"]=16]="UPGRADE";w[w["CONTENT_LENGTH"]=32]="CONTENT_LENGTH";w[w["SKIPBODY"]=64]="SKIPBODY";w[w["TRAILING"]=128]="TRAILING";w[w["TRANSFER_ENCODING"]=512]="TRANSFER_ENCODING"})(Se=B.FLAGS||(B.FLAGS={}));var Be;(function(w){w[w["HEADERS"]=1]="HEADERS";w[w["CHUNKED_LENGTH"]=2]="CHUNKED_LENGTH";w[w["KEEP_ALIVE"]=4]="KEEP_ALIVE"})(Be=B.LENIENT_FLAGS||(B.LENIENT_FLAGS={}));var Qe;(function(w){w[w["DELETE"]=0]="DELETE";w[w["GET"]=1]="GET";w[w["HEAD"]=2]="HEAD";w[w["POST"]=3]="POST";w[w["PUT"]=4]="PUT";w[w["CONNECT"]=5]="CONNECT";w[w["OPTIONS"]=6]="OPTIONS";w[w["TRACE"]=7]="TRACE";w[w["COPY"]=8]="COPY";w[w["LOCK"]=9]="LOCK";w[w["MKCOL"]=10]="MKCOL";w[w["MOVE"]=11]="MOVE";w[w["PROPFIND"]=12]="PROPFIND";w[w["PROPPATCH"]=13]="PROPPATCH";w[w["SEARCH"]=14]="SEARCH";w[w["UNLOCK"]=15]="UNLOCK";w[w["BIND"]=16]="BIND";w[w["REBIND"]=17]="REBIND";w[w["UNBIND"]=18]="UNBIND";w[w["ACL"]=19]="ACL";w[w["REPORT"]=20]="REPORT";w[w["MKACTIVITY"]=21]="MKACTIVITY";w[w["CHECKOUT"]=22]="CHECKOUT";w[w["MERGE"]=23]="MERGE";w[w["M-SEARCH"]=24]="M-SEARCH";w[w["NOTIFY"]=25]="NOTIFY";w[w["SUBSCRIBE"]=26]="SUBSCRIBE";w[w["UNSUBSCRIBE"]=27]="UNSUBSCRIBE";w[w["PATCH"]=28]="PATCH";w[w["PURGE"]=29]="PURGE";w[w["MKCALENDAR"]=30]="MKCALENDAR";w[w["LINK"]=31]="LINK";w[w["UNLINK"]=32]="UNLINK";w[w["SOURCE"]=33]="SOURCE";w[w["PRI"]=34]="PRI";w[w["DESCRIBE"]=35]="DESCRIBE";w[w["ANNOUNCE"]=36]="ANNOUNCE";w[w["SETUP"]=37]="SETUP";w[w["PLAY"]=38]="PLAY";w[w["PAUSE"]=39]="PAUSE";w[w["TEARDOWN"]=40]="TEARDOWN";w[w["GET_PARAMETER"]=41]="GET_PARAMETER";w[w["SET_PARAMETER"]=42]="SET_PARAMETER";w[w["REDIRECT"]=43]="REDIRECT";w[w["RECORD"]=44]="RECORD";w[w["FLUSH"]=45]="FLUSH"})(Qe=B.METHODS||(B.METHODS={}));B.METHODS_HTTP=[Qe.DELETE,Qe.GET,Qe.HEAD,Qe.POST,Qe.PUT,Qe.CONNECT,Qe.OPTIONS,Qe.TRACE,Qe.COPY,Qe.LOCK,Qe.MKCOL,Qe.MOVE,Qe.PROPFIND,Qe.PROPPATCH,Qe.SEARCH,Qe.UNLOCK,Qe.BIND,Qe.REBIND,Qe.UNBIND,Qe.ACL,Qe.REPORT,Qe.MKACTIVITY,Qe.CHECKOUT,Qe.MERGE,Qe["M-SEARCH"],Qe.NOTIFY,Qe.SUBSCRIBE,Qe.UNSUBSCRIBE,Qe.PATCH,Qe.PURGE,Qe.MKCALENDAR,Qe.LINK,Qe.UNLINK,Qe.PRI,Qe.SOURCE];B.METHODS_ICE=[Qe.SOURCE];B.METHODS_RTSP=[Qe.OPTIONS,Qe.DESCRIBE,Qe.ANNOUNCE,Qe.SETUP,Qe.PLAY,Qe.PAUSE,Qe.TEARDOWN,Qe.GET_PARAMETER,Qe.SET_PARAMETER,Qe.REDIRECT,Qe.RECORD,Qe.FLUSH,Qe.GET,Qe.POST];B.METHOD_MAP=K.enumToMap(Qe);B.H_METHOD_MAP={};Object.keys(B.METHOD_MAP).forEach((w=>{if(/^H/.test(w)){B.H_METHOD_MAP[w]=B.METHOD_MAP[w]}}));var Pe;(function(w){w[w["SAFE"]=0]="SAFE";w[w["SAFE_WITH_CB"]=1]="SAFE_WITH_CB";w[w["UNSAFE"]=2]="UNSAFE"})(Pe=B.FINISH||(B.FINISH={}));B.ALPHA=[];for(let w="A".charCodeAt(0);w<="Z".charCodeAt(0);w++){B.ALPHA.push(String.fromCharCode(w));B.ALPHA.push(String.fromCharCode(w+32))}B.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};B.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};B.NUM=["0","1","2","3","4","5","6","7","8","9"];B.ALPHANUM=B.ALPHA.concat(B.NUM);B.MARK=["-","_",".","!","~","*","'","(",")"];B.USERINFO_CHARS=B.ALPHANUM.concat(B.MARK).concat(["%",";",":","&","=","+","$",","]);B.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(B.ALPHANUM);B.URL_CHAR=B.STRICT_URL_CHAR.concat(["\t","\f"]);for(let w=128;w<=255;w++){B.URL_CHAR.push(w)}B.HEX=B.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);B.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(B.ALPHANUM);B.TOKEN=B.STRICT_TOKEN.concat([" "]);B.HEADER_CHARS=["\t"];for(let w=32;w<=255;w++){if(w!==127){B.HEADER_CHARS.push(w)}}B.CONNECTION_TOKEN_CHARS=B.HEADER_CHARS.filter((w=>w!==44));B.MAJOR=B.NUM_MAP;B.MINOR=B.MAJOR;var Fe;(function(w){w[w["GENERAL"]=0]="GENERAL";w[w["CONNECTION"]=1]="CONNECTION";w[w["CONTENT_LENGTH"]=2]="CONTENT_LENGTH";w[w["TRANSFER_ENCODING"]=3]="TRANSFER_ENCODING";w[w["UPGRADE"]=4]="UPGRADE";w[w["CONNECTION_KEEP_ALIVE"]=5]="CONNECTION_KEEP_ALIVE";w[w["CONNECTION_CLOSE"]=6]="CONNECTION_CLOSE";w[w["CONNECTION_UPGRADE"]=7]="CONNECTION_UPGRADE";w[w["TRANSFER_ENCODING_CHUNKED"]=8]="TRANSFER_ENCODING_CHUNKED"})(Fe=B.HEADER_STATE||(B.HEADER_STATE={}));B.SPECIAL_HEADERS={connection:Fe.CONNECTION,"content-length":Fe.CONTENT_LENGTH,"proxy-connection":Fe.CONNECTION,"transfer-encoding":Fe.TRANSFER_ENCODING,upgrade:Fe.UPGRADE}},4729:w=>{w.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8="},2603:w=>{w.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=="},7999:(w,B)=>{"use strict";Object.defineProperty(B,"__esModule",{value:true});B.enumToMap=void 0;function enumToMap(w){const B={};Object.keys(w).forEach((G=>{const K=w[G];if(typeof K==="number"){B[G]=K}}));return B}B.enumToMap=enumToMap},4280:(w,B,G)=>{"use strict";const{kClients:K}=G(4980);const pe=G(4724);const{kAgent:ye,kMockAgentSet:Se,kMockAgentGet:Be,kDispatches:Qe,kIsMockActive:Pe,kNetConnect:Fe,kGetNetConnect:Me,kOptions:Le,kFactory:je}=G(7980);const qe=G(1134);const We=G(723);const{matchValue:Ge,buildMockOptions:ze}=G(640);const{InvalidArgumentError:Ye,UndiciError:Ke}=G(1970);const Xe=G(5872);const rt=G(9376);const it=G(135);class FakeWeakRef{constructor(w){this.value=w}deref(){return this.value}}class MockAgent extends Xe{constructor(w){super(w);this[Fe]=true;this[Pe]=true;if(w&&w.agent&&typeof w.agent.dispatch!=="function"){throw new Ye("Argument opts.agent must implement Agent")}const B=w&&w.agent?w.agent:new pe(w);this[ye]=B;this[K]=B[K];this[Le]=ze(w)}get(w){let B=this[Be](w);if(!B){B=this[je](w);this[Se](w,B)}return B}dispatch(w,B){this.get(w.origin);return this[ye].dispatch(w,B)}async close(){await this[ye].close();this[K].clear()}deactivate(){this[Pe]=false}activate(){this[Pe]=true}enableNetConnect(w){if(typeof w==="string"||typeof w==="function"||w instanceof RegExp){if(Array.isArray(this[Fe])){this[Fe].push(w)}else{this[Fe]=[w]}}else if(typeof w==="undefined"){this[Fe]=true}else{throw new Ye("Unsupported matcher. Must be one of String|Function|RegExp.")}}disableNetConnect(){this[Fe]=false}get isMockActive(){return this[Pe]}[Se](w,B){this[K].set(w,new FakeWeakRef(B))}[je](w){const B=Object.assign({agent:this},this[Le]);return this[Le]&&this[Le].connections===1?new qe(w,B):new We(w,B)}[Be](w){const B=this[K].get(w);if(B){return B.deref()}if(typeof w!=="string"){const B=this[je]("http://localhost:9999");this[Se](w,B);return B}for(const[B,G]of Array.from(this[K])){const K=G.deref();if(K&&typeof B!=="string"&&Ge(B,w)){const B=this[je](w);this[Se](w,B);B[Qe]=K[Qe];return B}}}[Me](){return this[Fe]}pendingInterceptors(){const w=this[K];return Array.from(w.entries()).flatMap((([w,B])=>B.deref()[Qe].map((B=>({...B,origin:w}))))).filter((({pending:w})=>w))}assertNoPendingInterceptors({pendingInterceptorsFormatter:w=new it}={}){const B=this.pendingInterceptors();if(B.length===0){return}const G=new rt("interceptor","interceptors").pluralize(B.length);throw new Ke(`\n${G.count} ${G.noun} ${G.is} pending:\n\n${w.format(B)}\n`.trim())}}w.exports=MockAgent},1134:(w,B,G)=>{"use strict";const{promisify:K}=G(9023);const pe=G(6530);const{buildMockDispatch:ye}=G(640);const{kDispatches:Se,kMockAgent:Be,kClose:Qe,kOriginalClose:Pe,kOrigin:Fe,kOriginalDispatch:Me,kConnected:Le}=G(7980);const{MockInterceptor:je}=G(4402);const qe=G(4980);const{InvalidArgumentError:We}=G(1970);class MockClient extends pe{constructor(w,B){super(w,B);if(!B||!B.agent||typeof B.agent.dispatch!=="function"){throw new We("Argument opts.agent must implement Agent")}this[Be]=B.agent;this[Fe]=w;this[Se]=[];this[Le]=1;this[Me]=this.dispatch;this[Pe]=this.close.bind(this);this.dispatch=ye.call(this);this.close=this[Qe]}get[qe.kConnected](){return this[Le]}intercept(w){return new je(w,this[Se])}async[Qe](){await K(this[Pe])();this[Le]=0;this[Be][qe.kClients].delete(this[Fe])}}w.exports=MockClient},8074:(w,B,G)=>{"use strict";const{UndiciError:K}=G(1970);class MockNotMatchedError extends K{constructor(w){super(w);Error.captureStackTrace(this,MockNotMatchedError);this.name="MockNotMatchedError";this.message=w||"The request does not match any registered mock dispatches";this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}}w.exports={MockNotMatchedError:MockNotMatchedError}},4402:(w,B,G)=>{"use strict";const{getResponseData:K,buildKey:pe,addMockDispatch:ye}=G(640);const{kDispatches:Se,kDispatchKey:Be,kDefaultHeaders:Qe,kDefaultTrailers:Pe,kContentLength:Fe,kMockDispatch:Me}=G(7980);const{InvalidArgumentError:Le}=G(1970);const{buildURL:je}=G(701);class MockScope{constructor(w){this[Me]=w}delay(w){if(typeof w!=="number"||!Number.isInteger(w)||w<=0){throw new Le("waitInMs must be a valid integer > 0")}this[Me].delay=w;return this}persist(){this[Me].persist=true;return this}times(w){if(typeof w!=="number"||!Number.isInteger(w)||w<=0){throw new Le("repeatTimes must be a valid integer > 0")}this[Me].times=w;return this}}class MockInterceptor{constructor(w,B){if(typeof w!=="object"){throw new Le("opts must be an object")}if(typeof w.path==="undefined"){throw new Le("opts.path must be defined")}if(typeof w.method==="undefined"){w.method="GET"}if(typeof w.path==="string"){if(w.query){w.path=je(w.path,w.query)}else{const B=new URL(w.path,"data://");w.path=B.pathname+B.search}}if(typeof w.method==="string"){w.method=w.method.toUpperCase()}this[Be]=pe(w);this[Se]=B;this[Qe]={};this[Pe]={};this[Fe]=false}createMockScopeDispatchData(w,B,G={}){const pe=K(B);const ye=this[Fe]?{"content-length":pe.length}:{};const Se={...this[Qe],...ye,...G.headers};const Be={...this[Pe],...G.trailers};return{statusCode:w,data:B,headers:Se,trailers:Be}}validateReplyParameters(w,B,G){if(typeof w==="undefined"){throw new Le("statusCode must be defined")}if(typeof B==="undefined"){throw new Le("data must be defined")}if(typeof G!=="object"){throw new Le("responseOptions must be an object")}}reply(w){if(typeof w==="function"){const wrappedDefaultsCallback=B=>{const G=w(B);if(typeof G!=="object"){throw new Le("reply options callback must return an object")}const{statusCode:K,data:pe="",responseOptions:ye={}}=G;this.validateReplyParameters(K,pe,ye);return{...this.createMockScopeDispatchData(K,pe,ye)}};const B=ye(this[Se],this[Be],wrappedDefaultsCallback);return new MockScope(B)}const[B,G="",K={}]=[...arguments];this.validateReplyParameters(B,G,K);const pe=this.createMockScopeDispatchData(B,G,K);const Qe=ye(this[Se],this[Be],pe);return new MockScope(Qe)}replyWithError(w){if(typeof w==="undefined"){throw new Le("error must be defined")}const B=ye(this[Se],this[Be],{error:w});return new MockScope(B)}defaultReplyHeaders(w){if(typeof w==="undefined"){throw new Le("headers must be defined")}this[Qe]=w;return this}defaultReplyTrailers(w){if(typeof w==="undefined"){throw new Le("trailers must be defined")}this[Pe]=w;return this}replyContentLength(){this[Fe]=true;return this}}w.exports.MockInterceptor=MockInterceptor;w.exports.MockScope=MockScope},723:(w,B,G)=>{"use strict";const{promisify:K}=G(9023);const pe=G(6607);const{buildMockDispatch:ye}=G(640);const{kDispatches:Se,kMockAgent:Be,kClose:Qe,kOriginalClose:Pe,kOrigin:Fe,kOriginalDispatch:Me,kConnected:Le}=G(7980);const{MockInterceptor:je}=G(4402);const qe=G(4980);const{InvalidArgumentError:We}=G(1970);class MockPool extends pe{constructor(w,B){super(w,B);if(!B||!B.agent||typeof B.agent.dispatch!=="function"){throw new We("Argument opts.agent must implement Agent")}this[Be]=B.agent;this[Fe]=w;this[Se]=[];this[Le]=1;this[Me]=this.dispatch;this[Pe]=this.close.bind(this);this.dispatch=ye.call(this);this.close=this[Qe]}get[qe.kConnected](){return this[Le]}intercept(w){return new je(w,this[Se])}async[Qe](){await K(this[Pe])();this[Le]=0;this[Be][qe.kClients].delete(this[Fe])}}w.exports=MockPool},7980:w=>{"use strict";w.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}},640:(w,B,G)=>{"use strict";const{MockNotMatchedError:K}=G(8074);const{kDispatches:pe,kMockAgent:ye,kOriginalDispatch:Se,kOrigin:Be,kGetNetConnect:Qe}=G(7980);const{buildURL:Pe,nop:Fe}=G(701);const{STATUS_CODES:Me}=G(8611);const{types:{isPromise:Le}}=G(9023);function matchValue(w,B){if(typeof w==="string"){return w===B}if(w instanceof RegExp){return w.test(B)}if(typeof w==="function"){return w(B)===true}return false}function lowerCaseEntries(w){return Object.fromEntries(Object.entries(w).map((([w,B])=>[w.toLocaleLowerCase(),B])))}function getHeaderByName(w,B){if(Array.isArray(w)){for(let G=0;G<w.length;G+=2){if(w[G].toLocaleLowerCase()===B.toLocaleLowerCase()){return w[G+1]}}return undefined}else if(typeof w.get==="function"){return w.get(B)}else{return lowerCaseEntries(w)[B.toLocaleLowerCase()]}}function buildHeadersFromArray(w){const B=w.slice();const G=[];for(let w=0;w<B.length;w+=2){G.push([B[w],B[w+1]])}return Object.fromEntries(G)}function matchHeaders(w,B){if(typeof w.headers==="function"){if(Array.isArray(B)){B=buildHeadersFromArray(B)}return w.headers(B?lowerCaseEntries(B):{})}if(typeof w.headers==="undefined"){return true}if(typeof B!=="object"||typeof w.headers!=="object"){return false}for(const[G,K]of Object.entries(w.headers)){const w=getHeaderByName(B,G);if(!matchValue(K,w)){return false}}return true}function safeUrl(w){if(typeof w!=="string"){return w}const B=w.split("?");if(B.length!==2){return w}const G=new URLSearchParams(B.pop());G.sort();return[...B,G.toString()].join("?")}function matchKey(w,{path:B,method:G,body:K,headers:pe}){const ye=matchValue(w.path,B);const Se=matchValue(w.method,G);const Be=typeof w.body!=="undefined"?matchValue(w.body,K):true;const Qe=matchHeaders(w,pe);return ye&&Se&&Be&&Qe}function getResponseData(w){if(Buffer.isBuffer(w)){return w}else if(typeof w==="object"){return JSON.stringify(w)}else{return w.toString()}}function getMockDispatch(w,B){const G=B.query?Pe(B.path,B.query):B.path;const pe=typeof G==="string"?safeUrl(G):G;let ye=w.filter((({consumed:w})=>!w)).filter((({path:w})=>matchValue(safeUrl(w),pe)));if(ye.length===0){throw new K(`Mock dispatch not matched for path '${pe}'`)}ye=ye.filter((({method:w})=>matchValue(w,B.method)));if(ye.length===0){throw new K(`Mock dispatch not matched for method '${B.method}'`)}ye=ye.filter((({body:w})=>typeof w!=="undefined"?matchValue(w,B.body):true));if(ye.length===0){throw new K(`Mock dispatch not matched for body '${B.body}'`)}ye=ye.filter((w=>matchHeaders(w,B.headers)));if(ye.length===0){throw new K(`Mock dispatch not matched for headers '${typeof B.headers==="object"?JSON.stringify(B.headers):B.headers}'`)}return ye[0]}function addMockDispatch(w,B,G){const K={timesInvoked:0,times:1,persist:false,consumed:false};const pe=typeof G==="function"?{callback:G}:{...G};const ye={...K,...B,pending:true,data:{error:null,...pe}};w.push(ye);return ye}function deleteMockDispatch(w,B){const G=w.findIndex((w=>{if(!w.consumed){return false}return matchKey(w,B)}));if(G!==-1){w.splice(G,1)}}function buildKey(w){const{path:B,method:G,body:K,headers:pe,query:ye}=w;return{path:B,method:G,body:K,headers:pe,query:ye}}function generateKeyValues(w){return Object.entries(w).reduce(((w,[B,G])=>[...w,Buffer.from(`${B}`),Array.isArray(G)?G.map((w=>Buffer.from(`${w}`))):Buffer.from(`${G}`)]),[])}function getStatusText(w){return Me[w]||"unknown"}async function getResponse(w){const B=[];for await(const G of w){B.push(G)}return Buffer.concat(B).toString("utf8")}function mockDispatch(w,B){const G=buildKey(w);const K=getMockDispatch(this[pe],G);K.timesInvoked++;if(K.data.callback){K.data={...K.data,...K.data.callback(w)}}const{data:{statusCode:ye,data:Se,headers:Be,trailers:Qe,error:Pe},delay:Me,persist:je}=K;const{timesInvoked:qe,times:We}=K;K.consumed=!je&&qe>=We;K.pending=qe<We;if(Pe!==null){deleteMockDispatch(this[pe],G);B.onError(Pe);return true}if(typeof Me==="number"&&Me>0){setTimeout((()=>{handleReply(this[pe])}),Me)}else{handleReply(this[pe])}function handleReply(K,pe=Se){const Pe=Array.isArray(w.headers)?buildHeadersFromArray(w.headers):w.headers;const Me=typeof pe==="function"?pe({...w,headers:Pe}):pe;if(Le(Me)){Me.then((w=>handleReply(K,w)));return}const je=getResponseData(Me);const qe=generateKeyValues(Be);const We=generateKeyValues(Qe);B.abort=Fe;B.onHeaders(ye,qe,resume,getStatusText(ye));B.onData(Buffer.from(je));B.onComplete(We);deleteMockDispatch(K,G)}function resume(){}return true}function buildMockDispatch(){const w=this[ye];const B=this[Be];const G=this[Se];return function dispatch(pe,ye){if(w.isMockActive){try{mockDispatch.call(this,pe,ye)}catch(Se){if(Se instanceof K){const Be=w[Qe]();if(Be===false){throw new K(`${Se.message}: subsequent request to origin ${B} was not allowed (net.connect disabled)`)}if(checkNetConnect(Be,B)){G.call(this,pe,ye)}else{throw new K(`${Se.message}: subsequent request to origin ${B} was not allowed (net.connect is not enabled for this origin)`)}}else{throw Se}}}else{G.call(this,pe,ye)}}}function checkNetConnect(w,B){const G=new URL(B);if(w===true){return true}else if(Array.isArray(w)&&w.some((w=>matchValue(w,G.host)))){return true}return false}function buildMockOptions(w){if(w){const{agent:B,...G}=w;return G}}w.exports={getResponseData:getResponseData,getMockDispatch:getMockDispatch,addMockDispatch:addMockDispatch,deleteMockDispatch:deleteMockDispatch,buildKey:buildKey,generateKeyValues:generateKeyValues,matchValue:matchValue,getResponse:getResponse,getStatusText:getStatusText,mockDispatch:mockDispatch,buildMockDispatch:buildMockDispatch,checkNetConnect:checkNetConnect,buildMockOptions:buildMockOptions,getHeaderByName:getHeaderByName}},135:(w,B,G)=>{"use strict";const{Transform:K}=G(2203);const{Console:pe}=G(4236);w.exports=class PendingInterceptorsFormatter{constructor({disableColors:w}={}){this.transform=new K({transform(w,B,G){G(null,w)}});this.logger=new pe({stdout:this.transform,inspectOptions:{colors:!w&&!process.env.CI}})}format(w){const B=w.map((({method:w,path:B,data:{statusCode:G},persist:K,times:pe,timesInvoked:ye,origin:Se})=>({Method:w,Origin:Se,Path:B,"Status code":G,Persistent:K?"":"",Invocations:ye,Remaining:K?Infinity:pe-ye})));this.logger.table(B);return this.transform.read().toString()}}},9376:w=>{"use strict";const B={pronoun:"it",is:"is",was:"was",this:"this"};const G={pronoun:"they",is:"are",was:"were",this:"these"};w.exports=class Pluralizer{constructor(w,B){this.singular=w;this.plural=B}pluralize(w){const K=w===1;const pe=K?B:G;const ye=K?this.singular:this.plural;return{...pe,count:w,noun:ye}}}},5594:w=>{"use strict";const B=2048;const G=B-1;class FixedCircularBuffer{constructor(){this.bottom=0;this.top=0;this.list=new Array(B);this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&G)===this.bottom}push(w){this.list[this.top]=w;this.top=this.top+1&G}shift(){const w=this.list[this.bottom];if(w===undefined)return null;this.list[this.bottom]=undefined;this.bottom=this.bottom+1&G;return w}}w.exports=class FixedQueue{constructor(){this.head=this.tail=new FixedCircularBuffer}isEmpty(){return this.head.isEmpty()}push(w){if(this.head.isFull()){this.head=this.head.next=new FixedCircularBuffer}this.head.push(w)}shift(){const w=this.tail;const B=w.shift();if(w.isEmpty()&&w.next!==null){this.tail=w.next}return B}}},4005:(w,B,G)=>{"use strict";const K=G(4660);const pe=G(5594);const{kConnected:ye,kSize:Se,kRunning:Be,kPending:Qe,kQueued:Pe,kBusy:Fe,kFree:Me,kUrl:Le,kClose:je,kDestroy:qe,kDispatch:We}=G(4980);const Ge=G(613);const ze=Symbol("clients");const Ye=Symbol("needDrain");const Ke=Symbol("queue");const Xe=Symbol("closed resolve");const rt=Symbol("onDrain");const it=Symbol("onConnect");const ot=Symbol("onDisconnect");const at=Symbol("onConnectionError");const lt=Symbol("get dispatcher");const ct=Symbol("add client");const ut=Symbol("remove client");const ft=Symbol("stats");class PoolBase extends K{constructor(){super();this[Ke]=new pe;this[ze]=[];this[Pe]=0;const w=this;this[rt]=function onDrain(B,G){const K=w[Ke];let pe=false;while(!pe){const B=K.shift();if(!B){break}w[Pe]--;pe=!this.dispatch(B.opts,B.handler)}this[Ye]=pe;if(!this[Ye]&&w[Ye]){w[Ye]=false;w.emit("drain",B,[w,...G])}if(w[Xe]&&K.isEmpty()){Promise.all(w[ze].map((w=>w.close()))).then(w[Xe])}};this[it]=(B,G)=>{w.emit("connect",B,[w,...G])};this[ot]=(B,G,K)=>{w.emit("disconnect",B,[w,...G],K)};this[at]=(B,G,K)=>{w.emit("connectionError",B,[w,...G],K)};this[ft]=new Ge(this)}get[Fe](){return this[Ye]}get[ye](){return this[ze].filter((w=>w[ye])).length}get[Me](){return this[ze].filter((w=>w[ye]&&!w[Ye])).length}get[Qe](){let w=this[Pe];for(const{[Qe]:B}of this[ze]){w+=B}return w}get[Be](){let w=0;for(const{[Be]:B}of this[ze]){w+=B}return w}get[Se](){let w=this[Pe];for(const{[Se]:B}of this[ze]){w+=B}return w}get stats(){return this[ft]}async[je](){if(this[Ke].isEmpty()){return Promise.all(this[ze].map((w=>w.close())))}else{return new Promise((w=>{this[Xe]=w}))}}async[qe](w){while(true){const B=this[Ke].shift();if(!B){break}B.handler.onError(w)}return Promise.all(this[ze].map((B=>B.destroy(w))))}[We](w,B){const G=this[lt]();if(!G){this[Ye]=true;this[Ke].push({opts:w,handler:B});this[Pe]++}else if(!G.dispatch(w,B)){G[Ye]=true;this[Ye]=!this[lt]()}return!this[Ye]}[ct](w){w.on("drain",this[rt]).on("connect",this[it]).on("disconnect",this[ot]).on("connectionError",this[at]);this[ze].push(w);if(this[Ye]){process.nextTick((()=>{if(this[Ye]){this[rt](w[Le],[this,w])}}))}return this}[ut](w){w.close((()=>{const B=this[ze].indexOf(w);if(B!==-1){this[ze].splice(B,1)}}));this[Ye]=this[ze].some((w=>!w[Ye]&&w.closed!==true&&w.destroyed!==true))}}w.exports={PoolBase:PoolBase,kClients:ze,kNeedDrain:Ye,kAddClient:ct,kRemoveClient:ut,kGetDispatcher:lt}},613:(w,B,G)=>{const{kFree:K,kConnected:pe,kPending:ye,kQueued:Se,kRunning:Be,kSize:Qe}=G(4980);const Pe=Symbol("pool");class PoolStats{constructor(w){this[Pe]=w}get connected(){return this[Pe][pe]}get free(){return this[Pe][K]}get pending(){return this[Pe][ye]}get queued(){return this[Pe][Se]}get running(){return this[Pe][Be]}get size(){return this[Pe][Qe]}}w.exports=PoolStats},6607:(w,B,G)=>{"use strict";const{PoolBase:K,kClients:pe,kNeedDrain:ye,kAddClient:Se,kGetDispatcher:Be}=G(4005);const Qe=G(6530);const{InvalidArgumentError:Pe}=G(1970);const Fe=G(701);const{kUrl:Me,kInterceptors:Le}=G(4980);const je=G(2667);const qe=Symbol("options");const We=Symbol("connections");const Ge=Symbol("factory");function defaultFactory(w,B){return new Qe(w,B)}class Pool extends K{constructor(w,{connections:B,factory:G=defaultFactory,connect:K,connectTimeout:ye,tls:Se,maxCachedSessions:Be,socketPath:Qe,autoSelectFamily:ze,autoSelectFamilyAttemptTimeout:Ye,allowH2:Ke,...Xe}={}){super();if(B!=null&&(!Number.isFinite(B)||B<0)){throw new Pe("invalid connections")}if(typeof G!=="function"){throw new Pe("factory must be a function.")}if(K!=null&&typeof K!=="function"&&typeof K!=="object"){throw new Pe("connect must be a function or an object")}if(typeof K!=="function"){K=je({...Se,maxCachedSessions:Be,allowH2:Ke,socketPath:Qe,timeout:ye,...Fe.nodeHasAutoSelectFamily&&ze?{autoSelectFamily:ze,autoSelectFamilyAttemptTimeout:Ye}:undefined,...K})}this[Le]=Xe.interceptors&&Xe.interceptors.Pool&&Array.isArray(Xe.interceptors.Pool)?Xe.interceptors.Pool:[];this[We]=B||null;this[Me]=Fe.parseOrigin(w);this[qe]={...Fe.deepClone(Xe),connect:K,allowH2:Ke};this[qe].interceptors=Xe.interceptors?{...Xe.interceptors}:undefined;this[Ge]=G;this.on("connectionError",((w,B,G)=>{for(const w of B){const B=this[pe].indexOf(w);if(B!==-1){this[pe].splice(B,1)}}}))}[Be](){let w=this[pe].find((w=>!w[ye]));if(w){return w}if(!this[We]||this[pe].length<this[We]){w=this[Ge](this[Me],this[qe]);this[Se](w)}return w}}w.exports=Pool},5317:(w,B,G)=>{"use strict";const{kProxy:K,kClose:pe,kDestroy:ye,kInterceptors:Se}=G(4980);const{URL:Be}=G(7016);const Qe=G(4724);const Pe=G(6607);const Fe=G(4660);const{InvalidArgumentError:Me,RequestAbortedError:Le}=G(1970);const je=G(2667);const qe=Symbol("proxy agent");const We=Symbol("proxy client");const Ge=Symbol("proxy headers");const ze=Symbol("request tls settings");const Ye=Symbol("proxy tls settings");const Ke=Symbol("connect endpoint function");function defaultProtocolPort(w){return w==="https:"?443:80}function buildProxyOptions(w){if(typeof w==="string"){w={uri:w}}if(!w||!w.uri){throw new Me("Proxy opts.uri is mandatory")}return{uri:w.uri,protocol:w.protocol||"https"}}function defaultFactory(w,B){return new Pe(w,B)}class ProxyAgent extends Fe{constructor(w){super(w);this[K]=buildProxyOptions(w);this[qe]=new Qe(w);this[Se]=w.interceptors&&w.interceptors.ProxyAgent&&Array.isArray(w.interceptors.ProxyAgent)?w.interceptors.ProxyAgent:[];if(typeof w==="string"){w={uri:w}}if(!w||!w.uri){throw new Me("Proxy opts.uri is mandatory")}const{clientFactory:B=defaultFactory}=w;if(typeof B!=="function"){throw new Me("Proxy opts.clientFactory must be a function.")}this[ze]=w.requestTls;this[Ye]=w.proxyTls;this[Ge]=w.headers||{};const G=new Be(w.uri);const{origin:pe,port:ye,host:Pe,username:Fe,password:Xe}=G;if(w.auth&&w.token){throw new Me("opts.auth cannot be used in combination with opts.token")}else if(w.auth){this[Ge]["proxy-authorization"]=`Basic ${w.auth}`}else if(w.token){this[Ge]["proxy-authorization"]=w.token}else if(Fe&&Xe){this[Ge]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(Fe)}:${decodeURIComponent(Xe)}`).toString("base64")}`}const rt=je({...w.proxyTls});this[Ke]=je({...w.requestTls});this[We]=B(G,{connect:rt});this[qe]=new Qe({...w,connect:async(w,B)=>{let G=w.host;if(!w.port){G+=`:${defaultProtocolPort(w.protocol)}`}try{const{socket:K,statusCode:Se}=await this[We].connect({origin:pe,port:ye,path:G,signal:w.signal,headers:{...this[Ge],host:Pe}});if(Se!==200){K.on("error",(()=>{})).destroy();B(new Le(`Proxy response (${Se}) !== 200 when HTTP Tunneling`))}if(w.protocol!=="https:"){B(null,K);return}let Be;if(this[ze]){Be=this[ze].servername}else{Be=w.servername}this[Ke]({...w,servername:Be,httpSocket:K},B)}catch(w){B(w)}}})}dispatch(w,B){const{host:G}=new Be(w.origin);const K=buildHeaders(w.headers);throwIfProxyAuthIsSent(K);return this[qe].dispatch({...w,headers:{...K,host:G}},B)}async[pe](){await this[qe].close();await this[We].close()}async[ye](){await this[qe].destroy();await this[We].destroy()}}function buildHeaders(w){if(Array.isArray(w)){const B={};for(let G=0;G<w.length;G+=2){B[w[G]]=w[G+1]}return B}return w}function throwIfProxyAuthIsSent(w){const B=w&&Object.keys(w).find((w=>w.toLowerCase()==="proxy-authorization"));if(B){throw new Me("Proxy-Authorization should be sent in ProxyAgent constructor")}}w.exports=ProxyAgent},7167:w=>{"use strict";let B=Date.now();let G;const K=[];function onTimeout(){B=Date.now();let w=K.length;let G=0;while(G<w){const pe=K[G];if(pe.state===0){pe.state=B+pe.delay}else if(pe.state>0&&B>=pe.state){pe.state=-1;pe.callback(pe.opaque)}if(pe.state===-1){pe.state=-2;if(G!==w-1){K[G]=K.pop()}else{K.pop()}w-=1}else{G+=1}}if(K.length>0){refreshTimeout()}}function refreshTimeout(){if(G&&G.refresh){G.refresh()}else{clearTimeout(G);G=setTimeout(onTimeout,1e3);if(G.unref){G.unref()}}}class Timeout{constructor(w,B,G){this.callback=w;this.delay=B;this.opaque=G;this.state=-2;this.refresh()}refresh(){if(this.state===-2){K.push(this);if(!G||K.length===1){refreshTimeout()}}this.state=0}clear(){this.state=-1}}w.exports={setTimeout(w,B,G){return B<1e3?setTimeout(w,B,G):new Timeout(w,B,G)},clearTimeout(w){if(w instanceof Timeout){w.clear()}else{clearTimeout(w)}}}},9277:(w,B,G)=>{"use strict";const K=G(1637);const{uid:pe,states:ye}=G(8420);const{kReadyState:Se,kSentClose:Be,kByteParser:Qe,kReceivedClose:Pe}=G(6708);const{fireEvent:Fe,failWebsocketConnection:Me}=G(8829);const{CloseEvent:Le}=G(6544);const{makeRequest:je}=G(8939);const{fetching:qe}=G(4546);const{Headers:We}=G(824);const{getGlobalDispatcher:Ge}=G(4662);const{kHeadersList:ze}=G(4980);const Ye={};Ye.open=K.channel("undici:websocket:open");Ye.close=K.channel("undici:websocket:close");Ye.socketError=K.channel("undici:websocket:socket_error");let Ke;try{Ke=G(6982)}catch{}function establishWebSocketConnection(w,B,G,K,ye){const Se=w;Se.protocol=w.protocol==="ws:"?"http:":"https:";const Be=je({urlList:[Se],serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(ye.headers){const w=new We(ye.headers)[ze];Be.headersList=w}const Qe=Ke.randomBytes(16).toString("base64");Be.headersList.append("sec-websocket-key",Qe);Be.headersList.append("sec-websocket-version","13");for(const w of B){Be.headersList.append("sec-websocket-protocol",w)}const Pe="";const Fe=qe({request:Be,useParallelQueue:true,dispatcher:ye.dispatcher??Ge(),processResponse(w){if(w.type==="error"||w.status!==101){Me(G,"Received network error or non-101 status code.");return}if(B.length!==0&&!w.headersList.get("Sec-WebSocket-Protocol")){Me(G,"Server did not respond with sent protocols.");return}if(w.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){Me(G,'Server did not set Upgrade header to "websocket".');return}if(w.headersList.get("Connection")?.toLowerCase()!=="upgrade"){Me(G,'Server did not set Connection header to "upgrade".');return}const ye=w.headersList.get("Sec-WebSocket-Accept");const Se=Ke.createHash("sha1").update(Qe+pe).digest("base64");if(ye!==Se){Me(G,"Incorrect hash received in Sec-WebSocket-Accept header.");return}const Fe=w.headersList.get("Sec-WebSocket-Extensions");if(Fe!==null&&Fe!==Pe){Me(G,"Received different permessage-deflate than the one set.");return}const Le=w.headersList.get("Sec-WebSocket-Protocol");if(Le!==null&&Le!==Be.headersList.get("Sec-WebSocket-Protocol")){Me(G,"Protocol was not set in the opening handshake.");return}w.socket.on("data",onSocketData);w.socket.on("close",onSocketClose);w.socket.on("error",onSocketError);if(Ye.open.hasSubscribers){Ye.open.publish({address:w.socket.address(),protocol:Le,extensions:Fe})}K(w)}});return Fe}function onSocketData(w){if(!this.ws[Qe].write(w)){this.pause()}}function onSocketClose(){const{ws:w}=this;const B=w[Be]&&w[Pe];let G=1005;let K="";const pe=w[Qe].closingInfo;if(pe){G=pe.code??1005;K=pe.reason}else if(!w[Be]){G=1006}w[Se]=ye.CLOSED;Fe("close",w,Le,{wasClean:B,code:G,reason:K});if(Ye.close.hasSubscribers){Ye.close.publish({websocket:w,code:G,reason:K})}}function onSocketError(w){const{ws:B}=this;B[Se]=ye.CLOSING;if(Ye.socketError.hasSubscribers){Ye.socketError.publish(w)}this.destroy()}w.exports={establishWebSocketConnection:establishWebSocketConnection}},8420:w=>{"use strict";const B="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";const G={enumerable:true,writable:false,configurable:false};const K={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};const pe={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10};const ye=2**16-1;const Se={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4};const Be=Buffer.allocUnsafe(0);w.exports={uid:B,staticPropertyDescriptors:G,states:K,opcodes:pe,maxUnsigned16Bit:ye,parserStates:Se,emptyBuffer:Be}},6544:(w,B,G)=>{"use strict";const{webidl:K}=G(185);const{kEnumerableProperty:pe}=G(701);const{MessagePort:ye}=G(8167);class MessageEvent extends Event{#s;constructor(w,B={}){K.argumentLengthCheck(arguments,1,{header:"MessageEvent constructor"});w=K.converters.DOMString(w);B=K.converters.MessageEventInit(B);super(w,B);this.#s=B}get data(){K.brandCheck(this,MessageEvent);return this.#s.data}get origin(){K.brandCheck(this,MessageEvent);return this.#s.origin}get lastEventId(){K.brandCheck(this,MessageEvent);return this.#s.lastEventId}get source(){K.brandCheck(this,MessageEvent);return this.#s.source}get ports(){K.brandCheck(this,MessageEvent);if(!Object.isFrozen(this.#s.ports)){Object.freeze(this.#s.ports)}return this.#s.ports}initMessageEvent(w,B=false,G=false,pe=null,ye="",Se="",Be=null,Qe=[]){K.brandCheck(this,MessageEvent);K.argumentLengthCheck(arguments,1,{header:"MessageEvent.initMessageEvent"});return new MessageEvent(w,{bubbles:B,cancelable:G,data:pe,origin:ye,lastEventId:Se,source:Be,ports:Qe})}}class CloseEvent extends Event{#s;constructor(w,B={}){K.argumentLengthCheck(arguments,1,{header:"CloseEvent constructor"});w=K.converters.DOMString(w);B=K.converters.CloseEventInit(B);super(w,B);this.#s=B}get wasClean(){K.brandCheck(this,CloseEvent);return this.#s.wasClean}get code(){K.brandCheck(this,CloseEvent);return this.#s.code}get reason(){K.brandCheck(this,CloseEvent);return this.#s.reason}}class ErrorEvent extends Event{#s;constructor(w,B){K.argumentLengthCheck(arguments,1,{header:"ErrorEvent constructor"});super(w,B);w=K.converters.DOMString(w);B=K.converters.ErrorEventInit(B??{});this.#s=B}get message(){K.brandCheck(this,ErrorEvent);return this.#s.message}get filename(){K.brandCheck(this,ErrorEvent);return this.#s.filename}get lineno(){K.brandCheck(this,ErrorEvent);return this.#s.lineno}get colno(){K.brandCheck(this,ErrorEvent);return this.#s.colno}get error(){K.brandCheck(this,ErrorEvent);return this.#s.error}}Object.defineProperties(MessageEvent.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:true},data:pe,origin:pe,lastEventId:pe,source:pe,ports:pe,initMessageEvent:pe});Object.defineProperties(CloseEvent.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:true},reason:pe,code:pe,wasClean:pe});Object.defineProperties(ErrorEvent.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:true},message:pe,filename:pe,lineno:pe,colno:pe,error:pe});K.converters.MessagePort=K.interfaceConverter(ye);K.converters["sequence<MessagePort>"]=K.sequenceConverter(K.converters.MessagePort);const Se=[{key:"bubbles",converter:K.converters.boolean,defaultValue:false},{key:"cancelable",converter:K.converters.boolean,defaultValue:false},{key:"composed",converter:K.converters.boolean,defaultValue:false}];K.converters.MessageEventInit=K.dictionaryConverter([...Se,{key:"data",converter:K.converters.any,defaultValue:null},{key:"origin",converter:K.converters.USVString,defaultValue:""},{key:"lastEventId",converter:K.converters.DOMString,defaultValue:""},{key:"source",converter:K.nullableConverter(K.converters.MessagePort),defaultValue:null},{key:"ports",converter:K.converters["sequence<MessagePort>"],get defaultValue(){return[]}}]);K.converters.CloseEventInit=K.dictionaryConverter([...Se,{key:"wasClean",converter:K.converters.boolean,defaultValue:false},{key:"code",converter:K.converters["unsigned short"],defaultValue:0},{key:"reason",converter:K.converters.USVString,defaultValue:""}]);K.converters.ErrorEventInit=K.dictionaryConverter([...Se,{key:"message",converter:K.converters.DOMString,defaultValue:""},{key:"filename",converter:K.converters.USVString,defaultValue:""},{key:"lineno",converter:K.converters["unsigned long"],defaultValue:0},{key:"colno",converter:K.converters["unsigned long"],defaultValue:0},{key:"error",converter:K.converters.any}]);w.exports={MessageEvent:MessageEvent,CloseEvent:CloseEvent,ErrorEvent:ErrorEvent}},2308:(w,B,G)=>{"use strict";const{maxUnsigned16Bit:K}=G(8420);let pe;try{pe=G(6982)}catch{}class WebsocketFrameSend{constructor(w){this.frameData=w;this.maskKey=pe.randomBytes(4)}createFrame(w){const B=this.frameData?.byteLength??0;let G=B;let pe=6;if(B>K){pe+=8;G=127}else if(B>125){pe+=2;G=126}const ye=Buffer.allocUnsafe(B+pe);ye[0]=ye[1]=0;ye[0]|=128;ye[0]=(ye[0]&240)+w;
/*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> */ye[pe-4]=this.maskKey[0];ye[pe-3]=this.maskKey[1];ye[pe-2]=this.maskKey[2];ye[pe-1]=this.maskKey[3];ye[1]=G;if(G===126){ye.writeUInt16BE(B,2)}else if(G===127){ye[2]=ye[3]=0;ye.writeUIntBE(B,4,6)}ye[1]|=128;for(let w=0;w<B;w++){ye[pe+w]=this.frameData[w]^this.maskKey[w%4]}return ye}}w.exports={WebsocketFrameSend:WebsocketFrameSend}},4648:(w,B,G)=>{"use strict";const{Writable:K}=G(2203);const pe=G(1637);const{parserStates:ye,opcodes:Se,states:Be,emptyBuffer:Qe}=G(8420);const{kReadyState:Pe,kSentClose:Fe,kResponse:Me,kReceivedClose:Le}=G(6708);const{isValidStatusCode:je,failWebsocketConnection:qe,websocketMessageReceived:We}=G(8829);const{WebsocketFrameSend:Ge}=G(2308);const ze={};ze.ping=pe.channel("undici:websocket:ping");ze.pong=pe.channel("undici:websocket:pong");class ByteParser extends K{#o=[];#a=0;#l=ye.INFO;#c={};#u=[];constructor(w){super();this.ws=w}_write(w,B,G){this.#o.push(w);this.#a+=w.length;this.run(G)}run(w){while(true){if(this.#l===ye.INFO){if(this.#a<2){return w()}const B=this.consume(2);this.#c.fin=(B[0]&128)!==0;this.#c.opcode=B[0]&15;this.#c.originalOpcode??=this.#c.opcode;this.#c.fragmented=!this.#c.fin&&this.#c.opcode!==Se.CONTINUATION;if(this.#c.fragmented&&this.#c.opcode!==Se.BINARY&&this.#c.opcode!==Se.TEXT){qe(this.ws,"Invalid frame type was fragmented.");return}const G=B[1]&127;if(G<=125){this.#c.payloadLength=G;this.#l=ye.READ_DATA}else if(G===126){this.#l=ye.PAYLOADLENGTH_16}else if(G===127){this.#l=ye.PAYLOADLENGTH_64}if(this.#c.fragmented&&G>125){qe(this.ws,"Fragmented frame exceeded 125 bytes.");return}else if((this.#c.opcode===Se.PING||this.#c.opcode===Se.PONG||this.#c.opcode===Se.CLOSE)&&G>125){qe(this.ws,"Payload length for control frame exceeded 125 bytes.");return}else if(this.#c.opcode===Se.CLOSE){if(G===1){qe(this.ws,"Received close frame with a 1-byte body.");return}const w=this.consume(G);this.#c.closeInfo=this.parseCloseBody(false,w);if(!this.ws[Fe]){const w=Buffer.allocUnsafe(2);w.writeUInt16BE(this.#c.closeInfo.code,0);const B=new Ge(w);this.ws[Me].socket.write(B.createFrame(Se.CLOSE),(w=>{if(!w){this.ws[Fe]=true}}))}this.ws[Pe]=Be.CLOSING;this.ws[Le]=true;this.end();return}else if(this.#c.opcode===Se.PING){const B=this.consume(G);if(!this.ws[Le]){const w=new Ge(B);this.ws[Me].socket.write(w.createFrame(Se.PONG));if(ze.ping.hasSubscribers){ze.ping.publish({payload:B})}}this.#l=ye.INFO;if(this.#a>0){continue}else{w();return}}else if(this.#c.opcode===Se.PONG){const B=this.consume(G);if(ze.pong.hasSubscribers){ze.pong.publish({payload:B})}if(this.#a>0){continue}else{w();return}}}else if(this.#l===ye.PAYLOADLENGTH_16){if(this.#a<2){return w()}const B=this.consume(2);this.#c.payloadLength=B.readUInt16BE(0);this.#l=ye.READ_DATA}else if(this.#l===ye.PAYLOADLENGTH_64){if(this.#a<8){return w()}const B=this.consume(8);const G=B.readUInt32BE(0);if(G>2**31-1){qe(this.ws,"Received payload length > 2^31 bytes.");return}const K=B.readUInt32BE(4);this.#c.payloadLength=(G<<8)+K;this.#l=ye.READ_DATA}else if(this.#l===ye.READ_DATA){if(this.#a<this.#c.payloadLength){return w()}else if(this.#a>=this.#c.payloadLength){const w=this.consume(this.#c.payloadLength);this.#u.push(w);if(!this.#c.fragmented||this.#c.fin&&this.#c.opcode===Se.CONTINUATION){const w=Buffer.concat(this.#u);We(this.ws,this.#c.originalOpcode,w);this.#c={};this.#u.length=0}this.#l=ye.INFO}}if(this.#a>0){continue}else{w();break}}}consume(w){if(w>this.#a){return null}else if(w===0){return Qe}if(this.#o[0].length===w){this.#a-=this.#o[0].length;return this.#o.shift()}const B=Buffer.allocUnsafe(w);let G=0;while(G!==w){const K=this.#o[0];const{length:pe}=K;if(pe+G===w){B.set(this.#o.shift(),G);break}else if(pe+G>w){B.set(K.subarray(0,w-G),G);this.#o[0]=K.subarray(w-G);break}else{B.set(this.#o.shift(),G);G+=K.length}}this.#a-=w;return B}parseCloseBody(w,B){let G;if(B.length>=2){G=B.readUInt16BE(0)}if(w){if(!je(G)){return null}return{code:G}}let K=B.subarray(2);if(K[0]===239&&K[1]===187&&K[2]===191){K=K.subarray(3)}if(G!==undefined&&!je(G)){return null}try{K=new TextDecoder("utf-8",{fatal:true}).decode(K)}catch{return null}return{code:G,reason:K}}get closingInfo(){return this.#c.closeInfo}}w.exports={ByteParser:ByteParser}},6708:w=>{"use strict";w.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}},8829:(w,B,G)=>{"use strict";const{kReadyState:K,kController:pe,kResponse:ye,kBinaryType:Se,kWebSocketURL:Be}=G(6708);const{states:Qe,opcodes:Pe}=G(8420);const{MessageEvent:Fe,ErrorEvent:Me}=G(6544);function isEstablished(w){return w[K]===Qe.OPEN}function isClosing(w){return w[K]===Qe.CLOSING}function isClosed(w){return w[K]===Qe.CLOSED}function fireEvent(w,B,G=Event,K){const pe=new G(w,K);B.dispatchEvent(pe)}function websocketMessageReceived(w,B,G){if(w[K]!==Qe.OPEN){return}let pe;if(B===Pe.TEXT){try{pe=new TextDecoder("utf-8",{fatal:true}).decode(G)}catch{failWebsocketConnection(w,"Received invalid UTF-8 in text frame.");return}}else if(B===Pe.BINARY){if(w[Se]==="blob"){pe=new Blob([G])}else{pe=new Uint8Array(G).buffer}}fireEvent("message",w,Fe,{origin:w[Be].origin,data:pe})}function isValidSubprotocol(w){if(w.length===0){return false}for(const B of w){const w=B.charCodeAt(0);if(w<33||w>126||B==="("||B===")"||B==="<"||B===">"||B==="@"||B===","||B===";"||B===":"||B==="\\"||B==='"'||B==="/"||B==="["||B==="]"||B==="?"||B==="="||B==="{"||B==="}"||w===32||w===9){return false}}return true}function isValidStatusCode(w){if(w>=1e3&&w<1015){return w!==1004&&w!==1005&&w!==1006}return w>=3e3&&w<=4999}function failWebsocketConnection(w,B){const{[pe]:G,[ye]:K}=w;G.abort();if(K?.socket&&!K.socket.destroyed){K.socket.destroy()}if(B){fireEvent("error",w,Me,{error:new Error(B)})}}w.exports={isEstablished:isEstablished,isClosing:isClosing,isClosed:isClosed,fireEvent:fireEvent,isValidSubprotocol:isValidSubprotocol,isValidStatusCode:isValidStatusCode,failWebsocketConnection:failWebsocketConnection,websocketMessageReceived:websocketMessageReceived}},7634:(w,B,G)=>{"use strict";const{webidl:K}=G(185);const{DOMException:pe}=G(1411);const{URLSerializer:ye}=G(2059);const{getGlobalOrigin:Se}=G(2071);const{staticPropertyDescriptors:Be,states:Qe,opcodes:Pe,emptyBuffer:Fe}=G(8420);const{kWebSocketURL:Me,kReadyState:Le,kController:je,kBinaryType:qe,kResponse:We,kSentClose:Ge,kByteParser:ze}=G(6708);const{isEstablished:Ye,isClosing:Ke,isValidSubprotocol:Xe,failWebsocketConnection:rt,fireEvent:it}=G(8829);const{establishWebSocketConnection:ot}=G(9277);const{WebsocketFrameSend:at}=G(2308);const{ByteParser:lt}=G(4648);const{kEnumerableProperty:ct,isBlobLike:ut}=G(701);const{getGlobalDispatcher:ft}=G(4662);const{types:gt}=G(9023);let mt=false;class WebSocket extends EventTarget{#d={open:null,error:null,close:null,message:null};#h=0;#p="";#A="";constructor(w,B=[]){super();K.argumentLengthCheck(arguments,1,{header:"WebSocket constructor"});if(!mt){mt=true;process.emitWarning("WebSockets are experimental, expect them to change at any time.",{code:"UNDICI-WS"})}const G=K.converters["DOMString or sequence<DOMString> or WebSocketInit"](B);w=K.converters.USVString(w);B=G.protocols;const ye=Se();let Be;try{Be=new URL(w,ye)}catch(w){throw new pe(w,"SyntaxError")}if(Be.protocol==="http:"){Be.protocol="ws:"}else if(Be.protocol==="https:"){Be.protocol="wss:"}if(Be.protocol!=="ws:"&&Be.protocol!=="wss:"){throw new pe(`Expected a ws: or wss: protocol, got ${Be.protocol}`,"SyntaxError")}if(Be.hash||Be.href.endsWith("#")){throw new pe("Got fragment","SyntaxError")}if(typeof B==="string"){B=[B]}if(B.length!==new Set(B.map((w=>w.toLowerCase()))).size){throw new pe("Invalid Sec-WebSocket-Protocol value","SyntaxError")}if(B.length>0&&!B.every((w=>Xe(w)))){throw new pe("Invalid Sec-WebSocket-Protocol value","SyntaxError")}this[Me]=new URL(Be.href);this[je]=ot(Be,B,this,(w=>this.#f(w)),G);this[Le]=WebSocket.CONNECTING;this[qe]="blob"}close(w=undefined,B=undefined){K.brandCheck(this,WebSocket);if(w!==undefined){w=K.converters["unsigned short"](w,{clamp:true})}if(B!==undefined){B=K.converters.USVString(B)}if(w!==undefined){if(w!==1e3&&(w<3e3||w>4999)){throw new pe("invalid code","InvalidAccessError")}}let G=0;if(B!==undefined){G=Buffer.byteLength(B);if(G>123){throw new pe(`Reason must be less than 123 bytes; received ${G}`,"SyntaxError")}}if(this[Le]===WebSocket.CLOSING||this[Le]===WebSocket.CLOSED){}else if(!Ye(this)){rt(this,"Connection was closed before it was established.");this[Le]=WebSocket.CLOSING}else if(!Ke(this)){const K=new at;if(w!==undefined&&B===undefined){K.frameData=Buffer.allocUnsafe(2);K.frameData.writeUInt16BE(w,0)}else if(w!==undefined&&B!==undefined){K.frameData=Buffer.allocUnsafe(2+G);K.frameData.writeUInt16BE(w,0);K.frameData.write(B,2,"utf-8")}else{K.frameData=Fe}const pe=this[We].socket;pe.write(K.createFrame(Pe.CLOSE),(w=>{if(!w){this[Ge]=true}}));this[Le]=Qe.CLOSING}else{this[Le]=WebSocket.CLOSING}}send(w){K.brandCheck(this,WebSocket);K.argumentLengthCheck(arguments,1,{header:"WebSocket.send"});w=K.converters.WebSocketSendData(w);if(this[Le]===WebSocket.CONNECTING){throw new pe("Sent before connected.","InvalidStateError")}if(!Ye(this)||Ke(this)){return}const B=this[We].socket;if(typeof w==="string"){const G=Buffer.from(w);const K=new at(G);const pe=K.createFrame(Pe.TEXT);this.#h+=G.byteLength;B.write(pe,(()=>{this.#h-=G.byteLength}))}else if(gt.isArrayBuffer(w)){const G=Buffer.from(w);const K=new at(G);const pe=K.createFrame(Pe.BINARY);this.#h+=G.byteLength;B.write(pe,(()=>{this.#h-=G.byteLength}))}else if(ArrayBuffer.isView(w)){const G=Buffer.from(w,w.byteOffset,w.byteLength);const K=new at(G);const pe=K.createFrame(Pe.BINARY);this.#h+=G.byteLength;B.write(pe,(()=>{this.#h-=G.byteLength}))}else if(ut(w)){const G=new at;w.arrayBuffer().then((w=>{const K=Buffer.from(w);G.frameData=K;const pe=G.createFrame(Pe.BINARY);this.#h+=K.byteLength;B.write(pe,(()=>{this.#h-=K.byteLength}))}))}}get readyState(){K.brandCheck(this,WebSocket);return this[Le]}get bufferedAmount(){K.brandCheck(this,WebSocket);return this.#h}get url(){K.brandCheck(this,WebSocket);return ye(this[Me])}get extensions(){K.brandCheck(this,WebSocket);return this.#A}get protocol(){K.brandCheck(this,WebSocket);return this.#p}get onopen(){K.brandCheck(this,WebSocket);return this.#d.open}set onopen(w){K.brandCheck(this,WebSocket);if(this.#d.open){this.removeEventListener("open",this.#d.open)}if(typeof w==="function"){this.#d.open=w;this.addEventListener("open",w)}else{this.#d.open=null}}get onerror(){K.brandCheck(this,WebSocket);return this.#d.error}set onerror(w){K.brandCheck(this,WebSocket);if(this.#d.error){this.removeEventListener("error",this.#d.error)}if(typeof w==="function"){this.#d.error=w;this.addEventListener("error",w)}else{this.#d.error=null}}get onclose(){K.brandCheck(this,WebSocket);return this.#d.close}set onclose(w){K.brandCheck(this,WebSocket);if(this.#d.close){this.removeEventListener("close",this.#d.close)}if(typeof w==="function"){this.#d.close=w;this.addEventListener("close",w)}else{this.#d.close=null}}get onmessage(){K.brandCheck(this,WebSocket);return this.#d.message}set onmessage(w){K.brandCheck(this,WebSocket);if(this.#d.message){this.removeEventListener("message",this.#d.message)}if(typeof w==="function"){this.#d.message=w;this.addEventListener("message",w)}else{this.#d.message=null}}get binaryType(){K.brandCheck(this,WebSocket);return this[qe]}set binaryType(w){K.brandCheck(this,WebSocket);if(w!=="blob"&&w!=="arraybuffer"){this[qe]="blob"}else{this[qe]=w}}#f(w){this[We]=w;const B=new lt(this);B.on("drain",(function onParserDrain(){this.ws[We].socket.resume()}));w.socket.ws=this;this[ze]=B;this[Le]=Qe.OPEN;const G=w.headersList.get("sec-websocket-extensions");if(G!==null){this.#A=G}const K=w.headersList.get("sec-websocket-protocol");if(K!==null){this.#p=K}it("open",this)}}WebSocket.CONNECTING=WebSocket.prototype.CONNECTING=Qe.CONNECTING;WebSocket.OPEN=WebSocket.prototype.OPEN=Qe.OPEN;WebSocket.CLOSING=WebSocket.prototype.CLOSING=Qe.CLOSING;WebSocket.CLOSED=WebSocket.prototype.CLOSED=Qe.CLOSED;Object.defineProperties(WebSocket.prototype,{CONNECTING:Be,OPEN:Be,CLOSING:Be,CLOSED:Be,url:ct,readyState:ct,bufferedAmount:ct,onopen:ct,onerror:ct,onclose:ct,close:ct,onmessage:ct,binaryType:ct,send:ct,extensions:ct,protocol:ct,[Symbol.toStringTag]:{value:"WebSocket",writable:false,enumerable:false,configurable:true}});Object.defineProperties(WebSocket,{CONNECTING:Be,OPEN:Be,CLOSING:Be,CLOSED:Be});K.converters["sequence<DOMString>"]=K.sequenceConverter(K.converters.DOMString);K.converters["DOMString or sequence<DOMString>"]=function(w){if(K.util.Type(w)==="Object"&&Symbol.iterator in w){return K.converters["sequence<DOMString>"](w)}return K.converters.DOMString(w)};K.converters.WebSocketInit=K.dictionaryConverter([{key:"protocols",converter:K.converters["DOMString or sequence<DOMString>"],get defaultValue(){return[]}},{key:"dispatcher",converter:w=>w,get defaultValue(){return ft()}},{key:"headers",converter:K.nullableConverter(K.converters.HeadersInit)}]);K.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(w){if(K.util.Type(w)==="Object"&&!(Symbol.iterator in w)){return K.converters.WebSocketInit(w)}return{protocols:K.converters["DOMString or sequence<DOMString>"](w)}};K.converters.WebSocketSendData=function(w){if(K.util.Type(w)==="Object"){if(ut(w)){return K.converters.Blob(w,{strict:false})}if(ArrayBuffer.isView(w)||gt.isAnyArrayBuffer(w)){return K.converters.BufferSource(w)}}return K.converters.USVString(w)};w.exports={WebSocket:WebSocket}},6866:function(w,B,G){"use strict";var K=this&&this.__createBinding||(Object.create?function(w,B,G,K){if(K===undefined)K=G;var pe=Object.getOwnPropertyDescriptor(B,G);if(!pe||("get"in pe?!B.__esModule:pe.writable||pe.configurable)){pe={enumerable:true,get:function(){return B[G]}}}Object.defineProperty(w,K,pe)}:function(w,B,G,K){if(K===undefined)K=G;w[K]=B[G]});var pe=this&&this.__setModuleDefault||(Object.create?function(w,B){Object.defineProperty(w,"default",{enumerable:true,value:B})}:function(w,B){w["default"]=B});var ye=this&&this.__importStar||function(){var ownKeys=function(w){ownKeys=Object.getOwnPropertyNames||function(w){var B=[];for(var G in w)if(Object.prototype.hasOwnProperty.call(w,G))B[B.length]=G;return B};return ownKeys(w)};return function(w){if(w&&w.__esModule)return w;var B={};if(w!=null)for(var G=ownKeys(w),ye=0;ye<G.length;ye++)if(G[ye]!=="default")K(B,w,G[ye]);pe(B,w);return B}}();var Se=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(B,"__esModule",{value:true});const Be=ye(G(6966));const Qe=G(2851);const Pe=Se(G(1943));const Fe=Se(G(6928));const Me=G(1918);async function ensurePlaywrightBrowsers(){try{Be.startGroup("Installing Playwright browsers");Be.info("Checking and installing Chromium browser...");await(0,Qe.exec)("npx",["playwright","install","chromium","--with-deps"]);Be.endGroup()}catch(w){Be.warning("Failed to install Playwright browsers, trying to continue...");throw w}}async function waitForStructurizr(){for(let w=0;w<30;w++){try{const w=await fetch("http://localhost:8080");if(w.ok)return}catch{}await new Promise((w=>setTimeout(w,2e3)))}throw new Error("Timeout waiting for Structurizr Lite to start")}async function exportDiagrams(w){const B=await Me.chromium.launch({headless:true});const G=await B.newPage();Be.info("Opening Structurizr Lite in browser...");await G.goto("http://localhost:8080",{waitUntil:"networkidle"});const K=await G.evaluate((()=>window.structurizr?.scripting?.getViews()?.map((w=>w.key))||[]));if(K.length===0){throw new Error("No diagrams found in Structurizr workspace")}await Pe.default.mkdir(w,{recursive:true});let pe=0;const ye=[];for(const B of K){Be.info(`Exporting diagram: ${B}`);await G.evaluate((w=>window.structurizr.scripting.changeView(w)),B);await G.waitForTimeout(500);const K=await G.evaluate((()=>window.structurizr.scripting.exportCurrentDiagramToSVG({includeMetadata:true})));if(K){await Pe.default.writeFile(Fe.default.join(w,`${B}.svg`),K);pe++}else{ye.push(B)}}await B.close();if(ye.length>0){Be.warning(`Failed to export ${ye.length} diagrams: ${ye.join(", ")}`)}Be.info(`Successfully exported ${pe} diagrams to ${w}`)}async function main(){const w=Be.getInput("structurizr-path")||"docs/structurizr";const B=Be.getInput("output-path")||"docs/images";const G=Be.getInput("structurizr-version")||"latest";try{await ensurePlaywrightBrowsers();Be.startGroup("Starting Structurizr Lite");await(0,Qe.exec)("docker",["run","-d","--rm","-p","8080:8080","-v",`${process.cwd()}/${w}:/usr/local/structurizr`,`structurizr/lite:${G}`]);Be.endGroup();await waitForStructurizr();Be.startGroup("Exporting diagrams");await exportDiagrams(B);Be.endGroup()}catch(w){Be.setFailed(w.message)}finally{Be.startGroup("Stopping Structurizr Lite");try{await(0,Qe.exec)("bash",["-c","docker stop $(docker ps -q --filter ancestor=structurizr/lite) || true"])}catch{Be.warning("Failed to stop Structurizr container, but continuing")}Be.endGroup()}}main()},8340:module=>{module.exports=eval("require")("bufferutil")},1478:module=>{module.exports=eval("require")("chromium-bidi/lib/cjs/bidiMapper/BidiMapper")},434:module=>{module.exports=eval("require")("chromium-bidi/lib/cjs/cdp/CdpConnection")},756:module=>{module.exports=eval("require")("electron")},8280:module=>{module.exports=eval("require")("electron/index.js")},2461:module=>{module.exports=eval("require")("utf-8-validate")},2613:w=>{"use strict";w.exports=require("assert")},290:w=>{"use strict";w.exports=require("async_hooks")},181:w=>{"use strict";w.exports=require("buffer")},7698:w=>{"use strict";w.exports=require("child_process")},4236:w=>{"use strict";w.exports=require("console")},9140:w=>{"use strict";w.exports=require("constants")},6982:w=>{"use strict";w.exports=require("crypto")},1637:w=>{"use strict";w.exports=require("diagnostics_channel")},2250:w=>{"use strict";w.exports=require("dns")},4434:w=>{"use strict";w.exports=require("events")},9896:w=>{"use strict";w.exports=require("fs")},1943:w=>{"use strict";w.exports=require("fs/promises")},8611:w=>{"use strict";w.exports=require("http")},5675:w=>{"use strict";w.exports=require("http2")},5692:w=>{"use strict";w.exports=require("https")},264:w=>{"use strict";w.exports=require("inspector")},9278:w=>{"use strict";w.exports=require("net")},1421:w=>{"use strict";w.exports=require("node:child_process")},7598:w=>{"use strict";w.exports=require("node:crypto")},8474:w=>{"use strict";w.exports=require("node:events")},3024:w=>{"use strict";w.exports=require("node:fs")},6760:w=>{"use strict";w.exports=require("node:path")},1708:w=>{"use strict";w.exports=require("node:process")},7075:w=>{"use strict";w.exports=require("node:stream")},7975:w=>{"use strict";w.exports=require("node:util")},857:w=>{"use strict";w.exports=require("os")},6928:w=>{"use strict";w.exports=require("path")},2987:w=>{"use strict";w.exports=require("perf_hooks")},3480:w=>{"use strict";w.exports=require("querystring")},3785:w=>{"use strict";w.exports=require("readline")},2203:w=>{"use strict";w.exports=require("stream")},3774:w=>{"use strict";w.exports=require("stream/web")},3193:w=>{"use strict";w.exports=require("string_decoder")},3557:w=>{"use strict";w.exports=require("timers")},4756:w=>{"use strict";w.exports=require("tls")},2018:w=>{"use strict";w.exports=require("tty")},7016:w=>{"use strict";w.exports=require("url")},9023:w=>{"use strict";w.exports=require("util")},8253:w=>{"use strict";w.exports=require("util/types")},8167:w=>{"use strict";w.exports=require("worker_threads")},3106:w=>{"use strict";w.exports=require("zlib")},2682:(w,B,G)=>{"use strict";const K=G(7075).Writable;const pe=G(7975).inherits;const ye=G(5868);const Se=G(2424);const Be=G(2035);const Qe=45;const Pe=Buffer.from("-");const Fe=Buffer.from("\r\n");const EMPTY_FN=function(){};function Dicer(w){if(!(this instanceof Dicer)){return new Dicer(w)}K.call(this,w);if(!w||!w.headerFirst&&typeof w.boundary!=="string"){throw new TypeError("Boundary required")}if(typeof w.boundary==="string"){this.setBoundary(w.boundary)}else{this._bparser=undefined}this._headerFirst=w.headerFirst;this._dashes=0;this._parts=0;this._finished=false;this._realFinish=false;this._isPreamble=true;this._justMatched=false;this._firstWrite=true;this._inHeader=true;this._part=undefined;this._cb=undefined;this._ignoreData=false;this._partOpts={highWaterMark:w.partHwm};this._pause=false;const B=this;this._hparser=new Be(w);this._hparser.on("header",(function(w){B._inHeader=false;B._part.emit("header",w)}))}pe(Dicer,K);Dicer.prototype.emit=function(w){if(w==="finish"&&!this._realFinish){if(!this._finished){const w=this;process.nextTick((function(){w.emit("error",new Error("Unexpected end of multipart data"));if(w._part&&!w._ignoreData){const B=w._isPreamble?"Preamble":"Part";w._part.emit("error",new Error(B+" terminated early due to unexpected end of multipart data"));w._part.push(null);process.nextTick((function(){w._realFinish=true;w.emit("finish");w._realFinish=false}));return}w._realFinish=true;w.emit("finish");w._realFinish=false}))}}else{K.prototype.emit.apply(this,arguments)}};Dicer.prototype._write=function(w,B,G){if(!this._hparser&&!this._bparser){return G()}if(this._headerFirst&&this._isPreamble){if(!this._part){this._part=new Se(this._partOpts);if(this.listenerCount("preamble")!==0){this.emit("preamble",this._part)}else{this._ignore()}}const B=this._hparser.push(w);if(!this._inHeader&&B!==undefined&&B<w.length){w=w.slice(B)}else{return G()}}if(this._firstWrite){this._bparser.push(Fe);this._firstWrite=false}this._bparser.push(w);if(this._pause){this._cb=G}else{G()}};Dicer.prototype.reset=function(){this._part=undefined;this._bparser=undefined;this._hparser=undefined};Dicer.prototype.setBoundary=function(w){const B=this;this._bparser=new ye("\r\n--"+w);this._bparser.on("info",(function(w,G,K,pe){B._oninfo(w,G,K,pe)}))};Dicer.prototype._ignore=function(){if(this._part&&!this._ignoreData){this._ignoreData=true;this._part.on("error",EMPTY_FN);this._part.resume()}};Dicer.prototype._oninfo=function(w,B,G,K){let pe;const ye=this;let Be=0;let Fe;let Me=true;if(!this._part&&this._justMatched&&B){while(this._dashes<2&&G+Be<K){if(B[G+Be]===Qe){++Be;++this._dashes}else{if(this._dashes){pe=Pe}this._dashes=0;break}}if(this._dashes===2){if(G+Be<K&&this.listenerCount("trailer")!==0){this.emit("trailer",B.slice(G+Be,K))}this.reset();this._finished=true;if(ye._parts===0){ye._realFinish=true;ye.emit("finish");ye._realFinish=false}}if(this._dashes){return}}if(this._justMatched){this._justMatched=false}if(!this._part){this._part=new Se(this._partOpts);this._part._read=function(w){ye._unpause()};if(this._isPreamble&&this.listenerCount("preamble")!==0){this.emit("preamble",this._part)}else if(this._isPreamble!==true&&this.listenerCount("part")!==0){this.emit("part",this._part)}else{this._ignore()}if(!this._isPreamble){this._inHeader=true}}if(B&&G<K&&!this._ignoreData){if(this._isPreamble||!this._inHeader){if(pe){Me=this._part.push(pe)}Me=this._part.push(B.slice(G,K));if(!Me){this._pause=true}}else if(!this._isPreamble&&this._inHeader){if(pe){this._hparser.push(pe)}Fe=this._hparser.push(B.slice(G,K));if(!this._inHeader&&Fe!==undefined&&Fe<K){this._oninfo(false,B,G+Fe,K)}}}if(w){this._hparser.reset();if(this._isPreamble){this._isPreamble=false}else{if(G!==K){++this._parts;this._part.on("end",(function(){if(--ye._parts===0){if(ye._finished){ye._realFinish=true;ye.emit("finish");ye._realFinish=false}else{ye._unpause()}}}))}}this._part.push(null);this._part=undefined;this._ignoreData=false;this._justMatched=true;this._dashes=0}};Dicer.prototype._unpause=function(){if(!this._pause){return}this._pause=false;if(this._cb){const w=this._cb;this._cb=undefined;w()}};w.exports=Dicer},2035:(w,B,G)=>{"use strict";const K=G(8474).EventEmitter;const pe=G(7975).inherits;const ye=G(4165);const Se=G(5868);const Be=Buffer.from("\r\n\r\n");const Qe=/\r\n/g;const Pe=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function HeaderParser(w){K.call(this);w=w||{};const B=this;this.nread=0;this.maxed=false;this.npairs=0;this.maxHeaderPairs=ye(w,"maxHeaderPairs",2e3);this.maxHeaderSize=ye(w,"maxHeaderSize",80*1024);this.buffer="";this.header={};this.finished=false;this.ss=new Se(Be);this.ss.on("info",(function(w,G,K,pe){if(G&&!B.maxed){if(B.nread+pe-K>=B.maxHeaderSize){pe=B.maxHeaderSize-B.nread+K;B.nread=B.maxHeaderSize;B.maxed=true}else{B.nread+=pe-K}B.buffer+=G.toString("binary",K,pe)}if(w){B._finish()}}))}pe(HeaderParser,K);HeaderParser.prototype.push=function(w){const B=this.ss.push(w);if(this.finished){return B}};HeaderParser.prototype.reset=function(){this.finished=false;this.buffer="";this.header={};this.ss.reset()};HeaderParser.prototype._finish=function(){if(this.buffer){this._parseHeader()}this.ss.matches=this.ss.maxMatches;const w=this.header;this.header={};this.buffer="";this.finished=true;this.nread=this.npairs=0;this.maxed=false;this.emit("header",w)};HeaderParser.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs){return}const w=this.buffer.split(Qe);const B=w.length;let G,K;for(var pe=0;pe<B;++pe){if(w[pe].length===0){continue}if(w[pe][0]==="\t"||w[pe][0]===" "){if(K){this.header[K][this.header[K].length-1]+=w[pe];continue}}const B=w[pe].indexOf(":");if(B===-1||B===0){return}G=Pe.exec(w[pe]);K=G[1].toLowerCase();this.header[K]=this.header[K]||[];this.header[K].push(G[2]||"");if(++this.npairs===this.maxHeaderPairs){break}}};w.exports=HeaderParser},2424:(w,B,G)=>{"use strict";const K=G(7975).inherits;const pe=G(7075).Readable;function PartStream(w){pe.call(this,w)}K(PartStream,pe);PartStream.prototype._read=function(w){};w.exports=PartStream},5868:(w,B,G)=>{"use strict";const K=G(8474).EventEmitter;const pe=G(7975).inherits;function SBMH(w){if(typeof w==="string"){w=Buffer.from(w)}if(!Buffer.isBuffer(w)){throw new TypeError("The needle has to be a String or a Buffer.")}const B=w.length;if(B===0){throw new Error("The needle cannot be an empty String/Buffer.")}if(B>256){throw new Error("The needle cannot have a length bigger than 256.")}this.maxMatches=Infinity;this.matches=0;this._occ=new Array(256).fill(B);this._lookbehind_size=0;this._needle=w;this._bufpos=0;this._lookbehind=Buffer.alloc(B);for(var G=0;G<B-1;++G){this._occ[w[G]]=B-1-G}}pe(SBMH,K);SBMH.prototype.reset=function(){this._lookbehind_size=0;this.matches=0;this._bufpos=0};SBMH.prototype.push=function(w,B){if(!Buffer.isBuffer(w)){w=Buffer.from(w,"binary")}const G=w.length;this._bufpos=B||0;let K;while(K!==G&&this.matches<this.maxMatches){K=this._sbmh_feed(w)}return K};SBMH.prototype._sbmh_feed=function(w){const B=w.length;const G=this._needle;const K=G.length;const pe=G[K-1];let ye=-this._lookbehind_size;let Se;if(ye<0){while(ye<0&&ye<=B-K){Se=this._sbmh_lookup_char(w,ye+K-1);if(Se===pe&&this._sbmh_memcmp(w,ye,K-1)){this._lookbehind_size=0;++this.matches;this.emit("info",true);return this._bufpos=ye+K}ye+=this._occ[Se]}if(ye<0){while(ye<0&&!this._sbmh_memcmp(w,ye,B-ye)){++ye}}if(ye>=0){this.emit("info",false,this._lookbehind,0,this._lookbehind_size);this._lookbehind_size=0}else{const G=this._lookbehind_size+ye;if(G>0){this.emit("info",false,this._lookbehind,0,G)}this._lookbehind.copy(this._lookbehind,0,G,this._lookbehind_size-G);this._lookbehind_size-=G;w.copy(this._lookbehind,this._lookbehind_size);this._lookbehind_size+=B;this._bufpos=B;return B}}ye+=(ye>=0)*this._bufpos;if(w.indexOf(G,ye)!==-1){ye=w.indexOf(G,ye);++this.matches;if(ye>0){this.emit("info",true,w,this._bufpos,ye)}else{this.emit("info",true)}return this._bufpos=ye+K}else{ye=B-K}while(ye<B&&(w[ye]!==G[0]||Buffer.compare(w.subarray(ye,ye+B-ye),G.subarray(0,B-ye))!==0)){++ye}if(ye<B){w.copy(this._lookbehind,0,ye,ye+(B-ye));this._lookbehind_size=B-ye}if(ye>0){this.emit("info",false,w,this._bufpos,ye<B?ye:B)}this._bufpos=B;return B};SBMH.prototype._sbmh_lookup_char=function(w,B){return B<0?this._lookbehind[this._lookbehind_size+B]:w[B]};SBMH.prototype._sbmh_memcmp=function(w,B,G){for(var K=0;K<G;++K){if(this._sbmh_lookup_char(w,B+K)!==this._needle[K]){return false}}return true};w.exports=SBMH},2105:(w,B,G)=>{"use strict";const K=G(7075).Writable;const{inherits:pe}=G(7975);const ye=G(2682);const Se=G(3548);const Be=G(5915);const Qe=G(1493);function Busboy(w){if(!(this instanceof Busboy)){return new Busboy(w)}if(typeof w!=="object"){throw new TypeError("Busboy expected an options-Object.")}if(typeof w.headers!=="object"){throw new TypeError("Busboy expected an options-Object with headers-attribute.")}if(typeof w.headers["content-type"]!=="string"){throw new TypeError("Missing Content-Type-header.")}const{headers:B,...G}=w;this.opts={autoDestroy:false,...G};K.call(this,this.opts);this._done=false;this._parser=this.getParserByHeaders(B);this._finished=false}pe(Busboy,K);Busboy.prototype.emit=function(w){if(w==="finish"){if(!this._done){this._parser?.end();return}else if(this._finished){return}this._finished=true}K.prototype.emit.apply(this,arguments)};Busboy.prototype.getParserByHeaders=function(w){const B=Qe(w["content-type"]);const G={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:w,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:B,preservePath:this.opts.preservePath};if(Se.detect.test(B[0])){return new Se(this,G)}if(Be.detect.test(B[0])){return new Be(this,G)}throw new Error("Unsupported Content-Type.")};Busboy.prototype._write=function(w,B,G){this._parser.write(w,G)};w.exports=Busboy;w.exports["default"]=Busboy;w.exports.Busboy=Busboy;w.exports.Dicer=ye},3548:(w,B,G)=>{"use strict";const{Readable:K}=G(7075);const{inherits:pe}=G(7975);const ye=G(2682);const Se=G(1493);const Be=G(7015);const Qe=G(1744);const Pe=G(4165);const Fe=/^boundary$/i;const Me=/^form-data$/i;const Le=/^charset$/i;const je=/^filename$/i;const qe=/^name$/i;Multipart.detect=/^multipart\/form-data/i;function Multipart(w,B){let G;let K;const pe=this;let We;const Ge=B.limits;const ze=B.isPartAFile||((w,B,G)=>B==="application/octet-stream"||G!==undefined);const Ye=B.parsedConType||[];const Ke=B.defCharset||"utf8";const Xe=B.preservePath;const rt={highWaterMark:B.fileHwm};for(G=0,K=Ye.length;G<K;++G){if(Array.isArray(Ye[G])&&Fe.test(Ye[G][0])){We=Ye[G][1];break}}function checkFinished(){if(wt===0&&It&&!w._done){It=false;pe.end()}}if(typeof We!=="string"){throw new Error("Multipart: Boundary not found")}const it=Pe(Ge,"fieldSize",1*1024*1024);const ot=Pe(Ge,"fileSize",Infinity);const at=Pe(Ge,"files",Infinity);const lt=Pe(Ge,"fields",Infinity);const ct=Pe(Ge,"parts",Infinity);const ut=Pe(Ge,"headerPairs",2e3);const ft=Pe(Ge,"headerSize",80*1024);let gt=0;let mt=0;let wt=0;let vt;let _t;let It=false;this._needDrain=false;this._pause=false;this._cb=undefined;this._nparts=0;this._boy=w;const St={boundary:We,maxHeaderPairs:ut,maxHeaderSize:ft,partHwm:rt.highWaterMark,highWaterMark:B.highWaterMark};this.parser=new ye(St);this.parser.on("drain",(function(){pe._needDrain=false;if(pe._cb&&!pe._pause){const w=pe._cb;pe._cb=undefined;w()}})).on("part",(function onPart(B){if(++pe._nparts>ct){pe.parser.removeListener("part",onPart);pe.parser.on("part",skipPart);w.hitPartsLimit=true;w.emit("partsLimit");return skipPart(B)}if(_t){const w=_t;w.emit("end");w.removeAllListeners("end")}B.on("header",(function(ye){let Pe;let Fe;let We;let Ge;let Ye;let ct;let ut=0;if(ye["content-type"]){We=Se(ye["content-type"][0]);if(We[0]){Pe=We[0].toLowerCase();for(G=0,K=We.length;G<K;++G){if(Le.test(We[G][0])){Ge=We[G][1].toLowerCase();break}}}}if(Pe===undefined){Pe="text/plain"}if(Ge===undefined){Ge=Ke}if(ye["content-disposition"]){We=Se(ye["content-disposition"][0]);if(!Me.test(We[0])){return skipPart(B)}for(G=0,K=We.length;G<K;++G){if(qe.test(We[G][0])){Fe=We[G][1]}else if(je.test(We[G][0])){ct=We[G][1];if(!Xe){ct=Qe(ct)}}}}else{return skipPart(B)}if(ye["content-transfer-encoding"]){Ye=ye["content-transfer-encoding"][0].toLowerCase()}else{Ye="7bit"}let ft,It;if(ze(Fe,Pe,ct)){if(gt===at){if(!w.hitFilesLimit){w.hitFilesLimit=true;w.emit("filesLimit")}return skipPart(B)}++gt;if(w.listenerCount("file")===0){pe.parser._ignore();return}++wt;const G=new FileStream(rt);vt=G;G.on("end",(function(){--wt;pe._pause=false;checkFinished();if(pe._cb&&!pe._needDrain){const w=pe._cb;pe._cb=undefined;w()}}));G._read=function(w){if(!pe._pause){return}pe._pause=false;if(pe._cb&&!pe._needDrain){const w=pe._cb;pe._cb=undefined;w()}};w.emit("file",Fe,G,ct,Ye,Pe);ft=function(w){if((ut+=w.length)>ot){const K=ot-ut+w.length;if(K>0){G.push(w.slice(0,K))}G.truncated=true;G.bytesRead=ot;B.removeAllListeners("data");G.emit("limit");return}else if(!G.push(w)){pe._pause=true}G.bytesRead=ut};It=function(){vt=undefined;G.push(null)}}else{if(mt===lt){if(!w.hitFieldsLimit){w.hitFieldsLimit=true;w.emit("fieldsLimit")}return skipPart(B)}++mt;++wt;let G="";let K=false;_t=B;ft=function(w){if((ut+=w.length)>it){const pe=it-(ut-w.length);G+=w.toString("binary",0,pe);K=true;B.removeAllListeners("data")}else{G+=w.toString("binary")}};It=function(){_t=undefined;if(G.length){G=Be(G,"binary",Ge)}w.emit("field",Fe,G,false,K,Ye,Pe);--wt;checkFinished()}}B._readableState.sync=false;B.on("data",ft);B.on("end",It)})).on("error",(function(w){if(vt){vt.emit("error",w)}}))})).on("error",(function(B){w.emit("error",B)})).on("finish",(function(){It=true;checkFinished()}))}Multipart.prototype.write=function(w,B){const G=this.parser.write(w);if(G&&!this._pause){B()}else{this._needDrain=!G;this._cb=B}};Multipart.prototype.end=function(){const w=this;if(w.parser.writable){w.parser.end()}else if(!w._boy._done){process.nextTick((function(){w._boy._done=true;w._boy.emit("finish")}))}};function skipPart(w){w.resume()}function FileStream(w){K.call(this,w);this.bytesRead=0;this.truncated=false}pe(FileStream,K);FileStream.prototype._read=function(w){};w.exports=Multipart},5915:(w,B,G)=>{"use strict";const K=G(5332);const pe=G(7015);const ye=G(4165);const Se=/^charset$/i;UrlEncoded.detect=/^application\/x-www-form-urlencoded/i;function UrlEncoded(w,B){const G=B.limits;const pe=B.parsedConType;this.boy=w;this.fieldSizeLimit=ye(G,"fieldSize",1*1024*1024);this.fieldNameSizeLimit=ye(G,"fieldNameSize",100);this.fieldsLimit=ye(G,"fields",Infinity);let Be;for(var Qe=0,Pe=pe.length;Qe<Pe;++Qe){if(Array.isArray(pe[Qe])&&Se.test(pe[Qe][0])){Be=pe[Qe][1].toLowerCase();break}}if(Be===undefined){Be=B.defCharset||"utf8"}this.decoder=new K;this.charset=Be;this._fields=0;this._state="key";this._checkingBytes=true;this._bytesKey=0;this._bytesVal=0;this._key="";this._val="";this._keyTrunc=false;this._valTrunc=false;this._hitLimit=false}UrlEncoded.prototype.write=function(w,B){if(this._fields===this.fieldsLimit){if(!this.boy.hitFieldsLimit){this.boy.hitFieldsLimit=true;this.boy.emit("fieldsLimit")}return B()}let G;let K;let ye;let Se=0;const Be=w.length;while(Se<Be){if(this._state==="key"){G=K=undefined;for(ye=Se;ye<Be;++ye){if(!this._checkingBytes){++Se}if(w[ye]===61){G=ye;break}else if(w[ye]===38){K=ye;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=true;break}else if(this._checkingBytes){++this._bytesKey}}if(G!==undefined){if(G>Se){this._key+=this.decoder.write(w.toString("binary",Se,G))}this._state="val";this._hitLimit=false;this._checkingBytes=true;this._val="";this._bytesVal=0;this._valTrunc=false;this.decoder.reset();Se=G+1}else if(K!==undefined){++this._fields;let G;const ye=this._keyTrunc;if(K>Se){G=this._key+=this.decoder.write(w.toString("binary",Se,K))}else{G=this._key}this._hitLimit=false;this._checkingBytes=true;this._key="";this._bytesKey=0;this._keyTrunc=false;this.decoder.reset();if(G.length){this.boy.emit("field",pe(G,"binary",this.charset),"",ye,false)}Se=K+1;if(this._fields===this.fieldsLimit){return B()}}else if(this._hitLimit){if(ye>Se){this._key+=this.decoder.write(w.toString("binary",Se,ye))}Se=ye;if((this._bytesKey=this._key.length)===this.fieldNameSizeLimit){this._checkingBytes=false;this._keyTrunc=true}}else{if(Se<Be){this._key+=this.decoder.write(w.toString("binary",Se))}Se=Be}}else{K=undefined;for(ye=Se;ye<Be;++ye){if(!this._checkingBytes){++Se}if(w[ye]===38){K=ye;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=true;break}else if(this._checkingBytes){++this._bytesVal}}if(K!==undefined){++this._fields;if(K>Se){this._val+=this.decoder.write(w.toString("binary",Se,K))}this.boy.emit("field",pe(this._key,"binary",this.charset),pe(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc);this._state="key";this._hitLimit=false;this._checkingBytes=true;this._key="";this._bytesKey=0;this._keyTrunc=false;this.decoder.reset();Se=K+1;if(this._fields===this.fieldsLimit){return B()}}else if(this._hitLimit){if(ye>Se){this._val+=this.decoder.write(w.toString("binary",Se,ye))}Se=ye;if(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit){this._checkingBytes=false;this._valTrunc=true}}else{if(Se<Be){this._val+=this.decoder.write(w.toString("binary",Se))}Se=Be}}}B()};UrlEncoded.prototype.end=function(){if(this.boy._done){return}if(this._state==="key"&&this._key.length>0){this.boy.emit("field",pe(this._key,"binary",this.charset),"",this._keyTrunc,false)}else if(this._state==="val"){this.boy.emit("field",pe(this._key,"binary",this.charset),pe(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc)}this.boy._done=true;this.boy.emit("finish")};w.exports=UrlEncoded},5332:w=>{"use strict";const B=/\+/g;const G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Decoder(){this.buffer=undefined}Decoder.prototype.write=function(w){w=w.replace(B," ");let K="";let pe=0;let ye=0;const Se=w.length;for(;pe<Se;++pe){if(this.buffer!==undefined){if(!G[w.charCodeAt(pe)]){K+="%"+this.buffer;this.buffer=undefined;--pe}else{this.buffer+=w[pe];++ye;if(this.buffer.length===2){K+=String.fromCharCode(parseInt(this.buffer,16));this.buffer=undefined}}}else if(w[pe]==="%"){if(pe>ye){K+=w.substring(ye,pe);ye=pe}this.buffer="";++ye}}if(ye<Se&&this.buffer===undefined){K+=w.substring(ye)}return K};Decoder.prototype.reset=function(){this.buffer=undefined};w.exports=Decoder},1744:w=>{"use strict";w.exports=function basename(w){if(typeof w!=="string"){return""}for(var B=w.length-1;B>=0;--B){switch(w.charCodeAt(B)){case 47:case 92:w=w.slice(B+1);return w===".."||w==="."?"":w}}return w===".."||w==="."?"":w}},7015:function(w){"use strict";const B=new TextDecoder("utf-8");const G=new Map([["utf-8",B],["utf8",B]]);function getDecoder(w){let B;while(true){switch(w){case"utf-8":case"utf8":return K.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return K.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return K.utf16le;case"base64":return K.base64;default:if(B===undefined){B=true;w=w.toLowerCase();continue}return K.other.bind(w)}}}const K={utf8:(w,B)=>{if(w.length===0){return""}if(typeof w==="string"){w=Buffer.from(w,B)}return w.utf8Slice(0,w.length)},latin1:(w,B)=>{if(w.length===0){return""}if(typeof w==="string"){return w}return w.latin1Slice(0,w.length)},utf16le:(w,B)=>{if(w.length===0){return""}if(typeof w==="string"){w=Buffer.from(w,B)}return w.ucs2Slice(0,w.length)},base64:(w,B)=>{if(w.length===0){return""}if(typeof w==="string"){w=Buffer.from(w,B)}return w.base64Slice(0,w.length)},other:(w,B)=>{if(w.length===0){return""}if(typeof w==="string"){w=Buffer.from(w,B)}if(G.has(this.toString())){try{return G.get(this).decode(w)}catch{}}return typeof w==="string"?w:w.toString()}};function decodeText(w,B,G){if(w){return getDecoder(G)(w,B)}return w}w.exports=decodeText},4165:w=>{"use strict";w.exports=function getLimit(w,B,G){if(!w||w[B]===undefined||w[B]===null){return G}if(typeof w[B]!=="number"||isNaN(w[B])){throw new TypeError("Limit "+B+" is not a valid number")}return w[B]}},1493:(w,B,G)=>{"use strict";const K=G(7015);const pe=/%[a-fA-F0-9][a-fA-F0-9]/g;const ye={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"","%08":"\b","%09":"\t","%0a":"\n","%0A":"\n","%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"","%1B":"","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"","%7F":"","%80":"","%81":"","%82":"","%83":"","%84":"","%85":"","%86":"","%87":"","%88":"","%89":"","%8a":"","%8A":"","%8b":"","%8B":"","%8c":"","%8C":"","%8d":"","%8D":"","%8e":"","%8E":"","%8f":"","%8F":"","%90":"","%91":"","%92":"","%93":"","%94":"","%95":"","%96":"","%97":"","%98":"","%99":"","%9a":"","%9A":"","%9b":"","%9B":"","%9c":"","%9C":"","%9d":"","%9D":"","%9e":"","%9E":"","%9f":"","%9F":"","%a0":"","%A0":"","%a1":"","%A1":"","%a2":"","%A2":"","%a3":"","%A3":"","%a4":"","%A4":"","%a5":"","%A5":"","%a6":"","%A6":"","%a7":"","%A7":"","%a8":"","%A8":"","%a9":"","%A9":"","%aa":"","%Aa":"","%aA":"","%AA":"","%ab":"","%Ab":"","%aB":"","%AB":"","%ac":"","%Ac":"","%aC":"","%AC":"","%ad":"","%Ad":"","%aD":"","%AD":"","%ae":"","%Ae":"","%aE":"","%AE":"","%af":"","%Af":"","%aF":"","%AF":"","%b0":"","%B0":"","%b1":"","%B1":"","%b2":"","%B2":"","%b3":"","%B3":"","%b4":"","%B4":"","%b5":"","%B5":"","%b6":"","%B6":"","%b7":"","%B7":"","%b8":"","%B8":"","%b9":"","%B9":"","%ba":"","%Ba":"","%bA":"","%BA":"","%bb":"","%Bb":"","%bB":"","%BB":"","%bc":"","%Bc":"","%bC":"","%BC":"","%bd":"","%Bd":"","%bD":"","%BD":"","%be":"","%Be":"","%bE":"","%BE":"","%bf":"","%Bf":"","%bF":"","%BF":"","%c0":"","%C0":"","%c1":"","%C1":"","%c2":"","%C2":"","%c3":"","%C3":"","%c4":"","%C4":"","%c5":"","%C5":"","%c6":"","%C6":"","%c7":"","%C7":"","%c8":"","%C8":"","%c9":"","%C9":"","%ca":"","%Ca":"","%cA":"","%CA":"","%cb":"","%Cb":"","%cB":"","%CB":"","%cc":"","%Cc":"","%cC":"","%CC":"","%cd":"","%Cd":"","%cD":"","%CD":"","%ce":"","%Ce":"","%cE":"","%CE":"","%cf":"","%Cf":"","%cF":"","%CF":"","%d0":"","%D0":"","%d1":"","%D1":"","%d2":"","%D2":"","%d3":"","%D3":"","%d4":"","%D4":"","%d5":"","%D5":"","%d6":"","%D6":"","%d7":"","%D7":"","%d8":"","%D8":"","%d9":"","%D9":"","%da":"","%Da":"","%dA":"","%DA":"","%db":"","%Db":"","%dB":"","%DB":"","%dc":"","%Dc":"","%dC":"","%DC":"","%dd":"","%Dd":"","%dD":"","%DD":"","%de":"","%De":"","%dE":"","%DE":"","%df":"","%Df":"","%dF":"","%DF":"","%e0":"","%E0":"","%e1":"","%E1":"","%e2":"","%E2":"","%e3":"","%E3":"","%e4":"","%E4":"","%e5":"","%E5":"","%e6":"","%E6":"","%e7":"","%E7":"","%e8":"","%E8":"","%e9":"","%E9":"","%ea":"","%Ea":"","%eA":"","%EA":"","%eb":"","%Eb":"","%eB":"","%EB":"","%ec":"","%Ec":"","%eC":"","%EC":"","%ed":"","%Ed":"","%eD":"","%ED":"","%ee":"","%Ee":"","%eE":"","%EE":"","%ef":"","%Ef":"","%eF":"","%EF":"","%f0":"","%F0":"","%f1":"","%F1":"","%f2":"","%F2":"","%f3":"","%F3":"","%f4":"","%F4":"","%f5":"","%F5":"","%f6":"","%F6":"","%f7":"","%F7":"","%f8":"","%F8":"","%f9":"","%F9":"","%fa":"","%Fa":"","%fA":"","%FA":"","%fb":"","%Fb":"","%fB":"","%FB":"","%fc":"","%Fc":"","%fC":"","%FC":"","%fd":"","%Fd":"","%fD":"","%FD":"","%fe":"","%Fe":"","%fE":"","%FE":"","%ff":"","%Ff":"","%fF":"","%FF":""};function encodedReplacer(w){return ye[w]}const Se=0;const Be=1;const Qe=2;const Pe=3;function parseParams(w){const B=[];let G=Se;let ye="";let Fe=false;let Me=false;let Le=0;let je="";const qe=w.length;for(var We=0;We<qe;++We){const qe=w[We];if(qe==="\\"&&Fe){if(Me){Me=false}else{Me=true;continue}}else if(qe==='"'){if(!Me){if(Fe){Fe=false;G=Se}else{Fe=true}continue}else{Me=false}}else{if(Me&&Fe){je+="\\"}Me=false;if((G===Qe||G===Pe)&&qe==="'"){if(G===Qe){G=Pe;ye=je.substring(1)}else{G=Be}je="";continue}else if(G===Se&&(qe==="*"||qe==="=")&&B.length){G=qe==="*"?Qe:Be;B[Le]=[je,undefined];je="";continue}else if(!Fe&&qe===";"){G=Se;if(ye){if(je.length){je=K(je.replace(pe,encodedReplacer),"binary",ye)}ye=""}else if(je.length){je=K(je,"binary","utf8")}if(B[Le]===undefined){B[Le]=je}else{B[Le][1]=je}je="";++Le;continue}else if(!Fe&&(qe===" "||qe==="\t")){continue}}je+=qe}if(ye&&je.length){je=K(je.replace(pe,encodedReplacer),"binary",ye)}else if(je){je=K(je,"binary","utf8")}if(B[Le]===undefined){if(je){B[Le]=je}}else{B[Le][1]=je}return B}w.exports=parseParams},7068:w=>{"use strict";w.exports=JSON.parse('{"comment":"Do not edit this file, use utils/roll_browser.js","browsers":[{"name":"chromium","revision":"1194","installByDefault":true,"browserVersion":"141.0.7390.37"},{"name":"chromium-headless-shell","revision":"1194","installByDefault":true,"browserVersion":"141.0.7390.37"},{"name":"chromium-tip-of-tree","revision":"1371","installByDefault":false,"browserVersion":"142.0.7430.0"},{"name":"chromium-tip-of-tree-headless-shell","revision":"1371","installByDefault":false,"browserVersion":"142.0.7430.0"},{"name":"firefox","revision":"1495","installByDefault":true,"browserVersion":"142.0.1"},{"name":"firefox-beta","revision":"1490","installByDefault":false,"browserVersion":"143.0b10"},{"name":"webkit","revision":"2215","installByDefault":true,"revisionOverrides":{"debian11-x64":"2105","debian11-arm64":"2105","mac10.14":"1446","mac10.15":"1616","mac11":"1816","mac11-arm64":"1816","mac12":"2009","mac12-arm64":"2009","mac13":"2140","mac13-arm64":"2140","ubuntu20.04-x64":"2092","ubuntu20.04-arm64":"2092"},"browserVersion":"26.0"},{"name":"ffmpeg","revision":"1011","installByDefault":true,"revisionOverrides":{"mac12":"1010","mac12-arm64":"1010"}},{"name":"winldd","revision":"1007","installByDefault":false},{"name":"android","revision":"1001","installByDefault":false}]}')},1640:w=>{"use strict";w.exports=JSON.parse('{"Blackberry PlayBook":{"userAgent":"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/26.0 Safari/536.2+","viewport":{"width":600,"height":1024},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Blackberry PlayBook landscape":{"userAgent":"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/26.0 Safari/536.2+","viewport":{"width":1024,"height":600},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"BlackBerry Z30":{"userAgent":"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/26.0 Mobile Safari/537.10+","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"BlackBerry Z30 landscape":{"userAgent":"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/26.0 Mobile Safari/537.10+","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note 3":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note 3 landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note II":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note II landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S III":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S III landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/26.0 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S5":{"userAgent":"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S8":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":360,"height":740},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S8 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":740,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S9+":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":320,"height":658},"deviceScaleFactor":4.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S9+ landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":658,"height":320},"deviceScaleFactor":4.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S24":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-S921U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":360,"height":780},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S24 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-S921U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":780,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy A55":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-A556B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":480,"height":1040},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy A55 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-A556B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":1040,"height":480},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S4":{"userAgent":"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","viewport":{"width":712,"height":1138},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","viewport":{"width":1138,"height":712},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S9":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-X710) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","viewport":{"width":640,"height":1024},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S9 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; SM-X710) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","viewport":{"width":1024,"height":640},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"iPad (gen 5)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 5) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 6)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 6) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 7)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":810,"height":1080},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 7) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1080,"height":810},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 11)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/604.1","viewport":{"width":656,"height":944},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 11) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/604.1","viewport":{"width":944,"height":656},"deviceScaleFactor":2.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Mini":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Mini landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Pro 11":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":834,"height":1194},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Pro 11 landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":1194,"height":834},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/14E304 Safari/602.1","viewport":{"width":320,"height":568},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/14E304 Safari/602.1","viewport":{"width":568,"height":320},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE (3rd gen)":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/602.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE (3rd gen) landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/26.0 Mobile/19E241 Safari/602.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone X":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":812},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone X landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/26.0 Mobile/15A372 Safari/604.1","viewport":{"width":812,"height":375},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone XR":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":414,"height":896},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone XR landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","viewport":{"width":896,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":414,"height":715},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":800,"height":364},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":635},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":724,"height":325},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":414,"height":715},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":808,"height":364},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":378},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Mini":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":629},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Mini landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":712,"height":325},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":342},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":342},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Mini":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":629},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Mini landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":712,"height":327},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":378},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":660},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":740},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":659},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":739},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":659},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":739},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 15 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Kindle Fire HDX":{"userAgent":"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true","viewport":{"width":800,"height":1280},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Kindle Fire HDX landscape":{"userAgent":"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true","viewport":{"width":1280,"height":800},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"LG Optimus L70":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":384,"height":640},"deviceScaleFactor":1.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"LG Optimus L70 landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":640,"height":384},"deviceScaleFactor":1.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 550":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 550 landscape":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 950":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":360,"height":640},"deviceScaleFactor":4,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 950 landscape":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":640,"height":360},"deviceScaleFactor":4,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 10":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","viewport":{"width":800,"height":1280},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 10 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","viewport":{"width":1280,"height":800},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 4":{"userAgent":"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":384,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":640,"height":384},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5X":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5X landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6":{"userAgent":"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6P":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6P landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 7":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","viewport":{"width":600,"height":960},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 7 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","viewport":{"width":960,"height":600},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia Lumia 520":{"userAgent":"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)","viewport":{"width":320,"height":533},"deviceScaleFactor":1.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia Lumia 520 landscape":{"userAgent":"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)","viewport":{"width":533,"height":320},"deviceScaleFactor":1.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia N9":{"userAgent":"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13","viewport":{"width":480,"height":854},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Nokia N9 landscape":{"userAgent":"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13","viewport":{"width":854,"height":480},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Pixel 2":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":411,"height":731},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":731,"height":411},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 XL":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":411,"height":823},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 XL landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":823,"height":411},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 3":{"userAgent":"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":393,"height":786},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 3 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":786,"height":393},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4":{"userAgent":"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":353,"height":745},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":745,"height":353},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4a (5G)":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","screen":{"width":412,"height":892},"viewport":{"width":412,"height":765},"deviceScaleFactor":2.63,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4a (5G) landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","screen":{"height":892,"width":412},"viewport":{"width":840,"height":312},"deviceScaleFactor":2.63,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 5":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","screen":{"width":393,"height":851},"viewport":{"width":393,"height":727},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","screen":{"width":851,"height":393},"viewport":{"width":802,"height":293},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 7":{"userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","screen":{"width":412,"height":915},"viewport":{"width":412,"height":839},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 7 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","screen":{"width":915,"height":412},"viewport":{"width":863,"height":360},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Moto G4":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Moto G4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Desktop Chrome HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Edge HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36 Edg/141.0.7390.37","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Firefox HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:142.0.1) Gecko/20100101 Firefox/142.0.1","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"firefox"},"Desktop Safari":{"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0 Safari/605.1.15","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"webkit"},"Desktop Chrome":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Edge":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.37 Safari/537.36 Edg/141.0.7390.37","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Firefox":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:142.0.1) Gecko/20100101 Firefox/142.0.1","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"firefox"}}')},3675:w=>{"use strict";w.exports={rE:"1.56.1"}}};var __webpack_module_cache__={};function __nccwpck_require__(w){var B=__webpack_module_cache__[w];if(B!==undefined){return B.exports}var G=__webpack_module_cache__[w]={exports:{}};var K=true;try{__webpack_modules__[w].call(G.exports,G,G.exports,__nccwpck_require__);K=false}finally{if(K)delete __webpack_module_cache__[w]}return G.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__=__nccwpck_require__(6866);module.exports=__webpack_exports__})();